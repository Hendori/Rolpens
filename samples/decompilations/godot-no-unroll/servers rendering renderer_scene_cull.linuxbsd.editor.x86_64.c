
/* RendererSceneCull::mesh_generate_pipelines(RID, bool) */

void __thiscall
RendererSceneCull::mesh_generate_pipelines
          (RendererSceneCull *this,undefined8 param_2,undefined1 param_3)

{
                    /* WARNING: Could not recover jumptable at 0x0010000e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(this + 8) + 0x18))(*(long **)(this + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::get_pipeline_compilations(RenderingServer::PipelineSource) */

void RendererSceneCull::get_pipeline_compilations(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0010002b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x20))();
  return;
}



/* RendererSceneCull::_scene_particles_set_view_axis(RID, Vector3 const&, Vector3 const&) */

void RendererSceneCull::_scene_particles_set_view_axis
               (undefined8 param_1,undefined8 param_2,undefined8 param_3)

{
                    /* WARNING: Could not recover jumptable at 0x00100051. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*RenderingServerGlobals::particles_storage + 0x160))
            (RenderingServerGlobals::particles_storage,param_1,param_2,param_3,
             *(code **)(*RenderingServerGlobals::particles_storage + 0x160));
  return;
}



/* RendererSceneCull::bake_render_uv2(RID, TypedArray<RID> const&, Vector2i const&) */

undefined8 RendererSceneCull::bake_render_uv2(undefined8 param_1,long param_2)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  (**(code **)(**(long **)(param_2 + 8) + 0x188))();
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::set_physics_interpolation_enabled(bool) */

void __thiscall
RendererSceneCull::set_physics_interpolation_enabled(RendererSceneCull *this,bool param_1)

{
  this[0xb590] = (RendererSceneCull)param_1;
  return;
}



/* RendererSceneCull::camera_set_perspective(RID, float, float, float) */

void __thiscall
RendererSceneCull::camera_set_perspective
          (undefined4 param_1,undefined4 param_2,undefined4 param_3,RendererSceneCull *this,
          ulong param_5)

{
  undefined4 *puVar1;
  
  if ((param_5 != 0) && ((uint)param_5 < *(uint *)(this + 0x34))) {
    puVar1 = (undefined4 *)
             (*(long *)(*(long *)(this + 0x20) +
                       ((param_5 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
             ((param_5 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78);
    if (puVar1[0x1c] == (int)(param_5 >> 0x20)) {
      *puVar1 = 0;
      *(ulong *)(puVar1 + 1) = CONCAT44(param_2,param_1);
      puVar1[3] = param_3;
      return;
    }
    if (puVar1[0x1c] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_perspective","servers/rendering/renderer_scene_cull.cpp",0x53,
                   "Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_orthogonal(RID, float, float, float) */

void __thiscall
RendererSceneCull::camera_set_orthogonal
          (undefined4 param_1,undefined4 param_2,undefined4 param_3,RendererSceneCull *this,
          ulong param_5)

{
  undefined4 *puVar1;
  
  if ((param_5 != 0) && ((uint)param_5 < *(uint *)(this + 0x34))) {
    puVar1 = (undefined4 *)
             (*(long *)(*(long *)(this + 0x20) +
                       ((param_5 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
             ((param_5 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78);
    if (puVar1[0x1c] == (int)(param_5 >> 0x20)) {
      *puVar1 = 1;
      puVar1[4] = param_1;
      *(ulong *)(puVar1 + 2) = CONCAT44(param_3,param_2);
      return;
    }
    if (puVar1[0x1c] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_orthogonal","servers/rendering/renderer_scene_cull.cpp",0x5c,
                   "Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_frustum(RID, float, Vector2, float, float) */

void __thiscall
RendererSceneCull::camera_set_frustum
          (undefined4 param_1,undefined8 param_2,undefined4 param_3,undefined4 param_4,
          RendererSceneCull *this,ulong param_6)

{
  undefined4 *puVar1;
  
  if ((param_6 != 0) && ((uint)param_6 < *(uint *)(this + 0x34))) {
    puVar1 = (undefined4 *)
             (*(long *)(*(long *)(this + 0x20) +
                       ((param_6 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
             ((param_6 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78);
    if (puVar1[0x1c] == (int)(param_6 >> 0x20)) {
      *puVar1 = 2;
      puVar1[4] = param_1;
      *(undefined8 *)(puVar1 + 5) = param_2;
      *(ulong *)(puVar1 + 2) = CONCAT44(param_4,param_3);
      return;
    }
    if (puVar1[0x1c] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_frustum","servers/rendering/renderer_scene_cull.cpp",0x65,
                   "Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_cull_mask(RID, unsigned int) */

void __thiscall
RendererSceneCull::camera_set_cull_mask(RendererSceneCull *this,ulong param_2,undefined4 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    lVar1 = *(long *)(*(long *)(this + 0x20) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
    iVar2 = *(int *)(lVar1 + 0x70);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined4 *)(lVar1 + 0x1c) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_cull_mask","servers/rendering/renderer_scene_cull.cpp",0x76,
                   "Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_environment(RID, RID) */

void __thiscall
RendererSceneCull::camera_set_environment(RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    lVar1 = *(long *)(*(long *)(this + 0x20) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
    iVar2 = *(int *)(lVar1 + 0x70);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar1 + 0x28) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_environment","servers/rendering/renderer_scene_cull.cpp",0x7d,
                   "Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_camera_attributes(RID, RID) */

void __thiscall
RendererSceneCull::camera_set_camera_attributes
          (RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    lVar1 = *(long *)(*(long *)(this + 0x20) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
    iVar2 = *(int *)(lVar1 + 0x70);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar1 + 0x30) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_camera_attributes","servers/rendering/renderer_scene_cull.cpp",0x83,
                   "Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_compositor(RID, RID) */

void __thiscall
RendererSceneCull::camera_set_compositor(RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    lVar1 = *(long *)(*(long *)(this + 0x20) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
    iVar2 = *(int *)(lVar1 + 0x70);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar1 + 0x38) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_compositor","servers/rendering/renderer_scene_cull.cpp",0x89,
                   "Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_use_vertical_aspect(RID, bool) */

void __thiscall
RendererSceneCull::camera_set_use_vertical_aspect
          (RendererSceneCull *this,ulong param_2,undefined1 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    lVar1 = *(long *)(*(long *)(this + 0x20) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
    iVar2 = *(int *)(lVar1 + 0x70);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined1 *)(lVar1 + 0x20) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("camera_set_use_vertical_aspect","servers/rendering/renderer_scene_cull.cpp",0x8f
                   ,"Parameter \"camera\" is null.",0,0);
  return;
}



/* RendererSceneCull::scenario_set_environment(RID, RID) */

void __thiscall
RendererSceneCull::scenario_set_environment
          (RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    iVar2 = *(int *)(lVar1 + 0x240);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar1 + 0x110) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("scenario_set_environment","servers/rendering/renderer_scene_cull.cpp",0x1a1,
                   "Parameter \"scenario\" is null.",0,0);
  return;
}



/* RendererSceneCull::scenario_set_camera_attributes(RID, RID) */

void __thiscall
RendererSceneCull::scenario_set_camera_attributes
          (RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    iVar2 = *(int *)(lVar1 + 0x240);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar1 + 0x120) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("scenario_set_camera_attributes","servers/rendering/renderer_scene_cull.cpp",
                   0x1a7,"Parameter \"scenario\" is null.",0,0);
  return;
}



/* RendererSceneCull::scenario_set_compositor(RID, RID) */

void __thiscall
RendererSceneCull::scenario_set_compositor(RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    iVar2 = *(int *)(lVar1 + 0x240);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar1 + 0x128) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("scenario_set_compositor","servers/rendering/renderer_scene_cull.cpp",0x1ad,
                   "Parameter \"scenario\" is null.",0,0);
  return;
}



/* RendererSceneCull::scenario_set_fallback_environment(RID, RID) */

void __thiscall
RendererSceneCull::scenario_set_fallback_environment
          (RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    iVar2 = *(int *)(lVar1 + 0x240);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar1 + 0x118) = param_3;
      return;
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("scenario_set_fallback_environment","servers/rendering/renderer_scene_cull.cpp",
                   0x1b3,"Parameter \"scenario\" is null.",0,0);
  return;
}



/* RendererSceneCull::scenario_set_reflection_atlas_size(RID, int, int) */

void RendererSceneCull::scenario_set_reflection_atlas_size
               (long param_1,ulong param_2,undefined4 param_3)

{
  long lVar1;
  int iVar2;
  
  if (param_2 != 0) {
    if ((uint)param_2 < *(uint *)(param_1 + 0x1bc)) {
      lVar1 = *(long *)(*(long *)(param_1 + 0x1a8) +
                       ((param_2 & 0xffffffff) / (ulong)*(uint *)(param_1 + 0x1b8)) * 8) +
              ((param_2 & 0xffffffff) % (ulong)*(uint *)(param_1 + 0x1b8)) * 0x248;
      iVar2 = *(int *)(lVar1 + 0x240);
      if (iVar2 == (int)(param_2 >> 0x20)) {
                    /* WARNING: Could not recover jumptable at 0x00100b5a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (**(code **)(*RenderingServerGlobals::light_storage + 0x270))
                  (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar1 + 0x138),param_3);
        return;
      }
      if (iVar2 + 0x80000000U < 0x7fffffff) {
        _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                         "Method/function failed. Returning: nullptr",
                         "Attempting to use an uninitialized RID",0,0);
      }
    }
  }
  _err_print_error("scenario_set_reflection_atlas_size","servers/rendering/renderer_scene_cull.cpp",
                   0x1b9,"Parameter \"scenario\" is null.",0,0);
  return;
}



/* RendererSceneCull::scenario_get_environment(RID) */

undefined8 __thiscall
RendererSceneCull::scenario_get_environment(RendererSceneCull *this,ulong param_2)

{
  long lVar1;
  int iVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    iVar2 = *(int *)(lVar1 + 0x240);
    if (iVar2 == (int)(param_2 >> 0x20)) {
      return *(undefined8 *)(lVar1 + 0x110);
    }
    if (iVar2 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("scenario_get_environment","servers/rendering/renderer_scene_cull.cpp",0x1c3,
                   "Parameter \"scenario\" is null.",0,0);
  return 0;
}



/* RendererSceneCull::instance_set_pivot_data(RID, float, bool) */

void __thiscall
RendererSceneCull::instance_set_pivot_data
          (uint param_1,RendererSceneCull *this,ulong param_3,undefined1 param_4)

{
  long *plVar1;
  uint *puVar2;
  
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(this + 0x97ec))) {
    puVar2 = (uint *)(((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(this + 0x97d8) +
                              ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (puVar2[0xc0] == (uint)(param_3 >> 0x20)) {
      *(undefined1 *)(puVar2 + 0x9d) = param_4;
      puVar2[0x9c] = param_1;
      if ((0xeU >> (*puVar2 & 0x1f) & 1) == 0) {
        if ((*puVar2 == 7) && (*(long *)(puVar2 + 0xa6) != 0)) {
                    /* WARNING: Could not recover jumptable at 0x00100d85. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*RenderingServerGlobals::texture_storage + 0x1e0))
                    (RenderingServerGlobals::texture_storage,
                     *(undefined8 *)(*(long *)(puVar2 + 0xa6) + 0x10));
          return;
        }
      }
      else if (*(long *)(puVar2 + 0xa6) != 0) {
        plVar1 = *(long **)(*(long *)(puVar2 + 0xa6) + 8);
        if (plVar1 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00100d47. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*plVar1 + 0x48))(plVar1,param_4);
          return;
        }
        _err_print_error("instance_set_pivot_data","servers/rendering/renderer_scene_cull.cpp",0x397
                         ,"Parameter \"geom->geometry_instance\" is null.",0,0);
        return;
      }
      return;
    }
    if (puVar2[0xc0] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_set_pivot_data","servers/rendering/renderer_scene_cull.cpp",0x390,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_geometry_set_transparency(RID, float) */

void __thiscall
RendererSceneCull::instance_geometry_set_transparency
          (uint param_1,RendererSceneCull *this,ulong param_3)

{
  long *plVar1;
  uint *puVar2;
  
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(this + 0x97ec))) {
    puVar2 = (uint *)(((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(this + 0x97d8) +
                              ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (puVar2[0xc0] == (uint)(param_3 >> 0x20)) {
      puVar2[0x81] = param_1;
      if (((0xeU >> (*puVar2 & 0x1f) & 1) != 0) && (*(long *)(puVar2 + 0xa6) != 0)) {
        plVar1 = *(long **)(*(long *)(puVar2 + 0xa6) + 8);
        if (plVar1 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00100eaf. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*plVar1 + 0x70))();
          return;
        }
        _err_print_error("instance_geometry_set_transparency",
                         "servers/rendering/renderer_scene_cull.cpp",0x3a7,
                         "Parameter \"geom->geometry_instance\" is null.",0,0);
        return;
      }
      return;
    }
    if (puVar2[0xc0] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_set_transparency","servers/rendering/renderer_scene_cull.cpp",
                   0x3a1,"Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_set_interpolated(RID, bool) */

void __thiscall
RendererSceneCull::instance_set_interpolated(RendererSceneCull *this,ulong param_2,byte param_3)

{
  long lVar1;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    lVar1 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    if (*(int *)(lVar1 + 0x300) == (int)(param_2 >> 0x20)) {
      *(byte *)(lVar1 + 0xe1) = param_3 & 1 | *(byte *)(lVar1 + 0xe1) & 0xfe;
      return;
    }
    if (*(int *)(lVar1 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_set_interpolated","servers/rendering/renderer_scene_cull.cpp",0x40f,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_reset_physics_interpolation(RID) */

void __thiscall
RendererSceneCull::instance_reset_physics_interpolation(RendererSceneCull *this,ulong param_2)

{
  long lVar1;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    lVar1 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    if (*(int *)(lVar1 + 0x300) == (int)(param_2 >> 0x20)) {
      if ((this[0xb590] != (RendererSceneCull)0x0) && ((*(byte *)(lVar1 + 0xe1) & 1) != 0)) {
        *(undefined8 *)(lVar1 + 0x90) = *(undefined8 *)(lVar1 + 0x60);
        *(undefined8 *)(lVar1 + 0x98) = *(undefined8 *)(lVar1 + 0x68);
        *(undefined8 *)(lVar1 + 0xa0) = *(undefined8 *)(lVar1 + 0x70);
        *(undefined8 *)(lVar1 + 0xa8) = *(undefined8 *)(lVar1 + 0x78);
        *(undefined8 *)(lVar1 + 0xb0) = *(undefined8 *)(lVar1 + 0x80);
        *(undefined8 *)(lVar1 + 0xb8) = *(undefined8 *)(lVar1 + 0x88);
        *(undefined4 *)(lVar1 + 0xe8) = *(undefined4 *)(lVar1 + 0xe4);
      }
      return;
    }
    if (*(int *)(lVar1 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_reset_physics_interpolation",
                   "servers/rendering/renderer_scene_cull.cpp",0x415,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_attach_object_instance_id(RID, ObjectID) */

void __thiscall
RendererSceneCull::instance_attach_object_instance_id
          (RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  int iVar1;
  long lVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    lVar2 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    iVar1 = *(int *)(lVar2 + 0x300);
    if (iVar1 == (int)(param_2 >> 0x20)) {
      *(undefined8 *)(lVar2 + 0x268) = param_3;
      return;
    }
    if (iVar1 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_attach_object_instance_id","servers/rendering/renderer_scene_cull.cpp",
                   0x424,"Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_geometry_set_lod_bias(RID, float) */

void __thiscall
RendererSceneCull::instance_geometry_set_lod_bias
          (uint param_1,RendererSceneCull *this,ulong param_3)

{
  long *plVar1;
  uint *puVar2;
  
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(this + 0x97ec))) {
    puVar2 = (uint *)(((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(this + 0x97d8) +
                              ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (puVar2[0xc0] == (uint)(param_3 >> 0x20)) {
      puVar2[0x30] = param_1;
      if (((0xeU >> (*puVar2 & 0x1f) & 1) != 0) && (*(long *)(puVar2 + 0xa6) != 0)) {
        plVar1 = *(long **)(*(long *)(puVar2 + 0xa6) + 8);
        if (plVar1 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x0010129f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*plVar1 + 0x50))();
          return;
        }
        _err_print_error("instance_geometry_set_lod_bias",
                         "servers/rendering/renderer_scene_cull.cpp",0x65a,
                         "Parameter \"geom->geometry_instance\" is null.",0,0);
        return;
      }
      return;
    }
    if (puVar2[0xc0] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_set_lod_bias","servers/rendering/renderer_scene_cull.cpp",
                   0x654,"Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::camera_set_transform(RID, Transform3D const&) */

void RendererSceneCull::camera_set_transform(long param_1,ulong param_2)

{
  long lVar1;
  long lVar2;
  long in_FS_OFFSET;
  undefined8 local_48;
  undefined8 uStack_40;
  undefined8 local_38;
  undefined8 uStack_30;
  undefined8 local_28;
  undefined8 uStack_20;
  
  lVar2 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_2 != 0) {
    if ((uint)param_2 < *(uint *)(param_1 + 0x34)) {
      lVar1 = *(long *)(*(long *)(param_1 + 0x20) +
                       ((param_2 & 0xffffffff) / (ulong)*(uint *)(param_1 + 0x30)) * 8) +
              ((param_2 & 0xffffffff) % (ulong)*(uint *)(param_1 + 0x30)) * 0x78;
      if (*(int *)(lVar1 + 0x70) == (int)(param_2 >> 0x20)) {
        Transform3D::orthonormalized();
        *(undefined8 *)(lVar1 + 0x40) = local_48;
        *(undefined8 *)(lVar1 + 0x48) = uStack_40;
        *(undefined8 *)(lVar1 + 0x50) = local_38;
        *(undefined8 *)(lVar1 + 0x58) = uStack_30;
        *(undefined8 *)(lVar1 + 0x60) = local_28;
        *(undefined8 *)(lVar1 + 0x68) = uStack_20;
        if (lVar2 == *(long *)(in_FS_OFFSET + 0x28)) {
          return;
        }
        goto LAB_00101473;
      }
      if (*(int *)(lVar1 + 0x70) + 0x80000000U < 0x7fffffff) {
        _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                         "Method/function failed. Returning: nullptr",
                         "Attempting to use an uninitialized RID",0,0);
      }
    }
  }
  if (lVar2 == *(long *)(in_FS_OFFSET + 0x28)) {
    _err_print_error("camera_set_transform","servers/rendering/renderer_scene_cull.cpp",0x6f,
                     "Parameter \"camera\" is null.",0,0);
    return;
  }
LAB_00101473:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::instance_set_ignore_culling(RID, bool) */

void __thiscall
RendererSceneCull::instance_set_ignore_culling(RendererSceneCull *this,ulong param_2,char param_3)

{
  uint uVar1;
  long lVar2;
  code *pcVar3;
  uint *puVar4;
  uint uVar5;
  long lVar6;
  ulong uVar7;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    lVar6 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    if (*(int *)(lVar6 + 0x300) == (int)(param_2 >> 0x20)) {
      lVar2 = *(long *)(lVar6 + 0x208);
      *(char *)(lVar6 + 0xc5) = param_3;
      if ((lVar2 != 0) && (uVar1 = *(uint *)(lVar6 + 0x1b0), -1 < (int)uVar1)) {
        uVar7 = (ulong)(int)uVar1;
        if (*(ulong *)(lVar2 + 0x1f0) <= uVar7) {
          _err_print_index_error
                    ("operator[]","./core/templates/paged_array.h",0xb0,uVar7,
                     *(ulong *)(lVar2 + 0x1f0),"p_index","count","",false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar3 = (code *)invalidInstructionException();
          (*pcVar3)();
        }
        puVar4 = (uint *)((ulong)(uVar1 & *(uint *)(lVar2 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar2 + 0x1d0) +
                                  (uVar7 >> ((byte)*(undefined4 *)(lVar2 + 0x1e4) & 0x3f)) * 8));
        uVar1 = *puVar4;
        uVar5 = uVar1 | 0x1000000;
        if (param_3 == '\0') {
          uVar5 = uVar1 & 0xfeffffff;
        }
        *puVar4 = uVar5;
      }
      return;
    }
    if (*(int *)(lVar6 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_set_ignore_culling","servers/rendering/renderer_scene_cull.cpp",0x4c7,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_set_layer_mask(RID, unsigned int) */

void __thiscall
RendererSceneCull::instance_set_layer_mask(RendererSceneCull *this,ulong param_2,uint param_3)

{
  uint uVar1;
  int iVar2;
  long lVar3;
  code *pcVar4;
  int iVar5;
  long *plVar6;
  uint *puVar7;
  ulong uVar8;
  
  if (param_2 != 0) {
    if ((uint)param_2 < *(uint *)(this + 0x97ec)) {
      puVar7 = (uint *)(((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                       *(long *)(*(long *)(this + 0x97d8) +
                                ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
      if (puVar7[0xc0] == (uint)(param_2 >> 0x20)) {
        if (puVar7[0x37] != param_3) {
          lVar3 = *(long *)(puVar7 + 0x82);
          puVar7[0x37] = param_3;
          if ((lVar3 != 0) && (uVar1 = puVar7[0x6c], -1 < (int)uVar1)) {
            uVar8 = (ulong)(int)uVar1;
            if (*(ulong *)(lVar3 + 0x1f0) <= uVar8) {
              _err_print_index_error
                        ("operator[]","./core/templates/paged_array.h",0xb0,uVar8,
                         *(ulong *)(lVar3 + 0x1f0),"p_index","count","",false,true);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar4 = (code *)invalidInstructionException();
              (*pcVar4)();
            }
            *(uint *)((ulong)(uVar1 & *(uint *)(lVar3 + 0x1e8)) * 0x30 +
                      *(long *)(*(long *)(lVar3 + 0x1d0) +
                               (uVar8 >> ((byte)*(undefined4 *)(lVar3 + 0x1e4) & 0x3f)) * 8) + 4) =
                 param_3;
          }
          if (((0xeU >> (*puVar7 & 0x1f) & 1) != 0) &&
             (lVar3 = *(long *)(puVar7 + 0xa6), lVar3 != 0)) {
            plVar6 = *(long **)(lVar3 + 8);
            if (plVar6 == (long *)0x0) {
              _err_print_error("instance_set_layer_mask","servers/rendering/renderer_scene_cull.cpp"
                               ,0x382,"Parameter \"geom->geometry_instance\" is null.",0,0);
              return;
            }
            (**(code **)(*plVar6 + 0x58))(plVar6,param_3);
            if ((*(char *)(lVar3 + 0x38) != '\0') && (iVar2 = *(int *)(lVar3 + 0x34), iVar2 != 0)) {
              plVar6 = *(long **)(lVar3 + 0x10);
              iVar5 = 0;
              while( true ) {
                iVar5 = iVar5 + 1;
                *(uint *)(*(long *)(*plVar6 + 0x298) + 0x60) =
                     2 - (uint)*(byte *)(*(long *)(*plVar6 + 0x298) + 0x68);
                if (iVar2 <= iVar5) break;
                plVar6 = plVar6 + 1;
              }
            }
          }
        }
        return;
      }
      if (puVar7[0xc0] + 0x80000000 < 0x7fffffff) {
        _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                         "Method/function failed. Returning: nullptr",
                         "Attempting to use an uninitialized RID",0,0);
      }
    }
  }
  _err_print_error("instance_set_layer_mask","servers/rendering/renderer_scene_cull.cpp",0x375,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_geometry_set_shader_parameter(RID, StringName const&, Variant const&)
    */

void RendererSceneCull::instance_geometry_set_shader_parameter
               (long param_1,ulong param_2,undefined8 param_3)

{
  long lVar1;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(param_1 + 0x97ec))) {
    lVar1 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(param_1 + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(param_1 + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(param_1 + 0x97e8)) * 8);
    if (*(int *)(lVar1 + 0x300) == (int)(param_2 >> 0x20)) {
      InstanceUniforms::set(lVar1 + 0x168,*(undefined8 *)(lVar1 + 0x1a0),param_3);
      return;
    }
    if (*(int *)(lVar1 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_set_shader_parameter",
                   "servers/rendering/renderer_scene_cull.cpp",0x661,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_geometry_get_shader_parameter(RID, StringName const&) const */

RendererSceneCull * __thiscall
RendererSceneCull::instance_geometry_get_shader_parameter
          (RendererSceneCull *this,long param_2,ulong param_3)

{
  int iVar1;
  long lVar2;
  long in_FS_OFFSET;
  
  lVar2 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(param_2 + 0x97ec))) {
    iVar1 = *(int *)(((param_3 & 0xffffffff) % (ulong)*(uint *)(param_2 + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(param_2 + 0x97d8) +
                              ((param_3 & 0xffffffff) / (ulong)*(uint *)(param_2 + 0x97e8)) * 8) +
                    0x300);
    if (iVar1 == (int)(param_3 >> 0x20)) {
      InstanceUniforms::get((StringName *)this);
      goto LAB_0010194c;
    }
    if (iVar1 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_get_shader_parameter",
                   "servers/rendering/renderer_scene_cull.cpp",0x668,
                   "Parameter \"instance\" is null.",0,0);
  *(undefined4 *)this = 0;
  *(undefined1 (*) [16])(this + 8) = (undefined1  [16])0x0;
LAB_0010194c:
  if (lVar2 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::instance_geometry_get_shader_parameter_default_value(RID, StringName const&)
   const */

RendererSceneCull * __thiscall
RendererSceneCull::instance_geometry_get_shader_parameter_default_value
          (RendererSceneCull *this,long param_2,ulong param_3)

{
  int iVar1;
  long lVar2;
  long in_FS_OFFSET;
  
  lVar2 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(param_2 + 0x97ec))) {
    iVar1 = *(int *)(((param_3 & 0xffffffff) % (ulong)*(uint *)(param_2 + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(param_2 + 0x97d8) +
                              ((param_3 & 0xffffffff) / (ulong)*(uint *)(param_2 + 0x97e8)) * 8) +
                    0x300);
    if (iVar1 == (int)(param_3 >> 0x20)) {
      InstanceUniforms::get_default((StringName *)this);
      goto LAB_00101a5c;
    }
    if (iVar1 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_get_shader_parameter_default_value",
                   "servers/rendering/renderer_scene_cull.cpp",0x66f,
                   "Parameter \"instance\" is null.",0,0);
  *(undefined4 *)this = 0;
  *(undefined1 (*) [16])(this + 8) = (undefined1  [16])0x0;
LAB_00101a5c:
  if (lVar2 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::tick() */

void __thiscall RendererSceneCull::tick(RendererSceneCull *this)

{
  if (this[0xb590] != (RendererSceneCull)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00101b1c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    (**(code **)(*(long *)this + 0x6d0))(this,1);
    return;
  }
  return;
}



/* LocalVector<Vector2, unsigned int, false, false>::resize(unsigned int) [clone .part.0] */

void LocalVector<Vector2,unsigned_int,false,false>::resize(uint param_1)

{
  code *pcVar1;
  
  _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                   "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<ObjectID>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<ObjectID>::_copy_on_write(CowData<ObjectID> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 8;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_copy_on_write() [clone .isra.0] */

void __thiscall
CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_copy_on_write
          (CowData<RendererSceneCull::InstanceVoxelGIData::LightCache> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  size_t __n;
  ulong uVar5;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 0x68;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* HashMap<DependencyTracker*, unsigned int, HashMapHasherDefault,
   HashMapComparatorDefault<DependencyTracker*>,
   DefaultTypedAllocator<HashMapElement<DependencyTracker*, unsigned int> >
   >::erase(DependencyTracker* const&) [clone .isra.0] */

void __thiscall
HashMap<DependencyTracker*,unsigned_int,HashMapHasherDefault,HashMapComparatorDefault<DependencyTracker*>,DefaultTypedAllocator<HashMapElement<DependencyTracker*,unsigned_int>>>
::erase(HashMap<DependencyTracker*,unsigned_int,HashMapHasherDefault,HashMapComparatorDefault<DependencyTracker*>,DefaultTypedAllocator<HashMapElement<DependencyTracker*,unsigned_int>>>
        *this,DependencyTracker **param_1)

{
  uint *puVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  long *plVar4;
  uint uVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  undefined8 uVar9;
  long *plVar10;
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  ulong uVar29;
  uint uVar30;
  ulong uVar31;
  ulong uVar32;
  ulong uVar33;
  long *plVar34;
  ulong uVar35;
  uint uVar36;
  uint uVar37;
  uint *puVar38;
  
  lVar6 = *(long *)(this + 8);
  if ((lVar6 != 0) && (*(int *)(this + 0x2c) != 0)) {
    lVar7 = *(long *)(this + 0x10);
    uVar5 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    uVar35 = CONCAT44(0,uVar5);
    lVar8 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
    uVar29 = (long)*param_1 * 0x3ffff - 1;
    uVar29 = (uVar29 ^ uVar29 >> 0x1f) * 0x15;
    uVar29 = (uVar29 ^ uVar29 >> 0xb) * 0x41;
    uVar29 = uVar29 >> 0x16 ^ uVar29;
    uVar32 = uVar29 & 0xffffffff;
    if ((int)uVar29 == 0) {
      uVar32 = 1;
    }
    auVar11._8_8_ = 0;
    auVar11._0_8_ = uVar32 * lVar8;
    auVar20._8_8_ = 0;
    auVar20._0_8_ = uVar35;
    uVar29 = SUB168(auVar11 * auVar20,8);
    uVar37 = *(uint *)(lVar7 + uVar29 * 4);
    uVar33 = (ulong)SUB164(auVar11 * auVar20,8);
    if (uVar37 != 0) {
      uVar36 = 0;
      do {
        auVar14._8_8_ = 0;
        auVar14._0_8_ = (ulong)((int)uVar33 + 1) * lVar8;
        auVar23._8_8_ = 0;
        auVar23._0_8_ = uVar35;
        uVar31 = SUB168(auVar14 * auVar23,8);
        uVar30 = SUB164(auVar14 * auVar23,8);
        if (((uint)uVar32 == uVar37) &&
           (*param_1 == *(DependencyTracker **)(*(long *)(lVar6 + uVar29 * 8) + 0x10))) {
          puVar38 = (uint *)(lVar7 + uVar31 * 4);
          uVar37 = *puVar38;
          if ((uVar37 != 0) &&
             (auVar15._8_8_ = 0, auVar15._0_8_ = (ulong)uVar37 * lVar8, auVar24._8_8_ = 0,
             auVar24._0_8_ = uVar35, auVar16._8_8_ = 0,
             auVar16._0_8_ = (ulong)((uVar30 + uVar5) - SUB164(auVar15 * auVar24,8)) * lVar8,
             auVar25._8_8_ = 0, auVar25._0_8_ = uVar35, uVar29 = (ulong)uVar30, uVar32 = uVar33,
             SUB164(auVar16 * auVar25,8) != 0)) {
            while( true ) {
              uVar33 = uVar29;
              puVar1 = (uint *)(lVar7 + uVar32 * 4);
              *puVar38 = *puVar1;
              puVar2 = (undefined8 *)(lVar6 + uVar31 * 8);
              *puVar1 = uVar37;
              puVar3 = (undefined8 *)(lVar6 + uVar32 * 8);
              uVar9 = *puVar2;
              *puVar2 = *puVar3;
              *puVar3 = uVar9;
              auVar19._8_8_ = 0;
              auVar19._0_8_ = (ulong)((int)uVar33 + 1) * lVar8;
              auVar28._8_8_ = 0;
              auVar28._0_8_ = uVar35;
              uVar31 = SUB168(auVar19 * auVar28,8);
              puVar38 = (uint *)(lVar7 + uVar31 * 4);
              uVar37 = *puVar38;
              if ((uVar37 == 0) ||
                 (auVar17._8_8_ = 0, auVar17._0_8_ = (ulong)uVar37 * lVar8, auVar26._8_8_ = 0,
                 auVar26._0_8_ = uVar35, auVar18._8_8_ = 0,
                 auVar18._0_8_ =
                      (ulong)((SUB164(auVar19 * auVar28,8) + uVar5) - SUB164(auVar17 * auVar26,8)) *
                      lVar8, auVar27._8_8_ = 0, auVar27._0_8_ = uVar35,
                 SUB164(auVar18 * auVar27,8) == 0)) break;
              uVar29 = uVar31 & 0xffffffff;
              uVar32 = uVar33;
            }
          }
          plVar4 = (long *)(lVar6 + uVar33 * 8);
          *(undefined4 *)(lVar7 + uVar33 * 4) = 0;
          plVar34 = (long *)*plVar4;
          if (*(long **)(this + 0x18) == plVar34) {
            *(long *)(this + 0x18) = *plVar34;
            plVar34 = (long *)*plVar4;
            if (*(long **)(this + 0x20) != plVar34) goto LAB_00101f99;
          }
          else if (*(long **)(this + 0x20) != plVar34) {
LAB_00101f99:
            plVar10 = (long *)plVar34[1];
            goto joined_r0x00101fa0;
          }
          *(long *)(this + 0x20) = plVar34[1];
          plVar34 = (long *)*plVar4;
          plVar10 = (long *)plVar34[1];
joined_r0x00101fa0:
          if (plVar10 != (long *)0x0) {
            *plVar10 = *plVar34;
            plVar34 = (long *)*plVar4;
          }
          if (*plVar34 != 0) {
            *(long *)(*plVar34 + 8) = plVar34[1];
            plVar34 = (long *)*plVar4;
          }
          Memory::free_static(plVar34,false);
          *(undefined8 *)(*(long *)(this + 8) + uVar33 * 8) = 0;
          *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + -1;
          return;
        }
        uVar37 = *(uint *)(lVar7 + uVar31 * 4);
        uVar33 = uVar31 & 0xffffffff;
        uVar36 = uVar36 + 1;
      } while ((uVar37 != 0) &&
              (auVar12._8_8_ = 0, auVar12._0_8_ = (ulong)uVar37 * lVar8, auVar21._8_8_ = 0,
              auVar21._0_8_ = uVar35, auVar13._8_8_ = 0,
              auVar13._0_8_ = (ulong)((uVar5 + uVar30) - SUB164(auVar12 * auVar21,8)) * lVar8,
              auVar22._8_8_ = 0, auVar22._0_8_ = uVar35, uVar29 = uVar31,
              uVar36 <= SUB164(auVar13 * auVar22,8)));
    }
  }
  return;
}



/* RendererSceneCull::occluder_initialize(RID) */

void RendererSceneCull::occluder_initialize(void)

{
  if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x10) ==
      RendererSceneOcclusionCull::occluder_initialize) {
    return;
  }
                    /* WARNING: Could not recover jumptable at 0x00102060. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*RendererSceneOcclusionCull::singleton + 0x10))();
  return;
}



/* RendererSceneCull::occluder_allocate() */

undefined8 RendererSceneCull::occluder_allocate(void)

{
  undefined8 uVar1;
  
  if (*(code **)(*RendererSceneOcclusionCull::singleton + 8) ==
      RendererSceneOcclusionCull::occluder_allocate) {
    return 0;
  }
                    /* WARNING: Could not recover jumptable at 0x00102098. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  uVar1 = (**(code **)(*RendererSceneOcclusionCull::singleton + 8))();
  return uVar1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::camera_initialize(RID) */

void __thiscall RendererSceneCull::camera_initialize(RendererSceneCull *this,ulong param_2)

{
  undefined4 *puVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  uint uVar4;
  char *pcVar5;
  undefined1 auVar6 [16];
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    puVar1 = (undefined4 *)
             (*(long *)(*(long *)(this + 0x20) +
                       ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
             ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78);
    if ((int)puVar1[0x1c] < 0) {
      uVar4 = (uint)(param_2 >> 0x20);
      if (uVar4 == (puVar1[0x1c] & 0x7fffffff)) {
        puVar1[0x1c] = uVar4;
        *(undefined1 (*) [16])(puVar1 + 10) = (undefined1  [16])0x0;
        auVar6 = ZEXT416(_LC55);
        *(undefined1 (*) [16])(puVar1 + 0x10) = auVar6;
        *(undefined1 (*) [16])(puVar1 + 0x14) = auVar6;
        uVar2 = _UNK_00138d28;
        uVar3 = __LC56;
        *(undefined8 *)(puVar1 + 0xe) = 0;
        puVar1[0x18] = 0x3f800000;
        *(undefined8 *)(puVar1 + 0x19) = 0;
        puVar1[0x1b] = 0;
        puVar1[7] = 0xffffffff;
        *puVar1 = 0;
        *(undefined8 *)(puVar1 + 5) = 0;
        *(undefined1 *)(puVar1 + 8) = 0;
        *(undefined8 *)(puVar1 + 1) = uVar3;
        *(undefined8 *)(puVar1 + 3) = uVar2;
        return;
      }
      pcVar5 = "Attempting to initialize the wrong RID";
      uVar3 = 0xfc;
    }
    else {
      pcVar5 = "Initializing already initialized RID";
      uVar3 = 0xf8;
    }
    _err_print_error("get_or_null","./core/templates/rid_owner.h",uVar3,
                     "Method/function failed. Returning: nullptr",pcVar5,0,0);
  }
  _err_print_error("initialize_rid","./core/templates/rid_owner.h",0x114,
                   "Parameter \"mem\" is null.",0,0);
  return;
}



/* RendererSceneCull::is_camera(RID) const */

bool __thiscall RendererSceneCull::is_camera(RendererSceneCull *this,ulong param_2)

{
  pthread_mutex_t *__mutex;
  int iVar1;
  bool bVar2;
  
  __mutex = (pthread_mutex_t *)(this + 0x48);
  iVar1 = pthread_mutex_lock(__mutex);
  if (iVar1 == 0) {
    if ((uint)param_2 < *(uint *)(this + 0x34)) {
      bVar2 = false;
      if (param_2 >> 0x20 != 0x7fffffff) {
        bVar2 = (*(uint *)(*(long *)(*(long *)(this + 0x20) +
                                    ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
                           ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78 + 0x70) &
                0x7fffffff) == (uint)(param_2 >> 0x20);
      }
      pthread_mutex_unlock(__mutex);
    }
    else {
      bVar2 = false;
      pthread_mutex_unlock(__mutex);
    }
    return bVar2;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* RendererSceneCull::is_scenario(RID) const */

bool __thiscall RendererSceneCull::is_scenario(RendererSceneCull *this,ulong param_2)

{
  pthread_mutex_t *__mutex;
  int iVar1;
  bool bVar2;
  
  __mutex = (pthread_mutex_t *)(this + 0x1d0);
  iVar1 = pthread_mutex_lock(__mutex);
  if (iVar1 == 0) {
    if ((uint)param_2 < *(uint *)(this + 0x1bc)) {
      bVar2 = false;
      if (param_2 >> 0x20 != 0x7fffffff) {
        bVar2 = (*(uint *)(*(long *)(*(long *)(this + 0x1a8) +
                                    ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
                           ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248 + 0x240
                          ) & 0x7fffffff) == (uint)(param_2 >> 0x20);
      }
      pthread_mutex_unlock(__mutex);
    }
    else {
      bVar2 = false;
      pthread_mutex_unlock(__mutex);
    }
    return bVar2;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* RendererSceneCull::update_visibility_notifiers() */

void __thiscall RendererSceneCull::update_visibility_notifiers(RendererSceneCull *this)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  long lVar4;
  long *plVar5;
  
  if (*(long **)(this + 0x2c0) != (long *)0x0) {
    plVar5 = *(long **)(this + 0x2c0);
    do {
      while( true ) {
        plVar1 = (long *)plVar5[2];
        lVar2 = plVar5[1];
        if (*(char *)(lVar2 + 8) != '\0') break;
        lVar3 = *(long *)(lVar2 + 0x10);
        lVar4 = (**(code **)(*RenderingServerGlobals::rasterizer + 0x88))();
        if (lVar3 == lVar4) goto LAB_00102384;
        if ((RendererSceneCull *)*plVar5 == this + 0x2c0) {
          lVar3 = plVar5[2];
          if (lVar3 != 0) {
            *(long *)(lVar3 + 0x18) = plVar5[3];
          }
          lVar4 = plVar5[3];
          if (lVar4 != 0) {
            *(long *)(lVar4 + 0x10) = lVar3;
          }
          if (plVar5 == *(long **)(this + 0x2c0)) {
            *(long *)(this + 0x2c0) = plVar5[2];
          }
          if (plVar5 == *(long **)(this + 0x2c8)) {
            *(long *)(this + 0x2c8) = lVar4;
          }
          *plVar5 = 0;
          *(undefined1 (*) [16])(plVar5 + 2) = (undefined1  [16])0x0;
        }
        else {
          _err_print_error("remove","./core/templates/self_list.h",0x50,
                           "Condition \"p_elem->_root != this\" is true.",0,0);
        }
        (**(code **)(*RenderingServerGlobals::utilities + 0x58))
                  (RenderingServerGlobals::utilities,*(undefined8 *)(lVar2 + 0x18),0,
                   (undefined1)RenderingServerGlobals::threaded);
        plVar5 = plVar1;
        if (plVar1 == (long *)0x0) {
          return;
        }
      }
      *(undefined1 *)(lVar2 + 8) = 0;
      (**(code **)(*RenderingServerGlobals::utilities + 0x58))
                (RenderingServerGlobals::utilities,*(undefined8 *)(lVar2 + 0x18),1,
                 (undefined1)RenderingServerGlobals::threaded);
LAB_00102384:
      plVar5 = plVar1;
    } while (plVar1 != (long *)0x0);
  }
  return;
}



/* RendererSceneCull::occluder_set_mesh(RID, Vector<Vector3> const&, Vector<int> const&) */

void RendererSceneCull::occluder_set_mesh(void)

{
  if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x20) !=
      RendererSceneOcclusionCull::occluder_set_mesh) {
                    /* WARNING: Could not recover jumptable at 0x00102500. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    (**(code **)(*RendererSceneOcclusionCull::singleton + 0x20))();
    return;
  }
  if (RendererSceneOcclusionCull::_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  RendererSceneOcclusionCull::_print_warning()::first_print = 0;
  return;
}



/* HashSet<RendererSceneCull::Instance*, HashMapHasherDefault,
   HashMapComparatorDefault<RendererSceneCull::Instance*> >::erase(RendererSceneCull::Instance*
   const&) [clone .isra.0] */

void __thiscall
HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
::erase(HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
        *this,Instance **param_1)

{
  uint *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  uint *puVar4;
  undefined4 uVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  uint uVar31;
  ulong uVar32;
  uint uVar33;
  uint *puVar34;
  int iVar35;
  uint uVar36;
  long lVar37;
  ulong uVar38;
  uint *puVar39;
  ulong uVar40;
  uint *puVar41;
  ulong uVar42;
  ulong uVar43;
  uint uVar44;
  
  lVar6 = *(long *)this;
  if ((lVar6 != 0) && (*(int *)(this + 0x24) != 0)) {
    lVar7 = *(long *)(this + 0x18);
    uVar31 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x20) * 4);
    uVar42 = CONCAT44(0,uVar31);
    lVar8 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x20) * 8);
    uVar32 = (long)*param_1 * 0x3ffff - 1;
    uVar32 = (uVar32 ^ uVar32 >> 0x1f) * 0x15;
    uVar32 = (uVar32 ^ uVar32 >> 0xb) * 0x41;
    uVar32 = uVar32 >> 0x16 ^ uVar32;
    uVar40 = uVar32 & 0xffffffff;
    if ((int)uVar32 == 0) {
      uVar40 = 1;
    }
    auVar11._8_8_ = 0;
    auVar11._0_8_ = uVar40 * lVar8;
    auVar21._8_8_ = 0;
    auVar21._0_8_ = uVar42;
    lVar37 = SUB168(auVar11 * auVar21,8);
    uVar44 = *(uint *)(lVar7 + lVar37 * 4);
    iVar35 = SUB164(auVar11 * auVar21,8);
    if (uVar44 != 0) {
      uVar33 = 0;
      do {
        if ((uint)uVar40 == uVar44) {
          lVar9 = *(long *)(this + 8);
          uVar44 = *(uint *)(lVar9 + lVar37 * 4);
          uVar32 = (ulong)uVar44;
          if (*param_1 == *(Instance **)(lVar6 + uVar32 * 8)) {
            lVar10 = *(long *)(this + 0x10);
            puVar1 = (uint *)(lVar10 + uVar32 * 4);
            uVar33 = *puVar1;
            uVar40 = (ulong)uVar33;
            auVar15._8_8_ = 0;
            auVar15._0_8_ = (ulong)(uVar33 + 1) * lVar8;
            auVar25._8_8_ = 0;
            auVar25._0_8_ = uVar42;
            lVar37 = SUB168(auVar15 * auVar25,8) * 4;
            uVar36 = SUB164(auVar15 * auVar25,8);
            uVar43 = (ulong)uVar36;
            puVar39 = (uint *)(lVar7 + lVar37);
            if ((*puVar39 == 0) ||
               (auVar16._8_8_ = 0, auVar16._0_8_ = (ulong)*puVar39 * lVar8, auVar26._8_8_ = 0,
               auVar26._0_8_ = uVar42, auVar17._8_8_ = 0,
               auVar17._0_8_ = (ulong)((uVar36 + uVar31) - SUB164(auVar16 * auVar26,8)) * lVar8,
               auVar27._8_8_ = 0, auVar27._0_8_ = uVar42, SUB164(auVar17 * auVar27,8) == 0)) {
              uVar43 = (ulong)uVar33;
            }
            else {
              while( true ) {
                puVar34 = (uint *)(lVar37 + lVar9);
                puVar4 = (uint *)(lVar9 + uVar40 * 4);
                puVar41 = (uint *)(uVar40 * 4 + lVar7);
                puVar2 = (undefined4 *)(lVar10 + (ulong)*puVar34 * 4);
                puVar3 = (undefined4 *)(lVar10 + (ulong)*puVar4 * 4);
                uVar5 = *puVar3;
                *puVar3 = *puVar2;
                *puVar2 = uVar5;
                uVar33 = *puVar39;
                *puVar39 = *puVar41;
                *puVar41 = uVar33;
                uVar33 = *puVar34;
                *puVar34 = *puVar4;
                *puVar4 = uVar33;
                auVar20._8_8_ = 0;
                auVar20._0_8_ = (ulong)((int)uVar43 + 1) * lVar8;
                auVar30._8_8_ = 0;
                auVar30._0_8_ = uVar42;
                uVar38 = SUB168(auVar20 * auVar30,8);
                lVar37 = uVar38 * 4;
                puVar39 = (uint *)(lVar7 + lVar37);
                if ((*puVar39 == 0) ||
                   (auVar18._8_8_ = 0, auVar18._0_8_ = (ulong)*puVar39 * lVar8, auVar28._8_8_ = 0,
                   auVar28._0_8_ = uVar42, auVar19._8_8_ = 0,
                   auVar19._0_8_ =
                        (ulong)((SUB164(auVar20 * auVar30,8) + uVar31) - SUB164(auVar18 * auVar28,8)
                               ) * lVar8, auVar29._8_8_ = 0, auVar29._0_8_ = uVar42,
                   SUB164(auVar19 * auVar29,8) == 0)) break;
                uVar40 = uVar43;
                uVar43 = uVar38 & 0xffffffff;
              }
            }
            *(undefined4 *)(lVar7 + uVar43 * 4) = 0;
            uVar31 = *(int *)(this + 0x24) - 1;
            *(uint *)(this + 0x24) = uVar31;
            if (uVar31 <= uVar44) {
              return;
            }
            uVar33 = *(uint *)(lVar10 + (ulong)uVar31 * 4);
            *(undefined8 *)(lVar6 + uVar32 * 8) = *(undefined8 *)(lVar6 + (ulong)uVar31 * 8);
            *puVar1 = uVar33;
            *(uint *)(lVar9 + (ulong)*(uint *)(lVar10 + (ulong)*(uint *)(this + 0x24) * 4) * 4) =
                 uVar44;
            return;
          }
        }
        uVar33 = uVar33 + 1;
        auVar12._8_8_ = 0;
        auVar12._0_8_ = (ulong)(iVar35 + 1) * lVar8;
        auVar22._8_8_ = 0;
        auVar22._0_8_ = uVar42;
        lVar37 = SUB168(auVar12 * auVar22,8);
        uVar44 = *(uint *)(lVar7 + lVar37 * 4);
        iVar35 = SUB164(auVar12 * auVar22,8);
      } while ((uVar44 != 0) &&
              (auVar13._8_8_ = 0, auVar13._0_8_ = (ulong)uVar44 * lVar8, auVar23._8_8_ = 0,
              auVar23._0_8_ = uVar42, auVar14._8_8_ = 0,
              auVar14._0_8_ = (ulong)((uVar31 + iVar35) - SUB164(auVar13 * auVar23,8)) * lVar8,
              auVar24._8_8_ = 0, auVar24._0_8_ = uVar42, uVar33 <= SUB164(auVar14 * auVar24,8)));
    }
  }
  return;
}



/* CowData<RendererSceneCull::Instance*>::_copy_on_write() [clone .isra.0] */

void __thiscall
CowData<RendererSceneCull::Instance*>::_copy_on_write(CowData<RendererSceneCull::Instance*> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 8;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* CowData<Plane>::_ref(CowData<Plane> const&) [clone .part.0] */

void __thiscall CowData<Plane>::_ref(CowData<Plane> *this,CowData *param_1)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  bool bVar4;
  
  if (*(long *)this != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)this + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
    else {
      *(undefined8 *)this = 0;
    }
  }
  plVar1 = (long *)(*(long *)param_1 + -0x10);
  if (*(long *)param_1 != 0) {
    do {
      lVar2 = *plVar1;
      if (lVar2 == 0) {
        return;
      }
      LOCK();
      lVar3 = *plVar1;
      bVar4 = lVar2 == lVar3;
      if (bVar4) {
        *plVar1 = lVar2 + 1;
        lVar3 = lVar2;
      }
      UNLOCK();
    } while (!bVar4);
    if (lVar3 != -1) {
      *(undefined8 *)this = *(undefined8 *)param_1;
    }
  }
  return;
}



/* RendererSceneCull::instance_set_extra_visibility_margin(RID, float) */

void __thiscall
RendererSceneCull::instance_set_extra_visibility_margin
          (undefined4 param_1,RendererSceneCull *this,ulong param_3)

{
  long lVar1;
  long lVar2;
  long lVar3;
  
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(this + 0x97ec))) {
    lVar3 = ((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    if (*(int *)(lVar3 + 0x300) == (int)(param_3 >> 0x20)) {
      *(undefined1 *)(lVar3 + 0x230) = 1;
      *(undefined4 *)(lVar3 + 0x260) = param_1;
      if (*(long *)(lVar3 + 0x238) != 0) {
        return;
      }
      lVar1 = lVar3 + 0x238;
      *(RendererSceneCull **)(lVar3 + 0x238) = this + 0x260;
      lVar2 = *(long *)(this + 0x260);
      *(undefined8 *)(lVar3 + 0x250) = 0;
      *(long *)(lVar3 + 0x248) = lVar2;
      if (lVar2 == 0) {
        *(long *)(this + 0x268) = lVar1;
      }
      else {
        *(long *)(lVar2 + 0x18) = lVar1;
      }
      *(long *)(this + 0x260) = lVar1;
      return;
    }
    if (*(int *)(lVar3 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_set_extra_visibility_margin",
                   "servers/rendering/renderer_scene_cull.cpp",0x4bf,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_geometry_set_material_overlay(RID, RID) */

void __thiscall
RendererSceneCull::instance_geometry_set_material_overlay
          (RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  uint *puVar1;
  long *plVar2;
  long lVar3;
  uint *puVar4;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    puVar4 = (uint *)(((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(this + 0x97d8) +
                              ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (puVar4[0xc0] == (uint)(param_2 >> 0x20)) {
      *(undefined8 *)(puVar4 + 8) = param_3;
      *(undefined1 *)((long)puVar4 + 0x231) = 1;
      if (*(long *)(puVar4 + 0x8e) == 0) {
        puVar1 = puVar4 + 0x8e;
        *(RendererSceneCull **)(puVar4 + 0x8e) = this + 0x260;
        lVar3 = *(long *)(this + 0x260);
        puVar4[0x94] = 0;
        puVar4[0x95] = 0;
        *(long *)(puVar4 + 0x92) = lVar3;
        if (lVar3 == 0) {
          *(uint **)(this + 0x268) = puVar1;
        }
        else {
          *(uint **)(lVar3 + 0x18) = puVar1;
        }
        *(uint **)(this + 0x260) = puVar1;
      }
      if (((0xeU >> (*puVar4 & 0x1f) & 1) != 0) && (*(long *)(puVar4 + 0xa6) != 0)) {
        plVar2 = *(long **)(*(long *)(puVar4 + 0xa6) + 8);
        if (plVar2 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00102b10. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*plVar2 + 0x28))(plVar2,param_3,*(code **)(*plVar2 + 0x28));
          return;
        }
        _err_print_error("instance_geometry_set_material_overlay",
                         "servers/rendering/renderer_scene_cull.cpp",0x5a0,
                         "Parameter \"geom->geometry_instance\" is null.",0,0);
        return;
      }
      return;
    }
    if (puVar4[0xc0] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_set_material_overlay",
                   "servers/rendering/renderer_scene_cull.cpp",0x599,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_geometry_set_material_override(RID, RID) */

void __thiscall
RendererSceneCull::instance_geometry_set_material_override
          (RendererSceneCull *this,ulong param_2,undefined8 param_3)

{
  uint *puVar1;
  long *plVar2;
  long lVar3;
  uint *puVar4;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    puVar4 = (uint *)(((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(this + 0x97d8) +
                              ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (puVar4[0xc0] == (uint)(param_2 >> 0x20)) {
      *(undefined8 *)(puVar4 + 6) = param_3;
      *(undefined1 *)((long)puVar4 + 0x231) = 1;
      if (*(long *)(puVar4 + 0x8e) == 0) {
        puVar1 = puVar4 + 0x8e;
        *(RendererSceneCull **)(puVar4 + 0x8e) = this + 0x260;
        lVar3 = *(long *)(this + 0x260);
        puVar4[0x94] = 0;
        puVar4[0x95] = 0;
        *(long *)(puVar4 + 0x92) = lVar3;
        if (lVar3 == 0) {
          *(uint **)(this + 0x268) = puVar1;
        }
        else {
          *(uint **)(lVar3 + 0x18) = puVar1;
        }
        *(uint **)(this + 0x260) = puVar1;
      }
      if (((0xeU >> (*puVar4 & 0x1f) & 1) != 0) && (*(long *)(puVar4 + 0xa6) != 0)) {
        plVar2 = *(long **)(*(long *)(puVar4 + 0xa6) + 8);
        if (plVar2 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00102cc0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*plVar2 + 0x20))(plVar2,param_3,*(code **)(*plVar2 + 0x20));
          return;
        }
        _err_print_error("instance_geometry_set_material_override",
                         "servers/rendering/renderer_scene_cull.cpp",0x592,
                         "Parameter \"geom->geometry_instance\" is null.",0,0);
        return;
      }
      return;
    }
    if (puVar4[0xc0] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_set_material_override",
                   "servers/rendering/renderer_scene_cull.cpp",0x58b,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* CowData<Color>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<Color>::_copy_on_write(CowData<Color> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 0x10;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::_copy_on_write() [clone
   .isra.0] */

void __thiscall
CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::_copy_on_write
          (CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 8;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* RendererSceneCull::instance_set_custom_aabb(RID, AABB) */

void RendererSceneCull::instance_set_custom_aabb(long param_1,ulong param_2)

{
  long lVar1;
  long lVar2;
  char cVar3;
  undefined8 *puVar4;
  long lVar5;
  long in_FS_OFFSET;
  undefined8 in_stack_00000008;
  undefined8 in_stack_00000010;
  undefined8 in_stack_00000018;
  undefined8 local_38;
  undefined4 local_30;
  undefined8 local_2c;
  undefined4 local_24;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(param_1 + 0x97ec))) {
    lVar5 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(param_1 + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(param_1 + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(param_1 + 0x97e8)) * 8);
    if (*(int *)(lVar5 + 0x300) == (int)(param_2 >> 0x20)) {
      local_38 = 0;
      local_30 = 0;
      local_2c = 0;
      local_24 = 0;
      cVar3 = AABB::operator!=((AABB *)&stack0x00000008,(AABB *)&local_38);
      if (cVar3 == '\0') {
        if (*(void **)(lVar5 + 600) != (void *)0x0) {
          Memory::free_static(*(void **)(lVar5 + 600),false);
          *(undefined8 *)(lVar5 + 600) = 0;
        }
      }
      else {
        puVar4 = *(undefined8 **)(lVar5 + 600);
        if (puVar4 == (undefined8 *)0x0) {
          puVar4 = (undefined8 *)operator_new(0x18,"");
          *puVar4 = 0;
          *(undefined4 *)(puVar4 + 1) = 0;
          *(undefined8 *)((long)puVar4 + 0xc) = 0;
          *(undefined4 *)((long)puVar4 + 0x14) = 0;
          *(undefined8 **)(lVar5 + 600) = puVar4;
        }
        *puVar4 = in_stack_00000008;
        puVar4[1] = in_stack_00000010;
        puVar4[2] = in_stack_00000018;
      }
      if ((*(long *)(lVar5 + 0x208) != 0) &&
         (*(undefined1 *)(lVar5 + 0x230) = 1, *(long *)(lVar5 + 0x238) == 0)) {
        lVar1 = lVar5 + 0x238;
        *(long *)(lVar5 + 0x238) = param_1 + 0x260;
        lVar2 = *(long *)(param_1 + 0x260);
        *(undefined8 *)(lVar5 + 0x250) = 0;
        *(long *)(lVar5 + 0x248) = lVar2;
        if (lVar2 == 0) {
          *(long *)(param_1 + 0x268) = lVar1;
        }
        else {
          *(long *)(lVar2 + 0x18) = lVar1;
        }
        *(long *)(param_1 + 0x260) = lVar1;
      }
      goto LAB_001030df;
    }
    if (*(int *)(lVar5 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_set_custom_aabb","servers/rendering/renderer_scene_cull.cpp",0x48d,
                   "Parameter \"instance\" is null.",0,0);
LAB_001030df:
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::instance_geometry_set_cast_shadows_setting(RID,
   RenderingServer::ShadowCastingSetting) */

void __thiscall
RendererSceneCull::instance_geometry_set_cast_shadows_setting
          (RendererSceneCull *this,ulong param_2,uint param_3)

{
  long lVar1;
  long *plVar2;
  code *pcVar3;
  uint *puVar4;
  char *pcVar5;
  uint uVar6;
  undefined8 uVar7;
  uint *puVar8;
  ulong uVar9;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    puVar8 = (uint *)(((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                     *(long *)(*(long *)(this + 0x97d8) +
                              ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (puVar8[0xc0] == (uint)(param_2 >> 0x20)) {
      lVar1 = *(long *)(puVar8 + 0x82);
      puVar8[0x36] = param_3;
      if ((lVar1 == 0) || (uVar6 = puVar8[0x6c], (int)uVar6 < 0)) {
LAB_00103310:
        uVar6 = *puVar8;
      }
      else {
        uVar9 = (ulong)(int)uVar6;
        if (*(ulong *)(lVar1 + 0x1f0) <= uVar9) {
          _err_print_index_error
                    ("operator[]","./core/templates/paged_array.h",0xb0,uVar9,
                     *(ulong *)(lVar1 + 0x1f0),"p_index","count","",false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar3 = (code *)invalidInstructionException();
          (*pcVar3)();
        }
        puVar4 = (uint *)((ulong)(uVar6 & *(uint *)(lVar1 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar1 + 0x1d0) +
                                  (uVar9 >> ((byte)*(undefined4 *)(lVar1 + 0x1e4) & 0x3f)) * 8));
        uVar6 = *puVar4;
        if (param_3 == 0) {
          uVar6 = uVar6 & 0xfffffeff;
        }
        else {
          if (param_3 == 3) {
            *puVar4 = uVar6 | 0x300;
            goto LAB_00103310;
          }
          uVar6 = uVar6 | 0x100;
        }
        *puVar4 = uVar6 & 0xfffffdff;
        uVar6 = *puVar8;
      }
      if (((0xeU >> (uVar6 & 0x1f) & 1) == 0) || (*(long *)(puVar8 + 0xa6) == 0)) {
LAB_0010334a:
        *(undefined1 *)((long)puVar8 + 0x231) = 1;
        if (*(long *)(puVar8 + 0x8e) != 0) {
          return;
        }
        puVar4 = puVar8 + 0x8e;
        *(RendererSceneCull **)(puVar8 + 0x8e) = this + 0x260;
        lVar1 = *(long *)(this + 0x260);
        puVar8[0x94] = 0;
        puVar8[0x95] = 0;
        *(long *)(puVar8 + 0x92) = lVar1;
        if (lVar1 == 0) {
          *(uint **)(this + 0x268) = puVar4;
        }
        else {
          *(uint **)(lVar1 + 0x18) = puVar4;
        }
        *(uint **)(this + 0x260) = puVar4;
        return;
      }
      plVar2 = *(long **)(*(long *)(puVar8 + 0xa6) + 8);
      if (plVar2 != (long *)0x0) {
        (**(code **)(*plVar2 + 0xa0))(plVar2,param_3 == 2);
        goto LAB_0010334a;
      }
      uVar7 = 0x581;
      pcVar5 = "Parameter \"geom->geometry_instance\" is null.";
      goto LAB_00103402;
    }
    if (puVar8[0xc0] + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  uVar7 = 0x56b;
  pcVar5 = "Parameter \"instance\" is null.";
LAB_00103402:
  _err_print_error("instance_geometry_set_cast_shadows_setting",
                   "servers/rendering/renderer_scene_cull.cpp",uVar7,pcVar5,0,0);
  return;
}



/* CowData<RID>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<RID>::_copy_on_write(CowData<RID> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 8;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* CowData<char32_t>::_ref(CowData<char32_t> const&) [clone .part.0] */

void __thiscall CowData<char32_t>::_ref(CowData<char32_t> *this,CowData *param_1)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  bool bVar4;
  
  if (*(long *)this != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)this + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
    else {
      *(undefined8 *)this = 0;
    }
  }
  plVar1 = (long *)(*(long *)param_1 + -0x10);
  if (*(long *)param_1 != 0) {
    do {
      lVar2 = *plVar1;
      if (lVar2 == 0) {
        return;
      }
      LOCK();
      lVar3 = *plVar1;
      bVar4 = lVar2 == lVar3;
      if (bVar4) {
        *plVar1 = lVar2 + 1;
        lVar3 = lVar2;
      }
      UNLOCK();
    } while (!bVar4);
    if (lVar3 != -1) {
      *(undefined8 *)this = *(undefined8 *)param_1;
    }
  }
  return;
}



/* CowData<RendererSceneCull::PlaneSign>::_copy_on_write() [clone .isra.0] */

void __thiscall
CowData<RendererSceneCull::PlaneSign>::_copy_on_write(CowData<RendererSceneCull::PlaneSign> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  size_t __n;
  ulong uVar5;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 0xc;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* CowData<Plane>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<Plane>::_copy_on_write(CowData<Plane> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 0x10;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* RendererSceneCull::update_interpolation_tick(bool) */

void __thiscall RendererSceneCull::update_interpolation_tick(RendererSceneCull *this,bool param_1)

{
  long lVar1;
  ulong *puVar2;
  uint uVar3;
  int iVar4;
  int *piVar5;
  long lVar6;
  ulong uVar7;
  uint uVar8;
  ulong uVar9;
  long lVar10;
  uint *puVar11;
  ulong *puVar12;
  
  RendererMeshStorage::update_interpolation_tick(SUB81(RenderingServerGlobals::mesh_storage,0));
  puVar12 = *(ulong **)(*(uint **)(this + 0xb588) + 2);
  puVar2 = puVar12 + **(uint **)(this + 0xb588);
  do {
    if (puVar2 == puVar12) {
      puVar11 = *(uint **)(this + 0xb580);
      if (param_1) {
        puVar12 = *(ulong **)(puVar11 + 2);
        puVar2 = puVar12 + *puVar11;
        if (puVar2 != puVar12) {
          do {
            if (*puVar12 != 0) {
              uVar7 = *puVar12;
              if ((uint)uVar7 < *(uint *)(this + 0x97ec)) {
                lVar10 = ((uVar7 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                         *(long *)(*(long *)(this + 0x97d8) +
                                  ((uVar7 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
                if (*(int *)(lVar10 + 0x300) == (int)(uVar7 >> 0x20)) {
                  *(byte *)(lVar10 + 0xe0) = *(byte *)(lVar10 + 0xe0) & 0x7f;
                  *(undefined8 *)(lVar10 + 0x90) = *(undefined8 *)(lVar10 + 0x60);
                  *(undefined8 *)(lVar10 + 0x98) = *(undefined8 *)(lVar10 + 0x68);
                  *(undefined8 *)(lVar10 + 0xa0) = *(undefined8 *)(lVar10 + 0x70);
                  *(undefined8 *)(lVar10 + 0xa8) = *(undefined8 *)(lVar10 + 0x78);
                  *(undefined8 *)(lVar10 + 0xb0) = *(undefined8 *)(lVar10 + 0x80);
                  *(undefined8 *)(lVar10 + 0xb8) = *(undefined8 *)(lVar10 + 0x88);
                  *(undefined4 *)(lVar10 + 0xe8) = *(undefined4 *)(lVar10 + 0xe4);
                }
                else if (*(int *)(lVar10 + 0x300) + 0x80000000U < 0x7fffffff) {
                  _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                                   "Method/function failed. Returning: nullptr",
                                   "Attempting to use an uninitialized RID",0,0);
                }
              }
            }
            puVar12 = puVar12 + 1;
          } while (puVar2 != puVar12);
          puVar11 = *(uint **)(this + 0xb580);
        }
      }
      piVar5 = *(int **)(this + 0xb588);
      iVar4 = *piVar5;
      *(int **)(this + 0xb580) = piVar5;
      *(uint **)(this + 0xb588) = puVar11;
      if (iVar4 != 0) {
        *piVar5 = 0;
      }
      return;
    }
    uVar7 = *puVar12;
    if (uVar7 == 0) {
LAB_00103996:
      uVar3 = *(uint *)(this + 0xb550);
      lVar10 = *(long *)(this + 0xb558);
      if (uVar3 != 0) {
        uVar9 = 0;
        do {
          if (*(ulong *)(lVar10 + uVar9 * 8) == uVar7) {
            uVar8 = (uint)uVar9;
            if (uVar8 < uVar3) {
              *(uint *)(this + 0xb550) = uVar3 - 1;
              if (uVar8 < uVar3 - 1) {
                memmove((void *)(lVar10 + uVar9 * 8),(void *)(lVar10 + (ulong)(uVar8 + 1) * 8),
                        (ulong)((uVar3 - 2) - uVar8) * 8 + 8);
              }
            }
            else {
              _err_print_index_error
                        ("remove_at","./core/templates/local_vector.h",0x4c,uVar9,(ulong)uVar3,
                         "p_index","count","",false,false);
            }
            break;
          }
          uVar9 = uVar9 + 1;
        } while (uVar9 != uVar3);
      }
    }
    else {
      uVar7 = *puVar12;
      if (*(uint *)(this + 0x97ec) <= (uint)uVar7) goto LAB_00103996;
      lVar10 = ((uVar7 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
               *(long *)(*(long *)(this + 0x97d8) +
                        ((uVar7 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
      if (*(int *)(lVar10 + 0x300) != (int)(uVar7 >> 0x20)) {
        if (*(int *)(lVar10 + 0x300) + 0x80000000U < 0x7fffffff) {
          _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                           "Method/function failed. Returning: nullptr",
                           "Attempting to use an uninitialized RID",0,0);
          uVar7 = *puVar12;
        }
        goto LAB_00103996;
      }
      if (-1 < (char)*(byte *)(lVar10 + 0xe0)) {
        *(undefined1 *)(lVar10 + 0x230) = 1;
        *(byte *)(lVar10 + 0xe0) = *(byte *)(lVar10 + 0xe0) & 0xbf;
        *(undefined8 *)(lVar10 + 0x30) = *(undefined8 *)(lVar10 + 0x60);
        *(undefined8 *)(lVar10 + 0x38) = *(undefined8 *)(lVar10 + 0x68);
        *(undefined8 *)(lVar10 + 0x40) = *(undefined8 *)(lVar10 + 0x70);
        *(undefined8 *)(lVar10 + 0x48) = *(undefined8 *)(lVar10 + 0x78);
        *(undefined1 (*) [16])(lVar10 + 0x50) = *(undefined1 (*) [16])(lVar10 + 0x80);
        *(undefined8 *)(lVar10 + 0x90) = *(undefined8 *)(lVar10 + 0x60);
        *(undefined8 *)(lVar10 + 0x98) = *(undefined8 *)(lVar10 + 0x68);
        *(undefined8 *)(lVar10 + 0xa0) = *(undefined8 *)(lVar10 + 0x70);
        *(undefined8 *)(lVar10 + 0xa8) = *(undefined8 *)(lVar10 + 0x78);
        *(undefined1 (*) [16])(lVar10 + 0xb0) = *(undefined1 (*) [16])(lVar10 + 0x80);
        if (*(long *)(lVar10 + 0x238) == 0) {
          lVar1 = lVar10 + 0x238;
          *(RendererSceneCull **)(lVar10 + 0x238) = this + 0x260;
          lVar6 = *(long *)(this + 0x260);
          *(undefined8 *)(lVar10 + 0x250) = 0;
          *(long *)(lVar10 + 0x248) = lVar6;
          if (lVar6 == 0) {
            *(long *)(this + 0x268) = lVar1;
          }
          else {
            *(long *)(lVar6 + 0x18) = lVar1;
          }
          *(long *)(this + 0x260) = lVar1;
        }
        uVar7 = *puVar12;
        goto LAB_00103996;
      }
    }
    puVar12 = puVar12 + 1;
  } while( true );
}



/* RendererSceneCull::instance_set_transform(RID, Transform3D const&) */

void __thiscall
RendererSceneCull::instance_set_transform
          (RendererSceneCull *this,ulong param_2,Transform3D *param_3)

{
  uint uVar1;
  uint *puVar2;
  long lVar3;
  code *pcVar4;
  char cVar5;
  byte bVar6;
  long lVar7;
  ulong uVar8;
  void *pvVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  long lVar12;
  Transform3D *pTVar13;
  char *pcVar14;
  float fVar15;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    lVar12 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
             *(long *)(*(long *)(this + 0x97d8) +
                      ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    if (*(int *)(lVar12 + 0x300) == (int)(param_2 >> 0x20)) {
      if (((this[0xb590] == (RendererSceneCull)0x0) || ((*(byte *)(lVar12 + 0xe1) & 1) == 0)) ||
         (*(long *)(lVar12 + 0x208) == 0)) {
        cVar5 = Transform3D::operator==((Transform3D *)(lVar12 + 0x30),param_3);
        if (cVar5 != '\0') {
          return;
        }
        pTVar13 = param_3;
        do {
          cVar5 = Vector3::is_finite();
          if (cVar5 == '\0') goto LAB_00103f10;
          pTVar13 = pTVar13 + 0xc;
          if (pTVar13 == param_3 + 0x30) goto LAB_00103d08;
        } while (pTVar13 != param_3 + 0x24);
        cVar5 = Vector3::is_finite();
        if (cVar5 == '\0') {
LAB_00103f10:
          uVar10 = 0x3bd;
          pcVar14 = "Condition \"!v.is_finite()\" is true.";
          goto LAB_00103f22;
        }
LAB_00103d08:
        uVar10 = *(undefined8 *)(param_3 + 8);
        *(undefined8 *)(lVar12 + 0x30) = *(undefined8 *)param_3;
        *(undefined8 *)(lVar12 + 0x38) = uVar10;
        uVar10 = *(undefined8 *)(param_3 + 0x18);
        *(undefined8 *)(lVar12 + 0x40) = *(undefined8 *)(param_3 + 0x10);
        *(undefined8 *)(lVar12 + 0x48) = uVar10;
        uVar10 = *(undefined8 *)(param_3 + 0x20);
        uVar11 = *(undefined8 *)(param_3 + 0x28);
        *(undefined1 *)(lVar12 + 0x230) = 1;
        *(undefined8 *)(lVar12 + 0x50) = uVar10;
        *(undefined8 *)(lVar12 + 0x58) = uVar11;
        if (*(long *)(lVar12 + 0x238) == 0) {
          lVar7 = lVar12 + 0x238;
          *(RendererSceneCull **)(lVar12 + 0x238) = this + 0x260;
          lVar3 = *(long *)(this + 0x260);
          *(undefined8 *)(lVar12 + 0x250) = 0;
          *(long *)(lVar12 + 0x248) = lVar3;
          if (lVar3 == 0) {
            *(long *)(this + 0x268) = lVar7;
          }
          else {
            *(long *)(lVar3 + 0x18) = lVar7;
          }
          *(long *)(this + 0x260) = lVar7;
        }
        if (this[0xb590] == (RendererSceneCull)0x0) {
          return;
        }
        if ((*(byte *)(lVar12 + 0xe1) & 1) != 0) {
          return;
        }
        lVar7 = Engine::get_singleton();
        if (*(char *)(lVar7 + 0x80) == '\0') {
          return;
        }
        uVar10 = *(undefined8 *)(lVar12 + 0x268);
        pcVar14 = "Non-interpolated instance triggered from physics process";
        uVar11 = 0x3c6;
LAB_0010400b:
        _physics_interpolation_warning
                  ("instance_set_transform","servers/rendering/renderer_scene_cull.cpp",uVar11,
                   uVar10,pcVar14);
        return;
      }
      fVar15 = (float)TransformInterpolator::checksum_transform_3d(param_3);
      if (((fVar15 == *(float *)(lVar12 + 0xe4)) && (fVar15 == *(float *)(lVar12 + 0xe8))) &&
         ((cVar5 = Transform3D::operator==((Transform3D *)(lVar12 + 0x60),param_3), cVar5 != '\0' &&
          (cVar5 = Transform3D::operator==((Transform3D *)(lVar12 + 0x90),param_3), cVar5 != '\0')))
         ) {
        return;
      }
      pTVar13 = param_3;
      do {
        cVar5 = Vector3::is_finite();
        if (cVar5 == '\0') goto LAB_00104080;
        pTVar13 = pTVar13 + 0xc;
        if (pTVar13 == param_3 + 0x30) goto LAB_00103def;
      } while (param_3 + 0x24 != pTVar13);
      cVar5 = Vector3::is_finite();
      if (cVar5 != '\0') {
LAB_00103def:
        uVar10 = *(undefined8 *)(param_3 + 8);
        bVar6 = *(byte *)(lVar12 + 0xe0);
        *(undefined8 *)(lVar12 + 0x60) = *(undefined8 *)param_3;
        *(undefined8 *)(lVar12 + 0x68) = uVar10;
        uVar10 = *(undefined8 *)(param_3 + 0x18);
        *(undefined8 *)(lVar12 + 0x70) = *(undefined8 *)(param_3 + 0x10);
        *(undefined8 *)(lVar12 + 0x78) = uVar10;
        uVar10 = *(undefined8 *)(param_3 + 0x20);
        uVar11 = *(undefined8 *)(param_3 + 0x28);
        *(float *)(lVar12 + 0xe4) = fVar15;
        *(undefined8 *)(lVar12 + 0x80) = uVar10;
        *(undefined8 *)(lVar12 + 0x88) = uVar11;
        if (-1 < (char)bVar6) {
          puVar2 = *(uint **)(this + 0xb580);
          uVar1 = *puVar2;
          pvVar9 = *(void **)(puVar2 + 2);
          if (uVar1 == puVar2[1]) {
            uVar8 = (ulong)(uVar1 * 2);
            if (uVar1 * 2 == 0) {
              uVar8 = 1;
            }
            puVar2[1] = (uint)uVar8;
            pvVar9 = (void *)Memory::realloc_static(pvVar9,uVar8 * 8,false);
            *(void **)(puVar2 + 2) = pvVar9;
            if (pvVar9 == (void *)0x0) goto LAB_0010415f;
            uVar1 = *puVar2;
          }
          *puVar2 = uVar1 + 1;
          *(ulong *)((long)pvVar9 + (ulong)uVar1 * 8) = param_2;
          bVar6 = *(byte *)(lVar12 + 0xe0) | 0x80;
          *(byte *)(lVar12 + 0xe0) = bVar6;
        }
        if ((bVar6 & 4) == 0) {
          return;
        }
        bVar6 = TransformInterpolator::find_method
                          ((Basis *)(lVar12 + 0x90),(Basis *)(lVar12 + 0x60));
        *(byte *)(lVar12 + 0xe1) = *(byte *)(lVar12 + 0xe1) & 0xf1 | (bVar6 & 7) * '\x02';
        if ((*(byte *)(lVar12 + 0xe0) & 0x40) == 0) {
          uVar1 = *(uint *)(this + 0xb550);
          pvVar9 = *(void **)(this + 0xb558);
          if (uVar1 == *(uint *)(this + 0xb554)) {
            uVar8 = (ulong)(uVar1 * 2);
            if (uVar1 * 2 == 0) {
              uVar8 = 1;
            }
            *(int *)(this + 0xb554) = (int)uVar8;
            pvVar9 = (void *)Memory::realloc_static(pvVar9,uVar8 * 8,false);
            *(void **)(this + 0xb558) = pvVar9;
            if (pvVar9 == (void *)0x0) {
LAB_0010415f:
              _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                               "FATAL: Condition \"!data\" is true.","Out of memory",0,0,pvVar9);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar4 = (code *)invalidInstructionException();
              (*pcVar4)();
            }
            uVar1 = *(uint *)(this + 0xb550);
          }
          *(uint *)(this + 0xb550) = uVar1 + 1;
          *(ulong *)((long)pvVar9 + (ulong)uVar1 * 8) = param_2;
          *(byte *)(lVar12 + 0xe0) = *(byte *)(lVar12 + 0xe0) | 0x40;
        }
        *(undefined1 *)(lVar12 + 0x230) = 1;
        if (*(long *)(lVar12 + 0x238) == 0) {
          lVar7 = lVar12 + 0x238;
          *(RendererSceneCull **)(lVar12 + 0x238) = this + 0x260;
          lVar3 = *(long *)(this + 0x260);
          *(undefined8 *)(lVar12 + 0x250) = 0;
          *(long *)(lVar12 + 0x248) = lVar3;
          if (lVar3 == 0) {
            *(long *)(this + 0x268) = lVar7;
          }
          else {
            *(long *)(lVar3 + 0x18) = lVar7;
          }
          *(long *)(this + 0x260) = lVar7;
        }
        lVar7 = Engine::get_singleton();
        if (*(char *)(lVar7 + 0x80) != '\0') {
          return;
        }
        uVar10 = *(undefined8 *)(lVar12 + 0x268);
        pcVar14 = "Interpolated instance triggered from outside physics process";
        uVar11 = 0x408;
        goto LAB_0010400b;
      }
LAB_00104080:
      uVar10 = 0x3dd;
      pcVar14 = "Condition \"!v.is_finite()\" is true.";
      goto LAB_00103f22;
    }
    if (*(int *)(lVar12 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  uVar10 = 0x3ae;
  pcVar14 = "Parameter \"instance\" is null.";
LAB_00103f22:
  _err_print_error("instance_set_transform","servers/rendering/renderer_scene_cull.cpp",uVar10,
                   pcVar14,0,0);
  return;
}



/* RendererSceneCull::render_empty_scene(Ref<RenderSceneBuffers> const&, RID, RID) */

void __thiscall
RendererSceneCull::render_empty_scene
          (RendererSceneCull *this,undefined8 param_1,ulong param_3,undefined8 param_4)

{
  char *pcVar1;
  long *plVar2;
  char cVar3;
  undefined4 uVar4;
  undefined8 uVar5;
  code *pcVar6;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [15];
  undefined1 auVar21 [8];
  ulong uVar22;
  undefined8 uVar23;
  long lVar24;
  long in_FS_OFFSET;
  undefined1 local_388 [8];
  void *pvStack_380;
  undefined1 local_378 [16];
  undefined1 local_368 [16];
  undefined1 local_358 [8];
  void *pvStack_350;
  undefined1 local_348 [16];
  undefined1 local_338 [16];
  undefined1 local_328 [8];
  void *pvStack_320;
  undefined1 local_318 [16];
  undefined1 local_308 [16];
  undefined1 local_2f8 [8];
  void *pvStack_2f0;
  undefined1 local_2e8 [16];
  undefined1 local_2d8 [16];
  undefined1 local_2c8 [8];
  void *pvStack_2c0;
  undefined1 local_2b8 [16];
  undefined1 local_2a8 [16];
  undefined1 local_298 [8];
  void *pvStack_290;
  undefined1 local_288 [16];
  undefined1 local_278 [16];
  undefined1 local_268 [16];
  undefined1 local_258 [16];
  undefined1 local_248 [16];
  undefined8 local_230;
  undefined1 local_228 [16];
  undefined1 local_218 [16];
  undefined4 local_208;
  undefined4 uStack_204;
  undefined4 uStack_200;
  undefined4 uStack_1fc;
  Projection local_1f8 [64];
  undefined1 local_1b8 [16];
  undefined1 local_1a8 [16];
  undefined1 local_198 [16];
  undefined4 local_188;
  undefined8 local_184;
  undefined4 local_17c;
  Projection local_178 [64];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined4 local_118;
  undefined8 local_114;
  undefined4 local_10c;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined4 local_e8;
  undefined8 local_e4;
  undefined4 local_dc;
  Projection local_d8 [64];
  Projection local_98 [64];
  undefined8 local_58;
  undefined4 local_50;
  long local_40;
  
  plVar2 = RenderingServerGlobals::utilities;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(this + 0x1bc))) {
    lVar24 = *(long *)(*(long *)(this + 0x1a8) +
                      ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
             ((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    if (*(int *)(lVar24 + 0x240) == (int)(param_3 >> 0x20)) {
      if (*(long *)(lVar24 + 0x110) == 0) {
        uVar23 = *(undefined8 *)(lVar24 + 0x118);
      }
      else {
        uVar23 = *(undefined8 *)(lVar24 + 0x110);
      }
      uVar5 = *(undefined8 *)(lVar24 + 0x128);
      if ((char)RenderingServerGlobals::utilities[1] != '\0') {
        pcVar6 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
        auVar18._8_8_ = 0;
        auVar18._0_8_ = pvStack_290;
        _local_298 = auVar18 << 0x40;
        local_268._8_8_ = 0x15;
        local_268._0_8_ = "Render Empty 3D Scene";
        String::parse_latin1((StrRange *)local_298);
        (*pcVar6)(plVar2);
        auVar21 = local_298;
        if (local_298 != (undefined1  [8])0x0) {
          LOCK();
          plVar2 = (long *)((long)local_298 + -0x10);
          *plVar2 = *plVar2 + -1;
          UNLOCK();
          if (*plVar2 == 0) {
            auVar19._8_8_ = 0;
            auVar19._0_8_ = pvStack_290;
            _local_298 = auVar19 << 0x40;
            Memory::free_static((void *)((long)auVar21 + -0x10),false);
          }
        }
      }
      local_1a8 = ZEXT416(_LC55);
      local_188 = 0x3f800000;
      local_184 = 0;
      local_17c = 0;
      local_198 = local_1a8;
      Projection::Projection(local_178);
      local_138 = ZEXT416(_LC55);
      local_118 = 0x3f800000;
      local_114 = 0;
      local_10c = 0;
      local_e8 = 0x3f800000;
      local_e4 = 0;
      local_dc = 0;
      local_128 = local_138;
      local_108 = local_138;
      local_f8 = local_138;
      Projection::Projection(local_d8);
      Projection::Projection(local_98);
      local_58 = 0;
      local_50 = 0;
      local_230 = 0;
      Projection::Projection(local_1f8);
      local_228 = ZEXT416(_LC55);
      local_208 = 0x3f800000;
      uStack_204 = 0;
      uStack_200 = 0;
      uStack_1fc = 0;
      local_218 = local_228;
      RendererSceneRender::CameraData::set_camera
                (0,local_1b8,local_1f8,1,0,0,&local_230,_LC55,0,_LC55,0,0x3f800000,0,
                 0xffffffffffffffff);
      Projection::~Projection(local_1f8);
      local_268 = (undefined1  [16])0x0;
      local_258 = (undefined1  [16])0x0;
      local_248 = (undefined1  [16])0x0;
      _local_298 = (undefined1  [16])0x0;
      local_288 = (undefined1  [16])0x0;
      local_278 = (undefined1  [16])0x0;
      _local_2c8 = (undefined1  [16])0x0;
      local_2b8 = (undefined1  [16])0x0;
      local_2a8 = (undefined1  [16])0x0;
      _local_2f8 = (undefined1  [16])0x0;
      local_2e8 = (undefined1  [16])0x0;
      local_2d8 = (undefined1  [16])0x0;
      _local_328 = (undefined1  [16])0x0;
      local_318 = (undefined1  [16])0x0;
      local_308 = (undefined1  [16])0x0;
      _local_358 = (undefined1  [16])0x0;
      local_348 = (undefined1  [16])0x0;
      local_338 = (undefined1  [16])0x0;
      _local_388 = (undefined1  [16])0x0;
      local_378 = (undefined1  [16])0x0;
      local_368 = (undefined1  [16])0x0;
      (**(code **)(**(long **)(this + 8) + 0x128))
                (0,*(long **)(this + 8),param_1,local_1b8,local_1b8,local_388,local_358,local_328,
                 local_2f8,local_2c8,(StrRange *)local_298,local_268,uVar23,0,uVar5,param_4,0,
                 *(undefined8 *)(lVar24 + 0x138),0,0,0,0,0,0,0,0);
      if ((local_368._8_8_ != 0) &&
         (uVar22 = local_368._8_8_ - 1 >> (local_378[0xc] & 0x3f), (int)uVar22 != -1)) {
        lVar24 = 0;
        do {
          uVar4 = *(undefined4 *)(local_378._0_8_ + lVar24);
          pcVar1 = (char *)((long)local_388 + 0x20);
          while( true ) {
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar24 = lVar24 + 4;
          *(undefined4 *)
           (*(long *)((long)local_388 + 0x10) + (ulong)*(uint *)((long)local_388 + 0x18) * 4) =
               uVar4;
          *(int *)((long)local_388 + 0x18) = *(int *)((long)local_388 + 0x18) + 1;
          *(undefined1 *)((long)local_388 + 0x20) = 0;
        } while (lVar24 != (uVar22 & 0xffffffff) * 4 + 4);
      }
      local_368._8_8_ = 0;
      if (pvStack_380 != (void *)0x0) {
        Memory::free_static(pvStack_380,false);
        Memory::free_static((void *)local_378._0_8_,false);
      }
      if ((local_338._8_8_ != 0) &&
         (uVar22 = local_338._8_8_ - 1 >> (local_348[0xc] & 0x3f), (int)uVar22 != -1)) {
        lVar24 = 0;
        do {
          uVar4 = *(undefined4 *)(local_348._0_8_ + lVar24);
          pcVar1 = (char *)((long)local_358 + 0x20);
          while( true ) {
            auVar7[0xf] = 0;
            auVar7._0_15_ = stack0xfffffffffffffc79;
            _local_388 = auVar7 << 8;
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar24 = lVar24 + 4;
          *(undefined4 *)
           (*(long *)((long)local_358 + 0x10) + (ulong)*(uint *)((long)local_358 + 0x18) * 4) =
               uVar4;
          *(int *)((long)local_358 + 0x18) = *(int *)((long)local_358 + 0x18) + 1;
          *(undefined1 *)((long)local_358 + 0x20) = 0;
        } while ((uVar22 & 0xffffffff) * 4 + 4 != lVar24);
      }
      local_338._8_8_ = 0;
      if (pvStack_350 != (void *)0x0) {
        Memory::free_static(pvStack_350,false);
        Memory::free_static((void *)local_348._0_8_,false);
      }
      if ((local_308._8_8_ != 0) &&
         (uVar22 = local_308._8_8_ - 1 >> (local_318[0xc] & 0x3f), (int)uVar22 != -1)) {
        lVar24 = 0;
        do {
          uVar4 = *(undefined4 *)(local_318._0_8_ + lVar24);
          pcVar1 = (char *)((long)local_328 + 0x20);
          while( true ) {
            auVar20 = stack0xfffffffffffffca9;
            auVar8[0xf] = 0;
            auVar8._0_15_ = stack0xfffffffffffffca9;
            _local_358 = auVar8 << 8;
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            auVar9[0xf] = 0;
            auVar9._0_15_ = auVar20;
            _local_358 = auVar9 << 8;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar24 = lVar24 + 4;
          *(undefined4 *)
           (*(long *)((long)local_328 + 0x10) + (ulong)*(uint *)((long)local_328 + 0x18) * 4) =
               uVar4;
          *(int *)((long)local_328 + 0x18) = *(int *)((long)local_328 + 0x18) + 1;
          *(undefined1 *)((long)local_328 + 0x20) = 0;
        } while (lVar24 != (uVar22 & 0xffffffff) * 4 + 4);
      }
      local_308._8_8_ = 0;
      if (pvStack_320 != (void *)0x0) {
        Memory::free_static(pvStack_320,false);
        Memory::free_static((void *)local_318._0_8_,false);
      }
      if ((local_2d8._8_8_ != 0) &&
         (uVar22 = local_2d8._8_8_ - 1 >> (local_2e8[0xc] & 0x3f), (int)uVar22 != -1)) {
        lVar24 = 0;
        do {
          uVar4 = *(undefined4 *)(local_2e8._0_8_ + lVar24);
          pcVar1 = (char *)((long)local_2f8 + 0x20);
          while( true ) {
            auVar20 = stack0xfffffffffffffcd9;
            auVar10[0xf] = 0;
            auVar10._0_15_ = stack0xfffffffffffffcd9;
            _local_328 = auVar10 << 8;
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            auVar11[0xf] = 0;
            auVar11._0_15_ = auVar20;
            _local_328 = auVar11 << 8;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar24 = lVar24 + 4;
          *(undefined4 *)
           (*(long *)((long)local_2f8 + 0x10) + (ulong)*(uint *)((long)local_2f8 + 0x18) * 4) =
               uVar4;
          *(int *)((long)local_2f8 + 0x18) = *(int *)((long)local_2f8 + 0x18) + 1;
          *(undefined1 *)((long)local_2f8 + 0x20) = 0;
        } while (lVar24 != (uVar22 & 0xffffffff) * 4 + 4);
      }
      local_2d8._8_8_ = 0;
      if (pvStack_2f0 != (void *)0x0) {
        Memory::free_static(pvStack_2f0,false);
        Memory::free_static((void *)local_2e8._0_8_,false);
      }
      if ((local_2a8._8_8_ != 0) &&
         (uVar22 = local_2a8._8_8_ - 1 >> (local_2b8[0xc] & 0x3f), (int)uVar22 != -1)) {
        lVar24 = 0;
        do {
          uVar4 = *(undefined4 *)(local_2b8._0_8_ + lVar24);
          pcVar1 = (char *)((long)local_2c8 + 0x20);
          while( true ) {
            auVar20 = stack0xfffffffffffffd09;
            auVar12[0xf] = 0;
            auVar12._0_15_ = stack0xfffffffffffffd09;
            _local_2f8 = auVar12 << 8;
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            auVar13[0xf] = 0;
            auVar13._0_15_ = auVar20;
            _local_2f8 = auVar13 << 8;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar24 = lVar24 + 4;
          *(undefined4 *)
           (*(long *)((long)local_2c8 + 0x10) + (ulong)*(uint *)((long)local_2c8 + 0x18) * 4) =
               uVar4;
          *(int *)((long)local_2c8 + 0x18) = *(int *)((long)local_2c8 + 0x18) + 1;
          *(undefined1 *)((long)local_2c8 + 0x20) = 0;
        } while ((uVar22 & 0xffffffff) * 4 + 4 != lVar24);
      }
      local_2a8._8_8_ = 0;
      if (pvStack_2c0 != (void *)0x0) {
        Memory::free_static(pvStack_2c0,false);
        Memory::free_static((void *)local_2b8._0_8_,false);
      }
      if ((local_278._8_8_ != 0) &&
         (uVar22 = local_278._8_8_ - 1 >> (local_288[0xc] & 0x3f), (int)uVar22 != -1)) {
        lVar24 = 0;
        do {
          uVar4 = *(undefined4 *)(local_288._0_8_ + lVar24);
          pcVar1 = (char *)((long)local_298 + 0x20);
          while( true ) {
            auVar20 = stack0xfffffffffffffd39;
            auVar14[0xf] = 0;
            auVar14._0_15_ = stack0xfffffffffffffd39;
            _local_2c8 = auVar14 << 8;
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            auVar15[0xf] = 0;
            auVar15._0_15_ = auVar20;
            _local_2c8 = auVar15 << 8;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar24 = lVar24 + 4;
          *(undefined4 *)
           (*(long *)((long)local_298 + 0x10) + (ulong)*(uint *)((long)local_298 + 0x18) * 4) =
               uVar4;
          *(int *)((long)local_298 + 0x18) = *(int *)((long)local_298 + 0x18) + 1;
          *(undefined1 *)((long)local_298 + 0x20) = 0;
        } while ((uVar22 & 0xffffffff) * 4 + 4 != lVar24);
      }
      local_278._8_8_ = 0;
      if (pvStack_290 != (void *)0x0) {
        Memory::free_static(pvStack_290,false);
        Memory::free_static((void *)local_288._0_8_,false);
      }
      if ((local_248._8_8_ != 0) &&
         (uVar22 = local_248._8_8_ - 1 >> (local_258[0xc] & 0x3f), (int)uVar22 != -1)) {
        lVar24 = 0;
        do {
          uVar4 = *(undefined4 *)(local_258._0_8_ + lVar24);
          pcVar1 = (char *)(local_268._0_8_ + 0x20);
          while( true ) {
            auVar20 = stack0xfffffffffffffd69;
            auVar16[0xf] = 0;
            auVar16._0_15_ = stack0xfffffffffffffd69;
            _local_298 = auVar16 << 8;
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            auVar17[0xf] = 0;
            auVar17._0_15_ = auVar20;
            _local_298 = auVar17 << 8;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar24 = lVar24 + 4;
          *(undefined4 *)
           (*(long *)(local_268._0_8_ + 0x10) + (ulong)*(uint *)(local_268._0_8_ + 0x18) * 4) =
               uVar4;
          *(int *)(local_268._0_8_ + 0x18) = *(int *)(local_268._0_8_ + 0x18) + 1;
          *(undefined1 *)(local_268._0_8_ + 0x20) = 0;
        } while ((uVar22 & 0xffffffff) * 4 + 4 != lVar24);
      }
      local_248._8_8_ = 0;
      if ((void *)local_268._8_8_ != (void *)0x0) {
        Memory::free_static((void *)local_268._8_8_,false);
        Memory::free_static((void *)local_258._0_8_,false);
      }
      Projection::~Projection(local_98);
      Projection::~Projection(local_d8);
      Projection::~Projection(local_178);
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      return;
    }
    if (*(int *)(lVar24 + 0x240) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
                    /* WARNING: Does not return */
  pcVar6 = (code *)invalidInstructionException();
  (*pcVar6)();
}



/* RendererSceneCull::_instance_unpair(RendererSceneCull::Instance*, RendererSceneCull::Instance*)
    */

void RendererSceneCull::_instance_unpair(Instance *param_1,Instance *param_2)

{
  Instance *pIVar1;
  uint uVar2;
  long lVar3;
  long lVar4;
  long lVar5;
  code *pcVar6;
  Instance *pIVar7;
  int iVar8;
  uint *puVar9;
  ulong uVar10;
  ulong uVar11;
  long in_FS_OFFSET;
  Instance *local_40;
  Instance *local_38;
  long local_30;
  
  lVar5 = singleton;
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  iVar8 = *(int *)param_2;
  local_40 = param_1;
  local_38 = param_2;
  if (*(int *)param_2 < *(int *)param_1) {
    iVar8 = *(int *)param_1;
    local_40 = param_2;
    local_38 = param_1;
  }
  pIVar7 = local_40;
  if (iVar8 == 5) {
    if ((0xeU >> (*(uint *)local_40 & 0x1f) & 1) != 0) {
      lVar5 = *(long *)(local_40 + 0x298);
      lVar3 = *(long *)(local_38 + 0x298);
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
               *)(lVar5 + 0x10),&local_38);
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
               *)(lVar3 + 0x28),&local_40);
      if (*(char *)(lVar5 + 0x38) != '\0') {
        *(uint *)(lVar3 + 0x60) = 2 - (uint)*(byte *)(lVar3 + 0x68);
      }
      lVar4 = *(long *)(pIVar7 + 0x208);
      if ((lVar4 != 0) && (uVar2 = *(uint *)(pIVar7 + 0x1b0), -1 < (int)uVar2)) {
        uVar11 = *(ulong *)(lVar4 + 0x1f0);
        uVar10 = (ulong)(int)uVar2;
        if (uVar11 <= uVar10) goto LAB_0010524e;
        puVar9 = (uint *)((ulong)(uVar2 & *(uint *)(lVar4 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar4 + 0x1d0) +
                                  (uVar10 >> ((byte)*(undefined4 *)(lVar4 + 0x1e4) & 0x3f)) * 8));
        *puVar9 = *puVar9 | 0x800;
      }
      if (*(char *)(lVar3 + 0x20) != '\0') {
        iVar8 = *(int *)(lVar5 + 0x3c);
        if (iVar8 == 0) {
          _err_print_error("_instance_unpair","servers/rendering/renderer_scene_cull.cpp",0x12f,
                           "geom->projector_count==0 - BUG!",0,0);
          iVar8 = *(int *)(lVar5 + 0x3c);
        }
        *(int *)(lVar5 + 0x3c) = iVar8 + -1;
        if (iVar8 + -1 == 0) {
          lVar4 = *(long *)(pIVar7 + 0x208);
          uVar10 = (ulong)(int)*(uint *)(pIVar7 + 0x1b0);
          uVar11 = *(ulong *)(lVar4 + 0x1f0);
          if (uVar11 <= uVar10) goto LAB_0010524e;
          puVar9 = (uint *)((ulong)(*(uint *)(pIVar7 + 0x1b0) & *(uint *)(lVar4 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar4 + 0x1d0) +
                                    (uVar10 >> ((byte)*(undefined4 *)(lVar4 + 0x1e4) & 0x3f) &
                                    0xffffffff) * 8));
          *puVar9 = *puVar9 | 0x800000;
        }
      }
      if (*(char *)(lVar3 + 0x21) != '\0') {
        iVar8 = *(int *)(lVar5 + 0x40);
        if (iVar8 == 0) {
          _err_print_error("_instance_unpair","servers/rendering/renderer_scene_cull.cpp",0x13c,
                           "geom->softshadow_count==0 - BUG!",0,0);
          iVar8 = *(int *)(lVar5 + 0x40);
        }
        *(int *)(lVar5 + 0x40) = iVar8 + -1;
        if (iVar8 + -1 == 0) {
          lVar5 = *(long *)(pIVar7 + 0x208);
          uVar10 = (ulong)(int)*(uint *)(pIVar7 + 0x1b0);
          uVar11 = *(ulong *)(lVar5 + 0x1f0);
          if (uVar11 <= uVar10) {
LAB_0010524e:
            _err_print_index_error
                      ("operator[]","./core/templates/paged_array.h",0xb0,uVar10,uVar11,"p_index",
                       "count","",false,true);
            _err_flush_stdout();
                    /* WARNING: Does not return */
            pcVar6 = (code *)invalidInstructionException();
            (*pcVar6)();
          }
          puVar9 = (uint *)((ulong)(*(uint *)(pIVar7 + 0x1b0) & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar5 + 0x1d0) +
                                    (uVar10 >> ((byte)*(undefined4 *)(lVar5 + 0x1e4) & 0x3f) &
                                    0xffffffff) * 8));
          *puVar9 = *puVar9 | 0x800000;
        }
      }
    }
  }
  else {
    uVar2 = *(uint *)(singleton + 0x9828);
    if (((uVar2 & 0x40) == 0) || (iVar8 != 6)) {
      if (((char)uVar2 < '\0') && (iVar8 == 7)) {
        if ((0xeU >> (*(uint *)local_40 & 0x1f) & 1) != 0) {
          lVar5 = *(long *)(local_38 + 0x298);
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                   *)(*(long *)(local_40 + 0x298) + 0x48),&local_38);
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                   *)(lVar5 + 0x18),&local_40);
          lVar5 = *(long *)(pIVar7 + 0x208);
          if ((lVar5 != 0) && (uVar2 = *(uint *)(pIVar7 + 0x1b0), -1 < (int)uVar2)) {
            uVar11 = *(ulong *)(lVar5 + 0x1f0);
            uVar10 = (ulong)(int)uVar2;
            if (uVar11 <= uVar10) goto LAB_0010524e;
            puVar9 = (uint *)((ulong)(uVar2 & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                             *(long *)(*(long *)(lVar5 + 0x1d0) +
                                      (uVar10 >> ((byte)*(undefined4 *)(lVar5 + 0x1e4) & 0x3f)) * 8)
                             );
            *puVar9 = *puVar9 | 0x2000;
          }
        }
      }
      else if (iVar8 == 9) {
        if ((0xeU >> (*(uint *)local_40 & 0x1f) & 1) != 0) {
          lVar3 = *(long *)(local_38 + 0x298);
          lVar4 = *(long *)(local_40 + 0x298);
          if (((byte)local_40[0xe0] & 0x10) != 0) {
            HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
            ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                     *)(lVar4 + 0xc0),&local_38);
            if (((*(int *)(lVar4 + 0xe4) == 0) && (lVar4 = *(long *)(pIVar7 + 0x208), lVar4 != 0))
               && (uVar2 = *(uint *)(pIVar7 + 0x1b0), -1 < (int)uVar2)) {
              uVar11 = *(ulong *)(lVar4 + 0x1f0);
              uVar10 = (ulong)(int)uVar2;
              if (uVar11 <= uVar10) goto LAB_0010524e;
              puVar9 = (uint *)((ulong)(uVar2 & *(uint *)(lVar4 + 0x1e8)) * 0x30 +
                               *(long *)(*(long *)(lVar4 + 0x1d0) +
                                        (uVar10 >> ((byte)*(undefined4 *)(lVar4 + 0x1e4) & 0x3f)) *
                                        8));
              *puVar9 = *puVar9 & 0xffff7fff;
            }
            HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
            ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                     *)(lVar3 + 0x10),&local_40);
            if (*(long *)(pIVar7 + 0x238) == 0) {
              pIVar1 = pIVar7 + 0x238;
              *(long *)(pIVar7 + 0x238) = lVar5 + 0x260;
              lVar3 = *(long *)(lVar5 + 0x260);
              *(undefined8 *)(pIVar7 + 0x250) = 0;
              *(long *)(pIVar7 + 0x248) = lVar3;
              if (lVar3 == 0) {
                *(Instance **)(lVar5 + 0x268) = pIVar1;
              }
              else {
                *(Instance **)(lVar3 + 0x18) = pIVar1;
              }
              *(Instance **)(lVar5 + 0x260) = pIVar1;
            }
          }
        }
      }
      else if ((uVar2 & 0x100) == 0) {
        if (iVar8 != 8) goto LAB_001050b0;
        uVar2 = *(uint *)local_40;
LAB_00105083:
        if (uVar2 == 5) {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                   *)(*(long *)(local_38 + 0x298) + 0x60),&local_40);
        }
      }
      else if (iVar8 == 8) {
        uVar2 = *(uint *)local_40;
        if ((0xeU >> (uVar2 & 0x1f) & 1) == 0) goto LAB_00105083;
        lVar5 = *(long *)(local_38 + 0x298);
        HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
        ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                 *)(*(long *)(local_40 + 0x298) + 0x98),&local_38);
        if (((byte)pIVar7[0xe0] & 0x10) == 0) {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                   *)(lVar5 + 0x10),&local_40);
        }
        else {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                   *)(lVar5 + 0x38),&local_40);
        }
        lVar5 = *(long *)(pIVar7 + 0x208);
        if ((lVar5 != 0) && (uVar2 = *(uint *)(pIVar7 + 0x1b0), -1 < (int)uVar2)) {
          uVar11 = *(ulong *)(lVar5 + 0x1f0);
          uVar10 = (ulong)(int)uVar2;
          if (uVar11 <= uVar10) goto LAB_0010524e;
          puVar9 = (uint *)((ulong)(uVar2 & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar5 + 0x1d0) +
                                    (uVar10 >> ((byte)*(undefined4 *)(lVar5 + 0x1e4) & 0x3f)) * 8));
          *puVar9 = *puVar9 | 0x4000;
        }
      }
      else {
LAB_001050b0:
        if ((iVar8 == 4) && (*(uint *)local_40 == 3)) {
          if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00105108. Too many branches */
                    /* WARNING: Treating indirect jump as call */
            (**(code **)(*RenderingServerGlobals::particles_storage + 0x170))
                      (RenderingServerGlobals::particles_storage,*(undefined8 *)(local_40 + 8),
                       *(undefined8 *)(*(long *)(local_38 + 0x298) + 8));
            return;
          }
          goto LAB_0010529d;
        }
      }
    }
    else if ((0xeU >> (*(uint *)local_40 & 0x1f) & 1) != 0) {
      lVar5 = *(long *)(local_38 + 0x298);
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
               *)(*(long *)(local_40 + 0x298) + 0x70),&local_38);
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
               *)(lVar5 + 0x10),&local_40);
      lVar5 = *(long *)(pIVar7 + 0x208);
      if ((lVar5 != 0) && (uVar2 = *(uint *)(pIVar7 + 0x1b0), -1 < (int)uVar2)) {
        uVar11 = *(ulong *)(lVar5 + 0x1f0);
        uVar10 = (ulong)(int)uVar2;
        if (uVar11 <= uVar10) goto LAB_0010524e;
        puVar9 = (uint *)((ulong)(uVar2 & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar5 + 0x1d0) +
                                  (uVar10 >> ((byte)*(undefined4 *)(lVar5 + 0x1e4) & 0x3f)) * 8));
        *puVar9 = *puVar9 | 0x1000;
      }
    }
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010529d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::_instance_queue_update(RendererSceneCull::Instance*, bool, bool) const */

void __thiscall
RendererSceneCull::_instance_queue_update
          (RendererSceneCull *this,Instance *param_1,bool param_2,bool param_3)

{
  Instance *pIVar1;
  long lVar2;
  
  if (param_2) {
    param_1[0x230] = (Instance)0x1;
  }
  if (param_3) {
    param_1[0x231] = (Instance)0x1;
  }
  if (*(long *)(param_1 + 0x238) != 0) {
    return;
  }
  pIVar1 = param_1 + 0x238;
  *(RendererSceneCull **)(param_1 + 0x238) = this + 0x260;
  lVar2 = *(long *)(this + 0x260);
  *(undefined8 *)(param_1 + 0x250) = 0;
  *(long *)(param_1 + 0x248) = lVar2;
  if (lVar2 == 0) {
    *(Instance **)(this + 0x268) = pIVar1;
  }
  else {
    *(Instance **)(lVar2 + 0x18) = pIVar1;
  }
  *(Instance **)(this + 0x260) = pIVar1;
  return;
}



/* RendererSceneCull::_instance_update_mesh_instance(RendererSceneCull::Instance*) const */

void __thiscall
RendererSceneCull::_instance_update_mesh_instance(RendererSceneCull *this,Instance *param_1)

{
  uint uVar1;
  code *pcVar2;
  char cVar3;
  uint *puVar4;
  undefined8 uVar5;
  ulong uVar6;
  long lVar7;
  
  cVar3 = (**(code **)(*RenderingServerGlobals::mesh_storage + 200))
                    (RenderingServerGlobals::mesh_storage,*(undefined8 *)(param_1 + 8),
                     *(long *)(param_1 + 0x10) != 0);
  lVar7 = *(long *)(param_1 + 0x28);
  if ((bool)cVar3 != (lVar7 != 0)) {
    if (cVar3 == '\0') {
      (**(code **)(*RenderingServerGlobals::mesh_storage + 0xd8))();
      *(undefined8 *)(param_1 + 0x28) = 0;
    }
    else {
      uVar5 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0xd0))
                        (RenderingServerGlobals::mesh_storage,*(undefined8 *)(param_1 + 8));
      *(undefined8 *)(param_1 + 0x28) = uVar5;
    }
    (**(code **)(**(long **)(*(long *)(param_1 + 0x298) + 8) + 0x38))
              (*(long **)(*(long *)(param_1 + 0x298) + 8),*(undefined8 *)(param_1 + 0x28));
    lVar7 = *(long *)(param_1 + 0x208);
    if ((lVar7 != 0) && (uVar1 = *(uint *)(param_1 + 0x1b0), -1 < (int)uVar1)) {
      uVar6 = (ulong)(int)uVar1;
      if (*(ulong *)(lVar7 + 0x1f0) <= uVar6) {
        _err_print_index_error
                  ("operator[]","./core/templates/paged_array.h",0xb0,uVar6,
                   *(ulong *)(lVar7 + 0x1f0),"p_index","count","",false,true);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar2 = (code *)invalidInstructionException();
        (*pcVar2)();
      }
      puVar4 = (uint *)((ulong)(uVar1 & *(uint *)(lVar7 + 0x1e8)) * 0x30 +
                       *(long *)(*(long *)(lVar7 + 0x1d0) +
                                (uVar6 >> ((byte)*(undefined4 *)(lVar7 + 0x1e4) & 0x3f)) * 8));
      if (*(long *)(param_1 + 0x28) == 0) {
        *puVar4 = *puVar4 & 0xfffdffff;
        return;
      }
      *puVar4 = *puVar4 | 0x20000;
      goto LAB_001053f9;
    }
    lVar7 = *(long *)(param_1 + 0x28);
  }
  if (lVar7 == 0) {
    return;
  }
LAB_001053f9:
                    /* WARNING: Could not recover jumptable at 0x00105413. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*RenderingServerGlobals::mesh_storage + 0xe0))
            (RenderingServerGlobals::mesh_storage,*(undefined8 *)(param_1 + 0x28),
             *(undefined8 *)(param_1 + 0x10));
  return;
}



/* RendererSceneCull::instance_attach_skeleton(RID, RID) */

void __thiscall
RendererSceneCull::instance_attach_skeleton(RendererSceneCull *this,ulong param_2,long param_3)

{
  Instance *pIVar1;
  long *plVar2;
  long lVar3;
  char *pcVar4;
  undefined8 uVar5;
  Instance *pIVar6;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    pIVar6 = (Instance *)
             (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
             *(long *)(*(long *)(this + 0x97d8) +
                      ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (*(int *)(pIVar6 + 0x300) == (int)(param_2 >> 0x20)) {
      if (param_3 == *(long *)(pIVar6 + 0x10)) {
        return;
      }
      *(long *)(pIVar6 + 0x10) = param_3;
      if (param_3 != 0) {
        (**(code **)(*RenderingServerGlobals::mesh_storage + 0x300))
                  (RenderingServerGlobals::mesh_storage,param_3,pIVar6 + 0x2b8);
      }
      *(undefined2 *)(pIVar6 + 0x230) = 0x101;
      if (*(long *)(pIVar6 + 0x238) == 0) {
        pIVar1 = pIVar6 + 0x238;
        *(RendererSceneCull **)(pIVar6 + 0x238) = this + 0x260;
        lVar3 = *(long *)(this + 0x260);
        *(undefined8 *)(pIVar6 + 0x250) = 0;
        *(long *)(pIVar6 + 0x248) = lVar3;
        if (lVar3 == 0) {
          *(Instance **)(this + 0x268) = pIVar1;
        }
        else {
          *(Instance **)(lVar3 + 0x18) = pIVar1;
        }
        *(Instance **)(this + 0x260) = pIVar1;
      }
      if ((0xeU >> (*(uint *)pIVar6 & 0x1f) & 1) == 0) {
        return;
      }
      if (*(long *)(pIVar6 + 0x298) == 0) {
        return;
      }
      _instance_update_mesh_instance(this,pIVar6);
      plVar2 = *(long **)(*(long *)(pIVar6 + 0x298) + 8);
      if (plVar2 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x0010555d. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (**(code **)(*plVar2 + 0x18))(plVar2,param_3);
        return;
      }
      uVar5 = 0x4b8;
      pcVar4 = "Parameter \"geom->geometry_instance\" is null.";
      goto LAB_0010560a;
    }
    if (*(int *)(pIVar6 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  uVar5 = 0x4a5;
  pcVar4 = "Parameter \"instance\" is null.";
LAB_0010560a:
  _err_print_error("instance_attach_skeleton","servers/rendering/renderer_scene_cull.cpp",uVar5,
                   pcVar4,0,0);
  return;
}



/* RendererSceneCull::_visibility_cull(RendererSceneCull::VisibilityCullData const&, unsigned long,
   unsigned long) */

void __thiscall
RendererSceneCull::_visibility_cull
          (RendererSceneCull *this,VisibilityCullData *param_1,ulong param_2,ulong param_3)

{
  float fVar1;
  float fVar2;
  float fVar3;
  int iVar4;
  long lVar5;
  ulong uVar6;
  ulong uVar7;
  code *pcVar8;
  uint uVar9;
  uint uVar10;
  ulong *puVar11;
  byte bVar12;
  ulong uVar13;
  uint *puVar14;
  ulong uVar15;
  float fVar16;
  float fVar17;
  float fVar18;
  double dVar19;
  float fVar20;
  float fVar21;
  
  uVar9 = _LC103;
  uVar15 = param_2 & 0xffffffff;
  lVar5 = *(long *)(param_1 + 8);
  if (param_3 <= (param_2 & 0xffffffff)) {
    return;
  }
  uVar6 = *(ulong *)(lVar5 + 0x228);
  do {
    if (uVar6 <= uVar15) {
      _err_print_index_error
                ("operator[]","./core/templates/paged_array.h",0xb0,uVar15,uVar6,"p_index","count",
                 "",false,true);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar8 = (code *)invalidInstructionException();
      (*pcVar8)();
    }
    uVar7 = *(ulong *)(lVar5 + 0x1f0);
    puVar11 = (ulong *)((ulong)((uint)uVar15 & *(uint *)(lVar5 + 0x220)) * 0x40 +
                       *(long *)(*(long *)(lVar5 + 0x208) +
                                (uVar15 >> ((byte)*(undefined4 *)(lVar5 + 0x21c) & 0x3f)) * 8));
    uVar13 = (ulong)(int)(uint)puVar11[1];
    if (uVar7 <= uVar13) {
      _err_print_index_error
                ("operator[]","./core/templates/paged_array.h",0xb0,uVar13,uVar7,"p_index","count",
                 "",false,true);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar8 = (code *)invalidInstructionException();
      (*pcVar8)();
    }
    bVar12 = (byte)*(undefined4 *)(lVar5 + 0x1e4);
    puVar14 = (uint *)((ulong)((uint)puVar11[1] & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                      *(long *)(*(long *)(lVar5 + 0x1d0) +
                               (uVar13 >> (bVar12 & 0x3f) & 0xffffffff) * 8));
    uVar10 = puVar14[8];
    if ((int)uVar10 < 0) {
LAB_00105761:
      fVar18 = *(float *)((long)puVar11 + 0x14) - *(float *)(param_1 + 0x14);
      fVar17 = *(float *)(puVar11 + 6);
      fVar1 = *(float *)((long)puVar11 + 0x34);
      iVar4 = *(int *)((long)puVar11 + 0xc);
      uVar7 = *(ulong *)param_1;
      uVar13 = *puVar11;
      fVar20 = (float)((uint)fVar17 ^ uVar9);
      fVar16 = SQRT((*(float *)(puVar11 + 2) - *(float *)(param_1 + 0x10)) *
                    (*(float *)(puVar11 + 2) - *(float *)(param_1 + 0x10)) + fVar18 * fVar18 +
                    (*(float *)(puVar11 + 3) - *(float *)(param_1 + 0x18)) *
                    (*(float *)(puVar11 + 3) - *(float *)(param_1 + 0x18)));
      fVar18 = fVar1;
      if ((iVar4 == 0) && ((uVar7 & uVar13) == 0)) {
        fVar18 = (float)((uint)fVar1 ^ uVar9);
        fVar20 = fVar17;
      }
      fVar2 = *(float *)((long)puVar11 + 0x2c);
      uVar10 = *puVar14;
      if ((fVar2 <= 0.0) || (fVar16 <= fVar2 + fVar18)) {
        fVar3 = *(float *)(puVar11 + 5);
        if (fVar3 <= 0.0) {
          *puVar11 = uVar7 | uVar13;
          fVar21 = _LC55;
          if (iVar4 != 0) {
            *(float *)(puVar11 + 7) = _LC55;
            if ((0.0 < fVar2) && (fVar2 - fVar18 < fVar16)) {
LAB_00105898:
              if (iVar4 == 2) {
                fVar17 = (fVar16 - (fVar2 - fVar18)) / (fVar1 + fVar1);
                if (fVar17 <= fVar21) {
                  fVar21 = fVar17;
                }
                *(float *)(puVar11 + 7) = fVar21;
              }
LAB_001059cd:
              uVar10 = uVar10 & 0xffcfffff | 0x400000;
              goto LAB_0010583e;
            }
          }
        }
        else {
          if (fVar16 < fVar3 + fVar20) {
            *puVar11 = ~uVar7 & uVar13;
            uVar10 = uVar10 & 0xff9fffff | 0x100000;
            goto LAB_0010583e;
          }
          *puVar11 = uVar7 | uVar13;
          fVar21 = _LC55;
          if (iVar4 != 0) {
            *(float *)(puVar11 + 7) = _LC55;
            if ((0.0 < fVar2) && (fVar2 - fVar18 < fVar16)) goto LAB_00105898;
            if (fVar16 < fVar3 - fVar20) {
              if (iVar4 == 2) {
                dVar19 = _LC104 - (double)((fVar16 - (fVar3 + fVar20)) / (fVar17 + fVar17));
                if (dVar19 <= _LC104) {
                  fVar21 = (float)dVar19;
                }
                *(float *)(puVar11 + 7) = fVar21;
              }
              goto LAB_001059cd;
            }
          }
        }
        uVar10 = uVar10 & 0xff8fffff;
      }
      else {
        *puVar11 = ~uVar7 & uVar13;
        uVar10 = uVar10 & 0xffafffff | 0x200000;
      }
    }
    else {
      uVar13 = (ulong)(int)uVar10;
      if (uVar7 <= uVar13) {
        _err_print_index_error
                  ("operator[]","./core/templates/paged_array.h",0xb0,uVar13,uVar7,"p_index","count"
                   ,"",false,true);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar8 = (code *)invalidInstructionException();
        (*pcVar8)();
      }
      uVar10 = *(uint *)((ulong)(uVar10 & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                        *(long *)(*(long *)(lVar5 + 0x1d0) + (uVar13 >> (bVar12 & 0x3f)) * 8));
      if (((uVar10 & 0x200000) == 0) && ((uVar10 & 0x500000) != 0)) goto LAB_00105761;
      uVar10 = *puVar14 & 0xffafffff | 0x200000;
    }
LAB_0010583e:
    *puVar14 = uVar10;
    uVar15 = (ulong)((uint)uVar15 + 1);
    if (param_3 <= uVar15) {
      return;
    }
  } while( true );
}



/* RendererSceneCull::_visibility_cull_threaded(unsigned int,
   RendererSceneCull::VisibilityCullData*) */

void __thiscall
RendererSceneCull::_visibility_cull_threaded
          (RendererSceneCull *this,uint param_1,VisibilityCullData *param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  
  uVar2 = *(uint *)(param_2 + 0x20);
  uVar1 = *(uint *)(WorkerThreadPool::singleton + 0x290);
  uVar3 = uVar2 * param_1;
  if (param_1 + 1 != uVar1) {
    uVar2 = (uVar2 + uVar3) / uVar1;
  }
  _visibility_cull(this,param_2,(ulong)(*(int *)(param_2 + 0x1c) + uVar3 / uVar1),
                   (ulong)(uVar2 + *(int *)(param_2 + 0x1c)));
  return;
}



/* RendererSceneCull::_render_get_environment(RID, RID) */

undefined8 __thiscall
RendererSceneCull::_render_get_environment(RendererSceneCull *this,ulong param_2,ulong param_3)

{
  long lVar1;
  char cVar2;
  undefined8 uVar3;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    lVar1 = *(long *)(*(long *)(this + 0x20) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
    if (*(int *)(lVar1 + 0x70) == (int)(param_2 >> 0x20)) {
      cVar2 = RendererSceneRender::is_environment
                        (*(undefined8 *)(this + 8),*(undefined8 *)(lVar1 + 0x28));
      if (cVar2 != '\0') {
        return *(undefined8 *)(lVar1 + 0x28);
      }
    }
    else if (*(int *)(lVar1 + 0x70) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    if (*(int *)(lVar1 + 0x240) == (int)(param_3 >> 0x20)) {
      cVar2 = RendererSceneRender::is_environment
                        (*(undefined8 *)(this + 8),*(undefined8 *)(lVar1 + 0x110));
      if (cVar2 == '\0') {
        cVar2 = RendererSceneRender::is_environment
                          (*(undefined8 *)(this + 8),*(undefined8 *)(lVar1 + 0x118));
        if (cVar2 == '\0') {
          return 0;
        }
        uVar3 = *(undefined8 *)(lVar1 + 0x118);
      }
      else {
        uVar3 = *(undefined8 *)(lVar1 + 0x110);
      }
      return uVar3;
    }
    if (*(int *)(lVar1 + 0x240) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  return 0;
}



/* RendererSceneCull::_render_get_compositor(RID, RID) */

undefined8 __thiscall
RendererSceneCull::_render_get_compositor(RendererSceneCull *this,ulong param_2,ulong param_3)

{
  long lVar1;
  char cVar2;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x34))) {
    lVar1 = *(long *)(*(long *)(this + 0x20) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
    if (*(int *)(lVar1 + 0x70) == (int)(param_2 >> 0x20)) {
      cVar2 = RendererSceneRender::is_compositor
                        (*(undefined8 *)(this + 8),*(undefined8 *)(lVar1 + 0x38));
      if (cVar2 != '\0') {
        return *(undefined8 *)(lVar1 + 0x38);
      }
    }
    else if (*(int *)(lVar1 + 0x70) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  if ((param_3 != 0) && ((uint)param_3 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    if (*(int *)(lVar1 + 0x240) == (int)(param_3 >> 0x20)) {
      cVar2 = RendererSceneRender::is_compositor
                        (*(undefined8 *)(this + 8),*(undefined8 *)(lVar1 + 0x128));
      if (cVar2 != '\0') {
        return *(undefined8 *)(lVar1 + 0x128);
      }
    }
    else if (*(int *)(lVar1 + 0x240) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  return 0;
}



/* RendererSceneCull::set_scene_render(RendererSceneRender*) */

void __thiscall
RendererSceneCull::set_scene_render(RendererSceneCull *this,RendererSceneRender *param_1)

{
  long lVar1;
  undefined4 uVar2;
  
  lVar1 = *(long *)param_1;
  *(RendererSceneRender **)(this + 8) = param_1;
  uVar2 = (**(code **)(lVar1 + 0x10))(param_1);
  *(undefined4 *)(this + 0x9828) = uVar2;
  return;
}



/* RendererSceneCull::update_interpolation_frame(bool) */

ulong __thiscall RendererSceneCull::update_interpolation_frame(RendererSceneCull *this,bool param_1)

{
  long lVar1;
  ulong *puVar2;
  double dVar3;
  ulong uVar4;
  long lVar5;
  ulong *puVar6;
  ulong uStack_48;
  
  uStack_48 = RendererMeshStorage::update_interpolation_frame
                        (SUB81(RenderingServerGlobals::mesh_storage,0));
  if (param_1) {
    lVar5 = Engine::get_singleton();
    puVar6 = *(ulong **)(this + 0xb558);
    dVar3 = *(double *)(lVar5 + 0x60);
    uStack_48 = (ulong)*(uint *)(this + 0xb550);
    puVar2 = puVar6 + uStack_48;
    if (puVar6 != puVar2) {
      do {
        if (*puVar6 != 0) {
          uVar4 = *puVar6;
          uStack_48 = uVar4 & 0xffffffff;
          if ((uint)uVar4 < *(uint *)(this + 0x97ec)) {
            lVar5 = (uStack_48 % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                    *(long *)(*(long *)(this + 0x97d8) + (uStack_48 / *(uint *)(this + 0x97e8)) * 8)
            ;
            uStack_48 = uVar4 >> 0x20;
            if (*(int *)(lVar5 + 0x300) == (int)(uVar4 >> 0x20)) {
              uStack_48 = TransformInterpolator::interpolate_transform_3d_via_method
                                    ((float)dVar3,lVar5 + 0x90,lVar5 + 0x60,lVar5 + 0x30,
                                     *(byte *)(lVar5 + 0xe1) >> 1 & 7);
              *(undefined1 *)(lVar5 + 0x230) = 1;
              if (*(long *)(lVar5 + 0x238) == 0) {
                uStack_48 = *(ulong *)(this + 0x260);
                *(RendererSceneCull **)(lVar5 + 0x238) = this + 0x260;
                lVar1 = lVar5 + 0x238;
                *(undefined8 *)(lVar5 + 0x250) = 0;
                *(ulong *)(lVar5 + 0x248) = uStack_48;
                if (uStack_48 == 0) {
                  *(long *)(this + 0x268) = lVar1;
                }
                else {
                  *(long *)(uStack_48 + 0x18) = lVar1;
                }
                *(long *)(this + 0x260) = lVar1;
              }
            }
            else if (*(int *)(lVar5 + 0x300) + 0x80000000U < 0x7fffffff) {
              uStack_48 = 0;
              _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                               "Method/function failed. Returning: nullptr",
                               "Attempting to use an uninitialized RID",0);
            }
          }
        }
        puVar6 = puVar6 + 1;
      } while (puVar2 != puVar6);
    }
  }
  return uStack_48;
}



/* RendererSceneCull::pre_draw(bool) */

void __thiscall RendererSceneCull::pre_draw(RendererSceneCull *this,bool param_1)

{
  if (this[0xb590] == (RendererSceneCull)0x0) {
    return;
  }
  update_interpolation_frame(this,param_1);
  return;
}



/* RendererSceneCull::InterpolationData::notify_free_instance(RID, RendererSceneCull::Instance&) */

void __thiscall
RendererSceneCull::InterpolationData::notify_free_instance
          (InterpolationData *this,long param_2,long param_3)

{
  uint *puVar1;
  long *plVar2;
  uint uVar3;
  uint uVar4;
  
  *(byte *)(param_3 + 0xe0) = *(byte *)(param_3 + 0xe0) & 0x3f;
  if (this[0x40] != (InterpolationData)0x0) {
    uVar4 = *(uint *)this;
    uVar3 = 0;
    while (uVar3 < uVar4) {
      plVar2 = (long *)(*(long *)(this + 8) + (ulong)uVar3 * 8);
      while (*plVar2 != param_2) {
        uVar3 = uVar3 + 1;
        plVar2 = plVar2 + 1;
        if (uVar4 == uVar3) goto LAB_00105fe8;
      }
      uVar4 = uVar4 - 1;
      *(uint *)this = uVar4;
      if (uVar4 <= uVar3) break;
      *plVar2 = *(long *)(*(long *)(this + 8) + (ulong)uVar4 * 8);
    }
LAB_00105fe8:
    puVar1 = *(uint **)(this + 0x30);
    uVar3 = 0;
    uVar4 = *puVar1;
    while (uVar3 < uVar4) {
      plVar2 = (long *)(*(long *)(puVar1 + 2) + (ulong)uVar3 * 8);
      while (*plVar2 != param_2) {
        uVar3 = uVar3 + 1;
        plVar2 = plVar2 + 1;
        if (uVar4 == uVar3) goto LAB_00106030;
      }
      uVar4 = uVar4 - 1;
      *puVar1 = uVar4;
      if (uVar4 <= uVar3) break;
      *plVar2 = *(long *)(*(long *)(puVar1 + 2) + (ulong)uVar4 * 8);
    }
LAB_00106030:
    puVar1 = *(uint **)(this + 0x38);
    uVar3 = 0;
    uVar4 = *puVar1;
    while (uVar3 < uVar4) {
      plVar2 = (long *)(*(long *)(puVar1 + 2) + (ulong)uVar3 * 8);
      while (*plVar2 != param_2) {
        uVar3 = uVar3 + 1;
        plVar2 = plVar2 + 1;
        if (uVar3 == uVar4) {
          return;
        }
      }
      uVar4 = uVar4 - 1;
      *puVar1 = uVar4;
      if (uVar4 <= uVar3) {
        return;
      }
      *plVar2 = *(long *)(*(long *)(puVar1 + 2) + (ulong)uVar4 * 8);
    }
  }
  return;
}



/* RendererSceneCull::_instance_pair(RendererSceneCull::Instance*, RendererSceneCull::Instance*) */

void RendererSceneCull::_instance_pair(Instance *param_1,Instance *param_2)

{
  int iVar1;
  uint uVar2;
  long lVar3;
  long lVar4;
  long lVar5;
  code *pcVar6;
  Instance *pIVar7;
  uint *puVar8;
  ulong uVar9;
  ulong uVar10;
  long in_FS_OFFSET;
  Instance *local_58;
  Instance *local_48 [3];
  long local_30;
  
  lVar5 = singleton;
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  pIVar7 = param_2;
  iVar1 = *(int *)param_2;
  local_58 = param_1;
  if (*(int *)param_2 < *(int *)param_1) {
    pIVar7 = param_1;
    iVar1 = *(int *)param_1;
    local_58 = param_2;
  }
  if (iVar1 == 5) {
    if ((0xeU >> (*(uint *)local_58 & 0x1f) & 1) != 0) {
      lVar5 = *(long *)(local_58 + 0x298);
      lVar4 = *(long *)(pIVar7 + 0x298);
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::insert(local_48);
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::insert(local_48);
      if (*(char *)(lVar5 + 0x38) != '\0') {
        *(uint *)(lVar4 + 0x60) = 2 - (uint)*(byte *)(lVar4 + 0x68);
      }
      lVar3 = *(long *)(local_58 + 0x208);
      if ((lVar3 != 0) && (uVar2 = *(uint *)(local_58 + 0x1b0), -1 < (int)uVar2)) {
        uVar10 = *(ulong *)(lVar3 + 0x1f0);
        uVar9 = (ulong)(int)uVar2;
        if (uVar10 <= uVar9) goto LAB_0010667e;
        puVar8 = (uint *)((ulong)(uVar2 & *(uint *)(lVar3 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar3 + 0x1d0) +
                                  (uVar9 >> ((byte)*(undefined4 *)(lVar3 + 0x1e4) & 0x3f)) * 8));
        *puVar8 = *puVar8 | 0x800;
      }
      if ((*(char *)(lVar4 + 0x20) != '\0') &&
         (iVar1 = *(int *)(lVar5 + 0x3c) + 1, *(int *)(lVar5 + 0x3c) = iVar1, iVar1 == 1)) {
        uVar9 = (ulong)(int)*(uint *)(local_58 + 0x1b0);
        uVar10 = *(ulong *)(lVar3 + 0x1f0);
        if (uVar10 <= uVar9) goto LAB_0010667e;
        puVar8 = (uint *)((ulong)(*(uint *)(local_58 + 0x1b0) & *(uint *)(lVar3 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar3 + 0x1d0) +
                                  (uVar9 >> ((byte)*(undefined4 *)(lVar3 + 0x1e4) & 0x3f) &
                                  0xffffffff) * 8));
        *puVar8 = *puVar8 | 0x800000;
      }
      if ((*(char *)(lVar4 + 0x21) != '\0') &&
         (iVar1 = *(int *)(lVar5 + 0x40) + 1, *(int *)(lVar5 + 0x40) = iVar1, iVar1 == 1)) {
        uVar9 = (ulong)(int)*(uint *)(local_58 + 0x1b0);
        uVar10 = *(ulong *)(lVar3 + 0x1f0);
        if (uVar10 <= uVar9) {
LAB_0010667e:
          _err_print_index_error
                    ("operator[]","./core/templates/paged_array.h",0xb0,uVar9,uVar10,"p_index",
                     "count","",false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar6 = (code *)invalidInstructionException();
          (*pcVar6)();
        }
        puVar8 = (uint *)((ulong)(*(uint *)(local_58 + 0x1b0) & *(uint *)(lVar3 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar3 + 0x1d0) +
                                  (uVar9 >> ((byte)*(undefined4 *)(lVar3 + 0x1e4) & 0x3f) &
                                  0xffffffff) * 8));
        *puVar8 = *puVar8 | 0x800000;
      }
    }
  }
  else {
    uVar2 = *(uint *)(singleton + 0x9828);
    if (((uVar2 & 0x40) == 0) || (iVar1 != 6)) {
      if (((char)uVar2 < '\0') && (iVar1 == 7)) {
        if ((0xeU >> (*(uint *)local_58 & 0x1f) & 1) != 0) {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(local_48);
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(local_48);
          lVar5 = *(long *)(local_58 + 0x208);
          if ((lVar5 != 0) && (uVar2 = *(uint *)(local_58 + 0x1b0), -1 < (int)uVar2)) {
            uVar10 = *(ulong *)(lVar5 + 0x1f0);
            uVar9 = (ulong)(int)uVar2;
            if (uVar10 <= uVar9) goto LAB_0010667e;
            puVar8 = (uint *)((ulong)(uVar2 & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                             *(long *)(*(long *)(lVar5 + 0x1d0) +
                                      (uVar9 >> ((byte)*(undefined4 *)(lVar5 + 0x1e4) & 0x3f)) * 8))
            ;
            *puVar8 = *puVar8 | 0x2000;
          }
        }
      }
      else if (iVar1 == 9) {
        if (((0xeU >> (*(uint *)local_58 & 0x1f) & 1) != 0) && (((byte)local_58[0xe0] & 0x10) != 0))
        {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(local_48);
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(local_48);
          lVar4 = *(long *)(local_58 + 0x208);
          if ((lVar4 != 0) && (uVar2 = *(uint *)(local_58 + 0x1b0), -1 < (int)uVar2)) {
            uVar10 = *(ulong *)(lVar4 + 0x1f0);
            uVar9 = (ulong)(int)uVar2;
            if (uVar10 <= uVar9) goto LAB_0010667e;
            puVar8 = (uint *)((ulong)(uVar2 & *(uint *)(lVar4 + 0x1e8)) * 0x30 +
                             *(long *)(*(long *)(lVar4 + 0x1d0) +
                                      (uVar9 >> ((byte)*(undefined4 *)(lVar4 + 0x1e4) & 0x3f)) * 8))
            ;
            *puVar8 = *puVar8 | 0x8000;
          }
          if (*(long *)(local_58 + 0x238) == 0) {
            pIVar7 = local_58 + 0x238;
            *(long *)(local_58 + 0x238) = lVar5 + 0x260;
            lVar4 = *(long *)(lVar5 + 0x260);
            *(undefined8 *)(local_58 + 0x250) = 0;
            *(long *)(local_58 + 0x248) = lVar4;
            if (lVar4 == 0) {
              *(Instance **)(lVar5 + 0x268) = pIVar7;
            }
            else {
              *(Instance **)(lVar4 + 0x18) = pIVar7;
            }
            *(Instance **)(lVar5 + 0x260) = pIVar7;
          }
        }
      }
      else if ((uVar2 & 0x100) == 0) {
        if (iVar1 != 8) goto LAB_001064f0;
        uVar2 = *(uint *)local_58;
LAB_001064c2:
        if (uVar2 == 5) {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(local_48);
        }
      }
      else if (iVar1 == 8) {
        uVar2 = *(uint *)local_58;
        if ((0xeU >> (uVar2 & 0x1f) & 1) == 0) goto LAB_001064c2;
        HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
        ::insert(local_48);
        if (((byte)local_58[0xe0] & 0x10) == 0) {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(local_48);
        }
        else {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(local_48);
        }
        lVar5 = *(long *)(local_58 + 0x208);
        if ((lVar5 != 0) && (uVar2 = *(uint *)(local_58 + 0x1b0), -1 < (int)uVar2)) {
          uVar10 = *(ulong *)(lVar5 + 0x1f0);
          uVar9 = (ulong)(int)uVar2;
          if (uVar10 <= uVar9) goto LAB_0010667e;
          puVar8 = (uint *)((ulong)(uVar2 & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar5 + 0x1d0) +
                                    (uVar9 >> ((byte)*(undefined4 *)(lVar5 + 0x1e4) & 0x3f)) * 8));
          *puVar8 = *puVar8 | 0x4000;
        }
      }
      else {
LAB_001064f0:
        if ((iVar1 == 4) && (*(uint *)local_58 == 3)) {
          if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00106547. Too many branches */
                    /* WARNING: Treating indirect jump as call */
            (**(code **)(*RenderingServerGlobals::particles_storage + 0x168))
                      (RenderingServerGlobals::particles_storage,*(undefined8 *)(local_58 + 8),
                       *(undefined8 *)(*(long *)(pIVar7 + 0x298) + 8));
            return;
          }
          goto LAB_001066cd;
        }
      }
    }
    else if ((0xeU >> (*(uint *)local_58 & 0x1f) & 1) != 0) {
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::insert(local_48);
      HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
      ::insert(local_48);
      lVar5 = *(long *)(local_58 + 0x208);
      if ((lVar5 != 0) && (uVar2 = *(uint *)(local_58 + 0x1b0), -1 < (int)uVar2)) {
        uVar10 = *(ulong *)(lVar5 + 0x1f0);
        uVar9 = (ulong)(int)uVar2;
        if (uVar10 <= uVar9) goto LAB_0010667e;
        puVar8 = (uint *)((ulong)(uVar2 & *(uint *)(lVar5 + 0x1e8)) * 0x30 +
                         *(long *)(*(long *)(lVar5 + 0x1d0) +
                                  (uVar9 >> ((byte)*(undefined4 *)(lVar5 + 0x1e4) & 0x3f)) * 8));
        *puVar8 = *puVar8 | 0x1000;
      }
    }
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_001066cd:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::instance_geometry_set_lightmap(RID, RID, Rect2 const&, int) */

void __thiscall
RendererSceneCull::instance_geometry_set_lightmap
          (RendererSceneCull *this,ulong param_2,ulong param_3,undefined8 *param_4,uint param_5)

{
  long lVar1;
  long *plVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  Instance *pIVar5;
  char *pcVar6;
  long lVar7;
  undefined8 uVar8;
  Instance *pIVar9;
  long in_FS_OFFSET;
  Instance *local_60;
  Instance *local_58 [3];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_2 != 0) {
    if ((uint)param_2 < *(uint *)(this + 0x97ec)) {
      pIVar9 = (Instance *)
               (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
               *(long *)(*(long *)(this + 0x97d8) +
                        ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
      if (*(uint *)(pIVar9 + 0x300) == (uint)(param_2 >> 0x20)) {
        local_60 = pIVar9;
        if (*(long *)(pIVar9 + 0xf0) != 0) {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                   *)(*(long *)(*(long *)(pIVar9 + 0xf0) + 0x298) + 0x38),&local_60);
          *(undefined8 *)(pIVar9 + 0xf0) = 0;
        }
        pIVar5 = local_60;
        if (param_3 == 0) {
          uVar3 = *param_4;
          uVar4 = param_4[1];
          uVar8 = 0;
          *(uint *)(pIVar9 + 0x108) = param_5;
          *(undefined8 *)(pIVar9 + 0xf0) = 0;
          *(undefined8 *)(pIVar9 + 0xf8) = uVar3;
          *(undefined8 *)(pIVar9 + 0x100) = uVar4;
        }
        else {
          pIVar9 = pIVar5;
          if ((uint)param_3 < *(uint *)(this + 0x97ec)) {
            lVar7 = ((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                    *(long *)(*(long *)(this + 0x97d8) +
                             ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
            if (*(int *)(lVar7 + 0x300) == (int)(param_3 >> 0x20)) {
              lVar1 = *(long *)(lVar7 + 0x298);
              uVar8 = *param_4;
              uVar3 = param_4[1];
              *(long *)(local_60 + 0xf0) = lVar7;
              *(uint *)(local_60 + 0x108) = param_5;
              *(undefined8 *)(local_60 + 0xf8) = uVar8;
              *(undefined8 *)(local_60 + 0x100) = uVar3;
              HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
              ::insert(local_58);
              uVar8 = *(undefined8 *)(lVar1 + 8);
            }
            else if (*(int *)(lVar7 + 0x300) + 0x80000000U < 0x7fffffff) {
              _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                               "Method/function failed. Returning: nullptr",
                               "Attempting to use an uninitialized RID",0,0);
              uVar3 = *param_4;
              uVar4 = param_4[1];
              uVar8 = 0;
              *(undefined8 *)(pIVar5 + 0xf0) = 0;
              *(uint *)(pIVar5 + 0x108) = param_5;
              *(undefined8 *)(pIVar5 + 0xf8) = uVar3;
              *(undefined8 *)(pIVar5 + 0x100) = uVar4;
            }
            else {
              uVar3 = *param_4;
              uVar4 = param_4[1];
              uVar8 = 0;
              *(uint *)(local_60 + 0x108) = param_5;
              *(undefined8 *)(local_60 + 0xf0) = 0;
              *(undefined8 *)(local_60 + 0xf8) = uVar3;
              *(undefined8 *)(local_60 + 0x100) = uVar4;
            }
          }
          else {
            uVar3 = *param_4;
            uVar4 = param_4[1];
            uVar8 = 0;
            *(undefined8 *)(local_60 + 0xf0) = 0;
            *(uint *)(local_60 + 0x108) = param_5;
            *(undefined8 *)(local_60 + 0xf8) = uVar3;
            *(undefined8 *)(local_60 + 0x100) = uVar4;
          }
        }
        if (((0xeU >> (*(uint *)pIVar9 & 0x1f) & 1) != 0) && (*(long *)(pIVar9 + 0x298) != 0)) {
          plVar2 = *(long **)(*(long *)(pIVar9 + 0x298) + 8);
          if (plVar2 != (long *)0x0) {
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x0010686a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
              (**(code **)(*plVar2 + 0x88))(plVar2,uVar8,param_4,param_5);
              return;
            }
            goto LAB_00106a47;
          }
          if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) goto LAB_00106a47;
          uVar8 = 0x64d;
          pcVar6 = "Parameter \"geom->geometry_instance\" is null.";
          goto LAB_001068f6;
        }
        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
          return;
        }
        goto LAB_00106a47;
      }
      if (*(uint *)(pIVar9 + 0x300) + 0x80000000 < 0x7fffffff) {
        _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                         "Method/function failed. Returning: nullptr",
                         "Attempting to use an uninitialized RID",0,0);
      }
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    uVar8 = 0x635;
    pcVar6 = "Parameter \"instance\" is null.";
LAB_001068f6:
    _err_print_error("instance_geometry_set_lightmap","servers/rendering/renderer_scene_cull.cpp",
                     uVar8,pcVar6,0,0);
    return;
  }
LAB_00106a47:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::scenario_remove_viewport_visibility_mask(RID, RID) */

ulong __thiscall
RendererSceneCull::scenario_remove_viewport_visibility_mask
          (RendererSceneCull *this,ulong param_2,long param_3)

{
  long lVar1;
  uint *puVar2;
  undefined8 *puVar3;
  undefined8 *puVar4;
  long *plVar5;
  long lVar6;
  long lVar7;
  undefined8 uVar8;
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  ulong uVar35;
  ulong *puVar36;
  ulong uVar37;
  ulong uVar38;
  int iVar39;
  uint uVar40;
  long lVar41;
  ulong uVar42;
  ulong uVar43;
  uint uVar44;
  long *plVar45;
  ulong uVar46;
  uint uVar47;
  uint uVar48;
  uint *puVar49;
  long local_40 [2];
  
  local_40[0] = param_3;
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    uVar44 = *(uint *)(lVar1 + 0x240);
    if (uVar44 == (uint)(param_2 >> 0x20)) {
      if (*(long *)(lVar1 + 0x150) == 0) {
        return (ulong)uVar44;
      }
      if (*(int *)(lVar1 + 0x174) == 0) {
        return (ulong)uVar44;
      }
      uVar46 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar1 + 0x170) * 4));
      lVar6 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(lVar1 + 0x170) * 8);
      uVar35 = param_3 * 0x3ffff - 1;
      uVar35 = (uVar35 ^ uVar35 >> 0x1f) * 0x15;
      uVar35 = (uVar35 ^ uVar35 >> 0xb) * 0x41;
      uVar35 = uVar35 >> 0x16 ^ uVar35;
      uVar43 = uVar35 & 0xffffffff;
      if ((int)uVar35 == 0) {
        uVar43 = 1;
      }
      auVar9._8_8_ = 0;
      auVar9._0_8_ = uVar43 * lVar6;
      auVar22._8_8_ = 0;
      auVar22._0_8_ = uVar46;
      auVar9 = auVar9 * auVar22;
      lVar41 = auVar9._8_8_;
      uVar44 = *(uint *)(*(long *)(lVar1 + 0x158) + lVar41 * 4);
      iVar39 = auVar9._8_4_;
      if (uVar44 == 0) {
        return auVar9._0_8_;
      }
      uVar48 = 0;
      while (((uint)uVar43 != uVar44 ||
             (param_3 != *(long *)(*(long *)(*(long *)(lVar1 + 0x150) + lVar41 * 8) + 0x10)))) {
        uVar48 = uVar48 + 1;
        auVar10._8_8_ = 0;
        auVar10._0_8_ = (ulong)(iVar39 + 1) * lVar6;
        auVar23._8_8_ = 0;
        auVar23._0_8_ = uVar46;
        auVar10 = auVar10 * auVar23;
        lVar41 = auVar10._8_8_;
        uVar44 = *(uint *)(*(long *)(lVar1 + 0x158) + lVar41 * 4);
        iVar39 = auVar10._8_4_;
        if (uVar44 == 0) {
          return auVar10._0_8_;
        }
        auVar11._8_8_ = 0;
        auVar11._0_8_ = (ulong)uVar44 * lVar6;
        auVar24._8_8_ = 0;
        auVar24._0_8_ = uVar46;
        auVar12._8_8_ = 0;
        auVar12._0_8_ =
             (ulong)((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar1 + 0x170) * 4) +
                     iVar39) - SUB164(auVar11 * auVar24,8)) * lVar6;
        auVar25._8_8_ = 0;
        auVar25._0_8_ = uVar46;
        if (SUB164(auVar12 * auVar25,8) < uVar48) {
          return SUB168(auVar12 * auVar25,0);
        }
      }
      puVar36 = (ulong *)HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                         ::operator[]((HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                                       *)(lVar1 + 0x148),(RID *)local_40);
      uVar35 = *puVar36;
      lVar6 = *(long *)(lVar1 + 0x150);
      *(ulong *)(lVar1 + 0x140) = *(ulong *)(lVar1 + 0x140) & ~uVar35;
      if (lVar6 == 0) {
        return ~uVar35;
      }
      if (*(uint *)(lVar1 + 0x174) == 0) {
        return (ulong)*(uint *)(lVar1 + 0x174);
      }
      lVar41 = *(long *)(lVar1 + 0x158);
      uVar44 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar1 + 0x170) * 4);
      uVar46 = CONCAT44(0,uVar44);
      lVar7 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(lVar1 + 0x170) * 8);
      auVar13._8_8_ = 0;
      auVar13._0_8_ = uVar43 * lVar7;
      auVar26._8_8_ = 0;
      auVar26._0_8_ = uVar46;
      auVar13 = auVar13 * auVar26;
      uVar48 = *(uint *)(lVar41 + auVar13._8_8_ * 4);
      uVar35 = (ulong)auVar13._8_4_;
      if (uVar48 == 0) {
        return auVar13._0_8_;
      }
      uVar47 = 0;
      uVar38 = auVar13._8_8_;
      do {
        auVar16._8_8_ = 0;
        auVar16._0_8_ = (ulong)((int)uVar35 + 1) * lVar7;
        auVar29._8_8_ = 0;
        auVar29._0_8_ = uVar46;
        auVar16 = auVar16 * auVar29;
        uVar42 = auVar16._8_8_;
        uVar37 = auVar16._0_8_;
        uVar40 = auVar16._8_4_;
        if (((uint)uVar43 == uVar48) &&
           (uVar37 = *(ulong *)(lVar6 + uVar38 * 8), param_3 == *(long *)(uVar37 + 0x10))) {
          puVar49 = (uint *)(lVar41 + uVar42 * 4);
          uVar48 = *puVar49;
          if ((uVar48 != 0) &&
             (auVar17._8_8_ = 0, auVar17._0_8_ = (ulong)uVar48 * lVar7, auVar30._8_8_ = 0,
             auVar30._0_8_ = uVar46, auVar18._8_8_ = 0,
             auVar18._0_8_ = (ulong)((uVar40 + uVar44) - SUB164(auVar17 * auVar30,8)) * lVar7,
             auVar31._8_8_ = 0, auVar31._0_8_ = uVar46, uVar43 = (ulong)uVar40, uVar38 = uVar35,
             SUB164(auVar18 * auVar31,8) != 0)) {
            while( true ) {
              uVar35 = uVar43;
              puVar2 = (uint *)(lVar41 + uVar38 * 4);
              *puVar49 = *puVar2;
              puVar3 = (undefined8 *)(lVar6 + uVar42 * 8);
              *puVar2 = uVar48;
              puVar4 = (undefined8 *)(lVar6 + uVar38 * 8);
              uVar8 = *puVar3;
              *puVar3 = *puVar4;
              *puVar4 = uVar8;
              auVar21._8_8_ = 0;
              auVar21._0_8_ = (ulong)((int)uVar35 + 1) * lVar7;
              auVar34._8_8_ = 0;
              auVar34._0_8_ = uVar46;
              uVar42 = SUB168(auVar21 * auVar34,8);
              puVar49 = (uint *)(lVar41 + uVar42 * 4);
              uVar48 = *puVar49;
              if ((uVar48 == 0) ||
                 (auVar19._8_8_ = 0, auVar19._0_8_ = (ulong)uVar48 * lVar7, auVar32._8_8_ = 0,
                 auVar32._0_8_ = uVar46, auVar20._8_8_ = 0,
                 auVar20._0_8_ =
                      (ulong)((SUB164(auVar21 * auVar34,8) + uVar44) - SUB164(auVar19 * auVar32,8))
                      * lVar7, auVar33._8_8_ = 0, auVar33._0_8_ = uVar46,
                 SUB164(auVar20 * auVar33,8) == 0)) break;
              uVar43 = uVar42 & 0xffffffff;
              uVar38 = uVar35;
            }
          }
          plVar5 = (long *)(lVar6 + uVar35 * 8);
          *(undefined4 *)(lVar41 + uVar35 * 4) = 0;
          plVar45 = (long *)*plVar5;
          if (*(long **)(lVar1 + 0x160) == plVar45) {
            *(long *)(lVar1 + 0x160) = *plVar45;
            plVar45 = (long *)*plVar5;
          }
          if (*(long **)(lVar1 + 0x168) == plVar45) {
            *(long *)(lVar1 + 0x168) = plVar45[1];
            plVar45 = (long *)*plVar5;
          }
          if ((long *)plVar45[1] != (long *)0x0) {
            *(long *)plVar45[1] = *plVar45;
            plVar45 = (long *)*plVar5;
          }
          if (*plVar45 != 0) {
            *(long *)(*plVar45 + 8) = plVar45[1];
            plVar45 = (long *)*plVar5;
          }
          Memory::free_static(plVar45,false);
          uVar43 = *(ulong *)(lVar1 + 0x150);
          *(undefined8 *)(uVar43 + uVar35 * 8) = 0;
          *(int *)(lVar1 + 0x174) = *(int *)(lVar1 + 0x174) + -1;
          return uVar43;
        }
        uVar48 = *(uint *)(lVar41 + uVar42 * 4);
        uVar35 = uVar42 & 0xffffffff;
        uVar47 = uVar47 + 1;
      } while ((uVar48 != 0) &&
              (auVar14._8_8_ = 0, auVar14._0_8_ = (ulong)uVar48 * lVar7, auVar27._8_8_ = 0,
              auVar27._0_8_ = uVar46, auVar15._8_8_ = 0,
              auVar15._0_8_ = (ulong)((uVar44 + uVar40) - SUB164(auVar14 * auVar27,8)) * lVar7,
              auVar28._8_8_ = 0, auVar28._0_8_ = uVar46, uVar37 = SUB168(auVar15 * auVar28,0),
              uVar38 = uVar42, uVar47 <= SUB164(auVar15 * auVar28,8)));
      return uVar37;
    }
    if (uVar44 + 0x80000000 < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  uVar35 = _err_print_error("scenario_remove_viewport_visibility_mask",
                            "servers/rendering/renderer_scene_cull.cpp",0x1c9,
                            "Parameter \"scenario\" is null.",0,0);
  return uVar35;
}



/* RendererSceneCull::scenario_add_viewport_visibility_mask(RID, RID) */

void __thiscall
RendererSceneCull::scenario_add_viewport_visibility_mask
          (RendererSceneCull *this,ulong param_2,long param_3)

{
  long lVar1;
  long lVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  ulong uVar11;
  ulong *puVar12;
  int iVar13;
  long lVar14;
  ulong uVar15;
  uint uVar16;
  ulong uVar17;
  uint uVar18;
  long local_40 [2];
  
  local_40[0] = param_3;
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    if (*(int *)(lVar1 + 0x240) == (int)(param_2 >> 0x20)) {
      if ((*(long *)(lVar1 + 0x150) != 0) && (*(int *)(lVar1 + 0x174) != 0)) {
        uVar17 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar1 + 0x170) * 4))
        ;
        lVar2 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(lVar1 + 0x170) * 8);
        uVar11 = param_3 * 0x3ffff - 1;
        uVar11 = (uVar11 ^ uVar11 >> 0x1f) * 0x15;
        uVar11 = (uVar11 ^ uVar11 >> 0xb) * 0x41;
        uVar11 = uVar11 >> 0x16 ^ uVar11;
        uVar15 = uVar11 & 0xffffffff;
        if ((int)uVar11 == 0) {
          uVar15 = 1;
        }
        auVar3._8_8_ = 0;
        auVar3._0_8_ = uVar15 * lVar2;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar17;
        lVar14 = SUB168(auVar3 * auVar7,8);
        uVar16 = *(uint *)(*(long *)(lVar1 + 0x158) + lVar14 * 4);
        iVar13 = SUB164(auVar3 * auVar7,8);
        if (uVar16 != 0) {
          uVar18 = 0;
          do {
            if ((uVar16 == (uint)uVar15) &&
               (param_3 == *(long *)(*(long *)(*(long *)(lVar1 + 0x150) + lVar14 * 8) + 0x10))) {
              _err_print_error("scenario_add_viewport_visibility_mask",
                               "servers/rendering/renderer_scene_cull.cpp",0x1d6,
                               "Condition \"scenario->viewport_visibility_masks.has(p_viewport)\" is true."
                               ,0,0);
              return;
            }
            uVar18 = uVar18 + 1;
            auVar4._8_8_ = 0;
            auVar4._0_8_ = (ulong)(iVar13 + 1) * lVar2;
            auVar8._8_8_ = 0;
            auVar8._0_8_ = uVar17;
            lVar14 = SUB168(auVar4 * auVar8,8);
            uVar16 = *(uint *)(*(long *)(lVar1 + 0x158) + lVar14 * 4);
            iVar13 = SUB164(auVar4 * auVar8,8);
          } while ((uVar16 != 0) &&
                  (auVar5._8_8_ = 0, auVar5._0_8_ = (ulong)uVar16 * lVar2, auVar9._8_8_ = 0,
                  auVar9._0_8_ = uVar17, auVar6._8_8_ = 0,
                  auVar6._0_8_ = (ulong)((*(uint *)(hash_table_size_primes +
                                                   (ulong)*(uint *)(lVar1 + 0x170) * 4) + iVar13) -
                                        SUB164(auVar5 * auVar9,8)) * lVar2, auVar10._8_8_ = 0,
                  auVar10._0_8_ = uVar17, uVar18 <= SUB164(auVar6 * auVar10,8)));
        }
      }
      uVar11 = *(ulong *)(lVar1 + 0x140);
      uVar15 = (ulong)((uint)uVar11 & 1);
      if ((uVar11 & 1) == 0) {
        uVar15 = 1;
      }
      else {
        do {
          uVar15 = uVar15 * 2;
        } while ((uVar15 & uVar11) != 0);
        if (uVar15 == 0) {
          uVar15 = 0x8000000000000000;
          _err_print_error("scenario_add_viewport_visibility_mask",
                           "servers/rendering/renderer_scene_cull.cpp",0x1de,
                           "Only 64 viewports per scenario allowed when using visibility ranges.",0,
                           0);
        }
      }
      puVar12 = (ulong *)HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                         ::operator[]((HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                                       *)(lVar1 + 0x148),(RID *)local_40);
      *puVar12 = uVar15;
      *(ulong *)(lVar1 + 0x140) = *(ulong *)(lVar1 + 0x140) | uVar15;
      return;
    }
    if (*(int *)(lVar1 + 0x240) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("scenario_add_viewport_visibility_mask",
                   "servers/rendering/renderer_scene_cull.cpp",0x1d5,
                   "Parameter \"scenario\" is null.",0,0);
  return;
}



/* RendererSceneCull::_update_instance_visibility_depth(RendererSceneCull::Instance*) */

undefined8 __thiscall
RendererSceneCull::_update_instance_visibility_depth(RendererSceneCull *this,Instance *param_1)

{
  long lVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  ulong uVar10;
  int iVar11;
  long lVar12;
  undefined8 uVar13;
  void *__s;
  ulong uVar14;
  long *plVar15;
  uint uVar16;
  ulong uVar17;
  void *pvVar18;
  uint uVar19;
  long in_FS_OFFSET;
  Instance *local_80;
  Instance *local_78 [2];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = 2;
  local_68 = (undefined1  [16])0x0;
  local_58 = (undefined1  [16])0x0;
  local_80 = param_1;
  do {
    do {
      do {
        if (local_80 == (Instance *)0x0) {
          uVar13 = 0;
          if ((void *)local_68._0_8_ != (void *)0x0) {
            __s = (void *)local_58._8_8_;
            pvVar18 = (void *)local_68._0_8_;
LAB_00107335:
            if ((local_48._4_4_ != 0) &&
               (*(uint *)(hash_table_size_primes + (local_48 & 0xffffffff) * 4) != 0)) {
              memset(__s,0,(ulong)*(uint *)(hash_table_size_primes + (local_48 & 0xffffffff) * 4) *
                           4);
            }
            Memory::free_static(pvVar18,false);
            Memory::free_static((void *)local_58._0_8_,false);
            Memory::free_static((void *)local_68._8_8_,false);
            Memory::free_static(__s,false);
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return uVar13;
          }
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar19 = *(uint *)(local_80 + 0x1fc);
        if (uVar19 != 0) {
          plVar15 = *(long **)(local_80 + 0x1d8);
          iVar11 = 0;
          uVar16 = 0;
          while( true ) {
            if (uVar16 < *(uint *)(*plVar15 + 0x200)) {
              uVar16 = *(uint *)(*plVar15 + 0x200);
            }
            iVar11 = iVar11 + 1;
            if ((int)uVar19 <= iVar11) break;
            plVar15 = plVar15 + 1;
          }
          uVar19 = uVar16 + 1;
        }
        *(uint *)(local_80 + 0x200) = uVar19;
        if ((*(long *)(local_80 + 0x208) != 0) && (*(int *)(local_80 + 0x1b4) != -1)) {
          BinSortedArray<RendererSceneCull::InstanceVisibilityData>::move
                    ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)
                     (*(long *)(local_80 + 0x208) + 0x1f8),(long)*(int *)(local_80 + 0x1b4),
                     (ulong)uVar19);
        }
        HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
        ::insert(local_78);
        local_80 = *(Instance **)(local_80 + 0x1d0);
      } while (((void *)local_68._0_8_ == (void *)0x0) || (local_48._4_4_ == 0));
      lVar1 = *(long *)(hash_table_size_primes_inv + (local_48 & 0xffffffff) * 8);
      uVar14 = CONCAT44(0,*(uint *)(hash_table_size_primes + (local_48 & 0xffffffff) * 4));
      uVar10 = (long)local_80 * 0x3ffff - 1;
      uVar10 = (uVar10 ^ uVar10 >> 0x1f) * 0x15;
      uVar10 = (uVar10 ^ uVar10 >> 0xb) * 0x41;
      uVar10 = uVar10 >> 0x16 ^ uVar10;
      uVar17 = uVar10 & 0xffffffff;
      if ((int)uVar10 == 0) {
        uVar17 = 1;
      }
      auVar2._8_8_ = 0;
      auVar2._0_8_ = uVar17 * lVar1;
      auVar6._8_8_ = 0;
      auVar6._0_8_ = uVar14;
      lVar12 = SUB168(auVar2 * auVar6,8);
      uVar19 = *(uint *)(local_58._8_8_ + lVar12 * 4);
      iVar11 = SUB164(auVar2 * auVar6,8);
    } while (uVar19 == 0);
    uVar16 = 0;
    do {
      if (((uint)uVar17 == uVar19) &&
         (local_80 ==
          *(Instance **)(local_68._0_8_ + (ulong)*(uint *)(local_68._8_8_ + lVar12 * 4) * 8))) {
        uVar13 = 1;
        __s = (void *)local_58._8_8_;
        pvVar18 = (void *)local_68._0_8_;
        goto LAB_00107335;
      }
      uVar16 = uVar16 + 1;
      auVar3._8_8_ = 0;
      auVar3._0_8_ = (ulong)(iVar11 + 1) * lVar1;
      auVar7._8_8_ = 0;
      auVar7._0_8_ = uVar14;
      lVar12 = SUB168(auVar3 * auVar7,8);
      uVar19 = *(uint *)(local_58._8_8_ + lVar12 * 4);
      iVar11 = SUB164(auVar3 * auVar7,8);
    } while ((uVar19 != 0) &&
            (auVar4._8_8_ = 0, auVar4._0_8_ = (ulong)uVar19 * lVar1, auVar8._8_8_ = 0,
            auVar8._0_8_ = uVar14, auVar5._8_8_ = 0,
            auVar5._0_8_ = (ulong)((*(uint *)(hash_table_size_primes + (local_48 & 0xffffffff) * 4)
                                   + iVar11) - SUB164(auVar4 * auVar8,8)) * lVar1, auVar9._8_8_ = 0,
            auVar9._0_8_ = uVar14, uVar16 <= SUB164(auVar5 * auVar9,8)));
  } while( true );
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::_update_instance_visibility_dependencies(RendererSceneCull::Instance*) const
    */

void __thiscall
RendererSceneCull::_update_instance_visibility_dependencies
          (RendererSceneCull *this,Instance *param_1)

{
  long *plVar1;
  float fVar2;
  float fVar3;
  uint uVar4;
  uint uVar5;
  code *pcVar6;
  bool bVar7;
  uint uVar8;
  int iVar9;
  undefined8 *puVar10;
  ulong uVar11;
  long lVar12;
  undefined8 uVar13;
  ulong uVar14;
  long lVar15;
  uint *puVar16;
  char *pcVar17;
  uint uVar18;
  long *plVar19;
  long in_FS_OFFSET;
  bool bVar20;
  undefined8 local_88;
  uint uStack_80;
  undefined4 uStack_7c;
  undefined8 local_78;
  float fStack_70;
  undefined4 uStack_6c;
  Instance *local_68;
  float fStack_60;
  undefined4 uStack_5c;
  undefined4 uStack_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  long local_40;
  
  fVar2 = *(float *)(param_1 + 0x1b8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (((0xeU >> (*(uint *)param_1 & 0x1f) & 1) == 0) || (*(long *)(param_1 + 0x298) == 0)) {
    bVar7 = false;
    bVar20 = true;
    if (0.0 < fVar2) goto LAB_0010758e;
    iVar9 = *(int *)(param_1 + 0x1b4);
    bVar20 = 0.0 < *(float *)(param_1 + 0x1bc);
joined_r0x001075f9:
    if (iVar9 != -1) {
      BinSortedArray<RendererSceneCull::InstanceVisibilityData>::remove_at
                ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)
                 (*(long *)(param_1 + 0x208) + 0x1f8),(long)iVar9);
      *(undefined4 *)(param_1 + 0x1b4) = 0xffffffff;
    }
LAB_0010759a:
    lVar15 = *(long *)(param_1 + 0x208);
    if ((lVar15 != 0) && (uVar8 = *(uint *)(param_1 + 0x1b0), uVar8 != 0xffffffff)) {
LAB_0010749c:
      uVar11 = *(ulong *)(lVar15 + 0x1f0);
      uVar14 = (ulong)(int)uVar8;
      if (uVar11 <= uVar14) {
        iVar9 = 0xb0;
        pcVar17 = "./core/templates/paged_array.h";
LAB_0010786a:
        _err_print_index_error
                  ("operator[]",pcVar17,iVar9,uVar14,uVar11,"p_index","count","",false,true);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar6 = (code *)invalidInstructionException();
        (*pcVar6)();
      }
      puVar16 = (uint *)((ulong)(uVar8 & *(uint *)(lVar15 + 0x1e8)) * 0x30 +
                        *(long *)(*(long *)(lVar15 + 0x1d0) +
                                 (uVar14 >> ((byte)*(undefined4 *)(lVar15 + 0x1e4) & 0x3f) &
                                 0xffffffff) * 8));
      puVar16[9] = *(uint *)(param_1 + 0x1b4);
      if (bVar7) {
        plVar19 = *(long **)(puVar16 + 4);
        if ((!bVar20) || (*(int *)(param_1 + 0x1c8) != 1)) {
          (**(code **)(*plVar19 + 0x60))(0,plVar19,0,0);
          goto LAB_00107511;
        }
        fVar2 = *(float *)(param_1 + 0x1bc);
        fVar3 = *(float *)(param_1 + 0x1b8);
        (**(code **)(*plVar19 + 0x60))
                  (fVar3 - *(float *)(param_1 + 0x1c0),*(float *)(param_1 + 0x1c0) + fVar3,
                   fVar2 - *(float *)(param_1 + 0x1c4),fVar2 + *(float *)(param_1 + 0x1c4),plVar19,
                   0.0 < fVar3,0.0 < fVar2);
        lVar15 = *(long *)(param_1 + 0x1d0);
LAB_00107526:
        if ((*(int *)(param_1 + 0x1b4) == -1) || (*(int *)(param_1 + 0x200) == 0)) {
          uVar8 = *puVar16 | 0x300000;
        }
        else {
          uVar8 = *puVar16 & 0xffcfffff;
        }
        *puVar16 = uVar8;
        if (lVar15 != 0) {
          puVar16[8] = *(uint *)(lVar15 + 0x1b0);
          goto LAB_0010755a;
        }
      }
      else {
LAB_00107511:
        lVar15 = *(long *)(param_1 + 0x1d0);
        if ((bVar20) || (lVar15 != 0)) goto LAB_00107526;
        *puVar16 = *puVar16 & 0xffcfffff;
      }
      puVar16[8] = 0xffffffff;
      if (bVar7) {
        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x0010765c. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(**(long **)(puVar16 + 4) + 0x68))(_LC55);
          return;
        }
        goto LAB_00107a51;
      }
    }
  }
  else {
    if ((fVar2 <= 0.0) && (*(float *)(param_1 + 0x1bc) <= 0.0)) {
      bVar20 = false;
      bVar7 = true;
LAB_0010758e:
      iVar9 = *(int *)(param_1 + 0x1b4);
      goto joined_r0x001075f9;
    }
    uVar8 = *(uint *)(param_1 + 0x1b0);
    bVar20 = true;
    bVar7 = true;
    if (uVar8 == 0xffffffff) goto LAB_0010758e;
    lVar15 = *(long *)(param_1 + 0x208);
    if (*(int *)(param_1 + 0x1b4) == -1) {
      uStack_54 = *(undefined4 *)(param_1 + 0x1c4);
      uStack_58 = *(undefined4 *)(param_1 + 0x1c0);
      uStack_7c = *(undefined4 *)(param_1 + 0x1c8);
      uVar11 = *(ulong *)(lVar15 + 0x228);
      local_88 = 0;
      uStack_5c = *(undefined4 *)(param_1 + 0x1bc);
      uStack_50 = 0x3f800000;
      uVar4 = *(uint *)(param_1 + 0x200);
      fStack_70 = _LC131 * *(float *)(param_1 + 0x14c) + *(float *)(param_1 + 0x140);
      local_78 = CONCAT44((float)((ulong)*(undefined8 *)(param_1 + 0x144) >> 0x20) * _UNK_00138ca4 +
                          (float)((ulong)*(undefined8 *)(param_1 + 0x138) >> 0x20),
                          (float)*(undefined8 *)(param_1 + 0x144) * _LC131 +
                          (float)*(undefined8 *)(param_1 + 0x138));
      uVar18 = (uint)uVar11 & *(uint *)(lVar15 + 0x220);
      uStack_80 = uVar8;
      local_68 = param_1;
      fStack_60 = fVar2;
      if (uVar18 == 0) {
        uVar18 = 1;
        uVar8 = 0;
        if (uVar11 != 0) {
          iVar9 = (int)(uVar11 - 1 >> ((byte)*(undefined4 *)(lVar15 + 0x21c) & 0x3f));
          uVar8 = iVar9 + 1;
          uVar18 = iVar9 + 2;
        }
        uVar5 = *(uint *)(lVar15 + 0x218);
        plVar19 = *(long **)(lVar15 + 0x200);
        if (uVar18 <= uVar5) {
LAB_001078e2:
          plVar1 = plVar19 + 4;
          while( true ) {
            LOCK();
            bVar20 = (char)*plVar1 == '\0';
            if (bVar20) {
              *(char *)plVar1 = '\x01';
            }
            UNLOCK();
            if (bVar20) break;
            do {
            } while ((char)*plVar1 != '\0');
          }
          iVar9 = (int)plVar19[3];
          if (iVar9 == 0) {
            uVar18 = *(uint *)(plVar19 + 1);
            *(uint *)(plVar19 + 1) = uVar18 + 1;
            lVar12 = Memory::realloc_static((void *)*plVar19,(ulong)(uVar18 + 1) * 8,false);
            *plVar19 = lVar12;
            lVar12 = Memory::realloc_static
                               ((void *)plVar19[2],(ulong)*(uint *)(plVar19 + 1) << 2,false);
            plVar19[2] = lVar12;
            lVar12 = *plVar19;
            uVar13 = Memory::alloc_static((ulong)*(uint *)((long)plVar19 + 0x1c) << 6,false);
            *(undefined8 *)(lVar12 + (ulong)uVar18 * 8) = uVar13;
            puVar16 = (uint *)plVar19[2];
            *puVar16 = uVar18;
            iVar9 = (int)plVar19[3] + 1;
          }
          else {
            puVar16 = (uint *)plVar19[2];
          }
          *(uint *)(plVar19 + 3) = iVar9 - 1U;
          uVar18 = puVar16[iVar9 - 1U];
          uVar13 = *(undefined8 *)(*plVar19 + (ulong)uVar18 * 8);
          *(undefined1 *)(plVar19 + 4) = 0;
          lVar12 = *(long *)(lVar15 + 0x208);
          uVar11 = *(ulong *)(lVar15 + 0x228);
          *(undefined8 *)(lVar12 + (ulong)uVar8 * 8) = uVar13;
          *(uint *)(*(long *)(lVar15 + 0x210) + (ulong)uVar8 * 4) = uVar18;
          uVar18 = *(uint *)(lVar15 + 0x220) & (uint)uVar11;
          goto LAB_00107737;
        }
        if (plVar19 != (long *)0x0) {
          uVar11 = 1;
          if (uVar5 != 0) {
            uVar11 = (ulong)(uVar5 * 2);
          }
          *(int *)(lVar15 + 0x218) = (int)uVar11;
          uVar13 = Memory::realloc_static(*(void **)(lVar15 + 0x208),uVar11 * 8,false);
          *(undefined8 *)(lVar15 + 0x208) = uVar13;
          uVar13 = Memory::realloc_static
                             (*(void **)(lVar15 + 0x210),(ulong)*(uint *)(lVar15 + 0x218) << 2,false
                             );
          plVar19 = *(long **)(lVar15 + 0x200);
          *(undefined8 *)(lVar15 + 0x210) = uVar13;
          goto LAB_001078e2;
        }
        _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                         "Parameter \"page_pool\" is null.",0,0);
        uVar11 = *(long *)(lVar15 + 0x228) - 1;
      }
      else {
        lVar12 = *(long *)(lVar15 + 0x208);
LAB_00107737:
        puVar10 = (undefined8 *)
                  ((ulong)uVar18 * 0x40 +
                  *(long *)(lVar12 + (uVar11 >> ((byte)*(undefined4 *)(lVar15 + 0x21c) & 0x3f) &
                                     0xffffffff) * 8));
        *puVar10 = local_88;
        puVar10[1] = CONCAT44(uStack_7c,uStack_80);
        puVar10[2] = local_78;
        puVar10[3] = CONCAT44(uStack_6c,fStack_70);
        puVar10[4] = local_68;
        puVar10[5] = CONCAT44(uStack_5c,fStack_60);
        puVar10[6] = CONCAT44(uStack_54,uStack_58);
        puVar10[7] = CONCAT44(uStack_4c,uStack_50);
        *(ulong *)(lVar15 + 0x228) = uVar11 + 1;
      }
      (*(code *)**(undefined8 **)(lVar15 + 0x1f8))
                ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)(lVar15 + 0x1f8),
                 &local_88,uVar11);
      if (*(int *)(lVar15 + 0x230) == 0) {
        uVar11 = 0;
        uVar14 = 0;
        iVar9 = 0xb2;
        pcVar17 = "./core/templates/local_vector.h";
        goto LAB_0010786a;
      }
      **(ulong **)(lVar15 + 0x238) = uVar11;
      if ((ulong)uVar4 != 0) {
        BinSortedArray<RendererSceneCull::InstanceVisibilityData>::move
                  ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)(lVar15 + 0x1f8),
                   uVar11,(ulong)uVar4);
      }
      bVar20 = true;
      bVar7 = true;
      goto LAB_0010759a;
    }
    bVar20 = true;
    bVar7 = true;
    if (lVar15 != 0) goto LAB_0010749c;
  }
LAB_0010755a:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00107a51:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::instance_geometry_set_visibility_range(RID, float, float, float, float,
   RenderingServer::VisibilityRangeFadeMode) */

void __thiscall
RendererSceneCull::instance_geometry_set_visibility_range
          (undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
          RendererSceneCull *this,ulong param_6,undefined4 param_7)

{
  uint uVar1;
  code *pcVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  long lVar5;
  Instance *pIVar6;
  ulong uVar7;
  
  if ((param_6 != 0) && ((uint)param_6 < *(uint *)(this + 0x97ec))) {
    pIVar6 = (Instance *)
             (((param_6 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
             *(long *)(*(long *)(this + 0x97d8) +
                      ((param_6 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (*(int *)(pIVar6 + 0x300) == (int)(param_6 >> 0x20)) {
      *(undefined4 *)(pIVar6 + 0x1c8) = param_7;
      *(undefined4 *)(pIVar6 + 0x1b8) = param_1;
      *(undefined4 *)(pIVar6 + 0x1bc) = param_2;
      *(undefined4 *)(pIVar6 + 0x1c0) = param_3;
      *(undefined4 *)(pIVar6 + 0x1c4) = param_4;
      _update_instance_visibility_dependencies(this,pIVar6);
      lVar5 = *(long *)(pIVar6 + 0x208);
      if ((lVar5 != 0) && (uVar1 = *(uint *)(pIVar6 + 0x1b4), uVar1 != 0xffffffff)) {
        uVar7 = (ulong)(int)uVar1;
        if (*(ulong *)(lVar5 + 0x228) <= uVar7) {
          _err_print_index_error
                    ("operator[]","./core/templates/paged_array.h",0xb0,uVar7,
                     *(ulong *)(lVar5 + 0x228),"p_index","count","",false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar2 = (code *)invalidInstructionException();
          (*pcVar2)();
        }
        uVar3 = *(undefined8 *)(pIVar6 + 0x1b8);
        uVar4 = *(undefined8 *)(pIVar6 + 0x1c0);
        lVar5 = (ulong)(uVar1 & *(uint *)(lVar5 + 0x220)) * 0x40 +
                *(long *)(*(long *)(lVar5 + 0x208) +
                         (uVar7 >> ((byte)*(undefined4 *)(lVar5 + 0x21c) & 0x3f) & 0xffffffff) * 8);
        *(undefined4 *)(lVar5 + 0xc) = param_7;
        *(undefined8 *)(lVar5 + 0x28) = uVar3;
        *(undefined8 *)(lVar5 + 0x30) = uVar4;
      }
      return;
    }
    if (*(int *)(pIVar6 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_set_visibility_range",
                   "servers/rendering/renderer_scene_cull.cpp",0x5a7,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* RendererSceneCull::_unpair_instance(RendererSceneCull::Instance*) [clone .part.0] */

void __thiscall RendererSceneCull::_unpair_instance(RendererSceneCull *this,Instance *param_1)

{
  char *pcVar1;
  char cVar2;
  uint uVar3;
  int iVar4;
  undefined4 uVar5;
  long lVar6;
  long *plVar7;
  long lVar8;
  uint *puVar9;
  code *pcVar10;
  undefined8 uVar11;
  uint uVar12;
  long lVar13;
  byte bVar14;
  undefined8 *puVar15;
  ulong uVar16;
  ulong uVar17;
  long lVar18;
  int iVar19;
  Instance *pIVar20;
  ulong uVar21;
  undefined8 *puVar22;
  ulong uVar23;
  ulong uVar24;
  long *plVar25;
  uint uVar26;
  long in_FS_OFFSET;
  
  lVar6 = *(long *)(in_FS_OFFSET + 0x28);
  lVar18 = *(long *)(param_1 + 0x2a0);
  while (lVar18 != 0) {
    plVar25 = *(long **)(lVar18 + 8);
    pIVar20 = (Instance *)*plVar25;
    if (pIVar20 == param_1) {
      pIVar20 = (Instance *)plVar25[1];
    }
    _instance_unpair(param_1,pIVar20);
    plVar7 = (long *)plVar25[6];
    if (plVar7 != (long *)0x0) {
      lVar18 = plVar25[8];
      if (lVar18 != 0) {
        *(long *)(lVar18 + 0x18) = plVar25[9];
      }
      lVar13 = plVar25[9];
      if (lVar13 != 0) {
        *(long *)(lVar13 + 0x10) = lVar18;
      }
      if (plVar25 + 6 == (long *)*plVar7) {
        *plVar7 = plVar25[8];
      }
      if (plVar25 + 6 == (long *)plVar7[1]) {
        plVar7[1] = lVar13;
      }
    }
    plVar7 = (long *)plVar25[2];
    if (plVar7 != (long *)0x0) {
      lVar18 = plVar25[4];
      if (lVar18 != 0) {
        *(long *)(lVar18 + 0x18) = plVar25[5];
      }
      lVar13 = plVar25[5];
      if (lVar13 != 0) {
        *(long *)(lVar13 + 0x10) = lVar18;
      }
      if (plVar25 + 2 == (long *)*plVar7) {
        *plVar7 = plVar25[4];
      }
      if (plVar25 + 2 == (long *)plVar7[1]) {
        plVar7[1] = lVar13;
      }
    }
    uVar3 = *(uint *)(this + 0x20c);
    *(long **)(*(long *)(*(long *)(this + 0x200) +
                        (ulong)(uVar3 >> ((byte)*(undefined4 *)(this + 0x210) & 0x1f)) * 8) +
              (ulong)(uVar3 & *(uint *)(this + 0x214)) * 8) = plVar25;
    *(uint *)(this + 0x20c) = uVar3 + 1;
    lVar18 = *(long *)(param_1 + 0x2a0);
  }
  if ((0xeU >> (*(uint *)param_1 & 0x1f) & 1) == 0) {
    DynamicBVH::remove(*(ID **)(param_1 + 0x208) + 0x80);
  }
  else {
    DynamicBVH::remove(*(ID **)(param_1 + 0x208));
  }
  lVar18 = *(long *)(param_1 + 0x208);
  uVar3 = *(uint *)(param_1 + 0x1b0);
  *(undefined8 *)(param_1 + 0x1a8) = 0;
  uVar24 = *(ulong *)(lVar18 + 0x1f0);
  uVar12 = (uint)uVar24 - 1;
  if (uVar12 == uVar3) {
    if (uVar24 != 0) {
      uVar26 = *(uint *)(lVar18 + 0x1e8);
      goto LAB_00107f8a;
    }
    _err_print_error("pop_back","./core/templates/paged_array.h",0xd7,
                     "Condition \"count == 0\" is true.",0,0);
    lVar13 = *(long *)(param_1 + 0x208);
  }
  else {
    uVar16 = (ulong)(int)uVar12;
    uVar17 = uVar16;
    uVar23 = uVar24;
    if (uVar24 <= uVar16) {
LAB_0010812e:
      _err_print_index_error
                ("operator[]","./core/templates/paged_array.h",0xb0,uVar17,uVar23,"p_index","count",
                 "",false,true);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar10 = (code *)invalidInstructionException();
      (*pcVar10)();
    }
    uVar26 = *(uint *)(lVar18 + 0x1e8);
    lVar13 = *(long *)(lVar18 + 0x1d0);
    bVar14 = (byte)*(undefined4 *)(lVar18 + 0x1e4);
    puVar22 = (undefined8 *)
              ((ulong)(uVar12 & uVar26) * 0x30 +
              *(long *)(lVar13 + (uVar16 >> (bVar14 & 0x3f) & 0xffffffff) * 8));
    uVar21 = (ulong)(int)uVar3;
    lVar8 = puVar22[3];
    *(uint *)(lVar8 + 0x1b0) = uVar3;
    uVar17 = uVar21;
    if (uVar24 <= uVar21) goto LAB_0010812e;
    uVar11 = puVar22[1];
    puVar15 = (undefined8 *)
              ((ulong)(uVar26 & uVar3) * 0x30 +
              *(long *)(lVar13 + (uVar21 >> (bVar14 & 0x3f) & 0xffffffff) * 8));
    *puVar15 = *puVar22;
    puVar15[1] = uVar11;
    uVar11 = puVar22[3];
    puVar15[2] = puVar22[2];
    puVar15[3] = uVar11;
    uVar11 = puVar22[5];
    uVar23 = *(ulong *)(lVar18 + 0x1c0);
    puVar15[4] = puVar22[4];
    puVar15[5] = uVar11;
    uVar17 = uVar16;
    if (uVar23 <= uVar16) goto LAB_0010812e;
    bVar14 = (byte)*(undefined4 *)(lVar18 + 0x1b4);
    puVar22 = (undefined8 *)
              (*(long *)(*(long *)(lVar18 + 0x1a0) + (uVar16 >> (bVar14 & 0x3f) & 0xffffffff) * 8) +
              (ulong)(uVar12 & *(uint *)(lVar18 + 0x1b8)) * 0x18);
    uVar17 = uVar21;
    if (uVar23 <= uVar21) goto LAB_0010812e;
    uVar11 = puVar22[1];
    puVar15 = (undefined8 *)
              (*(long *)(*(long *)(lVar18 + 0x1a0) + (uVar21 >> (bVar14 & 0x3f) & 0xffffffff) * 8) +
              (ulong)(*(uint *)(lVar18 + 0x1b8) & uVar3) * 0x18);
    *puVar15 = *puVar22;
    puVar15[1] = uVar11;
    puVar15[2] = puVar22[2];
    uVar12 = *(uint *)(lVar8 + 0x1b4);
    if (uVar12 != 0xffffffff) {
      lVar13 = *(long *)(lVar8 + 0x208);
      uVar17 = (ulong)(int)uVar12;
      uVar23 = *(ulong *)(lVar13 + 0x228);
      if (*(ulong *)(lVar13 + 0x228) <= uVar17) goto LAB_0010812e;
      *(uint *)((ulong)(uVar12 & *(uint *)(lVar13 + 0x220)) * 0x40 +
                *(long *)(*(long *)(lVar13 + 0x208) +
                         (uVar17 >> ((byte)*(undefined4 *)(lVar13 + 0x21c) & 0x3f) & 0xffffffff) * 8
                         ) + 8) = uVar3;
    }
    iVar4 = *(int *)(lVar8 + 0x1fc);
    if (iVar4 != 0) {
      plVar25 = *(long **)(lVar8 + 0x1d8);
      iVar19 = 0;
      while( true ) {
        pIVar20 = (Instance *)*plVar25;
        if ((param_1 != pIVar20) && (uVar12 = *(uint *)(pIVar20 + 0x1b0), uVar12 != 0xffffffff)) {
          lVar13 = *(long *)(pIVar20 + 0x208);
          uVar17 = (ulong)(int)uVar12;
          uVar23 = *(ulong *)(lVar13 + 0x1f0);
          if (*(ulong *)(lVar13 + 0x1f0) <= uVar17) goto LAB_0010812e;
          *(uint *)((ulong)(uVar12 & *(uint *)(lVar13 + 0x1e8)) * 0x30 +
                    *(long *)(*(long *)(lVar13 + 0x1d0) +
                             (uVar17 >> ((byte)*(undefined4 *)(lVar13 + 0x1e4) & 0x3f) & 0xffffffff)
                             * 8) + 0x20) = uVar3;
        }
        iVar19 = iVar19 + 1;
        if (iVar4 <= iVar19) break;
        plVar25 = plVar25 + 1;
      }
    }
LAB_00107f8a:
    lVar13 = lVar18;
    if (((uint)uVar24 & uVar26) == 1) {
      lVar13 = *(long *)(lVar18 + 0x1c8);
      uVar5 = *(undefined4 *)
               (*(long *)(lVar18 + 0x1d8) +
               (uVar24 - 1 >> ((byte)*(undefined4 *)(lVar18 + 0x1e4) & 0x3f) & 0xffffffff) * 4);
      pcVar1 = (char *)(lVar13 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      *(undefined4 *)(*(long *)(lVar13 + 0x10) + (ulong)*(uint *)(lVar13 + 0x18) * 4) = uVar5;
      *(int *)(lVar13 + 0x18) = *(int *)(lVar13 + 0x18) + 1;
      *(undefined1 *)(lVar13 + 0x20) = 0;
      uVar24 = *(ulong *)(lVar18 + 0x1f0);
      lVar13 = *(long *)(param_1 + 0x208);
    }
    *(ulong *)(lVar18 + 0x1f0) = uVar24 - 1;
  }
  lVar18 = *(long *)(lVar13 + 0x1c0);
  if (lVar18 == 0) {
    _err_print_error("pop_back","./core/templates/paged_array.h",0xd7,
                     "Condition \"count == 0\" is true.",0,0);
  }
  else {
    if ((*(uint *)(lVar13 + 0x1b8) & (uint)lVar18) == 1) {
      lVar8 = *(long *)(lVar13 + 0x198);
      uVar5 = *(undefined4 *)
               (*(long *)(lVar13 + 0x1a8) +
               (lVar18 - 1U >> ((byte)*(undefined4 *)(lVar13 + 0x1b4) & 0x3f) & 0xffffffff) * 4);
      pcVar1 = (char *)(lVar8 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      *(undefined4 *)(*(long *)(lVar8 + 0x10) + (ulong)*(uint *)(lVar8 + 0x18) * 4) = uVar5;
      *(int *)(lVar8 + 0x18) = *(int *)(lVar8 + 0x18) + 1;
      *(undefined1 *)(lVar8 + 0x20) = 0;
      lVar18 = *(long *)(lVar13 + 0x1c0);
    }
    *(long *)(lVar13 + 0x1c0) = lVar18 + -1;
  }
  *(undefined4 *)(param_1 + 0x1b0) = 0xffffffff;
  if ((0xeU >> (*(uint *)param_1 & 0x1f) & 1) != 0) {
    lVar18 = *(long *)(param_1 + 0x298);
    plVar25 = *(long **)(lVar18 + 8);
    if (plVar25 == (long *)0x0) {
      if (lVar6 == *(long *)(in_FS_OFFSET + 0x28)) {
        _err_print_error("_unpair_instance","servers/rendering/renderer_scene_cull.cpp",0x7eb,
                         "Parameter \"geom->geometry_instance\" is null.",0,0);
        return;
      }
      goto LAB_001083b6;
    }
    (**(code **)(*plVar25 + 0xb8))(plVar25,0,0);
    (**(code **)(**(long **)(lVar18 + 8) + 0xc0))(*(long **)(lVar18 + 8),0,0);
    (**(code **)(**(long **)(lVar18 + 8) + 200))(*(long **)(lVar18 + 8),0,0);
    (**(code **)(**(long **)(lVar18 + 8) + 0xd0))(*(long **)(lVar18 + 8),0,0);
  }
  iVar4 = *(int *)(param_1 + 0x1fc);
  if (iVar4 != 0) {
    puVar22 = *(undefined8 **)(param_1 + 0x1d8);
    lVar18 = 0;
    puVar9 = (uint *)*puVar22;
    uVar3 = puVar9[0x6c];
    while( true ) {
      if (uVar3 != 0xffffffff) {
        lVar13 = *(long *)(puVar9 + 0x82);
        uVar17 = (ulong)(int)uVar3;
        uVar23 = *(ulong *)(lVar13 + 0x1f0);
        if (*(ulong *)(lVar13 + 0x1f0) <= uVar17) goto LAB_0010812e;
        lVar13 = (ulong)(uVar3 & *(uint *)(lVar13 + 0x1e8)) * 0x30 +
                 *(long *)(*(long *)(lVar13 + 0x1d0) +
                          (uVar17 >> ((byte)*(undefined4 *)(lVar13 + 0x1e4) & 0x3f) & 0xffffffff) *
                          8);
        uVar3 = *puVar9;
        *(undefined4 *)(lVar13 + 0x20) = 0xffffffff;
        if ((0xeU >> (uVar3 & 0x1f) & 1) != 0) {
          (**(code **)(**(long **)(lVar13 + 0x10) + 0x68))(_LC55);
        }
      }
      if (iVar4 <= (int)lVar18 + 1) break;
      lVar18 = lVar18 + 1;
      puVar9 = (uint *)puVar22[lVar18];
      uVar3 = puVar9[0x6c];
    }
  }
  if (lVar6 == *(long *)(in_FS_OFFSET + 0x28)) {
    _update_instance_visibility_dependencies(this,param_1);
    return;
  }
LAB_001083b6:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::_unpair_instance(RendererSceneCull::Instance*) */

void __thiscall RendererSceneCull::_unpair_instance(RendererSceneCull *this,Instance *param_1)

{
  if (*(long *)(param_1 + 0x1a8) != 0) {
    _unpair_instance(this,param_1);
    return;
  }
  return;
}



/* RendererSceneCull::instance_set_visible(RID, bool) */

void __thiscall
RendererSceneCull::instance_set_visible(RendererSceneCull *this,ulong param_2,uint param_3)

{
  Instance *pIVar1;
  Instance IVar2;
  uint uVar3;
  long lVar4;
  long lVar5;
  undefined8 uVar6;
  uint *puVar7;
  long lVar8;
  code *pcVar9;
  byte bVar10;
  int iVar11;
  uint uVar12;
  void *pvVar13;
  ulong uVar14;
  Instance *pIVar15;
  byte bVar16;
  
  if ((param_2 == 0) || (*(uint *)(this + 0x97ec) <= (uint)param_2)) {
LAB_00108620:
    _err_print_error("instance_set_visible","servers/rendering/renderer_scene_cull.cpp",0x44a,
                     "Parameter \"instance\" is null.",0,0);
    return;
  }
  pIVar15 = (Instance *)
            (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
  if (*(int *)(pIVar15 + 0x300) != (int)(param_2 >> 0x20)) {
    if (*(int *)(pIVar15 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
    goto LAB_00108620;
  }
  IVar2 = pIVar15[0xe0];
  bVar16 = (byte)param_3;
  if (((byte)IVar2 >> 2 & 1) == bVar16) {
    return;
  }
  pIVar15[0xe0] = (Instance)((byte)IVar2 & 0xfb | (byte)((param_3 & 1) << 2));
  if (bVar16 == 0) {
    if (*(long *)(pIVar15 + 0x1a8) == 0) goto LAB_001084c5;
    _unpair_instance(this,pIVar15);
    iVar11 = *(int *)pIVar15;
  }
  else {
    if (*(long *)(pIVar15 + 0x208) != 0) {
      if (((this[0xb590] != (RendererSceneCull)0x0) && (((byte)pIVar15[0xe1] & 1) != 0)) &&
         (((byte)IVar2 & 0x40) == 0)) {
        bVar10 = TransformInterpolator::find_method
                           ((Basis *)(pIVar15 + 0x90),(Basis *)(pIVar15 + 0x60));
        pIVar15[0xe1] = (Instance)((byte)pIVar15[0xe1] & 0xf1 | (bVar10 & 7) * '\x02');
        uVar3 = *(uint *)(this + 0xb550);
        if (uVar3 == *(uint *)(this + 0xb554)) {
          uVar3 = *(uint *)(this + 0xb554) * 2;
          uVar14 = (ulong)uVar3;
          if (uVar3 == 0) {
            uVar14 = 1;
          }
          *(int *)(this + 0xb554) = (int)uVar14;
          pvVar13 = (void *)Memory::realloc_static(*(void **)(this + 0xb558),uVar14 * 8,false);
          *(void **)(this + 0xb558) = pvVar13;
          if (pvVar13 == (void *)0x0) goto LAB_001088f6;
          uVar3 = *(uint *)(this + 0xb550);
        }
        else {
          pvVar13 = *(void **)(this + 0xb558);
        }
        *(uint *)(this + 0xb550) = uVar3 + 1;
        *(ulong *)((long)pvVar13 + (ulong)uVar3 * 8) = param_2;
        pIVar1 = pIVar15 + 0xe0;
        *pIVar1 = (Instance)((byte)*pIVar1 | 0x40);
        if (-1 < (char)*pIVar1) {
          puVar7 = *(uint **)(this + 0xb580);
          uVar3 = *puVar7;
          pvVar13 = *(void **)(puVar7 + 2);
          if (uVar3 == puVar7[1]) {
            uVar14 = (ulong)(uVar3 * 2);
            if (uVar3 * 2 == 0) {
              uVar14 = 1;
            }
            puVar7[1] = (uint)uVar14;
            pvVar13 = (void *)Memory::realloc_static(pvVar13,uVar14 * 8,false);
            *(void **)(puVar7 + 2) = pvVar13;
            if (pvVar13 == (void *)0x0) goto LAB_001088f6;
            uVar3 = *puVar7;
          }
          *puVar7 = uVar3 + 1;
          *(ulong *)((long)pvVar13 + (ulong)uVar3 * 8) = param_2;
          pIVar15[0xe0] = (Instance)((byte)pIVar15[0xe0] | 0x80);
        }
      }
      pIVar15[0x230] = (Instance)0x1;
      if (*(long *)(pIVar15 + 0x238) == 0) {
        pIVar1 = pIVar15 + 0x238;
        *(RendererSceneCull **)(pIVar15 + 0x238) = this + 0x260;
        lVar4 = *(long *)(this + 0x260);
        *(undefined8 *)(pIVar15 + 0x250) = 0;
        *(long *)(pIVar15 + 0x248) = lVar4;
        if (lVar4 == 0) {
          *(Instance **)(this + 0x268) = pIVar1;
        }
        else {
          *(Instance **)(lVar4 + 0x18) = pIVar1;
        }
        *(Instance **)(this + 0x260) = pIVar1;
      }
    }
LAB_001084c5:
    iVar11 = *(int *)pIVar15;
  }
  if (iVar11 == 5) {
    lVar4 = *(long *)(pIVar15 + 0x298);
    if (*(long *)(pIVar15 + 0x208) == 0) {
      return;
    }
    iVar11 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                       (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar15 + 8));
    if ((iVar11 != 0) && (*(int *)(lVar4 + 0x58) == 2)) {
      lVar5 = *(long *)(pIVar15 + 0x208);
      uVar3 = *(uint *)(lVar5 + 0x188);
      if (bVar16 != 0) {
        uVar6 = *(undefined8 *)(lVar4 + 8);
        pvVar13 = *(void **)(lVar5 + 400);
        if (*(uint *)(lVar5 + 0x18c) == uVar3) {
          uVar14 = (ulong)(uVar3 * 2);
          if (uVar3 * 2 == 0) {
            uVar14 = 1;
          }
          *(int *)(lVar5 + 0x18c) = (int)uVar14;
          pvVar13 = (void *)Memory::realloc_static(pvVar13,uVar14 * 8,false);
          *(void **)(lVar5 + 400) = pvVar13;
          if (pvVar13 == (void *)0x0) {
LAB_001088f6:
            _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                             "FATAL: Condition \"!data\" is true.","Out of memory",0,0,pvVar13);
            _err_flush_stdout();
                    /* WARNING: Does not return */
            pcVar9 = (code *)invalidInstructionException();
            (*pcVar9)();
          }
          uVar3 = *(uint *)(lVar5 + 0x188);
        }
        *(uint *)(lVar5 + 0x188) = uVar3 + 1;
        *(undefined8 *)((long)pvVar13 + (ulong)uVar3 * 8) = uVar6;
        iVar11 = *(int *)pIVar15;
        goto LAB_001084d0;
      }
      if (uVar3 != 0) {
        lVar8 = *(long *)(lVar5 + 400);
        uVar14 = 0;
        do {
          if (*(long *)(lVar8 + uVar14 * 8) == *(long *)(lVar4 + 8)) {
            iVar11 = *(int *)pIVar15;
            *(uint *)(lVar5 + 0x188) = uVar3 - 1;
            uVar12 = (uint)uVar14;
            if (uVar12 < uVar3 - 1) {
              memmove((void *)(lVar8 + uVar14 * 8),(void *)(lVar8 + (ulong)(uVar12 + 1) * 8),
                      (ulong)((uVar3 - 2) - uVar12) * 8 + 8);
            }
            goto LAB_001084d0;
          }
          uVar14 = uVar14 + 1;
        } while (uVar3 != uVar14);
      }
    }
    iVar11 = *(int *)pIVar15;
  }
LAB_001084d0:
  if (iVar11 == 4) {
    (**(code **)(*RenderingServerGlobals::particles_storage + 0x220))
              (RenderingServerGlobals::particles_storage,
               *(undefined8 *)(*(long *)(pIVar15 + 0x298) + 8),param_3 & 0xff);
    iVar11 = *(int *)pIVar15;
  }
  if (iVar11 == 0xc) {
    (**(code **)(**(long **)(this + 8) + 0xe8))
              (*(long **)(this + 8),*(undefined8 *)(*(long *)(pIVar15 + 0x298) + 8),param_3 & 0xff);
    iVar11 = *(int *)pIVar15;
  }
  if ((iVar11 == 10) && (*(long *)(pIVar15 + 0x208) != 0)) {
    if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x38) !=
        RendererSceneOcclusionCull::scenario_set_instance) {
                    /* WARNING: Could not recover jumptable at 0x001087c4. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*RendererSceneOcclusionCull::singleton + 0x38))
                (RendererSceneOcclusionCull::singleton,
                 *(undefined8 *)(*(long *)(pIVar15 + 0x208) + 0x100),param_2,
                 *(undefined8 *)(pIVar15 + 8),pIVar15 + 0x30,param_3 & 0xff);
      return;
    }
    if (RendererSceneOcclusionCull::_print_warning()::first_print != '\0') {
      _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                       "Occlusion culling is disabled at build-time.",0,1);
      RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
    }
  }
  return;
}



/* RendererSceneCull::instance_geometry_set_flag(RID, RenderingServer::InstanceFlags, bool) */

void __thiscall
RendererSceneCull::instance_geometry_set_flag
          (RendererSceneCull *this,ulong param_2,uint param_3,uint param_4)

{
  Instance *pIVar1;
  uint uVar2;
  long *plVar3;
  long lVar4;
  code *pcVar5;
  uint *puVar6;
  char *pcVar7;
  uint uVar8;
  undefined8 uVar9;
  Instance *pIVar10;
  ulong uVar11;
  ulong uVar12;
  Instance IVar13;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    pIVar10 = (Instance *)
              (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
              *(long *)(*(long *)(this + 0x97d8) +
                       ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (*(int *)(pIVar10 + 0x300) == (int)(param_2 >> 0x20)) {
      IVar13 = SUB41(param_4,0);
      if (param_3 == 2) {
        pIVar10[0xe0] = (Instance)((byte)pIVar10[0xe0] & 0xdf | (byte)((param_4 & 1) << 5));
        lVar4 = *(long *)(pIVar10 + 0x208);
        if ((lVar4 != 0) && (uVar2 = *(uint *)(pIVar10 + 0x1b0), -1 < (int)uVar2)) {
          uVar12 = *(ulong *)(lVar4 + 0x1f0);
          uVar11 = (ulong)(int)uVar2;
          if (uVar12 <= uVar11) goto LAB_00108c88;
          puVar6 = (uint *)((ulong)(uVar2 & *(uint *)(lVar4 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar4 + 0x1d0) +
                                    (uVar11 >> ((byte)*(undefined4 *)(lVar4 + 0x1e4) & 0x3f)) * 8));
          uVar2 = *puVar6;
          uVar8 = uVar2 | 0x400;
          if (IVar13 == (Instance)0x0) {
            uVar8 = uVar2 & 0xfffffbff;
          }
          *puVar6 = uVar8;
        }
        return;
      }
      if (2 < param_3) {
        if (param_3 != 3) {
          return;
        }
        lVar4 = *(long *)(pIVar10 + 0x208);
        pIVar10[0xc4] = IVar13;
        if (lVar4 == 0) {
          return;
        }
        uVar2 = *(uint *)(pIVar10 + 0x1b0);
        if ((int)uVar2 < 0) {
          return;
        }
        uVar12 = *(ulong *)(lVar4 + 0x1f0);
        uVar11 = (ulong)(int)uVar2;
        if (uVar11 < uVar12) {
          puVar6 = (uint *)((ulong)(uVar2 & *(uint *)(lVar4 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar4 + 0x1d0) +
                                    (uVar11 >> ((byte)*(undefined4 *)(lVar4 + 0x1e4) & 0x3f)) * 8));
          uVar2 = *puVar6;
          uVar8 = uVar2 | 0x80000;
          if (IVar13 == (Instance)0x0) {
            uVar8 = uVar2 & 0xfff7ffff;
          }
          *puVar6 = uVar8;
          return;
        }
LAB_00108c88:
        _err_print_index_error
                  ("operator[]","./core/templates/paged_array.h",0xb0,uVar11,uVar12,"p_index",
                   "count","",false,true);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar5 = (code *)invalidInstructionException();
        (*pcVar5)();
      }
      if (param_3 == 0) {
        pIVar10[0xe0] = (Instance)((byte)pIVar10[0xe0] & 0xf7 | (byte)((param_4 & 1) << 3));
        lVar4 = *(long *)(pIVar10 + 0x208);
        if ((lVar4 != 0) && (uVar2 = *(uint *)(pIVar10 + 0x1b0), -1 < (int)uVar2)) {
          uVar12 = *(ulong *)(lVar4 + 0x1f0);
          uVar11 = (ulong)(int)uVar2;
          if (uVar12 <= uVar11) goto LAB_00108c88;
          puVar6 = (uint *)((ulong)(uVar2 & *(uint *)(lVar4 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar4 + 0x1d0) +
                                    (uVar11 >> ((byte)*(undefined4 *)(lVar4 + 0x1e4) & 0x3f)) * 8));
          uVar2 = *puVar6;
          uVar8 = uVar2 | 0x10000;
          if (IVar13 == (Instance)0x0) {
            uVar8 = uVar2 & 0xfffeffff;
          }
          *puVar6 = uVar8;
        }
        if ((0xeU >> (*(uint *)pIVar10 & 0x1f) & 1) == 0) {
          return;
        }
        if (*(long *)(pIVar10 + 0x298) == 0) {
          return;
        }
        plVar3 = *(long **)(*(long *)(pIVar10 + 0x298) + 8);
        if (plVar3 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00108b7a. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*plVar3 + 0x78))(plVar3,param_4 & 0xff);
          return;
        }
        uVar9 = 0x531;
        pcVar7 = "Parameter \"geom->geometry_instance\" is null.";
      }
      else {
        if ((Instance)((byte)pIVar10[0xe0] >> 4 & 1) == IVar13) {
          return;
        }
        if (*(long *)(pIVar10 + 0x1a8) != 0) {
          _unpair_instance(this,pIVar10);
          *(undefined2 *)(pIVar10 + 0x230) = 0x101;
          if (*(long *)(pIVar10 + 0x238) == 0) {
            pIVar1 = pIVar10 + 0x238;
            *(RendererSceneCull **)(pIVar10 + 0x238) = this + 0x260;
            lVar4 = *(long *)(this + 0x260);
            *(undefined8 *)(pIVar10 + 0x250) = 0;
            *(long *)(pIVar10 + 0x248) = lVar4;
            if (lVar4 == 0) {
              *(Instance **)(this + 0x268) = pIVar1;
            }
            else {
              *(Instance **)(lVar4 + 0x18) = pIVar1;
            }
            *(Instance **)(this + 0x260) = pIVar1;
          }
        }
        pIVar10[0xe0] = (Instance)((byte)pIVar10[0xe0] & 0xef | (byte)((param_4 & 1) << 4));
        if ((0xeU >> (*(uint *)pIVar10 & 0x1f) & 1) == 0) {
          return;
        }
        if (*(long *)(pIVar10 + 0x298) == 0) {
          return;
        }
        plVar3 = *(long **)(*(long *)(pIVar10 + 0x298) + 8);
        if (plVar3 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00108a40. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (**(code **)(*plVar3 + 0x80))(plVar3,param_4 & 0xff);
          return;
        }
        uVar9 = 0x546;
        pcVar7 = "Parameter \"geom->geometry_instance\" is null.";
      }
      goto LAB_00108c32;
    }
    if (*(int *)(pIVar10 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  uVar9 = 0x51e;
  pcVar7 = "Parameter \"instance\" is null.";
LAB_00108c32:
  _err_print_error("instance_geometry_set_flag","servers/rendering/renderer_scene_cull.cpp",uVar9,
                   pcVar7,0,0);
  return;
}



/* RendererSceneCull::instance_set_scenario(RID, RID) */

void __thiscall
RendererSceneCull::instance_set_scenario(RendererSceneCull *this,ulong param_2,ulong param_3)

{
  Instance *pIVar1;
  uint uVar2;
  long lVar3;
  long lVar4;
  void *pvVar5;
  long lVar6;
  long *plVar7;
  int iVar8;
  uint uVar9;
  ulong uVar10;
  undefined8 *puVar11;
  undefined1 (*pauVar12) [16];
  char *pcVar13;
  long lVar14;
  undefined8 uVar15;
  Instance *pIVar16;
  long in_FS_OFFSET;
  Instance *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    pIVar16 = (Instance *)
              (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
              *(long *)(*(long *)(this + 0x97d8) +
                       ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (*(int *)(pIVar16 + 0x300) == (int)(param_2 >> 0x20)) {
      lVar3 = *(long *)(pIVar16 + 0x208);
      local_48 = pIVar16;
      if (lVar3 != 0) {
        if (*(long *)(pIVar16 + 0x210) == lVar3 + 0x178) {
          lVar4 = *(long *)(pIVar16 + 0x220);
          if (lVar4 != 0) {
            *(undefined8 *)(lVar4 + 0x18) = *(undefined8 *)(pIVar16 + 0x228);
          }
          lVar14 = *(long *)(pIVar16 + 0x228);
          if (lVar14 != 0) {
            *(long *)(lVar14 + 0x10) = lVar4;
          }
          if (pIVar16 + 0x210 == *(Instance **)(lVar3 + 0x178)) {
            *(undefined8 *)(lVar3 + 0x178) = *(undefined8 *)(pIVar16 + 0x220);
          }
          if (pIVar16 + 0x210 == *(Instance **)(lVar3 + 0x180)) {
            *(long *)(lVar3 + 0x180) = lVar14;
          }
          *(undefined8 *)(pIVar16 + 0x210) = 0;
          *(undefined1 (*) [16])(pIVar16 + 0x220) = (undefined1  [16])0x0;
        }
        else {
          _err_print_error("remove","./core/templates/self_list.h",0x50,
                           "Condition \"p_elem->_root != this\" is true.",0,0);
        }
        if (*(long *)(pIVar16 + 0x1a8) != 0) {
          _unpair_instance(this,pIVar16);
        }
        switch(*(undefined4 *)pIVar16) {
        case 4:
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                   *)(this + 0x2e8),&local_48);
          break;
        case 5:
          lVar3 = *(long *)(pIVar16 + 0x298);
          if (((((byte)pIVar16[0xe0] & 4) != 0) &&
              (iVar8 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))(), iVar8 != 0))
             && (*(int *)(lVar3 + 0x58) == 2)) {
            lVar4 = *(long *)(pIVar16 + 0x208);
            uVar2 = *(uint *)(lVar4 + 0x188);
            if (uVar2 != 0) {
              lVar14 = *(long *)(lVar4 + 400);
              uVar10 = 0;
              do {
                if (*(long *)(lVar14 + uVar10 * 8) == *(long *)(lVar3 + 8)) {
                  *(uint *)(lVar4 + 0x188) = uVar2 - 1;
                  uVar9 = (uint)uVar10;
                  if (uVar9 < uVar2 - 1) {
                    memmove((void *)(lVar14 + uVar10 * 8),(void *)(lVar14 + (ulong)(uVar9 + 1) * 8),
                            (ulong)((uVar2 - 2) - uVar9) * 8 + 8);
                  }
                  break;
                }
                uVar10 = uVar10 + 1;
              } while (uVar2 != uVar10);
            }
          }
          if (*(int *)(lVar3 + 0x4c) != 0) {
            _err_print_error("instance_set_scenario","servers/rendering/renderer_scene_cull.cpp",
                             0x324,"BUG, indexing did not unpair geometries from light.",0,0);
          }
          pvVar5 = *(void **)(lVar3 + 0x18);
          if (pvVar5 != (void *)0x0) {
            lVar4 = *(long *)(pIVar16 + 0x208);
            plVar7 = *(long **)(lVar4 + 0x108);
            if (plVar7 != (long *)0x0) {
              if (plVar7 == *(long **)((long)pvVar5 + 0x18)) {
                lVar14 = *(long *)((long)pvVar5 + 8);
                if (pvVar5 == (void *)*plVar7) {
                  *plVar7 = lVar14;
                }
                lVar6 = *(long *)((long)pvVar5 + 0x10);
                if (pvVar5 == (void *)plVar7[1]) {
                  plVar7[1] = lVar6;
                }
                if (lVar6 != 0) {
                  *(long *)(lVar6 + 8) = lVar14;
                  lVar14 = *(long *)((long)pvVar5 + 8);
                }
                if (lVar14 != 0) {
                  *(long *)(lVar14 + 0x10) = lVar6;
                }
                Memory::free_static(pvVar5,false);
                *(int *)(plVar7 + 2) = (int)plVar7[2] + -1;
              }
              else {
                _err_print_error("erase","./core/templates/list.h",0xe7,
                                 "Condition \"p_I->data != this\" is true. Returning: false",0,0);
              }
              if (*(int *)((long)*(void **)(lVar4 + 0x108) + 0x10) == 0) {
                Memory::free_static(*(void **)(lVar4 + 0x108),false);
                *(undefined8 *)(lVar4 + 0x108) = 0;
              }
            }
            *(undefined8 *)(lVar3 + 0x18) = 0;
          }
          break;
        case 6:
          (**(code **)(*RenderingServerGlobals::light_storage + 0x2a0))
                    (RenderingServerGlobals::light_storage,
                     *(undefined8 *)(*(long *)(pIVar16 + 0x298) + 0x38));
          break;
        case 8:
          lVar3 = *(long *)(pIVar16 + 0x298);
          if (*(int *)(lVar3 + 0x34) != 0) {
            _err_print_error("instance_set_scenario","servers/rendering/renderer_scene_cull.cpp",
                             0x339,"BUG, indexing did not unpair geometries from VoxelGI.",0,0);
          }
          if (*(int *)(lVar3 + 0x84) != 0) {
            _err_print_error("instance_set_scenario","servers/rendering/renderer_scene_cull.cpp",
                             0x33e,"BUG, indexing did not unpair lights from VoxelGI.",0,0);
          }
          if (*(RendererSceneCull **)(lVar3 + 0xb8) != (RendererSceneCull *)0x0) {
            if (*(RendererSceneCull **)(lVar3 + 0xb8) == this + 0x2d0) {
              lVar4 = *(long *)(lVar3 + 200);
              if (lVar4 != 0) {
                *(undefined8 *)(lVar4 + 0x18) = *(undefined8 *)(lVar3 + 0xd0);
              }
              lVar14 = *(long *)(lVar3 + 0xd0);
              if (lVar14 != 0) {
                *(long *)(lVar14 + 0x10) = lVar4;
              }
              if (lVar3 + 0xb8 == *(long *)(this + 0x2d0)) {
                *(undefined8 *)(this + 0x2d0) = *(undefined8 *)(lVar3 + 200);
              }
              if (lVar3 + 0xb8 == *(long *)(this + 0x2d8)) {
                *(long *)(this + 0x2d8) = lVar14;
              }
              *(undefined8 *)(lVar3 + 0xb8) = 0;
              *(undefined1 (*) [16])(lVar3 + 200) = (undefined1  [16])0x0;
            }
            else {
              _err_print_error("remove","./core/templates/self_list.h",0x50,
                               "Condition \"p_elem->_root != this\" is true.",0,0);
            }
          }
          break;
        case 10:
          if (((byte)pIVar16[0xe0] & 4) != 0) {
            if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x40) ==
                RendererSceneOcclusionCull::scenario_remove_instance) {
              if (RendererSceneOcclusionCull::_print_warning()::first_print != '\0') {
                _err_print_error("_print_warning",
                                 "./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                                 "Occlusion culling is disabled at build-time.",0,1);
                RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
              }
            }
            else {
              (**(code **)(*RendererSceneOcclusionCull::singleton + 0x40))
                        (RendererSceneOcclusionCull::singleton,
                         *(undefined8 *)(*(long *)(pIVar16 + 0x208) + 0x100),param_2);
            }
          }
        }
        *(undefined8 *)(pIVar16 + 0x208) = 0;
      }
      pIVar16 = local_48;
      if (param_3 != 0) {
        if ((uint)param_3 < *(uint *)(this + 0x1bc)) {
          lVar3 = *(long *)(*(long *)(this + 0x1a8) +
                           ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
                  ((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
          if (*(int *)(lVar3 + 0x240) == (int)(param_3 >> 0x20)) {
            *(long *)(local_48 + 0x208) = lVar3;
            pIVar1 = local_48 + 0x210;
            if (*(long *)(local_48 + 0x210) == 0) {
              *(long *)(local_48 + 0x210) = lVar3 + 0x178;
              lVar4 = *(long *)(lVar3 + 0x178);
              *(undefined8 *)(local_48 + 0x228) = 0;
              *(long *)(local_48 + 0x220) = lVar4;
              if (lVar4 == 0) {
                *(Instance **)(lVar3 + 0x180) = pIVar1;
              }
              else {
                *(Instance **)(lVar4 + 0x18) = pIVar1;
              }
              *(Instance **)(lVar3 + 0x178) = pIVar1;
            }
            else {
              _err_print_error(&_LC106,"./core/templates/self_list.h",0x2e,
                               "Condition \"p_elem->_root\" is true.",0,0);
            }
            iVar8 = *(int *)pIVar16;
            if (iVar8 == 8) {
              lVar3 = *(long *)(pIVar16 + 0x298);
              if (*(long *)(lVar3 + 0xb8) == 0) {
                lVar4 = lVar3 + 0xb8;
                *(RendererSceneCull **)(lVar3 + 0xb8) = this + 0x2d0;
                lVar14 = *(long *)(this + 0x2d0);
                *(undefined8 *)(lVar3 + 0xd0) = 0;
                *(long *)(lVar3 + 200) = lVar14;
                if (lVar14 == 0) {
                  *(long *)(this + 0x2d8) = lVar4;
                }
                else {
                  *(long *)(lVar14 + 0x18) = lVar4;
                }
                *(long *)(this + 0x2d0) = lVar4;
              }
            }
            else if (iVar8 == 10) {
              if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x38) ==
                  RendererSceneOcclusionCull::scenario_set_instance) {
                if (RendererSceneOcclusionCull::_print_warning()::first_print != '\0') {
                  _err_print_error("_print_warning",
                                   "./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                                   "Occlusion culling is disabled at build-time.",0,1);
                  RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
                }
              }
              else {
                (**(code **)(*RendererSceneOcclusionCull::singleton + 0x38))
                          (RendererSceneOcclusionCull::singleton,*(undefined8 *)(lVar3 + 0x100),
                           param_2,*(undefined8 *)(pIVar16 + 8),pIVar16 + 0x30,
                           (byte)pIVar16[0xe0] >> 2 & 1);
              }
            }
            else if (iVar8 == 5) {
              lVar4 = *(long *)(pIVar16 + 0x298);
              iVar8 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                                (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar16 + 8))
              ;
              if (iVar8 == 0) {
                if (*(long *)(lVar3 + 0x108) == 0) {
                  pauVar12 = (undefined1 (*) [16])operator_new(0x18,DefaultAllocator::alloc);
                  *(undefined1 (**) [16])(lVar3 + 0x108) = pauVar12;
                  *(undefined4 *)pauVar12[1] = 0;
                  *pauVar12 = (undefined1  [16])0x0;
                }
                puVar11 = (undefined8 *)operator_new(0x20,DefaultAllocator::alloc);
                plVar7 = *(long **)(lVar3 + 0x108);
                puVar11[1] = 0;
                lVar3 = plVar7[1];
                *puVar11 = pIVar16;
                puVar11[3] = plVar7;
                puVar11[2] = lVar3;
                if (lVar3 != 0) {
                  *(undefined8 **)(lVar3 + 8) = puVar11;
                }
                plVar7[1] = (long)puVar11;
                if (*plVar7 == 0) {
                  *plVar7 = (long)puVar11;
                }
                *(int *)(plVar7 + 2) = (int)plVar7[2] + 1;
                *(undefined8 **)(lVar4 + 0x18) = puVar11;
              }
            }
            *(undefined2 *)(pIVar16 + 0x230) = 0x101;
            if (*(long *)(pIVar16 + 0x238) == 0) {
              pIVar1 = pIVar16 + 0x238;
              *(RendererSceneCull **)(pIVar16 + 0x238) = this + 0x260;
              lVar3 = *(long *)(this + 0x260);
              *(undefined8 *)(pIVar16 + 0x250) = 0;
              *(long *)(pIVar16 + 0x248) = lVar3;
              if (lVar3 == 0) {
                *(Instance **)(this + 0x268) = pIVar1;
              }
              else {
                *(Instance **)(lVar3 + 0x18) = pIVar1;
              }
              *(Instance **)(this + 0x260) = pIVar1;
            }
            goto LAB_00108eb0;
          }
          if (*(int *)(lVar3 + 0x240) + 0x80000000U < 0x7fffffff) {
            _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                             "Method/function failed. Returning: nullptr",
                             "Attempting to use an uninitialized RID",0,0);
          }
        }
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) goto LAB_00109753;
        uVar15 = 0x354;
        pcVar13 = "Parameter \"scenario\" is null.";
        goto LAB_00109326;
      }
LAB_00108eb0:
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        return;
      }
      goto LAB_00109753;
    }
    if (*(int *)(pIVar16 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    uVar15 = 0x312;
    pcVar13 = "Parameter \"instance\" is null.";
LAB_00109326:
    _err_print_error("instance_set_scenario","servers/rendering/renderer_scene_cull.cpp",uVar15,
                     pcVar13,0,0);
    return;
  }
LAB_00109753:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::instance_set_visibility_parent(RID, RID) */

void __thiscall
RendererSceneCull::instance_set_visibility_parent
          (RendererSceneCull *this,ulong param_2,ulong param_3)

{
  char cVar1;
  char *pcVar2;
  undefined8 uVar3;
  Instance *pIVar4;
  Instance *pIVar5;
  long in_FS_OFFSET;
  Instance *local_50;
  Instance *local_48 [3];
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    pIVar4 = (Instance *)
             (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
             *(long *)(*(long *)(this + 0x97d8) +
                      ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (*(int *)(pIVar4 + 0x300) == (int)(param_2 >> 0x20)) {
      pIVar5 = *(Instance **)(pIVar4 + 0x1d0);
      local_50 = pIVar4;
      if (pIVar5 != (Instance *)0x0) {
        HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
        ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                 *)(pIVar5 + 0x1d8),&local_50);
        *(undefined8 *)(pIVar4 + 0x1d0) = 0;
        _update_instance_visibility_depth(this,pIVar5);
      }
      if (param_3 != 0) {
        if ((uint)param_3 < *(uint *)(this + 0x97ec)) {
          pIVar5 = (Instance *)
                   (((param_3 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                   *(long *)(*(long *)(this + 0x97d8) +
                            ((param_3 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
          if (*(int *)(pIVar5 + 0x300) == (int)(param_3 >> 0x20)) {
            HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
            ::insert(local_48);
            pIVar4 = local_50;
            *(Instance **)(local_50 + 0x1d0) = pIVar5;
            cVar1 = _update_instance_visibility_depth(this,pIVar5);
            if (cVar1 != '\0') {
              _err_print_error("instance_set_visibility_parent",
                               "servers/rendering/renderer_scene_cull.cpp",0x5cf,
                               "Cycle detected in the visibility dependencies tree. The latest change to visibility_parent will have no effect."
                               ,0,0);
              HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
              ::erase((HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
                       *)(pIVar5 + 0x1d8),&local_50);
              *(undefined8 *)(pIVar4 + 0x1d0) = 0;
            }
            goto LAB_0010988a;
          }
          if (*(int *)(pIVar5 + 0x300) + 0x80000000U < 0x7fffffff) {
            _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                             "Method/function failed. Returning: nullptr",
                             "Attempting to use an uninitialized RID",0,0);
          }
        }
        if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) goto LAB_00109a06;
        uVar3 = 0x5c7;
        pcVar2 = "Condition \"p_parent_instance.is_valid() && !parent\" is true.";
        goto LAB_00109936;
      }
LAB_0010988a:
      if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
        _update_instance_visibility_dependencies(this,pIVar4);
        return;
      }
      goto LAB_00109a06;
    }
    if (*(int *)(pIVar4 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    uVar3 = 0x5bd;
    pcVar2 = "Parameter \"instance\" is null.";
LAB_00109936:
    _err_print_error("instance_set_visibility_parent","servers/rendering/renderer_scene_cull.cpp",
                     uVar3,pcVar2,0,0);
    return;
  }
LAB_00109a06:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::RendererSceneCull() */

void __thiscall RendererSceneCull::RendererSceneCull(RendererSceneCull *this)

{
  long *plVar1;
  PagedArrayPool *pPVar2;
  PagedArrayPool *pPVar3;
  char cVar4;
  undefined8 uVar5;
  bool bVar6;
  int iVar7;
  uint uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  RendererSceneCull *pRVar11;
  RenderingLightCuller *this_00;
  int iVar12;
  int iVar13;
  long lVar14;
  InstanceCullResult *this_01;
  RendererSceneCull *pRVar15;
  InstanceCullResult *pIVar16;
  RendererSceneCull *pRVar17;
  long in_FS_OFFSET;
  byte bVar18;
  undefined1 auVar19 [16];
  long local_90;
  char *local_88;
  undefined8 local_80;
  int local_78 [8];
  int local_58 [6];
  long local_40;
  
  bVar18 = 0;
  pPVar2 = (PagedArrayPool *)(this + 0x370);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  RenderingMethod::RenderingMethod((RenderingMethod *)this);
  uVar10 = _UNK_00138d48;
  uVar9 = __LC147;
  *(undefined1 (*) [16])(this + 0x58) = (undefined1  [16])0x0;
  *(undefined ***)this = &PTR_camera_allocate_001381b0;
  *(undefined8 *)(this + 8) = 0;
  *(undefined ***)(this + 0x18) = &PTR__RID_Alloc_00137fe0;
  *(undefined8 *)(this + 0x20) = 0;
  *(undefined8 *)(this + 0x28) = 0;
  *(undefined8 *)(this + 0x40) = 0;
  *(undefined8 *)(this + 0x68) = 0;
  *(undefined4 *)(this + 0x58) = 1;
  *(undefined1 (*) [16])(this + 0x48) = (undefined1  [16])0x0;
  *(undefined8 *)(this + 0x30) = uVar9;
  *(undefined8 *)(this + 0x38) = uVar10;
  uVar9 = Memory::alloc_static(0xe08,false);
  *(undefined8 *)(this + 0x20) = uVar9;
  uVar9 = Memory::alloc_static((ulong)*(uint *)(this + 0x3c) << 3,false);
  *(undefined8 *)(this + 0x28) = uVar9;
  *(undefined1 (*) [16])(this + 0x1e0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x1d0) = (undefined1  [16])0x0;
  uVar5 = _UNK_00138d58;
  uVar10 = __LC149;
  uVar9 = _LC148;
  *(undefined4 *)(this + 0x80) = 0;
  *(undefined8 *)(this + 0x88) = 0;
  this[0x98] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0x90) = uVar9;
  *(undefined8 *)(this + 0xd8) = 0;
  *(undefined4 *)(this + 0xe0) = 0;
  *(undefined8 *)(this + 0xe8) = 0;
  this[0xf8] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0xf0) = uVar9;
  *(undefined8 *)(this + 0x138) = 0;
  *(undefined4 *)(this + 0x140) = 0;
  *(undefined8 *)(this + 0x148) = 0;
  this[0x158] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0x150) = uVar9;
  *(undefined4 *)(this + 0x198) = 0;
  *(undefined ***)(this + 0x1a0) = &PTR__RID_Alloc_00138050;
  *(undefined8 *)(this + 0x1a8) = 0;
  *(undefined8 *)(this + 0x1b0) = 0;
  *(undefined8 *)(this + 0x1c8) = 0;
  *(undefined8 *)(this + 0x1f0) = 0;
  *(undefined4 *)(this + 0x1e0) = 1;
  *(undefined1 (*) [16])(this + 0x70) = (undefined1  [16])0x0;
  *(undefined8 *)(this + 0x1b8) = uVar10;
  *(undefined8 *)(this + 0x1c0) = uVar5;
  uVar10 = Memory::alloc_static(0x4880,false);
  *(undefined8 *)(this + 0x1a8) = uVar10;
  uVar10 = Memory::alloc_static((ulong)*(uint *)(this + 0x1c4) << 3,false);
  *(undefined8 *)(this + 0x1b0) = uVar10;
  uVar5 = _UNK_00138d68;
  uVar10 = __LC150;
  pPVar3 = (PagedArrayPool *)(this + 0x310);
  this[0x21c] = (RendererSceneCull)0x0;
  *(undefined4 *)(this + 0x218) = 0x1000;
  this[0x280] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0x2e0) = 1;
  *(undefined8 *)(this + 0x308) = 2;
  *(undefined8 *)(this + 0x310) = 0;
  *(undefined4 *)(this + 0x318) = 0;
  *(undefined8 *)(this + 800) = 0;
  this[0x330] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0x328) = uVar9;
  *(undefined8 *)(this + 0x370) = 0;
  *(undefined4 *)(this + 0x378) = 0;
  *(undefined8 *)(this + 0x380) = 0;
  this[0x390] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0x388) = uVar9;
  *(undefined8 *)(this + 0x3d0) = 0;
  *(undefined4 *)(this + 0x3d8) = 0;
  *(undefined8 *)(this + 0x3e0) = 0;
  *(undefined1 (*) [16])(this + 0x1f8) = (undefined1  [16])0x0;
  *(undefined8 *)(this + 0x208) = uVar10;
  *(undefined8 *)(this + 0x210) = uVar5;
  *(undefined1 (*) [16])(this + 0x260) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x270) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x2c0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x2d0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x2e8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x2f8) = (undefined1  [16])0x0;
  this[0x3f0] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 1000) = uVar9;
  *(undefined8 *)(this + 0x440) = 0;
  *(undefined8 *)(this + 0x448) = 0;
  *(undefined4 *)(this + 0x450) = 0;
  *(undefined8 *)(this + 0x458) = 0;
  *(undefined8 *)(this + 0x470) = 0;
  *(undefined8 *)(this + 0x478) = 0;
  *(undefined4 *)(this + 0x480) = 0;
  *(undefined8 *)(this + 0x488) = 0;
  *(undefined8 *)(this + 0x4a0) = 0;
  *(undefined8 *)(this + 0x4a8) = 0;
  *(undefined4 *)(this + 0x4b0) = 0;
  *(undefined8 *)(this + 0x4b8) = 0;
  *(undefined8 *)(this + 0x4d0) = 0;
  *(undefined8 *)(this + 0x4d8) = 0;
  *(undefined4 *)(this + 0x4e0) = 0;
  *(undefined8 *)(this + 0x4e8) = 0;
  *(undefined8 *)(this + 0x500) = 0;
  *(undefined8 *)(this + 0x508) = 0;
  *(undefined4 *)(this + 0x510) = 0;
  *(undefined8 *)(this + 0x518) = 0;
  *(undefined8 *)(this + 0x530) = 0;
  *(undefined8 *)(this + 0x538) = 0;
  *(undefined4 *)(this + 0x540) = 0;
  *(undefined8 *)(this + 0x548) = 0;
  *(undefined1 (*) [16])(this + 0x430) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x460) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x490) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x4c0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x4f0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x520) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x550) = (undefined1  [16])0x0;
  *(undefined8 *)(this + 0x560) = 0;
  *(undefined8 *)(this + 0x568) = 0;
  *(undefined4 *)(this + 0x570) = 0;
  *(undefined8 *)(this + 0x578) = 0;
  *(undefined8 *)(this + 0x590) = 0;
  *(undefined8 *)(this + 0x598) = 0;
  *(undefined4 *)(this + 0x5a0) = 0;
  *(undefined8 *)(this + 0x5a8) = 0;
  *(undefined8 *)(this + 0x5c0) = 0;
  *(undefined8 *)(this + 0x5c8) = 0;
  *(undefined4 *)(this + 0x5d0) = 0;
  *(undefined8 *)(this + 0x5d8) = 0;
  *(undefined8 *)(this + 0x5f0) = 0;
  *(undefined8 *)(this + 0x5f8) = 0;
  *(undefined4 *)(this + 0x600) = 0;
  *(undefined8 *)(this + 0x608) = 0;
  *(undefined8 *)(this + 0x620) = 0;
  *(undefined8 *)(this + 0x628) = 0;
  *(undefined4 *)(this + 0x630) = 0;
  *(undefined8 *)(this + 0x638) = 0;
  *(undefined1 (*) [16])(this + 0x580) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x5b0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x5e0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x610) = (undefined1  [16])0x0;
  pRVar15 = this + 0x640;
  for (lVar14 = 0xc0; lVar14 != 0; lVar14 = lVar14 + -1) {
    *(undefined8 *)pRVar15 = 0;
    pRVar15 = pRVar15 + (ulong)bVar18 * -0x10 + 8;
  }
  pRVar15 = this + 0xc40;
  for (lVar14 = 0x90; lVar14 != 0; lVar14 = lVar14 + -1) {
    *(undefined8 *)pRVar15 = 0;
    pRVar15 = pRVar15 + (ulong)bVar18 * -0x10 + 8;
  }
  pRVar15 = this + 0x10c0;
  for (lVar14 = 0x30; lVar14 != 0; lVar14 = lVar14 + -1) {
    *(undefined8 *)pRVar15 = 0;
    pRVar15 = pRVar15 + (ulong)bVar18 * -0x10 + 8;
  }
  *(undefined8 *)(this + 0x1240) = 0;
  *(undefined8 *)(this + 0x1248) = 0;
  pRVar15 = this + 0x1250;
  do {
    *(undefined8 *)pRVar15 = 0;
    pRVar11 = pRVar15 + 0x40;
    *(undefined4 *)(pRVar15 + 8) = 0;
    *(undefined1 (*) [16])(pRVar15 + 0x10) = (undefined1  [16])0x0;
    *(undefined8 *)(pRVar15 + 0x20) = 0;
    *(undefined8 *)(pRVar15 + 0x28) = 0;
    *(undefined4 *)(pRVar15 + 0x30) = 0;
    *(undefined8 *)(pRVar15 + 0x38) = 0;
    pRVar15 = pRVar11;
  } while (this + 0x9250 != pRVar11);
  *(undefined4 *)(this + 0x9250) = 0;
  pRVar15 = this + 0x9b78;
  pRVar11 = this + 0x9258;
  for (lVar14 = 0xa8; lVar14 != 0; lVar14 = lVar14 + -1) {
    *(undefined8 *)pRVar11 = 0;
    pRVar11 = pRVar11 + (ulong)bVar18 * -0x10 + 8;
  }
  *(undefined1 (*) [16])(this + 0x9810) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x9800) = (undefined1  [16])0x0;
  uVar10 = _UNK_00138d78;
  uVar9 = __LC151;
  this[0x9798] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0x97a0) = 0;
  *(undefined4 *)(this + 0x97c8) = 200;
  *(undefined ***)(this + 0x97d0) = &PTR__RID_Alloc_00138190;
  *(undefined8 *)(this + 0x97d8) = 0;
  *(undefined8 *)(this + 0x97e0) = 0;
  *(undefined8 *)(this + 0x97f8) = 0;
  *(undefined8 *)(this + 0x9820) = 0;
  *(undefined4 *)(this + 0x9810) = 1;
  *(undefined8 *)(this + 0x97e8) = uVar9;
  *(undefined8 *)(this + 0x97f0) = uVar10;
  uVar9 = Memory::alloc_static(0x6068,false);
  *(undefined8 *)(this + 0x97d8) = uVar9;
  uVar9 = Memory::alloc_static((ulong)*(uint *)(this + 0x97f4) << 3,false);
  *(undefined8 *)(this + 0x97e0) = uVar9;
  *(undefined1 (*) [16])(this + 0x9838) = (undefined1  [16])0x0;
  *(undefined4 *)(this + 0x9828) = 0;
  *(undefined8 *)(this + 0x9830) = 0;
  do {
    *(undefined8 *)(pRVar15 + -0x330) = 0;
    pRVar11 = pRVar15 + -800;
    do {
      pRVar17 = pRVar11;
      *(undefined8 *)(pRVar17 + 8) = 0;
      *(undefined8 *)(pRVar17 + 0x18) = 0;
      Projection::Projection((Projection *)(pRVar17 + 0x38));
      auVar19 = ZEXT416(_LC55);
      *(undefined4 *)(pRVar17 + 0x98) = 0x3f800000;
      *(undefined1 (*) [16])(pRVar17 + 0x78) = auVar19;
      *(undefined1 (*) [16])(pRVar17 + 0x88) = auVar19;
      *(undefined8 *)(pRVar17 + 0x9c) = 0;
      *(undefined4 *)(pRVar17 + 0xa4) = 0;
      *(undefined8 *)(pRVar17 + 0xbc) = 0;
      pRVar11 = pRVar17 + 200;
    } while (pRVar17 + 200 != pRVar15);
    pRVar15 = pRVar17 + 0x400;
  } while (this + 0xb538 != pRVar15);
  pRVar15 = this + 0xb20c;
  do {
    *(undefined8 *)pRVar15 = 0;
    pRVar11 = pRVar15 + 0x18;
    *(undefined4 *)(pRVar15 + 8) = 0;
    *(undefined8 *)(pRVar15 + 0xc) = 0;
    *(undefined4 *)(pRVar15 + 0x14) = 0;
    pRVar15 = pRVar11;
  } while (this + 0xb44c != pRVar11);
  *(undefined4 *)(this + 0xb4ac) = 0;
  *(RendererSceneCull **)(this + 0xb580) = this + 0xb560;
  *(undefined4 *)(this + 0xb4d0) = 0;
  this[0xb4d4] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0xb520) = 0;
  *(undefined8 *)(this + 0xb530) = 0;
  *(undefined8 *)(this + 0xb550) = 0;
  *(undefined8 *)(this + 0xb558) = 0;
  *(undefined8 *)(this + 0xb560) = 0;
  *(undefined8 *)(this + 0xb568) = 0;
  *(undefined8 *)(this + 0xb570) = 0;
  *(undefined8 *)(this + 0xb578) = 0;
  *(RendererSceneCull **)(this + 0xb588) = this + 0xb570;
  this[0xb590] = (RendererSceneCull)0x0;
  *(undefined8 *)(this + 0x10) = 1;
  singleton = this;
  if (*(int *)(this + 0x448) == 0) {
    iVar7 = *(int *)(this + 0x32c);
    *(PagedArrayPool **)(this + 0x430) = pPVar3;
    *(int *)(this + 0x450) = iVar7 + -1;
    iVar12 = 0;
    if (iVar7 != 1) {
      iVar12 = 0;
      do {
        iVar12 = iVar12 + 1;
        if (iVar12 == 0x20) {
          iVar12 = -1;
          break;
        }
      } while (iVar7 != 1 << ((byte)iVar12 & 0x1f));
    }
    *(int *)(this + 0x44c) = iVar12;
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.");
  }
  if (*(int *)(this + 0x478) == 0) {
    iVar7 = *(int *)(this + 0x32c);
    *(PagedArrayPool **)(this + 0x460) = pPVar3;
    *(int *)(this + 0x480) = iVar7 + -1;
    iVar12 = 0;
    if (iVar7 != 1) {
      iVar12 = 0;
      do {
        iVar12 = iVar12 + 1;
        if (iVar12 == 0x20) {
          iVar12 = -1;
          break;
        }
      } while (iVar7 != 1 << ((byte)iVar12 & 0x1f));
    }
    *(int *)(this + 0x47c) = iVar12;
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.");
  }
  pRVar15 = this + 0x1260;
  pRVar11 = this + 0x9260;
  do {
    if (*(int *)(pRVar15 + 0x18) == 0) {
      *(PagedArrayPool **)pRVar15 = pPVar2;
      iVar7 = *(int *)(this + 0x38c);
      *(int *)(pRVar15 + 0x20) = iVar7 + -1;
      iVar12 = 0;
      iVar13 = 0;
      if (iVar7 != 1) {
        do {
          iVar12 = iVar12 + 1;
          if (iVar12 == 0x20) {
            iVar13 = -1;
            break;
          }
          iVar13 = iVar12;
        } while (iVar7 != 1 << ((byte)iVar12 & 0x1f));
      }
      *(int *)(pRVar15 + 0x1c) = iVar13;
    }
    else {
      _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                       "Condition \"max_pages_used > 0\" is true.");
    }
    pRVar15 = pRVar15 + 0x40;
  } while (pRVar11 != pRVar15);
  do {
    if (*(int *)(pRVar11 + 0x18) == 0) {
      *(PagedArrayPool **)pRVar11 = pPVar2;
      iVar7 = *(int *)(this + 0x38c);
      *(int *)(pRVar11 + 0x20) = iVar7 + -1;
      iVar12 = 0;
      if (iVar7 != 1) {
        iVar12 = 0;
        do {
          iVar12 = iVar12 + 1;
          if (iVar12 == 0x20) {
            iVar12 = -1;
            break;
          }
        } while (iVar7 != 1 << ((byte)iVar12 & 0x1f));
      }
      *(int *)(pRVar11 + 0x1c) = iVar12;
    }
    else {
      _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                       "Condition \"max_pages_used > 0\" is true.");
    }
    pRVar11 = pRVar11 + 0x38;
  } while (pRVar11 != this + 0x97a0);
  InstanceCullResult::init
            ((InstanceCullResult *)(this + 0x490),(PagedArrayPool *)(this + 0x3d0),pPVar2,pPVar3);
  LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false>::resize
            ((LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false> *)
             (this + 0x1240),*(uint *)(WorkerThreadPool::singleton + 0x290));
  this_01 = *(InstanceCullResult **)(this + 0x1248);
  pIVar16 = this_01 + (ulong)*(uint *)(this + 0x1240) * 0xdb0;
  for (; this_01 != pIVar16; this_01 = this_01 + 0xdb0) {
    InstanceCullResult::init(this_01,(PagedArrayPool *)(this + 0x3d0),pPVar2,pPVar3);
  }
  ProjectSettings::get_singleton();
  StringName::StringName
            ((StringName *)&local_88,"rendering/limits/spatial_indexer/update_iterations_per_frame",
             false);
  ProjectSettings::get_setting_with_override((StringName *)local_58);
  iVar7 = Variant::operator_cast_to_int((Variant *)local_58);
  *(int *)(this + 0x198) = iVar7;
  if (Variant::needs_deinit[local_58[0]] != '\0') {
    Variant::_clear_internal();
  }
  if ((StringName::configured != '\0') && (local_88 != (char *)0x0)) {
    StringName::unref();
  }
  ProjectSettings::get_singleton();
  StringName::StringName
            ((StringName *)&local_88,
             "rendering/limits/spatial_indexer/threaded_cull_minimum_instances",false);
  ProjectSettings::get_setting_with_override((StringName *)local_58);
  uVar8 = Variant::operator_cast_to_unsigned_int((Variant *)local_58);
  *(uint *)(this + 0x97c8) = uVar8;
  if (Variant::needs_deinit[local_58[0]] != '\0') {
    Variant::_clear_internal();
  }
  if ((StringName::configured != '\0') && (local_88 != (char *)0x0)) {
    StringName::unref();
  }
  uVar8 = *(uint *)(this + 0x97c8);
  if (*(uint *)(this + 0x97c8) < *(uint *)(WorkerThreadPool::singleton + 0x290)) {
    uVar8 = *(uint *)(WorkerThreadPool::singleton + 0x290);
  }
  *(uint *)(this + 0x97c8) = uVar8;
  ProjectSettings::get_singleton();
  StringName::StringName
            ((StringName *)&local_88,"rendering/occlusion_culling/jitter_projection",false);
  ProjectSettings::get_setting_with_override((StringName *)local_58);
  RendererSceneOcclusionCull::HZBuffer::occlusion_jitter_enabled._0_1_ =
       Variant::operator_cast_to_bool((Variant *)local_58);
  if (Variant::needs_deinit[local_58[0]] != '\0') {
    Variant::_clear_internal();
  }
  if ((StringName::configured != '\0') && (local_88 != (char *)0x0)) {
    StringName::unref();
  }
  RendererSceneOcclusionCull::singleton = (undefined8 *)operator_new(8,"");
  *RendererSceneOcclusionCull::singleton = &PTR_is_occluder_00137f38;
  *(undefined8 **)(this + 0x70) = RendererSceneOcclusionCull::singleton;
  this_00 = (RenderingLightCuller *)operator_new(0x1a0,"");
  RenderingLightCuller::RenderingLightCuller(this_00);
  *(RenderingLightCuller **)(this + 0x9840) = this_00;
  Variant::Variant((Variant *)local_58,true);
  local_90 = 0;
  local_88 = "rendering/lights_and_shadows/tighter_shadow_caster_culling";
  local_80 = 0x3a;
  String::parse_latin1((StrRange *)&local_90);
  _GLOBAL_DEF((String *)local_78,(Variant *)&local_90,SUB81((StringName *)local_58,0),false,false,
              false);
  bVar6 = Variant::operator_cast_to_bool((Variant *)local_78);
  if (Variant::needs_deinit[local_78[0]] != '\0') {
    Variant::_clear_internal();
  }
  lVar14 = local_90;
  if (local_90 != 0) {
    LOCK();
    plVar1 = (long *)(local_90 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_90 = 0;
      Memory::free_static((void *)(lVar14 + -0x10),false);
      cVar4 = Variant::needs_deinit[local_58[0]];
      goto joined_r0x0010a733;
    }
  }
  cVar4 = Variant::needs_deinit[local_58[0]];
joined_r0x0010a733:
  if (cVar4 != '\0') {
    Variant::_clear_internal();
  }
  *(ushort *)(*(long *)(this + 0x9840) + 0x195) = CONCAT11(bVar6,bVar6);
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* RendererSceneCull::instance_set_surface_override_material(RID, int, RID) */

void __thiscall
RendererSceneCull::instance_set_surface_override_material
          (RendererSceneCull *this,ulong param_2,int param_3,undefined8 param_4)

{
  int *piVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  long lVar5;
  long lVar6;
  
  if ((param_2 == 0) || (*(uint *)(this + 0x97ec) <= (uint)param_2)) {
LAB_0010a99c:
    _err_print_error("instance_set_surface_override_material",
                     "servers/rendering/renderer_scene_cull.cpp",0x43a,
                     "Parameter \"instance\" is null.",0,0);
    return;
  }
  piVar3 = (int *)(((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                  *(long *)(*(long *)(this + 0x97d8) +
                           ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
  if (piVar3[0xc0] != (int)(param_2 >> 0x20)) {
    if (piVar3[0xc0] + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
    goto LAB_0010a99c;
  }
  if (*piVar3 == 1) {
    iVar2 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x80))
                      (RenderingServerGlobals::mesh_storage,*(undefined8 *)(piVar3 + 2));
    iVar4 = param_3 + 1;
    if (param_3 + 1 < iVar2) {
      iVar4 = iVar2;
    }
    CowData<RID>::resize<false>((CowData<RID> *)(piVar3 + 0x34),(long)iVar4);
  }
  lVar5 = *(long *)(piVar3 + 0x34);
  lVar6 = (long)param_3;
  if (param_3 < 0) {
    if (lVar5 != 0) {
      lVar5 = *(long *)(lVar5 + -8);
      goto LAB_0010a94d;
    }
  }
  else if (lVar5 != 0) {
    lVar5 = *(long *)(lVar5 + -8);
    if (lVar6 < lVar5) {
      CowData<RID>::_copy_on_write((CowData<RID> *)(piVar3 + 0x34));
      lVar5 = *(long *)(piVar3 + 0x8e);
      *(undefined8 *)(*(long *)(piVar3 + 0x34) + lVar6 * 8) = param_4;
      *(undefined1 *)((long)piVar3 + 0x231) = 1;
      if (lVar5 != 0) {
        return;
      }
      piVar1 = piVar3 + 0x8e;
      *(RendererSceneCull **)(piVar3 + 0x8e) = this + 0x260;
      lVar5 = *(long *)(this + 0x260);
      piVar3[0x94] = 0;
      piVar3[0x95] = 0;
      *(long *)(piVar3 + 0x92) = lVar5;
      if (lVar5 == 0) {
        *(int **)(this + 0x268) = piVar1;
      }
      else {
        *(int **)(lVar5 + 0x18) = piVar1;
      }
      *(int **)(this + 0x260) = piVar1;
      return;
    }
    goto LAB_0010a94d;
  }
  lVar5 = 0;
LAB_0010a94d:
  _err_print_index_error
            ("instance_set_surface_override_material","servers/rendering/renderer_scene_cull.cpp",
             0x441,lVar6,lVar5,"p_surface","instance->materials.size()","",false,false);
  return;
}



/* RendererSceneCull::instance_set_base(RID, RID) */

void __thiscall
RendererSceneCull::instance_set_base(RendererSceneCull *this,ulong param_2,long param_3)

{
  Instance *pIVar1;
  Instance IVar2;
  void *pvVar3;
  long lVar4;
  code *pcVar5;
  char cVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  undefined8 *puVar10;
  long *plVar11;
  long lVar12;
  undefined8 *puVar13;
  undefined8 *puVar14;
  ulong uVar15;
  undefined1 (*pauVar16) [16];
  char *pcVar17;
  undefined8 uVar18;
  long lVar19;
  Instance *pIVar20;
  undefined2 uVar21;
  long lVar22;
  long in_FS_OFFSET;
  undefined8 local_58;
  undefined8 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_2 == 0) || (*(uint *)(this + 0x97ec) <= (uint)param_2)) {
LAB_0010ad10:
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      uVar18 = 0x21f;
      pcVar17 = "Parameter \"instance\" is null.";
LAB_0010ad36:
      _err_print_error("instance_set_base","servers/rendering/renderer_scene_cull.cpp",uVar18,
                       pcVar17,0,0);
      return;
    }
    goto LAB_0010bdbf;
  }
  pIVar20 = (Instance *)
            (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
  if (*(int *)(pIVar20 + 0x300) != (int)(param_2 >> 0x20)) {
    if (*(int *)(pIVar20 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
    goto LAB_0010ad10;
  }
  lVar12 = *(long *)(pIVar20 + 0x208);
  if (*(int *)pIVar20 != 0) {
    if ((lVar12 != 0) && (*(long *)(pIVar20 + 0x1a8) != 0)) {
      _unpair_instance(this,pIVar20);
    }
    if (*(long *)(pIVar20 + 0x28) != 0) {
      (**(code **)(*RenderingServerGlobals::mesh_storage + 0xd8))();
      *(undefined8 *)(pIVar20 + 0x28) = 0;
    }
    switch(*(undefined4 *)pIVar20) {
    case 1:
    case 2:
    case 3:
      (**(code **)(**(long **)(this + 8) + 8))();
      break;
    case 4:
      (**(code **)(*RenderingServerGlobals::utilities + 0x18))();
      break;
    case 5:
      lVar22 = *(long *)(pIVar20 + 0x298);
      if (lVar12 == 0) {
        if (*(int *)(lVar22 + 0x4c) != 0) {
          _err_print_error("instance_set_base","servers/rendering/renderer_scene_cull.cpp",0x240,
                           "BUG, indexing did not unpair geometries from light.",0,0);
        }
      }
      else {
        if ((((byte)pIVar20[0xe0] & 4) == 0) ||
           (iVar7 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))(), iVar7 == 0)) {
          iVar7 = *(int *)(lVar22 + 0x4c);
        }
        else {
          iVar7 = *(int *)(lVar22 + 0x4c);
          if ((*(int *)(lVar22 + 0x58) == 2) && (uVar8 = *(uint *)(lVar12 + 0x188), uVar8 != 0)) {
            lVar19 = *(long *)(lVar12 + 400);
            uVar15 = 0;
            do {
              if (*(long *)(lVar19 + uVar15 * 8) == *(long *)(lVar22 + 8)) {
                *(uint *)(lVar12 + 0x188) = uVar8 - 1;
                uVar9 = (uint)uVar15;
                if (uVar9 < uVar8 - 1) {
                  memmove((void *)(lVar19 + uVar15 * 8),(void *)(lVar19 + (ulong)(uVar9 + 1) * 8),
                          (ulong)((uVar8 - 2) - uVar9) * 8 + 8);
                }
                break;
              }
              uVar15 = uVar15 + 1;
            } while (uVar8 != uVar15);
          }
        }
        if (iVar7 != 0) {
          _err_print_error("instance_set_base","servers/rendering/renderer_scene_cull.cpp",0x240,
                           "BUG, indexing did not unpair geometries from light.",0,0);
        }
        pvVar3 = *(void **)(lVar22 + 0x18);
        if (pvVar3 != (void *)0x0) {
          plVar11 = *(long **)(lVar12 + 0x108);
          if (plVar11 != (long *)0x0) {
            if (plVar11 == *(long **)((long)pvVar3 + 0x18)) {
              lVar19 = *(long *)((long)pvVar3 + 8);
              if (pvVar3 == (void *)*plVar11) {
                *plVar11 = lVar19;
              }
              lVar4 = *(long *)((long)pvVar3 + 0x10);
              if (pvVar3 == (void *)plVar11[1]) {
                plVar11[1] = lVar4;
              }
              if (lVar4 != 0) {
                *(long *)(lVar4 + 8) = lVar19;
                lVar19 = *(long *)((long)pvVar3 + 8);
              }
              if (lVar19 != 0) {
                *(long *)(lVar19 + 0x10) = lVar4;
              }
              Memory::free_static(pvVar3,false);
              *(int *)(plVar11 + 2) = (int)plVar11[2] + -1;
            }
            else {
              _err_print_error("erase","./core/templates/list.h",0xe7,
                               "Condition \"p_I->data != this\" is true. Returning: false",0,0);
            }
            if (*(int *)((long)*(void **)(lVar12 + 0x108) + 0x10) == 0) {
              Memory::free_static(*(void **)(lVar12 + 0x108),false);
              *(undefined8 *)(lVar12 + 0x108) = 0;
            }
          }
          *(undefined8 *)(lVar22 + 0x18) = 0;
        }
      }
      (**(code **)(*RenderingServerGlobals::light_storage + 0x148))();
      break;
    case 6:
      lVar22 = *(long *)(pIVar20 + 0x298);
      (**(code **)(*RenderingServerGlobals::light_storage + 0x288))();
      if (*(RendererSceneCull **)(lVar22 + 0x40) != (RendererSceneCull *)0x0) {
        if (*(RendererSceneCull **)(lVar22 + 0x40) == this + 0x270) {
          lVar19 = *(long *)(lVar22 + 0x50);
          if (lVar19 != 0) {
            *(undefined8 *)(lVar19 + 0x18) = *(undefined8 *)(lVar22 + 0x58);
          }
          lVar4 = *(long *)(lVar22 + 0x58);
          if (lVar4 != 0) {
            *(long *)(lVar4 + 0x10) = lVar19;
          }
          if (lVar22 + 0x40 == *(long *)(this + 0x270)) {
            *(undefined8 *)(this + 0x270) = *(undefined8 *)(lVar22 + 0x50);
          }
          if (lVar22 + 0x40 == *(long *)(this + 0x278)) {
            *(long *)(this + 0x278) = lVar4;
          }
          *(undefined8 *)(lVar22 + 0x40) = 0;
          *(undefined1 (*) [16])(lVar22 + 0x50) = (undefined1  [16])0x0;
        }
        else {
          _err_print_error("remove","./core/templates/self_list.h",0x50,
                           "Condition \"p_elem->_root != this\" is true.",0,0);
        }
      }
      break;
    case 7:
      (**(code **)(*RenderingServerGlobals::texture_storage + 0x1d0))();
      break;
    case 8:
      lVar22 = *(long *)(pIVar20 + 0x298);
      if (*(int *)(lVar22 + 0x34) != 0) {
        _err_print_error("instance_set_base","servers/rendering/renderer_scene_cull.cpp",0x26c,
                         "BUG, indexing did not unpair geometries from VoxelGI.",0,0);
      }
      if (*(int *)(lVar22 + 0x84) != 0) {
        _err_print_error("instance_set_base","servers/rendering/renderer_scene_cull.cpp",0x271,
                         "BUG, indexing did not unpair lights from VoxelGI.",0,0);
      }
      if (*(RendererSceneCull **)(lVar22 + 0xb8) != (RendererSceneCull *)0x0) {
        if (*(RendererSceneCull **)(lVar22 + 0xb8) == this + 0x2d0) {
          lVar19 = *(long *)(lVar22 + 200);
          if (lVar19 != 0) {
            *(undefined8 *)(lVar19 + 0x18) = *(undefined8 *)(lVar22 + 0xd0);
          }
          lVar4 = *(long *)(lVar22 + 0xd0);
          if (lVar4 != 0) {
            *(long *)(lVar4 + 0x10) = lVar19;
          }
          if (lVar22 + 0xb8 == *(long *)(this + 0x2d0)) {
            *(undefined8 *)(this + 0x2d0) = *(undefined8 *)(lVar22 + 200);
          }
          if (lVar22 + 0xb8 == *(long *)(this + 0x2d8)) {
            *(long *)(this + 0x2d8) = lVar4;
          }
          *(undefined8 *)(lVar22 + 0xb8) = 0;
          *(undefined1 (*) [16])(lVar22 + 200) = (undefined1  [16])0x0;
        }
        else {
          _err_print_error("remove","./core/templates/self_list.h",0x50,
                           "Condition \"p_elem->_root != this\" is true.",0,0);
        }
      }
      (**(code **)(**(long **)(this + 8) + 400))();
      break;
    case 9:
      lVar22 = *(long *)(pIVar20 + 0x298);
      if (*(int *)(lVar22 + 0x5c) != 0) {
        do {
          if (*(long **)(lVar22 + 0x38) == (long *)0x0) break;
          local_58 = 0;
          local_50 = 0;
          (**(code **)(*(long *)this + 0x1a8))
                    (this,*(undefined8 *)(**(long **)(lVar22 + 0x38) + 0x1a0),0,&local_58,0);
        } while (*(int *)(lVar22 + 0x5c) != 0);
      }
      (**(code **)(*RenderingServerGlobals::light_storage + 0x378))();
      break;
    case 10:
      if ((lVar12 != 0) && (((byte)pIVar20[0xe0] & 4) != 0)) {
        if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x40) ==
            RendererSceneOcclusionCull::scenario_remove_instance) {
          if (RendererSceneOcclusionCull::_print_warning()::first_print != '\0') {
            _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",
                             0xcd,"Occlusion culling is disabled at build-time.",0,1);
            RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
          }
        }
        else {
          (**(code **)(*RendererSceneOcclusionCull::singleton + 0x40))
                    (RendererSceneOcclusionCull::singleton,
                     *(undefined8 *)(*(long *)(pIVar20 + 0x208) + 0x100),param_2);
        }
      }
      break;
    case 0xc:
      (**(code **)(**(long **)(this + 8) + 400))();
    }
    puVar13 = *(undefined8 **)(pIVar20 + 0x298);
    if (puVar13 != (undefined8 *)0x0) {
      (**(code **)*puVar13)(puVar13);
      Memory::free_static(puVar13,false);
      *(undefined8 *)(pIVar20 + 0x298) = 0;
    }
    CowData<RID>::resize<false>((CowData<RID> *)(pIVar20 + 0xd0),0);
  }
  *(undefined4 *)pIVar20 = 0;
  *(undefined8 *)(pIVar20 + 8) = 0;
  uVar21 = _LC102;
  if (param_3 == 0) {
LAB_0010abca:
    *(undefined2 *)(pIVar20 + 0x230) = uVar21;
    if (*(long *)(pIVar20 + 0x238) == 0) {
      pIVar1 = pIVar20 + 0x238;
      *(RendererSceneCull **)(pIVar20 + 0x238) = this + 0x260;
      lVar12 = *(long *)(this + 0x260);
      *(undefined8 *)(pIVar20 + 0x250) = 0;
      *(long *)(pIVar20 + 0x248) = lVar12;
      if (lVar12 == 0) {
        *(Instance **)(this + 0x268) = pIVar1;
      }
      else {
        *(Instance **)(lVar12 + 0x18) = pIVar1;
      }
      *(Instance **)(this + 0x260) = pIVar1;
    }
  }
  else {
    iVar7 = (**(code **)(*RenderingServerGlobals::utilities + 0x10))
                      (RenderingServerGlobals::utilities,param_3);
    *(int *)pIVar20 = iVar7;
    if (iVar7 != 0) {
LAB_0010ac80:
      switch(iVar7) {
      case 0:
        goto switchD_0010ac99_caseD_0;
      case 1:
      case 2:
      case 3:
        puVar10 = (undefined8 *)operator_new(0xe8,"");
        uVar21 = _LC102;
        *puVar10 = &PTR__InstanceGeometryData_00138070;
        uVar18 = _LC128;
        *(undefined1 (*) [16])(puVar10 + 9) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar10 + 0xb) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar10 + 0xe) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar10 + 0x10) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar10 + 0x13) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar10 + 0x15) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar10 + 0x18) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar10 + 0x1a) = (undefined1  [16])0x0;
        puVar13 = *(undefined8 **)(this + 8);
        puVar10[6] = uVar18;
        puVar10[0xd] = uVar18;
        puVar10[0x12] = uVar18;
        puVar10[0x17] = uVar18;
        puVar10[0x1c] = uVar18;
        puVar14 = (undefined8 *)*puVar13;
        puVar10[1] = 0;
        puVar10[2] = 0;
        puVar10[3] = 0;
        puVar10[4] = 0;
        puVar10[5] = 0;
        *(undefined8 *)((long)puVar10 + 0x3c) = 0;
        *(undefined2 *)(puVar10 + 7) = uVar21;
        *(undefined8 **)(pIVar20 + 0x298) = puVar10;
        plVar11 = (long *)(*(code *)*puVar14)(puVar13,param_3);
        puVar10[1] = plVar11;
        if (plVar11 == (long *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            uVar18 = 0x2ae;
            pcVar17 = "Parameter \"geom->geometry_instance\" is null.";
            goto LAB_0010ad36;
          }
          goto LAB_0010bdbf;
        }
        (**(code **)(*plVar11 + 0x18))(plVar11,*(undefined8 *)(pIVar20 + 0x10));
        (**(code **)(*(long *)puVar10[1] + 0x20))
                  ((long *)puVar10[1],*(undefined8 *)(pIVar20 + 0x18));
        (**(code **)(*(long *)puVar10[1] + 0x28))
                  ((long *)puVar10[1],*(undefined8 *)(pIVar20 + 0x20));
        (**(code **)(*(long *)puVar10[1] + 0x30))((long *)puVar10[1],pIVar20 + 200);
        (**(code **)(*(long *)puVar10[1] + 0x40))
                  ((long *)puVar10[1],pIVar20 + 0x30,pIVar20 + 0x120,pIVar20 + 0x138);
        (**(code **)(*(long *)puVar10[1] + 0x58))
                  ((long *)puVar10[1],*(undefined4 *)(pIVar20 + 0xdc));
        (**(code **)(*(long *)puVar10[1] + 0x48))((long *)puVar10[1],pIVar20[0x274]);
        (**(code **)(*(long *)puVar10[1] + 0x50))();
        (**(code **)(*(long *)puVar10[1] + 0x70))();
        (**(code **)(*(long *)puVar10[1] + 0x78))((long *)puVar10[1],(byte)pIVar20[0xe0] >> 3 & 1);
        (**(code **)(*(long *)puVar10[1] + 0x80))((long *)puVar10[1],(byte)pIVar20[0xe0] >> 4 & 1);
        (**(code **)(*(long *)puVar10[1] + 0x88))
                  ((long *)puVar10[1],0,pIVar20 + 0xf8,*(undefined4 *)(pIVar20 + 0x108));
        (**(code **)(*(long *)puVar10[1] + 0x98))
                  ((long *)puVar10[1],*(undefined4 *)(pIVar20 + 0x168));
        (**(code **)(*(long *)puVar10[1] + 0xa0))((long *)puVar10[1],*(int *)(pIVar20 + 0xd8) == 2);
        if ((*(long *)(pIVar20 + 0x118) != 0) && (*(long *)(*(long *)(pIVar20 + 0x118) + -8) == 9))
        {
          (**(code **)(*(long *)puVar10[1] + 0x90))();
        }
        iVar7 = *(int *)(pIVar20 + 0x1fc);
        if (iVar7 != 0) {
          plVar11 = *(long **)(pIVar20 + 0x1d8);
          lVar22 = 0;
          lVar12 = *plVar11;
          uVar8 = *(uint *)(lVar12 + 0x1b0);
          if (uVar8 == 0xffffffff) goto LAB_0010b039;
          do {
            lVar12 = *(long *)(lVar12 + 0x208);
            uVar15 = (ulong)(int)uVar8;
            if (*(ulong *)(lVar12 + 0x1f0) <= uVar15) {
              _err_print_index_error
                        ("operator[]","./core/templates/paged_array.h",0xb0,uVar15,
                         *(ulong *)(lVar12 + 0x1f0),"p_index","count","",false,true);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar5 = (code *)invalidInstructionException();
              (*pcVar5)();
            }
            lVar12 = (ulong)(uVar8 & *(uint *)(lVar12 + 0x1e8)) * 0x30 +
                     *(long *)(*(long *)(lVar12 + 0x1d0) +
                              (uVar15 >> ((byte)*(undefined4 *)(lVar12 + 0x1e4) & 0x3f) & 0xffffffff
                              ) * 8);
            if (*(int *)(lVar12 + 0x20) != -1) {
              uVar18 = 0x2c5;
              pcVar17 = 
              "Condition \"dep_instance->scenario->instance_data[dep_instance->array_index].parent_array_index != -1\" is true. Continuing."
              ;
              goto LAB_0010b054;
            }
            *(undefined4 *)(lVar12 + 0x20) = *(undefined4 *)(pIVar20 + 0x1b0);
            while( true ) {
              if (iVar7 <= (int)lVar22 + 1) goto LAB_0010b9d0;
              lVar22 = lVar22 + 1;
              lVar12 = plVar11[lVar22];
              uVar8 = *(uint *)(lVar12 + 0x1b0);
              if (uVar8 != 0xffffffff) break;
LAB_0010b039:
              uVar18 = 0x2c4;
              pcVar17 = "Condition \"dep_instance->array_index == -1\" is true. Continuing.";
LAB_0010b054:
              _err_print_error("instance_set_base","servers/rendering/renderer_scene_cull.cpp",
                               uVar18,pcVar17,0,0);
            }
          } while( true );
        }
LAB_0010b9d0:
        iVar7 = *(int *)pIVar20;
        break;
      case 4:
        puVar13 = (undefined8 *)operator_new(0x10,"");
        plVar11 = RenderingServerGlobals::particles_storage;
        *puVar13 = &PTR__InstanceParticlesCollisionData_001380d0;
        lVar12 = *plVar11;
        puVar13[1] = 0;
        uVar18 = (**(code **)(lVar12 + 0x208))(plVar11,param_3);
        plVar11 = RenderingServerGlobals::particles_storage;
        IVar2 = pIVar20[0xe0];
        puVar13[1] = uVar18;
        (**(code **)(*plVar11 + 0x220))(plVar11,uVar18,(byte)IVar2 >> 2 & 1);
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        iVar7 = *(int *)pIVar20;
        uVar21 = _LC102;
        break;
      case 5:
        puVar13 = (undefined8 *)operator_new(0x70,"");
        *puVar13 = &PTR__InstanceLightData_00138130;
        *(undefined2 *)(puVar13 + 4) = 0;
        uVar18 = _LC164;
        puVar13[3] = 0;
        puVar13[0xb] = uVar18;
        *(undefined4 *)((long)puVar13 + 0x6c) = 0xffffffff;
        puVar13[9] = 2;
        puVar13[10] = 0;
        puVar13[0xc] = 0xffffffff00000001;
        *(undefined1 *)(puVar13 + 0xd) = 0;
        *(undefined1 (*) [16])(puVar13 + 1) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 5) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 7) = (undefined1  [16])0x0;
        if ((lVar12 != 0) &&
           (iVar7 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                              (RenderingServerGlobals::light_storage,param_3), iVar7 == 0)) {
          if (*(long *)(lVar12 + 0x108) == 0) {
            pauVar16 = (undefined1 (*) [16])operator_new(0x18,DefaultAllocator::alloc);
            *(undefined1 (**) [16])(lVar12 + 0x108) = pauVar16;
            *(undefined4 *)pauVar16[1] = 0;
            *pauVar16 = (undefined1  [16])0x0;
          }
          puVar14 = (undefined8 *)operator_new(0x20,DefaultAllocator::alloc);
          plVar11 = *(long **)(lVar12 + 0x108);
          puVar14[1] = 0;
          lVar12 = plVar11[1];
          *puVar14 = pIVar20;
          puVar14[3] = plVar11;
          puVar14[2] = lVar12;
          if (lVar12 != 0) {
            *(undefined8 **)(lVar12 + 8) = puVar14;
          }
          plVar11[1] = (long)puVar14;
          if (*plVar11 == 0) {
            *plVar11 = (long)puVar14;
          }
          *(int *)(plVar11 + 2) = (int)plVar11[2] + 1;
          puVar13[3] = puVar14;
        }
        uVar18 = (**(code **)(*RenderingServerGlobals::light_storage + 0x140))
                           (RenderingServerGlobals::light_storage,param_3);
        puVar13[1] = uVar18;
        iVar7 = *(int *)pIVar20;
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        uVar21 = _LC102;
        break;
      case 6:
        puVar13 = (undefined8 *)operator_new(0x68,"");
        plVar11 = RenderingServerGlobals::light_storage;
        *puVar13 = &PTR__InstanceReflectionProbeData_00138090;
        lVar12 = *plVar11;
        puVar13[2] = 0;
        puVar13[3] = 0;
        puVar13[4] = 0;
        puVar13[5] = 0;
        puVar13[6] = 2;
        puVar13[7] = 0;
        puVar13[8] = 0;
        puVar13[10] = 0;
        puVar13[0xb] = 0;
        puVar13[9] = puVar13;
        *(undefined4 *)(puVar13 + 0xc) = 0xffffffff;
        puVar13[1] = pIVar20;
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        uVar18 = (**(code **)(lVar12 + 0x280))(plVar11,param_3);
        puVar13[7] = uVar18;
        iVar7 = *(int *)pIVar20;
        uVar21 = _LC102;
        break;
      case 7:
        puVar13 = (undefined8 *)operator_new(0x40,"");
        plVar11 = RenderingServerGlobals::texture_storage;
        *(undefined1 (*) [16])(puVar13 + 3) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 5) = (undefined1  [16])0x0;
        *puVar13 = &PTR__InstanceDecalData_001380b0;
        lVar12 = *plVar11;
        puVar13[2] = 0;
        puVar13[7] = 2;
        puVar13[1] = pIVar20;
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        uVar18 = (**(code **)(lVar12 + 0x1c8))(plVar11,param_3);
        plVar11 = RenderingServerGlobals::texture_storage;
        puVar13[2] = uVar18;
        (**(code **)(*plVar11 + 0x1e0))(plVar11,uVar18);
        iVar7 = *(int *)pIVar20;
        uVar21 = _LC102;
        break;
      case 8:
        puVar13 = (undefined8 *)operator_new(0xd8,"");
        *puVar13 = &PTR__InstanceVoxelGIData_00138150;
        uVar18 = _LC128;
        puVar13[2] = 0;
        puVar13[3] = 0;
        puVar13[4] = 0;
        puVar13[5] = 0;
        puVar13[6] = uVar18;
        puVar13[0xb] = uVar18;
        puVar13[0x10] = uVar18;
        puVar13[0x12] = 0;
        puVar13[0x14] = 0;
        puVar13[0x15] = 0;
        puVar13[0x17] = 0;
        puVar13[0x19] = 0;
        puVar13[0x1a] = 0;
        puVar13[0x18] = puVar13;
        *(undefined1 *)(puVar13 + 0x16) = 1;
        *(undefined4 *)((long)puVar13 + 0xb4) = 0;
        *(undefined1 (*) [16])(puVar13 + 7) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 9) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 0xc) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 0xe) = (undefined1  [16])0x0;
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        puVar13[1] = pIVar20;
        if (lVar12 != 0) {
          puVar14 = puVar13 + 0x17;
          puVar13[0x17] = this + 0x2d0;
          lVar12 = *(long *)(this + 0x2d0);
          puVar13[0x1a] = 0;
          puVar13[0x19] = lVar12;
          if (lVar12 == 0) {
            *(undefined8 **)(this + 0x2d8) = puVar14;
          }
          else {
            *(undefined8 **)(lVar12 + 0x18) = puVar14;
          }
          *(undefined8 **)(this + 0x2d0) = puVar14;
        }
        uVar18 = (**(code **)(**(long **)(this + 8) + 0x100))(*(long **)(this + 8),param_3);
        puVar13[0x15] = uVar18;
        iVar7 = *(int *)pIVar20;
        uVar21 = _LC102;
        break;
      case 9:
        puVar13 = (undefined8 *)operator_new(0x60,"");
        plVar11 = RenderingServerGlobals::light_storage;
        *puVar13 = &PTR__InstanceLightmapData_00138170;
        uVar18 = _LC128;
        *(undefined1 (*) [16])(puVar13 + 2) = (undefined1  [16])0x0;
        puVar13[6] = uVar18;
        puVar13[0xb] = uVar18;
        *(undefined1 (*) [16])(puVar13 + 4) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 7) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar13 + 9) = (undefined1  [16])0x0;
        lVar12 = *plVar11;
        puVar13[1] = 0;
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        uVar18 = (**(code **)(lVar12 + 0x370))(plVar11,param_3);
        puVar13[1] = uVar18;
        iVar7 = *(int *)pIVar20;
        uVar21 = _LC102;
        break;
      case 10:
switchD_0010ac99_caseD_a:
        if (lVar12 != 0) {
          if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x38) ==
              RendererSceneOcclusionCull::scenario_set_instance) {
            if (RendererSceneOcclusionCull::_print_warning()::first_print != '\0') {
              _err_print_error("_print_warning",
                               "./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                               "Occlusion culling is disabled at build-time.",0,1);
              RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
              iVar7 = *(int *)pIVar20;
              uVar21 = _LC102;
              break;
            }
          }
          else {
            (**(code **)(*RendererSceneOcclusionCull::singleton + 0x38))
                      (RendererSceneOcclusionCull::singleton,*(undefined8 *)(lVar12 + 0x100),param_2
                       ,param_3,pIVar20 + 0x30,(byte)pIVar20[0xe0] >> 2 & 1);
          }
        }
        iVar7 = *(int *)pIVar20;
        uVar21 = _LC102;
        break;
      case 0xb:
        puVar13 = (undefined8 *)operator_new(0x40,"");
        uVar21 = _LC102;
        *puVar13 = &PTR__InstanceVisibilityNotifierData_00138110;
        *(undefined1 *)(puVar13 + 1) = 0;
        puVar13[2] = 0;
        puVar13[4] = 0;
        puVar13[6] = 0;
        puVar13[7] = 0;
        puVar13[5] = puVar13;
        puVar13[3] = param_3;
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        iVar7 = *(int *)pIVar20;
        break;
      case 0xc:
        puVar13 = (undefined8 *)operator_new(0x18,"");
        plVar11 = *(long **)(this + 8);
        *puVar13 = &PTR__InstanceFogVolumeData_001380f0;
        lVar12 = *plVar11;
        puVar13[1] = 0;
        uVar18 = (**(code **)(lVar12 + 0xd8))(plVar11,param_3);
        plVar11 = *(long **)(this + 8);
        IVar2 = pIVar20[0xe0];
        puVar13[1] = uVar18;
        (**(code **)(*plVar11 + 0xe8))(plVar11,uVar18,(byte)IVar2 >> 2 & 1);
        *(undefined8 **)(pIVar20 + 0x298) = puVar13;
        iVar7 = *(int *)pIVar20;
        uVar21 = _LC102;
        break;
      default:
        *(long *)(pIVar20 + 8) = param_3;
        uVar21 = _LC102;
        goto LAB_0010b0e5;
      }
      *(long *)(pIVar20 + 8) = param_3;
      if (iVar7 == 1) {
        _instance_update_mesh_instance(this,pIVar20);
      }
LAB_0010b0e5:
      (**(code **)(*RenderingServerGlobals::utilities + 0x20))
                (RenderingServerGlobals::utilities,param_3,pIVar20 + 0x2b8);
      goto LAB_0010abca;
    }
    if (*(code **)*RendererSceneOcclusionCull::singleton != RendererSceneOcclusionCull::is_occluder)
    {
      cVar6 = (**(code **)*RendererSceneOcclusionCull::singleton)
                        (RendererSceneOcclusionCull::singleton,param_3);
      if (cVar6 == '\0') {
        iVar7 = *(int *)pIVar20;
        goto LAB_0010ac80;
      }
      *(undefined4 *)pIVar20 = 10;
      goto switchD_0010ac99_caseD_a;
    }
switchD_0010ac99_caseD_0:
    if (instance_set_base(RID,RID)::first_print != '\0') {
      _err_print_error("instance_set_base","servers/rendering/renderer_scene_cull.cpp",0x299,
                       "unimplemented base type encountered in renderer scene cull",0,0);
      instance_set_base(RID,RID)::first_print = '\0';
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010bdbf:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::scenario_initialize(RID) */

void __thiscall RendererSceneCull::scenario_initialize(RendererSceneCull *this,ulong param_2)

{
  long lVar1;
  code *pcVar2;
  long *plVar3;
  undefined8 uVar4;
  int iVar5;
  
  RID_Alloc<RendererSceneCull::Scenario,true>::initialize_rid
            ((RID_Alloc<RendererSceneCull::Scenario,true> *)(this + 0x1a0));
  plVar3 = RenderingServerGlobals::light_storage;
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1bc))) {
    lVar1 = *(long *)(*(long *)(this + 0x1a8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
            ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
    if (*(int *)(lVar1 + 0x240) == (int)(param_2 >> 0x20)) {
      *(ulong *)(lVar1 + 0x100) = param_2;
      uVar4 = (**(code **)(*plVar3 + 0x388))();
      plVar3 = RenderingServerGlobals::light_storage;
      *(undefined8 *)(lVar1 + 0x130) = uVar4;
      (**(code **)(*plVar3 + 0x398))(plVar3,uVar4,0x400,1);
      (**(code **)(*RenderingServerGlobals::light_storage + 0x3a0))
                (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar1 + 0x130),0,4);
      (**(code **)(*RenderingServerGlobals::light_storage + 0x3a0))
                (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar1 + 0x130),1,4);
      (**(code **)(*RenderingServerGlobals::light_storage + 0x3a0))
                (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar1 + 0x130),2,4);
      (**(code **)(*RenderingServerGlobals::light_storage + 0x3a0))
                (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar1 + 0x130),3,8);
      uVar4 = (**(code **)(*RenderingServerGlobals::light_storage + 0x260))();
      *(undefined8 *)(lVar1 + 0x138) = uVar4;
      if (*(int *)(lVar1 + 0x1b0) == 0) {
        *(RendererSceneCull **)(lVar1 + 0x198) = this + 0x78;
        *(int *)(lVar1 + 0x1b8) = *(int *)(this + 0x94) + -1;
        iVar5 = 0;
        if (*(int *)(this + 0x94) != 1) {
          iVar5 = 0;
          do {
            iVar5 = iVar5 + 1;
            if (iVar5 == 0x20) {
              iVar5 = -1;
              break;
            }
          } while (*(int *)(this + 0x94) != 1 << ((byte)iVar5 & 0x1f));
        }
        *(int *)(lVar1 + 0x1b4) = iVar5;
      }
      else {
        _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                         "Condition \"max_pages_used > 0\" is true.",0,0);
      }
      if (*(int *)(lVar1 + 0x1e0) == 0) {
        *(RendererSceneCull **)(lVar1 + 0x1c8) = this + 0xd8;
        *(int *)(lVar1 + 0x1e8) = *(int *)(this + 0xf4) + -1;
        iVar5 = 0;
        if (*(int *)(this + 0xf4) != 1) {
          iVar5 = 0;
          do {
            iVar5 = iVar5 + 1;
            if (iVar5 == 0x20) {
              iVar5 = -1;
              break;
            }
          } while (*(int *)(this + 0xf4) != 1 << ((byte)iVar5 & 0x1f));
        }
        *(int *)(lVar1 + 0x1e4) = iVar5;
      }
      else {
        _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                         "Condition \"max_pages_used > 0\" is true.",0,0);
      }
      if (*(int *)(lVar1 + 0x218) == 0) {
        *(RendererSceneCull **)(lVar1 + 0x200) = this + 0x138;
        *(int *)(lVar1 + 0x220) = *(int *)(this + 0x154) + -1;
        iVar5 = 0;
        if (*(int *)(this + 0x154) != 1) {
          iVar5 = 0;
          do {
            iVar5 = iVar5 + 1;
            if (iVar5 == 0x20) {
              iVar5 = -1;
              break;
            }
          } while (*(int *)(this + 0x154) != 1 << ((byte)iVar5 & 0x1f));
        }
        *(int *)(lVar1 + 0x21c) = iVar5;
      }
      else {
        _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                         "Condition \"max_pages_used > 0\" is true.",0,0);
      }
      if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x28) ==
          RendererSceneOcclusionCull::add_scenario) {
        return;
      }
                    /* WARNING: Could not recover jumptable at 0x0010c087. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*RendererSceneOcclusionCull::singleton + 0x28))
                (RendererSceneOcclusionCull::singleton,param_2);
      return;
    }
    if (*(int *)(lVar1 + 0x240) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0,param_2 >> 0x20);
    }
  }
  _DAT_00000100 = 0;
                    /* WARNING: Does not return */
  pcVar2 = (code *)invalidInstructionException();
  (*pcVar2)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::instance_initialize(RID) */

void __thiscall RendererSceneCull::instance_initialize(RendererSceneCull *this,ulong param_2)

{
  code *pcVar1;
  long lVar2;
  
  RID_Alloc<RendererSceneCull::Instance,true>::initialize_rid
            ((RID_Alloc<RendererSceneCull::Instance,true> *)(this + 0x97d0));
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    lVar2 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    if (*(int *)(lVar2 + 0x300) == (int)(param_2 >> 0x20)) {
      *(ulong *)(lVar2 + 0x1a0) = param_2;
      return;
    }
    if (*(int *)(lVar2 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0,lVar2);
    }
  }
  _DAT_000001a0 = 0;
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* WARNING: Removing unreachable block (ram,0x0010c43f) */
/* WARNING: Removing unreachable block (ram,0x0010c5e0) */
/* RendererSceneCull::render_particle_colliders() */

void RendererSceneCull::render_particle_colliders(void)

{
  char *pcVar1;
  PagedArray<RendererSceneCull::Instance*> PVar2;
  code *pcVar3;
  uint *puVar4;
  void *pvVar5;
  char cVar6;
  undefined4 uVar7;
  uint uVar8;
  uint uVar9;
  ulong uVar10;
  ulong uVar11;
  long lVar12;
  undefined8 uVar13;
  undefined8 *puVar14;
  char *in_RCX;
  PagedArray<RendererSceneCull::Instance*> *pPVar15;
  ulong *puVar16;
  float *pfVar17;
  int iVar18;
  Instance *pIVar19;
  undefined1 *puVar20;
  undefined1 *puVar21;
  undefined1 *puVar22;
  uint uVar23;
  int iVar24;
  Instance **ppIVar25;
  long in_RDI;
  HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
  *this;
  long lVar26;
  undefined8 *puVar27;
  PagedArrayPool<RendererSceneCull::Instance*> *pPVar28;
  long lVar29;
  long *plVar30;
  int iVar31;
  ulong uVar32;
  undefined8 *puVar33;
  undefined8 *puVar34;
  long in_FS_OFFSET;
  byte bVar35;
  float fVar36;
  undefined1 auVar37 [12];
  undefined1 auStack_b8 [12];
  uint local_ac;
  float *local_a8;
  float *local_a0;
  float *local_98;
  float local_90;
  float local_8c;
  Instance *local_88;
  undefined8 local_80;
  PagedArray<RendererSceneCull::Instance*> *local_78;
  undefined8 *local_70;
  long *local_68;
  Instance *local_60;
  float local_58;
  float local_54;
  HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
  *local_50;
  char local_41;
  long local_40;
  
  bVar35 = 0;
  puVar20 = auStack_b8;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_50 = (HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
              *)(in_RDI + 0x2e8);
LAB_0010c1c8:
  if ((*(int *)(in_RDI + 0x30c) == 0) ||
     (ppIVar25 = *(Instance ***)(in_RDI + 0x2e8), ppIVar25 == (Instance **)0x0)) {
LAB_0010c1d3:
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
                    /* WARNING: Subroutine does not return */
    *(undefined **)(puVar20 + -8) = &UNK_0010cd7b;
    __stack_chk_fail();
  }
  pIVar19 = *ppIVar25;
  this = local_50;
  if ((*(long *)(pIVar19 + 0x208) != 0) && (*(int *)pIVar19 == 4)) {
    uVar13 = *(undefined8 *)(pIVar19 + 8);
    pcVar3 = *(code **)(*RenderingServerGlobals::particles_storage + 0x1f0);
    *(undefined8 *)(puVar20 + -8) = 0x10c23c;
    cVar6 = (*pcVar3)(RenderingServerGlobals::particles_storage,uVar13);
    if (cVar6 != '\0') {
      local_78 = (PagedArray<RendererSceneCull::Instance*> *)(in_RDI + 0x430);
      if (*(long *)(in_RDI + 0x458) != 0) {
        in_RCX = (char *)(ulong)*(uint *)(in_RDI + 0x44c);
        uVar10 = *(long *)(in_RDI + 0x458) - 1U >> ((byte)*(uint *)(in_RDI + 0x44c) & 0x3f);
        if ((int)uVar10 != -1) {
          lVar29 = 0;
          in_RCX = &local_41;
          do {
            lVar12 = *(long *)(in_RDI + 0x430);
            uVar7 = *(undefined4 *)(*(long *)(in_RDI + 0x440) + lVar29);
            pcVar1 = (char *)(lVar12 + 0x20);
            while( true ) {
              local_41 = '\0';
              LOCK();
              cVar6 = *pcVar1;
              if (cVar6 == '\0') {
                *pcVar1 = '\x01';
              }
              UNLOCK();
              if (cVar6 == '\0') break;
              do {
              } while (*pcVar1 != '\0');
            }
            lVar29 = lVar29 + 4;
            *(undefined4 *)(*(long *)(lVar12 + 0x10) + (ulong)*(uint *)(lVar12 + 0x18) * 4) = uVar7;
            *(int *)(lVar12 + 0x18) = *(int *)(lVar12 + 0x18) + 1;
            *(undefined1 *)(lVar12 + 0x20) = 0;
          } while (lVar29 != (uVar10 & 0xffffffff) * 4 + 4);
        }
      }
      *(undefined8 *)(in_RDI + 0x458) = 0;
      if (*(long *)(in_RDI + 0x4b8) != 0) {
        in_RCX = (char *)(ulong)*(uint *)(in_RDI + 0x4ac);
        uVar10 = *(long *)(in_RDI + 0x4b8) - 1U >> ((byte)*(uint *)(in_RDI + 0x4ac) & 0x3f);
        if ((int)uVar10 != -1) {
          lVar29 = 0;
          in_RCX = &local_41;
          do {
            lVar12 = *(long *)(in_RDI + 0x490);
            uVar7 = *(undefined4 *)(*(long *)(in_RDI + 0x4a0) + lVar29);
            pcVar1 = (char *)(lVar12 + 0x20);
            while( true ) {
              local_41 = '\0';
              LOCK();
              cVar6 = *pcVar1;
              if (cVar6 == '\0') {
                *pcVar1 = '\x01';
              }
              UNLOCK();
              if (cVar6 == '\0') break;
              do {
              } while (*pcVar1 != '\0');
            }
            lVar29 = lVar29 + 4;
            *(undefined4 *)(*(long *)(lVar12 + 0x10) + (ulong)*(uint *)(lVar12 + 0x18) * 4) = uVar7;
            *(int *)(lVar12 + 0x18) = *(int *)(lVar12 + 0x18) + 1;
            *(undefined1 *)(lVar12 + 0x20) = 0;
          } while (lVar29 != (uVar10 & 0xffffffff) * 4 + 4);
        }
      }
      plVar30 = RenderingServerGlobals::particles_storage;
      *(undefined8 *)(in_RDI + 0x4b8) = 0;
      pcVar3 = *(code **)(*plVar30 + 0x1f8);
      *(undefined8 *)(puVar20 + -8) = 0x10c3da;
      uVar7 = (*pcVar3)();
      local_68 = (long *)CONCAT44(local_68._4_4_,uVar7);
      lVar29 = *(long *)(pIVar19 + 0x208);
      pfVar17 = *(float **)(lVar29 + 0x68);
      puVar21 = puVar20;
      if (pfVar17 != (float *)0x0) {
        local_8c = *(float *)(pIVar19 + 0x140);
        local_54 = *(float *)(pIVar19 + 0x138);
        local_58 = *(float *)(pIVar19 + 0x14c) + local_8c;
        fVar36 = *(float *)(pIVar19 + 0x144) + local_54;
        local_90 = *(float *)(pIVar19 + 0x13c);
        local_70 = (undefined8 *)CONCAT44(local_70._4_4_,*(float *)(pIVar19 + 0x148) + local_90);
        puVar21 = puVar20 + -0x410;
        *(undefined8 *)(puVar20 + -8) = *(undefined8 *)(puVar20 + -8);
        puVar14 = (undefined8 *)0x0;
        uVar8 = 0;
        iVar31 = 0x7e;
        local_60 = (Instance *)((ulong)local_60 & 0xffffffff00000000);
        puVar33 = (undefined8 *)((ulong)(puVar20 + -0x401) & 0xfffffffffffffff0);
        *puVar33 = pfVar17;
        puVar34 = puVar33;
        local_88 = pIVar19;
        iVar24 = 1;
        do {
          iVar18 = iVar24 + -1;
          if (((((fVar36 < *pfVar17) || (pfVar17[3] < local_54)) || (local_70._0_4_ < pfVar17[1]))
              || ((pfVar17[4] < local_90 || (local_58 < pfVar17[2])))) || (pfVar17[5] < local_8c)) {
LAB_0010c880:
            pIVar19 = local_88;
            if (iVar18 == 0) goto LAB_0010c568;
          }
          else {
            if (*(long *)(pfVar17 + 10) == 0) {
              local_80 = *(long *)(pfVar17 + 8);
              if (((uint)local_68 & *(uint *)(local_80 + 0xdc)) != 0) {
                uVar10 = *(ulong *)(in_RDI + 0x458);
                uVar23 = (uint)uVar10 & *(uint *)(in_RDI + 0x450);
                if (uVar23 == 0) {
                  iVar24 = 0;
                  if (uVar10 != 0) {
                    iVar24 = (int)(uVar10 - 1 >> ((byte)*(undefined4 *)(in_RDI + 0x44c) & 0x3f)) + 1
                    ;
                  }
                  pPVar28 = *(PagedArrayPool<RendererSceneCull::Instance*> **)(in_RDI + 0x430);
                  if (*(uint *)(in_RDI + 0x448) < iVar24 + 1U) {
                    if (pPVar28 == (PagedArrayPool<RendererSceneCull::Instance*> *)0x0) {
                      local_80._4_4_ = (undefined4)((ulong)local_80 >> 0x20);
                      local_80 = CONCAT44(local_80._4_4_,fVar36);
                      in_RCX = "Parameter \"page_pool\" is null.";
                      local_a0 = (float *)CONCAT44(local_a0._4_4_,uVar8);
                      local_98 = (float *)CONCAT44(local_98._4_4_,iVar31);
                      *(undefined8 *)(puVar20 + -0x418) = 0x10cd5e;
                      _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                       "Parameter \"page_pool\" is null.",0,0);
                      fVar36 = (float)local_80;
                      iVar31 = (int)local_98._0_4_;
                      uVar8 = (uint)local_a0._0_4_;
                      goto LAB_0010c880;
                    }
                    local_a8 = (float *)CONCAT44(local_a8._4_4_,iVar31);
                    local_98 = (float *)CONCAT44(local_98._4_4_,iVar24);
                    local_a0 = (float *)CONCAT44(local_a0._4_4_,fVar36);
                    *(undefined8 *)(puVar20 + -0x418) = 0x10ccae;
                    local_ac = uVar8;
                    PagedArray<RendererSceneCull::Instance*>::_grow_page_array(local_78);
                    pPVar28 = *(PagedArrayPool<RendererSceneCull::Instance*> **)(in_RDI + 0x430);
                    fVar36 = local_a0._0_4_;
                    iVar31 = (int)local_a8;
                    iVar24 = (int)local_98._0_4_;
                    uVar8 = local_ac;
                  }
                  local_a8 = (float *)CONCAT44(local_a8._4_4_,iVar31);
                  local_98 = (float *)CONCAT44(local_98._4_4_,iVar24);
                  local_a0 = (float *)CONCAT44(local_a0._4_4_,fVar36);
                  *(undefined8 *)(puVar20 + -0x418) = 0x10cbe1;
                  local_ac = uVar8;
                  auVar37 = PagedArrayPool<RendererSceneCull::Instance*>::alloc_page(pPVar28);
                  lVar29 = *(long *)(in_RDI + 0x438);
                  *(long *)(lVar29 + ((ulong)local_98 & 0xffffffff) * 8) = auVar37._0_8_;
                  *(int *)(*(long *)(in_RDI + 0x440) + ((ulong)local_98 & 0xffffffff) * 4) =
                       auVar37._8_4_;
                  uVar10 = *(ulong *)(in_RDI + 0x458);
                  uVar23 = *(uint *)(in_RDI + 0x450) & (uint)uVar10;
                  fVar36 = local_a0._0_4_;
                  iVar31 = (int)local_a8;
                  uVar8 = local_ac;
                }
                else {
                  lVar29 = *(long *)(in_RDI + 0x438);
                }
                in_RCX = (char *)(uVar10 >> ((byte)*(undefined4 *)(in_RDI + 0x44c) & 0x3f) &
                                 0xffffffff);
                *(long *)(*(long *)(lVar29 + (long)in_RCX * 8) + (ulong)uVar23 * 8) = local_80;
                *(ulong *)(in_RDI + 0x458) = uVar10 + 1;
              }
              goto LAB_0010c880;
            }
            local_80 = (long)iVar18 * 8;
            if (iVar31 < iVar18) {
              if (uVar8 == 0) {
                if ((uint)local_60._0_4_ < 0x100) {
                  local_60 = (Instance *)CONCAT44(local_60._4_4_,fVar36);
                  local_98 = (float *)CONCAT44(local_98._4_4_,iVar24);
                  *(undefined8 *)(puVar20 + -0x418) = 0x10d032;
                  local_a0 = pfVar17;
                  puVar14 = (undefined8 *)Memory::realloc_static(puVar14,0x800,false);
                  fVar36 = local_60._0_4_;
                  puVar22 = puVar20 + -0x410;
                  if (puVar14 == (undefined8 *)0x0) goto LAB_0010cf53;
                  local_60 = (Instance *)CONCAT44(local_60._4_4_,0x100);
                  pfVar17 = local_a0;
                  iVar24 = (int)local_98._0_4_;
                }
                iVar31 = 0xfe;
                *puVar14 = *puVar34;
                puVar14[0x7f] = puVar34[0x7f];
                lVar29 = (long)puVar14 - (long)((ulong)(puVar14 + 1) & 0xfffffffffffffff8);
                puVar33 = (undefined8 *)((long)puVar34 - lVar29);
                puVar27 = (undefined8 *)((ulong)(puVar14 + 1) & 0xfffffffffffffff8);
                for (uVar10 = (ulong)((int)lVar29 + 0x400U >> 3); puVar34 = (undefined8 *)0x0,
                    uVar23 = 0x100, uVar10 != 0; uVar10 = uVar10 - 1) {
                  *puVar27 = *puVar33;
                  puVar33 = puVar33 + (ulong)bVar35 * -2 + 1;
                  puVar27 = puVar27 + (ulong)bVar35 * -2 + 1;
                }
              }
              else {
                uVar23 = uVar8 * 2;
                if (uVar8 <= uVar23) {
                  if (uVar23 <= uVar8) {
                    iVar31 = uVar8 - 2;
                    uVar23 = uVar8;
                    goto LAB_0010cae9;
                  }
                  if ((uint)local_60._0_4_ < uVar23) {
                    local_a0 = (float *)CONCAT44(local_a0._4_4_,iVar24);
                    local_98 = (float *)CONCAT44(local_98._4_4_,fVar36);
                    uVar8 = uVar23 - 1 | uVar23 - 1 >> 1;
                    uVar8 = uVar8 | uVar8 >> 2;
                    uVar8 = uVar8 | uVar8 >> 4;
                    uVar8 = uVar8 | uVar8 >> 8;
                    uVar8 = (uVar8 | uVar8 >> 0x10) + 1;
                    local_60 = (Instance *)CONCAT44(local_60._4_4_,uVar8);
                    *(undefined8 *)(puVar20 + -0x418) = 0x10cf31;
                    local_a8 = pfVar17;
                    puVar14 = (undefined8 *)Memory::realloc_static(puVar14,(ulong)uVar8 << 3,false);
                    puVar22 = puVar20 + -0x410;
                    pfVar17 = local_a8;
                    fVar36 = local_98._0_4_;
                    iVar24 = (int)local_a0._0_4_;
                    if (puVar14 == (undefined8 *)0x0) goto LAB_0010cf53;
                  }
                }
                iVar31 = uVar23 - 2;
              }
LAB_0010cae9:
              puVar16 = (ulong *)((long)puVar14 + local_80);
              puVar33 = puVar14;
            }
            else {
              puVar16 = puVar33 + iVar18;
              uVar23 = uVar8;
            }
            in_RCX = *(char **)(pfVar17 + 8);
            iVar18 = iVar24 + 1;
            *puVar16 = (ulong)in_RCX;
            *(undefined8 *)((long)puVar33 + local_80 + 8) = *(undefined8 *)(pfVar17 + 10);
            uVar8 = uVar23;
          }
          pfVar17 = (float *)puVar33[iVar18 + -1];
          iVar24 = iVar18;
        } while( true );
      }
      goto LAB_0010c582;
    }
    goto LAB_0010c240;
  }
  goto LAB_0010c21a;
LAB_0010c568:
  if (puVar14 != (undefined8 *)0x0) {
    *(undefined8 *)(puVar20 + -0x418) = 0x10c57b;
    Memory::free_static(puVar14,false);
  }
  lVar29 = *(long *)(pIVar19 + 0x208);
LAB_0010c582:
  pfVar17 = *(float **)(lVar29 + 0xe8);
  puVar20 = puVar21;
  if (pfVar17 != (float *)0x0) {
    local_8c = *(float *)(pIVar19 + 0x140);
    local_54 = *(float *)(pIVar19 + 0x138);
    local_58 = *(float *)(pIVar19 + 0x14c) + local_8c;
    fVar36 = *(float *)(pIVar19 + 0x144) + local_54;
    local_90 = *(float *)(pIVar19 + 0x13c);
    local_70 = (undefined8 *)CONCAT44(local_70._4_4_,*(float *)(pIVar19 + 0x148) + local_90);
    *(undefined8 *)(puVar21 + -8) = *(undefined8 *)(puVar21 + -8);
    puVar14 = (undefined8 *)0x0;
    uVar8 = 0;
    iVar31 = 0x7e;
    local_60 = (Instance *)((ulong)local_60 & 0xffffffff00000000);
    puVar33 = (undefined8 *)((ulong)(puVar21 + -0x401) & 0xfffffffffffffff0);
    *puVar33 = pfVar17;
    puVar34 = puVar33;
    local_88 = pIVar19;
    iVar24 = 1;
    do {
      iVar18 = iVar24 + -1;
      if (((fVar36 < *pfVar17) || (pfVar17[3] < local_54)) ||
         ((local_70._0_4_ < pfVar17[1] ||
          (((pfVar17[4] < local_90 || (local_58 < pfVar17[2])) || (pfVar17[5] < local_8c)))))) {
LAB_0010c8f8:
        pIVar19 = local_88;
        if (iVar18 == 0) goto LAB_0010c708;
      }
      else {
        if (*(long *)(pfVar17 + 10) == 0) {
          local_80 = *(long *)(pfVar17 + 8);
          if (((uint)local_68 & *(uint *)(local_80 + 0xdc)) != 0) {
            uVar10 = *(ulong *)(in_RDI + 0x458);
            uVar23 = (uint)uVar10 & *(uint *)(in_RDI + 0x450);
            if (uVar23 == 0) {
              iVar24 = 0;
              if (uVar10 != 0) {
                iVar24 = (int)(uVar10 - 1 >> ((byte)*(undefined4 *)(in_RDI + 0x44c) & 0x3f)) + 1;
              }
              pPVar28 = *(PagedArrayPool<RendererSceneCull::Instance*> **)(in_RDI + 0x430);
              if (*(uint *)(in_RDI + 0x448) < iVar24 + 1U) {
                if (pPVar28 == (PagedArrayPool<RendererSceneCull::Instance*> *)0x0) {
                  local_80._4_4_ = (undefined4)((ulong)local_80 >> 0x20);
                  local_80 = CONCAT44(local_80._4_4_,fVar36);
                  in_RCX = "Parameter \"page_pool\" is null.";
                  local_a0 = (float *)CONCAT44(local_a0._4_4_,uVar8);
                  local_98 = (float *)CONCAT44(local_98._4_4_,iVar31);
                  *(undefined8 *)(puVar21 + -0x418) = 0x10cd0e;
                  _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                   "Parameter \"page_pool\" is null.",0,0);
                  fVar36 = (float)local_80;
                  iVar31 = (int)local_98._0_4_;
                  uVar8 = (uint)local_a0._0_4_;
                  goto LAB_0010c8f8;
                }
                local_a8 = (float *)CONCAT44(local_a8._4_4_,iVar31);
                local_98 = (float *)CONCAT44(local_98._4_4_,iVar24);
                local_a0 = (float *)CONCAT44(local_a0._4_4_,fVar36);
                *(undefined8 *)(puVar21 + -0x418) = 0x10cc58;
                local_ac = uVar8;
                PagedArray<RendererSceneCull::Instance*>::_grow_page_array(local_78);
                pPVar28 = *(PagedArrayPool<RendererSceneCull::Instance*> **)(in_RDI + 0x430);
                fVar36 = local_a0._0_4_;
                iVar31 = (int)local_a8;
                iVar24 = (int)local_98._0_4_;
                uVar8 = local_ac;
              }
              local_a8 = (float *)CONCAT44(local_a8._4_4_,iVar31);
              local_98 = (float *)CONCAT44(local_98._4_4_,iVar24);
              local_a0 = (float *)CONCAT44(local_a0._4_4_,fVar36);
              *(undefined8 *)(puVar21 + -0x418) = 0x10cb4a;
              local_ac = uVar8;
              auVar37 = PagedArrayPool<RendererSceneCull::Instance*>::alloc_page(pPVar28);
              lVar29 = *(long *)(in_RDI + 0x438);
              *(long *)(lVar29 + ((ulong)local_98 & 0xffffffff) * 8) = auVar37._0_8_;
              *(int *)(*(long *)(in_RDI + 0x440) + ((ulong)local_98 & 0xffffffff) * 4) =
                   auVar37._8_4_;
              uVar10 = *(ulong *)(in_RDI + 0x458);
              uVar23 = *(uint *)(in_RDI + 0x450) & (uint)uVar10;
              fVar36 = local_a0._0_4_;
              iVar31 = (int)local_a8;
              uVar8 = local_ac;
            }
            else {
              lVar29 = *(long *)(in_RDI + 0x438);
            }
            in_RCX = (char *)(uVar10 >> ((byte)*(undefined4 *)(in_RDI + 0x44c) & 0x3f) & 0xffffffff)
            ;
            *(long *)(*(long *)(lVar29 + (long)in_RCX * 8) + (ulong)uVar23 * 8) = local_80;
            *(ulong *)(in_RDI + 0x458) = uVar10 + 1;
          }
          goto LAB_0010c8f8;
        }
        local_80 = (long)iVar18 * 8;
        if (iVar31 < iVar18) {
          if (uVar8 == 0) {
            if ((uint)local_60._0_4_ < 0x100) {
              local_a8 = (float *)CONCAT44(local_a8._4_4_,iVar24);
              local_a0 = (float *)CONCAT44(local_a0._4_4_,fVar36);
              *(undefined8 *)(puVar21 + -0x418) = 0x10ce90;
              local_98 = pfVar17;
              puVar14 = (undefined8 *)Memory::realloc_static(puVar14,0x800,false);
              puVar22 = puVar21 + -0x410;
              if (puVar14 == (undefined8 *)0x0) {
LAB_0010cf53:
                *(char **)(puVar22 + -8) = in_RCX;
                *(undefined8 *)(puVar22 + -0x10) = 0;
                *(undefined8 *)(puVar22 + -0x18) = 0x10cf7f;
                _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                                 "FATAL: Condition \"!data\" is true.","Out of memory",0);
                *(undefined8 *)(puVar22 + -0x18) = 0x10cf84;
                _err_flush_stdout();
                    /* WARNING: Does not return */
                pcVar3 = (code *)invalidInstructionException();
                (*pcVar3)();
              }
              local_60 = (Instance *)CONCAT44(local_60._4_4_,0x100);
              pfVar17 = local_98;
              fVar36 = local_a0._0_4_;
              iVar24 = (int)local_a8;
            }
            iVar31 = 0xfe;
            *puVar14 = *puVar34;
            puVar14[0x7f] = puVar34[0x7f];
            lVar29 = (long)puVar14 - (long)((ulong)(puVar14 + 1) & 0xfffffffffffffff8);
            puVar33 = (undefined8 *)((long)puVar34 - lVar29);
            puVar27 = (undefined8 *)((ulong)(puVar14 + 1) & 0xfffffffffffffff8);
            for (uVar10 = (ulong)((int)lVar29 + 0x400U >> 3); puVar34 = (undefined8 *)0x0,
                uVar23 = 0x100, uVar10 != 0; uVar10 = uVar10 - 1) {
              *puVar27 = *puVar33;
              puVar33 = puVar33 + (ulong)bVar35 * -2 + 1;
              puVar27 = puVar27 + (ulong)bVar35 * -2 + 1;
            }
          }
          else {
            uVar23 = uVar8 * 2;
            if (uVar8 <= uVar23) {
              if (uVar23 <= uVar8) {
                iVar31 = uVar8 - 2;
                uVar23 = uVar8;
                goto LAB_0010ca7b;
              }
              if ((uint)local_60._0_4_ < uVar23) {
                local_a8 = (float *)CONCAT44(local_a8._4_4_,iVar24);
                local_a0 = (float *)CONCAT44(local_a0._4_4_,fVar36);
                uVar8 = uVar23 - 1 | uVar23 - 1 >> 1;
                uVar8 = uVar8 | uVar8 >> 2;
                uVar8 = uVar8 >> 4 | uVar8;
                uVar8 = uVar8 >> 8 | uVar8;
                uVar8 = (uVar8 | uVar8 >> 0x10) + 1;
                local_60 = (Instance *)CONCAT44(local_60._4_4_,uVar8);
                *(undefined8 *)(puVar21 + -0x418) = 0x10cfed;
                local_98 = pfVar17;
                puVar14 = (undefined8 *)Memory::realloc_static(puVar14,(ulong)uVar8 << 3,false);
                puVar22 = puVar21 + -0x410;
                pfVar17 = local_98;
                fVar36 = local_a0._0_4_;
                iVar24 = (int)local_a8;
                if (puVar14 == (undefined8 *)0x0) goto LAB_0010cf53;
              }
            }
            iVar31 = uVar23 - 2;
          }
LAB_0010ca7b:
          puVar16 = (ulong *)((long)puVar14 + local_80);
          puVar33 = puVar14;
        }
        else {
          puVar16 = puVar33 + iVar18;
          uVar23 = uVar8;
        }
        in_RCX = *(char **)(pfVar17 + 8);
        iVar18 = iVar24 + 1;
        *puVar16 = (ulong)in_RCX;
        *(undefined8 *)((long)puVar33 + local_80 + 8) = *(undefined8 *)(pfVar17 + 10);
        uVar8 = uVar23;
      }
      pfVar17 = (float *)puVar33[iVar18 + -1];
      iVar24 = iVar18;
    } while( true );
  }
LAB_0010c71b:
  uVar10 = *(ulong *)(in_RDI + 0x458);
  uVar32 = 0;
  if (0 < (int)uVar10) {
    do {
      local_60 = pIVar19;
      if (uVar10 <= uVar32) {
        *(undefined8 *)(puVar20 + -8) = 1;
        *(undefined8 *)(puVar20 + -0x10) = 0;
        *(undefined **)(puVar20 + -0x18) = &_LC3;
        *(char **)(puVar20 + -0x20) = "count";
        *(undefined8 *)(puVar20 + -0x28) = 0x10c815;
        _err_print_index_error
                  ("operator[]","./core/templates/paged_array.h",0xb0,(long)(int)(uint)uVar32,uVar10
                   ,"p_index",*(char **)(puVar20 + -0x20),*(char **)(puVar20 + -0x18),
                   (bool)puVar20[-0x10],(bool)puVar20[-8]);
        *(undefined8 *)(puVar20 + -8) = 0x10c81e;
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar3 = (code *)invalidInstructionException();
        (*pcVar3)();
      }
      puVar4 = *(uint **)(*(long *)(*(long *)(in_RDI + 0x438) +
                                   (uVar32 >> ((byte)*(undefined4 *)(in_RDI + 0x44c) & 0x3f)) * 8) +
                         (ulong)((uint)uVar32 & *(uint *)(in_RDI + 0x450)) * 8);
      if ((puVar4 != (uint *)0x0) && ((6U >> (*puVar4 & 0x1f) & 1) != 0)) {
        lVar29 = *(long *)(puVar4 + 0xa6);
        lVar12 = *(long *)(lVar29 + 8);
        if (lVar12 == 0) {
          *(undefined8 *)(puVar20 + -8) = 0x10c937;
          _err_print_error("render_particle_colliders","servers/rendering/renderer_scene_cull.cpp",
                           0xf9c,"Parameter \"geom->geometry_instance\" is null.",0,0);
          goto LAB_0010c1d3;
        }
        uVar11 = *(ulong *)(in_RDI + 0x4b8);
        uVar8 = (uint)uVar11 & *(uint *)(in_RDI + 0x4b0);
        if (uVar8 == 0) {
          uVar23 = 1;
          uVar8 = 0;
          if (uVar11 != 0) {
            iVar31 = (int)(uVar11 - 1 >> ((byte)*(undefined4 *)(in_RDI + 0x4ac) & 0x3f));
            uVar8 = iVar31 + 1;
            uVar23 = iVar31 + 2;
          }
          uVar9 = *(uint *)(in_RDI + 0x4a8);
          plVar30 = *(long **)(in_RDI + 0x490);
          if (uVar9 < uVar23) {
            if (plVar30 == (long *)0x0) {
              *(undefined8 *)(puVar20 + -8) = 0x10d0ab;
              _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                               "Parameter \"page_pool\" is null.",0,0);
              uVar10 = *(ulong *)(in_RDI + 0x458);
              goto LAB_0010c7c9;
            }
            if (uVar9 == 0) {
              uVar10 = 8;
              uVar9 = 1;
            }
            else {
              uVar9 = uVar9 * 2;
              uVar10 = (ulong)uVar9 << 3;
            }
            *(uint *)(in_RDI + 0x4a8) = uVar9;
            pvVar5 = *(void **)(in_RDI + 0x498);
            *(undefined8 *)(puVar20 + -8) = 0x10ce38;
            uVar13 = Memory::realloc_static(pvVar5,uVar10,false);
            uVar23 = *(uint *)(in_RDI + 0x4a8);
            pvVar5 = *(void **)(in_RDI + 0x4a0);
            *(undefined8 *)(in_RDI + 0x498) = uVar13;
            *(undefined8 *)(puVar20 + -8) = 0x10ce58;
            uVar13 = Memory::realloc_static(pvVar5,(ulong)uVar23 << 2,false);
            plVar30 = *(long **)(in_RDI + 0x490);
            *(undefined8 *)(in_RDI + 0x4a0) = uVar13;
          }
          pPVar15 = (PagedArray<RendererSceneCull::Instance*> *)(plVar30 + 4);
          while( true ) {
            local_41 = '\0';
            LOCK();
            PVar2 = *pPVar15;
            if (PVar2 == (PagedArray<RendererSceneCull::Instance*>)0x0) {
              *pPVar15 = (PagedArray<RendererSceneCull::Instance*>)0x1;
            }
            UNLOCK();
            if (PVar2 == (PagedArray<RendererSceneCull::Instance*>)0x0) break;
            do {
            } while (*pPVar15 != (PagedArray<RendererSceneCull::Instance*>)0x0);
          }
          if ((int)plVar30[3] == 0) {
            local_54 = *(float *)(plVar30 + 1);
            pvVar5 = (void *)*plVar30;
            *(uint *)(plVar30 + 1) = (int)local_54 + 1U;
            *(undefined8 *)(puVar20 + -8) = 0x10cda8;
            local_78 = pPVar15;
            local_68 = plVar30;
            lVar12 = Memory::realloc_static(pvVar5,(ulong)((int)local_54 + 1U) * 8,false);
            uVar23 = *(uint *)(local_68 + 1);
            pvVar5 = (void *)local_68[2];
            *local_68 = lVar12;
            *(undefined8 *)(puVar20 + -8) = 0x10cdc2;
            lVar12 = Memory::realloc_static(pvVar5,(ulong)uVar23 << 2,false);
            local_68[2] = lVar12;
            uVar23 = *(uint *)((long)local_68 + 0x1c);
            local_70 = (undefined8 *)(*local_68 + (ulong)(uint)local_54 * 8);
            *(undefined8 *)(puVar20 + -8) = 0x10cde7;
            uVar13 = Memory::alloc_static((ulong)uVar23 << 3,false);
            *local_70 = uVar13;
            pfVar17 = (float *)local_68[2];
            *pfVar17 = local_54;
            uVar23 = *(uint *)(local_68 + 3);
            pPVar15 = local_78;
            plVar30 = local_68;
          }
          else {
            pfVar17 = (float *)plVar30[2];
            uVar23 = (int)plVar30[3] - 1;
          }
          *(uint *)(plVar30 + 3) = uVar23;
          fVar36 = pfVar17[uVar23];
          uVar13 = *(undefined8 *)(*plVar30 + (ulong)(uint)fVar36 * 8);
          *pPVar15 = (PagedArray<RendererSceneCull::Instance*>)0x0;
          lVar26 = *(long *)(in_RDI + 0x498);
          uVar11 = *(ulong *)(in_RDI + 0x4b8);
          uVar10 = *(ulong *)(in_RDI + 0x458);
          *(undefined8 *)(lVar26 + (ulong)uVar8 * 8) = uVar13;
          *(float *)(*(long *)(in_RDI + 0x4a0) + (ulong)uVar8 * 4) = fVar36;
          lVar12 = *(long *)(lVar29 + 8);
          uVar8 = *(uint *)(in_RDI + 0x4b0) & (uint)uVar11;
        }
        else {
          lVar26 = *(long *)(in_RDI + 0x498);
        }
        *(long *)(*(long *)(lVar26 + (uVar11 >> ((byte)*(undefined4 *)(in_RDI + 0x4ac) & 0x3f) &
                                     0xffffffff) * 8) + (ulong)uVar8 * 8) = lVar12;
        *(ulong *)(in_RDI + 0x4b8) = uVar11 + 1;
      }
LAB_0010c7c9:
      uVar32 = uVar32 + 1;
      pIVar19 = local_60;
    } while ((int)uVar32 < (int)uVar10);
  }
  plVar30 = *(long **)(in_RDI + 8);
  uVar13 = *(undefined8 *)(pIVar19 + 8);
  in_RCX = (char *)(in_RDI + 0x490);
  pcVar3 = *(code **)(*plVar30 + 0x138);
  *(undefined8 *)(puVar20 + -8) = 0x10ca1b;
  (*pcVar3)(plVar30,uVar13,pIVar19 + 0x30);
LAB_0010c240:
  if ((*(int *)(in_RDI + 0x30c) != 0) &&
     (ppIVar25 = *(Instance ***)(in_RDI + 0x2e8), ppIVar25 != (Instance **)0x0)) {
    this = (HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
            *)(in_RDI + 0x2e8);
LAB_0010c21a:
    *(undefined8 *)(puVar20 + -8) = 0x10c21f;
    HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
    ::erase(this,ppIVar25);
  }
  goto LAB_0010c1c8;
LAB_0010c708:
  puVar20 = puVar21 + -0x410;
  if (puVar14 != (undefined8 *)0x0) {
    *(undefined8 *)(puVar21 + -0x418) = 0x10c71b;
    Memory::free_static(puVar14,false);
    puVar20 = puVar21 + -0x410;
  }
  goto LAB_0010c71b;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* RendererSceneCull::_scene_cull(RendererSceneCull::CullData&,
   RendererSceneCull::InstanceCullResult&, unsigned long, unsigned long) */

void __thiscall
RendererSceneCull::_scene_cull
          (RendererSceneCull *this,CullData *param_1,InstanceCullResult *param_2,ulong param_3,
          ulong param_4)

{
  Variant *pVVar1;
  RendererSceneCull *pRVar2;
  RendererSceneCull RVar3;
  ulong uVar4;
  Plane *pPVar5;
  long *plVar6;
  code *pcVar7;
  uint uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  char cVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  long lVar15;
  long lVar16;
  float *pfVar17;
  ulong uVar18;
  ulong *puVar19;
  uint *puVar20;
  long lVar21;
  int *piVar22;
  undefined8 uVar23;
  _func_void_Callable_ptr *p_Var24;
  CallableCustom *this_00;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  int iVar28;
  long lVar29;
  uint uVar30;
  uint uVar31;
  uint *puVar32;
  ulong uVar33;
  long *plVar34;
  Variant *pVVar35;
  InstanceCullResult *pIVar36;
  float *pfVar37;
  float *pfVar38;
  int iVar39;
  char *pcVar40;
  ulong uVar41;
  int iVar42;
  uint uVar43;
  int iVar44;
  uint uVar45;
  int iVar46;
  long lVar47;
  long in_FS_OFFSET;
  bool bVar48;
  bool bVar49;
  byte bVar50;
  float fVar51;
  uint uVar52;
  float fVar53;
  float fVar54;
  float fVar55;
  float fVar56;
  float fVar57;
  float fVar58;
  float fVar59;
  double dVar60;
  double dVar61;
  undefined1 auVar62 [16];
  undefined1 auVar63 [16];
  undefined1 auVar64 [16];
  float fVar65;
  float fVar66;
  float fVar67;
  float fVar68;
  float fVar69;
  float fVar70;
  float fVar71;
  float fVar72;
  undefined1 auVar73 [12];
  undefined1 auVar74 [16];
  InstanceCullResult *local_318;
  ulong local_2d0;
  char local_2b0;
  undefined4 local_258;
  undefined4 uStack_254;
  undefined4 uStack_250;
  Callable local_248 [16];
  Callable local_238 [24];
  uint local_220;
  uint uStack_21c;
  uint local_218;
  undefined1 local_214 [8];
  undefined4 local_20c;
  undefined8 local_208;
  float local_200;
  float local_1fc;
  undefined8 local_1f8;
  undefined1 auStack_1f0 [8];
  Variant *local_1e8;
  float local_1d8;
  float fStack_1d4;
  undefined8 local_1d0;
  float local_1c8;
  float fStack_1c4;
  float local_1c0;
  float local_1bc;
  float local_1b8;
  undefined8 local_1b4;
  float local_1ac;
  int local_1a8 [6];
  Variant local_190 [24];
  Variant local_178 [24];
  undefined8 local_160;
  undefined1 local_158 [16];
  undefined8 local_148 [33];
  long local_40;
  
  bVar50 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar15 = (**(code **)(*RenderingServerGlobals::rasterizer + 0x88))();
  fVar51 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x350))();
  dVar60 = (double)(**(code **)(*RenderingServerGlobals::rasterizer + 0x90))();
  pVVar35 = (Variant *)local_148;
  for (lVar29 = 0x20; lVar29 != 0; lVar29 = lVar29 + -1) {
    *(undefined8 *)pVVar35 = 0;
    pVVar35 = pVVar35 + (ulong)bVar50 * -0x10 + 8;
  }
  Transform3D::inverse();
  uVar52 = Projection::get_z_near();
  if (param_3 < param_4) {
    uVar43 = 0xffffffff;
    local_2d0 = 0xffffffff;
    do {
      lVar29 = *(long *)(param_1 + 8);
      uVar33 = *(ulong *)(lVar29 + 0x1f0);
      uVar41 = param_3;
      uVar18 = uVar33;
      if (uVar33 <= param_3) goto LAB_0010d34e;
      uVar27 = *(uint *)(lVar29 + 0x1e8);
      uVar45 = (uint)param_3;
      lVar25 = *(long *)(lVar29 + 0x1d0);
      bVar50 = (byte)*(undefined4 *)(lVar29 + 0x1e4);
      puVar32 = (uint *)((ulong)(uVar27 & uVar45) * 0x30 +
                        *(long *)(lVar25 + (param_3 >> (bVar50 & 0x3f) & 0xffffffff) * 8));
      uVar31 = *puVar32;
      uVar8 = uVar31 & 0x700000;
      if (((uVar31 & 0x700000) - 0x100000 & 0xffe00000) == 0) {
        lVar25 = *(long *)param_1;
        local_2b0 = '\0';
        if (*(int *)(lVar25 + 0x1c64) != 0) goto LAB_0010d391;
      }
      else {
        iVar14 = -1;
        if ((*(uint *)(param_1 + 0x48) & puVar32[1]) == 0) {
LAB_0010d2a9:
          if ((uVar31 & 0x1000000) != 0) {
            uVar31 = *puVar32;
            goto LAB_0010d2b8;
          }
          goto LAB_0010d750;
        }
        uVar18 = *(ulong *)(lVar29 + 0x1c0);
        if (*(ulong *)(lVar29 + 0x1c0) <= param_3) goto LAB_0010d34e;
        pfVar17 = (float *)(*(long *)(*(long *)(lVar29 + 0x1a0) +
                                     (param_3 >> ((byte)*(undefined4 *)(lVar29 + 0x1b4) & 0x3f) &
                                     0xffffffff) * 8) +
                           (ulong)(uVar45 & *(uint *)(lVar29 + 0x1b8)) * 0x18);
        lVar47 = *(long *)param_1;
        if (*(uint *)(lVar47 + 0x1d00) != 0) {
          puVar20 = *(uint **)(lVar47 + 0x1cf8);
          pfVar38 = *(float **)(lVar47 + 0x1cf0);
          pfVar37 = pfVar38 + (ulong)*(uint *)(lVar47 + 0x1d00) * 4;
          do {
            if (0.0 <= (pfVar17[*puVar20] * *pfVar38 + pfVar17[puVar20[1]] * pfVar38[1] +
                       pfVar17[puVar20[2]] * pfVar38[2]) - pfVar38[3]) {
              iVar14 = -1;
              goto LAB_0010d2a9;
            }
            pfVar38 = pfVar38 + 4;
            puVar20 = puVar20 + 3;
          } while (pfVar38 != pfVar37);
        }
        if (uVar8 == 0x300000) {
          uVar30 = puVar32[9];
          if (uVar30 != 0xffffffff) {
            uVar41 = (ulong)(int)uVar30;
            uVar4 = *(ulong *)(param_1 + 0x68);
            uVar18 = *(ulong *)(lVar29 + 0x228);
            if (*(ulong *)(lVar29 + 0x228) <= uVar41) goto LAB_0010d34e;
            puVar19 = (ulong *)((ulong)(uVar30 & *(uint *)(lVar29 + 0x220)) * 0x40 +
                               *(long *)(*(long *)(lVar29 + 0x208) +
                                        (uVar41 >> ((byte)*(undefined4 *)(lVar29 + 0x21c) & 0x3f) &
                                        0xffffffff) * 8));
            fVar65 = *(float *)((long)puVar19 + 0x14) - *(float *)(param_1 + 0x40);
            uVar18 = *puVar19;
            fVar54 = *(float *)((long)puVar19 + 0x34);
            fVar53 = SQRT((*(float *)(puVar19 + 2) - *(float *)(param_1 + 0x3c)) *
                          (*(float *)(puVar19 + 2) - *(float *)(param_1 + 0x3c)) + fVar65 * fVar65 +
                          (*(float *)(puVar19 + 3) - *(float *)(param_1 + 0x44)) *
                          (*(float *)(puVar19 + 3) - *(float *)(param_1 + 0x44)));
            fVar65 = (float)((uint)*(float *)(puVar19 + 6) ^ _LC103);
            if ((*(int *)((long)puVar19 + 0xc) == 0) && ((uVar4 & uVar18) == 0)) {
              fVar54 = (float)((uint)fVar54 ^ _LC103);
              fVar65 = *(float *)(puVar19 + 6);
            }
            if (((*(float *)((long)puVar19 + 0x2c) <= 0.0) ||
                (fVar53 <= *(float *)((long)puVar19 + 0x2c) + fVar54)) &&
               ((*(float *)(puVar19 + 5) <= 0.0 || (*(float *)(puVar19 + 5) + fVar65 <= fVar53)))) {
              *puVar19 = uVar4 | uVar18;
              goto LAB_0010e2f7;
            }
            *puVar19 = uVar18 & ~uVar4;
LAB_0010e348:
            iVar14 = 0;
            goto LAB_0010d2a9;
          }
LAB_0010e2f7:
          uVar30 = puVar32[8];
          if (uVar30 != 0xffffffff) {
            uVar41 = (ulong)(int)uVar30;
            uVar18 = uVar33;
            if (uVar33 <= uVar41) goto LAB_0010d34e;
            uVar27 = *(uint *)((ulong)(uVar30 & uVar27) * 0x30 +
                              *(long *)(lVar25 + (uVar41 >> (bVar50 & 0x3f) & 0xffffffff) * 8));
            if (((uVar27 & 0x300000) != 0x100000) && ((uVar27 & 0x400000) == 0)) goto LAB_0010e348;
          }
        }
        lVar29 = *(long *)(param_1 + 0x58);
        if (lVar29 == 0) {
LAB_0010e422:
          iVar14 = 1;
        }
        else {
          iVar14 = 1;
          if ((uVar31 & 0x80000) == 0) {
            pPVar5 = *(Plane **)(param_1 + 0x60);
            cVar11 = RendererSceneOcclusionCull::HZBuffer::is_empty();
            if (cVar11 == '\0') {
              local_200 = pfVar17[5];
              local_208 = *(undefined8 *)(pfVar17 + 3);
              local_1f8 = *(Variant **)pfVar17;
              auStack_1f0._0_4_ = pfVar17[2];
              auVar73 = Vector3::clamp((Vector3 *)(param_1 + 0x3c),(Vector3 *)&local_1f8);
              uVar26 = local_1b4;
              fVar67 = fStack_1c4;
              fVar66 = local_1c8;
              fVar53 = fStack_1d4;
              fVar65 = local_1d8;
              fVar54 = _LC55;
              fVar72 = auVar73._8_4_;
              local_214._0_4_ = auVar73._0_4_;
              uVar9 = local_214._0_4_;
              local_214._4_4_ = auVar73._4_4_;
              uVar10 = local_214._4_4_;
              _local_214 = auVar73;
              if (((((float)uVar9 == *(float *)(param_1 + 0x3c)) &&
                   ((float)uVar10 == *(float *)(param_1 + 0x40))) &&
                  (fVar72 == *(float *)(param_1 + 0x44))) ||
                 ((float)(uVar52 ^ _LC103) <
                  local_1c0 * (float)uVar9 + local_1bc * (float)uVar10 + local_1b8 * fVar72 +
                  local_1ac)) {
                uVar31 = *puVar32;
                if ((char)RendererSceneOcclusionCull::HZBuffer::occlusion_jitter_enabled == '\0')
                goto LAB_0010e422;
                goto LAB_0010dbac;
              }
              fVar55 = (float)uVar9 - *(float *)(param_1 + 0x3c);
              pfVar38 = (float *)&RendererSceneOcclusionCull::HZBuffer::corners;
              fVar56 = SQRT(fVar55 * fVar55 +
                            ((float)uVar10 - *(float *)(param_1 + 0x40)) *
                            ((float)uVar10 - *(float *)(param_1 + 0x40)) +
                            (fVar72 - *(float *)(param_1 + 0x44)) *
                            (fVar72 - *(float *)(param_1 + 0x44)));
              uVar33 = (ulong)local_1d0 >> 0x20;
              fVar57 = (float)local_1d0;
              local_318._0_4_ = _LC182;
              fVar68 = _LC183;
              fVar72 = _LC182;
              fVar55 = _LC183;
              do {
                fVar69 = (fVar54 - pfVar38[2]) * pfVar17[5] + pfVar38[2] * pfVar17[2];
                fVar71 = (fVar54 - pfVar38[1]) * pfVar17[4] + pfVar38[1] * pfVar17[1];
                fVar58 = (fVar54 - *pfVar38) * pfVar17[3] + *pfVar38 * *pfVar17;
                fVar59 = fVar58 * local_1c0 + fVar71 * local_1bc + fVar69 * local_1b8 + local_1ac;
                cVar11 = Projection::is_orthogonal();
                if ((cVar11 != '\0') && (fVar70 = (float)((uint)fVar59 ^ _LC103), fVar70 <= fVar56))
                {
                  fVar56 = fVar70;
                }
                local_208 = CONCAT44(fVar71 * fVar66 + fVar58 * (float)uVar33 + fVar69 * fVar67 +
                                     (float)((ulong)uVar26 >> 0x20),
                                     fVar71 * fVar53 + fVar58 * fVar65 + fVar69 * fVar57 +
                                     (float)uVar26);
                local_200 = fVar59;
                local_1fc = fVar54;
                auVar74 = Projection::xform4(pPVar5);
                local_1f8 = auVar74._0_8_;
                auStack_1f0 = (undefined1  [8])auVar74._8_8_;
                auVar63 = _auStack_1f0;
                auStack_1f0._4_4_ = auVar74._12_4_;
                _auStack_1f0 = auVar63;
                if ((float)auStack_1f0._4_4_ < fVar54) {
                  fVar55 = 0.0;
                  fVar68 = 0.0;
                  fVar72 = fVar54;
                  local_318._0_4_ = fVar54;
                  goto LAB_0010eac0;
                }
                local_1f8._4_4_ = auVar74._4_4_;
                pfVar38 = pfVar38 + 3;
                local_1f8._0_4_ = auVar74._0_4_;
                fVar58 = (local_1f8._4_4_ / (float)auStack_1f0._4_4_) * _LC131 + _LC131;
                if (local_318._0_4_ <= fVar58) {
                  local_318._0_4_ = fVar58;
                }
                if (fVar58 <= fVar55) {
                  fVar55 = fVar58;
                }
                fVar58 = ((float)local_1f8 / (float)auStack_1f0._4_4_) * _LC131 + _LC131;
                if (fVar58 <= fVar68) {
                  fVar68 = fVar58;
                }
                if (fVar72 <= fVar58) {
                  fVar72 = fVar58;
                }
              } while (pfVar38 != (float *)sqrtf);
              if (fVar54 <= local_318._0_4_) {
                local_318._0_4_ = fVar54;
              }
              if (fVar54 <= fVar72) {
                fVar72 = fVar54;
              }
              if (fVar55 <= 0.0) {
                fVar55 = 0.0;
              }
              if (fVar68 <= 0.0) {
                fVar68 = 0.0;
              }
LAB_0010eac0:
              iVar14 = *(int *)(lVar29 + 0x28);
              if (*(int *)(lVar29 + 0x18) == 0) {
                uVar18 = 0;
                uVar41 = 0;
                iVar14 = 0xae;
                pcVar40 = "./core/templates/local_vector.h";
                goto LAB_0010d35a;
              }
              uVar26 = Vector2i::operator_cast_to_Vector2(*(Vector2i **)(lVar29 + 0x20));
              fVar53 = (local_318._0_4_ - fVar55) * (float)((ulong)uVar26 >> 0x20);
              fVar65 = (fVar72 - fVar68) * (float)uVar26;
              if (fVar65 <= fVar53) {
                fVar65 = fVar53;
              }
              fVar65 = log2f(fVar65);
              if ((float)((uint)fVar65 & _LC224._4_4_) < _LC184) {
                fVar65 = (float)((uint)((float)(int)fVar65 +
                                       (float)(-(uint)((float)(int)fVar65 < fVar65) & (uint)fVar54))
                                | ~_LC224._4_4_ & (uint)fVar65);
              }
              if (fVar65 < 0.0) {
                uVar27 = 0;
LAB_0010ebf5:
                iVar14 = 0;
                lVar25 = (long)(int)uVar27 * 8;
LAB_0010ec0b:
                if (*(uint *)(lVar29 + 0x18) <= uVar27) {
                  uVar18 = (ulong)*(uint *)(lVar29 + 0x18);
                  uVar41 = (ulong)uVar27;
                  iVar14 = 0xae;
                  pcVar40 = "./core/templates/local_vector.h";
                  goto LAB_0010d35a;
                }
                iVar28 = 0;
                piVar22 = (int *)(*(long *)(lVar29 + 0x20) + lVar25);
                iVar13 = *piVar22;
                iVar12 = piVar22[1];
                fVar65 = (float)iVar13 * fVar68 - fVar54;
                if (0.0 <= fVar65) {
                  fVar53 = (float)(iVar13 + -1);
                  if (fVar53 < fVar65) {
                    iVar28 = (int)fVar53;
                  }
                  else {
                    iVar28 = (int)fVar65;
                  }
                }
                iVar39 = 0;
                fVar65 = (float)iVar13 * fVar72 + fVar54;
                if (0.0 <= fVar65) {
                  fVar53 = (float)(iVar13 + -1);
                  if (fVar53 < fVar65) {
                    iVar39 = (int)fVar53;
                  }
                  else {
                    iVar39 = (int)fVar65;
                  }
                }
                iVar46 = iVar12 + -1;
                fVar65 = (float)iVar12;
                iVar12 = 0;
                fVar53 = fVar65 * fVar55 - fVar54;
                if (0.0 <= fVar53) {
                  fVar66 = (float)iVar46;
                  if (fVar66 < fVar53) {
                    iVar12 = (int)fVar66;
                  }
                  else {
                    iVar12 = (int)fVar53;
                  }
                }
                iVar42 = 0;
                fVar65 = fVar65 * local_318._0_4_ + fVar54;
                if (0.0 <= fVar65) {
                  fVar53 = (float)iVar46;
                  if (fVar53 < fVar65) {
                    iVar42 = (int)fVar53;
                  }
                  else {
                    iVar42 = (int)fVar65;
                  }
                }
                iVar14 = iVar14 + ((iVar39 - iVar28) + 1) * ((iVar42 - iVar12) + 1);
                if (iVar14 < 0x201) {
                  if (iVar12 <= iVar42) {
                    iVar46 = iVar12 * iVar13;
                    do {
                      if (iVar28 <= iVar39) {
                        lVar47 = ((long)iVar46 + (long)iVar28) * 4;
                        iVar44 = iVar28;
                        do {
                          if (*(uint *)(lVar29 + 0x28) <= uVar27) {
                            uVar41 = (ulong)uVar27;
                            iVar14 = 0xae;
                            pcVar40 = "./core/templates/local_vector.h";
                            uVar18 = (ulong)*(uint *)(lVar29 + 0x28);
                            goto LAB_0010d35a;
                          }
                          if (fVar56 < *(float *)(*(long *)(*(long *)(lVar29 + 0x30) + lVar25) +
                                                 lVar47)) {
                            uVar27 = uVar27 - 1;
                            lVar25 = lVar25 + -8;
                            if (uVar27 == 0xffffffff) goto LAB_001107bc;
                            goto LAB_0010ec0b;
                          }
                          iVar44 = iVar44 + 1;
                          lVar47 = lVar47 + 4;
                        } while (iVar44 <= iVar39);
                      }
                      iVar12 = iVar12 + 1;
                      iVar46 = iVar46 + iVar13;
                    } while (iVar12 <= iVar42);
                  }
                  if (((char)RendererSceneOcclusionCull::HZBuffer::occlusion_jitter_enabled != '\0')
                     && (*(ulong *)(puVar32 + 10) != 0)) {
                    if (*(ulong *)(lVar29 + 0x60) < *(ulong *)(puVar32 + 10)) goto LAB_0011081e;
                    puVar32[10] = 0;
                    puVar32[0xb] = 0;
                  }
                  lVar29 = *(long *)(param_1 + 8);
                  uVar18 = *(ulong *)(lVar29 + 0x1f0);
                  uVar41 = param_3;
                  if (uVar18 <= param_3) goto LAB_0010d34e;
                  iVar14 = 1;
                  uVar31 = *(uint *)((ulong)(uVar45 & *(uint *)(lVar29 + 0x1e8)) * 0x30 +
                                    *(long *)(*(long *)(lVar29 + 0x1d0) +
                                             (param_3 >>
                                              ((byte)*(undefined4 *)(lVar29 + 0x1e4) & 0x3f) &
                                             0xffffffff) * 8));
                  goto LAB_0010d2a9;
                }
              }
              else {
                fVar53 = (float)(iVar14 + -1);
                if (fVar65 <= fVar53) {
                  fVar53 = fVar65;
                }
                uVar27 = (uint)fVar53;
                if (-1 < (int)uVar27) goto LAB_0010ebf5;
              }
LAB_001107bc:
              if ((char)RendererSceneOcclusionCull::HZBuffer::occlusion_jitter_enabled == '\0') {
LAB_0011081e:
                iVar14 = 1;
                uVar31 = *puVar32;
                goto LAB_0010d2b8;
              }
              uVar31 = *puVar32;
            }
            else {
              uVar31 = *puVar32;
              if ((char)RendererSceneOcclusionCull::HZBuffer::occlusion_jitter_enabled == '\0')
              goto LAB_0010d2b8;
            }
LAB_0010dbac:
            iVar14 = 1;
            *(long *)(puVar32 + 10) = *(long *)(lVar29 + 0x60) + 9;
          }
        }
LAB_0010d2b8:
        uVar27 = uVar31 & 0xff;
        switch(uVar27) {
        case 5:
          uVar33 = *(ulong *)(param_2 + 0x58);
          uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0x50);
          if (uVar27 == 0) {
            uVar31 = 1;
            uVar27 = 0;
            if (uVar33 != 0) {
              iVar13 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0x4c) & 0x3f));
              uVar27 = iVar13 + 1;
              uVar31 = iVar13 + 2;
            }
            plVar34 = *(long **)(param_2 + 0x30);
            if (uVar31 <= *(uint *)(param_2 + 0x48)) {
LAB_0010f284:
              plVar6 = plVar34 + 4;
              while( true ) {
                local_238[0] = (Callable)0x0;
                LOCK();
                bVar49 = (char)*plVar6 == '\0';
                if (bVar49) {
                  *(char *)plVar6 = '\x01';
                }
                UNLOCK();
                if (bVar49) break;
                do {
                } while ((char)*plVar6 != '\0');
              }
              iVar13 = (int)plVar34[3];
              if (iVar13 == 0) {
                uVar31 = *(uint *)(plVar34 + 1);
                *(uint *)(plVar34 + 1) = uVar31 + 1;
                lVar29 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
                *plVar34 = lVar29;
                lVar29 = Memory::realloc_static
                                   ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
                plVar34[2] = lVar29;
                lVar29 = *plVar34;
                uVar26 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
                puVar20 = (uint *)plVar34[2];
                *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar26;
                *puVar20 = uVar31;
                iVar13 = (int)plVar34[3] + 1;
              }
              else {
                puVar20 = (uint *)plVar34[2];
              }
              *(uint *)(plVar34 + 3) = iVar13 - 1U;
              uVar31 = puVar20[iVar13 - 1U];
              uVar26 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
              *(char *)plVar6 = '\0';
              lVar29 = *(long *)(param_2 + 0x38);
              *(undefined8 *)(lVar29 + (ulong)uVar27 * 8) = uVar26;
              *(uint *)(*(long *)(param_2 + 0x40) + (ulong)uVar27 * 4) = uVar31;
              uVar33 = *(ulong *)(param_2 + 0x58);
              uVar27 = *(uint *)(param_2 + 0x50) & (uint)uVar33;
              goto LAB_0010dc38;
            }
            if (plVar34 != (long *)0x0) {
              PagedArray<RendererSceneCull::Instance*>::_grow_page_array
                        ((PagedArray<RendererSceneCull::Instance*> *)(param_2 + 0x30));
              plVar34 = *(long **)(param_2 + 0x30);
              goto LAB_0010f284;
            }
            _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                             "Parameter \"page_pool\" is null.",0);
          }
          else {
            lVar29 = *(long *)(param_2 + 0x38);
LAB_0010dc38:
            *(undefined8 *)
             (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0x4c) & 0x3f) &
                                 0xffffffff) * 8) + (ulong)uVar27 * 8) =
                 *(undefined8 *)(puVar32 + 6);
            *(ulong *)(param_2 + 0x58) = uVar33 + 1;
          }
          uVar26 = *(undefined8 *)(puVar32 + 4);
          uVar33 = *(ulong *)(param_2 + 0x88);
          uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0x80);
          if (uVar27 == 0) {
            uVar31 = 1;
            uVar27 = 0;
            if (uVar33 != 0) {
              iVar13 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0x7c) & 0x3f));
              uVar27 = iVar13 + 1;
              uVar31 = iVar13 + 2;
            }
            plVar34 = *(long **)(param_2 + 0x60);
            if (uVar31 <= *(uint *)(param_2 + 0x78)) {
LAB_0010f1d3:
              plVar6 = plVar34 + 4;
              while( true ) {
                local_238[0] = (Callable)0x0;
                LOCK();
                bVar49 = (char)*plVar6 == '\0';
                if (bVar49) {
                  *(char *)plVar6 = '\x01';
                }
                UNLOCK();
                if (bVar49) break;
                do {
                } while ((char)*plVar6 != '\0');
              }
              iVar13 = (int)plVar34[3];
              if (iVar13 == 0) {
                uVar31 = *(uint *)(plVar34 + 1);
                *(uint *)(plVar34 + 1) = uVar31 + 1;
                lVar29 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
                *plVar34 = lVar29;
                lVar29 = Memory::realloc_static
                                   ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
                plVar34[2] = lVar29;
                lVar29 = *plVar34;
                uVar23 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
                puVar20 = (uint *)plVar34[2];
                *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar23;
                *puVar20 = uVar31;
                iVar13 = (int)plVar34[3] + 1;
              }
              else {
                puVar20 = (uint *)plVar34[2];
              }
              *(uint *)(plVar34 + 3) = iVar13 - 1U;
              uVar31 = puVar20[iVar13 - 1U];
              uVar23 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
              *(char *)plVar6 = '\0';
              lVar29 = *(long *)(param_2 + 0x68);
              uVar33 = *(ulong *)(param_2 + 0x88);
              *(undefined8 *)(lVar29 + (ulong)uVar27 * 8) = uVar23;
              *(uint *)(*(long *)(param_2 + 0x70) + (ulong)uVar27 * 4) = uVar31;
              uVar27 = *(uint *)(param_2 + 0x80) & (uint)uVar33;
              goto LAB_0010dc85;
            }
            if (plVar34 != (long *)0x0) {
              PagedArray<RID>::_grow_page_array((PagedArray<RID> *)(param_2 + 0x60));
              plVar34 = *(long **)(param_2 + 0x60);
              goto LAB_0010f1d3;
            }
            _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                             "Parameter \"page_pool\" is null.",0);
          }
          else {
            lVar29 = *(long *)(param_2 + 0x68);
LAB_0010dc85:
            *(undefined8 *)
             (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0x7c) & 0x3f) &
                                 0xffffffff) * 8) + (ulong)uVar27 * 8) = uVar26;
            *(ulong *)(param_2 + 0x88) = uVar33 + 1;
          }
          if (*(long *)(param_1 + 0x10) != 0) {
            cVar11 = (**(code **)(*RenderingServerGlobals::light_storage + 0xe8))
                               (RenderingServerGlobals::light_storage,*(undefined8 *)(puVar32 + 2));
            if (cVar11 != '\0') {
              (**(code **)(*RenderingServerGlobals::light_storage + 0x168))
                        (RenderingServerGlobals::light_storage,*(undefined8 *)(puVar32 + 4));
            }
          }
          break;
        case 6:
          lVar29 = *(long *)(puVar32 + 6);
          if (*(long *)(param_1 + 0x50) != lVar29) {
            if ((uVar31 & 0x40000) == 0) {
              cVar11 = (**(code **)(*RenderingServerGlobals::light_storage + 0x2a8))
                                 (RenderingServerGlobals::light_storage,*(undefined8 *)(puVar32 + 4)
                                 );
              if (cVar11 != '\0') {
                lVar29 = *(long *)(puVar32 + 6);
                goto LAB_0010e485;
              }
            }
            else {
LAB_0010e485:
              lVar29 = *(long *)(lVar29 + 0x298);
              pcVar40 = (char *)(*(long *)param_1 + 0x1c8c);
              while( true ) {
                local_238[0] = (Callable)0x0;
                LOCK();
                cVar11 = *pcVar40;
                if (cVar11 == '\0') {
                  *pcVar40 = '\x01';
                }
                UNLOCK();
                if (cVar11 == '\0') break;
                do {
                } while (*pcVar40 != '\0');
              }
              if (*(long *)(lVar29 + 0x40) == 0) {
                *(undefined4 *)(lVar29 + 0x60) = 0;
                lVar25 = lVar29 + 0x40;
                *(undefined8 *)(lVar29 + 0x50) = 0;
                *(RendererSceneCull **)(lVar29 + 0x40) = this + 0x270;
                lVar47 = *(long *)(this + 0x278);
                *(long *)(lVar29 + 0x58) = lVar47;
                if (lVar47 == 0) {
                  *(long *)(this + 0x270) = lVar25;
                }
                else {
                  *(long *)(lVar47 + 0x10) = lVar25;
                }
                *(long *)(this + 0x278) = lVar25;
              }
              *(undefined1 *)(*(long *)param_1 + 0x1c8c) = 0;
              *puVar32 = *puVar32 & 0xfffbffff;
            }
            cVar11 = (**(code **)(*RenderingServerGlobals::light_storage + 0x2b0))
                               (RenderingServerGlobals::light_storage,*(undefined8 *)(puVar32 + 4));
            if (cVar11 != '\0') {
              uVar26 = *(undefined8 *)(puVar32 + 4);
              uVar33 = *(ulong *)(param_2 + 0xe8);
              uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0xe0);
              if (uVar27 == 0) {
                uVar27 = 0;
                if (uVar33 != 0) {
                  uVar27 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0xdc) & 0x3f)) + 1;
                }
                plVar34 = *(long **)(param_2 + 0xc0);
                if (*(uint *)(param_2 + 0xd8) < uVar27 + 1) {
                  if (plVar34 == (long *)0x0) goto LAB_0010f86b;
                  PagedArray<RID>::_grow_page_array((PagedArray<RID> *)(param_2 + 0xc0));
                  plVar34 = *(long **)(param_2 + 0xc0);
                }
                plVar6 = plVar34 + 4;
                while( true ) {
                  local_238[0] = (Callable)0x0;
                  LOCK();
                  bVar49 = (char)*plVar6 == '\0';
                  if (bVar49) {
                    *(char *)plVar6 = '\x01';
                  }
                  UNLOCK();
                  if (bVar49) break;
                  do {
                  } while ((char)*plVar6 != '\0');
                }
                iVar13 = (int)plVar34[3];
                if (iVar13 == 0) {
                  uVar31 = *(uint *)(plVar34 + 1);
                  *(uint *)(plVar34 + 1) = uVar31 + 1;
                  lVar29 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
                  *plVar34 = lVar29;
                  lVar29 = Memory::realloc_static
                                     ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
                  plVar34[2] = lVar29;
                  lVar29 = *plVar34;
                  uVar23 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
                  puVar20 = (uint *)plVar34[2];
                  *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar23;
                  *puVar20 = uVar31;
                  iVar13 = (int)plVar34[3] + 1;
                }
                else {
                  puVar20 = (uint *)plVar34[2];
                }
                *(uint *)(plVar34 + 3) = iVar13 - 1U;
                uVar31 = puVar20[iVar13 - 1U];
                uVar23 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
                *(char *)plVar6 = '\0';
                lVar29 = *(long *)(param_2 + 200);
                uVar33 = *(ulong *)(param_2 + 0xe8);
                *(undefined8 *)(lVar29 + (ulong)uVar27 * 8) = uVar23;
                *(uint *)(*(long *)(param_2 + 0xd0) + (ulong)uVar27 * 4) = uVar31;
                uVar27 = *(uint *)(param_2 + 0xe0) & (uint)uVar33;
              }
              else {
                lVar29 = *(long *)(param_2 + 200);
              }
              *(undefined8 *)
               (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0xdc) & 0x3f) &
                                   0xffffffff) * 8) + (ulong)uVar27 * 8) = uVar26;
              *(ulong *)(param_2 + 0xe8) = uVar33 + 1;
            }
          }
          break;
        case 7:
          uVar26 = *(undefined8 *)(puVar32 + 4);
          uVar33 = *(ulong *)(param_2 + 0x118);
          uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0x110);
          if (uVar27 == 0) {
            uVar31 = 1;
            uVar27 = 0;
            if (uVar33 != 0) {
              iVar13 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0x10c) & 0x3f));
              uVar27 = iVar13 + 1;
              uVar31 = iVar13 + 2;
            }
            plVar34 = *(long **)(param_2 + 0xf0);
            if (*(uint *)(param_2 + 0x108) < uVar31) {
              if (plVar34 != (long *)0x0) {
                PagedArray<RID>::_grow_page_array((PagedArray<RID> *)(param_2 + 0xf0));
                plVar34 = *(long **)(param_2 + 0xf0);
                goto LAB_0010f412;
              }
LAB_0010f86b:
              _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                               "Parameter \"page_pool\" is null.",0);
              break;
            }
LAB_0010f412:
            plVar6 = plVar34 + 4;
            while( true ) {
              local_238[0] = (Callable)0x0;
              LOCK();
              bVar49 = (char)*plVar6 == '\0';
              if (bVar49) {
                *(char *)plVar6 = '\x01';
              }
              UNLOCK();
              if (bVar49) break;
              do {
              } while ((char)*plVar6 != '\0');
            }
            iVar13 = (int)plVar34[3];
            if (iVar13 == 0) {
              uVar31 = *(uint *)(plVar34 + 1);
              *(uint *)(plVar34 + 1) = uVar31 + 1;
              lVar29 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
              *plVar34 = lVar29;
              lVar29 = Memory::realloc_static
                                 ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
              plVar34[2] = lVar29;
              lVar29 = *plVar34;
              uVar23 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
              puVar20 = (uint *)plVar34[2];
              *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar23;
              *puVar20 = uVar31;
              iVar13 = (int)plVar34[3] + 1;
            }
            else {
              puVar20 = (uint *)plVar34[2];
            }
            *(uint *)(plVar34 + 3) = iVar13 - 1U;
            uVar31 = puVar20[iVar13 - 1U];
            uVar23 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
            *(char *)plVar6 = '\0';
            lVar29 = *(long *)(param_2 + 0xf8);
            uVar33 = *(ulong *)(param_2 + 0x118);
            *(undefined8 *)(lVar29 + (ulong)uVar27 * 8) = uVar23;
            *(uint *)(*(long *)(param_2 + 0x100) + (ulong)uVar27 * 4) = uVar31;
            uVar27 = *(uint *)(param_2 + 0x110) & (uint)uVar33;
          }
          else {
            lVar29 = *(long *)(param_2 + 0xf8);
          }
          *(undefined8 *)
           (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0x10c) & 0x3f) &
                               0xffffffff) * 8) + (ulong)uVar27 * 8) = uVar26;
          *(ulong *)(param_2 + 0x118) = uVar33 + 1;
          break;
        case 8:
          lVar29 = *(long *)(*(long *)(puVar32 + 6) + 0x298);
          pcVar40 = (char *)(*(long *)param_1 + 0x1c8c);
          while( true ) {
            local_238[0] = (Callable)0x0;
            LOCK();
            cVar11 = *pcVar40;
            if (cVar11 == '\0') {
              *pcVar40 = '\x01';
            }
            UNLOCK();
            if (cVar11 == '\0') break;
            do {
            } while (*pcVar40 != '\0');
          }
          if (*(long *)(lVar29 + 0xb8) == 0) {
            lVar25 = lVar29 + 0xb8;
            *(RendererSceneCull **)(lVar29 + 0xb8) = this + 0x2d0;
            lVar47 = *(long *)(this + 0x2d0);
            *(undefined8 *)(lVar29 + 0xd0) = 0;
            *(long *)(lVar29 + 200) = lVar47;
            if (lVar47 == 0) {
              *(long *)(this + 0x2d8) = lVar25;
            }
            else {
              *(long *)(lVar47 + 0x18) = lVar25;
            }
            *(long *)(this + 0x2d0) = lVar25;
          }
          *(undefined1 *)(*(long *)param_1 + 0x1c8c) = 0;
          uVar26 = *(undefined8 *)(puVar32 + 4);
          uVar33 = *(ulong *)(param_2 + 0x148);
          uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0x140);
          if (uVar27 == 0) {
            uVar31 = 1;
            uVar27 = 0;
            if (uVar33 != 0) {
              iVar13 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0x13c) & 0x3f));
              uVar27 = iVar13 + 1;
              uVar31 = iVar13 + 2;
            }
            plVar34 = *(long **)(param_2 + 0x120);
            if (*(uint *)(param_2 + 0x138) < uVar31) {
              if (plVar34 == (long *)0x0) goto LAB_0010f86b;
              PagedArray<RID>::_grow_page_array((PagedArray<RID> *)(param_2 + 0x120));
              plVar34 = *(long **)(param_2 + 0x120);
            }
            plVar6 = plVar34 + 4;
            while( true ) {
              local_238[0] = (Callable)0x0;
              LOCK();
              bVar49 = (char)*plVar6 == '\0';
              if (bVar49) {
                *(char *)plVar6 = '\x01';
              }
              UNLOCK();
              if (bVar49) break;
              do {
              } while ((char)*plVar6 != '\0');
            }
            iVar13 = (int)plVar34[3];
            if (iVar13 == 0) {
              uVar31 = *(uint *)(plVar34 + 1);
              *(uint *)(plVar34 + 1) = uVar31 + 1;
              lVar29 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
              *plVar34 = lVar29;
              lVar29 = Memory::realloc_static
                                 ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
              plVar34[2] = lVar29;
              lVar29 = *plVar34;
              uVar23 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
              puVar20 = (uint *)plVar34[2];
              *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar23;
              *puVar20 = uVar31;
              iVar13 = (int)plVar34[3] + 1;
            }
            else {
              puVar20 = (uint *)plVar34[2];
            }
            *(uint *)(plVar34 + 3) = iVar13 - 1U;
            uVar31 = puVar20[iVar13 - 1U];
            uVar23 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
            *(char *)plVar6 = '\0';
            lVar29 = *(long *)(param_2 + 0x128);
            uVar33 = *(ulong *)(param_2 + 0x148);
            *(undefined8 *)(lVar29 + (ulong)uVar27 * 8) = uVar23;
            *(uint *)(*(long *)(param_2 + 0x130) + (ulong)uVar27 * 4) = uVar31;
            uVar27 = *(uint *)(param_2 + 0x140) & (uint)uVar33;
          }
          else {
            lVar29 = *(long *)(param_2 + 0x128);
          }
          *(undefined8 *)
           (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0x13c) & 0x3f) &
                               0xffffffff) * 8) + (ulong)uVar27 * 8) = uVar26;
          *(ulong *)(param_2 + 0x148) = uVar33 + 1;
          break;
        case 9:
          uVar26 = *(undefined8 *)(puVar32 + 4);
          uVar33 = *(ulong *)(param_2 + 0xb8);
          uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0xb0);
          if (uVar27 == 0) {
            uVar31 = 1;
            uVar27 = 0;
            if (uVar33 != 0) {
              iVar13 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0xac) & 0x3f));
              uVar27 = iVar13 + 1;
              uVar31 = iVar13 + 2;
            }
            plVar34 = *(long **)(param_2 + 0x90);
            if (*(uint *)(param_2 + 0xa8) < uVar31) {
              if (plVar34 == (long *)0x0) goto LAB_0010f86b;
              PagedArray<RID>::_grow_page_array((PagedArray<RID> *)(param_2 + 0x90));
              plVar34 = *(long **)(param_2 + 0x90);
            }
            plVar6 = plVar34 + 4;
            while( true ) {
              local_238[0] = (Callable)0x0;
              LOCK();
              bVar49 = (char)*plVar6 == '\0';
              if (bVar49) {
                *(char *)plVar6 = '\x01';
              }
              UNLOCK();
              if (bVar49) break;
              do {
              } while ((char)*plVar6 != '\0');
            }
            iVar13 = (int)plVar34[3];
            if (iVar13 == 0) {
              uVar31 = *(uint *)(plVar34 + 1);
              *(uint *)(plVar34 + 1) = uVar31 + 1;
              lVar29 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
              *plVar34 = lVar29;
              lVar29 = Memory::realloc_static
                                 ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
              plVar34[2] = lVar29;
              lVar29 = *plVar34;
              uVar23 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
              puVar20 = (uint *)plVar34[2];
              *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar23;
              *puVar20 = uVar31;
              iVar13 = (int)plVar34[3] + 1;
            }
            else {
              puVar20 = (uint *)plVar34[2];
            }
            *(uint *)(plVar34 + 3) = iVar13 - 1U;
            uVar31 = puVar20[iVar13 - 1U];
            uVar23 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
            *(char *)plVar6 = '\0';
            lVar29 = *(long *)(param_2 + 0x98);
            uVar33 = *(ulong *)(param_2 + 0xb8);
            *(undefined8 *)(lVar29 + (ulong)uVar27 * 8) = uVar23;
            *(uint *)(*(long *)(param_2 + 0xa0) + (ulong)uVar27 * 4) = uVar31;
            uVar27 = *(uint *)(param_2 + 0xb0) & (uint)uVar33;
          }
          else {
            lVar29 = *(long *)(param_2 + 0x98);
          }
          *(undefined8 *)
           (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0xac) & 0x3f) &
                               0xffffffff) * 8) + (ulong)uVar27 * 8) = uVar26;
          *(ulong *)(param_2 + 0xb8) = uVar33 + 1;
          break;
        default:
          if (((0xeU >> (uVar31 & 0x1f) & 1) == 0) || ((uVar31 & 0x200) != 0)) break;
          if ((uVar31 & 0x400) != 0) {
            RenderingServerDefault::changes._0_4_ = (int)RenderingServerDefault::changes + 1;
          }
          bVar49 = true;
          if (uVar27 == 1) {
            local_2b0 = '\x01';
          }
          else {
            local_2b0 = '\0';
            if (uVar27 == 3) {
              cVar11 = (**(code **)(*RenderingServerGlobals::particles_storage + 0x100))
                                 (RenderingServerGlobals::particles_storage,
                                  *(undefined8 *)(puVar32 + 2));
              if (cVar11 == '\0') {
                pcVar40 = (char *)(*(long *)param_1 + 0x1c8c);
                while( true ) {
                  local_238[0] = (Callable)0x0;
                  LOCK();
                  bVar49 = *pcVar40 == '\0';
                  if (bVar49) {
                    *pcVar40 = '\x01';
                  }
                  UNLOCK();
                  if (bVar49) break;
                  do {
                  } while (*pcVar40 != '\0');
                }
                (**(code **)(*RenderingServerGlobals::particles_storage + 0x120))
                          (RenderingServerGlobals::particles_storage,*(undefined8 *)(puVar32 + 2));
                *(undefined1 *)(*(long *)param_1 + 0x1c8c) = 0;
                p_Var24 = (_func_void_Callable_ptr *)RenderingServer::get_singleton();
                pcVar7 = *(code **)(*(long *)p_Var24 + 0x12e0);
                this_00 = (CallableCustom *)operator_new(0x30,"");
                CallableCustom::CallableCustom(this_00);
                *(undefined ***)this_00 = &PTR_hash_001388c0;
                *(undefined **)(this_00 + 0x20) = &_LC3;
                *(code **)(this_00 + 0x28) = _scene_particles_set_view_axis;
                *(undefined8 *)(this_00 + 0x10) = 0;
                CallableCustomMethodPointerBase::_setup((uint *)this_00,(int)this_00 + 0x28);
                *(char **)(this_00 + 0x20) = "RendererSceneCull::_scene_particles_set_view_axis";
                Callable::Callable(local_248,this_00);
                fVar54 = *(float *)(param_1 + 0x34);
                fVar53 = (float)((ulong)*(undefined8 *)(param_1 + 0x24) >> 0x20);
                fVar67 = (float)*(undefined8 *)(param_1 + 0x1c);
                fVar65 = fVar67 * fVar67 + fVar53 * fVar53 + fVar54 * fVar54;
                uVar26 = 0;
                fVar66 = 0.0;
                if (fVar65 != 0.0) {
                  fVar65 = sqrtf(fVar65);
                  fVar66 = fVar54 / fVar65;
                  auVar63._4_4_ = fVar53;
                  auVar63._0_4_ = fVar67;
                  auVar63._8_8_ = 0;
                  auVar74._4_4_ = fVar65;
                  auVar74._0_4_ = fVar65;
                  auVar74._8_8_ = _LC187;
                  auVar63 = divps(auVar63,auVar74);
                  uVar26 = auVar63._0_8_;
                }
                fVar54 = *(float *)(param_1 + 0x38);
                fVar72 = (float)*(undefined8 *)(param_1 + 0x20);
                fVar67 = (float)((ulong)*(undefined8 *)(param_1 + 0x28) >> 0x20);
                fVar65 = fVar72 * fVar72 + fVar67 * fVar67 + fVar54 * fVar54;
                fVar53 = 0.0;
                uVar23 = 0;
                if (fVar65 != 0.0) {
                  fVar53 = sqrtf(fVar65);
                  auVar64._4_4_ = fVar53;
                  auVar64._0_4_ = fVar53;
                  auVar64._8_8_ = _LC187;
                  fVar53 = fVar54 / fVar53;
                  auVar62._4_4_ = fVar67;
                  auVar62._0_4_ = fVar72;
                  auVar62._8_8_ = 0;
                  auVar63 = divps(auVar62,auVar64);
                  uVar23 = auVar63._0_8_;
                }
                local_218 = (uint)fVar53 ^ _LC103;
                local_220 = (uint)uVar23 ^ (uint)_LC188;
                uStack_21c = (uint)((ulong)uVar23 >> 0x20) ^ _LC188._4_4_;
                local_258 = (undefined4)*(undefined8 *)(puVar32 + 2);
                uStack_254 = (undefined4)((ulong)*(undefined8 *)(puVar32 + 2) >> 0x20);
                local_208 = uVar26;
                local_200 = fVar66;
                Variant::Variant((Variant *)local_1a8,(RID *)&local_258);
                Variant::Variant(local_190,(Vector3 *)&local_220);
                Variant::Variant(local_178,(Vector3 *)&local_208);
                local_160 = 0;
                local_158 = (undefined1  [16])0x0;
                local_1e8 = local_178;
                auStack_1f0 = (undefined1  [8])local_190;
                local_1f8 = (Variant *)local_1a8;
                Callable::bindp((Variant **)local_238,(int)local_248);
                pVVar35 = (Variant *)local_148;
                do {
                  pVVar1 = pVVar35 + -0x18;
                  pVVar35 = pVVar35 + -0x18;
                  if (Variant::needs_deinit[*(int *)pVVar1] != '\0') {
                    Variant::_clear_internal();
                  }
                } while (pVVar35 != (Variant *)local_1a8);
                if (pcVar7 == RenderingServerDefault::call_on_render_thread) {
                  if (_GLOBAL_OFFSET_TABLE_ != (undefined *)0x0) {
                    Thread::caller_id();
                  }
                  if (*(long *)(in_FS_OFFSET + lRam000000000010fe6e) == *(long *)(p_Var24 + 0x2c0))
                  {
                    if (p_Var24[0x2b8] != (_func_void_Callable_ptr)0x0) {
                      CommandQueueMT::_flush((CommandQueueMT *)(p_Var24 + 0x230));
                    }
                    Variant::Variant((Variant *)local_1a8,0);
                    local_258 = 0;
                    uStack_254 = 0;
                    uStack_250 = 0;
                    local_1f8 = (Variant *)((ulong)local_1f8 & 0xffffffff00000000);
                    _auStack_1f0 = (undefined1  [16])0x0;
                    Callable::callp((Variant **)local_238,0,(Variant *)0x0,(CallError *)&local_1f8);
                    if (Variant::needs_deinit[local_1a8[0]] != '\0') {
                      Variant::_clear_internal();
                    }
                    if (Variant::needs_deinit[(int)(float)local_1f8] != '\0') {
                      Variant::_clear_internal();
                    }
                  }
                  else {
                    CommandQueueMT::
                    push<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),Callable_const&>
                              ((RenderingServerDefault *)(p_Var24 + 0x230),p_Var24,
                               (Callable *)RenderingServerDefault::_call_on_render_thread);
                  }
                }
                else {
                  (*pcVar7)(p_Var24,local_238);
                }
                Callable::~Callable(local_238);
                Callable::~Callable(local_248);
                RenderingServerDefault::changes._0_4_ = (int)RenderingServerDefault::changes + 1;
                local_2b0 = '\0';
              }
              else {
                bVar49 = false;
                local_2b0 = '\0';
              }
            }
          }
          uVar27 = puVar32[8];
          if (uVar27 != 0xffffffff) {
            lVar29 = *(long *)(param_1 + 8);
            uVar41 = (ulong)(int)uVar27;
            uVar18 = *(ulong *)(lVar29 + 0x1f0);
            if (uVar41 < *(ulong *)(lVar29 + 0x1f0)) {
              puVar20 = (uint *)((ulong)(uVar27 & *(uint *)(lVar29 + 0x1e8)) * 0x30 +
                                *(long *)(*(long *)(lVar29 + 0x1d0) +
                                         (uVar41 >> ((byte)*(undefined4 *)(lVar29 + 0x1e4) & 0x3f) &
                                         0xffffffff) * 8));
              if ((*puVar20 & 0x400000) != 0) {
                uVar41 = (ulong)(int)puVar20[9];
                uVar18 = *(ulong *)(lVar29 + 0x228);
                if (*(ulong *)(lVar29 + 0x228) <= uVar41) goto LAB_0010d34e;
              }
              (**(code **)(**(long **)(puVar32 + 4) + 0x68))();
              goto LAB_0010e051;
            }
            goto LAB_0010d34e;
          }
LAB_0010e051:
          uVar27 = *puVar32;
          if ((((byte)this[0x9828] & 0x20) != 0) && ((uVar27 & 0x800) != 0)) {
            lVar29 = *(long *)(*(long *)(puVar32 + 6) + 0x298);
            iVar13 = *(int *)(lVar29 + 0x34);
            uVar27 = 0;
            if (iVar13 != 0) {
              lVar47 = 0;
              lVar25 = *(long *)(lVar29 + 0x10);
              uVar27 = 0;
              do {
                lVar21 = *(long *)(lVar25 + lVar47 * 8);
                lVar16 = *(long *)(lVar21 + 0x298);
                uVar31 = (**(code **)(*RenderingServerGlobals::light_storage + 0x138))
                                   (RenderingServerGlobals::light_storage,
                                    *(undefined8 *)(lVar21 + 8));
                if ((uVar31 & puVar32[1]) != 0) {
                  iVar12 = (**(code **)(*RenderingServerGlobals::light_storage + 0x120))
                                     (RenderingServerGlobals::light_storage,
                                      *(undefined8 *)(lVar21 + 8));
                  if ((iVar12 != 1) || (*(long *)(*(long *)(puVar32 + 6) + 0xf0) == 0)) {
                    uVar31 = uVar27 + 1;
                    local_148[uVar27] = *(undefined8 *)(lVar16 + 8);
                    bVar48 = uVar27 == 0x1f;
                    uVar27 = uVar31;
                    if (bVar48) break;
                  }
                }
                if (iVar13 <= (int)lVar47 + 1) break;
                lVar47 = lVar47 + 1;
              } while( true );
            }
            plVar34 = *(long **)(lVar29 + 8);
            if (plVar34 == (long *)0x0) {
              _err_print_error("_scene_cull","servers/rendering/renderer_scene_cull.cpp",0xbcd,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_0010d704;
            }
            (**(code **)(*plVar34 + 0xb8))(plVar34,(Variant *)local_148,uVar27);
            uVar27 = *puVar32 & 0xfffff7ff;
            *puVar32 = uVar27;
          }
          if ((uVar27 & 0x800000) != 0) {
            lVar29 = *(long *)(*(long *)(puVar32 + 6) + 0x298);
            if (*(long *)(lVar29 + 8) == 0) {
              _err_print_error("_scene_cull","servers/rendering/renderer_scene_cull.cpp",0xbd5,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_0010d704;
            }
            pcVar40 = (char *)(*(long *)param_1 + 0x1c8c);
            while( true ) {
              local_238[0] = (Callable)0x0;
              LOCK();
              cVar11 = *pcVar40;
              if (cVar11 == '\0') {
                *pcVar40 = '\x01';
              }
              UNLOCK();
              if (cVar11 == '\0') break;
              do {
              } while (*pcVar40 != '\0');
            }
            (**(code **)(**(long **)(lVar29 + 8) + 0xd8))
                      (*(long **)(lVar29 + 8),*(int *)(lVar29 + 0x40) != 0,
                       *(int *)(lVar29 + 0x3c) != 0);
            *(undefined1 *)(*(long *)param_1 + 0x1c8c) = 0;
            uVar27 = *puVar32 & 0xff7fffff;
            *puVar32 = uVar27;
          }
          uVar31 = *(uint *)(this + 0x9828);
          if (((uVar31 & 0x40) != 0) && ((uVar27 & 0x1000) != 0)) {
            lVar29 = *(long *)(*(long *)(puVar32 + 6) + 0x298);
            uVar27 = *(uint *)(lVar29 + 0x94);
            uVar33 = (ulong)uVar27;
            if (uVar27 != 0) {
              plVar34 = *(long **)(lVar29 + 0x70);
              uVar26 = *(undefined8 *)(*(long *)(*plVar34 + 0x298) + 0x38);
              uVar33 = 1;
              do {
                local_148[0] = uVar26;
                if ((int)uVar27 <= (int)uVar33) {
                  uVar33 = uVar33 & 0xffffffff;
                  goto LAB_0010f143;
                }
                *(undefined8 *)((Variant *)local_148 + uVar33 * 8) =
                     *(undefined8 *)(*(long *)(plVar34[uVar33] + 0x298) + 0x38);
                uVar33 = uVar33 + 1;
              } while (uVar33 != 0x20);
              uVar33 = 0x20;
            }
LAB_0010f143:
            plVar34 = *(long **)(lVar29 + 8);
            if (plVar34 == (long *)0x0) {
              _err_print_error("_scene_cull","servers/rendering/renderer_scene_cull.cpp",0xbe9,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_0010d704;
            }
            (**(code **)(*plVar34 + 0xc0))(plVar34,(Variant *)local_148,uVar33);
            uVar27 = *puVar32 & 0xffffefff;
            *puVar32 = uVar27;
            uVar31 = *(uint *)(this + 0x9828);
          }
          if (((uVar31 & 0x80) != 0) && ((uVar27 & 0x2000) != 0)) {
            lVar29 = *(long *)(*(long *)(puVar32 + 6) + 0x298);
            uVar27 = *(uint *)(lVar29 + 0x6c);
            uVar33 = (ulong)uVar27;
            if (uVar27 != 0) {
              plVar34 = *(long **)(lVar29 + 0x48);
              uVar26 = *(undefined8 *)(*(long *)(*plVar34 + 0x298) + 0x10);
              uVar33 = 1;
              do {
                local_148[0] = uVar26;
                if ((int)uVar27 <= (int)uVar33) {
                  uVar33 = uVar33 & 0xffffffff;
                  goto LAB_0010f384;
                }
                *(undefined8 *)((Variant *)local_148 + uVar33 * 8) =
                     *(undefined8 *)(*(long *)(plVar34[uVar33] + 0x298) + 0x10);
                uVar33 = uVar33 + 1;
              } while (uVar33 != 0x20);
              uVar33 = 0x20;
            }
LAB_0010f384:
            plVar34 = *(long **)(lVar29 + 8);
            if (plVar34 == (long *)0x0) {
              _err_print_error("_scene_cull","servers/rendering/renderer_scene_cull.cpp",0xbfb,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_0010d704;
            }
            (**(code **)(*plVar34 + 200))(plVar34,(Variant *)local_148,uVar33);
            uVar27 = *puVar32 & 0xffffdfff;
            *puVar32 = uVar27;
          }
          if ((uVar27 & 0x4000) != 0) {
            lVar29 = *(long *)(*(long *)(puVar32 + 6) + 0x298);
            uVar27 = *(uint *)(lVar29 + 0xbc);
            uVar33 = (ulong)uVar27;
            if (uVar27 != 0) {
              plVar34 = *(long **)(lVar29 + 0x98);
              uVar26 = *(undefined8 *)(*(long *)(*plVar34 + 0x298) + 0xa8);
              uVar33 = 1;
              do {
                local_148[0] = uVar26;
                if ((int)uVar27 <= (int)uVar33) {
                  uVar33 = uVar33 & 0xffffffff;
                  goto LAB_0010e62c;
                }
                *(undefined8 *)((Variant *)local_148 + uVar33 * 8) =
                     *(undefined8 *)(*(long *)(plVar34[uVar33] + 0x298) + 0xa8);
                uVar33 = uVar33 + 1;
              } while (uVar33 != 0x20);
              uVar33 = 0x20;
            }
LAB_0010e62c:
            plVar34 = *(long **)(lVar29 + 8);
            if (plVar34 == (long *)0x0) {
              _err_print_error("_scene_cull","servers/rendering/renderer_scene_cull.cpp",0xc0d,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_0010d704;
            }
            (**(code **)(*plVar34 + 0xd0))(plVar34,(Variant *)local_148,uVar33);
            uVar27 = *puVar32 & 0xffffbfff;
            *puVar32 = uVar27;
          }
          if (((((uVar27 & 0x8000) != 0) &&
               (lVar29 = *(long *)(puVar32 + 6), *(long *)(lVar29 + 0x288) != lVar15)) &&
              (*(long *)(lVar29 + 0x280) != 0)) && (*(long *)(lVar29 + 0x118) != 0)) {
            lVar25 = *(long *)(lVar29 + 0x298);
            CowData<Color>::_copy_on_write((CowData<Color> *)(lVar29 + 0x118));
            lVar29 = *(long *)(lVar29 + 0x118);
            lVar47 = *(long *)(*(long *)(puVar32 + 6) + 0x280);
            dVar61 = _LC104;
            if ((float)(dVar60 * (double)fVar51) <= _LC55) {
              dVar61 = (double)(float)(dVar60 * (double)fVar51);
            }
            fVar54 = (float)dVar61;
            lVar21 = 0;
            do {
              pfVar17 = (float *)(lVar29 + lVar21);
              fVar65 = pfVar17[1];
              fVar53 = pfVar17[2];
              fVar66 = pfVar17[3];
              pfVar38 = (float *)(lVar47 + lVar21);
              fVar67 = pfVar38[1];
              fVar72 = pfVar38[2];
              fVar55 = pfVar38[3];
              pfVar37 = (float *)(lVar29 + lVar21);
              *pfVar37 = (*pfVar38 - *pfVar17) * fVar54 + *pfVar17;
              pfVar37[1] = (fVar67 - fVar65) * fVar54 + fVar65;
              pfVar37[2] = (fVar72 - fVar53) * fVar54 + fVar53;
              pfVar37[3] = (fVar55 - fVar66) * fVar54 + fVar66;
              lVar21 = lVar21 + 0x10;
            } while (lVar21 != 0x90);
            if (*(long *)(lVar25 + 8) == 0) {
              _err_print_error("_scene_cull","servers/rendering/renderer_scene_cull.cpp",0xc1a,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_0010d704;
            }
            pcVar40 = (char *)(*(long *)param_1 + 0x1c8c);
            while( true ) {
              local_238[0] = (Callable)0x0;
              LOCK();
              cVar11 = *pcVar40;
              if (cVar11 == '\0') {
                *pcVar40 = '\x01';
              }
              UNLOCK();
              if (cVar11 == '\0') break;
              do {
              } while (*pcVar40 != '\0');
            }
            (**(code **)(**(long **)(lVar25 + 8) + 0x90))();
            *(undefined1 *)(*(long *)param_1 + 0x1c8c) = 0;
            *(long *)(*(long *)(puVar32 + 6) + 0x288) = lVar15;
          }
          if (bVar49) {
            uVar33 = *(ulong *)(param_2 + 0x28);
            uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0x20);
            if (uVar27 == 0) {
              uVar27 = 0;
              if (uVar33 != 0) {
                uVar27 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0x1c) & 0x3f)) + 1;
              }
              if (*(uint *)(param_2 + 0x18) < uVar27 + 1) {
                if (*(long *)param_2 == 0) {
                  _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                   "Parameter \"page_pool\" is null.",0);
                  goto LAB_0010d758;
                }
                PagedArray<RenderGeometryInstance*>::_grow_page_array
                          ((PagedArray<RenderGeometryInstance*> *)param_2);
              }
              auVar73 = PagedArrayPool<RenderGeometryInstance*>::alloc_page
                                  (*(PagedArrayPool<RenderGeometryInstance*> **)param_2);
              lVar29 = *(long *)(param_2 + 8);
              *(long *)(lVar29 + (ulong)uVar27 * 8) = auVar73._0_8_;
              *(int *)(*(long *)(param_2 + 0x10) + (ulong)uVar27 * 4) = auVar73._8_4_;
              uVar33 = *(ulong *)(param_2 + 0x28);
              uVar27 = *(uint *)(param_2 + 0x20) & (uint)uVar33;
            }
            else {
              lVar29 = *(long *)(param_2 + 8);
            }
            *(undefined8 *)
             (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0x1c) & 0x3f) &
                                 0xffffffff) * 8) + (ulong)uVar27 * 8) =
                 *(undefined8 *)(puVar32 + 4);
            *(ulong *)(param_2 + 0x28) = uVar33 + 1;
          }
          goto LAB_0010d758;
        case 0xb:
          lVar29 = *(long *)(puVar32 + 4);
          if (*(long *)(lVar29 + 0x20) == 0) {
            pRVar2 = this + 0x280;
            while( true ) {
              local_238[0] = (Callable)0x0;
              LOCK();
              RVar3 = *pRVar2;
              if (RVar3 == (RendererSceneCull)0x0) {
                *pRVar2 = (RendererSceneCull)0x1;
              }
              UNLOCK();
              if (RVar3 == (RendererSceneCull)0x0) break;
              do {
              } while (*pRVar2 != (RendererSceneCull)0x0);
            }
            lVar25 = lVar29 + 0x20;
            if (*(long *)(lVar29 + 0x20) == 0) {
              *(RendererSceneCull **)(lVar29 + 0x20) = this + 0x2c0;
              lVar47 = *(long *)(this + 0x2c0);
              *(undefined8 *)(lVar29 + 0x38) = 0;
              *(long *)(lVar29 + 0x30) = lVar47;
              if (lVar47 == 0) {
                *(long *)(this + 0x2c8) = lVar25;
              }
              else {
                *(long *)(lVar47 + 0x18) = lVar25;
              }
              *(long *)(this + 0x2c0) = lVar25;
            }
            else {
              _err_print_error(&_LC106,"./core/templates/self_list.h",0x2e,
                               "Condition \"p_elem->_root\" is true.",0);
            }
            this[0x280] = (RendererSceneCull)0x0;
            *(undefined1 *)(lVar29 + 8) = 1;
          }
          uVar26 = (**(code **)(*RenderingServerGlobals::rasterizer + 0x88))();
          *(undefined8 *)(lVar29 + 0x10) = uVar26;
          break;
        case 0xc:
          uVar26 = *(undefined8 *)(puVar32 + 4);
          uVar33 = *(ulong *)(param_2 + 0x1a8);
          uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0x1a0);
          if (uVar27 == 0) {
            uVar31 = 1;
            uVar27 = 0;
            if (uVar33 != 0) {
              iVar13 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0x19c) & 0x3f));
              uVar27 = iVar13 + 1;
              uVar31 = iVar13 + 2;
            }
            plVar34 = *(long **)(param_2 + 0x180);
            if (*(uint *)(param_2 + 0x198) < uVar31) {
              if (plVar34 == (long *)0x0) goto LAB_0010f86b;
              PagedArray<RID>::_grow_page_array((PagedArray<RID> *)(param_2 + 0x180));
              plVar34 = *(long **)(param_2 + 0x180);
            }
            plVar6 = plVar34 + 4;
            while( true ) {
              local_238[0] = (Callable)0x0;
              LOCK();
              bVar49 = (char)*plVar6 == '\0';
              if (bVar49) {
                *(char *)plVar6 = '\x01';
              }
              UNLOCK();
              if (bVar49) break;
              do {
              } while ((char)*plVar6 != '\0');
            }
            iVar13 = (int)plVar34[3];
            if (iVar13 == 0) {
              uVar31 = *(uint *)(plVar34 + 1);
              *(uint *)(plVar34 + 1) = uVar31 + 1;
              lVar29 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
              *plVar34 = lVar29;
              lVar29 = Memory::realloc_static
                                 ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
              plVar34[2] = lVar29;
              lVar29 = *plVar34;
              uVar23 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
              puVar20 = (uint *)plVar34[2];
              *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar23;
              *puVar20 = uVar31;
              iVar13 = (int)plVar34[3] + 1;
            }
            else {
              puVar20 = (uint *)plVar34[2];
            }
            *(uint *)(plVar34 + 3) = iVar13 - 1U;
            uVar31 = puVar20[iVar13 - 1U];
            uVar23 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
            *(char *)plVar6 = '\0';
            lVar29 = *(long *)(param_2 + 0x188);
            uVar33 = *(ulong *)(param_2 + 0x1a8);
            *(undefined8 *)(lVar29 + (ulong)uVar27 * 8) = uVar23;
            *(uint *)(*(long *)(param_2 + 400) + (ulong)uVar27 * 4) = uVar31;
            uVar27 = *(uint *)(param_2 + 0x1a0) & (uint)uVar33;
          }
          else {
            lVar29 = *(long *)(param_2 + 0x188);
          }
          *(undefined8 *)
           (*(long *)(lVar29 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0x19c) & 0x3f) &
                               0xffffffff) * 8) + (ulong)uVar27 * 8) = uVar26;
          *(ulong *)(param_2 + 0x1a8) = uVar33 + 1;
        }
LAB_0010d750:
        local_2b0 = '\0';
LAB_0010d758:
        lVar25 = *(long *)param_1;
        uVar27 = 0;
        local_318 = param_2 + 0x1b0;
        if (*(int *)(lVar25 + 0x19c0) != 0) {
          do {
            lVar29 = *(long *)(param_1 + 8);
            uVar18 = *(ulong *)(lVar29 + 0x1c0);
            uVar41 = param_3;
            if (uVar18 <= param_3) goto LAB_0010d34e;
            cVar11 = RenderingLightCuller::cull_directional_light
                               (*(InstanceBounds **)(this + 0x9840),
                                (int)*(undefined8 *)
                                      (*(long *)(lVar29 + 0x1a0) +
                                      (param_3 >> ((byte)*(undefined4 *)(lVar29 + 0x1b4) & 0x3f) &
                                      0xffffffff) * 8) + (uVar45 & *(uint *)(lVar29 + 0x1b8)) * 0x18
                               );
            lVar25 = *(long *)param_1;
            if ((cVar11 != '\0') && (*(int *)(lVar25 + 0x330 + (ulong)uVar27 * 0x338) != 0)) {
              uVar33 = 0;
              lVar29 = (ulong)uVar27 * 0x338;
              pIVar36 = local_318;
              do {
                lVar47 = *(long *)(param_1 + 8);
                uVar18 = *(ulong *)(lVar47 + 0x1c0);
                uVar41 = param_3;
                if (uVar18 <= param_3) goto LAB_0010d34e;
                lVar21 = *(long *)(*(long *)(lVar47 + 0x1a0) +
                                  (param_3 >> ((byte)*(undefined4 *)(lVar47 + 0x1b4) & 0x3f) &
                                  0xffffffff) * 8) +
                         (ulong)(uVar45 & *(uint *)(lVar47 + 0x1b8)) * 0x18;
                lVar16 = lVar29 + uVar33 * 200 + lVar25;
                if (*(uint *)(lVar16 + 0x40) != 0) {
                  puVar20 = *(uint **)(lVar16 + 0x38);
                  pfVar17 = *(float **)(lVar16 + 0x30);
                  pfVar38 = pfVar17 + (ulong)*(uint *)(lVar16 + 0x40) * 4;
                  do {
                    if (0.0 <= (*(float *)(lVar21 + (ulong)*puVar20 * 4) * *pfVar17 +
                                *(float *)(lVar21 + (ulong)puVar20[1] * 4) * pfVar17[1] +
                               *(float *)(lVar21 + (ulong)puVar20[2] * 4) * pfVar17[2]) - pfVar17[3]
                       ) goto LAB_0010d932;
                    pfVar17 = pfVar17 + 4;
                    puVar20 = puVar20 + 3;
                  } while (pfVar17 != pfVar38);
                }
                if (iVar14 < 0) {
                  if (uVar8 == 0x300000) {
                    uVar31 = puVar32[9];
                    if (uVar31 != 0xffffffff) {
                      uVar41 = (ulong)(int)uVar31;
                      uVar4 = *(ulong *)(param_1 + 0x68);
                      uVar18 = *(ulong *)(lVar47 + 0x228);
                      if (uVar41 < *(ulong *)(lVar47 + 0x228)) {
                        puVar19 = (ulong *)((ulong)(uVar31 & *(uint *)(lVar47 + 0x220)) * 0x40 +
                                           *(long *)(*(long *)(lVar47 + 0x208) +
                                                    (uVar41 >> ((byte)*(undefined4 *)
                                                                       (lVar47 + 0x21c) & 0x3f) &
                                                    0xffffffff) * 8));
                        fVar65 = *(float *)((long)puVar19 + 0x14) - *(float *)(param_1 + 0x40);
                        uVar18 = *puVar19;
                        fVar54 = *(float *)((long)puVar19 + 0x34);
                        fVar53 = SQRT((*(float *)(puVar19 + 2) - *(float *)(param_1 + 0x3c)) *
                                      (*(float *)(puVar19 + 2) - *(float *)(param_1 + 0x3c)) +
                                      fVar65 * fVar65 +
                                      (*(float *)(puVar19 + 3) - *(float *)(param_1 + 0x44)) *
                                      (*(float *)(puVar19 + 3) - *(float *)(param_1 + 0x44)));
                        fVar65 = (float)((uint)*(float *)(puVar19 + 6) ^ _LC103);
                        if ((*(int *)((long)puVar19 + 0xc) == 0) && ((uVar4 & uVar18) == 0)) {
                          fVar54 = (float)((uint)fVar54 ^ _LC103);
                          fVar65 = *(float *)(puVar19 + 6);
                        }
                        if (((*(float *)((long)puVar19 + 0x2c) <= 0.0) ||
                            (fVar53 <= *(float *)((long)puVar19 + 0x2c) + fVar54)) &&
                           ((*(float *)(puVar19 + 5) <= 0.0 ||
                            (*(float *)(puVar19 + 5) + fVar65 <= fVar53)))) {
                          *puVar19 = uVar4 | uVar18;
                          goto LAB_0010dad7;
                        }
                        *puVar19 = uVar18 & ~uVar4;
LAB_0010db47:
                        iVar14 = 0;
                        goto LAB_0010d932;
                      }
                      goto LAB_0010d34e;
                    }
LAB_0010dad7:
                    uVar31 = puVar32[8];
                    if (uVar31 != 0xffffffff) {
                      uVar41 = (ulong)(int)uVar31;
                      uVar18 = *(ulong *)(lVar47 + 0x1f0);
                      if (*(ulong *)(lVar47 + 0x1f0) <= uVar41) goto LAB_0010d34e;
                      uVar31 = *(uint *)((ulong)(uVar31 & *(uint *)(lVar47 + 0x1e8)) * 0x30 +
                                        *(long *)(*(long *)(lVar47 + 0x1d0) +
                                                 (uVar41 >> ((byte)*(undefined4 *)(lVar47 + 0x1e4) &
                                                            0x3f) & 0xffffffff) * 8));
                      if (((uVar31 & 0x300000) != 0x100000) && ((uVar31 & 0x400000) == 0))
                      goto LAB_0010db47;
                    }
                  }
                  iVar14 = 1;
LAB_0010d967:
                  if ((((0xeU >> (*puVar32 & 0x1f) & 1) != 0) && ((*puVar32 & 0x100) != 0)) &&
                     ((*(uint *)(param_1 + 0x48) & puVar32[1] &
                      *(uint *)(lVar25 + 8 + (ulong)uVar27 * 0x338)) != 0)) {
                    uVar18 = *(ulong *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x28);
                    uVar31 = (uint)uVar18 &
                             *(uint *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x20);
                    local_2b0 = cVar11;
                    if (uVar31 == 0) {
                      uVar30 = 1;
                      uVar31 = 0;
                      if (uVar18 != 0) {
                        iVar13 = (int)(uVar18 - 1 >>
                                      ((byte)*(undefined4 *)
                                              ((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x1c
                                              ) & 0x3f));
                        uVar31 = iVar13 + 1;
                        uVar30 = iVar13 + 2;
                      }
                      plVar34 = *(long **)pIVar36;
                      if (*(uint *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x18) < uVar30)
                      {
                        if (plVar34 == (long *)0x0) {
                          _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                           "Parameter \"page_pool\" is null.",0);
                          lVar25 = *(long *)param_1;
                          goto LAB_0010d932;
                        }
                        PagedArray<RenderGeometryInstance*>::_grow_page_array
                                  ((PagedArray<RenderGeometryInstance*> *)pIVar36);
                        plVar34 = *(long **)pIVar36;
                      }
                      plVar6 = plVar34 + 4;
                      while( true ) {
                        local_238[0] = (Callable)0x0;
                        LOCK();
                        bVar49 = (char)*plVar6 == '\0';
                        if (bVar49) {
                          *(char *)plVar6 = '\x01';
                        }
                        UNLOCK();
                        if (bVar49) break;
                        do {
                        } while ((char)*plVar6 != '\0');
                      }
                      if ((int)plVar34[3] == 0) {
                        uVar30 = *(uint *)(plVar34 + 1);
                        *(uint *)(plVar34 + 1) = uVar30 + 1;
                        lVar25 = Memory::realloc_static
                                           ((void *)*plVar34,(ulong)(uVar30 + 1) * 8,false);
                        *plVar34 = lVar25;
                        lVar25 = Memory::realloc_static
                                           ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,
                                            false);
                        plVar34[2] = lVar25;
                        lVar25 = *plVar34;
                        uVar26 = Memory::alloc_static
                                           ((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
                        *(undefined8 *)(lVar25 + (ulong)uVar30 * 8) = uVar26;
                        puVar20 = (uint *)plVar34[2];
                        *puVar20 = uVar30;
                        uVar30 = *(uint *)(plVar34 + 3);
                      }
                      else {
                        puVar20 = (uint *)plVar34[2];
                        uVar30 = (int)plVar34[3] - 1;
                      }
                      *(uint *)(plVar34 + 3) = uVar30;
                      uVar30 = puVar20[uVar30];
                      uVar26 = *(undefined8 *)(*plVar34 + (ulong)uVar30 * 8);
                      *(char *)plVar6 = '\0';
                      lVar25 = *(long *)param_1;
                      *(undefined8 *)
                       (*(long *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 8) +
                       (ulong)uVar31 * 8) = uVar26;
                      *(uint *)(*(long *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x10) +
                               (ulong)uVar31 * 4) = uVar30;
                      uVar18 = *(ulong *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x28);
                      uVar31 = *(uint *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x20) &
                               (uint)uVar18;
                    }
                    *(undefined8 *)
                     (*(long *)(*(long *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 8) +
                               (uVar18 >> ((byte)*(undefined4 *)
                                                  ((PagedArray<RenderGeometryInstance*> *)pIVar36 +
                                                  0x1c) & 0x3f) & 0xffffffff) * 8) +
                     (ulong)uVar31 * 8) = *(undefined8 *)(puVar32 + 4);
                    *(ulong *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x28) = uVar18 + 1;
                  }
                }
                else if (iVar14 != 0) goto LAB_0010d967;
LAB_0010d932:
                uVar31 = (int)uVar33 + 1;
                uVar33 = (ulong)uVar31;
                pIVar36 = (InstanceCullResult *)
                          ((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x30);
              } while (uVar31 < *(uint *)(lVar25 + 0x330 + lVar29));
            }
            local_318 = local_318 + 0xc0;
            uVar27 = uVar27 + 1;
          } while (uVar27 < *(uint *)(lVar25 + 0x19c0));
        }
        if (*(int *)(lVar25 + 0x1c64) != 0) {
          lVar29 = *(long *)(param_1 + 8);
LAB_0010d391:
          uVar33 = 0;
          pIVar36 = param_2 + 0x7b0;
          do {
            uVar18 = *(ulong *)(lVar29 + 0x1c0);
            uVar41 = param_3;
            if (uVar18 <= param_3) goto LAB_0010d34e;
            pfVar17 = (float *)(*(long *)(*(long *)(lVar29 + 0x1a0) +
                                         (param_3 >> ((byte)*(undefined4 *)(lVar29 + 0x1b4) & 0x3f)
                                         & 0xffffffff) * 8) +
                               (ulong)(uVar45 & *(uint *)(lVar29 + 0x1b8)) * 0x18);
            pfVar38 = (float *)(lVar25 + 0x19c4 + uVar33 * 0x18);
            if ((((*pfVar17 < pfVar38[3] + *pfVar38) && (*pfVar38 < pfVar17[3])) &&
                ((pfVar17[1] < pfVar38[4] + pfVar38[1] &&
                 ((pfVar38[1] < pfVar17[4] && (pfVar17[2] < pfVar38[5] + pfVar38[2])))))) &&
               (pfVar38[2] < pfVar17[5])) {
              uVar27 = *puVar32;
              uVar18 = uVar33 & 0xffffffff;
              if ((char)uVar27 == '\x05') {
                lVar29 = *(long *)(*(long *)(puVar32 + 6) + 0x298);
                if (((*(int *)(lVar29 + 0x58) != 1) ||
                    (uVar27 = *(uint *)(lVar25 + 0x1c04 + uVar18 * 4),
                    *(uint *)(lVar29 + 0x5c) < uVar27)) ||
                   ((local_2d0 == param_3 && (uVar27 == uVar43)))) goto LAB_0010d4f0;
                uVar41 = (ulong)uVar27;
                uVar18 = *(ulong *)(param_2 + uVar41 * 0x30 + 0xc58);
                uVar43 = (uint)uVar18 & *(uint *)(param_2 + uVar41 * 0x30 + 0xc50);
                if (uVar43 == 0) {
                  uVar43 = 0;
                  if (uVar18 != 0) {
                    uVar43 = (int)(uVar18 - 1 >>
                                  ((byte)*(undefined4 *)(param_2 + uVar41 * 0x30 + 0xc4c) & 0x3f)) +
                             1;
                  }
                  if (uVar43 + 1 <= *(uint *)(param_2 + uVar41 * 0x30 + 0xc48)) {
LAB_00110301:
                    plVar6 = *(long **)(param_2 + uVar41 * 0x30 + 0xc30);
                    plVar34 = plVar6 + 4;
                    while( true ) {
                      local_238[0] = (Callable)0x0;
                      LOCK();
                      bVar49 = (char)*plVar34 == '\0';
                      if (bVar49) {
                        *(char *)plVar34 = '\x01';
                      }
                      UNLOCK();
                      if (bVar49) break;
                      do {
                      } while ((char)*plVar34 != '\0');
                    }
                    iVar14 = (int)plVar6[3];
                    if (iVar14 == 0) {
                      uVar31 = *(uint *)(plVar6 + 1);
                      *(uint *)(plVar6 + 1) = uVar31 + 1;
                      lVar25 = Memory::realloc_static((void *)*plVar6,(ulong)(uVar31 + 1) * 8,false)
                      ;
                      *plVar6 = lVar25;
                      lVar25 = Memory::realloc_static
                                         ((void *)plVar6[2],(ulong)*(uint *)(plVar6 + 1) << 2,false)
                      ;
                      plVar6[2] = lVar25;
                      lVar25 = *plVar6;
                      uVar26 = Memory::alloc_static
                                         ((ulong)*(uint *)((long)plVar6 + 0x1c) << 3,false);
                      *(undefined8 *)(lVar25 + (ulong)uVar31 * 8) = uVar26;
                      puVar20 = (uint *)plVar6[2];
                      *puVar20 = uVar31;
                      iVar14 = (int)plVar6[3] + 1;
                    }
                    else {
                      puVar20 = (uint *)plVar6[2];
                    }
                    *(uint *)(plVar6 + 3) = iVar14 - 1U;
                    uVar31 = puVar20[iVar14 - 1U];
                    uVar26 = *(undefined8 *)(*plVar6 + (ulong)uVar31 * 8);
                    *(undefined1 *)(plVar6 + 4) = 0;
                    lVar25 = *(long *)param_1;
                    *(undefined8 *)(*(long *)(param_2 + uVar41 * 0x30 + 0xc38) + (ulong)uVar43 * 8)
                         = uVar26;
                    *(uint *)(*(long *)(param_2 + uVar41 * 0x30 + 0xc40) + (ulong)uVar43 * 4) =
                         uVar31;
                    uVar18 = *(ulong *)(param_2 + uVar41 * 0x30 + 0xc58);
                    uVar43 = *(uint *)(param_2 + uVar41 * 0x30 + 0xc50) & (uint)uVar18;
                    goto LAB_0010d645;
                  }
                  if (*(long *)(param_2 + uVar41 * 0x30 + 0xc30) != 0) {
                    PagedArray<RID>::_grow_page_array
                              ((PagedArray<RID> *)(param_2 + uVar41 * 0x30 + 0xc30));
                    goto LAB_00110301;
                  }
                  _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                   "Parameter \"page_pool\" is null.",0,0);
                  lVar25 = *(long *)param_1;
                }
                else {
LAB_0010d645:
                  *(undefined8 *)
                   (*(long *)(*(long *)(param_2 + uVar41 * 0x30 + 0xc38) +
                             (uVar18 >> ((byte)*(undefined4 *)(param_2 + uVar41 * 0x30 + 0xc4c) &
                                        0x3f) & 0xffffffff) * 8) + (ulong)uVar43 * 8) =
                       *(undefined8 *)(lVar29 + 8);
                  *(ulong *)(param_2 + uVar41 * 0x30 + 0xc58) = uVar18 + 1;
                }
                local_2d0 = param_3 & 0xffffffff;
                uVar43 = uVar27;
              }
              else {
                if (((0xeU >> (uVar27 & 0x1f) & 1) == 0) || ((uVar27 & 0x10000) == 0))
                goto LAB_0010d4f0;
                uVar41 = *(ulong *)(param_2 + uVar18 * 0x30 + 0x7d8);
                uVar27 = (uint)uVar41 & *(uint *)(param_2 + uVar18 * 0x30 + 2000);
                if (uVar27 == 0) {
                  uVar31 = 1;
                  uVar27 = 0;
                  if (uVar41 != 0) {
                    iVar14 = (int)(uVar41 - 1 >>
                                  ((byte)*(undefined4 *)(param_2 + uVar18 * 0x30 + 0x7cc) & 0x3f));
                    uVar27 = iVar14 + 1;
                    uVar31 = iVar14 + 2;
                  }
                  if (uVar31 <= *(uint *)(param_2 + uVar18 * 0x30 + 0x7c8)) {
LAB_0010f4dc:
                    plVar6 = *(long **)(param_2 + uVar18 * 0x30 + 0x7b0);
                    plVar34 = plVar6 + 4;
                    while( true ) {
                      local_238[0] = (Callable)0x0;
                      LOCK();
                      bVar49 = (char)*plVar34 == '\0';
                      if (bVar49) {
                        *(char *)plVar34 = '\x01';
                      }
                      UNLOCK();
                      if (bVar49) break;
                      do {
                      } while ((char)*plVar34 != '\0');
                    }
                    iVar14 = (int)plVar6[3];
                    if (iVar14 == 0) {
                      uVar31 = *(uint *)(plVar6 + 1);
                      *(uint *)(plVar6 + 1) = uVar31 + 1;
                      lVar29 = Memory::realloc_static((void *)*plVar6,(ulong)(uVar31 + 1) * 8,false)
                      ;
                      *plVar6 = lVar29;
                      lVar29 = Memory::realloc_static
                                         ((void *)plVar6[2],(ulong)*(uint *)(plVar6 + 1) << 2,false)
                      ;
                      plVar6[2] = lVar29;
                      lVar29 = *plVar6;
                      uVar26 = Memory::alloc_static
                                         ((ulong)*(uint *)((long)plVar6 + 0x1c) << 3,false);
                      *(undefined8 *)(lVar29 + (ulong)uVar31 * 8) = uVar26;
                      puVar20 = (uint *)plVar6[2];
                      *puVar20 = uVar31;
                      iVar14 = (int)plVar6[3] + 1;
                    }
                    else {
                      puVar20 = (uint *)plVar6[2];
                    }
                    *(uint *)(plVar6 + 3) = iVar14 - 1U;
                    uVar31 = puVar20[iVar14 - 1U];
                    uVar26 = *(undefined8 *)(*plVar6 + (ulong)uVar31 * 8);
                    *(undefined1 *)(plVar6 + 4) = 0;
                    lVar25 = *(long *)param_1;
                    *(undefined8 *)(*(long *)(param_2 + uVar18 * 0x30 + 0x7b8) + (ulong)uVar27 * 8)
                         = uVar26;
                    *(uint *)(*(long *)(param_2 + uVar18 * 0x30 + 0x7c0) + (ulong)uVar27 * 4) =
                         uVar31;
                    uVar41 = *(ulong *)(param_2 + uVar18 * 0x30 + 0x7d8);
                    uVar27 = *(uint *)(param_2 + uVar18 * 0x30 + 2000) & (uint)uVar41;
                    goto LAB_0010d4a7;
                  }
                  if (*(long *)(param_2 + uVar18 * 0x30 + 0x7b0) != 0) {
                    PagedArray<RenderGeometryInstance*>::_grow_page_array
                              ((PagedArray<RenderGeometryInstance*> *)pIVar36);
                    goto LAB_0010f4dc;
                  }
                  _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                   "Parameter \"page_pool\" is null.",0,0);
                  lVar25 = *(long *)param_1;
                }
                else {
LAB_0010d4a7:
                  *(undefined8 *)
                   (*(long *)(*(long *)(param_2 + uVar18 * 0x30 + 0x7b8) +
                             (uVar41 >> ((byte)*(undefined4 *)(param_2 + uVar18 * 0x30 + 0x7cc) &
                                        0x3f) & 0xffffffff) * 8) + (ulong)uVar27 * 8) =
                       *(undefined8 *)(puVar32 + 4);
                  *(ulong *)(param_2 + uVar18 * 0x30 + 0x7d8) = uVar41 + 1;
                }
                local_2b0 = '\x01';
              }
            }
LAB_0010d4f0:
            uVar33 = uVar33 + 1;
            pIVar36 = (InstanceCullResult *)((PagedArray<RenderGeometryInstance*> *)pIVar36 + 0x30);
            if (*(uint *)(lVar25 + 0x1c64) <= (uint)uVar33) break;
            lVar29 = *(long *)(param_1 + 8);
          } while( true );
        }
        if (local_2b0 != '\0') {
          lVar29 = *(long *)(param_1 + 8);
          uVar18 = *(ulong *)(lVar29 + 0x1f0);
          uVar41 = param_3;
          if (uVar18 <= param_3) {
LAB_0010d34e:
            iVar14 = 0xb0;
            pcVar40 = "./core/templates/paged_array.h";
LAB_0010d35a:
            _err_print_index_error
                      ("operator[]",pcVar40,iVar14,uVar41,uVar18,"p_index","count","",false,true);
            _err_flush_stdout();
                    /* WARNING: Does not return */
            pcVar7 = (code *)invalidInstructionException();
            (*pcVar7)();
          }
          puVar32 = (uint *)((ulong)(uVar45 & *(uint *)(lVar29 + 0x1e8)) * 0x30 +
                            *(long *)(*(long *)(lVar29 + 0x1d0) +
                                     (param_3 >> ((byte)*(undefined4 *)(lVar29 + 0x1e4) & 0x3f) &
                                     0xffffffff) * 8));
          if ((*puVar32 & 0x20000) != 0) {
            lVar29 = *(long *)(puVar32 + 6);
            uVar33 = *(ulong *)(param_2 + 0x178);
            uVar27 = (uint)uVar33 & *(uint *)(param_2 + 0x170);
            if (uVar27 == 0) {
              uVar31 = 1;
              uVar27 = 0;
              if (uVar33 != 0) {
                iVar14 = (int)(uVar33 - 1 >> ((byte)*(undefined4 *)(param_2 + 0x16c) & 0x3f));
                uVar27 = iVar14 + 1;
                uVar31 = iVar14 + 2;
              }
              plVar34 = *(long **)(param_2 + 0x150);
              if (*(uint *)(param_2 + 0x168) < uVar31) {
                if (plVar34 == (long *)0x0) {
                  _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                   "Parameter \"page_pool\" is null.",0,0);
                  goto LAB_0010d6f5;
                }
                PagedArray<RID>::_grow_page_array((PagedArray<RID> *)(param_2 + 0x150));
                plVar34 = *(long **)(param_2 + 0x150);
              }
              plVar6 = plVar34 + 4;
              while( true ) {
                local_238[0] = (Callable)0x0;
                LOCK();
                bVar49 = (char)*plVar6 == '\0';
                if (bVar49) {
                  *(char *)plVar6 = '\x01';
                }
                UNLOCK();
                if (bVar49) break;
                do {
                } while ((char)*plVar6 != '\0');
              }
              iVar14 = (int)plVar34[3];
              if (iVar14 == 0) {
                uVar31 = *(uint *)(plVar34 + 1);
                *(uint *)(plVar34 + 1) = uVar31 + 1;
                lVar25 = Memory::realloc_static((void *)*plVar34,(ulong)(uVar31 + 1) * 8,false);
                *plVar34 = lVar25;
                lVar25 = Memory::realloc_static
                                   ((void *)plVar34[2],(ulong)*(uint *)(plVar34 + 1) << 2,false);
                plVar34[2] = lVar25;
                lVar25 = *plVar34;
                uVar26 = Memory::alloc_static((ulong)*(uint *)((long)plVar34 + 0x1c) << 3,false);
                *(undefined8 *)(lVar25 + (ulong)uVar31 * 8) = uVar26;
                puVar32 = (uint *)plVar34[2];
                *puVar32 = uVar31;
                iVar14 = (int)plVar34[3] + 1;
              }
              else {
                puVar32 = (uint *)plVar34[2];
              }
              *(uint *)(plVar34 + 3) = iVar14 - 1U;
              uVar31 = puVar32[iVar14 - 1U];
              uVar26 = *(undefined8 *)(*plVar34 + (ulong)uVar31 * 8);
              *(char *)plVar6 = '\0';
              lVar25 = *(long *)(param_2 + 0x158);
              *(undefined8 *)(lVar25 + (ulong)uVar27 * 8) = uVar26;
              *(uint *)(*(long *)(param_2 + 0x160) + (ulong)uVar27 * 4) = uVar31;
              uVar33 = *(ulong *)(param_2 + 0x178);
              uVar27 = *(uint *)(param_2 + 0x170) & (uint)uVar33;
            }
            else {
              lVar25 = *(long *)(param_2 + 0x158);
            }
            *(undefined8 *)
             (*(long *)(lVar25 + (uVar33 >> ((byte)*(undefined4 *)(param_2 + 0x16c) & 0x3f) &
                                 0xffffffff) * 8) + (ulong)uVar27 * 8) =
                 *(undefined8 *)(lVar29 + 0x28);
            *(ulong *)(param_2 + 0x178) = uVar33 + 1;
          }
        }
      }
LAB_0010d6f5:
      param_3 = param_3 + 1;
    } while (param_4 != param_3);
  }
LAB_0010d704:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::_scene_cull_threaded(unsigned int, RendererSceneCull::CullData*) */

void __thiscall
RendererSceneCull::_scene_cull_threaded(RendererSceneCull *this,uint param_1,CullData *param_2)

{
  uint uVar1;
  ulong uVar2;
  code *pcVar3;
  uint uVar4;
  
  uVar2 = *(ulong *)(*(long *)(param_2 + 8) + 0x1f0);
  uVar4 = param_1 * (int)uVar2;
  uVar1 = *(uint *)(WorkerThreadPool::singleton + 0x290);
  if (param_1 + 1 != uVar1) {
    uVar2 = (ulong)(uVar4 + (int)uVar2) / (ulong)uVar1;
  }
  if (param_1 < *(uint *)(this + 0x1240)) {
    _scene_cull(this,param_2,
                (InstanceCullResult *)((ulong)param_1 * 0xdb0 + *(long *)(this + 0x1248)),
                (ulong)uVar4 / (ulong)uVar1,uVar2 & 0xffffffff);
    return;
  }
  _err_print_index_error
            ("operator[]","./core/templates/local_vector.h",0xb2,(ulong)param_1,
             (ulong)*(uint *)(this + 0x1240),"p_index","count","",false,true);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar3 = (code *)invalidInstructionException();
  (*pcVar3)();
}



/* Error CowData<Plane>::resize<false>(long) [clone .isra.0] */

void __thiscall CowData<Plane>::resize<false>(CowData<Plane> *this,long param_1)

{
  long *plVar1;
  int iVar2;
  CowData<Plane> *pCVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  char *pcVar7;
  undefined8 *puVar8;
  undefined8 uVar9;
  long lVar10;
  long lVar11;
  CowData<Plane> *pCVar12;
  CowData<Plane> *pCVar13;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return;
  }
  lVar10 = *(long *)this;
  if (lVar10 == 0) {
    if (param_1 == 0) {
      return;
    }
    _copy_on_write(this);
    lVar11 = 0;
    pCVar3 = (CowData<Plane> *)0x0;
  }
  else {
    lVar11 = *(long *)(lVar10 + -8);
    if (param_1 == lVar11) {
      return;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar10 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return;
      }
      lVar10 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar10 + -0x10),false);
      return;
    }
    _copy_on_write(this);
    pCVar3 = (CowData<Plane> *)(lVar11 * 0x10);
    if (pCVar3 != (CowData<Plane> *)0x0) {
      uVar4 = (ulong)(pCVar3 + -1) | (ulong)(pCVar3 + -1) >> 1;
      uVar4 = uVar4 | uVar4 >> 2;
      uVar4 = uVar4 | uVar4 >> 4;
      uVar4 = uVar4 | uVar4 >> 8;
      uVar4 = uVar4 | uVar4 >> 0x10;
      pCVar3 = (CowData<Plane> *)((uVar4 | uVar4 >> 0x20) + 1);
    }
  }
  if (param_1 * 0x10 != 0) {
    uVar4 = param_1 * 0x10 - 1;
    uVar4 = uVar4 | uVar4 >> 1;
    uVar4 = uVar4 | uVar4 >> 2;
    uVar4 = uVar4 | uVar4 >> 4;
    uVar4 = uVar4 | uVar4 >> 8;
    uVar4 = uVar4 | uVar4 >> 0x10;
    pCVar13 = (CowData<Plane> *)(uVar4 | uVar4 >> 0x20);
    pCVar12 = pCVar13 + 1;
    if (pCVar12 != (CowData<Plane> *)0x0) {
      if (param_1 <= lVar11) {
        if ((pCVar12 != pCVar3) && (iVar2 = _realloc(this,(long)pCVar12), iVar2 != 0)) {
          return;
        }
        if (*(long *)this != 0) {
          *(long *)(*(long *)this + -8) = param_1;
          return;
        }
        FUN_00129e14();
        return;
      }
      if (pCVar12 == pCVar3) {
LAB_00110eac:
        puVar8 = *(undefined8 **)this;
        if (puVar8 == (undefined8 *)0x0) {
          resize<false>((long)pCVar13);
          return;
        }
        lVar10 = puVar8[-1];
        if (param_1 <= lVar10) goto LAB_00110e36;
      }
      else {
        if (lVar11 != 0) {
          pCVar13 = this;
          iVar2 = _realloc(this,(long)pCVar12);
          if (iVar2 != 0) {
            return;
          }
          goto LAB_00110eac;
        }
        puVar5 = (undefined8 *)Memory::alloc_static((ulong)(pCVar13 + 0x11),false);
        if (puVar5 == (undefined8 *)0x0) {
          uVar9 = 0x171;
          pcVar7 = "Parameter \"mem_new\" is null.";
          goto LAB_00110f52;
        }
        puVar8 = puVar5 + 2;
        *puVar5 = 1;
        puVar5[1] = 0;
        *(undefined8 **)this = puVar8;
        lVar10 = 0;
      }
      puVar5 = puVar8 + lVar10 * 2;
      do {
        *puVar5 = 0;
        puVar6 = puVar5 + 2;
        *(undefined4 *)(puVar5 + 1) = 0;
        *(undefined4 *)((long)puVar5 + 0xc) = 0;
        puVar5 = puVar6;
      } while (puVar6 != puVar8 + param_1 * 2);
LAB_00110e36:
      puVar8[-1] = param_1;
      return;
    }
  }
  uVar9 = 0x16a;
  pcVar7 = 
  "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
  ;
LAB_00110f52:
  _err_print_error("resize","./core/templates/cowdata.h",uVar9,pcVar7,0,0);
  return;
}



/* Vector<RendererSceneCull::PlaneSign>::push_back(RendererSceneCull::PlaneSign) [clone .isra.0] */

void Vector<RendererSceneCull::PlaneSign>::push_back
               (long param_1,undefined8 param_2,undefined4 param_3)

{
  undefined8 *puVar1;
  int iVar2;
  long lVar3;
  long lVar4;
  
  if (*(long *)(param_1 + 8) == 0) {
    lVar3 = 1;
  }
  else {
    lVar3 = *(long *)(*(long *)(param_1 + 8) + -8) + 1;
  }
  iVar2 = CowData<RendererSceneCull::PlaneSign>::resize<false>
                    ((CowData<RendererSceneCull::PlaneSign> *)(param_1 + 8),lVar3);
  if (iVar2 == 0) {
    if (*(long *)(param_1 + 8) == 0) {
      lVar4 = -1;
      lVar3 = 0;
    }
    else {
      lVar3 = *(long *)(*(long *)(param_1 + 8) + -8);
      lVar4 = lVar3 + -1;
      if (-1 < lVar4) {
        CowData<RendererSceneCull::PlaneSign>::_copy_on_write
                  ((CowData<RendererSceneCull::PlaneSign> *)(param_1 + 8));
        puVar1 = (undefined8 *)(*(long *)(param_1 + 8) + lVar4 * 0xc);
        *puVar1 = param_2;
        *(undefined4 *)(puVar1 + 1) = param_3;
        return;
      }
    }
    _err_print_index_error
              ("set","./core/templates/cowdata.h",0xcf,lVar4,lVar3,"p_index","size()","",false,false
              );
    return;
  }
  _err_print_error("push_back","./core/templates/vector.h",0x142,
                   "Condition \"err\" is true. Returning: true",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::_light_instance_setup_directional_shadow(int, RendererSceneCull::Instance*,
   Transform3D, Projection const&, bool, bool) */

void RendererSceneCull::_light_instance_setup_directional_shadow
               (long param_1,int param_2,long param_3,undefined8 param_4,char param_5)

{
  long *plVar1;
  code *pcVar2;
  float fVar3;
  undefined8 uVar4;
  float fVar5;
  byte bVar6;
  char cVar7;
  uint uVar8;
  int iVar9;
  undefined4 uVar10;
  float *pfVar11;
  long lVar12;
  undefined8 *puVar13;
  int iVar14;
  long lVar15;
  float *pfVar16;
  long lVar17;
  CowData<Plane> *this;
  long lVar18;
  byte bVar19;
  long in_FS_OFFSET;
  bool bVar20;
  byte bVar21;
  float fVar22;
  float fVar23;
  float fVar24;
  float fVar25;
  float fVar26;
  float fVar27;
  float fVar28;
  float extraout_XMM0_Db;
  double dVar29;
  double dVar30;
  double dVar31;
  undefined1 auVar32 [16];
  float fVar33;
  uint uVar36;
  double dVar34;
  uint uVar37;
  uint uVar38;
  undefined1 auVar35 [16];
  float fVar39;
  float fVar40;
  undefined1 auVar41 [16];
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar46;
  undefined1 auVar45 [16];
  float fVar47;
  float fVar48;
  float fVar50;
  double dVar49;
  float fVar51;
  float fVar52;
  float fVar53;
  float fVar54;
  float fVar55;
  undefined1 auVar56 [16];
  undefined1 auVar57 [16];
  undefined1 auVar58 [16];
  undefined1 auVar59 [16];
  float fVar60;
  float local_2f0;
  float local_2e8;
  int local_2d8;
  float local_2bc;
  undefined8 local_2a0;
  undefined8 local_298;
  undefined8 local_290;
  long local_230;
  long local_1d8;
  undefined8 *local_1d0;
  long local_1c8;
  undefined8 *local_1c0;
  undefined1 local_1b8 [8];
  long local_1b0;
  undefined8 *local_1a8;
  long local_1a0;
  undefined4 local_198;
  undefined4 local_184;
  undefined4 uStack_180;
  undefined4 local_17c;
  float local_178 [8];
  float local_158;
  float fStack_154;
  float fStack_150;
  float fStack_14c;
  undefined8 local_148;
  undefined8 uStack_140;
  undefined8 local_138;
  undefined8 uStack_130;
  Projection local_128 [64];
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined8 local_d8;
  undefined8 uStack_d0;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  float local_a8 [24];
  float local_48 [2];
  long local_40;
  undefined8 extraout_XMM0_Qb;
  
  bVar21 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  RenderingLightCuller::prepare_directional_light(*(Instance **)(param_1 + 0x9840),(int)param_3);
  local_158 = *(float *)(param_3 + 0x30);
  fStack_154 = *(float *)(param_3 + 0x34);
  fStack_150 = *(float *)(param_3 + 0x38);
  fStack_14c = *(float *)(param_3 + 0x3c);
  local_148 = *(undefined8 *)(param_3 + 0x40);
  uStack_140 = *(undefined8 *)(param_3 + 0x48);
  local_138 = *(undefined8 *)(param_3 + 0x50);
  uStack_130 = *(undefined8 *)(param_3 + 0x58);
  lVar18 = *(long *)(param_3 + 0x298);
  Transform3D::orthonormalize();
  fVar22 = (float)Projection::get_z_far();
  fVar23 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                            (RenderingServerGlobals::light_storage,*(undefined8 *)(param_3 + 8),9);
  fVar47 = fVar22;
  if (((0.0 < fVar23) && (param_5 == '\0')) && (fVar47 = fVar23, fVar22 <= fVar23)) {
    fVar47 = fVar22;
  }
  fVar22 = (float)Projection::get_z_near();
  if ((double)fVar47 <= (double)fVar22 + __LC197) {
    fVar47 = (float)((double)fVar22 + __LC197);
  }
  auVar32._0_8_ = Projection::get_z_near();
  auVar32._8_8_ = extraout_XMM0_Qb;
  if (fVar47 <= (float)auVar32._0_8_) {
    auVar57._4_12_ = auVar32._4_12_;
    auVar57._0_4_ = fVar47;
    auVar32._0_8_ = auVar57._0_8_;
  }
  fVar22 = (float)auVar32._0_8_;
  fVar23 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                            (RenderingServerGlobals::light_storage,*(undefined8 *)(param_3 + 8),0x10
                            );
  uVar8 = (**(code **)(*RenderingServerGlobals::light_storage + 0xd8))
                    (RenderingServerGlobals::light_storage,*(undefined8 *)(param_3 + 8));
  local_178[0] = fVar22;
  if (uVar8 < 3) {
    local_2d8 = *(int *)(CSWTCH_5697 + (ulong)uVar8 * 4);
    if (local_2d8 < 1) {
      local_230 = (long)local_2d8;
    }
    else {
      local_230 = (long)local_2d8;
      lVar15 = 0;
      do {
        fVar28 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                  (RenderingServerGlobals::light_storage,
                                   *(undefined8 *)(param_3 + 8),(int)lVar15 + 10);
        local_178[lVar15 + 1] = fVar28 * (fVar47 - fVar22) + fVar22;
        lVar15 = lVar15 + 1;
      } while (lVar15 != local_230);
    }
  }
  else {
    local_2d8 = 0;
    local_230 = 0;
  }
  auVar32._0_8_ = *(undefined8 *)(lVar18 + 8);
  local_178[local_230] = fVar47;
  iVar9 = (**(code **)(*RenderingServerGlobals::light_storage + 0x3c0))
                    (RenderingServerGlobals::light_storage,auVar32._0_8_);
  bVar6 = (**(code **)(*RenderingServerGlobals::light_storage + 0xc0))
                    (RenderingServerGlobals::light_storage,*(undefined8 *)(param_3 + 8));
  plVar1 = RenderingServerGlobals::light_storage;
  *(int *)(param_1 + 0xb208) = param_2 + 1;
  lVar15 = param_1 + (long)param_2 * 0x338;
  *(int *)(lVar15 + 0x9b78) = local_2d8;
  *(undefined8 *)(lVar15 + 0x9848) = *(undefined8 *)(lVar18 + 8);
  uVar10 = (**(code **)(*plVar1 + 0x90))(plVar1,*(undefined8 *)(param_3 + 8));
  *(undefined4 *)(lVar15 + 0x9850) = uVar10;
  if (local_2d8 != 0) {
    this = (CowData<Plane> *)(param_1 + 0x9860 + (long)param_2 * 0x338);
    lVar18 = 0;
    do {
      plVar1 = RenderingServerGlobals::utilities;
      iVar14 = (int)lVar18;
      if ((char)RenderingServerGlobals::utilities[1] != '\0') {
        pcVar2 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
        itos((long)&local_1d8);
        operator+((char *)&local_1c8,(String *)"Cull DirectionalLight3D, Split ");
        (*pcVar2)(plVar1);
        lVar12 = local_1c8;
        lVar15 = local_1d8;
        if (local_1c8 != 0) {
          LOCK();
          plVar1 = (long *)(local_1c8 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_1c8 = 0;
            Memory::free_static((void *)(lVar12 + -0x10),false);
            lVar15 = local_1d8;
          }
        }
        local_1d8 = lVar15;
        if (lVar15 != 0) {
          LOCK();
          plVar1 = (long *)(lVar15 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_1d8 = 0;
            Memory::free_static((void *)(lVar15 + -0x10),false);
          }
        }
      }
      Projection::Projection(local_128);
      fVar47 = (float)Projection::get_aspect();
      bVar19 = iVar14 != 0 & bVar6;
      bVar20 = SUB81(local_128,0);
      if (param_5 == '\0') {
        fVar22 = (float)Projection::get_fov();
        if (bVar19 != 0) {
          iVar14 = iVar14 + -1;
        }
        Projection::set_perspective(fVar22,fVar47,local_178[iVar14],local_178[lVar18 + 1],bVar20);
      }
      else {
        Projection::get_viewport_half_extents();
        if (bVar19 != 0) {
          iVar14 = iVar14 + -1;
        }
        Projection::set_orthogonal
                  (extraout_XMM0_Db + extraout_XMM0_Db,fVar47,local_178[iVar14],
                   local_178[lVar18 + 1],bVar20);
      }
      pfVar11 = local_a8;
      for (lVar15 = 0xc; lVar15 != 0; lVar15 = lVar15 + -1) {
        pfVar11[0] = 0.0;
        pfVar11[1] = 0.0;
        pfVar11 = pfVar11 + (ulong)bVar21 * -4 + 2;
      }
      cVar7 = Projection::get_endpoints((Transform3D *)local_128,(Vector3 *)&stack0x00000008);
      uVar4 = uStack_140;
      auVar32._0_8_ = local_148;
      fVar3 = fStack_14c;
      fVar28 = fStack_150;
      fVar22 = fStack_154;
      fVar47 = local_158;
      if (cVar7 != '\0') {
        fVar5 = (float)local_138;
        fVar39 = local_158 * local_158 + fStack_14c * fStack_14c +
                 (float)uStack_140 * (float)uStack_140;
        local_298 = 0;
        local_2bc = 0.0;
        if (fVar39 != 0.0) {
          fVar39 = SQRT(fVar39);
          auVar45._4_4_ = fStack_14c;
          auVar45._0_4_ = local_158;
          auVar45._8_8_ = 0;
          local_2bc = (float)uStack_140 / fVar39;
          auVar59._4_4_ = fVar39;
          auVar59._0_4_ = fVar39;
          auVar59._8_8_ = _LC187;
          auVar57 = divps(auVar45,auVar59);
          local_298 = auVar57._0_8_;
        }
        fVar51 = (float)local_298;
        fVar46 = (float)((ulong)local_298 >> 0x20);
        fVar39 = fStack_154 * fStack_154 + (float)local_148 * (float)local_148 +
                 uStack_140._4_4_ * uStack_140._4_4_;
        local_2a0 = 0;
        local_2f0 = 0.0;
        if (fVar39 != 0.0) {
          fVar39 = SQRT(fVar39);
          auVar58._4_4_ = (float)local_148;
          auVar58._0_4_ = fStack_154;
          auVar58._8_8_ = 0;
          local_2f0 = uStack_140._4_4_ / fVar39;
          auVar41._4_4_ = fVar39;
          auVar41._0_4_ = fVar39;
          auVar41._8_8_ = _LC187;
          auVar57 = divps(auVar58,auVar41);
          local_2a0 = auVar57._0_8_;
        }
        fVar48 = (float)local_2a0;
        fVar54 = (float)((ulong)local_2a0 >> 0x20);
        fVar39 = local_148._4_4_ * local_148._4_4_ + fStack_150 * fStack_150 +
                 (float)local_138 * (float)local_138;
        local_290 = 0;
        local_2e8 = 0.0;
        if (fVar39 != 0.0) {
          fVar39 = SQRT(fVar39);
          auVar56._4_4_ = local_148._4_4_;
          auVar56._0_4_ = fStack_150;
          auVar56._8_8_ = 0;
          local_2e8 = (float)local_138 / fVar39;
          auVar35._4_4_ = fVar39;
          auVar35._0_4_ = fVar39;
          auVar35._8_8_ = _LC187;
          auVar57 = divps(auVar56,auVar35);
          local_290 = auVar57._0_8_;
        }
        iVar14 = 0;
        fVar52 = (float)local_290;
        fVar50 = (float)((ulong)local_290 >> 0x20);
        pfVar11 = local_a8;
        fVar39 = 0.0;
        fVar42 = 0.0;
        fVar43 = 0.0;
        fVar26 = 0.0;
        fVar25 = 0.0;
        fVar27 = 0.0;
        do {
          while( true ) {
            fVar24 = *pfVar11;
            fVar60 = pfVar11[1];
            fVar55 = pfVar11[2];
            fVar33 = fVar46 * fVar60 + fVar51 * fVar24 + local_2bc * fVar55;
            fVar40 = fVar54 * fVar60 + fVar48 * fVar24 + local_2f0 * fVar55;
            fVar24 = fVar60 * fVar50 + fVar24 * fVar52 + fVar55 * local_2e8;
            if (iVar14 != 0) break;
            pfVar11 = pfVar11 + 3;
            iVar14 = 1;
            fVar39 = fVar33;
            fVar42 = fVar33;
            fVar43 = fVar24;
            fVar26 = fVar40;
            fVar25 = fVar40;
            fVar27 = fVar24;
          }
          fVar60 = fVar33;
          if (fVar33 <= fVar39) {
            fVar60 = fVar39;
          }
          iVar14 = iVar14 + 1;
          if (fVar42 <= fVar33) {
            fVar33 = fVar42;
          }
          fVar55 = fVar40;
          if (fVar26 <= fVar40) {
            fVar55 = fVar26;
          }
          pfVar11 = pfVar11 + 3;
          if (fVar40 <= fVar25) {
            fVar40 = fVar25;
          }
          fVar53 = fVar24;
          if (fVar24 <= fVar43) {
            fVar53 = fVar43;
          }
          if (fVar27 <= fVar24) {
            fVar24 = fVar27;
          }
          fVar39 = fVar60;
          fVar42 = fVar33;
          fVar43 = fVar53;
          fVar26 = fVar55;
          fVar25 = fVar40;
          fVar27 = fVar24;
        } while (iVar14 != 8);
        fVar42 = 0.0;
        fVar39 = 0.0;
        fVar43 = 0.0;
        pfVar11 = local_a8;
        do {
          pfVar16 = pfVar11 + 0xc;
          fVar42 = pfVar11[6] + pfVar11[3] + *pfVar11 + fVar42 + pfVar11[9];
          fVar43 = pfVar11[7] + pfVar11[4] + fVar43 + pfVar11[1] + pfVar11[10];
          fVar39 = SUB164(*(undefined1 (*) [16])(pfVar11 + 8),0) + pfVar11[5] + fVar39 + pfVar11[2]
                   + SUB164(*(undefined1 (*) [16])(pfVar11 + 8),0xc);
          pfVar11 = pfVar16;
        } while (local_48 != pfVar16);
        fVar42 = fVar42 * __LC201;
        fVar43 = fVar43 * __LC201;
        fVar39 = fVar39 * __LC201;
        pfVar11 = local_a8;
        fVar26 = 0.0;
        do {
          pfVar16 = pfVar11 + 3;
          fVar25 = SQRT((pfVar11[1] - fVar43) * (pfVar11[1] - fVar43) +
                        (*pfVar11 - fVar42) * (*pfVar11 - fVar42) +
                        (pfVar11[2] - fVar39) * (pfVar11[2] - fVar39));
          if (fVar25 <= fVar26) {
            fVar25 = fVar26;
          }
          pfVar11 = pfVar16;
          fVar26 = fVar25;
        } while (local_48 != pfVar16);
        dVar49 = (double)iVar9;
        fVar44 = (float)((dVar49 / (dVar49 - _LC202)) * (double)fVar25);
        fVar26 = fVar52 * fVar42 + fVar50 * fVar43 + local_2e8 * fVar39;
        fVar25 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                  (RenderingServerGlobals::light_storage,
                                   *(undefined8 *)(param_3 + 8),5);
        fVar27 = 0.0;
        if (0.0 < fVar25) {
          fVar27 = tanf(fVar25 * __LC203);
          fVar27 = ((fVar44 + fVar26 + fVar23) - (fVar26 - fVar44)) * fVar27;
          fVar60 = fVar60 + fVar27;
          fVar40 = fVar40 + fVar27;
          fVar33 = fVar33 - fVar27;
          fVar55 = fVar55 - fVar27;
        }
        uVar8 = (uint)fVar51 ^ (uint)_LC188;
        uVar36 = (uint)fVar46 ^ _LC188._4_4_;
        uVar37 = (uint)local_2bc ^ _UNK_00138d98;
        uVar38 = (uint)fVar33 ^ _UNK_00138d9c;
        fVar25 = fVar51 * fVar42 + fVar46 * fVar43 + local_2bc * fVar39;
        dVar34 = (double)(float)(((double)(fVar44 + fVar27) * __LC206) / dVar49);
        dVar29 = (double)Math::snapped((double)(fVar44 + fVar25 + fVar27),dVar34);
        dVar30 = (double)Math::snapped((double)((fVar25 - fVar44) - fVar27),dVar34);
        fVar39 = fVar42 * fVar48 + fVar43 * fVar54 + fVar39 * local_2f0;
        dVar31 = (double)Math::snapped((double)(fVar44 + fVar39 + fVar27),dVar34);
        dVar34 = (double)Math::snapped((double)((fVar39 - fVar44) - fVar27),dVar34);
        local_1d0 = (undefined8 *)0x0;
        CowData<Plane>::resize<false>((CowData<Plane> *)&local_1d0,6);
        if (local_1d0 == (undefined8 *)0x0) {
          lVar15 = 0;
        }
        else {
          lVar15 = local_1d0[-1];
          if (0 < lVar15) {
            CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1d0);
            lVar15 = local_1d0[-1];
            *local_1d0 = local_298;
            local_1d0[1] = CONCAT44(fVar60,local_2bc);
            if (lVar15 < 2) {
              lVar18 = 1;
              goto LAB_00112764;
            }
            CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1d0);
            lVar15 = local_1d0[-1];
            local_1d0[2] = CONCAT44(uVar36,uVar8);
            local_1d0[3] = CONCAT44(uVar38,uVar37);
            if (lVar15 < 3) {
              lVar18 = 2;
              goto LAB_00112764;
            }
            CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1d0);
            lVar15 = local_1d0[-1];
            local_1d0[4] = local_2a0;
            local_1d0[5] = CONCAT44(fVar40,local_2f0);
            if (lVar15 < 4) {
              lVar18 = 3;
              goto LAB_00112764;
            }
            CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1d0);
            uVar8 = (uint)fVar54 ^ _LC188._4_4_;
            uVar36 = (uint)local_2f0 ^ _UNK_00138d98;
            uVar37 = (uint)fVar55 ^ _UNK_00138d9c;
            fVar53 = fVar53 + __LC208;
            lVar15 = local_1d0[-1];
            *(uint *)(local_1d0 + 6) = (uint)fVar48 ^ (uint)_LC188;
            *(uint *)((long)local_1d0 + 0x34) = uVar8;
            *(uint *)(local_1d0 + 7) = uVar36;
            *(uint *)((long)local_1d0 + 0x3c) = uVar37;
            if (lVar15 < 5) {
              lVar18 = 4;
              goto LAB_00112764;
            }
            CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1d0);
            lVar15 = local_1d0[-1];
            local_1d0[8] = local_290;
            local_1d0[9] = CONCAT44(fVar53,local_2e8);
            if (lVar15 < 6) {
              lVar18 = 5;
              goto LAB_00112764;
            }
            CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1d0);
            puVar13 = local_1d0;
            uVar8 = (uint)fVar50 ^ _LC188._4_4_;
            uVar36 = (uint)local_2e8 ^ _UNK_00138d98;
            uVar37 = (uint)fVar24 ^ _UNK_00138d9c;
            *(uint *)(local_1d0 + 10) = (uint)fVar52 ^ (uint)_LC188;
            *(uint *)((long)local_1d0 + 0x54) = uVar8;
            *(uint *)(local_1d0 + 0xb) = uVar36;
            *(uint *)((long)local_1d0 + 0x5c) = uVar37;
            fVar39 = fVar26 + fVar44 + fVar23;
            Projection::Projection((Projection *)&local_e8);
            fVar42 = (float)dVar29 - (float)dVar30;
            fVar27 = fVar39 - (fVar26 - fVar44);
            fVar26 = (float)dVar31 - (float)dVar34;
            fVar43 = fVar42 * _LC131;
            fVar25 = _LC131 * fVar26;
            Projection::set_orthogonal
                      ((float)(_LC103 ^ (uint)fVar43),fVar43,(float)((uint)fVar25 ^ _LC103),fVar25,
                       0.0,fVar27);
            plVar1 = puVar13 + -2;
            local_1c0 = (undefined8 *)0x0;
            local_1b0 = 0;
            do {
              lVar15 = *plVar1;
              if (lVar15 == 0) goto LAB_00111fcf;
              LOCK();
              lVar12 = *plVar1;
              bVar20 = lVar15 == lVar12;
              if (bVar20) {
                *plVar1 = lVar15 + 1;
                lVar12 = lVar15;
              }
              UNLOCK();
            } while (!bVar20);
            if (lVar12 != -1) {
              local_1c0 = local_1d0;
            }
LAB_00111fcf:
            CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1c0);
            local_1a8 = local_1c0;
            if (local_1c0 == (undefined8 *)0x0) {
              local_198 = 0;
LAB_0011263f:
              puVar13 = (undefined8 *)0x0;
            }
            else {
              lVar15 = 0;
              local_198 = (undefined4)local_1c0[-1];
              puVar13 = local_1c0;
              if (0 < (long)local_1c0[-1]) {
                do {
                  if (local_1d0 == (undefined8 *)0x0) {
                    lVar12 = 0;
LAB_001125f3:
                    _err_print_index_error
                              ("get","./core/templates/cowdata.h",0xdb,lVar15,lVar12,"p_index",
                               "size()","",false,true);
                    _err_flush_stdout();
                    /* WARNING: Does not return */
                    pcVar2 = (code *)invalidInstructionException();
                    (*pcVar2)();
                  }
                  lVar12 = local_1d0[-1];
                  if (lVar12 <= lVar15) goto LAB_001125f3;
                  pfVar11 = (float *)(local_1d0 + lVar15 * 2);
                  local_184 = 0;
                  if (*pfVar11 <= 0.0) {
                    local_184 = 3;
                  }
                  uStack_180 = 1;
                  if (pfVar11[1] <= 0.0) {
                    uStack_180 = 4;
                  }
                  local_17c = 2;
                  if (pfVar11[2] <= 0.0) {
                    local_17c = 5;
                  }
                  lVar15 = lVar15 + 1;
                  Vector<RendererSceneCull::PlaneSign>::push_back(local_1b8);
                  if (local_1c0 == (undefined8 *)0x0) goto LAB_0011263f;
                  puVar13 = local_1c0;
                } while (lVar15 < (long)local_1c0[-1]);
              }
            }
            lVar15 = local_1b0;
            local_1a0 = local_1b0;
            if (*(undefined8 **)this != puVar13) {
              CowData<Plane>::_ref(this,(CowData *)&local_1c0);
            }
            lVar12 = *(long *)(this + 0x10);
            lVar17 = lVar12;
            if (lVar15 == lVar12) {
LAB_00112151:
              *(long *)(this + 0x20) = lVar12;
              *(undefined8 *)(this + 0x18) = *(undefined8 *)this;
              *(undefined4 *)(this + 0x28) = local_198;
              if (lVar17 != 0) {
                LOCK();
                plVar1 = (long *)(lVar17 + -0x10);
                *plVar1 = *plVar1 + -1;
                UNLOCK();
                if (*plVar1 == 0) {
                  Memory::free_static((void *)(local_1b0 + -0x10),false);
                }
              }
            }
            else {
              if (lVar12 != 0) {
                LOCK();
                plVar1 = (long *)(lVar12 + -0x10);
                *plVar1 = *plVar1 + -1;
                UNLOCK();
                if (*plVar1 == 0) {
                  lVar15 = *(long *)(this + 0x10);
                  *(undefined8 *)(this + 0x10) = 0;
                  Memory::free_static((void *)(lVar15 + -0x10),false);
                  lVar15 = local_1b0;
                }
                else {
                  *(undefined8 *)(this + 0x10) = 0;
                  lVar15 = local_1b0;
                }
              }
              if (lVar15 != 0) {
                plVar1 = (long *)(lVar15 + -0x10);
                do {
                  lVar15 = *plVar1;
                  lVar17 = local_1b0;
                  if (lVar15 == 0) goto LAB_001126e0;
                  LOCK();
                  lVar12 = *plVar1;
                  bVar20 = lVar15 == lVar12;
                  if (bVar20) {
                    *plVar1 = lVar15 + 1;
                    lVar12 = lVar15;
                  }
                  UNLOCK();
                } while (!bVar20);
                if (lVar12 == -1) {
LAB_001126e0:
                  lVar12 = *(long *)(this + 0x10);
                }
                else {
                  *(long *)(this + 0x10) = local_1b0;
                  lVar12 = local_1b0;
                }
                goto LAB_00112151;
              }
              *(undefined8 *)(this + 0x18) = *(undefined8 *)this;
              *(undefined8 *)(this + 0x20) = *(undefined8 *)(this + 0x10);
              *(undefined4 *)(this + 0x28) = local_198;
            }
            if (local_1c0 != (undefined8 *)0x0) {
              LOCK();
              plVar1 = local_1c0 + -2;
              *plVar1 = *plVar1 + -1;
              UNLOCK();
              if (*plVar1 == 0) {
                Memory::free_static(local_1c0 + -2,false);
              }
            }
            fVar25 = (float)dVar34 + fVar25;
            fVar43 = (float)dVar30 + fVar43;
            *(undefined8 *)(this + 0x40) = local_d8;
            *(undefined8 *)(this + 0x48) = uStack_d0;
            *(undefined8 *)(this + 0x50) = local_c8;
            *(undefined8 *)(this + 0x58) = uStack_c0;
            *(ulong *)(this + 0x70) = CONCAT44(fVar22,fVar47);
            *(ulong *)(this + 0x78) = CONCAT44(fVar3,fVar28);
            *(undefined8 *)(this + 0x80) = auVar32._0_8_;
            *(undefined8 *)(this + 0x88) = uVar4;
            *(undefined8 *)(this + 0x30) = local_e8;
            *(undefined8 *)(this + 0x38) = uStack_e0;
            *(undefined8 *)(this + 0x60) = local_b8;
            *(undefined8 *)(this + 0x68) = uStack_b0;
            *(float *)(this + 0x90) = fVar5;
            fVar47 = local_178[lVar18 + 1];
            *(ulong *)(this + 0x94) =
                 CONCAT44(fVar25 * fVar54 + fVar43 * fVar46 + fVar39 * fVar50,
                          fVar25 * fVar48 + fVar43 * fVar51 + fVar39 * fVar52);
            *(float *)(this + 0x9c) = fVar43 * local_2bc + fVar25 * local_2f0 + local_2e8 * fVar39;
            *(ulong *)(this + 0xa0) = CONCAT44(fVar47,fVar27);
            *(ulong *)(this + 0xa8) =
                 CONCAT44(fVar27,(float)(((double)fVar44 + (double)fVar44) / dVar49));
            fVar26 = _LC55 / fVar26;
            *(ulong *)(this + 0xb0) = CONCAT44(_LC55 / fVar42,fVar39);
            *(float *)(this + 0xb8) = fVar26;
            Projection::~Projection((Projection *)&local_e8);
            if (local_1d0 != (undefined8 *)0x0) {
              LOCK();
              plVar1 = local_1d0 + -2;
              *plVar1 = *plVar1 + -1;
              UNLOCK();
              if (*plVar1 == 0) {
                Memory::free_static(local_1d0 + -2,false);
              }
            }
            Projection::~Projection(local_128);
            goto LAB_0011230c;
          }
        }
        lVar18 = 0;
LAB_00112764:
        _err_print_index_error
                  ("operator[]","./core/templates/vector.h",0x38,lVar18,lVar15,"p_index",
                   "((Vector<T> *)(this))->_cowdata.size()","",false,true);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar2 = (code *)invalidInstructionException();
        (*pcVar2)();
      }
      _err_print_error("_light_instance_setup_directional_shadow",
                       "servers/rendering/renderer_scene_cull.cpp",0x8e5,
                       "Condition \"!res\" is true. Continuing.",0,0);
      Projection::~Projection(local_128);
LAB_0011230c:
      lVar18 = lVar18 + 1;
      this = this + 200;
    } while (local_230 != lVar18);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* Vector<ObjectID>::push_back(ObjectID) [clone .isra.0] */

void __thiscall Vector<ObjectID>::push_back(Vector<ObjectID> *this,undefined8 param_2)

{
  int iVar1;
  long lVar2;
  long lVar3;
  
  if (*(long *)(this + 8) == 0) {
    lVar2 = 1;
  }
  else {
    lVar2 = *(long *)(*(long *)(this + 8) + -8) + 1;
  }
  iVar1 = CowData<ObjectID>::resize<false>((CowData<ObjectID> *)(this + 8),lVar2);
  if (iVar1 == 0) {
    if (*(long *)(this + 8) == 0) {
      lVar3 = -1;
      lVar2 = 0;
    }
    else {
      lVar2 = *(long *)(*(long *)(this + 8) + -8);
      lVar3 = lVar2 + -1;
      if (-1 < lVar3) {
        CowData<ObjectID>::_copy_on_write((CowData<ObjectID> *)(this + 8));
        *(undefined8 *)(*(long *)(this + 8) + lVar3 * 8) = param_2;
        return;
      }
    }
    _err_print_index_error
              ("set","./core/templates/cowdata.h",0xcf,lVar3,lVar2,"p_index","size()","",false,false
              );
    return;
  }
  _err_print_error("push_back","./core/templates/vector.h",0x142,
                   "Condition \"err\" is true. Returning: true",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<Color>::resize<false>(long) [clone .isra.0] */

void __thiscall CowData<Color>::resize<false>(CowData<Color> *this,long param_1)

{
  long *plVar1;
  undefined8 uVar2;
  int iVar3;
  CowData<Color> *pCVar4;
  ulong uVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  char *pcVar8;
  undefined8 *puVar9;
  undefined8 uVar10;
  CowData<Color> *pCVar11;
  CowData<Color> *pCVar12;
  long lVar13;
  long lVar14;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return;
  }
  lVar13 = *(long *)this;
  if (lVar13 == 0) {
    if (param_1 == 0) {
      return;
    }
    _copy_on_write(this);
    lVar14 = 0;
    pCVar4 = (CowData<Color> *)0x0;
  }
  else {
    lVar14 = *(long *)(lVar13 + -8);
    if (param_1 == lVar14) {
      return;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar13 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return;
      }
      lVar13 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar13 + -0x10),false);
      return;
    }
    _copy_on_write(this);
    pCVar4 = (CowData<Color> *)(lVar14 * 0x10);
    if (pCVar4 != (CowData<Color> *)0x0) {
      uVar5 = (ulong)(pCVar4 + -1) | (ulong)(pCVar4 + -1) >> 1;
      uVar5 = uVar5 | uVar5 >> 2;
      uVar5 = uVar5 | uVar5 >> 4;
      uVar5 = uVar5 | uVar5 >> 8;
      uVar5 = uVar5 | uVar5 >> 0x10;
      pCVar4 = (CowData<Color> *)((uVar5 | uVar5 >> 0x20) + 1);
    }
  }
  if (param_1 * 0x10 != 0) {
    uVar5 = param_1 * 0x10 - 1;
    uVar5 = uVar5 | uVar5 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    pCVar12 = (CowData<Color> *)(uVar5 | uVar5 >> 0x20);
    pCVar11 = pCVar12 + 1;
    if (pCVar11 != (CowData<Color> *)0x0) {
      if (param_1 <= lVar14) {
        if ((pCVar11 != pCVar4) && (iVar3 = _realloc(this,(long)pCVar11), iVar3 != 0)) {
          return;
        }
        if (*(long *)this != 0) {
          *(long *)(*(long *)this + -8) = param_1;
          return;
        }
        FUN_00129e2a();
        return;
      }
      if (pCVar11 == pCVar4) {
LAB_00112b1c:
        puVar7 = *(undefined8 **)this;
        if (puVar7 == (undefined8 *)0x0) {
          resize<false>((long)pCVar12);
          return;
        }
        lVar13 = puVar7[-1];
        if (param_1 <= lVar13) goto LAB_00112abc;
      }
      else {
        if (lVar14 != 0) {
          pCVar12 = this;
          iVar3 = _realloc(this,(long)pCVar11);
          if (iVar3 != 0) {
            return;
          }
          goto LAB_00112b1c;
        }
        puVar6 = (undefined8 *)Memory::alloc_static((ulong)(pCVar12 + 0x11),false);
        if (puVar6 == (undefined8 *)0x0) {
          uVar10 = 0x171;
          pcVar8 = "Parameter \"mem_new\" is null.";
          goto LAB_00112bb2;
        }
        puVar7 = puVar6 + 2;
        *puVar6 = 1;
        puVar6[1] = 0;
        *(undefined8 **)this = puVar7;
        lVar13 = 0;
      }
      uVar2 = _UNK_00138da8;
      uVar10 = __LC210;
      puVar6 = puVar7 + lVar13 * 2;
      puVar9 = puVar6 + (param_1 - lVar13) * 2;
      do {
        *puVar6 = uVar10;
        puVar6[1] = uVar2;
        puVar6 = puVar6 + 2;
      } while (puVar9 != puVar6);
LAB_00112abc:
      puVar7[-1] = param_1;
      return;
    }
  }
  uVar10 = 0x16a;
  pcVar8 = 
  "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
  ;
LAB_00112bb2:
  _err_print_error("resize","./core/templates/cowdata.h",uVar10,pcVar8,0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::update_dirty_instances() const */

void __thiscall RendererSceneCull::update_dirty_instances(RendererSceneCull *this)

{
  long *plVar1;
  DependencyTracker *this_00;
  undefined4 uVar2;
  Instance IVar3;
  undefined4 uVar4;
  Instance *pIVar5;
  Instance *pIVar6;
  code *pcVar7;
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  byte bVar10;
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  char cVar13;
  byte bVar14;
  undefined1 uVar15;
  Instance IVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  uint uVar20;
  uint uVar21;
  long lVar22;
  uint *puVar23;
  ulong uVar24;
  undefined8 uVar25;
  AABB *pAVar26;
  Color *pCVar27;
  undefined8 *puVar28;
  long lVar29;
  undefined1 (*pauVar30) [16];
  undefined8 uVar31;
  undefined8 uVar32;
  void *pvVar33;
  undefined1 *puVar34;
  long *plVar35;
  uint uVar36;
  long lVar37;
  AABB *pAVar38;
  Instance *pIVar39;
  char *pcVar40;
  ID *pIVar41;
  uint uVar42;
  ulong uVar43;
  long lVar44;
  Instance IVar45;
  Color *pCVar46;
  undefined4 uVar47;
  int iVar48;
  long lVar49;
  long in_FS_OFFSET;
  Instance IVar50;
  bool bVar51;
  ushort in_FPUStatusWord;
  float fVar52;
  float fVar53;
  double dVar54;
  float fVar55;
  float fVar56;
  float fVar57;
  undefined8 uVar58;
  float fVar59;
  float fVar60;
  float fVar61;
  float __y;
  float __x;
  undefined1 auVar62 [16];
  char *pcVar63;
  char local_3a8;
  float local_398;
  ulong local_328;
  Instance *local_2b8;
  RendererSceneCull *local_2b0;
  undefined1 local_2a8 [16];
  undefined1 local_298 [16];
  uint local_288;
  long local_280;
  undefined4 local_278;
  undefined8 local_268;
  float local_260;
  undefined8 local_258;
  undefined8 uStack_250;
  undefined8 local_248;
  float local_238;
  float local_234;
  float local_230;
  float local_22c;
  float local_228;
  float local_224;
  undefined1 local_218 [16];
  undefined8 local_208;
  undefined8 local_1f8;
  float local_1f0;
  undefined1 local_1c8 [8];
  ulong local_1c0;
  Color local_1a4 [12];
  undefined8 local_198;
  float local_190;
  float fStack_18c;
  float local_188;
  float fStack_184;
  float local_180;
  float local_17c;
  float local_178;
  undefined8 local_174;
  float local_16c;
  float local_168 [2];
  undefined8 uStack_160;
  float fStack_158;
  float fStack_154;
  undefined8 local_d8;
  float fStack_d0;
  float fStack_cc;
  float fStack_c8;
  float local_c4;
  AABB local_48 [8];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar37 = *(long *)(this + 0x260);
  do {
    if (lVar37 == 0) {
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00113125. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        (**(code **)(*RenderingServerGlobals::utilities + 0x98))();
        return;
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    pIVar5 = *(Instance **)(lVar37 + 8);
    if (pIVar5[0x230] != (Instance)0x0) {
      auVar62 = (undefined1  [16])0x0;
      uVar25 = 0;
      if (*(int *)pIVar5 != 0) {
        if (*(long *)(pIVar5 + 8) == 0) {
          _err_print_error("_update_instance_aabb","servers/rendering/renderer_scene_cull.cpp",0x803
                           ,
                           "Condition \"p_instance->base_type != RenderingServer::INSTANCE_NONE && !p_instance->base.is_valid()\" is true."
                           ,0,0);
          goto LAB_00112ca0;
        }
        switch(*(int *)pIVar5) {
        default:
          auVar62 = (undefined1  [16])0x0;
          uVar25 = 0;
          break;
        case 1:
          pauVar30 = *(undefined1 (**) [16])(pIVar5 + 600);
          if (pauVar30 == (undefined1 (*) [16])0x0) {
            (**(code **)(*RenderingServerGlobals::mesh_storage + 0x98))
                      (local_218,RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar5 + 8),
                       *(undefined8 *)(pIVar5 + 0x10));
            auVar62 = local_218;
            uVar25 = local_208;
          }
          else {
LAB_001155be:
            auVar62 = *pauVar30;
            uVar25 = *(undefined8 *)pauVar30[1];
          }
          break;
        case 2:
          pauVar30 = *(undefined1 (**) [16])(pIVar5 + 600);
          if (pauVar30 != (undefined1 (*) [16])0x0) goto LAB_001155be;
          (**(code **)(*RenderingServerGlobals::mesh_storage + 0x1e0))
                    (local_218,RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 3:
          pauVar30 = *(undefined1 (**) [16])(pIVar5 + 600);
          if (pauVar30 != (undefined1 (*) [16])0x0) goto LAB_001155be;
          (**(code **)(*RenderingServerGlobals::particles_storage + 0x130))
                    (local_218,RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar5 + 8)
                    );
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 4:
          (**(code **)(*RenderingServerGlobals::particles_storage + 0x1e8))
                    (local_218,RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar5 + 8)
                    );
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 5:
          (**(code **)(*RenderingServerGlobals::light_storage + 0x100))
                    (local_218,RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 6:
          (**(code **)(*RenderingServerGlobals::light_storage + 0x218))
                    (local_218,RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 7:
          (**(code **)(*RenderingServerGlobals::texture_storage + 0x1a8))
                    (local_218,RenderingServerGlobals::texture_storage,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 8:
          (**(code **)(*RenderingServerGlobals::gi + 0x30))
                    (local_218,RenderingServerGlobals::gi,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 9:
          (**(code **)(*RenderingServerGlobals::light_storage + 0x330))
                    (local_218,RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 0xb:
          (**(code **)(*RenderingServerGlobals::utilities + 0x50))
                    (local_218,RenderingServerGlobals::utilities,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
          break;
        case 0xc:
          (**(code **)(*RenderingServerGlobals::fog + 0x40))
                    (local_218,RenderingServerGlobals::fog,*(undefined8 *)(pIVar5 + 8));
          auVar62 = local_218;
          uVar25 = local_208;
        }
      }
      fVar53 = *(float *)(pIVar5 + 0x260);
      if (fVar53 != 0.0) {
        fVar59 = fVar53 + fVar53;
        uVar25 = CONCAT44((float)((ulong)uVar25 >> 0x20) + fVar59,(float)uVar25 + fVar59);
        fVar60 = auVar62._0_4_;
        fVar52 = auVar62._8_4_;
        fVar55 = auVar62._12_4_;
        auVar62._4_4_ = auVar62._4_4_ - fVar53;
        auVar62._0_4_ = fVar60 - fVar53;
        auVar62._8_4_ = fVar52 - fVar53;
        auVar62._12_4_ = fVar59 + fVar55;
      }
      *(undefined1 (*) [16])(pIVar5 + 0x120) = auVar62;
      *(undefined8 *)(pIVar5 + 0x130) = uVar25;
    }
LAB_00112ca0:
    IVar3 = pIVar5[0x231];
    if (IVar3 == (Instance)0x0) {
LAB_00112db7:
      if (this + 0x260 == *(RendererSceneCull **)(pIVar5 + 0x238)) {
        lVar37 = *(long *)(pIVar5 + 0x248);
        if (lVar37 != 0) {
          *(undefined8 *)(lVar37 + 0x18) = *(undefined8 *)(pIVar5 + 0x250);
        }
        lVar22 = *(long *)(pIVar5 + 0x250);
        if (lVar22 != 0) {
          *(long *)(lVar22 + 0x10) = lVar37;
        }
        if (pIVar5 + 0x238 == *(Instance **)(this + 0x260)) {
          *(undefined8 *)(this + 0x260) = *(undefined8 *)(pIVar5 + 0x248);
          pIVar6 = *(Instance **)(this + 0x268);
        }
        else {
          pIVar6 = *(Instance **)(this + 0x268);
        }
        if (pIVar5 + 0x238 == pIVar6) {
          *(long *)(this + 0x268) = lVar22;
        }
        *(undefined8 *)(pIVar5 + 0x238) = 0;
        *(undefined1 (*) [16])(pIVar5 + 0x248) = (undefined1  [16])0x0;
      }
      else {
        _err_print_error("remove","./core/templates/self_list.h",0x50,
                         "Condition \"p_elem->_root != this\" is true.",0,0);
      }
      uVar42 = *(uint *)pIVar5;
      *(long *)(pIVar5 + 0x290) = *(long *)(pIVar5 + 0x290) + 1;
      pIVar6 = pIVar5 + 0x30;
      auVar11 = _local_1c8;
      switch(uVar42) {
      case 0:
        goto switchD_00112e56_caseD_0;
      case 3:
        (**(code **)(*RenderingServerGlobals::particles_storage + 0x138))
                  (RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar5 + 8),pIVar6);
        auVar11 = _local_1c8;
        break;
      case 4:
        lVar37 = *(long *)(pIVar5 + 0x298);
        cVar13 = (**(code **)(*RenderingServerGlobals::particles_storage + 0x1f0))
                           (RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar5 + 8));
        if (cVar13 != '\0') {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(&local_2b8);
        }
        (**(code **)(*RenderingServerGlobals::particles_storage + 0x218))
                  (RenderingServerGlobals::particles_storage,*(undefined8 *)(lVar37 + 8),pIVar6);
        auVar11 = _local_1c8;
        break;
      case 5:
        lVar37 = *(long *)(pIVar5 + 0x298);
        (**(code **)(*RenderingServerGlobals::light_storage + 0x150))
                  (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar37 + 8),pIVar6);
        lVar22 = 0;
        local_198 = 0;
        puVar34 = local_1c8;
        local_190 = 0.0;
        pcVar7 = *(code **)(*RenderingServerGlobals::light_storage + 0x158);
        local_168[0] = (float)*(undefined8 *)(pIVar5 + 0x120);
        local_168[1] = (float)((ulong)*(undefined8 *)(pIVar5 + 0x120) >> 0x20);
        uStack_160._0_4_ = *(float *)(pIVar5 + 0x128);
        local_1c8 = (undefined1  [8])0x0;
        local_1c0 = local_1c0 & 0xffffffff00000000;
        local_1f0 = *(float *)(pIVar5 + 0x128) + *(float *)(pIVar5 + 0x134);
        local_1f8 = CONCAT44((float)((ulong)*(undefined8 *)(pIVar5 + 300) >> 0x20) +
                             (float)((ulong)*(undefined8 *)(pIVar5 + 0x120) >> 0x20),
                             (float)*(undefined8 *)(pIVar5 + 300) +
                             (float)*(undefined8 *)(pIVar5 + 0x120));
        pIVar39 = pIVar5;
        do {
          fVar53 = *(float *)(pIVar5 + lVar22 + 0x54);
          lVar29 = 0;
          fVar60 = fVar53;
          do {
            fVar55 = *(float *)((long)local_168 + lVar29) * *(float *)(pIVar39 + lVar29 + 0x30);
            fVar59 = *(float *)(pIVar39 + lVar29 + 0x30) * *(float *)((long)&local_1f8 + lVar29);
            fVar52 = fVar59;
            if (fVar55 < fVar59) {
              fVar52 = fVar55;
              fVar55 = fVar59;
            }
            fVar60 = fVar60 + fVar55;
            fVar53 = fVar53 + fVar52;
            lVar29 = lVar29 + 4;
          } while (lVar29 != 0xc);
          *(float *)((long)&local_198 + lVar22) = fVar60;
          pIVar39 = pIVar39 + 0xc;
          *(float *)(puVar34 + lVar22) = fVar53;
          lVar22 = lVar22 + 4;
        } while (lVar22 != 0xc);
        local_c4 = local_190 - (float)local_1c0;
        fStack_cc = (float)local_198 - local_1c8._0_4_;
        fStack_c8 = (float)((ulong)local_198 >> 0x20) - local_1c8._4_4_;
        local_d8 = local_1c8;
        fStack_d0 = (float)local_1c0;
        (*pcVar7)(RenderingServerGlobals::light_storage,*(undefined8 *)(lVar37 + 8),&local_d8);
        plVar35 = RenderingServerGlobals::light_storage;
        uVar25 = *(undefined8 *)(pIVar5 + 8);
        *(uint *)(lVar37 + 0x60) = 2 - (uint)*(byte *)(lVar37 + 0x68);
        iVar17 = (**(code **)(*plVar35 + 0x120))(plVar35,uVar25);
        iVar18 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                           (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar5 + 8));
        if ((iVar18 != 0) && (iVar17 != *(int *)(lVar37 + 0x58))) {
          if (((byte)pIVar5[0xe0] & 4) == 0) {
            *(int *)(lVar37 + 0x58) = iVar17;
          }
          else {
            lVar22 = *(long *)(pIVar5 + 0x208);
            if (((*(int *)(lVar37 + 0x58) == 2) && (lVar22 != 0)) &&
               (uVar42 = *(uint *)(lVar22 + 0x188), uVar42 != 0)) {
              puVar34 = *(undefined1 **)(lVar22 + 400);
              uVar24 = 0;
              do {
                if (*(long *)(puVar34 + uVar24 * 8) == *(long *)(lVar37 + 8)) {
                  *(uint *)(lVar22 + 0x188) = uVar42 - 1;
                  uVar36 = (uint)uVar24;
                  if (uVar36 < uVar42 - 1) {
                    memmove(puVar34 + uVar24 * 8,puVar34 + (ulong)(uVar36 + 1) * 8,
                            (ulong)((uVar42 - 2) - uVar36) * 8 + 8);
                    IVar3 = pIVar5[0xe0];
                    *(int *)(lVar37 + 0x58) = iVar17;
                    if (((byte)IVar3 & 4) == 0) goto LAB_00113419;
                    lVar22 = *(long *)(pIVar5 + 0x208);
                    goto LAB_0011340b;
                  }
                  break;
                }
                uVar24 = uVar24 + 1;
              } while (uVar42 != uVar24);
            }
            *(int *)(lVar37 + 0x58) = iVar17;
LAB_0011340b:
            if ((iVar17 == 2) && (lVar22 != 0)) {
              uVar25 = *(undefined8 *)(lVar37 + 8);
              uVar42 = *(uint *)(lVar22 + 0x188);
              pvVar33 = *(void **)(lVar22 + 400);
              if (uVar42 == *(uint *)(lVar22 + 0x18c)) {
                uVar24 = (ulong)(uVar42 * 2);
                if (uVar42 * 2 == 0) {
                  uVar24 = 1;
                }
                *(int *)(lVar22 + 0x18c) = (int)uVar24;
                pvVar33 = (void *)Memory::realloc_static(pvVar33,uVar24 * 8,false);
                *(void **)(lVar22 + 400) = pvVar33;
                if (pvVar33 == (void *)0x0) {
                  _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                                   "FATAL: Condition \"!data\" is true.","Out of memory",0,0,puVar34
                                  );
                  _err_flush_stdout();
                    /* WARNING: Does not return */
                  pcVar7 = (code *)invalidInstructionException();
                  (*pcVar7)();
                }
                uVar42 = *(uint *)(lVar22 + 0x188);
              }
              *(uint *)(lVar22 + 0x188) = uVar42 + 1;
              *(undefined8 *)((long)pvVar33 + (ulong)uVar42 * 8) = uVar25;
            }
          }
        }
LAB_00113419:
        iVar17 = (**(code **)(*RenderingServerGlobals::light_storage + 0x128))
                           (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar5 + 8));
        auVar12._8_8_ = local_1c0;
        auVar12._0_8_ = local_1c8;
        auVar11._8_8_ = local_1c0;
        auVar11._0_8_ = local_1c8;
        if (iVar17 != *(int *)(lVar37 + 0x5c)) {
          *(int *)(lVar37 + 0x5c) = iVar17;
          auVar11 = auVar12;
        }
        break;
      case 6:
        (**(code **)(*RenderingServerGlobals::light_storage + 0x290))
                  (RenderingServerGlobals::light_storage,
                   *(undefined8 *)(*(long *)(pIVar5 + 0x298) + 0x38),pIVar6);
        lVar37 = *(long *)(pIVar5 + 0x208);
        auVar11 = _local_1c8;
        if ((lVar37 != 0) && (uVar42 = *(uint *)(pIVar5 + 0x1b0), -1 < (int)uVar42)) {
          local_328 = *(ulong *)(lVar37 + 0x1f0);
          uVar24 = (ulong)(int)uVar42;
          if (local_328 <= uVar24) {
            iVar17 = 0xb0;
            pcVar40 = "./core/templates/paged_array.h";
            pcVar63 = "count";
            goto LAB_001148b1;
          }
          puVar23 = (uint *)((ulong)(uVar42 & *(uint *)(lVar37 + 0x1e8)) * 0x30 +
                            *(long *)(*(long *)(lVar37 + 0x1d0) +
                                     (uVar24 >> ((byte)*(undefined4 *)(lVar37 + 0x1e4) & 0x3f)) * 8)
                            );
          *puVar23 = *puVar23 | 0x40000;
        }
        break;
      case 7:
        (**(code **)(*RenderingServerGlobals::texture_storage + 0x1d8))
                  (RenderingServerGlobals::texture_storage,
                   *(undefined8 *)(*(long *)(pIVar5 + 0x298) + 0x10),pIVar6);
        auVar11 = _local_1c8;
        break;
      case 8:
        (**(code **)(**(long **)(this + 8) + 0x108))
                  (*(long **)(this + 8),*(undefined8 *)(*(long *)(pIVar5 + 0x298) + 0xa8),pIVar6);
        auVar11 = _local_1c8;
        break;
      case 9:
        (**(code **)(*RenderingServerGlobals::light_storage + 0x380))
                  (RenderingServerGlobals::light_storage,
                   *(undefined8 *)(*(long *)(pIVar5 + 0x298) + 8),pIVar6);
        auVar11 = _local_1c8;
        break;
      case 10:
        if (*(long *)(pIVar5 + 0x208) != 0) {
          if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x38) ==
              RendererSceneOcclusionCull::scenario_set_instance) {
            if (RendererSceneOcclusionCull::_print_warning()::first_print == '\0')
            goto LAB_001131aa;
            _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",
                             0xcd,"Occlusion culling is disabled at build-time.",0,1);
            RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
            auVar11 = _local_1c8;
          }
          else {
            (**(code **)(*RendererSceneOcclusionCull::singleton + 0x38))
                      (RendererSceneOcclusionCull::singleton,
                       *(undefined8 *)(*(long *)(pIVar5 + 0x208) + 0x100),
                       *(undefined8 *)(pIVar5 + 0x1a0),*(undefined8 *)(pIVar5 + 8));
            auVar11 = _local_1c8;
          }
          break;
        }
LAB_001131aa:
        fVar53 = *(float *)(pIVar5 + 300);
        if (fVar53 <= 0.0) {
          if (*(float *)(pIVar5 + 0x130) <= 0.0) goto LAB_00113921;
          goto LAB_00112eb8;
        }
        goto LAB_00112ec0;
      case 0xc:
        (**(code **)(**(long **)(this + 8) + 0xe0))
                  (*(long **)(this + 8),*(undefined8 *)(*(long *)(pIVar5 + 0x298) + 8),pIVar6);
        auVar11 = _local_1c8;
      }
      local_1c0 = auVar11._8_8_;
      if ((0.0 < *(float *)(pIVar5 + 300)) || (0.0 < *(float *)(pIVar5 + 0x130))) {
        uVar42 = *(uint *)pIVar5;
joined_r0x00112eb2:
        if (uVar42 == 9) {
          iVar17 = *(int *)(*(long *)(pIVar5 + 0x298) + 0x34);
          if (iVar17 != 0) {
            plVar35 = *(long **)(*(long *)(pIVar5 + 0x298) + 0x10);
            iVar18 = 0;
            while( true ) {
              lVar37 = *plVar35;
              *(undefined1 *)(lVar37 + 0x230) = 1;
              if (*(long *)(lVar37 + 0x238) == 0) {
                lVar29 = *(long *)(this + 0x260);
                *(RendererSceneCull **)(lVar37 + 0x238) = this + 0x260;
                lVar22 = lVar37 + 0x238;
                *(undefined8 *)(lVar37 + 0x250) = 0;
                *(long *)(lVar37 + 0x248) = lVar29;
                if (lVar29 == 0) {
                  *(long *)(this + 0x268) = lVar22;
                }
                else {
                  *(long *)(lVar29 + 0x18) = lVar22;
                }
                *(long *)(this + 0x260) = lVar22;
              }
              iVar18 = iVar18 + 1;
              if (iVar17 <= iVar18) break;
              plVar35 = plVar35 + 1;
            }
          }
        }
LAB_00112eb8:
        fVar53 = *(float *)(pIVar5 + 300);
LAB_00112ec0:
        lVar37 = 0;
        local_198 = 0;
        local_168[0] = (float)*(undefined8 *)(pIVar5 + 0x120);
        local_168[1] = (float)((ulong)*(undefined8 *)(pIVar5 + 0x120) >> 0x20);
        local_190 = 0.0;
        uStack_160._0_4_ = *(float *)(pIVar5 + 0x128);
        local_1c8 = (undefined1  [8])0x0;
        local_1c0 = local_1c0 & 0xffffffff00000000;
        local_1f0 = *(float *)(pIVar5 + 0x128) + *(float *)(pIVar5 + 0x134);
        local_1f8 = CONCAT44(*(float *)(pIVar5 + 0x130) +
                             (float)((ulong)*(undefined8 *)(pIVar5 + 0x120) >> 0x20),
                             fVar53 + (float)*(undefined8 *)(pIVar5 + 0x120));
        pIVar39 = pIVar5;
        do {
          fVar53 = *(float *)(pIVar5 + lVar37 + 0x54);
          lVar22 = 0;
          fVar60 = fVar53;
          do {
            fVar55 = *(float *)((AABB *)local_168 + lVar22) * *(float *)(pIVar39 + lVar22 + 0x30);
            fVar59 = *(float *)(pIVar39 + lVar22 + 0x30) * *(float *)((long)&local_1f8 + lVar22);
            fVar52 = fVar59;
            if (fVar55 < fVar59) {
              fVar52 = fVar55;
              fVar55 = fVar59;
            }
            fVar60 = fVar60 + fVar55;
            fVar53 = fVar53 + fVar52;
            lVar22 = lVar22 + 4;
          } while (lVar22 != 0xc);
          *(float *)((long)&local_198 + lVar37) = fVar60;
          pIVar39 = pIVar39 + 0xc;
          *(float *)((Color *)local_1c8 + lVar37) = fVar53;
          auVar11._8_8_ = local_1c0;
          auVar11._0_8_ = local_1c8;
          lVar37 = lVar37 + 4;
        } while (lVar37 != 0xc);
        fStack_cc = (float)local_198 - local_1c8._0_4_;
        fStack_c8 = (float)((ulong)local_198 >> 0x20) - local_1c8._4_4_;
        local_d8 = local_1c8;
        fStack_d0 = (float)local_1c0;
        local_c4 = local_190 - (float)local_1c0;
        local_248 = CONCAT44(local_190 - (float)local_1c0,fStack_c8);
        uStack_250 = CONCAT44(fStack_cc,(float)local_1c0);
        *(undefined8 *)(pIVar5 + 0x148) = local_248;
        local_258 = local_1c8;
        *(undefined1 (*) [8])(pIVar5 + 0x138) = local_1c8;
        *(undefined8 *)(pIVar5 + 0x140) = uStack_250;
        if ((0xeU >> (uVar42 & 0x1f) & 1) != 0) {
          lVar37 = *(long *)(pIVar5 + 0x298);
          if ((*(char *)(lVar37 + 0x38) != '\0') && (iVar17 = *(int *)(lVar37 + 0x34), iVar17 != 0))
          {
            plVar35 = *(long **)(lVar37 + 0x10);
            iVar18 = 0;
            while( true ) {
              iVar18 = iVar18 + 1;
              *(uint *)(*(long *)(*plVar35 + 0x298) + 0x60) =
                   2 - (uint)*(byte *)(*(long *)(*plVar35 + 0x298) + 0x68);
              if (iVar17 <= iVar18) break;
              plVar35 = plVar35 + 1;
            }
          }
          lVar22 = *(long *)(pIVar5 + 0x118);
          if ((*(long *)(pIVar5 + 0xf0) == 0) && (*(int *)(lVar37 + 0xe4) != 0)) {
            if (lVar22 == 0) {
              local_328 = 0;
            }
            else {
              local_328 = *(ulong *)(lVar22 + -8);
            }
            CowData<Color>::resize<false>((CowData<Color> *)(pIVar5 + 0x118),9);
            CowData<Color>::resize<false>((CowData<Color> *)(pIVar5 + 0x280),9);
            CowData<Color>::_copy_on_write((CowData<Color> *)(pIVar5 + 0x280));
            pauVar30 = *(undefined1 (**) [16])(pIVar5 + 0x280);
            pAVar38 = (AABB *)local_168;
            do {
              auVar8._8_8_ = _UNK_00138da8;
              auVar8._0_8_ = __LC210;
              pAVar26 = pAVar38 + 0x10;
              *(undefined1 (*) [16])pAVar38 = auVar8;
              pAVar38 = pAVar26;
            } while ((AABB *)&local_d8 != pAVar26);
            lVar22 = *(long *)(pIVar5 + 0x298);
            iVar17 = *(int *)(lVar22 + 0xe4);
            if (iVar17 != 0) {
              bVar10 = 0;
              lVar44 = 0;
              local_398 = 0.0;
              lVar29 = *(long *)(lVar22 + 0xc0);
              while( true ) {
                lVar49 = *(long *)(lVar29 + lVar44 * 8);
                bVar14 = (**(code **)(*RenderingServerGlobals::light_storage + 0x340))
                                   (RenderingServerGlobals::light_storage,
                                    *(undefined8 *)(lVar49 + 8));
                if ((bVar14 == 1) || (bVar10 == 0)) {
                  Transform3D::affine_inverse();
                  fVar59 = _LC131 * *(float *)(pIVar5 + 0x130) + *(float *)(pIVar5 + 0x124);
                  fVar53 = _LC131 * *(float *)(pIVar5 + 300) + *(float *)(pIVar5 + 0x120);
                  fVar55 = _LC131 * *(float *)(pIVar5 + 0x134) + *(float *)(pIVar5 + 0x128);
                  fVar60 = *(float *)(pIVar5 + 0x48) * fVar53 + *(float *)(pIVar5 + 0x4c) * fVar59 +
                           *(float *)(pIVar5 + 0x50) * fVar55 + *(float *)(pIVar5 + 0x5c);
                  fVar52 = *(float *)(pIVar5 + 0x3c) * fVar53 + *(float *)(pIVar5 + 0x40) * fVar59 +
                           *(float *)(pIVar5 + 0x44) * fVar55 + *(float *)(pIVar5 + 0x58);
                  fVar53 = fVar53 * *(float *)(pIVar5 + 0x30) + fVar59 * *(float *)(pIVar5 + 0x34) +
                           fVar55 * *(float *)(pIVar5 + 0x38) + *(float *)(pIVar5 + 0x54);
                  local_260 = local_178 * fVar60 + local_180 * fVar53 + local_17c * fVar52 +
                              local_16c;
                  local_268 = CONCAT44(local_188 * fVar52 + fStack_18c * fVar53 +
                                       fStack_184 * fVar60 + (float)((ulong)local_174 >> 0x20),
                                       local_198._4_4_ * fVar52 + (float)local_198 * fVar53 +
                                       local_190 * fVar60 + (float)local_174);
                  (**(code **)(*RenderingServerGlobals::light_storage + 0x330))
                            (&local_238,RenderingServerGlobals::light_storage,
                             *(undefined8 *)(lVar49 + 8));
                  fVar61 = local_224;
                  fVar59 = local_228;
                  fVar55 = local_22c;
                  fVar52 = local_230;
                  fVar60 = local_234;
                  fVar53 = local_238;
                  if ((local_22c < 0.0) || ((local_228 < 0.0 || (local_224 < 0.0)))) {
                    _err_print_error("has_point","./core/math/aabb.h",0x13c,
                                     "AABB size is negative, this is not supported. Use AABB.abs() to get an AABB with a positive size."
                                     ,0,0);
                  }
                  if (((((fVar53 <= (float)local_268) && (fVar60 <= local_268._4_4_)) &&
                       (fVar52 <= local_260)) &&
                      (((float)local_268 <= fVar53 + fVar55 && (local_268._4_4_ <= fVar60 + fVar59))
                      )) && (local_260 <= fVar52 + fVar61)) {
                    pAVar38 = (AABB *)&local_d8;
                    do {
                      pAVar26 = pAVar38 + 0x10;
                      *(undefined8 *)pAVar38 = __LC210;
                      *(undefined8 *)(pAVar38 + 8) = _UNK_00138da8;
                      pAVar38 = pAVar26;
                    } while (pAVar26 != local_48);
                    (**(code **)(*RenderingServerGlobals::light_storage + 0x338))
                              (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar49 + 8),
                               &local_268,(AABB *)&local_d8);
                    Basis::orthonormalized();
                    pCVar46 = (Color *)local_1c8;
                    pAVar38 = (AABB *)&local_d8;
                    pAVar26 = (AABB *)&local_d8;
                    do {
                      do {
                        pCVar27 = pCVar46 + 4;
                        *(undefined4 *)pCVar46 = *(undefined4 *)pAVar38;
                        pCVar46 = pCVar27;
                        pAVar38 = pAVar38 + 0x10;
                      } while (pCVar27 != local_1a4);
                      Basis::rotate_sh((float *)&local_1f8);
                      pAVar38 = pAVar26;
                      pCVar46 = (Color *)local_1c8;
                      do {
                        uVar2 = *(undefined4 *)pCVar46;
                        pCVar46 = pCVar46 + 4;
                        *(undefined4 *)pAVar38 = uVar2;
                        pAVar38 = pAVar38 + 0x10;
                      } while (pCVar46 != local_1a4);
                      pAVar38 = pAVar26 + 4;
                      pCVar46 = (Color *)local_1c8;
                      pAVar26 = pAVar38;
                    } while (pAVar38 != (AABB *)&fStack_cc);
                    fVar61 = (local_260 - fVar52) / fVar61;
                    fVar55 = ((float)local_268 - fVar53) / fVar55;
                    fVar61 = (fVar61 + fVar61) - _LC55;
                    fVar59 = (local_268._4_4_ - fVar60) / fVar59;
                    fVar52 = (fVar55 + fVar55) - _LC55;
                    fVar60 = (fVar59 + fVar59) - _LC55;
                    fVar55 = (float)(((uint)fVar61 ^ _LC103) & -(uint)(fVar61 < 0.0) |
                                    ~-(uint)(fVar61 < 0.0) & (uint)fVar61);
                    fVar53 = (float)(((uint)fVar60 ^ _LC103) & -(uint)(fVar60 < 0.0) |
                                    ~-(uint)(fVar60 < 0.0) & (uint)fVar60);
                    if (fVar53 <= fVar55) {
                      fVar53 = fVar55;
                    }
                    fVar55 = (float)(((uint)fVar52 ^ _LC103) & -(uint)(fVar52 < 0.0) |
                                    ~-(uint)(fVar52 < 0.0) & (uint)fVar52);
                    if (fVar55 <= fVar53) {
                      fVar55 = fVar53;
                    }
                    fVar60 = SQRT(fVar60 * fVar60 + fVar52 * fVar52 + fVar61 * fVar61);
                    fVar53 = 0.0;
                    fVar60 = fVar60 + (fVar55 - fVar60) * fVar55;
                    dVar54 = _LC104 - (double)(fVar60 * fVar60);
                    if (0.0 <= dVar54) {
                      fVar53 = (float)dVar54;
                    }
                    bVar14 = (bVar10 ^ 1) & bVar14;
                    pCVar46 = (Color *)local_168;
                    pAVar38 = (AABB *)&local_d8;
                    if (bVar14 == 0) {
                      do {
                        pAVar26 = (AABB *)((Color *)pAVar38 + 0x10);
                        auVar62 = Color::operator*((Color *)pAVar38,fVar53);
                        _local_1c8 = auVar62;
                        Color::operator+=(pCVar46,(Color *)local_1c8);
                        pCVar46 = pCVar46 + 0x10;
                        pAVar38 = pAVar26;
                      } while (pAVar26 != local_48);
                      local_398 = fVar53 + local_398;
                    }
                    else {
                      iVar18 = 0;
                      do {
                        lVar49 = (long)iVar18;
                        iVar18 = iVar18 + 1;
                        auVar62 = Color::operator*((Color *)pAVar38,fVar53);
                        *(long *)(local_168 + lVar49 * 4) = auVar62._0_8_;
                        (&uStack_160)[lVar49 * 2] = auVar62._8_8_;
                        pAVar38 = (AABB *)((Color *)pAVar38 + 0x10);
                        local_398 = fVar53;
                        bVar10 = bVar14;
                      } while (iVar18 != 9);
                    }
                  }
                }
                if (iVar17 <= (int)lVar44 + 1) break;
                lVar44 = lVar44 + 1;
              }
              uVar24 = 0;
              if (0.0 < local_398) {
                do {
                  auVar62 = Color::operator/((Color *)((AABB *)local_168 + uVar24 * 0x10),local_398)
                  ;
                  *pauVar30 = auVar62;
                  if (local_328 == 0) {
                    uVar43 = local_328;
                    if ((*(long *)(pIVar5 + 0x118) == 0) ||
                       (uVar43 = *(ulong *)(*(long *)(pIVar5 + 0x118) + -8),
                       (long)uVar43 <= (long)uVar24)) {
                      local_328 = uVar43;
                      iVar17 = 0x38;
                      pcVar40 = "./core/templates/vector.h";
                      pcVar63 = "((Vector<T> *)(this))->_cowdata.size()";
                      goto LAB_001148b1;
                    }
                    CowData<Color>::_copy_on_write((CowData<Color> *)(pIVar5 + 0x118));
                    *(undefined1 (*) [16])(*(long *)(pIVar5 + 0x118) + uVar24 * 0x10) = *pauVar30;
                  }
                  uVar24 = uVar24 + 1;
                  pauVar30 = pauVar30 + 1;
                } while (uVar24 != 9);
              }
            }
            plVar35 = *(long **)(lVar22 + 8);
            if (plVar35 == (long *)0x0) {
              _err_print_error("_update_instance_lightmap_captures",
                               "servers/rendering/renderer_scene_cull.cpp",0x898,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_001135a6;
            }
            (**(code **)(*plVar35 + 0x90))(plVar35,*(undefined8 *)(pIVar5 + 0x118));
            plVar35 = *(long **)(lVar37 + 8);
          }
          else {
            _local_1c8 = auVar11;
            if (lVar22 == 0) goto LAB_001135a6;
            if (*(long *)(lVar22 + -8) != 0) {
              LOCK();
              plVar35 = (long *)(lVar22 + -0x10);
              *plVar35 = *plVar35 + -1;
              UNLOCK();
              if (*plVar35 == 0) {
                lVar22 = *(long *)(pIVar5 + 0x118);
                *(undefined8 *)(pIVar5 + 0x118) = 0;
                Memory::free_static((void *)(lVar22 + -0x10),false);
              }
              else {
                *(undefined8 *)(pIVar5 + 0x118) = 0;
              }
            }
            lVar22 = *(long *)(pIVar5 + 0x280);
            if ((lVar22 == 0) || (*(long *)(lVar22 + -8) == 0)) {
LAB_0011358e:
              plVar35 = *(long **)(lVar37 + 8);
            }
            else {
              LOCK();
              plVar35 = (long *)(lVar22 + -0x10);
              *plVar35 = *plVar35 + -1;
              UNLOCK();
              if (*plVar35 != 0) {
                *(undefined8 *)(pIVar5 + 0x280) = 0;
                goto LAB_0011358e;
              }
              lVar22 = *(long *)(pIVar5 + 0x280);
              *(undefined8 *)(pIVar5 + 0x280) = 0;
              Memory::free_static((void *)(lVar22 + -0x10),false);
              plVar35 = *(long **)(lVar37 + 8);
            }
            if (plVar35 == (long *)0x0) {
              _err_print_error("_update_instance","servers/rendering/renderer_scene_cull.cpp",0x6fb,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              auVar11._8_8_ = local_1c0;
              auVar11._0_8_ = local_1c8;
              goto switchD_00112e56_caseD_0;
            }
            (**(code **)(*plVar35 + 0x90))(plVar35,0);
LAB_001135a6:
            plVar35 = *(long **)(lVar37 + 8);
          }
          if (plVar35 == (long *)0x0) {
            _err_print_error("_update_instance","servers/rendering/renderer_scene_cull.cpp",0x700,
                             "Parameter \"geom->geometry_instance\" is null.",0,0);
            auVar11 = _local_1c8;
            goto switchD_00112e56_caseD_0;
          }
          (**(code **)(*plVar35 + 0x40))(plVar35,pIVar6,pIVar5 + 0x120,pIVar5 + 0x138);
          auVar11 = _local_1c8;
        }
        pIVar41 = *(ID **)(pIVar5 + 0x208);
        if (((pIVar41 == (ID *)0x0) || (((byte)pIVar5[0xe0] & 4) == 0)) ||
           (((*(float *)(pIVar5 + 0x40) * *(float *)(pIVar5 + 0x50) -
             *(float *)(pIVar5 + 0x4c) * *(float *)(pIVar5 + 0x44)) * *(float *)(pIVar5 + 0x30) -
            (*(float *)(pIVar5 + 0x50) * *(float *)(pIVar5 + 0x34) -
            *(float *)(pIVar5 + 0x4c) * *(float *)(pIVar5 + 0x38)) * *(float *)(pIVar5 + 0x3c)) +
            (*(float *)(pIVar5 + 0x44) * *(float *)(pIVar5 + 0x34) -
            *(float *)(pIVar5 + 0x40) * *(float *)(pIVar5 + 0x38)) * *(float *)(pIVar5 + 0x48) ==
            0.0)) {
          *(undefined8 *)(pIVar5 + 0x160) = *(undefined8 *)(pIVar5 + 0x148);
          *(undefined1 (*) [16])(pIVar5 + 0x150) = *(undefined1 (*) [16])(pIVar5 + 0x138);
        }
        else {
          auVar62 = *(undefined1 (*) [16])(pIVar5 + 0x138);
          local_168[0] = auVar62._0_4_;
          local_168[1] = auVar62._4_4_;
          uStack_160._0_4_ = auVar62._8_4_;
          uStack_160._4_4_ = auVar62._12_4_;
          fStack_158 = (float)*(undefined8 *)(pIVar5 + 0x148);
          fStack_154 = (float)((ulong)*(undefined8 *)(pIVar5 + 0x148) >> 0x20);
          if (*(long *)(pIVar5 + 0x1a8) == 0) {
            uVar42 = *(uint *)pIVar5;
LAB_00113bbc:
            if ((0xeU >> (uVar42 & 0x1f) & 1) == 0) {
              pIVar41 = pIVar41 + 0x80;
            }
            uVar47 = 0xffffffff;
            _local_1c8 = auVar11;
            uVar25 = DynamicBVH::insert(pIVar41,(AABB *)local_168);
            uVar42 = *(uint *)pIVar5;
            lVar37 = *(long *)(pIVar5 + 0x208);
            *(undefined8 *)(pIVar5 + 0x1a8) = uVar25;
            uVar43 = *(ulong *)(lVar37 + 0x1f0);
            uVar25 = *(undefined8 *)(pIVar5 + 8);
            uVar2 = *(undefined4 *)(pIVar5 + 0xdc);
            *(int *)(pIVar5 + 0x1b0) = (int)uVar43;
            if (*(long *)(pIVar5 + 0x1d0) != 0) {
              uVar47 = *(undefined4 *)(*(long *)(pIVar5 + 0x1d0) + 0x1b0);
            }
            iVar17 = *(int *)(pIVar5 + 0x1fc);
            uVar4 = *(undefined4 *)(pIVar5 + 0x1b4);
            if (iVar17 != 0) {
              plVar35 = *(long **)(pIVar5 + 0x1d8);
              iVar18 = 0;
              lVar22 = *plVar35;
              uVar36 = *(uint *)(lVar22 + 0x1b0);
              while( true ) {
                if (uVar36 != 0xffffffff) {
                  lVar22 = *(long *)(lVar22 + 0x208);
                  uVar24 = (ulong)(int)uVar36;
                  local_328 = *(ulong *)(lVar22 + 0x1f0);
                  if (local_328 <= uVar24) goto LAB_00114887;
                  *(int *)((ulong)(uVar36 & *(uint *)(lVar22 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar22 + 0x1d0) +
                                    (uVar24 >> ((byte)*(undefined4 *)(lVar22 + 0x1e4) & 0x3f) &
                                    0xffffffff) * 8) + 0x20) = (int)uVar43;
                }
                iVar18 = iVar18 + 1;
                if (iVar17 <= iVar18) break;
                lVar22 = plVar35[1];
                plVar35 = plVar35 + 1;
                uVar36 = *(uint *)(lVar22 + 0x1b0);
              }
            }
            switch(uVar42) {
            default:
              uVar58 = 0;
              break;
            case 1:
            case 2:
            case 3:
            case 9:
            case 0xc:
              uVar58 = *(undefined8 *)(*(long *)(pIVar5 + 0x298) + 8);
              break;
            case 5:
              lVar37 = *(long *)(pIVar5 + 0x298);
              uVar58 = *(undefined8 *)(lVar37 + 8);
              uVar15 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf0))
                                 (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar5 + 8))
              ;
              plVar35 = RenderingServerGlobals::light_storage;
              uVar31 = *(undefined8 *)(pIVar5 + 8);
              *(undefined1 *)(lVar37 + 0x20) = uVar15;
              fVar53 = (float)(**(code **)(*plVar35 + 0x108))(plVar35,uVar31,5);
              *(bool *)(lVar37 + 0x21) = __LC223 < (double)fVar53;
              lVar37 = *(long *)(pIVar5 + 0x208);
              uVar43 = *(ulong *)(lVar37 + 0x1f0);
              if (*(int *)pIVar5 == 6) goto LAB_00114eec;
              break;
            case 6:
              uVar58 = *(undefined8 *)(*(long *)(pIVar5 + 0x298) + 0x38);
LAB_00114eec:
              uVar42 = uVar42 | 0x40000;
              break;
            case 7:
              uVar58 = *(undefined8 *)(*(long *)(pIVar5 + 0x298) + 0x10);
              break;
            case 8:
              uVar58 = *(undefined8 *)(*(long *)(pIVar5 + 0x298) + 0xa8);
              break;
            case 0xb:
              uVar58 = *(undefined8 *)(pIVar5 + 0x298);
            }
            uVar36 = uVar42;
            if (*(int *)(pIVar5 + 0xd8) != 0) {
              uVar36 = uVar42 | 0x300;
              if (*(int *)(pIVar5 + 0xd8) != 3) {
                uVar36 = uVar42 | 0x100;
              }
            }
            uVar36 = ((byte)pIVar5[0xe0] >> 3 & 1) << 0x10 | ((byte)pIVar5[0xe0] >> 5 & 1) << 10 |
                     uVar36;
            if (*(long *)(pIVar5 + 0x28) != 0) {
              uVar36 = uVar36 | 0x20000;
            }
            IVar3 = pIVar5[0xc4];
            IVar50 = pIVar5[0xc5];
            uVar42 = (uint)uVar43 & *(uint *)(lVar37 + 0x1e8);
            if (uVar42 == 0) {
              uVar20 = 1;
              uVar42 = 0;
              if (uVar43 != 0) {
                iVar17 = (int)(uVar43 - 1 >> ((byte)*(undefined4 *)(lVar37 + 0x1e4) & 0x3f));
                uVar42 = iVar17 + 1;
                uVar20 = iVar17 + 2;
              }
              uVar21 = *(uint *)(lVar37 + 0x1e0);
              plVar35 = *(long **)(lVar37 + 0x1c8);
              if (uVar20 <= uVar21) {
LAB_00115408:
                plVar1 = plVar35 + 4;
                while( true ) {
                  uVar24 = (ulong)local_2b8 >> 8;
                  local_2b8 = (Instance *)(uVar24 << 8);
                  LOCK();
                  bVar51 = (char)*plVar1 == '\0';
                  if (bVar51) {
                    *(char *)plVar1 = '\x01';
                  }
                  UNLOCK();
                  if (bVar51) break;
                  local_2b8 = (Instance *)(uVar24 << 8);
                  do {
                  } while ((char)*plVar1 != '\0');
                }
                if ((int)plVar35[3] == 0) {
                  uVar20 = *(uint *)(plVar35 + 1);
                  *(uint *)(plVar35 + 1) = uVar20 + 1;
                  lVar22 = Memory::realloc_static((void *)*plVar35,(ulong)(uVar20 + 1) * 8,false);
                  *plVar35 = lVar22;
                  lVar22 = Memory::realloc_static
                                     ((void *)plVar35[2],(ulong)*(uint *)(plVar35 + 1) << 2,false);
                  plVar35[2] = lVar22;
                  lVar22 = *plVar35;
                  uVar31 = Memory::alloc_static((ulong)*(uint *)((long)plVar35 + 0x1c) * 0x30,false)
                  ;
                  *(undefined8 *)(lVar22 + (ulong)uVar20 * 8) = uVar31;
                  puVar23 = (uint *)plVar35[2];
                  *puVar23 = uVar20;
                  uVar20 = *(uint *)(plVar35 + 3);
                }
                else {
                  puVar23 = (uint *)plVar35[2];
                  uVar20 = (int)plVar35[3] - 1;
                }
                *(uint *)(plVar35 + 3) = uVar20;
                uVar20 = puVar23[uVar20];
                uVar31 = *(undefined8 *)(*plVar35 + (ulong)uVar20 * 8);
                *(char *)plVar1 = '\0';
                lVar22 = *(long *)(lVar37 + 0x1d0);
                uVar43 = *(ulong *)(lVar37 + 0x1f0);
                *(undefined8 *)(lVar22 + (ulong)uVar42 * 8) = uVar31;
                *(uint *)(*(long *)(lVar37 + 0x1d8) + (ulong)uVar42 * 4) = uVar20;
                uVar42 = *(uint *)(lVar37 + 0x1e8) & (uint)uVar43;
                goto LAB_0011475a;
              }
              if (plVar35 != (long *)0x0) {
                if (uVar21 == 0) {
                  uVar24 = 8;
                  uVar21 = 1;
                }
                else {
                  uVar21 = uVar21 * 2;
                  uVar24 = (ulong)uVar21 << 3;
                }
                *(uint *)(lVar37 + 0x1e0) = uVar21;
                uVar31 = Memory::realloc_static(*(void **)(lVar37 + 0x1d0),uVar24,false);
                *(undefined8 *)(lVar37 + 0x1d0) = uVar31;
                uVar31 = Memory::realloc_static
                                   (*(void **)(lVar37 + 0x1d8),(ulong)*(uint *)(lVar37 + 0x1e0) << 2
                                    ,false);
                plVar35 = *(long **)(lVar37 + 0x1c8);
                *(undefined8 *)(lVar37 + 0x1d8) = uVar31;
                goto LAB_00115408;
              }
              _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                               "Parameter \"page_pool\" is null.",0,0);
            }
            else {
              lVar22 = *(long *)(lVar37 + 0x1d0);
LAB_0011475a:
              puVar28 = (undefined8 *)
                        ((ulong)uVar42 * 0x30 +
                        *(long *)(lVar22 + (uVar43 >> ((byte)*(undefined4 *)(lVar37 + 0x1e4) & 0x3f)
                                           & 0xffffffff) * 8));
              *puVar28 = CONCAT44(uVar2,-(uint)(byte)IVar3 & 0x80000 |
                                        -(uint)(byte)IVar50 & 0x1000000 | uVar36);
              puVar28[3] = pIVar5;
              puVar28[5] = 0;
              puVar28[1] = uVar25;
              puVar28[2] = uVar58;
              puVar28[4] = CONCAT44(uVar4,uVar47);
              *(ulong *)(lVar37 + 0x1f0) = uVar43 + 1;
            }
            fVar53 = *(float *)(pIVar5 + 0x138);
            lVar37 = *(long *)(pIVar5 + 0x208);
            fVar60 = *(float *)(pIVar5 + 0x144);
            uVar2 = *(undefined4 *)(pIVar5 + 0x140);
            uVar24 = *(ulong *)(lVar37 + 0x1c0);
            uVar31 = *(undefined8 *)(pIVar5 + 0x138);
            uVar25 = *(undefined8 *)(pIVar5 + 0x13c);
            uVar58 = *(undefined8 *)(pIVar5 + 0x148);
            uVar42 = (uint)uVar24 & *(uint *)(lVar37 + 0x1b8);
            if (uVar42 == 0) {
              uVar36 = 1;
              uVar42 = 0;
              if (uVar24 != 0) {
                iVar17 = (int)(uVar24 - 1 >> ((byte)*(undefined4 *)(lVar37 + 0x1b4) & 0x3f));
                uVar42 = iVar17 + 1;
                uVar36 = iVar17 + 2;
              }
              uVar20 = *(uint *)(lVar37 + 0x1b0);
              plVar35 = *(long **)(lVar37 + 0x198);
              if (uVar36 <= uVar20) {
LAB_001154a7:
                plVar1 = plVar35 + 4;
                while( true ) {
                  uVar24 = (ulong)local_2b8 >> 8;
                  local_2b8 = (Instance *)(uVar24 << 8);
                  LOCK();
                  bVar51 = (char)*plVar1 == '\0';
                  if (bVar51) {
                    *(char *)plVar1 = '\x01';
                  }
                  UNLOCK();
                  if (bVar51) break;
                  local_2b8 = (Instance *)(uVar24 << 8);
                  do {
                  } while ((char)*plVar1 != '\0');
                }
                if ((int)plVar35[3] == 0) {
                  uVar36 = *(uint *)(plVar35 + 1);
                  *(uint *)(plVar35 + 1) = uVar36 + 1;
                  lVar22 = Memory::realloc_static((void *)*plVar35,(ulong)(uVar36 + 1) * 8,false);
                  *plVar35 = lVar22;
                  lVar22 = Memory::realloc_static
                                     ((void *)plVar35[2],(ulong)*(uint *)(plVar35 + 1) << 2,false);
                  plVar35[2] = lVar22;
                  lVar22 = *plVar35;
                  uVar32 = Memory::alloc_static((ulong)*(uint *)((long)plVar35 + 0x1c) * 0x18,false)
                  ;
                  *(undefined8 *)(lVar22 + (ulong)uVar36 * 8) = uVar32;
                  puVar23 = (uint *)plVar35[2];
                  *puVar23 = uVar36;
                  uVar36 = *(uint *)(plVar35 + 3);
                }
                else {
                  puVar23 = (uint *)plVar35[2];
                  uVar36 = (int)plVar35[3] - 1;
                }
                *(uint *)(plVar35 + 3) = uVar36;
                uVar36 = puVar23[uVar36];
                uVar32 = *(undefined8 *)(*plVar35 + (ulong)uVar36 * 8);
                *(char *)plVar1 = '\0';
                lVar22 = *(long *)(lVar37 + 0x1a0);
                *(undefined8 *)(lVar22 + (ulong)uVar42 * 8) = uVar32;
                *(uint *)(*(long *)(lVar37 + 0x1a8) + (ulong)uVar42 * 4) = uVar36;
                uVar24 = *(ulong *)(lVar37 + 0x1c0);
                uVar42 = *(uint *)(lVar37 + 0x1b8) & (uint)uVar24;
                goto LAB_0011481f;
              }
              if (plVar35 != (long *)0x0) {
                if (uVar20 == 0) {
                  uVar24 = 8;
                  uVar20 = 1;
                }
                else {
                  uVar20 = uVar20 * 2;
                  uVar24 = (ulong)uVar20 << 3;
                }
                *(uint *)(lVar37 + 0x1b0) = uVar20;
                uVar32 = Memory::realloc_static(*(void **)(lVar37 + 0x1a0),uVar24,false);
                *(undefined8 *)(lVar37 + 0x1a0) = uVar32;
                uVar32 = Memory::realloc_static
                                   (*(void **)(lVar37 + 0x1a8),(ulong)*(uint *)(lVar37 + 0x1b0) << 2
                                    ,false);
                plVar35 = *(long **)(lVar37 + 0x198);
                *(undefined8 *)(lVar37 + 0x1a8) = uVar32;
                goto LAB_001154a7;
              }
              _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                               "Parameter \"page_pool\" is null.",0,0);
            }
            else {
              lVar22 = *(long *)(lVar37 + 0x1a0);
LAB_0011481f:
              puVar28 = (undefined8 *)
                        (*(long *)(lVar22 + (uVar24 >> ((byte)*(undefined4 *)(lVar37 + 0x1b4) & 0x3f
                                                       ) & 0xffffffff) * 8) + (ulong)uVar42 * 0x18);
              *puVar28 = uVar31;
              puVar28[1] = CONCAT44(fVar60 + fVar53,uVar2);
              puVar28[2] = CONCAT44((float)((ulong)uVar58 >> 0x20) + (float)((ulong)uVar25 >> 0x20),
                                    (float)uVar58 + (float)uVar25);
              *(ulong *)(lVar37 + 0x1c0) = uVar24 + 1;
            }
            _update_instance_visibility_dependencies(this,pIVar5);
          }
          else {
            _local_1c8 = auVar11;
            cVar13 = AABB::operator!=((AABB *)local_168,pIVar5 + 0x150);
            auVar11 = _local_1c8;
            if (cVar13 != '\0') {
              AABB::merge((AABB *)&local_d8);
              fVar53 = fStack_c8;
              if (fStack_c8 <= fStack_cc) {
                fVar53 = fStack_cc;
              }
              fVar60 = *(float *)(pIVar5 + 0x148);
              if (*(float *)(pIVar5 + 0x148) <= *(float *)(pIVar5 + 0x144)) {
                fVar60 = *(float *)(pIVar5 + 0x144);
              }
              fVar52 = local_c4;
              if (local_c4 <= fVar53) {
                fVar52 = fVar53;
              }
              fVar53 = *(float *)(pIVar5 + 0x14c);
              if (*(float *)(pIVar5 + 0x14c) <= fVar60) {
                fVar53 = fVar60;
              }
              auVar11 = _local_1c8;
              if (fVar52 < fVar53 + fVar53) {
                fVar53 = logf(fVar52);
                dVar54 = (double)fVar53 / __LC219;
                if ((double)((ulong)dVar54 & _LC224) < _LC220) {
                  dVar54 = (double)((ulong)((double)(long)dVar54 +
                                           (double)(-(ulong)((double)(long)dVar54 < dVar54) &
                                                   (ulong)_LC104)) | ~_LC224 & (ulong)dVar54);
                }
                dVar54 = pow(_LC202,dVar54);
                fVar55 = (float)uStack_160;
                fVar52 = local_168[1];
                fVar60 = local_168[0];
                fVar59 = uStack_160._4_4_ + local_168[0];
                __y = (float)(dVar54 * __LC222);
                __x = local_168[1] + fStack_158;
                fVar61 = (float)uStack_160 + fStack_154;
                fVar53 = local_168[0];
                do {
                  fVar53 = fVar53 - (fVar53 / __y) * __y;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar53)) {
                  fmodf(local_168[0],__y);
                }
                else if (fVar53 < 0.0) {
                  fVar53 = fVar53 + __y;
                }
                fVar60 = fVar60 - (fVar53 + 0.0);
                fVar53 = fVar52;
                do {
                  fVar53 = fVar53 - (fVar53 / __y) * __y;
                } while ((in_FPUStatusWord & 0x400) != 0);
                local_168[0] = fVar60;
                if (NAN(fVar53)) {
                  fmodf(fVar52,__y);
                }
                else if (fVar53 < 0.0) {
                  fVar53 = fVar53 + __y;
                }
                fVar52 = fVar52 - (fVar53 + 0.0);
                fVar53 = fVar55;
                do {
                  fVar53 = fVar53 - (fVar53 / __y) * __y;
                } while ((in_FPUStatusWord & 0x400) != 0);
                local_168[1] = fVar52;
                if (NAN(fVar53)) {
                  fmodf(fVar55,__y);
                }
                else if (fVar53 < 0.0) {
                  fVar53 = fVar53 + __y;
                }
                fVar55 = fVar55 - (fVar53 + 0.0);
                fVar53 = fVar59;
                do {
                  fVar53 = fVar53 - (fVar53 / __y) * __y;
                } while ((in_FPUStatusWord & 0x400) != 0);
                uStack_160._0_4_ = fVar55;
                if (NAN(fVar53)) {
                  fmodf(fVar59,__y);
                }
                else if (fVar53 < 0.0) {
                  fVar53 = fVar53 + __y;
                }
                fVar56 = __x;
                do {
                  fVar56 = fVar56 - (fVar56 / __y) * __y;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar56)) {
                  fmodf(__x,__y);
                }
                else if (fVar56 < 0.0) {
                  fVar56 = fVar56 + __y;
                }
                fVar57 = fVar61;
                do {
                  fVar57 = fVar57 - (fVar57 / __y) * __y;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar57)) {
                  fmodf(fVar61,__y);
                  auVar11 = _local_1c8;
                }
                else {
                  auVar11 = _local_1c8;
                  if (fVar57 < 0.0) {
                    fVar57 = fVar57 + __y;
                  }
                }
                uStack_160._4_4_ = ((fVar59 - (fVar53 + 0.0)) + __y) - fVar60;
                fStack_158 = ((__x - (fVar56 + 0.0)) + __y) - fVar52;
                fStack_154 = ((fVar61 - (fVar57 + 0.0)) + __y) - fVar55;
              }
            }
            uVar42 = *(uint *)pIVar5;
            pIVar41 = *(ID **)(pIVar5 + 0x208);
            if (*(long *)(pIVar5 + 0x1a8) == 0) goto LAB_00113bbc;
            if ((0xe >> ((byte)uVar42 & 0x1f) & 1U) == 0) {
              pIVar41 = pIVar41 + 0x80;
            }
            _local_1c8 = auVar11;
            DynamicBVH::update(pIVar41,pIVar5 + 0x1a8);
            lVar37 = *(long *)(pIVar5 + 0x208);
            fVar53 = *(float *)(pIVar5 + 0x138);
            fVar60 = *(float *)(pIVar5 + 0x144);
            uVar24 = (ulong)(int)*(uint *)(pIVar5 + 0x1b0);
            uVar2 = *(undefined4 *)(pIVar5 + 0x140);
            local_328 = *(ulong *)(lVar37 + 0x1c0);
            uVar25 = *(undefined8 *)(pIVar5 + 0x148);
            uVar58 = *(undefined8 *)(pIVar5 + 0x13c);
            if (local_328 <= uVar24) {
              iVar17 = 0xb0;
              pcVar40 = "./core/templates/paged_array.h";
              pcVar63 = "count";
              goto LAB_001148b1;
            }
            puVar28 = (undefined8 *)
                      (*(long *)(*(long *)(lVar37 + 0x1a0) +
                                (uVar24 >> ((byte)*(undefined4 *)(lVar37 + 0x1b4) & 0x3f) &
                                0xffffffff) * 8) +
                      (ulong)(*(uint *)(pIVar5 + 0x1b0) & *(uint *)(lVar37 + 0x1b8)) * 0x18);
            *puVar28 = *(undefined8 *)(pIVar5 + 0x138);
            puVar28[1] = CONCAT44(fVar60 + fVar53,uVar2);
            puVar28[2] = CONCAT44((float)((ulong)uVar58 >> 0x20) + (float)((ulong)uVar25 >> 0x20),
                                  (float)uVar58 + (float)uVar25);
          }
          uVar42 = *(uint *)(pIVar5 + 0x1b4);
          if (uVar42 != 0xffffffff) {
            uVar24 = (ulong)(int)uVar42;
            lVar37 = *(long *)(pIVar5 + 0x208);
            local_328 = *(ulong *)(lVar37 + 0x228);
            fVar60 = _LC131 * *(float *)(pIVar5 + 0x14c);
            fVar53 = *(float *)(pIVar5 + 0x140);
            if (local_328 <= uVar24) {
LAB_00114887:
              iVar17 = 0xb0;
              pcVar40 = "./core/templates/paged_array.h";
              pcVar63 = "count";
LAB_001148b1:
              _err_print_index_error
                        ("operator[]",pcVar40,iVar17,uVar24,local_328,"p_index",pcVar63,"",false,
                         true);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar7 = (code *)invalidInstructionException();
              (*pcVar7)();
            }
            lVar37 = (ulong)(uVar42 & *(uint *)(lVar37 + 0x220)) * 0x40 +
                     *(long *)(*(long *)(lVar37 + 0x208) +
                              (uVar24 >> ((byte)*(undefined4 *)(lVar37 + 0x21c) & 0x3f) & 0xffffffff
                              ) * 8);
            *(ulong *)(lVar37 + 0x10) =
                 CONCAT44((float)((ulong)*(undefined8 *)(pIVar5 + 0x144) >> 0x20) * _UNK_00138ca4 +
                          (float)((ulong)*(undefined8 *)(pIVar5 + 0x138) >> 0x20),
                          (float)*(undefined8 *)(pIVar5 + 0x144) * _LC131 +
                          (float)*(undefined8 *)(pIVar5 + 0x138));
            *(float *)(lVar37 + 0x18) = fVar60 + fVar53;
          }
          local_2b0 = this + 0x1f8;
          local_278 = 0xffffffff;
          local_2a8 = (undefined1  [16])0x0;
          local_280 = *(long *)(this + 0x2e0) + 1;
          local_298 = (undefined1  [16])0x0;
          *(long *)(this + 0x2e0) = local_280;
          uVar42 = *(uint *)pIVar5;
          local_288 = 0;
          local_2b8 = pIVar5;
          if ((0xeU >> (uVar42 & 0x1f) & 1) == 0) {
            if (uVar42 == 5) {
              local_288 = 0xe;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar5 + 0x208);
              iVar17 = (**(code **)(*RenderingServerGlobals::light_storage + 0x120))
                                 (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar5 + 8))
              ;
              if (iVar17 - 1U < 2) {
                local_288 = local_288 | 0x100;
                local_298._8_8_ = *(long *)(pIVar5 + 0x208) + 0x80;
              }
              local_278 = (**(code **)(*RenderingServerGlobals::light_storage + 0x138))
                                    (RenderingServerGlobals::light_storage,
                                     *(undefined8 *)(pIVar5 + 8));
            }
            else if ((uVar42 == 9) || (((*(uint *)(this + 0x9828) & 0x40) != 0 && (uVar42 == 6)))) {
              local_288 = 0xe;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar5 + 0x208);
            }
            else if (((char)*(uint *)(this + 0x9828) < '\0') && (uVar42 == 7)) {
              local_288 = 0xe;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar5 + 0x208);
              local_278 = (**(code **)(*RenderingServerGlobals::texture_storage + 0x1b0))
                                    (RenderingServerGlobals::texture_storage,
                                     *(undefined8 *)(pIVar5 + 8));
            }
            else if (uVar42 == 4) {
              local_288 = 8;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar5 + 0x208);
            }
            else if (uVar42 == 8) {
              local_288 = 0x2e;
              local_298._8_8_ = *(long *)(pIVar5 + 0x208) + 0x80;
              local_298._0_8_ = *(long *)(pIVar5 + 0x208);
            }
          }
          else {
            local_288 = 800;
            if (uVar42 == 3) {
              local_288 = 0x330;
            }
            local_288 = local_288 | *(uint *)(this + 0x9828);
            auVar9._8_8_ = 0;
            auVar9._0_8_ = *(long *)(pIVar5 + 0x208) + 0x80;
            local_298 = auVar9 << 0x40;
          }
          PairInstances::pair((PairInstances *)&local_2b8);
          *(undefined8 *)(pIVar5 + 0x160) = *(undefined8 *)(pIVar5 + 0x148);
          *(undefined1 (*) [16])(pIVar5 + 0x150) = *(undefined1 (*) [16])(pIVar5 + 0x138);
          auVar11 = _local_1c8;
        }
      }
      else {
LAB_00113921:
        local_1c0 = auVar11._8_8_;
        if (0.0 < *(float *)(pIVar5 + 0x134)) {
          uVar42 = *(uint *)pIVar5;
          goto joined_r0x00112eb2;
        }
      }
switchD_00112e56_caseD_0:
      *(undefined2 *)(pIVar5 + 0x230) = 0;
      _local_1c8 = auVar11;
    }
    else {
      *(int *)(pIVar5 + 0x2d0) = *(int *)(pIVar5 + 0x2d0) + 1;
      this_00 = (DependencyTracker *)(pIVar5 + 0x2b8);
      if (*(long *)(pIVar5 + 8) != 0) {
        (**(code **)(*RenderingServerGlobals::utilities + 0x20))
                  (RenderingServerGlobals::utilities,*(undefined8 *)(pIVar5 + 8),this_00);
      }
      if (*(long *)(pIVar5 + 0x18) != 0) {
        (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                  (RenderingServerGlobals::material_storage,*(undefined8 *)(pIVar5 + 0x18),this_00);
      }
      if (*(long *)(pIVar5 + 0x20) != 0) {
        (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                  (RenderingServerGlobals::material_storage,*(undefined8 *)(pIVar5 + 0x20),this_00);
      }
      uVar42 = *(uint *)pIVar5;
      if (uVar42 == 1) {
        iVar17 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x80))
                           (RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar5 + 8));
        CowData<RID>::resize<false>((CowData<RID> *)(pIVar5 + 0xd0),(long)iVar17);
        _instance_update_mesh_instance(this,pIVar5);
        uVar42 = *(uint *)pIVar5;
      }
      if (uVar42 == 3) {
        lVar37 = (**(code **)(*RenderingServerGlobals::particles_storage + 0xa0))
                           (RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar5 + 8));
        if (lVar37 != 0) {
          (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                    (RenderingServerGlobals::material_storage,lVar37,this_00);
        }
        uVar42 = *(uint *)pIVar5;
      }
      if ((0xeU >> (uVar42 & 0x1f) & 1) != 0) {
        lVar37 = *(long *)(pIVar5 + 0x298);
        pIVar6 = pIVar5 + 0x168;
        InstanceUniforms::materials_start();
        iVar17 = *(int *)(pIVar5 + 0xd8);
        IVar50 = (Instance)(iVar17 != 0);
        if (*(long *)(pIVar5 + 0x18) == 0) {
          iVar18 = *(int *)pIVar5;
          if (iVar18 == 1) {
            lVar22 = *(long *)(pIVar5 + 8);
            if (lVar22 == 0) goto LAB_001145af;
            lVar29 = *(long *)(pIVar5 + 0xd0);
            local_3a8 = '\0';
            IVar45 = (Instance)0x0;
            if (lVar29 != 0) {
              uVar24 = 0;
              do {
                if (*(long *)(lVar29 + -8) <= (long)uVar24) break;
                lVar29 = *(long *)(lVar29 + uVar24 * 8);
                if (lVar29 == 0) {
                  lVar29 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x70))
                                     (RenderingServerGlobals::mesh_storage,lVar22,
                                      uVar24 & 0xffffffff);
                  IVar16 = IVar3;
                  if (lVar29 != 0) goto LAB_00114d9d;
                }
                else {
LAB_00114d9d:
                  IVar16 = (Instance)
                           (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                     (RenderingServerGlobals::material_storage,lVar29);
                  if (IVar16 == (Instance)0x0) {
                    IVar16 = IVar45;
                  }
                  cVar13 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                     (RenderingServerGlobals::material_storage,lVar29);
                  if (cVar13 != '\0') {
                    local_3a8 = cVar13;
                  }
                  InstanceUniforms::materials_append(pIVar6,lVar29);
                  (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                            (RenderingServerGlobals::material_storage,lVar29,this_00);
                }
                IVar45 = IVar16;
                lVar29 = *(long *)(pIVar5 + 0xd0);
                uVar24 = uVar24 + 1;
              } while (lVar29 != 0);
              lVar22 = *(long *)(pIVar5 + 0x20);
              if (IVar45 != (Instance)0x0) goto LAB_00113acf;
LAB_00115352:
              IVar50 = IVar45;
              if (lVar22 == 0) goto LAB_00113b1e;
              goto LAB_00113afc;
            }
LAB_001159a2:
            if (*(long *)(pIVar5 + 0x20) != 0) goto LAB_00114679;
            local_3a8 = '\0';
            IVar50 = (Instance)0x0;
          }
          else {
            if (iVar18 == 2) {
              lVar22 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x168))
                                 (RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar5 + 8));
              if (lVar22 != 0) {
                iVar17 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x80))
                                   (RenderingServerGlobals::mesh_storage,lVar22);
                if (iVar17 < 1) {
                  local_3a8 = '\0';
LAB_0011553f:
                  IVar50 = (Instance)0x0;
                }
                else {
                  local_3a8 = '\0';
                  iVar18 = 0;
                  IVar45 = (Instance)0x0;
                  do {
                    lVar29 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x70))
                                       (RenderingServerGlobals::mesh_storage,lVar22,iVar18);
                    IVar16 = IVar3;
                    if (lVar29 != 0) {
                      IVar16 = (Instance)
                               (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                         (RenderingServerGlobals::material_storage,lVar29);
                      if (IVar16 != (Instance)0x0) {
                        IVar45 = IVar16;
                      }
                      cVar13 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                         (RenderingServerGlobals::material_storage,lVar29);
                      if (cVar13 != '\0') {
                        local_3a8 = cVar13;
                      }
                      InstanceUniforms::materials_append(pIVar6,lVar29);
                      (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                                (RenderingServerGlobals::material_storage,lVar29,this_00);
                      IVar16 = IVar45;
                    }
                    iVar18 = iVar18 + 1;
                    IVar45 = IVar16;
                  } while (iVar17 != iVar18);
                  if (IVar16 == (Instance)0x0) goto LAB_0011553f;
                }
                (**(code **)(*RenderingServerGlobals::utilities + 0x20))
                          (RenderingServerGlobals::utilities,lVar22,this_00);
                goto LAB_00113acf;
              }
            }
            else if (iVar18 == 3) {
              iVar17 = (**(code **)(*RenderingServerGlobals::particles_storage + 0x150))
                                 (RenderingServerGlobals::particles_storage,
                                  *(undefined8 *)(pIVar5 + 8));
              if (iVar17 < 1) goto LAB_001159a2;
              iVar18 = 0;
              local_3a8 = '\0';
              IVar45 = (Instance)0x0;
              do {
                while( true ) {
                  lVar22 = (**(code **)(*RenderingServerGlobals::particles_storage + 0x158))
                                     (RenderingServerGlobals::particles_storage,
                                      *(undefined8 *)(pIVar5 + 8),iVar18);
                  if (lVar22 != 0) break;
LAB_00115231:
                  iVar18 = iVar18 + 1;
                  if (iVar17 == iVar18) goto LAB_00115336;
                }
                iVar19 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x80))
                                   (RenderingServerGlobals::mesh_storage,lVar22);
                if (iVar19 < 1) goto LAB_00115231;
                iVar48 = 0;
                do {
                  while( true ) {
                    lVar29 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x70))
                                       (RenderingServerGlobals::mesh_storage,lVar22,iVar48);
                    if (lVar29 != 0) break;
                    iVar48 = iVar48 + 1;
                    IVar45 = IVar3;
                    if (iVar19 == iVar48) goto LAB_00115319;
                  }
                  IVar16 = (Instance)
                           (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                     (RenderingServerGlobals::material_storage,lVar29);
                  if (IVar16 != (Instance)0x0) {
                    IVar45 = IVar16;
                  }
                  cVar13 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                     (RenderingServerGlobals::material_storage,lVar29);
                  if (cVar13 != '\0') {
                    local_3a8 = cVar13;
                  }
                  iVar48 = iVar48 + 1;
                  InstanceUniforms::materials_append(pIVar6,lVar29);
                  (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                            (RenderingServerGlobals::material_storage,lVar29,this_00);
                } while (iVar19 != iVar48);
LAB_00115319:
                iVar18 = iVar18 + 1;
              } while (iVar17 != iVar18);
LAB_00115336:
              lVar22 = *(long *)(pIVar5 + 0x20);
              if (IVar45 == (Instance)0x0) goto LAB_00115352;
              goto LAB_00113acf;
            }
LAB_001145af:
            if (*(long *)(pIVar5 + 0x20) != 0) {
              if (iVar17 != 0) {
                local_3a8 = '\0';
                goto LAB_00113adb;
              }
LAB_00114679:
              IVar50 = (Instance)0x0;
              goto LAB_0011467c;
            }
            local_3a8 = '\0';
          }
        }
        else {
          cVar13 = (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                             (RenderingServerGlobals::material_storage,*(long *)(pIVar5 + 0x18));
          IVar50 = (Instance)(cVar13 != '\0' && (bool)IVar50);
          local_3a8 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                (RenderingServerGlobals::material_storage,
                                 *(undefined8 *)(pIVar5 + 0x18));
          InstanceUniforms::materials_append(pIVar6,*(undefined8 *)(pIVar5 + 0x18));
LAB_00113acf:
          if (*(long *)(pIVar5 + 0x20) != 0) {
            if (IVar50 != (Instance)0x0) {
LAB_00113adb:
              IVar50 = (Instance)
                       (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                 (RenderingServerGlobals::material_storage,
                                  *(undefined8 *)(pIVar5 + 0x20));
            }
LAB_00113afc:
            if (local_3a8 == '\0') {
LAB_0011467c:
              local_3a8 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                    (RenderingServerGlobals::material_storage,
                                     *(undefined8 *)(pIVar5 + 0x20));
            }
            InstanceUniforms::materials_append(pIVar6,*(undefined8 *)(pIVar5 + 0x20));
          }
        }
LAB_00113b1e:
        if (*(Instance *)(lVar37 + 0x38) != IVar50) {
          iVar17 = *(int *)(lVar37 + 0x34);
          if (iVar17 != 0) {
            plVar35 = *(long **)(lVar37 + 0x10);
            iVar18 = 0;
            while( true ) {
              iVar18 = iVar18 + 1;
              *(uint *)(*(long *)(*plVar35 + 0x298) + 0x60) =
                   2 - (uint)*(byte *)(*(long *)(*plVar35 + 0x298) + 0x68);
              if (iVar17 <= iVar18) break;
              plVar35 = plVar35 + 1;
            }
          }
          *(Instance *)(lVar37 + 0x38) = IVar50;
        }
        uVar25 = *(undefined8 *)(pIVar5 + 0x1a0);
        *(char *)(lVar37 + 0x39) = local_3a8;
        cVar13 = InstanceUniforms::materials_finish(pIVar6,uVar25);
        if (cVar13 != '\0') {
          (**(code **)(**(long **)(lVar37 + 8) + 0x98))
                    (*(long **)(lVar37 + 8),*(undefined4 *)(pIVar5 + 0x168));
        }
      }
      if (*(long *)(pIVar5 + 0x10) != 0) {
        (**(code **)(*RenderingServerGlobals::mesh_storage + 0x300))
                  (RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar5 + 0x10),this_00);
      }
      DependencyTracker::update_end(this_00);
      if ((0xeU >> (*(uint *)pIVar5 & 0x1f) & 1) == 0) goto LAB_00112db7;
      plVar35 = *(long **)(*(long *)(pIVar5 + 0x298) + 8);
      if (plVar35 != (long *)0x0) {
        (**(code **)(*plVar35 + 0x30))(plVar35,pIVar5 + 200);
        goto LAB_00112db7;
      }
      _err_print_error("_update_dirty_instance","servers/rendering/renderer_scene_cull.cpp",0x1064,
                       "Parameter \"geom->geometry_instance\" is null.",0,0);
    }
    lVar37 = *(long *)(this + 0x260);
  } while( true );
}



/* RendererSceneCull::instance_geometry_get_shader_parameter_list(RID, List<PropertyInfo,
   DefaultAllocator>*) const */

void __thiscall
RendererSceneCull::instance_geometry_get_shader_parameter_list
          (RendererSceneCull *this,ulong param_2,long param_3)

{
  int iVar1;
  long lVar2;
  
  if (param_3 == 0) {
    _err_print_error("instance_geometry_get_shader_parameter_list",
                     "servers/rendering/renderer_scene_cull.cpp",0x67d,
                     "Parameter \"p_parameters\" is null.",0,0);
    return;
  }
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x97ec))) {
    lVar2 = ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(this + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8);
    iVar1 = *(int *)(lVar2 + 0x300);
    if (iVar1 == (int)(param_2 >> 0x20)) {
      update_dirty_instances(this);
      InstanceUniforms::get_property_list((List *)(lVar2 + 0x168));
      return;
    }
    if (iVar1 + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
  }
  _err_print_error("instance_geometry_get_shader_parameter_list",
                   "servers/rendering/renderer_scene_cull.cpp",0x67f,
                   "Parameter \"instance\" is null.",0,0);
  return;
}



/* WARNING: Removing unreachable block (ram,0x00115f7e) */
/* WARNING: Removing unreachable block (ram,0x001160f6) */
/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* RendererSceneCull::instances_cull_aabb(AABB const&, RID) const */

long RendererSceneCull::instances_cull_aabb
               (long param_1,RendererSceneCull *param_2,float *param_3,ulong param_4)

{
  long *plVar1;
  code *pcVar2;
  float fVar3;
  int iVar4;
  uint uVar5;
  long lVar6;
  float ******ppppppfVar7;
  float ******ppppppfVar8;
  float ******ppppppfVar9;
  int iVar10;
  int iVar11;
  undefined1 *puVar12;
  undefined1 *puVar13;
  undefined8 *puVar14;
  undefined8 *puVar15;
  long lVar16;
  float fVar17;
  float fVar18;
  float ******ppppppfVar19;
  int iVar20;
  float *****pppppfVar21;
  long in_FS_OFFSET;
  byte bVar22;
  float fVar23;
  float fVar24;
  float fVar25;
  float fVar26;
  float fVar27;
  float fVar28;
  undefined1 auStack_4c8 [8];
  float *****apppppfStack_4c0 [126];
  undefined8 uStack_d0;
  undefined8 uStack_c8;
  undefined8 local_c0;
  undefined1 auStack_b8 [8];
  float *****local_b0;
  float *****local_a8;
  float local_9c;
  float *****local_98;
  float *****local_90;
  float *****local_88;
  float *****local_80;
  long local_78;
  long local_70;
  float local_68;
  float local_64;
  float local_60;
  float local_5c;
  Vector<ObjectID> local_58 [8];
  long local_50 [2];
  long local_40;
  
  bVar22 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_4 != 0) && ((uint)param_4 < *(uint *)(param_2 + 0x1bc))) {
    lVar16 = *(long *)(*(long *)(param_2 + 0x1a8) +
                      ((param_4 & 0xffffffff) / (ulong)*(uint *)(param_2 + 0x1b8)) * 8) +
             ((param_4 & 0xffffffff) % (ulong)*(uint *)(param_2 + 0x1b8)) * 0x248;
    if (*(int *)(lVar16 + 0x240) == (int)(param_4 >> 0x20)) {
      local_c0 = 0x115f32;
      update_dirty_instances(param_2);
      ppppppfVar19 = *(float *******)(lVar16 + 0x68);
      local_50[0] = 0;
      puVar12 = auStack_b8;
      if (ppppppfVar19 != (float ******)0x0) {
        fVar27 = param_3[2];
        fVar26 = param_3[1];
        fVar24 = *param_3;
        fVar28 = param_3[5] + fVar27;
        fVar25 = param_3[4] + fVar26;
        fVar23 = param_3[3] + fVar24;
        ppppppfVar8 = (float ******)0x0;
        iVar10 = 0x7e;
        local_5c = 0.0;
        ppppppfVar9 = apppppfStack_4c0;
        apppppfStack_4c0[0] = (float *****)ppppppfVar19;
        ppppppfVar7 = ppppppfVar9;
        iVar20 = 1;
        fVar17 = 0.0;
        do {
          iVar4 = iVar20 + -1;
          iVar11 = iVar4;
          fVar18 = fVar17;
          if ((((fVar23 < *(float *)ppppppfVar19) || (*(float *)((long)ppppppfVar19 + 0xc) < fVar24)
               ) || (fVar25 < *(float *)((long)ppppppfVar19 + 4))) ||
             (((*(float *)(ppppppfVar19 + 2) < fVar26 || (fVar28 < *(float *)(ppppppfVar19 + 1))) ||
              (*(float *)((long)ppppppfVar19 + 0x14) < fVar27)))) {
LAB_00116408:
            if (iVar11 == 0) goto LAB_001160a0;
          }
          else {
            if (ppppppfVar19[5] == (float *****)0x0) {
              if (ppppppfVar19[4][0x4d] != (float ****)0x0) {
                local_88 = (float *****)CONCAT44(local_88._4_4_,iVar10);
                local_78 = CONCAT44(local_78._4_4_,iVar4);
                local_98 = (float *****)CONCAT44(local_98._4_4_,fVar25);
                local_90 = (float *****)CONCAT44(local_90._4_4_,fVar28);
                local_70 = CONCAT44(local_70._4_4_,fVar24);
                local_b0 = (float *****)ppppppfVar9;
                local_a8 = (float *****)ppppppfVar7;
                local_9c = fVar23;
                local_80 = (float *****)ppppppfVar8;
                local_68 = fVar17;
                local_64 = fVar26;
                local_60 = fVar27;
                Vector<ObjectID>::push_back(local_58);
                ppppppfVar9 = (float ******)local_b0;
                ppppppfVar7 = (float ******)local_a8;
                ppppppfVar8 = (float ******)local_80;
                fVar23 = local_9c;
                fVar24 = (float)local_70;
                fVar25 = local_98._0_4_;
                fVar26 = local_64;
                fVar27 = local_60;
                fVar28 = local_90._0_4_;
                iVar11 = (int)(float)local_78;
                fVar18 = local_68;
                iVar10 = (int)local_88._0_4_;
              }
              goto LAB_00116408;
            }
            if (iVar10 < iVar4) {
              if (fVar17 == 0.0) {
                ppppppfVar7 = ppppppfVar9;
                if ((uint)local_5c < 0x100) {
                  local_78 = CONCAT44(local_78._4_4_,fVar25);
                  local_70 = CONCAT44(local_70._4_4_,fVar28);
                  local_88 = (float *****)ppppppfVar19;
                  local_80 = (float *****)ppppppfVar9;
                  local_68 = fVar23;
                  local_64 = fVar24;
                  local_60 = fVar26;
                  local_5c = fVar27;
                  ppppppfVar8 = (float ******)Memory::realloc_static(ppppppfVar8,0x800,false);
                  fVar27 = local_5c;
                  puVar13 = auStack_4c8;
                  if (ppppppfVar8 == (float ******)0x0) goto LAB_001165ba;
                  local_5c = 3.58732e-43;
                  ppppppfVar7 = (float ******)local_80;
                  ppppppfVar19 = (float ******)local_88;
                  fVar23 = local_68;
                  fVar24 = local_64;
                  fVar25 = (float)local_78;
                  fVar26 = local_60;
                  fVar28 = (float)local_70;
                }
                iVar10 = 0xfe;
                fVar18 = 3.58732e-43;
                *ppppppfVar8 = *ppppppfVar7;
                ppppppfVar8[0x7f] = ppppppfVar7[0x7f];
                lVar6 = (long)ppppppfVar8 - (long)((ulong)(ppppppfVar8 + 1) & 0xfffffffffffffff8);
                puVar14 = (undefined8 *)((long)ppppppfVar7 - lVar6);
                puVar15 = (undefined8 *)((ulong)(ppppppfVar8 + 1) & 0xfffffffffffffff8);
                for (ppppppfVar9 = (float ******)(ulong)((int)lVar6 + 0x400U >> 3);
                    ppppppfVar7 = ppppppfVar8, ppppppfVar9 != (float ******)0x0;
                    ppppppfVar9 = (float ******)((long)ppppppfVar9 + -1)) {
                  *puVar15 = *puVar14;
                  puVar14 = puVar14 + (ulong)bVar22 * -2 + 1;
                  puVar15 = puVar15 + (ulong)bVar22 * -2 + 1;
                }
              }
              else {
                fVar18 = (float)((int)fVar17 * 2);
                ppppppfVar7 = ppppppfVar8;
                local_60 = fVar18;
                if ((uint)fVar18 < (uint)fVar17) {
                  iVar10 = (int)fVar18 - 2;
                }
                else {
                  if (((uint)fVar17 < (uint)fVar18) &&
                     (fVar17 = fVar18, (uint)local_5c < (uint)fVar18)) {
                    local_88 = (float *****)CONCAT44(local_88._4_4_,fVar23);
                    local_80 = (float *****)CONCAT44(local_80._4_4_,fVar25);
                    uVar5 = (int)fVar18 - 1U | (int)fVar18 - 1U >> 1;
                    local_78 = CONCAT44(local_78._4_4_,fVar24);
                    local_70 = CONCAT44(local_70._4_4_,fVar26);
                    uVar5 = uVar5 | uVar5 >> 2;
                    uVar5 = uVar5 | uVar5 >> 4;
                    uVar5 = uVar5 | uVar5 >> 8;
                    local_5c = (float)((uVar5 | uVar5 >> 0x10) + 1);
                    local_98 = (float *****)ppppppfVar19;
                    local_90 = (float *****)ppppppfVar9;
                    local_68 = fVar28;
                    local_64 = fVar27;
                    ppppppfVar7 = (float ******)
                                  Memory::realloc_static
                                            (ppppppfVar8,(ulong)(uint)local_5c << 3,false);
                    ppppppfVar9 = (float ******)local_90;
                    ppppppfVar19 = (float ******)local_98;
                    fVar23 = local_88._0_4_;
                    fVar24 = (float)local_78;
                    fVar25 = local_80._0_4_;
                    fVar26 = (float)local_70;
                    fVar27 = local_64;
                    fVar28 = local_68;
                    fVar17 = local_60;
                    if (ppppppfVar7 == (float ******)0x0) {
                      ppppppfVar8 = (float ******)0x0;
                      puVar13 = auStack_4c8;
                      goto LAB_001165ba;
                    }
                  }
                  fVar18 = fVar17;
                  iVar10 = (int)fVar18 - 2;
                  ppppppfVar8 = ppppppfVar7;
                }
              }
            }
            ppppppfVar7[iVar4] = ppppppfVar19[4];
            iVar11 = iVar20 + 1;
            ppppppfVar7[(long)iVar4 + 1] = ppppppfVar19[5];
          }
          ppppppfVar19 = (float ******)ppppppfVar7[iVar11 + -1];
          iVar20 = iVar11;
          fVar17 = fVar18;
        } while( true );
      }
      goto LAB_001160af;
    }
    if (*(int *)(lVar16 + 0x240) + 0x80000000U < 0x7fffffff) {
      uStack_c8 = 0;
      uStack_d0 = 0x1164ac;
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0);
    }
  }
  puVar13 = auStack_b8;
  local_c0 = 0x116455;
  _err_print_error("instances_cull_aabb","servers/rendering/renderer_scene_cull.cpp",0x4d7,
                   "Parameter \"scenario\" is null.",0,0);
  *(undefined8 *)(param_1 + 8) = 0;
  goto LAB_00116265;
LAB_001160a0:
  puVar12 = auStack_4c8;
  if (ppppppfVar8 != (float ******)0x0) {
    Memory::free_static(ppppppfVar8,false);
    puVar12 = auStack_4c8;
  }
LAB_001160af:
  pppppfVar21 = *(float ******)(lVar16 + 0xe8);
  puVar13 = puVar12;
  if (pppppfVar21 != (float *****)0x0) {
    fVar27 = param_3[2];
    fVar26 = param_3[1];
    fVar24 = *param_3;
    fVar28 = param_3[5] + fVar27;
    fVar25 = param_3[4] + fVar26;
    fVar23 = param_3[3] + fVar24;
    *(undefined8 *)(puVar12 + -8) = *(undefined8 *)(puVar12 + -8);
    ppppppfVar8 = (float ******)0x0;
    fVar18 = 0.0;
    fVar17 = 0.0;
    iVar10 = 0x7e;
    ppppppfVar19 = (float ******)((ulong)(puVar12 + -0x401) & 0xfffffffffffffff0);
    *ppppppfVar19 = pppppfVar21;
    ppppppfVar9 = ppppppfVar19;
    iVar20 = 1;
    do {
      iVar11 = iVar20 + -1;
      if (((((fVar23 < *(float *)pppppfVar21) || (*(float *)((long)pppppfVar21 + 0xc) < fVar24)) ||
           (fVar25 < *(float *)((long)pppppfVar21 + 4))) ||
          ((*(float *)(pppppfVar21 + 2) < fVar26 || (fVar28 < *(float *)(pppppfVar21 + 1))))) ||
         (*(float *)((long)pppppfVar21 + 0x14) < fVar27)) {
LAB_00116340:
        if (iVar11 == 0) goto LAB_00116230;
      }
      else {
        if (pppppfVar21[5] == (float ****)0x0) {
          if (pppppfVar21[4][0x4d] != (float ***)0x0) {
            local_90 = (float *****)CONCAT44(local_90._4_4_,iVar10);
            local_70 = CONCAT44(local_70._4_4_,fVar17);
            local_80 = (float *****)CONCAT44(local_80._4_4_,fVar23);
            local_78 = CONCAT44(local_78._4_4_,fVar28);
            *(undefined8 *)(puVar12 + -0x418) = 0x1162fe;
            local_9c = fVar18;
            local_98 = (float *****)ppppppfVar19;
            local_88 = (float *****)ppppppfVar9;
            local_68 = fVar25;
            local_64 = fVar24;
            local_60 = fVar26;
            local_5c = fVar27;
            Vector<ObjectID>::push_back(local_58);
            ppppppfVar19 = (float ******)local_98;
            ppppppfVar9 = (float ******)local_88;
            fVar23 = local_80._0_4_;
            fVar24 = local_64;
            fVar25 = local_68;
            fVar26 = local_60;
            fVar27 = local_5c;
            fVar28 = (float)local_78;
            fVar17 = (float)local_70;
            iVar10 = (int)local_90._0_4_;
            fVar18 = local_9c;
          }
          goto LAB_00116340;
        }
        lVar16 = (long)iVar11 * 8;
        ppppppfVar7 = ppppppfVar9 + iVar11;
        if (iVar10 < iVar11) {
          if (fVar17 == 0.0) {
            ppppppfVar9 = ppppppfVar19;
            if ((uint)fVar18 < 0x100) {
              local_80 = (float *****)CONCAT44(local_80._4_4_,fVar23);
              local_78 = CONCAT44(local_78._4_4_,fVar28);
              *(undefined8 *)(puVar12 + -0x418) = 0x11673e;
              local_88 = (float *****)ppppppfVar19;
              local_70 = lVar16;
              local_68 = fVar25;
              local_64 = fVar24;
              local_60 = fVar26;
              local_5c = fVar27;
              ppppppfVar8 = (float ******)Memory::realloc_static(ppppppfVar8,0x800,false);
              puVar13 = puVar12 + -0x410;
              if (ppppppfVar8 == (float ******)0x0) {
LAB_001165ba:
                *(float *******)(puVar13 + -8) = ppppppfVar8;
                *(undefined8 *)(puVar13 + -0x10) = 0;
                *(undefined8 *)(puVar13 + -0x18) = 0x1165e6;
                _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                                 "FATAL: Condition \"!data\" is true.","Out of memory",0);
                *(undefined8 *)(puVar13 + -0x18) = 0x1165eb;
                _err_flush_stdout();
                    /* WARNING: Does not return */
                pcVar2 = (code *)invalidInstructionException();
                (*pcVar2)();
              }
              fVar18 = 3.58732e-43;
              ppppppfVar9 = (float ******)local_88;
              lVar16 = local_70;
              fVar23 = local_80._0_4_;
              fVar24 = local_64;
              fVar25 = local_68;
              fVar26 = local_60;
              fVar27 = local_5c;
              fVar28 = (float)local_78;
            }
            iVar10 = 0xfe;
            *ppppppfVar8 = *ppppppfVar9;
            ppppppfVar8[0x7f] = ppppppfVar9[0x7f];
            lVar6 = (long)ppppppfVar8 - (long)((ulong)(ppppppfVar8 + 1) & 0xfffffffffffffff8);
            puVar14 = (undefined8 *)((long)ppppppfVar9 - lVar6);
            puVar15 = (undefined8 *)((ulong)(ppppppfVar8 + 1) & 0xfffffffffffffff8);
            for (ppppppfVar19 = (float ******)(ulong)((int)lVar6 + 0x400U >> 3);
                fVar17 = 3.58732e-43, ppppppfVar19 != (float ******)0x0;
                ppppppfVar19 = (float ******)((long)ppppppfVar19 + -1)) {
              *puVar15 = *puVar14;
              puVar14 = puVar14 + (ulong)bVar22 * -2 + 1;
              puVar15 = puVar15 + (ulong)bVar22 * -2 + 1;
            }
          }
          else {
            fVar3 = (float)((int)fVar17 * 2);
            if ((uint)fVar17 <= (uint)fVar3) {
              if ((uint)fVar3 <= (uint)fVar17) {
                iVar10 = (int)fVar17 - 2;
                goto LAB_0011620a;
              }
              if ((uint)fVar18 < (uint)fVar3) {
                local_88 = (float *****)CONCAT44(local_88._4_4_,fVar23);
                uVar5 = (int)fVar3 - 1U | (int)fVar3 - 1U >> 1;
                local_80 = (float *****)CONCAT44(local_80._4_4_,fVar25);
                local_70 = CONCAT44(local_70._4_4_,fVar24);
                uVar5 = uVar5 >> 2 | uVar5;
                uVar5 = uVar5 | uVar5 >> 4;
                uVar5 = uVar5 | uVar5 >> 8;
                local_5c = (float)((uVar5 >> 0x10 | uVar5) + 1);
                *(undefined8 *)(puVar12 + -0x418) = 0x116581;
                local_90 = (float *****)ppppppfVar19;
                local_78 = lVar16;
                local_68 = fVar28;
                local_64 = fVar26;
                local_60 = fVar27;
                ppppppfVar8 = (float ******)
                              Memory::realloc_static(ppppppfVar8,(ulong)(uint)local_5c << 3,false);
                ppppppfVar19 = (float ******)local_90;
                puVar13 = puVar12 + -0x410;
                lVar16 = local_78;
                fVar23 = local_88._0_4_;
                fVar24 = (float)local_70;
                fVar25 = local_80._0_4_;
                fVar26 = local_64;
                fVar27 = local_60;
                fVar28 = local_68;
                fVar18 = local_5c;
                if (ppppppfVar8 == (float ******)0x0) goto LAB_001165ba;
              }
            }
            iVar10 = (int)fVar3 - 2;
            fVar17 = fVar3;
          }
LAB_0011620a:
          ppppppfVar7 = (float ******)((long)ppppppfVar8 + lVar16);
          ppppppfVar9 = ppppppfVar8;
        }
        iVar11 = iVar20 + 1;
        *ppppppfVar7 = (float *****)pppppfVar21[4];
        *(float *****)((long)ppppppfVar9 + lVar16 + 8) = pppppfVar21[5];
      }
      pppppfVar21 = ppppppfVar9[iVar11 + -1];
      iVar20 = iVar11;
    } while( true );
  }
  goto LAB_0011623f;
LAB_00116230:
  puVar13 = puVar12 + -0x410;
  if (ppppppfVar8 != (float ******)0x0) {
    *(undefined8 *)(puVar12 + -0x418) = 0x11623f;
    Memory::free_static(ppppppfVar8,false);
    puVar13 = puVar12 + -0x410;
  }
LAB_0011623f:
  *(undefined8 *)(param_1 + 8) = 0;
  *(undefined8 *)(puVar13 + -8) = 0x116254;
  CowData<ObjectID>::_ref((CowData<ObjectID> *)(param_1 + 8),(CowData *)local_50);
  if (local_50[0] != 0) {
    LOCK();
    plVar1 = (long *)(local_50[0] + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      *(undefined8 *)(puVar13 + -8) = 0x11629f;
      Memory::free_static((void *)(local_50[0] + -0x10),false);
    }
  }
LAB_00116265:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  *(undefined8 *)(puVar13 + -8) = 0x116709;
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x001168f4) */
/* WARNING: Removing unreachable block (ram,0x00116c01) */
/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* RendererSceneCull::instances_cull_ray(Vector3 const&, Vector3 const&, RID) const */

long RendererSceneCull::instances_cull_ray
               (long param_1,RendererSceneCull *param_2,float *param_3,undefined8 **param_4,
               ulong param_5)

{
  long *plVar1;
  code *pcVar2;
  uint uVar3;
  undefined8 **ppuVar4;
  undefined8 **ppuVar5;
  undefined8 **ppuVar6;
  int iVar7;
  ulong uVar8;
  long lVar9;
  undefined1 *puVar10;
  undefined1 *puVar11;
  undefined8 **ppuVar12;
  undefined8 *puVar13;
  undefined8 **ppuVar14;
  undefined8 **ppuVar15;
  undefined8 *puVar16;
  undefined8 **ppuVar17;
  ulong uVar18;
  undefined8 **ppuVar19;
  undefined8 *puVar20;
  int iVar21;
  ulong uVar22;
  long in_FS_OFFSET;
  byte bVar23;
  float fVar24;
  float fVar25;
  float fVar26;
  float fVar27;
  float fVar28;
  float fVar29;
  float fVar30;
  float fVar31;
  float fVar32;
  float fVar33;
  float fVar34;
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auStack_528 [8];
  undefined8 *apuStack_520 [126];
  undefined8 uStack_130;
  undefined8 uStack_128;
  undefined8 local_120;
  undefined1 auStack_118 [8];
  undefined8 **local_110;
  float local_104;
  undefined8 **local_100;
  undefined8 **local_f8;
  undefined8 **local_f0;
  undefined8 **local_e8;
  undefined8 **local_e0;
  undefined8 **local_d8;
  undefined8 **local_d0;
  undefined8 **local_c8;
  undefined8 **local_c0;
  float local_b8;
  float local_b4;
  undefined8 **local_b0;
  undefined8 **local_a8;
  undefined8 **local_a0;
  long local_98;
  long local_90;
  Vector<ObjectID> local_88 [8];
  long local_80;
  undefined8 local_78;
  undefined4 local_70;
  undefined8 local_6c;
  undefined4 local_64;
  undefined8 local_58;
  undefined4 local_50;
  undefined8 local_4c;
  undefined4 local_44;
  long local_40;
  
  bVar23 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_90 = param_1;
  if ((param_5 != 0) && ((uint)param_5 < *(uint *)(param_2 + 0x1bc))) {
    local_98 = *(long *)(*(long *)(param_2 + 0x1a8) +
                        ((param_5 & 0xffffffff) / (ulong)*(uint *)(param_2 + 0x1b8)) * 8) +
               ((param_5 & 0xffffffff) % (ulong)*(uint *)(param_2 + 0x1b8)) * 0x248;
    if (*(int *)(local_98 + 0x240) == (int)(param_5 >> 0x20)) {
      local_120 = 0x116819;
      local_a0 = param_4;
      update_dirty_instances(param_2);
      ppuVar14 = local_a0;
      local_80 = 0;
      puVar20 = *(undefined8 **)(local_98 + 0x68);
      puVar10 = auStack_118;
      if (puVar20 != (undefined8 *)0x0) {
        fVar30 = param_3[1];
        fVar29 = *param_3;
        fVar26 = *(float *)((long)local_a0 + 4) - fVar30;
        fVar24 = *(float *)(local_a0 + 1) - param_3[2];
        fVar33 = *(float *)local_a0 - fVar29;
        fVar25 = fVar33 * fVar33 + fVar26 * fVar26 + fVar24 * fVar24;
        fVar31 = _LC229;
        fVar32 = _LC229;
        fVar34 = _LC229;
        if (fVar25 == 0.0) {
          ppuVar12 = (undefined8 **)&local_58;
          fVar25 = 0.0;
          uVar8 = 0xc;
          uVar22 = 0xc;
          uVar18 = 0xc;
          fVar27 = 0.0;
          fVar28 = 0.0;
          ppuVar17 = ppuVar12;
          ppuVar4 = ppuVar12;
        }
        else {
          fVar25 = SQRT(fVar25);
          fVar27 = fVar33 / fVar25;
          fVar28 = fVar26 / fVar25;
          fVar25 = fVar24 / fVar25;
          if (fVar27 == 0.0) {
            ppuVar17 = (undefined8 **)&local_58;
            uVar18 = 0xc;
          }
          else {
            fVar31 = _LC55 / fVar27;
            ppuVar17 = (undefined8 **)
                       ((long)&local_58 +
                       (ulong)((uint)((long)((ulong)(fVar31 < 0.0) << 0x3f) >> 0x3f) & 0xc));
            uVar18 = (ulong)(-(uint)(0.0 <= fVar31) & 0xc);
          }
          ppuVar12 = (undefined8 **)&local_58;
          if (fVar28 == 0.0) {
            uVar22 = 0xc;
            ppuVar4 = ppuVar12;
          }
          else {
            fVar32 = _LC55 / fVar28;
            uVar22 = (ulong)(-(uint)(0.0 <= fVar32) & 0xc);
            ppuVar4 = (undefined8 **)
                      ((ulong)((uint)((long)((ulong)(fVar32 < 0.0) << 0x3f) >> 0x3f) & 0xc) +
                      (long)ppuVar12);
          }
          if (fVar25 == 0.0) {
            uVar8 = 0xc;
          }
          else {
            fVar34 = _LC55 / fVar25;
            ppuVar12 = (undefined8 **)
                       ((long)ppuVar12 +
                       (ulong)((uint)((long)((ulong)(fVar34 < 0.0) << 0x3f) >> 0x3f) & 0xc));
            uVar8 = (ulong)(-(uint)(0.0 <= fVar34) & 0xc);
          }
        }
        fVar24 = fVar33 * fVar27 + fVar26 * fVar28 + fVar24 * fVar25;
        iVar21 = 1;
        ppuVar19 = (undefined8 **)((long)&local_58 + uVar18);
        ppuVar5 = (undefined8 **)((long)&local_58 + uVar8);
        ppuVar6 = apuStack_520;
        fVar25 = 0.0;
        local_a0 = (undefined8 **)0x0;
        apuStack_520[0] = puVar20;
        local_b8 = 0.0;
        local_b4 = 1.76564e-43;
        local_a8 = ppuVar14;
        local_c0 = ppuVar6;
        do {
          iVar7 = iVar21 + -1;
          local_58 = (undefined8 *)*puVar20;
          local_50 = *(undefined4 *)(puVar20 + 1);
          local_4c = *(undefined8 *)((long)puVar20 + 0xc);
          local_44 = *(undefined4 *)((long)puVar20 + 0x14);
          fVar33 = (*(float *)ppuVar17 - fVar29) * fVar31;
          fVar26 = (*(float *)((long)&local_58 + uVar22 + 4) - fVar30) * fVar32;
          if (fVar26 < fVar33) {
LAB_00117050:
            ppuVar15 = local_a0;
            if (iVar7 == 0) goto LAB_00116b08;
            fVar30 = param_3[1];
            fVar29 = *param_3;
            iVar21 = iVar7;
          }
          else {
            fVar28 = (*(float *)ppuVar19 - fVar29) * fVar31;
            fVar27 = (*(float *)((long)ppuVar4 + 4) - fVar30) * fVar32;
            if (fVar28 < fVar27) goto LAB_00117050;
            if (fVar28 <= fVar26) {
              fVar26 = fVar28;
            }
            if (fVar27 <= fVar33) {
              fVar27 = fVar33;
            }
            fVar33 = (*(float *)(ppuVar5 + 1) - param_3[2]) * fVar34;
            if ((fVar33 < fVar27) ||
               (fVar28 = (*(float *)(ppuVar12 + 1) - param_3[2]) * fVar34, fVar26 < fVar28))
            goto LAB_00117050;
            if (fVar28 <= fVar27) {
              fVar28 = fVar27;
            }
            if (fVar26 <= fVar33) {
              fVar33 = fVar26;
            }
            if ((fVar24 <= fVar28) || (fVar33 <= 0.0)) goto LAB_00117050;
            if (puVar20[5] == 0) {
              if (*(long *)(puVar20[4] + 0x268) != 0) {
                local_d8 = (undefined8 **)CONCAT44(local_d8._4_4_,iVar7);
                local_e8 = (undefined8 **)CONCAT44(local_e8._4_4_,fVar24);
                local_d0 = (undefined8 **)CONCAT44(local_d0._4_4_,fVar32);
                local_c8 = (undefined8 **)CONCAT44(local_c8._4_4_,fVar31);
                local_b0 = (undefined8 **)CONCAT44(local_b0._4_4_,fVar34);
                local_110 = ppuVar12;
                local_104 = fVar25;
                local_100 = ppuVar5;
                local_f8 = ppuVar19;
                local_f0 = ppuVar6;
                local_e0 = ppuVar17;
                Vector<ObjectID>::push_back(local_88);
                ppuVar6 = local_f0;
                ppuVar17 = local_e0;
                ppuVar19 = local_f8;
                ppuVar12 = local_110;
                ppuVar5 = local_100;
                fVar31 = local_c8._0_4_;
                fVar32 = local_d0._0_4_;
                fVar24 = local_e8._0_4_;
                fVar34 = local_b0._0_4_;
                iVar7 = (int)local_d8._0_4_;
                fVar25 = local_104;
              }
              goto LAB_00117050;
            }
            local_b0 = (undefined8 **)((long)iVar7 * 8);
            if ((int)local_b4 < iVar7) {
              if (fVar25 == 0.0) {
                if ((uint)local_b8 < 0x100) {
                  local_d8 = (undefined8 **)CONCAT44(local_d8._4_4_,fVar24);
                  local_c8 = (undefined8 **)CONCAT44(local_c8._4_4_,fVar32);
                  local_f0 = ppuVar12;
                  local_e8 = ppuVar5;
                  local_e0 = ppuVar19;
                  local_d0 = ppuVar17;
                  local_b8 = fVar31;
                  local_b4 = fVar34;
                  auVar36 = Memory::realloc_static(local_a0,0x800,false);
                  fVar31 = local_b8;
                  auVar35._8_8_ = auVar36._8_8_;
                  auVar35._0_8_ = local_a0;
                  local_a0 = auVar36._0_8_;
                  puVar11 = auStack_528;
                  if (local_a0 == (undefined8 **)0x0) goto LAB_001177a0;
                  local_b8 = 3.58732e-43;
                  ppuVar17 = local_d0;
                  ppuVar19 = local_e0;
                  ppuVar12 = local_f0;
                  ppuVar5 = local_e8;
                  fVar32 = local_c8._0_4_;
                  fVar24 = local_d8._0_4_;
                  fVar34 = local_b4;
                }
                *local_a0 = *local_c0;
                local_a0[0x7f] = local_c0[0x7f];
                lVar9 = (long)local_a0 - (long)((ulong)(local_a0 + 1) & 0xfffffffffffffff8);
                puVar13 = (undefined8 *)((long)local_c0 - lVar9);
                puVar16 = (undefined8 *)((ulong)(local_a0 + 1) & 0xfffffffffffffff8);
                for (uVar18 = (ulong)((int)lVar9 + 0x400U >> 3); uVar18 != 0; uVar18 = uVar18 - 1) {
                  *puVar16 = *puVar13;
                  puVar13 = puVar13 + (ulong)bVar23 * -2 + 1;
                  puVar16 = puVar16 + (ulong)bVar23 * -2 + 1;
                }
                local_b4 = 3.5593e-43;
                local_c0 = (undefined8 **)0x0;
                fVar30 = param_3[1];
                fVar29 = *param_3;
                fVar26 = local_b4;
                fVar25 = 3.58732e-43;
              }
              else {
                local_b4 = (float)((int)fVar25 * 2);
                if ((uint)fVar25 <= (uint)local_b4) {
                  if ((uint)local_b4 <= (uint)fVar25) {
                    fVar26 = (float)((int)fVar25 - 2);
                    goto LAB_00116aec;
                  }
                  if ((uint)local_b8 < (uint)local_b4) {
                    uVar3 = (int)local_b4 - 1U | (int)local_b4 - 1U >> 1;
                    local_e8 = (undefined8 **)CONCAT44(local_e8._4_4_,fVar24);
                    uVar3 = uVar3 | uVar3 >> 2;
                    local_d8 = (undefined8 **)CONCAT44(local_d8._4_4_,fVar32);
                    local_d0 = (undefined8 **)CONCAT44(local_d0._4_4_,fVar31);
                    local_c8 = (undefined8 **)CONCAT44(local_c8._4_4_,fVar34);
                    uVar3 = uVar3 | uVar3 >> 4;
                    uVar3 = uVar3 | uVar3 >> 8;
                    local_b8 = (float)((uVar3 | uVar3 >> 0x10) + 1);
                    local_100 = ppuVar12;
                    local_f8 = ppuVar5;
                    local_f0 = ppuVar19;
                    local_e0 = ppuVar17;
                    auVar35 = Memory::realloc_static(local_a0,(ulong)(uint)local_b8 << 3,false);
                    local_a0 = auVar35._0_8_;
                    puVar11 = auStack_528;
                    if (local_a0 == (undefined8 **)0x0) goto LAB_001177a0;
                    fVar30 = param_3[1];
                    fVar29 = *param_3;
                    ppuVar17 = local_e0;
                    ppuVar19 = local_f0;
                    ppuVar12 = local_100;
                    ppuVar5 = local_f8;
                    fVar31 = local_d0._0_4_;
                    fVar32 = local_d8._0_4_;
                    fVar24 = local_e8._0_4_;
                    fVar34 = local_c8._0_4_;
                  }
                }
                fVar26 = (float)((int)local_b4 - 2);
                fVar25 = local_b4;
              }
LAB_00116aec:
              local_b4 = fVar26;
              ppuVar14 = (undefined8 **)((long)local_a0 + (long)local_b0);
              ppuVar6 = local_a0;
            }
            else {
              ppuVar14 = ppuVar6 + iVar7;
            }
            *ppuVar14 = (undefined8 *)puVar20[4];
            *(undefined8 *)((long)(ppuVar6 + 1) + (long)local_b0) = puVar20[5];
            iVar21 = iVar21 + 1;
          }
          puVar20 = ppuVar6[iVar21 + -1];
        } while( true );
      }
      goto LAB_00116b30;
    }
    if (*(int *)(local_98 + 0x240) + 0x80000000U < 0x7fffffff) {
      uStack_128 = 0;
      uStack_130 = 0x117518;
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0);
    }
  }
  puVar11 = auStack_118;
  local_120 = 0x1171c5;
  _err_print_error("instances_cull_ray","servers/rendering/renderer_scene_cull.cpp",0x4ef,
                   "Parameter \"scenario\" is null.",0,0);
  *(undefined8 *)(local_90 + 8) = 0;
  goto LAB_00116e44;
LAB_00116b08:
  puVar10 = auStack_528;
  ppuVar14 = local_a8;
  if (local_a0 != (undefined8 **)0x0) {
    local_a0 = local_a8;
    Memory::free_static(ppuVar15,false);
    puVar10 = auStack_528;
    ppuVar14 = local_a0;
  }
LAB_00116b30:
  puVar20 = *(undefined8 **)(local_98 + 0xe8);
  puVar11 = puVar10;
  if (puVar20 != (undefined8 *)0x0) {
    fVar30 = param_3[1];
    fVar29 = *param_3;
    fVar33 = *(float *)((long)ppuVar14 + 4) - fVar30;
    fVar24 = *(float *)(ppuVar14 + 1) - param_3[2];
    fVar26 = *(float *)ppuVar14 - fVar29;
    fVar25 = fVar26 * fVar26 + fVar33 * fVar33 + fVar24 * fVar24;
    fVar31 = _LC229;
    fVar32 = _LC229;
    fVar34 = _LC229;
    if (fVar25 == 0.0) {
      ppuVar14 = (undefined8 **)&local_78;
      fVar25 = 0.0;
      uVar8 = 0xc;
      uVar22 = 0xc;
      fVar28 = 0.0;
      fVar27 = 0.0;
      uVar18 = 0xc;
      ppuVar17 = ppuVar14;
      ppuVar12 = ppuVar14;
    }
    else {
      fVar25 = SQRT(fVar25);
      fVar28 = fVar26 / fVar25;
      fVar27 = fVar33 / fVar25;
      fVar25 = fVar24 / fVar25;
      if (fVar28 == 0.0) {
        ppuVar14 = (undefined8 **)&local_78;
        uVar18 = 0xc;
      }
      else {
        fVar31 = _LC55 / fVar28;
        ppuVar14 = (undefined8 **)
                   ((long)&local_78 +
                   (ulong)((uint)((long)((ulong)(fVar31 < 0.0) << 0x3f) >> 0x3f) & 0xc));
        uVar18 = (ulong)(-(uint)(0.0 <= fVar31) & 0xc);
      }
      ppuVar17 = (undefined8 **)&local_78;
      if (fVar27 == 0.0) {
        uVar22 = 0xc;
        ppuVar12 = ppuVar17;
      }
      else {
        fVar32 = _LC55 / fVar27;
        uVar22 = (ulong)(-(uint)(0.0 <= fVar32) & 0xc);
        ppuVar12 = (undefined8 **)
                   ((ulong)((uint)((long)((ulong)(fVar32 < 0.0) << 0x3f) >> 0x3f) & 0xc) +
                   (long)ppuVar17);
      }
      if (fVar25 == 0.0) {
        uVar8 = 0xc;
      }
      else {
        fVar34 = _LC55 / fVar25;
        ppuVar17 = (undefined8 **)
                   ((long)ppuVar17 +
                   (ulong)((uint)((long)((ulong)(fVar34 < 0.0) << 0x3f) >> 0x3f) & 0xc));
        uVar8 = (ulong)(-(uint)(0.0 <= fVar34) & 0xc);
      }
    }
    fVar24 = fVar26 * fVar28 + fVar27 * fVar33 + fVar24 * fVar25;
    *(undefined8 *)(puVar10 + -8) = *(undefined8 *)(puVar10 + -8);
    ppuVar5 = (undefined8 **)0x0;
    iVar21 = 1;
    ppuVar6 = (undefined8 **)((long)&local_78 + uVar18);
    local_b4 = 0.0;
    ppuVar4 = (undefined8 **)((ulong)(puVar10 + -0x401) & 0xfffffffffffffff0);
    ppuVar19 = (undefined8 **)((long)&local_78 + uVar8);
    local_a8 = (undefined8 **)((ulong)local_a8 & 0xffffffff00000000);
    *ppuVar4 = puVar20;
    local_a0 = (undefined8 **)CONCAT44(local_a0._4_4_,0x7e);
    local_b0 = ppuVar4;
    do {
      iVar7 = iVar21 + -1;
      local_78 = (undefined8 *)*puVar20;
      local_70 = *(undefined4 *)(puVar20 + 1);
      local_6c = *(undefined8 *)((long)puVar20 + 0xc);
      local_64 = *(undefined4 *)((long)puVar20 + 0x14);
      fVar26 = (*(float *)ppuVar14 - fVar29) * fVar31;
      fVar25 = (*(float *)((long)&local_78 + uVar22 + 4) - fVar30) * fVar32;
      if (fVar25 < fVar26) {
LAB_00117090:
        iVar21 = iVar7;
        if (iVar21 == 0) goto LAB_00116e08;
        fVar30 = param_3[1];
        fVar29 = *param_3;
      }
      else {
        fVar27 = (*(float *)ppuVar6 - fVar29) * fVar31;
        fVar33 = (*(float *)((long)ppuVar12 + 4) - fVar30) * fVar32;
        if (fVar27 < fVar33) goto LAB_00117090;
        if (fVar33 <= fVar26) {
          fVar33 = fVar26;
        }
        if (fVar27 <= fVar25) {
          fVar25 = fVar27;
        }
        fVar26 = (*(float *)(ppuVar19 + 1) - param_3[2]) * fVar34;
        if ((fVar26 < fVar33) ||
           (fVar27 = (*(float *)(ppuVar17 + 1) - param_3[2]) * fVar34, fVar25 < fVar27))
        goto LAB_00117090;
        if (fVar27 <= fVar33) {
          fVar27 = fVar33;
        }
        if (fVar25 <= fVar26) {
          fVar26 = fVar25;
        }
        if ((fVar24 <= fVar27) || (fVar26 <= 0.0)) goto LAB_00117090;
        if (puVar20[5] == 0) {
          if (*(long *)(puVar20[4] + 0x268) != 0) {
            local_c8 = (undefined8 **)CONCAT44(local_c8._4_4_,iVar7);
            local_d0 = (undefined8 **)CONCAT44(local_d0._4_4_,fVar24);
            local_c0 = (undefined8 **)CONCAT44(local_c0._4_4_,fVar31);
            local_98 = CONCAT44(local_98._4_4_,fVar34);
            *(undefined8 *)(puVar10 + -0x418) = 0x117358;
            local_100 = ppuVar14;
            local_f8 = ppuVar17;
            local_f0 = ppuVar5;
            local_e8 = ppuVar19;
            local_e0 = ppuVar6;
            local_d8 = ppuVar4;
            local_b8 = fVar32;
            Vector<ObjectID>::push_back(local_88);
            ppuVar4 = local_d8;
            ppuVar5 = local_f0;
            ppuVar14 = local_100;
            ppuVar6 = local_e0;
            ppuVar19 = local_e8;
            ppuVar17 = local_f8;
            fVar31 = local_c0._0_4_;
            fVar32 = local_b8;
            fVar24 = local_d0._0_4_;
            fVar34 = (float)local_98;
            iVar7 = (int)local_c8._0_4_;
          }
          goto LAB_00117090;
        }
        local_98 = (long)iVar7 * 8;
        if ((int)local_a0._0_4_ < iVar7) {
          if (local_a8._0_4_ == 0.0) {
            if ((uint)local_b4 < 0x100) {
              local_c0 = (undefined8 **)CONCAT44(local_c0._4_4_,fVar32);
              local_a8 = (undefined8 **)CONCAT44(local_a8._4_4_,fVar31);
              local_a0 = (undefined8 **)CONCAT44(local_a0._4_4_,fVar34);
              *(undefined8 *)(puVar10 + -0x418) = 0x11756b;
              local_e0 = ppuVar14;
              local_d8 = ppuVar17;
              local_d0 = ppuVar19;
              local_c8 = ppuVar6;
              local_b8 = fVar24;
              auVar36 = Memory::realloc_static(ppuVar5,0x800,false);
              auVar35._8_8_ = auVar36._8_8_;
              auVar35._0_8_ = local_a0;
              ppuVar5 = auVar36._0_8_;
              puVar11 = puVar10 + -0x410;
              if (ppuVar5 == (undefined8 **)0x0) {
LAB_001177a0:
                local_a0 = auVar35._0_8_;
                *(long *)(puVar11 + -8) = auVar35._8_8_;
                *(undefined8 *)(puVar11 + -0x10) = 0;
                *(undefined8 *)(puVar11 + -0x18) = 0x1177cc;
                _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                                 "FATAL: Condition \"!data\" is true.","Out of memory",0);
                *(undefined8 *)(puVar11 + -0x18) = 0x1177d1;
                _err_flush_stdout();
                    /* WARNING: Does not return */
                pcVar2 = (code *)invalidInstructionException();
                (*pcVar2)();
              }
              local_b4 = 3.58732e-43;
              ppuVar14 = local_e0;
              ppuVar6 = local_c8;
              ppuVar19 = local_d0;
              ppuVar17 = local_d8;
              fVar31 = local_a8._0_4_;
              fVar32 = local_c0._0_4_;
              fVar24 = local_b8;
              fVar34 = local_a0._0_4_;
            }
            *ppuVar5 = *local_b0;
            ppuVar5[0x7f] = local_b0[0x7f];
            lVar9 = (long)ppuVar5 - (long)((ulong)(ppuVar5 + 1) & 0xfffffffffffffff8);
            puVar13 = (undefined8 *)((long)local_b0 - lVar9);
            puVar16 = (undefined8 *)((ulong)(ppuVar5 + 1) & 0xfffffffffffffff8);
            for (uVar18 = (ulong)((int)lVar9 + 0x400U >> 3); uVar18 != 0; uVar18 = uVar18 - 1) {
              *puVar16 = *puVar13;
              puVar13 = puVar13 + (ulong)bVar23 * -2 + 1;
              puVar16 = puVar16 + (ulong)bVar23 * -2 + 1;
            }
            local_a0 = (undefined8 **)CONCAT44(local_a0._4_4_,0xfe);
            local_a8 = (undefined8 **)CONCAT44(local_a8._4_4_,0x100);
            local_b0 = (undefined8 **)0x0;
            fVar30 = param_3[1];
            fVar29 = *param_3;
          }
          else {
            fVar25 = (float)((int)local_a8._0_4_ * 2);
            local_a0 = (undefined8 **)CONCAT44(local_a0._4_4_,fVar25);
            if ((uint)local_a8._0_4_ <= (uint)fVar25) {
              if ((uint)fVar25 <= (uint)local_a8._0_4_) {
                local_a0 = (undefined8 **)CONCAT44(local_a0._4_4_,(int)local_a8._0_4_ + -2);
                goto LAB_00116df0;
              }
              if ((uint)local_b4 < (uint)fVar25) {
                uVar3 = (int)fVar25 - 1U >> 1 | (int)fVar25 - 1U;
                local_c8 = (undefined8 **)CONCAT44(local_c8._4_4_,fVar24);
                local_c0 = (undefined8 **)CONCAT44(local_c0._4_4_,fVar31);
                local_a8 = (undefined8 **)CONCAT44(local_a8._4_4_,fVar34);
                uVar3 = uVar3 | uVar3 >> 2;
                uVar3 = uVar3 >> 4 | uVar3;
                uVar3 = uVar3 >> 8 | uVar3;
                local_b4 = (float)((uVar3 >> 0x10 | uVar3) + 1);
                *(undefined8 *)(puVar10 + -0x418) = 0x117743;
                local_e8 = ppuVar14;
                local_e0 = ppuVar17;
                local_d8 = ppuVar19;
                local_d0 = ppuVar6;
                local_b8 = fVar32;
                auVar36 = Memory::realloc_static(ppuVar5,(ulong)(uint)local_b4 << 3,false);
                auVar35._8_8_ = auVar36._8_8_;
                auVar35._0_8_ = local_a0;
                ppuVar5 = auVar36._0_8_;
                puVar11 = puVar10 + -0x410;
                if (ppuVar5 == (undefined8 **)0x0) goto LAB_001177a0;
                fVar30 = param_3[1];
                fVar29 = *param_3;
                ppuVar14 = local_e8;
                ppuVar6 = local_d0;
                ppuVar19 = local_d8;
                ppuVar17 = local_e0;
                fVar31 = local_c0._0_4_;
                fVar32 = local_b8;
                fVar24 = local_c8._0_4_;
                fVar34 = local_a8._0_4_;
              }
              fVar25 = local_a0._0_4_;
            }
            local_a8 = (undefined8 **)CONCAT44(local_a8._4_4_,fVar25);
            local_a0 = (undefined8 **)CONCAT44(local_a0._4_4_,(int)fVar25 - 2);
          }
LAB_00116df0:
          ppuVar15 = (undefined8 **)((long)ppuVar5 + local_98);
          ppuVar4 = ppuVar5;
        }
        else {
          ppuVar15 = ppuVar4 + iVar7;
        }
        *ppuVar15 = (undefined8 *)puVar20[4];
        iVar21 = iVar21 + 1;
        *(undefined8 *)((long)ppuVar4 + local_98 + 8) = puVar20[5];
      }
      puVar20 = ppuVar4[iVar21 + -1];
    } while( true );
  }
  goto LAB_00116e17;
LAB_00116e08:
  puVar11 = puVar10 + -0x410;
  if (ppuVar5 != (undefined8 **)0x0) {
    *(undefined8 *)(puVar10 + -0x418) = 0x116e17;
    Memory::free_static(ppuVar5,false);
    puVar11 = puVar10 + -0x410;
  }
LAB_00116e17:
  *(undefined8 *)(local_90 + 8) = 0;
  *(undefined8 *)(puVar11 + -8) = 0x116e33;
  CowData<ObjectID>::_ref((CowData<ObjectID> *)(local_90 + 8),(CowData *)&local_80);
  if (local_80 != 0) {
    LOCK();
    plVar1 = (long *)(local_80 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      *(undefined8 *)(puVar11 + -8) = 0x116e7f;
      Memory::free_static((void *)(local_80 + -0x10),false);
    }
  }
LAB_00116e44:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    *(undefined8 *)(puVar11 + -8) = 0x1177a0;
    __stack_chk_fail();
  }
  return local_90;
}



/* WARNING: Removing unreachable block (ram,0x0011794d) */
/* WARNING: Removing unreachable block (ram,0x00117ca5) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* WARNING: Restarted to delay deadcode elimination for space: stack */
/* RendererSceneCull::instances_cull_convex(Vector<Plane> const&, RID) const */

long RendererSceneCull::instances_cull_convex
               (long param_1,RendererSceneCull *param_2,long param_3,ulong param_4)

{
  long *plVar1;
  float fVar2;
  float fVar3;
  code *pcVar4;
  int iVar5;
  int iVar6;
  float *pfVar7;
  float *pfVar8;
  float *pfVar9;
  float *pfVar10;
  float **ppfVar11;
  long lVar12;
  int iVar13;
  int *piVar14;
  ulong uVar15;
  ulong uVar16;
  int iVar17;
  int iVar18;
  undefined8 uVar19;
  undefined1 *puVar20;
  undefined1 *puVar21;
  undefined1 *puVar22;
  undefined8 *puVar23;
  int *piVar24;
  undefined8 *puVar25;
  float **ppfVar26;
  long lVar27;
  float *pfVar28;
  float *pfVar29;
  float **ppfVar30;
  long in_FS_OFFSET;
  byte bVar31;
  uint uVar32;
  uint uVar33;
  uint uVar34;
  float fVar35;
  float fVar36;
  float fVar37;
  float fVar38;
  float fVar39;
  float fVar40;
  float fVar41;
  float fVar42;
  undefined4 uVar43;
  undefined1 auVar44 [16];
  undefined1 auVar45 [16];
  undefined1 auStackY_528 [8];
  float *apfStackY_520 [124];
  undefined8 uStackY_140;
  undefined1 auStack_118 [12];
  float local_10c;
  float **local_108;
  float *local_100;
  float *local_f8;
  float **local_f0;
  float *local_e8;
  float *local_e0;
  uint local_d8;
  float local_d4;
  float *local_d0;
  undefined8 local_c8;
  float local_c0;
  float local_bc;
  long local_b8;
  long local_b0;
  long local_a8;
  long local_a0;
  Plane local_98 [8];
  float *local_90;
  Vector<ObjectID> local_88 [8];
  long local_80;
  undefined8 local_78;
  float local_70;
  float local_68 [4];
  int local_58 [6];
  long local_40;
  
  bVar31 = 0;
  puVar20 = auStack_118;
  puVar21 = auStack_118;
  puVar22 = auStack_118;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_a0 = param_1;
  if ((param_4 != 0) && ((uint)param_4 < *(uint *)(param_2 + 0x1bc))) {
    local_a8 = *(long *)(*(long *)(param_2 + 0x1a8) +
                        ((param_4 & 0xffffffff) / (ulong)*(uint *)(param_2 + 0x1b8)) * 8) +
               ((param_4 & 0xffffffff) % (ulong)*(uint *)(param_2 + 0x1b8)) * 0x248;
    if (*(int *)(local_a8 + 0x240) == (int)(param_4 >> 0x20)) {
      update_dirty_instances(param_2);
      lVar27 = *(long *)(param_3 + 8);
      if (lVar27 == 0) {
        lVar12 = 0;
LAB_00118033:
        uStackY_140 = 0x118068;
        _err_print_index_error
                  ("get","./core/templates/cowdata.h",0xdb,0,lVar12,"p_index","size()","",false,true
                  );
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar4 = (code *)invalidInstructionException();
        (*pcVar4)();
      }
      lVar12 = *(long *)(lVar27 + -8);
      if (lVar12 < 1) goto LAB_00118033;
      Geometry3D::compute_convex_mesh_points(local_98,(int)lVar27);
      local_80 = 0;
      if (local_90 == (float *)0x0) {
        pfVar28 = *(float **)(param_3 + 8);
        pfVar29 = *(float **)(local_a8 + 0x68);
        if (pfVar28 == (float *)0x0) {
          puVar22 = auStack_118;
          if (pfVar29 == (float *)0x0) goto LAB_00118633;
          local_c8 = (float *)((ulong)local_c8._4_4_ << 0x20);
          iVar5 = 0;
        }
        else {
          if (pfVar29 == (float *)0x0) goto LAB_001180c0;
          iVar5 = 0;
          local_c8 = (float *)CONCAT44(local_c8._4_4_,pfVar28[-2]);
        }
      }
      else {
        pfVar28 = *(float **)(param_3 + 8);
        pfVar29 = *(float **)(local_a8 + 0x68);
        if (pfVar28 == (float *)0x0) {
          local_c8 = (float *)((ulong)local_c8._4_4_ << 0x20);
          if (pfVar29 == (float *)0x0) goto LAB_00117c03;
        }
        else {
          if (pfVar29 == (float *)0x0) goto LAB_00117bfa;
          local_c8 = (float *)CONCAT44(local_c8._4_4_,pfVar28[-2]);
        }
        iVar5 = (int)*(undefined8 *)(local_90 + -2);
        if (0 < iVar5) {
          fVar35 = *local_90;
          fVar40 = local_90[1];
          iVar17 = 0;
          fVar41 = local_90[2];
          auVar44 = ZEXT416((uint)fVar35);
          pfVar7 = local_90;
          fVar39 = fVar40;
          local_c0 = fVar41;
          while( true ) {
            iVar17 = iVar17 + 1;
            pfVar8 = pfVar7 + 3;
            if (iVar17 == iVar5) break;
            fVar36 = pfVar7[5];
            fVar42 = pfVar7[4];
            fVar2 = *pfVar8;
            if (fVar36 <= fVar41) {
              fVar41 = fVar36;
            }
            if (fVar42 <= fVar40) {
              fVar40 = fVar42;
            }
            if (fVar2 <= fVar35) {
              fVar35 = fVar2;
            }
            if (local_c0 <= fVar36) {
              local_c0 = fVar36;
            }
            if (fVar39 <= fVar42) {
              fVar39 = fVar42;
            }
            pfVar7 = pfVar8;
            if (auVar44._0_4_ <= fVar2) {
              auVar44._0_4_ = fVar2;
            }
          }
          goto LAB_00117945;
        }
      }
      local_c0 = 0.0;
      fVar39 = 0.0;
      auVar44._0_12_ = ZEXT812(0);
      auVar44._12_4_ = 0;
      fVar40 = 0.0;
      fVar35 = 0.0;
      fVar41 = fVar40;
LAB_00117945:
      puVar20 = auStackY_528;
      ppfVar26 = (float **)0x0;
      local_e8 = (float *)((ulong)local_e8 & 0xffffffff00000000);
      ppfVar30 = apfStackY_520;
      local_d0 = local_90;
      apfStackY_520[0] = pfVar29;
      local_e0 = (float *)((ulong)local_e0 & 0xffffffff00000000);
      local_d4 = 1.76564e-43;
      iVar17 = 1;
      local_f0 = ppfVar30;
      do {
        fVar36 = *pfVar29;
        iVar6 = iVar17 + -1;
        fVar42 = auVar44._0_4_;
        if (((((fVar42 < fVar36) || (pfVar29[3] < fVar35)) || (fVar2 = pfVar29[1], fVar39 < fVar2))
            || ((pfVar29[4] < fVar40 || (fVar3 = pfVar29[2], local_c0 < fVar3)))) ||
           (pfVar29[5] < fVar41)) {
LAB_00117bc0:
          if (iVar6 == 0) goto LAB_00117be0;
        }
        else {
          local_70 = (pfVar29[5] - fVar3) * _LC131;
          fVar37 = (pfVar29[3] - fVar36) * _LC131;
          fVar38 = (pfVar29[4] - fVar2) * _UNK_00138ca4;
          local_68[2] = fVar3 + local_70;
          local_b0 = CONCAT44(local_b0._4_4_,local_68[2]);
          local_68[0] = fVar36 + fVar37;
          local_bc = fVar2 + fVar38;
          local_78 = CONCAT44(fVar38,fVar37);
          local_b8 = CONCAT44(local_b8._4_4_,local_68[0]);
          local_68[1] = local_bc;
          if (0 < (int)local_c8) {
            local_f8 = (float *)CONCAT44(local_f8._4_4_,fVar35);
            pfVar7 = pfVar28;
            do {
              uVar32 = -(uint)(0.0 < pfVar7[2]);
              uVar33 = -(uint)(0.0 < pfVar7[1]);
              uVar34 = -(uint)(0.0 < *pfVar7);
              fVar36 = ((float)(~uVar32 & (uint)local_70 | ((uint)local_70 ^ _LC103) & uVar32) +
                       local_68[2]) * pfVar7[2] +
                       ((float)(~uVar33 & (uint)fVar38 | ((uint)fVar38 ^ _LC103) & uVar33) +
                       local_bc) * pfVar7[1] +
                       ((float)(~uVar34 & (uint)fVar37 | (_LC103 ^ (uint)fVar37) & uVar34) +
                       local_68[0]) * *pfVar7;
              if (pfVar7[3] <= fVar36 && fVar36 != pfVar7[3]) {
                auVar44 = ZEXT416((uint)fVar42);
                goto LAB_00117bc0;
              }
              pfVar7 = pfVar7 + 4;
            } while (pfVar28 + (long)(int)local_c8 * 4 != pfVar7);
            auVar44 = ZEXT416((uint)fVar42);
          }
          local_58[0] = 0;
          local_58[1] = 0;
          piVar24 = local_58 + 3;
          local_58[2] = 0;
          piVar14 = local_58;
          lVar27 = 0;
          local_58[3] = 0;
          local_58[4] = 0;
          pfVar7 = local_d0 + (long)iVar5 * 3;
          iVar13 = 0;
          local_58[5] = 0;
          while( true ) {
            if (0 < iVar5) {
              fVar36 = *(float *)((long)local_68 + lVar27);
              fVar42 = *(float *)((long)&local_78 + lVar27);
              pfVar8 = (float *)((long)local_d0 + lVar27);
              do {
                fVar2 = *pfVar8;
                if (fVar36 + fVar42 < fVar2) {
                  *piVar14 = *piVar14 + 1;
                }
                if (fVar2 < fVar36 - fVar42) {
                  iVar13 = iVar13 + 1;
                  *piVar24 = iVar13;
                }
                pfVar8 = pfVar8 + 3;
              } while (pfVar8 != pfVar7);
            }
            if ((iVar5 == iVar13) || (iVar5 == *piVar14)) goto LAB_00117bc0;
            if (lVar27 == 8) break;
            piVar24 = piVar24 + 1;
            piVar14 = piVar14 + 1;
            pfVar7 = pfVar7 + 1;
            lVar27 = lVar27 + 4;
            iVar13 = *piVar24;
          }
          uVar32 = auVar44._0_4_;
          if (*(long *)(pfVar29 + 10) == 0) {
            if (*(long *)(*(long *)(pfVar29 + 8) + 0x268) != 0) {
              local_b0 = CONCAT44(local_b0._4_4_,iVar6);
              local_f8 = (float *)CONCAT44(local_f8._4_4_,fVar41);
              local_b8 = CONCAT44(local_b8._4_4_,fVar35);
              local_10c = fVar39;
              local_108 = ppfVar26;
              local_100 = pfVar28;
              local_d8 = uVar32;
              local_bc = fVar40;
              Vector<ObjectID>::push_back(local_88);
              auVar44 = ZEXT416(local_d8);
              ppfVar26 = local_108;
              pfVar28 = local_100;
              fVar40 = local_bc;
              fVar41 = local_f8._0_4_;
              iVar6 = (int)(float)local_b0;
              fVar35 = (float)local_b8;
              fVar39 = local_10c;
            }
            goto LAB_00117bc0;
          }
          lVar27 = (long)iVar6 * 8;
          if ((int)local_d4 < iVar6) {
            if (local_e0._0_4_ == 0.0) {
              if ((uint)local_e8 < 0x100) {
                local_f8 = (float *)CONCAT44(local_f8._4_4_,fVar39);
                local_e8 = (float *)CONCAT44(local_e8._4_4_,uVar32);
                local_b8 = CONCAT44(local_b8._4_4_,fVar35);
                local_e0 = pfVar28;
                local_d4 = fVar41;
                local_bc = fVar40;
                local_b0 = lVar27;
                auVar44 = Memory::realloc_static(ppfVar26,0x800,false);
                uVar19 = auVar44._8_8_;
                ppfVar26 = auVar44._0_8_;
                auVar44 = ZEXT416((uint)local_e8);
                puVar22 = auStackY_528;
                if (ppfVar26 == (float **)0x0) goto LAB_0011883a;
                local_e8 = (float *)CONCAT44(local_e8._4_4_,0x100);
                lVar27 = local_b0;
                pfVar28 = local_e0;
                fVar40 = local_bc;
                fVar41 = local_d4;
                fVar35 = (float)local_b8;
                fVar39 = local_f8._0_4_;
              }
              *ppfVar26 = *local_f0;
              ppfVar26[0x7f] = local_f0[0x7f];
              lVar12 = (long)ppfVar26 - (long)((ulong)(ppfVar26 + 1) & 0xfffffffffffffff8);
              puVar23 = (undefined8 *)((long)local_f0 - lVar12);
              puVar25 = (undefined8 *)((ulong)(ppfVar26 + 1) & 0xfffffffffffffff8);
              for (uVar16 = (ulong)((int)lVar12 + 0x400U >> 3); uVar16 != 0; uVar16 = uVar16 - 1) {
                *puVar25 = *puVar23;
                puVar23 = puVar23 + (ulong)bVar31 * -2 + 1;
                puVar25 = puVar25 + (ulong)bVar31 * -2 + 1;
              }
              local_d4 = 3.5593e-43;
              local_e0 = (float *)CONCAT44(local_e0._4_4_,0x100);
              local_f0 = (float **)0x0;
            }
            else {
              uVar33 = (int)local_e0._0_4_ * 2;
              local_d4 = fVar40;
              if ((uint)local_e0._0_4_ <= uVar33) {
                if (uVar33 <= (uint)local_e0._0_4_) {
                  local_d4 = (float)((int)local_e0._0_4_ - 2);
                  goto LAB_00118481;
                }
                if ((uint)local_e8 < uVar33) {
                  local_b0 = CONCAT44(local_b0._4_4_,uVar33);
                  uVar33 = uVar33 - 1 >> 1 | uVar33 - 1;
                  local_108 = (float **)CONCAT44(local_108._4_4_,fVar39);
                  local_e0 = (float *)CONCAT44(local_e0._4_4_,fVar41);
                  uVar33 = uVar33 | uVar33 >> 2;
                  local_100 = (float *)CONCAT44(local_100._4_4_,uVar32);
                  uVar33 = uVar33 | uVar33 >> 4;
                  uVar33 = uVar33 | uVar33 >> 8;
                  uVar32 = (uVar33 | uVar33 >> 0x10) + 1;
                  local_e8 = (float *)CONCAT44(local_e8._4_4_,uVar32);
                  local_f8 = pfVar28;
                  local_bc = fVar35;
                  local_b8 = lVar27;
                  auVar44 = Memory::realloc_static(ppfVar26,(ulong)uVar32 << 3,false);
                  uVar19 = auVar44._8_8_;
                  ppfVar26 = auVar44._0_8_;
                  auVar44 = ZEXT416((uint)local_100._0_4_);
                  puVar22 = auStackY_528;
                  lVar27 = local_b8;
                  pfVar28 = local_f8;
                  fVar41 = local_e0._0_4_;
                  uVar33 = (uint)(float)local_b0;
                  fVar35 = local_bc;
                  fVar39 = local_108._0_4_;
                  if (ppfVar26 == (float **)0x0) goto LAB_0011883a;
                }
              }
              local_e0 = (float *)CONCAT44(local_e0._4_4_,uVar33);
              fVar40 = local_d4;
              local_d4 = (float)(uVar33 - 2);
            }
LAB_00118481:
            ppfVar11 = (float **)((long)ppfVar26 + lVar27);
            ppfVar30 = ppfVar26;
          }
          else {
            ppfVar11 = ppfVar30 + iVar6;
          }
          *ppfVar11 = *(float **)(pfVar29 + 8);
          iVar6 = iVar17 + 1;
          *(undefined8 *)((long)ppfVar30 + lVar27 + 8) = *(undefined8 *)(pfVar29 + 10);
        }
        pfVar29 = ppfVar30[iVar6 + -1];
        iVar17 = iVar6;
      } while( true );
    }
    if (*(int *)(local_a8 + 0x240) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0);
    }
  }
  puVar22 = auStack_118;
  _err_print_error("instances_cull_convex","servers/rendering/renderer_scene_cull.cpp",0x506,
                   "Parameter \"scenario\" is null.",0,0);
  *(undefined8 *)(local_a0 + 8) = 0;
  goto LAB_00117f78;
LAB_00117f28:
  puVar22 = puVar21 + -0x410;
  if (pfVar7 != (float *)0x0) {
    *(undefined8 *)(puVar21 + -0x418) = 0x117f37;
    Memory::free_static(pfVar7,false);
    puVar22 = puVar21 + -0x410;
  }
  goto LAB_00117f37;
LAB_00117be0:
  if (ppfVar26 != (float **)0x0) {
    Memory::free_static(ppfVar26,false);
  }
  pfVar28 = *(float **)(param_3 + 8);
LAB_00117bfa:
  puVar22 = puVar20;
  puVar21 = puVar20;
  if (local_90 == (float *)0x0) {
LAB_001180c0:
    if (pfVar28 == (float *)0x0) {
LAB_00118633:
      pfVar29 = *(float **)(local_a8 + 0xe8);
      if (pfVar29 != (float *)0x0) {
        pfVar28 = (float *)0x0;
        local_c8 = (float *)0x0;
        iVar5 = 0;
        uVar16 = 0;
        goto LAB_001180ea;
      }
    }
    else {
      pfVar29 = *(float **)(local_a8 + 0xe8);
      if (pfVar29 != (float *)0x0) {
        uVar16 = *(ulong *)(pfVar28 + -2) & 0xffffffff;
        iVar5 = 0;
        local_c8 = local_90;
LAB_001180ea:
        local_bc = 0.0;
        fVar39 = 0.0;
        auVar45._0_12_ = ZEXT812(0);
        auVar45._12_4_ = 0;
        fVar40 = 0.0;
        fVar35 = 0.0;
        puVar21 = puVar22;
        fVar41 = fVar40;
LAB_00117c9d:
        *(undefined8 *)(puVar21 + -8) = *(undefined8 *)(puVar21 + -8);
        pfVar7 = (float *)0x0;
        local_d4 = 0.0;
        pfVar8 = (float *)((ulong)(puVar21 + -0x401) & 0xfffffffffffffff0);
        *(float **)pfVar8 = pfVar29;
        local_d0 = (float *)((ulong)local_d0 & 0xffffffff00000000);
        local_c0 = 1.76564e-43;
        iVar17 = 1;
        local_e0 = pfVar8;
        do {
          fVar36 = *pfVar29;
          iVar6 = iVar17 + -1;
          fVar42 = auVar45._0_4_;
          if ((((fVar42 < fVar36) || (pfVar29[3] < fVar35)) || (fVar2 = pfVar29[1], fVar39 < fVar2))
             || (((pfVar29[4] < fVar40 || (fVar3 = pfVar29[2], local_bc < fVar3)) ||
                 (pfVar29[5] < fVar41)))) {
LAB_00117f10:
            if (iVar6 == 0) goto LAB_00117f28;
          }
          else {
            local_70 = (pfVar29[5] - fVar3) * _LC131;
            fVar37 = (pfVar29[3] - fVar36) * _LC131;
            fVar38 = (pfVar29[4] - fVar2) * _UNK_00138ca4;
            local_68[2] = fVar3 + local_70;
            local_b0 = CONCAT44(local_b0._4_4_,local_68[2]);
            local_68[0] = fVar36 + fVar37;
            local_68[1] = fVar2 + fVar38;
            local_78 = CONCAT44(fVar38,fVar37);
            local_a8 = CONCAT44(local_a8._4_4_,local_68[0]);
            local_b8 = CONCAT44(local_b8._4_4_,local_68[1]);
            iVar13 = (int)uVar16;
            if (0 < iVar13) {
              local_e8 = (float *)CONCAT44(local_e8._4_4_,fVar35);
              pfVar10 = pfVar28;
              do {
                uVar32 = -(uint)(0.0 < pfVar10[2]);
                uVar33 = -(uint)(0.0 < pfVar10[1]);
                uVar34 = -(uint)(0.0 < *pfVar10);
                fVar36 = ((float)(~uVar32 & (uint)local_70 | ((uint)local_70 ^ _LC103) & uVar32) +
                         local_68[2]) * pfVar10[2] +
                         ((float)(~uVar33 & (uint)fVar38 | ((uint)fVar38 ^ _LC103) & uVar33) +
                         local_68[1]) * pfVar10[1] +
                         ((float)(~uVar34 & (uint)fVar37 | (_LC103 ^ (uint)fVar37) & uVar34) +
                         local_68[0]) * *pfVar10;
                if (pfVar10[3] <= fVar36 && fVar36 != pfVar10[3]) {
                  auVar45 = ZEXT416((uint)fVar42);
                  goto LAB_00117f10;
                }
                pfVar10 = pfVar10 + 4;
              } while (pfVar10 != pfVar28 + (long)iVar13 * 4);
              auVar45 = ZEXT416((uint)fVar42);
            }
            piVar24 = local_58 + 3;
            iVar18 = 0;
            local_58[0] = 0;
            local_58[1] = 0;
            piVar14 = local_58;
            lVar27 = 0;
            local_58[2] = 0;
            pfVar10 = local_c8 + (long)iVar5 * 3;
            local_58[3] = 0;
            local_58[4] = 0;
            local_58[5] = 0;
            while( true ) {
              if (0 < iVar5) {
                fVar36 = *(float *)((long)local_68 + lVar27);
                fVar42 = *(float *)((long)&local_78 + lVar27);
                pfVar9 = (float *)((long)local_c8 + lVar27);
                do {
                  fVar2 = *pfVar9;
                  if (fVar36 + fVar42 < fVar2) {
                    *piVar14 = *piVar14 + 1;
                  }
                  if (fVar2 < fVar36 - fVar42) {
                    iVar18 = iVar18 + 1;
                    *piVar24 = iVar18;
                  }
                  pfVar9 = pfVar9 + 3;
                } while (pfVar10 != pfVar9);
              }
              if ((iVar5 == iVar18) || (*piVar14 == iVar5)) goto LAB_00117f10;
              piVar24 = piVar24 + 1;
              piVar14 = piVar14 + 1;
              pfVar10 = pfVar10 + 1;
              if (lVar27 == 8) break;
              iVar18 = *piVar24;
              lVar27 = lVar27 + 4;
            }
            uVar43 = auVar45._0_4_;
            if (*(long *)(pfVar29 + 10) == 0) {
              if (*(long *)(*(long *)(pfVar29 + 8) + 0x268) != 0) {
                local_f0 = (float **)CONCAT44(local_f0._4_4_,iVar13);
                local_108 = (float **)CONCAT44(local_108._4_4_,uVar43);
                local_100 = (float *)CONCAT44(local_100._4_4_,fVar39);
                local_b8 = CONCAT44(local_b8._4_4_,fVar35);
                local_b0 = CONCAT44(local_b0._4_4_,fVar40);
                local_a8 = CONCAT44(local_a8._4_4_,fVar41);
                *(undefined8 *)(puVar21 + -0x418) = 0x118590;
                local_f8 = pfVar7;
                local_e8 = pfVar28;
                Vector<ObjectID>::push_back(local_88);
                uVar16 = (ulong)local_f0 & 0xffffffff;
                auVar45 = ZEXT416((uint)local_108._0_4_);
                pfVar7 = local_f8;
                pfVar28 = local_e8;
                fVar40 = (float)local_b0;
                fVar41 = (float)local_a8;
                fVar35 = (float)local_b8;
                fVar39 = local_100._0_4_;
              }
              goto LAB_00117f10;
            }
            lVar27 = (long)iVar6 * 8;
            if ((int)local_c0 < iVar6) {
              local_c0 = fVar35;
              if (local_d0._0_4_ == 0.0) {
                if ((uint)local_d4 < 0x100) {
                  local_e8 = (float *)CONCAT44(local_e8._4_4_,iVar13);
                  local_f8 = (float *)CONCAT44(local_f8._4_4_,uVar43);
                  local_f0 = (float **)CONCAT44(local_f0._4_4_,fVar39);
                  local_b8 = CONCAT44(local_b8._4_4_,fVar40);
                  local_b0 = CONCAT44(local_b0._4_4_,fVar41);
                  *(undefined8 *)(puVar21 + -0x418) = 0x1188bf;
                  local_d0 = pfVar28;
                  local_a8 = lVar27;
                  auVar44 = Memory::realloc_static(pfVar7,0x800,false);
                  uVar19 = auVar44._8_8_;
                  pfVar7 = auVar44._0_8_;
                  puVar22 = puVar21 + -0x410;
                  if (pfVar7 == (float *)0x0) {
LAB_0011883a:
                    *(undefined8 *)(puVar22 + -8) = uVar19;
                    *(undefined8 *)(puVar22 + -0x10) = 0;
                    *(undefined8 *)(puVar22 + -0x18) = 0x118866;
                    _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                                     "FATAL: Condition \"!data\" is true.","Out of memory",0);
                    *(undefined8 *)(puVar22 + -0x18) = 0x11886b;
                    _err_flush_stdout();
                    /* WARNING: Does not return */
                    pcVar4 = (code *)invalidInstructionException();
                    (*pcVar4)();
                  }
                  auVar45 = ZEXT416((uint)local_f8._0_4_);
                  local_d4 = 3.58732e-43;
                  uVar16 = (ulong)local_e8 & 0xffffffff;
                  lVar27 = local_a8;
                  pfVar28 = local_d0;
                  fVar40 = (float)local_b8;
                  fVar41 = (float)local_b0;
                  fVar35 = local_c0;
                  fVar39 = local_f0._0_4_;
                }
                *(undefined8 *)pfVar7 = *(undefined8 *)local_e0;
                *(undefined8 *)(pfVar7 + 0xfe) = *(undefined8 *)(local_e0 + 0xfe);
                lVar12 = (long)pfVar7 - (long)((ulong)(pfVar7 + 2) & 0xfffffffffffffff8);
                puVar23 = (undefined8 *)((long)local_e0 - lVar12);
                puVar25 = (undefined8 *)((ulong)(pfVar7 + 2) & 0xfffffffffffffff8);
                for (uVar15 = (ulong)((int)lVar12 + 0x400U >> 3); uVar15 != 0; uVar15 = uVar15 - 1)
                {
                  *puVar25 = *puVar23;
                  puVar23 = puVar23 + (ulong)bVar31 * -2 + 1;
                  puVar25 = puVar25 + (ulong)bVar31 * -2 + 1;
                }
                local_c0 = 3.5593e-43;
                local_d0 = (float *)CONCAT44(local_d0._4_4_,0x100);
                local_e0 = (float *)0x0;
              }
              else {
                fVar36 = (float)((int)local_d0._0_4_ * 2);
                if ((uint)local_d0._0_4_ <= (uint)fVar36) {
                  if ((uint)fVar36 <= (uint)local_d0._0_4_) {
                    local_c0 = (float)((int)local_d0._0_4_ + -2);
                    goto LAB_001183fd;
                  }
                  if ((uint)local_d4 < (uint)fVar36) {
                    local_e8 = (float *)CONCAT44(local_e8._4_4_,iVar13);
                    uVar32 = (int)fVar36 - 1U >> 1 | (int)fVar36 - 1U;
                    local_f0 = (float **)CONCAT44(local_f0._4_4_,fVar39);
                    local_b8 = CONCAT44(local_b8._4_4_,fVar40);
                    uVar32 = uVar32 >> 2 | uVar32;
                    local_b0 = CONCAT44(local_b0._4_4_,fVar41);
                    local_f8 = (float *)CONCAT44(local_f8._4_4_,uVar43);
                    uVar32 = uVar32 | uVar32 >> 4;
                    uVar32 = uVar32 | uVar32 >> 8;
                    local_d4 = (float)((uVar32 | uVar32 >> 0x10) + 1);
                    *(undefined8 *)(puVar21 + -0x418) = 0x1187f0;
                    local_d0 = pfVar28;
                    local_a8 = lVar27;
                    auVar44 = Memory::realloc_static(pfVar7,(ulong)(uint)local_d4 << 3,false);
                    uVar19 = auVar44._8_8_;
                    pfVar7 = auVar44._0_8_;
                    uVar16 = (ulong)local_e8 & 0xffffffff;
                    auVar45 = ZEXT416((uint)local_f8._0_4_);
                    puVar22 = puVar21 + -0x410;
                    lVar27 = local_a8;
                    pfVar28 = local_d0;
                    fVar40 = (float)local_b8;
                    fVar41 = (float)local_b0;
                    fVar35 = local_c0;
                    fVar39 = local_f0._0_4_;
                    if (pfVar7 == (float *)0x0) goto LAB_0011883a;
                  }
                }
                local_c0 = (float)((int)fVar36 - 2);
                local_d0 = (float *)CONCAT44(local_d0._4_4_,fVar36);
              }
LAB_001183fd:
              pfVar10 = (float *)((long)pfVar7 + lVar27);
              pfVar8 = pfVar7;
            }
            else {
              pfVar10 = pfVar8 + (long)iVar6 * 2;
            }
            iVar6 = iVar17 + 1;
            *(undefined8 *)pfVar10 = *(undefined8 *)(pfVar29 + 8);
            *(undefined8 *)((long)pfVar8 + lVar27 + 8) = *(undefined8 *)(pfVar29 + 10);
          }
          pfVar29 = *(float **)(pfVar8 + (long)(iVar6 + -1) * 2);
          iVar17 = iVar6;
        } while( true );
      }
    }
  }
  else {
LAB_00117c03:
    if (pfVar28 == (float *)0x0) {
      uVar16 = 0;
    }
    else {
      uVar16 = (ulong)(uint)pfVar28[-2];
    }
    pfVar29 = *(float **)(local_a8 + 0xe8);
    puVar22 = puVar21;
    if (pfVar29 != (float *)0x0) {
      iVar5 = (int)*(undefined8 *)(local_90 + -2);
      local_c8 = local_90;
      if (0 < iVar5) {
        fVar35 = *local_90;
        fVar40 = local_90[1];
        fVar41 = local_90[2];
        iVar17 = 1;
        auVar45 = ZEXT416((uint)fVar35);
        pfVar7 = local_90;
        fVar39 = fVar40;
        local_bc = fVar41;
        if (iVar5 != 1) {
          do {
            fVar36 = pfVar7[4];
            fVar42 = pfVar7[3];
            iVar17 = iVar17 + 1;
            fVar2 = pfVar7[5];
            if (fVar36 <= fVar40) {
              fVar40 = fVar36;
            }
            if (fVar42 <= fVar35) {
              fVar35 = fVar42;
            }
            if (fVar2 <= fVar41) {
              fVar41 = fVar2;
            }
            if (local_bc <= fVar2) {
              local_bc = fVar2;
            }
            if (fVar39 <= fVar36) {
              fVar39 = fVar36;
            }
            if (auVar45._0_4_ <= fVar42) {
              auVar45._0_4_ = fVar42;
            }
            pfVar7 = pfVar7 + 3;
          } while (iVar17 != iVar5);
        }
        goto LAB_00117c9d;
      }
      goto LAB_001180ea;
    }
  }
LAB_00117f37:
  *(undefined8 *)(local_a0 + 8) = 0;
  *(undefined8 *)(puVar22 + -8) = 0x117f53;
  CowData<ObjectID>::_ref((CowData<ObjectID> *)(local_a0 + 8),(CowData *)&local_80);
  if (local_80 != 0) {
    LOCK();
    plVar1 = (long *)(local_80 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      *(undefined8 *)(puVar22 + -8) = 0x117fb7;
      Memory::free_static((void *)(local_80 + -0x10),false);
    }
  }
  pfVar28 = local_90;
  if (local_90 != (float *)0x0) {
    LOCK();
    pfVar29 = local_90 + -4;
    *(long *)pfVar29 = *(long *)pfVar29 + -1;
    UNLOCK();
    if (*(long *)pfVar29 == 0) {
      local_90 = (float *)0x0;
      *(undefined8 *)(puVar22 + -8) = 0x117fdd;
      Memory::free_static(pfVar28 + -4,false);
    }
  }
LAB_00117f78:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_a0;
  }
                    /* WARNING: Subroutine does not return */
  *(undefined8 *)(puVar22 + -8) = 0x118872;
  __stack_chk_fail();
}



/* RendererSceneCull::update() */

void __thiscall RendererSceneCull::update(RendererSceneCull *this)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  code *pcVar5;
  long lVar6;
  undefined1 *puVar7;
  int iVar8;
  ulong uVar9;
  ulong uVar10;
  ulong *puVar11;
  long lVar12;
  undefined1 *puVar13;
  ulong uVar15;
  ulong *puVar16;
  long in_FS_OFFSET;
  undefined1 auStack_48 [8];
  long local_40;
  undefined1 *puVar14;
  
  puVar13 = auStack_48;
  uVar1 = *(uint *)(this + 0x1c0);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar9 = (ulong)uVar1 * 8 + 0x17;
  puVar14 = auStack_48;
  puVar7 = auStack_48;
  while (puVar14 != auStack_48 + -(uVar9 & 0xfffffffffffff000)) {
    puVar13 = puVar7 + -0x1000;
    *(undefined8 *)(puVar7 + -8) = *(undefined8 *)(puVar7 + -8);
    puVar14 = puVar7 + -0x1000;
    puVar7 = puVar7 + -0x1000;
  }
  uVar9 = (ulong)((uint)uVar9 & 0xff0);
  lVar6 = -uVar9;
  if (uVar9 != 0) {
    *(undefined8 *)(puVar13 + -8) = *(undefined8 *)(puVar13 + -8);
  }
  puVar11 = (ulong *)((ulong)(puVar13 + lVar6 + 0xf) & 0xfffffffffffffff0);
  *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118a45;
  iVar8 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x1d0));
  if (iVar8 != 0) {
                    /* WARNING: Subroutine does not return */
    *(undefined **)(puVar13 + lVar6 + -8) = &UNK_00118bef;
    std::__throw_system_error(iVar8);
  }
  uVar2 = *(uint *)(this + 0x1bc);
  if (uVar2 != 0) {
    lVar12 = *(long *)(this + 0x1a8);
    uVar3 = *(uint *)(this + 0x1b8);
    uVar10 = 0;
    uVar9 = 0;
    do {
      uVar4 = *(uint *)(*(long *)(lVar12 + (uVar10 / uVar3) * 8) + (uVar10 % (ulong)uVar3) * 0x248 +
                       0x240);
      uVar15 = uVar9;
      if (uVar4 != 0xffffffff) {
        uVar15 = (ulong)((int)uVar9 + 1);
        puVar11[uVar9] = (ulong)uVar4 << 0x20 | uVar10;
      }
      uVar10 = uVar10 + 1;
      uVar9 = uVar15;
    } while (uVar10 != uVar2);
  }
  *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118abc;
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x1d0));
  if (uVar1 != 0) {
    puVar16 = puVar11 + uVar1;
    do {
      if (*puVar11 == 0) {
LAB_00118b46:
        lVar12 = 0;
      }
      else {
        uVar9 = *puVar11;
        if (*(uint *)(this + 0x1bc) <= (uint)uVar9) goto LAB_00118b46;
        lVar12 = *(long *)(*(long *)(this + 0x1a8) +
                          ((uVar9 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
                 ((uVar9 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
        if (*(int *)(lVar12 + 0x240) != (int)(uVar9 >> 0x20)) {
          if (0x7ffffffe < *(int *)(lVar12 + 0x240) + 0x80000000U) goto LAB_00118b46;
          lVar12 = 0;
          *(undefined8 *)(puVar13 + lVar6 + -0x10) = 0;
          *(undefined8 *)(puVar13 + lVar6 + -0x18) = 0x118bcd;
          _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                           "Method/function failed. Returning: nullptr",
                           "Attempting to use an uninitialized RID",0);
        }
      }
      puVar11 = puVar11 + 1;
      *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118b27;
      DynamicBVH::optimize_incremental((int)lVar12);
      *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118b3b;
      DynamicBVH::optimize_incremental((int)lVar12 + 0x80);
    } while (puVar16 != puVar11);
  }
  pcVar5 = *(code **)(**(long **)(this + 8) + 0x1b8);
  *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118b5e;
  (*pcVar5)();
  *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118b66;
  update_dirty_instances(this);
  *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118b6e;
  render_particle_colliders();
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    *(undefined8 *)(puVar13 + lVar6 + -8) = 0x118be8;
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::instance_set_blend_shape_weight(RID, int, float) */

void RendererSceneCull::instance_set_blend_shape_weight
               (RendererSceneCull *param_1,ulong param_2,undefined4 param_3)

{
  long *plVar1;
  DependencyTracker *this;
  undefined4 uVar2;
  Instance IVar3;
  undefined4 uVar4;
  uint uVar5;
  Instance *pIVar6;
  code *pcVar7;
  undefined1 auVar8 [16];
  char cVar9;
  byte bVar10;
  undefined1 uVar11;
  Instance IVar12;
  Instance IVar13;
  int iVar14;
  int iVar15;
  int iVar16;
  uint uVar17;
  long lVar18;
  ulong uVar19;
  uint *puVar20;
  undefined8 uVar21;
  AABB *pAVar22;
  undefined8 *puVar23;
  Color *pCVar24;
  float *pfVar25;
  long lVar26;
  undefined8 uVar27;
  undefined8 uVar28;
  void *pvVar29;
  undefined1 *puVar30;
  long *plVar31;
  uint uVar32;
  long lVar33;
  byte bVar34;
  Instance *pIVar35;
  long lVar36;
  AABB *pAVar37;
  Instance *pIVar38;
  ulong uVar39;
  char *pcVar40;
  ID *pIVar41;
  uint uVar42;
  undefined1 (*pauVar43) [16];
  long lVar44;
  Color *pCVar45;
  undefined4 uVar46;
  int iVar47;
  long in_FS_OFFSET;
  Instance IVar48;
  bool bVar49;
  ushort in_FPUStatusWord;
  float fVar50;
  float fVar51;
  float fVar52;
  double dVar53;
  float fVar54;
  float fVar55;
  float fVar56;
  undefined8 uVar57;
  float fVar58;
  float fVar59;
  float fVar60;
  float fVar61;
  undefined1 auVar62 [16];
  char *pcVar63;
  char local_388;
  float local_368;
  ulong local_308;
  Instance *local_2b8;
  RendererSceneCull *local_2b0;
  undefined1 local_2a8 [16];
  undefined1 local_298 [16];
  uint local_288;
  long local_280;
  undefined4 local_278;
  undefined8 local_268;
  float local_260;
  undefined8 local_258;
  undefined8 uStack_250;
  undefined8 local_248;
  float local_238;
  float local_234;
  float local_230;
  float local_22c;
  float local_228;
  float local_224;
  float local_218;
  float fStack_214;
  float fStack_210;
  float fStack_20c;
  float local_208;
  float fStack_204;
  undefined8 local_1f8;
  float local_1f0;
  undefined1 local_1c8 [8];
  ulong local_1c0;
  Color local_1a4 [12];
  undefined8 local_198;
  float local_190;
  float fStack_18c;
  float local_188;
  float fStack_184;
  float local_180;
  float local_17c;
  float local_178;
  undefined8 local_174;
  float local_16c;
  undefined8 local_168;
  float afStack_160 [34];
  undefined8 local_d8;
  float fStack_d0;
  float fStack_cc;
  float fStack_c8;
  float local_c4;
  AABB local_48 [8];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_2 == 0) || (*(uint *)(param_1 + 0x97ec) <= (uint)param_2)) {
LAB_00119ce0:
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      _err_print_error("instance_set_blend_shape_weight","servers/rendering/renderer_scene_cull.cpp"
                       ,0x42b,"Parameter \"instance\" is null.",0,0);
      return;
    }
    goto LAB_0011bccc;
  }
  pIVar35 = (Instance *)
            (((param_2 & 0xffffffff) % (ulong)*(uint *)(param_1 + 0x97e8)) * 0x308 +
            *(long *)(*(long *)(param_1 + 0x97d8) +
                     ((param_2 & 0xffffffff) / (ulong)*(uint *)(param_1 + 0x97e8)) * 8));
  if (*(int *)(pIVar35 + 0x300) != (int)(param_2 >> 0x20)) {
    if (*(int *)(pIVar35 + 0x300) + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0,0);
    }
    goto LAB_00119ce0;
  }
  if (*(long *)(pIVar35 + 0x238) == 0) {
    if (*(long *)(pIVar35 + 0x28) != 0) goto LAB_00119277;
LAB_001192a6:
    pIVar6 = pIVar35 + 0x238;
    *(RendererSceneCull **)(pIVar35 + 0x238) = param_1 + 0x260;
    lVar33 = *(long *)(param_1 + 0x260);
    *(undefined8 *)(pIVar35 + 0x250) = 0;
    *(long *)(pIVar35 + 0x248) = lVar33;
    if (lVar33 == 0) {
      *(Instance **)(param_1 + 0x268) = pIVar6;
    }
    else {
      *(Instance **)(lVar33 + 0x18) = pIVar6;
    }
    *(Instance **)(param_1 + 0x260) = pIVar6;
  }
  else {
    if (pIVar35[0x230] != (Instance)0x0) {
      fVar52 = 0.0;
      fVar58 = 0.0;
      fVar51 = 0.0;
      fVar54 = 0.0;
      fVar50 = 0.0;
      fVar59 = 0.0;
      if (*(int *)pIVar35 != 0) {
        if (*(long *)(pIVar35 + 8) == 0) {
          _err_print_error("_update_instance_aabb","servers/rendering/renderer_scene_cull.cpp",0x803
                           ,
                           "Condition \"p_instance->base_type != RenderingServer::INSTANCE_NONE && !p_instance->base.is_valid()\" is true."
                           ,0,0);
          goto LAB_00118cc5;
        }
        switch(*(int *)pIVar35) {
        default:
          fVar52 = 0.0;
          fVar58 = 0.0;
          fVar51 = 0.0;
          fVar54 = 0.0;
          fVar50 = 0.0;
          fVar59 = 0.0;
          break;
        case 1:
          pfVar25 = *(float **)(pIVar35 + 600);
          if (pfVar25 == (float *)0x0) {
            (**(code **)(*RenderingServerGlobals::mesh_storage + 0x98))
                      (&local_218,RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar35 + 8),
                       *(undefined8 *)(pIVar35 + 0x10));
            fVar52 = local_218;
            fVar58 = fStack_214;
            fVar51 = fStack_210;
            fVar54 = fStack_20c;
            fVar50 = local_208;
            fVar59 = fStack_204;
          }
          else {
LAB_0011ae1d:
            fVar52 = *pfVar25;
            fVar58 = pfVar25[1];
            fVar51 = pfVar25[2];
            fVar54 = pfVar25[3];
            fVar50 = pfVar25[4];
            fVar59 = pfVar25[5];
          }
          break;
        case 2:
          pfVar25 = *(float **)(pIVar35 + 600);
          if (pfVar25 != (float *)0x0) goto LAB_0011ae1d;
          (**(code **)(*RenderingServerGlobals::mesh_storage + 0x1e0))
                    (&local_218,RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 3:
          pfVar25 = *(float **)(pIVar35 + 600);
          if (pfVar25 != (float *)0x0) goto LAB_0011ae1d;
          (**(code **)(*RenderingServerGlobals::particles_storage + 0x130))
                    (&local_218,RenderingServerGlobals::particles_storage,
                     *(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 4:
          (**(code **)(*RenderingServerGlobals::particles_storage + 0x1e8))
                    (&local_218,RenderingServerGlobals::particles_storage,
                     *(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 5:
          (**(code **)(*RenderingServerGlobals::light_storage + 0x100))
                    (&local_218,RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 6:
          (**(code **)(*RenderingServerGlobals::light_storage + 0x218))
                    (&local_218,RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 7:
          (**(code **)(*RenderingServerGlobals::texture_storage + 0x1a8))
                    (&local_218,RenderingServerGlobals::texture_storage,*(undefined8 *)(pIVar35 + 8)
                    );
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 8:
          (**(code **)(*RenderingServerGlobals::gi + 0x30))
                    (&local_218,RenderingServerGlobals::gi,*(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 9:
          (**(code **)(*RenderingServerGlobals::light_storage + 0x330))
                    (&local_218,RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 0xb:
          (**(code **)(*RenderingServerGlobals::utilities + 0x50))
                    (&local_218,RenderingServerGlobals::utilities,*(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
          break;
        case 0xc:
          (**(code **)(*RenderingServerGlobals::fog + 0x40))
                    (&local_218,RenderingServerGlobals::fog,*(undefined8 *)(pIVar35 + 8));
          fVar52 = local_218;
          fVar58 = fStack_214;
          fVar51 = fStack_210;
          fVar54 = fStack_20c;
          fVar50 = local_208;
          fVar59 = fStack_204;
        }
      }
      fVar60 = *(float *)(pIVar35 + 0x260);
      if (fVar60 == 0.0) {
        *(float *)(pIVar35 + 0x120) = fVar52;
        *(float *)(pIVar35 + 0x124) = fVar58;
        *(float *)(pIVar35 + 0x128) = fVar51;
        *(float *)(pIVar35 + 300) = fVar54;
        *(float *)(pIVar35 + 0x130) = fVar50;
        *(float *)(pIVar35 + 0x134) = fVar59;
      }
      else {
        fVar61 = fVar60 + fVar60;
        *(float *)(pIVar35 + 0x130) = fVar50 + fVar61;
        *(float *)(pIVar35 + 0x134) = fVar59 + fVar61;
        *(float *)(pIVar35 + 0x120) = fVar52 - fVar60;
        *(float *)(pIVar35 + 0x124) = fVar58 - fVar60;
        *(float *)(pIVar35 + 0x128) = fVar51 - fVar60;
        *(float *)(pIVar35 + 300) = fVar61 + fVar54;
      }
    }
LAB_00118cc5:
    IVar3 = pIVar35[0x231];
    if (IVar3 == (Instance)0x0) {
LAB_00118cd6:
      if (param_1 + 0x260 == *(RendererSceneCull **)(pIVar35 + 0x238)) {
        lVar33 = *(long *)(pIVar35 + 0x248);
        if (lVar33 != 0) {
          *(undefined8 *)(lVar33 + 0x18) = *(undefined8 *)(pIVar35 + 0x250);
        }
        lVar18 = *(long *)(pIVar35 + 0x250);
        if (lVar18 != 0) {
          *(long *)(lVar18 + 0x10) = lVar33;
        }
        if (pIVar35 + 0x238 == *(Instance **)(param_1 + 0x260)) {
          *(undefined8 *)(param_1 + 0x260) = *(undefined8 *)(pIVar35 + 0x248);
          pIVar6 = *(Instance **)(param_1 + 0x268);
        }
        else {
          pIVar6 = *(Instance **)(param_1 + 0x268);
        }
        if (pIVar35 + 0x238 == pIVar6) {
          *(long *)(param_1 + 0x268) = lVar18;
        }
        *(undefined8 *)(pIVar35 + 0x238) = 0;
        *(undefined1 (*) [16])(pIVar35 + 0x248) = (undefined1  [16])0x0;
      }
      else {
        _err_print_error("remove","./core/templates/self_list.h",0x50,
                         "Condition \"p_elem->_root != this\" is true.",0,0);
      }
      pIVar6 = pIVar35 + 0x30;
      *(long *)(pIVar35 + 0x290) = *(long *)(pIVar35 + 0x290) + 1;
      uVar42 = *(uint *)pIVar35;
      switch(uVar42) {
      case 0:
        goto switchD_00118d89_caseD_0;
      case 3:
        (**(code **)(*RenderingServerGlobals::particles_storage + 0x138))
                  (RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar35 + 8),pIVar6);
        break;
      case 4:
        lVar33 = *(long *)(pIVar35 + 0x298);
        cVar9 = (**(code **)(*RenderingServerGlobals::particles_storage + 0x1f0))
                          (RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar35 + 8));
        if (cVar9 != '\0') {
          HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
          ::insert(&local_2b8);
        }
        (**(code **)(*RenderingServerGlobals::particles_storage + 0x218))
                  (RenderingServerGlobals::particles_storage,*(undefined8 *)(lVar33 + 8),pIVar6);
        break;
      case 5:
        lVar33 = *(long *)(pIVar35 + 0x298);
        (**(code **)(*RenderingServerGlobals::light_storage + 0x150))
                  (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar33 + 8),pIVar6);
        lVar18 = 0;
        local_198 = 0;
        local_190 = 0.0;
        puVar30 = local_1c8;
        pcVar7 = *(code **)(*RenderingServerGlobals::light_storage + 0x158);
        local_168 = *(undefined8 *)(pIVar35 + 0x120);
        afStack_160[0] = *(float *)(pIVar35 + 0x128);
        local_1c8 = (undefined1  [8])0x0;
        local_1c0 = local_1c0 & 0xffffffff00000000;
        local_1f0 = *(float *)(pIVar35 + 0x128) + *(float *)(pIVar35 + 0x134);
        local_1f8 = CONCAT44((float)((ulong)*(undefined8 *)(pIVar35 + 300) >> 0x20) +
                             (float)((ulong)*(undefined8 *)(pIVar35 + 0x120) >> 0x20),
                             (float)*(undefined8 *)(pIVar35 + 300) +
                             (float)*(undefined8 *)(pIVar35 + 0x120));
        pIVar38 = pIVar35;
        do {
          fVar52 = *(float *)(pIVar35 + lVar18 + 0x54);
          lVar26 = 0;
          fVar58 = fVar52;
          do {
            fVar54 = *(float *)((long)&local_168 + lVar26) * *(float *)(pIVar38 + lVar26 + 0x30);
            fVar50 = *(float *)(pIVar38 + lVar26 + 0x30) * *(float *)((long)&local_1f8 + lVar26);
            fVar51 = fVar50;
            if (fVar54 < fVar50) {
              fVar51 = fVar54;
              fVar54 = fVar50;
            }
            fVar58 = fVar58 + fVar54;
            fVar52 = fVar52 + fVar51;
            lVar26 = lVar26 + 4;
          } while (lVar26 != 0xc);
          *(float *)((long)&local_198 + lVar18) = fVar58;
          pIVar38 = pIVar38 + 0xc;
          *(float *)(puVar30 + lVar18) = fVar52;
          lVar18 = lVar18 + 4;
        } while (lVar18 != 0xc);
        local_c4 = local_190 - (float)local_1c0;
        fStack_cc = (float)local_198 - local_1c8._0_4_;
        fStack_c8 = (float)((ulong)local_198 >> 0x20) - local_1c8._4_4_;
        local_d8 = local_1c8;
        fStack_d0 = (float)local_1c0;
        (*pcVar7)(RenderingServerGlobals::light_storage,*(undefined8 *)(lVar33 + 8),&local_d8);
        plVar31 = RenderingServerGlobals::light_storage;
        uVar21 = *(undefined8 *)(pIVar35 + 8);
        *(uint *)(lVar33 + 0x60) = 2 - (uint)*(byte *)(lVar33 + 0x68);
        iVar15 = (**(code **)(*plVar31 + 0x120))(plVar31,uVar21);
        iVar14 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                           (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar35 + 8));
        if ((iVar14 != 0) && (iVar15 != *(int *)(lVar33 + 0x58))) {
          if (((byte)pIVar35[0xe0] & 4) == 0) {
            *(int *)(lVar33 + 0x58) = iVar15;
          }
          else {
            lVar18 = *(long *)(pIVar35 + 0x208);
            if (((*(int *)(lVar33 + 0x58) == 2) && (lVar18 != 0)) &&
               (uVar42 = *(uint *)(lVar18 + 0x188), uVar42 != 0)) {
              puVar30 = *(undefined1 **)(lVar18 + 400);
              uVar19 = 0;
              do {
                if (*(long *)(puVar30 + uVar19 * 8) == *(long *)(lVar33 + 8)) {
                  *(uint *)(lVar18 + 0x188) = uVar42 - 1;
                  uVar32 = (uint)uVar19;
                  if (uVar32 < uVar42 - 1) {
                    memmove(puVar30 + uVar19 * 8,puVar30 + (ulong)(uVar32 + 1) * 8,
                            (ulong)((uVar42 - 2) - uVar32) * 8 + 8);
                    IVar3 = pIVar35[0xe0];
                    *(int *)(lVar33 + 0x58) = iVar15;
                    if (((byte)IVar3 & 4) == 0) goto LAB_001198b6;
                    lVar18 = *(long *)(pIVar35 + 0x208);
                    goto LAB_0011987e;
                  }
                  break;
                }
                uVar19 = uVar19 + 1;
              } while (uVar42 != uVar19);
            }
            *(int *)(lVar33 + 0x58) = iVar15;
LAB_0011987e:
            if ((iVar15 == 2) && (lVar18 != 0)) {
              uVar21 = *(undefined8 *)(lVar33 + 8);
              uVar42 = *(uint *)(lVar18 + 0x188);
              pvVar29 = *(void **)(lVar18 + 400);
              if (uVar42 == *(uint *)(lVar18 + 0x18c)) {
                uVar19 = (ulong)(uVar42 * 2);
                if (uVar42 * 2 == 0) {
                  uVar19 = 1;
                }
                *(int *)(lVar18 + 0x18c) = (int)uVar19;
                pvVar29 = (void *)Memory::realloc_static(pvVar29,uVar19 * 8,false);
                *(void **)(lVar18 + 400) = pvVar29;
                if (pvVar29 == (void *)0x0) {
                  _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                                   "FATAL: Condition \"!data\" is true.","Out of memory",0,0,puVar30
                                  );
                  _err_flush_stdout();
                    /* WARNING: Does not return */
                  pcVar7 = (code *)invalidInstructionException();
                  (*pcVar7)();
                }
                uVar42 = *(uint *)(lVar18 + 0x188);
              }
              *(uint *)(lVar18 + 0x188) = uVar42 + 1;
              *(undefined8 *)((long)pvVar29 + (ulong)uVar42 * 8) = uVar21;
            }
          }
        }
LAB_001198b6:
        iVar15 = (**(code **)(*RenderingServerGlobals::light_storage + 0x128))
                           (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar35 + 8));
        if (iVar15 != *(int *)(lVar33 + 0x5c)) {
          *(int *)(lVar33 + 0x5c) = iVar15;
        }
        break;
      case 6:
        (**(code **)(*RenderingServerGlobals::light_storage + 0x290))
                  (RenderingServerGlobals::light_storage,
                   *(undefined8 *)(*(long *)(pIVar35 + 0x298) + 0x38),pIVar6);
        lVar33 = *(long *)(pIVar35 + 0x208);
        if ((lVar33 != 0) && (uVar42 = *(uint *)(pIVar35 + 0x1b0), -1 < (int)uVar42)) {
          local_308 = *(ulong *)(lVar33 + 0x1f0);
          uVar19 = (ulong)(int)uVar42;
          if (local_308 <= uVar19) {
            iVar15 = 0xb0;
            pcVar40 = "./core/templates/paged_array.h";
            pcVar63 = "count";
            goto LAB_0011b24b;
          }
          puVar20 = (uint *)((ulong)(uVar42 & *(uint *)(lVar33 + 0x1e8)) * 0x30 +
                            *(long *)(*(long *)(lVar33 + 0x1d0) +
                                     (uVar19 >> ((byte)*(undefined4 *)(lVar33 + 0x1e4) & 0x3f)) * 8)
                            );
          *puVar20 = *puVar20 | 0x40000;
        }
        break;
      case 7:
        (**(code **)(*RenderingServerGlobals::texture_storage + 0x1d8))
                  (RenderingServerGlobals::texture_storage,
                   *(undefined8 *)(*(long *)(pIVar35 + 0x298) + 0x10),pIVar6);
        break;
      case 8:
        (**(code **)(**(long **)(param_1 + 8) + 0x108))
                  (*(long **)(param_1 + 8),*(undefined8 *)(*(long *)(pIVar35 + 0x298) + 0xa8),pIVar6
                  );
        break;
      case 9:
        (**(code **)(*RenderingServerGlobals::light_storage + 0x380))
                  (RenderingServerGlobals::light_storage,
                   *(undefined8 *)(*(long *)(pIVar35 + 0x298) + 8),pIVar6);
        break;
      case 10:
        if (*(long *)(pIVar35 + 0x208) != 0) {
          if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x38) ==
              RendererSceneOcclusionCull::scenario_set_instance) {
            if (RendererSceneOcclusionCull::_print_warning()::first_print == '\0')
            goto LAB_00119a27;
            _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",
                             0xcd,"Occlusion culling is disabled at build-time.",0,1);
            RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
          }
          else {
            (**(code **)(*RendererSceneOcclusionCull::singleton + 0x38))
                      (RendererSceneOcclusionCull::singleton,
                       *(undefined8 *)(*(long *)(pIVar35 + 0x208) + 0x100),
                       *(undefined8 *)(pIVar35 + 0x1a0),*(undefined8 *)(pIVar35 + 8),pIVar6,
                       (byte)pIVar35[0xe0] >> 2 & 1);
          }
          break;
        }
LAB_00119a27:
        fVar52 = *(float *)(pIVar35 + 300);
        if (fVar52 <= 0.0) {
          if (*(float *)(pIVar35 + 0x130) <= 0.0) goto LAB_00119311;
          goto LAB_00118dd0;
        }
        goto LAB_00118dd8;
      case 0xc:
        (**(code **)(**(long **)(param_1 + 8) + 0xe0))
                  (*(long **)(param_1 + 8),*(undefined8 *)(*(long *)(pIVar35 + 0x298) + 8),pIVar6);
      }
      if ((0.0 < *(float *)(pIVar35 + 300)) || (0.0 < *(float *)(pIVar35 + 0x130))) {
LAB_00118dc5:
        uVar42 = *(uint *)pIVar35;
        if (uVar42 == 9) {
          iVar15 = *(int *)(*(long *)(pIVar35 + 0x298) + 0x34);
          if (iVar15 != 0) {
            plVar31 = *(long **)(*(long *)(pIVar35 + 0x298) + 0x10);
            iVar14 = 0;
            while( true ) {
              lVar33 = *plVar31;
              *(undefined1 *)(lVar33 + 0x230) = 1;
              if (*(long *)(lVar33 + 0x238) == 0) {
                lVar26 = *(long *)(param_1 + 0x260);
                *(RendererSceneCull **)(lVar33 + 0x238) = param_1 + 0x260;
                lVar18 = lVar33 + 0x238;
                *(undefined8 *)(lVar33 + 0x250) = 0;
                *(long *)(lVar33 + 0x248) = lVar26;
                if (lVar26 == 0) {
                  *(long *)(param_1 + 0x268) = lVar18;
                }
                else {
                  *(long *)(lVar26 + 0x18) = lVar18;
                }
                *(long *)(param_1 + 0x260) = lVar18;
              }
              iVar14 = iVar14 + 1;
              if (iVar15 <= iVar14) break;
              plVar31 = plVar31 + 1;
            }
          }
        }
LAB_00118dd0:
        fVar52 = *(float *)(pIVar35 + 300);
LAB_00118dd8:
        lVar33 = 0;
        local_168 = *(undefined8 *)(pIVar35 + 0x120);
        local_198 = 0;
        local_190 = 0.0;
        afStack_160[0] = *(float *)(pIVar35 + 0x128);
        local_1c8 = (undefined1  [8])0x0;
        local_1c0 = local_1c0 & 0xffffffff00000000;
        local_1f0 = *(float *)(pIVar35 + 0x128) + *(float *)(pIVar35 + 0x134);
        local_1f8 = CONCAT44(*(float *)(pIVar35 + 0x130) +
                             (float)((ulong)*(undefined8 *)(pIVar35 + 0x120) >> 0x20),
                             fVar52 + (float)*(undefined8 *)(pIVar35 + 0x120));
        pIVar38 = pIVar35;
        do {
          fVar52 = *(float *)(pIVar35 + lVar33 + 0x54);
          lVar18 = 0;
          fVar58 = fVar52;
          do {
            fVar54 = *(float *)((AABB *)&local_168 + lVar18) * *(float *)(pIVar38 + lVar18 + 0x30);
            fVar50 = *(float *)(pIVar38 + lVar18 + 0x30) * *(float *)((long)&local_1f8 + lVar18);
            fVar51 = fVar50;
            if (fVar54 < fVar50) {
              fVar51 = fVar54;
              fVar54 = fVar50;
            }
            fVar58 = fVar58 + fVar54;
            fVar52 = fVar52 + fVar51;
            lVar18 = lVar18 + 4;
          } while (lVar18 != 0xc);
          *(float *)((long)&local_198 + lVar33) = fVar58;
          pIVar38 = pIVar38 + 0xc;
          *(float *)((Color *)local_1c8 + lVar33) = fVar52;
          auVar62._8_8_ = local_1c0;
          auVar62._0_8_ = local_1c8;
          lVar33 = lVar33 + 4;
        } while (lVar33 != 0xc);
        local_c4 = local_190 - (float)local_1c0;
        fStack_cc = (float)local_198 - local_1c8._0_4_;
        fStack_c8 = (float)((ulong)local_198 >> 0x20) - local_1c8._4_4_;
        local_d8 = local_1c8;
        fStack_d0 = (float)local_1c0;
        local_248 = CONCAT44(local_c4,fStack_c8);
        uStack_250 = CONCAT44(fStack_cc,(float)local_1c0);
        *(undefined8 *)(pIVar35 + 0x148) = local_248;
        local_258 = local_1c8;
        *(undefined1 (*) [8])(pIVar35 + 0x138) = local_1c8;
        *(undefined8 *)(pIVar35 + 0x140) = uStack_250;
        _local_1c8 = auVar62;
        if ((0xeU >> (uVar42 & 0x1f) & 1) != 0) {
          lVar33 = *(long *)(pIVar35 + 0x298);
          if ((*(char *)(lVar33 + 0x38) != '\0') && (iVar15 = *(int *)(lVar33 + 0x34), iVar15 != 0))
          {
            plVar31 = *(long **)(lVar33 + 0x10);
            iVar14 = 0;
            while( true ) {
              iVar14 = iVar14 + 1;
              *(uint *)(*(long *)(*plVar31 + 0x298) + 0x60) =
                   2 - (uint)*(byte *)(*(long *)(*plVar31 + 0x298) + 0x68);
              if (iVar15 <= iVar14) break;
              plVar31 = plVar31 + 1;
            }
          }
          lVar18 = *(long *)(pIVar35 + 0x118);
          if ((*(long *)(pIVar35 + 0xf0) == 0) && (*(int *)(lVar33 + 0xe4) != 0)) {
            if (lVar18 == 0) {
              local_308 = 0;
            }
            else {
              local_308 = *(ulong *)(lVar18 + -8);
            }
            CowData<Color>::resize<false>((CowData<Color> *)(pIVar35 + 0x118),9);
            CowData<Color>::resize<false>((CowData<Color> *)(pIVar35 + 0x280),9);
            CowData<Color>::_copy_on_write((CowData<Color> *)(pIVar35 + 0x280));
            pauVar43 = *(undefined1 (**) [16])(pIVar35 + 0x280);
            pAVar37 = (AABB *)&local_168;
            do {
              pAVar22 = pAVar37 + 0x10;
              *(undefined1 (*) [16])pAVar37 = __LC210;
              pAVar37 = pAVar22;
            } while ((AABB *)&local_d8 != pAVar22);
            lVar18 = *(long *)(pIVar35 + 0x298);
            iVar15 = *(int *)(lVar18 + 0xe4);
            if (iVar15 != 0) {
              lVar44 = 0;
              local_368 = 0.0;
              lVar26 = *(long *)(lVar18 + 0xc0);
              bVar34 = 0;
              while( true ) {
                lVar36 = *(long *)(lVar26 + lVar44 * 8);
                bVar10 = (**(code **)(*RenderingServerGlobals::light_storage + 0x340))
                                   (RenderingServerGlobals::light_storage,
                                    *(undefined8 *)(lVar36 + 8));
                if ((bVar10 == 1) || (bVar34 == 0)) {
                  Transform3D::affine_inverse();
                  fVar50 = _LC131 * *(float *)(pIVar35 + 0x130) + *(float *)(pIVar35 + 0x124);
                  fVar52 = _LC131 * *(float *)(pIVar35 + 300) + *(float *)(pIVar35 + 0x120);
                  fVar54 = _LC131 * *(float *)(pIVar35 + 0x134) + *(float *)(pIVar35 + 0x128);
                  fVar58 = *(float *)(pIVar35 + 0x48) * fVar52 + *(float *)(pIVar35 + 0x4c) * fVar50
                           + *(float *)(pIVar35 + 0x50) * fVar54 + *(float *)(pIVar35 + 0x5c);
                  fVar51 = *(float *)(pIVar35 + 0x3c) * fVar52 + *(float *)(pIVar35 + 0x40) * fVar50
                           + *(float *)(pIVar35 + 0x44) * fVar54 + *(float *)(pIVar35 + 0x58);
                  fVar52 = fVar52 * *(float *)(pIVar35 + 0x30) + fVar50 * *(float *)(pIVar35 + 0x34)
                           + fVar54 * *(float *)(pIVar35 + 0x38) + *(float *)(pIVar35 + 0x54);
                  local_260 = local_178 * fVar58 + local_180 * fVar52 + local_17c * fVar51 +
                              local_16c;
                  local_268 = CONCAT44(local_188 * fVar51 + fStack_18c * fVar52 +
                                       fStack_184 * fVar58 + (float)((ulong)local_174 >> 0x20),
                                       local_198._4_4_ * fVar51 + (float)local_198 * fVar52 +
                                       local_190 * fVar58 + (float)local_174);
                  (**(code **)(*RenderingServerGlobals::light_storage + 0x330))
                            (&local_238,RenderingServerGlobals::light_storage,
                             *(undefined8 *)(lVar36 + 8));
                  fVar59 = local_224;
                  fVar50 = local_228;
                  fVar54 = local_22c;
                  fVar51 = local_230;
                  fVar58 = local_234;
                  fVar52 = local_238;
                  if ((local_22c < 0.0) || ((local_228 < 0.0 || (local_224 < 0.0)))) {
                    _err_print_error("has_point","./core/math/aabb.h",0x13c,
                                     "AABB size is negative, this is not supported. Use AABB.abs() to get an AABB with a positive size."
                                     ,0,0);
                  }
                  if (((((fVar52 <= (float)local_268) && (fVar58 <= local_268._4_4_)) &&
                       (fVar51 <= local_260)) &&
                      (((float)local_268 <= fVar52 + fVar54 && (local_268._4_4_ <= fVar58 + fVar50))
                      )) && (local_260 <= fVar51 + fVar59)) {
                    pAVar37 = (AABB *)&local_d8;
                    do {
                      pAVar22 = pAVar37 + 0x10;
                      *(undefined1 (*) [16])pAVar37 = __LC210;
                      pAVar37 = pAVar22;
                    } while (pAVar22 != local_48);
                    (**(code **)(*RenderingServerGlobals::light_storage + 0x338))
                              (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar36 + 8),
                               &local_268,(AABB *)&local_d8);
                    Basis::orthonormalized();
                    pCVar45 = (Color *)local_1c8;
                    pAVar37 = (AABB *)&local_d8;
                    pAVar22 = (AABB *)&local_d8;
                    do {
                      do {
                        pCVar24 = pCVar45 + 4;
                        *(undefined4 *)pCVar45 = *(undefined4 *)pAVar37;
                        pCVar45 = pCVar24;
                        pAVar37 = pAVar37 + 0x10;
                      } while (pCVar24 != local_1a4);
                      Basis::rotate_sh((float *)&local_1f8);
                      pAVar37 = pAVar22;
                      pCVar45 = (Color *)local_1c8;
                      do {
                        uVar2 = *(undefined4 *)pCVar45;
                        pCVar45 = pCVar45 + 4;
                        *(undefined4 *)pAVar37 = uVar2;
                        pAVar37 = pAVar37 + 0x10;
                      } while (pCVar45 != local_1a4);
                      pAVar37 = pAVar22 + 4;
                      pCVar45 = (Color *)local_1c8;
                      pAVar22 = pAVar37;
                    } while (pAVar37 != (AABB *)&fStack_cc);
                    fVar59 = (local_260 - fVar51) / fVar59;
                    fVar59 = (fVar59 + fVar59) - _LC55;
                    fVar50 = (local_268._4_4_ - fVar58) / fVar50;
                    fVar54 = ((float)local_268 - fVar52) / fVar54;
                    fVar58 = (fVar50 + fVar50) - _LC55;
                    fVar51 = (fVar54 + fVar54) - _LC55;
                    fVar54 = (float)(((uint)fVar59 ^ _LC103) & -(uint)(fVar59 < 0.0) |
                                    ~-(uint)(fVar59 < 0.0) & (uint)fVar59);
                    fVar52 = (float)(((uint)fVar58 ^ _LC103) & -(uint)(fVar58 < 0.0) |
                                    ~-(uint)(fVar58 < 0.0) & (uint)fVar58);
                    if (fVar52 <= fVar54) {
                      fVar52 = fVar54;
                    }
                    fVar54 = (float)(((uint)fVar51 ^ _LC103) & -(uint)(fVar51 < 0.0) |
                                    ~-(uint)(fVar51 < 0.0) & (uint)fVar51);
                    if (fVar54 <= fVar52) {
                      fVar54 = fVar52;
                    }
                    fVar52 = SQRT(fVar58 * fVar58 + fVar51 * fVar51 + fVar59 * fVar59);
                    fVar58 = 0.0;
                    fVar52 = fVar52 + (fVar54 - fVar52) * fVar54;
                    dVar53 = _LC104 - (double)(fVar52 * fVar52);
                    if (0.0 <= dVar53) {
                      fVar58 = (float)dVar53;
                    }
                    bVar10 = bVar10 & (bVar34 ^ 1);
                    pAVar37 = (AABB *)&local_d8;
                    pCVar45 = (Color *)&local_168;
                    if (bVar10 == 0) {
                      do {
                        pAVar22 = (AABB *)((Color *)pAVar37 + 0x10);
                        auVar62 = Color::operator*((Color *)pAVar37,fVar58);
                        _local_1c8 = auVar62;
                        Color::operator+=(pCVar45,(Color *)local_1c8);
                        pAVar37 = pAVar22;
                        pCVar45 = pCVar45 + 0x10;
                      } while (pAVar22 != local_48);
                      local_368 = fVar58 + local_368;
                    }
                    else {
                      iVar14 = 0;
                      do {
                        lVar36 = (long)iVar14;
                        iVar14 = iVar14 + 1;
                        auVar62 = Color::operator*((Color *)pAVar37,fVar58);
                        (&local_168)[lVar36 * 2] = auVar62._0_8_;
                        *(long *)(afStack_160 + lVar36 * 4) = auVar62._8_8_;
                        pAVar37 = (AABB *)((Color *)pAVar37 + 0x10);
                        local_368 = fVar58;
                        bVar34 = bVar10;
                      } while (iVar14 != 9);
                    }
                  }
                }
                if (iVar15 <= (int)lVar44 + 1) break;
                lVar44 = lVar44 + 1;
              }
              uVar19 = 0;
              if (0.0 < local_368) {
                do {
                  auVar62 = Color::operator/((Color *)((AABB *)&local_168 + uVar19 * 0x10),local_368
                                            );
                  *pauVar43 = auVar62;
                  if (local_308 == 0) {
                    uVar39 = local_308;
                    if ((*(long *)(pIVar35 + 0x118) == 0) ||
                       (uVar39 = *(ulong *)(*(long *)(pIVar35 + 0x118) + -8),
                       (long)uVar39 <= (long)uVar19)) {
                      local_308 = uVar39;
                      iVar15 = 0x38;
                      pcVar40 = "./core/templates/vector.h";
                      pcVar63 = "((Vector<T> *)(this))->_cowdata.size()";
                      goto LAB_0011b24b;
                    }
                    CowData<Color>::_copy_on_write((CowData<Color> *)(pIVar35 + 0x118));
                    *(undefined1 (*) [16])(*(long *)(pIVar35 + 0x118) + uVar19 * 0x10) = *pauVar43;
                  }
                  uVar19 = uVar19 + 1;
                  pauVar43 = pauVar43 + 1;
                } while (uVar19 != 9);
              }
            }
            plVar31 = *(long **)(lVar18 + 8);
            if (plVar31 == (long *)0x0) {
              _err_print_error("_update_instance_lightmap_captures",
                               "servers/rendering/renderer_scene_cull.cpp",0x898,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
            }
            else {
              (**(code **)(*plVar31 + 0x90))(plVar31,*(undefined8 *)(pIVar35 + 0x118));
            }
          }
          else if (lVar18 != 0) {
            if (*(long *)(lVar18 + -8) != 0) {
              LOCK();
              plVar31 = (long *)(lVar18 + -0x10);
              *plVar31 = *plVar31 + -1;
              UNLOCK();
              if (*plVar31 == 0) {
                lVar18 = *(long *)(pIVar35 + 0x118);
                *(undefined8 *)(pIVar35 + 0x118) = 0;
                Memory::free_static((void *)(lVar18 + -0x10),false);
              }
              else {
                *(undefined8 *)(pIVar35 + 0x118) = 0;
              }
            }
            lVar18 = *(long *)(pIVar35 + 0x280);
            if ((lVar18 != 0) && (*(long *)(lVar18 + -8) != 0)) {
              LOCK();
              plVar31 = (long *)(lVar18 + -0x10);
              *plVar31 = *plVar31 + -1;
              UNLOCK();
              if (*plVar31 == 0) {
                lVar18 = *(long *)(pIVar35 + 0x280);
                *(undefined8 *)(pIVar35 + 0x280) = 0;
                Memory::free_static((void *)(lVar18 + -0x10),false);
              }
              else {
                *(undefined8 *)(pIVar35 + 0x280) = 0;
              }
            }
            plVar31 = *(long **)(lVar33 + 8);
            if (plVar31 == (long *)0x0) {
              _err_print_error("_update_instance","servers/rendering/renderer_scene_cull.cpp",0x6fb,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto switchD_00118d89_caseD_0;
            }
            (**(code **)(*plVar31 + 0x90))(plVar31,0);
          }
          plVar31 = *(long **)(lVar33 + 8);
          if (plVar31 == (long *)0x0) {
            _err_print_error("_update_instance","servers/rendering/renderer_scene_cull.cpp",0x700,
                             "Parameter \"geom->geometry_instance\" is null.",0,0);
            goto switchD_00118d89_caseD_0;
          }
          (**(code **)(*plVar31 + 0x40))(plVar31,pIVar6,pIVar35 + 0x120,pIVar35 + 0x138);
        }
        pIVar41 = *(ID **)(pIVar35 + 0x208);
        if (((pIVar41 == (ID *)0x0) || (((byte)pIVar35[0xe0] & 4) == 0)) ||
           (((*(float *)(pIVar35 + 0x40) * *(float *)(pIVar35 + 0x50) -
             *(float *)(pIVar35 + 0x4c) * *(float *)(pIVar35 + 0x44)) * *(float *)(pIVar35 + 0x30) -
            (*(float *)(pIVar35 + 0x50) * *(float *)(pIVar35 + 0x34) -
            *(float *)(pIVar35 + 0x4c) * *(float *)(pIVar35 + 0x38)) * *(float *)(pIVar35 + 0x3c)) +
            (*(float *)(pIVar35 + 0x44) * *(float *)(pIVar35 + 0x34) -
            *(float *)(pIVar35 + 0x40) * *(float *)(pIVar35 + 0x38)) * *(float *)(pIVar35 + 0x48) ==
            0.0)) {
          *(undefined8 *)(pIVar35 + 0x160) = *(undefined8 *)(pIVar35 + 0x148);
          *(undefined8 *)(pIVar35 + 0x150) = *(undefined8 *)(pIVar35 + 0x138);
          *(undefined8 *)(pIVar35 + 0x158) = *(undefined8 *)(pIVar35 + 0x140);
        }
        else {
          local_168 = *(undefined8 *)(pIVar35 + 0x138);
          afStack_160[0] = (float)*(undefined8 *)(pIVar35 + 0x140);
          afStack_160[1] = (float)((ulong)*(undefined8 *)(pIVar35 + 0x140) >> 0x20);
          afStack_160[2] = (float)*(undefined8 *)(pIVar35 + 0x148);
          afStack_160[3] = (float)((ulong)*(undefined8 *)(pIVar35 + 0x148) >> 0x20);
          if (*(long *)(pIVar35 + 0x1a8) == 0) {
            uVar42 = *(uint *)pIVar35;
LAB_00119d34:
            if ((0xeU >> (uVar42 & 0x1f) & 1) == 0) {
              pIVar41 = pIVar41 + 0x80;
            }
            uVar46 = 0xffffffff;
            uVar21 = DynamicBVH::insert(pIVar41,(AABB *)&local_168);
            lVar33 = *(long *)(pIVar35 + 0x208);
            uVar42 = *(uint *)pIVar35;
            *(undefined8 *)(pIVar35 + 0x1a8) = uVar21;
            uVar39 = *(ulong *)(lVar33 + 0x1f0);
            uVar21 = *(undefined8 *)(pIVar35 + 8);
            uVar2 = *(undefined4 *)(pIVar35 + 0xdc);
            *(int *)(pIVar35 + 0x1b0) = (int)uVar39;
            if (*(long *)(pIVar35 + 0x1d0) != 0) {
              uVar46 = *(undefined4 *)(*(long *)(pIVar35 + 0x1d0) + 0x1b0);
            }
            uVar4 = *(undefined4 *)(pIVar35 + 0x1b4);
            iVar15 = *(int *)(pIVar35 + 0x1fc);
            if (iVar15 != 0) {
              plVar31 = *(long **)(pIVar35 + 0x1d8);
              iVar14 = 0;
              lVar18 = *plVar31;
              uVar32 = *(uint *)(lVar18 + 0x1b0);
              while( true ) {
                if (uVar32 != 0xffffffff) {
                  lVar18 = *(long *)(lVar18 + 0x208);
                  uVar19 = (ulong)(int)uVar32;
                  local_308 = *(ulong *)(lVar18 + 0x1f0);
                  if (local_308 <= uVar19) goto LAB_0011b221;
                  *(int *)((ulong)(uVar32 & *(uint *)(lVar18 + 0x1e8)) * 0x30 +
                           *(long *)(*(long *)(lVar18 + 0x1d0) +
                                    (uVar19 >> ((byte)*(undefined4 *)(lVar18 + 0x1e4) & 0x3f) &
                                    0xffffffff) * 8) + 0x20) = (int)uVar39;
                }
                iVar14 = iVar14 + 1;
                if (iVar15 <= iVar14) break;
                lVar18 = plVar31[1];
                plVar31 = plVar31 + 1;
                uVar32 = *(uint *)(lVar18 + 0x1b0);
              }
            }
            switch(uVar42) {
            default:
              uVar57 = 0;
              break;
            case 1:
            case 2:
            case 3:
            case 9:
            case 0xc:
              uVar57 = *(undefined8 *)(*(long *)(pIVar35 + 0x298) + 8);
              break;
            case 5:
              lVar33 = *(long *)(pIVar35 + 0x298);
              uVar57 = *(undefined8 *)(lVar33 + 8);
              uVar11 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf0))
                                 (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar35 + 8)
                                 );
              plVar31 = RenderingServerGlobals::light_storage;
              uVar27 = *(undefined8 *)(pIVar35 + 8);
              *(undefined1 *)(lVar33 + 0x20) = uVar11;
              fVar52 = (float)(**(code **)(*plVar31 + 0x108))(plVar31,uVar27,5);
              *(bool *)(lVar33 + 0x21) = __LC223 < (double)fVar52;
              lVar33 = *(long *)(pIVar35 + 0x208);
              uVar39 = *(ulong *)(lVar33 + 0x1f0);
              if (*(int *)pIVar35 == 6) goto LAB_0011a5a3;
              break;
            case 6:
              uVar57 = *(undefined8 *)(*(long *)(pIVar35 + 0x298) + 0x38);
LAB_0011a5a3:
              uVar42 = uVar42 | 0x40000;
              break;
            case 7:
              uVar57 = *(undefined8 *)(*(long *)(pIVar35 + 0x298) + 0x10);
              break;
            case 8:
              uVar57 = *(undefined8 *)(*(long *)(pIVar35 + 0x298) + 0xa8);
              break;
            case 0xb:
              uVar57 = *(undefined8 *)(pIVar35 + 0x298);
            }
            uVar32 = uVar42;
            if (*(int *)(pIVar35 + 0xd8) != 0) {
              uVar32 = uVar42 | 0x300;
              if (*(int *)(pIVar35 + 0xd8) != 3) {
                uVar32 = uVar42 | 0x100;
              }
            }
            uVar32 = ((byte)pIVar35[0xe0] >> 5 & 1) << 10 | ((byte)pIVar35[0xe0] >> 3 & 1) << 0x10 |
                     uVar32;
            if (*(long *)(pIVar35 + 0x28) != 0) {
              uVar32 = uVar32 | 0x20000;
            }
            IVar3 = pIVar35[0xc4];
            IVar48 = pIVar35[0xc5];
            uVar42 = (uint)uVar39 & *(uint *)(lVar33 + 0x1e8);
            if (uVar42 == 0) {
              uVar17 = 1;
              uVar42 = 0;
              if (uVar39 != 0) {
                iVar15 = (int)(uVar39 - 1 >> ((byte)*(undefined4 *)(lVar33 + 0x1e4) & 0x3f));
                uVar42 = iVar15 + 1;
                uVar17 = iVar15 + 2;
              }
              uVar5 = *(uint *)(lVar33 + 0x1e0);
              plVar31 = *(long **)(lVar33 + 0x1c8);
              if (uVar17 <= uVar5) {
LAB_0011b8eb:
                plVar1 = plVar31 + 4;
                while( true ) {
                  uVar19 = (ulong)local_2b8 >> 8;
                  local_2b8 = (Instance *)(uVar19 << 8);
                  LOCK();
                  bVar49 = (char)*plVar1 == '\0';
                  if (bVar49) {
                    *(char *)plVar1 = '\x01';
                  }
                  UNLOCK();
                  if (bVar49) break;
                  local_2b8 = (Instance *)(uVar19 << 8);
                  do {
                  } while ((char)*plVar1 != '\0');
                }
                iVar15 = (int)plVar31[3];
                if (iVar15 == 0) {
                  uVar17 = *(uint *)(plVar31 + 1);
                  *(uint *)(plVar31 + 1) = uVar17 + 1;
                  lVar18 = Memory::realloc_static((void *)*plVar31,(ulong)(uVar17 + 1) * 8,false);
                  *plVar31 = lVar18;
                  lVar18 = Memory::realloc_static
                                     ((void *)plVar31[2],(ulong)*(uint *)(plVar31 + 1) << 2,false);
                  plVar31[2] = lVar18;
                  lVar18 = *plVar31;
                  uVar27 = Memory::alloc_static((ulong)*(uint *)((long)plVar31 + 0x1c) * 0x30,false)
                  ;
                  *(undefined8 *)(lVar18 + (ulong)uVar17 * 8) = uVar27;
                  puVar20 = (uint *)plVar31[2];
                  *puVar20 = uVar17;
                  iVar15 = (int)plVar31[3] + 1;
                }
                else {
                  puVar20 = (uint *)plVar31[2];
                }
                *(uint *)(plVar31 + 3) = iVar15 - 1U;
                uVar17 = puVar20[iVar15 - 1U];
                uVar27 = *(undefined8 *)(*plVar31 + (ulong)uVar17 * 8);
                *(undefined1 *)(plVar31 + 4) = 0;
                lVar18 = *(long *)(lVar33 + 0x1d0);
                lVar26 = *(long *)(lVar33 + 0x1d8);
                *(undefined8 *)(lVar18 + (ulong)uVar42 * 8) = uVar27;
                uVar39 = *(ulong *)(lVar33 + 0x1f0);
                *(uint *)(lVar26 + (ulong)uVar42 * 4) = uVar17;
                uVar42 = *(uint *)(lVar33 + 0x1e8) & (uint)uVar39;
                goto LAB_0011a1ff;
              }
              if (plVar31 != (long *)0x0) {
                uVar19 = 1;
                if (uVar5 != 0) {
                  uVar19 = (ulong)(uVar5 * 2);
                }
                *(int *)(lVar33 + 0x1e0) = (int)uVar19;
                uVar27 = Memory::realloc_static(*(void **)(lVar33 + 0x1d0),uVar19 * 8,false);
                *(undefined8 *)(lVar33 + 0x1d0) = uVar27;
                uVar27 = Memory::realloc_static
                                   (*(void **)(lVar33 + 0x1d8),(ulong)*(uint *)(lVar33 + 0x1e0) << 2
                                    ,false);
                *(undefined8 *)(lVar33 + 0x1d8) = uVar27;
                plVar31 = *(long **)(lVar33 + 0x1c8);
                goto LAB_0011b8eb;
              }
              _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                               "Parameter \"page_pool\" is null.",0,0);
            }
            else {
              lVar18 = *(long *)(lVar33 + 0x1d0);
LAB_0011a1ff:
              puVar23 = (undefined8 *)
                        ((ulong)uVar42 * 0x30 +
                        *(long *)(lVar18 + (uVar39 >> ((byte)*(undefined4 *)(lVar33 + 0x1e4) & 0x3f)
                                           & 0xffffffff) * 8));
              *puVar23 = CONCAT44(uVar2,-(uint)(byte)IVar3 & 0x80000 |
                                        -(uint)(byte)IVar48 & 0x1000000 | uVar32);
              puVar23[3] = pIVar35;
              puVar23[5] = 0;
              puVar23[1] = uVar21;
              puVar23[2] = uVar57;
              puVar23[4] = CONCAT44(uVar4,uVar46);
              *(ulong *)(lVar33 + 0x1f0) = uVar39 + 1;
            }
            fVar52 = *(float *)(pIVar35 + 0x138);
            lVar33 = *(long *)(pIVar35 + 0x208);
            fVar58 = *(float *)(pIVar35 + 0x144);
            uVar2 = *(undefined4 *)(pIVar35 + 0x140);
            uVar19 = *(ulong *)(lVar33 + 0x1c0);
            uVar27 = *(undefined8 *)(pIVar35 + 0x138);
            uVar21 = *(undefined8 *)(pIVar35 + 0x13c);
            uVar57 = *(undefined8 *)(pIVar35 + 0x148);
            uVar42 = (uint)uVar19 & *(uint *)(lVar33 + 0x1b8);
            if (uVar42 == 0) {
              uVar32 = 1;
              uVar42 = 0;
              if (uVar19 != 0) {
                iVar15 = (int)(uVar19 - 1 >> ((byte)*(undefined4 *)(lVar33 + 0x1b4) & 0x3f));
                uVar42 = iVar15 + 1;
                uVar32 = iVar15 + 2;
              }
              uVar17 = *(uint *)(lVar33 + 0x1b0);
              plVar31 = *(long **)(lVar33 + 0x198);
              if (uVar32 <= uVar17) {
LAB_0011b81d:
                plVar1 = plVar31 + 4;
                while( true ) {
                  uVar19 = (ulong)local_2b8 >> 8;
                  local_2b8 = (Instance *)(uVar19 << 8);
                  LOCK();
                  bVar49 = (char)*plVar1 == '\0';
                  if (bVar49) {
                    *(char *)plVar1 = '\x01';
                  }
                  UNLOCK();
                  if (bVar49) break;
                  local_2b8 = (Instance *)(uVar19 << 8);
                  do {
                  } while ((char)*plVar1 != '\0');
                }
                iVar15 = (int)plVar31[3];
                if (iVar15 == 0) {
                  uVar32 = *(uint *)(plVar31 + 1);
                  *(uint *)(plVar31 + 1) = uVar32 + 1;
                  lVar18 = Memory::realloc_static((void *)*plVar31,(ulong)(uVar32 + 1) * 8,false);
                  *plVar31 = lVar18;
                  lVar18 = Memory::realloc_static
                                     ((void *)plVar31[2],(ulong)*(uint *)(plVar31 + 1) << 2,false);
                  plVar31[2] = lVar18;
                  lVar18 = *plVar31;
                  uVar28 = Memory::alloc_static((ulong)*(uint *)((long)plVar31 + 0x1c) * 0x18,false)
                  ;
                  *(undefined8 *)(lVar18 + (ulong)uVar32 * 8) = uVar28;
                  puVar20 = (uint *)plVar31[2];
                  *puVar20 = uVar32;
                  iVar15 = (int)plVar31[3] + 1;
                }
                else {
                  puVar20 = (uint *)plVar31[2];
                }
                *(uint *)(plVar31 + 3) = iVar15 - 1U;
                uVar32 = puVar20[iVar15 - 1U];
                uVar28 = *(undefined8 *)(*plVar31 + (ulong)uVar32 * 8);
                *(undefined1 *)(plVar31 + 4) = 0;
                lVar18 = *(long *)(lVar33 + 0x1a0);
                uVar19 = *(ulong *)(lVar33 + 0x1c0);
                *(undefined8 *)(lVar18 + (ulong)uVar42 * 8) = uVar28;
                *(uint *)(*(long *)(lVar33 + 0x1a8) + (ulong)uVar42 * 4) = uVar32;
                uVar42 = *(uint *)(lVar33 + 0x1b8) & (uint)uVar19;
                goto LAB_0011a2c0;
              }
              if (plVar31 != (long *)0x0) {
                uVar19 = 1;
                if (uVar17 != 0) {
                  uVar19 = (ulong)(uVar17 * 2);
                }
                *(int *)(lVar33 + 0x1b0) = (int)uVar19;
                uVar28 = Memory::realloc_static(*(void **)(lVar33 + 0x1a0),uVar19 * 8,false);
                *(undefined8 *)(lVar33 + 0x1a0) = uVar28;
                uVar28 = Memory::realloc_static
                                   (*(void **)(lVar33 + 0x1a8),(ulong)*(uint *)(lVar33 + 0x1b0) << 2
                                    ,false);
                plVar31 = *(long **)(lVar33 + 0x198);
                *(undefined8 *)(lVar33 + 0x1a8) = uVar28;
                goto LAB_0011b81d;
              }
              _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                               "Parameter \"page_pool\" is null.",0,0);
            }
            else {
              lVar18 = *(long *)(lVar33 + 0x1a0);
LAB_0011a2c0:
              puVar23 = (undefined8 *)
                        (*(long *)(lVar18 + (uVar19 >> ((byte)*(undefined4 *)(lVar33 + 0x1b4) & 0x3f
                                                       ) & 0xffffffff) * 8) + (ulong)uVar42 * 0x18);
              *puVar23 = uVar27;
              puVar23[1] = CONCAT44(fVar58 + fVar52,uVar2);
              puVar23[2] = CONCAT44((float)((ulong)uVar57 >> 0x20) + (float)((ulong)uVar21 >> 0x20),
                                    (float)uVar57 + (float)uVar21);
              *(ulong *)(lVar33 + 0x1c0) = uVar19 + 1;
            }
            _update_instance_visibility_dependencies(param_1,pIVar35);
          }
          else {
            cVar9 = AABB::operator!=((AABB *)&local_168,pIVar35 + 0x150);
            if (cVar9 != '\0') {
              AABB::merge((AABB *)&local_d8);
              fVar52 = fStack_c8;
              if (fStack_c8 <= fStack_cc) {
                fVar52 = fStack_cc;
              }
              fVar58 = *(float *)(pIVar35 + 0x148);
              if (*(float *)(pIVar35 + 0x148) <= *(float *)(pIVar35 + 0x144)) {
                fVar58 = *(float *)(pIVar35 + 0x144);
              }
              fVar51 = local_c4;
              if (local_c4 <= fVar52) {
                fVar51 = fVar52;
              }
              fVar52 = *(float *)(pIVar35 + 0x14c);
              if (*(float *)(pIVar35 + 0x14c) <= fVar58) {
                fVar52 = fVar58;
              }
              if (fVar51 < fVar52 + fVar52) {
                fVar52 = logf(fVar51);
                dVar53 = (double)fVar52 / __LC219;
                if ((double)((ulong)dVar53 & _LC224) < _LC220) {
                  dVar53 = (double)((ulong)((double)(long)dVar53 +
                                           (double)(-(ulong)((double)(long)dVar53 < dVar53) &
                                                   (ulong)_LC104)) | ~_LC224 & (ulong)dVar53);
                }
                dVar53 = pow(_LC202,dVar53);
                fVar54 = afStack_160[0];
                fVar58 = (float)local_168;
                fVar50 = (float)(dVar53 * __LC222);
                fVar51 = local_168._4_4_;
                fVar59 = afStack_160[1] + (float)local_168;
                fVar61 = local_168._4_4_ + afStack_160[2];
                fVar60 = afStack_160[0] + afStack_160[3];
                fVar52 = (float)local_168;
                do {
                  fVar52 = fVar52 - (fVar52 / fVar50) * fVar50;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar52)) {
                  fmodf((float)local_168,fVar50);
                }
                else if (fVar52 < 0.0) {
                  fVar52 = fVar52 + fVar50;
                }
                fVar58 = fVar58 - (fVar52 + 0.0);
                local_168 = CONCAT44(local_168._4_4_,fVar58);
                fVar52 = fVar51;
                do {
                  fVar52 = fVar52 - (fVar52 / fVar50) * fVar50;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar52)) {
                  fmodf(fVar51,fVar50);
                }
                else if (fVar52 < 0.0) {
                  fVar52 = fVar52 + fVar50;
                }
                fVar51 = fVar51 - (fVar52 + 0.0);
                local_168 = CONCAT44(fVar51,(float)local_168);
                fVar52 = fVar54;
                do {
                  fVar52 = fVar52 - (fVar52 / fVar50) * fVar50;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar52)) {
                  fmodf(fVar54,fVar50);
                }
                else if (fVar52 < 0.0) {
                  fVar52 = fVar52 + fVar50;
                }
                fVar54 = fVar54 - (fVar52 + 0.0);
                fVar52 = fVar59;
                do {
                  fVar52 = fVar52 - (fVar52 / fVar50) * fVar50;
                } while ((in_FPUStatusWord & 0x400) != 0);
                afStack_160[0] = fVar54;
                if (NAN(fVar52)) {
                  fmodf(fVar59,fVar50);
                }
                else if (fVar52 < 0.0) {
                  fVar52 = fVar52 + fVar50;
                }
                fVar55 = fVar61;
                do {
                  fVar55 = fVar55 - (fVar55 / fVar50) * fVar50;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar55)) {
                  fmodf(fVar61,fVar50);
                }
                else if (fVar55 < 0.0) {
                  fVar55 = fVar55 + fVar50;
                }
                fVar56 = fVar60;
                do {
                  fVar56 = fVar56 - (fVar56 / fVar50) * fVar50;
                } while ((in_FPUStatusWord & 0x400) != 0);
                if (NAN(fVar56)) {
                  fmodf(fVar60,fVar50);
                }
                else if (fVar56 < 0.0) {
                  fVar56 = fVar56 + fVar50;
                }
                afStack_160[1] = ((fVar59 - (fVar52 + 0.0)) + fVar50) - fVar58;
                afStack_160[2] = ((fVar61 - (fVar55 + 0.0)) + fVar50) - fVar51;
                afStack_160[3] = ((fVar60 - (fVar56 + 0.0)) + fVar50) - fVar54;
              }
            }
            uVar42 = *(uint *)pIVar35;
            pIVar41 = *(ID **)(pIVar35 + 0x208);
            if (*(long *)(pIVar35 + 0x1a8) == 0) goto LAB_00119d34;
            if ((0xe >> ((byte)uVar42 & 0x1f) & 1U) == 0) {
              pIVar41 = pIVar41 + 0x80;
            }
            DynamicBVH::update(pIVar41,pIVar35 + 0x1a8);
            lVar33 = *(long *)(pIVar35 + 0x208);
            fVar52 = *(float *)(pIVar35 + 0x138);
            fVar58 = *(float *)(pIVar35 + 0x144);
            uVar19 = (ulong)(int)*(uint *)(pIVar35 + 0x1b0);
            uVar2 = *(undefined4 *)(pIVar35 + 0x140);
            local_308 = *(ulong *)(lVar33 + 0x1c0);
            uVar21 = *(undefined8 *)(pIVar35 + 0x148);
            uVar57 = *(undefined8 *)(pIVar35 + 0x13c);
            if (local_308 <= uVar19) {
              iVar15 = 0xb0;
              pcVar40 = "./core/templates/paged_array.h";
              pcVar63 = "count";
              goto LAB_0011b24b;
            }
            puVar23 = (undefined8 *)
                      (*(long *)(*(long *)(lVar33 + 0x1a0) +
                                (uVar19 >> ((byte)*(undefined4 *)(lVar33 + 0x1b4) & 0x3f) &
                                0xffffffff) * 8) +
                      (ulong)(*(uint *)(pIVar35 + 0x1b0) & *(uint *)(lVar33 + 0x1b8)) * 0x18);
            *puVar23 = *(undefined8 *)(pIVar35 + 0x138);
            puVar23[1] = CONCAT44(fVar58 + fVar52,uVar2);
            puVar23[2] = CONCAT44((float)((ulong)uVar57 >> 0x20) + (float)((ulong)uVar21 >> 0x20),
                                  (float)uVar57 + (float)uVar21);
          }
          uVar42 = *(uint *)(pIVar35 + 0x1b4);
          if (uVar42 != 0xffffffff) {
            lVar33 = *(long *)(pIVar35 + 0x208);
            uVar19 = (ulong)(int)uVar42;
            fVar58 = _LC131 * *(float *)(pIVar35 + 0x14c);
            local_308 = *(ulong *)(lVar33 + 0x228);
            fVar52 = *(float *)(pIVar35 + 0x140);
            if (local_308 <= uVar19) {
LAB_0011b221:
              iVar15 = 0xb0;
              pcVar40 = "./core/templates/paged_array.h";
              pcVar63 = "count";
LAB_0011b24b:
              _err_print_index_error
                        ("operator[]",pcVar40,iVar15,uVar19,local_308,"p_index",pcVar63,"",false,
                         true);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar7 = (code *)invalidInstructionException();
              (*pcVar7)();
            }
            lVar33 = (ulong)(uVar42 & *(uint *)(lVar33 + 0x220)) * 0x40 +
                     *(long *)(*(long *)(lVar33 + 0x208) +
                              (uVar19 >> ((byte)*(undefined4 *)(lVar33 + 0x21c) & 0x3f) & 0xffffffff
                              ) * 8);
            *(ulong *)(lVar33 + 0x10) =
                 CONCAT44((float)((ulong)*(undefined8 *)(pIVar35 + 0x144) >> 0x20) * _UNK_00138ca4 +
                          (float)((ulong)*(undefined8 *)(pIVar35 + 0x138) >> 0x20),
                          (float)*(undefined8 *)(pIVar35 + 0x144) * _LC131 +
                          (float)*(undefined8 *)(pIVar35 + 0x138));
            *(float *)(lVar33 + 0x18) = fVar58 + fVar52;
          }
          local_278 = 0xffffffff;
          local_2a8 = (undefined1  [16])0x0;
          local_2b0 = param_1 + 0x1f8;
          local_298 = (undefined1  [16])0x0;
          local_280 = *(long *)(param_1 + 0x2e0) + 1;
          *(long *)(param_1 + 0x2e0) = local_280;
          uVar42 = *(uint *)pIVar35;
          local_288 = 0;
          local_2b8 = pIVar35;
          if ((0xeU >> (uVar42 & 0x1f) & 1) == 0) {
            if (uVar42 == 5) {
              local_288 = 0xe;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar35 + 0x208);
              iVar15 = (**(code **)(*RenderingServerGlobals::light_storage + 0x120))
                                 (RenderingServerGlobals::light_storage,*(undefined8 *)(pIVar35 + 8)
                                 );
              if (iVar15 - 1U < 2) {
                local_288 = local_288 | 0x100;
                local_298._8_8_ = *(long *)(pIVar35 + 0x208) + 0x80;
              }
              local_278 = (**(code **)(*RenderingServerGlobals::light_storage + 0x138))
                                    (RenderingServerGlobals::light_storage,
                                     *(undefined8 *)(pIVar35 + 8));
            }
            else if ((uVar42 == 9) || (((*(uint *)(param_1 + 0x9828) & 0x40) != 0 && (uVar42 == 6)))
                    ) {
              local_288 = 0xe;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar35 + 0x208);
            }
            else if (((char)*(uint *)(param_1 + 0x9828) < '\0') && (uVar42 == 7)) {
              local_288 = 0xe;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar35 + 0x208);
              local_278 = (**(code **)(*RenderingServerGlobals::texture_storage + 0x1b0))
                                    (RenderingServerGlobals::texture_storage,
                                     *(undefined8 *)(pIVar35 + 8));
            }
            else if (uVar42 == 4) {
              local_288 = 8;
              local_298._8_8_ = 0;
              local_298._0_8_ = *(ulong *)(pIVar35 + 0x208);
            }
            else if (uVar42 == 8) {
              local_288 = 0x2e;
              local_298._8_8_ = *(long *)(pIVar35 + 0x208) + 0x80;
              local_298._0_8_ = *(long *)(pIVar35 + 0x208);
            }
          }
          else {
            local_288 = 800;
            if (uVar42 == 3) {
              local_288 = 0x330;
            }
            local_288 = local_288 | *(uint *)(param_1 + 0x9828);
            auVar8._8_8_ = 0;
            auVar8._0_8_ = *(long *)(pIVar35 + 0x208) + 0x80;
            local_298 = auVar8 << 0x40;
          }
          PairInstances::pair((PairInstances *)&local_2b8);
          *(undefined8 *)(pIVar35 + 0x160) = *(undefined8 *)(pIVar35 + 0x148);
          *(undefined8 *)(pIVar35 + 0x150) = *(undefined8 *)(pIVar35 + 0x138);
          *(undefined8 *)(pIVar35 + 0x158) = *(undefined8 *)(pIVar35 + 0x140);
        }
      }
      else {
LAB_00119311:
        if (0.0 < *(float *)(pIVar35 + 0x134)) goto LAB_00118dc5;
      }
switchD_00118d89_caseD_0:
      *(undefined2 *)(pIVar35 + 0x230) = 0;
    }
    else {
      *(int *)(pIVar35 + 0x2d0) = *(int *)(pIVar35 + 0x2d0) + 1;
      this = (DependencyTracker *)(pIVar35 + 0x2b8);
      if (*(long *)(pIVar35 + 8) != 0) {
        (**(code **)(*RenderingServerGlobals::utilities + 0x20))
                  (RenderingServerGlobals::utilities,*(undefined8 *)(pIVar35 + 8),this);
      }
      if (*(long *)(pIVar35 + 0x18) != 0) {
        (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                  (RenderingServerGlobals::material_storage,*(undefined8 *)(pIVar35 + 0x18),this);
      }
      if (*(long *)(pIVar35 + 0x20) != 0) {
        (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                  (RenderingServerGlobals::material_storage,*(undefined8 *)(pIVar35 + 0x20),this);
      }
      uVar42 = *(uint *)pIVar35;
      if (uVar42 == 1) {
        iVar15 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x80))
                           (RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar35 + 8));
        CowData<RID>::resize<false>((CowData<RID> *)(pIVar35 + 0xd0),(long)iVar15);
        _instance_update_mesh_instance(param_1,pIVar35);
        uVar42 = *(uint *)pIVar35;
      }
      if (uVar42 == 3) {
        lVar33 = (**(code **)(*RenderingServerGlobals::particles_storage + 0xa0))
                           (RenderingServerGlobals::particles_storage,*(undefined8 *)(pIVar35 + 8));
        if (lVar33 != 0) {
          (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                    (RenderingServerGlobals::material_storage,lVar33,this);
        }
        uVar42 = *(uint *)pIVar35;
      }
      if ((0xeU >> (uVar42 & 0x1f) & 1) != 0) {
        pIVar6 = pIVar35 + 0x168;
        lVar33 = *(long *)(pIVar35 + 0x298);
        InstanceUniforms::materials_start();
        iVar15 = *(int *)(pIVar35 + 0xd8);
        IVar48 = (Instance)(iVar15 != 0);
        if (*(long *)(pIVar35 + 0x18) == 0) {
          iVar14 = *(int *)pIVar35;
          if (iVar14 == 1) {
            lVar18 = *(long *)(pIVar35 + 8);
            if (lVar18 == 0) goto LAB_0011a13f;
            lVar26 = *(long *)(pIVar35 + 0xd0);
            local_388 = '\0';
            IVar13 = (Instance)0x0;
            if (lVar26 != 0) {
              uVar19 = 0;
              do {
                if (*(long *)(lVar26 + -8) <= (long)uVar19) break;
                lVar26 = *(long *)(lVar26 + uVar19 * 8);
                if ((lVar26 != 0) ||
                   (lVar26 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x70))
                                       (RenderingServerGlobals::mesh_storage,lVar18,
                                        uVar19 & 0xffffffff), IVar12 = IVar3, lVar26 != 0)) {
                  IVar12 = (Instance)
                           (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                     (RenderingServerGlobals::material_storage,lVar26);
                  if (IVar12 == (Instance)0x0) {
                    IVar12 = IVar13;
                  }
                  cVar9 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                    (RenderingServerGlobals::material_storage,lVar26);
                  if (cVar9 != '\0') {
                    local_388 = cVar9;
                  }
                  InstanceUniforms::materials_append(pIVar6,lVar26);
                  (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                            (RenderingServerGlobals::material_storage,lVar26,this);
                }
                IVar13 = IVar12;
                lVar26 = *(long *)(pIVar35 + 0xd0);
                uVar19 = uVar19 + 1;
              } while (lVar26 != 0);
              lVar18 = *(long *)(pIVar35 + 0x20);
              if (IVar13 != (Instance)0x0) goto LAB_00119c0e;
LAB_0011b64d:
              IVar48 = IVar13;
              if (lVar18 == 0) goto LAB_00119c4a;
              goto LAB_00119c31;
            }
LAB_0011b9f4:
            if (*(long *)(pIVar35 + 0x20) != 0) goto LAB_0011b284;
            local_388 = '\0';
            IVar48 = (Instance)0x0;
          }
          else {
            if (iVar14 == 2) {
              lVar18 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x168))
                                 (RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar35 + 8))
              ;
              if (lVar18 != 0) {
                iVar15 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x80))
                                   (RenderingServerGlobals::mesh_storage,lVar18);
                if (iVar15 < 1) {
                  local_388 = '\0';
LAB_0011b9bb:
                  IVar48 = (Instance)0x0;
                }
                else {
                  local_388 = '\0';
                  iVar14 = 0;
                  IVar13 = (Instance)0x0;
                  do {
                    lVar26 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x70))
                                       (RenderingServerGlobals::mesh_storage,lVar18,iVar14);
                    IVar12 = IVar3;
                    if (lVar26 != 0) {
                      IVar12 = (Instance)
                               (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                         (RenderingServerGlobals::material_storage,lVar26);
                      if (IVar12 != (Instance)0x0) {
                        IVar13 = IVar12;
                      }
                      cVar9 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                        (RenderingServerGlobals::material_storage,lVar26);
                      if (cVar9 != '\0') {
                        local_388 = cVar9;
                      }
                      InstanceUniforms::materials_append(pIVar6,lVar26);
                      (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                                (RenderingServerGlobals::material_storage,lVar26,this);
                      IVar12 = IVar13;
                    }
                    iVar14 = iVar14 + 1;
                    IVar13 = IVar12;
                  } while (iVar15 != iVar14);
                  if (IVar12 == (Instance)0x0) goto LAB_0011b9bb;
                }
                (**(code **)(*RenderingServerGlobals::utilities + 0x20))
                          (RenderingServerGlobals::utilities,lVar18,this);
                goto LAB_00119c0e;
              }
            }
            else if (iVar14 == 3) {
              iVar15 = (**(code **)(*RenderingServerGlobals::particles_storage + 0x150))
                                 (RenderingServerGlobals::particles_storage,
                                  *(undefined8 *)(pIVar35 + 8));
              if (iVar15 < 1) goto LAB_0011b9f4;
              IVar13 = (Instance)0x0;
              local_388 = '\0';
              iVar14 = 0;
              do {
                lVar18 = (**(code **)(*RenderingServerGlobals::particles_storage + 0x158))
                                   (RenderingServerGlobals::particles_storage,
                                    *(undefined8 *)(pIVar35 + 8),iVar14);
                if ((lVar18 != 0) &&
                   (iVar16 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x80))
                                       (RenderingServerGlobals::mesh_storage,lVar18), 0 < iVar16)) {
                  iVar47 = 0;
                  IVar12 = IVar13;
                  do {
                    lVar26 = (**(code **)(*RenderingServerGlobals::mesh_storage + 0x70))
                                       (RenderingServerGlobals::mesh_storage,lVar18,iVar47);
                    IVar13 = IVar3;
                    if (lVar26 != 0) {
                      IVar13 = (Instance)
                               (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                         (RenderingServerGlobals::material_storage,lVar26);
                      if (IVar13 != (Instance)0x0) {
                        IVar12 = IVar13;
                      }
                      cVar9 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                        (RenderingServerGlobals::material_storage,lVar26);
                      if (cVar9 != '\0') {
                        local_388 = cVar9;
                      }
                      InstanceUniforms::materials_append(pIVar6,lVar26);
                      (**(code **)(*RenderingServerGlobals::material_storage + 0x128))
                                (RenderingServerGlobals::material_storage,lVar26,this);
                      IVar13 = IVar12;
                    }
                    iVar47 = iVar47 + 1;
                    IVar12 = IVar13;
                  } while (iVar16 != iVar47);
                }
                iVar14 = iVar14 + 1;
              } while (iVar15 != iVar14);
              lVar18 = *(long *)(pIVar35 + 0x20);
              if (IVar13 == (Instance)0x0) goto LAB_0011b64d;
              goto LAB_00119c0e;
            }
LAB_0011a13f:
            if (*(long *)(pIVar35 + 0x20) != 0) {
              if (iVar15 != 0) {
                local_388 = '\0';
                goto LAB_00119c1a;
              }
LAB_0011b284:
              IVar48 = (Instance)0x0;
              goto LAB_0011b287;
            }
            local_388 = '\0';
          }
        }
        else {
          cVar9 = (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                            (RenderingServerGlobals::material_storage,*(long *)(pIVar35 + 0x18));
          IVar48 = (Instance)(cVar9 != '\0' && (bool)IVar48);
          local_388 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                (RenderingServerGlobals::material_storage,
                                 *(undefined8 *)(pIVar35 + 0x18));
          InstanceUniforms::materials_append(pIVar6,*(undefined8 *)(pIVar35 + 0x18));
LAB_00119c0e:
          if (*(long *)(pIVar35 + 0x20) != 0) {
            if (IVar48 != (Instance)0x0) {
LAB_00119c1a:
              IVar48 = (Instance)
                       (**(code **)(*RenderingServerGlobals::material_storage + 0x110))
                                 (RenderingServerGlobals::material_storage,
                                  *(undefined8 *)(pIVar35 + 0x20));
            }
LAB_00119c31:
            if (local_388 == '\0') {
LAB_0011b287:
              local_388 = (**(code **)(*RenderingServerGlobals::material_storage + 0x108))
                                    (RenderingServerGlobals::material_storage,
                                     *(undefined8 *)(pIVar35 + 0x20));
            }
            InstanceUniforms::materials_append(pIVar6,*(undefined8 *)(pIVar35 + 0x20));
          }
        }
LAB_00119c4a:
        if (*(Instance *)(lVar33 + 0x38) != IVar48) {
          iVar15 = *(int *)(lVar33 + 0x34);
          if (iVar15 != 0) {
            plVar31 = *(long **)(lVar33 + 0x10);
            iVar14 = 0;
            while( true ) {
              iVar14 = iVar14 + 1;
              *(uint *)(*(long *)(*plVar31 + 0x298) + 0x60) =
                   2 - (uint)*(byte *)(*(long *)(*plVar31 + 0x298) + 0x68);
              if (iVar15 <= iVar14) break;
              plVar31 = plVar31 + 1;
            }
          }
          *(Instance *)(lVar33 + 0x38) = IVar48;
        }
        uVar21 = *(undefined8 *)(pIVar35 + 0x1a0);
        *(char *)(lVar33 + 0x39) = local_388;
        cVar9 = InstanceUniforms::materials_finish(pIVar6,uVar21);
        if (cVar9 != '\0') {
          (**(code **)(**(long **)(lVar33 + 8) + 0x98))
                    (*(long **)(lVar33 + 8),*(undefined4 *)(pIVar35 + 0x168));
        }
      }
      if (*(long *)(pIVar35 + 0x10) != 0) {
        (**(code **)(*RenderingServerGlobals::mesh_storage + 0x300))
                  (RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar35 + 0x10),this);
      }
      DependencyTracker::update_end(this);
      if ((0xeU >> (*(uint *)pIVar35 & 0x1f) & 1) == 0) goto LAB_00118cd6;
      plVar31 = *(long **)(*(long *)(pIVar35 + 0x298) + 8);
      if (plVar31 != (long *)0x0) {
        (**(code **)(*plVar31 + 0x30))(plVar31,pIVar35 + 200);
        goto LAB_00118cd6;
      }
      _err_print_error("_update_dirty_instance","servers/rendering/renderer_scene_cull.cpp",0x1064,
                       "Parameter \"geom->geometry_instance\" is null.",0,0);
    }
    if (*(long *)(pIVar35 + 0x28) == 0) {
      lVar33 = *(long *)(pIVar35 + 0x238);
    }
    else {
LAB_00119277:
      (**(code **)(*RenderingServerGlobals::mesh_storage + 0xe8))
                (RenderingServerGlobals::mesh_storage,*(undefined8 *)(pIVar35 + 0x28),param_3);
      lVar33 = *(long *)(pIVar35 + 0x238);
    }
    if (lVar33 == 0) goto LAB_001192a6;
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0011bccc:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x0011f7fd) */
/* WARNING: Removing unreachable block (ram,0x00120bae) */
/* WARNING: Removing unreachable block (ram,0x0011ed29) */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::_render_scene(RendererSceneRender::CameraData const*, Ref<RenderSceneBuffers>
   const&, RID, RID, RID, unsigned int, RID, RID, RID, RID, int, float, bool,
   RenderingMethod::RenderInfo*) */

void __thiscall
RendererSceneCull::_render_scene
          (undefined4 param_1_00,RendererSceneCull *this,long param_1,long *param_2,
          undefined8 param_5,long param_6,undefined8 param_7,uint param_8,ulong param_9,
          long param_10,long param_11,ulong param_12,uint param_13,undefined4 param_14,
          undefined8 param_15)

{
  HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
  *this_00;
  RendererSceneCull RVar1;
  uint uVar2;
  long lVar3;
  Instance *pIVar4;
  long *plVar5;
  PagedArray *pPVar6;
  void *pvVar7;
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  Callable *pCVar28;
  StrRange *pSVar29;
  char cVar30;
  CullData CVar31;
  Transform3D TVar32;
  PagedArray PVar33;
  uint uVar34;
  uint uVar35;
  uint uVar36;
  ulong uVar37;
  Transform3D *pTVar38;
  long *plVar39;
  undefined8 *puVar40;
  code *pcVar41;
  Transform3D *pTVar42;
  Transform3D *pTVar43;
  int iVar44;
  undefined4 uVar45;
  int iVar46;
  ulong extraout_RDX;
  long lVar47;
  uint *puVar48;
  undefined8 uVar49;
  undefined4 *puVar50;
  long lVar51;
  long lVar52;
  InstanceCullResult *pIVar53;
  PagedArray *pPVar54;
  CullData *pCVar55;
  Vector3 *pVVar56;
  undefined8 *puVar57;
  undefined8 *puVar58;
  undefined1 *puVar59;
  undefined1 *puVar60;
  undefined1 auVar61 [8];
  char *pcVar62;
  Transform3D *pTVar63;
  int *piVar64;
  PagedArrayPool<RendererSceneCull::Instance*> *pPVar65;
  ulong uVar66;
  long lVar67;
  int iVar68;
  InstanceCullResult *pIVar69;
  float *pfVar70;
  Vector3 *pVVar71;
  RendererSceneCull *pRVar72;
  BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this_01;
  RendererSceneCull *pRVar73;
  RendererSceneCull *pRVar74;
  CullData *pCVar75;
  PagedArray<RID> *pPVar76;
  long in_FS_OFFSET;
  bool bVar77;
  byte bVar78;
  undefined4 uVar79;
  float fVar80;
  float fVar81;
  undefined8 uVar82;
  float fVar83;
  float fVar84;
  float fVar85;
  float fVar86;
  float fVar87;
  float fVar88;
  float fVar89;
  float fVar90;
  float fVar91;
  undefined1 auVar92 [16];
  undefined1 auVar93 [16];
  float fVar94;
  float fVar95;
  float fVar96;
  float fVar97;
  float fVar98;
  float fVar99;
  undefined1 auVar100 [12];
  ulong uVar101;
  undefined1 auStack_3a8 [4];
  float local_3a4;
  Transform3D *local_3a0;
  undefined8 local_398;
  float local_390;
  float local_38c;
  float local_388;
  float local_384;
  CullData *local_380;
  Plane *local_378;
  Transform3D *local_370;
  undefined8 local_368;
  undefined8 uStack_360;
  undefined8 local_358;
  float local_350;
  undefined4 local_34c;
  undefined8 local_348;
  long local_340;
  Transform3D *local_338;
  undefined8 uStack_330;
  Transform3D *local_328;
  Transform3D *local_320;
  undefined8 local_318;
  CullData *local_310;
  PagedArray *local_308;
  Transform3D *local_300;
  CullData *local_2f8;
  undefined8 uStack_2f0;
  Transform3D *local_2e8;
  undefined8 uStack_2e0;
  RendererSceneCull *local_2d8;
  InstanceCullResult *local_2d0;
  long local_2c8;
  CullData *local_2c0;
  long *local_2b8;
  RendererSceneCull *local_2b0;
  Transform3D *local_2a8;
  undefined8 uStack_2a0;
  Transform3D *local_298;
  long local_290;
  Transform3D *local_288;
  CullData *local_280;
  RendererSceneCull *local_278;
  long local_270;
  undefined1 local_268 [8];
  undefined8 uStack_260;
  StrRange *local_258;
  ulong local_250;
  RendererSceneCull *local_248;
  float local_240;
  float local_23c;
  undefined8 local_238;
  undefined8 uStack_230;
  undefined8 local_228;
  Transform3D local_218 [8];
  Transform3D *local_210;
  undefined1 local_208 [8];
  long local_200;
  Transform3D local_1f8 [8];
  Transform3D *local_1f0;
  long local_1e8;
  Transform3D *local_1e0;
  char *local_1d8;
  Transform3D *local_1d0;
  undefined1 local_1c8 [8];
  long local_1c0;
  Transform3D *local_1b8;
  long local_1b0;
  undefined4 local_1a8;
  undefined8 local_1a0;
  float local_198;
  undefined8 local_190;
  float local_188;
  long local_184;
  undefined4 local_17c;
  undefined8 local_178;
  undefined8 uStack_170;
  undefined8 local_168;
  undefined8 uStack_160;
  undefined1 local_158 [8];
  float fStack_150;
  float fStack_14c;
  undefined8 local_148;
  float local_140;
  undefined1 local_118 [8];
  undefined8 uStack_110;
  undefined1 local_108 [16];
  undefined4 local_f8;
  undefined8 local_f4;
  undefined4 local_ec;
  undefined8 local_e8;
  float local_e0;
  float local_dc;
  float fStack_d8;
  float local_d4;
  Vector3 local_d0 [24];
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 uStack_98;
  undefined8 uStack_90;
  undefined8 uStack_88;
  undefined8 local_80;
  undefined8 uStack_78;
  uint local_70;
  StrRange *local_68;
  undefined8 local_60;
  long local_58;
  undefined8 local_50;
  long local_40;
  
  uStack_260 = local_268;
  bVar78 = 0;
  local_290 = CONCAT44(local_290._4_4_,param_14);
  local_358 = param_15;
  local_288 = (Transform3D *)CONCAT71(local_288._1_7_,(char)param_14);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_34c = param_1_00;
  local_348 = param_7;
  local_340 = param_6;
  local_318 = param_5;
  local_2b8 = param_2;
  local_270 = param_1;
  local_248 = this;
  if ((param_12 == 0) || (*(uint *)(this + 0x97ec) <= (uint)param_12)) {
LAB_0011c567:
    local_258 = (StrRange *)0x0;
  }
  else {
    local_258 = (StrRange *)
                (((param_12 & 0xffffffff) % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                *(long *)(*(long *)(this + 0x97d8) +
                         ((param_12 & 0xffffffff) / (ulong)*(uint *)(this + 0x97e8)) * 8));
    if (*(int *)(local_258 + 0x300) != param_12._4_4_) {
      if (*(int *)(local_258 + 0x300) + 0x80000000U < 0x7fffffff) {
        _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                         "Method/function failed. Returning: nullptr",
                         "Attempting to use an uninitialized RID",0);
      }
      goto LAB_0011c567;
    }
  }
  puVar59 = auStack_3a8;
  local_2c8 = local_270 + 0x40;
  local_268 = (undefined1  [8])(local_270 + 0x10);
  uVar101 = 0x11bfb6;
  RenderingLightCuller::prepare_camera
            (*(Transform3D **)(local_248 + 0x9840),(Projection *)(local_270 + 0x10));
  uVar37 = extraout_RDX;
  if (param_9 == 0) {
LAB_0011c545:
    local_250 = 0;
  }
  else {
    uVar37 = (ulong)*(uint *)(local_248 + 0x1bc);
    if (*(uint *)(local_248 + 0x1bc) <= (uint)param_9) goto LAB_0011c545;
    uVar37 = *(long *)(*(long *)(local_248 + 0x1a8) +
                      ((param_9 & 0xffffffff) / (ulong)*(uint *)(local_248 + 0x1b8)) * 8) +
             ((param_9 & 0xffffffff) % (ulong)*(uint *)(local_248 + 0x1b8)) * 0x248;
    local_250 = uVar37;
    if (*(int *)(uVar37 + 0x240) != (int)(param_9 >> 0x20)) {
      if (*(int *)(uVar37 + 0x240) + 0x80000000U < 0x7fffffff) {
        _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                         "Method/function failed. Returning: nullptr",
                         "Attempting to use an uninitialized RID",0);
        uVar37 = uVar101;
      }
      goto LAB_0011c545;
    }
  }
  pRVar74 = local_248;
  local_184 = *(long *)(local_270 + 0x34);
  local_17c = *(undefined4 *)(local_270 + 0x3c);
  if (*local_2b8 == 0) {
    _err_print_error("_render_scene","servers/rendering/renderer_scene_cull.cpp",0xc69,
                     "Condition \"p_render_buffers.is_null()\" is true.",0,0);
    goto LAB_0011dfc2;
  }
  local_278 = *(RendererSceneCull **)(local_248 + 0x10);
  lVar51 = **(long **)(local_248 + 8);
  *(RendererSceneCull **)(local_248 + 0x10) = local_278 + 1;
  (**(code **)(lVar51 + 0x140))(*(long **)(local_248 + 8),local_278 + 1,uVar37);
  if (CONCAT44(param_12._4_4_,(uint)param_12) == 0) {
    (**(code **)(**(long **)(pRVar74 + 8) + 0x28))
              (*(long **)(pRVar74 + 8),local_2b8,local_318,&local_184);
  }
  pRVar74 = RenderingServerGlobals::utilities;
  if (RenderingServerGlobals::utilities[8] == (RendererSceneCull)0x0) {
    if (*(long *)(local_250 + 0x228) != 0) {
LAB_0011c09b:
      this_01 = (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)(local_250 + 0x1f8);
      if (0 < *(int *)(local_250 + 0x230)) {
        this_00 = (HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                   *)(local_250 + 0x148);
        if ((*(long *)(local_250 + 0x150) != 0) && (*(int *)(local_250 + 0x174) != 0)) {
          uVar36 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(local_250 + 0x170) * 4);
          uVar101 = CONCAT44(0,uVar36);
          lVar51 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(local_250 + 0x170) * 8);
          local_278 = (RendererSceneCull *)CONCAT44(local_278._4_4_,uVar36);
          uVar37 = param_10 * 0x3ffff - 1;
          uVar37 = (uVar37 ^ uVar37 >> 0x1f) * 0x15;
          uVar37 = (uVar37 ^ uVar37 >> 0xb) * 0x41;
          uVar34 = (uint)(uVar37 >> 0x16) ^ (uint)uVar37;
          uVar35 = 1;
          if (uVar34 != 0) {
            uVar35 = uVar34;
          }
          local_280 = (CullData *)CONCAT44(local_280._4_4_,uVar35);
          auVar8._8_8_ = 0;
          auVar8._0_8_ = (ulong)uVar35 * lVar51;
          auVar16._8_8_ = 0;
          auVar16._0_8_ = uVar101;
          lVar47 = SUB168(auVar8 * auVar16,8);
          uVar34 = *(uint *)(*(long *)(local_250 + 0x158) + lVar47 * 4);
          uVar37 = (ulong)uVar34;
          iVar68 = SUB164(auVar8 * auVar16,8);
          if (uVar34 != 0) {
            uVar34 = 0;
            do {
              if ((uVar35 == (uint)uVar37) &&
                 (param_10 == *(long *)(*(long *)(*(long *)(local_250 + 0x150) + lVar47 * 8) + 0x10)
                 )) goto LAB_0011d70d;
              uVar34 = uVar34 + 1;
              auVar9._8_8_ = 0;
              auVar9._0_8_ = (ulong)(iVar68 + 1) * lVar51;
              auVar17._8_8_ = 0;
              auVar17._0_8_ = uVar101;
              lVar47 = SUB168(auVar9 * auVar17,8);
              uVar2 = *(uint *)(*(long *)(local_250 + 0x158) + lVar47 * 4);
              uVar37 = (ulong)uVar2;
              iVar68 = SUB164(auVar9 * auVar17,8);
            } while ((uVar2 != 0) &&
                    (auVar10._8_8_ = 0, auVar10._0_8_ = uVar37 * lVar51, auVar18._8_8_ = 0,
                    auVar18._0_8_ = uVar101, auVar11._8_8_ = 0,
                    auVar11._0_8_ =
                         (ulong)((uVar36 + iVar68) - SUB164(auVar10 * auVar18,8)) * lVar51,
                    auVar19._8_8_ = 0, auVar19._0_8_ = uVar101,
                    uVar34 <= SUB164(auVar11 * auVar19,8)));
          }
        }
        (**(code **)(*(long *)local_248 + 0xc0))
                  (local_248,*(undefined8 *)(local_250 + 0x100),param_10);
LAB_0011d70d:
        uVar37 = local_250;
        local_a8 = 0;
        uStack_a0 = uStack_a0 & 0xffffffff00000000;
        uStack_b0 = local_250;
        plVar39 = (long *)HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                          ::operator[](this_00,(RID *)&param_10);
        local_b8 = (RendererSceneCull *)*plVar39;
        local_a8 = local_184;
        uStack_a0 = CONCAT44(uStack_a0._4_4_,local_17c);
        lVar51 = *(long *)(uVar37 + 0x228);
        if (lVar51 != 0) {
          iVar46 = *(int *)(uVar37 + 0x230);
          iVar68 = iVar46 + -1;
          local_278 = (RendererSceneCull *)CONCAT44(local_278._4_4_,iVar46);
          if (0 < iVar68) {
            do {
              if (lVar51 == 0) {
LAB_0011d983:
                _err_print_error("get_bin_start","./core/templates/bin_sorted_array.h",0x97,
                                 "Condition \"p_bin >= get_bin_count()\" is true. Returning: ~0U",0,
                                 0);
                iVar46 = -1;
              }
              else {
                uVar36 = *(uint *)(local_250 + 0x230);
                pTVar38 = (Transform3D *)(ulong)uVar36;
                if ((int)uVar36 <= iVar68) goto LAB_0011d983;
                if (iVar68 == uVar36 - 1) {
                  iVar46 = 0;
                }
                else {
                  uVar35 = iVar68 + 1;
                  if (uVar36 <= uVar35) {
                    pTVar42 = (Transform3D *)(ulong)uVar35;
                    iVar68 = 0xb2;
                    pcVar62 = "./core/templates/local_vector.h";
                    puVar58 = (undefined8 *)&stack0xfffffffffffffc38;
                    goto LAB_0011e136;
                  }
                  iVar46 = (int)*(undefined8 *)(*(long *)(local_250 + 0x238) + (ulong)uVar35 * 8) +
                           1;
                }
              }
              uStack_a0 = CONCAT44(iVar46,(float)uStack_a0);
              uVar36 = BinSortedArray<RendererSceneCull::InstanceVisibilityData>::get_bin_size
                                 (this_01,iVar68);
              uStack_98 = CONCAT44(uStack_98._4_4_,uVar36);
              if (uVar36 != 0) {
                if (*(uint *)(local_248 + 0x97c8) < uVar36) {
                  local_278 = (RendererSceneCull *)WorkerThreadPool::singleton;
                  if ((_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                       ::{lambda()#1}::operator()()::sname == '\0') &&
                     (iVar46 = __cxa_guard_acquire(&
                                                  _render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                                  ::{lambda()#1}::operator()()::sname), iVar46 != 0)
                     ) {
                    _scs_create((char *)&_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                         ::{lambda()#1}::operator()()::sname,true);
                    __cxa_atexit(StringName::~StringName,
                                 &_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                  ::{lambda()#1}::operator()()::sname,&__dso_handle);
                    __cxa_guard_release(&_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                         ::{lambda()#1}::operator()()::sname);
                  }
                  lVar51 = _render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                           ::{lambda()#1}::operator()()::sname;
                  if (_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                      ::{lambda()#1}::operator()()::sname == 0) {
LAB_0011e084:
                    local_1e8 = 0;
                  }
                  else {
                    pcVar62 = *(char **)(_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                         ::{lambda()#1}::operator()()::sname + 8);
                    local_1e8 = 0;
                    if (pcVar62 == (char *)0x0) {
                      plVar39 = (long *)(*(long *)(
                                                  _render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                                  ::{lambda()#1}::operator()()::sname + 0x10) +
                                        -0x10);
                      if (*(long *)(_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                    ::{lambda()#1}::operator()()::sname + 0x10) != 0) {
                        do {
                          lVar47 = *plVar39;
                          if (lVar47 == 0) goto LAB_0011e084;
                          LOCK();
                          lVar52 = *plVar39;
                          bVar77 = lVar47 == lVar52;
                          if (bVar77) {
                            *plVar39 = lVar47 + 1;
                            lVar52 = lVar47;
                          }
                          UNLOCK();
                        } while (!bVar77);
                        if (lVar52 != -1) {
                          local_1e8 = *(long *)(lVar51 + 0x10);
                          goto LAB_0011d885;
                        }
                      }
                      goto LAB_0011e084;
                    }
                    local_1d0 = (Transform3D *)strlen(pcVar62);
                    local_1d8 = pcVar62;
                    String::parse_latin1((StrRange *)&local_1e8);
                  }
LAB_0011d885:
                  local_280 = (CullData *)
                              CONCAT44(local_280._4_4_,
                                       *(undefined4 *)(WorkerThreadPool::singleton + 0x290));
                  puVar40 = (undefined8 *)operator_new(0x28,"");
                  *puVar40 = &PTR_callback_00138950;
                  puVar40[3] = 0;
                  puVar40[1] = local_248;
                  puVar40[2] = _visibility_cull_threaded;
                  puVar40[4] = &local_b8;
                  local_1d8 = (char *)0x0;
                  local_1d0 = (Transform3D *)0x0;
                  WorkerThreadPool::_add_group_task
                            ((Callable *)local_278,(_func_void_void_ptr_uint *)&local_1d8,
                             (void *)0x0,(BaseTemplateUserdata *)0x0,(int)puVar40,(int)local_280,
                             true,(String *)0x1);
                  Callable::~Callable((Callable *)&local_1d8);
                  lVar51 = local_1e8;
                  if (local_1e8 != 0) {
                    LOCK();
                    plVar39 = (long *)(local_1e8 + -0x10);
                    *plVar39 = *plVar39 + -1;
                    UNLOCK();
                    if (*plVar39 == 0) {
                      local_1e8 = 0;
                      Memory::free_static((void *)(lVar51 + -0x10),false);
                    }
                  }
                  WorkerThreadPool::wait_for_group_task_completion
                            ((long)WorkerThreadPool::singleton);
                }
                else {
                  _visibility_cull(local_248,(VisibilityCullData *)&local_b8,
                                   (ulong)(uint)uStack_a0._4_4_,
                                   (ulong)(uVar36 + (int)uStack_a0._4_4_));
                }
              }
              iVar68 = iVar68 + -1;
              if (iVar68 == 0) break;
              lVar51 = *(long *)(local_250 + 0x228);
            } while( true );
          }
        }
      }
      goto LAB_0011c271;
    }
  }
  else {
    pcVar41 = *(code **)(*(long *)RenderingServerGlobals::utilities + 0x68);
    local_1e8 = 0;
    local_1d8 = "Update Visibility Dependencies";
    local_1d0 = (Transform3D *)0x1e;
    String::parse_latin1((StrRange *)&local_1e8);
    (*pcVar41)(pRVar74);
    lVar51 = local_1e8;
    if (local_1e8 != 0) {
      LOCK();
      plVar39 = (long *)(local_1e8 + -0x10);
      *plVar39 = *plVar39 + -1;
      UNLOCK();
      if (*plVar39 == 0) {
        local_1e8 = 0;
        Memory::free_static((void *)(lVar51 + -0x10),false);
      }
    }
    if (*(long *)(local_250 + 0x228) != 0) goto LAB_0011c09b;
LAB_0011c271:
    pRVar74 = RenderingServerGlobals::utilities;
    if (RenderingServerGlobals::utilities[8] != (RendererSceneCull)0x0) {
      pcVar41 = *(code **)(*(long *)RenderingServerGlobals::utilities + 0x68);
      local_1e8 = 0;
      local_1d8 = "Cull 3D Scene";
      local_1d0 = (Transform3D *)0xd;
      String::parse_latin1((StrRange *)&local_1e8);
      (*pcVar41)(pRVar74);
      lVar51 = local_1e8;
      if (local_1e8 != 0) {
        LOCK();
        plVar39 = (long *)(local_1e8 + -0x10);
        *plVar39 = *plVar39 + -1;
        UNLOCK();
        if (*plVar39 == 0) {
          local_1e8 = 0;
          Memory::free_static((void *)(lVar51 + -0x10),false);
        }
      }
    }
  }
  Projection::get_projection_planes(local_218);
  local_1d0 = (Transform3D *)0x0;
  local_1c0 = 0;
  pTVar38 = local_210 + -0x10;
  if (local_210 != (Transform3D *)0x0) {
    do {
      lVar51 = *(long *)pTVar38;
      if (lVar51 == 0) goto LAB_0011c2e9;
      LOCK();
      lVar47 = *(long *)pTVar38;
      bVar77 = lVar51 == lVar47;
      if (bVar77) {
        *(long *)pTVar38 = lVar51 + 1;
        lVar47 = lVar51;
      }
      UNLOCK();
    } while (!bVar77);
    if (lVar47 != -1) {
      local_1d0 = local_210;
    }
  }
LAB_0011c2e9:
  CowData<Plane>::_copy_on_write((CowData<Plane> *)&local_1d0);
  local_1b8 = local_1d0;
  if (local_1d0 == (Transform3D *)0x0) {
    local_1a8 = 0;
LAB_0011c581:
    pTVar38 = (Transform3D *)0x0;
  }
  else {
    lVar51 = 0;
    local_1a8 = (int)*(long *)(local_1d0 + -8);
    pTVar38 = local_1d0;
    if (0 < *(long *)(local_1d0 + -8)) {
      do {
        if (local_210 == (Transform3D *)0x0) {
          lVar47 = 0;
LAB_0011c58b:
          puVar57 = (undefined8 *)&stack0xfffffffffffffc38;
          goto LAB_0011c5a9;
        }
        lVar47 = *(long *)(local_210 + -8);
        if (lVar47 <= lVar51) goto LAB_0011c58b;
        pTVar38 = local_210 + lVar51 * 0x10;
        uVar79 = 0;
        if (*(float *)pTVar38 <= 0.0) {
          uVar79 = 3;
        }
        uVar45 = 1;
        if (*(float *)(pTVar38 + 4) <= 0.0) {
          uVar45 = 4;
        }
        local_b8 = (RendererSceneCull *)CONCAT44(uVar45,uVar79);
        uVar79 = 2;
        if (*(float *)(pTVar38 + 8) <= 0.0) {
          uVar79 = 5;
        }
        lVar51 = lVar51 + 1;
        uStack_b0 = CONCAT44(uStack_b0._4_4_,uVar79);
        Vector<RendererSceneCull::PlaneSign>::push_back(local_1c8);
        if (local_1d0 == (Transform3D *)0x0) goto LAB_0011c581;
        pTVar38 = local_1d0;
      } while (lVar51 < *(long *)(local_1d0 + -8));
    }
  }
  lVar51 = local_1c0;
  local_1b0 = local_1c0;
  if (pTVar38 != *(Transform3D **)(local_248 + 0xb520)) {
    CowData<Plane>::_ref((CowData<Plane> *)(local_248 + 0xb520),(CowData *)&local_1d0);
  }
  lVar47 = *(long *)(local_248 + 0xb530);
  lVar52 = lVar47;
  if (lVar51 == lVar47) {
LAB_0011c606:
    *(undefined4 *)(local_248 + 0xb548) = local_1a8;
    local_268 = (undefined1  [8])*(long *)(local_248 + 0xb520);
    *(long *)(local_248 + 0xb538) = *(long *)(local_248 + 0xb520);
    *(long *)(local_248 + 0xb540) = lVar52;
    if (lVar47 != 0) {
      LOCK();
      plVar39 = (long *)(lVar47 + -0x10);
      *plVar39 = *plVar39 + -1;
      UNLOCK();
      if (*plVar39 == 0) {
        Memory::free_static((void *)(local_1c0 + -0x10),false);
      }
    }
  }
  else {
    if (lVar47 != 0) {
      LOCK();
      plVar39 = (long *)(lVar47 + -0x10);
      *plVar39 = *plVar39 + -1;
      UNLOCK();
      if (*plVar39 == 0) {
        lVar51 = *(long *)(local_248 + 0xb530);
        *(long *)(local_248 + 0xb530) = 0;
        Memory::free_static((void *)(lVar51 + -0x10),false);
        lVar51 = local_1c0;
      }
      else {
        *(long *)(local_248 + 0xb530) = 0;
        lVar51 = local_1c0;
      }
    }
    plVar39 = (long *)(lVar51 + -0x10);
    if (lVar51 != 0) {
      do {
        lVar51 = *plVar39;
        lVar47 = local_1c0;
        if (lVar51 == 0) goto LAB_0011c5f5;
        LOCK();
        lVar52 = *plVar39;
        bVar77 = lVar51 == lVar52;
        if (bVar77) {
          *plVar39 = lVar51 + 1;
          lVar52 = lVar51;
        }
        UNLOCK();
      } while (!bVar77);
      if (lVar52 == -1) {
LAB_0011c5f5:
        lVar52 = *(long *)(local_248 + 0xb530);
      }
      else {
        *(long *)(local_248 + 0xb530) = local_1c0;
        lVar52 = local_1c0;
      }
      goto LAB_0011c606;
    }
    *(undefined4 *)(local_248 + 0xb548) = local_1a8;
    local_268 = (undefined1  [8])*(long *)(local_248 + 0xb520);
    *(long *)(local_248 + 0xb538) = *(long *)(local_248 + 0xb520);
    *(long *)(local_248 + 0xb540) = *(long *)(local_248 + 0xb530);
  }
  if (local_1d0 != (Transform3D *)0x0) {
    LOCK();
    pTVar38 = local_1d0 + -0x10;
    *(long *)pTVar38 = *(long *)pTVar38 + -1;
    UNLOCK();
    if (*(long *)pTVar38 == 0) {
      Memory::free_static(local_1d0 + -0x10,false);
    }
  }
  local_200 = 0;
  local_1d0 = (Transform3D *)0x0;
  *(undefined4 *)(local_248 + 0xb208) = 0;
  if ((*(long **)(local_250 + 0x108) == (long *)0x0) ||
     (plVar39 = (long *)**(long **)(local_250 + 0x108), plVar39 == (long *)0x0)) {
    pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x3c8);
LAB_0011ebf3:
    (*pcVar41)();
  }
  else {
    pTVar38 = (Transform3D *)0x0;
    local_268 = (undefined1  [8])&local_200;
LAB_0011c753:
    do {
      lVar51 = *plVar39;
      if (((*(byte *)(lVar51 + 0xe0) & 4) != 0) && ((param_8 & *(uint *)(lVar51 + 0xdc)) != 0)) {
        if ((local_200 != 0) && (7 < *(long *)(local_200 + -8))) break;
        local_278 = *(RendererSceneCull **)(lVar51 + 0x298);
        if (local_278 != (RendererSceneCull *)0x0) {
          if ((param_11 == 0) || ((char)local_288 == '\0')) {
LAB_0011c6de:
            lVar51 = *(long *)(local_278 + 8);
            if (local_200 == 0) goto LAB_0011c86c;
LAB_0011c6f2:
            iVar68 = CowData<RID>::resize<false>
                               ((CowData<RID> *)local_268,*(long *)(local_200 + -8) + 1);
          }
          else {
            cVar30 = (**(code **)(*RenderingServerGlobals::light_storage + 0xe8))
                               (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar51 + 8));
            if ((cVar30 != '\0') &&
               ((iVar68 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                                    (RenderingServerGlobals::light_storage,
                                     *(undefined8 *)(lVar51 + 8)), iVar68 != 0 ||
                (iVar68 = (**(code **)(*RenderingServerGlobals::light_storage + 0xd0))
                                    (RenderingServerGlobals::light_storage,
                                     *(undefined8 *)(lVar51 + 8)), iVar68 != 2)))) {
              if (pTVar38 == (Transform3D *)0x0) {
                lVar47 = 1;
              }
              else {
                lVar47 = *(long *)(pTVar38 + -8) + 1;
              }
              iVar68 = CowData<RendererSceneCull::Instance*>::resize<false>
                                 ((CowData<RendererSceneCull::Instance*> *)&local_1d0,lVar47);
              pTVar38 = local_1d0;
              if (iVar68 == 0) {
                if (local_1d0 == (Transform3D *)0x0) {
                  lVar52 = -1;
                  lVar47 = 0;
                }
                else {
                  lVar47 = *(long *)(local_1d0 + -8);
                  lVar52 = lVar47 + -1;
                  if (-1 < lVar52) {
                    CowData<RendererSceneCull::Instance*>::_copy_on_write
                              ((CowData<RendererSceneCull::Instance*> *)&local_1d0);
                    *(long *)(local_1d0 + lVar52 * 8) = lVar51;
                    pTVar38 = local_1d0;
                    goto LAB_0011c851;
                  }
                }
                _err_print_index_error
                          ("set","./core/templates/cowdata.h",0xcf,lVar52,lVar47,"p_index","size()",
                           "",false,false);
              }
              else {
                _err_print_error("push_back","./core/templates/vector.h",0x142,
                                 "Condition \"err\" is true. Returning: true",0,0);
                pTVar38 = local_1d0;
              }
              goto LAB_0011c6de;
            }
LAB_0011c851:
            lVar51 = *(long *)(local_278 + 8);
            if (local_200 != 0) goto LAB_0011c6f2;
LAB_0011c86c:
            iVar68 = CowData<RID>::resize<false>((CowData<RID> *)local_268,1);
          }
          if (iVar68 != 0) {
            _err_print_error("push_back","./core/templates/vector.h",0x142,
                             "Condition \"err\" is true. Returning: true",0,0);
            plVar39 = (long *)plVar39[1];
            if (plVar39 == (long *)0x0) break;
            goto LAB_0011c753;
          }
          if (local_200 == 0) {
            lVar52 = -1;
            lVar47 = 0;
          }
          else {
            lVar47 = *(long *)(local_200 + -8);
            lVar52 = lVar47 + -1;
            if (-1 < lVar52) {
              CowData<RID>::_copy_on_write((CowData<RID> *)local_268);
              *(long *)(local_200 + lVar52 * 8) = lVar51;
              goto LAB_0011c746;
            }
          }
          _err_print_index_error
                    ("set","./core/templates/cowdata.h",0xcf,lVar52,lVar47,"p_index","size()","",
                     false,false);
        }
      }
LAB_0011c746:
      plVar39 = (long *)plVar39[1];
    } while (plVar39 != (long *)0x0);
    pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x3c8);
    if (pTVar38 == (Transform3D *)0x0) goto LAB_0011ebf3;
    uVar37 = 0;
    (*pcVar41)();
    pRVar74 = local_248;
    lVar47 = local_270;
    lVar51 = local_2c8;
    if (0 < *(long *)(pTVar38 + -8)) {
      do {
        uVar101 = uVar37 & 0xffffffff;
        lVar52 = uVar37 * 8;
        uVar37 = uVar37 + 1;
        _light_instance_setup_directional_shadow
                  (pRVar74,uVar101,*(undefined8 *)(pTVar38 + lVar52),lVar51,
                   *(undefined1 *)(lVar47 + 4),*(undefined1 *)(lVar47 + 0xc),
                   *(undefined8 *)(lVar47 + 0x10),*(undefined8 *)(lVar47 + 0x18));
      } while ((long)uVar37 < *(long *)(pTVar38 + -8));
    }
    LOCK();
    pTVar38 = pTVar38 + -0x10;
    *(long *)pTVar38 = *(long *)pTVar38 + -1;
    UNLOCK();
    if (*(long *)pTVar38 == 0) {
      Memory::free_static(local_1d0 + -0x10,false);
    }
  }
  *(undefined4 *)(local_248 + 0xb4ac) = 0;
  if (CONCAT44(param_12._4_4_,(uint)param_12) == 0) {
    *(undefined4 *)(local_248 + 0xb4d0) = 0;
    uVar36 = (**(code **)(**(long **)(local_248 + 8) + 0x30))();
    pRVar74 = local_248;
    auVar8 = _local_268;
    if (uVar36 != 0) {
      local_268._4_4_ = 0;
      local_268._0_4_ = uVar36;
      uVar37 = 0;
      iVar68 = -1;
      uStack_260 = auVar8._8_8_;
      local_278 = (RendererSceneCull *)CONCAT44(local_278._4_4_,uVar36);
      do {
        local_280 = (CullData *)(pRVar74 + (uVar37 & 0xffffffff) * 0x18 + 0xb200);
        (**(code **)(**(long **)(pRVar74 + 8) + 0x38))
                  (&local_238,*(long **)(pRVar74 + 8),local_2b8,uVar37 & 0xffffffff);
        pCVar55 = local_280;
        plVar39 = *(long **)(pRVar74 + 8);
        local_280 = (CullData *)CONCAT44(local_280._4_4_,iVar68);
        *(undefined8 *)(pCVar55 + 0xc) = local_238;
        *(undefined8 *)(pCVar55 + 0x14) = uStack_230;
        *(undefined8 *)(pCVar55 + 0x1c) = local_228;
        iVar68 = (**(code **)(*plVar39 + 0x40))(plVar39,local_2b8,uVar37 & 0xffffffff);
        *(int *)(pRVar74 + uVar37 * 4 + 0xb44c) = iVar68;
        if (iVar68 != (int)local_280) {
          uVar36 = *(uint *)(pRVar74 + 0xb4d0);
          *(int *)(pRVar74 + (ulong)uVar36 * 4 + 0xb4b0) = iVar68;
          *(uint *)(pRVar74 + 0xb4d0) = uVar36 + 1;
        }
        uVar37 = uVar37 + 1;
      } while (local_268 != (undefined1  [8])uVar37);
      uVar36 = (uint)local_278._0_4_;
    }
    *(uint *)(local_248 + 0xb4ac) = uVar36;
  }
  pRVar74 = local_248;
  local_2d0 = (InstanceCullResult *)(local_248 + 0x490);
  InstanceCullResult::clear(local_2d0);
  local_b8 = pRVar74 + 0x9848;
  uVar37 = *(ulong *)(local_250 + 0x1f0);
  uStack_b0 = local_250;
  local_a8 = param_11;
  local_80 = *(undefined8 *)*(undefined1 (*) [16])(local_270 + 0x30);
  uStack_78 = *(undefined8 *)(local_270 + 0x38);
  _local_268 = *(undefined1 (*) [16])(local_270 + 0x30);
  uStack_a0 = *(ulong *)(local_270 + 0x10);
  uStack_98 = *(undefined8 *)(local_270 + 0x18);
  uStack_90 = *(undefined8 *)(local_270 + 0x20);
  uStack_88 = *(undefined8 *)(local_270 + 0x28);
  local_70 = param_8;
  local_68 = local_258;
  local_60 = 0;
  if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x58) !=
      RendererSceneOcclusionCull::buffer_get_ptr) {
    local_60 = (**(code **)(*RendererSceneOcclusionCull::singleton + 0x58))();
  }
  local_50 = 0;
  local_58 = local_2c8;
  local_258 = *(StrRange **)(local_250 + 0x150);
  if ((local_258 != (StrRange *)0x0) && (*(int *)(local_250 + 0x174) != 0)) {
    uVar66 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(local_250 + 0x170) * 4))
    ;
    lVar51 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(local_250 + 0x170) * 8);
    uVar101 = param_10 * 0x3ffff - 1;
    uVar101 = (uVar101 ^ uVar101 >> 0x1f) * 0x15;
    uVar101 = (uVar101 ^ uVar101 >> 0xb) * 0x41;
    uVar35 = (uint)(uVar101 >> 0x16) ^ (uint)uVar101;
    uVar36 = 1;
    if (uVar35 != 0) {
      uVar36 = uVar35;
    }
    auVar12._8_8_ = 0;
    auVar12._0_8_ = (ulong)uVar36 * lVar51;
    auVar20._8_8_ = 0;
    auVar20._0_8_ = uVar66;
    lVar47 = SUB168(auVar12 * auVar20,8);
    uVar35 = *(uint *)(*(long *)(local_250 + 0x158) + lVar47 * 4);
    uVar101 = (ulong)uVar35;
    iVar68 = SUB164(auVar12 * auVar20,8);
    if (uVar35 != 0) {
      uVar35 = 0;
      do {
        if (((uint)uVar101 == uVar36) &&
           (param_10 == *(long *)(*(long *)(local_258 + lVar47 * 8) + 0x10))) {
          puVar40 = (undefined8 *)
                    HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                    ::operator[]((HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
                                  *)(local_250 + 0x148),(RID *)&param_10);
          local_50 = *puVar40;
          goto LAB_0011cc8b;
        }
        uVar35 = uVar35 + 1;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = (ulong)(iVar68 + 1) * lVar51;
        auVar21._8_8_ = 0;
        auVar21._0_8_ = uVar66;
        lVar47 = SUB168(auVar13 * auVar21,8);
        uVar34 = *(uint *)(*(long *)(local_250 + 0x158) + lVar47 * 4);
        uVar101 = (ulong)uVar34;
        iVar68 = SUB164(auVar13 * auVar21,8);
      } while ((uVar34 != 0) &&
              (auVar14._8_8_ = 0, auVar14._0_8_ = uVar101 * lVar51, auVar22._8_8_ = 0,
              auVar22._0_8_ = uVar66, auVar15._8_8_ = 0,
              auVar15._0_8_ =
                   (ulong)((*(uint *)(hash_table_size_primes +
                                     (ulong)*(uint *)(local_250 + 0x170) * 4) + iVar68) -
                          SUB164(auVar14 * auVar22,8)) * lVar51, auVar23._8_8_ = 0,
              auVar23._0_8_ = uVar66, uVar35 <= SUB164(auVar15 * auVar23,8)));
      local_50 = 0;
    }
  }
LAB_0011cc8b:
  if (*(uint *)(local_248 + 0x97c8) < uVar37) {
    pIVar53 = *(InstanceCullResult **)(local_248 + 0x1248);
    pIVar69 = pIVar53 + (ulong)*(uint *)(local_248 + 0x1240) * 0xdb0;
    pCVar28 = WorkerThreadPool::singleton;
    for (; WorkerThreadPool::singleton = pCVar28, pIVar69 != pIVar53; pIVar53 = pIVar53 + 0xdb0) {
      InstanceCullResult::clear(pIVar53);
      pCVar28 = WorkerThreadPool::singleton;
    }
    if ((_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
         ::{lambda()#2}::operator()()::sname == '\0') &&
       (iVar68 = __cxa_guard_acquire(&_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                      ::{lambda()#2}::operator()()::sname), iVar68 != 0)) {
      _scs_create((char *)&_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                           ::{lambda()#2}::operator()()::sname,true);
      __cxa_atexit(StringName::~StringName,
                   &_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                    ::{lambda()#2}::operator()()::sname,&__dso_handle);
      __cxa_guard_release(&_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                           ::{lambda()#2}::operator()()::sname);
    }
    lVar51 = _render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
             ::{lambda()#2}::operator()()::sname;
    if (_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
        ::{lambda()#2}::operator()()::sname == 0) {
LAB_0011e32a:
      local_1e8 = 0;
    }
    else {
      pcVar62 = *(char **)(_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                           ::{lambda()#2}::operator()()::sname + 8);
      local_1e8 = 0;
      if (pcVar62 == (char *)0x0) {
        plVar39 = (long *)(*(long *)(_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                                     ::{lambda()#2}::operator()()::sname + 0x10) + -0x10);
        if (*(long *)(_render_scene(RendererSceneRender::CameraData_const*,Ref<RenderSceneBuffers>const&,RID,RID,RID,unsigned_int,RID,RID,RID,RID,int,float,bool,RenderingMethod::RenderInfo*)
                      ::{lambda()#2}::operator()()::sname + 0x10) != 0) {
          do {
            lVar47 = *plVar39;
            if (lVar47 == 0) goto LAB_0011e32a;
            LOCK();
            lVar52 = *plVar39;
            bVar77 = lVar47 == lVar52;
            if (bVar77) {
              *plVar39 = lVar47 + 1;
              lVar52 = lVar47;
            }
            UNLOCK();
          } while (!bVar77);
          if (lVar52 != -1) {
            local_1e8 = *(long *)(lVar51 + 0x10);
            goto LAB_0011cd43;
          }
        }
        goto LAB_0011e32a;
      }
      local_1d0 = (Transform3D *)strlen(pcVar62);
      local_1d8 = pcVar62;
      String::parse_latin1((StrRange *)&local_1e8);
    }
LAB_0011cd43:
    pRVar74 = local_248;
    iVar68 = *(int *)(local_248 + 0x1240);
    puVar40 = (undefined8 *)operator_new(0x28,"");
    *puVar40 = &PTR_callback_00138980;
    puVar40[2] = _scene_cull_threaded;
    local_280 = (CullData *)&local_b8;
    puVar40[1] = pRVar74;
    puVar40[3] = 0;
    puVar40[4] = local_280;
    local_1d8 = (char *)0x0;
    local_1d0 = (Transform3D *)0x0;
    WorkerThreadPool::_add_group_task
              (pCVar28,(_func_void_void_ptr_uint *)&local_1d8,(void *)0x0,
               (BaseTemplateUserdata *)0x0,(int)puVar40,iVar68,true,(String *)0x1);
    Callable::~Callable((Callable *)&local_1d8);
    lVar51 = local_1e8;
    if (local_1e8 != 0) {
      LOCK();
      plVar39 = (long *)(local_1e8 + -0x10);
      *plVar39 = *plVar39 + -1;
      UNLOCK();
      if (*plVar39 == 0) {
        local_1e8 = 0;
        Memory::free_static((void *)(lVar51 + -0x10),false);
      }
    }
    WorkerThreadPool::wait_for_group_task_completion((long)WorkerThreadPool::singleton);
    pTVar38 = *(Transform3D **)(local_248 + 0x1248);
    if (pTVar38 + (ulong)*(uint *)(local_248 + 0x1240) * 0xdb0 != pTVar38) {
      local_258 = (StrRange *)(pTVar38 + 0x600);
      pCVar55 = (CullData *)(local_248 + 0x10c0);
      local_288 = (Transform3D *)(local_248 + 0x4c0);
      local_298 = (Transform3D *)(local_248 + 0x4f0);
      local_2a8 = (Transform3D *)(local_248 + 0x520);
      local_2b0 = local_248 + 0x550;
      local_2c0 = (CullData *)(local_248 + 0x580);
      local_2e8 = (Transform3D *)(local_248 + 0x5b0);
      local_2f8 = (CullData *)(local_248 + 0x5e0);
      local_2d8 = local_248 + 0x610;
      local_278 = local_248 + 0xc40;
      local_268 = (undefined1  [8])(local_248 + 0x1240);
      local_300 = pTVar38 + (ulong)*(uint *)(local_248 + 0x1240) * 0xdb0;
      do {
        PagedArray<RenderGeometryInstance*>::merge_unordered
                  ((PagedArray<RenderGeometryInstance*> *)local_2d0,(PagedArray *)pTVar38);
        PagedArray<RendererSceneCull::Instance*>::merge_unordered
                  ((PagedArray<RendererSceneCull::Instance*> *)local_288,
                   (PagedArray *)pTVar38 + 0x30);
        PagedArray<RID>::merge_unordered((PagedArray<RID> *)local_298,(PagedArray *)pTVar38 + 0x60);
        PagedArray<RID>::merge_unordered((PagedArray<RID> *)local_2a8,(PagedArray *)pTVar38 + 0x90);
        PagedArray<RID>::merge_unordered((PagedArray<RID> *)local_2b0,(PagedArray *)pTVar38 + 0xc0);
        PagedArray<RID>::merge_unordered((PagedArray<RID> *)local_2c0,(PagedArray *)pTVar38 + 0xf0);
        PagedArray<RID>::merge_unordered((PagedArray<RID> *)local_2e8,(PagedArray *)pTVar38 + 0x120)
        ;
        PagedArray<RID>::merge_unordered((PagedArray<RID> *)local_2f8,(PagedArray *)pTVar38 + 0x150)
        ;
        PagedArray<RID>::merge_unordered((PagedArray<RID> *)local_2d8,(PagedArray *)pTVar38 + 0x180)
        ;
        pRVar74 = local_248;
        local_310 = pCVar55;
        local_308 = (PagedArray *)pTVar38;
        do {
          lVar51 = 0;
          do {
            lVar47 = lVar51 + 0x1b0;
            lVar52 = lVar51 + 0x640;
            lVar51 = lVar51 + 0x30;
            PagedArray<RenderGeometryInstance*>::merge_unordered
                      ((PagedArray<RenderGeometryInstance*> *)(pRVar74 + lVar52),
                       (PagedArray *)((StrRange *)pTVar38 + lVar47));
            pPVar6 = local_308;
            pCVar55 = local_310;
          } while (lVar51 != 0xc0);
          pRVar74 = pRVar74 + 0xc0;
          pTVar38 = (Transform3D *)((StrRange *)pTVar38 + 0xc0);
        } while (local_258 != (StrRange *)pTVar38);
        pPVar54 = local_308 + 0x7b0;
        pRVar74 = local_278;
        do {
          pCVar75 = (CullData *)((PagedArray<RenderGeometryInstance*> *)pRVar74 + 0x30);
          PagedArray<RenderGeometryInstance*>::merge_unordered
                    ((PagedArray<RenderGeometryInstance*> *)pRVar74,pPVar54);
          pPVar54 = pPVar54 + 0x30;
          pRVar74 = (RendererSceneCull *)pCVar75;
        } while (pCVar55 != pCVar75);
        auVar61 = local_268;
        pPVar54 = pPVar6 + 0xc30;
        pCVar75 = pCVar55;
        do {
          pPVar76 = (PagedArray<RID> *)pCVar75 + 0x30;
          PagedArray<RID>::merge_unordered((PagedArray<RID> *)pCVar75,pPVar54);
          pPVar54 = pPVar54 + 0x30;
          pCVar75 = (CullData *)pPVar76;
        } while (auVar61 != (undefined1  [8])pPVar76);
        local_258 = local_258 + 0xdb0;
        pTVar38 = (Transform3D *)(pPVar6 + 0xdb0);
      } while (local_300 != pTVar38);
    }
  }
  else {
    local_280 = (CullData *)&local_b8;
    _scene_cull(local_248,local_280,local_2d0,0,uVar37);
  }
  pRVar74 = local_248;
  if (*(long *)(local_248 + 0x608) != 0) {
    uVar37 = 0;
    do {
      uVar37 = uVar37 + 1;
      (**(code **)(*RenderingServerGlobals::mesh_storage + 0xf0))();
    } while (uVar37 < *(ulong *)(pRVar74 + 0x608));
    (**(code **)(*RenderingServerGlobals::mesh_storage + 0x100))();
  }
  pRVar74 = local_248;
  *(undefined4 *)(local_248 + 0x9250) = 0;
  puVar59 = auStack_3a8;
  if ((char)local_290 != '\0') {
    if (*(int *)(local_248 + 0xb208) != 0) {
      pRVar73 = local_248 + 0x9890;
      auVar61 = (undefined1  [8])0x0;
      uVar36 = 0;
      pTVar38 = (Transform3D *)(local_248 + 0x640);
      do {
        if (*(int *)(pRVar73 + 0x2e8) != 0) {
          local_258 = (StrRange *)(pTVar38 + (long)auVar61);
          local_278 = (RendererSceneCull *)CONCAT44(local_278._4_4_,uVar36);
          uVar35 = 0;
          local_268 = auVar61;
          pRVar72 = pRVar73;
          local_288 = pTVar38;
          do {
            (**(code **)(*RenderingServerGlobals::light_storage + 0x160))
                      (RenderingServerGlobals::light_storage,
                       *(undefined8 *)(pRVar74 + (ulong)uVar36 * 0x338 + 0x9848),pRVar72,
                       pRVar72 + 0x40,uVar35);
            if (*(uint *)(pRVar74 + 0x9250) != 0x200) {
              lVar51 = (ulong)*(uint *)(pRVar74 + 0x9250) * 0x40;
              *(long *)(pRVar74 + lVar51 + 0x1250) = *(long *)(pRVar73 + -0x48);
              *(uint *)(pRVar74 + lVar51 + 0x1258) = uVar35;
              PagedArray<RenderGeometryInstance*>::merge_unordered
                        ((PagedArray<RenderGeometryInstance*> *)(pRVar74 + lVar51 + 0x1260),
                         (PagedArray *)local_258);
              *(int *)(pRVar74 + 0x9250) = *(int *)(pRVar74 + 0x9250) + 1;
            }
            local_258 = local_258 + 0x30;
            uVar35 = uVar35 + 1;
            pRVar72 = pRVar72 + 200;
          } while (uVar35 < *(uint *)(pRVar73 + 0x2e8));
          auVar61 = local_268;
          pTVar38 = local_288;
          uVar36 = (uint)local_278._0_4_;
        }
        uVar36 = uVar36 + 1;
        pRVar73 = pRVar73 + 0x338;
        auVar61 = (undefined1  [8])((long)auVar61 + 0xc0);
      } while (uVar36 < *(uint *)(pRVar74 + 0xb208));
    }
    pRVar74 = local_248;
    pTVar38 = *(Transform3D **)(local_248 + 0x4e8);
    puVar59 = auStack_3a8;
    if ((int)pTVar38 != 0) {
      local_288 = (Transform3D *)0x0;
      puVar59 = auStack_3a8;
LAB_0011d275:
      if (pTVar38 <= local_288) {
        *(undefined8 *)(puVar59 + -8) = 1;
        *(undefined8 *)(puVar59 + -0x10) = 0;
        *(undefined **)(puVar59 + -0x18) = &_LC3;
        *(char **)(puVar59 + -0x20) = "count";
        pTVar42 = local_288;
LAB_0011e30e:
        puVar58 = (undefined8 *)(puVar59 + -0x20);
        iVar68 = 0xb0;
        pcVar62 = "./core/templates/paged_array.h";
LAB_0011e136:
        puVar58[-1] = 0x11e142;
        _err_print_index_error
                  ("operator[]",pcVar62,iVar68,(long)pTVar42,(long)pTVar38,"p_index",
                   (char *)*puVar58,(char *)puVar58[1],*(bool *)(puVar58 + 2),*(bool *)(puVar58 + 3)
                  );
        puVar58[3] = 0x11e14b;
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar41 = (code *)invalidInstructionException();
        (*pcVar41)();
      }
      local_258 = *(StrRange **)
                   (*(long *)(*(long *)(pRVar74 + 0x4c8) +
                             ((ulong)local_288 >> ((byte)*(undefined4 *)(pRVar74 + 0x4dc) & 0x3f)) *
                             8) + (ulong)((uint)local_288 & *(uint *)(pRVar74 + 0x4e0)) * 8);
      if (param_11 != 0) {
        pCVar55 = *(CullData **)(local_258 + 0x298);
        uVar82 = *(undefined8 *)(pCVar55 + 8);
        pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x178);
        *(undefined8 *)(puVar59 + -8) = 0x11d2e5;
        cVar30 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82,&local_184);
        if (cVar30 != '\0') {
          local_b8 = *(RendererSceneCull **)(local_270 + 0x10);
          uStack_b0 = *(ulong *)(local_270 + 0x18);
          local_a8 = *(long *)(local_270 + 0x20);
          uStack_a0 = *(ulong *)(local_270 + 0x28);
          uStack_98 = *(undefined8 *)*(undefined1 (*) [16])(local_270 + 0x30);
          uStack_90 = *(undefined8 *)(local_270 + 0x38);
          _local_268 = *(undefined1 (*) [16])(local_270 + 0x30);
          *(undefined8 *)(puVar59 + -8) = 0x11d32e;
          uVar36 = Projection::get_z_near();
          fVar90 = (float)(uVar36 ^ _LC103);
          local_268._0_4_ = fVar90;
          local_118._4_4_ = (uint)local_a8._4_4_ ^ _LC103;
          local_118._0_4_ = (uint)(float)uStack_b0 ^ _LC103;
          uStack_110._4_4_ =
               (uStack_98._4_4_ + fVar90 * (float)uStack_b0) *
               (float)((uint)(float)uStack_b0 ^ _LC103) +
               (fVar90 * local_a8._4_4_ + (float)uStack_90) * (float)((uint)local_a8._4_4_ ^ _LC103)
               + (fVar90 * (float)uStack_98 + uStack_90._4_4_) *
                 (float)((uint)(float)uStack_98 ^ _LC103);
          uStack_110._0_4_ = (float)((uint)(float)uStack_98 ^ _LC103);
          *(undefined8 *)(puVar59 + -8) = 0x11d3c7;
          uVar82 = Projection::get_viewport_half_extents();
          local_278 = (RendererSceneCull *)CONCAT44(local_278._4_4_,(int)uVar82);
          local_290 = CONCAT44(local_290._4_4_,(int)((ulong)uVar82 >> 0x20));
          uVar82 = *(undefined8 *)(local_258 + 8);
          pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0xf8);
          *(undefined8 *)(puVar59 + -8) = 0x11d3f9;
          iVar68 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82);
          pSVar29 = local_258;
          if (iVar68 == 1) {
            uVar82 = *(undefined8 *)(local_258 + 8);
            pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x108);
            *(undefined8 *)(puVar59 + -8) = 0x11e54f;
            fVar90 = (float)(*pcVar41)(RenderingServerGlobals::light_storage,uVar82,4);
            local_e8 = *(undefined8 *)(pSVar29 + 0x54);
            local_e0 = *(float *)(pSVar29 + 0x5c);
            local_d4 = (float)uStack_a0 * fVar90 + *(float *)(pSVar29 + 0x5c);
            local_dc = SUB84(local_b8,0) * fVar90 + (float)*(undefined8 *)(pSVar29 + 0x54);
            fStack_d8 = (float)(uStack_b0 >> 0x20) * fVar90 +
                        (float)((ulong)*(undefined8 *)(pSVar29 + 0x54) >> 0x20);
            if (*(char *)(local_270 + 4) == '\0') {
              local_298 = (Transform3D *)local_118;
              pVVar56 = (Vector3 *)&local_e8;
              do {
                if (((float)local_118._0_4_ * *(float *)pVVar56 +
                     (float)local_118._4_4_ * *(float *)(pVVar56 + 4) +
                    (float)uStack_110 * *(float *)(pVVar56 + 8)) - uStack_110._4_4_ < 0.0) {
                  *(undefined4 *)(pVVar56 + 8) = local_268._0_4_;
                }
                pVVar71 = pVVar56 + 0xc;
                *(undefined8 *)(puVar59 + -8) = 0x121a38;
                Plane::intersects_segment
                          ((Vector3 *)local_298,(Vector3 *)((long)&uStack_98 + 4),pVVar56);
                pVVar56 = pVVar71;
              } while (pVVar71 != local_d0);
            }
            fVar85 = local_d4 - local_e0;
            fVar90 = fStack_d8 - local_e8._4_4_;
            fVar84 = local_dc - (float)local_e8;
LAB_0011e4fa:
            fVar90 = SQRT(fVar84 * fVar84 + fVar90 * fVar90 + fVar85 * fVar85);
            fVar90 = (fVar90 + fVar90) / (local_278._0_4_ + (float)local_290);
          }
          else {
            if (iVar68 == 2) {
              uVar82 = *(undefined8 *)(local_258 + 8);
              pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x108);
              *(undefined8 *)(puVar59 + -8) = 0x11e3b2;
              uVar79 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82,4);
              uVar82 = *(undefined8 *)(pSVar29 + 8);
              local_298 = (Transform3D *)CONCAT44(local_298._4_4_,uVar79);
              pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x108);
              *(undefined8 *)(puVar59 + -8) = 0x11e3d3;
              fVar90 = (float)(*pcVar41)(RenderingServerGlobals::light_storage,uVar82,7);
              *(undefined8 *)(puVar59 + -8) = 0x11e3ee;
              sincosf(fVar90 * __LC203,&local_23c,&local_240);
              fVar90 = *(float *)(pSVar29 + 0x44);
              fVar84 = *(float *)(pSVar29 + 0x38);
              fVar85 = *(float *)(pSVar29 + 0x50);
              fVar80 = local_23c * local_298._0_4_;
              fVar81 = local_298._0_4_ * local_240;
              fVar83 = fVar84 * fVar84 + fVar90 * fVar90 + fVar85 * fVar85;
              if (fVar83 == 0.0) {
                fVar85 = 0.0;
                fVar90 = 0.0;
                fVar84 = 0.0;
              }
              else {
                fVar83 = SQRT(fVar83);
                fVar84 = fVar84 / fVar83;
                fVar90 = fVar90 / fVar83;
                fVar85 = fVar85 / fVar83;
              }
              fVar90 = *(float *)(local_258 + 0x58) - fVar90 * fVar81;
              local_e0 = *(float *)(local_258 + 0x5c) - fVar85 * fVar81;
              fVar84 = *(float *)(local_258 + 0x54) - fVar81 * fVar84;
              local_e8 = CONCAT44(fVar90,fVar84);
              local_d4 = (float)uStack_a0 * fVar80 + local_e0;
              fStack_d8 = uStack_b0._4_4_ * fVar80 + fVar90;
              local_dc = fVar80 * (float)local_b8 + fVar84;
              if (*(char *)(local_270 + 4) == '\0') {
                local_298 = (Transform3D *)local_118;
                pVVar56 = (Vector3 *)&local_e8;
                do {
                  if (((float)local_118._0_4_ * *(float *)pVVar56 +
                       (float)local_118._4_4_ * *(float *)(pVVar56 + 4) +
                      (float)uStack_110 * *(float *)(pVVar56 + 8)) - uStack_110._4_4_ < 0.0) {
                    *(undefined4 *)(pVVar56 + 8) = local_268._0_4_;
                  }
                  pVVar71 = pVVar56 + 0xc;
                  *(undefined8 *)(puVar59 + -8) = 0x121cd8;
                  Plane::intersects_segment
                            ((Vector3 *)local_298,(Vector3 *)((long)&uStack_98 + 4),pVVar56);
                  pVVar56 = pVVar71;
                } while (local_d0 != pVVar71);
                fVar90 = local_e8._4_4_;
                fVar84 = (float)local_e8;
              }
              fVar85 = local_d4 - local_e0;
              fVar90 = fStack_d8 - fVar90;
              fVar84 = local_dc - fVar84;
              goto LAB_0011e4fa;
            }
            *(undefined8 *)(puVar59 + -8) = 0x11d430;
            _err_print_error("_render_scene","servers/rendering/renderer_scene_cull.cpp",0xd76,
                             "Invalid Light Type");
            fVar90 = 0.0;
          }
          local_268._0_4_ = fVar90;
          *(undefined8 *)(puVar59 + -8) = 0x11d441;
          Engine::get_singleton();
          *(undefined8 *)(puVar59 + -8) = 0x11d449;
          uVar36 = Engine::get_frames_drawn();
          if (uVar36 == *(uint *)(pCVar55 + 100)) {
            iVar68 = *(int *)(pCVar55 + 0x60);
            pCVar55[0x68] = (CullData)0x1;
            *(uint *)(pCVar55 + 0x6c) = uVar36 + 0x3c;
            *(uint *)(pCVar55 + 100) = uVar36;
          }
          else {
            if ((pCVar55[0x68] != (CullData)0x0) && (*(uint *)(pCVar55 + 0x6c) <= uVar36)) {
              pCVar55[0x68] = (CullData)0x0;
              *(undefined4 *)(pCVar55 + 0x6c) = 0xffffffff;
            }
            iVar68 = *(int *)(pCVar55 + 0x60);
            *(uint *)(pCVar55 + 100) = uVar36;
          }
          if (iVar68 != 0) {
            pIVar4 = *(Instance **)(pRVar74 + 0x9840);
            *(undefined8 *)(puVar59 + -8) = 0x11e2c6;
            cVar30 = RenderingLightCuller::_prepare_light(pIVar4,(int)local_258);
            if (cVar30 != '\0') {
              *(int *)(pCVar55 + 0x60) = *(int *)(pCVar55 + 0x60) + -1;
              *(long *)(pCVar55 + 0x10) = *(long *)(pCVar55 + 0x10) + 1;
            }
          }
          uVar82 = *(undefined8 *)(pCVar55 + 8);
          pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x3a8);
          *(undefined8 *)(puVar59 + -8) = 0x11d4a1;
          cVar30 = (*pcVar41)(RenderingServerGlobals::light_storage,param_11,uVar82);
          pRVar73 = RenderingServerGlobals::utilities;
          if (cVar30 == '\0') goto LAB_0011da1a;
          if (0x1ff < *(uint *)(pRVar74 + 0x9250)) {
            *(uint *)(pCVar55 + 0x60) = 2 - (uint)(byte)pCVar55[0x68];
            goto LAB_0011da1a;
          }
          if (RenderingServerGlobals::utilities[8] != (RendererSceneCull)0x0) {
            local_268 = (undefined1  [8])
                        *(undefined8 *)(*(long *)RenderingServerGlobals::utilities + 0x68);
            *(undefined8 *)(puVar59 + -8) = 0x11eac4;
            itos((long)&local_1e8);
            *(undefined8 *)(puVar59 + -8) = 0x11ead6;
            operator+((char *)&local_1d8,(String *)"> Render Light3D ");
            *(undefined8 *)(puVar59 + -8) = 0x11eae5;
            (*(code *)local_268)(pRVar73);
            pcVar62 = local_1d8;
            if (local_1d8 != (char *)0x0) {
              LOCK();
              plVar39 = (long *)(local_1d8 + -0x10);
              *plVar39 = *plVar39 + -1;
              UNLOCK();
              if (*plVar39 == 0) {
                local_1d8 = (char *)0x0;
                *(undefined8 *)(puVar59 + -8) = 0x11eb16;
                Memory::free_static(pcVar62 + -0x10,false);
              }
            }
            lVar51 = local_1e8;
            if (local_1e8 != 0) {
              LOCK();
              plVar39 = (long *)(local_1e8 + -0x10);
              *plVar39 = *plVar39 + -1;
              UNLOCK();
              if (*plVar39 == 0) {
                local_1e8 = 0;
                *(undefined8 *)(puVar59 + -8) = 0x11eb4f;
                Memory::free_static((void *)(lVar51 + -0x10),false);
              }
            }
          }
          pSVar29 = local_258;
          local_290 = *(long *)(local_258 + 0x298);
          local_178 = *(undefined8 *)(local_258 + 0x30);
          uStack_170 = *(undefined8 *)(local_258 + 0x38);
          local_168 = *(undefined8 *)(local_258 + 0x40);
          uStack_160 = *(undefined8 *)(local_258 + 0x48);
          _local_268 = *(undefined1 (*) [16])(local_258 + 0x50);
          local_278 = (RendererSceneCull *)&local_178;
          *(undefined8 *)(puVar59 + -8) = 0x11d523;
          _local_158 = _local_268;
          Transform3D::orthonormalize();
          uVar82 = *(undefined8 *)(pSVar29 + 8);
          pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0xf8);
          *(undefined8 *)(puVar59 + -8) = 0x11d537;
          iVar68 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82);
          pRVar73 = RenderingServerGlobals::utilities;
          if (iVar68 == 1) {
            uVar82 = *(undefined8 *)(local_258 + 8);
            pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0xe0);
            *(undefined8 *)(puVar59 + -8) = 0x11e7e0;
            iVar68 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82);
            if (iVar68 == 0) {
LAB_0011fc14:
              if (*(int *)(pRVar74 + 0x9250) + 2U < 0x201) {
                local_298 = (Transform3D *)&local_1f0;
                auVar27[0xf] = 0;
                auVar27._0_15_ = stack0xfffffffffffffd99;
                _local_268 = auVar27 << 8;
                local_2b0 = (RendererSceneCull *)0x0;
                pCVar75 = local_280;
                local_310 = pCVar55;
LAB_0011fc57:
                pRVar73 = RenderingServerGlobals::utilities;
                if (RenderingServerGlobals::utilities[8] != (RendererSceneCull)0x0) {
                  local_2a8 = (Transform3D *)&local_1e8;
                  pcVar41 = *(code **)(*(long *)RenderingServerGlobals::utilities + 0x68);
                  *(undefined8 *)(puVar59 + -8) = 0x122097;
                  itos((long)local_2a8);
                  *(undefined8 *)(puVar59 + -8) = 0x1220ad;
                  operator+((char *)&local_1d8,(String *)"Cull OmniLight3D Shadow Paraboloid, Half "
                           );
                  *(undefined8 *)(puVar59 + -8) = 0x1220b6;
                  (*pcVar41)(pRVar73);
                  pcVar62 = local_1d8;
                  if (local_1d8 != (char *)0x0) {
                    LOCK();
                    plVar39 = (long *)(local_1d8 + -0x10);
                    *plVar39 = *plVar39 + -1;
                    UNLOCK();
                    if (*plVar39 == 0) {
                      local_1d8 = (char *)0x0;
                      *(undefined8 *)(puVar59 + -8) = 0x1220e7;
                      Memory::free_static(pcVar62 + -0x10,false);
                    }
                  }
                  lVar51 = local_1e8;
                  if (local_1e8 != 0) {
                    LOCK();
                    plVar39 = (long *)(local_1e8 + -0x10);
                    *plVar39 = *plVar39 + -1;
                    UNLOCK();
                    if (*plVar39 == 0) {
                      local_1e8 = 0;
                      *(undefined8 *)(puVar59 + -8) = 0x122120;
                      Memory::free_static((void *)(lVar51 + -0x10),false);
                    }
                  }
                }
                uVar82 = *(undefined8 *)(local_258 + 8);
                pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x108);
                *(undefined8 *)(puVar59 + -8) = 0x11fc8a;
                uVar79 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82,4);
                local_2a8 = (Transform3D *)CONCAT44(local_2a8._4_4_,0x3f800000);
                local_2c0 = (CullData *)CONCAT44(local_2c0._4_4_,uVar79);
                if (local_2b0 == (RendererSceneCull *)0x0) {
                  local_2a8 = (Transform3D *)CONCAT44(local_2a8._4_4_,_LC233);
                }
                local_1f0 = (Transform3D *)0x0;
                *(undefined8 *)(puVar59 + -8) = 0x11fcd2;
                CowData<Plane>::resize<false>((CowData<Plane> *)local_298,6);
                *(undefined8 *)(puVar59 + -8) = 0x11fce1;
                Basis::inverse();
                *(undefined8 *)(puVar59 + -8) = 0x11fce9;
                Basis::transpose();
                fVar84 = local_2c0._0_4_ * 0.0;
                fVar83 = local_2c0._0_4_ * local_2a8._0_4_;
                fVar80 = (float)uStack_a0 * 0.0 + uStack_a0._4_4_ * 0.0 +
                         local_2a8._0_4_ * (float)uStack_98;
                fVar81 = uStack_b0._4_4_ * 0.0 + (float)local_a8 * 0.0 +
                         local_a8._4_4_ * local_2a8._0_4_;
                fVar90 = (float)local_b8 * 0.0 + local_b8._4_4_ * 0.0 +
                         (float)uStack_b0 * local_2a8._0_4_;
                fVar85 = fVar90 * fVar90 + fVar81 * fVar81 + fVar80 * fVar80;
                if (fVar85 == 0.0) {
                  fVar80 = 0.0;
                  fVar81 = 0.0;
                  fVar90 = 0.0;
                }
                else {
                  fVar85 = SQRT(fVar85);
                  fVar81 = fVar81 / fVar85;
                  fVar90 = fVar90 / fVar85;
                  fVar80 = fVar80 / fVar85;
                }
                if (local_1f0 == (Transform3D *)0x0) {
                  pTVar38 = (Transform3D *)0x0;
LAB_00122025:
                  *(undefined8 *)(puVar59 + -8) = 1;
                  pTVar42 = (Transform3D *)0x0;
                  iVar68 = 0x38;
                  *(undefined8 *)(puVar59 + -0x10) = 0;
                  pcVar62 = "./core/templates/vector.h";
                  *(undefined **)(puVar59 + -0x18) = &_LC3;
                  puVar58 = (undefined8 *)(puVar59 + -0x20);
                  *(char **)(puVar59 + -0x20) = "((Vector<T> *)(this))->_cowdata.size()";
                }
                else {
                  pTVar38 = *(Transform3D **)(local_1f0 + -8);
                  if ((long)pTVar38 < 1) goto LAB_00122025;
                  *(undefined8 *)(puVar59 + -8) = 0x11fec3;
                  local_2e8 = (Transform3D *)CONCAT44(fVar81,fVar90);
                  uStack_2e0 = CONCAT44(((float)local_178 * fVar84 + fVar84 * local_178._4_4_ +
                                         fVar83 * (float)uStack_170 + (float)local_158._4_4_) *
                                        fVar90 + (fStack_150 +
                                                 uStack_170._4_4_ * fVar84 +
                                                 (float)local_168 * fVar84 +
                                                 local_168._4_4_ * fVar83) * fVar81 +
                                        ((float)uStack_160 * fVar84 + uStack_160._4_4_ * fVar84 +
                                         (float)local_158._0_4_ * fVar83 + fStack_14c) * fVar80,
                                        fVar80);
                  CowData<Plane>::_copy_on_write((CowData<Plane> *)local_298);
                  pTVar38 = local_1f0;
                  fVar90 = _LC55;
                  *(Transform3D **)local_1f0 = local_2e8;
                  *(undefined8 *)(local_1f0 + 8) = uStack_2e0;
                  fVar84 = SQRT(local_2a8._0_4_ * local_2a8._0_4_ + fVar90);
                  local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,fVar90 / fVar84);
                  local_2f8 = (CullData *)CONCAT44(local_2f8._4_4_,0.0 / fVar84);
                  local_2e8 = (Transform3D *)CONCAT44(local_2e8._4_4_,local_2a8._0_4_ / fVar84);
                  *(undefined8 *)(puVar59 + -8) = 0x11ff2f;
                  Basis::inverse();
                  *(undefined8 *)(puVar59 + -8) = 0x11ff37;
                  Basis::transpose();
                  fVar90 = local_2d8._0_4_;
                  fVar83 = local_2c0._0_4_ * local_2e8._0_4_;
                  fVar84 = local_2c0._0_4_ * local_2f8._0_4_;
                  fVar81 = local_2c0._0_4_ * local_2d8._0_4_;
                  fVar91 = (float)uStack_a0 * local_2d8._0_4_ + uStack_a0._4_4_ * local_2f8._0_4_ +
                           (float)uStack_98 * local_2e8._0_4_;
                  fVar96 = uStack_b0._4_4_ * local_2d8._0_4_ + (float)local_a8 * local_2f8._0_4_ +
                           local_a8._4_4_ * local_2e8._0_4_;
                  fVar85 = (float)local_b8 * local_2d8._0_4_ + local_b8._4_4_ * local_2f8._0_4_ +
                           (float)uStack_b0 * local_2e8._0_4_;
                  fVar80 = fVar85 * fVar85 + fVar96 * fVar96 + fVar91 * fVar91;
                  if (fVar80 == 0.0) {
                    fVar91 = 0.0;
                    fVar96 = 0.0;
                    fVar85 = 0.0;
                  }
                  else {
                    fVar80 = SQRT(fVar80);
                    fVar85 = fVar85 / fVar80;
                    fVar96 = fVar96 / fVar80;
                    fVar91 = fVar91 / fVar80;
                  }
                  pTVar38 = *(Transform3D **)(pTVar38 + -8);
                  if ((long)pTVar38 < 2) {
                    *(undefined8 *)(puVar59 + -8) = 1;
                    pTVar42 = (Transform3D *)0x1;
                    *(undefined8 *)(puVar59 + -0x10) = 0;
                    iVar68 = 0x38;
                    pcVar62 = "./core/templates/vector.h";
                    *(undefined **)(puVar59 + -0x18) = &_LC3;
                    puVar58 = (undefined8 *)(puVar59 + -0x20);
                    *(char **)(puVar59 + -0x20) = "((Vector<T> *)(this))->_cowdata.size()";
                  }
                  else {
                    local_320 = (Transform3D *)CONCAT44(local_320._4_4_,fVar84);
                    local_338 = (Transform3D *)CONCAT44(local_338._4_4_,fVar81);
                    local_308 = (PagedArray *)CONCAT44(local_308._4_4_,fVar83);
                    local_300 = (Transform3D *)CONCAT44(local_300._4_4_,local_2e8._0_4_);
                    local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,local_2f8._0_4_);
                    local_2e8._0_4_ = fVar90;
                    *(undefined8 *)(puVar59 + -8) = 0x120166;
                    local_2f8 = (CullData *)CONCAT44(fVar96,fVar85);
                    uStack_2f0 = CONCAT44(((float)local_158._4_4_ +
                                          (float)uStack_170 * fVar83 +
                                          (float)local_178 * fVar81 + local_178._4_4_ * fVar84) *
                                          fVar85 + (fStack_150 +
                                                   uStack_170._4_4_ * fVar81 +
                                                   (float)local_168 * fVar84 +
                                                   local_168._4_4_ * fVar83) * fVar96 +
                                          (fStack_14c +
                                          (float)uStack_160 * fVar81 + uStack_160._4_4_ * fVar84 +
                                          (float)local_158._0_4_ * fVar83) * fVar91,fVar91);
                    CowData<Plane>::_copy_on_write((CowData<Plane> *)local_298);
                    pTVar38 = local_1f0;
                    *(CullData **)(local_1f0 + 0x10) = local_2f8;
                    *(undefined8 *)(local_1f0 + 0x18) = uStack_2f0;
                    local_2f8 = (CullData *)CONCAT44(local_2f8._4_4_,local_2e8._0_4_);
                    local_2e8 = (Transform3D *)
                                CONCAT44(local_2e8._4_4_,(uint)local_2e8._0_4_ ^ _LC103);
                    *(undefined8 *)(puVar59 + -8) = 0x1201ac;
                    Basis::inverse();
                    *(undefined8 *)(puVar59 + -8) = 0x1201b4;
                    Basis::transpose();
                    fVar85 = local_320._0_4_;
                    uVar36 = (uint)local_338._0_4_;
                    fVar97 = (float)((uint)local_338._0_4_ ^ _LC103);
                    fVar80 = local_308._0_4_;
                    fVar96 = uStack_160._4_4_ * local_320._0_4_;
                    fVar81 = local_2d8._0_4_;
                    fVar83 = local_300._0_4_;
                    uVar79 = local_2f8._0_4_;
                    fVar91 = (float)local_158._0_4_ * local_308._0_4_;
                    fVar86 = (float)local_168 * local_320._0_4_;
                    fVar87 = local_168._4_4_ * local_308._0_4_;
                    fVar88 = local_178._4_4_ * local_320._0_4_;
                    fVar89 = (float)uStack_170 * local_308._0_4_;
                    fVar99 = (float)uStack_a0 * local_2e8._0_4_ + uStack_a0._4_4_ * local_2d8._0_4_
                             + (float)uStack_98 * local_300._0_4_;
                    fVar84 = uStack_b0._4_4_ * local_2e8._0_4_ + (float)local_a8 * local_2d8._0_4_ +
                             local_a8._4_4_ * local_300._0_4_;
                    fVar90 = (float)local_b8 * local_2e8._0_4_ + local_b8._4_4_ * local_2d8._0_4_ +
                             (float)uStack_b0 * local_300._0_4_;
                    fVar94 = fVar90 * fVar90 + fVar84 * fVar84 + fVar99 * fVar99;
                    if (fVar94 == 0.0) {
                      fVar99 = 0.0;
                      fVar84 = 0.0;
                      fVar90 = 0.0;
                    }
                    else {
                      fVar94 = SQRT(fVar94);
                      fVar90 = fVar90 / fVar94;
                      fVar84 = fVar84 / fVar94;
                      fVar99 = fVar99 / fVar94;
                    }
                    pTVar38 = *(Transform3D **)(pTVar38 + -8);
                    if ((long)pTVar38 < 3) {
                      *(undefined8 *)(puVar59 + -8) = 1;
                      pTVar42 = (Transform3D *)0x2;
                      *(undefined8 *)(puVar59 + -0x10) = 0;
                      iVar68 = 0x38;
                      pcVar62 = "./core/templates/vector.h";
                      *(undefined **)(puVar59 + -0x18) = &_LC3;
                      puVar58 = (undefined8 *)(puVar59 + -0x20);
                      *(char **)(puVar59 + -0x20) = "((Vector<T> *)(this))->_cowdata.size()";
                    }
                    else {
                      local_328 = (Transform3D *)CONCAT44(local_328._4_4_,local_2e8._0_4_);
                      local_338 = (Transform3D *)CONCAT44(local_338._4_4_,fVar97);
                      local_320 = (Transform3D *)CONCAT44(local_320._4_4_,uVar36);
                      local_308 = (PagedArray *)CONCAT44(local_308._4_4_,fVar85);
                      local_300 = (Transform3D *)CONCAT44(local_300._4_4_,fVar80);
                      local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,fVar83);
                      local_2f8 = (CullData *)CONCAT44(local_2f8._4_4_,fVar81);
                      local_2e8 = (Transform3D *)CONCAT44(local_2e8._4_4_,uVar79);
                      *(undefined8 *)(puVar59 + -8) = 0x1203fe;
                      local_368 = CONCAT44(fVar84,fVar90);
                      uStack_360 = CONCAT44((fVar89 + (float)local_178 * fVar97 + fVar88 +
                                            (float)local_158._4_4_) * fVar90 +
                                            (fStack_150 +
                                            uStack_170._4_4_ * fVar97 + fVar86 + fVar87) * fVar84 +
                                            (fStack_14c +
                                            (float)uStack_160 * fVar97 + fVar96 + fVar91) * fVar99,
                                            fVar99);
                      CowData<Plane>::_copy_on_write((CowData<Plane> *)local_298);
                      pTVar38 = local_1f0;
                      *(undefined8 *)(local_1f0 + 0x20) = local_368;
                      *(undefined8 *)(local_1f0 + 0x28) = uStack_360;
                      *(undefined8 *)(puVar59 + -8) = 0x12041f;
                      Basis::inverse();
                      *(undefined8 *)(puVar59 + -8) = 0x120427;
                      Basis::transpose();
                      fVar90 = local_308._0_4_;
                      fVar84 = local_300._0_4_;
                      fVar86 = uStack_160._4_4_ * local_320._0_4_;
                      fVar83 = (float)uStack_160 * local_308._0_4_;
                      fVar85 = local_2f8._0_4_;
                      fVar80 = local_2d8._0_4_;
                      fVar87 = (float)local_158._0_4_ * local_300._0_4_;
                      fVar88 = (float)local_168 * local_320._0_4_;
                      fVar81 = uStack_170._4_4_ * local_308._0_4_;
                      fVar89 = local_168._4_4_ * local_300._0_4_;
                      fVar94 = local_178._4_4_ * local_320._0_4_;
                      fVar96 = (float)local_178 * local_308._0_4_;
                      fVar97 = (float)uStack_170 * local_300._0_4_;
                      fVar95 = (float)uStack_a0 * local_2f8._0_4_ +
                               uStack_a0._4_4_ * local_2e8._0_4_ +
                               (float)uStack_98 * local_2d8._0_4_;
                      fVar98 = uStack_b0._4_4_ * local_2f8._0_4_ + (float)local_a8 * local_2e8._0_4_
                               + local_a8._4_4_ * local_2d8._0_4_;
                      fVar91 = local_b8._4_4_ * local_2e8._0_4_ + (float)local_b8 * local_2f8._0_4_
                               + (float)uStack_b0 * local_2d8._0_4_;
                      fVar99 = fVar91 * fVar91 + fVar98 * fVar98 + fVar95 * fVar95;
                      if (fVar99 == 0.0) {
                        fVar95 = 0.0;
                        fVar98 = 0.0;
                        fVar91 = 0.0;
                      }
                      else {
                        fVar99 = SQRT(fVar99);
                        fVar98 = fVar98 / fVar99;
                        fVar91 = fVar91 / fVar99;
                        fVar95 = fVar95 / fVar99;
                      }
                      pTVar38 = *(Transform3D **)(pTVar38 + -8);
                      if ((long)pTVar38 < 4) {
                        *(undefined8 *)(puVar59 + -8) = 1;
                        pTVar42 = (Transform3D *)0x3;
                        *(undefined8 *)(puVar59 + -0x10) = 0;
                        iVar68 = 0x38;
                        pcVar62 = "./core/templates/vector.h";
                        *(undefined **)(puVar59 + -0x18) = &_LC3;
                        puVar58 = (undefined8 *)(puVar59 + -0x20);
                        *(char **)(puVar59 + -0x20) = "((Vector<T> *)(this))->_cowdata.size()";
                      }
                      else {
                        local_320 = (Transform3D *)CONCAT44(local_320._4_4_,local_328._0_4_);
                        local_308 = (PagedArray *)CONCAT44(local_308._4_4_,local_338._0_4_);
                        local_300 = (Transform3D *)CONCAT44(local_300._4_4_,fVar90);
                        local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,fVar84);
                        local_2f8 = (CullData *)CONCAT44(local_2f8._4_4_,fVar80);
                        local_2e8 = (Transform3D *)CONCAT44(local_2e8._4_4_,fVar85);
                        *(undefined8 *)(puVar59 + -8) = 0x12065f;
                        local_338 = (Transform3D *)CONCAT44(fVar98,fVar91);
                        uStack_330 = CONCAT44((fVar97 + fVar96 + fVar94 + (float)local_158._4_4_) *
                                              fVar91 + (fStack_150 + fVar81 + fVar88 + fVar89) *
                                                       fVar98 +
                                              (fStack_14c + fVar83 + fVar86 + fVar87) * fVar95,
                                              fVar95);
                        CowData<Plane>::_copy_on_write((CowData<Plane> *)local_298);
                        pTVar38 = local_1f0;
                        *(Transform3D **)(local_1f0 + 0x30) = local_338;
                        *(undefined8 *)(local_1f0 + 0x38) = uStack_330;
                        *(undefined8 *)(puVar59 + -8) = 0x120680;
                        Basis::inverse();
                        *(undefined8 *)(puVar59 + -8) = 0x120688;
                        Basis::transpose();
                        fVar85 = (float)uStack_a0 * local_2e8._0_4_ +
                                 uStack_a0._4_4_ * local_320._0_4_ +
                                 (float)uStack_98 * local_2f8._0_4_;
                        fVar80 = uStack_b0._4_4_ * local_2e8._0_4_ +
                                 (float)local_a8 * local_320._0_4_ +
                                 local_a8._4_4_ * local_2f8._0_4_;
                        fVar90 = local_2e8._0_4_ * (float)local_b8 +
                                 local_320._0_4_ * local_b8._4_4_ +
                                 local_2f8._0_4_ * (float)uStack_b0;
                        fVar84 = fVar90 * fVar90 + fVar80 * fVar80 + fVar85 * fVar85;
                        if (fVar84 == 0.0) {
                          fVar85 = 0.0;
                          fVar80 = 0.0;
                          fVar90 = 0.0;
                        }
                        else {
                          fVar84 = SQRT(fVar84);
                          fVar90 = fVar90 / fVar84;
                          fVar80 = fVar80 / fVar84;
                          fVar85 = fVar85 / fVar84;
                        }
                        pTVar38 = *(Transform3D **)(pTVar38 + -8);
                        if ((long)pTVar38 < 5) {
                          *(undefined8 *)(puVar59 + -8) = 1;
                          pTVar42 = (Transform3D *)0x4;
                          *(undefined8 *)(puVar59 + -0x10) = 0;
                          iVar68 = 0x38;
                          pcVar62 = "./core/templates/vector.h";
                          *(undefined **)(puVar59 + -0x18) = &_LC3;
                          puVar58 = (undefined8 *)(puVar59 + -0x20);
                          *(char **)(puVar59 + -0x20) = "((Vector<T> *)(this))->_cowdata.size()";
                        }
                        else {
                          *(undefined8 *)(puVar59 + -8) = 0x120843;
                          local_2e8 = (Transform3D *)CONCAT44(fVar80,fVar90);
                          uStack_2e0 = CONCAT44((local_300._0_4_ * (float)local_178 +
                                                 local_308._0_4_ * local_178._4_4_ +
                                                 local_2d8._0_4_ * (float)uStack_170 +
                                                (float)local_158._4_4_) * fVar90 +
                                                (local_168._4_4_ * local_2d8._0_4_ +
                                                 uStack_170._4_4_ * local_300._0_4_ +
                                                 (float)local_168 * local_308._0_4_ + fStack_150) *
                                                fVar80 + ((float)local_158._0_4_ * local_2d8._0_4_ +
                                                          (float)uStack_160 * local_300._0_4_ +
                                                          uStack_160._4_4_ * local_308._0_4_ +
                                                         fStack_14c) * fVar85,fVar85);
                          CowData<Plane>::_copy_on_write((CowData<Plane> *)local_298);
                          pTVar38 = local_1f0;
                          *(Transform3D **)(local_1f0 + 0x40) = local_2e8;
                          *(undefined8 *)(local_1f0 + 0x48) = uStack_2e0;
                          local_2a8 = (Transform3D *)
                                      CONCAT44(local_2a8._4_4_,(uint)local_2a8._0_4_ ^ _LC103);
                          *(undefined8 *)(puVar59 + -8) = 0x12087b;
                          Basis::inverse();
                          *(undefined8 *)(puVar59 + -8) = 0x120883;
                          Basis::transpose();
                          fVar80 = local_2a8._0_4_ * 0.0;
                          fVar85 = (float)uStack_a0 * 0.0 + uStack_a0._4_4_ * 0.0 +
                                   (float)uStack_98 * local_2a8._0_4_;
                          fVar83 = local_a8._4_4_ * local_2a8._0_4_ +
                                   uStack_b0._4_4_ * 0.0 + (float)local_a8 * 0.0;
                          fVar90 = local_2a8._0_4_ * (float)uStack_b0 +
                                   (float)local_b8 * 0.0 + local_b8._4_4_ * 0.0;
                          fVar84 = fVar90 * fVar90 + fVar83 * fVar83 + fVar85 * fVar85;
                          if (fVar84 == 0.0) {
                            fVar85 = 0.0;
                            fVar83 = 0.0;
                            fVar90 = 0.0;
                          }
                          else {
                            fVar84 = SQRT(fVar84);
                            fVar85 = fVar85 / fVar84;
                            fVar90 = fVar90 / fVar84;
                            fVar83 = fVar83 / fVar84;
                          }
                          pTVar38 = *(Transform3D **)(pTVar38 + -8);
                          if (5 < (long)pTVar38) {
                            *(undefined8 *)(puVar59 + -8) = 0x120a35;
                            local_2a8 = (Transform3D *)CONCAT44(fVar83,fVar90);
                            uStack_2a0 = CONCAT44((fVar80 * (float)uStack_170 +
                                                   (float)local_178 * 0.0 + local_178._4_4_ * 0.0 +
                                                  (float)local_158._4_4_) * fVar90 +
                                                  (fStack_150 +
                                                  uStack_170._4_4_ * 0.0 + (float)local_168 * 0.0 +
                                                  local_168._4_4_ * fVar80) * fVar83 +
                                                  ((float)uStack_160 * 0.0 + uStack_160._4_4_ * 0.0
                                                   + (float)local_158._0_4_ * fVar80 + fStack_14c) *
                                                  fVar85,fVar85);
                            CowData<Plane>::_copy_on_write((CowData<Plane> *)local_298);
                            local_2d8 = pRVar74 + 0x460;
                            lVar51 = *(long *)(pRVar74 + 0x488);
                            *(Transform3D **)(local_1f0 + 0x50) = local_2a8;
                            *(undefined8 *)(local_1f0 + 0x58) = uStack_2a0;
                            if ((lVar51 != 0) &&
                               (uVar37 = lVar51 - 1U >>
                                         ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f),
                               (int)uVar37 != -1)) {
                              lVar51 = 0;
                              do {
                                lVar47 = *(long *)(pRVar74 + 0x460);
                                uVar79 = *(undefined4 *)(*(long *)(pRVar74 + 0x470) + lVar51);
                                pcVar62 = (char *)(lVar47 + 0x20);
                                while( true ) {
                                  uVar101 = (ulong)local_1d8 >> 8;
                                  local_1d8 = (char *)(uVar101 << 8);
                                  LOCK();
                                  cVar30 = *pcVar62;
                                  if (cVar30 == '\0') {
                                    *pcVar62 = '\x01';
                                  }
                                  UNLOCK();
                                  if (cVar30 == '\0') break;
                                  local_1d8 = (char *)(uVar101 << 8);
                                  do {
                                  } while (*pcVar62 != '\0');
                                }
                                lVar51 = lVar51 + 4;
                                *(undefined4 *)
                                 (*(long *)(lVar47 + 0x10) + (ulong)*(uint *)(lVar47 + 0x18) * 4) =
                                     uVar79;
                                *(int *)(lVar47 + 0x18) = *(int *)(lVar47 + 0x18) + 1;
                                *(undefined1 *)(lVar47 + 0x20) = 0;
                              } while ((uVar37 & 0xffffffff) * 4 + 4 != lVar51);
                            }
                            *(long *)(pRVar74 + 0x488) = 0;
                            lVar47 = *(long *)(local_1f0 + -8);
                            if (0 < lVar47) {
                              local_2a8 = local_1f0;
                              *(undefined8 *)(puVar59 + -8) = 0x120b11;
                              Geometry3D::compute_convex_mesh_points
                                        ((Plane *)&local_1e8,(int)local_1f0);
                              pTVar38 = local_2a8;
                              puVar60 = puVar59;
                              if (local_1e0 == (Transform3D *)0x0) {
                                pTVar42 = *(Transform3D **)(local_250 + 0x68);
                                if (pTVar42 != (Transform3D *)0x0) {
                                  fVar90 = *(float *)(local_2a8 + -8);
                                  iVar68 = 0;
                                  goto LAB_00120e6a;
                                }
                              }
                              else {
                                fVar90 = *(float *)(local_2a8 + -8);
                                pTVar42 = *(Transform3D **)(local_250 + 0x68);
                                if (pTVar42 != (Transform3D *)0x0) {
                                  iVar46 = (int)*(undefined8 *)(local_1e0 + -8);
                                  iVar68 = iVar46;
                                  if (0 < iVar46) {
                                    auVar93 = ZEXT416((uint)*(float *)local_1e0);
                                    fVar84 = *(float *)(local_1e0 + 4);
                                    iVar68 = 0;
                                    fVar85 = *(float *)(local_1e0 + 8);
                                    pTVar43 = local_1e0;
                                    fVar80 = *(float *)local_1e0;
                                    fVar83 = fVar85;
                                    fVar81 = fVar84;
                                    while( true ) {
                                      iVar68 = iVar68 + 1;
                                      pTVar63 = pTVar43 + 0xc;
                                      if (iVar46 == iVar68) break;
                                      fVar96 = *(float *)(pTVar43 + 0x14);
                                      fVar91 = *(float *)(pTVar43 + 0x10);
                                      fVar86 = *(float *)pTVar63;
                                      if (fVar96 <= fVar85) {
                                        fVar85 = fVar96;
                                      }
                                      if (fVar91 <= fVar84) {
                                        fVar84 = fVar91;
                                      }
                                      if (fVar86 <= auVar93._0_4_) {
                                        auVar93._0_4_ = fVar86;
                                      }
                                      if (fVar83 <= fVar96) {
                                        fVar83 = fVar96;
                                      }
                                      if (fVar81 <= fVar91) {
                                        fVar81 = fVar91;
                                      }
                                      pTVar43 = pTVar63;
                                      if (fVar80 <= fVar86) {
                                        fVar80 = fVar86;
                                      }
                                    }
                                    goto LAB_00120ba6;
                                  }
LAB_00120e6a:
                                  fVar83 = 0.0;
                                  fVar80 = 0.0;
                                  fVar81 = 0.0;
                                  fVar85 = 0.0;
                                  fVar84 = 0.0;
                                  auVar93._0_12_ = ZEXT812(0);
                                  auVar93._12_4_ = 0;
LAB_00120ba6:
                                  *(undefined8 *)(puVar59 + -8) = *(undefined8 *)(puVar59 + -8);
                                  local_1d8 = (char *)0x0;
                                  local_2e8 = (Transform3D *)
                                              ((ulong)(puVar59 + -0x401) & 0xfffffffffffffff0);
                                  local_1d0 = (Transform3D *)0x0;
                                  local_2f8 = (CullData *)CONCAT44(local_2f8._4_4_,0x7e);
                                  local_2a8 = (Transform3D *)CONCAT44(local_2a8._4_4_,1);
                                  local_370 = pTVar38;
                                  local_300 = local_1e0;
                                  local_378 = (Plane *)CONCAT44(local_378._4_4_,fVar90);
                                  *(Transform3D **)local_2e8 = pTVar42;
                                  local_320 = (Transform3D *)CONCAT44(local_320._4_4_,fVar80);
                                  local_338 = (Transform3D *)CONCAT44(local_338._4_4_,fVar83);
                                  local_328 = (Transform3D *)CONCAT44(local_328._4_4_,fVar85);
                                  local_368 = CONCAT44(local_368._4_4_,fVar84);
                                  local_380 = (CullData *)CONCAT44(local_380._4_4_,fVar81);
                                  local_350 = auVar93._0_4_;
                                  pTVar38 = local_2e8;
                                  do {
                                    fVar90 = *(float *)pTVar42;
                                    iVar46 = (int)local_2a8._0_4_ + -1;
                                    pTVar43 = pTVar38;
                                    if ((local_320._0_4_ < fVar90) ||
                                       (*(float *)((long)pTVar42 + 0xc) < local_350)) {
LAB_00120ee8:
                                      if (iVar46 == 0) goto code_r0x00120ef1;
                                    }
                                    else {
                                      fVar84 = *(float *)((long)pTVar42 + 4);
                                      if (local_380._0_4_ < fVar84) goto LAB_00120ee8;
                                      if (*(float *)((long)pTVar42 + 0x10) < (float)local_368)
                                      goto LAB_00120ee8;
                                      fVar85 = *(float *)((long)pTVar42 + 8);
                                      if (local_338._0_4_ < fVar85) goto LAB_00120ee8;
                                      if (*(float *)((long)pTVar42 + 0x14) < local_328._0_4_)
                                      goto LAB_00120ee8;
                                      local_140 = (*(float *)((long)pTVar42 + 0x14) - fVar85) *
                                                  _LC131;
                                      fVar80 = (*(float *)((long)pTVar42 + 0xc) - fVar90) * _LC131;
                                      fVar83 = (*(float *)((long)pTVar42 + 0x10) - fVar84) *
                                               _UNK_00138ca4;
                                      uStack_110._0_4_ = fVar85 + local_140;
                                      auVar8 = _local_118;
                                      local_118._4_4_ = fVar84 + fVar83;
                                      local_118._0_4_ = fVar90 + fVar80;
                                      local_148 = CONCAT44(fVar83,fVar80);
                                      uStack_110 = auVar8._8_8_;
                                      if (0 < (int)local_378) {
                                        pTVar63 = local_370;
                                        do {
                                          fVar81 = ((float)(((uint)local_140 ^ _LC103) &
                                                            -(uint)(0.0 < *(float *)(pTVar63 + 8)) |
                                                           ~-(uint)(0.0 < *(float *)(pTVar63 + 8)) &
                                                           (uint)local_140) + fVar85 + local_140) *
                                                   *(float *)(pTVar63 + 8) +
                                                   ((float)(((uint)fVar83 ^ _LC103) &
                                                            -(uint)(0.0 < *(float *)(pTVar63 + 4)) |
                                                           ~-(uint)(0.0 < *(float *)(pTVar63 + 4)) &
                                                           (uint)fVar83) + fVar84 + fVar83) *
                                                   *(float *)(pTVar63 + 4) +
                                                   ((float)(((uint)fVar80 ^ _LC103) &
                                                            -(uint)(0.0 < *(float *)pTVar63) |
                                                           ~-(uint)(0.0 < *(float *)pTVar63) &
                                                           (uint)fVar80) + fVar90 + fVar80) *
                                                   *(float *)pTVar63;
                                          if (*(float *)(pTVar63 + 0xc) <= fVar81 &&
                                              fVar81 != *(float *)(pTVar63 + 0xc))
                                          goto LAB_00120ee8;
                                          pTVar63 = pTVar63 + 0x10;
                                        } while (pTVar63 != local_370 + (long)(int)local_378 * 0x10)
                                        ;
                                      }
                                      piVar64 = (int *)&local_e8;
                                      local_e8 = 0;
                                      uStack_b0 = uStack_b0 & 0xffffffff00000000;
                                      local_e0 = 0.0;
                                      local_b8 = (RendererSceneCull *)0x0;
                                      lVar51 = 0;
                                      do {
                                        iVar44 = *(int *)(pCVar75 + lVar51);
                                        if (0 < iVar68) {
                                          fVar90 = *(float *)(local_118 + lVar51);
                                          fVar84 = *(float *)((long)&local_148 + lVar51);
                                          pTVar63 = local_300 + lVar51;
                                          do {
                                            fVar85 = *(float *)pTVar63;
                                            if (fVar90 + fVar84 < fVar85) {
                                              *piVar64 = *piVar64 + 1;
                                            }
                                            if (fVar85 < fVar90 - fVar84) {
                                              iVar44 = iVar44 + 1;
                                              *(int *)(pCVar75 + lVar51) = iVar44;
                                            }
                                            pTVar63 = pTVar63 + 0xc;
                                          } while (pTVar63 !=
                                                   local_300 + lVar51 + (long)iVar68 * 0xc);
                                        }
                                        if ((iVar68 == iVar44) || (*piVar64 == iVar68))
                                        goto LAB_00120ee8;
                                        lVar51 = lVar51 + 4;
                                        piVar64 = piVar64 + 1;
                                      } while (lVar51 != 0xc);
                                      if (*(long *)((long)pTVar42 + 0x28) == 0) {
                                        local_308 = *(PagedArray **)((long)pTVar42 + 0x20);
                                        uVar37 = *(ulong *)(pRVar74 + 0x488);
                                        uVar36 = (uint)uVar37 & *(uint *)(pRVar74 + 0x480);
                                        local_2a8 = (Transform3D *)CONCAT44(local_2a8._4_4_,uVar36);
                                        if (uVar36 == 0) {
                                          if (uVar37 != 0) {
                                            local_2a8 = (Transform3D *)
                                                        CONCAT44(local_2a8._4_4_,
                                                                 (int)(uVar37 - 1 >>
                                                                      ((byte)*(undefined4 *)
                                                                              (pRVar74 + 0x47c) &
                                                                      0x3f)) + 1);
                                          }
                                          pPVar65 = *(PagedArrayPool<RendererSceneCull::Instance*>
                                                      **)(pRVar74 + 0x460);
                                          if (*(uint *)(pRVar74 + 0x478) < (int)local_2a8._0_4_ + 1U
                                             ) {
                                            if (pPVar65 ==
                                                (PagedArrayPool<RendererSceneCull::Instance*> *)0x0)
                                            {
                                              *(undefined8 *)(puVar59 + -0x418) = 0x122452;
                                              _err_print_error("push_back",
                                                               "./core/templates/paged_array.h",0xbf
                                                               ,"Parameter \"page_pool\" is null.",0
                                                               ,0);
                                              goto LAB_00120ee8;
                                            }
                                            *(undefined8 *)(puVar59 + -0x418) = 0x122424;
                                            PagedArray<RendererSceneCull::Instance*>::
                                            _grow_page_array((
                                                  PagedArray<RendererSceneCull::Instance*> *)
                                                  local_2d8);
                                            pPVar65 = *(PagedArrayPool<RendererSceneCull::Instance*>
                                                        **)(pRVar74 + 0x460);
                                          }
                                          *(undefined8 *)(puVar59 + -0x418) = 0x1223e6;
                                          auVar100 = PagedArrayPool<RendererSceneCull::Instance*>::
                                                     alloc_page(pPVar65);
                                          lVar51 = *(long *)(pRVar74 + 0x468);
                                          *(long *)(lVar51 + ((ulong)local_2a8 & 0xffffffff) * 8) =
                                               auVar100._0_8_;
                                          *(int *)(*(long *)(pRVar74 + 0x470) +
                                                  ((ulong)local_2a8 & 0xffffffff) * 4) =
                                               auVar100._8_4_;
                                          uVar37 = *(ulong *)(pRVar74 + 0x488);
                                        }
                                        else {
                                          lVar51 = *(long *)(pRVar74 + 0x468);
                                        }
                                        *(PagedArray **)
                                         (*(long *)(lVar51 + (uVar37 >> ((byte)*(undefined4 *)
                                                                                (pRVar74 + 0x47c) &
                                                                        0x3f) & 0xffffffff) * 8) +
                                         (ulong)((uint)uVar37 & *(uint *)(pRVar74 + 0x480)) * 8) =
                                             local_308;
                                        *(ulong *)(pRVar74 + 0x488) = uVar37 + 1;
                                        goto LAB_00120ee8;
                                      }
                                      if ((int)local_2f8._0_4_ < iVar46) {
                                        local_2e8 = pTVar42;
                                        if ((int)local_1d8 == 0) {
                                          *(undefined8 *)(puVar59 + -0x418) = 0x1222ef;
                                          LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>
                                          ::resize((
                                                  LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>
                                                  *)&local_1d8,0x100);
                                          *(undefined8 *)local_1d0 = *(undefined8 *)pTVar38;
                                          pTVar43 = (Transform3D *)0x0;
                                          *(undefined8 *)(local_1d0 + 0x3f8) =
                                               *(undefined8 *)(pTVar38 + 0x3f8);
                                          lVar51 = (long)local_1d0 -
                                                   (long)((ulong)(local_1d0 + 8) &
                                                         0xfffffffffffffff8);
                                          pTVar38 = pTVar38 + -lVar51;
                                          puVar40 = (undefined8 *)
                                                    ((ulong)(local_1d0 + 8) & 0xfffffffffffffff8);
                                          for (uVar37 = (ulong)((int)lVar51 + 0x400U >> 3);
                                              pTVar42 = local_2e8, uVar37 != 0; uVar37 = uVar37 - 1)
                                          {
                                            *puVar40 = *(undefined8 *)pTVar38;
                                            pTVar38 = pTVar38 + ((ulong)bVar78 * -2 + 1) * 8;
                                            puVar40 = puVar40 + (ulong)bVar78 * -2 + 1;
                                          }
                                        }
                                        else {
                                          *(undefined8 *)(puVar59 + -0x418) = 0x1223a3;
                                          LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>
                                          ::resize((
                                                  LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>
                                                  *)&local_1d8,(int)local_1d8 * 2);
                                          pTVar42 = local_2e8;
                                        }
                                        local_2e8 = local_1d0;
                                        local_2f8 = (CullData *)
                                                    CONCAT44(local_2f8._4_4_,(int)local_1d8 + -2);
                                      }
                                      lVar51 = (long)iVar46;
                                      *(undefined8 *)(local_2e8 + lVar51 * 8) =
                                           *(undefined8 *)((long)pTVar42 + 0x20);
                                      iVar46 = (int)local_2a8._0_4_ + 1;
                                      *(undefined8 *)(local_2e8 + lVar51 * 8 + 8) =
                                           *(undefined8 *)((long)pTVar42 + 0x28);
                                    }
                                    local_2a8 = (Transform3D *)CONCAT44(local_2a8._4_4_,iVar46);
                                    pTVar42 = *(Transform3D **)(local_2e8 + (long)(iVar46 + -1) * 8)
                                    ;
                                    pTVar38 = pTVar43;
                                  } while( true );
                                }
                              }
                              goto LAB_00120f0d;
                            }
                            goto LAB_0011f673;
                          }
                          *(undefined8 *)(puVar59 + -8) = 1;
                          pTVar42 = (Transform3D *)0x5;
                          *(undefined8 *)(puVar59 + -0x10) = 0;
                          iVar68 = 0x38;
                          pcVar62 = "./core/templates/vector.h";
                          *(undefined **)(puVar59 + -0x18) = &_LC3;
                          puVar58 = (undefined8 *)(puVar59 + -0x20);
                          *(char **)(puVar59 + -0x20) = "((Vector<T> *)(this))->_cowdata.size()";
                        }
                      }
                    }
                  }
                }
                goto LAB_0011e136;
              }
            }
            else {
              pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x170);
              if (pcVar41 != RendererLightStorage::light_instances_can_render_shadow_cube) {
                *(undefined8 *)(puVar59 + -8) = 0x11fc0c;
                cVar30 = (*pcVar41)();
                if (cVar30 == '\0') goto LAB_0011fc14;
              }
              if (*(int *)(pRVar74 + 0x9250) + 6U < 0x201) {
                uVar82 = *(undefined8 *)(local_258 + 8);
                pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x108);
                *(undefined8 *)(puVar59 + -8) = 0x11e83e;
                fVar90 = (float)(*pcVar41)(RenderingServerGlobals::light_storage,uVar82,4);
                pCVar75 = local_280;
                local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,fVar90);
                local_268._0_4_ =
                     (uint)_LC234 & -(uint)(_LC234 < fVar90) |
                     ~-(uint)(_LC234 < fVar90) & (uint)fVar90;
                *(undefined8 *)(puVar59 + -8) = 0x11e879;
                Projection::Projection((Projection *)local_280);
                *(undefined8 *)(puVar59 + -8) = 0x11e8a3;
                Projection::set_perspective
                          (_LC246,_LC55,(float)local_268._0_4_,local_2d8._0_4_,SUB81(pCVar75,0));
                local_2f8 = (CullData *)&local_e8;
                local_310 = (CullData *)0x0;
                local_298 = (Transform3D *)local_118;
                local_2b0 = pRVar74 + 0x460;
                local_320 = (Transform3D *)&local_148;
                local_370 = local_1f8;
                local_378 = (Plane *)&local_1e8;
                local_2a8 = (Transform3D *)0x0;
                auVar24[0xf] = 0;
                auVar24._0_15_ = stack0xfffffffffffffd99;
                _local_268 = auVar24 << 8;
                local_368 = CONCAT44(local_368._4_4_,_LC55);
                local_380 = pCVar55;
LAB_0011e92b:
                pRVar73 = RenderingServerGlobals::utilities;
                if (RenderingServerGlobals::utilities[8] != (RendererSceneCull)0x0) {
                  pcVar41 = *(code **)(*(long *)RenderingServerGlobals::utilities + 0x68);
                  *(undefined8 *)(puVar59 + -8) = 0x11fb80;
                  itos((long)&local_1e8);
                  *(undefined8 *)(puVar59 + -8) = 0x11fb92;
                  operator+((char *)&local_1d8,(String *)"Cull OmniLight3D Shadow Cube, Side ");
                  *(undefined8 *)(puVar59 + -8) = 0x11fb9b;
                  (*pcVar41)(pRVar73);
                  pcVar62 = local_1d8;
                  if (local_1d8 != (char *)0x0) {
                    LOCK();
                    plVar39 = (long *)(local_1d8 + -0x10);
                    *plVar39 = *plVar39 + -1;
                    UNLOCK();
                    if (*plVar39 == 0) {
                      local_1d8 = (char *)0x0;
                      *(undefined8 *)(puVar59 + -8) = 0x11fbcc;
                      Memory::free_static(pcVar62 + -0x10,false);
                    }
                  }
                  lVar51 = local_1e8;
                  if (local_1e8 != 0) {
                    LOCK();
                    plVar39 = (long *)(local_1e8 + -0x10);
                    *plVar39 = *plVar39 + -1;
                    UNLOCK();
                    if (*plVar39 == 0) {
                      local_1e8 = 0;
                      *(undefined8 *)(puVar59 + -8) = 0x11fc05;
                      Memory::free_static((void *)(lVar51 + -0x10),false);
                    }
                  }
                }
                if (_light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals == '\0') {
                  *(undefined8 *)(puVar59 + -8) = 0x11fae7;
                  iVar68 = __cxa_guard_acquire(&_light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                                                ::view_normals);
                  if (iVar68 != 0) {
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._0_8_ = __LC248;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._8_8_ = _UNK_00138db8;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._16_8_ = __LC249;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._24_8_ = _UNK_00138dc8;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._64_8_ = _LC251;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._32_8_ = __LC250;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._40_8_ = _UNK_00138dd8;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._48_8_ = __LC250;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_normals._56_8_ = _UNK_00138dd8;
                    *(undefined8 *)(puVar59 + -8) = 0x11fb39;
                    __cxa_guard_release(&_light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                                         ::view_normals);
                  }
                }
                if (_light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up == '\0') {
                  *(undefined8 *)(puVar59 + -8) = 0x11fa80;
                  iVar68 = __cxa_guard_acquire(&_light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                                                ::view_up);
                  if (iVar68 != 0) {
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._16_16_ = ZEXT416(_LC233);
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._0_8_ = _LC251;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._8_8_ = _UNK_00138de8;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._68_4_ = _UNK_00138df4;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._64_4_ = _LC233;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._32_8_ = __LC254;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._40_8_ = _UNK_00138e08;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._48_8_ = _LC251;
                    _light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                    ::view_up._56_8_ = _UNK_00138de8;
                    *(undefined8 *)(puVar59 + -8) = 0x11fad3;
                    __cxa_guard_release(&_light_instance_update_shadow(RendererSceneCull::Instance*,Transform3D,Projection_const&,bool,bool,RID,RendererSceneCull::Scenario*,float,unsigned_int)
                                         ::view_up);
                  }
                }
                _local_118 = ZEXT416((uint)_LC55);
                local_f4 = 0;
                local_f8 = (float)local_368;
                local_ec = 0;
                *(undefined8 *)(puVar59 + -8) = 0x11e9cb;
                local_108 = _local_118;
                Transform3D::looking_at
                          ((Vector3 *)local_2f8,(Vector3 *)local_298,(bool)((char)local_310 + '@'));
                *(undefined8 *)(puVar59 + -8) = 0x11e9e4;
                Transform3D::operator*(local_320,(Transform3D *)local_278);
                *(undefined8 *)(puVar59 + -8) = 0x11e9fa;
                Projection::get_projection_planes(local_370);
                if ((*(long *)(pRVar74 + 0x488) != 0) &&
                   (uVar37 = *(long *)(pRVar74 + 0x488) - 1U >>
                             ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f), (int)uVar37 != -1)) {
                  lVar51 = 0;
                  do {
                    lVar47 = *(long *)(pRVar74 + 0x460);
                    uVar79 = *(undefined4 *)(*(long *)(pRVar74 + 0x470) + lVar51);
                    pcVar62 = (char *)(lVar47 + 0x20);
                    while( true ) {
                      uVar101 = (ulong)local_1d8 >> 8;
                      local_1d8 = (char *)(uVar101 << 8);
                      LOCK();
                      cVar30 = *pcVar62;
                      if (cVar30 == '\0') {
                        *pcVar62 = '\x01';
                      }
                      UNLOCK();
                      if (cVar30 == '\0') break;
                      local_1d8 = (char *)(uVar101 << 8);
                      do {
                      } while (*pcVar62 != '\0');
                    }
                    lVar51 = lVar51 + 4;
                    *(undefined4 *)(*(long *)(lVar47 + 0x10) + (ulong)*(uint *)(lVar47 + 0x18) * 4)
                         = uVar79;
                    *(int *)(lVar47 + 0x18) = *(int *)(lVar47 + 0x18) + 1;
                    *(undefined1 *)(lVar47 + 0x20) = 0;
                  } while ((uVar37 & 0xffffffff) * 4 + 4 != lVar51);
                }
                *(long *)(pRVar74 + 0x488) = 0;
                if (local_1f0 != (Transform3D *)0x0) {
                  lVar47 = *(long *)(local_1f0 + -8);
                  if (0 < lVar47) {
                    *(undefined8 *)(puVar59 + -8) = 0x11f73a;
                    Geometry3D::compute_convex_mesh_points(local_378,(int)local_1f0);
                    if (local_1e0 == (Transform3D *)0x0) {
                      uVar82 = 0;
                    }
                    else {
                      uVar82 = *(undefined8 *)(local_1e0 + -8);
                    }
                    if (local_1f0 == (Transform3D *)0x0) {
                      local_2c0 = (CullData *)0x0;
                    }
                    else {
                      local_2c0 = *(CullData **)(local_1f0 + -8);
                    }
                    pfVar70 = *(float **)(local_250 + 0x68);
                    puVar60 = puVar59;
                    if (pfVar70 != (float *)0x0) {
                      iVar68 = (int)uVar82;
                      local_300 = (Transform3D *)CONCAT44(local_300._4_4_,iVar68);
                      if (iVar68 < 1) {
                        local_390 = 0.0;
                        local_350 = 0.0;
                        local_384 = 0.0;
                        local_388 = 0.0;
                        local_38c = 0.0;
                        local_3a4 = 0.0;
                      }
                      else {
                        local_3a4 = *(float *)local_1e0;
                        local_350 = *(float *)(local_1e0 + 4);
                        iVar46 = 0;
                        local_388 = *(float *)(local_1e0 + 8);
                        pTVar38 = local_1e0;
                        local_38c = local_350;
                        local_384 = local_3a4;
                        local_390 = local_388;
                        while( true ) {
                          iVar46 = iVar46 + 1;
                          pTVar42 = pTVar38 + 0xc;
                          if (iVar68 == iVar46) break;
                          fVar90 = *(float *)(pTVar38 + 0x14);
                          fVar84 = *(float *)(pTVar38 + 0x10);
                          fVar85 = *(float *)pTVar42;
                          if (fVar90 <= local_388) {
                            local_388 = fVar90;
                          }
                          if (fVar84 <= local_38c) {
                            local_38c = fVar84;
                          }
                          if (fVar85 <= local_3a4) {
                            local_3a4 = fVar85;
                          }
                          if (local_390 <= fVar90) {
                            local_390 = fVar90;
                          }
                          if (local_350 <= fVar84) {
                            local_350 = fVar84;
                          }
                          pTVar38 = pTVar42;
                          if (local_384 <= fVar85) {
                            local_384 = fVar85;
                          }
                        }
                      }
                      local_328 = (Transform3D *)CONCAT44(local_328._4_4_,local_2c0._0_4_);
                      *(undefined8 *)(puVar59 + -8) = *(undefined8 *)(puVar59 + -8);
                      local_1d8 = (char *)0x0;
                      pTVar38 = (Transform3D *)((ulong)(puVar59 + -0x401) & 0xfffffffffffffff0);
                      local_1d0 = (Transform3D *)0x0;
                      local_308 = (PagedArray *)CONCAT44(local_308._4_4_,0x7e);
                      local_2e8 = (Transform3D *)CONCAT44(local_2e8._4_4_,1);
                      local_338 = local_1e0;
                      local_398 = uVar82;
                      local_3a0 = local_1f0;
                      *(float **)pTVar38 = pfVar70;
                      pTVar42 = pTVar38;
                      do {
                        fVar90 = *pfVar70;
                        iVar68 = (int)local_2e8._0_4_ + -1;
                        if (((local_384 < fVar90) || (pfVar70[3] < local_3a4)) ||
                           ((fVar84 = pfVar70[1], local_350 < fVar84 ||
                            (((pfVar70[4] < local_38c || (fVar85 = pfVar70[2], local_390 < fVar85))
                             || (pfVar70[5] < local_388)))))) {
LAB_00121479:
                          if (iVar68 == 0) goto code_r0x00121481;
                        }
                        else {
                          local_198 = (pfVar70[5] - fVar85) * _LC131;
                          fVar80 = (pfVar70[3] - fVar90) * _LC131;
                          fVar83 = (pfVar70[4] - fVar84) * _UNK_00138ca4;
                          local_188 = fVar85 + local_198;
                          local_1a0 = CONCAT44(fVar83,fVar80);
                          local_190 = CONCAT44(fVar84 + fVar83,fVar90 + fVar80);
                          if (0 < (int)local_328._0_4_) {
                            pTVar43 = local_3a0;
                            do {
                              fVar81 = ((float)(((uint)fVar83 ^ _LC103) &
                                                -(uint)(0.0 < *(float *)(pTVar43 + 4)) |
                                               ~-(uint)(0.0 < *(float *)(pTVar43 + 4)) &
                                               (uint)fVar83) + fVar84 + fVar83) *
                                       *(float *)(pTVar43 + 4) +
                                       ((float)(((uint)fVar80 ^ _LC103) &
                                                -(uint)(0.0 < *(float *)pTVar43) |
                                               ~-(uint)(0.0 < *(float *)pTVar43) & (uint)fVar80) +
                                       fVar90 + fVar80) * *(float *)pTVar43 +
                                       ((float)(((uint)local_198 ^ _LC103) &
                                                -(uint)(0.0 < *(float *)(pTVar43 + 8)) |
                                               ~-(uint)(0.0 < *(float *)(pTVar43 + 8)) &
                                               (uint)local_198) + fVar85 + local_198) *
                                       *(float *)(pTVar43 + 8);
                              if (*(float *)(pTVar43 + 0xc) <= fVar81 &&
                                  fVar81 != *(float *)(pTVar43 + 0xc)) goto LAB_00121479;
                              pTVar43 = pTVar43 + 0x10;
                            } while (local_3a0 + (ulong)((int)local_2c0 - 1) * 0x10 + 0x10 !=
                                     pTVar43);
                          }
                          local_e8 = 0;
                          local_e0 = 0.0;
                          lVar51 = 0;
                          _local_118 = ZEXT812(0);
                          pTVar43 = local_298;
                          do {
                            fVar90 = *(float *)(local_2f8 + lVar51);
                            if (0 < (int)local_300._0_4_) {
                              fVar84 = *(float *)((long)&local_190 + lVar51);
                              fVar85 = *(float *)((long)&local_1a0 + lVar51);
                              pTVar63 = local_338 + lVar51;
                              do {
                                fVar80 = *(float *)pTVar63;
                                if (fVar84 + fVar85 < fVar80) {
                                  *(uint *)pTVar43 = (int)*(float *)pTVar43 + 1;
                                }
                                if (fVar80 < fVar84 - fVar85) {
                                  fVar90 = (float)((int)fVar90 + 1);
                                  *(float *)(local_2f8 + lVar51) = fVar90;
                                }
                                pTVar63 = pTVar63 + 0xc;
                              } while (local_338 + lVar51 + (ulong)((int)local_398 - 1) * 0xc + 0xc
                                       != pTVar63);
                            }
                            if ((local_300._0_4_ == fVar90) ||
                               (local_300._0_4_ == *(float *)pTVar43)) goto LAB_00121479;
                            lVar51 = lVar51 + 4;
                            pTVar43 = pTVar43 + 4;
                          } while (lVar51 != 0xc);
                          if (*(long *)(pfVar70 + 10) == 0) {
                            local_2e8 = *(Transform3D **)(pfVar70 + 8);
                            uVar37 = *(ulong *)(pRVar74 + 0x488);
                            if (((uint)uVar37 & *(uint *)(pRVar74 + 0x480)) == 0) {
                              uVar36 = 0;
                              if (uVar37 != 0) {
                                uVar36 = (int)(uVar37 - 1 >>
                                              ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f)) + 1;
                              }
                              pPVar65 = *(PagedArrayPool<RendererSceneCull::Instance*> **)
                                         (pRVar74 + 0x460);
                              if (*(uint *)(pRVar74 + 0x478) < uVar36 + 1) {
                                if (pPVar65 == (PagedArrayPool<RendererSceneCull::Instance*> *)0x0)
                                {
                                  *(undefined8 *)(puVar59 + -0x418) = 0x121d97;
                                  _err_print_error("push_back","./core/templates/paged_array.h",0xbf
                                                   ,"Parameter \"page_pool\" is null.");
                                  goto LAB_00121479;
                                }
                                *(undefined8 *)(puVar59 + -0x418) = 0x121d65;
                                PagedArray<RendererSceneCull::Instance*>::_grow_page_array
                                          ((PagedArray<RendererSceneCull::Instance*> *)local_2b0);
                                pPVar65 = *(PagedArrayPool<RendererSceneCull::Instance*> **)
                                           (pRVar74 + 0x460);
                              }
                              *(undefined8 *)(puVar59 + -0x418) = 0x121c18;
                              auVar100 = PagedArrayPool<RendererSceneCull::Instance*>::alloc_page
                                                   (pPVar65);
                              lVar51 = *(long *)(pRVar74 + 0x468);
                              *(long *)(lVar51 + (ulong)uVar36 * 8) = auVar100._0_8_;
                              *(int *)(*(long *)(pRVar74 + 0x470) + (ulong)uVar36 * 4) =
                                   auVar100._8_4_;
                              uVar37 = *(ulong *)(pRVar74 + 0x488);
                            }
                            else {
                              lVar51 = *(long *)(pRVar74 + 0x468);
                            }
                            *(Transform3D **)
                             (*(long *)(lVar51 + (uVar37 >> ((byte)*(undefined4 *)(pRVar74 + 0x47c)
                                                            & 0x3f) & 0xffffffff) * 8) +
                             (ulong)((uint)uVar37 & *(uint *)(pRVar74 + 0x480)) * 8) = local_2e8;
                            *(ulong *)(pRVar74 + 0x488) = uVar37 + 1;
                            goto LAB_00121479;
                          }
                          if ((int)local_308._0_4_ < iVar68) {
                            if ((int)local_1d8 == 0) {
                              *(undefined8 *)(puVar59 + -0x418) = 0x121b5c;
                              LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>::resize
                                        ((LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>
                                          *)&local_1d8,0x100);
                              *(undefined8 *)local_1d0 = *(undefined8 *)pTVar42;
                              *(undefined8 *)(local_1d0 + 0x3f8) = *(undefined8 *)(pTVar42 + 0x3f8);
                              lVar51 = (long)local_1d0 -
                                       (long)((ulong)(local_1d0 + 8) & 0xfffffffffffffff8);
                              pTVar38 = pTVar42 + -lVar51;
                              puVar40 = (undefined8 *)((ulong)(local_1d0 + 8) & 0xfffffffffffffff8);
                              for (uVar37 = (ulong)((int)lVar51 + 0x400U >> 3);
                                  pTVar42 = (Transform3D *)0x0, uVar37 != 0; uVar37 = uVar37 - 1) {
                                *puVar40 = *(undefined8 *)pTVar38;
                                pTVar38 = pTVar38 + ((ulong)bVar78 * -2 + 1) * 8;
                                puVar40 = puVar40 + (ulong)bVar78 * -2 + 1;
                              }
                            }
                            else {
                              *(undefined8 *)(puVar59 + -0x418) = 0x121d25;
                              LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>::resize
                                        ((LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>
                                          *)&local_1d8,(int)local_1d8 * 2);
                            }
                            local_308 = (PagedArray *)CONCAT44(local_308._4_4_,(int)local_1d8 + -2);
                            pTVar38 = local_1d0;
                          }
                          lVar51 = (long)iVar68;
                          *(undefined8 *)(pTVar38 + lVar51 * 8) = *(undefined8 *)(pfVar70 + 8);
                          iVar68 = (int)local_2e8._0_4_ + 1;
                          *(undefined8 *)(pTVar38 + lVar51 * 8 + 8) = *(undefined8 *)(pfVar70 + 10);
                        }
                        local_2e8 = (Transform3D *)CONCAT44(local_2e8._4_4_,iVar68);
                        pfVar70 = *(float **)(pTVar38 + (long)(iVar68 + -1) * 8);
                      } while( true );
                    }
                    goto LAB_00121497;
                  }
                  goto LAB_0011f673;
                }
                goto LAB_0011f670;
              }
            }
            goto LAB_0011e6ec;
          }
          if (iVar68 == 2) {
            if (RenderingServerGlobals::utilities[8] != (RendererSceneCull)0x0) {
              local_1e8 = 0;
              local_1d0 = (Transform3D *)0x17;
              local_268 = (undefined1  [8])
                          *(undefined8 *)(*(long *)RenderingServerGlobals::utilities + 0x68);
              local_1d8 = "Cull SpotLight3D Shadow";
              *(undefined8 *)(puVar59 + -8) = 0x121ed8;
              String::parse_latin1((StrRange *)&local_1e8);
              *(undefined8 *)(puVar59 + -8) = 0x121ee7;
              (*(code *)local_268)(pRVar73);
              lVar51 = local_1e8;
              if (local_1e8 != 0) {
                LOCK();
                plVar39 = (long *)(local_1e8 + -0x10);
                *plVar39 = *plVar39 + -1;
                UNLOCK();
                if (*plVar39 == 0) {
                  local_1e8 = 0;
                  *(undefined8 *)(puVar59 + -8) = 0x121f20;
                  Memory::free_static((void *)(lVar51 + -0x10),false);
                }
              }
            }
            pSVar29 = local_258;
            if (0x200 < *(int *)(pRVar74 + 0x9250) + 1U) goto LAB_0011e6ec;
            uVar82 = *(undefined8 *)(local_258 + 8);
            pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x108);
            *(undefined8 *)(puVar59 + -8) = 0x11d591;
            uVar79 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82,4);
            uVar82 = *(undefined8 *)(pSVar29 + 8);
            local_2a8 = (Transform3D *)CONCAT44(local_2a8._4_4_,uVar79);
            pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x108);
            *(undefined8 *)(puVar59 + -8) = 0x11d5b2;
            uVar79 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82,7);
            pCVar75 = local_280;
            local_298 = (Transform3D *)CONCAT44(local_298._4_4_,uVar79);
            local_268._0_4_ =
                 (uint)_LC234 & -(uint)(_LC234 < local_2a8._0_4_) |
                 ~-(uint)(_LC234 < local_2a8._0_4_) & (uint)local_2a8._0_4_;
            *(undefined8 *)(puVar59 + -8) = 0x11d5f2;
            Projection::Projection((Projection *)local_280);
            *(undefined8 *)(puVar59 + -8) = 0x11d620;
            Projection::set_perspective
                      (local_298._0_4_ + local_298._0_4_,_LC55,(float)local_268._0_4_,
                       local_2a8._0_4_,SUB81(pCVar75,0));
            *(undefined8 *)(puVar59 + -8) = 0x11d639;
            Projection::get_projection_planes(local_1f8);
            local_2b0 = pRVar74 + 0x460;
            if ((*(long *)(pRVar74 + 0x488) != 0) &&
               (uVar37 = *(long *)(pRVar74 + 0x488) - 1U >>
                         ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f), (int)uVar37 != -1)) {
              lVar51 = 0;
              do {
                lVar47 = *(long *)(pRVar74 + 0x460);
                uVar79 = *(undefined4 *)(*(long *)(pRVar74 + 0x470) + lVar51);
                pcVar62 = (char *)(lVar47 + 0x20);
                while( true ) {
                  uVar101 = (ulong)local_1d8 >> 8;
                  local_1d8 = (char *)(uVar101 << 8);
                  LOCK();
                  cVar30 = *pcVar62;
                  if (cVar30 == '\0') {
                    *pcVar62 = '\x01';
                  }
                  UNLOCK();
                  if (cVar30 == '\0') break;
                  local_1d8 = (char *)(uVar101 << 8);
                  do {
                  } while (*pcVar62 != '\0');
                }
                lVar51 = lVar51 + 4;
                *(undefined4 *)(*(long *)(lVar47 + 0x10) + (ulong)*(uint *)(lVar47 + 0x18) * 4) =
                     uVar79;
                *(int *)(lVar47 + 0x18) = *(int *)(lVar47 + 0x18) + 1;
                *(undefined1 *)(lVar47 + 0x20) = 0;
              } while (lVar51 != (uVar37 & 0xffffffff) * 4 + 4);
            }
            *(long *)(pRVar74 + 0x488) = 0;
            if (local_1f0 == (Transform3D *)0x0) {
LAB_0011f670:
              lVar47 = 0;
LAB_0011f673:
              *(undefined8 *)(puVar59 + -8) = 1;
              lVar51 = 0;
              *(undefined8 *)(puVar59 + -0x10) = 0;
              *(undefined **)(puVar59 + -0x18) = &_LC3;
              puVar57 = (undefined8 *)(puVar59 + -0x20);
              *(char **)(puVar59 + -0x20) = "size()";
LAB_0011c5a9:
              puVar57[-1] = 0x11c5c1;
              _err_print_index_error
                        ("get","./core/templates/cowdata.h",0xdb,lVar51,lVar47,"p_index",
                         (char *)*puVar57,(char *)puVar57[1],*(bool *)(puVar57 + 2),
                         *(bool *)(puVar57 + 3));
              puVar57[3] = 0x11c5ca;
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar41 = (code *)invalidInstructionException();
              (*pcVar41)();
            }
            lVar47 = *(long *)(local_1f0 + -8);
            if (lVar47 < 1) goto LAB_0011f673;
            *(undefined8 *)(puVar59 + -8) = 0x11ec83;
            Geometry3D::compute_convex_mesh_points((Plane *)&local_1e8,(int)local_1f0);
            puVar60 = puVar59;
            if (local_1e0 == (Transform3D *)0x0) {
              pfVar70 = *(float **)(local_250 + 0x68);
              if (local_1f0 == (Transform3D *)0x0) {
                if (pfVar70 != (float *)0x0) {
                  fVar90 = 0.0;
                  iVar68 = 0;
                  goto LAB_0011efd7;
                }
              }
              else if (pfVar70 != (float *)0x0) {
                fVar90 = *(float *)(local_1f0 + -8);
                iVar68 = 0;
LAB_0011efd7:
                fVar83 = 0.0;
                fVar80 = 0.0;
                fVar81 = 0.0;
                fVar85 = 0.0;
                fVar84 = 0.0;
                auVar92._0_12_ = ZEXT812(0);
                auVar92._12_4_ = 0;
LAB_0011ed21:
                *(undefined8 *)(puVar59 + -8) = *(undefined8 *)(puVar59 + -8);
                local_1d8 = (char *)0x0;
                pTVar38 = (Transform3D *)((ulong)(puVar59 + -0x401) & 0xfffffffffffffff0);
                local_1d0 = (Transform3D *)0x0;
                local_298 = pTVar38;
                local_2c0 = (CullData *)CONCAT44(local_2c0._4_4_,0x7e);
                local_268._0_4_ = 1;
                local_2e8 = local_1e0;
                local_328 = local_1f0;
                local_368 = CONCAT44(local_368._4_4_,fVar90);
                *(float **)pTVar38 = pfVar70;
                local_2f8 = pCVar55;
                local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,fVar83);
                local_300 = (Transform3D *)CONCAT44(local_300._4_4_,fVar85);
                local_308 = (PagedArray *)CONCAT44(local_308._4_4_,fVar84);
                local_310 = (CullData *)CONCAT44(local_310._4_4_,fVar80);
                local_320 = (Transform3D *)CONCAT44(local_320._4_4_,auVar92._0_4_);
                local_338 = (Transform3D *)CONCAT44(local_338._4_4_,fVar81);
                do {
                  fVar90 = *pfVar70;
                  iVar46 = local_268._0_4_ + -1;
                  if (local_310._0_4_ < fVar90) {
LAB_0011ef98:
                    pCVar55 = local_2f8;
                    if (iVar46 == 0) goto LAB_0011eff9;
                  }
                  else {
                    if (pfVar70[3] < local_320._0_4_) goto LAB_0011ef98;
                    fVar84 = pfVar70[1];
                    if (local_338._0_4_ < fVar84) goto LAB_0011ef98;
                    if (pfVar70[4] < local_308._0_4_) goto LAB_0011ef98;
                    fVar85 = pfVar70[2];
                    if (local_2d8._0_4_ < fVar85) goto LAB_0011ef98;
                    if (pfVar70[5] < local_300._0_4_) goto LAB_0011ef98;
                    local_188 = (pfVar70[5] - fVar85) * _LC131;
                    fVar80 = (pfVar70[3] - fVar90) * _LC131;
                    fVar83 = (pfVar70[4] - fVar84) * _UNK_00138ca4;
                    local_140 = fVar85 + local_188;
                    local_190 = CONCAT44(fVar83,fVar80);
                    local_148 = CONCAT44(fVar84 + fVar83,fVar90 + fVar80);
                    if (0 < (int)(float)local_368) {
                      pTVar42 = local_328;
                      do {
                        fVar81 = ((float)(((uint)local_188 ^ _LC103) &
                                          -(uint)(0.0 < *(float *)(pTVar42 + 8)) |
                                         ~-(uint)(0.0 < *(float *)(pTVar42 + 8)) & (uint)local_188)
                                 + fVar85 + local_188) * *(float *)(pTVar42 + 8) +
                                 ((float)(((uint)fVar83 ^ _LC103) &
                                          -(uint)(0.0 < *(float *)(pTVar42 + 4)) |
                                         ~-(uint)(0.0 < *(float *)(pTVar42 + 4)) & (uint)fVar83) +
                                 fVar84 + fVar83) * *(float *)(pTVar42 + 4) +
                                 ((float)(((uint)fVar80 ^ _LC103) & -(uint)(0.0 < *(float *)pTVar42)
                                         | ~-(uint)(0.0 < *(float *)pTVar42) & (uint)fVar80) +
                                 fVar90 + fVar80) * *(float *)pTVar42;
                        if (*(float *)(pTVar42 + 0xc) <= fVar81 &&
                            fVar81 != *(float *)(pTVar42 + 0xc)) goto LAB_0011ef98;
                        pTVar42 = pTVar42 + 0x10;
                      } while (pTVar42 != local_328 + (long)(int)(float)local_368 * 0x10);
                    }
                    piVar64 = (int *)local_118;
                    _local_118 = ZEXT812(0);
                    local_e8 = 0;
                    iVar44 = 0;
                    local_e0 = 0.0;
                    lVar51 = 0;
                    while( true ) {
                      if (0 < iVar68) {
                        fVar90 = *(float *)((long)&local_148 + lVar51);
                        fVar84 = *(float *)((long)&local_190 + lVar51);
                        pTVar42 = local_2e8 + lVar51;
                        do {
                          fVar85 = *(float *)pTVar42;
                          if (fVar90 + fVar84 < fVar85) {
                            *piVar64 = *piVar64 + 1;
                          }
                          if (fVar85 < fVar90 - fVar84) {
                            iVar44 = iVar44 + 1;
                            *(int *)((long)&local_e8 + lVar51) = iVar44;
                          }
                          pTVar42 = pTVar42 + 0xc;
                        } while (pTVar42 != local_2e8 + lVar51 + (long)iVar68 * 0xc);
                      }
                      if ((iVar68 == iVar44) || (*piVar64 == iVar68)) goto LAB_0011ef98;
                      piVar64 = piVar64 + 1;
                      if (lVar51 + 4 == 0xc) break;
                      iVar44 = *(int *)((long)&local_e8 + lVar51 + 4);
                      lVar51 = lVar51 + 4;
                    }
                    if (*(long *)(pfVar70 + 10) == 0) {
                      local_268 = (undefined1  [8])*(undefined8 *)(pfVar70 + 8);
                      uVar37 = *(ulong *)(pRVar74 + 0x488);
                      if (((uint)uVar37 & *(uint *)(pRVar74 + 0x480)) == 0) {
                        uVar36 = 0;
                        if (uVar37 != 0) {
                          uVar36 = (int)(uVar37 - 1 >>
                                        ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f)) + 1;
                        }
                        pPVar65 = *(PagedArrayPool<RendererSceneCull::Instance*> **)
                                   (pRVar74 + 0x460);
                        if (*(uint *)(pRVar74 + 0x478) < uVar36 + 1) {
                          if (pPVar65 == (PagedArrayPool<RendererSceneCull::Instance*> *)0x0) {
                            *(undefined8 *)(puVar59 + -0x418) = 0x121d4f;
                            _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                                             "Parameter \"page_pool\" is null.",0,0);
                            goto LAB_0011ef98;
                          }
                          *(undefined8 *)(puVar59 + -0x418) = 0x12199d;
                          PagedArray<RendererSceneCull::Instance*>::_grow_page_array
                                    ((PagedArray<RendererSceneCull::Instance*> *)local_2b0);
                          pPVar65 = *(PagedArrayPool<RendererSceneCull::Instance*> **)
                                     (pRVar74 + 0x460);
                        }
                        *(undefined8 *)(puVar59 + -0x418) = 0x11f643;
                        auVar100 = PagedArrayPool<RendererSceneCull::Instance*>::alloc_page(pPVar65)
                        ;
                        lVar51 = *(long *)(pRVar74 + 0x468);
                        *(long *)(lVar51 + (ulong)uVar36 * 8) = auVar100._0_8_;
                        *(int *)(*(long *)(pRVar74 + 0x470) + (ulong)uVar36 * 4) = auVar100._8_4_;
                        uVar37 = *(ulong *)(pRVar74 + 0x488);
                      }
                      else {
                        lVar51 = *(long *)(pRVar74 + 0x468);
                      }
                      *(undefined1 (*) [8])
                       (*(long *)(lVar51 + (uVar37 >> ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f
                                                      ) & 0xffffffff) * 8) +
                       (ulong)((uint)uVar37 & *(uint *)(pRVar74 + 0x480)) * 8) = local_268;
                      *(ulong *)(pRVar74 + 0x488) = uVar37 + 1;
                      goto LAB_0011ef98;
                    }
                    if ((int)local_2c0._0_4_ < iVar46) {
                      if ((int)local_1d8 == 0) {
                        *(undefined8 *)(puVar59 + -0x418) = 0x11f514;
                        LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>::resize
                                  ((LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false> *)
                                   &local_1d8,0x100);
                        *(undefined8 *)local_1d0 = *(undefined8 *)pTVar38;
                        *(undefined8 *)(local_1d0 + 0x3f8) = *(undefined8 *)(pTVar38 + 0x3f8);
                        lVar51 = (long)local_1d0 -
                                 (long)((ulong)(local_1d0 + 8) & 0xfffffffffffffff8);
                        pTVar42 = pTVar38 + -lVar51;
                        puVar40 = (undefined8 *)((ulong)(local_1d0 + 8) & 0xfffffffffffffff8);
                        for (uVar37 = (ulong)((int)lVar51 + 0x400U >> 3);
                            pTVar38 = (Transform3D *)0x0, uVar37 != 0; uVar37 = uVar37 - 1) {
                          *puVar40 = *(undefined8 *)pTVar42;
                          pTVar42 = pTVar42 + ((ulong)bVar78 * -2 + 1) * 8;
                          puVar40 = puVar40 + (ulong)bVar78 * -2 + 1;
                        }
                      }
                      else {
                        *(undefined8 *)(puVar59 + -0x418) = 0x11f607;
                        LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>::resize
                                  ((LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false> *)
                                   &local_1d8,(int)local_1d8 * 2);
                      }
                      local_298 = local_1d0;
                      local_2c0 = (CullData *)CONCAT44(local_2c0._4_4_,(int)local_1d8 + -2);
                    }
                    lVar51 = (long)iVar46;
                    *(undefined8 *)(local_298 + lVar51 * 8) = *(undefined8 *)(pfVar70 + 8);
                    iVar46 = local_268._0_4_ + 1;
                    *(undefined8 *)(local_298 + lVar51 * 8 + 8) = *(undefined8 *)(pfVar70 + 10);
                  }
                  local_268._0_4_ = iVar46;
                  pfVar70 = *(float **)(local_298 + (long)(iVar46 + -1) * 8);
                } while( true );
              }
            }
            else {
              if (local_1f0 == (Transform3D *)0x0) {
                fVar90 = 0.0;
              }
              else {
                fVar90 = *(float *)(local_1f0 + -8);
              }
              pfVar70 = *(float **)(local_250 + 0x68);
              if (pfVar70 != (float *)0x0) {
                iVar68 = (int)*(undefined8 *)(local_1e0 + -8);
                if (0 < iVar68) {
                  auVar92 = ZEXT416((uint)*(float *)local_1e0);
                  fVar84 = *(float *)(local_1e0 + 4);
                  iVar46 = 0;
                  fVar85 = *(float *)(local_1e0 + 8);
                  pTVar38 = local_1e0;
                  fVar80 = *(float *)local_1e0;
                  fVar83 = fVar85;
                  fVar81 = fVar84;
                  while( true ) {
                    iVar46 = iVar46 + 1;
                    pTVar42 = pTVar38 + 0xc;
                    if (iVar46 == iVar68) break;
                    fVar96 = *(float *)(pTVar38 + 0x14);
                    fVar91 = *(float *)(pTVar38 + 0x10);
                    fVar86 = *(float *)pTVar42;
                    if (fVar96 <= fVar85) {
                      fVar85 = fVar96;
                    }
                    if (fVar91 <= fVar84) {
                      fVar84 = fVar91;
                    }
                    if (fVar86 <= auVar92._0_4_) {
                      auVar92._0_4_ = fVar86;
                    }
                    if (fVar83 <= fVar96) {
                      fVar83 = fVar96;
                    }
                    if (fVar81 <= fVar91) {
                      fVar81 = fVar91;
                    }
                    pTVar38 = pTVar42;
                    if (fVar80 <= fVar86) {
                      fVar80 = fVar86;
                    }
                  }
                  goto LAB_0011ed21;
                }
                goto LAB_0011efd7;
              }
            }
            goto LAB_0011f016;
          }
          goto LAB_0011e6fc;
        }
        goto LAB_0011da1a;
      }
      goto LAB_0011da21;
    }
  }
LAB_0011da39:
  local_248[0x9798] = (RendererSceneCull)0x0;
  if (*(int *)(local_248 + 0xb4ac) != 0) {
    uVar36 = 0;
    pRVar74 = local_248 + 0x9260;
    pRVar73 = local_248 + 0xc40;
    do {
      *(undefined8 *)(puVar59 + -8) = 0x11da81;
      PagedArray<RenderGeometryInstance*>::merge_unordered
                ((PagedArray<RenderGeometryInstance*> *)pRVar74,(PagedArray *)pRVar73);
      *(uint *)((PagedArray<RenderGeometryInstance*> *)pRVar74 + -8) = uVar36;
      uVar36 = uVar36 + 1;
      pRVar74 = (RendererSceneCull *)((PagedArray<RenderGeometryInstance*> *)pRVar74 + 0x38);
      pRVar73 = (RendererSceneCull *)((PagedArray *)pRVar73 + 0x30);
    } while (uVar36 < *(uint *)(local_248 + 0xb4ac));
    uVar36 = *(uint *)(local_248 + 0xb4d0);
    if (uVar36 != 0) {
      pRVar74 = local_248;
      do {
        if (*(long *)(pRVar74 + 0x10e8) != 0) {
          *(uint *)(local_248 + 0x979c) = uVar36;
          *(RendererSceneCull **)(local_248 + 0x97a0) = local_248 + 0xb4b0;
          *(RendererSceneCull **)(local_248 + 0x97a8) = local_248 + 0x10c0;
          local_248[0x9798] = (RendererSceneCull)0x1;
          break;
        }
        pRVar74 = pRVar74 + 0x30;
      } while (pRVar74 != local_248 + (ulong)uVar36 * 0x30);
    }
  }
  pRVar74 = local_248;
  if (CONCAT44(param_12._4_4_,(uint)param_12) == 0) {
    *(undefined1 **)(local_248 + 0x97b0) = local_208;
    *(long *)(local_248 + 0x97b8) = *(long *)(local_250 + 400);
    *(undefined4 *)(local_248 + 0x97c0) = *(undefined4 *)(local_250 + 0x188);
  }
  if (local_200 != 0) {
    lVar47 = 0;
    lVar51 = local_200;
    do {
      if (*(long *)(lVar51 + -8) <= lVar47) break;
      local_258 = (StrRange *)(lVar51 + lVar47 * 8);
      uVar37 = *(ulong *)(pRVar74 + 0x518);
      uVar36 = (uint)uVar37 & *(uint *)(pRVar74 + 0x510);
      uVar101 = (ulong)uVar36;
      if (uVar36 == 0) {
        uVar36 = 1;
        if (uVar37 != 0) {
          iVar68 = (int)(uVar37 - 1 >> ((byte)*(undefined4 *)(pRVar74 + 0x50c) & 0x3f));
          uVar101 = (ulong)(iVar68 + 1);
          uVar36 = iVar68 + 2;
        }
        uVar35 = *(uint *)(pRVar74 + 0x508);
        plVar39 = *(long **)(pRVar74 + 0x4f0);
        if (uVar36 <= uVar35) {
LAB_0011dbf0:
          pRVar73 = (RendererSceneCull *)(plVar39 + 4);
          while( true ) {
            uVar37 = (ulong)local_1d8 >> 8;
            local_1d8 = (char *)(uVar37 << 8);
            LOCK();
            RVar1 = *pRVar73;
            if (RVar1 == (RendererSceneCull)0x0) {
              *pRVar73 = (RendererSceneCull)0x1;
            }
            UNLOCK();
            if (RVar1 == (RendererSceneCull)0x0) break;
            local_1d8 = (char *)(uVar37 << 8);
            do {
            } while (*pRVar73 != (RendererSceneCull)0x0);
          }
          if ((int)plVar39[3] == 0) {
            uVar36 = *(uint *)(plVar39 + 1);
            pvVar7 = (void *)*plVar39;
            *(uint *)(plVar39 + 1) = uVar36 + 1;
            local_278 = pRVar73;
            *(undefined8 *)(puVar59 + -8) = 0x121dc8;
            lVar51 = Memory::realloc_static(pvVar7,(ulong)(uVar36 + 1) * 8,false);
            uVar35 = *(uint *)(plVar39 + 1);
            pvVar7 = (void *)plVar39[2];
            *plVar39 = lVar51;
            *(undefined8 *)(puVar59 + -8) = 0x121de1;
            lVar51 = Memory::realloc_static(pvVar7,(ulong)uVar35 << 2,false);
            uVar35 = *(uint *)((long)plVar39 + 0x1c);
            plVar39[2] = lVar51;
            local_268 = (undefined1  [8])(*plVar39 + (ulong)uVar36 * 8);
            *(undefined8 *)(puVar59 + -8) = 0x121e08;
            uVar82 = Memory::alloc_static((ulong)uVar35 << 3,false);
            *(undefined8 *)local_268 = uVar82;
            puVar48 = (uint *)plVar39[2];
            *puVar48 = uVar36;
            uVar36 = *(uint *)(plVar39 + 3);
            pRVar73 = local_278;
          }
          else {
            puVar48 = (uint *)plVar39[2];
            uVar36 = (int)plVar39[3] - 1;
          }
          *(uint *)(plVar39 + 3) = uVar36;
          uVar36 = puVar48[uVar36];
          uVar82 = *(undefined8 *)(*plVar39 + (ulong)uVar36 * 8);
          *pRVar73 = (RendererSceneCull)0x0;
          lVar52 = *(long *)(pRVar74 + 0x4f8);
          lVar51 = *(long *)(pRVar74 + 0x500);
          *(undefined8 *)(lVar52 + uVar101 * 8) = uVar82;
          *(uint *)(lVar51 + uVar101 * 4) = uVar36;
          uVar37 = *(ulong *)(pRVar74 + 0x518);
          uVar101 = (ulong)(*(uint *)(pRVar74 + 0x510) & (uint)uVar37);
          lVar51 = local_200;
          goto LAB_0011db5a;
        }
        if (plVar39 != (long *)0x0) {
          if (uVar35 == 0) {
            uVar37 = 8;
            uVar35 = 1;
          }
          else {
            uVar35 = uVar35 * 2;
            uVar37 = (ulong)uVar35 << 3;
          }
          *(uint *)(pRVar74 + 0x508) = uVar35;
          pvVar7 = *(void **)(pRVar74 + 0x4f8);
          *(undefined8 *)(puVar59 + -8) = 0x121e5a;
          lVar51 = Memory::realloc_static(pvVar7,uVar37,false);
          uVar36 = *(uint *)(pRVar74 + 0x508);
          pvVar7 = *(void **)(pRVar74 + 0x500);
          *(long *)(pRVar74 + 0x4f8) = lVar51;
          *(undefined8 *)(puVar59 + -8) = 0x121e79;
          lVar51 = Memory::realloc_static(pvVar7,(ulong)uVar36 << 2,false);
          plVar39 = *(long **)(pRVar74 + 0x4f0);
          *(long *)(pRVar74 + 0x500) = lVar51;
          goto LAB_0011dbf0;
        }
        *(undefined8 *)(puVar59 + -8) = 0x121fa9;
        _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                         "Parameter \"page_pool\" is null.",0,0);
        lVar51 = local_200;
      }
      else {
        lVar52 = *(long *)(pRVar74 + 0x4f8);
LAB_0011db5a:
        *(undefined8 *)
         (*(long *)(lVar52 + (uVar37 >> ((byte)*(undefined4 *)(pRVar74 + 0x50c) & 0x3f) & 0xffffffff
                             ) * 8) + uVar101 * 8) = *(undefined8 *)local_258;
        *(ulong *)(pRVar74 + 0x518) = uVar37 + 1;
      }
      lVar47 = lVar47 + 1;
    } while (lVar51 != 0);
  }
  lVar47 = param_10;
  lVar51 = local_340;
  if (local_340 == 0) {
    lVar51 = *(long *)(local_250 + 0x120);
  }
  uVar82 = 0;
  lVar52 = local_270;
  if (param_10 != 0) {
    *(undefined8 *)(puVar59 + -8) = 0x11e253;
    uVar82 = RendererViewport::viewport_get_occluder_debug_texture
                       (RenderingServerGlobals::viewport,param_10);
    *(undefined8 *)(puVar59 + -8) = 0x11e266;
    lVar52 = RendererViewport::viewport_get_prev_camera_data
                       (RenderingServerGlobals::viewport,param_10);
  }
  if (RenderingServerGlobals::utilities[8] != (RendererSceneCull)0x0) {
    local_278 = RenderingServerGlobals::utilities;
    local_1d8 = "Render 3D Scene";
    local_268 = (undefined1  [8])*(undefined8 *)(*(long *)RenderingServerGlobals::utilities + 0x68);
    local_1e8 = 0;
    local_1d0 = (Transform3D *)0xf;
    local_258 = (StrRange *)&local_1e8;
    *(undefined8 *)(puVar59 + -8) = 0x11e1ef;
    String::parse_latin1((StrRange *)&local_1e8);
    pRVar74 = local_278;
    auVar61 = local_268;
    *(undefined8 *)(puVar59 + -8) = 0x11e206;
    (*(code *)auVar61)(pRVar74);
    lVar67 = local_1e8;
    if (local_1e8 != 0) {
      LOCK();
      plVar39 = (long *)(local_1e8 + -0x10);
      *plVar39 = *plVar39 + -1;
      UNLOCK();
      if (*plVar39 == 0) {
        local_1e8 = 0;
        *(undefined8 *)(puVar59 + -8) = 0x11e23f;
        Memory::free_static((void *)(lVar67 + -0x10),false);
      }
    }
  }
  uVar49 = 0;
  plVar39 = *(long **)(local_248 + 8);
  uVar36 = *(uint *)(local_248 + 0xb4ac);
  pRVar74 = local_248 + 0x9798;
  pRVar73 = local_248 + 0x9258;
  uVar35 = *(uint *)(local_248 + 0x9250);
  pRVar72 = local_248 + 0x1250;
  pcVar41 = *(code **)(*plVar39 + 0x128);
  if (CONCAT44(param_12._4_4_,(uint)param_12) == 0) {
    uVar49 = *(undefined8 *)(local_250 + 0x138);
  }
  *(undefined8 *)(puVar59 + -0x10) = local_358;
  *(RendererSceneCull **)(puVar59 + -0x18) = pRVar74;
  *(ulong *)(puVar59 + -0x20) = (ulong)uVar36;
  *(RendererSceneCull **)(puVar59 + -0x28) = pRVar73;
  *(ulong *)(puVar59 + -0x30) = (ulong)uVar35;
  *(RendererSceneCull **)(puVar59 + -0x38) = pRVar72;
  *(ulong *)(puVar59 + -0x40) = (ulong)param_13;
  *(ulong *)(puVar59 + -0x48) = CONCAT44(param_12._4_4_,(uint)param_12);
  *(undefined8 *)(puVar59 + -0x50) = uVar49;
  *(undefined8 *)(puVar59 + -0x58) = uVar82;
  *(long *)(puVar59 + -0x60) = param_11;
  *(undefined8 *)(puVar59 + -0x68) = local_348;
  *(long *)(puVar59 + -0x70) = lVar51;
  *(undefined8 *)(puVar59 + -0x78) = local_318;
  pRVar73 = local_248;
  plVar5 = local_2b8;
  pIVar53 = local_2d0;
  pRVar74 = local_248 + 0x4f0;
  *(RendererSceneCull **)(puVar59 + -0x80) = local_248 + 0x610;
  *(RendererSceneCull **)(puVar59 + -0x88) = pRVar73 + 0x520;
  *(RendererSceneCull **)(puVar59 + -0x90) = pRVar73 + 0x580;
  *(RendererSceneCull **)(puVar59 + -0x98) = pRVar73 + 0x5b0;
  *(RendererSceneCull **)(puVar59 + -0xa0) = pRVar73 + 0x550;
  lVar51 = local_270;
  *(undefined8 *)(puVar59 + -0xa8) = 0x11dd9a;
  (*pcVar41)(plVar39,plVar5,lVar51,lVar52,pIVar53,pRVar74);
  lVar51 = local_270;
  if (lVar47 != 0) {
    *(undefined8 *)(puVar59 + -8) = 0x11e285;
    RendererViewport::viewport_set_prev_camera_data
              (RenderingServerGlobals::viewport,param_10,lVar51);
  }
  lVar51 = local_200;
  lVar47 = 0;
  if (*(int *)(local_248 + 0x9250) != 0) {
    do {
      lVar52 = lVar47 * 0x40;
      if ((*(long *)(local_248 + lVar52 + 0x1288) != 0) &&
         (uVar37 = *(long *)(local_248 + lVar52 + 0x1288) - 1U >>
                   ((byte)*(undefined4 *)(local_248 + lVar52 + 0x127c) & 0x3f), (int)uVar37 != -1))
      {
        lVar67 = 0;
        do {
          lVar3 = *(long *)(local_248 + lVar52 + 0x1260);
          uVar79 = *(undefined4 *)(*(long *)(local_248 + lVar52 + 0x1270) + lVar67);
          pcVar62 = (char *)(lVar3 + 0x20);
          while( true ) {
            uVar101 = (ulong)local_1d8 >> 8;
            local_1d8 = (char *)(uVar101 << 8);
            LOCK();
            cVar30 = *pcVar62;
            if (cVar30 == '\0') {
              *pcVar62 = '\x01';
            }
            UNLOCK();
            if (cVar30 == '\0') break;
            local_1d8 = (char *)(uVar101 << 8);
            do {
            } while (*pcVar62 != '\0');
          }
          lVar67 = lVar67 + 4;
          *(undefined4 *)(*(long *)(lVar3 + 0x10) + (ulong)*(uint *)(lVar3 + 0x18) * 4) = uVar79;
          *(int *)(lVar3 + 0x18) = *(int *)(lVar3 + 0x18) + 1;
          *(undefined1 *)(lVar3 + 0x20) = 0;
        } while (lVar67 != (uVar37 & 0xffffffff) * 4 + 4);
      }
      *(undefined8 *)(local_248 + lVar52 + 0x1288) = 0;
      lVar47 = lVar47 + 1;
    } while ((uint)lVar47 < *(uint *)(local_248 + 0x9250));
  }
  uVar36 = 0;
  pRVar74 = local_248 + 0x9260;
  *(undefined4 *)(local_248 + 0x9250) = 0;
  if (*(int *)(local_248 + 0xb4ac) != 0) {
    do {
      if ((*(long *)(pRVar74 + 0x28) != 0) &&
         (uVar37 = *(long *)(pRVar74 + 0x28) - 1U >> ((byte)*(undefined4 *)(pRVar74 + 0x1c) & 0x3f),
         (int)uVar37 != -1)) {
        lVar47 = 0;
        do {
          lVar52 = *(long *)pRVar74;
          uVar79 = *(undefined4 *)(*(long *)(pRVar74 + 0x10) + lVar47);
          pcVar62 = (char *)(lVar52 + 0x20);
          while( true ) {
            uVar101 = (ulong)local_1d8 >> 8;
            local_1d8 = (char *)(uVar101 << 8);
            LOCK();
            cVar30 = *pcVar62;
            if (cVar30 == '\0') {
              *pcVar62 = '\x01';
            }
            UNLOCK();
            if (cVar30 == '\0') break;
            local_1d8 = (char *)(uVar101 << 8);
            do {
            } while (*pcVar62 != '\0');
          }
          lVar47 = lVar47 + 4;
          *(undefined4 *)(*(long *)(lVar52 + 0x10) + (ulong)*(uint *)(lVar52 + 0x18) * 4) = uVar79;
          *(int *)(lVar52 + 0x18) = *(int *)(lVar52 + 0x18) + 1;
          *(undefined1 *)(lVar52 + 0x20) = 0;
        } while (lVar47 != (uVar37 & 0xffffffff) * 4 + 4);
      }
      *(long *)(pRVar74 + 0x28) = 0;
      uVar36 = uVar36 + 1;
      pRVar74 = pRVar74 + 0x38;
    } while (uVar36 < *(uint *)(local_248 + 0xb4ac));
  }
  if (local_200 != 0) {
    LOCK();
    plVar39 = (long *)(local_200 + -0x10);
    *plVar39 = *plVar39 + -1;
    UNLOCK();
    if (*plVar39 == 0) {
      local_200 = 0;
      *(undefined8 *)(puVar59 + -8) = 0x11df91;
      Memory::free_static((void *)(lVar51 + -0x10),false);
    }
  }
  pTVar38 = local_210;
  if (local_210 != (Transform3D *)0x0) {
    LOCK();
    pTVar42 = local_210 + -0x10;
    *(long *)pTVar42 = *(long *)pTVar42 + -1;
    UNLOCK();
    if (*(long *)pTVar42 == 0) {
      local_210 = (Transform3D *)0x0;
      *(undefined8 *)(puVar59 + -8) = 0x11dfc2;
      Memory::free_static(pTVar38 + -0x10,false);
    }
  }
LAB_0011dfc2:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  *(undefined **)(puVar59 + -8) = &UNK_00121fba;
  __stack_chk_fail();
code_r0x00120ef1:
  puVar60 = puVar59 + -0x410;
  if (local_1d0 != (Transform3D *)0x0) {
    *(undefined8 *)(puVar59 + -0x418) = 0x120f0d;
    Memory::free_static(local_1d0,false);
    puVar60 = puVar59 + -0x410;
  }
LAB_00120f0d:
  uVar37 = (ulong)*(uint *)(pRVar74 + 0x9250);
  *(uint *)(pRVar74 + 0x9250) = *(uint *)(pRVar74 + 0x9250) + 1;
  if (*(int *)(local_290 + 0x60) != 0) {
    pPVar6 = *(PagedArray **)(pRVar74 + 0x9840);
    *(undefined8 *)(puVar60 + -8) = 0x1213d3;
    RenderingLightCuller::cull_regular_light(pPVar6);
  }
  pTVar38 = *(Transform3D **)(pRVar74 + 0x488);
  if (0 < (int)pTVar38) {
    local_2f8 = pCVar75;
    local_2a8 = (Transform3D *)0x0;
    lVar51 = uVar37 * 0x40;
    local_2e8 = (Transform3D *)(pRVar74 + lVar51 + 0x1260);
    do {
      if (pTVar38 <= local_2a8) {
        pTVar42 = (Transform3D *)(long)(int)local_2a8._0_4_;
        goto LAB_0011f1d9;
      }
      puVar48 = *(uint **)(*(long *)(*(long *)(pRVar74 + 0x468) +
                                    ((ulong)local_2a8 >>
                                    ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f)) * 8) +
                          (ulong)((uint)local_2a8._0_4_ & *(uint *)(pRVar74 + 0x480)) * 8);
      if ((((puVar48[0x38] & 4) != 0) && ((0xeU >> (*puVar48 & 0x1f) & 1) != 0)) &&
         (*(char *)(*(long *)(puVar48 + 0xa6) + 0x38) != '\0')) {
        uVar36 = puVar48[0x37];
        uVar82 = *(undefined8 *)(local_258 + 8);
        pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x90);
        *(undefined8 *)(puVar60 + -8) = 0x120fff;
        uVar35 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82);
        if ((param_8 & uVar36 & uVar35) != 0) {
          auVar61 = *(undefined1 (*) [8])(puVar48 + 0xa6);
          TVar32 = (Transform3D)local_268[0];
          if (*(Transform3D *)((long)auVar61 + 0x39) != (Transform3D)0x0) {
            TVar32 = *(Transform3D *)((long)auVar61 + 0x39);
          }
          if (*(long *)(puVar48 + 10) != 0) {
            uVar82 = *(undefined8 *)(puVar48 + 10);
            pcVar41 = *(code **)(*RenderingServerGlobals::mesh_storage + 0xf0);
            *(undefined8 *)(puVar60 + -8) = 0x12103c;
            (*pcVar41)(RenderingServerGlobals::mesh_storage,uVar82);
            auVar61 = *(undefined1 (*) [8])(puVar48 + 0xa6);
          }
          uVar101 = *(ulong *)(pRVar74 + lVar51 + 0x1288);
          uVar36 = (uint)uVar101 & *(uint *)(pRVar74 + lVar51 + 0x1280);
          if (uVar36 == 0) {
            uVar36 = 0;
            if (uVar101 != 0) {
              uVar36 = (int)(uVar101 - 1 >>
                            ((byte)*(undefined4 *)(pRVar74 + uVar37 * 0x40 + 0x127c) & 0x3f)) + 1;
            }
            if (uVar36 + 1 <= *(uint *)(pRVar74 + uVar37 * 0x40 + 0x1278)) {
LAB_00121104:
              plVar5 = *(long **)(pRVar74 + uVar37 * 0x40 + 0x1260);
              plVar39 = plVar5 + 4;
              while( true ) {
                uVar101 = (ulong)local_1d8 >> 8;
                local_1d8 = (char *)(uVar101 << 8);
                LOCK();
                bVar77 = (char)*plVar39 == '\0';
                if (bVar77) {
                  *(char *)plVar39 = '\x01';
                }
                UNLOCK();
                if (bVar77) break;
                local_1d8 = (char *)(uVar101 << 8);
                do {
                } while ((char)*plVar39 != '\0');
              }
              if ((int)plVar5[3] == 0) {
                pvVar7 = (void *)*plVar5;
                local_308 = (PagedArray *)CONCAT44(local_308._4_4_,uVar36);
                local_268._0_4_ = (int)plVar5[1];
                uVar36 = (int)plVar5[1] + 1;
                *(uint *)(plVar5 + 1) = uVar36;
                *(undefined8 *)(puVar60 + -8) = 0x1212f6;
                local_300 = (Transform3D *)auVar61;
                lVar47 = Memory::realloc_static(pvVar7,(ulong)uVar36 * 8,false);
                uVar36 = *(uint *)(plVar5 + 1);
                pvVar7 = (void *)plVar5[2];
                *plVar5 = lVar47;
                *(undefined8 *)(puVar60 + -8) = 0x12130c;
                lVar47 = Memory::realloc_static(pvVar7,(ulong)uVar36 << 2,false);
                uVar36 = *(uint *)((long)plVar5 + 0x1c);
                plVar5[2] = lVar47;
                local_2d8 = (RendererSceneCull *)(*plVar5 + (ulong)(uint)local_268._0_4_ * 8);
                *(undefined8 *)(puVar60 + -8) = 0x121333;
                lVar47 = Memory::alloc_static((ulong)uVar36 << 3,false);
                *(long *)local_2d8 = lVar47;
                puVar50 = (undefined4 *)plVar5[2];
                *puVar50 = local_268._0_4_;
                *(int *)(plVar5 + 3) = (int)plVar5[3] + 1;
                auVar61 = (undefined1  [8])local_300;
                uVar36 = (uint)local_308._0_4_;
              }
              else {
                puVar50 = (undefined4 *)plVar5[2];
              }
              uVar35 = (int)plVar5[3] - 1;
              *(uint *)(plVar5 + 3) = uVar35;
              uVar35 = puVar50[uVar35];
              uVar82 = *(undefined8 *)(*plVar5 + (ulong)uVar35 * 8);
              *(undefined1 *)(plVar5 + 4) = 0;
              lVar47 = *(long *)(pRVar74 + uVar37 * 0x40 + 0x1270);
              *(undefined8 *)(*(long *)(pRVar74 + uVar37 * 0x40 + 0x1268) + (ulong)uVar36 * 8) =
                   uVar82;
              *(uint *)(lVar47 + (ulong)uVar36 * 4) = uVar35;
              uVar101 = *(ulong *)(pRVar74 + lVar51 + 0x1288);
              uVar36 = *(uint *)(pRVar74 + lVar51 + 0x1280) & (uint)uVar101;
              goto LAB_00121056;
            }
            if (*(long *)(pRVar74 + uVar37 * 0x40 + 0x1260) != 0) {
              local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,uVar36);
              local_268 = auVar61;
              *(undefined8 *)(puVar60 + -8) = 0x1213a3;
              PagedArray<RenderGeometryInstance*>::_grow_page_array
                        ((PagedArray<RenderGeometryInstance*> *)local_2e8);
              auVar61 = local_268;
              uVar36 = (uint)local_2d8._0_4_;
              goto LAB_00121104;
            }
            *(undefined8 *)(puVar60 + -8) = 0x1213fd;
            _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                             "Parameter \"page_pool\" is null.",0,0);
          }
          else {
LAB_00121056:
            *(undefined8 *)
             (*(long *)(*(long *)(pRVar74 + lVar51 + 0x1268) +
                       (uVar101 >> ((byte)*(undefined4 *)(pRVar74 + lVar51 + 0x127c) & 0x3f) &
                       0xffffffff) * 8) + (ulong)uVar36 * 8) = *(undefined8 *)((long)auVar61 + 8);
            *(ulong *)(pRVar74 + lVar51 + 0x1288) = uVar101 + 1;
          }
          local_268[0] = (CullData)TVar32;
        }
        pTVar38 = *(Transform3D **)(pRVar74 + 0x488);
      }
      local_2a8 = local_2a8 + 1;
      pCVar75 = local_2f8;
    } while ((int)local_2a8 < (int)pTVar38);
  }
  pcVar41 = *(code **)(*RenderingServerGlobals::mesh_storage + 0x100);
  *(undefined8 *)(puVar60 + -8) = 0x1211b8;
  (*pcVar41)();
  plVar39 = RenderingServerGlobals::light_storage;
  pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x160);
  local_e8 = 0;
  *(undefined8 *)(puVar60 + -8) = 0x1211dd;
  Projection::Projection((Projection *)pCVar75);
  uVar82 = *(undefined8 *)(local_290 + 8);
  *(undefined8 *)(puVar60 + -8) = 0x121220;
  (*pcVar41)(plVar39,uVar82,pCVar75);
  *(undefined8 *)(puVar60 + -8) = 0x121228;
  Projection::~Projection((Projection *)pCVar75);
  pTVar38 = local_1e0;
  *(undefined8 *)(pRVar74 + uVar37 * 0x40 + 0x1250) = *(undefined8 *)(local_290 + 8);
  *(undefined4 *)(pRVar74 + uVar37 * 0x40 + 0x1258) = local_2b0._0_4_;
  if (local_1e0 != (Transform3D *)0x0) {
    LOCK();
    pTVar42 = local_1e0 + -0x10;
    *(long *)pTVar42 = *(long *)pTVar42 + -1;
    UNLOCK();
    if (*(long *)pTVar42 == 0) {
      local_1e0 = (Transform3D *)0x0;
      *(undefined8 *)(puVar60 + -8) = 0x121281;
      Memory::free_static(pTVar38 + -0x10,false);
    }
  }
  if (local_1f0 != (Transform3D *)0x0) {
    LOCK();
    pTVar38 = local_1f0 + -0x10;
    *(long *)pTVar38 = *(long *)pTVar38 + -1;
    UNLOCK();
    if (*(long *)pTVar38 == 0) {
      *(undefined8 *)(puVar60 + -8) = 0x1212a7;
      Memory::free_static(local_1f0 + -0x10,false);
    }
  }
  pCVar55 = local_310;
  if (local_2b0 != (RendererSceneCull *)0x0) goto LAB_0011e6e3;
  local_2b0 = (RendererSceneCull *)0x1;
  puVar59 = puVar60;
  goto LAB_0011fc57;
code_r0x00121481:
  puVar60 = puVar59 + -0x410;
  if (local_1d0 != (Transform3D *)0x0) {
    *(undefined8 *)(puVar59 + -0x418) = 0x121497;
    Memory::free_static(local_1d0,false);
    puVar60 = puVar59 + -0x410;
  }
LAB_00121497:
  pCVar55 = (CullData *)(ulong)*(uint *)(pRVar74 + 0x9250);
  *(uint *)(pRVar74 + 0x9250) = *(uint *)(pRVar74 + 0x9250) + 1;
  if (*(int *)(local_290 + 0x60) != 0) {
    pPVar6 = *(PagedArray **)(pRVar74 + 0x9840);
    *(undefined8 *)(puVar60 + -8) = 0x121983;
    RenderingLightCuller::cull_regular_light(pPVar6);
  }
  pTVar38 = *(Transform3D **)(pRVar74 + 0x488);
  if (0 < (int)pTVar38) {
    local_2c0 = pCVar55;
    pTVar42 = (Transform3D *)0x0;
    lVar51 = (long)pCVar55 * 0x40;
    local_2e8 = (Transform3D *)(pRVar74 + lVar51 + 0x1260);
    do {
      if (pTVar38 <= pTVar42) {
        pTVar42 = (Transform3D *)(long)(int)(uint)pTVar42;
        goto LAB_0011f1d9;
      }
      puVar48 = *(uint **)(*(long *)(*(long *)(pRVar74 + 0x468) +
                                    ((ulong)pTVar42 >>
                                    ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f)) * 8) +
                          (ulong)((uint)pTVar42 & *(uint *)(pRVar74 + 0x480)) * 8);
      if ((((puVar48[0x38] & 4) != 0) && ((0xeU >> (*puVar48 & 0x1f) & 1) != 0)) &&
         (*(char *)(*(long *)(puVar48 + 0xa6) + 0x38) != '\0')) {
        uVar36 = puVar48[0x37];
        uVar82 = *(undefined8 *)(local_258 + 8);
        pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x90);
        *(undefined8 *)(puVar60 + -8) = 0x12157d;
        uVar35 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82);
        if ((param_8 & uVar36 & uVar35) != 0) {
          auVar61 = *(undefined1 (*) [8])(puVar48 + 0xa6);
          PVar33 = (PagedArray)local_268[0];
          if (*(PagedArray *)((long)auVar61 + 0x39) != (PagedArray)0x0) {
            PVar33 = *(PagedArray *)((long)auVar61 + 0x39);
          }
          if (*(long *)(puVar48 + 10) != 0) {
            uVar82 = *(undefined8 *)(puVar48 + 10);
            pcVar41 = *(code **)(*RenderingServerGlobals::mesh_storage + 0xf0);
            *(undefined8 *)(puVar60 + -8) = 0x1215c1;
            (*pcVar41)(RenderingServerGlobals::mesh_storage,uVar82);
            auVar61 = *(undefined1 (*) [8])(puVar48 + 0xa6);
          }
          uVar37 = *(ulong *)(pRVar74 + lVar51 + 0x1288);
          uVar36 = (uint)uVar37 & *(uint *)(pRVar74 + lVar51 + 0x1280);
          if (uVar36 == 0) {
            uVar36 = 0;
            if (uVar37 != 0) {
              uVar36 = (int)(uVar37 - 1 >>
                            ((byte)*(undefined4 *)(pRVar74 + (long)local_2c0 * 0x40 + 0x127c) & 0x3f
                            )) + 1;
            }
            if (uVar36 + 1 <= *(uint *)(pRVar74 + (long)local_2c0 * 0x40 + 0x1278)) {
LAB_0012167f:
              plVar5 = *(long **)(pRVar74 + (long)local_2c0 * 0x40 + 0x1260);
              plVar39 = plVar5 + 4;
              while( true ) {
                uVar37 = (ulong)local_1d8 >> 8;
                local_1d8 = (char *)(uVar37 << 8);
                LOCK();
                bVar77 = (char)*plVar39 == '\0';
                if (bVar77) {
                  *(char *)plVar39 = '\x01';
                }
                UNLOCK();
                if (bVar77) break;
                local_1d8 = (char *)(uVar37 << 8);
                do {
                } while ((char)*plVar39 != '\0');
              }
              if ((int)plVar5[3] == 0) {
                pvVar7 = (void *)*plVar5;
                local_338 = (Transform3D *)CONCAT44(local_338._4_4_,uVar36);
                local_268._0_4_ = (int)plVar5[1];
                uVar36 = (int)plVar5[1] + 1;
                *(uint *)(plVar5 + 1) = uVar36;
                *(undefined8 *)(puVar60 + -8) = 0x12188c;
                local_308 = (PagedArray *)auVar61;
                lVar47 = Memory::realloc_static(pvVar7,(ulong)uVar36 * 8,false);
                uVar36 = *(uint *)(plVar5 + 1);
                pvVar7 = (void *)plVar5[2];
                *plVar5 = lVar47;
                *(undefined8 *)(puVar60 + -8) = 0x1218a5;
                lVar47 = Memory::realloc_static(pvVar7,(ulong)uVar36 << 2,false);
                uVar36 = *(uint *)((long)plVar5 + 0x1c);
                plVar5[2] = lVar47;
                local_300 = (Transform3D *)(*plVar5 + (ulong)(uint)local_268._0_4_ * 8);
                *(undefined8 *)(puVar60 + -8) = 0x1218cf;
                uVar82 = Memory::alloc_static((ulong)uVar36 << 3,false);
                *(undefined8 *)local_300 = uVar82;
                puVar50 = (undefined4 *)plVar5[2];
                *puVar50 = local_268._0_4_;
                *(int *)(plVar5 + 3) = (int)plVar5[3] + 1;
                auVar61 = (undefined1  [8])local_308;
                uVar36 = (uint)local_338._0_4_;
              }
              else {
                puVar50 = (undefined4 *)plVar5[2];
              }
              uVar35 = (int)plVar5[3] - 1;
              *(uint *)(plVar5 + 3) = uVar35;
              uVar35 = puVar50[uVar35];
              uVar82 = *(undefined8 *)(*plVar5 + (ulong)uVar35 * 8);
              *(undefined1 *)(plVar5 + 4) = 0;
              lVar47 = *(long *)(pRVar74 + (long)local_2c0 * 0x40 + 0x1270);
              *(undefined8 *)
               (*(long *)(pRVar74 + (long)local_2c0 * 0x40 + 0x1268) + (ulong)uVar36 * 8) = uVar82;
              *(uint *)(lVar47 + (ulong)uVar36 * 4) = uVar35;
              uVar37 = *(ulong *)(pRVar74 + lVar51 + 0x1288);
              uVar36 = *(uint *)(pRVar74 + lVar51 + 0x1280) & (uint)uVar37;
              goto LAB_001215dc;
            }
            if (*(long *)(pRVar74 + (long)local_2c0 * 0x40 + 0x1260) != 0) {
              local_300 = (Transform3D *)CONCAT44(local_300._4_4_,uVar36);
              local_268 = auVar61;
              *(undefined8 *)(puVar60 + -8) = 0x12192f;
              PagedArray<RenderGeometryInstance*>::_grow_page_array
                        ((PagedArray<RenderGeometryInstance*> *)local_2e8);
              auVar61 = local_268;
              uVar36 = (uint)local_300._0_4_;
              goto LAB_0012167f;
            }
            *(undefined8 *)(puVar60 + -8) = 0x121967;
            _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                             "Parameter \"page_pool\" is null.",0,0);
          }
          else {
LAB_001215dc:
            *(undefined8 *)
             (*(long *)(*(long *)(pRVar74 + lVar51 + 0x1268) +
                       (uVar37 >> ((byte)*(undefined4 *)(pRVar74 + lVar51 + 0x127c) & 0x3f) &
                       0xffffffff) * 8) + (ulong)uVar36 * 8) = *(undefined8 *)((long)auVar61 + 8);
            *(ulong *)(pRVar74 + lVar51 + 0x1288) = uVar37 + 1;
          }
          local_268[0] = (CullData)PVar33;
        }
        pTVar38 = *(Transform3D **)(pRVar74 + 0x488);
      }
      pTVar42 = pTVar42 + 1;
      pCVar55 = local_2c0;
    } while ((int)pTVar42 < (int)pTVar38);
  }
  pcVar41 = *(code **)(*RenderingServerGlobals::mesh_storage + 0x100);
  *(undefined8 *)(puVar60 + -8) = 0x12173f;
  (*pcVar41)();
  lVar51 = local_290;
  uVar82 = *(undefined8 *)(local_290 + 8);
  uVar79 = SUB84(local_2a8,0);
  pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x160);
  local_e8 = 0;
  *(undefined8 *)(puVar60 + -8) = 0x1217a1;
  (*pcVar41)(RenderingServerGlobals::light_storage,uVar82,local_280,local_320);
  pTVar38 = local_1e0;
  *(undefined8 *)(pRVar74 + (long)pCVar55 * 0x40 + 0x1250) = *(undefined8 *)(lVar51 + 8);
  *(undefined4 *)(pRVar74 + (long)pCVar55 * 0x40 + 0x1258) = uVar79;
  if (local_1e0 != (Transform3D *)0x0) {
    LOCK();
    pTVar42 = local_1e0 + -0x10;
    *(long *)pTVar42 = *(long *)pTVar42 + -1;
    UNLOCK();
    if (*(long *)pTVar42 == 0) {
      local_1e0 = (Transform3D *)0x0;
      *(undefined8 *)(puVar60 + -8) = 0x1217ee;
      Memory::free_static(pTVar38 + -0x10,false);
    }
  }
  pTVar38 = local_1f0;
  if (local_1f0 != (Transform3D *)0x0) {
    LOCK();
    pTVar42 = local_1f0 + -0x10;
    *(long *)pTVar42 = *(long *)pTVar42 + -1;
    UNLOCK();
    if (*(long *)pTVar42 == 0) {
      local_1f0 = (Transform3D *)0x0;
      *(undefined8 *)(puVar60 + -8) = 0x12181f;
      Memory::free_static(pTVar38 + -0x10,false);
    }
  }
  pCVar55 = local_380;
  local_2a8 = local_2a8 + 1;
  local_310 = local_310 + 0xc;
  puVar59 = puVar60;
  if (local_2a8 == (Transform3D *)0x6) goto code_r0x00121840;
  goto LAB_0011e92b;
code_r0x00121840:
  *(undefined8 *)(puVar60 + -8) = 0x121853;
  Projection::~Projection((Projection *)local_280);
  goto LAB_0011e6e3;
LAB_0011eff9:
  puVar60 = puVar59 + -0x410;
  if (local_1d0 != (Transform3D *)0x0) {
    *(undefined8 *)(puVar59 + -0x418) = 0x11f016;
    Memory::free_static(local_1d0,false);
    puVar60 = puVar59 + -0x410;
  }
LAB_0011f016:
  uVar37 = (ulong)*(uint *)(pRVar74 + 0x9250);
  *(uint *)(pRVar74 + 0x9250) = *(uint *)(pRVar74 + 0x9250) + 1;
  if (*(int *)(local_290 + 0x60) != 0) {
    pPVar6 = *(PagedArray **)(pRVar74 + 0x9840);
    *(undefined8 *)(puVar60 + -8) = 0x11f3d5;
    RenderingLightCuller::cull_regular_light(pPVar6);
  }
  pTVar38 = *(Transform3D **)(pRVar74 + 0x488);
  if ((int)pTVar38 < 1) {
    auVar26[0xf] = 0;
    auVar26._0_15_ = stack0xfffffffffffffd99;
    _local_268 = auVar26 << 8;
  }
  else {
    local_2c0 = pCVar55;
    lVar51 = uVar37 * 0x40;
    auVar25[0xf] = 0;
    auVar25._0_15_ = stack0xfffffffffffffd99;
    _local_268 = auVar25 << 8;
    local_298 = (Transform3D *)0x0;
    local_2b0 = pRVar74 + lVar51 + 0x1260;
    do {
      if (pTVar38 <= local_298) {
        pTVar42 = (Transform3D *)(long)(int)local_298._0_4_;
LAB_0011f1d9:
        *(undefined8 *)(puVar60 + -8) = 1;
        *(undefined8 *)(puVar60 + -0x10) = 0;
        *(undefined **)(puVar60 + -0x18) = &_LC3;
        *(char **)(puVar60 + -0x20) = "count";
        puVar59 = puVar60;
        goto LAB_0011e30e;
      }
      puVar48 = *(uint **)(*(long *)(*(long *)(pRVar74 + 0x468) +
                                    ((ulong)local_298 >>
                                    ((byte)*(undefined4 *)(pRVar74 + 0x47c) & 0x3f)) * 8) +
                          (ulong)((uint)local_298._0_4_ & *(uint *)(pRVar74 + 0x480)) * 8);
      if ((((puVar48[0x38] & 4) != 0) && ((0xeU >> (*puVar48 & 0x1f) & 1) != 0)) &&
         (*(char *)(*(long *)(puVar48 + 0xa6) + 0x38) != '\0')) {
        uVar36 = puVar48[0x37];
        uVar82 = *(undefined8 *)(local_258 + 8);
        pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x90);
        *(undefined8 *)(puVar60 + -8) = 0x11f110;
        uVar35 = (*pcVar41)(RenderingServerGlobals::light_storage,uVar82);
        if ((param_8 & uVar36 & uVar35) != 0) {
          auVar61 = *(undefined1 (*) [8])(puVar48 + 0xa6);
          CVar31 = local_268[0];
          if (*(CullData *)((long)auVar61 + 0x39) != (CullData)0x0) {
            CVar31 = *(CullData *)((long)auVar61 + 0x39);
          }
          if (*(long *)(puVar48 + 10) != 0) {
            uVar82 = *(undefined8 *)(puVar48 + 10);
            pcVar41 = *(code **)(*RenderingServerGlobals::mesh_storage + 0xf0);
            *(undefined8 *)(puVar60 + -8) = 0x11f14d;
            (*pcVar41)(RenderingServerGlobals::mesh_storage,uVar82);
            auVar61 = *(undefined1 (*) [8])(puVar48 + 0xa6);
          }
          uVar101 = *(ulong *)(pRVar74 + lVar51 + 0x1288);
          uVar36 = (uint)uVar101 & *(uint *)(pRVar74 + lVar51 + 0x1280);
          if (uVar36 == 0) {
            uVar35 = 1;
            uVar36 = 0;
            if (uVar101 != 0) {
              iVar68 = (int)(uVar101 - 1 >>
                            ((byte)*(undefined4 *)(pRVar74 + uVar37 * 0x40 + 0x127c) & 0x3f));
              uVar36 = iVar68 + 1;
              uVar35 = iVar68 + 2;
            }
            if (uVar35 <= *(uint *)(pRVar74 + uVar37 * 0x40 + 0x1278)) {
LAB_0011f23d:
              plVar5 = *(long **)(pRVar74 + uVar37 * 0x40 + 0x1260);
              plVar39 = plVar5 + 4;
              while( true ) {
                uVar101 = (ulong)local_1d8 >> 8;
                local_1d8 = (char *)(uVar101 << 8);
                LOCK();
                bVar77 = (char)*plVar39 == '\0';
                if (bVar77) {
                  *(char *)plVar39 = '\x01';
                }
                UNLOCK();
                if (bVar77) break;
                local_1d8 = (char *)(uVar101 << 8);
                do {
                } while ((char)*plVar39 != '\0');
              }
              iVar68 = (int)plVar5[3];
              if (iVar68 == 0) {
                pvVar7 = (void *)*plVar5;
                local_2d8 = (RendererSceneCull *)CONCAT44(local_2d8._4_4_,uVar36);
                local_268._0_4_ = (int)plVar5[1];
                uVar36 = (int)plVar5[1] + 1;
                *(uint *)(plVar5 + 1) = uVar36;
                *(undefined8 *)(puVar60 + -8) = 0x11f302;
                local_2f8 = (CullData *)auVar61;
                lVar47 = Memory::realloc_static(pvVar7,(ulong)uVar36 * 8,false);
                uVar36 = *(uint *)(plVar5 + 1);
                pvVar7 = (void *)plVar5[2];
                *plVar5 = lVar47;
                *(undefined8 *)(puVar60 + -8) = 0x11f318;
                lVar47 = Memory::realloc_static(pvVar7,(ulong)uVar36 << 2,false);
                uVar36 = *(uint *)((long)plVar5 + 0x1c);
                plVar5[2] = lVar47;
                local_2e8 = (Transform3D *)(*plVar5 + (ulong)(uint)local_268._0_4_ * 8);
                *(undefined8 *)(puVar60 + -8) = 0x11f33f;
                uVar82 = Memory::alloc_static((ulong)uVar36 << 3,false);
                *(undefined8 *)local_2e8 = uVar82;
                puVar50 = (undefined4 *)plVar5[2];
                *puVar50 = local_268._0_4_;
                iVar68 = (int)plVar5[3] + 1;
                auVar61 = (undefined1  [8])local_2f8;
                uVar36 = (uint)local_2d8._0_4_;
              }
              else {
                puVar50 = (undefined4 *)plVar5[2];
              }
              *(uint *)(plVar5 + 3) = iVar68 - 1U;
              uVar35 = puVar50[iVar68 - 1U];
              uVar82 = *(undefined8 *)(*plVar5 + (ulong)uVar35 * 8);
              *(undefined1 *)(plVar5 + 4) = 0;
              lVar47 = *(long *)(pRVar74 + uVar37 * 0x40 + 0x1270);
              *(undefined8 *)(*(long *)(pRVar74 + uVar37 * 0x40 + 0x1268) + (ulong)uVar36 * 8) =
                   uVar82;
              *(uint *)(lVar47 + (ulong)uVar36 * 4) = uVar35;
              uVar101 = *(ulong *)(pRVar74 + lVar51 + 0x1288);
              uVar36 = *(uint *)(pRVar74 + lVar51 + 0x1280) & (uint)uVar101;
              goto LAB_0011f16d;
            }
            if (*(long *)(pRVar74 + uVar37 * 0x40 + 0x1260) != 0) {
              local_2e8 = (Transform3D *)CONCAT44(local_2e8._4_4_,uVar36);
              local_268 = auVar61;
              *(undefined8 *)(puVar60 + -8) = 0x11f3a3;
              PagedArray<RenderGeometryInstance*>::_grow_page_array
                        ((PagedArray<RenderGeometryInstance*> *)local_2b0);
              auVar61 = local_268;
              uVar36 = (uint)local_2e8._0_4_;
              goto LAB_0011f23d;
            }
            *(undefined8 *)(puVar60 + -8) = 0x11f4da;
            _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                             "Parameter \"page_pool\" is null.",0,0);
          }
          else {
LAB_0011f16d:
            *(undefined8 *)
             (*(long *)(*(long *)(pRVar74 + lVar51 + 0x1268) +
                       (uVar101 >> ((byte)*(undefined4 *)(pRVar74 + lVar51 + 0x127c) & 0x3f) &
                       0xffffffff) * 8) + (ulong)uVar36 * 8) = *(undefined8 *)((long)auVar61 + 8);
            *(ulong *)(pRVar74 + lVar51 + 0x1288) = uVar101 + 1;
          }
          local_268[0] = CVar31;
        }
        pTVar38 = *(Transform3D **)(pRVar74 + 0x488);
      }
      local_298 = local_298 + 1;
      pCVar55 = local_2c0;
    } while ((int)local_298 < (int)pTVar38);
  }
  pcVar41 = *(code **)(*RenderingServerGlobals::mesh_storage + 0x100);
  *(undefined8 *)(puVar60 + -8) = 0x11e5fb;
  (*pcVar41)();
  lVar51 = local_290;
  uVar82 = *(undefined8 *)(local_290 + 8);
  pcVar41 = *(code **)(*RenderingServerGlobals::light_storage + 0x160);
  local_e8 = 0;
  *(undefined8 *)(puVar60 + -8) = 0x11e656;
  (*pcVar41)(RenderingServerGlobals::light_storage,uVar82,local_280,local_278,0);
  pTVar38 = local_1e0;
  *(undefined8 *)(pRVar74 + uVar37 * 0x40 + 0x1250) = *(undefined8 *)(lVar51 + 8);
  *(undefined4 *)(pRVar74 + uVar37 * 0x40 + 0x1258) = 0;
  if (local_1e0 != (Transform3D *)0x0) {
    LOCK();
    pTVar42 = local_1e0 + -0x10;
    *(long *)pTVar42 = *(long *)pTVar42 + -1;
    UNLOCK();
    if (*(long *)pTVar42 == 0) {
      local_1e0 = (Transform3D *)0x0;
      *(undefined8 *)(puVar60 + -8) = 0x11e6a6;
      Memory::free_static(pTVar38 + -0x10,false);
    }
  }
  pTVar38 = local_1f0;
  if (local_1f0 != (Transform3D *)0x0) {
    LOCK();
    pTVar42 = local_1f0 + -0x10;
    *(long *)pTVar42 = *(long *)pTVar42 + -1;
    UNLOCK();
    if (*(long *)pTVar42 == 0) {
      local_1f0 = (Transform3D *)0x0;
      *(undefined8 *)(puVar60 + -8) = 0x11e6d7;
      Memory::free_static(pTVar38 + -0x10,false);
    }
  }
  *(undefined8 *)(puVar60 + -8) = 0x11e6e3;
  Projection::~Projection((Projection *)local_280);
LAB_0011e6e3:
  puVar59 = puVar60;
  if (local_268[0] != (CullData)0x0) {
LAB_0011e6ec:
    *(uint *)(pCVar55 + 0x60) = 2 - (uint)(byte)pCVar55[0x68];
  }
LAB_0011e6fc:
  pRVar73 = RenderingServerGlobals::utilities;
  if (RenderingServerGlobals::utilities[8] != (RendererSceneCull)0x0) {
    pcVar41 = *(code **)(*(long *)RenderingServerGlobals::utilities + 0x68);
    *(undefined8 *)(puVar59 + -8) = 0x11e734;
    itos((long)&local_1e8);
    *(undefined8 *)(puVar59 + -8) = 0x11e746;
    operator+((char *)&local_1d8,(String *)"< Render Light3D ");
    *(undefined8 *)(puVar59 + -8) = 0x11e74f;
    (*pcVar41)(pRVar73);
    pcVar62 = local_1d8;
    if (local_1d8 != (char *)0x0) {
      LOCK();
      plVar39 = (long *)(local_1d8 + -0x10);
      *plVar39 = *plVar39 + -1;
      UNLOCK();
      if (*plVar39 == 0) {
        local_1d8 = (char *)0x0;
        *(undefined8 *)(puVar59 + -8) = 0x11e780;
        Memory::free_static(pcVar62 + -0x10,false);
      }
    }
    lVar51 = local_1e8;
    if (local_1e8 != 0) {
      LOCK();
      plVar39 = (long *)(local_1e8 + -0x10);
      *plVar39 = *plVar39 + -1;
      UNLOCK();
      if (*plVar39 == 0) {
        local_1e8 = 0;
        *(undefined8 *)(puVar59 + -8) = 0x11e7b9;
        Memory::free_static((void *)(lVar51 + -0x10),false);
        pTVar38 = *(Transform3D **)(pRVar74 + 0x4e8);
        goto LAB_0011da21;
      }
    }
  }
LAB_0011da1a:
  pTVar38 = *(Transform3D **)(pRVar74 + 0x4e8);
LAB_0011da21:
  local_288 = local_288 + 1;
  if ((uint)pTVar38 <= (uint)local_288) goto LAB_0011da39;
  goto LAB_0011d275;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::render_camera(Ref<RenderSceneBuffers> const&, RID, RID, RID, Vector2, unsigned
   int, float, RID, Ref<XRInterface>&, RenderingMethod::RenderInfo*) */

undefined8
RendererSceneCull::render_camera
          (undefined8 param_1_00,RendererSceneCull *param_1,undefined8 param_3,ulong param_4,
          undefined8 param_5,undefined8 param_6,uint param_7,undefined8 param_8,long *param_9)

{
  Object *pOVar1;
  int *piVar2;
  float fVar3;
  undefined1 uVar4;
  long *plVar5;
  code *pcVar6;
  undefined1 auVar7 [16];
  int iVar8;
  Object *pOVar9;
  char cVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  ulong uVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  ulong uVar20;
  ulong uVar21;
  float *pfVar22;
  ulong uVar23;
  ulong extraout_RDX;
  RendererSceneCull *pRVar24;
  uint uVar25;
  ulong uVar26;
  long in_FS_OFFSET;
  bool bVar27;
  undefined1 auVar28 [16];
  float fVar29;
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  float fVar32;
  undefined1 auVar33 [16];
  float fVar34;
  float fVar35;
  undefined8 uStack_7c8;
  undefined8 uStack_7b8;
  long lStack_790;
  Object *pOStack_788;
  undefined8 uStack_780;
  undefined1 auStack_778 [8];
  float fStack_770;
  undefined1 auStack_76c [8];
  float fStack_764;
  Vector3 aVStack_760 [16];
  undefined1 auStack_750 [16];
  undefined4 uStack_740;
  undefined8 uStack_73c;
  undefined4 uStack_734;
  undefined8 uStack_730;
  undefined8 uStack_728;
  undefined8 uStack_720;
  undefined8 uStack_718;
  undefined8 uStack_710;
  undefined8 uStack_708;
  undefined8 uStack_700;
  undefined8 uStack_6f8;
  undefined8 uStack_6f0;
  undefined8 uStack_6e8;
  undefined8 uStack_6e0;
  undefined8 uStack_6d8;
  undefined8 uStack_6d0;
  undefined8 uStack_6c8;
  undefined8 uStack_6c0;
  undefined8 uStack_6b8;
  undefined8 uStack_6b0;
  undefined8 uStack_6a8;
  undefined8 uStack_6a0;
  undefined8 uStack_698;
  undefined8 uStack_690;
  undefined8 uStack_688;
  undefined8 uStack_680;
  float fStack_678;
  undefined1 auStack_670 [16];
  undefined1 auStack_660 [16];
  undefined4 uStack_650;
  undefined8 uStack_64c;
  undefined4 uStack_644;
  Projection aPStack_640 [64];
  undefined1 auStack_600 [16];
  undefined1 auStack_5f0 [16];
  undefined4 uStack_5e0;
  undefined8 uStack_5dc;
  undefined4 uStack_5d4;
  undefined1 auStack_5d0 [16];
  undefined1 auStack_5c0 [16];
  undefined4 uStack_5b0;
  undefined8 uStack_5ac;
  undefined4 uStack_5a4;
  Projection aPStack_5a0 [64];
  Projection aPStack_560 [64];
  undefined8 uStack_520;
  undefined4 uStack_518;
  undefined8 uStack_510;
  ulong local_508;
  undefined8 uStack_500;
  RendererSceneCull *local_4f8;
  ulong uStack_4f0;
  Projection *local_478;
  undefined8 local_428;
  undefined8 uStack_420;
  undefined8 local_418;
  undefined8 uStack_410;
  undefined8 local_408;
  undefined8 uStack_400;
  long local_3f0;
  char *local_3e8;
  undefined8 local_3e0;
  undefined8 local_3d0;
  undefined1 local_3c8 [48];
  Transform3D local_398 [48];
  undefined1 local_368 [48];
  Transform3D local_338 [96];
  ulong local_2d8;
  undefined8 uStack_2d0;
  undefined8 local_2c8;
  undefined8 uStack_2c0;
  undefined8 local_2b8;
  undefined8 uStack_2b0;
  undefined8 local_2a8;
  undefined8 uStack_2a0;
  undefined1 local_298 [16];
  undefined1 local_288 [16];
  undefined4 local_278;
  undefined4 uStack_274;
  undefined4 uStack_270;
  undefined4 uStack_26c;
  undefined1 local_268 [16];
  undefined1 local_258 [16];
  undefined4 local_248;
  undefined8 local_244;
  undefined4 local_23c;
  ulong local_238;
  undefined8 auStack_230 [4];
  undefined8 uStack_210;
  undefined8 local_208;
  undefined8 uStack_200;
  Projection local_1f8 [64];
  undefined1 local_1b8 [4];
  undefined1 local_1b4;
  undefined1 local_1a8 [16];
  undefined1 local_198 [16];
  undefined4 local_188;
  undefined8 local_184;
  undefined4 local_17c;
  Projection local_178 [64];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined4 local_118;
  undefined8 local_114;
  undefined4 local_10c;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined4 local_e8;
  undefined8 local_e4;
  undefined4 local_dc;
  Projection local_d8 [64];
  Projection local_98 [64];
  undefined8 local_58;
  undefined4 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_4 != 0) && ((uint)param_4 < *(uint *)(param_1 + 0x34))) {
    piVar2 = (int *)(*(long *)(*(long *)(param_1 + 0x20) +
                              ((param_4 & 0xffffffff) / (ulong)*(uint *)(param_1 + 0x30)) * 8) +
                    ((param_4 & 0xffffffff) % (ulong)*(uint *)(param_1 + 0x30)) * 0x78);
    if (piVar2[0x1c] == (int)(param_4 >> 0x20)) {
      local_3d0 = 0;
      uVar26 = CONCAT44(0,param_7);
      if (param_7 != 0) {
        uVar11 = *(uint *)(param_1 + 0x9830);
        uVar14 = (ulong)uVar11;
        if (param_7 != uVar11) {
          if (uVar11 <= param_7) {
            uVar25 = param_7 - 1;
            uVar21 = uVar14;
            if (*(uint *)(param_1 + 0x9834) < param_7) {
              pRVar24 = *(RendererSceneCull **)(param_1 + 0x9838);
              uVar12 = uVar25 >> 1 | uVar25;
              uVar12 = uVar12 | uVar12 >> 2;
              uVar12 = uVar12 | uVar12 >> 4;
              uVar12 = uVar12 | uVar12 >> 8;
              uVar12 = (uVar12 | uVar12 >> 0x10) + 1;
              *(uint *)(param_1 + 0x9834) = uVar12;
              uVar21 = (ulong)uVar12 * 8;
              lVar15 = Memory::realloc_static(pRVar24,uVar21,false);
              *(long *)(param_1 + 0x9838) = lVar15;
              if (lVar15 == 0) {
                LocalVector<Vector2,unsigned_int,false,false>::resize((uint)pRVar24);
                lVar15 = *(long *)(uVar21 + 0x208);
                lVar17 = *(long *)(uVar21 + 0x298);
                local_508 = *(long *)(in_FS_OFFSET + 0x28);
                local_4f8 = param_1;
                uStack_4f0 = uVar14;
                if (lVar15 == 0) {
                  _err_print_error("_render_reflection_probe_step",
                                   "servers/rendering/renderer_scene_cull.cpp",0xe2c,
                                   "Parameter \"scenario\" is null.",0,0);
LAB_0012382d:
                  uVar18 = 1;
                }
                else {
                  uVar11 = (uint)extraout_RDX;
                  RenderingServerDefault::changes._0_4_ = (int)RenderingServerDefault::changes + 1;
                  if (uVar11 == 0) {
                    cVar10 = (**(code **)(*RenderingServerGlobals::light_storage + 0x2b8))
                                       (RenderingServerGlobals::light_storage,
                                        *(undefined8 *)(lVar17 + 0x38),
                                        *(undefined8 *)(lVar15 + 0x138));
                    if (cVar10 == '\0') goto LAB_0012382d;
                  }
                  else {
                    cVar10 = (**(code **)(*RenderingServerGlobals::light_storage + 0x298))
                                       (RenderingServerGlobals::light_storage,
                                        *(undefined8 *)(lVar17 + 0x38));
                    plVar5 = RenderingServerGlobals::utilities;
                    if (cVar10 == '\0') goto LAB_0012382d;
                    if (5 < uVar11) {
                      if ((char)RenderingServerGlobals::utilities[1] != '\0') {
                        pcVar6 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
                        itos((long)&lStack_790);
                        operator+((char *)&pOStack_788,
                                  (String *)"Post-Process ReflectionProbe, Step ");
                        (*pcVar6)(plVar5);
                        pOVar9 = pOStack_788;
                        if (pOStack_788 != (Object *)0x0) {
                          LOCK();
                          pOVar1 = pOStack_788 + -0x10;
                          *(long *)pOVar1 = *(long *)pOVar1 + -1;
                          UNLOCK();
                          if (*(long *)pOVar1 == 0) {
                            pOStack_788 = (Object *)0x0;
                            Memory::free_static(pOVar9 + -0x10,false);
                          }
                        }
                        lVar15 = lStack_790;
                        if (lStack_790 != 0) {
                          LOCK();
                          plVar5 = (long *)(lStack_790 + -0x10);
                          *plVar5 = *plVar5 + -1;
                          UNLOCK();
                          if (*plVar5 == 0) {
                            lStack_790 = 0;
                            Memory::free_static((void *)(lVar15 + -0x10),false);
                          }
                        }
                      }
                      if (local_508 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00123293. Too many branches */
                    /* WARNING: Treating indirect jump as call */
                        uVar18 = (**(code **)(*RenderingServerGlobals::light_storage + 0x2c8))
                                           (RenderingServerGlobals::light_storage,
                                            *(undefined8 *)(lVar17 + 0x38));
                        return uVar18;
                      }
                      goto LAB_00123bc0;
                    }
                  }
                  if ((_render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals
                       == '\0') &&
                     (iVar13 = __cxa_guard_acquire(&
                                                  _render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                                  ::view_normals), iVar13 != 0)) {
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _0_8_ = __LC248;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _8_8_ = _UNK_00138db8;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _64_8_ = _LC251;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _16_8_ = __LC210;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _24_8_ = _UNK_00138da8;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _32_8_ = __LC265;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _40_8_ = _UNK_00138e18;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _48_8_ = __LC250;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals.
                    _56_8_ = _UNK_00138dd8;
                    __cxa_guard_release(&_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                         ::view_normals);
                  }
                  if ((_render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up ==
                       '\0') &&
                     (iVar13 = __cxa_guard_acquire(&
                                                  _render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                                  ::view_up), iVar13 != 0)) {
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._16_16_
                         = ZEXT416((uint)_LC233);
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._68_4_
                         = _UNK_00138df4;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._64_4_
                         = _LC233;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._0_8_ =
                         _LC251;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._8_8_ =
                         _UNK_00138de8;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._32_8_
                         = __LC248;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._40_8_
                         = _UNK_00138db8;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._48_8_
                         = _LC251;
                    _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._56_8_
                         = _UNK_00138de8;
                    __cxa_guard_release(&_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                         ::view_up);
                  }
                  _auStack_76c = (**(code **)(*RenderingServerGlobals::light_storage + 0x238))
                                           (RenderingServerGlobals::light_storage,
                                            *(undefined8 *)(uVar21 + 8));
                  _auStack_778 = (**(code **)(*RenderingServerGlobals::light_storage + 0x240))
                                           (RenderingServerGlobals::light_storage,
                                            *(undefined8 *)(uVar21 + 8));
                  fVar29 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x248))
                                            (RenderingServerGlobals::light_storage,
                                             *(undefined8 *)(uVar21 + 8));
                  (**(code **)(*RenderingServerGlobals::light_storage + 0x278))
                            (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar15 + 0x138));
                  (**(code **)(*RenderingServerGlobals::light_storage + 600))
                            (RenderingServerGlobals::light_storage,*(undefined8 *)(uVar21 + 8));
                  lVar16 = (long)(int)uVar11 * 0xc;
                  fVar34 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                      ::view_normals + lVar16 + 4);
                  fVar35 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                      ::view_normals + lVar16);
                  fVar3 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                     ::view_normals + lVar16 + 8);
                  fVar34 = ((float)auStack_76c._0_4_ * fVar35 * _LC131 * fVar35 +
                            (float)auStack_76c._4_4_ * fVar34 * _LC131 * fVar34 +
                           fStack_764 * fVar3 * _LC131 * fVar3) -
                           (fVar35 * (float)auStack_778._0_4_ + fVar34 * (float)auStack_778._4_4_ +
                           fVar3 * fStack_770);
                  if (fVar34 < 0.0) {
                    fVar34 = (float)((uint)fVar34 ^ _LC103);
                  }
                  if (fVar29 <= fVar34) {
                    fVar29 = fVar34;
                  }
                  Projection::Projection((Projection *)&uStack_700);
                  Projection::set_perspective(_LC246,_LC55,_LC266,fVar29,false);
                  aVStack_760 = (Vector3  [16])ZEXT416((uint)_LC55);
                  uStack_740 = 0x3f800000;
                  lVar16 = (long)(int)uVar11 * 0xc;
                  uStack_73c = 0;
                  uStack_734 = 0;
                  fStack_678 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                          ::view_normals + lVar16 + 8) + fStack_770;
                  uStack_680 = CONCAT44(SUB124(_auStack_778,4) +
                                        (float)((ulong)*(undefined8 *)
                                                        (
                                                  _render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                                  ::view_normals + lVar16) >> 0x20),
                                        SUB124(_auStack_778,0) +
                                        (float)*(undefined8 *)
                                                (_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                                 ::view_normals + lVar16));
                  auStack_750 = (undefined1  [16])aVStack_760;
                  Transform3D::set_look_at
                            (aVStack_760,(Vector3 *)auStack_778,(Vector3 *)&uStack_680,
                             (bool)((char)lVar16 + -0x60));
                  Transform3D::operator*((Transform3D *)&uStack_730,(Transform3D *)(uVar21 + 0x30));
                  uStack_7c8 = 0;
                  cVar10 = (**(code **)(*RenderingServerGlobals::light_storage + 0x250))
                                     (RenderingServerGlobals::light_storage,
                                      *(undefined8 *)(uVar21 + 8));
                  plVar5 = RenderingServerGlobals::utilities;
                  auStack_670 = ZEXT416((uint)_LC55);
                  if (cVar10 != '\0') {
                    uStack_7c8 = *(undefined8 *)(lVar15 + 0x130);
                  }
                  if (*(long *)(lVar15 + 0x110) == 0) {
                    uStack_7b8 = *(undefined8 *)(lVar15 + 0x118);
                  }
                  else {
                    uStack_7b8 = *(undefined8 *)(lVar15 + 0x110);
                  }
                  if ((char)RenderingServerGlobals::utilities[1] != '\0') {
                    pcVar6 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
                    itos((long)&lStack_790);
                    operator+((char *)&pOStack_788,(String *)"Render ReflectionProbe, Step ");
                    (*pcVar6)(plVar5);
                    pOVar9 = pOStack_788;
                    auStack_670 = ZEXT416((uint)_LC55);
                    if (pOStack_788 != (Object *)0x0) {
                      LOCK();
                      pOVar1 = pOStack_788 + -0x10;
                      *(long *)pOVar1 = *(long *)pOVar1 + -1;
                      UNLOCK();
                      if (*(long *)pOVar1 == 0) {
                        pOStack_788 = (Object *)0x0;
                        Memory::free_static(pOVar9 + -0x10,false);
                        auStack_670 = ZEXT416((uint)_LC55);
                      }
                    }
                    lVar16 = lStack_790;
                    if (lStack_790 != 0) {
                      LOCK();
                      plVar5 = (long *)(lStack_790 + -0x10);
                      *plVar5 = *plVar5 + -1;
                      UNLOCK();
                      if (*plVar5 == 0) {
                        lStack_790 = 0;
                        Memory::free_static((void *)(lVar16 + -0x10),false);
                        auStack_670 = ZEXT416((uint)_LC55);
                      }
                    }
                  }
                  uStack_650 = 0x3f800000;
                  uStack_64c = 0;
                  uStack_644 = 0;
                  auStack_660 = auStack_670;
                  Projection::Projection(aPStack_640);
                  auStack_600 = ZEXT416((uint)_LC55);
                  uStack_5e0 = 0x3f800000;
                  uStack_5dc = 0;
                  uStack_5d4 = 0;
                  uStack_5b0 = 0x3f800000;
                  uStack_5ac = 0;
                  uStack_5a4 = 0;
                  auStack_5f0 = auStack_600;
                  auStack_5d0 = auStack_600;
                  auStack_5c0 = auStack_600;
                  Projection::Projection(aPStack_5a0);
                  Projection::Projection(aPStack_560);
                  uStack_520 = 0;
                  uStack_518 = 0;
                  uStack_6c0 = uStack_700;
                  uStack_6b8 = uStack_6f8;
                  uStack_6b0 = uStack_6f0;
                  uStack_6a8 = uStack_6e8;
                  uStack_6a0 = uStack_6e0;
                  uStack_698 = uStack_6d8;
                  uStack_690 = uStack_6d0;
                  uStack_688 = uStack_6c8;
                  uStack_780 = 0;
                  RendererSceneRender::CameraData::set_camera
                            (0,(Vector3 *)&uStack_680,(Projection *)&uStack_6c0,0,0,0,&uStack_780,
                             uStack_730,uStack_728,uStack_720,uStack_718,uStack_710,uStack_708,
                             0xffffffffffffffff);
                  Projection::~Projection((Projection *)&uStack_6c0);
                  (**(code **)(*RenderingServerGlobals::light_storage + 0x2c0))
                            (&pOStack_788,RenderingServerGlobals::light_storage,
                             *(undefined8 *)(lVar15 + 0x138));
                  lVar15 = *(long *)(uVar21 + 0x208);
                  uVar18 = (**(code **)(*RenderingServerGlobals::light_storage + 0x228))
                                     (RenderingServerGlobals::light_storage,
                                      *(undefined8 *)(uVar21 + 8));
                  _render_scene(pRVar24,(Vector3 *)&uStack_680,&pOStack_788,uStack_7b8,0,0,uVar18,
                                *(undefined8 *)(lVar15 + 0x100),0,uStack_7c8,
                                *(undefined8 *)(lVar17 + 0x38),extraout_RDX & 0xffffffff,cVar10,0);
                  if (pOStack_788 != (Object *)0x0) {
                    cVar10 = RefCounted::unreference();
                    pOVar9 = pOStack_788;
                    if (cVar10 != '\0') {
                      cVar10 = predelete_handler(pOStack_788);
                      if (cVar10 != '\0') {
                        if (*(code **)(*(long *)pOVar9 + 0x140) ==
                            RenderSceneBuffersExtension::~RenderSceneBuffersExtension) {
                          bVar27 = StringName::configured != '\0';
                          *(code **)pOVar9 =
                               RendererSceneRender::environment_get_use_1d_color_correction;
                          if (bVar27) {
                            if (*(long *)(pOVar9 + 0x1e0) != 0) {
                              StringName::unref();
                              if (StringName::configured == '\0') goto LAB_00123b98;
                            }
                            if (*(long *)(pOVar9 + 0x1c8) != 0) {
                              StringName::unref();
                              if (StringName::configured == '\0') goto LAB_00123b98;
                            }
                            if (*(long *)(pOVar9 + 0x1b0) != 0) {
                              StringName::unref();
                              if (StringName::configured == '\0') goto LAB_00123b98;
                            }
                            if (*(long *)(pOVar9 + 0x198) != 0) {
                              StringName::unref();
                              if (StringName::configured == '\0') goto LAB_00123b98;
                            }
                            if (*(long *)(pOVar9 + 0x180) != 0) {
                              StringName::unref();
                            }
                          }
LAB_00123b98:
                          *(undefined ***)pOVar9 = &PTR__initialize_classv_00137dd8;
                          Object::~Object(pOVar9);
                        }
                        else {
                          (**(code **)(*(long *)pOVar9 + 0x140))(pOVar9);
                        }
                        Memory::free_static(pOVar9,false);
                      }
                    }
                  }
                  Projection::~Projection(aPStack_560);
                  Projection::~Projection(aPStack_5a0);
                  Projection::~Projection(aPStack_640);
                  Projection::~Projection((Projection *)&uStack_700);
                  uVar18 = 0;
                }
                if (local_508 == *(long *)(in_FS_OFFSET + 0x28)) {
                  return uVar18;
                }
LAB_00123bc0:
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              uVar21 = (ulong)*(uint *)(param_1 + 0x9830);
              if (*(uint *)(param_1 + 0x9830) < param_7) goto LAB_00122a89;
            }
            else {
LAB_00122a89:
              memset((void *)(*(long *)(param_1 + 0x9838) + uVar21 * 8),0,
                     (ulong)(uVar25 - (int)uVar21) * 8 + 8);
            }
            *(uint *)(param_1 + 0x9830) = param_7;
            fVar3 = _LC260;
            fVar35 = _LC55;
            fVar34 = _LC131;
            lVar15 = (ulong)uVar11 << 3;
            uVar21 = uVar26;
            if ((int)uVar11 < 1) goto LAB_00122ba3;
            while( true ) {
              uVar23 = (ulong)uVar11;
              fVar32 = 0.0;
              uVar20 = uVar14;
              fVar29 = fVar35;
              do {
                fVar29 = fVar29 * fVar34;
                uVar11 = (uint)uVar20;
                uVar25 = (int)uVar11 >> 1;
                uVar20 = (ulong)uVar25;
                fVar32 = fVar32 + (float)(uVar11 & 1) * fVar29;
              } while (uVar25 != 0);
              if (param_7 <= (uint)uVar14) break;
              pfVar22 = (float *)(*(long *)(param_1 + 0x9838) + lVar15);
              *pfVar22 = (fVar32 + fVar32) - fVar35;
              fVar32 = 0.0;
              fVar29 = fVar35;
              do {
                fVar29 = fVar29 / fVar3;
                uVar20 = uVar23 / 3;
                iVar13 = (int)uVar23;
                uVar23 = uVar23 / 3;
                fVar32 = fVar32 + (float)(iVar13 + (int)uVar20 * -3) * fVar29;
              } while (2 < iVar13);
              fVar29 = (fVar32 + fVar32) - fVar35;
              while( true ) {
                uVar11 = (int)uVar14 + 1;
                uVar14 = (ulong)uVar11;
                pfVar22[1] = fVar29;
                lVar15 = lVar15 + 8;
                if (param_7 <= uVar11) goto LAB_00122536;
                if (0 < (int)uVar11) break;
LAB_00122ba3:
                fVar29 = _LC233;
                if (param_7 <= (uint)uVar14) goto LAB_00122e30;
                pfVar22 = (float *)(*(long *)(param_1 + 0x9838) + lVar15);
                *pfVar22 = _LC233;
              }
            }
            goto LAB_00122e30;
          }
          *(uint *)(param_1 + 0x9830) = param_7;
        }
LAB_00122536:
        uVar14 = (**(code **)(*RenderingServerGlobals::rasterizer + 0x88))();
        uVar21 = (ulong)*(uint *)(param_1 + 0x9830);
        auVar31._8_8_ = 0;
        auVar31._0_8_ = uVar26;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar14;
        uVar14 = SUB168(auVar7 % auVar31,0);
        if (*(uint *)(param_1 + 0x9830) <= SUB164(auVar7 % auVar31,0)) {
LAB_00122e30:
          uStack_4f0 = 0x122e48;
          _err_print_index_error
                    ("operator[]","./core/templates/local_vector.h",0xb2,uVar14,uVar21,"p_index",
                     "count","",false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar6 = (code *)invalidInstructionException();
          (*pcVar6)();
        }
        auVar33._8_8_ = _LC187;
        auVar33._0_8_ = param_1_00;
        auVar30._8_8_ = 0;
        auVar30._0_8_ = *(ulong *)(*(long *)(param_1 + 0x9838) + uVar14 * 8);
        auVar31 = divps(auVar30,auVar33);
        local_3d0 = auVar31._0_8_;
        (**(code **)(*RenderingServerGlobals::rasterizer + 0x88))();
      }
      fVar34 = (float)param_1_00;
      local_188 = 0x3f800000;
      local_1a8 = ZEXT416((uint)_LC55);
      fVar35 = (float)((ulong)param_1_00 >> 0x20);
      local_184 = 0;
      local_17c = 0;
      local_198 = local_1a8;
      Projection::Projection(local_178);
      local_138 = ZEXT416((uint)_LC55);
      local_118 = 0x3f800000;
      local_114 = 0;
      local_10c = 0;
      local_e8 = 0x3f800000;
      local_e4 = 0;
      local_dc = 0;
      local_128 = local_138;
      local_108 = local_138;
      local_f8 = local_138;
      Projection::Projection(local_d8);
      Projection::Projection(local_98);
      local_58 = 0;
      local_50 = 0;
      if (*param_9 == 0) {
        local_2d8 = *(ulong *)(piVar2 + 0x10);
        uStack_2d0 = *(undefined8 *)(piVar2 + 0x12);
        local_2c8 = *(undefined8 *)(piVar2 + 0x14);
        uStack_2c0 = *(undefined8 *)(piVar2 + 0x16);
        local_2b8 = *(undefined8 *)(piVar2 + 0x18);
        uStack_2b0 = *(undefined8 *)(piVar2 + 0x1a);
        Projection::Projection((Projection *)local_298);
        iVar13 = *piVar2;
        iVar8 = piVar2[8];
        bVar27 = SUB81((Projection *)local_298,0);
        if (iVar13 == 1) {
          Projection::set_orthogonal
                    ((float)piVar2[4],fVar34 / fVar35,(float)piVar2[2],(float)piVar2[3],bVar27);
          uVar19 = 1;
          uVar18 = 0;
        }
        else if (iVar13 == 2) {
          Projection::set_frustum((Projection *)local_298,(char)iVar8);
          uVar19 = 0;
          uVar18 = 1;
        }
        else {
          if (iVar13 == 0) {
            Projection::set_perspective
                      ((float)piVar2[1],fVar34 / fVar35,(float)piVar2[2],(float)piVar2[3],bVar27);
          }
          uVar19 = 0;
          uVar18 = 0;
        }
        local_238 = local_298._0_8_;
        auStack_230[0] = local_298._8_8_;
        auStack_230[1] = local_288._0_8_;
        auStack_230[2] = local_288._8_8_;
        local_208 = local_268._0_8_;
        uStack_200 = local_268._8_8_;
        local_508 = local_2d8;
        uStack_500 = uStack_2d0;
        local_4f8 = (RendererSceneCull *)local_2c8;
        uStack_4f0 = uStack_2c0;
        uStack_510 = 0x122dbd;
        RendererSceneRender::CameraData::set_camera
                  (local_1b8,(Projection *)&local_238,uVar19,uVar18,(char)iVar8,&local_3d0);
        Projection::~Projection((Projection *)&local_238);
        Projection::~Projection((Projection *)local_298);
LAB_0012298f:
        uVar18 = _render_get_environment(param_1,param_4,param_5);
        uVar19 = _render_get_compositor(param_1,param_4,param_5);
        plVar5 = RenderingServerGlobals::utilities;
        if ((char)RenderingServerGlobals::utilities[1] != '\0') {
          local_3f0 = 0;
          local_3e0 = 0x17;
          pcVar6 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
          local_3e8 = "Update Occlusion Buffer";
          String::parse_latin1((StrRange *)&local_3f0);
          (*pcVar6)(plVar5);
          lVar15 = local_3f0;
          if (local_3f0 != 0) {
            LOCK();
            plVar5 = (long *)(local_3f0 + -0x10);
            *plVar5 = *plVar5 + -1;
            UNLOCK();
            if (*plVar5 == 0) {
              local_3f0 = 0;
              Memory::free_static((void *)(lVar15 + -0x10),false);
            }
          }
        }
        if (*(code **)(*RendererSceneOcclusionCull::singleton + 0x70) !=
            RendererSceneOcclusionCull::buffer_update) {
          (**(code **)(*RendererSceneOcclusionCull::singleton + 0x70))
                    (RendererSceneOcclusionCull::singleton,param_6,local_1a8,local_178,local_1b4);
        }
        uStack_4f0 = param_8;
        local_508 = (ulong)(uint)piVar2[7];
        uStack_510 = 0x122a22;
        uStack_500 = param_5;
        local_4f8 = (RendererSceneCull *)param_6;
        _render_scene(param_1,local_1b8,param_3,uVar18,*(undefined8 *)(piVar2 + 0xc),uVar19);
        Projection::~Projection(local_98);
        Projection::~Projection(local_d8);
        Projection::~Projection(local_178);
      }
      else {
        lVar15 = XRServer::get_singleton();
        local_298 = ZEXT416((uint)_LC55);
        local_278 = 0x3f800000;
        uStack_274 = 0;
        uStack_270 = 0;
        uStack_26c = 0;
        local_248 = 0x3f800000;
        local_244 = 0;
        local_23c = 0;
        local_288 = local_298;
        local_268 = local_298;
        local_258 = local_298;
        Projection::Projection((Projection *)&local_238);
        Projection::Projection(local_1f8);
        uVar11 = (**(code **)(*(long *)*param_9 + 0x1f0))();
        if (uVar11 - 1 < 2) {
          XRServer::get_world_origin();
          uVar26 = 0;
          do {
            uVar14 = uVar26 & 0xffffffff;
            lVar16 = uVar14 * 0x30;
            (**(code **)(*(long *)*param_9 + 0x1f8))
                      (&local_428,(long *)*param_9,uVar26 & 0xffffffff,local_3c8);
            plVar5 = (long *)*param_9;
            fVar3 = (float)piVar2[3];
            fVar29 = (float)piVar2[2];
            *(undefined8 *)(local_298 + lVar16) = local_428;
            *(undefined8 *)(local_298 + lVar16 + 8) = uStack_420;
            lVar17 = *plVar5;
            *(undefined8 *)(local_288 + lVar16) = local_418;
            *(undefined8 *)(local_288 + lVar16 + 8) = uStack_410;
            *(undefined8 *)(&local_278 + uVar14 * 0xc) = local_408;
            *(undefined8 *)(&uStack_270 + uVar14 * 0xc) = uStack_400;
            (**(code **)(lVar17 + 0x200))
                      ((double)(fVar34 / fVar35),(double)fVar29,(double)fVar3,
                       (Projection *)&local_2d8,plVar5,uVar26 & 0xffffffff);
            uVar14 = uVar26 + 1;
            lVar17 = uVar26 * 0x40;
            *(ulong *)((Projection *)&local_238 + lVar17) = local_2d8;
            auStack_230[uVar26 * 8] = uStack_2d0;
            auStack_230[uVar26 * 8 + 1] = local_2c8;
            auStack_230[uVar26 * 8 + 2] = uStack_2c0;
            auStack_230[uVar26 * 8 + 3] = local_2b8;
            *(undefined8 *)(local_1f8 + lVar17 + -0x18) = uStack_2b0;
            *(undefined8 *)(local_1f8 + lVar17 + -0x10) = local_2a8;
            *(undefined8 *)(local_1f8 + lVar17 + -8) = uStack_2a0;
            Projection::~Projection((Projection *)&local_2d8);
            uVar26 = uVar14;
          } while (uVar14 != uVar11);
          if (*(char *)(lVar15 + 0x228) == '\0') {
            uVar4 = (undefined1)piVar2[8];
            if (uVar11 == 1) goto LAB_00122e58;
LAB_0012294f:
            local_478 = (Projection *)local_298;
            RendererSceneRender::CameraData::set_multiview_camera
                      ((uint)local_1b8,(Transform3D *)0x2,local_478,
                       SUB81((Projection *)&local_238,0),false,false);
          }
          else {
            XRServer::get_reference_frame();
            Transform3D::affine_inverse();
            (**(code **)(*(long *)*param_9 + 0x1d8))(local_368);
            Transform3D::affine_inverse();
            Transform3D::operator*(local_398,local_338);
            Transform3D::operator*=((Transform3D *)local_298,local_398);
            if (uVar11 == 2) {
              Transform3D::operator*=((Transform3D *)local_268,local_398);
              goto LAB_0012294f;
            }
            uVar4 = (undefined1)piVar2[8];
LAB_00122e58:
            auVar28._4_12_ = SUB1612((undefined1  [16])0x0,4);
            auVar28._0_4_ = (float)param_7;
            local_2d8 = local_238;
            uStack_2d0 = auStack_230[0];
            local_2c8 = auStack_230[1];
            uStack_2c0 = auStack_230[2];
            local_2b8 = auStack_230[3];
            uStack_2b0 = uStack_210;
            local_2a8 = local_208;
            uStack_2a0 = uStack_200;
            local_508 = local_298._0_8_;
            uStack_500 = local_298._8_8_;
            local_4f8 = (RendererSceneCull *)local_288._0_8_;
            uStack_4f0 = local_288._8_8_;
            uStack_510 = 0x122f05;
            RendererSceneRender::CameraData::set_camera
                      (auVar28._0_8_,local_1b8,(Projection *)&local_2d8,0,0,uVar4,&local_3d0);
            Projection::~Projection((Projection *)&local_2d8);
          }
          Projection::~Projection(local_1f8);
          Projection::~Projection((Projection *)&local_238);
          goto LAB_0012298f;
        }
        _err_print_error("render_camera","servers/rendering/renderer_scene_cull.cpp",0xab2,
                         "Condition \"view_count == 0 || view_count > RendererSceneRender::MAX_RENDER_VIEWS\" is true."
                         ,"Requested view count is not supported",0);
        Projection::~Projection(local_1f8);
        Projection::~Projection((Projection *)&local_238);
        Projection::~Projection(local_98);
        Projection::~Projection(local_d8);
        Projection::~Projection(local_178);
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        return 0;
      }
      goto LAB_001231c2;
    }
    if (piVar2[0x1c] + 0x80000000U < 0x7fffffff) {
      _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                       "Method/function failed. Returning: nullptr",
                       "Attempting to use an uninitialized RID",0);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    uVar18 = _err_print_error("render_camera","servers/rendering/renderer_scene_cull.cpp",0xa6a,
                              "Parameter \"camera\" is null.",0,0);
    return uVar18;
  }
LAB_001231c2:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::_render_reflection_probe_step(RendererSceneCull::Instance*, int) */

undefined8 RendererSceneCull::_render_reflection_probe_step(Instance *param_1,int param_2)

{
  Object *pOVar1;
  long *plVar2;
  float fVar3;
  float fVar4;
  long lVar5;
  long lVar6;
  code *pcVar7;
  Object *pOVar8;
  char cVar9;
  int iVar10;
  undefined8 uVar11;
  long lVar12;
  uint in_EDX;
  undefined4 in_register_00000034;
  long lVar13;
  long in_FS_OFFSET;
  bool bVar14;
  float fVar15;
  float in_XMM1_Da;
  float fVar16;
  undefined8 local_300;
  undefined8 local_2f0;
  long local_2c8;
  Object *local_2c0;
  undefined8 local_2b8;
  undefined8 local_2b0;
  float local_2a8;
  undefined8 local_2a4;
  float local_29c;
  Vector3 local_298 [16];
  undefined1 local_288 [16];
  undefined4 local_278;
  undefined8 local_274;
  undefined4 local_26c;
  undefined8 local_268;
  undefined8 uStack_260;
  undefined8 local_258;
  undefined8 uStack_250;
  undefined8 local_248;
  undefined8 uStack_240;
  undefined8 local_238;
  undefined8 uStack_230;
  undefined8 local_228;
  undefined8 uStack_220;
  undefined8 local_218;
  undefined8 uStack_210;
  undefined8 local_208;
  undefined8 uStack_200;
  undefined8 local_1f8;
  undefined8 uStack_1f0;
  undefined8 local_1e8;
  undefined8 uStack_1e0;
  undefined8 local_1d8;
  undefined8 uStack_1d0;
  undefined8 local_1c8;
  undefined8 uStack_1c0;
  undefined8 local_1b8;
  float local_1b0;
  undefined1 local_1a8 [16];
  undefined1 local_198 [16];
  undefined4 local_188;
  undefined8 local_184;
  undefined4 local_17c;
  Projection local_178 [64];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined4 local_118;
  undefined8 local_114;
  undefined4 local_10c;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined4 local_e8;
  undefined8 local_e4;
  undefined4 local_dc;
  Projection local_d8 [64];
  Projection local_98 [64];
  undefined8 local_58;
  undefined4 local_50;
  long local_40;
  
  lVar13 = CONCAT44(in_register_00000034,param_2);
  lVar5 = *(long *)(lVar13 + 0x208);
  lVar6 = *(long *)(lVar13 + 0x298);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (lVar5 == 0) {
    _err_print_error("_render_reflection_probe_step","servers/rendering/renderer_scene_cull.cpp",
                     0xe2c,"Parameter \"scenario\" is null.",0,0);
LAB_0012382d:
    uVar11 = 1;
  }
  else {
    RenderingServerDefault::changes._0_4_ = (int)RenderingServerDefault::changes + 1;
    if (in_EDX == 0) {
      cVar9 = (**(code **)(*RenderingServerGlobals::light_storage + 0x2b8))
                        (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar6 + 0x38),
                         *(undefined8 *)(lVar5 + 0x138));
      if (cVar9 == '\0') goto LAB_0012382d;
    }
    else {
      cVar9 = (**(code **)(*RenderingServerGlobals::light_storage + 0x298))
                        (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar6 + 0x38));
      plVar2 = RenderingServerGlobals::utilities;
      if (cVar9 == '\0') goto LAB_0012382d;
      if (5 < in_EDX) {
        if ((char)RenderingServerGlobals::utilities[1] != '\0') {
          pcVar7 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
          itos((long)&local_2c8);
          operator+((char *)&local_2c0,(String *)"Post-Process ReflectionProbe, Step ");
          (*pcVar7)(plVar2);
          pOVar8 = local_2c0;
          if (local_2c0 != (Object *)0x0) {
            LOCK();
            pOVar1 = local_2c0 + -0x10;
            *(long *)pOVar1 = *(long *)pOVar1 + -1;
            UNLOCK();
            if (*(long *)pOVar1 == 0) {
              local_2c0 = (Object *)0x0;
              Memory::free_static(pOVar8 + -0x10,false);
            }
          }
          lVar5 = local_2c8;
          if (local_2c8 != 0) {
            LOCK();
            plVar2 = (long *)(local_2c8 + -0x10);
            *plVar2 = *plVar2 + -1;
            UNLOCK();
            if (*plVar2 == 0) {
              local_2c8 = 0;
              Memory::free_static((void *)(lVar5 + -0x10),false);
            }
          }
        }
        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00123293. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          uVar11 = (**(code **)(*RenderingServerGlobals::light_storage + 0x2c8))
                             (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar6 + 0x38));
          return uVar11;
        }
        goto LAB_00123bc0;
      }
    }
    if (_render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals == '\0') {
      iVar10 = __cxa_guard_acquire(&_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                    ::view_normals);
      if (iVar10 != 0) {
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._4_4_ =
             _UNK_00138db4;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._0_4_ =
             __LC248;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._12_4_ =
             _UNK_00138dbc;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._8_4_ =
             _UNK_00138db8;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._64_8_ =
             _LC251;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._16_8_ =
             __LC210;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._24_8_ =
             _UNK_00138da8;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._32_8_ =
             __LC265;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._40_8_ =
             _UNK_00138e18;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._48_8_ =
             __LC250;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals._56_8_ =
             _UNK_00138dd8;
        __cxa_guard_release(&_render_reflection_probe_step(RendererSceneCull::Instance*,int)::
                             view_normals);
      }
    }
    if (_render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up == '\0') {
      iVar10 = __cxa_guard_acquire(&_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                    ::view_up);
      if (iVar10 != 0) {
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._68_4_ =
             _UNK_00138df4;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._64_4_ = _LC233;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._16_16_ =
             ZEXT416(_LC233);
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._0_8_ = _LC251;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._8_8_ =
             _UNK_00138de8;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._32_4_ = __LC248;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._36_4_ =
             _UNK_00138db4;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._40_4_ =
             _UNK_00138db8;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._44_4_ =
             _UNK_00138dbc;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._48_8_ = _LC251;
        _render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_up._56_8_ =
             _UNK_00138de8;
        in_XMM1_Da = __LC248;
        __cxa_guard_release(&_render_reflection_probe_step(RendererSceneCull::Instance*,int)::
                             view_up);
      }
    }
    local_2a4 = (**(code **)(*RenderingServerGlobals::light_storage + 0x238))
                          (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar13 + 8));
    local_29c = in_XMM1_Da;
    local_2b0 = (**(code **)(*RenderingServerGlobals::light_storage + 0x240))
                          (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar13 + 8));
    local_2a8 = in_XMM1_Da;
    fVar15 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x248))
                              (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar13 + 8));
    (**(code **)(*RenderingServerGlobals::light_storage + 0x278))
              (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar5 + 0x138));
    (**(code **)(*RenderingServerGlobals::light_storage + 600))
              (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar13 + 8));
    lVar12 = (long)(int)in_EDX * 0xc;
    fVar16 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)::
                        view_normals + lVar12 + 4);
    fVar3 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals
                      + lVar12);
    fVar4 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)::view_normals
                      + lVar12 + 8);
    fVar16 = ((float)local_2a4 * fVar3 * _LC131 * fVar3 + local_2a4._4_4_ * fVar16 * _LC131 * fVar16
             + local_29c * fVar4 * _LC131 * fVar4) -
             (fVar3 * (float)local_2b0 + fVar16 * local_2b0._4_4_ + fVar4 * local_2a8);
    if (fVar16 < 0.0) {
      fVar16 = (float)((uint)fVar16 ^ _LC103);
    }
    if (fVar15 <= fVar16) {
      fVar15 = fVar16;
    }
    Projection::Projection((Projection *)&local_238);
    Projection::set_perspective(_LC246,_LC55,_LC266,fVar15,SUB81((Projection *)&local_238,0));
    local_298 = (Vector3  [16])ZEXT416((uint)_LC55);
    local_278 = 0x3f800000;
    lVar12 = (long)(int)in_EDX * 0xc;
    local_274 = 0;
    local_26c = 0;
    local_1b0 = *(float *)(_render_reflection_probe_step(RendererSceneCull::Instance*,int)::
                           view_normals + lVar12 + 8) + local_2a8;
    local_1b8 = CONCAT44((float)((ulong)local_2b0 >> 0x20) +
                         (float)((ulong)*(undefined8 *)
                                         (_render_reflection_probe_step(RendererSceneCull::Instance*,int)
                                          ::view_normals + lVar12) >> 0x20),
                         (float)local_2b0 +
                         (float)*(undefined8 *)
                                 (_render_reflection_probe_step(RendererSceneCull::Instance*,int)::
                                  view_normals + lVar12));
    local_288 = (undefined1  [16])local_298;
    Transform3D::set_look_at
              (local_298,(Vector3 *)&local_2b0,(Vector3 *)&local_1b8,(bool)((char)lVar12 + -0x60));
    Transform3D::operator*((Transform3D *)&local_268,(Transform3D *)(lVar13 + 0x30));
    local_300 = 0;
    cVar9 = (**(code **)(*RenderingServerGlobals::light_storage + 0x250))
                      (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar13 + 8));
    plVar2 = RenderingServerGlobals::utilities;
    local_1a8 = ZEXT416((uint)_LC55);
    if (cVar9 != '\0') {
      local_300 = *(undefined8 *)(lVar5 + 0x130);
    }
    if (*(long *)(lVar5 + 0x110) == 0) {
      local_2f0 = *(undefined8 *)(lVar5 + 0x118);
    }
    else {
      local_2f0 = *(undefined8 *)(lVar5 + 0x110);
    }
    if ((char)RenderingServerGlobals::utilities[1] != '\0') {
      pcVar7 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
      itos((long)&local_2c8);
      operator+((char *)&local_2c0,(String *)"Render ReflectionProbe, Step ");
      (*pcVar7)(plVar2);
      pOVar8 = local_2c0;
      local_1a8 = ZEXT416((uint)_LC55);
      if (local_2c0 != (Object *)0x0) {
        LOCK();
        pOVar1 = local_2c0 + -0x10;
        *(long *)pOVar1 = *(long *)pOVar1 + -1;
        UNLOCK();
        if (*(long *)pOVar1 == 0) {
          local_2c0 = (Object *)0x0;
          Memory::free_static(pOVar8 + -0x10,false);
          local_1a8 = ZEXT416((uint)_LC55);
        }
      }
      lVar12 = local_2c8;
      if (local_2c8 != 0) {
        LOCK();
        plVar2 = (long *)(local_2c8 + -0x10);
        *plVar2 = *plVar2 + -1;
        UNLOCK();
        if (*plVar2 == 0) {
          local_2c8 = 0;
          Memory::free_static((void *)(lVar12 + -0x10),false);
          local_1a8 = ZEXT416((uint)_LC55);
        }
      }
    }
    local_188 = 0x3f800000;
    local_184 = 0;
    local_17c = 0;
    local_198 = local_1a8;
    Projection::Projection(local_178);
    local_138 = ZEXT416((uint)_LC55);
    local_118 = 0x3f800000;
    local_114 = 0;
    local_10c = 0;
    local_e8 = 0x3f800000;
    local_e4 = 0;
    local_dc = 0;
    local_128 = local_138;
    local_108 = local_138;
    local_f8 = local_138;
    Projection::Projection(local_d8);
    Projection::Projection(local_98);
    local_58 = 0;
    local_50 = 0;
    local_1f8 = local_238;
    uStack_1f0 = uStack_230;
    local_1e8 = local_228;
    uStack_1e0 = uStack_220;
    local_1d8 = local_218;
    uStack_1d0 = uStack_210;
    local_1c8 = local_208;
    uStack_1c0 = uStack_200;
    local_2b8 = 0;
    RendererSceneRender::CameraData::set_camera
              (0,(Vector3 *)&local_1b8,(Projection *)&local_1f8,0,0,0,&local_2b8,local_268,
               uStack_260,local_258,uStack_250,local_248,uStack_240,0xffffffffffffffff);
    Projection::~Projection((Projection *)&local_1f8);
    (**(code **)(*RenderingServerGlobals::light_storage + 0x2c0))
              (&local_2c0,RenderingServerGlobals::light_storage,*(undefined8 *)(lVar5 + 0x138));
    lVar5 = *(long *)(lVar13 + 0x208);
    uVar11 = (**(code **)(*RenderingServerGlobals::light_storage + 0x228))
                       (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar13 + 8));
    _render_scene((RendererSceneCull *)param_1,(Vector3 *)&local_1b8,&local_2c0,local_2f0,0,0,uVar11
                  ,*(undefined8 *)(lVar5 + 0x100),0,local_300,*(undefined8 *)(lVar6 + 0x38),in_EDX,
                  cVar9,0);
    if (local_2c0 != (Object *)0x0) {
      cVar9 = RefCounted::unreference();
      pOVar8 = local_2c0;
      if (cVar9 != '\0') {
        cVar9 = predelete_handler(local_2c0);
        if (cVar9 != '\0') {
          if (*(code **)(*(long *)pOVar8 + 0x140) ==
              RenderSceneBuffersExtension::~RenderSceneBuffersExtension) {
            bVar14 = StringName::configured != '\0';
            *(code **)pOVar8 = RendererSceneRender::environment_get_use_1d_color_correction;
            if (bVar14) {
              if (*(long *)(pOVar8 + 0x1e0) != 0) {
                StringName::unref();
                if (StringName::configured == '\0') goto LAB_00123b98;
              }
              if (*(long *)(pOVar8 + 0x1c8) != 0) {
                StringName::unref();
                if (StringName::configured == '\0') goto LAB_00123b98;
              }
              if (*(long *)(pOVar8 + 0x1b0) != 0) {
                StringName::unref();
                if (StringName::configured == '\0') goto LAB_00123b98;
              }
              if (*(long *)(pOVar8 + 0x198) != 0) {
                StringName::unref();
                if (StringName::configured == '\0') goto LAB_00123b98;
              }
              if (*(long *)(pOVar8 + 0x180) != 0) {
                StringName::unref();
              }
            }
LAB_00123b98:
            *(undefined ***)pOVar8 = &PTR__initialize_classv_00137dd8;
            Object::~Object(pOVar8);
          }
          else {
            (**(code **)(*(long *)pOVar8 + 0x140))(pOVar8);
          }
          Memory::free_static(pOVar8,false);
        }
      }
    }
    Projection::~Projection(local_98);
    Projection::~Projection(local_d8);
    Projection::~Projection(local_178);
    Projection::~Projection((Projection *)&local_238);
    uVar11 = 0;
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar11;
  }
LAB_00123bc0:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* Vector<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::push_back(SelfList<RendererSceneCull::InstanceReflectionProbeData>*)
   [clone .isra.0] */

void __thiscall
Vector<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::push_back
          (Vector<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> *this,SelfList *param_1
          )

{
  int iVar1;
  long lVar2;
  long lVar3;
  
  if (*(long *)(this + 8) == 0) {
    lVar2 = 1;
  }
  else {
    lVar2 = *(long *)(*(long *)(this + 8) + -8) + 1;
  }
  iVar1 = CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::resize<false>
                    ((CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> *)
                     (this + 8),lVar2);
  if (iVar1 == 0) {
    if (*(long *)(this + 8) == 0) {
      lVar3 = -1;
      lVar2 = 0;
    }
    else {
      lVar2 = *(long *)(*(long *)(this + 8) + -8);
      lVar3 = lVar2 + -1;
      if (-1 < lVar3) {
        CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::_copy_on_write
                  ((CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> *)(this + 8))
        ;
        *(SelfList **)(*(long *)(this + 8) + lVar3 * 8) = param_1;
        return;
      }
    }
    _err_print_index_error
              ("set","./core/templates/cowdata.h",0xcf,lVar3,lVar2,"p_index","size()","",false,false
              );
    return;
  }
  _err_print_error("push_back","./core/templates/vector.h",0x142,
                   "Condition \"err\" is true. Returning: true",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::render_probes() */

void RendererSceneCull::render_probes(void)

{
  long *plVar1;
  CowData<RendererSceneCull::InstanceVoxelGIData::LightCache> *this;
  int *piVar2;
  undefined4 *puVar3;
  SelfList *pSVar4;
  long *plVar5;
  long lVar6;
  long *plVar7;
  code *pcVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  float fVar13;
  undefined4 uVar14;
  char cVar15;
  undefined1 uVar16;
  int iVar17;
  int iVar18;
  undefined4 uVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  ulong uVar23;
  long lVar24;
  uint *puVar25;
  undefined8 *puVar26;
  undefined8 *puVar27;
  ulong uVar28;
  long *plVar29;
  char *pcVar30;
  undefined8 *puVar31;
  long lVar32;
  Instance *in_RDI;
  uint uVar33;
  SelfList *pSVar34;
  byte bVar35;
  byte bVar36;
  long lVar37;
  long lVar38;
  int iVar39;
  long lVar40;
  long in_FS_OFFSET;
  bool bVar41;
  byte bVar42;
  float fVar43;
  undefined8 uVar44;
  undefined8 uVar45;
  undefined1 auVar46 [16];
  float in_XMM1_Da;
  float in_XMM1_Db;
  int local_1d0;
  long *local_190;
  long local_170;
  Vector<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> local_168 [8];
  undefined8 *local_160;
  char *local_158;
  undefined8 local_150;
  undefined8 local_148 [33];
  long local_40;
  
  plVar5 = RenderingServerGlobals::utilities;
  bVar42 = 0;
  pSVar34 = *(SelfList **)(in_RDI + 0x270);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_160 = (undefined8 *)0x0;
  if (pSVar34 == (SelfList *)0x0) {
    local_190 = *(long **)(in_RDI + 0x2d0);
    if (local_190 != (long *)0x0) {
      cVar15 = (char)RenderingServerGlobals::utilities[1];
joined_r0x00123e85:
      RenderingServerGlobals::utilities = plVar5;
      if (cVar15 != '\0') {
        pcVar8 = *(code **)(*plVar5 + 0x68);
        local_170 = 0;
        local_158 = "Render VoxelGI";
        local_150 = 0xe;
        String::parse_latin1((StrRange *)&local_170);
        (*pcVar8)(plVar5);
        lVar6 = local_170;
        if (local_170 != 0) {
          LOCK();
          plVar5 = (long *)(local_170 + -0x10);
          *plVar5 = *plVar5 + -1;
          UNLOCK();
          if (*plVar5 == 0) {
            local_170 = 0;
            Memory::free_static((void *)(lVar6 + -0x10),false);
          }
        }
      }
      do {
        plVar5 = (long *)local_190[2];
        lVar6 = local_190[1];
        lVar37 = *(long *)(lVar6 + 0x90);
        if (lVar37 == 0) {
          local_1d0 = 0;
        }
        else {
          local_1d0 = *(int *)(lVar37 + -8);
        }
        lVar40 = *(long *)(lVar6 + 0xa0);
        iVar17 = *(int *)(lVar6 + 0x84);
        if (iVar17 != 0) {
          lVar32 = *(long *)(lVar6 + 0x60);
          lVar38 = 0;
          iVar39 = 0;
          bVar36 = 0;
          do {
            lVar24 = *(long *)(lVar32 + lVar38 * 8);
            bVar35 = *(byte *)(lVar24 + 0xe0) >> 2;
            if ((bVar35 & 1) != 0) {
              if (((iVar39 < local_1d0) && (bVar36 == 0)) &&
                 (*(long *)(lVar40 + (long)iVar39 * 8) == *(long *)(*(long *)(lVar24 + 0x298) + 8)))
              {
                piVar2 = (int *)(lVar37 + (long)iVar39 * 0x68);
                iVar18 = piVar2[0x18];
                cVar15 = (**(code **)(*RenderingServerGlobals::light_storage + 0xe8))
                                   (RenderingServerGlobals::light_storage,
                                    *(undefined8 *)(lVar24 + 8));
                if (((((char)iVar18 != cVar15) ||
                     (iVar18 = *piVar2,
                     iVar20 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                                        (RenderingServerGlobals::light_storage,
                                         *(undefined8 *)(lVar24 + 8)), iVar18 != iVar20)) ||
                    ((cVar15 = Transform3D::operator!=
                                         ((Transform3D *)(piVar2 + 1),(Transform3D *)(lVar24 + 0x30)
                                         ), cVar15 != '\0' ||
                     ((uVar44 = (**(code **)(*RenderingServerGlobals::light_storage + 0x110))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8)),
                      (float)uVar44 != (float)piVar2[0xd] ||
                      ((float)((ulong)uVar44 >> 0x20) != (float)piVar2[0xe])))))) ||
                   ((in_XMM1_Da != (float)piVar2[0xf] || (in_XMM1_Db != (float)piVar2[0x10]))))
                goto LAB_0012480f;
                in_XMM1_Da = (float)piVar2[0x11];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8),0);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_0012480f;
                in_XMM1_Da = (float)piVar2[0x12];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8),0x14);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_0012480f;
                in_XMM1_Da = (float)piVar2[0x13];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8),1);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_0012480f;
                in_XMM1_Da = (float)piVar2[0x14];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8),4);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_0012480f;
                in_XMM1_Da = (float)piVar2[0x15];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8),6);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_0012480f;
                in_XMM1_Da = (float)piVar2[0x16];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8),7);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_0012480f;
                in_XMM1_Da = (float)piVar2[0x17];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar24 + 8),8);
                in_XMM1_Db = 0.0;
                bVar36 = 0;
                if (in_XMM1_Da != fVar43) goto LAB_0012480f;
              }
              else {
LAB_0012480f:
                bVar36 = bVar35 & 1;
              }
              iVar39 = iVar39 + 1;
            }
            if (iVar17 <= (int)lVar38 + 1) goto LAB_00123ee7;
            lVar38 = lVar38 + 1;
          } while( true );
        }
        iVar39 = 0;
        bVar36 = 0;
LAB_00123ee7:
        puVar27 = *(undefined8 **)(*(long *)(*(long *)(lVar6 + 8) + 0x208) + 0x108);
        if (puVar27 != (undefined8 *)0x0) {
          for (plVar7 = (long *)*puVar27; plVar7 != (long *)0x0; plVar7 = (long *)plVar7[1]) {
            lVar32 = *plVar7;
            bVar35 = *(byte *)(lVar32 + 0xe0) >> 2;
            if ((bVar35 & 1) != 0) {
              if (((iVar39 < local_1d0) && (bVar36 == 0)) &&
                 (*(long *)(lVar40 + (long)iVar39 * 8) == *(long *)(*(long *)(lVar32 + 0x298) + 8)))
              {
                piVar2 = (int *)(lVar37 + (long)iVar39 * 0x68);
                iVar17 = piVar2[0x18];
                cVar15 = (**(code **)(*RenderingServerGlobals::light_storage + 0xe8))
                                   (RenderingServerGlobals::light_storage,
                                    *(undefined8 *)(lVar32 + 8));
                if (((((char)iVar17 != cVar15) ||
                     (iVar17 = *piVar2,
                     iVar18 = (**(code **)(*RenderingServerGlobals::light_storage + 0xf8))
                                        (RenderingServerGlobals::light_storage,
                                         *(undefined8 *)(lVar32 + 8)), iVar17 != iVar18)) ||
                    (((cVar15 = Transform3D::operator!=
                                          ((Transform3D *)(piVar2 + 1),
                                           (Transform3D *)(lVar32 + 0x30)), cVar15 != '\0' ||
                      ((uVar44 = (**(code **)(*RenderingServerGlobals::light_storage + 0x110))
                                           (RenderingServerGlobals::light_storage,
                                            *(undefined8 *)(lVar32 + 8)),
                       (float)uVar44 != (float)piVar2[0xd] ||
                       ((float)((ulong)uVar44 >> 0x20) != (float)piVar2[0xe])))) ||
                     (in_XMM1_Da != (float)piVar2[0xf])))) || (in_XMM1_Db != (float)piVar2[0x10]))
                goto LAB_00123f22;
                in_XMM1_Da = (float)piVar2[0x11];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar32 + 8),0);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_00123f22;
                in_XMM1_Da = (float)piVar2[0x12];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar32 + 8),0x14);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_00123f22;
                in_XMM1_Da = (float)piVar2[0x13];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar32 + 8),1);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_00123f22;
                in_XMM1_Da = (float)piVar2[0x14];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar32 + 8),4);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_00123f22;
                in_XMM1_Da = (float)piVar2[0x15];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar32 + 8),6);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_00123f22;
                in_XMM1_Da = (float)piVar2[0x16];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar32 + 8),7);
                in_XMM1_Db = 0.0;
                if (in_XMM1_Da != fVar43) goto LAB_00123f22;
                in_XMM1_Da = (float)piVar2[0x17];
                fVar43 = (float)(**(code **)(*RenderingServerGlobals::light_storage + 0x108))
                                          (RenderingServerGlobals::light_storage,
                                           *(undefined8 *)(lVar32 + 8),8);
                in_XMM1_Db = 0.0;
                if ((in_XMM1_Da != fVar43) ||
                   (iVar17 = piVar2[0x19],
                   iVar18 = (**(code **)(*RenderingServerGlobals::light_storage + 0xd0))
                                      (RenderingServerGlobals::light_storage,
                                       *(undefined8 *)(lVar32 + 8)), iVar17 != iVar18))
                goto LAB_00123f22;
                bVar36 = 0;
              }
              else {
LAB_00123f22:
                bVar36 = bVar35 & 1;
              }
              iVar39 = iVar39 + 1;
            }
          }
        }
        if (iVar39 == local_1d0) {
          uVar16 = (**(code **)(**(long **)(in_RDI + 8) + 0x110))();
          if (bVar36 != 0) goto LAB_001242a8;
        }
        else {
          (**(code **)(**(long **)(in_RDI + 8) + 0x110))();
LAB_001242a8:
          this = (CowData<RendererSceneCull::InstanceVoxelGIData::LightCache> *)(lVar6 + 0x90);
          lVar37 = (long)iVar39;
          if (lVar37 < 0) {
            uVar44 = 0x157;
            pcVar30 = "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER";
LAB_0012538a:
            _err_print_error("resize","./core/templates/cowdata.h",uVar44,pcVar30,0,0);
            goto LAB_001252c4;
          }
          lVar40 = *(long *)(lVar6 + 0x90);
          if (lVar40 == 0) {
            if (lVar37 == 0) {
LAB_001253e5:
              CowData<RID>::resize<false>((CowData<RID> *)(lVar6 + 0xa0),0);
              goto LAB_0012523d;
            }
            lVar32 = 0;
            CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_copy_on_write(this);
LAB_0012525c:
            uVar28 = lVar37 * 0x68 - 1;
            uVar28 = uVar28 | uVar28 >> 1;
            uVar28 = uVar28 | uVar28 >> 2;
            uVar28 = uVar28 >> 4 | uVar28;
            uVar28 = uVar28 >> 8 | uVar28;
            uVar28 = uVar28 | uVar28 >> 0x10;
            lVar40 = (uVar28 >> 0x20 | uVar28) + 1;
            if (lVar32 < lVar37) {
LAB_00125312:
              if (lVar32 == 0) {
                puVar27 = (undefined8 *)Memory::alloc_static(lVar40 + 0x10,false);
                if (puVar27 == (undefined8 *)0x0) {
                  uVar44 = 0x171;
                  pcVar30 = "Parameter \"mem_new\" is null.";
                  goto LAB_0012538a;
                }
                puVar31 = puVar27 + 2;
                *puVar27 = 1;
                puVar27[1] = 0;
                *(undefined8 **)(lVar6 + 0x90) = puVar31;
                lVar40 = 0;
              }
              else {
                iVar17 = CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_realloc
                                   (this,lVar40);
                if (iVar17 != 0) goto LAB_001252c4;
LAB_00125194:
                puVar31 = *(undefined8 **)(lVar6 + 0x90);
                if (puVar31 == (undefined8 *)0x0) {
                  FUN_00129e42();
                  return;
                }
                lVar40 = puVar31[-1];
              }
              uVar14 = _UNK_00138dac;
              uVar19 = _UNK_00138da8;
              fVar13 = _UNK_00138da4;
              fVar43 = __LC210;
              uVar33 = _LC55;
              if (lVar40 < lVar37) {
                auVar46 = ZEXT416(_LC55);
                puVar27 = puVar31 + lVar40 * 0xd;
                do {
                  puVar27[5] = 0;
                  puVar26 = puVar27 + 0xd;
                  *(undefined1 (*) [16])((long)puVar27 + 4) = auVar46;
                  *(undefined1 (*) [16])((long)puVar27 + 0x14) = auVar46;
                  *(uint *)((long)puVar27 + 0x24) = uVar33;
                  *(undefined4 *)(puVar27 + 6) = 0;
                  *(float *)((long)puVar27 + 0x34) = fVar43;
                  *(float *)(puVar27 + 7) = fVar13;
                  *(undefined4 *)((long)puVar27 + 0x3c) = uVar19;
                  *(undefined4 *)(puVar27 + 8) = uVar14;
                  puVar27 = puVar26;
                  in_XMM1_Da = fVar43;
                  in_XMM1_Db = fVar13;
                } while (puVar26 != puVar31 + lVar37 * 0xd);
              }
              puVar31[-1] = lVar37;
              CowData<RID>::resize<false>((CowData<RID> *)(lVar6 + 0xa0),lVar37);
            }
            else {
LAB_001252b2:
              iVar17 = CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_realloc
                                 (this,lVar40);
              if (iVar17 == 0) goto LAB_001243a4;
LAB_001252c4:
              CowData<RID>::resize<false>((CowData<RID> *)(lVar6 + 0xa0),lVar37);
            }
LAB_001243ca:
            iVar39 = 0;
            CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_copy_on_write(this);
            lVar37 = *(long *)(lVar6 + 0x90);
            CowData<RID>::_copy_on_write((CowData<RID> *)(lVar6 + 0xa0));
            iVar17 = *(int *)(lVar6 + 0x84);
            lVar40 = *(long *)(lVar6 + 0xa0);
            if (iVar17 != 0) {
              plVar7 = *(long **)(lVar6 + 0x60);
              lVar38 = 0;
              lVar32 = *plVar7;
              if ((*(byte *)(lVar32 + 0xe0) & 4) == 0) goto LAB_001245a1;
              do {
                plVar29 = RenderingServerGlobals::light_storage;
                lVar24 = (long)iVar39;
                iVar39 = iVar39 + 1;
                puVar3 = (undefined4 *)(lVar37 + lVar24 * 0x68);
                *(undefined8 *)(lVar40 + lVar24 * 8) =
                     *(undefined8 *)(*(long *)(lVar32 + 0x298) + 8);
                uVar16 = (**(code **)(*plVar29 + 0xe8))(plVar29,*(undefined8 *)(lVar32 + 8));
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                *(undefined1 *)(puVar3 + 0x18) = uVar16;
                uVar19 = (**(code **)(*plVar29 + 0xf8))(plVar29,uVar44);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 0x30);
                uVar45 = *(undefined8 *)(lVar32 + 0x38);
                uVar9 = *(undefined8 *)(lVar32 + 0x40);
                uVar10 = *(undefined8 *)(lVar32 + 0x48);
                uVar11 = *(undefined8 *)(lVar32 + 0x50);
                uVar12 = *(undefined8 *)(lVar32 + 0x58);
                *puVar3 = uVar19;
                *(undefined8 *)(puVar3 + 1) = uVar44;
                *(undefined8 *)(puVar3 + 3) = uVar45;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                lVar24 = *plVar29;
                *(undefined8 *)(puVar3 + 5) = uVar9;
                *(undefined8 *)(puVar3 + 7) = uVar10;
                *(undefined8 *)(puVar3 + 9) = uVar11;
                *(undefined8 *)(puVar3 + 0xb) = uVar12;
                uVar45 = (**(code **)(lVar24 + 0x110))(plVar29,uVar44);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                *(ulong *)(puVar3 + 0xf) = CONCAT44(in_XMM1_Db,in_XMM1_Da);
                lVar24 = *plVar29;
                *(undefined8 *)(puVar3 + 0xd) = uVar45;
                uVar19 = (**(code **)(lVar24 + 0x108))(plVar29,uVar44,0);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                puVar3[0x11] = uVar19;
                uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,0x14);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                puVar3[0x12] = uVar19;
                uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,1);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                puVar3[0x13] = uVar19;
                uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,4);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                puVar3[0x14] = uVar19;
                uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,6);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                puVar3[0x15] = uVar19;
                uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,7);
                plVar29 = RenderingServerGlobals::light_storage;
                uVar44 = *(undefined8 *)(lVar32 + 8);
                puVar3[0x16] = uVar19;
                uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,8);
                puVar3[0x17] = uVar19;
LAB_001245a1:
                iVar18 = (int)lVar38 + 1;
                lVar24 = lVar38;
                while( true ) {
                  if (iVar17 <= iVar18) goto LAB_001245d8;
                  lVar38 = lVar24 + 1;
                  lVar32 = plVar7[lVar38];
                  if ((*(byte *)(lVar32 + 0xe0) & 4) != 0) break;
                  iVar18 = (int)lVar24 + 2;
                  lVar24 = lVar38;
                }
              } while( true );
            }
LAB_001245d8:
            puVar27 = *(undefined8 **)(*(long *)(*(long *)(lVar6 + 8) + 0x208) + 0x108);
            if (puVar27 != (undefined8 *)0x0) {
              plVar29 = RenderingServerGlobals::light_storage;
              for (plVar7 = (long *)*puVar27; RenderingServerGlobals::light_storage = plVar29,
                  plVar7 != (long *)0x0; plVar7 = (long *)plVar7[1]) {
                lVar32 = *plVar7;
                if ((*(byte *)(lVar32 + 0xe0) & 4) != 0) {
                  lVar38 = (long)iVar39;
                  iVar39 = iVar39 + 1;
                  puVar3 = (undefined4 *)(lVar37 + lVar38 * 0x68);
                  *(undefined8 *)(lVar40 + lVar38 * 8) =
                       *(undefined8 *)(*(long *)(lVar32 + 0x298) + 8);
                  uVar16 = (**(code **)(*plVar29 + 0xe8))(plVar29,*(undefined8 *)(lVar32 + 8));
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  *(undefined1 *)(puVar3 + 0x18) = uVar16;
                  uVar19 = (**(code **)(*plVar29 + 0xf8))(plVar29,uVar44);
                  plVar29 = RenderingServerGlobals::light_storage;
                  auVar46 = *(undefined1 (*) [16])(lVar32 + 0x30);
                  uVar45 = *(undefined8 *)(lVar32 + 0x40);
                  uVar9 = *(undefined8 *)(lVar32 + 0x48);
                  uVar10 = *(undefined8 *)(lVar32 + 0x50);
                  uVar11 = *(undefined8 *)(lVar32 + 0x58);
                  *puVar3 = uVar19;
                  *(undefined1 (*) [16])(puVar3 + 1) = auVar46;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  lVar38 = *plVar29;
                  *(undefined8 *)(puVar3 + 5) = uVar45;
                  *(undefined8 *)(puVar3 + 7) = uVar9;
                  *(undefined8 *)(puVar3 + 9) = uVar10;
                  *(undefined8 *)(puVar3 + 0xb) = uVar11;
                  uVar45 = (**(code **)(lVar38 + 0x110))(plVar29,uVar44);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  *(ulong *)(puVar3 + 0xf) = CONCAT44(in_XMM1_Db,in_XMM1_Da);
                  lVar38 = *plVar29;
                  *(undefined8 *)(puVar3 + 0xd) = uVar45;
                  uVar19 = (**(code **)(lVar38 + 0x108))(plVar29,uVar44,0);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  puVar3[0x11] = uVar19;
                  uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,0x14);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  puVar3[0x12] = uVar19;
                  uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,1);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  puVar3[0x13] = uVar19;
                  uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,4);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  puVar3[0x14] = uVar19;
                  uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,6);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  puVar3[0x15] = uVar19;
                  uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,7);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  puVar3[0x16] = uVar19;
                  uVar19 = (**(code **)(*plVar29 + 0x108))(plVar29,uVar44,8);
                  plVar29 = RenderingServerGlobals::light_storage;
                  uVar44 = *(undefined8 *)(lVar32 + 8);
                  puVar3[0x17] = uVar19;
                  uVar19 = (**(code **)(*plVar29 + 0xd0))(plVar29,uVar44);
                  puVar3[0x19] = uVar19;
                }
                plVar29 = RenderingServerGlobals::light_storage;
              }
            }
          }
          else {
            lVar32 = *(long *)(lVar40 + -8);
            if (lVar37 == lVar32) {
              CowData<RID>::resize<false>((CowData<RID> *)(lVar6 + 0xa0),lVar37);
              if (iVar39 != 0) goto LAB_001243ca;
            }
            else {
              if (lVar37 != 0) {
                CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_copy_on_write(this);
                uVar28 = lVar37 * 0x68 - 1;
                uVar28 = uVar28 >> 1 | uVar28;
                uVar28 = uVar28 >> 2 | uVar28;
                uVar28 = uVar28 >> 4 | uVar28;
                uVar28 = uVar28 >> 8 | uVar28;
                uVar28 = uVar28 >> 0x10 | uVar28;
                uVar28 = uVar28 >> 0x20 | uVar28;
                lVar40 = uVar28 + 1;
                if (lVar32 * 0x68 == 0) goto LAB_0012525c;
                uVar23 = lVar32 * 0x68 - 1;
                uVar23 = uVar23 | uVar23 >> 1;
                uVar23 = uVar23 | uVar23 >> 2;
                uVar23 = uVar23 | uVar23 >> 4;
                uVar23 = uVar23 | uVar23 >> 8;
                uVar23 = uVar23 | uVar23 >> 0x10;
                uVar23 = uVar23 | uVar23 >> 0x20;
                if (lVar32 < lVar37) {
                  if (uVar23 != uVar28) goto LAB_00125312;
                  goto LAB_00125194;
                }
                if (uVar23 != uVar28) goto LAB_001252b2;
LAB_001243a4:
                if (*(long *)(lVar6 + 0x90) == 0) {
                  _DAT_00000000 = 0;
                    /* WARNING: Does not return */
                  pcVar8 = (code *)invalidInstructionException();
                  (*pcVar8)();
                }
                *(long *)(*(long *)(lVar6 + 0x90) + -8) = lVar37;
                CowData<RID>::resize<false>((CowData<RID> *)(lVar6 + 0xa0),lVar37);
                goto LAB_001243ca;
              }
              LOCK();
              plVar7 = (long *)(lVar40 + -0x10);
              *plVar7 = *plVar7 + -1;
              UNLOCK();
              if (*plVar7 == 0) {
                lVar37 = *(long *)(lVar6 + 0x90);
                *(undefined8 *)(lVar6 + 0x90) = 0;
                Memory::free_static((void *)(lVar37 + -0x10),false);
                goto LAB_001253e5;
              }
              *(undefined8 *)(lVar6 + 0x90) = 0;
              CowData<RID>::resize<false>((CowData<RID> *)(lVar6 + 0xa0),0);
            }
          }
LAB_0012523d:
          uVar16 = 1;
        }
        if ((*(long *)(in_RDI + 0x4b8) != 0) &&
           (uVar28 = *(long *)(in_RDI + 0x4b8) - 1U >>
                     ((byte)*(undefined4 *)(in_RDI + 0x4ac) & 0x3f), (int)uVar28 != -1)) {
          lVar37 = 0;
          do {
            lVar40 = *(long *)(in_RDI + 0x490);
            uVar19 = *(undefined4 *)(*(long *)(in_RDI + 0x4a0) + lVar37);
            pcVar30 = (char *)(lVar40 + 0x20);
            while( true ) {
              uVar23 = (ulong)local_158 >> 8;
              local_158 = (char *)(uVar23 << 8);
              LOCK();
              cVar15 = *pcVar30;
              if (cVar15 == '\0') {
                *pcVar30 = '\x01';
              }
              UNLOCK();
              if (cVar15 == '\0') break;
              local_158 = (char *)(uVar23 << 8);
              do {
              } while (*pcVar30 != '\0');
            }
            lVar37 = lVar37 + 4;
            *(undefined4 *)(*(long *)(lVar40 + 0x10) + (ulong)*(uint *)(lVar40 + 0x18) * 4) = uVar19
            ;
            *(int *)(lVar40 + 0x18) = *(int *)(lVar40 + 0x18) + 1;
            *(undefined1 *)(lVar40 + 0x20) = 0;
          } while (lVar37 != (uVar28 & 0xffffffff) * 4 + 4);
        }
        *(undefined8 *)(in_RDI + 0x4b8) = 0;
        puVar27 = local_148;
        for (lVar37 = 0x20; lVar37 != 0; lVar37 = lVar37 + -1) {
          *puVar27 = 0;
          puVar27 = puVar27 + (ulong)bVar42 * -2 + 1;
        }
        iVar17 = *(int *)(lVar6 + 0x5c);
        if (iVar17 != 0) {
          plVar7 = *(long **)(lVar6 + 0x38);
          lVar40 = 0;
          lVar37 = *plVar7;
          if ((*(byte *)(lVar37 + 0xe0) & 4) == 0) goto LAB_00124cd0;
          do {
            lVar32 = *(long *)(lVar37 + 0x208);
            lVar38 = *(long *)(lVar37 + 0x298);
            if ((lVar32 != 0) && (uVar33 = *(uint *)(lVar37 + 0x1b0), -1 < (int)uVar33)) {
              uVar28 = *(ulong *)(lVar32 + 0x1f0);
              uVar23 = (ulong)(int)uVar33;
              if (uVar28 <= uVar23) {
LAB_00125168:
                _err_print_index_error
                          ("operator[]","./core/templates/paged_array.h",0xb0,uVar23,uVar28,
                           "p_index","count","",false,true);
                _err_flush_stdout();
                    /* WARNING: Does not return */
                pcVar8 = (code *)invalidInstructionException();
                (*pcVar8)();
              }
              if ((*(uint *)((ulong)(uVar33 & *(uint *)(lVar32 + 0x1e8)) * 0x30 +
                            *(long *)(*(long *)(lVar32 + 0x1d0) +
                                     (uVar23 >> ((byte)*(undefined4 *)(lVar32 + 0x1e4) & 0x3f)) * 8)
                            ) & 0x4000) != 0) {
                uVar33 = *(uint *)(lVar38 + 0xbc);
                uVar28 = (ulong)uVar33;
                if (uVar33 != 0) {
                  plVar29 = *(long **)(lVar38 + 0x98);
                  uVar44 = *(undefined8 *)(*(long *)(*plVar29 + 0x298) + 0xa8);
                  uVar28 = 1;
                  do {
                    local_148[0] = uVar44;
                    if ((int)uVar33 <= (int)uVar28) {
                      uVar28 = uVar28 & 0xffffffff;
                      goto LAB_00124e21;
                    }
                    local_148[uVar28] = *(undefined8 *)(*(long *)(plVar29[uVar28] + 0x298) + 0xa8);
                    uVar28 = uVar28 + 1;
                  } while (uVar28 != 0x20);
                  uVar28 = 0x20;
                }
LAB_00124e21:
                plVar29 = *(long **)(lVar38 + 8);
                if (plVar29 == (long *)0x0) {
                  _err_print_error("render_probes","servers/rendering/renderer_scene_cull.cpp",0xf69
                                   ,"Parameter \"geom->geometry_instance\" is null.",0,0);
                  goto LAB_00124235;
                }
                (**(code **)(*plVar29 + 0xd0))(plVar29,local_148,uVar28);
                lVar32 = *(long *)(lVar37 + 0x208);
                uVar23 = (ulong)(int)*(uint *)(lVar37 + 0x1b0);
                uVar28 = *(ulong *)(lVar32 + 0x1f0);
                if (uVar28 <= uVar23) goto LAB_00125168;
                puVar25 = (uint *)((ulong)(*(uint *)(lVar37 + 0x1b0) & *(uint *)(lVar32 + 0x1e8)) *
                                   0x30 + *(long *)(*(long *)(lVar32 + 0x1d0) +
                                                   (uVar23 >> ((byte)*(undefined4 *)(lVar32 + 0x1e4)
                                                              & 0x3f) & 0xffffffff) * 8));
                *puVar25 = *puVar25 & 0xffffbfff;
              }
            }
            lVar37 = *(long *)(lVar38 + 8);
            if (lVar37 == 0) {
              _err_print_error("render_probes","servers/rendering/renderer_scene_cull.cpp",0xf6f,
                               "Parameter \"geom->geometry_instance\" is null.",0,0);
              goto LAB_00124235;
            }
            uVar28 = *(ulong *)(in_RDI + 0x4b8);
            uVar33 = (uint)uVar28 & *(uint *)(in_RDI + 0x4b0);
            if (uVar33 == 0) {
              uVar21 = 1;
              uVar33 = 0;
              if (uVar28 != 0) {
                iVar39 = (int)(uVar28 - 1 >> ((byte)*(undefined4 *)(in_RDI + 0x4ac) & 0x3f));
                uVar33 = iVar39 + 1;
                uVar21 = iVar39 + 2;
              }
              uVar22 = *(uint *)(in_RDI + 0x4a8);
              plVar29 = *(long **)(in_RDI + 0x490);
              if (uVar21 <= uVar22) {
LAB_00124ee8:
                plVar1 = plVar29 + 4;
                while( true ) {
                  uVar28 = (ulong)local_158 >> 8;
                  local_158 = (char *)(uVar28 << 8);
                  LOCK();
                  bVar41 = (char)*plVar1 == '\0';
                  if (bVar41) {
                    *(char *)plVar1 = '\x01';
                  }
                  UNLOCK();
                  if (bVar41) break;
                  local_158 = (char *)(uVar28 << 8);
                  do {
                  } while ((char)*plVar1 != '\0');
                }
                if ((int)plVar29[3] == 0) {
                  uVar21 = *(uint *)(plVar29 + 1);
                  *(uint *)(plVar29 + 1) = uVar21 + 1;
                  lVar37 = Memory::realloc_static((void *)*plVar29,(ulong)(uVar21 + 1) * 8,false);
                  *plVar29 = lVar37;
                  lVar37 = Memory::realloc_static
                                     ((void *)plVar29[2],(ulong)*(uint *)(plVar29 + 1) << 2,false);
                  plVar29[2] = lVar37;
                  lVar37 = *plVar29;
                  uVar44 = Memory::alloc_static((ulong)*(uint *)((long)plVar29 + 0x1c) << 3,false);
                  *(undefined8 *)(lVar37 + (ulong)uVar21 * 8) = uVar44;
                  puVar25 = (uint *)plVar29[2];
                  *puVar25 = uVar21;
                  uVar21 = *(uint *)(plVar29 + 3);
                }
                else {
                  puVar25 = (uint *)plVar29[2];
                  uVar21 = (int)plVar29[3] - 1;
                }
                *(uint *)(plVar29 + 3) = uVar21;
                uVar21 = puVar25[uVar21];
                uVar44 = *(undefined8 *)(*plVar29 + (ulong)uVar21 * 8);
                *(char *)plVar1 = '\0';
                lVar32 = *(long *)(in_RDI + 0x498);
                uVar28 = *(ulong *)(in_RDI + 0x4b8);
                *(undefined8 *)(lVar32 + (ulong)uVar33 * 8) = uVar44;
                *(uint *)(*(long *)(in_RDI + 0x4a0) + (ulong)uVar33 * 4) = uVar21;
                lVar37 = *(long *)(lVar38 + 8);
                uVar33 = *(uint *)(in_RDI + 0x4b0) & (uint)uVar28;
                goto LAB_00124c8c;
              }
              if (plVar29 != (long *)0x0) {
                if (uVar22 == 0) {
                  uVar28 = 8;
                  uVar22 = 1;
                }
                else {
                  uVar22 = uVar22 * 2;
                  uVar28 = (ulong)uVar22 << 3;
                }
                *(uint *)(in_RDI + 0x4a8) = uVar22;
                uVar44 = Memory::realloc_static(*(void **)(in_RDI + 0x498),uVar28,false);
                *(undefined8 *)(in_RDI + 0x498) = uVar44;
                uVar44 = Memory::realloc_static
                                   (*(void **)(in_RDI + 0x4a0),(ulong)*(uint *)(in_RDI + 0x4a8) << 2
                                    ,false);
                *(undefined8 *)(in_RDI + 0x4a0) = uVar44;
                plVar29 = *(long **)(in_RDI + 0x490);
                goto LAB_00124ee8;
              }
              _err_print_error("push_back","./core/templates/paged_array.h",0xbf,
                               "Parameter \"page_pool\" is null.",0,0);
            }
            else {
              lVar32 = *(long *)(in_RDI + 0x498);
LAB_00124c8c:
              *(long *)(*(long *)(lVar32 + (uVar28 >> ((byte)*(undefined4 *)(in_RDI + 0x4ac) & 0x3f)
                                           & 0xffffffff) * 8) + (ulong)uVar33 * 8) = lVar37;
              *(ulong *)(in_RDI + 0x4b8) = uVar28 + 1;
            }
            iVar39 = (int)lVar40;
            while( true ) {
              if (iVar17 <= iVar39 + 1) goto LAB_00124ce2;
              lVar40 = lVar40 + 1;
              lVar37 = plVar7[lVar40];
              if ((*(byte *)(lVar37 + 0xe0) & 4) != 0) break;
LAB_00124cd0:
              iVar39 = (int)lVar40;
            }
          } while( true );
        }
LAB_00124ce2:
        (**(code **)(**(long **)(in_RDI + 8) + 0x118))
                  (*(long **)(in_RDI + 8),*(undefined8 *)(lVar6 + 0xa8),uVar16,lVar6 + 0x98);
        if ((Instance *)*local_190 == in_RDI + 0x2d0) {
          lVar6 = local_190[2];
          if (lVar6 != 0) {
            *(long *)(lVar6 + 0x18) = local_190[3];
          }
          lVar37 = local_190[3];
          if (lVar37 != 0) {
            *(long *)(lVar37 + 0x10) = lVar6;
          }
          if (*(long **)(in_RDI + 0x2d0) == local_190) {
            *(long *)(in_RDI + 0x2d0) = local_190[2];
          }
          if (*(long **)(in_RDI + 0x2d8) == local_190) {
            *(long *)(in_RDI + 0x2d8) = lVar37;
          }
          *local_190 = 0;
          *(undefined1 (*) [16])(local_190 + 2) = (undefined1  [16])0x0;
        }
        else {
          _err_print_error("remove","./core/templates/self_list.h",0x50,
                           "Condition \"p_elem->_root != this\" is true.",0,0);
        }
        local_190 = plVar5;
      } while (plVar5 != (long *)0x0);
      goto LAB_00124235;
    }
  }
  else {
    if ((char)RenderingServerGlobals::utilities[1] != '\0') {
      pcVar8 = *(code **)(*RenderingServerGlobals::utilities + 0x68);
      local_170 = 0;
      local_158 = "Render ReflectionProbes";
      local_150 = 0x17;
      String::parse_latin1((StrRange *)&local_170);
      (*pcVar8)(plVar5);
      lVar6 = local_170;
      if (local_170 != 0) {
        LOCK();
        plVar5 = (long *)(local_170 + -0x10);
        *plVar5 = *plVar5 + -1;
        UNLOCK();
        if (*plVar5 == 0) {
          local_170 = 0;
          Memory::free_static((void *)(lVar6 + -0x10),false);
        }
      }
    }
    bVar41 = false;
    do {
      pSVar4 = *(SelfList **)(pSVar34 + 0x10);
      iVar17 = (**(code **)(*RenderingServerGlobals::light_storage + 0x220))();
      if (iVar17 == 0) {
        if (!bVar41) {
          cVar15 = _render_reflection_probe_step
                             (in_RDI,(int)*(undefined8 *)(*(long *)(pSVar34 + 8) + 8));
          if (cVar15 == '\0') {
            *(int *)(*(long *)(pSVar34 + 8) + 0x60) = *(int *)(*(long *)(pSVar34 + 8) + 0x60) + 1;
          }
          else {
            Vector<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::push_back
                      (local_168,pSVar34);
          }
        }
        bVar41 = true;
      }
      else if (iVar17 == 1) {
        do {
          cVar15 = _render_reflection_probe_step
                             (in_RDI,(int)*(undefined8 *)(*(long *)(pSVar34 + 8) + 8));
        } while (cVar15 == '\0');
        Vector<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::push_back
                  (local_168,pSVar34);
      }
      pSVar34 = pSVar4;
    } while (pSVar4 != (SelfList *)0x0);
    CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::_copy_on_write
              ((CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> *)&local_160);
    puVar31 = local_160;
    CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::_copy_on_write
              ((CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> *)&local_160);
    puVar27 = local_160;
    if (local_160 != (undefined8 *)0x0) {
      puVar27 = local_160 + local_160[-1];
    }
    if (puVar31 != puVar27) {
      do {
        plVar5 = (long *)*puVar31;
        if ((Instance *)*plVar5 == in_RDI + 0x270) {
          lVar6 = plVar5[2];
          if (lVar6 != 0) {
            *(long *)(lVar6 + 0x18) = plVar5[3];
          }
          lVar37 = plVar5[3];
          if (lVar37 != 0) {
            *(long *)(lVar37 + 0x10) = lVar6;
          }
          if (plVar5 == *(long **)(in_RDI + 0x270)) {
            *(long *)(in_RDI + 0x270) = plVar5[2];
            plVar7 = *(long **)(in_RDI + 0x278);
          }
          else {
            plVar7 = *(long **)(in_RDI + 0x278);
          }
          if (plVar5 == plVar7) {
            *(long *)(in_RDI + 0x278) = lVar37;
          }
          *plVar5 = 0;
          *(undefined1 (*) [16])(plVar5 + 2) = (undefined1  [16])0x0;
        }
        else {
          _err_print_error("remove","./core/templates/self_list.h",0x50,
                           "Condition \"p_elem->_root != this\" is true.",0,0);
        }
        puVar31 = puVar31 + 1;
      } while (puVar27 != puVar31);
    }
    local_190 = *(long **)(in_RDI + 0x2d0);
    if (local_190 != (long *)0x0) {
      cVar15 = (char)RenderingServerGlobals::utilities[1];
      plVar5 = RenderingServerGlobals::utilities;
      goto joined_r0x00123e85;
    }
LAB_00124235:
    if (local_160 != (undefined8 *)0x0) {
      LOCK();
      plVar5 = local_160 + -2;
      *plVar5 = *plVar5 + -1;
      UNLOCK();
      if (*plVar5 == 0) {
        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
          Memory::free_static(local_160 + -2,false);
          return;
        }
        goto LAB_0012556b;
      }
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0012556b:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::free(RID) */

undefined4 __thiscall RendererSceneCull::free(RendererSceneCull *this,ulong param_2)

{
  char *pcVar1;
  uint uVar2;
  long lVar3;
  char cVar4;
  undefined4 uVar5;
  int iVar6;
  uint uVar7;
  ulong uVar8;
  code *pcVar9;
  uint uVar10;
  ulong uVar11;
  Scenario *this_00;
  Instance *this_01;
  long lVar12;
  pthread_mutex_t *ppVar13;
  long lVar14;
  long in_FS_OFFSET;
  undefined8 local_58;
  undefined8 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_2 != 0) && (uVar5 = (**(code **)(**(long **)(this + 8) + 400))(), (char)uVar5 == '\0'))
  {
    ppVar13 = (pthread_mutex_t *)(this + 0x48);
    iVar6 = pthread_mutex_lock(ppVar13);
    if (iVar6 != 0) goto LAB_00126000;
    uVar10 = (uint)param_2;
    uVar11 = param_2 & 0xffffffff;
    uVar7 = (uint)(param_2 >> 0x20);
    if (uVar10 < *(uint *)(this + 0x34)) {
      if ((param_2 >> 0x20 == 0x7fffffff) ||
         (uVar7 != (*(uint *)(*(long *)(*(long *)(this + 0x20) +
                                       ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8)
                              + ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78 +
                             0x70) & 0x7fffffff))) {
        pthread_mutex_unlock(ppVar13);
        goto LAB_001256ed;
      }
      pthread_mutex_unlock(ppVar13);
      iVar6 = pthread_mutex_lock(ppVar13);
      if (iVar6 != 0) goto LAB_00126000;
      if (uVar10 < *(uint *)(this + 0x34)) {
        lVar14 = *(long *)(*(long *)(this + 0x20) +
                          ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x30)) * 8) +
                 ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x30)) * 0x78;
        uVar2 = *(uint *)(lVar14 + 0x70);
        if ((int)uVar2 < 0) {
LAB_00125dd9:
          pthread_mutex_unlock(ppVar13);
          _err_print_error(&_LC274,"./core/templates/rid_owner.h",0x16c,"Method/function failed.",
                           "Attempted to free an uninitialized or invalid RID",0,0);
        }
        else if (uVar7 == uVar2) {
          *(undefined4 *)(lVar14 + 0x70) = 0xffffffff;
          lVar12 = *(long *)(this + 0x28);
          uVar7 = *(int *)(this + 0x38) - 1;
          *(uint *)(this + 0x38) = uVar7;
          uVar11 = (ulong)uVar7 / (ulong)*(uint *)(this + 0x30);
          uVar7 = uVar7 % *(uint *)(this + 0x30);
LAB_001256c2:
          *(uint *)(*(long *)(lVar12 + uVar11 * 8) + (ulong)uVar7 * 4) = uVar10;
          pthread_mutex_unlock(ppVar13);
        }
        else {
LAB_00125da7:
          pthread_mutex_unlock(ppVar13);
          _err_print_error(&_LC274,"./core/templates/rid_owner.h",0x171,"Method/function failed.",0,
                           0);
        }
      }
      else {
LAB_00125e17:
        pthread_mutex_unlock(ppVar13);
        _err_print_error(&_LC274,"./core/templates/rid_owner.h",0x161,"Method/function failed.",0,0)
        ;
      }
    }
    else {
      pthread_mutex_unlock(ppVar13);
LAB_001256ed:
      ppVar13 = (pthread_mutex_t *)(this + 0x1d0);
      iVar6 = pthread_mutex_lock(ppVar13);
      if (iVar6 != 0) {
LAB_00126000:
                    /* WARNING: Subroutine does not return */
        std::__throw_system_error(iVar6);
      }
      if (((uVar10 < *(uint *)(this + 0x1bc)) && (param_2 >> 0x20 != 0x7fffffff)) &&
         (uVar7 == (*(uint *)(*(long *)(*(long *)(this + 0x1a8) +
                                       (uVar11 / *(uint *)(this + 0x1b8)) * 8) +
                              (uVar11 % (ulong)*(uint *)(this + 0x1b8)) * 0x248 + 0x240) &
                   0x7fffffff))) {
        pthread_mutex_unlock(ppVar13);
        if (*(uint *)(this + 0x1bc) <= uVar10) {
LAB_00125efd:
                    /* WARNING: Does not return */
          pcVar9 = (code *)invalidInstructionException();
          (*pcVar9)();
        }
        lVar14 = *(long *)(*(long *)(this + 0x1a8) +
                          ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x1b8)) * 8) +
                 ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
        uVar2 = *(uint *)(lVar14 + 0x240);
        if (uVar7 != uVar2) {
          if (uVar2 + 0x80000000 < 0x7fffffff) {
            _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                             "Method/function failed. Returning: nullptr",
                             "Attempting to use an uninitialized RID",0,0);
          }
          goto LAB_00125efd;
        }
        while (*(long *)(lVar14 + 0x178) != 0) {
          (**(code **)(*(long *)this + 0xe8))
                    (this,*(undefined8 *)(*(long *)(*(long *)(lVar14 + 0x178) + 8) + 0x1a0),0);
        }
        if ((*(long *)(lVar14 + 0x1c0) != 0) &&
           (uVar8 = *(long *)(lVar14 + 0x1c0) - 1U >> ((byte)*(undefined4 *)(lVar14 + 0x1b4) & 0x3f)
           , (int)uVar8 != -1)) {
          lVar12 = 0;
          do {
            lVar3 = *(long *)(lVar14 + 0x198);
            uVar5 = *(undefined4 *)(*(long *)(lVar14 + 0x1a8) + lVar12);
            pcVar1 = (char *)(lVar3 + 0x20);
            while( true ) {
              LOCK();
              cVar4 = *pcVar1;
              if (cVar4 == '\0') {
                *pcVar1 = '\x01';
              }
              UNLOCK();
              if (cVar4 == '\0') break;
              do {
              } while (*pcVar1 != '\0');
            }
            lVar12 = lVar12 + 4;
            *(undefined4 *)(*(long *)(lVar3 + 0x10) + (ulong)*(uint *)(lVar3 + 0x18) * 4) = uVar5;
            *(int *)(lVar3 + 0x18) = *(int *)(lVar3 + 0x18) + 1;
            *(undefined1 *)(lVar3 + 0x20) = 0;
          } while (lVar12 != (uVar8 & 0xffffffff) * 4 + 4);
        }
        *(undefined8 *)(lVar14 + 0x1c0) = 0;
        if (*(void **)(lVar14 + 0x1a0) != (void *)0x0) {
          Memory::free_static(*(void **)(lVar14 + 0x1a0),false);
          Memory::free_static(*(void **)(lVar14 + 0x1a8),false);
          *(undefined4 *)(lVar14 + 0x1b0) = 0;
          *(undefined1 (*) [16])(lVar14 + 0x1a0) = (undefined1  [16])0x0;
        }
        if ((*(long *)(lVar14 + 0x1f0) != 0) &&
           (uVar8 = *(long *)(lVar14 + 0x1f0) - 1U >> ((byte)*(undefined4 *)(lVar14 + 0x1e4) & 0x3f)
           , (int)uVar8 != -1)) {
          lVar12 = 0;
          do {
            lVar3 = *(long *)(lVar14 + 0x1c8);
            uVar5 = *(undefined4 *)(*(long *)(lVar14 + 0x1d8) + lVar12);
            pcVar1 = (char *)(lVar3 + 0x20);
            while( true ) {
              LOCK();
              cVar4 = *pcVar1;
              if (cVar4 == '\0') {
                *pcVar1 = '\x01';
              }
              UNLOCK();
              if (cVar4 == '\0') break;
              do {
              } while (*pcVar1 != '\0');
            }
            lVar12 = lVar12 + 4;
            *(undefined4 *)(*(long *)(lVar3 + 0x10) + (ulong)*(uint *)(lVar3 + 0x18) * 4) = uVar5;
            *(int *)(lVar3 + 0x18) = *(int *)(lVar3 + 0x18) + 1;
            *(undefined1 *)(lVar3 + 0x20) = 0;
          } while (lVar12 != (uVar8 & 0xffffffff) * 4 + 4);
        }
        *(undefined8 *)(lVar14 + 0x1f0) = 0;
        if (*(void **)(lVar14 + 0x1d0) != (void *)0x0) {
          Memory::free_static(*(void **)(lVar14 + 0x1d0),false);
          Memory::free_static(*(void **)(lVar14 + 0x1d8),false);
          *(undefined4 *)(lVar14 + 0x1e0) = 0;
          *(undefined1 (*) [16])(lVar14 + 0x1d0) = (undefined1  [16])0x0;
        }
        BinSortedArray<RendererSceneCull::InstanceVisibilityData>::reset
                  ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)(lVar14 + 0x1f8));
        (**(code **)(*RenderingServerGlobals::light_storage + 0x390))
                  (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar14 + 0x130));
        (**(code **)(*RenderingServerGlobals::light_storage + 0x268))
                  (RenderingServerGlobals::light_storage,*(undefined8 *)(lVar14 + 0x138));
        iVar6 = pthread_mutex_lock(ppVar13);
        if (iVar6 != 0) goto LAB_00126000;
        if (uVar10 < *(uint *)(this + 0x1bc)) {
          uVar8 = uVar11 / *(uint *)(this + 0x1b8);
          lVar14 = (uVar11 % (ulong)*(uint *)(this + 0x1b8)) * 0x248;
          this_00 = (Scenario *)(*(long *)(*(long *)(this + 0x1a8) + uVar8 * 8) + lVar14);
          uVar7 = *(uint *)(this_00 + 0x240);
          if ((int)uVar7 < 0) {
            pthread_mutex_unlock(ppVar13);
            _err_print_error(&_LC274,"./core/templates/rid_owner.h",0x16c,"Method/function failed.",
                             "Attempted to free an uninitialized or invalid RID",0,0);
          }
          else if (uVar2 == uVar7) {
            Scenario::~Scenario(this_00);
            lVar12 = *(long *)(this + 0x1b0);
            *(undefined4 *)(*(long *)(*(long *)(this + 0x1a8) + uVar8 * 8) + 0x240 + lVar14) =
                 0xffffffff;
            uVar7 = *(int *)(this + 0x1c0) - 1;
            *(uint *)(this + 0x1c0) = uVar7;
            *(uint *)(*(long *)(lVar12 + ((ulong)uVar7 / (ulong)*(uint *)(this + 0x1b8)) * 8) +
                     ((ulong)uVar7 % (ulong)*(uint *)(this + 0x1b8)) * 4) = uVar10;
            pthread_mutex_unlock(ppVar13);
          }
          else {
            pthread_mutex_unlock(ppVar13);
            _err_print_error(&_LC274,"./core/templates/rid_owner.h",0x171,"Method/function failed.",
                             0,0);
          }
        }
        else {
          pthread_mutex_unlock(ppVar13);
          _err_print_error(&_LC274,"./core/templates/rid_owner.h",0x161,"Method/function failed.",0,
                           0);
        }
        pcVar9 = *(code **)(*RendererSceneOcclusionCull::singleton + 0x30);
        if (pcVar9 != RendererSceneOcclusionCull::remove_scenario) goto LAB_00125b5c;
      }
      else {
        pthread_mutex_unlock(ppVar13);
        if (((RendererSceneOcclusionCull::singleton == (long *)0x0) ||
            (*(code **)*RendererSceneOcclusionCull::singleton ==
             RendererSceneOcclusionCull::is_occluder)) ||
           (cVar4 = (**(code **)*RendererSceneOcclusionCull::singleton)
                              (RendererSceneOcclusionCull::singleton,param_2), cVar4 == '\0')) {
          ppVar13 = (pthread_mutex_t *)(this + 0x9800);
          iVar6 = pthread_mutex_lock(ppVar13);
          if (iVar6 != 0) goto LAB_00126000;
          if (*(uint *)(this + 0x97ec) <= uVar10) {
            pthread_mutex_unlock(ppVar13);
            goto LAB_001257f1;
          }
          if ((param_2 >> 0x20 == 0x7fffffff) ||
             (uVar7 != (*(uint *)((uVar11 % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                                  *(long *)(*(long *)(this + 0x97d8) +
                                           (uVar11 / *(uint *)(this + 0x97e8)) * 8) + 0x300) &
                       0x7fffffff))) {
            pthread_mutex_unlock(ppVar13);
            goto LAB_001257f1;
          }
          pthread_mutex_unlock(ppVar13);
          update_dirty_instances(this);
          if (*(uint *)(this + 0x97ec) <= uVar10) {
LAB_00125f5a:
            InterpolationData::notify_free_instance((InterpolationData *)(this + 0xb550),param_2,0);
            local_58 = 0;
            local_50 = 0;
            (**(code **)(*(long *)this + 0x1a8))(this,param_2,0,&local_58,0);
            (**(code **)(*(long *)this + 0xe8))(this,param_2,0);
            (**(code **)(*(long *)this + 0xe0))(this,param_2,0);
            (**(code **)(*(long *)this + 400))(this,param_2,0);
            (**(code **)(*(long *)this + 0x198))(this,param_2,0);
            (**(code **)(*(long *)this + 0x148))(this,param_2,0);
            InstanceUniforms::free(0x168,_DAT_000001a0);
                    /* WARNING: Does not return */
            pcVar9 = (code *)invalidInstructionException();
            (*pcVar9)();
          }
          lVar14 = (uVar11 % (ulong)*(uint *)(this + 0x97e8)) * 0x308 +
                   *(long *)(*(long *)(this + 0x97d8) + (uVar11 / *(uint *)(this + 0x97e8)) * 8);
          if (uVar7 != *(uint *)(lVar14 + 0x300)) {
            if (*(uint *)(lVar14 + 0x300) + 0x80000000 < 0x7fffffff) {
              _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                               "Method/function failed. Returning: nullptr",
                               "Attempting to use an uninitialized RID",0,0);
            }
            goto LAB_00125f5a;
          }
          InterpolationData::notify_free_instance
                    ((InterpolationData *)(this + 0xb550),param_2,lVar14);
          local_58 = 0;
          local_50 = 0;
          (**(code **)(*(long *)this + 0x1a8))(this,param_2,0,&local_58,0);
          (**(code **)(*(long *)this + 0xe8))(this,param_2,0);
          (**(code **)(*(long *)this + 0xe0))(this,param_2,0);
          (**(code **)(*(long *)this + 400))(this,param_2,0);
          (**(code **)(*(long *)this + 0x198))(this,param_2,0);
          (**(code **)(*(long *)this + 0x148))(this,param_2,0);
          InstanceUniforms::free(lVar14 + 0x168,*(undefined8 *)(lVar14 + 0x1a0));
          update_dirty_instances(this);
          iVar6 = pthread_mutex_lock(ppVar13);
          if (iVar6 != 0) goto LAB_00126000;
          if (uVar10 < *(uint *)(this + 0x97ec)) {
            uVar8 = uVar11 / *(uint *)(this + 0x97e8);
            lVar14 = (uVar11 % (ulong)*(uint *)(this + 0x97e8)) * 0x308;
            this_01 = (Instance *)(*(long *)(*(long *)(this + 0x97d8) + uVar8 * 8) + lVar14);
            uVar2 = *(uint *)(this_01 + 0x300);
            if (-1 < (int)uVar2) {
              if (uVar2 != uVar7) goto LAB_00125da7;
              Instance::~Instance(this_01);
              lVar12 = *(long *)(this + 0x97e0);
              *(undefined4 *)(*(long *)(*(long *)(this + 0x97d8) + uVar8 * 8) + 0x300 + lVar14) =
                   0xffffffff;
              uVar7 = *(int *)(this + 0x97f0) - 1;
              *(uint *)(this + 0x97f0) = uVar7;
              uVar11 = (ulong)uVar7 / (ulong)*(uint *)(this + 0x97e8);
              uVar7 = uVar7 % *(uint *)(this + 0x97e8);
              goto LAB_001256c2;
            }
            goto LAB_00125dd9;
          }
          goto LAB_00125e17;
        }
        pcVar9 = *(code **)(*RendererSceneOcclusionCull::singleton + 0x18);
        if (pcVar9 == RendererSceneOcclusionCull::free_occluder) {
          if (RendererSceneOcclusionCull::_print_warning()::first_print != '\0') {
            _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",
                             0xcd,"Occlusion culling is disabled at build-time.",0,1);
            RendererSceneOcclusionCull::_print_warning()::first_print = '\0';
          }
        }
        else {
LAB_00125b5c:
          (*pcVar9)(RendererSceneOcclusionCull::singleton,param_2);
        }
      }
    }
  }
  uVar5 = 1;
LAB_001257f1:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar5;
}



/* RendererSceneCull::~RendererSceneCull() */

void __thiscall RendererSceneCull::~RendererSceneCull(RendererSceneCull *this)

{
  char *pcVar1;
  Scenario *this_00;
  char cVar2;
  undefined4 uVar3;
  uint uVar4;
  long lVar5;
  long *plVar6;
  void *pvVar7;
  ulong uVar8;
  ulong uVar9;
  uint uVar10;
  Instance *this_01;
  InstanceCullResult *this_02;
  RendererSceneCull *pRVar11;
  long lVar12;
  undefined8 *puVar13;
  RendererSceneCull *pRVar14;
  InstanceCullResult *pIVar15;
  uint uVar16;
  RendererSceneCull *pRVar17;
  long in_FS_OFFSET;
  long local_68;
  long local_60;
  char *local_58;
  undefined8 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR_camera_allocate_001381b0;
  if ((*(long *)(this + 0x458) != 0) &&
     (uVar9 = *(long *)(this + 0x458) - 1U >> ((byte)*(undefined4 *)(this + 0x44c) & 0x3f),
     (int)uVar9 != -1)) {
    lVar12 = 0;
    do {
      lVar5 = *(long *)(this + 0x430);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x440) + lVar12);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        uVar8 = (ulong)local_58 >> 8;
        local_58 = (char *)(uVar8 << 8);
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        local_58 = (char *)(uVar8 << 8);
        do {
        } while (*pcVar1 != '\0');
      }
      lVar12 = lVar12 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while ((uVar9 & 0xffffffff) * 4 + 4 != lVar12);
  }
  *(undefined8 *)(this + 0x458) = 0;
  if (*(void **)(this + 0x438) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x438),false);
    Memory::free_static(*(void **)(this + 0x440),false);
    *(undefined4 *)(this + 0x448) = 0;
    *(undefined1 (*) [16])(this + 0x438) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0x488) != 0) &&
     (uVar9 = *(long *)(this + 0x488) - 1U >> ((byte)*(undefined4 *)(this + 0x47c) & 0x3f),
     (int)uVar9 != -1)) {
    lVar12 = 0;
    do {
      lVar5 = *(long *)(this + 0x460);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x470) + lVar12);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        uVar8 = (ulong)local_58 >> 8;
        local_58 = (char *)(uVar8 << 8);
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        local_58 = (char *)(uVar8 << 8);
        do {
        } while (*pcVar1 != '\0');
      }
      lVar12 = lVar12 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while ((uVar9 & 0xffffffff) * 4 + 4 != lVar12);
  }
  *(undefined8 *)(this + 0x488) = 0;
  if (*(void **)(this + 0x468) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x468),false);
    Memory::free_static(*(void **)(this + 0x470),false);
    *(undefined4 *)(this + 0x478) = 0;
    *(undefined1 (*) [16])(this + 0x468) = (undefined1  [16])0x0;
  }
  pRVar14 = this + 0x1260;
  pRVar17 = this + 0x9260;
  do {
    if ((*(long *)(pRVar14 + 0x28) != 0) &&
       (uVar9 = *(long *)(pRVar14 + 0x28) - 1U >> ((byte)*(undefined4 *)(pRVar14 + 0x1c) & 0x3f),
       (int)uVar9 != -1)) {
      lVar12 = 0;
      do {
        lVar5 = *(long *)pRVar14;
        uVar3 = *(undefined4 *)(*(long *)(pRVar14 + 0x10) + lVar12);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          uVar8 = (ulong)local_58 >> 8;
          local_58 = (char *)(uVar8 << 8);
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          local_58 = (char *)(uVar8 << 8);
          do {
          } while (*pcVar1 != '\0');
        }
        lVar12 = lVar12 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while (lVar12 != (uVar9 & 0xffffffff) * 4 + 4);
    }
    *(long *)(pRVar14 + 0x28) = 0;
    if (*(void **)(pRVar14 + 8) != (void *)0x0) {
      Memory::free_static(*(void **)(pRVar14 + 8),false);
      Memory::free_static(*(void **)(pRVar14 + 0x10),false);
      *(undefined4 *)(pRVar14 + 0x18) = 0;
      *(undefined1 (*) [16])(pRVar14 + 8) = (undefined1  [16])0x0;
    }
    pRVar14 = pRVar14 + 0x40;
  } while (pRVar17 != pRVar14);
  do {
    if ((*(long *)(pRVar17 + 0x28) != 0) &&
       (uVar9 = *(long *)(pRVar17 + 0x28) - 1U >> ((byte)*(undefined4 *)(pRVar17 + 0x1c) & 0x3f),
       (int)uVar9 != -1)) {
      lVar12 = 0;
      do {
        lVar5 = *(long *)pRVar17;
        uVar3 = *(undefined4 *)(*(long *)(pRVar17 + 0x10) + lVar12);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          uVar8 = (ulong)local_58 >> 8;
          local_58 = (char *)(uVar8 << 8);
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          local_58 = (char *)(uVar8 << 8);
          do {
          } while (*pcVar1 != '\0');
        }
        lVar12 = lVar12 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while ((uVar9 & 0xffffffff) * 4 + 4 != lVar12);
    }
    *(long *)(pRVar17 + 0x28) = 0;
    if (*(void **)(pRVar17 + 8) != (void *)0x0) {
      Memory::free_static(*(void **)(pRVar17 + 8),false);
      Memory::free_static(*(void **)(pRVar17 + 0x10),false);
      *(undefined4 *)(pRVar17 + 0x18) = 0;
      *(undefined1 (*) [16])(pRVar17 + 8) = (undefined1  [16])0x0;
    }
    pRVar17 = pRVar17 + 0x38;
  } while (this + 0x97a0 != pRVar17);
  InstanceCullResult::reset((InstanceCullResult *)(this + 0x490));
  this_02 = *(InstanceCullResult **)(this + 0x1248);
  pIVar15 = this_02 + (ulong)*(uint *)(this + 0x1240) * 0xdb0;
  for (; pIVar15 != this_02; this_02 = this_02 + 0xdb0) {
    InstanceCullResult::reset(this_02);
  }
  LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false>::resize
            ((LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false> *)
             (this + 0x1240),0);
  plVar6 = *(long **)(this + 0x70);
  if (plVar6 != (long *)0x0) {
    if (*(code **)(*plVar6 + 0x88) == RendererSceneOcclusionCull::~RendererSceneOcclusionCull) {
      RendererSceneOcclusionCull::singleton = 0;
    }
    else {
      (**(code **)(*plVar6 + 0x88))(plVar6);
    }
    Memory::free_static(plVar6,false);
  }
  if (*(RenderingLightCuller **)(this + 0x9840) != (RenderingLightCuller *)0x0) {
    memdelete<RenderingLightCuller>(*(RenderingLightCuller **)(this + 0x9840));
    *(undefined8 *)(this + 0x9840) = 0;
  }
  if (*(void **)(this + 0xb578) != (void *)0x0) {
    if (*(int *)(this + 0xb570) != 0) {
      *(undefined4 *)(this + 0xb570) = 0;
    }
    Memory::free_static(*(void **)(this + 0xb578),false);
  }
  if (*(void **)(this + 0xb568) != (void *)0x0) {
    if (*(int *)(this + 0xb560) != 0) {
      *(undefined4 *)(this + 0xb560) = 0;
    }
    Memory::free_static(*(void **)(this + 0xb568),false);
  }
  if (*(void **)(this + 0xb558) != (void *)0x0) {
    if (*(int *)(this + 0xb550) != 0) {
      *(undefined4 *)(this + 0xb550) = 0;
    }
    Memory::free_static(*(void **)(this + 0xb558),false);
  }
  if (*(long *)(this + 0xb530) != 0) {
    LOCK();
    plVar6 = (long *)(*(long *)(this + 0xb530) + -0x10);
    *plVar6 = *plVar6 + -1;
    UNLOCK();
    if (*plVar6 == 0) {
      lVar12 = *(long *)(this + 0xb530);
      *(undefined8 *)(this + 0xb530) = 0;
      Memory::free_static((void *)(lVar12 + -0x10),false);
    }
  }
  if (*(long *)(this + 0xb520) != 0) {
    LOCK();
    plVar6 = (long *)(*(long *)(this + 0xb520) + -0x10);
    *plVar6 = *plVar6 + -1;
    UNLOCK();
    if (*plVar6 == 0) {
      lVar12 = *(long *)(this + 0xb520);
      *(undefined8 *)(this + 0xb520) = 0;
      Memory::free_static((void *)(lVar12 + -0x10),false);
    }
  }
  pRVar14 = this + 0xaee0;
  do {
    pRVar17 = pRVar14 + 800;
    do {
      pRVar11 = pRVar17 + -200;
      Projection::~Projection((Projection *)(pRVar17 + -0x90));
      if (*(long *)(pRVar17 + -0xb0) != 0) {
        LOCK();
        plVar6 = (long *)(*(long *)(pRVar17 + -0xb0) + -0x10);
        *plVar6 = *plVar6 + -1;
        UNLOCK();
        if (*plVar6 == 0) {
          lVar12 = *(long *)(pRVar17 + -0xb0);
          *(undefined8 *)(pRVar17 + -0xb0) = 0;
          Memory::free_static((void *)(lVar12 + -0x10),false);
        }
      }
      if (*(long *)(pRVar17 + -0xc0) != 0) {
        LOCK();
        plVar6 = (long *)(*(long *)(pRVar17 + -0xc0) + -0x10);
        *plVar6 = *plVar6 + -1;
        UNLOCK();
        if (*plVar6 == 0) {
          lVar12 = *(long *)(pRVar17 + -0xc0);
          *(undefined8 *)(pRVar17 + -0xc0) = 0;
          Memory::free_static((void *)(lVar12 + -0x10),false);
        }
      }
      pRVar17 = pRVar11;
    } while (pRVar11 != pRVar14);
    pRVar14 = pRVar14 + -0x338;
  } while (this + 0x9520 != pRVar14);
  if (*(void **)(this + 0x9838) != (void *)0x0) {
    if (*(int *)(this + 0x9830) != 0) {
      *(undefined4 *)(this + 0x9830) = 0;
    }
    Memory::free_static(*(void **)(this + 0x9838),false);
  }
  *(undefined ***)(this + 0x97d0) = &PTR__RID_Alloc_00138190;
  uVar16 = *(uint *)(this + 0x97f0);
  if (uVar16 == 0) {
    puVar13 = *(undefined8 **)(this + 0x97d8);
    uVar16 = *(uint *)(this + 0x97ec) / *(uint *)(this + 0x97e8);
    if (*(uint *)(this + 0x97e8) <= *(uint *)(this + 0x97ec)) {
LAB_00126799:
      lVar12 = 0;
      while( true ) {
        Memory::free_static((void *)puVar13[lVar12],false);
        lVar5 = lVar12 * 8;
        lVar12 = lVar12 + 1;
        Memory::free_static(*(void **)(*(long *)(this + 0x97e0) + lVar5),false);
        if (uVar16 <= (uint)lVar12) break;
        puVar13 = *(undefined8 **)(this + 0x97d8);
      }
LAB_001267ca:
      puVar13 = *(undefined8 **)(this + 0x97d8);
    }
  }
  else {
    local_60 = 0;
    local_50 = 0x3b;
    local_58 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_60);
    vformat<unsigned_int,char_const*>
              ((String *)&local_58,(uint)(StrRange *)&local_60,(char *)(ulong)uVar16);
    print_error((String *)&local_58);
    pcVar1 = local_58;
    if (local_58 != (char *)0x0) {
      LOCK();
      plVar6 = (long *)(local_58 + -0x10);
      *plVar6 = *plVar6 + -1;
      UNLOCK();
      if (*plVar6 == 0) {
        local_58 = (char *)0x0;
        Memory::free_static(pcVar1 + -0x10,false);
      }
    }
    lVar12 = local_60;
    if (local_60 != 0) {
      LOCK();
      plVar6 = (long *)(local_60 + -0x10);
      *plVar6 = *plVar6 + -1;
      UNLOCK();
      if (*plVar6 == 0) {
        local_60 = 0;
        Memory::free_static((void *)(lVar12 + -0x10),false);
      }
    }
    uVar10 = *(uint *)(this + 0x97e8);
    puVar13 = *(undefined8 **)(this + 0x97d8);
    if (*(int *)(this + 0x97ec) == 0) {
      if (uVar10 == 0) {
        Memory::free_static((void *)*puVar13,false);
        Memory::free_static((void *)**(undefined8 **)(this + 0x97e0),false);
        goto LAB_001267ca;
      }
    }
    else {
      uVar9 = 0;
      do {
        this_01 = (Instance *)((uVar9 % (ulong)uVar10) * 0x308 + puVar13[uVar9 / uVar10]);
        if (-1 < *(int *)(this_01 + 0x300)) {
          Instance::~Instance(this_01);
          uVar10 = *(uint *)(this + 0x97e8);
          puVar13 = *(undefined8 **)(this + 0x97d8);
        }
        uVar4 = *(uint *)(this + 0x97ec);
        uVar9 = uVar9 + 1;
      } while (uVar9 < uVar4);
      uVar16 = uVar4 / uVar10;
      if (uVar10 <= uVar4) goto LAB_00126799;
    }
  }
  if (puVar13 != (undefined8 *)0x0) {
    Memory::free_static(puVar13,false);
    Memory::free_static(*(void **)(this + 0x97e0),false);
  }
  pRVar14 = this + 0x9760;
  do {
    if ((*(long *)(pRVar14 + 0x30) != 0) &&
       (uVar9 = *(long *)(pRVar14 + 0x30) - 1U >> ((byte)*(undefined4 *)(pRVar14 + 0x24) & 0x3f),
       (int)uVar9 != -1)) {
      lVar12 = 0;
      do {
        lVar5 = *(long *)(pRVar14 + 8);
        uVar3 = *(undefined4 *)(*(long *)(pRVar14 + 0x18) + lVar12);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          uVar8 = (ulong)local_58 >> 8;
          local_58 = (char *)(uVar8 << 8);
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          local_58 = (char *)(uVar8 << 8);
          do {
          } while (*pcVar1 != '\0');
        }
        lVar12 = lVar12 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while ((uVar9 & 0xffffffff) * 4 + 4 != lVar12);
    }
    *(undefined8 *)(pRVar14 + 0x30) = 0;
    if (*(void **)(pRVar14 + 0x10) != (void *)0x0) {
      Memory::free_static(*(void **)(pRVar14 + 0x10),false);
      Memory::free_static(*(void **)(pRVar14 + 0x18),false);
    }
    pRVar14 = pRVar14 + -0x38;
  } while (this + 0x9220 != pRVar14);
  pRVar14 = this + 0x9210;
  do {
    if ((*(long *)(pRVar14 + 0x38) != 0) &&
       (uVar9 = *(long *)(pRVar14 + 0x38) - 1U >> ((byte)*(undefined4 *)(pRVar14 + 0x2c) & 0x3f),
       (int)uVar9 != -1)) {
      lVar12 = 0;
      do {
        lVar5 = *(long *)(pRVar14 + 0x10);
        uVar3 = *(undefined4 *)(*(long *)(pRVar14 + 0x20) + lVar12);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          uVar8 = (ulong)local_58 >> 8;
          local_58 = (char *)(uVar8 << 8);
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          local_58 = (char *)(uVar8 << 8);
          do {
          } while (*pcVar1 != '\0');
        }
        lVar12 = lVar12 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while ((uVar9 & 0xffffffff) * 4 + 4 != lVar12);
    }
    *(undefined8 *)(pRVar14 + 0x38) = 0;
    if (*(void **)(pRVar14 + 0x18) != (void *)0x0) {
      Memory::free_static(*(void **)(pRVar14 + 0x18),false);
      Memory::free_static(*(void **)(pRVar14 + 0x20),false);
    }
    pRVar14 = pRVar14 + -0x40;
  } while (this + 0x1210 != pRVar14);
  if (*(long *)(this + 0x1248) != 0) {
    LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false>::resize
              ((LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false> *)
               (this + 0x1240),0);
    if (*(void **)(this + 0x1248) != (void *)0x0) {
      Memory::free_static(*(void **)(this + 0x1248),false);
    }
  }
  InstanceCullResult::~InstanceCullResult((InstanceCullResult *)(this + 0x490));
  if ((*(long *)(this + 0x488) != 0) &&
     (uVar9 = *(long *)(this + 0x488) - 1U >> ((byte)*(undefined4 *)(this + 0x47c) & 0x3f),
     (int)uVar9 != -1)) {
    lVar12 = 0;
    do {
      lVar5 = *(long *)(this + 0x460);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x470) + lVar12);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        uVar8 = (ulong)local_58 >> 8;
        local_58 = (char *)(uVar8 << 8);
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        local_58 = (char *)(uVar8 << 8);
        do {
        } while (*pcVar1 != '\0');
      }
      lVar12 = lVar12 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while ((uVar9 & 0xffffffff) * 4 + 4 != lVar12);
  }
  *(undefined8 *)(this + 0x488) = 0;
  if (*(void **)(this + 0x468) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x468),false);
    Memory::free_static(*(void **)(this + 0x470),false);
  }
  if ((*(long *)(this + 0x458) != 0) &&
     (uVar9 = *(long *)(this + 0x458) - 1U >> ((byte)*(undefined4 *)(this + 0x44c) & 0x3f),
     (int)uVar9 != -1)) {
    lVar12 = 0;
    do {
      lVar5 = *(long *)(this + 0x430);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x440) + lVar12);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        uVar8 = (ulong)local_58 >> 8;
        local_58 = (char *)(uVar8 << 8);
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        local_58 = (char *)(uVar8 << 8);
        do {
        } while (*pcVar1 != '\0');
      }
      lVar12 = lVar12 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar12 != (uVar9 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x458) = 0;
  if (*(void **)(this + 0x438) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x438),false);
    Memory::free_static(*(void **)(this + 0x440),false);
  }
  if (*(uint *)(this + 1000) < *(uint *)(this + 0x3d8)) {
    _err_print_error("~PagedArrayPool","./core/templates/paged_array.h",0x80,
                     "Condition \"pages_available < pages_allocated\" is true.",
                     "Pages in use exist at exit in PagedArrayPool",0,0);
  }
  else if (*(uint *)(this + 0x3d8) != 0) {
    lVar12 = 0;
    do {
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x3d0) + lVar5),false);
    } while ((uint)lVar12 < *(uint *)(this + 0x3d8));
    Memory::free_static(*(void **)(this + 0x3d0),false);
    Memory::free_static(*(void **)(this + 0x3e0),false);
  }
  if (*(uint *)(this + 0x388) < *(uint *)(this + 0x378)) {
    _err_print_error("~PagedArrayPool","./core/templates/paged_array.h",0x80,
                     "Condition \"pages_available < pages_allocated\" is true.",
                     "Pages in use exist at exit in PagedArrayPool",0,0);
  }
  else if (*(uint *)(this + 0x378) != 0) {
    lVar12 = 0;
    do {
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x370) + lVar5),false);
    } while ((uint)lVar12 < *(uint *)(this + 0x378));
    Memory::free_static(*(void **)(this + 0x370),false);
    Memory::free_static(*(void **)(this + 0x380),false);
  }
  if (*(uint *)(this + 0x328) < *(uint *)(this + 0x318)) {
    _err_print_error("~PagedArrayPool","./core/templates/paged_array.h",0x80,
                     "Condition \"pages_available < pages_allocated\" is true.",
                     "Pages in use exist at exit in PagedArrayPool",0,0);
  }
  else if (*(uint *)(this + 0x318) != 0) {
    lVar12 = 0;
    do {
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x310) + lVar5),false);
    } while ((uint)lVar12 < *(uint *)(this + 0x318));
    Memory::free_static(*(void **)(this + 0x310),false);
    Memory::free_static(*(void **)(this + 800),false);
  }
  pvVar7 = *(void **)(this + 0x2e8);
  if (pvVar7 != (void *)0x0) {
    if (*(int *)(this + 0x30c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x308) * 4) != 0) {
        memset(*(void **)(this + 0x300),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x308) * 4) * 4);
      }
      *(undefined4 *)(this + 0x30c) = 0;
    }
    Memory::free_static(pvVar7,false);
    Memory::free_static(*(void **)(this + 0x2f8),false);
    Memory::free_static(*(void **)(this + 0x2f0),false);
    Memory::free_static(*(void **)(this + 0x300),false);
  }
  if (*(uint *)(this + 0x20c) < (uint)(*(int *)(this + 0x218) * *(int *)(this + 0x208))) {
    if ((char)CoreGlobals::leak_reporting_enabled != '\0') {
      local_60 = 0;
      local_58 = "N17RendererSceneCull12InstancePairE";
      local_50 = 0x23;
      String::parse_latin1((StrRange *)&local_60);
      local_58 = "Pages in use exist at exit in PagedAllocator: ";
      local_68 = 0;
      local_50 = 0x2e;
      String::parse_latin1((StrRange *)&local_68);
      String::operator+((String *)&local_58,(String *)&local_68);
      _err_print_error("~PagedAllocator","./core/templates/paged_allocator.h",0xaa,
                       (String *)&local_58,0,0);
      pcVar1 = local_58;
      if (local_58 != (char *)0x0) {
        LOCK();
        plVar6 = (long *)(local_58 + -0x10);
        *plVar6 = *plVar6 + -1;
        UNLOCK();
        if (*plVar6 == 0) {
          local_58 = (char *)0x0;
          Memory::free_static(pcVar1 + -0x10,false);
        }
      }
      lVar12 = local_68;
      if (local_68 != 0) {
        LOCK();
        plVar6 = (long *)(local_68 + -0x10);
        *plVar6 = *plVar6 + -1;
        UNLOCK();
        if (*plVar6 == 0) {
          local_68 = 0;
          Memory::free_static((void *)(lVar12 + -0x10),false);
        }
      }
      lVar12 = local_60;
      if (local_60 != 0) {
        LOCK();
        plVar6 = (long *)(local_60 + -0x10);
        *plVar6 = *plVar6 + -1;
        UNLOCK();
        if (*plVar6 == 0) {
          local_60 = 0;
          Memory::free_static((void *)(lVar12 + -0x10),false);
        }
      }
    }
  }
  else if (*(int *)(this + 0x208) != 0) {
    lVar12 = 0;
    do {
      Memory::free_static(*(void **)(*(long *)(this + 0x1f8) + lVar12 * 8),false);
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x200) + lVar5),false);
    } while ((uint)lVar12 < *(uint *)(this + 0x208));
    Memory::free_static(*(void **)(this + 0x1f8),false);
    Memory::free_static(*(void **)(this + 0x200),false);
  }
  *(undefined ***)(this + 0x1a0) = &PTR__RID_Alloc_00138050;
  uVar16 = *(uint *)(this + 0x1c0);
  if (uVar16 == 0) {
    puVar13 = *(undefined8 **)(this + 0x1a8);
    uVar16 = *(uint *)(this + 0x1bc) / *(uint *)(this + 0x1b8);
    if (*(uint *)(this + 0x1bc) < *(uint *)(this + 0x1b8)) goto LAB_00126d0f;
LAB_00126f6a:
    lVar12 = 0;
    while( true ) {
      Memory::free_static((void *)puVar13[lVar12],false);
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x1b0) + lVar5),false);
      if (uVar16 <= (uint)lVar12) break;
      puVar13 = *(undefined8 **)(this + 0x1a8);
    }
  }
  else {
    local_60 = 0;
    local_50 = 0x3b;
    local_58 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_60);
    vformat<unsigned_int,char_const*>
              ((String *)&local_58,(uint)(StrRange *)&local_60,(char *)(ulong)uVar16);
    print_error((String *)&local_58);
    pcVar1 = local_58;
    if (local_58 != (char *)0x0) {
      LOCK();
      plVar6 = (long *)(local_58 + -0x10);
      *plVar6 = *plVar6 + -1;
      UNLOCK();
      if (*plVar6 == 0) {
        local_58 = (char *)0x0;
        Memory::free_static(pcVar1 + -0x10,false);
      }
    }
    lVar12 = local_60;
    if (local_60 != 0) {
      LOCK();
      plVar6 = (long *)(local_60 + -0x10);
      *plVar6 = *plVar6 + -1;
      UNLOCK();
      if (*plVar6 == 0) {
        local_60 = 0;
        Memory::free_static((void *)(lVar12 + -0x10),false);
      }
    }
    uVar10 = *(uint *)(this + 0x1b8);
    puVar13 = *(undefined8 **)(this + 0x1a8);
    if (*(int *)(this + 0x1bc) != 0) {
      uVar9 = 0;
      do {
        this_00 = (Scenario *)(puVar13[uVar9 / uVar10] + (uVar9 % (ulong)uVar10) * 0x248);
        if (-1 < *(int *)(this_00 + 0x240)) {
          Scenario::~Scenario(this_00);
          uVar10 = *(uint *)(this + 0x1b8);
          puVar13 = *(undefined8 **)(this + 0x1a8);
        }
        uVar4 = *(uint *)(this + 0x1bc);
        uVar9 = uVar9 + 1;
      } while (uVar9 < uVar4);
      uVar16 = uVar4 / uVar10;
      if (uVar4 < uVar10) goto LAB_00126d0f;
      goto LAB_00126f6a;
    }
    if (uVar10 != 0) goto LAB_00126d0f;
    Memory::free_static((void *)*puVar13,false);
    Memory::free_static((void *)**(undefined8 **)(this + 0x1b0),false);
  }
  puVar13 = *(undefined8 **)(this + 0x1a8);
LAB_00126d0f:
  if (puVar13 != (undefined8 *)0x0) {
    Memory::free_static(puVar13,false);
    Memory::free_static(*(void **)(this + 0x1b0),false);
  }
  if (*(uint *)(this + 0x150) < *(uint *)(this + 0x140)) {
    _err_print_error("~PagedArrayPool","./core/templates/paged_array.h",0x80,
                     "Condition \"pages_available < pages_allocated\" is true.",
                     "Pages in use exist at exit in PagedArrayPool",0,0);
  }
  else if (*(uint *)(this + 0x140) != 0) {
    lVar12 = 0;
    do {
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x138) + lVar5),false);
    } while ((uint)lVar12 < *(uint *)(this + 0x140));
    Memory::free_static(*(void **)(this + 0x138),false);
    Memory::free_static(*(void **)(this + 0x148),false);
  }
  if (*(uint *)(this + 0xf0) < *(uint *)(this + 0xe0)) {
    _err_print_error("~PagedArrayPool","./core/templates/paged_array.h",0x80,
                     "Condition \"pages_available < pages_allocated\" is true.",
                     "Pages in use exist at exit in PagedArrayPool",0,0);
  }
  else if (*(uint *)(this + 0xe0) != 0) {
    lVar12 = 0;
    do {
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0xd8) + lVar5),false);
    } while ((uint)lVar12 < *(uint *)(this + 0xe0));
    Memory::free_static(*(void **)(this + 0xd8),false);
    Memory::free_static(*(void **)(this + 0xe8),false);
  }
  if (*(uint *)(this + 0x90) < *(uint *)(this + 0x80)) {
    _err_print_error("~PagedArrayPool","./core/templates/paged_array.h",0x80,
                     "Condition \"pages_available < pages_allocated\" is true.",
                     "Pages in use exist at exit in PagedArrayPool",0,0);
  }
  else if (*(uint *)(this + 0x80) != 0) {
    lVar12 = 0;
    do {
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x78) + lVar5),false);
    } while ((uint)lVar12 < *(uint *)(this + 0x80));
    Memory::free_static(*(void **)(this + 0x78),false);
    Memory::free_static(*(void **)(this + 0x88),false);
  }
  *(undefined ***)(this + 0x18) = &PTR__RID_Alloc_00137fe0;
  uVar16 = *(uint *)(this + 0x38);
  if (uVar16 != 0) {
    local_60 = 0;
    local_50 = 0x3b;
    local_58 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_60);
    vformat<unsigned_int,char_const*>
              ((String *)&local_58,(uint)(StrRange *)&local_60,(char *)(ulong)uVar16);
    print_error((String *)&local_58);
    pcVar1 = local_58;
    if (local_58 != (char *)0x0) {
      LOCK();
      plVar6 = (long *)(local_58 + -0x10);
      *plVar6 = *plVar6 + -1;
      UNLOCK();
      if (*plVar6 == 0) {
        local_58 = (char *)0x0;
        Memory::free_static(pcVar1 + -0x10,false);
      }
    }
    lVar12 = local_60;
    if (local_60 != 0) {
      LOCK();
      plVar6 = (long *)(local_60 + -0x10);
      *plVar6 = *plVar6 + -1;
      UNLOCK();
      if (*plVar6 == 0) {
        local_60 = 0;
        Memory::free_static((void *)(lVar12 + -0x10),false);
      }
    }
  }
  uVar16 = *(uint *)(this + 0x34);
  uVar10 = *(uint *)(this + 0x30);
  lVar12 = 0;
  if (uVar10 <= uVar16) {
    do {
      Memory::free_static(*(void **)(*(long *)(this + 0x20) + lVar12 * 8),false);
      lVar5 = lVar12 * 8;
      lVar12 = lVar12 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x28) + lVar5),false);
    } while ((uint)lVar12 < uVar16 / uVar10);
  }
  if (*(void **)(this + 0x20) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x28),false);
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  RenderingMethod::~RenderingMethod((RenderingMethod *)this);
  return;
}



/* RendererSceneCull::~RendererSceneCull() */

void __thiscall RendererSceneCull::~RendererSceneCull(RendererSceneCull *this)

{
  ~RendererSceneCull(this);
  operator_delete(this,0xb598);
  return;
}



/* RendererSceneCull::camera_allocate() */

void __thiscall RendererSceneCull::camera_allocate(RendererSceneCull *this)

{
  RID_Alloc<RendererSceneCull::Camera,true>::allocate_rid
            ((RID_Alloc<RendererSceneCull::Camera,true> *)(this + 0x18));
  return;
}



/* RendererSceneCull::scenario_allocate() */

void __thiscall RendererSceneCull::scenario_allocate(RendererSceneCull *this)

{
  RID_Alloc<RendererSceneCull::Scenario,true>::allocate_rid
            ((RID_Alloc<RendererSceneCull::Scenario,true> *)(this + 0x1a0));
  return;
}



/* RendererSceneCull::instance_allocate() */

void __thiscall RendererSceneCull::instance_allocate(RendererSceneCull *this)

{
  RID_Alloc<RendererSceneCull::Instance,true>::allocate_rid
            ((RID_Alloc<RendererSceneCull::Instance,true> *)(this + 0x97d0));
  return;
}



/* DefaultAllocator::alloc(unsigned long) */

void DefaultAllocator::alloc(ulong param_1)

{
  Memory::alloc_static(param_1,false);
  return;
}



/* StringName::~StringName() */

void __thiscall StringName::~StringName(StringName *this)

{
  if ((configured != '\0') && (*(long *)this != 0)) {
    StringName::unref();
    return;
  }
  return;
}



/* Object::get_save_class() const */

void Object::get_save_class(void)

{
  long lVar1;
  long *in_RSI;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  (**(code **)(*in_RSI + 0x48))();
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RefCounted::is_class_ptr(void*) const */

uint __thiscall RefCounted::is_class_ptr(RefCounted *this,void *param_1)

{
  return (uint)CONCAT71(0x138a,(undefined4 *)param_1 == &Object::get_class_ptr_static()::ptr) |
         (uint)CONCAT71(0x138a,(undefined4 *)param_1 == &get_class_ptr_static()::ptr);
}



/* RefCounted::_getv(StringName const&, Variant&) const */

undefined8 RefCounted::_getv(StringName *param_1,Variant *param_2)

{
  return 0;
}



/* RefCounted::_setv(StringName const&, Variant const&) */

undefined8 RefCounted::_setv(StringName *param_1,Variant *param_2)

{
  return 0;
}



/* RefCounted::_validate_propertyv(PropertyInfo&) const */

void RefCounted::_validate_propertyv(PropertyInfo *param_1)

{
  return;
}



/* RefCounted::_property_can_revertv(StringName const&) const */

undefined8 RefCounted::_property_can_revertv(StringName *param_1)

{
  return 0;
}



/* RefCounted::_property_get_revertv(StringName const&, Variant&) const */

undefined8 RefCounted::_property_get_revertv(StringName *param_1,Variant *param_2)

{
  return 0;
}



/* RefCounted::_notificationv(int, bool) */

void RefCounted::_notificationv(int param_1,bool param_2)

{
  return;
}



/* WorkerThreadPool::BaseTemplateUserdata::callback() */

void WorkerThreadPool::BaseTemplateUserdata::callback(void)

{
  return;
}



/* RendererSceneOcclusionCull::is_occluder(RID) */

undefined8 RendererSceneOcclusionCull::is_occluder(void)

{
  return 0;
}



/* RendererSceneOcclusionCull::occluder_allocate() */

undefined8 RendererSceneOcclusionCull::occluder_allocate(void)

{
  return 0;
}



/* RendererSceneOcclusionCull::occluder_initialize(RID) */

void RendererSceneOcclusionCull::occluder_initialize(void)

{
  return;
}



/* RendererSceneOcclusionCull::add_scenario(RID) */

void RendererSceneOcclusionCull::add_scenario(void)

{
  return;
}



/* RendererSceneOcclusionCull::remove_scenario(RID) */

void RendererSceneOcclusionCull::remove_scenario(void)

{
  return;
}



/* RendererSceneOcclusionCull::buffer_get_ptr(RID) */

undefined8 RendererSceneOcclusionCull::buffer_get_ptr(void)

{
  return 0;
}



/* RendererSceneOcclusionCull::buffer_update(RID, Transform3D const&, Projection const&, bool) */

void RendererSceneOcclusionCull::buffer_update(void)

{
  return;
}



/* RendererSceneOcclusionCull::set_build_quality(RenderingServer::ViewportOcclusionCullingBuildQuality)
    */

void RendererSceneOcclusionCull::set_build_quality(void)

{
  return;
}



/* RendererSceneOcclusionCull::~RendererSceneOcclusionCull() */

void __thiscall
RendererSceneOcclusionCull::~RendererSceneOcclusionCull(RendererSceneOcclusionCull *this)

{
  singleton = 0;
  return;
}



/* RendererLightStorage::light_instances_can_render_shadow_cube() const */

undefined8 RendererLightStorage::light_instances_can_render_shadow_cube(void)

{
  return 1;
}



/* RendererSceneCull::VisibilityArray::_update_idx(RendererSceneCull::InstanceVisibilityData&,
   unsigned long) */

void __thiscall
RendererSceneCull::VisibilityArray::_update_idx
          (VisibilityArray *this,InstanceVisibilityData *param_1,ulong param_2)

{
  uint uVar1;
  long lVar2;
  long lVar3;
  code *pcVar4;
  ulong uVar5;
  
  lVar2 = *(long *)(param_1 + 0x20);
  lVar3 = *(long *)(lVar2 + 0x208);
  *(int *)(lVar2 + 0x1b4) = (int)param_2;
  if ((lVar3 != 0) && (uVar1 = *(uint *)(lVar2 + 0x1b0), uVar1 != 0xffffffff)) {
    uVar5 = (ulong)(int)uVar1;
    if (*(ulong *)(lVar3 + 0x1f0) <= uVar5) {
      _err_print_index_error
                ("operator[]","./core/templates/paged_array.h",0xb0,uVar5,*(ulong *)(lVar3 + 0x1f0),
                 "p_index","count","",false,true);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar4 = (code *)invalidInstructionException();
      (*pcVar4)();
    }
    *(int *)((ulong)(uVar1 & *(uint *)(lVar3 + 0x1e8)) * 0x30 +
             *(long *)(*(long *)(lVar3 + 0x1d0) +
                      (uVar5 >> ((byte)*(undefined4 *)(lVar3 + 0x1e4) & 0x3f) & 0xffffffff) * 8) +
            0x24) = (int)param_2;
  }
  return;
}



/* RendererSceneCull::voxel_gi_set_quality(RenderingServer::VoxelGIQuality) */

void RendererSceneCull::voxel_gi_set_quality(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012782b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x120))();
  return;
}



/* RendererSceneCull::sky_allocate() */

void __thiscall RendererSceneCull::sky_allocate(RendererSceneCull *this)

{
                    /* WARNING: Could not recover jumptable at 0x0012784b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(this + 8) + 0x48))();
  return;
}



/* RendererSceneCull::sky_initialize(RID) */

void RendererSceneCull::sky_initialize(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012785b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x50))();
  return;
}



/* RendererSceneCull::sky_set_radiance_size(RID, int) */

void RendererSceneCull::sky_set_radiance_size(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012786b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x58))();
  return;
}



/* RendererSceneCull::sky_set_mode(RID, RenderingServer::SkyMode) */

void RendererSceneCull::sky_set_mode(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012787b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x60))();
  return;
}



/* RendererSceneCull::sky_set_material(RID, RID) */

void RendererSceneCull::sky_set_material(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012788b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x68))();
  return;
}



/* RendererSceneCull::sky_bake_panorama(RID, float, bool, Vector2i const&) */

undefined8 RendererSceneCull::sky_bake_panorama(undefined8 param_1,long param_2)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  (**(code **)(**(long **)(param_2 + 8) + 0x70))();
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::environment_set_volumetric_fog_volume_size(int, int) */

void RendererSceneCull::environment_set_volumetric_fog_volume_size(int param_1,int param_2)

{
  undefined4 in_register_0000003c;
  
                    /* WARNING: Could not recover jumptable at 0x001278eb. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(CONCAT44(in_register_0000003c,param_1) + 8) + 0x78))();
  return;
}



/* RendererSceneCull::environment_set_volumetric_fog_filter_active(bool) */

void __thiscall
RendererSceneCull::environment_set_volumetric_fog_filter_active
          (RendererSceneCull *this,bool param_1)

{
                    /* WARNING: Could not recover jumptable at 0x001278ff. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(this + 8) + 0x80))(*(long **)(this + 8),param_1);
  return;
}



/* RendererSceneCull::environment_glow_set_use_bicubic_upscale(bool) */

void __thiscall
RendererSceneCull::environment_glow_set_use_bicubic_upscale(RendererSceneCull *this,bool param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012791f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(this + 8) + 0x88))(*(long **)(this + 8),param_1);
  return;
}



/* RendererSceneCull::environment_set_ssr_roughness_quality(RenderingServer::EnvironmentSSRRoughnessQuality)
    */

void RendererSceneCull::environment_set_ssr_roughness_quality(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012793b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x90))();
  return;
}



/* RendererSceneCull::environment_set_ssao_quality(RenderingServer::EnvironmentSSAOQuality, bool,
   float, int, float, float) */

void RendererSceneCull::environment_set_ssao_quality
               (long param_1,undefined8 param_2,undefined1 param_3)

{
                    /* WARNING: Could not recover jumptable at 0x0012795e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x98))(*(long **)(param_1 + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::environment_set_ssil_quality(RenderingServer::EnvironmentSSILQuality, bool,
   float, int, float, float) */

void RendererSceneCull::environment_set_ssil_quality
               (long param_1,undefined8 param_2,undefined1 param_3)

{
                    /* WARNING: Could not recover jumptable at 0x0012797e. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0xa0))(*(long **)(param_1 + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::environment_set_sdfgi_ray_count(RenderingServer::EnvironmentSDFGIRayCount) */

void RendererSceneCull::environment_set_sdfgi_ray_count(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x0012799b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0xa8))();
  return;
}



/* RendererSceneCull::environment_set_sdfgi_frames_to_converge(RenderingServer::EnvironmentSDFGIFramesToConverge)
    */

void RendererSceneCull::environment_set_sdfgi_frames_to_converge(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x001279bb. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0xb0))();
  return;
}



/* RendererSceneCull::environment_set_sdfgi_frames_to_update_light(RenderingServer::EnvironmentSDFGIFramesToUpdateLight)
    */

void RendererSceneCull::environment_set_sdfgi_frames_to_update_light(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x001279db. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0xb8))();
  return;
}



/* RendererSceneCull::environment_bake_panorama(RID, bool, Vector2i const&) */

undefined8 RendererSceneCull::environment_bake_panorama(undefined8 param_1,long param_2)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  (**(code **)(**(long **)(param_2 + 8) + 0xc0))();
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::screen_space_roughness_limiter_set_active(bool, float, float) */

void RendererSceneCull::screen_space_roughness_limiter_set_active
               (bool param_1,float param_2,float param_3)

{
  long *plVar1;
  undefined1 in_SIL;
  undefined7 in_register_00000039;
  
  plVar1 = *(long **)(CONCAT71(in_register_00000039,param_1) + 8);
                    /* WARNING: Could not recover jumptable at 0x00127a4f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*plVar1 + 0x168))(plVar1,in_SIL);
  return;
}



/* RendererSceneCull::sub_surface_scattering_set_quality(RenderingServer::SubSurfaceScatteringQuality)
    */

void RendererSceneCull::sub_surface_scattering_set_quality(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127a6b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x178))();
  return;
}



/* RendererSceneCull::sub_surface_scattering_set_scale(float, float) */

void RendererSceneCull::sub_surface_scattering_set_scale(float param_1,float param_2)

{
  long in_RDI;
  
                    /* WARNING: Could not recover jumptable at 0x00127a8b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(in_RDI + 8) + 0x180))();
  return;
}



/* RendererSceneCull::positional_soft_shadow_filter_set_quality(RenderingServer::ShadowQuality) */

void RendererSceneCull::positional_soft_shadow_filter_set_quality(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127aab. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 200))();
  return;
}



/* RendererSceneCull::directional_soft_shadow_filter_set_quality(RenderingServer::ShadowQuality) */

void RendererSceneCull::directional_soft_shadow_filter_set_quality(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127acb. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0xd0))();
  return;
}



/* RendererSceneCull::sdfgi_set_debug_probe_select(Vector3 const&, Vector3 const&) */

void RendererSceneCull::sdfgi_set_debug_probe_select(Vector3 *param_1,Vector3 *param_2)

{
                    /* WARNING: Could not recover jumptable at 0x00127aeb. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x198))();
  return;
}



/* RendererSceneCull::render_buffers_create() */

void RendererSceneCull::render_buffers_create(void)

{
  long lVar1;
  long in_RSI;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  (**(code **)(**(long **)(in_RSI + 8) + 0x158))();
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::gi_set_use_half_resolution(bool) */

void __thiscall RendererSceneCull::gi_set_use_half_resolution(RendererSceneCull *this,bool param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127b5f. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(this + 8) + 0x160))(*(long **)(this + 8),param_1);
  return;
}



/* RendererSceneCull::set_debug_draw_mode(RenderingServer::ViewportDebugDraw) */

void RendererSceneCull::set_debug_draw_mode(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127b7b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x150))();
  return;
}



/* RendererSceneCull::decals_set_filter(RenderingServer::DecalFilter) */

void RendererSceneCull::decals_set_filter(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127b9b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x1a0))();
  return;
}



/* RendererSceneCull::light_projectors_set_filter(RenderingServer::LightProjectorFilter) */

void RendererSceneCull::light_projectors_set_filter(long param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127bbb. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(param_1 + 8) + 0x1a8))();
  return;
}



/* RendererSceneCull::lightmaps_set_bicubic_filter(bool) */

void __thiscall
RendererSceneCull::lightmaps_set_bicubic_filter(RendererSceneCull *this,bool param_1)

{
                    /* WARNING: Could not recover jumptable at 0x00127bdf. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(**(long **)(this + 8) + 0x1b0))(*(long **)(this + 8),param_1);
  return;
}



/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::_update_idx(RendererSceneCull::InstanceVisibilityData&,
   unsigned long) */

void BinSortedArray<RendererSceneCull::InstanceVisibilityData>::_update_idx
               (InstanceVisibilityData *param_1,ulong param_2)

{
  return;
}



/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::CullData*), RendererSceneCull::CullData*>::~GroupUserData() */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
::~GroupUserData(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
                 *this)

{
  return;
}



/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::VisibilityCullData*),
   RendererSceneCull::VisibilityCullData*>::~GroupUserData() */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
::~GroupUserData(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
                 *this)

{
  return;
}



/* CallableCustomStaticMethodPointer<void, RID, Vector3 const&, Vector3
   const&>::~CallableCustomStaticMethodPointer() */

void __thiscall
CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&>::
~CallableCustomStaticMethodPointer
          (CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&> *this)

{
  return;
}



/* RendererSceneCull::InstanceFogVolumeData::~InstanceFogVolumeData() */

void __thiscall
RendererSceneCull::InstanceFogVolumeData::~InstanceFogVolumeData(InstanceFogVolumeData *this)

{
  return;
}



/* RendererSceneCull::InstanceParticlesCollisionData::~InstanceParticlesCollisionData() */

void __thiscall
RendererSceneCull::InstanceParticlesCollisionData::~InstanceParticlesCollisionData
          (InstanceParticlesCollisionData *this)

{
  return;
}



/* CommandQueueMT::Command<RenderingServerDefault, void (RenderingServerDefault::*)(Callable
   const&), false, Callable const&>::call() */

void __thiscall
CommandQueueMT::
Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
::call(Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
       *this)

{
  code *UNRECOVERED_JUMPTABLE;
  
  UNRECOVERED_JUMPTABLE = *(code **)(this + 0x18);
  if (((ulong)UNRECOVERED_JUMPTABLE & 1) != 0) {
    UNRECOVERED_JUMPTABLE =
         *(code **)(UNRECOVERED_JUMPTABLE +
                   *(long *)(*(long *)(this + 0x20) + *(long *)(this + 0x10)) + -1);
  }
                    /* WARNING: Could not recover jumptable at 0x00127c73. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*UNRECOVERED_JUMPTABLE)((long *)(*(long *)(this + 0x20) + *(long *)(this + 0x10)),this + 0x28);
  return;
}



/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::CullData*), RendererSceneCull::CullData*>::callback_indexed(unsigned int) */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
::callback_indexed(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
                   *this,uint param_1)

{
  code *UNRECOVERED_JUMPTABLE;
  
  UNRECOVERED_JUMPTABLE = *(code **)(this + 0x10);
  if (((ulong)UNRECOVERED_JUMPTABLE & 1) != 0) {
    UNRECOVERED_JUMPTABLE =
         *(code **)(UNRECOVERED_JUMPTABLE +
                   *(long *)(*(long *)(this + 0x18) + *(long *)(this + 8)) + -1);
  }
                    /* WARNING: Could not recover jumptable at 0x00127ca4. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*UNRECOVERED_JUMPTABLE)
            ((long *)(*(long *)(this + 0x18) + *(long *)(this + 8)),param_1,
             *(undefined8 *)(this + 0x20),UNRECOVERED_JUMPTABLE);
  return;
}



/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::VisibilityCullData*),
   RendererSceneCull::VisibilityCullData*>::callback_indexed(unsigned int) */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
::callback_indexed(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
                   *this,uint param_1)

{
  code *UNRECOVERED_JUMPTABLE;
  
  UNRECOVERED_JUMPTABLE = *(code **)(this + 0x10);
  if (((ulong)UNRECOVERED_JUMPTABLE & 1) != 0) {
    UNRECOVERED_JUMPTABLE =
         *(code **)(UNRECOVERED_JUMPTABLE +
                   *(long *)(*(long *)(this + 0x18) + *(long *)(this + 8)) + -1);
  }
                    /* WARNING: Could not recover jumptable at 0x00127cd4. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*UNRECOVERED_JUMPTABLE)
            ((long *)(*(long *)(this + 0x18) + *(long *)(this + 8)),param_1,
             *(undefined8 *)(this + 0x20),UNRECOVERED_JUMPTABLE);
  return;
}



/* CallableCustomStaticMethodPointer<void, RID, Vector3 const&, Vector3 const&>::is_valid() const */

undefined8 CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&>::is_valid(void)

{
  return 1;
}



/* CallableCustomStaticMethodPointer<void, RID, Vector3 const&, Vector3 const&>::get_object() const
    */

undefined8
CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&>::get_object(void)

{
  return 0;
}



/* CallableCustomStaticMethodPointer<void, RID, Vector3 const&, Vector3
   const&>::get_argument_count(bool&) const */

undefined8 __thiscall
CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&>::get_argument_count
          (CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&> *this,
          bool *param_1)

{
  *param_1 = true;
  return 3;
}



/* RendererSceneCull::InstanceFogVolumeData::~InstanceFogVolumeData() */

void __thiscall
RendererSceneCull::InstanceFogVolumeData::~InstanceFogVolumeData(InstanceFogVolumeData *this)

{
  operator_delete(this,0x18);
  return;
}



/* RendererSceneCull::InstanceParticlesCollisionData::~InstanceParticlesCollisionData() */

void __thiscall
RendererSceneCull::InstanceParticlesCollisionData::~InstanceParticlesCollisionData
          (InstanceParticlesCollisionData *this)

{
  operator_delete(this,0x10);
  return;
}



/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::VisibilityCullData*),
   RendererSceneCull::VisibilityCullData*>::~GroupUserData() */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
::~GroupUserData(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
                 *this)

{
  operator_delete(this,0x28);
  return;
}



/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::CullData*), RendererSceneCull::CullData*>::~GroupUserData() */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
::~GroupUserData(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
                 *this)

{
  operator_delete(this,0x28);
  return;
}



/* RendererSceneOcclusionCull::~RendererSceneOcclusionCull() */

void __thiscall
RendererSceneOcclusionCull::~RendererSceneOcclusionCull(RendererSceneOcclusionCull *this)

{
  singleton = 0;
  operator_delete(this,8);
  return;
}



/* CallableCustomStaticMethodPointer<void, RID, Vector3 const&, Vector3
   const&>::~CallableCustomStaticMethodPointer() */

void __thiscall
CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&>::
~CallableCustomStaticMethodPointer
          (CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&> *this)

{
  operator_delete(this,0x30);
  return;
}



/* CommandQueueMT::Command<RenderingServerDefault, void (RenderingServerDefault::*)(Callable
   const&), false, Callable const&>::~Command() */

void __thiscall
CommandQueueMT::
Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
::~Command(Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
           *this)

{
  *(undefined ***)this = &PTR_call_001389b0;
  Callable::~Callable((Callable *)(this + 0x28));
  return;
}



/* CommandQueueMT::Command<RenderingServerDefault, void (RenderingServerDefault::*)(Callable
   const&), false, Callable const&>::~Command() */

void __thiscall
CommandQueueMT::
Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
::~Command(Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
           *this)

{
  *(undefined ***)this = &PTR_call_001389b0;
  Callable::~Callable((Callable *)(this + 0x28));
  operator_delete(this,0x38);
  return;
}



/* CallableCustomMethodPointerBase::get_method() const */

void CallableCustomMethodPointerBase::get_method(void)

{
  long in_RSI;
  StringName *in_RDI;
  
  StringName::StringName(in_RDI,*(char **)(in_RSI + 0x20),false);
  return;
}



/* RendererSceneCull::is_environment(RID) const */

void RendererSceneCull::is_environment(long param_1)

{
  RendererSceneRender::is_environment(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::is_compositor(RID) const */

void RendererSceneCull::is_compositor(long param_1)

{
  RendererSceneRender::is_compositor(*(undefined8 *)(param_1 + 8));
  return;
}



/* RefCounted::~RefCounted() */

void __thiscall RefCounted::~RefCounted(RefCounted *this)

{
  *(undefined ***)this = &PTR__initialize_classv_00137dd8;
  Object::~Object((Object *)this);
  return;
}



/* RefCounted::~RefCounted() */

void __thiscall RefCounted::~RefCounted(RefCounted *this)

{
  *(undefined ***)this = &PTR__initialize_classv_00137dd8;
  Object::~Object((Object *)this);
  operator_delete(this,0x180);
  return;
}



/* RenderSceneBuffersExtension::~RenderSceneBuffersExtension() */

void __thiscall
RenderSceneBuffersExtension::~RenderSceneBuffersExtension(RenderSceneBuffersExtension *this)

{
  bool bVar1;
  
  bVar1 = StringName::configured != '\0';
  *(code **)this = RendererSceneRender::environment_get_use_1d_color_correction;
  if (bVar1) {
    if (*(long *)(this + 0x1e0) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_00129371;
    }
    if (*(long *)(this + 0x1c8) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_00129371;
    }
    if (*(long *)(this + 0x1b0) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_00129371;
    }
    if (*(long *)(this + 0x198) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_00129371;
    }
    if (*(long *)(this + 0x180) != 0) {
      StringName::unref();
    }
  }
LAB_00129371:
  *(undefined ***)this = &PTR__initialize_classv_00137dd8;
  Object::~Object((Object *)this);
  return;
}



/* RendererSceneCull::environment_get_color_correction(RID) const */

void RendererSceneCull::environment_get_color_correction(long param_1)

{
  RendererSceneRender::environment_get_color_correction(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_use_1d_color_correction(RID) const */

void RendererSceneCull::environment_get_use_1d_color_correction(long param_1)

{
  RendererSceneRender::environment_get_use_1d_color_correction(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_adjustments_saturation(RID) const */

void RendererSceneCull::environment_get_adjustments_saturation(long param_1)

{
  RendererSceneRender::environment_get_adjustments_saturation(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_adjustments_contrast(RID) const */

void RendererSceneCull::environment_get_adjustments_contrast(long param_1)

{
  RendererSceneRender::environment_get_adjustments_contrast(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_adjustments_brightness(RID) const */

void RendererSceneCull::environment_get_adjustments_brightness(long param_1)

{
  RendererSceneRender::environment_get_adjustments_brightness(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_adjustments_enabled(RID) const */

void RendererSceneCull::environment_get_adjustments_enabled(long param_1)

{
  RendererSceneRender::environment_get_adjustments_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_adjustment(RID, bool, float, float, float, bool, RID) */

void RendererSceneCull::environment_set_adjustment
               (long param_1,undefined8 param_2,undefined1 param_3,undefined1 param_4)

{
  RendererSceneRender::environment_set_adjustment
            (*(undefined8 *)(param_1 + 8),param_2,param_3,param_4);
  return;
}



/* RendererSceneCull::environment_get_sdfgi_y_scale(RID) const */

void RendererSceneCull::environment_get_sdfgi_y_scale(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_y_scale(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_probe_bias(RID) const */

void RendererSceneCull::environment_get_sdfgi_probe_bias(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_probe_bias(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_normal_bias(RID) const */

void RendererSceneCull::environment_get_sdfgi_normal_bias(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_normal_bias(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_energy(RID) const */

void RendererSceneCull::environment_get_sdfgi_energy(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_energy(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_read_sky_light(RID) const */

void RendererSceneCull::environment_get_sdfgi_read_sky_light(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_read_sky_light(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_bounce_feedback(RID) const */

void RendererSceneCull::environment_get_sdfgi_bounce_feedback(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_bounce_feedback(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_use_occlusion(RID) const */

void RendererSceneCull::environment_get_sdfgi_use_occlusion(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_use_occlusion(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_min_cell_size(RID) const */

void RendererSceneCull::environment_get_sdfgi_min_cell_size(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_min_cell_size(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_cascades(RID) const */

void RendererSceneCull::environment_get_sdfgi_cascades(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_cascades(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sdfgi_enabled(RID) const */

void RendererSceneCull::environment_get_sdfgi_enabled(long param_1)

{
  RendererSceneRender::environment_get_sdfgi_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_sdfgi(RID, bool, int, float,
   RenderingServer::EnvironmentSDFGIYScale, bool, float, bool, float, float, float) */

void RendererSceneCull::environment_set_sdfgi
               (long param_1,undefined8 param_2,undefined1 param_3,undefined8 param_4,
               undefined8 param_5,undefined1 param_6)

{
  RendererSceneRender::environment_set_sdfgi
            (*(undefined8 *)(param_1 + 8),param_2,param_3,param_4,param_5,param_6);
  return;
}



/* RendererSceneCull::environment_get_ssil_normal_rejection(RID) const */

void RendererSceneCull::environment_get_ssil_normal_rejection(long param_1)

{
  RendererSceneRender::environment_get_ssil_normal_rejection(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssil_sharpness(RID) const */

void RendererSceneCull::environment_get_ssil_sharpness(long param_1)

{
  RendererSceneRender::environment_get_ssil_sharpness(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssil_intensity(RID) const */

void RendererSceneCull::environment_get_ssil_intensity(long param_1)

{
  RendererSceneRender::environment_get_ssil_intensity(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssil_radius(RID) const */

void RendererSceneCull::environment_get_ssil_radius(long param_1)

{
  RendererSceneRender::environment_get_ssil_radius(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssil_enabled(RID) const */

void RendererSceneCull::environment_get_ssil_enabled(long param_1)

{
  RendererSceneRender::environment_get_ssil_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_ssil(RID, bool, float, float, float, float) */

void RendererSceneCull::environment_set_ssil(long param_1,undefined8 param_2,undefined1 param_3)

{
  RendererSceneRender::environment_set_ssil(*(undefined8 *)(param_1 + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::environment_get_ssao_ao_channel_affect(RID) const */

void RendererSceneCull::environment_get_ssao_ao_channel_affect(long param_1)

{
  RendererSceneRender::environment_get_ssao_ao_channel_affect(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_direct_light_affect(RID) const */

void RendererSceneCull::environment_get_ssao_direct_light_affect(long param_1)

{
  RendererSceneRender::environment_get_ssao_direct_light_affect(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_sharpness(RID) const */

void RendererSceneCull::environment_get_ssao_sharpness(long param_1)

{
  RendererSceneRender::environment_get_ssao_sharpness(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_horizon(RID) const */

void RendererSceneCull::environment_get_ssao_horizon(long param_1)

{
  RendererSceneRender::environment_get_ssao_horizon(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_detail(RID) const */

void RendererSceneCull::environment_get_ssao_detail(long param_1)

{
  RendererSceneRender::environment_get_ssao_detail(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_power(RID) const */

void RendererSceneCull::environment_get_ssao_power(long param_1)

{
  RendererSceneRender::environment_get_ssao_power(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_intensity(RID) const */

void RendererSceneCull::environment_get_ssao_intensity(long param_1)

{
  RendererSceneRender::environment_get_ssao_intensity(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_radius(RID) const */

void RendererSceneCull::environment_get_ssao_radius(long param_1)

{
  RendererSceneRender::environment_get_ssao_radius(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssao_enabled(RID) const */

void RendererSceneCull::environment_get_ssao_enabled(long param_1)

{
  RendererSceneRender::environment_get_ssao_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_ssao(RID, bool, float, float, float, float, float, float,
   float, float) */

void RendererSceneCull::environment_set_ssao(long param_1,undefined8 param_2,undefined1 param_3)

{
  RendererSceneRender::environment_set_ssao(*(undefined8 *)(param_1 + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::environment_get_ssr_depth_tolerance(RID) const */

void RendererSceneCull::environment_get_ssr_depth_tolerance(long param_1)

{
  RendererSceneRender::environment_get_ssr_depth_tolerance(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssr_fade_out(RID) const */

void RendererSceneCull::environment_get_ssr_fade_out(long param_1)

{
  RendererSceneRender::environment_get_ssr_fade_out(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssr_fade_in(RID) const */

void RendererSceneCull::environment_get_ssr_fade_in(long param_1)

{
  RendererSceneRender::environment_get_ssr_fade_in(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssr_max_steps(RID) const */

void RendererSceneCull::environment_get_ssr_max_steps(long param_1)

{
  RendererSceneRender::environment_get_ssr_max_steps(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ssr_enabled(RID) const */

void RendererSceneCull::environment_get_ssr_enabled(long param_1)

{
  RendererSceneRender::environment_get_ssr_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_ssr(RID, bool, int, float, float, float) */

void RendererSceneCull::environment_set_ssr(long param_1,undefined8 param_2,undefined1 param_3)

{
  RendererSceneRender::environment_set_ssr(*(undefined8 *)(param_1 + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::environment_get_glow_map(RID) const */

void RendererSceneCull::environment_get_glow_map(long param_1)

{
  RendererSceneRender::environment_get_glow_map(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_map_strength(RID) const */

void RendererSceneCull::environment_get_glow_map_strength(long param_1)

{
  RendererSceneRender::environment_get_glow_map_strength(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_hdr_bleed_scale(RID) const */

void RendererSceneCull::environment_get_glow_hdr_bleed_scale(long param_1)

{
  RendererSceneRender::environment_get_glow_hdr_bleed_scale(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_hdr_luminance_cap(RID) const */

void RendererSceneCull::environment_get_glow_hdr_luminance_cap(long param_1)

{
  RendererSceneRender::environment_get_glow_hdr_luminance_cap(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_hdr_bleed_threshold(RID) const */

void RendererSceneCull::environment_get_glow_hdr_bleed_threshold(long param_1)

{
  RendererSceneRender::environment_get_glow_hdr_bleed_threshold(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_blend_mode(RID) const */

void RendererSceneCull::environment_get_glow_blend_mode(long param_1)

{
  RendererSceneRender::environment_get_glow_blend_mode(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_mix(RID) const */

void RendererSceneCull::environment_get_glow_mix(long param_1)

{
  RendererSceneRender::environment_get_glow_mix(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_bloom(RID) const */

void RendererSceneCull::environment_get_glow_bloom(long param_1)

{
  RendererSceneRender::environment_get_glow_bloom(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_strength(RID) const */

void RendererSceneCull::environment_get_glow_strength(long param_1)

{
  RendererSceneRender::environment_get_glow_strength(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_intensity(RID) const */

void RendererSceneCull::environment_get_glow_intensity(long param_1)

{
  RendererSceneRender::environment_get_glow_intensity(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_glow_levels(RID) const */

RendererSceneCull * __thiscall
RendererSceneCull::environment_get_glow_levels(RendererSceneCull *this,long param_2)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  RendererSceneRender::environment_get_glow_levels(this,*(undefined8 *)(param_2 + 8));
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::environment_get_glow_enabled(RID) const */

void RendererSceneCull::environment_get_glow_enabled(long param_1)

{
  RendererSceneRender::environment_get_glow_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_ambient_inject(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_ambient_inject(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_ambient_inject(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_temporal_reprojection_amount(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_temporal_reprojection_amount(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_temporal_reprojection_amount
            (*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_temporal_reprojection(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_temporal_reprojection(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_temporal_reprojection
            (*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_sky_affect(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_sky_affect(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_sky_affect(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_gi_inject(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_gi_inject(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_gi_inject(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_detail_spread(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_detail_spread(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_detail_spread(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_length(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_length(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_length(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_anisotropy(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_anisotropy(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_anisotropy(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_emission_energy(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_emission_energy(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_emission_energy(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_emission(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_emission(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_emission(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_scattering(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_scattering(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_scattering(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_density(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_density(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_density(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_volumetric_fog_enabled(RID) const */

void RendererSceneCull::environment_get_volumetric_fog_enabled(long param_1)

{
  RendererSceneRender::environment_get_volumetric_fog_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_volumetric_fog(RID, bool, float, Color const&, Color const&,
   float, float, float, float, float, bool, float, float, float) */

void RendererSceneCull::environment_set_volumetric_fog
               (long param_1,undefined8 param_2,undefined1 param_3,undefined8 param_4,
               undefined8 param_5,undefined1 param_6)

{
  RendererSceneRender::environment_set_volumetric_fog
            (*(undefined8 *)(param_1 + 8),param_2,param_3,param_4,param_5,param_6);
  return;
}



/* RendererSceneCull::environment_get_fog_depth_end(RID) const */

void RendererSceneCull::environment_get_fog_depth_end(long param_1)

{
  RendererSceneRender::environment_get_fog_depth_end(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_depth_begin(RID) const */

void RendererSceneCull::environment_get_fog_depth_begin(long param_1)

{
  RendererSceneRender::environment_get_fog_depth_begin(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_depth_curve(RID) const */

void RendererSceneCull::environment_get_fog_depth_curve(long param_1)

{
  RendererSceneRender::environment_get_fog_depth_curve(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_fog_depth(RID, float, float, float) */

void RendererSceneCull::environment_set_fog_depth(long param_1)

{
  RendererSceneRender::environment_set_fog_depth(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_sky_affect(RID) const */

void RendererSceneCull::environment_get_fog_sky_affect(long param_1)

{
  RendererSceneRender::environment_get_fog_sky_affect(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_aerial_perspective(RID) const */

void RendererSceneCull::environment_get_fog_aerial_perspective(long param_1)

{
  RendererSceneRender::environment_get_fog_aerial_perspective(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_height_density(RID) const */

void RendererSceneCull::environment_get_fog_height_density(long param_1)

{
  RendererSceneRender::environment_get_fog_height_density(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_height(RID) const */

void RendererSceneCull::environment_get_fog_height(long param_1)

{
  RendererSceneRender::environment_get_fog_height(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_density(RID) const */

void RendererSceneCull::environment_get_fog_density(long param_1)

{
  RendererSceneRender::environment_get_fog_density(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_sun_scatter(RID) const */

void RendererSceneCull::environment_get_fog_sun_scatter(long param_1)

{
  RendererSceneRender::environment_get_fog_sun_scatter(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_light_energy(RID) const */

void RendererSceneCull::environment_get_fog_light_energy(long param_1)

{
  RendererSceneRender::environment_get_fog_light_energy(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_light_color(RID) const */

void RendererSceneCull::environment_get_fog_light_color(long param_1)

{
  RendererSceneRender::environment_get_fog_light_color(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_mode(RID) const */

void RendererSceneCull::environment_get_fog_mode(long param_1)

{
  RendererSceneRender::environment_get_fog_mode(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_fog_enabled(RID) const */

void RendererSceneCull::environment_get_fog_enabled(long param_1)

{
  RendererSceneRender::environment_get_fog_enabled(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_fog(RID, bool, Color const&, float, float, float, float,
   float, float, float, RenderingServer::EnvironmentFogMode) */

void RendererSceneCull::environment_set_fog(long param_1,undefined8 param_2,undefined1 param_3)

{
  RendererSceneRender::environment_set_fog(*(undefined8 *)(param_1 + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::environment_get_white(RID) const */

void RendererSceneCull::environment_get_white(long param_1)

{
  RendererSceneRender::environment_get_white(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_exposure(RID) const */

void RendererSceneCull::environment_get_exposure(long param_1)

{
  RendererSceneRender::environment_get_exposure(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_tone_mapper(RID) const */

void RendererSceneCull::environment_get_tone_mapper(long param_1)

{
  RendererSceneRender::environment_get_tone_mapper(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_tonemap(RID, RenderingServer::EnvironmentToneMapper, float,
   float) */

void RendererSceneCull::environment_set_tonemap(long param_1)

{
  RendererSceneRender::environment_set_tonemap(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_reflection_source(RID) const */

void RendererSceneCull::environment_get_reflection_source(long param_1)

{
  RendererSceneRender::environment_get_reflection_source(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ambient_sky_contribution(RID) const */

void RendererSceneCull::environment_get_ambient_sky_contribution(long param_1)

{
  RendererSceneRender::environment_get_ambient_sky_contribution(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ambient_light_energy(RID) const */

void RendererSceneCull::environment_get_ambient_light_energy(long param_1)

{
  RendererSceneRender::environment_get_ambient_light_energy(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ambient_light(RID) const */

void RendererSceneCull::environment_get_ambient_light(long param_1)

{
  RendererSceneRender::environment_get_ambient_light(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_ambient_source(RID) const */

void RendererSceneCull::environment_get_ambient_source(long param_1)

{
  RendererSceneRender::environment_get_ambient_source(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_canvas_max_layer(RID) const */

void RendererSceneCull::environment_get_canvas_max_layer(long param_1)

{
  RendererSceneRender::environment_get_canvas_max_layer(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_bg_intensity(RID) const */

void RendererSceneCull::environment_get_bg_intensity(long param_1)

{
  RendererSceneRender::environment_get_bg_intensity(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_bg_energy_multiplier(RID) const */

void RendererSceneCull::environment_get_bg_energy_multiplier(long param_1)

{
  RendererSceneRender::environment_get_bg_energy_multiplier(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_bg_color(RID) const */

void RendererSceneCull::environment_get_bg_color(long param_1)

{
  RendererSceneRender::environment_get_bg_color(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sky_orientation(RID) const */

RendererSceneCull * __thiscall
RendererSceneCull::environment_get_sky_orientation(RendererSceneCull *this,long param_2)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  RendererSceneRender::environment_get_sky_orientation(this,*(undefined8 *)(param_2 + 8));
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::environment_get_sky_custom_fov(RID) const */

void RendererSceneCull::environment_get_sky_custom_fov(long param_1)

{
  RendererSceneRender::environment_get_sky_custom_fov(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_sky(RID) const */

void RendererSceneCull::environment_get_sky(long param_1)

{
  RendererSceneRender::environment_get_sky(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_get_background(RID) const */

void RendererSceneCull::environment_get_background(long param_1)

{
  RendererSceneRender::environment_get_background(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_camera_feed_id(RID, int) */

void RendererSceneCull::environment_set_camera_feed_id(long param_1)

{
  RendererSceneRender::environment_set_camera_feed_id(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_ambient_light(RID, Color const&,
   RenderingServer::EnvironmentAmbientSource, float, float,
   RenderingServer::EnvironmentReflectionSource) */

void RendererSceneCull::environment_set_ambient_light(long param_1)

{
  RendererSceneRender::environment_set_ambient_light(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_canvas_max_layer(RID, int) */

void RendererSceneCull::environment_set_canvas_max_layer(long param_1)

{
  RendererSceneRender::environment_set_canvas_max_layer(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_bg_energy(RID, float, float) */

void RendererSceneCull::environment_set_bg_energy(long param_1)

{
  RendererSceneRender::environment_set_bg_energy(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_bg_color(RID, Color const&) */

void RendererSceneCull::environment_set_bg_color(long param_1)

{
  RendererSceneRender::environment_set_bg_color(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_sky_orientation(RID, Basis const&) */

void RendererSceneCull::environment_set_sky_orientation(long param_1)

{
  RendererSceneRender::environment_set_sky_orientation(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_sky_custom_fov(RID, float) */

void RendererSceneCull::environment_set_sky_custom_fov(long param_1)

{
  RendererSceneRender::environment_set_sky_custom_fov(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_sky(RID, RID) */

void RendererSceneCull::environment_set_sky(long param_1)

{
  RendererSceneRender::environment_set_sky(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_set_background(RID, RenderingServer::EnvironmentBG) */

void RendererSceneCull::environment_set_background(long param_1)

{
  RendererSceneRender::environment_set_background(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_initialize(RID) */

void RendererSceneCull::environment_initialize(long param_1)

{
  RendererSceneRender::environment_initialize(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::environment_allocate() */

void RendererSceneCull::environment_allocate(void)

{
  RendererSceneRender::environment_allocate();
  return;
}



/* RendererSceneCull::compositor_set_compositor_effects(RID, TypedArray<RID> const&) */

void RendererSceneCull::compositor_set_compositor_effects(long param_1)

{
  RendererSceneRender::compositor_set_compositor_effects(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::compositor_initialize(RID) */

void RendererSceneCull::compositor_initialize(long param_1)

{
  RendererSceneRender::compositor_initialize(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::compositor_allocate() */

void RendererSceneCull::compositor_allocate(void)

{
  RendererSceneRender::compositor_allocate();
  return;
}



/* RendererSceneCull::compositor_effect_set_flag(RID, RenderingServer::CompositorEffectFlags, bool)
    */

void __thiscall
RendererSceneCull::compositor_effect_set_flag
          (RendererSceneCull *this,undefined8 param_2,undefined8 param_3,undefined1 param_4)

{
  RendererSceneRender::compositor_effect_set_flag(*(undefined8 *)(this + 8),param_2,param_3,param_4)
  ;
  return;
}



/* RendererSceneCull::compositor_effect_set_callback(RID,
   RenderingServer::CompositorEffectCallbackType, Callable const&) */

void RendererSceneCull::compositor_effect_set_callback(long param_1)

{
  RendererSceneRender::compositor_effect_set_callback(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::compositor_effect_set_enabled(RID, bool) */

void __thiscall
RendererSceneCull::compositor_effect_set_enabled
          (RendererSceneCull *this,undefined8 param_2,undefined1 param_3)

{
  RendererSceneRender::compositor_effect_set_enabled(*(undefined8 *)(this + 8),param_2,param_3);
  return;
}



/* RendererSceneCull::is_compositor_effect(RID) const */

void RendererSceneCull::is_compositor_effect(long param_1)

{
  RendererSceneRender::is_compositor_effect(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::compositor_effect_initialize(RID) */

void RendererSceneCull::compositor_effect_initialize(long param_1)

{
  RendererSceneRender::compositor_effect_initialize(*(undefined8 *)(param_1 + 8));
  return;
}



/* RendererSceneCull::compositor_effect_allocate() */

void RendererSceneCull::compositor_effect_allocate(void)

{
  RendererSceneRender::compositor_effect_allocate();
  return;
}



/* CallableCustomStaticMethodPointer<void, RID, Vector3 const&, Vector3 const&>::call(Variant
   const**, int, Variant&, Callable::CallError&) const */

void __thiscall
CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&>::call
          (CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&> *this,
          Variant **param_1,int param_2,Variant *param_3,CallError *param_4)

{
  code *pcVar1;
  Variant *pVVar2;
  undefined1 auVar3 [12];
  undefined1 auVar4 [12];
  undefined1 auVar5 [12];
  undefined1 auVar6 [12];
  undefined1 auVar7 [12];
  undefined1 auVar8 [12];
  undefined1 auVar9 [12];
  char cVar10;
  undefined8 uVar11;
  long in_FS_OFFSET;
  undefined1 local_74 [12];
  undefined1 local_68 [12];
  undefined1 local_5c [12];
  undefined1 local_50 [12];
  undefined1 local_44 [12];
  undefined1 local_38 [12];
  undefined1 local_2c [12];
  long local_20;
  
  auVar9._8_4_ = local_2c._8_4_;
  auVar9._0_8_ = local_2c._0_8_;
  auVar8._8_4_ = local_44._8_4_;
  auVar8._0_8_ = local_44._0_8_;
  auVar7._8_4_ = local_38._8_4_;
  auVar7._0_8_ = local_38._0_8_;
  auVar6._8_4_ = local_50._8_4_;
  auVar6._0_8_ = local_50._0_8_;
  auVar5._8_4_ = local_5c._8_4_;
  auVar5._0_8_ = local_5c._0_8_;
  auVar4._8_4_ = local_68._8_4_;
  auVar4._0_8_ = local_68._0_8_;
  auVar3._8_4_ = local_74._8_4_;
  auVar3._0_8_ = local_74._0_8_;
  pcVar1 = *(code **)(this + 0x28);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if ((uint)param_2 < 4) {
    if (param_2 == 3) {
      pVVar2 = param_1[2];
      *(undefined4 *)param_4 = 0;
      cVar10 = Variant::can_convert_strict(*(undefined4 *)pVVar2,9);
      uVar11 = _LC44;
      if (cVar10 == '\0') {
        *(undefined4 *)param_4 = 2;
        *(undefined8 *)(param_4 + 4) = uVar11;
      }
      local_74 = Variant::operator_cast_to_Vector3(param_1[2]);
      local_44 = local_74;
      local_38 = local_74;
      local_2c = local_74;
      cVar10 = Variant::can_convert_strict(*(undefined4 *)param_1[1],9);
      uVar11 = _LC45;
      if (cVar10 == '\0') {
        *(undefined4 *)param_4 = 2;
        *(undefined8 *)(param_4 + 4) = uVar11;
      }
      local_68 = Variant::operator_cast_to_Vector3(param_1[1]);
      local_5c = local_68;
      local_50 = local_68;
      local_44 = local_68;
      cVar10 = Variant::can_convert_strict(*(undefined4 *)*param_1,0x17);
      uVar11 = _LC46;
      if (cVar10 == '\0') {
        *(undefined4 *)param_4 = 2;
        *(undefined8 *)(param_4 + 4) = uVar11;
      }
      uVar11 = Variant::operator_cast_to_RID(*param_1);
      (*pcVar1)(uVar11,local_68,local_74);
    }
    else {
      *(undefined4 *)param_4 = 4;
      *(undefined4 *)(param_4 + 8) = 3;
      local_74 = auVar3;
      local_68 = auVar4;
      local_5c = auVar5;
      local_50 = auVar6;
      local_38 = auVar7;
      local_44 = auVar8;
      local_2c = auVar9;
    }
  }
  else {
    *(undefined4 *)param_4 = 3;
    *(undefined4 *)(param_4 + 8) = 3;
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CowData<ObjectID>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<ObjectID>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_copy_on_write() [clone .isra.0]
   [clone .cold] */

void CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<RendererSceneCull::Instance*>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<RendererSceneCull::Instance*>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<Color>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<Color>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::_copy_on_write() [clone
   .isra.0] [clone .cold] */

void CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<RID>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<RID>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<RendererSceneCull::PlaneSign>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<RendererSceneCull::PlaneSign>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<Plane>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<Plane>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::scenario_initialize(RID) [clone .cold] */

void RendererSceneCull::scenario_initialize
               (undefined8 param_1,undefined8 param_2,undefined8 param_3)

{
  code *pcVar1;
  int in_EAX;
  
  if (in_EAX + 0x80000000U < 0x7fffffff) {
    _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                     "Method/function failed. Returning: nullptr",
                     "Attempting to use an uninitialized RID",0,0,param_3);
  }
  _DAT_00000100 = 0;
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::instance_initialize(RID) [clone .cold] */

void RendererSceneCull::instance_initialize
               (undefined8 param_1,undefined8 param_2,undefined8 param_3)

{
  code *pcVar1;
  int in_EAX;
  
  if (in_EAX + 0x80000000U < 0x7fffffff) {
    _err_print_error("get_or_null","./core/templates/rid_owner.h",0x103,
                     "Method/function failed. Returning: nullptr",
                     "Attempting to use an uninitialized RID",0,0,param_3);
  }
  _DAT_000001a0 = 0;
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* Error CowData<Plane>::resize<false>(long) [clone .isra.0] [clone .cold] */

void CowData<Plane>::resize<false>(long param_1)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00129e14(void)

{
  code *pcVar1;
  
  _DAT_00000000 = 0;
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* Error CowData<Color>::resize<false>(long) [clone .isra.0] [clone .cold] */

void CowData<Color>::resize<false>(long param_1)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void FUN_00129e2a(void)

{
  code *pcVar1;
  
  _DAT_00000000 = 0;
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RendererSceneCull::render_probes() [clone .cold] */

void RendererSceneCull::render_probes(void)

{
  code *pcVar1;
  
  _DAT_00000000 = 0;
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



void FUN_00129e42(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* RefCounted::_get_class_namev() const */

undefined8 * RefCounted::_get_class_namev(void)

{
  int iVar1;
  
  if ((_get_class_namev()::_class_name_static == '\0') &&
     (iVar1 = __cxa_guard_acquire(&_get_class_namev()::_class_name_static), iVar1 != 0)) {
    _get_class_namev()::_class_name_static = 0;
    __cxa_atexit(StringName::~StringName,&_get_class_namev()::_class_name_static,&__dso_handle);
    __cxa_guard_release(&_get_class_namev()::_class_name_static);
  }
  if (_get_class_namev()::_class_name_static != 0) {
    if (*(long *)(_get_class_namev()::_class_name_static + 8) != 0) {
LAB_00129e93:
      return &_get_class_namev()::_class_name_static;
    }
    if (*(long *)(_get_class_namev()::_class_name_static + 0x10) != 0) {
      if (1 < *(uint *)(*(long *)(_get_class_namev()::_class_name_static + 0x10) + -8))
      goto LAB_00129e93;
      StringName::assign_static_unique_class_name
                ((StringName *)&_get_class_namev()::_class_name_static,"RefCounted");
      goto LAB_00129efe;
    }
  }
  StringName::assign_static_unique_class_name
            ((StringName *)&_get_class_namev()::_class_name_static,"RefCounted");
LAB_00129efe:
  return &_get_class_namev()::_class_name_static;
}



/* RendererSceneCull::environment_set_glow(RID, bool, Vector<float>, float, float, float, float,
   RenderingServer::EnvironmentGlowBlendMode, float, float, float, float, RID) */

void RendererSceneCull::environment_set_glow
               (long param_1,undefined8 param_2,undefined1 param_3,long param_4)

{
  long *plVar1;
  undefined8 uVar2;
  long lVar3;
  long lVar4;
  long in_FS_OFFSET;
  bool bVar5;
  undefined1 auStack_28 [8];
  long local_20;
  long local_10;
  
  uVar2 = *(undefined8 *)(param_1 + 8);
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_20 = 0;
  if (*(long *)(param_4 + 8) != 0) {
    plVar1 = (long *)(*(long *)(param_4 + 8) + -0x10);
    do {
      lVar3 = *plVar1;
      if (lVar3 == 0) goto LAB_00129f94;
      LOCK();
      lVar4 = *plVar1;
      bVar5 = lVar3 == lVar4;
      if (bVar5) {
        *plVar1 = lVar3 + 1;
        lVar4 = lVar3;
      }
      UNLOCK();
    } while (!bVar5);
    if (lVar4 != -1) {
      local_20 = *(long *)(param_4 + 8);
    }
  }
LAB_00129f94:
  RendererSceneRender::environment_set_glow(uVar2,param_2,param_3,auStack_28);
  lVar3 = local_20;
  if (local_20 != 0) {
    LOCK();
    plVar1 = (long *)(local_20 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_20 = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
    }
  }
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* RendererSceneOcclusionCull::free_occluder(RID) */

void RendererSceneOcclusionCull::free_occluder(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::occluder_set_mesh(RID, Vector<Vector3> const&, Vector<int> const&) */

void RendererSceneOcclusionCull::occluder_set_mesh(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::remove_buffer(RID) */

void RendererSceneOcclusionCull::remove_buffer(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::buffer_set_scenario(RID, RID) */

void RendererSceneOcclusionCull::buffer_set_scenario(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::buffer_set_size(RID, Vector2i const&) */

void RendererSceneOcclusionCull::buffer_set_size(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::scenario_remove_instance(RID, RID) */

void RendererSceneOcclusionCull::scenario_remove_instance(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::add_buffer(RID) */

void RendererSceneOcclusionCull::add_buffer(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::scenario_set_instance(RID, RID, RID, Transform3D const&, bool) */

void RendererSceneOcclusionCull::scenario_set_instance(void)

{
  if (_print_warning()::first_print == '\0') {
    return;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return;
}



/* RendererSceneOcclusionCull::buffer_get_debug_texture(RID) */

undefined8 RendererSceneOcclusionCull::buffer_get_debug_texture(void)

{
  if (_print_warning()::first_print == '\0') {
    return 0;
  }
  _err_print_error("_print_warning","./servers/rendering/renderer_scene_occlusion_cull.h",0xcd,
                   "Occlusion culling is disabled at build-time.",0,1);
  _print_warning()::first_print = 0;
  return 0;
}



/* RendererSceneCull::InstanceVisibilityNotifierData::~InstanceVisibilityNotifierData() */

void __thiscall
RendererSceneCull::InstanceVisibilityNotifierData::~InstanceVisibilityNotifierData
          (InstanceVisibilityNotifierData *this)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  
  *(undefined ***)this = &PTR__InstanceVisibilityNotifierData_00138110;
  plVar1 = *(long **)(this + 0x20);
  if (plVar1 != (long *)0x0) {
    lVar2 = *(long *)(this + 0x30);
    if (lVar2 != 0) {
      *(undefined8 *)(lVar2 + 0x18) = *(undefined8 *)(this + 0x38);
    }
    lVar3 = *(long *)(this + 0x38);
    if (lVar3 != 0) {
      *(long *)(lVar3 + 0x10) = lVar2;
    }
    if (this + 0x20 == (InstanceVisibilityNotifierData *)*plVar1) {
      *plVar1 = *(long *)(this + 0x30);
    }
    if (this + 0x20 == (InstanceVisibilityNotifierData *)plVar1[1]) {
      plVar1[1] = lVar3;
      return;
    }
  }
  return;
}



/* RendererSceneCull::InstanceVisibilityNotifierData::~InstanceVisibilityNotifierData() */

void __thiscall
RendererSceneCull::InstanceVisibilityNotifierData::~InstanceVisibilityNotifierData
          (InstanceVisibilityNotifierData *this)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  
  *(undefined ***)this = &PTR__InstanceVisibilityNotifierData_00138110;
  plVar1 = *(long **)(this + 0x20);
  if (plVar1 != (long *)0x0) {
    lVar2 = *(long *)(this + 0x30);
    if (lVar2 != 0) {
      *(undefined8 *)(lVar2 + 0x18) = *(undefined8 *)(this + 0x38);
    }
    lVar3 = *(long *)(this + 0x38);
    if (lVar3 != 0) {
      *(long *)(lVar3 + 0x10) = lVar2;
    }
    if (this + 0x20 == (InstanceVisibilityNotifierData *)*plVar1) {
      *plVar1 = *(long *)(this + 0x30);
    }
    if (this + 0x20 == (InstanceVisibilityNotifierData *)plVar1[1]) {
      plVar1[1] = lVar3;
      operator_delete(this,0x40);
      return;
    }
  }
  operator_delete(this,0x40);
  return;
}



/* CallableCustomMethodPointerBase::get_as_text() const */

void CallableCustomMethodPointerBase::get_as_text(void)

{
  char *__s;
  long lVar1;
  long in_RSI;
  StrRange *in_RDI;
  long in_FS_OFFSET;
  
  __s = *(char **)(in_RSI + 0x20);
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)in_RDI = 0;
  if (__s != (char *)0x0) {
    strlen(__s);
  }
  String::parse_latin1(in_RDI);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::InstanceDecalData::~InstanceDecalData() */

void __thiscall RendererSceneCull::InstanceDecalData::~InstanceDecalData(InstanceDecalData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0x18);
  *(undefined ***)this = &PTR__InstanceDecalData_001380b0;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x3c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x38) * 4) != 0) {
        memset(*(void **)(this + 0x30),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x38) * 4) << 2);
      }
      *(undefined4 *)(this + 0x3c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x28),false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x30),false);
    return;
  }
  return;
}



/* RendererSceneCull::InstanceLightData::~InstanceLightData() */

void __thiscall RendererSceneCull::InstanceLightData::~InstanceLightData(InstanceLightData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0x28);
  *(undefined ***)this = &PTR__InstanceLightData_00138130;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x4c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x48) * 4) != 0) {
        memset(*(void **)(this + 0x40),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x48) * 4) << 2);
      }
      *(undefined4 *)(this + 0x4c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x38),false);
    Memory::free_static(*(void **)(this + 0x30),false);
    Memory::free_static(*(void **)(this + 0x40),false);
    return;
  }
  return;
}



/* RendererSceneCull::InstanceDecalData::~InstanceDecalData() */

void __thiscall RendererSceneCull::InstanceDecalData::~InstanceDecalData(InstanceDecalData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0x18);
  *(undefined ***)this = &PTR__InstanceDecalData_001380b0;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x3c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x38) * 4) != 0) {
        memset(*(void **)(this + 0x30),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x38) * 4) << 2);
      }
      *(undefined4 *)(this + 0x3c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x28),false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x30),false);
  }
  operator_delete(this,0x40);
  return;
}



/* RendererSceneCull::InstanceLightData::~InstanceLightData() */

void __thiscall RendererSceneCull::InstanceLightData::~InstanceLightData(InstanceLightData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0x28);
  *(undefined ***)this = &PTR__InstanceLightData_00138130;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x4c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x48) * 4) != 0) {
        memset(*(void **)(this + 0x40),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x48) * 4) << 2);
      }
      *(undefined4 *)(this + 0x4c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x38),false);
    Memory::free_static(*(void **)(this + 0x30),false);
    Memory::free_static(*(void **)(this + 0x40),false);
  }
  operator_delete(this,0x70);
  return;
}



/* RendererSceneCull::InstanceReflectionProbeData::~InstanceReflectionProbeData() */

void __thiscall
RendererSceneCull::InstanceReflectionProbeData::~InstanceReflectionProbeData
          (InstanceReflectionProbeData *this)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  void *pvVar4;
  
  *(undefined ***)this = &PTR__InstanceReflectionProbeData_00138090;
  plVar1 = *(long **)(this + 0x40);
  if (plVar1 != (long *)0x0) {
    lVar2 = *(long *)(this + 0x50);
    if (lVar2 != 0) {
      *(undefined8 *)(lVar2 + 0x18) = *(undefined8 *)(this + 0x58);
    }
    lVar3 = *(long *)(this + 0x58);
    if (lVar3 != 0) {
      *(long *)(lVar3 + 0x10) = lVar2;
    }
    if (this + 0x40 == (InstanceReflectionProbeData *)*plVar1) {
      *plVar1 = *(long *)(this + 0x50);
    }
    if (this + 0x40 == (InstanceReflectionProbeData *)plVar1[1]) {
      plVar1[1] = lVar3;
    }
  }
  pvVar4 = *(void **)(this + 0x10);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
    return;
  }
  return;
}



/* RendererSceneCull::InstanceReflectionProbeData::~InstanceReflectionProbeData() */

void __thiscall
RendererSceneCull::InstanceReflectionProbeData::~InstanceReflectionProbeData
          (InstanceReflectionProbeData *this)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  void *pvVar4;
  
  *(undefined ***)this = &PTR__InstanceReflectionProbeData_00138090;
  plVar1 = *(long **)(this + 0x40);
  if (plVar1 != (long *)0x0) {
    lVar2 = *(long *)(this + 0x50);
    if (lVar2 != 0) {
      *(undefined8 *)(lVar2 + 0x18) = *(undefined8 *)(this + 0x58);
    }
    lVar3 = *(long *)(this + 0x58);
    if (lVar3 != 0) {
      *(long *)(lVar3 + 0x10) = lVar2;
    }
    if (this + 0x40 == (InstanceReflectionProbeData *)*plVar1) {
      *plVar1 = *(long *)(this + 0x50);
    }
    if (this + 0x40 == (InstanceReflectionProbeData *)plVar1[1]) {
      plVar1[1] = lVar3;
    }
  }
  pvVar4 = *(void **)(this + 0x10);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
  }
  operator_delete(this,0x68);
  return;
}



/* RendererSceneCull::InstanceLightmapData::~InstanceLightmapData() */

void __thiscall
RendererSceneCull::InstanceLightmapData::~InstanceLightmapData(InstanceLightmapData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0x38);
  *(undefined ***)this = &PTR__InstanceLightmapData_00138170;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x5c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) != 0) {
        memset(*(void **)(this + 0x50),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) << 2);
      }
      *(undefined4 *)(this + 0x5c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x48),false);
    Memory::free_static(*(void **)(this + 0x40),false);
    Memory::free_static(*(void **)(this + 0x50),false);
  }
  pvVar1 = *(void **)(this + 0x10);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
    return;
  }
  return;
}



/* RendererSceneCull::InstanceLightmapData::~InstanceLightmapData() */

void __thiscall
RendererSceneCull::InstanceLightmapData::~InstanceLightmapData(InstanceLightmapData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0x38);
  *(undefined ***)this = &PTR__InstanceLightmapData_00138170;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x5c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) != 0) {
        memset(*(void **)(this + 0x50),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) << 2);
      }
      *(undefined4 *)(this + 0x5c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x48),false);
    Memory::free_static(*(void **)(this + 0x40),false);
    Memory::free_static(*(void **)(this + 0x50),false);
  }
  pvVar1 = *(void **)(this + 0x10);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
  }
  operator_delete(this,0x60);
  return;
}



/* RefCounted::get_class() const */

void RefCounted::get_class(void)

{
  long lVar1;
  long lVar2;
  char *__s;
  long in_RSI;
  StrRange *in_RDI;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)(in_RSI + 8) == 0) {
    *(undefined8 *)in_RDI = 0;
    String::parse_latin1(in_RDI);
  }
  else {
    lVar2 = *(long *)(*(long *)(in_RSI + 8) + 0x20);
    if (lVar2 == 0) {
      *(undefined8 *)in_RDI = 0;
    }
    else {
      __s = *(char **)(lVar2 + 8);
      *(undefined8 *)in_RDI = 0;
      if (__s == (char *)0x0) {
        if (*(long *)(lVar2 + 0x10) != 0) {
          CowData<char32_t>::_ref((CowData<char32_t> *)in_RDI,(CowData *)(lVar2 + 0x10));
        }
      }
      else {
        strlen(__s);
        String::parse_latin1(in_RDI);
      }
    }
  }
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::InstanceVoxelGIData::~InstanceVoxelGIData() */

void __thiscall
RendererSceneCull::InstanceVoxelGIData::~InstanceVoxelGIData(InstanceVoxelGIData *this)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  void *pvVar4;
  
  *(undefined ***)this = &PTR__InstanceVoxelGIData_00138150;
  plVar1 = *(long **)(this + 0xb8);
  if (plVar1 != (long *)0x0) {
    lVar2 = *(long *)(this + 200);
    if (lVar2 != 0) {
      *(undefined8 *)(lVar2 + 0x18) = *(undefined8 *)(this + 0xd0);
    }
    lVar3 = *(long *)(this + 0xd0);
    if (lVar3 != 0) {
      *(long *)(lVar3 + 0x10) = lVar2;
    }
    if (this + 0xb8 == (InstanceVoxelGIData *)*plVar1) {
      *plVar1 = *(long *)(this + 200);
    }
    if (this + 0xb8 == (InstanceVoxelGIData *)plVar1[1]) {
      plVar1[1] = lVar3;
    }
  }
  if (*(long *)(this + 0xa0) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0xa0) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(this + 0xa0);
      *(undefined8 *)(this + 0xa0) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if (*(long *)(this + 0x90) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0x90) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(this + 0x90);
      *(undefined8 *)(this + 0x90) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  pvVar4 = *(void **)(this + 0x60);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x84) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x80) * 4) != 0) {
        memset(*(void **)(this + 0x78),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x80) * 4) << 2);
      }
      *(undefined4 *)(this + 0x84) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x70),false);
    Memory::free_static(*(void **)(this + 0x68),false);
    Memory::free_static(*(void **)(this + 0x78),false);
  }
  pvVar4 = *(void **)(this + 0x38);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x5c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) != 0) {
        memset(*(void **)(this + 0x50),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) << 2);
      }
      *(undefined4 *)(this + 0x5c) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x48),false);
    Memory::free_static(*(void **)(this + 0x40),false);
    Memory::free_static(*(void **)(this + 0x50),false);
  }
  pvVar4 = *(void **)(this + 0x10);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
    return;
  }
  return;
}



/* RendererSceneCull::InstanceGeometryData::~InstanceGeometryData() */

void __thiscall
RendererSceneCull::InstanceGeometryData::~InstanceGeometryData(InstanceGeometryData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0xc0);
  *(undefined ***)this = &PTR__InstanceGeometryData_00138070;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0xe4) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xe0) * 4) != 0) {
        memset(*(void **)(this + 0xd8),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xe0) * 4) << 2);
      }
      *(undefined4 *)(this + 0xe4) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0xd0),false);
    Memory::free_static(*(void **)(this + 200),false);
    Memory::free_static(*(void **)(this + 0xd8),false);
  }
  pvVar1 = *(void **)(this + 0x98);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0xbc) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xb8) * 4) != 0) {
        memset(*(void **)(this + 0xb0),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xb8) * 4) << 2);
      }
      *(undefined4 *)(this + 0xbc) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0xa8),false);
    Memory::free_static(*(void **)(this + 0xa0),false);
    Memory::free_static(*(void **)(this + 0xb0),false);
  }
  pvVar1 = *(void **)(this + 0x70);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x94) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x90) * 4) != 0) {
        memset(*(void **)(this + 0x88),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x90) * 4) << 2);
      }
      *(undefined4 *)(this + 0x94) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x80),false);
    Memory::free_static(*(void **)(this + 0x78),false);
    Memory::free_static(*(void **)(this + 0x88),false);
  }
  pvVar1 = *(void **)(this + 0x48);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x6c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x68) * 4) != 0) {
        memset(*(void **)(this + 0x60),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x68) * 4) << 2);
      }
      *(undefined4 *)(this + 0x6c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x58),false);
    Memory::free_static(*(void **)(this + 0x50),false);
    Memory::free_static(*(void **)(this + 0x60),false);
  }
  pvVar1 = *(void **)(this + 0x10);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
    return;
  }
  return;
}



/* RendererSceneCull::InstanceVoxelGIData::~InstanceVoxelGIData() */

void __thiscall
RendererSceneCull::InstanceVoxelGIData::~InstanceVoxelGIData(InstanceVoxelGIData *this)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  void *pvVar4;
  
  *(undefined ***)this = &PTR__InstanceVoxelGIData_00138150;
  plVar1 = *(long **)(this + 0xb8);
  if (plVar1 != (long *)0x0) {
    lVar2 = *(long *)(this + 200);
    if (lVar2 != 0) {
      *(undefined8 *)(lVar2 + 0x18) = *(undefined8 *)(this + 0xd0);
    }
    lVar3 = *(long *)(this + 0xd0);
    if (lVar3 != 0) {
      *(long *)(lVar3 + 0x10) = lVar2;
    }
    if (this + 0xb8 == (InstanceVoxelGIData *)*plVar1) {
      *plVar1 = *(long *)(this + 200);
    }
    if (this + 0xb8 == (InstanceVoxelGIData *)plVar1[1]) {
      plVar1[1] = lVar3;
    }
  }
  if (*(long *)(this + 0xa0) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0xa0) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(this + 0xa0);
      *(undefined8 *)(this + 0xa0) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if (*(long *)(this + 0x90) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0x90) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(this + 0x90);
      *(undefined8 *)(this + 0x90) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  pvVar4 = *(void **)(this + 0x60);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x84) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x80) * 4) != 0) {
        memset(*(void **)(this + 0x78),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x80) * 4) << 2);
      }
      *(undefined4 *)(this + 0x84) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x70),false);
    Memory::free_static(*(void **)(this + 0x68),false);
    Memory::free_static(*(void **)(this + 0x78),false);
  }
  pvVar4 = *(void **)(this + 0x38);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x5c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) != 0) {
        memset(*(void **)(this + 0x50),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x58) * 4) << 2);
      }
      *(undefined4 *)(this + 0x5c) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x48),false);
    Memory::free_static(*(void **)(this + 0x40),false);
    Memory::free_static(*(void **)(this + 0x50),false);
  }
  pvVar4 = *(void **)(this + 0x10);
  if (pvVar4 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
  }
  operator_delete(this,0xd8);
  return;
}



/* RendererSceneCull::InstanceGeometryData::~InstanceGeometryData() */

void __thiscall
RendererSceneCull::InstanceGeometryData::~InstanceGeometryData(InstanceGeometryData *this)

{
  void *pvVar1;
  
  pvVar1 = *(void **)(this + 0xc0);
  *(undefined ***)this = &PTR__InstanceGeometryData_00138070;
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0xe4) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xe0) * 4) != 0) {
        memset(*(void **)(this + 0xd8),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xe0) * 4) << 2);
      }
      *(undefined4 *)(this + 0xe4) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0xd0),false);
    Memory::free_static(*(void **)(this + 200),false);
    Memory::free_static(*(void **)(this + 0xd8),false);
  }
  pvVar1 = *(void **)(this + 0x98);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0xbc) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xb8) * 4) != 0) {
        memset(*(void **)(this + 0xb0),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0xb8) * 4) << 2);
      }
      *(undefined4 *)(this + 0xbc) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0xa8),false);
    Memory::free_static(*(void **)(this + 0xa0),false);
    Memory::free_static(*(void **)(this + 0xb0),false);
  }
  pvVar1 = *(void **)(this + 0x70);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x94) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x90) * 4) != 0) {
        memset(*(void **)(this + 0x88),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x90) * 4) << 2);
      }
      *(undefined4 *)(this + 0x94) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x80),false);
    Memory::free_static(*(void **)(this + 0x78),false);
    Memory::free_static(*(void **)(this + 0x88),false);
  }
  pvVar1 = *(void **)(this + 0x48);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x6c) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x68) * 4) != 0) {
        memset(*(void **)(this + 0x60),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x68) * 4) << 2);
      }
      *(undefined4 *)(this + 0x6c) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x58),false);
    Memory::free_static(*(void **)(this + 0x50),false);
    Memory::free_static(*(void **)(this + 0x60),false);
  }
  pvVar1 = *(void **)(this + 0x10);
  if (pvVar1 != (void *)0x0) {
    if (*(int *)(this + 0x34) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) != 0) {
        memset(*(void **)(this + 0x28),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x30) * 4) << 2);
      }
      *(undefined4 *)(this + 0x34) = 0;
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(*(void **)(this + 0x20),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    Memory::free_static(*(void **)(this + 0x28),false);
  }
  operator_delete(this,0xe8);
  return;
}



/* RendererSceneCull::Instance::dependency_deleted(RID const&, DependencyTracker*) */

void RendererSceneCull::Instance::dependency_deleted(RID *param_1,DependencyTracker *param_2)

{
  int *piVar1;
  int *piVar2;
  long *plVar3;
  long lVar4;
  ulong uVar5;
  
  piVar2 = *(int **)param_2;
  lVar4 = *(long *)param_1;
  if (*(long *)(piVar2 + 2) == lVar4) {
                    /* WARNING: Could not recover jumptable at 0x0012b5ce. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    (**(code **)(*singleton + 0xe0))(singleton,*(undefined8 *)(piVar2 + 0x68),0);
    return;
  }
  if (*(long *)(piVar2 + 4) != lVar4) {
    if (lVar4 == *(long *)(piVar2 + 6)) {
      (**(code **)(*singleton + 400))(singleton,*(undefined8 *)(piVar2 + 0x68),0);
      lVar4 = *(long *)param_1;
    }
    if (*(long *)(piVar2 + 8) == lVar4) {
      (**(code **)(*singleton + 0x198))(singleton,*(undefined8 *)(piVar2 + 0x68),0);
    }
    lVar4 = *(long *)(piVar2 + 0x34);
    for (uVar5 = 0; (lVar4 != 0 && ((long)uVar5 < *(long *)(lVar4 + -8))); uVar5 = uVar5 + 1) {
      if (*(long *)param_1 == *(long *)(lVar4 + uVar5 * 8)) {
        (**(code **)(*singleton + 0x128))
                  (singleton,*(undefined8 *)(piVar2 + 0x68),uVar5 & 0xffffffff,0);
        lVar4 = *(long *)(piVar2 + 0x34);
      }
    }
    if ((*piVar2 == 3) &&
       (lVar4 = (**(code **)(*RenderingServerGlobals::particles_storage + 0xa0))
                          (RenderingServerGlobals::particles_storage,*(undefined8 *)(piVar2 + 2)),
       *(long *)param_1 == lVar4)) {
      (**(code **)(*RenderingServerGlobals::particles_storage + 0x98))
                (RenderingServerGlobals::particles_storage,*(undefined8 *)(piVar2 + 2),0);
    }
    *(undefined1 *)((long)piVar2 + 0x231) = 1;
    plVar3 = singleton;
    if (*(long *)(piVar2 + 0x8e) == 0) {
      piVar1 = piVar2 + 0x8e;
      *(long **)(piVar2 + 0x8e) = singleton + 0x4c;
      lVar4 = plVar3[0x4c];
      piVar2[0x94] = 0;
      piVar2[0x95] = 0;
      *(long *)(piVar2 + 0x92) = lVar4;
      if (lVar4 == 0) {
        plVar3[0x4d] = (long)piVar1;
      }
      else {
        *(int **)(lVar4 + 0x18) = piVar1;
      }
      plVar3[0x4c] = (long)piVar1;
      return;
    }
    return;
  }
                    /* WARNING: Could not recover jumptable at 0x0012b5ae. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*singleton + 0x148))(singleton,*(undefined8 *)(piVar2 + 0x68),0);
  return;
}



/* RefCounted::is_class(String const&) const */

undefined8 __thiscall RefCounted::is_class(RefCounted *this,String *param_1)

{
  long *plVar1;
  long lVar2;
  char *pcVar3;
  long lVar4;
  long lVar5;
  char cVar6;
  undefined8 uVar7;
  long lVar8;
  long in_FS_OFFSET;
  bool bVar9;
  long local_60;
  char *local_58;
  size_t local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  for (lVar2 = *(long *)(this + 8); lVar2 != 0; lVar2 = *(long *)(lVar2 + 8)) {
    lVar4 = *(long *)(lVar2 + 0x20);
    if (lVar4 == 0) {
      local_60 = 0;
    }
    else {
      pcVar3 = *(char **)(lVar4 + 8);
      local_60 = 0;
      if (pcVar3 == (char *)0x0) {
        plVar1 = (long *)(*(long *)(lVar4 + 0x10) + -0x10);
        if (*(long *)(lVar4 + 0x10) != 0) {
          do {
            lVar5 = *plVar1;
            if (lVar5 == 0) goto LAB_0012b6df;
            LOCK();
            lVar8 = *plVar1;
            bVar9 = lVar5 == lVar8;
            if (bVar9) {
              *plVar1 = lVar5 + 1;
              lVar8 = lVar5;
            }
            UNLOCK();
          } while (!bVar9);
          if (lVar8 != -1) {
            local_60 = *(long *)(lVar4 + 0x10);
          }
        }
      }
      else {
        local_50 = strlen(pcVar3);
        local_58 = pcVar3;
        String::parse_latin1((StrRange *)&local_60);
      }
    }
LAB_0012b6df:
    cVar6 = String::operator==(param_1,(String *)&local_60);
    lVar4 = local_60;
    if (local_60 != 0) {
      LOCK();
      plVar1 = (long *)(local_60 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_60 = 0;
        Memory::free_static((void *)(lVar4 + -0x10),false);
      }
    }
    if (cVar6 != '\0') goto LAB_0012b793;
  }
  cVar6 = String::operator==(param_1,"RefCounted");
  if (cVar6 == '\0') {
    for (lVar2 = *(long *)(this + 8); lVar2 != 0; lVar2 = *(long *)(lVar2 + 8)) {
      lVar4 = *(long *)(lVar2 + 0x20);
      if (lVar4 == 0) {
        local_60 = 0;
      }
      else {
        pcVar3 = *(char **)(lVar4 + 8);
        local_60 = 0;
        if (pcVar3 == (char *)0x0) {
          plVar1 = (long *)(*(long *)(lVar4 + 0x10) + -0x10);
          if (*(long *)(lVar4 + 0x10) != 0) {
            do {
              lVar5 = *plVar1;
              if (lVar5 == 0) goto LAB_0012b843;
              LOCK();
              lVar8 = *plVar1;
              bVar9 = lVar5 == lVar8;
              if (bVar9) {
                *plVar1 = lVar5 + 1;
                lVar8 = lVar5;
              }
              UNLOCK();
            } while (!bVar9);
            if (lVar8 != -1) {
              local_60 = *(long *)(lVar4 + 0x10);
            }
          }
        }
        else {
          local_50 = strlen(pcVar3);
          local_58 = pcVar3;
          String::parse_latin1((StrRange *)&local_60);
        }
      }
LAB_0012b843:
      cVar6 = String::operator==(param_1,(String *)&local_60);
      lVar4 = local_60;
      if (local_60 != 0) {
        LOCK();
        plVar1 = (long *)(local_60 + -0x10);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          local_60 = 0;
          Memory::free_static((void *)(lVar4 + -0x10),false);
        }
      }
      if (cVar6 != '\0') goto LAB_0012b793;
    }
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      uVar7 = String::operator==(param_1,"Object");
      return uVar7;
    }
  }
  else {
LAB_0012b793:
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      return 1;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RefCounted::_initialize_classv() */

void RefCounted::_initialize_classv(void)

{
  long *plVar1;
  long lVar2;
  long in_FS_OFFSET;
  long local_50;
  long local_48;
  long local_40;
  char *local_38;
  undefined8 local_30;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if (initialize_class()::initialized == '\0') {
    Object::initialize_class();
    local_48 = 0;
    local_38 = "Object";
    local_30 = 6;
    String::parse_latin1((StrRange *)&local_48);
    StringName::StringName((StringName *)&local_40,(String *)&local_48,false);
    local_38 = "RefCounted";
    local_50 = 0;
    local_30 = 10;
    String::parse_latin1((StrRange *)&local_50);
    StringName::StringName((StringName *)&local_38,(String *)&local_50,false);
    ClassDB::_add_class2((StringName *)&local_38,(StringName *)&local_40);
    if ((StringName::configured != '\0') && (local_38 != (char *)0x0)) {
      StringName::unref();
    }
    lVar2 = local_50;
    if (local_50 != 0) {
      LOCK();
      plVar1 = (long *)(local_50 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    if ((StringName::configured != '\0') && (local_40 != 0)) {
      StringName::unref();
    }
    lVar2 = local_48;
    if (local_48 != 0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    if ((code *)PTR__bind_methods_0013f008 != Object::_bind_methods) {
      RefCounted::_bind_methods();
    }
    initialize_class()::initialized = '\x01';
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RefCounted::_get_property_listv(List<PropertyInfo, DefaultAllocator>*, bool) const */

void RefCounted::_get_property_listv(List *param_1,bool param_2)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  undefined1 (*pauVar4) [16];
  undefined4 *puVar5;
  undefined7 in_register_00000031;
  List *pLVar6;
  long in_FS_OFFSET;
  long local_98;
  long local_90;
  long local_88;
  long local_80;
  char *local_78;
  long local_70;
  long local_68;
  int local_60;
  long local_58;
  undefined4 local_50;
  long local_40;
  
  pLVar6 = (List *)CONCAT71(in_register_00000031,param_2);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = 0;
  local_90 = 0;
  local_78 = "RefCounted";
  local_70 = 10;
  String::parse_latin1((StrRange *)&local_90);
  local_78 = "RefCounted";
  local_98 = 0;
  local_70 = 10;
  String::parse_latin1((StrRange *)&local_98);
  local_78 = (char *)((ulong)local_78 & 0xffffffff00000000);
  local_70 = 0;
  if (local_98 != 0) {
    CowData<char32_t>::_ref((CowData<char32_t> *)&local_70,(CowData *)&local_98);
  }
  local_68 = 0;
  local_60 = 0;
  local_58 = 0;
  if (local_90 == 0) {
LAB_0012bc08:
    local_50 = 0x80;
    StringName::operator=((StringName *)&local_68,(StringName *)&local_88);
  }
  else {
    CowData<char32_t>::_ref((CowData<char32_t> *)&local_58,(CowData *)&local_90);
    local_50 = 0x80;
    if (local_60 != 0x11) goto LAB_0012bc08;
    StringName::StringName((StringName *)&local_80,(String *)&local_58,false);
    if (local_68 != local_80) {
      StringName::unref();
      lVar2 = *(long *)pLVar6;
      local_68 = local_80;
      goto joined_r0x0012bc26;
    }
    if ((StringName::configured != '\0') && (local_80 != 0)) {
      StringName::unref();
    }
  }
  lVar2 = *(long *)pLVar6;
joined_r0x0012bc26:
  if (lVar2 == 0) {
    pauVar4 = (undefined1 (*) [16])operator_new(0x18,DefaultAllocator::alloc);
    *(undefined1 (**) [16])pLVar6 = pauVar4;
    *(undefined4 *)pauVar4[1] = 0;
    *pauVar4 = (undefined1  [16])0x0;
  }
  puVar5 = (undefined4 *)operator_new(0x48,DefaultAllocator::alloc);
  *(undefined8 *)(puVar5 + 8) = 0;
  *(undefined1 (*) [16])(puVar5 + 2) = (undefined1  [16])0x0;
  *puVar5 = 0;
  puVar5[6] = 0;
  puVar5[10] = 6;
  *(undefined8 *)(puVar5 + 0x10) = 0;
  *(undefined1 (*) [16])(puVar5 + 0xc) = (undefined1  [16])0x0;
  *puVar5 = local_78._0_4_;
  if (local_70 != 0) {
    CowData<char32_t>::_ref((CowData<char32_t> *)(puVar5 + 2),(CowData *)&local_70);
  }
  StringName::operator=((StringName *)(puVar5 + 4),(StringName *)&local_68);
  puVar5[6] = local_60;
  if (*(long *)(puVar5 + 8) != local_58) {
    CowData<char32_t>::_ref((CowData<char32_t> *)(puVar5 + 8),(CowData *)&local_58);
  }
  lVar3 = local_58;
  puVar5[10] = local_50;
  plVar1 = *(long **)pLVar6;
  lVar2 = plVar1[1];
  *(undefined8 *)(puVar5 + 0xc) = 0;
  *(long **)(puVar5 + 0x10) = plVar1;
  *(long *)(puVar5 + 0xe) = lVar2;
  if (lVar2 != 0) {
    *(undefined4 **)(lVar2 + 0x30) = puVar5;
  }
  plVar1[1] = (long)puVar5;
  if (*plVar1 == 0) {
    *plVar1 = (long)puVar5;
  }
  *(int *)(plVar1 + 2) = (int)plVar1[2] + 1;
  if (local_58 != 0) {
    LOCK();
    plVar1 = (long *)(local_58 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_58 = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
    }
  }
  if ((StringName::configured != '\0') && (local_68 != 0)) {
    StringName::unref();
  }
  lVar2 = local_70;
  if (local_70 != 0) {
    LOCK();
    plVar1 = (long *)(local_70 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_70 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  lVar2 = local_98;
  if (local_98 != 0) {
    LOCK();
    plVar1 = (long *)(local_98 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_98 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  lVar2 = local_90;
  if (local_90 != 0) {
    LOCK();
    plVar1 = (long *)(local_90 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_90 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if ((StringName::configured != '\0') && (local_88 != 0)) {
    StringName::unref();
  }
  StringName::StringName((StringName *)&local_78,"RefCounted",false);
  ClassDB::get_property_list((StringName *)&local_78,pLVar6,true,(Object *)param_1);
  if ((StringName::configured != '\0') && (local_78 != (char *)0x0)) {
    StringName::unref();
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DependencyTracker::update_end() */

void __thiscall DependencyTracker::update_end(DependencyTracker *this)

{
  undefined1 (*pauVar1) [16];
  uint *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint *puVar5;
  undefined4 uVar6;
  long lVar7;
  long lVar8;
  long lVar9;
  void *pvVar10;
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  uint uVar39;
  int iVar40;
  ulong uVar41;
  long *plVar42;
  uint *puVar43;
  uint uVar44;
  uint uVar45;
  long lVar46;
  long lVar47;
  ulong uVar48;
  ulong uVar49;
  uint *puVar50;
  long lVar51;
  uint uVar52;
  uint *puVar53;
  ulong uVar54;
  ulong uVar55;
  undefined1 (*pauVar56) [16];
  undefined1 (*pauVar57) [16];
  ulong uVar58;
  
  if (*(uint *)(this + 0x44) == 0) {
    return;
  }
  uVar58 = *(ulong *)(this + 0x20);
  pauVar56 = (undefined1 (*) [16])0x0;
  uVar55 = (ulong)*(uint *)(this + 0x44);
  uVar41 = (long)this * 0x3ffff - 1;
  uVar41 = (uVar41 ^ uVar41 >> 0x1f) * 0x15;
  uVar41 = (uVar41 ^ uVar41 >> 0xb) * 0x41;
  uVar41 = uVar41 >> 0x16 ^ uVar41;
  uVar49 = uVar41 & 0xffffffff;
  if ((int)uVar41 == 0) {
    uVar49 = 1;
  }
  lVar51 = 0;
  do {
    lVar7 = *(long *)(uVar58 + lVar51 * 8);
    lVar8 = *(long *)(lVar7 + 8);
    if ((lVar8 != 0) && (*(int *)(lVar7 + 0x2c) != 0)) {
      uVar41 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar7 + 0x28) * 4));
      lVar47 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(lVar7 + 0x28) * 8);
      auVar11._8_8_ = 0;
      auVar11._0_8_ = uVar49 * lVar47;
      auVar25._8_8_ = 0;
      auVar25._0_8_ = uVar41;
      lVar46 = SUB168(auVar11 * auVar25,8);
      uVar39 = *(uint *)(*(long *)(lVar7 + 0x10) + lVar46 * 4);
      uVar44 = SUB164(auVar11 * auVar25,8);
      if (uVar39 != 0) {
        uVar52 = 0;
        do {
          if ((uVar39 == (uint)uVar49) &&
             (this == *(DependencyTracker **)(*(long *)(lVar8 + lVar46 * 8) + 0x10))) {
            lVar8 = *(long *)(lVar8 + (ulong)uVar44 * 8);
            if (lVar8 != 0) {
              if (*(int *)(lVar8 + 0x18) != *(int *)(this + 0x18)) {
                lVar8 = *(long *)(lVar8 + 0x10);
                if (pauVar56 == (undefined1 (*) [16])0x0) {
                  pauVar56 = (undefined1 (*) [16])operator_new(0x18,DefaultAllocator::alloc);
                  *(undefined4 *)pauVar56[1] = 0;
                  *pauVar56 = (undefined1  [16])0x0;
                }
                plVar42 = (long *)operator_new(0x28,DefaultAllocator::alloc);
                plVar42[2] = 0;
                *plVar42 = lVar7;
                plVar42[1] = lVar8;
                lVar7 = *(long *)(*pauVar56 + 8);
                plVar42[4] = (long)pauVar56;
                plVar42[3] = lVar7;
                if (lVar7 != 0) {
                  *(long **)(lVar7 + 0x10) = plVar42;
                }
                lVar7 = *(long *)*pauVar56;
                *(long **)(*pauVar56 + 8) = plVar42;
                if (lVar7 == 0) {
                  *(long **)*pauVar56 = plVar42;
                }
                *(int *)pauVar56[1] = *(int *)pauVar56[1] + 1;
              }
              goto LAB_0012c16c;
            }
            break;
          }
          uVar52 = uVar52 + 1;
          auVar12._8_8_ = 0;
          auVar12._0_8_ = (ulong)(uVar44 + 1) * lVar47;
          auVar26._8_8_ = 0;
          auVar26._0_8_ = uVar41;
          lVar46 = SUB168(auVar12 * auVar26,8);
          uVar39 = *(uint *)(*(long *)(lVar7 + 0x10) + lVar46 * 4);
          uVar44 = SUB164(auVar12 * auVar26,8);
        } while ((uVar39 != 0) &&
                (auVar13._8_8_ = 0, auVar13._0_8_ = (ulong)uVar39 * lVar47, auVar27._8_8_ = 0,
                auVar27._0_8_ = uVar41, auVar14._8_8_ = 0,
                auVar14._0_8_ =
                     (ulong)((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar7 + 0x28) * 4)
                             + uVar44) - SUB164(auVar13 * auVar27,8)) * lVar47, auVar28._8_8_ = 0,
                auVar28._0_8_ = uVar41, uVar52 <= SUB164(auVar14 * auVar28,8)));
      }
    }
    _err_print_error("update_end","./servers/rendering/storage/utilities.h",0x5a,
                     "Condition \"!F\" is true. Continuing.",0,0);
LAB_0012c16c:
    if ((int)uVar55 <= (int)lVar51 + 1) goto code_r0x0012c17b;
    lVar51 = lVar51 + 1;
  } while( true );
LAB_0012c528:
  do {
    pvVar10 = *(void **)*pauVar56;
    while( true ) {
      if (pvVar10 == (void *)0x0) {
        if (*(int *)pauVar57[1] != 0) {
          _err_print_error("~List","./core/templates/list.h",0x316,
                           "Condition \"_data->size_cache\" is true.",0,0);
          return;
        }
        goto LAB_0012c47c;
      }
      if (pauVar56 != *(undefined1 (**) [16])((long)pvVar10 + 0x20)) break;
      lVar51 = *(long *)((long)pvVar10 + 0x10);
      lVar7 = *(long *)((long)pvVar10 + 0x18);
      *(long *)*pauVar56 = lVar51;
      if (pvVar10 == *(void **)(*pauVar56 + 8)) {
        *(long *)(*pauVar56 + 8) = lVar7;
      }
      if (lVar7 != 0) {
        *(long *)(lVar7 + 0x10) = lVar51;
        lVar51 = *(long *)((long)pvVar10 + 0x10);
      }
      if (lVar51 != 0) {
        *(long *)(lVar51 + 0x18) = lVar7;
      }
      Memory::free_static(pvVar10,false);
      pauVar1 = pauVar56 + 1;
      *(int *)*pauVar1 = *(int *)*pauVar1 + -1;
      if (*(int *)*pauVar1 == 0) goto LAB_0012c47c;
      pvVar10 = *(void **)*pauVar56;
    }
    _err_print_error("erase","./core/templates/list.h",0xe7,
                     "Condition \"p_I->data != this\" is true. Returning: false",0,0,pauVar57,this,
                     uVar58);
  } while (*(int *)pauVar56[1] != 0);
  goto LAB_0012c47c;
LAB_0012c268:
  uVar52 = uVar52 + 1;
  auVar16._8_8_ = 0;
  auVar16._0_8_ = (ulong)(iVar40 + 1) * lVar8;
  auVar30._8_8_ = 0;
  auVar30._0_8_ = uVar54;
  lVar47 = SUB168(auVar16 * auVar30,8);
  uVar44 = *(uint *)(lVar7 + lVar47 * 4);
  iVar40 = SUB164(auVar16 * auVar30,8);
  if ((uVar44 == 0) ||
     (auVar17._8_8_ = 0, auVar17._0_8_ = (ulong)uVar44 * lVar8, auVar31._8_8_ = 0,
     auVar31._0_8_ = uVar54, auVar18._8_8_ = 0,
     auVar18._0_8_ = (ulong)((uVar39 + iVar40) - SUB164(auVar17 * auVar31,8)) * lVar8,
     auVar32._8_8_ = 0, auVar32._0_8_ = uVar54, SUB164(auVar18 * auVar32,8) < uVar52))
  goto LAB_0012c40d;
  goto LAB_0012c2b8;
code_r0x0012c17b:
  if (pauVar56 == (undefined1 (*) [16])0x0) {
    return;
  }
LAB_0012c186:
  do {
    pauVar57 = pauVar56;
    if (*(int *)pauVar56[1] == 0) goto LAB_0012c528;
    HashMap<DependencyTracker*,unsigned_int,HashMapHasherDefault,HashMapComparatorDefault<DependencyTracker*>,DefaultTypedAllocator<HashMapElement<DependencyTracker*,unsigned_int>>>
    ::erase((HashMap<DependencyTracker*,unsigned_int,HashMapHasherDefault,HashMapComparatorDefault<DependencyTracker*>,DefaultTypedAllocator<HashMapElement<DependencyTracker*,unsigned_int>>>
             *)**(undefined8 **)*pauVar56,(DependencyTracker **)(*(undefined8 **)*pauVar56 + 1));
    plVar42 = *(long **)*pauVar56;
    lVar51 = *(long *)(this + 0x20);
    if ((lVar51 != 0) && (*(int *)(this + 0x44) != 0)) {
      lVar7 = *(long *)(this + 0x38);
      uVar39 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x40) * 4);
      uVar54 = CONCAT44(0,uVar39);
      lVar8 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x40) * 8);
      uVar41 = *plVar42 * 0x3ffff - 1;
      uVar41 = (uVar41 ^ uVar41 >> 0x1f) * 0x15;
      uVar41 = (uVar41 ^ uVar41 >> 0xb) * 0x41;
      uVar41 = uVar41 >> 0x16 ^ uVar41;
      uVar49 = uVar41 & 0xffffffff;
      if ((int)uVar41 == 0) {
        uVar49 = 1;
      }
      auVar15._8_8_ = 0;
      auVar15._0_8_ = uVar49 * lVar8;
      auVar29._8_8_ = 0;
      auVar29._0_8_ = uVar54;
      lVar47 = SUB168(auVar15 * auVar29,8);
      uVar44 = *(uint *)(lVar7 + lVar47 * 4);
      iVar40 = SUB164(auVar15 * auVar29,8);
      if (uVar44 != 0) {
        uVar52 = 0;
LAB_0012c2b8:
        if (uVar44 != (uint)uVar49) goto LAB_0012c268;
        lVar46 = *(long *)(this + 0x28);
        uVar44 = *(uint *)(lVar46 + lVar47 * 4);
        uVar41 = (ulong)uVar44;
        if (*plVar42 != *(long *)(lVar51 + uVar41 * 8)) goto LAB_0012c268;
        uVar58 = (ulong)uVar44;
        lVar9 = *(long *)(this + 0x30);
        puVar2 = (uint *)(lVar9 + uVar41 * 4);
        uVar52 = *puVar2;
        uVar49 = (ulong)uVar52;
        auVar19._8_8_ = 0;
        auVar19._0_8_ = (ulong)(uVar52 + 1) * lVar8;
        auVar33._8_8_ = 0;
        auVar33._0_8_ = uVar54;
        lVar47 = SUB168(auVar19 * auVar33,8) * 4;
        uVar45 = SUB164(auVar19 * auVar33,8);
        uVar55 = (ulong)uVar45;
        puVar50 = (uint *)(lVar7 + lVar47);
        if ((*puVar50 == 0) ||
           (auVar20._8_8_ = 0, auVar20._0_8_ = (ulong)*puVar50 * lVar8, auVar34._8_8_ = 0,
           auVar34._0_8_ = uVar54, auVar21._8_8_ = 0,
           auVar21._0_8_ = (ulong)((uVar45 + uVar39) - SUB164(auVar20 * auVar34,8)) * lVar8,
           auVar35._8_8_ = 0, auVar35._0_8_ = uVar54, SUB164(auVar21 * auVar35,8) == 0)) {
          uVar55 = (ulong)uVar52;
        }
        else {
          while( true ) {
            puVar43 = (uint *)(lVar47 + lVar46);
            puVar5 = (uint *)(lVar46 + uVar49 * 4);
            puVar53 = (uint *)(uVar49 * 4 + lVar7);
            puVar3 = (undefined4 *)(lVar9 + (ulong)*puVar43 * 4);
            puVar4 = (undefined4 *)(lVar9 + (ulong)*puVar5 * 4);
            uVar6 = *puVar4;
            *puVar4 = *puVar3;
            *puVar3 = uVar6;
            uVar52 = *puVar50;
            *puVar50 = *puVar53;
            *puVar53 = uVar52;
            uVar52 = *puVar43;
            *puVar43 = *puVar5;
            *puVar5 = uVar52;
            auVar24._8_8_ = 0;
            auVar24._0_8_ = (ulong)((int)uVar55 + 1) * lVar8;
            auVar38._8_8_ = 0;
            auVar38._0_8_ = uVar54;
            uVar48 = SUB168(auVar24 * auVar38,8);
            lVar47 = uVar48 * 4;
            puVar50 = (uint *)(lVar7 + lVar47);
            if ((*puVar50 == 0) ||
               (auVar22._8_8_ = 0, auVar22._0_8_ = (ulong)*puVar50 * lVar8, auVar36._8_8_ = 0,
               auVar36._0_8_ = uVar54, auVar23._8_8_ = 0,
               auVar23._0_8_ =
                    (ulong)((SUB164(auVar24 * auVar38,8) + uVar39) - SUB164(auVar22 * auVar36,8)) *
                    lVar8, auVar37._8_8_ = 0, auVar37._0_8_ = uVar54,
               SUB164(auVar23 * auVar37,8) == 0)) break;
            uVar49 = uVar55;
            uVar55 = uVar48 & 0xffffffff;
          }
        }
        *(undefined4 *)(lVar7 + uVar55 * 4) = 0;
        uVar55 = (ulong)*(uint *)(this + 0x44);
        uVar39 = *(uint *)(this + 0x44) - 1;
        *(uint *)(this + 0x44) = uVar39;
        if (uVar44 < uVar39) {
          uVar52 = *(uint *)(lVar9 + (ulong)uVar39 * 4);
          *(undefined8 *)(lVar51 + uVar41 * 8) = *(undefined8 *)(lVar51 + (ulong)uVar39 * 8);
          *puVar2 = uVar52;
          *(uint *)(lVar46 + (ulong)*(uint *)(lVar9 + (ulong)*(uint *)(this + 0x44) * 4) * 4) =
               uVar44;
        }
      }
    }
LAB_0012c40d:
    if (pauVar57 != (undefined1 (*) [16])plVar42[4]) {
      _err_print_error("erase","./core/templates/list.h",0xe7,
                       "Condition \"p_I->data != this\" is true. Returning: false",0,0,pauVar57,this
                       ,uVar58,uVar55);
      pauVar56 = pauVar57;
      if (*(int *)pauVar57[1] == 0) break;
      goto LAB_0012c186;
    }
    lVar51 = plVar42[2];
    lVar7 = plVar42[3];
    *(long *)*pauVar57 = lVar51;
    if (plVar42 == *(long **)(*pauVar57 + 8)) {
      *(long *)(*pauVar57 + 8) = lVar7;
    }
    if (lVar7 != 0) {
      *(long *)(lVar7 + 0x10) = lVar51;
      lVar51 = plVar42[2];
    }
    if (lVar51 != 0) {
      *(long *)(lVar51 + 0x18) = lVar7;
    }
    Memory::free_static(plVar42,false);
    uVar58 = (ulong)*(uint *)pauVar57[1];
    iVar40 = *(uint *)pauVar57[1] - 1;
    *(int *)pauVar57[1] = iVar40;
    pauVar56 = pauVar57;
  } while (iVar40 != 0);
LAB_0012c47c:
  Memory::free_static(pauVar57,false);
  return;
}



/* RenderSceneBuffersExtension::~RenderSceneBuffersExtension() */

void __thiscall
RenderSceneBuffersExtension::~RenderSceneBuffersExtension(RenderSceneBuffersExtension *this)

{
  bool bVar1;
  
  bVar1 = StringName::configured != '\0';
  *(code **)this = RendererSceneRender::environment_get_use_1d_color_correction;
  if (bVar1) {
    if (*(long *)(this + 0x1e0) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_0012c6f1;
    }
    if (*(long *)(this + 0x1c8) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_0012c6f1;
    }
    if (*(long *)(this + 0x1b0) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_0012c6f1;
    }
    if (*(long *)(this + 0x198) != 0) {
      StringName::unref();
      if (StringName::configured == '\0') goto LAB_0012c6f1;
    }
    if (*(long *)(this + 0x180) != 0) {
      StringName::unref();
    }
  }
LAB_0012c6f1:
  *(undefined ***)this = &PTR__initialize_classv_00137dd8;
  Object::~Object((Object *)this);
  operator_delete(this,0x1f8);
  return;
}



/* RendererSceneCull::InstanceCullResult::clear() */

void __thiscall RendererSceneCull::InstanceCullResult::clear(InstanceCullResult *this)

{
  char *pcVar1;
  InstanceCullResult *pIVar2;
  char cVar3;
  undefined4 uVar4;
  long lVar5;
  long lVar6;
  ulong uVar7;
  long lVar8;
  InstanceCullResult *pIVar9;
  long in_FS_OFFSET;
  
  lVar5 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(this + 0x28) != 0) &&
     (uVar7 = *(long *)(this + 0x28) - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)this;
      uVar4 = *(undefined4 *)(*(long *)(this + 0x10) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x28) = 0;
  if ((*(long *)(this + 0x58) != 0) &&
     (uVar7 = *(long *)(this + 0x58) - 1U >> ((byte)*(undefined4 *)(this + 0x4c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0x30);
      uVar4 = *(undefined4 *)(*(long *)(this + 0x40) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x58) = 0;
  if ((*(long *)(this + 0x88) != 0) &&
     (uVar7 = *(long *)(this + 0x88) - 1U >> ((byte)*(undefined4 *)(this + 0x7c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0x60);
      uVar4 = *(undefined4 *)(*(long *)(this + 0x70) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x88) = 0;
  if ((*(long *)(this + 0xb8) != 0) &&
     (uVar7 = *(long *)(this + 0xb8) - 1U >> ((byte)*(undefined4 *)(this + 0xac) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0x90);
      uVar4 = *(undefined4 *)(*(long *)(this + 0xa0) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0xb8) = 0;
  if ((*(long *)(this + 0xe8) != 0) &&
     (uVar7 = *(long *)(this + 0xe8) - 1U >> ((byte)*(undefined4 *)(this + 0xdc) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0xc0);
      uVar4 = *(undefined4 *)(*(long *)(this + 0xd0) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0xe8) = 0;
  if ((*(long *)(this + 0x118) != 0) &&
     (uVar7 = *(long *)(this + 0x118) - 1U >> ((byte)*(undefined4 *)(this + 0x10c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0xf0);
      uVar4 = *(undefined4 *)(*(long *)(this + 0x100) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x118) = 0;
  if ((*(long *)(this + 0x148) != 0) &&
     (uVar7 = *(long *)(this + 0x148) - 1U >> ((byte)*(undefined4 *)(this + 0x13c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0x120);
      uVar4 = *(undefined4 *)(*(long *)(this + 0x130) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x148) = 0;
  if ((*(long *)(this + 0x178) != 0) &&
     (uVar7 = *(long *)(this + 0x178) - 1U >> ((byte)*(undefined4 *)(this + 0x16c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0x150);
      uVar4 = *(undefined4 *)(*(long *)(this + 0x160) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x178) = 0;
  if ((*(long *)(this + 0x1a8) != 0) &&
     (uVar7 = *(long *)(this + 0x1a8) - 1U >> ((byte)*(undefined4 *)(this + 0x19c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar6 = *(long *)(this + 0x180);
      uVar4 = *(undefined4 *)(*(long *)(this + 400) + lVar8);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar3 = *pcVar1;
        if (cVar3 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar3 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x1a8) = 0;
  pIVar9 = this;
  do {
    pIVar2 = pIVar9 + 0xc0;
    do {
      if ((*(long *)(pIVar9 + 0x1d8) != 0) &&
         (uVar7 = *(long *)(pIVar9 + 0x1d8) - 1U >> ((byte)*(undefined4 *)(pIVar9 + 0x1cc) & 0x3f),
         (int)uVar7 != -1)) {
        lVar8 = 0;
        do {
          lVar6 = *(long *)(pIVar9 + 0x1b0);
          uVar4 = *(undefined4 *)(*(long *)(pIVar9 + 0x1c0) + lVar8);
          pcVar1 = (char *)(lVar6 + 0x20);
          while( true ) {
            LOCK();
            cVar3 = *pcVar1;
            if (cVar3 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar3 == '\0') break;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar8 = lVar8 + 4;
          *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
          *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
          *(undefined1 *)(lVar6 + 0x20) = 0;
        } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
      }
      *(undefined8 *)(pIVar9 + 0x1d8) = 0;
      pIVar9 = pIVar9 + 0x30;
    } while (pIVar9 != pIVar2);
  } while (this + 0x600 != pIVar9);
  pIVar9 = this + 0x7b0;
  do {
    if ((*(long *)(pIVar9 + 0x28) != 0) &&
       (uVar7 = *(long *)(pIVar9 + 0x28) - 1U >> ((byte)*(undefined4 *)(pIVar9 + 0x1c) & 0x3f),
       (int)uVar7 != -1)) {
      lVar8 = 0;
      do {
        lVar6 = *(long *)pIVar9;
        uVar4 = *(undefined4 *)(*(long *)(pIVar9 + 0x10) + lVar8);
        pcVar1 = (char *)(lVar6 + 0x20);
        while( true ) {
          LOCK();
          cVar3 = *pcVar1;
          if (cVar3 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar3 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        lVar8 = lVar8 + 4;
        *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
        *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
        *(undefined1 *)(lVar6 + 0x20) = 0;
      } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
    }
    *(long *)(pIVar9 + 0x28) = 0;
    pIVar9 = pIVar9 + 0x30;
  } while (pIVar9 != this + 0xc30);
  do {
    if ((*(long *)(pIVar9 + 0x28) != 0) &&
       (uVar7 = *(long *)(pIVar9 + 0x28) - 1U >> ((byte)*(undefined4 *)(pIVar9 + 0x1c) & 0x3f),
       (int)uVar7 != -1)) {
      lVar8 = 0;
      do {
        lVar6 = *(long *)pIVar9;
        uVar4 = *(undefined4 *)(*(long *)(pIVar9 + 0x10) + lVar8);
        pcVar1 = (char *)(lVar6 + 0x20);
        while( true ) {
          LOCK();
          cVar3 = *pcVar1;
          if (cVar3 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar3 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        lVar8 = lVar8 + 4;
        *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar4;
        *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
        *(undefined1 *)(lVar6 + 0x20) = 0;
      } while ((uVar7 & 0xffffffff) * 4 + 4 != lVar8);
    }
    *(long *)(pIVar9 + 0x28) = 0;
    pIVar9 = pIVar9 + 0x30;
  } while (pIVar9 != this + 0xdb0);
  if (lVar5 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* RendererSceneCull::InstanceCullResult::reset() */

void __thiscall RendererSceneCull::InstanceCullResult::reset(InstanceCullResult *this)

{
  char *pcVar1;
  char cVar2;
  undefined4 uVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  long lVar7;
  InstanceCullResult *pIVar8;
  int iVar9;
  InstanceCullResult *pIVar10;
  long in_FS_OFFSET;
  
  lVar4 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(this + 0x28) != 0) &&
     (uVar6 = *(long *)(this + 0x28) - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)this;
      uVar3 = *(undefined4 *)(*(long *)(this + 0x10) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x28) = 0;
  if (*(void **)(this + 8) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 8),false);
    Memory::free_static(*(void **)(this + 0x10),false);
    *(undefined4 *)(this + 0x18) = 0;
    *(undefined1 (*) [16])(this + 8) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0x58) != 0) &&
     (uVar6 = *(long *)(this + 0x58) - 1U >> ((byte)*(undefined4 *)(this + 0x4c) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0x30);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x40) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x58) = 0;
  if (*(void **)(this + 0x38) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x38),false);
    Memory::free_static(*(void **)(this + 0x40),false);
    *(undefined4 *)(this + 0x48) = 0;
    *(undefined1 (*) [16])(this + 0x38) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0x88) != 0) &&
     (uVar6 = *(long *)(this + 0x88) - 1U >> ((byte)*(undefined4 *)(this + 0x7c) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0x60);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x70) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x88) = 0;
  if (*(void **)(this + 0x68) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x68),false);
    Memory::free_static(*(void **)(this + 0x70),false);
    *(undefined4 *)(this + 0x78) = 0;
    *(undefined1 (*) [16])(this + 0x68) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0xb8) != 0) &&
     (uVar6 = *(long *)(this + 0xb8) - 1U >> ((byte)*(undefined4 *)(this + 0xac) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0x90);
      uVar3 = *(undefined4 *)(*(long *)(this + 0xa0) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0xb8) = 0;
  if (*(void **)(this + 0x98) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x98),false);
    Memory::free_static(*(void **)(this + 0xa0),false);
    *(undefined4 *)(this + 0xa8) = 0;
    *(undefined1 (*) [16])(this + 0x98) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0xe8) != 0) &&
     (uVar6 = *(long *)(this + 0xe8) - 1U >> ((byte)*(undefined4 *)(this + 0xdc) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0xc0);
      uVar3 = *(undefined4 *)(*(long *)(this + 0xd0) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0xe8) = 0;
  if (*(void **)(this + 200) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 200),false);
    Memory::free_static(*(void **)(this + 0xd0),false);
    *(undefined4 *)(this + 0xd8) = 0;
    *(undefined1 (*) [16])(this + 200) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0x118) != 0) &&
     (uVar6 = *(long *)(this + 0x118) - 1U >> ((byte)*(undefined4 *)(this + 0x10c) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0xf0);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x100) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x118) = 0;
  if (*(void **)(this + 0xf8) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0xf8),false);
    Memory::free_static(*(void **)(this + 0x100),false);
    *(undefined4 *)(this + 0x108) = 0;
    *(undefined1 (*) [16])(this + 0xf8) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0x148) != 0) &&
     (uVar6 = *(long *)(this + 0x148) - 1U >> ((byte)*(undefined4 *)(this + 0x13c) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0x120);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x130) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x148) = 0;
  if (*(void **)(this + 0x128) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x128),false);
    Memory::free_static(*(void **)(this + 0x130),false);
    *(undefined4 *)(this + 0x138) = 0;
    *(undefined1 (*) [16])(this + 0x128) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0x178) != 0) &&
     (uVar6 = *(long *)(this + 0x178) - 1U >> ((byte)*(undefined4 *)(this + 0x16c) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0x150);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x160) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x178) = 0;
  if (*(void **)(this + 0x158) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x158),false);
    Memory::free_static(*(void **)(this + 0x160),false);
    *(undefined4 *)(this + 0x168) = 0;
    *(undefined1 (*) [16])(this + 0x158) = (undefined1  [16])0x0;
  }
  if ((*(long *)(this + 0x1a8) != 0) &&
     (uVar6 = *(long *)(this + 0x1a8) - 1U >> ((byte)*(undefined4 *)(this + 0x19c) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 0x180);
      uVar3 = *(undefined4 *)(*(long *)(this + 400) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x1a8) = 0;
  if (*(void **)(this + 0x188) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x188),false);
    Memory::free_static(*(void **)(this + 400),false);
    *(undefined4 *)(this + 0x198) = 0;
    *(undefined1 (*) [16])(this + 0x188) = (undefined1  [16])0x0;
  }
  iVar9 = 0;
  pIVar8 = this;
  do {
    pIVar10 = pIVar8 + 0xc0;
    do {
      if ((*(long *)(pIVar8 + 0x1d8) != 0) &&
         (uVar6 = *(long *)(pIVar8 + 0x1d8) - 1U >> ((byte)*(undefined4 *)(pIVar8 + 0x1cc) & 0x3f),
         (int)uVar6 != -1)) {
        lVar7 = 0;
        do {
          lVar5 = *(long *)(pIVar8 + 0x1b0);
          uVar3 = *(undefined4 *)(*(long *)(pIVar8 + 0x1c0) + lVar7);
          pcVar1 = (char *)(lVar5 + 0x20);
          while( true ) {
            LOCK();
            cVar2 = *pcVar1;
            if (cVar2 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar2 == '\0') break;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar7 = lVar7 + 4;
          *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
          *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
          *(undefined1 *)(lVar5 + 0x20) = 0;
        } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
      }
      *(undefined8 *)(pIVar8 + 0x1d8) = 0;
      if (*(void **)(pIVar8 + 0x1b8) != (void *)0x0) {
        Memory::free_static(*(void **)(pIVar8 + 0x1b8),false);
        Memory::free_static(*(void **)(pIVar8 + 0x1c0),false);
        *(undefined4 *)(pIVar8 + 0x1c8) = 0;
        *(undefined1 (*) [16])(pIVar8 + 0x1b8) = (undefined1  [16])0x0;
      }
      pIVar8 = pIVar8 + 0x30;
    } while (pIVar10 != pIVar8);
    iVar9 = iVar9 + 1;
    pIVar8 = pIVar10;
  } while (iVar9 != 8);
  pIVar8 = this + 0x7b0;
  pIVar10 = this + 0xc30;
  do {
    if ((*(long *)(pIVar8 + 0x28) != 0) &&
       (uVar6 = *(long *)(pIVar8 + 0x28) - 1U >> ((byte)*(undefined4 *)(pIVar8 + 0x1c) & 0x3f),
       (int)uVar6 != -1)) {
      lVar7 = 0;
      do {
        lVar5 = *(long *)pIVar8;
        uVar3 = *(undefined4 *)(*(long *)(pIVar8 + 0x10) + lVar7);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        lVar7 = lVar7 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while ((uVar6 & 0xffffffff) * 4 + 4 != lVar7);
    }
    *(long *)(pIVar8 + 0x28) = 0;
    if (*(void **)(pIVar8 + 8) != (void *)0x0) {
      Memory::free_static(*(void **)(pIVar8 + 8),false);
      Memory::free_static(*(void **)(pIVar8 + 0x10),false);
      *(undefined4 *)(pIVar8 + 0x18) = 0;
      *(undefined1 (*) [16])(pIVar8 + 8) = (undefined1  [16])0x0;
    }
    pIVar8 = pIVar8 + 0x30;
  } while (pIVar10 != pIVar8);
  do {
    if ((*(long *)(pIVar10 + 0x28) != 0) &&
       (uVar6 = *(long *)(pIVar10 + 0x28) - 1U >> ((byte)*(undefined4 *)(pIVar10 + 0x1c) & 0x3f),
       (int)uVar6 != -1)) {
      lVar7 = 0;
      do {
        lVar5 = *(long *)pIVar10;
        uVar3 = *(undefined4 *)(*(long *)(pIVar10 + 0x10) + lVar7);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        lVar7 = lVar7 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while ((uVar6 & 0xffffffff) * 4 + 4 != lVar7);
    }
    *(long *)(pIVar10 + 0x28) = 0;
    if (*(void **)(pIVar10 + 8) != (void *)0x0) {
      Memory::free_static(*(void **)(pIVar10 + 8),false);
      Memory::free_static(*(void **)(pIVar10 + 0x10),false);
      *(undefined4 *)(pIVar10 + 0x18) = 0;
      *(undefined1 (*) [16])(pIVar10 + 8) = (undefined1  [16])0x0;
    }
    pIVar10 = pIVar10 + 0x30;
  } while (this + 0xdb0 != pIVar10);
  if (lVar4 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* RendererSceneCull::InstanceCullResult::init(PagedArrayPool<RID>*,
   PagedArrayPool<RenderGeometryInstance*>*, PagedArrayPool<RendererSceneCull::Instance*>*) */

void __thiscall
RendererSceneCull::InstanceCullResult::init
          (InstanceCullResult *this,PagedArrayPool *param_1,PagedArrayPool *param_2,
          PagedArrayPool *param_3)

{
  int iVar1;
  int iVar2;
  InstanceCullResult *pIVar3;
  InstanceCullResult *pIVar4;
  InstanceCullResult *pIVar5;
  
  if (*(int *)(this + 0x18) == 0) {
    iVar1 = *(int *)(param_2 + 0x1c);
    *(PagedArrayPool **)this = param_2;
    *(int *)(this + 0x20) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_2 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_2 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0x1c) = iVar1;
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
  }
  if (*(int *)(this + 0x78) == 0) {
    iVar1 = *(int *)(param_1 + 0x1c);
    *(PagedArrayPool **)(this + 0x60) = param_1;
    *(int *)(this + 0x80) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_1 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0x7c) = iVar1;
    iVar1 = *(int *)(this + 0x48);
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
    iVar1 = *(int *)(this + 0x48);
  }
  if (iVar1 == 0) {
    iVar1 = *(int *)(param_3 + 0x1c);
    *(PagedArrayPool **)(this + 0x30) = param_3;
    *(int *)(this + 0x50) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_3 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_3 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0x4c) = iVar1;
    iVar1 = *(int *)(this + 0xa8);
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
    iVar1 = *(int *)(this + 0xa8);
  }
  if (iVar1 == 0) {
    iVar1 = *(int *)(param_1 + 0x1c);
    *(PagedArrayPool **)(this + 0x90) = param_1;
    *(int *)(this + 0xb0) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_1 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0xac) = iVar1;
    iVar1 = *(int *)(this + 0xd8);
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
    iVar1 = *(int *)(this + 0xd8);
  }
  if (iVar1 == 0) {
    iVar1 = *(int *)(param_1 + 0x1c);
    *(PagedArrayPool **)(this + 0xc0) = param_1;
    *(int *)(this + 0xe0) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_1 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0xdc) = iVar1;
    iVar1 = *(int *)(this + 0x108);
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
    iVar1 = *(int *)(this + 0x108);
  }
  if (iVar1 == 0) {
    iVar1 = *(int *)(param_1 + 0x1c);
    *(PagedArrayPool **)(this + 0xf0) = param_1;
    *(int *)(this + 0x110) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_1 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0x10c) = iVar1;
    iVar1 = *(int *)(this + 0x138);
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
    iVar1 = *(int *)(this + 0x138);
  }
  if (iVar1 == 0) {
    iVar1 = *(int *)(param_1 + 0x1c);
    *(PagedArrayPool **)(this + 0x120) = param_1;
    *(int *)(this + 0x140) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_1 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0x13c) = iVar1;
    iVar1 = *(int *)(this + 0x168);
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
    iVar1 = *(int *)(this + 0x168);
  }
  if (iVar1 == 0) {
    iVar1 = *(int *)(param_1 + 0x1c);
    *(PagedArrayPool **)(this + 0x150) = param_1;
    *(int *)(this + 0x170) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_1 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0x16c) = iVar1;
    iVar1 = *(int *)(this + 0x198);
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
    iVar1 = *(int *)(this + 0x198);
  }
  if (iVar1 == 0) {
    iVar1 = *(int *)(param_1 + 0x1c);
    *(PagedArrayPool **)(this + 0x180) = param_1;
    *(int *)(this + 0x1a0) = iVar1 + -1;
    iVar1 = 0;
    if (*(int *)(param_1 + 0x1c) != 1) {
      iVar1 = 0;
      do {
        iVar1 = iVar1 + 1;
        if (iVar1 == 0x20) {
          iVar1 = -1;
          break;
        }
      } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
    }
    *(int *)(this + 0x19c) = iVar1;
  }
  else {
    _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                     "Condition \"max_pages_used > 0\" is true.",0,0);
  }
  pIVar4 = this + 0xc0;
  do {
    pIVar5 = pIVar4 + -0xc0;
    do {
      pIVar3 = pIVar5;
      if (*(int *)(pIVar3 + 0x1c8) == 0) {
        *(PagedArrayPool **)(pIVar3 + 0x1b0) = param_2;
        *(int *)(pIVar3 + 0x1d0) = *(int *)(param_2 + 0x1c) + -1;
        iVar1 = 0;
        iVar2 = 0;
        if (*(int *)(param_2 + 0x1c) != 1) {
          do {
            iVar1 = iVar1 + 1;
            if (iVar1 == 0x20) {
              iVar2 = -1;
              break;
            }
            iVar2 = iVar1;
          } while (*(int *)(param_2 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
        }
        *(int *)(pIVar3 + 0x1cc) = iVar2;
      }
      else {
        _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                         "Condition \"max_pages_used > 0\" is true.",0,0);
      }
      pIVar5 = pIVar3 + 0x30;
    } while (pIVar3 + 0x30 != pIVar4);
    pIVar4 = pIVar3 + 0xf0;
  } while (this + 0x6c0 != pIVar4);
  pIVar4 = this + 0x7b0;
  pIVar5 = this + 0xc30;
  do {
    if (*(int *)(pIVar4 + 0x18) == 0) {
      *(PagedArrayPool **)pIVar4 = param_2;
      *(int *)(pIVar4 + 0x20) = *(int *)(param_2 + 0x1c) + -1;
      iVar1 = 0;
      iVar2 = 0;
      if (*(int *)(param_2 + 0x1c) != 1) {
        do {
          iVar1 = iVar1 + 1;
          if (iVar1 == 0x20) {
            iVar2 = -1;
            break;
          }
          iVar2 = iVar1;
        } while (*(int *)(param_2 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
      }
      *(int *)(pIVar4 + 0x1c) = iVar2;
    }
    else {
      _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                       "Condition \"max_pages_used > 0\" is true.",0,0);
    }
    pIVar4 = pIVar4 + 0x30;
  } while (pIVar5 != pIVar4);
  do {
    if (*(int *)(pIVar5 + 0x18) == 0) {
      *(PagedArrayPool **)pIVar5 = param_1;
      *(int *)(pIVar5 + 0x20) = *(int *)(param_1 + 0x1c) + -1;
      iVar1 = 0;
      if (*(int *)(param_1 + 0x1c) != 1) {
        iVar1 = 0;
        do {
          iVar1 = iVar1 + 1;
          if (iVar1 == 0x20) {
            iVar1 = -1;
            break;
          }
        } while (*(int *)(param_1 + 0x1c) != 1 << ((byte)iVar1 & 0x1f));
      }
      *(int *)(pIVar5 + 0x1c) = iVar1;
    }
    else {
      _err_print_error("set_page_pool","./core/templates/paged_array.h",0x16c,
                       "Condition \"max_pages_used > 0\" is true.",0,0);
    }
    pIVar5 = pIVar5 + 0x30;
    if (pIVar5 == this + 0xdb0) {
      return;
    }
  } while( true );
}



/* CommandQueueMT::_flush() */

void __thiscall CommandQueueMT::_flush(CommandQueueMT *this)

{
  long lVar1;
  code *pcVar2;
  int iVar3;
  uint uVar4;
  ulong uVar5;
  ulong uVar6;
  long *plVar7;
  ulong uVar8;
  undefined8 *puVar9;
  long in_FS_OFFSET;
  pthread_mutex_t *local_48;
  char local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)(this + 0x80) == 0) {
    local_40 = 0;
    local_48 = (pthread_mutex_t *)this;
    iVar3 = pthread_mutex_lock((pthread_mutex_t *)this);
    if (iVar3 != 0) {
LAB_0012e336:
                    /* WARNING: Subroutine does not return */
      std::__throw_system_error(iVar3);
    }
    uVar4 = *(uint *)(this + 0x28);
    uVar8 = (ulong)uVar4;
    uVar6 = *(ulong *)(this + 0x80);
    local_40 = '\x01';
    if (uVar6 < uVar8) {
      do {
        if ((uint)uVar8 <= (uint)uVar6) {
LAB_0012e245:
          _err_print_index_error
                    ("operator[]","./core/templates/local_vector.h",0xb2,uVar6,uVar8,"p_index",
                     "count","",false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar2 = (code *)invalidInstructionException();
          (*pcVar2)();
        }
        lVar1 = *(long *)(*(long *)(this + 0x30) + uVar6);
        uVar5 = uVar6 + 8;
        *(ulong *)(this + 0x80) = uVar5;
        uVar6 = uVar5 & 0xffffffff;
        if ((uint)uVar8 <= (uint)uVar5) goto LAB_0012e245;
        puVar9 = (undefined8 *)(uVar6 + *(long *)(this + 0x30));
        uVar4 = WorkerThreadPool::_thread_enter_unlock_allowance_zone((unique_lock *)&local_48);
        (**(code **)*puVar9)(puVar9);
        WorkerThreadPool::thread_exit_unlock_allowance_zone(uVar4);
        uVar6 = *(ulong *)(this + 0x80);
        uVar8 = (ulong)*(uint *)(this + 0x28);
        if (*(uint *)(this + 0x28) <= (uint)uVar6) {
          uVar6 = uVar6 & 0xffffffff;
          goto LAB_0012e245;
        }
        plVar7 = (long *)((uVar6 & 0xffffffff) + *(long *)(this + 0x30));
        if ((char)plVar7[1] != '\0') {
          *(int *)(this + 0x68) = *(int *)(this + 0x68) + 1;
          if ((local_40 != '\0') && (local_48 != (pthread_mutex_t *)0x0)) {
            pthread_mutex_unlock(local_48);
          }
          std::condition_variable::notify_all();
          local_40 = 0;
          local_48 = (pthread_mutex_t *)this;
          iVar3 = pthread_mutex_lock((pthread_mutex_t *)this);
          if (iVar3 != 0) goto LAB_0012e336;
          uVar8 = (ulong)*(uint *)(this + 0x28);
          local_40 = '\x01';
          uVar6 = *(ulong *)(this + 0x80) & 0xffffffff;
          if (*(uint *)(this + 0x28) <= (uint)*(ulong *)(this + 0x80)) goto LAB_0012e245;
          plVar7 = (long *)(uVar6 + *(long *)(this + 0x30));
        }
        (**(code **)(*plVar7 + 8))();
        uVar4 = *(uint *)(this + 0x28);
        uVar8 = (ulong)uVar4;
        uVar6 = *(long *)(this + 0x80) + lVar1;
        *(ulong *)(this + 0x80) = uVar6;
      } while (uVar6 < uVar8);
    }
    if (uVar4 != 0) {
      *(undefined4 *)(this + 0x28) = 0;
    }
    LOCK();
    this[0x88] = (CommandQueueMT)0x0;
    UNLOCK();
    *(undefined8 *)(this + 0x80) = 0;
    if ((*(int *)(this + 0x68) == *(int *)(this + 0x6c)) && (*(int *)(this + 0x70) == 0)) {
      *(undefined8 *)(this + 0x68) = 0;
    }
    if ((local_40 != '\0') && (local_48 != (pthread_mutex_t *)0x0)) {
      pthread_mutex_unlock(local_48);
    }
  }
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* RendererSceneCull::InstanceCullResult::~InstanceCullResult() */

void __thiscall RendererSceneCull::InstanceCullResult::~InstanceCullResult(InstanceCullResult *this)

{
  char *pcVar1;
  char cVar2;
  undefined4 uVar3;
  long lVar4;
  long lVar5;
  InstanceCullResult *pIVar6;
  ulong uVar7;
  long lVar8;
  InstanceCullResult *pIVar9;
  InstanceCullResult *pIVar10;
  long in_FS_OFFSET;
  
  pIVar9 = this + 0xd80;
  lVar4 = *(long *)(in_FS_OFFSET + 0x28);
  do {
    if ((*(long *)(pIVar9 + 0x28) != 0) &&
       (uVar7 = *(long *)(pIVar9 + 0x28) - 1U >> ((byte)*(undefined4 *)(pIVar9 + 0x1c) & 0x3f),
       (int)uVar7 != -1)) {
      lVar8 = 0;
      do {
        lVar5 = *(long *)pIVar9;
        uVar3 = *(undefined4 *)(*(long *)(pIVar9 + 0x10) + lVar8);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        lVar8 = lVar8 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
    }
    *(long *)(pIVar9 + 0x28) = 0;
    if (*(void **)(pIVar9 + 8) != (void *)0x0) {
      Memory::free_static(*(void **)(pIVar9 + 8),false);
      Memory::free_static(*(void **)(pIVar9 + 0x10),false);
    }
    pIVar9 = pIVar9 + -0x30;
  } while (pIVar9 != this + 0xc00);
  do {
    if ((*(long *)(pIVar9 + 0x28) != 0) &&
       (uVar7 = *(long *)(pIVar9 + 0x28) - 1U >> ((byte)*(undefined4 *)(pIVar9 + 0x1c) & 0x3f),
       (int)uVar7 != -1)) {
      lVar8 = 0;
      do {
        lVar5 = *(long *)pIVar9;
        uVar3 = *(undefined4 *)(*(long *)(pIVar9 + 0x10) + lVar8);
        pcVar1 = (char *)(lVar5 + 0x20);
        while( true ) {
          LOCK();
          cVar2 = *pcVar1;
          if (cVar2 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar2 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        lVar8 = lVar8 + 4;
        *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
        *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
        *(undefined1 *)(lVar5 + 0x20) = 0;
      } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
    }
    *(long *)(pIVar9 + 0x28) = 0;
    if (*(void **)(pIVar9 + 8) != (void *)0x0) {
      Memory::free_static(*(void **)(pIVar9 + 8),false);
      Memory::free_static(*(void **)(pIVar9 + 0x10),false);
    }
    pIVar9 = pIVar9 + -0x30;
  } while (pIVar9 != this + 0x780);
  pIVar9 = this + 0x7b0;
  do {
    pIVar6 = pIVar9;
    do {
      pIVar10 = pIVar6 + -0x30;
      if ((*(long *)(pIVar6 + -8) != 0) &&
         (uVar7 = *(long *)(pIVar6 + -8) - 1U >> ((byte)*(undefined4 *)(pIVar6 + -0x14) & 0x3f),
         (int)uVar7 != -1)) {
        lVar8 = 0;
        do {
          lVar5 = *(long *)pIVar10;
          uVar3 = *(undefined4 *)(*(long *)(pIVar6 + -0x20) + lVar8);
          pcVar1 = (char *)(lVar5 + 0x20);
          while( true ) {
            LOCK();
            cVar2 = *pcVar1;
            if (cVar2 == '\0') {
              *pcVar1 = '\x01';
            }
            UNLOCK();
            if (cVar2 == '\0') break;
            do {
            } while (*pcVar1 != '\0');
          }
          lVar8 = lVar8 + 4;
          *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
          *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
          *(undefined1 *)(lVar5 + 0x20) = 0;
        } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
      }
      *(long *)(pIVar6 + -8) = 0;
      if (*(void **)(pIVar6 + -0x28) != (void *)0x0) {
        Memory::free_static(*(void **)(pIVar6 + -0x28),false);
        Memory::free_static(*(void **)(pIVar6 + -0x20),false);
      }
      pIVar6 = pIVar10;
    } while (pIVar10 != pIVar9 + -0xc0);
    pIVar9 = pIVar9 + -0xc0;
  } while (pIVar10 != this + 0x1b0);
  if ((*(long *)(this + 0x1a8) != 0) &&
     (uVar7 = *(long *)(this + 0x1a8) - 1U >> ((byte)*(undefined4 *)(this + 0x19c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0x180);
      uVar3 = *(undefined4 *)(*(long *)(this + 400) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x1a8) = 0;
  if (*(void **)(this + 0x188) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x188),false);
    Memory::free_static(*(void **)(this + 400),false);
  }
  if ((*(long *)(this + 0x178) != 0) &&
     (uVar7 = *(long *)(this + 0x178) - 1U >> ((byte)*(undefined4 *)(this + 0x16c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0x150);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x160) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x178) = 0;
  if (*(void **)(this + 0x158) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x158),false);
    Memory::free_static(*(void **)(this + 0x160),false);
  }
  if ((*(long *)(this + 0x148) != 0) &&
     (uVar7 = *(long *)(this + 0x148) - 1U >> ((byte)*(undefined4 *)(this + 0x13c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0x120);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x130) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x148) = 0;
  if (*(void **)(this + 0x128) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x128),false);
    Memory::free_static(*(void **)(this + 0x130),false);
  }
  if ((*(long *)(this + 0x118) != 0) &&
     (uVar7 = *(long *)(this + 0x118) - 1U >> ((byte)*(undefined4 *)(this + 0x10c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0xf0);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x100) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x118) = 0;
  if (*(void **)(this + 0xf8) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0xf8),false);
    Memory::free_static(*(void **)(this + 0x100),false);
  }
  if ((*(long *)(this + 0xe8) != 0) &&
     (uVar7 = *(long *)(this + 0xe8) - 1U >> ((byte)*(undefined4 *)(this + 0xdc) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0xc0);
      uVar3 = *(undefined4 *)(*(long *)(this + 0xd0) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar8 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0xe8) = 0;
  if (*(void **)(this + 200) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 200),false);
    Memory::free_static(*(void **)(this + 0xd0),false);
  }
  if ((*(long *)(this + 0xb8) != 0) &&
     (uVar7 = *(long *)(this + 0xb8) - 1U >> ((byte)*(undefined4 *)(this + 0xac) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0x90);
      uVar3 = *(undefined4 *)(*(long *)(this + 0xa0) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while ((uVar7 & 0xffffffff) * 4 + 4 != lVar8);
  }
  *(undefined8 *)(this + 0xb8) = 0;
  if (*(void **)(this + 0x98) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x98),false);
    Memory::free_static(*(void **)(this + 0xa0),false);
  }
  if ((*(long *)(this + 0x88) != 0) &&
     (uVar7 = *(long *)(this + 0x88) - 1U >> ((byte)*(undefined4 *)(this + 0x7c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0x60);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x70) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while ((uVar7 & 0xffffffff) * 4 + 4 != lVar8);
  }
  *(undefined8 *)(this + 0x88) = 0;
  if (*(void **)(this + 0x68) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x68),false);
    Memory::free_static(*(void **)(this + 0x70),false);
  }
  if ((*(long *)(this + 0x58) != 0) &&
     (uVar7 = *(long *)(this + 0x58) - 1U >> ((byte)*(undefined4 *)(this + 0x4c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)(this + 0x30);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x40) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while ((uVar7 & 0xffffffff) * 4 + 4 != lVar8);
  }
  *(undefined8 *)(this + 0x58) = 0;
  if (*(void **)(this + 0x38) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x38),false);
    Memory::free_static(*(void **)(this + 0x40),false);
  }
  if ((*(long *)(this + 0x28) != 0) &&
     (uVar7 = *(long *)(this + 0x28) - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f),
     (int)uVar7 != -1)) {
    lVar8 = 0;
    do {
      lVar5 = *(long *)this;
      uVar3 = *(undefined4 *)(*(long *)(this + 0x10) + lVar8);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar8 = lVar8 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while ((uVar7 & 0xffffffff) * 4 + 4 != lVar8);
  }
  *(undefined8 *)(this + 0x28) = 0;
  if (*(void **)(this + 8) == (void *)0x0) {
    if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else {
    Memory::free_static(*(void **)(this + 8),false);
    if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
      Memory::free_static(*(void **)(this + 0x10),false);
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::InstancePair* PagedAllocator<RendererSceneCull::InstancePair, false,
   4096u>::alloc<>() */

InstancePair * __thiscall
PagedAllocator<RendererSceneCull::InstancePair,false,4096u>::alloc<>
          (PagedAllocator<RendererSceneCull::InstancePair,false,4096u> *this)

{
  InstancePair *pIVar1;
  long lVar2;
  long *plVar3;
  uint uVar4;
  int iVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  long *plVar9;
  long lVar10;
  long *plVar11;
  long lVar12;
  
  iVar5 = *(int *)(this + 0x14);
  if (iVar5 == 0) {
    uVar4 = *(uint *)(this + 0x10) + 1;
    lVar10 = (ulong)*(uint *)(this + 0x10) * 8;
    *(uint *)(this + 0x10) = uVar4;
    uVar6 = Memory::realloc_static(*(void **)this,(ulong)uVar4 << 3,false);
    *(undefined8 *)this = uVar6;
    uVar6 = Memory::realloc_static(*(void **)(this + 8),(ulong)*(uint *)(this + 0x10) << 3,false);
    lVar2 = *(long *)this;
    *(undefined8 *)(this + 8) = uVar6;
    uVar6 = Memory::alloc_static((ulong)*(uint *)(this + 0x20) * 0x50,false);
    uVar4 = *(uint *)(this + 0x20);
    *(undefined8 *)(lVar2 + lVar10) = uVar6;
    lVar2 = *(long *)(this + 8);
    uVar6 = Memory::alloc_static((ulong)uVar4 << 3,false);
    *(undefined8 *)(lVar2 + lVar10) = uVar6;
    uVar4 = *(uint *)(this + 0x20);
    if (uVar4 == 0) {
      plVar11 = *(long **)(this + 8);
    }
    else {
      plVar11 = *(long **)(this + 8);
      lVar2 = *(long *)this;
      plVar3 = (long *)*plVar11;
      lVar7 = 0;
      plVar8 = plVar3;
      do {
        plVar9 = plVar8 + 1;
        lVar12 = *(long *)(lVar2 + lVar10) + lVar7;
        lVar7 = lVar7 + 0x50;
        *plVar8 = lVar12;
        plVar8 = plVar9;
      } while (plVar3 + uVar4 != plVar9);
    }
    iVar5 = uVar4 + *(int *)(this + 0x14);
  }
  else {
    plVar11 = *(long **)(this + 8);
  }
  uVar4 = iVar5 - 1;
  *(uint *)(this + 0x14) = uVar4;
  pIVar1 = *(InstancePair **)
            (plVar11[uVar4 >> ((byte)*(undefined4 *)(this + 0x18) & 0x1f)] +
            (ulong)(uVar4 & *(uint *)(this + 0x1c)) * 8);
  *(undefined8 *)(pIVar1 + 0x10) = 0;
  *(undefined8 *)(pIVar1 + 0x20) = 0;
  *(undefined8 *)(pIVar1 + 0x28) = 0;
  *(InstancePair **)(pIVar1 + 0x18) = pIVar1;
  *(undefined8 *)(pIVar1 + 0x30) = 0;
  *(undefined8 *)(pIVar1 + 0x40) = 0;
  *(undefined8 *)(pIVar1 + 0x48) = 0;
  *(InstancePair **)(pIVar1 + 0x38) = pIVar1;
  *(undefined1 (*) [16])pIVar1 = (undefined1  [16])0x0;
  return pIVar1;
}



/* SelfList<RendererSceneCull::InstancePair>::List::add(SelfList<RendererSceneCull::InstancePair>*)
    */

void __thiscall SelfList<RendererSceneCull::InstancePair>::List::add(List *this,SelfList *param_1)

{
  long lVar1;
  
  if (*(long *)param_1 != 0) {
    _err_print_error(&_LC106,"./core/templates/self_list.h",0x2e,
                     "Condition \"p_elem->_root\" is true.",0,0);
    return;
  }
  lVar1 = *(long *)this;
  *(List **)param_1 = this;
  *(undefined8 *)(param_1 + 0x18) = 0;
  *(long *)(param_1 + 0x10) = lVar1;
  if (lVar1 != 0) {
    *(SelfList **)(lVar1 + 0x18) = param_1;
    *(SelfList **)this = param_1;
    return;
  }
  *(SelfList **)(this + 8) = param_1;
  *(SelfList **)this = param_1;
  return;
}



/* PagedArray<RenderGeometryInstance*>::merge_unordered(PagedArray<RenderGeometryInstance*>&) */

void __thiscall
PagedArray<RenderGeometryInstance*>::merge_unordered
          (PagedArray<RenderGeometryInstance*> *this,PagedArray *param_1)

{
  char *pcVar1;
  uint uVar2;
  char cVar3;
  long lVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  ulong uVar8;
  long lVar9;
  undefined8 uVar10;
  undefined4 *puVar11;
  byte bVar12;
  long lVar13;
  ulong uVar14;
  long lVar15;
  long *plVar16;
  long *plVar17;
  ulong uVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  long lVar22;
  long in_FS_OFFSET;
  undefined4 local_4c;
  
  lVar4 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)this != *(long *)param_1) {
    if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
      _err_print_error("merge_unordered","./core/templates/paged_array.h",0x113,
                       "Condition \"page_pool != p_array.page_pool\" is true.",0,0);
      return;
    }
    goto LAB_0012f26b;
  }
  lVar15 = *(long *)(this + 0x28);
  uVar7 = *(uint *)(this + 0x20) + 1;
  uVar19 = *(uint *)(this + 0x20) & (uint)lVar15;
  if (uVar19 == 0) {
    if (*(long *)(param_1 + 0x28) != 0) {
      local_4c = 0;
      plVar17 = *(long **)(this + 8);
      lVar22 = 0;
LAB_0012eee1:
      uVar8 = 0;
      do {
        uVar21 = *(uint *)(this + 0x18);
        if (lVar15 == 0) {
          if (uVar21 == 0) {
            lVar13 = 0;
            lVar15 = 0;
LAB_0012f0f2:
            uVar18 = 8;
            uVar21 = 1;
LAB_0012f096:
            *(uint *)(this + 0x18) = uVar21;
            uVar10 = Memory::realloc_static(plVar17,uVar18,false);
            *(undefined8 *)(this + 8) = uVar10;
            lVar9 = Memory::realloc_static
                              (*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
            plVar17 = *(long **)(this + 8);
            *(long *)(this + 0x10) = lVar9;
            plVar16 = (long *)(lVar15 + (long)plVar17);
            puVar11 = (undefined4 *)(lVar9 + lVar13);
          }
          else {
            puVar11 = *(undefined4 **)(this + 0x10);
            plVar16 = plVar17;
          }
        }
        else {
          iVar5 = (int)(lVar15 - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f));
          uVar18 = (ulong)(iVar5 + 1);
          lVar15 = uVar18 * 8;
          lVar13 = uVar18 * 4;
          if (uVar21 < iVar5 + 2U) {
            if (uVar21 == 0) goto LAB_0012f0f2;
            uVar21 = uVar21 * 2;
            uVar18 = (ulong)uVar21 << 3;
            goto LAB_0012f096;
          }
          plVar16 = plVar17 + uVar18;
          puVar11 = (undefined4 *)(*(long *)(this + 0x10) + lVar13);
        }
        *plVar16 = *(long *)(*(long *)(param_1 + 8) + uVar8 * 8);
        *puVar11 = *(undefined4 *)(*(long *)(param_1 + 0x10) + uVar8 * 4);
        uVar18 = *(ulong *)(param_1 + 0x28);
        uVar14 = (ulong)uVar7;
        if (uVar18 <= uVar7) {
          uVar14 = uVar18;
        }
        uVar8 = (ulong)((int)uVar8 + 1);
        *(ulong *)(param_1 + 0x28) = uVar18 - uVar14;
        lVar15 = uVar14 + *(long *)(this + 0x28);
        *(long *)(this + 0x28) = lVar15;
      } while (*(long *)(param_1 + 0x28) != 0);
      goto LAB_0012efb8;
    }
  }
  else {
    plVar17 = *(long **)(this + 8);
    uVar8 = lVar15 - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f) & 0xffffffff;
    lVar22 = plVar17[uVar8];
    local_4c = *(undefined4 *)(*(long *)(this + 0x10) + uVar8 * 4);
    lVar15 = lVar15 - (ulong)uVar19;
    *(long *)(this + 0x28) = lVar15;
    if (*(long *)(param_1 + 0x28) != 0) goto LAB_0012eee1;
LAB_0012efb8:
    if (lVar22 != 0) {
      lVar15 = *(long *)(this + 0x28);
      uVar21 = (uint)lVar15 & *(uint *)(this + 0x20);
      if (uVar21 == 0) {
        if (uVar19 != 0) {
          uVar7 = *(uint *)(this + 0x18);
          uVar8 = (ulong)uVar19;
joined_r0x0012f115:
          if (lVar15 == 0) {
            if (uVar7 == 0) {
              lVar9 = 0;
              uVar18 = 8;
              uVar7 = 1;
              lVar13 = 0;
LAB_0012f20c:
              *(uint *)(this + 0x18) = uVar7;
              uVar10 = Memory::realloc_static(plVar17,uVar18,false);
              *(undefined8 *)(this + 8) = uVar10;
              lVar15 = Memory::realloc_static
                                 (*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
              plVar17 = (long *)(lVar13 + *(long *)(this + 8));
              *(long *)(this + 0x10) = lVar15;
              puVar11 = (undefined4 *)(lVar15 + lVar9);
              lVar15 = *(long *)(this + 0x28);
            }
            else {
              puVar11 = *(undefined4 **)(this + 0x10);
            }
          }
          else {
            bVar12 = (byte)*(undefined4 *)(this + 0x1c);
            uVar18 = lVar15 - 1;
LAB_0012f122:
            iVar5 = (int)(uVar18 >> (bVar12 & 0x3f));
            uVar18 = (ulong)(iVar5 + 1);
            lVar13 = uVar18 * 8;
            lVar9 = uVar18 * 4;
            if (uVar7 < iVar5 + 2U) {
              if (uVar7 == 0) {
                uVar18 = 8;
                uVar7 = 1;
              }
              else {
                uVar7 = uVar7 * 2;
                uVar18 = (ulong)uVar7 * 8;
              }
              goto LAB_0012f20c;
            }
            plVar17 = plVar17 + uVar18;
            puVar11 = (undefined4 *)(*(long *)(this + 0x10) + lVar9);
          }
          *plVar17 = lVar22;
          *puVar11 = local_4c;
          *(ulong *)(this + 0x28) = uVar8 + lVar15;
        }
      }
      else {
        uVar18 = lVar15 - 1;
        bVar12 = (byte)*(undefined4 *)(this + 0x1c);
        uVar6 = uVar7 - uVar21;
        if (uVar19 < uVar7 - uVar21) {
          uVar6 = uVar19;
        }
        lVar13 = plVar17[uVar18 >> (bVar12 & 0x3f) & 0xffffffff];
        uVar20 = uVar19 - uVar6;
        uVar8 = (ulong)uVar20;
        uVar7 = uVar20;
        if (uVar6 == 0) {
          if (uVar20 != 0) {
            uVar7 = *(uint *)(this + 0x18);
            goto LAB_0012f122;
          }
        }
        else {
          do {
            uVar18 = (ulong)uVar7;
            uVar2 = uVar21 + (uVar6 - uVar19) + uVar7;
            uVar7 = uVar7 + 1;
            *(undefined8 *)(lVar13 + (ulong)uVar2 * 8) = *(undefined8 *)(lVar22 + uVar18 * 8);
          } while (uVar19 != uVar7);
          lVar15 = lVar15 + (ulong)uVar6;
          *(long *)(this + 0x28) = lVar15;
          if (uVar20 != 0) {
            uVar7 = *(uint *)(this + 0x18);
            goto joined_r0x0012f115;
          }
        }
        lVar15 = *(long *)this;
        pcVar1 = (char *)(lVar15 + 0x20);
        while( true ) {
          LOCK();
          cVar3 = *pcVar1;
          if (cVar3 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar3 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        *(undefined4 *)(*(long *)(lVar15 + 0x10) + (ulong)*(uint *)(lVar15 + 0x18) * 4) = local_4c;
        *(int *)(lVar15 + 0x18) = *(int *)(lVar15 + 0x18) + 1;
        *(undefined1 *)(lVar15 + 0x20) = 0;
      }
    }
  }
  if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0012f26b:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* PagedArray<RendererSceneCull::Instance*>::merge_unordered(PagedArray<RendererSceneCull::Instance*>&)
    */

void __thiscall
PagedArray<RendererSceneCull::Instance*>::merge_unordered
          (PagedArray<RendererSceneCull::Instance*> *this,PagedArray *param_1)

{
  char *pcVar1;
  uint uVar2;
  char cVar3;
  long lVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  ulong uVar8;
  long lVar9;
  undefined8 uVar10;
  undefined4 *puVar11;
  byte bVar12;
  long lVar13;
  ulong uVar14;
  long lVar15;
  long *plVar16;
  long *plVar17;
  ulong uVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  long lVar22;
  long in_FS_OFFSET;
  undefined4 local_4c;
  
  lVar4 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)this != *(long *)param_1) {
    if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
      _err_print_error("merge_unordered","./core/templates/paged_array.h",0x113,
                       "Condition \"page_pool != p_array.page_pool\" is true.",0,0);
      return;
    }
    goto LAB_0012f66b;
  }
  lVar15 = *(long *)(this + 0x28);
  uVar7 = *(uint *)(this + 0x20) + 1;
  uVar19 = *(uint *)(this + 0x20) & (uint)lVar15;
  if (uVar19 == 0) {
    if (*(long *)(param_1 + 0x28) != 0) {
      local_4c = 0;
      plVar17 = *(long **)(this + 8);
      lVar22 = 0;
LAB_0012f2e1:
      uVar8 = 0;
      do {
        uVar21 = *(uint *)(this + 0x18);
        if (lVar15 == 0) {
          if (uVar21 == 0) {
            lVar13 = 0;
            lVar15 = 0;
LAB_0012f4f2:
            uVar18 = 8;
            uVar21 = 1;
LAB_0012f496:
            *(uint *)(this + 0x18) = uVar21;
            uVar10 = Memory::realloc_static(plVar17,uVar18,false);
            *(undefined8 *)(this + 8) = uVar10;
            lVar9 = Memory::realloc_static
                              (*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
            plVar17 = *(long **)(this + 8);
            *(long *)(this + 0x10) = lVar9;
            plVar16 = (long *)(lVar15 + (long)plVar17);
            puVar11 = (undefined4 *)(lVar9 + lVar13);
          }
          else {
            puVar11 = *(undefined4 **)(this + 0x10);
            plVar16 = plVar17;
          }
        }
        else {
          iVar5 = (int)(lVar15 - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f));
          uVar18 = (ulong)(iVar5 + 1);
          lVar15 = uVar18 * 8;
          lVar13 = uVar18 * 4;
          if (uVar21 < iVar5 + 2U) {
            if (uVar21 == 0) goto LAB_0012f4f2;
            uVar21 = uVar21 * 2;
            uVar18 = (ulong)uVar21 << 3;
            goto LAB_0012f496;
          }
          plVar16 = plVar17 + uVar18;
          puVar11 = (undefined4 *)(*(long *)(this + 0x10) + lVar13);
        }
        *plVar16 = *(long *)(*(long *)(param_1 + 8) + uVar8 * 8);
        *puVar11 = *(undefined4 *)(*(long *)(param_1 + 0x10) + uVar8 * 4);
        uVar18 = *(ulong *)(param_1 + 0x28);
        uVar14 = (ulong)uVar7;
        if (uVar18 <= uVar7) {
          uVar14 = uVar18;
        }
        uVar8 = (ulong)((int)uVar8 + 1);
        *(ulong *)(param_1 + 0x28) = uVar18 - uVar14;
        lVar15 = uVar14 + *(long *)(this + 0x28);
        *(long *)(this + 0x28) = lVar15;
      } while (*(long *)(param_1 + 0x28) != 0);
      goto LAB_0012f3b8;
    }
  }
  else {
    plVar17 = *(long **)(this + 8);
    uVar8 = lVar15 - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f) & 0xffffffff;
    lVar22 = plVar17[uVar8];
    local_4c = *(undefined4 *)(*(long *)(this + 0x10) + uVar8 * 4);
    lVar15 = lVar15 - (ulong)uVar19;
    *(long *)(this + 0x28) = lVar15;
    if (*(long *)(param_1 + 0x28) != 0) goto LAB_0012f2e1;
LAB_0012f3b8:
    if (lVar22 != 0) {
      lVar15 = *(long *)(this + 0x28);
      uVar21 = (uint)lVar15 & *(uint *)(this + 0x20);
      if (uVar21 == 0) {
        if (uVar19 != 0) {
          uVar7 = *(uint *)(this + 0x18);
          uVar8 = (ulong)uVar19;
joined_r0x0012f515:
          if (lVar15 == 0) {
            if (uVar7 == 0) {
              lVar9 = 0;
              uVar18 = 8;
              uVar7 = 1;
              lVar13 = 0;
LAB_0012f60c:
              *(uint *)(this + 0x18) = uVar7;
              uVar10 = Memory::realloc_static(plVar17,uVar18,false);
              *(undefined8 *)(this + 8) = uVar10;
              lVar15 = Memory::realloc_static
                                 (*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
              plVar17 = (long *)(lVar13 + *(long *)(this + 8));
              *(long *)(this + 0x10) = lVar15;
              puVar11 = (undefined4 *)(lVar15 + lVar9);
              lVar15 = *(long *)(this + 0x28);
            }
            else {
              puVar11 = *(undefined4 **)(this + 0x10);
            }
          }
          else {
            bVar12 = (byte)*(undefined4 *)(this + 0x1c);
            uVar18 = lVar15 - 1;
LAB_0012f522:
            iVar5 = (int)(uVar18 >> (bVar12 & 0x3f));
            uVar18 = (ulong)(iVar5 + 1);
            lVar13 = uVar18 * 8;
            lVar9 = uVar18 * 4;
            if (uVar7 < iVar5 + 2U) {
              if (uVar7 == 0) {
                uVar18 = 8;
                uVar7 = 1;
              }
              else {
                uVar7 = uVar7 * 2;
                uVar18 = (ulong)uVar7 * 8;
              }
              goto LAB_0012f60c;
            }
            plVar17 = plVar17 + uVar18;
            puVar11 = (undefined4 *)(*(long *)(this + 0x10) + lVar9);
          }
          *plVar17 = lVar22;
          *puVar11 = local_4c;
          *(ulong *)(this + 0x28) = uVar8 + lVar15;
        }
      }
      else {
        uVar18 = lVar15 - 1;
        bVar12 = (byte)*(undefined4 *)(this + 0x1c);
        uVar6 = uVar7 - uVar21;
        if (uVar19 < uVar7 - uVar21) {
          uVar6 = uVar19;
        }
        lVar13 = plVar17[uVar18 >> (bVar12 & 0x3f) & 0xffffffff];
        uVar20 = uVar19 - uVar6;
        uVar8 = (ulong)uVar20;
        uVar7 = uVar20;
        if (uVar6 == 0) {
          if (uVar20 != 0) {
            uVar7 = *(uint *)(this + 0x18);
            goto LAB_0012f522;
          }
        }
        else {
          do {
            uVar18 = (ulong)uVar7;
            uVar2 = uVar21 + (uVar6 - uVar19) + uVar7;
            uVar7 = uVar7 + 1;
            *(undefined8 *)(lVar13 + (ulong)uVar2 * 8) = *(undefined8 *)(lVar22 + uVar18 * 8);
          } while (uVar19 != uVar7);
          lVar15 = lVar15 + (ulong)uVar6;
          *(long *)(this + 0x28) = lVar15;
          if (uVar20 != 0) {
            uVar7 = *(uint *)(this + 0x18);
            goto joined_r0x0012f515;
          }
        }
        lVar15 = *(long *)this;
        pcVar1 = (char *)(lVar15 + 0x20);
        while( true ) {
          LOCK();
          cVar3 = *pcVar1;
          if (cVar3 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar3 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        *(undefined4 *)(*(long *)(lVar15 + 0x10) + (ulong)*(uint *)(lVar15 + 0x18) * 4) = local_4c;
        *(int *)(lVar15 + 0x18) = *(int *)(lVar15 + 0x18) + 1;
        *(undefined1 *)(lVar15 + 0x20) = 0;
      }
    }
  }
  if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0012f66b:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* PagedArray<RID>::merge_unordered(PagedArray<RID>&) */

void __thiscall PagedArray<RID>::merge_unordered(PagedArray<RID> *this,PagedArray *param_1)

{
  char *pcVar1;
  uint uVar2;
  char cVar3;
  long lVar4;
  uint uVar5;
  long lVar6;
  undefined8 uVar7;
  undefined4 *puVar8;
  byte bVar9;
  long lVar10;
  ulong uVar11;
  long lVar12;
  long *plVar13;
  long *plVar14;
  int iVar15;
  uint uVar16;
  ulong uVar17;
  ulong uVar18;
  uint uVar19;
  uint uVar20;
  long lVar21;
  long in_FS_OFFSET;
  undefined4 local_4c;
  
  lVar4 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)this != *(long *)param_1) {
    if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
      _err_print_error("merge_unordered","./core/templates/paged_array.h",0x113,
                       "Condition \"page_pool != p_array.page_pool\" is true.",0,0);
      return;
    }
    goto LAB_0012fa55;
  }
  lVar12 = *(long *)(this + 0x28);
  uVar16 = *(uint *)(this + 0x20) + 1;
  uVar19 = *(uint *)(this + 0x20) & (uint)lVar12;
  if (uVar19 == 0) {
    if (*(long *)(param_1 + 0x28) != 0) {
      local_4c = 0;
      plVar14 = *(long **)(this + 8);
      lVar21 = 0;
LAB_0012f6e1:
      uVar18 = 0;
      do {
        uVar5 = *(uint *)(this + 0x18);
        if (lVar12 == 0) {
          if (uVar5 == 0) {
            lVar10 = 0;
            lVar12 = 0;
LAB_0012f8e2:
            uVar17 = 8;
            uVar5 = 1;
LAB_0012f88e:
            *(uint *)(this + 0x18) = uVar5;
            uVar7 = Memory::realloc_static(plVar14,uVar17,false);
            *(undefined8 *)(this + 8) = uVar7;
            lVar6 = Memory::realloc_static
                              (*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
            plVar14 = *(long **)(this + 8);
            *(long *)(this + 0x10) = lVar6;
            plVar13 = (long *)(lVar12 + (long)plVar14);
            puVar8 = (undefined4 *)(lVar6 + lVar10);
          }
          else {
            puVar8 = *(undefined4 **)(this + 0x10);
            plVar13 = plVar14;
          }
        }
        else {
          iVar15 = (int)(lVar12 - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f));
          uVar17 = (ulong)(iVar15 + 1);
          lVar12 = uVar17 * 8;
          lVar10 = uVar17 * 4;
          if (uVar5 < iVar15 + 2U) {
            if (uVar5 == 0) goto LAB_0012f8e2;
            uVar5 = uVar5 * 2;
            uVar17 = (ulong)uVar5 << 3;
            goto LAB_0012f88e;
          }
          plVar13 = plVar14 + uVar17;
          puVar8 = (undefined4 *)(*(long *)(this + 0x10) + lVar10);
        }
        *plVar13 = *(long *)(*(long *)(param_1 + 8) + uVar18 * 8);
        *puVar8 = *(undefined4 *)(*(long *)(param_1 + 0x10) + uVar18 * 4);
        uVar17 = *(ulong *)(param_1 + 0x28);
        uVar11 = (ulong)uVar16;
        if (uVar17 <= uVar16) {
          uVar11 = uVar17;
        }
        uVar18 = (ulong)((int)uVar18 + 1);
        *(ulong *)(param_1 + 0x28) = uVar17 - uVar11;
        lVar12 = uVar11 + *(long *)(this + 0x28);
        *(long *)(this + 0x28) = lVar12;
      } while (*(long *)(param_1 + 0x28) != 0);
      goto LAB_0012f7b8;
    }
  }
  else {
    plVar14 = *(long **)(this + 8);
    uVar18 = lVar12 - 1U >> ((byte)*(undefined4 *)(this + 0x1c) & 0x3f) & 0xffffffff;
    lVar21 = plVar14[uVar18];
    local_4c = *(undefined4 *)(*(long *)(this + 0x10) + uVar18 * 4);
    lVar12 = lVar12 - (ulong)uVar19;
    *(long *)(this + 0x28) = lVar12;
    if (*(long *)(param_1 + 0x28) != 0) goto LAB_0012f6e1;
LAB_0012f7b8:
    if (lVar21 != 0) {
      lVar12 = *(long *)(this + 0x28);
      uVar5 = (uint)lVar12 & *(uint *)(this + 0x20);
      if (uVar5 == 0) {
        if (uVar19 != 0) {
          uVar16 = *(uint *)(this + 0x18);
joined_r0x0012f902:
          if (lVar12 == 0) {
            if (uVar16 == 0) {
              lVar6 = 0;
              uVar18 = 8;
              uVar16 = 1;
              lVar10 = 0;
LAB_0012f9ec:
              *(uint *)(this + 0x18) = uVar16;
              uVar7 = Memory::realloc_static(plVar14,uVar18,false);
              *(undefined8 *)(this + 8) = uVar7;
              lVar12 = Memory::realloc_static
                                 (*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
              plVar14 = (long *)(lVar10 + *(long *)(this + 8));
              *(long *)(this + 0x10) = lVar12;
              puVar8 = (undefined4 *)(lVar12 + lVar6);
              lVar12 = *(long *)(this + 0x28);
            }
            else {
              puVar8 = *(undefined4 **)(this + 0x10);
            }
          }
          else {
            bVar9 = (byte)*(undefined4 *)(this + 0x1c);
            uVar18 = lVar12 - 1;
LAB_0012f90f:
            iVar15 = (int)(uVar18 >> (bVar9 & 0x3f));
            uVar18 = (ulong)(iVar15 + 1);
            lVar10 = uVar18 * 8;
            lVar6 = uVar18 * 4;
            if (uVar16 < iVar15 + 2U) {
              if (uVar16 == 0) {
                uVar18 = 8;
                uVar16 = 1;
              }
              else {
                uVar16 = uVar16 * 2;
                uVar18 = (ulong)uVar16 * 8;
              }
              goto LAB_0012f9ec;
            }
            plVar14 = plVar14 + uVar18;
            puVar8 = (undefined4 *)(*(long *)(this + 0x10) + lVar6);
          }
          *plVar14 = lVar21;
          *puVar8 = local_4c;
          *(ulong *)(this + 0x28) = (ulong)uVar19 + lVar12;
        }
      }
      else {
        uVar18 = lVar12 - 1;
        bVar9 = (byte)*(undefined4 *)(this + 0x1c);
        uVar20 = uVar16 - uVar5;
        if (uVar19 < uVar16 - uVar5) {
          uVar20 = uVar19;
        }
        lVar10 = plVar14[uVar18 >> (bVar9 & 0x3f) & 0xffffffff];
        uVar19 = uVar19 - uVar20;
        uVar16 = uVar5 + uVar20;
        iVar15 = uVar19 - uVar5;
        if (uVar20 == 0) {
          if (uVar19 != 0) {
            uVar16 = *(uint *)(this + 0x18);
            goto LAB_0012f90f;
          }
        }
        else {
          do {
            uVar2 = iVar15 + uVar5;
            uVar18 = (ulong)uVar5;
            uVar5 = uVar5 + 1;
            *(undefined8 *)(lVar10 + uVar18 * 8) = *(undefined8 *)(lVar21 + (ulong)uVar2 * 8);
          } while (uVar5 != uVar16);
          lVar12 = lVar12 + (ulong)uVar20;
          *(long *)(this + 0x28) = lVar12;
          if (uVar19 != 0) {
            uVar16 = *(uint *)(this + 0x18);
            goto joined_r0x0012f902;
          }
        }
        lVar12 = *(long *)this;
        pcVar1 = (char *)(lVar12 + 0x20);
        while( true ) {
          LOCK();
          cVar3 = *pcVar1;
          if (cVar3 == '\0') {
            *pcVar1 = '\x01';
          }
          UNLOCK();
          if (cVar3 == '\0') break;
          do {
          } while (*pcVar1 != '\0');
        }
        *(undefined4 *)(*(long *)(lVar12 + 0x10) + (ulong)*(uint *)(lVar12 + 0x18) * 4) = local_4c;
        *(int *)(lVar12 + 0x18) = *(int *)(lVar12 + 0x18) + 1;
        *(undefined1 *)(lVar12 + 0x20) = 0;
      }
    }
  }
  if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0012fa55:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* void CommandQueueMT::push<RenderingServerDefault, void (RenderingServerDefault::*)(Callable
   const&), Callable const&>(RenderingServerDefault*, void (RenderingServerDefault::*)(Callable
   const&), Callable const&) */

void CommandQueueMT::
     push<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),Callable_const&>
               (RenderingServerDefault *param_1,_func_void_Callable_ptr *param_2,Callable *param_3)

{
  uint uVar1;
  code *pcVar2;
  int iVar3;
  void *pvVar4;
  undefined8 in_RCX;
  ulong uVar5;
  uint uVar6;
  undefined8 *puVar7;
  uint uVar8;
  Callable *in_R8;
  
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)param_1);
  if (iVar3 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar3);
  }
  uVar1 = *(uint *)(param_1 + 0x28);
  uVar5 = (ulong)uVar1;
  uVar8 = uVar1 + 0x40;
  if (uVar1 < 0xffffffc0) {
    pvVar4 = *(void **)(param_1 + 0x30);
    if (*(uint *)(param_1 + 0x2c) < uVar8) {
      uVar6 = uVar1 + 0x3f | uVar1 + 0x3f >> 1;
      uVar6 = uVar6 | uVar6 >> 2;
      uVar6 = uVar6 | uVar6 >> 4;
      uVar6 = uVar6 | uVar6 >> 8;
      uVar6 = (uVar6 | uVar6 >> 0x10) + 1;
      *(uint *)(param_1 + 0x2c) = uVar6;
      pvVar4 = (void *)Memory::realloc_static(pvVar4,(ulong)uVar6,false);
      *(void **)(param_1 + 0x30) = pvVar4;
      if (pvVar4 == (void *)0x0) {
        _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                         "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar2 = (code *)invalidInstructionException();
        (*pcVar2)();
      }
    }
    uVar5 = (ulong)(uVar1 + 8);
    *(uint *)(param_1 + 0x28) = uVar8;
    *(undefined8 *)((long)pvVar4 + (ulong)uVar1) = 0x38;
    if (uVar1 + 8 < uVar8) {
      puVar7 = (undefined8 *)((long)pvVar4 + uVar5);
      *puVar7 = &PTR_call_001389b0;
      *(undefined1 *)(puVar7 + 1) = 0;
      puVar7[2] = param_2;
      puVar7[3] = param_3;
      puVar7[4] = in_RCX;
      Callable::Callable((Callable *)(puVar7 + 5),in_R8);
      LOCK();
      param_1[0x88] = (RenderingServerDefault)0x1;
      UNLOCK();
      if (*(long *)(param_1 + 0x78) != -1) {
        WorkerThreadPool::notify_yield_over(WorkerThreadPool::singleton);
      }
      pthread_mutex_unlock((pthread_mutex_t *)param_1);
      return;
    }
  }
  else {
    *(uint *)(param_1 + 0x28) = uVar8;
  }
  _err_print_index_error
            ("operator[]","./core/templates/local_vector.h",0xb2,uVar5,(ulong)uVar8,"p_index",
             "count","",false,true);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar2 = (code *)invalidInstructionException();
  (*pcVar2)();
}



/* RenderingServerDefault::call_on_render_thread(Callable const&) */

void __thiscall
RenderingServerDefault::call_on_render_thread(RenderingServerDefault *this,Callable *param_1)

{
  long in_FS_OFFSET;
  int local_68 [2];
  undefined1 local_60 [16];
  int local_48 [6];
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (_GLOBAL_OFFSET_TABLE_ != (undefined *)0x0) {
    Thread::caller_id();
  }
  if (*(long *)(this + 0x2c0) == *(long *)(in_FS_OFFSET + lRam000000000012fc5a)) {
    if (this[0x2b8] != (RenderingServerDefault)0x0) {
      CommandQueueMT::_flush((CommandQueueMT *)(this + 0x230));
    }
    Variant::Variant((Variant *)local_48,0);
    local_68[0] = 0;
    local_60 = (undefined1  [16])0x0;
    Callable::callp((Variant **)param_1,0,(Variant *)0x0,(CallError *)local_68);
    if (Variant::needs_deinit[local_48[0]] != '\0') {
      Variant::_clear_internal();
    }
    if (Variant::needs_deinit[local_68[0]] != '\0') {
      Variant::_clear_internal();
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    CommandQueueMT::
    push<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),Callable_const&>
              (this + 0x230,(_func_void_Callable_ptr *)this,
               (Callable *)RenderingServerDefault::_call_on_render_thread);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashSet<RendererSceneCull::Instance*, HashMapHasherDefault,
   HashMapComparatorDefault<RendererSceneCull::Instance*> >::insert(RendererSceneCull::Instance*
   const&) */

undefined1  [16]
HashSet<RendererSceneCull::Instance*,HashMapHasherDefault,HashMapComparatorDefault<RendererSceneCull::Instance*>>
::insert(Instance **param_1)

{
  uint *puVar1;
  long lVar2;
  long lVar3;
  void *pvVar4;
  void *pvVar5;
  long lVar6;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  uint uVar31;
  uint uVar32;
  ulong uVar33;
  long lVar34;
  int iVar35;
  long *in_RDX;
  long lVar36;
  long *in_RSI;
  uint uVar37;
  ulong uVar38;
  uint uVar39;
  ulong uVar40;
  undefined4 uVar41;
  ulong uVar42;
  ulong uVar43;
  uint uVar44;
  undefined1 auVar45 [16];
  ulong uStack_98;
  Instance *local_88;
  ulong local_70;
  
  uVar32 = *(uint *)(in_RSI + 4);
  uVar31 = *(uint *)(hash_table_size_primes + (ulong)uVar32 * 4);
  local_88 = (Instance *)*in_RSI;
  if (local_88 == (Instance *)0x0) {
    uVar33 = (ulong)uVar31 * 4;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[3] = lVar34;
    lVar34 = Memory::alloc_static((ulong)uVar31 * 8,false);
    *in_RSI = lVar34;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[2] = lVar34;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[1] = lVar34;
    if (uVar31 != 0) {
      memset((void *)in_RSI[3],0,uVar33);
    }
    uVar44 = *(uint *)((long)in_RSI + 0x24);
    uVar32 = *(uint *)(in_RSI + 4);
    lVar34 = *in_RDX;
    local_88 = (Instance *)*in_RSI;
    if (local_88 != (Instance *)0x0) goto LAB_0012fe6f;
  }
  else {
    uVar44 = *(uint *)((long)in_RSI + 0x24);
    lVar34 = *in_RDX;
LAB_0012fe6f:
    if (uVar44 != 0) {
      uVar43 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)uVar32 * 4));
      lVar3 = *(long *)(hash_table_size_primes_inv + (ulong)uVar32 * 8);
      uVar33 = lVar34 * 0x3ffff - 1;
      uVar33 = (uVar33 ^ uVar33 >> 0x1f) * 0x15;
      uVar33 = (uVar33 ^ uVar33 >> 0xb) * 0x41;
      uVar33 = uVar33 >> 0x16 ^ uVar33;
      uVar42 = uVar33 & 0xffffffff;
      if ((int)uVar33 == 0) {
        uVar42 = 1;
      }
      auVar7._8_8_ = 0;
      auVar7._0_8_ = uVar42 * lVar3;
      auVar19._8_8_ = 0;
      auVar19._0_8_ = uVar43;
      lVar36 = SUB168(auVar7 * auVar19,8);
      uVar39 = *(uint *)(in_RSI[3] + lVar36 * 4);
      uVar33 = (ulong)uVar39;
      iVar35 = SUB164(auVar7 * auVar19,8);
      if (uVar39 != 0) {
        uVar39 = 0;
        do {
          if ((int)uVar42 == (int)uVar33) {
            uVar37 = *(uint *)(in_RSI[1] + lVar36 * 4);
            uStack_98 = (ulong)uVar37;
            if (*(long *)(local_88 + uStack_98 * 8) == lVar34) goto LAB_00130311;
          }
          uVar39 = uVar39 + 1;
          auVar8._8_8_ = 0;
          auVar8._0_8_ = (ulong)(iVar35 + 1) * lVar3;
          auVar20._8_8_ = 0;
          auVar20._0_8_ = uVar43;
          lVar36 = SUB168(auVar8 * auVar20,8);
          uVar37 = *(uint *)(in_RSI[3] + lVar36 * 4);
          uVar33 = (ulong)uVar37;
          iVar35 = SUB164(auVar8 * auVar20,8);
        } while ((uVar37 != 0) &&
                (auVar9._8_8_ = 0, auVar9._0_8_ = uVar33 * lVar3, auVar21._8_8_ = 0,
                auVar21._0_8_ = uVar43, auVar10._8_8_ = 0,
                auVar10._0_8_ =
                     (ulong)((*(uint *)(hash_table_size_primes + (ulong)uVar32 * 4) + iVar35) -
                            SUB164(auVar9 * auVar21,8)) * lVar3, auVar22._8_8_ = 0,
                auVar22._0_8_ = uVar43, uVar39 <= SUB164(auVar10 * auVar22,8)));
      }
    }
  }
  if ((float)uVar31 * __LC109 < (float)(uVar44 + 1)) {
    if (uVar32 == 0x1c) {
      uStack_98 = 0;
      _err_print_error("_insert","./core/templates/hash_set.h",0xbf,
                       "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: -1"
                       ,"Hash table maximum capacity reached, aborting insertion.",0);
      uVar44 = *(uint *)((long)in_RSI + 0x24);
      uVar37 = 0xffffffff;
      local_88 = (Instance *)*in_RSI;
      goto LAB_00130311;
    }
    uVar33 = (ulong)(uVar32 + 1);
    if (uVar32 + 1 < 2) {
      uVar33 = 2;
    }
    uVar31 = *(uint *)(hash_table_size_primes + uVar33 * 4);
    *(int *)(in_RSI + 4) = (int)uVar33;
    pvVar4 = (void *)in_RSI[3];
    uVar33 = (ulong)uVar31 * 4;
    pvVar5 = (void *)in_RSI[2];
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[3] = lVar34;
    lVar34 = Memory::realloc_static((void *)*in_RSI,(ulong)uVar31 * 8,false);
    *in_RSI = lVar34;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[2] = lVar34;
    lVar34 = Memory::realloc_static((void *)in_RSI[1],uVar33,false);
    in_RSI[1] = lVar34;
    if (uVar31 != 0) {
      memset((void *)in_RSI[3],0,uVar33);
    }
    if (*(int *)((long)in_RSI + 0x24) != 0) {
      lVar3 = in_RSI[2];
      lVar36 = in_RSI[3];
      local_70 = 0;
      do {
        uVar39 = 0;
        uVar43 = local_70 & 0xffffffff;
        uVar41 = (undefined4)local_70;
        uVar31 = *(uint *)((long)pvVar4 + (ulong)*(uint *)((long)pvVar5 + local_70 * 4) * 4);
        uVar33 = (ulong)uVar31;
        uVar32 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 4) * 4);
        uVar38 = CONCAT44(0,uVar32);
        lVar6 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 4) * 8);
        auVar11._8_8_ = 0;
        auVar11._0_8_ = uVar33 * lVar6;
        auVar23._8_8_ = 0;
        auVar23._0_8_ = uVar38;
        lVar2 = SUB168(auVar11 * auVar23,8) * 4;
        iVar35 = SUB164(auVar11 * auVar23,8);
        puVar1 = (uint *)(lVar36 + lVar2);
        uVar44 = *puVar1;
        uVar42 = local_70;
        while (uVar44 != 0) {
          auVar12._8_8_ = 0;
          auVar12._0_8_ = (ulong)uVar44 * lVar6;
          auVar24._8_8_ = 0;
          auVar24._0_8_ = uVar38;
          auVar13._8_8_ = 0;
          auVar13._0_8_ = (ulong)((uVar32 + iVar35) - SUB164(auVar12 * auVar24,8)) * lVar6;
          auVar25._8_8_ = 0;
          auVar25._0_8_ = uVar38;
          uVar31 = SUB164(auVar13 * auVar25,8);
          if (uVar31 < uVar39) {
            *(int *)(lVar3 + uVar43 * 4) = iVar35;
            uVar44 = *puVar1;
            *puVar1 = (uint)uVar33;
            uVar39 = *(uint *)(lVar2 + lVar34);
            uVar33 = (ulong)uVar44;
            *(uint *)(lVar2 + lVar34) = (uint)uVar43;
            uVar43 = (ulong)uVar39;
            uVar39 = uVar31;
          }
          uVar41 = (undefined4)uVar43;
          uVar31 = (uint)uVar33;
          uVar39 = uVar39 + 1;
          auVar14._8_8_ = 0;
          auVar14._0_8_ = (ulong)(iVar35 + 1) * lVar6;
          auVar26._8_8_ = 0;
          auVar26._0_8_ = uVar38;
          lVar2 = SUB168(auVar14 * auVar26,8) * 4;
          iVar35 = SUB164(auVar14 * auVar26,8);
          puVar1 = (uint *)(lVar36 + lVar2);
          uVar42 = uVar43;
          uVar44 = *puVar1;
        }
        *puVar1 = uVar31;
        *(int *)(lVar3 + uVar42 * 4) = iVar35;
        local_70 = local_70 + 1;
        *(undefined4 *)(lVar34 + lVar2) = uVar41;
      } while ((uint)local_70 < *(uint *)((long)in_RSI + 0x24));
    }
    Memory::free_static(pvVar4,false);
    Memory::free_static(pvVar5,false);
    uVar32 = *(uint *)(in_RSI + 4);
    uVar44 = *(uint *)((long)in_RSI + 0x24);
    local_88 = (Instance *)*in_RSI;
    lVar34 = *in_RDX;
  }
  uVar42 = (ulong)uVar44;
  lVar3 = in_RSI[3];
  *(long *)(local_88 + uVar42 * 8) = lVar34;
  uVar33 = lVar34 * 0x3ffff - 1;
  uVar33 = (uVar33 ^ uVar33 >> 0x1f) * 0x15;
  uVar33 = (uVar33 ^ uVar33 >> 0xb) * 0x41;
  uVar33 = uVar33 >> 0x16 ^ uVar33;
  uVar43 = uVar33 & 0xffffffff;
  if ((int)uVar33 == 0) {
    uVar43 = 1;
  }
  uVar37 = 0;
  uVar31 = *(uint *)(hash_table_size_primes + (ulong)uVar32 * 4);
  uVar40 = CONCAT44(0,uVar31);
  uVar39 = (uint)uVar43;
  lVar36 = *(long *)(hash_table_size_primes_inv + (ulong)uVar32 * 8);
  auVar15._8_8_ = 0;
  auVar15._0_8_ = uVar43 * lVar36;
  auVar27._8_8_ = 0;
  auVar27._0_8_ = uVar40;
  lVar34 = SUB168(auVar15 * auVar27,8) * 4;
  iVar35 = SUB164(auVar15 * auVar27,8);
  lVar2 = in_RSI[2];
  puVar1 = (uint *)(lVar3 + lVar34);
  uVar33 = in_RSI[1];
  uVar32 = *puVar1;
  uStack_98 = uVar33;
  uVar38 = uVar42;
  while (uVar32 != 0) {
    auVar16._8_8_ = 0;
    auVar16._0_8_ = (ulong)uVar32 * lVar36;
    auVar28._8_8_ = 0;
    auVar28._0_8_ = uVar40;
    auVar17._8_8_ = 0;
    auVar17._0_8_ = (ulong)((uVar31 + iVar35) - SUB164(auVar16 * auVar28,8)) * lVar36;
    auVar29._8_8_ = 0;
    auVar29._0_8_ = uVar40;
    uVar32 = SUB164(auVar17 * auVar29,8);
    if (uVar32 < uVar37) {
      *(int *)(lVar2 + uVar42 * 4) = iVar35;
      uVar44 = *puVar1;
      *puVar1 = (uint)uVar43;
      uVar39 = *(uint *)(lVar34 + uVar33);
      uVar43 = (ulong)uVar44;
      *(uint *)(lVar34 + uVar33) = (uint)uVar38;
      uVar42 = (ulong)uVar39;
      uVar38 = uVar42;
      uVar37 = uVar32;
    }
    uVar44 = (uint)uVar38;
    uVar39 = (uint)uVar43;
    uVar37 = uVar37 + 1;
    auVar18._8_8_ = 0;
    auVar18._0_8_ = (ulong)(iVar35 + 1) * lVar36;
    auVar30._8_8_ = 0;
    auVar30._0_8_ = uVar40;
    uStack_98 = SUB168(auVar18 * auVar30,8);
    lVar34 = uStack_98 * 4;
    iVar35 = SUB164(auVar18 * auVar30,8);
    puVar1 = (uint *)(lVar3 + lVar34);
    uVar32 = *puVar1;
  }
  *puVar1 = uVar39;
  *(int *)(lVar2 + uVar42 * 4) = iVar35;
  *(uint *)(uVar33 + lVar34) = uVar44;
  uVar37 = *(uint *)((long)in_RSI + 0x24);
  uVar44 = uVar37 + 1;
  *(uint *)((long)in_RSI + 0x24) = uVar44;
LAB_00130311:
  *(uint *)((long)param_1 + 0xc) = uVar37;
  *param_1 = local_88;
  *(uint *)(param_1 + 1) = uVar44;
  auVar45._8_8_ = uStack_98;
  auVar45._0_8_ = param_1;
  return auVar45;
}



/* WARNING: Removing unreachable block (ram,0x00130546) */
/* WARNING: Removing unreachable block (ram,0x00130719) */
/* RendererSceneCull::PairInstances::pair() */

void __thiscall RendererSceneCull::PairInstances::pair(PairInstances *this)

{
  long *plVar1;
  long *plVar2;
  long lVar3;
  long lVar4;
  PagedAllocator<RendererSceneCull::InstancePair,false,4096u> *pPVar5;
  code *pcVar6;
  long lVar7;
  float *****pppppfVar8;
  float ****ppppfVar9;
  InstancePair *pIVar10;
  float *****pppppfVar11;
  ulong uVar12;
  uint uVar13;
  float *****pppppfVar14;
  undefined1 *puVar15;
  undefined8 *puVar16;
  Instance *pIVar17;
  Instance *pIVar18;
  undefined8 *puVar19;
  float ****ppppfVar20;
  float *****pppppfVar21;
  float fVar22;
  int iVar23;
  int iVar24;
  float *****pppppfVar25;
  int iVar26;
  long in_FS_OFFSET;
  byte bVar27;
  float fVar28;
  float fVar29;
  float fVar30;
  float fVar31;
  float fVar32;
  float fVar33;
  float fVar34;
  undefined1 auStack_498 [8];
  float ****appppfStack_490 [129];
  float ****local_88;
  float ****local_80;
  float local_78;
  float local_74;
  float ***local_70;
  float ***local_68;
  float local_60;
  float local_5c;
  float ****local_58;
  float local_50;
  float local_4c;
  long local_40;
  
  bVar27 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  pIVar18 = *(Instance **)this;
  pppppfVar14 = &local_88;
  if ((*(long *)(this + 0x20) != 0) &&
     (pppppfVar21 = *(float ******)(*(long *)(this + 0x20) + 0x68), pppppfVar14 = &local_88,
     pppppfVar21 != (float *****)0x0)) {
    fVar33 = *(float *)(pIVar18 + 0x140);
    fVar32 = *(float *)(pIVar18 + 0x13c);
    fVar30 = *(float *)(pIVar18 + 0x138);
    fVar34 = *(float *)(pIVar18 + 0x14c) + fVar33;
    fVar31 = *(float *)(pIVar18 + 0x148) + fVar32;
    fVar28 = *(float *)(pIVar18 + 0x144) + fVar30;
    pppppfVar14 = (float *****)auStack_498;
    pppppfVar11 = (float *****)0x0;
    fVar22 = 0.0;
    iVar24 = 1;
    iVar26 = 0x7e;
    iVar23 = 0;
    local_4c = 0.0;
    pppppfVar25 = appppfStack_490;
    appppfStack_490[0] = (float ****)pppppfVar21;
    local_58 = (float ****)pppppfVar25;
    if (fVar28 < *(float *)pppppfVar21) goto LAB_001306a4;
    do {
      if (*(float *)((long)pppppfVar21 + 0xc) < fVar30) goto LAB_001306a4;
      if (fVar31 < *(float *)((long)pppppfVar21 + 4)) goto LAB_001306a4;
      if (*(float *)(pppppfVar21 + 2) < fVar32) goto LAB_001306a4;
      if (fVar34 < *(float *)(pppppfVar21 + 1)) goto LAB_001306a4;
      if (*(float *)((long)pppppfVar21 + 0x14) < fVar33) goto LAB_001306a4;
      if (pppppfVar21[5] == (float ****)0x0) {
        ppppfVar20 = pppppfVar21[4];
        ppppfVar9 = *(float *****)this;
        if (ppppfVar20 == ppppfVar9) goto LAB_001306a4;
        if ((((*(float *)((long)ppppfVar9 + 0x144) <= 0.0 &&
               *(float *)((long)ppppfVar9 + 0x144) != 0.0) ||
             (*(float *)(ppppfVar9 + 0x29) <= 0.0 && *(float *)(ppppfVar9 + 0x29) != 0.0)) ||
            (*(float *)((long)ppppfVar9 + 0x14c) <= 0.0 &&
             *(float *)((long)ppppfVar9 + 0x14c) != 0.0)) ||
           (((fVar29 = *(float *)((long)ppppfVar20 + 0x144), fVar29 < 0.0 ||
             (*(float *)(ppppfVar20 + 0x29) <= 0.0 && *(float *)(ppppfVar20 + 0x29) != 0.0)) ||
            (*(float *)((long)ppppfVar20 + 0x14c) <= 0.0 &&
             *(float *)((long)ppppfVar20 + 0x14c) != 0.0)))) {
          local_80 = (float ****)CONCAT44(local_80._4_4_,fVar28);
          local_68 = (float ***)CONCAT44(local_68._4_4_,fVar30);
          local_88 = (float ****)pppppfVar11;
          local_78 = fVar22;
          local_74 = fVar31;
          local_70 = (float ***)ppppfVar9;
          local_60 = fVar34;
          local_5c = fVar33;
          local_50 = fVar32;
          _err_print_error("intersects","./core/math/aabb.h",0x8e,
                           "AABB size is negative, this is not supported. Use AABB.abs() to get an AABB with a positive size."
                           ,0,0);
          fVar29 = *(float *)((long)ppppfVar20 + 0x144);
          ppppfVar9 = (float ****)local_70;
          pppppfVar11 = (float *****)local_88;
          fVar30 = local_68._0_4_;
          fVar31 = local_74;
          fVar32 = local_50;
          fVar33 = local_5c;
          fVar34 = local_60;
          fVar28 = local_80._0_4_;
          fVar22 = local_78;
        }
        if (fVar29 + *(float *)(ppppfVar20 + 0x27) <= *(float *)(ppppfVar9 + 0x27))
        goto LAB_001306a4;
        if (*(float *)(ppppfVar9 + 0x27) + *(float *)((long)ppppfVar9 + 0x144) <=
            *(float *)(ppppfVar20 + 0x27)) goto LAB_001306a4;
        if (*(float *)(ppppfVar20 + 0x29) + *(float *)((long)ppppfVar20 + 0x13c) <=
            *(float *)((long)ppppfVar9 + 0x13c)) goto LAB_001306a4;
        if (*(float *)((long)ppppfVar9 + 0x13c) + *(float *)(ppppfVar9 + 0x29) <=
            *(float *)((long)ppppfVar20 + 0x13c)) goto LAB_001306a4;
        if (*(float *)((long)ppppfVar20 + 0x14c) + *(float *)(ppppfVar20 + 0x28) <=
            *(float *)(ppppfVar9 + 0x28)) goto LAB_001306a4;
        if (*(float *)(ppppfVar9 + 0x28) + *(float *)((long)ppppfVar9 + 0x14c) <=
            *(float *)(ppppfVar20 + 0x28)) goto LAB_001306a4;
        if ((1 << ((byte)*(undefined4 *)ppppfVar20 & 0x1f) & *(uint *)(this + 0x30)) == 0)
        goto LAB_001306a4;
        if ((*(uint *)(this + 0x40) & *(uint *)((long)ppppfVar20 + 0xdc)) == 0) goto LAB_001306a4;
        pPVar5 = *(PagedAllocator<RendererSceneCull::InstancePair,false,4096u> **)(this + 8);
        local_88 = (float ****)CONCAT44(local_88._4_4_,fVar22);
        ppppfVar20[0x56] = *(float ****)(this + 0x38);
        local_70 = (float ***)CONCAT44(local_70._4_4_,fVar34);
        local_68 = (float ***)CONCAT44(local_68._4_4_,fVar30);
        local_80 = (float ****)pppppfVar11;
        local_74 = fVar28;
        local_60 = fVar31;
        local_5c = fVar33;
        local_50 = fVar32;
        pIVar10 = PagedAllocator<RendererSceneCull::InstancePair,false,4096u>::alloc<>(pPVar5);
        *(undefined8 *)pIVar10 = *(undefined8 *)this;
        *(float *****)(pIVar10 + 8) = ppppfVar20;
        SelfList<RendererSceneCull::InstancePair>::List::add
                  ((List *)(this + 0x10),(SelfList *)(pIVar10 + 0x10));
        pppppfVar11 = (float *****)local_80;
        fVar30 = local_68._0_4_;
        fVar31 = local_60;
        fVar32 = local_50;
        fVar33 = local_5c;
        fVar34 = local_70._0_4_;
        fVar28 = local_74;
        fVar22 = local_88._0_4_;
        goto LAB_001306a4;
      }
      ppppfVar20 = (float ****)((long)iVar23 * 8);
      pppppfVar8 = pppppfVar25 + iVar23;
      if (iVar26 < iVar23) {
        if (fVar22 == 0.0) {
          if ((uint)local_4c < 0x100) {
            local_70 = (float ***)CONCAT44(local_70._4_4_,fVar34);
            local_80 = (float ****)pppppfVar21;
            local_74 = fVar28;
            local_68 = (float ***)ppppfVar20;
            local_60 = fVar31;
            local_5c = fVar30;
            local_50 = fVar33;
            local_4c = fVar32;
            pppppfVar11 = (float *****)Memory::realloc_static(pppppfVar11,0x800,false);
            fVar32 = local_4c;
            puVar15 = auStack_498;
            if (pppppfVar11 == (float *****)0x0) goto LAB_00131218;
            local_4c = 3.58732e-43;
            ppppfVar20 = (float ****)local_68;
            pppppfVar21 = (float *****)local_80;
            fVar30 = local_5c;
            fVar31 = local_60;
            fVar33 = local_50;
            fVar34 = local_70._0_4_;
            fVar28 = local_74;
          }
          iVar26 = 0xfe;
          *pppppfVar11 = (float ****)*local_58;
          pppppfVar11[0x7f] = (float ****)local_58[0x7f];
          lVar7 = (long)pppppfVar11 - (long)((ulong)(pppppfVar11 + 1) & 0xfffffffffffffff8);
          puVar16 = (undefined8 *)((long)local_58 - lVar7);
          puVar19 = (undefined8 *)((ulong)(pppppfVar11 + 1) & 0xfffffffffffffff8);
          for (uVar12 = (ulong)((int)lVar7 + 0x400U >> 3); uVar12 != 0; uVar12 = uVar12 - 1) {
            *puVar19 = *puVar16;
            puVar16 = puVar16 + (ulong)bVar27 * -2 + 1;
            puVar19 = puVar19 + (ulong)bVar27 * -2 + 1;
          }
          local_58 = (float ****)0x0;
          fVar22 = 3.58732e-43;
        }
        else {
          fVar29 = (float)((int)fVar22 * 2);
          if ((uint)fVar22 <= (uint)fVar29) {
            if ((uint)fVar29 <= (uint)fVar22) {
              iVar26 = (int)fVar22 + -2;
              goto LAB_00130668;
            }
            if ((uint)local_4c < (uint)fVar29) {
              local_80 = (float ****)CONCAT44(local_80._4_4_,fVar28);
              uVar13 = (int)fVar29 - 1U | (int)fVar29 - 1U >> 1;
              local_68 = (float ***)CONCAT44(local_68._4_4_,fVar30);
              uVar13 = uVar13 | uVar13 >> 2;
              uVar13 = uVar13 | uVar13 >> 4;
              uVar13 = uVar13 | uVar13 >> 8;
              local_4c = (float)((uVar13 | uVar13 >> 0x10) + 1);
              local_88 = (float ****)pppppfVar21;
              local_74 = fVar31;
              local_70 = (float ***)ppppfVar20;
              local_60 = fVar34;
              local_5c = fVar33;
              local_50 = fVar32;
              pppppfVar11 = (float *****)
                            Memory::realloc_static(pppppfVar11,(ulong)(uint)local_4c << 3,false);
              puVar15 = auStack_498;
              ppppfVar20 = (float ****)local_70;
              pppppfVar21 = (float *****)local_88;
              fVar30 = local_68._0_4_;
              fVar31 = local_74;
              fVar32 = local_50;
              fVar33 = local_5c;
              fVar34 = local_60;
              fVar28 = local_80._0_4_;
              if (pppppfVar11 == (float *****)0x0) goto LAB_00131218;
            }
          }
          iVar26 = (int)fVar29 + -2;
          fVar22 = fVar29;
        }
LAB_00130668:
        pppppfVar8 = (float *****)((long)pppppfVar11 + (long)ppppfVar20);
        pppppfVar25 = pppppfVar11;
      }
      *pppppfVar8 = pppppfVar21[4];
      *(float *****)((long)(pppppfVar25 + 1) + (long)ppppfVar20) = pppppfVar21[5];
      iVar24 = iVar24 + 1;
      while( true ) {
        iVar23 = iVar24 + -1;
        pppppfVar21 = (float *****)pppppfVar25[iVar24 + -1];
        if (*(float *)pppppfVar21 <= fVar28) break;
LAB_001306a4:
        iVar24 = iVar23;
        if (iVar23 == 0) {
          if (pppppfVar11 != (float *****)0x0) {
            Memory::free_static(pppppfVar11,false);
          }
          pIVar18 = *(Instance **)this;
          goto LAB_001306bb;
        }
      }
    } while( true );
  }
LAB_001306bb:
  if (*(long *)(this + 0x28) == 0) goto LAB_00130a81;
  pppppfVar21 = *(float ******)(*(long *)(this + 0x28) + 0x68);
  if (pppppfVar21 == (float *****)0x0) goto LAB_00130a81;
  fVar33 = *(float *)(pIVar18 + 0x140);
  fVar32 = *(float *)(pIVar18 + 0x13c);
  fVar30 = *(float *)(pIVar18 + 0x138);
  fVar28 = *(float *)(pIVar18 + 0x14c) + fVar33;
  fVar34 = *(float *)(pIVar18 + 0x148) + fVar32;
  fVar29 = *(float *)(pIVar18 + 0x144) + fVar30;
  *(undefined8 *)((long)pppppfVar14 + -8) = *(undefined8 *)((long)pppppfVar14 + -8);
  pppppfVar11 = (float *****)0x0;
  fVar22 = 0.0;
  iVar24 = 1;
  iVar26 = 0x7e;
  iVar23 = 0;
  local_4c = 0.0;
  pppppfVar25 = (float *****)((ulong)((long)pppppfVar14 + -0x401) & 0xfffffffffffffff0);
  fVar31 = *(float *)pppppfVar21;
  *pppppfVar25 = (float ****)pppppfVar21;
  local_58 = (float ****)pppppfVar25;
  if (fVar29 < fVar31) goto LAB_00130874;
  do {
    if (*(float *)((long)pppppfVar21 + 0xc) < fVar30) goto LAB_00130874;
    if (fVar34 < *(float *)((long)pppppfVar21 + 4)) goto LAB_00130874;
    if (*(float *)(pppppfVar21 + 2) < fVar32) goto LAB_00130874;
    if (fVar28 < *(float *)(pppppfVar21 + 1)) goto LAB_00130874;
    if (*(float *)((long)pppppfVar21 + 0x14) < fVar33) goto LAB_00130874;
    if (pppppfVar21[5] == (float ****)0x0) {
      ppppfVar20 = pppppfVar21[4];
      ppppfVar9 = *(float *****)this;
      if (ppppfVar20 == ppppfVar9) goto LAB_00130874;
      if (((*(float *)((long)ppppfVar9 + 0x144) <= 0.0 && *(float *)((long)ppppfVar9 + 0x144) != 0.0
           ) || (*(float *)(ppppfVar9 + 0x29) <= 0.0 && *(float *)(ppppfVar9 + 0x29) != 0.0)) ||
         ((*(float *)((long)ppppfVar9 + 0x14c) <= 0.0 && *(float *)((long)ppppfVar9 + 0x14c) != 0.0
          || (((fVar31 = *(float *)((long)ppppfVar20 + 0x144), fVar31 < 0.0 ||
               (*(float *)(ppppfVar20 + 0x29) <= 0.0 && *(float *)(ppppfVar20 + 0x29) != 0.0)) ||
              (*(float *)((long)ppppfVar20 + 0x14c) <= 0.0 &&
               *(float *)((long)ppppfVar20 + 0x14c) != 0.0)))))) {
        local_80 = (float ****)CONCAT44(local_80._4_4_,fVar29);
        local_68 = (float ***)CONCAT44(local_68._4_4_,fVar30);
        *(undefined8 *)((long)pppppfVar14 + -0x418) = 0x131143;
        local_88 = (float ****)pppppfVar11;
        local_78 = fVar22;
        local_74 = fVar34;
        local_70 = (float ***)ppppfVar9;
        local_60 = fVar28;
        local_5c = fVar32;
        local_50 = fVar33;
        _err_print_error("intersects","./core/math/aabb.h",0x8e,
                         "AABB size is negative, this is not supported. Use AABB.abs() to get an AABB with a positive size."
                         ,0,0);
        fVar31 = *(float *)((long)ppppfVar20 + 0x144);
        ppppfVar9 = (float ****)local_70;
        pppppfVar11 = (float *****)local_88;
        fVar30 = local_68._0_4_;
        fVar34 = local_74;
        fVar32 = local_5c;
        fVar33 = local_50;
        fVar28 = local_60;
        fVar22 = local_78;
        fVar29 = local_80._0_4_;
      }
      if (fVar31 + *(float *)(ppppfVar20 + 0x27) <= *(float *)(ppppfVar9 + 0x27)) goto LAB_00130874;
      if (*(float *)(ppppfVar9 + 0x27) + *(float *)((long)ppppfVar9 + 0x144) <=
          *(float *)(ppppfVar20 + 0x27)) goto LAB_00130874;
      if (*(float *)(ppppfVar20 + 0x29) + *(float *)((long)ppppfVar20 + 0x13c) <=
          *(float *)((long)ppppfVar9 + 0x13c)) goto LAB_00130874;
      if (*(float *)((long)ppppfVar9 + 0x13c) + *(float *)(ppppfVar9 + 0x29) <=
          *(float *)((long)ppppfVar20 + 0x13c)) goto LAB_00130874;
      if (*(float *)((long)ppppfVar20 + 0x14c) + *(float *)(ppppfVar20 + 0x28) <=
          *(float *)(ppppfVar9 + 0x28)) goto LAB_00130874;
      if (*(float *)(ppppfVar9 + 0x28) + *(float *)((long)ppppfVar9 + 0x14c) <=
          *(float *)(ppppfVar20 + 0x28)) goto LAB_00130874;
      if ((1 << ((byte)*(undefined4 *)ppppfVar20 & 0x1f) & *(uint *)(this + 0x30)) == 0)
      goto LAB_00130874;
      if ((*(uint *)(this + 0x40) & *(uint *)((long)ppppfVar20 + 0xdc)) == 0) goto LAB_00130874;
      pPVar5 = *(PagedAllocator<RendererSceneCull::InstancePair,false,4096u> **)(this + 8);
      local_88 = (float ****)CONCAT44(local_88._4_4_,fVar22);
      ppppfVar20[0x56] = *(float ****)(this + 0x38);
      local_70 = (float ***)CONCAT44(local_70._4_4_,fVar28);
      local_68 = (float ***)CONCAT44(local_68._4_4_,fVar30);
      *(undefined8 *)((long)pppppfVar14 + -0x418) = 0x130f27;
      local_80 = (float ****)pppppfVar11;
      local_74 = fVar29;
      local_60 = fVar34;
      local_5c = fVar32;
      local_50 = fVar33;
      pIVar10 = PagedAllocator<RendererSceneCull::InstancePair,false,4096u>::alloc<>(pPVar5);
      *(undefined8 *)pIVar10 = *(undefined8 *)this;
      *(float *****)(pIVar10 + 8) = ppppfVar20;
      *(undefined8 *)((long)pppppfVar14 + -0x418) = 0x130f44;
      SelfList<RendererSceneCull::InstancePair>::List::add
                ((List *)(this + 0x10),(SelfList *)(pIVar10 + 0x10));
      pppppfVar11 = (float *****)local_80;
      fVar30 = local_68._0_4_;
      fVar34 = local_60;
      fVar32 = local_5c;
      fVar33 = local_50;
      fVar28 = local_70._0_4_;
      fVar22 = local_88._0_4_;
      fVar29 = local_74;
      goto LAB_00130874;
    }
    ppppfVar20 = (float ****)((long)iVar23 * 8);
    pppppfVar8 = pppppfVar25 + iVar23;
    if (iVar26 < iVar23) {
      if (fVar22 == 0.0) {
        if ((uint)local_4c < 0x100) {
          local_80 = (float ****)CONCAT44(local_80._4_4_,fVar29);
          local_68 = (float ***)CONCAT44(local_68._4_4_,fVar30);
          *(undefined8 *)((long)pppppfVar14 + -0x418) = 0x1312f3;
          local_88 = (float ****)pppppfVar21;
          local_74 = fVar34;
          local_70 = (float ***)ppppfVar20;
          local_60 = fVar28;
          local_5c = fVar32;
          local_50 = fVar33;
          pppppfVar11 = (float *****)Memory::realloc_static(pppppfVar11,0x800,false);
          puVar15 = (undefined1 *)((long)pppppfVar14 + -0x410);
          if (pppppfVar11 == (float *****)0x0) {
LAB_00131218:
            *(float ******)(puVar15 + -8) = pppppfVar11;
            *(undefined8 *)(puVar15 + -0x10) = 0;
            *(undefined8 *)(puVar15 + -0x18) = 0x131244;
            _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                             "FATAL: Condition \"!data\" is true.","Out of memory",0);
            *(undefined8 *)(puVar15 + -0x18) = 0x131249;
            _err_flush_stdout();
                    /* WARNING: Does not return */
            pcVar6 = (code *)invalidInstructionException();
            (*pcVar6)();
          }
          local_4c = 3.58732e-43;
          ppppfVar20 = (float ****)local_70;
          pppppfVar21 = (float *****)local_88;
          fVar30 = local_68._0_4_;
          fVar34 = local_74;
          fVar32 = local_5c;
          fVar33 = local_50;
          fVar28 = local_60;
          fVar29 = local_80._0_4_;
        }
        iVar26 = 0xfe;
        *pppppfVar11 = (float ****)*local_58;
        pppppfVar11[0x7f] = (float ****)local_58[0x7f];
        lVar7 = (long)pppppfVar11 - (long)((ulong)(pppppfVar11 + 1) & 0xfffffffffffffff8);
        puVar16 = (undefined8 *)((long)local_58 - lVar7);
        puVar19 = (undefined8 *)((ulong)(pppppfVar11 + 1) & 0xfffffffffffffff8);
        for (uVar12 = (ulong)((int)lVar7 + 0x400U >> 3); uVar12 != 0; uVar12 = uVar12 - 1) {
          *puVar19 = *puVar16;
          puVar16 = puVar16 + (ulong)bVar27 * -2 + 1;
          puVar19 = puVar19 + (ulong)bVar27 * -2 + 1;
        }
        local_58 = (float ****)0x0;
        fVar22 = 3.58732e-43;
      }
      else {
        fVar31 = (float)((int)fVar22 * 2);
        if ((uint)fVar22 <= (uint)fVar31) {
          if ((uint)fVar31 <= (uint)fVar22) {
            iVar26 = (int)fVar22 + -2;
            goto LAB_00130838;
          }
          if ((uint)local_4c < (uint)fVar31) {
            local_80 = (float ****)CONCAT44(local_80._4_4_,fVar29);
            uVar13 = (int)fVar31 - 1U | (int)fVar31 - 1U >> 1;
            local_68 = (float ***)CONCAT44(local_68._4_4_,fVar30);
            uVar13 = uVar13 >> 2 | uVar13;
            uVar13 = uVar13 | uVar13 >> 4;
            uVar13 = uVar13 | uVar13 >> 8;
            local_4c = (float)((uVar13 | uVar13 >> 0x10) + 1);
            *(undefined8 *)((long)pppppfVar14 + -0x418) = 0x13101b;
            local_88 = (float ****)pppppfVar21;
            local_74 = fVar34;
            local_70 = (float ***)ppppfVar20;
            local_60 = fVar28;
            local_5c = fVar32;
            local_50 = fVar33;
            pppppfVar11 = (float *****)
                          Memory::realloc_static(pppppfVar11,(ulong)(uint)local_4c << 3,false);
            puVar15 = (undefined1 *)((long)pppppfVar14 + -0x410);
            ppppfVar20 = (float ****)local_70;
            pppppfVar21 = (float *****)local_88;
            fVar30 = local_68._0_4_;
            fVar34 = local_74;
            fVar32 = local_5c;
            fVar33 = local_50;
            fVar28 = local_60;
            fVar29 = local_80._0_4_;
            if (pppppfVar11 == (float *****)0x0) goto LAB_00131218;
          }
        }
        iVar26 = (int)fVar31 + -2;
        fVar22 = fVar31;
      }
LAB_00130838:
      pppppfVar8 = (float *****)((long)pppppfVar11 + (long)ppppfVar20);
      pppppfVar25 = pppppfVar11;
    }
    *pppppfVar8 = pppppfVar21[4];
    *(float *****)((long)(pppppfVar25 + 1) + (long)ppppfVar20) = pppppfVar21[5];
    iVar24 = iVar24 + 1;
    while( true ) {
      iVar23 = iVar24 + -1;
      pppppfVar21 = (float *****)pppppfVar25[iVar24 + -1];
      if (*(float *)pppppfVar21 <= fVar29) break;
LAB_00130874:
      iVar24 = iVar23;
      if (iVar23 == 0) {
        if (pppppfVar11 != (float *****)0x0) {
          *(undefined8 *)((long)pppppfVar14 + -0x418) = 0x130888;
          Memory::free_static(pppppfVar11,false);
        }
        pIVar18 = *(Instance **)this;
        lVar7 = *(long *)(pIVar18 + 0x2a0);
        pppppfVar14 = (float *****)((long)pppppfVar14 + -0x410);
        while (lVar7 != 0) {
          plVar1 = *(long **)(lVar7 + 8);
          pIVar17 = (Instance *)*plVar1;
          if (pIVar17 == pIVar18) {
            pIVar17 = (Instance *)plVar1[1];
          }
          if (*(long *)(pIVar17 + 0x2b0) == *(long *)(this + 0x38)) {
            *(undefined8 *)(pIVar17 + 0x2b0) = 0;
          }
          else {
            *(undefined8 *)((long)pppppfVar14 + -8) = 0x1309d5;
            _instance_unpair(pIVar18,pIVar17);
            pIVar18 = *(Instance **)this;
          }
          plVar2 = (long *)plVar1[6];
          lVar7 = *(long *)(this + 8);
          if (plVar2 != (long *)0x0) {
            lVar3 = plVar1[8];
            if (lVar3 != 0) {
              *(long *)(lVar3 + 0x18) = plVar1[9];
            }
            lVar4 = plVar1[9];
            if (lVar4 != 0) {
              *(long *)(lVar4 + 0x10) = lVar3;
            }
            if (plVar1 + 6 == (long *)*plVar2) {
              *plVar2 = plVar1[8];
            }
            if (plVar1 + 6 == (long *)plVar2[1]) {
              plVar2[1] = lVar4;
            }
          }
          plVar2 = (long *)plVar1[2];
          if (plVar2 != (long *)0x0) {
            lVar3 = plVar1[4];
            if (lVar3 != 0) {
              *(long *)(lVar3 + 0x18) = plVar1[5];
            }
            lVar4 = plVar1[5];
            if (lVar4 != 0) {
              *(long *)(lVar4 + 0x10) = lVar3;
            }
            if (plVar1 + 2 == (long *)*plVar2) {
              *plVar2 = plVar1[4];
            }
            if (plVar1 + 2 == (long *)plVar2[1]) {
              plVar2[1] = lVar4;
            }
          }
          uVar13 = *(uint *)(lVar7 + 0x14);
          *(long **)(*(long *)(*(long *)(lVar7 + 8) +
                              (ulong)(uVar13 >> ((byte)*(undefined4 *)(lVar7 + 0x18) & 0x1f)) * 8) +
                    (ulong)(uVar13 & *(uint *)(lVar7 + 0x1c)) * 8) = plVar1;
          *(uint *)(lVar7 + 0x14) = uVar13 + 1;
LAB_00130a81:
          lVar7 = *(long *)(pIVar18 + 0x2a0);
        }
        plVar1 = *(long **)(this + 0x10);
        while (plVar1 != (long *)0x0) {
          plVar2 = (long *)plVar1[1];
          if ((PairInstances *)*plVar1 == this + 0x10) {
            lVar7 = plVar1[2];
            if (lVar7 != 0) {
              *(long *)(lVar7 + 0x18) = plVar1[3];
            }
            lVar3 = plVar1[3];
            if (lVar3 != 0) {
              *(long *)(lVar3 + 0x10) = lVar7;
              lVar7 = plVar1[2];
            }
            *(long *)(this + 0x10) = lVar7;
            if (*(long **)(this + 0x18) == plVar1) {
              *(long *)(this + 0x18) = lVar3;
            }
            *plVar1 = 0;
            *(undefined1 (*) [16])(plVar1 + 2) = (undefined1  [16])0x0;
          }
          else {
            *(undefined8 *)((long)pppppfVar14 + -8) = 0x130b95;
            _err_print_error("remove","./core/templates/self_list.h",0x50,
                             "Condition \"p_elem->_root != this\" is true.",0,0);
          }
          pIVar18 = (Instance *)plVar2[1];
          if (*(long *)(pIVar18 + 0x2b0) == *(long *)(this + 0x38)) {
            pIVar17 = *(Instance **)this;
            *(undefined8 *)((long)pppppfVar14 + -8) = 0x130b38;
            _instance_pair(pIVar17,pIVar18);
          }
          lVar7 = *plVar2;
          plVar1 = plVar2 + 2;
          if (plVar2[2] == 0) {
            plVar2[2] = lVar7 + 0x2a0;
            lVar3 = *(long *)(lVar7 + 0x2a0);
            plVar2[5] = 0;
            plVar2[4] = lVar3;
            if (lVar3 == 0) {
              *(long **)(lVar7 + 0x2a8) = plVar1;
            }
            else {
              *(long **)(lVar3 + 0x18) = plVar1;
            }
            *(long **)(lVar7 + 0x2a0) = plVar1;
          }
          else {
            *(undefined8 *)((long)pppppfVar14 + -8) = 0x130bf5;
            _err_print_error(&_LC106,"./core/templates/self_list.h",0x2e,
                             "Condition \"p_elem->_root\" is true.",0,0);
          }
          lVar7 = plVar2[1];
          plVar1 = plVar2 + 6;
          if (plVar2[6] == 0) {
            plVar2[6] = lVar7 + 0x2a0;
            lVar3 = *(long *)(lVar7 + 0x2a0);
            plVar2[9] = 0;
            plVar2[8] = lVar3;
            if (lVar3 == 0) {
              *(long **)(lVar7 + 0x2a8) = plVar1;
            }
            else {
              *(long **)(lVar3 + 0x18) = plVar1;
            }
            *(long **)(lVar7 + 0x2a0) = plVar1;
          }
          else {
            *(undefined8 *)((long)pppppfVar14 + -8) = 0x130bc5;
            _err_print_error(&_LC106,"./core/templates/self_list.h",0x2e,
                             "Condition \"p_elem->_root\" is true.",0,0);
          }
          plVar1 = *(long **)(this + 0x10);
        }
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          *(undefined8 *)((long)pppppfVar14 + -8) = 0x131336;
          __stack_chk_fail();
        }
        return;
      }
    }
  } while( true );
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashMap<RID, unsigned long, HashMapHasherDefault, HashMapComparatorDefault<RID>,
   DefaultTypedAllocator<HashMapElement<RID, unsigned long> > >::operator[](RID const&) */

undefined1  [16] __thiscall
HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
::operator[](HashMap<RID,unsigned_long,HashMapHasherDefault,HashMapComparatorDefault<RID>,DefaultTypedAllocator<HashMapElement<RID,unsigned_long>>>
             *this,RID *param_1)

{
  uint *puVar1;
  undefined8 *puVar2;
  void *pvVar3;
  void *__s;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 (*pauVar36) [16];
  uint uVar37;
  ulong uVar38;
  ulong uVar39;
  undefined8 uVar40;
  void *__s_00;
  undefined1 (*pauVar41) [16];
  int iVar42;
  uint uVar43;
  long lVar44;
  long lVar45;
  long lVar46;
  uint uVar47;
  undefined8 uVar48;
  uint uVar49;
  uint uVar50;
  ulong uVar51;
  long lVar52;
  uint uVar53;
  ulong uVar54;
  ulong uVar55;
  long lVar56;
  undefined1 (*pauVar57) [16];
  undefined1 auVar58 [16];
  undefined1 auVar59 [16];
  long lStack_b0;
  void *local_90;
  
  local_90 = *(void **)(this + 8);
  uVar39 = (ulong)*(uint *)(this + 0x28);
  lVar56 = *(long *)param_1;
  uVar47 = *(uint *)(hash_table_size_primes + uVar39 * 4);
  uVar55 = CONCAT44(0,uVar47);
  if (local_90 == (void *)0x0) {
    uVar39 = uVar55 * 4;
    uVar38 = uVar55 * 8;
    uVar40 = Memory::alloc_static(uVar39,false);
    *(undefined8 *)(this + 0x10) = uVar40;
    lStack_b0 = 0x1319f2;
    local_90 = (void *)Memory::alloc_static(uVar38,false);
    *(void **)(this + 8) = local_90;
    if (uVar47 == 0) {
      iVar42 = *(int *)(this + 0x2c);
      lVar56 = *(long *)param_1;
      if (local_90 == (void *)0x0) goto LAB_0013150b;
    }
    else {
      pvVar3 = *(void **)(this + 0x10);
      if ((pvVar3 < (void *)((long)local_90 + uVar38)) &&
         (local_90 < (void *)((long)pvVar3 + uVar39))) {
        uVar39 = 0;
        do {
          *(undefined4 *)((long)pvVar3 + uVar39 * 4) = 0;
          *(undefined8 *)((long)local_90 + uVar39 * 8) = 0;
          uVar39 = uVar39 + 1;
        } while (uVar55 != uVar39);
        iVar42 = *(int *)(this + 0x2c);
        lVar56 = *(long *)param_1;
      }
      else {
        memset(pvVar3,0,uVar39);
        lStack_b0 = 0x131a3a;
        memset(local_90,0,uVar38);
        iVar42 = *(int *)(this + 0x2c);
        lVar56 = *(long *)param_1;
      }
    }
    if (iVar42 != 0) {
      uVar39 = (ulong)*(uint *)(this + 0x28);
      lVar52 = *(long *)(this + 0x10);
      goto LAB_001318c3;
    }
  }
  else {
    iVar42 = *(int *)(this + 0x2c);
    if (iVar42 != 0) {
      lVar52 = *(long *)(this + 0x10);
      lVar46 = *(long *)(hash_table_size_primes_inv + uVar39 * 8);
      uVar38 = lVar56 * 0x3ffff - 1;
      uVar38 = (uVar38 ^ uVar38 >> 0x1f) * 0x15;
      uVar38 = (uVar38 ^ uVar38 >> 0xb) * 0x41;
      uVar38 = uVar38 >> 0x16 ^ uVar38;
      uVar54 = uVar38 & 0xffffffff;
      if ((int)uVar38 == 0) {
        uVar54 = 1;
      }
      auVar4._8_8_ = 0;
      auVar4._0_8_ = uVar54 * lVar46;
      auVar20._8_8_ = 0;
      auVar20._0_8_ = uVar55;
      lVar44 = SUB168(auVar4 * auVar20,8);
      uVar43 = *(uint *)(lVar52 + lVar44 * 4);
      uVar53 = SUB164(auVar4 * auVar20,8);
      if (uVar43 != 0) {
        uVar50 = 0;
        lVar45 = lVar44;
        do {
          if (((uint)uVar54 == uVar43) &&
             (lVar56 == *(long *)(*(long *)((long)local_90 + lVar44 * 8) + 0x10))) {
            auVar58._0_8_ = *(long *)((long)local_90 + (ulong)uVar53 * 8) + 0x18;
            auVar58._8_8_ = lVar45;
            return auVar58;
          }
          uVar50 = uVar50 + 1;
          auVar5._8_8_ = 0;
          auVar5._0_8_ = (ulong)(uVar53 + 1) * lVar46;
          auVar21._8_8_ = 0;
          auVar21._0_8_ = uVar55;
          lVar44 = SUB168(auVar5 * auVar21,8);
          uVar43 = *(uint *)(lVar52 + lVar44 * 4);
          uVar53 = SUB164(auVar5 * auVar21,8);
        } while ((uVar43 != 0) &&
                (auVar6._8_8_ = 0, auVar6._0_8_ = (ulong)uVar43 * lVar46, auVar22._8_8_ = 0,
                auVar22._0_8_ = uVar55, auVar7._8_8_ = 0,
                auVar7._0_8_ = (ulong)((uVar53 + uVar47) - SUB164(auVar6 * auVar22,8)) * lVar46,
                auVar23._8_8_ = 0, auVar23._0_8_ = uVar55, lVar45 = SUB168(auVar7 * auVar23,8),
                uVar50 <= SUB164(auVar7 * auVar23,8)));
      }
LAB_001318c3:
      uVar51 = CONCAT44(0,*(uint *)(hash_table_size_primes + uVar39 * 4));
      lVar46 = *(long *)(hash_table_size_primes_inv + uVar39 * 8);
      uVar38 = lVar56 * 0x3ffff - 1;
      uVar38 = (uVar38 ^ uVar38 >> 0x1f) * 0x15;
      uVar38 = (uVar38 ^ uVar38 >> 0xb) * 0x41;
      uVar38 = uVar38 >> 0x16 ^ uVar38;
      uVar54 = uVar38 & 0xffffffff;
      if ((int)uVar38 == 0) {
        uVar54 = 1;
      }
      auVar16._8_8_ = 0;
      auVar16._0_8_ = uVar54 * lVar46;
      auVar32._8_8_ = 0;
      auVar32._0_8_ = uVar51;
      lVar44 = SUB168(auVar16 * auVar32,8);
      uVar47 = *(uint *)(lVar52 + lVar44 * 4);
      uVar43 = SUB164(auVar16 * auVar32,8);
      if (uVar47 != 0) {
        uVar53 = 0;
        lVar45 = lVar44;
        do {
          if (((uint)uVar54 == uVar47) &&
             (*(long *)(*(long *)((long)local_90 + lVar44 * 8) + 0x10) == lVar56)) {
            pauVar41 = *(undefined1 (**) [16])((long)local_90 + (ulong)uVar43 * 8);
            *(undefined8 *)(pauVar41[1] + 8) = 0;
            lStack_b0 = lVar45;
            goto LAB_001318a4;
          }
          uVar53 = uVar53 + 1;
          auVar17._8_8_ = 0;
          auVar17._0_8_ = (ulong)(uVar43 + 1) * lVar46;
          auVar33._8_8_ = 0;
          auVar33._0_8_ = uVar51;
          lVar44 = SUB168(auVar17 * auVar33,8);
          uVar47 = *(uint *)(lVar52 + lVar44 * 4);
          uVar43 = SUB164(auVar17 * auVar33,8);
        } while ((uVar47 != 0) &&
                (auVar18._8_8_ = 0, auVar18._0_8_ = (ulong)uVar47 * lVar46, auVar34._8_8_ = 0,
                auVar34._0_8_ = uVar51, auVar19._8_8_ = 0,
                auVar19._0_8_ =
                     (ulong)((*(uint *)(hash_table_size_primes + uVar39 * 4) + uVar43) -
                            SUB164(auVar18 * auVar34,8)) * lVar46, auVar35._8_8_ = 0,
                auVar35._0_8_ = uVar51, lVar45 = SUB168(auVar19 * auVar35,8),
                uVar53 <= SUB164(auVar19 * auVar35,8)));
      }
    }
  }
LAB_0013150b:
  if ((float)uVar55 * __LC109 < (float)(iVar42 + 1)) {
    uVar47 = *(uint *)(this + 0x28);
    if (uVar47 == 0x1c) {
      pauVar41 = (undefined1 (*) [16])0x0;
      _err_print_error("_insert","./core/templates/hash_map.h",0xdd,
                       "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: nullptr"
                       ,"Hash table maximum capacity reached, aborting insertion.",0,0);
      goto LAB_001318a4;
    }
    uVar39 = (ulong)(uVar47 + 1);
    *(undefined4 *)(this + 0x2c) = 0;
    uVar43 = *(uint *)(hash_table_size_primes + (ulong)uVar47 * 4);
    if (uVar47 + 1 < 2) {
      uVar39 = 2;
    }
    uVar47 = *(uint *)(hash_table_size_primes + uVar39 * 4);
    uVar38 = (ulong)uVar47;
    *(int *)(this + 0x28) = (int)uVar39;
    pvVar3 = *(void **)(this + 0x10);
    uVar39 = uVar38 * 4;
    uVar55 = uVar38 * 8;
    uVar40 = Memory::alloc_static(uVar39,false);
    *(undefined8 *)(this + 0x10) = uVar40;
    __s_00 = (void *)Memory::alloc_static(uVar55,false);
    *(void **)(this + 8) = __s_00;
    if (uVar47 != 0) {
      __s = *(void **)(this + 0x10);
      if ((__s < (void *)((long)__s_00 + uVar55)) && (__s_00 < (void *)((long)__s + uVar39))) {
        uVar39 = 0;
        do {
          *(undefined4 *)((long)__s + uVar39 * 4) = 0;
          *(undefined8 *)((long)__s_00 + uVar39 * 8) = 0;
          uVar39 = uVar39 + 1;
        } while (uVar38 != uVar39);
      }
      else {
        memset(__s,0,uVar39);
        memset(__s_00,0,uVar55);
      }
    }
    if (uVar43 != 0) {
      uVar39 = 0;
      do {
        uVar47 = *(uint *)((long)pvVar3 + uVar39 * 4);
        if (uVar47 != 0) {
          lVar56 = *(long *)(this + 0x10);
          uVar49 = 0;
          uVar53 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
          uVar55 = CONCAT44(0,uVar53);
          lVar52 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
          auVar8._8_8_ = 0;
          auVar8._0_8_ = (ulong)uVar47 * lVar52;
          auVar24._8_8_ = 0;
          auVar24._0_8_ = uVar55;
          lVar46 = SUB168(auVar8 * auVar24,8);
          puVar1 = (uint *)(lVar56 + lVar46 * 4);
          iVar42 = SUB164(auVar8 * auVar24,8);
          uVar50 = *puVar1;
          uVar40 = *(undefined8 *)((long)local_90 + uVar39 * 8);
          while (uVar50 != 0) {
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (ulong)uVar50 * lVar52;
            auVar25._8_8_ = 0;
            auVar25._0_8_ = uVar55;
            auVar10._8_8_ = 0;
            auVar10._0_8_ = (ulong)((uVar53 + iVar42) - SUB164(auVar9 * auVar25,8)) * lVar52;
            auVar26._8_8_ = 0;
            auVar26._0_8_ = uVar55;
            uVar37 = SUB164(auVar10 * auVar26,8);
            uVar48 = uVar40;
            if (uVar37 < uVar49) {
              *puVar1 = uVar47;
              puVar2 = (undefined8 *)((long)__s_00 + lVar46 * 8);
              uVar48 = *puVar2;
              *puVar2 = uVar40;
              uVar47 = uVar50;
              uVar49 = uVar37;
            }
            uVar49 = uVar49 + 1;
            auVar11._8_8_ = 0;
            auVar11._0_8_ = (ulong)(iVar42 + 1) * lVar52;
            auVar27._8_8_ = 0;
            auVar27._0_8_ = uVar55;
            lVar46 = SUB168(auVar11 * auVar27,8);
            puVar1 = (uint *)(lVar56 + lVar46 * 4);
            iVar42 = SUB164(auVar11 * auVar27,8);
            uVar40 = uVar48;
            uVar50 = *puVar1;
          }
          *(undefined8 *)((long)__s_00 + lVar46 * 8) = uVar40;
          *puVar1 = uVar47;
          *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
        }
        uVar39 = uVar39 + 1;
      } while (uVar39 != uVar43);
      Memory::free_static(local_90,false);
      Memory::free_static(pvVar3,false);
    }
  }
  uVar40 = *(undefined8 *)param_1;
  pauVar41 = (undefined1 (*) [16])operator_new(0x20,"");
  *pauVar41 = (undefined1  [16])0x0;
  *(undefined8 *)(pauVar41[1] + 8) = 0;
  *(undefined8 *)pauVar41[1] = uVar40;
  puVar2 = *(undefined8 **)(this + 0x20);
  if (puVar2 == (undefined8 *)0x0) {
    *(undefined1 (**) [16])(this + 0x18) = pauVar41;
  }
  else {
    *puVar2 = pauVar41;
    *(undefined8 **)(*pauVar41 + 8) = puVar2;
  }
  lVar56 = *(long *)(this + 0x10);
  *(undefined1 (**) [16])(this + 0x20) = pauVar41;
  uVar39 = *(long *)param_1 * 0x3ffff - 1;
  uVar39 = (uVar39 ^ uVar39 >> 0x1f) * 0x15;
  uVar39 = (uVar39 ^ uVar39 >> 0xb) * 0x41;
  uVar39 = uVar39 >> 0x16 ^ uVar39;
  uVar55 = uVar39 & 0xffffffff;
  if ((int)uVar39 == 0) {
    uVar55 = 1;
  }
  uVar50 = 0;
  lVar52 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
  uVar53 = (uint)uVar55;
  uVar47 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
  uVar39 = CONCAT44(0,uVar47);
  auVar12._8_8_ = 0;
  auVar12._0_8_ = uVar55 * lVar52;
  auVar28._8_8_ = 0;
  auVar28._0_8_ = uVar39;
  lStack_b0 = SUB168(auVar12 * auVar28,8);
  lVar46 = *(long *)(this + 8);
  puVar1 = (uint *)(lVar56 + lStack_b0 * 4);
  iVar42 = SUB164(auVar12 * auVar28,8);
  uVar43 = *puVar1;
  pauVar36 = pauVar41;
  while (uVar43 != 0) {
    auVar13._8_8_ = 0;
    auVar13._0_8_ = (ulong)uVar43 * lVar52;
    auVar29._8_8_ = 0;
    auVar29._0_8_ = uVar39;
    auVar14._8_8_ = 0;
    auVar14._0_8_ = (ulong)((uVar47 + iVar42) - SUB164(auVar13 * auVar29,8)) * lVar52;
    auVar30._8_8_ = 0;
    auVar30._0_8_ = uVar39;
    uVar53 = SUB164(auVar14 * auVar30,8);
    pauVar57 = pauVar36;
    if (uVar53 < uVar50) {
      *puVar1 = (uint)uVar55;
      uVar55 = (ulong)uVar43;
      puVar2 = (undefined8 *)(lVar46 + lStack_b0 * 8);
      pauVar57 = (undefined1 (*) [16])*puVar2;
      *puVar2 = pauVar36;
      uVar50 = uVar53;
    }
    uVar53 = (uint)uVar55;
    uVar50 = uVar50 + 1;
    auVar15._8_8_ = 0;
    auVar15._0_8_ = (ulong)(iVar42 + 1) * lVar52;
    auVar31._8_8_ = 0;
    auVar31._0_8_ = uVar39;
    lStack_b0 = SUB168(auVar15 * auVar31,8);
    puVar1 = (uint *)(lVar56 + lStack_b0 * 4);
    iVar42 = SUB164(auVar15 * auVar31,8);
    pauVar36 = pauVar57;
    uVar43 = *puVar1;
  }
  *(undefined1 (**) [16])(lVar46 + lStack_b0 * 8) = pauVar36;
  *puVar1 = uVar53;
  *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
LAB_001318a4:
  auVar59._8_8_ = lStack_b0;
  auVar59._0_8_ = pauVar41[1] + 8;
  return auVar59;
}



/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::move(unsigned long, unsigned long) */

ulong __thiscall
BinSortedArray<RendererSceneCull::InstanceVisibilityData>::move
          (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this,ulong param_1,
          ulong param_2)

{
  long lVar1;
  uint uVar2;
  long lVar3;
  undefined8 *puVar4;
  ulong uVar5;
  code *pcVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  void *pvVar14;
  ulong *puVar15;
  int iVar16;
  undefined8 *puVar17;
  long lVar18;
  uint uVar19;
  ulong uVar20;
  ulong uVar21;
  ulong uVar22;
  char *pcVar23;
  undefined8 *puVar24;
  uint uVar25;
  ulong uVar26;
  long in_FS_OFFSET;
  undefined4 uStack_5c;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x30) <= param_1) {
    _err_print_index_error
              ("move","./core/templates/bin_sorted_array.h",0x40,param_1,*(ulong *)(this + 0x30),
               "p_idx","array.size()","",false,false);
    param_1 = 0xffffffffffffffff;
LAB_00131f81:
    if (lVar3 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return param_1;
  }
  uVar19 = *(uint *)(this + 0x38);
  uVar26 = (ulong)uVar19;
  if (uVar19 != 0) {
    lVar18 = *(long *)(this + 0x40);
    uVar21 = (ulong)(uVar19 - 1);
LAB_00131bd0:
    uVar20 = uVar21 & 0xffffffff;
    if (*(ulong *)(lVar18 + uVar20 * 8) < param_1) goto code_r0x00131bd9;
    if (param_2 == uVar21) goto LAB_00131f81;
    if (param_2 <= uVar21) goto LAB_00131efe;
    uVar20 = uVar21 + 1;
    if (uVar19 - 1 == uVar21) goto LAB_00131d88;
    while ((uint)uVar20 < (uint)uVar26) {
      puVar15 = (ulong *)(*(long *)(this + 0x40) + (uVar20 & 0xffffffff) * 8);
      uVar26 = *puVar15 + 1;
      *puVar15 = uVar26;
      uVar21 = uVar20;
      uVar22 = param_1;
      param_1 = uVar26;
      while( true ) {
        if (param_1 != uVar22) {
          uVar26 = *(ulong *)(this + 0x30);
          uVar5 = param_1;
          if (uVar26 <= param_1) goto LAB_00131fc0;
          puVar17 = (undefined8 *)
                    ((ulong)(*(uint *)(this + 0x28) & (uint)param_1) * 0x40 +
                    *(long *)(*(long *)(this + 0x10) +
                             (param_1 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) *
                             8));
          if (uVar26 <= uVar22) goto LAB_0013202f;
          uVar7 = puVar17[1];
          puVar24 = (undefined8 *)
                    ((ulong)(*(uint *)(this + 0x28) & (uint)uVar22) * 0x40 +
                    *(long *)(*(long *)(this + 0x10) +
                             (uVar22 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) *
                             8));
          puVar4 = *(undefined8 **)this;
          uVar8 = *puVar24;
          uVar9 = puVar24[1];
          *puVar24 = *puVar17;
          puVar24[1] = uVar7;
          uVar7 = puVar17[3];
          uVar10 = puVar24[4];
          uVar11 = puVar24[5];
          uVar12 = puVar24[2];
          uVar13 = puVar24[3];
          puVar24[2] = puVar17[2];
          puVar24[3] = uVar7;
          uVar7 = puVar17[5];
          uStack_5c = (undefined4)((ulong)uVar11 >> 0x20);
          puVar24[4] = puVar17[4];
          puVar24[5] = uVar7;
          uVar7 = *(undefined8 *)((long)puVar17 + 0x34);
          local_58 = (undefined4)puVar24[6];
          uStack_54 = (undefined4)((ulong)puVar24[6] >> 0x20);
          uStack_50 = (undefined4)puVar24[7];
          *(undefined8 *)((long)puVar24 + 0x2c) = *(undefined8 *)((long)puVar17 + 0x2c);
          *(undefined8 *)((long)puVar24 + 0x34) = uVar7;
          puVar17[4] = uVar10;
          puVar17[5] = uVar11;
          *puVar17 = uVar8;
          puVar17[1] = uVar9;
          puVar17[2] = uVar12;
          puVar17[3] = uVar13;
          *(ulong *)((long)puVar17 + 0x2c) = CONCAT44(local_58,uStack_5c);
          *(ulong *)((long)puVar17 + 0x34) = CONCAT44(uStack_50,uStack_54);
          (*(code *)*puVar4)(this,puVar24,uVar22);
          uVar26 = *(ulong *)(this + 0x30);
          if (uVar26 <= param_1) goto LAB_00131fc0;
          (*(code *)**(undefined8 **)this)
                    (this,(ulong)((uint)param_1 & *(uint *)(this + 0x28)) * 0x40 +
                          *(long *)(*(long *)(this + 0x10) +
                                   (param_1 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) &
                                   0xffffffff) * 8),param_1);
        }
        uVar20 = uVar21 + 1;
        if (param_2 == uVar21) goto LAB_00131f81;
        uVar26 = (ulong)*(uint *)(this + 0x38);
        if (*(uint *)(this + 0x38) - 1 != uVar21) break;
LAB_00131d88:
        pvVar14 = *(void **)(this + 0x40);
        if ((int)uVar26 == *(int *)(this + 0x3c)) {
          uVar19 = (int)uVar26 * 2;
          uVar26 = (ulong)uVar19;
          if (uVar19 == 0) {
            uVar26 = 1;
          }
          *(int *)(this + 0x3c) = (int)uVar26;
          pvVar14 = (void *)Memory::realloc_static(pvVar14,uVar26 * 8,false);
          *(void **)(this + 0x40) = pvVar14;
          if (pvVar14 == (void *)0x0) {
            _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                             "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
            _err_flush_stdout();
                    /* WARNING: Does not return */
            pcVar6 = (code *)invalidInstructionException();
            (*pcVar6)();
          }
          uVar26 = (ulong)*(uint *)(this + 0x38);
        }
        *(int *)(this + 0x38) = (int)uVar26 + 1;
        *(undefined8 *)((long)pvVar14 + uVar26 * 8) = 0;
        uVar21 = uVar20;
        uVar22 = param_1;
        param_1 = 0;
      }
    }
LAB_00131be2:
    uVar20 = uVar20 & 0xffffffff;
    goto LAB_00131bff;
  }
  uVar20 = 0xffffffff;
LAB_00131bff:
  iVar16 = 0xb2;
  pcVar23 = "./core/templates/local_vector.h";
LAB_00131c0b:
  _err_print_index_error("operator[]",pcVar23,iVar16,uVar20,uVar26,"p_index","count","",false,true);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar6 = (code *)invalidInstructionException();
  (*pcVar6)();
code_r0x00131bd9:
  uVar20 = uVar21 - 1;
  uVar21 = uVar20;
  if (uVar19 <= (uint)uVar20) goto LAB_00131be2;
  goto LAB_00131bd0;
LAB_00131efe:
  uVar19 = (uint)uVar21;
  if ((uint)uVar26 <= uVar19) goto LAB_00131bff;
  lVar1 = uVar20 * 8;
  puVar15 = (ulong *)(lVar18 + lVar1);
  uVar5 = *puVar15;
  if (uVar5 == param_1) {
    uVar25 = (uint)uVar26 - 1;
    if (uVar25 != uVar21) goto LAB_00131ed9;
LAB_00131f2f:
    if (param_1 != 0) goto LAB_00131ee0;
    *(uint *)(this + 0x38) = uVar25;
  }
  else {
    uVar26 = *(ulong *)(this + 0x30);
    if (uVar26 <= uVar5) goto LAB_00131fc0;
    puVar17 = (undefined8 *)
              ((ulong)(*(uint *)(this + 0x28) & (uint)uVar5) * 0x40 +
              *(long *)(*(long *)(this + 0x10) +
                       (uVar5 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) * 8));
    uVar22 = param_1;
    if (uVar26 <= param_1) goto LAB_0013202f;
    uVar9 = puVar17[1];
    puVar24 = (undefined8 *)
              ((ulong)(*(uint *)(this + 0x28) & (uint)param_1) * 0x40 +
              *(long *)(*(long *)(this + 0x10) +
                       (param_1 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) * 8));
    puVar4 = *(undefined8 **)this;
    uVar7 = *puVar24;
    uVar8 = puVar24[1];
    *puVar24 = *puVar17;
    puVar24[1] = uVar9;
    uVar9 = puVar17[3];
    uVar10 = puVar24[4];
    uVar11 = puVar24[5];
    uVar12 = puVar24[2];
    uVar13 = puVar24[3];
    puVar24[2] = puVar17[2];
    puVar24[3] = uVar9;
    uVar9 = puVar17[5];
    local_58 = (undefined4)puVar24[6];
    uStack_54 = (undefined4)((ulong)puVar24[6] >> 0x20);
    uStack_50 = (undefined4)puVar24[7];
    puVar24[4] = puVar17[4];
    puVar24[5] = uVar9;
    uVar9 = *(undefined8 *)((long)puVar17 + 0x34);
    uStack_5c = (undefined4)((ulong)uVar11 >> 0x20);
    *(undefined8 *)((long)puVar24 + 0x2c) = *(undefined8 *)((long)puVar17 + 0x2c);
    *(undefined8 *)((long)puVar24 + 0x34) = uVar9;
    puVar17[4] = uVar10;
    puVar17[5] = uVar11;
    *puVar17 = uVar7;
    puVar17[1] = uVar8;
    puVar17[2] = uVar12;
    puVar17[3] = uVar13;
    *(ulong *)((long)puVar17 + 0x2c) = CONCAT44(local_58,uStack_5c);
    *(ulong *)((long)puVar17 + 0x34) = CONCAT44(uStack_50,uStack_54);
    (*(code *)*puVar4)(this,puVar24,param_1);
    uVar26 = *(ulong *)(this + 0x30);
    if (uVar26 <= uVar5) goto LAB_00131fc0;
    (*(code *)**(undefined8 **)this)
              (this,(ulong)((uint)uVar5 & *(uint *)(this + 0x28)) * 0x40 +
                    *(long *)(*(long *)(this + 0x10) +
                             (uVar5 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) * 8
                             ),uVar5);
    uVar2 = *(uint *)(this + 0x38);
    uVar26 = (ulong)uVar2;
    uVar25 = uVar2 - 1;
    if (uVar25 == uVar21) {
      if (uVar19 < uVar2) {
        lVar18 = *(long *)(this + 0x40);
        puVar15 = (ulong *)(lVar18 + lVar1);
        param_1 = *puVar15;
        goto LAB_00131f2f;
      }
      goto LAB_00131bff;
    }
    if (uVar2 <= uVar19) goto LAB_00131bff;
    lVar18 = *(long *)(this + 0x40);
LAB_00131ed9:
    puVar15 = (ulong *)(lVar18 + lVar1);
    param_1 = *puVar15;
LAB_00131ee0:
    *puVar15 = param_1 - 1;
  }
  uVar21 = uVar21 - 1;
  param_1 = uVar5;
  if (uVar21 <= param_2) goto LAB_00131f81;
  uVar26 = (ulong)*(uint *)(this + 0x38);
  uVar20 = uVar21 & 0xffffffff;
  goto LAB_00131efe;
LAB_0013202f:
  uVar20 = uVar22;
  iVar16 = 0xb0;
  pcVar23 = "./core/templates/paged_array.h";
  goto LAB_00131c0b;
LAB_00131fc0:
  uVar20 = uVar5;
  iVar16 = 0xb0;
  pcVar23 = "./core/templates/paged_array.h";
  goto LAB_00131c0b;
}



/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::remove_at(unsigned long) */

void __thiscall
BinSortedArray<RendererSceneCull::InstanceVisibilityData>::remove_at
          (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this,ulong param_1)

{
  char cVar1;
  undefined4 uVar2;
  long lVar3;
  long lVar4;
  code *pcVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  ulong uVar13;
  undefined8 *puVar14;
  long lVar15;
  int iVar16;
  ulong uVar17;
  undefined8 *puVar18;
  char *pcVar19;
  ulong uVar20;
  long in_FS_OFFSET;
  undefined4 uStack_3c;
  undefined4 local_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 < *(ulong *)(this + 0x30)) {
    uVar13 = move(this,param_1,0);
    uVar20 = *(ulong *)(this + 0x30);
    uVar17 = uVar20 - 1;
    if (uVar13 != uVar17) {
      if (uVar20 == 0) {
        uVar20 = 0;
        uVar13 = 0xffffffffffffffff;
      }
      else {
        puVar14 = (undefined8 *)
                  ((ulong)(*(uint *)(this + 0x28) & (uint)uVar17) * 0x40 +
                  *(long *)(*(long *)(this + 0x10) +
                           (uVar17 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) * 8)
                  );
        if (uVar13 < uVar20) {
          uVar6 = puVar14[1];
          puVar18 = (undefined8 *)
                    ((ulong)(*(uint *)(this + 0x28) & (uint)uVar13) * 0x40 +
                    *(long *)(*(long *)(this + 0x10) +
                             (uVar13 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) *
                             8));
          uVar7 = *puVar18;
          uVar8 = puVar18[1];
          *puVar18 = *puVar14;
          puVar18[1] = uVar6;
          uVar6 = puVar14[3];
          uVar9 = puVar18[4];
          uVar10 = puVar18[5];
          uVar11 = puVar18[2];
          uVar12 = puVar18[3];
          puVar18[2] = puVar14[2];
          puVar18[3] = uVar6;
          uVar6 = puVar14[5];
          uStack_3c = (undefined4)((ulong)uVar10 >> 0x20);
          puVar18[4] = puVar14[4];
          puVar18[5] = uVar6;
          uVar6 = *(undefined8 *)((long)puVar14 + 0x34);
          local_38 = (undefined4)puVar18[6];
          uStack_34 = (undefined4)((ulong)puVar18[6] >> 0x20);
          uStack_30 = (undefined4)puVar18[7];
          *(undefined8 *)((long)puVar18 + 0x2c) = *(undefined8 *)((long)puVar14 + 0x2c);
          *(undefined8 *)((long)puVar18 + 0x34) = uVar6;
          puVar14[4] = uVar9;
          puVar14[5] = uVar10;
          *puVar14 = uVar7;
          puVar14[1] = uVar8;
          puVar14[2] = uVar11;
          puVar14[3] = uVar12;
          *(ulong *)((long)puVar14 + 0x2c) = CONCAT44(local_38,uStack_3c);
          *(ulong *)((long)puVar14 + 0x34) = CONCAT44(uStack_30,uStack_34);
          (*(code *)**(undefined8 **)this)(this);
          uVar20 = *(ulong *)(this + 0x30);
          uVar13 = uVar17;
          if (uVar17 < uVar20) {
            (*(code *)**(undefined8 **)this)
                      (this,(ulong)((uint)uVar17 & *(uint *)(this + 0x28)) * 0x40 +
                            *(long *)(*(long *)(this + 0x10) +
                                     (uVar17 >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) &
                                     0xffffffff) * 8),uVar17);
            goto LAB_0013222d;
          }
        }
      }
      iVar16 = 0xb0;
      pcVar19 = "./core/templates/paged_array.h";
LAB_001322c2:
      _err_print_index_error
                ("operator[]",pcVar19,iVar16,uVar13,uVar20,"p_index","count","",false,true);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar5 = (code *)invalidInstructionException();
      (*pcVar5)();
    }
LAB_0013222d:
    if (*(int *)(this + 0x38) == 0) {
      uVar20 = 0;
      uVar13 = 0;
      iVar16 = 0xb2;
      pcVar19 = "./core/templates/local_vector.h";
      goto LAB_001322c2;
    }
    lVar15 = **(long **)(this + 0x40);
    if (lVar15 != 0) {
      **(long **)(this + 0x40) = lVar15 + -1;
    }
    lVar15 = *(long *)(this + 0x30);
    if (lVar15 == 0) {
      if (lVar3 == *(long *)(in_FS_OFFSET + 0x28)) {
        _err_print_error("pop_back","./core/templates/paged_array.h",0xd7,
                         "Condition \"count == 0\" is true.",0,0);
        return;
      }
      goto LAB_0013246b;
    }
    if ((*(uint *)(this + 0x28) & (uint)lVar15) == 1) {
      lVar4 = *(long *)(this + 8);
      uVar2 = *(undefined4 *)
               (*(long *)(this + 0x18) +
               (lVar15 - 1U >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f) & 0xffffffff) * 4);
      pcVar19 = (char *)(lVar4 + 0x20);
      while( true ) {
        LOCK();
        cVar1 = *pcVar19;
        if (cVar1 == '\0') {
          *pcVar19 = '\x01';
        }
        UNLOCK();
        if (cVar1 == '\0') break;
        do {
        } while (*pcVar19 != '\0');
      }
      *(undefined4 *)(*(long *)(lVar4 + 0x10) + (ulong)*(uint *)(lVar4 + 0x18) * 4) = uVar2;
      *(int *)(lVar4 + 0x18) = *(int *)(lVar4 + 0x18) + 1;
      *(undefined1 *)(lVar4 + 0x20) = 0;
      lVar15 = *(long *)(this + 0x30);
    }
    *(long *)(this + 0x30) = lVar15 + -1;
  }
  else {
    _err_print_index_error
              ("remove_at","./core/templates/bin_sorted_array.h",0x74,param_1,
               *(ulong *)(this + 0x30),"p_idx","array.size()","",false,false);
  }
  if (lVar3 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0013246b:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RendererSceneCull::Instance::dependency_changed(Dependency::DependencyChangedNotification,
   DependencyTracker*) */

void RendererSceneCull::Instance::dependency_changed(uint param_1,undefined8 *param_2)

{
  Instance *pIVar1;
  Instance *pIVar2;
  long lVar3;
  ulong uVar4;
  RendererSceneCull *pRVar5;
  
  pIVar2 = (Instance *)*param_2;
  if (0xc < param_1) {
    return;
  }
  if (param_1 < 5) {
    if (param_1 != 1) {
      if (param_1 < 2) goto LAB_00132520;
      if (param_1 != 4) goto LAB_0013255d;
    }
    pIVar2[0x231] = (Instance)0x1;
    pRVar5 = singleton;
    if (*(long *)(pIVar2 + 0x238) != 0) {
      return;
    }
  }
  else {
    uVar4 = 1L << ((byte)param_1 & 0x3f);
    if ((uVar4 & 0x14a0) == 0) {
      if ((uVar4 & 0x300) != 0) {
LAB_00132520:
        pIVar2[0x230] = (Instance)0x1;
        pRVar5 = singleton;
        if (*(long *)(pIVar2 + 0x238) != 0) {
          return;
        }
        goto LAB_001324d8;
      }
      if (param_1 != 0xb) {
        return;
      }
      if (*(long *)(pIVar2 + 0x1a8) == 0) {
        return;
      }
      _unpair_instance(singleton,pIVar2);
    }
LAB_0013255d:
    pRVar5 = singleton;
    *(undefined2 *)(pIVar2 + 0x230) = 0x101;
    if (*(long *)(pIVar2 + 0x238) != 0) {
      return;
    }
  }
LAB_001324d8:
  pIVar1 = pIVar2 + 0x238;
  *(RendererSceneCull **)(pIVar2 + 0x238) = pRVar5 + 0x260;
  lVar3 = *(long *)(pRVar5 + 0x260);
  *(undefined8 *)(pIVar2 + 0x250) = 0;
  *(long *)(pIVar2 + 0x248) = lVar3;
  if (lVar3 == 0) {
    *(Instance **)(pRVar5 + 0x268) = pIVar1;
  }
  else {
    *(Instance **)(lVar3 + 0x18) = pIVar1;
  }
  *(Instance **)(pRVar5 + 0x260) = pIVar1;
  return;
}



/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::get_bin_size(int) */

int __thiscall
BinSortedArray<RendererSceneCull::InstanceVisibilityData>::get_bin_size
          (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this,int param_1)

{
  uint uVar1;
  code *pcVar2;
  int iVar3;
  ulong uVar4;
  
  uVar4 = (ulong)(uint)param_1;
  iVar3 = 0;
  if (*(long *)(this + 0x30) != 0) {
    iVar3 = *(int *)(this + 0x38);
  }
  if (param_1 < iVar3) {
    uVar1 = *(uint *)(this + 0x38);
    if (uVar1 - 1 == param_1) {
      if ((uint)param_1 < uVar1) {
        return (int)*(undefined8 *)(*(long *)(this + 0x40) + (ulong)(uint)param_1 * 8) + 1;
      }
    }
    else if ((uint)param_1 < uVar1) {
      uVar4 = (ulong)(param_1 + 1U);
      if (param_1 + 1U < uVar1) {
        return (int)*(undefined8 *)(*(long *)(this + 0x40) + (ulong)(uint)param_1 * 8) -
               *(int *)(*(long *)(this + 0x40) + uVar4 * 8);
      }
    }
    _err_print_index_error
              ("operator[]","./core/templates/local_vector.h",0xb2,uVar4,(ulong)uVar1,"p_index",
               "count","",false,true);
    _err_flush_stdout();
                    /* WARNING: Does not return */
    pcVar2 = (code *)invalidInstructionException();
    (*pcVar2)();
  }
  _err_print_error("get_bin_size","./core/templates/bin_sorted_array.h",0x9f,
                   "Condition \"p_bin >= get_bin_count()\" is true. Returning: 0",0,0);
  return 0;
}



/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::reset() */

void __thiscall
BinSortedArray<RendererSceneCull::InstanceVisibilityData>::reset
          (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this)

{
  char *pcVar1;
  char cVar2;
  undefined4 uVar3;
  long lVar4;
  long lVar5;
  code *pcVar6;
  ulong uVar7;
  void *pvVar8;
  long lVar9;
  long in_FS_OFFSET;
  
  lVar4 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(this + 0x30) != 0) &&
     (uVar7 = *(long *)(this + 0x30) - 1U >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f),
     (int)uVar7 != -1)) {
    lVar9 = 0;
    do {
      lVar5 = *(long *)(this + 8);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x18) + lVar9);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar9 = lVar9 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar9 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x30) = 0;
  if (*(void **)(this + 0x10) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x10),false);
    Memory::free_static(*(void **)(this + 0x18),false);
    *(undefined4 *)(this + 0x20) = 0;
    *(undefined1 (*) [16])(this + 0x10) = (undefined1  [16])0x0;
  }
  if (*(int *)(this + 0x38) != 0) {
    *(undefined4 *)(this + 0x38) = 0;
  }
  pvVar8 = *(void **)(this + 0x40);
  uVar7 = 0;
  if (*(int *)(this + 0x3c) == 0) {
    *(undefined4 *)(this + 0x3c) = 1;
    pvVar8 = (void *)Memory::realloc_static(pvVar8,8,false);
    *(void **)(this + 0x40) = pvVar8;
    if (pvVar8 == (void *)0x0) {
      _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                       "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar6 = (code *)invalidInstructionException();
      (*pcVar6)();
    }
    uVar7 = (ulong)*(uint *)(this + 0x38);
  }
  *(int *)(this + 0x38) = (int)uVar7 + 1;
  *(undefined8 *)((long)pvVar8 + uVar7 * 8) = 0;
  if (lVar4 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray() */

void __thiscall
BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray
          (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this)

{
  char *pcVar1;
  char cVar2;
  undefined4 uVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  long lVar7;
  long in_FS_OFFSET;
  
  lVar4 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR__update_idx_00138000;
  reset(this);
  if (*(void **)(this + 0x40) != (void *)0x0) {
    if (*(int *)(this + 0x38) != 0) {
      *(undefined4 *)(this + 0x38) = 0;
    }
    Memory::free_static(*(void **)(this + 0x40),false);
  }
  if ((*(long *)(this + 0x30) != 0) &&
     (uVar6 = *(long *)(this + 0x30) - 1U >> ((byte)*(undefined4 *)(this + 0x24) & 0x3f),
     (int)uVar6 != -1)) {
    lVar7 = 0;
    do {
      lVar5 = *(long *)(this + 8);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x18) + lVar7);
      pcVar1 = (char *)(lVar5 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar7 = lVar7 + 4;
      *(undefined4 *)(*(long *)(lVar5 + 0x10) + (ulong)*(uint *)(lVar5 + 0x18) * 4) = uVar3;
      *(int *)(lVar5 + 0x18) = *(int *)(lVar5 + 0x18) + 1;
      *(undefined1 *)(lVar5 + 0x20) = 0;
    } while (lVar7 != (uVar6 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x30) = 0;
  if (*(void **)(this + 0x10) == (void *)0x0) {
    if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else {
    Memory::free_static(*(void **)(this + 0x10),false);
    if (lVar4 == *(long *)(in_FS_OFFSET + 0x28)) {
      Memory::free_static(*(void **)(this + 0x18),false);
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray() */

void __thiscall
BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray
          (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this)

{
  ~BinSortedArray(this);
  operator_delete(this,0x48);
  return;
}



/* RendererSceneCull::VisibilityArray::~VisibilityArray() */

void __thiscall RendererSceneCull::VisibilityArray::~VisibilityArray(VisibilityArray *this)

{
  *(undefined ***)this = &PTR__update_idx_00138028;
  BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray
            ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)this);
  return;
}



/* RendererSceneCull::VisibilityArray::~VisibilityArray() */

void __thiscall RendererSceneCull::VisibilityArray::~VisibilityArray(VisibilityArray *this)

{
  *(undefined ***)this = &PTR__update_idx_00138028;
  BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray
            ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)this);
  operator_delete(this,0x48);
  return;
}



/* RendererSceneCull::Scenario::~Scenario() */

void __thiscall RendererSceneCull::Scenario::~Scenario(Scenario *this)

{
  char *pcVar1;
  char cVar2;
  undefined4 uVar3;
  uint uVar4;
  long lVar5;
  long lVar6;
  ulong uVar7;
  long *plVar8;
  void *pvVar9;
  long lVar10;
  long in_FS_OFFSET;
  
  lVar5 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)(this + 0x1f8) = &PTR__update_idx_00138028;
  BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray
            ((BinSortedArray<RendererSceneCull::InstanceVisibilityData> *)(this + 0x1f8));
  if ((*(long *)(this + 0x1f0) != 0) &&
     (uVar7 = *(long *)(this + 0x1f0) - 1U >> ((byte)*(undefined4 *)(this + 0x1e4) & 0x3f),
     (int)uVar7 != -1)) {
    lVar10 = 0;
    do {
      lVar6 = *(long *)(this + 0x1c8);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x1d8) + lVar10);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar10 = lVar10 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar3;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while ((uVar7 & 0xffffffff) * 4 + 4 != lVar10);
  }
  *(undefined8 *)(this + 0x1f0) = 0;
  if (*(void **)(this + 0x1d0) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x1d0),false);
    Memory::free_static(*(void **)(this + 0x1d8),false);
  }
  if ((*(long *)(this + 0x1c0) != 0) &&
     (uVar7 = *(long *)(this + 0x1c0) - 1U >> ((byte)*(undefined4 *)(this + 0x1b4) & 0x3f),
     (int)uVar7 != -1)) {
    lVar10 = 0;
    do {
      lVar6 = *(long *)(this + 0x198);
      uVar3 = *(undefined4 *)(*(long *)(this + 0x1a8) + lVar10);
      pcVar1 = (char *)(lVar6 + 0x20);
      while( true ) {
        LOCK();
        cVar2 = *pcVar1;
        if (cVar2 == '\0') {
          *pcVar1 = '\x01';
        }
        UNLOCK();
        if (cVar2 == '\0') break;
        do {
        } while (*pcVar1 != '\0');
      }
      lVar10 = lVar10 + 4;
      *(undefined4 *)(*(long *)(lVar6 + 0x10) + (ulong)*(uint *)(lVar6 + 0x18) * 4) = uVar3;
      *(int *)(lVar6 + 0x18) = *(int *)(lVar6 + 0x18) + 1;
      *(undefined1 *)(lVar6 + 0x20) = 0;
    } while (lVar10 != (uVar7 & 0xffffffff) * 4 + 4);
  }
  *(undefined8 *)(this + 0x1c0) = 0;
  if (*(void **)(this + 0x1a0) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x1a0),false);
    Memory::free_static(*(void **)(this + 0x1a8),false);
  }
  if (*(void **)(this + 400) != (void *)0x0) {
    if (*(int *)(this + 0x188) != 0) {
      *(undefined4 *)(this + 0x188) = 0;
    }
    Memory::free_static(*(void **)(this + 400),false);
  }
  pvVar9 = *(void **)(this + 0x150);
  if (pvVar9 != (void *)0x0) {
    if (*(int *)(this + 0x174) != 0) {
      uVar4 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x170) * 4);
      if (uVar4 == 0) {
        *(undefined4 *)(this + 0x174) = 0;
        *(undefined1 (*) [16])(this + 0x160) = (undefined1  [16])0x0;
      }
      else {
        lVar10 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x158) + lVar10) != 0) {
            *(int *)(*(long *)(this + 0x158) + lVar10) = 0;
            Memory::free_static(*(void **)((long)pvVar9 + lVar10 * 2),false);
            pvVar9 = *(void **)(this + 0x150);
            *(undefined8 *)((long)pvVar9 + lVar10 * 2) = 0;
          }
          lVar10 = lVar10 + 4;
        } while ((ulong)uVar4 * 4 - lVar10 != 0);
        *(undefined4 *)(this + 0x174) = 0;
        *(undefined1 (*) [16])(this + 0x160) = (undefined1  [16])0x0;
        if (pvVar9 == (void *)0x0) goto LAB_00132e39;
      }
    }
    Memory::free_static(pvVar9,false);
    Memory::free_static(*(void **)(this + 0x158),false);
  }
LAB_00132e39:
  plVar8 = *(long **)(this + 0x108);
  if (plVar8 != (long *)0x0) {
    do {
      pvVar9 = (void *)*plVar8;
      if (pvVar9 == (void *)0x0) {
        if ((int)plVar8[2] != 0) {
          _err_print_error("~List","./core/templates/list.h",0x316,
                           "Condition \"_data->size_cache\" is true.",0,0);
          goto LAB_00132eab;
        }
        break;
      }
      if (plVar8 == *(long **)((long)pvVar9 + 0x18)) {
        lVar10 = *(long *)((long)pvVar9 + 8);
        lVar6 = *(long *)((long)pvVar9 + 0x10);
        *plVar8 = lVar10;
        if (pvVar9 == (void *)plVar8[1]) {
          plVar8[1] = lVar6;
        }
        if (lVar6 != 0) {
          *(long *)(lVar6 + 8) = lVar10;
          lVar10 = *(long *)((long)pvVar9 + 8);
        }
        if (lVar10 != 0) {
          *(long *)(lVar10 + 0x10) = lVar6;
        }
        Memory::free_static(pvVar9,false);
        *(int *)(plVar8 + 2) = (int)plVar8[2] + -1;
      }
      else {
        _err_print_error("erase","./core/templates/list.h",0xe7,
                         "Condition \"p_I->data != this\" is true. Returning: false",0,0);
      }
      plVar8 = *(long **)(this + 0x108);
    } while ((int)plVar8[2] != 0);
    Memory::free_static(plVar8,false);
  }
LAB_00132eab:
  DynamicBVH::~DynamicBVH((DynamicBVH *)(this + 0x80));
  if (lVar5 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  DynamicBVH::~DynamicBVH((DynamicBVH *)this);
  return;
}



/* LocalVector<RendererSceneCull::InstanceCullResult, unsigned int, false, false>::resize(unsigned
   int) */

void __thiscall
LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false>::resize
          (LocalVector<RendererSceneCull::InstanceCullResult,unsigned_int,false,false> *this,
          uint param_1)

{
  code *pcVar1;
  long lVar2;
  undefined1 (*pauVar3) [16];
  uint uVar4;
  long lVar5;
  InstanceCullResult *this_00;
  undefined1 (*pauVar6) [16];
  uint uVar7;
  byte bVar8;
  
  bVar8 = 0;
  uVar7 = *(uint *)this;
  if (param_1 < uVar7) {
    lVar5 = (ulong)param_1 * 0xdb0;
    uVar7 = param_1;
    do {
      uVar7 = uVar7 + 1;
      this_00 = (InstanceCullResult *)(*(long *)(this + 8) + lVar5);
      lVar5 = lVar5 + 0xdb0;
      RendererSceneCull::InstanceCullResult::~InstanceCullResult(this_00);
    } while (uVar7 < *(uint *)this);
  }
  else {
    if (param_1 <= uVar7) {
      return;
    }
    uVar4 = param_1 - 1;
    if (*(uint *)(this + 4) < param_1) {
      uVar7 = uVar4 >> 1 | uVar4;
      uVar7 = uVar7 | uVar7 >> 2;
      uVar7 = uVar7 | uVar7 >> 4;
      uVar7 = uVar7 | uVar7 >> 8;
      uVar7 = (uVar7 | uVar7 >> 0x10) + 1;
      *(uint *)(this + 4) = uVar7;
      lVar5 = Memory::realloc_static(*(void **)(this + 8),(ulong)uVar7 * 0xdb0,false);
      *(long *)(this + 8) = lVar5;
      if (lVar5 == 0) {
        _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                         "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar1 = (code *)invalidInstructionException();
        (*pcVar1)();
      }
      uVar7 = *(uint *)this;
      if (param_1 <= uVar7) goto LAB_00132fcd;
    }
    lVar5 = *(long *)(this + 8);
    pauVar3 = (undefined1 (*) [16])((ulong)uVar7 * 0xdb0 + lVar5);
    do {
      *(undefined8 *)pauVar3[1] = 0;
      *(undefined8 *)(pauVar3[1] + 8) = 0;
      *(undefined4 *)pauVar3[2] = 0;
      *(undefined8 *)(pauVar3[2] + 8) = 0;
      *(undefined8 *)pauVar3[4] = 0;
      *(undefined8 *)(pauVar3[4] + 8) = 0;
      *(undefined4 *)pauVar3[5] = 0;
      *(undefined8 *)(pauVar3[5] + 8) = 0;
      *(undefined8 *)pauVar3[7] = 0;
      *(undefined8 *)(pauVar3[7] + 8) = 0;
      *(undefined4 *)pauVar3[8] = 0;
      *(undefined8 *)(pauVar3[8] + 8) = 0;
      *(undefined8 *)pauVar3[10] = 0;
      *(undefined8 *)(pauVar3[10] + 8) = 0;
      *(undefined4 *)pauVar3[0xb] = 0;
      *(undefined8 *)(pauVar3[0xb] + 8) = 0;
      *(undefined8 *)pauVar3[0xd] = 0;
      *(undefined8 *)(pauVar3[0xd] + 8) = 0;
      *(undefined4 *)pauVar3[0xe] = 0;
      *(undefined8 *)(pauVar3[0xe] + 8) = 0;
      *(undefined8 *)pauVar3[0x10] = 0;
      *(undefined8 *)(pauVar3[0x10] + 8) = 0;
      *(undefined4 *)pauVar3[0x11] = 0;
      *(undefined8 *)(pauVar3[0x11] + 8) = 0;
      *(undefined8 *)pauVar3[0x13] = 0;
      *pauVar3 = (undefined1  [16])0x0;
      pauVar3[3] = (undefined1  [16])0x0;
      pauVar3[6] = (undefined1  [16])0x0;
      pauVar3[9] = (undefined1  [16])0x0;
      pauVar3[0xc] = (undefined1  [16])0x0;
      pauVar3[0xf] = (undefined1  [16])0x0;
      pauVar3[0x12] = (undefined1  [16])0x0;
      *(undefined8 *)(pauVar3[0x13] + 8) = 0;
      *(undefined4 *)pauVar3[0x14] = 0;
      *(undefined8 *)(pauVar3[0x14] + 8) = 0;
      *(undefined8 *)pauVar3[0x16] = 0;
      *(undefined8 *)(pauVar3[0x16] + 8) = 0;
      *(undefined4 *)pauVar3[0x17] = 0;
      *(undefined8 *)(pauVar3[0x17] + 8) = 0;
      *(undefined8 *)pauVar3[0x19] = 0;
      *(undefined8 *)(pauVar3[0x19] + 8) = 0;
      *(undefined4 *)pauVar3[0x1a] = 0;
      *(undefined8 *)(pauVar3[0x1a] + 8) = 0;
      pauVar3[0x15] = (undefined1  [16])0x0;
      pauVar3[0x18] = (undefined1  [16])0x0;
      pauVar6 = pauVar3 + 0x1b;
      for (lVar2 = 0xc0; lVar2 != 0; lVar2 = lVar2 + -1) {
        *(undefined8 *)*pauVar6 = 0;
        pauVar6 = (undefined1 (*) [16])(pauVar6[-(ulong)bVar8] + 8);
      }
      pauVar6 = pauVar3 + 0x7b;
      for (lVar2 = 0x90; lVar2 != 0; lVar2 = lVar2 + -1) {
        *(undefined8 *)*pauVar6 = 0;
        pauVar6 = (undefined1 (*) [16])(pauVar6[-(ulong)bVar8] + 8);
      }
      pauVar6 = pauVar3 + 0xc3;
      pauVar3 = pauVar3 + 0xdb;
      for (lVar2 = 0x30; lVar2 != 0; lVar2 = lVar2 + -1) {
        *(undefined8 *)*pauVar6 = 0;
        pauVar6 = (undefined1 (*) [16])(pauVar6[-(ulong)bVar8] + 8);
      }
    } while (pauVar3 !=
             (undefined1 (*) [16])(lVar5 + 0xdb0 + ((ulong)(uVar4 - uVar7) + (ulong)uVar7) * 0xdb0))
    ;
  }
LAB_00132fcd:
  *(uint *)this = param_1;
  return;
}



/* void memdelete<RenderingLightCuller>(RenderingLightCuller*) */

void memdelete<RenderingLightCuller>(RenderingLightCuller *param_1)

{
  long *plVar1;
  long lVar2;
  
  if (*(void **)(param_1 + 0x78) != (void *)0x0) {
    if (*(int *)(param_1 + 0x70) != 0) {
      *(undefined4 *)(param_1 + 0x70) = 0;
    }
    Memory::free_static(*(void **)(param_1 + 0x78),false);
  }
  if (*(long *)(param_1 + 8) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(param_1 + 8) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(param_1 + 8);
      *(undefined8 *)(param_1 + 8) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
      Memory::free_static(param_1,false);
      return;
    }
  }
  Memory::free_static(param_1,false);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<RID>::resize<false>(long) */

undefined8 __thiscall CowData<RID>::resize<false>(CowData<RID> *this,long param_1)

{
  long *plVar1;
  code *pcVar2;
  long lVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  long lVar7;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  lVar3 = *(long *)this;
  if (lVar3 == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar7 = 0;
    lVar3 = 0;
  }
  else {
    lVar7 = *(long *)(lVar3 + -8);
    if (param_1 == lVar7) {
      return 0;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar3 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return 0;
      }
      lVar3 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
      return 0;
    }
    _copy_on_write(this);
    lVar3 = lVar7 * 8;
    if (lVar3 != 0) {
      uVar4 = lVar3 - 1U | lVar3 - 1U >> 1;
      uVar4 = uVar4 | uVar4 >> 2;
      uVar4 = uVar4 | uVar4 >> 4;
      uVar4 = uVar4 | uVar4 >> 8;
      uVar4 = uVar4 | uVar4 >> 0x10;
      lVar3 = (uVar4 | uVar4 >> 0x20) + 1;
    }
  }
  if (param_1 * 8 == 0) {
LAB_00133648:
    _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                     "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                     ,0,0);
    return 6;
  }
  uVar4 = param_1 * 8 - 1;
  uVar4 = uVar4 >> 1 | uVar4;
  uVar4 = uVar4 | uVar4 >> 2;
  uVar4 = uVar4 | uVar4 >> 4;
  uVar4 = uVar4 | uVar4 >> 8;
  uVar4 = uVar4 | uVar4 >> 0x10;
  uVar4 = uVar4 | uVar4 >> 0x20;
  if (uVar4 == 0xffffffffffffffff) goto LAB_00133648;
  if (param_1 <= lVar7) {
    puVar6 = *(undefined8 **)this;
    if (uVar4 + 1 == lVar3) {
      if (puVar6 == (undefined8 *)0x0) {
        _DAT_00000000 = 0;
                    /* WARNING: Does not return */
        pcVar2 = (code *)invalidInstructionException();
        (*pcVar2)();
      }
    }
    else {
      puVar5 = (undefined8 *)Memory::realloc_static(puVar6 + -2,uVar4 + 0x11,false);
      if (puVar5 == (undefined8 *)0x0) {
LAB_00133680:
        _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,
                         "Parameter \"mem_new\" is null.",0,0);
        return 6;
      }
      puVar6 = puVar5 + 2;
      *puVar5 = 1;
      *(undefined8 **)this = puVar6;
    }
    puVar6[-1] = param_1;
    return 0;
  }
  if (uVar4 + 1 == lVar3) {
    puVar6 = *(undefined8 **)this;
    if (puVar6 == (undefined8 *)0x0) {
                    /* WARNING: Does not return */
      pcVar2 = (code *)invalidInstructionException();
      (*pcVar2)();
    }
    lVar3 = puVar6[-1];
LAB_00133589:
    if (param_1 <= lVar3) goto LAB_00133501;
  }
  else {
    if (lVar7 != 0) {
      puVar5 = (undefined8 *)
               Memory::realloc_static((void *)(*(long *)this + -0x10),uVar4 + 0x11,false);
      if (puVar5 == (undefined8 *)0x0) goto LAB_00133680;
      puVar6 = puVar5 + 2;
      *puVar5 = 1;
      *(undefined8 **)this = puVar6;
      lVar3 = puVar5[1];
      goto LAB_00133589;
    }
    puVar5 = (undefined8 *)Memory::alloc_static(uVar4 + 0x11,false);
    if (puVar5 == (undefined8 *)0x0) {
      _err_print_error("resize","./core/templates/cowdata.h",0x171,"Parameter \"mem_new\" is null.",
                       0,0);
      return 6;
    }
    puVar6 = puVar5 + 2;
    *puVar5 = 1;
    puVar5[1] = 0;
    *(undefined8 **)this = puVar6;
    lVar3 = 0;
  }
  memset(puVar6 + lVar3,0,(param_1 - lVar3) * 8);
LAB_00133501:
  puVar6[-1] = param_1;
  return 0;
}



/* WARNING: Removing unreachable block (ram,0x001338b0) */
/* WARNING: Removing unreachable block (ram,0x001339e0) */
/* WARNING: Removing unreachable block (ram,0x00133b59) */
/* WARNING: Removing unreachable block (ram,0x001339ec) */
/* WARNING: Removing unreachable block (ram,0x001339f6) */
/* WARNING: Removing unreachable block (ram,0x00133b3b) */
/* WARNING: Removing unreachable block (ram,0x00133a02) */
/* WARNING: Removing unreachable block (ram,0x00133a0c) */
/* WARNING: Removing unreachable block (ram,0x00133b1d) */
/* WARNING: Removing unreachable block (ram,0x00133a18) */
/* WARNING: Removing unreachable block (ram,0x00133a22) */
/* WARNING: Removing unreachable block (ram,0x00133aff) */
/* WARNING: Removing unreachable block (ram,0x00133a2e) */
/* WARNING: Removing unreachable block (ram,0x00133a38) */
/* WARNING: Removing unreachable block (ram,0x00133ae1) */
/* WARNING: Removing unreachable block (ram,0x00133a44) */
/* WARNING: Removing unreachable block (ram,0x00133a4e) */
/* WARNING: Removing unreachable block (ram,0x00133ac3) */
/* WARNING: Removing unreachable block (ram,0x00133a56) */
/* WARNING: Removing unreachable block (ram,0x00133a60) */
/* WARNING: Removing unreachable block (ram,0x00133aa8) */
/* WARNING: Removing unreachable block (ram,0x00133a68) */
/* WARNING: Removing unreachable block (ram,0x00133a7e) */
/* WARNING: Removing unreachable block (ram,0x00133a8a) */
/* String vformat<unsigned int, char const*>(String const&, unsigned int const, char const* const)
    */

String * vformat<unsigned_int,char_const*>(String *param_1,uint param_2,char *param_3)

{
  Variant *pVVar1;
  Variant *pVVar2;
  char *in_RCX;
  undefined4 in_register_00000034;
  int iVar3;
  long in_FS_OFFSET;
  Array local_d8 [8];
  undefined8 local_d0 [9];
  Variant local_88 [24];
  Variant local_70 [24];
  undefined8 local_58;
  undefined1 local_50 [16];
  long local_40 [2];
  
  local_40[0] = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant(local_88,(uint)param_3);
  Variant::Variant(local_70,in_RCX);
  local_58 = 0;
  local_50 = (undefined1  [16])0x0;
  Array::Array(local_d8);
  iVar3 = (int)local_d8;
  Array::resize(iVar3);
  pVVar2 = (Variant *)Array::operator[](iVar3);
  Variant::operator=(pVVar2,local_88);
  pVVar2 = (Variant *)Array::operator[](iVar3);
  Variant::operator=(pVVar2,local_70);
  String::sprintf((Array *)local_d0,(bool *)CONCAT44(in_register_00000034,param_2));
  *(undefined8 *)param_1 = local_d0[0];
  pVVar2 = (Variant *)local_40;
  Array::~Array(local_d8);
  do {
    pVVar1 = pVVar2 + -0x18;
    pVVar2 = pVVar2 + -0x18;
    if (Variant::needs_deinit[*(int *)pVVar1] != '\0') {
      Variant::_clear_internal();
    }
  } while (pVVar2 != local_88);
  if (local_40[0] != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* RID_Alloc<RendererSceneCull::Camera, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Camera,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Camera,true> *this)

{
  long *plVar1;
  long lVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  long lVar6;
  long in_FS_OFFSET;
  long local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR__RID_Alloc_00137fe0;
  uVar3 = *(uint *)(this + 0x20);
  if (uVar3 != 0) {
    local_50 = 0;
    local_40 = 0x3b;
    local_48 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_50);
    vformat<unsigned_int,char_const*>
              ((String *)&local_48,(uint)(StrRange *)&local_50,(char *)(ulong)uVar3);
    print_error((String *)&local_48);
    pcVar5 = local_48;
    lVar6 = local_50;
    if (local_48 != (char *)0x0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = (char *)0x0;
        Memory::free_static(pcVar5 + -0x10,false);
        lVar6 = local_50;
      }
    }
    local_50 = lVar6;
    if (lVar6 != 0) {
      LOCK();
      plVar1 = (long *)(lVar6 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar6 + -0x10),false);
      }
    }
  }
  uVar3 = *(uint *)(this + 0x1c);
  uVar4 = *(uint *)(this + 0x18);
  if (uVar4 <= uVar3) {
    lVar6 = 0;
    do {
      Memory::free_static(*(void **)(*(long *)(this + 8) + lVar6 * 8),false);
      lVar2 = lVar6 * 8;
      lVar6 = lVar6 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x10) + lVar2),false);
    } while ((uint)lVar6 < uVar3 / uVar4);
  }
  if (*(void **)(this + 8) == (void *)0x0) {
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else {
    Memory::free_static(*(void **)(this + 8),false);
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      Memory::free_static(*(void **)(this + 0x10),false);
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RID_Alloc<RendererSceneCull::Scenario, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Scenario,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Scenario,true> *this)

{
  long *plVar1;
  long lVar2;
  Scenario *this_00;
  uint uVar3;
  char *pcVar4;
  ulong uVar5;
  ulong uVar6;
  long lVar7;
  ulong uVar8;
  undefined8 *puVar9;
  long in_FS_OFFSET;
  long local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR__RID_Alloc_00138050;
  uVar3 = *(uint *)(this + 0x20);
  if (uVar3 == 0) {
    uVar5 = (ulong)*(uint *)(this + 0x1c);
    uVar8 = (ulong)*(uint *)(this + 0x18);
    puVar9 = *(undefined8 **)(this + 8);
LAB_00133eaa:
    if ((uint)uVar5 < (uint)uVar8) goto LAB_00133eeb;
    lVar7 = 0;
    while( true ) {
      Memory::free_static((void *)puVar9[lVar7],false);
      lVar2 = lVar7 * 8;
      lVar7 = lVar7 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x10) + lVar2),false);
      if ((uint)(uVar5 / uVar8) <= (uint)lVar7) break;
      puVar9 = *(undefined8 **)(this + 8);
    }
  }
  else {
    local_50 = 0;
    local_40 = 0x3b;
    local_48 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_50);
    vformat<unsigned_int,char_const*>
              ((String *)&local_48,(uint)(StrRange *)&local_50,(char *)(ulong)uVar3);
    print_error((String *)&local_48);
    pcVar4 = local_48;
    if (local_48 != (char *)0x0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = (char *)0x0;
        Memory::free_static(pcVar4 + -0x10,false);
      }
    }
    lVar7 = local_50;
    if (local_50 != 0) {
      LOCK();
      plVar1 = (long *)(local_50 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar7 + -0x10),false);
      }
    }
    uVar8 = (ulong)*(uint *)(this + 0x18);
    puVar9 = *(undefined8 **)(this + 8);
    if (*(int *)(this + 0x1c) != 0) {
      uVar6 = 0;
      do {
        this_00 = (Scenario *)(puVar9[uVar6 / uVar8] + (uVar6 % uVar8) * 0x248);
        if (-1 < *(int *)(this_00 + 0x240)) {
          RendererSceneCull::Scenario::~Scenario(this_00);
          uVar8 = (ulong)*(uint *)(this + 0x18);
          puVar9 = *(undefined8 **)(this + 8);
        }
        uVar5 = (ulong)*(uint *)(this + 0x1c);
        uVar6 = uVar6 + 1;
      } while (uVar6 < uVar5);
      goto LAB_00133eaa;
    }
    if (*(uint *)(this + 0x18) != 0) goto LAB_00133eeb;
    Memory::free_static((void *)*puVar9,false);
    Memory::free_static((void *)**(undefined8 **)(this + 0x10),false);
  }
  puVar9 = *(undefined8 **)(this + 8);
LAB_00133eeb:
  if (puVar9 == (undefined8 *)0x0) {
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else {
    Memory::free_static(puVar9,false);
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      Memory::free_static(*(void **)(this + 0x10),false);
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RID_Alloc<RendererSceneCull::Camera, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Camera,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Camera,true> *this)

{
  long *plVar1;
  long lVar2;
  uint uVar3;
  uint uVar4;
  char *pcVar5;
  long lVar6;
  long in_FS_OFFSET;
  long local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR__RID_Alloc_00137fe0;
  uVar3 = *(uint *)(this + 0x20);
  if (uVar3 != 0) {
    local_50 = 0;
    local_40 = 0x3b;
    local_48 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_50);
    vformat<unsigned_int,char_const*>
              ((String *)&local_48,(uint)(StrRange *)&local_50,(char *)(ulong)uVar3);
    print_error((String *)&local_48);
    pcVar5 = local_48;
    lVar6 = local_50;
    if (local_48 != (char *)0x0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = (char *)0x0;
        Memory::free_static(pcVar5 + -0x10,false);
        lVar6 = local_50;
      }
    }
    local_50 = lVar6;
    if (lVar6 != 0) {
      LOCK();
      plVar1 = (long *)(lVar6 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar6 + -0x10),false);
      }
    }
  }
  uVar3 = *(uint *)(this + 0x1c);
  uVar4 = *(uint *)(this + 0x18);
  if (uVar4 <= uVar3) {
    lVar6 = 0;
    do {
      Memory::free_static(*(void **)(*(long *)(this + 8) + lVar6 * 8),false);
      lVar2 = lVar6 * 8;
      lVar6 = lVar6 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x10) + lVar2),false);
    } while ((uint)lVar6 < uVar3 / uVar4);
  }
  if (*(void **)(this + 8) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 8),false);
    Memory::free_static(*(void **)(this + 0x10),false);
  }
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  operator_delete(this,0x58);
  return;
}



/* RID_Alloc<RendererSceneCull::Scenario, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Scenario,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Scenario,true> *this)

{
  long *plVar1;
  long lVar2;
  Scenario *this_00;
  uint uVar3;
  char *pcVar4;
  ulong uVar5;
  ulong uVar6;
  long lVar7;
  ulong uVar8;
  undefined8 *puVar9;
  long in_FS_OFFSET;
  long local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR__RID_Alloc_00138050;
  uVar3 = *(uint *)(this + 0x20);
  if (uVar3 == 0) {
    uVar5 = (ulong)*(uint *)(this + 0x1c);
    uVar8 = (ulong)*(uint *)(this + 0x18);
    puVar9 = *(undefined8 **)(this + 8);
LAB_0013428a:
    if ((uint)uVar5 < (uint)uVar8) goto LAB_001342cb;
    lVar7 = 0;
    while( true ) {
      Memory::free_static((void *)puVar9[lVar7],false);
      lVar2 = lVar7 * 8;
      lVar7 = lVar7 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x10) + lVar2),false);
      if ((uint)(uVar5 / uVar8) <= (uint)lVar7) break;
      puVar9 = *(undefined8 **)(this + 8);
    }
  }
  else {
    local_50 = 0;
    local_40 = 0x3b;
    local_48 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_50);
    vformat<unsigned_int,char_const*>
              ((String *)&local_48,(uint)(StrRange *)&local_50,(char *)(ulong)uVar3);
    print_error((String *)&local_48);
    pcVar4 = local_48;
    if (local_48 != (char *)0x0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = (char *)0x0;
        Memory::free_static(pcVar4 + -0x10,false);
      }
    }
    lVar7 = local_50;
    if (local_50 != 0) {
      LOCK();
      plVar1 = (long *)(local_50 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar7 + -0x10),false);
      }
    }
    uVar8 = (ulong)*(uint *)(this + 0x18);
    puVar9 = *(undefined8 **)(this + 8);
    if (*(int *)(this + 0x1c) != 0) {
      uVar6 = 0;
      do {
        this_00 = (Scenario *)(puVar9[uVar6 / uVar8] + (uVar6 % uVar8) * 0x248);
        if (-1 < *(int *)(this_00 + 0x240)) {
          RendererSceneCull::Scenario::~Scenario(this_00);
          uVar8 = (ulong)*(uint *)(this + 0x18);
          puVar9 = *(undefined8 **)(this + 8);
        }
        uVar5 = (ulong)*(uint *)(this + 0x1c);
        uVar6 = uVar6 + 1;
      } while (uVar6 < uVar5);
      goto LAB_0013428a;
    }
    if (*(uint *)(this + 0x18) != 0) goto LAB_001342cb;
    Memory::free_static((void *)*puVar9,false);
    Memory::free_static((void *)**(undefined8 **)(this + 0x10),false);
  }
  puVar9 = *(undefined8 **)(this + 8);
LAB_001342cb:
  if (puVar9 != (undefined8 *)0x0) {
    Memory::free_static(puVar9,false);
    Memory::free_static(*(void **)(this + 0x10),false);
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    operator_delete(this,0x58);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* LocalVector<DynamicBVH::Node const*, unsigned int, false, false>::resize(unsigned int) */

void __thiscall
LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false>::resize
          (LocalVector<DynamicBVH::Node_const*,unsigned_int,false,false> *this,uint param_1)

{
  code *pcVar1;
  uint uVar2;
  long lVar3;
  
  if (*(uint *)this <= param_1) {
    if (param_1 <= *(uint *)this) {
      return;
    }
    if (*(uint *)(this + 4) < param_1) {
      uVar2 = param_1 - 1 | param_1 - 1 >> 1;
      uVar2 = uVar2 | uVar2 >> 2;
      uVar2 = uVar2 | uVar2 >> 4;
      uVar2 = uVar2 | uVar2 >> 8;
      uVar2 = (uVar2 | uVar2 >> 0x10) + 1;
      *(uint *)(this + 4) = uVar2;
      lVar3 = Memory::realloc_static(*(void **)(this + 8),(ulong)uVar2 * 8,false);
      *(long *)(this + 8) = lVar3;
      if (lVar3 == 0) {
        _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                         "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar1 = (code *)invalidInstructionException();
        (*pcVar1)();
      }
    }
  }
  *(uint *)this = param_1;
  return;
}



/* PagedArray<RenderGeometryInstance*>::_grow_page_array() */

void __thiscall
PagedArray<RenderGeometryInstance*>::_grow_page_array(PagedArray<RenderGeometryInstance*> *this)

{
  uint uVar1;
  undefined8 uVar2;
  ulong uVar3;
  
  if (*(int *)(this + 0x18) == 0) {
    uVar3 = 8;
    uVar1 = 1;
  }
  else {
    uVar1 = *(int *)(this + 0x18) * 2;
    uVar3 = (ulong)uVar1 << 3;
  }
  *(uint *)(this + 0x18) = uVar1;
  uVar2 = Memory::realloc_static(*(void **)(this + 8),uVar3,false);
  *(undefined8 *)(this + 8) = uVar2;
  uVar2 = Memory::realloc_static(*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
  *(undefined8 *)(this + 0x10) = uVar2;
  return;
}



/* PagedArray<RendererSceneCull::Instance*>::_grow_page_array() */

void __thiscall
PagedArray<RendererSceneCull::Instance*>::_grow_page_array
          (PagedArray<RendererSceneCull::Instance*> *this)

{
  uint uVar1;
  undefined8 uVar2;
  ulong uVar3;
  
  if (*(int *)(this + 0x18) == 0) {
    uVar3 = 8;
    uVar1 = 1;
  }
  else {
    uVar1 = *(int *)(this + 0x18) * 2;
    uVar3 = (ulong)uVar1 << 3;
  }
  *(uint *)(this + 0x18) = uVar1;
  uVar2 = Memory::realloc_static(*(void **)(this + 8),uVar3,false);
  *(undefined8 *)(this + 8) = uVar2;
  uVar2 = Memory::realloc_static(*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
  *(undefined8 *)(this + 0x10) = uVar2;
  return;
}



/* PagedArray<RID>::_grow_page_array() */

void __thiscall PagedArray<RID>::_grow_page_array(PagedArray<RID> *this)

{
  uint uVar1;
  undefined8 uVar2;
  ulong uVar3;
  
  if (*(int *)(this + 0x18) == 0) {
    uVar3 = 8;
    uVar1 = 1;
  }
  else {
    uVar1 = *(int *)(this + 0x18) * 2;
    uVar3 = (ulong)uVar1 << 3;
  }
  *(uint *)(this + 0x18) = uVar1;
  uVar2 = Memory::realloc_static(*(void **)(this + 8),uVar3,false);
  *(undefined8 *)(this + 8) = uVar2;
  uVar2 = Memory::realloc_static(*(void **)(this + 0x10),(ulong)*(uint *)(this + 0x18) << 2,false);
  *(undefined8 *)(this + 0x10) = uVar2;
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RID_Alloc<RendererSceneCull::Scenario, true>::initialize_rid(RID) */

void __thiscall
RID_Alloc<RendererSceneCull::Scenario,true>::initialize_rid
          (RID_Alloc<RendererSceneCull::Scenario,true> *this,ulong param_2)

{
  undefined1 (*pauVar1) [16];
  code *pcVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined1 (*pauVar5) [16];
  undefined1 (*pauVar6) [16];
  long lVar7;
  undefined8 uVar8;
  uint uVar9;
  char *pcVar10;
  
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1c))) {
    pauVar1 = (undefined1 (*) [16])
              (*(long *)(*(long *)(this + 8) +
                        ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x18)) * 8) +
              ((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x18)) * 0x248);
    if ((int)*(uint *)pauVar1[0x24] < 0) {
      uVar9 = (uint)(param_2 >> 0x20);
      if (uVar9 == (*(uint *)pauVar1[0x24] & 0x7fffffff)) {
        *(uint *)pauVar1[0x24] = uVar9;
        uVar4 = _UNK_00138d68;
        uVar3 = __LC150;
        uVar8 = _LC174;
        pauVar5 = pauVar1;
        do {
          pauVar5[2][4] = 0;
          pauVar6 = pauVar5 + 8;
          *pauVar5 = (undefined1  [16])0x0;
          *(undefined4 *)pauVar5[2] = 0x1000;
          *(undefined8 *)pauVar5[1] = uVar3;
          *(undefined8 *)(pauVar5[1] + 8) = uVar4;
          *(undefined8 *)(pauVar5[6] + 8) = 0;
          *(undefined8 *)pauVar5[7] = uVar8;
          *(undefined8 *)(pauVar5[7] + 8) = 0;
          pauVar5 = pauVar6;
        } while (pauVar6 != pauVar1 + 0x10);
        *(undefined8 *)pauVar1[0x10] = 0;
        *(undefined ***)(pauVar1[0x1f] + 8) = &PTR__update_idx_00138000;
        uVar8 = _LC175;
        *(undefined8 *)(pauVar1[0x10] + 8) = 0;
        *(undefined8 *)pauVar1[0x17] = 2;
        *(undefined8 *)(pauVar1[0x18] + 8) = 0;
        *(undefined8 *)pauVar1[0x1b] = 0;
        *(undefined4 *)(pauVar1[0x1b] + 8) = 0;
        *(undefined8 *)pauVar1[0x1c] = 0;
        *(undefined8 *)(pauVar1[0x1d] + 8) = 0;
        *(undefined8 *)pauVar1[0x1e] = 0;
        *(undefined4 *)(pauVar1[0x1e] + 8) = 0;
        *(undefined8 *)pauVar1[0x1f] = 0;
        *(undefined8 *)pauVar1[0x20] = 0;
        *(undefined8 *)(pauVar1[0x20] + 8) = 0;
        *(undefined8 *)pauVar1[0x21] = 0;
        *(undefined8 *)(pauVar1[0x21] + 8) = 0;
        *(undefined4 *)pauVar1[0x22] = 0;
        *(undefined8 *)(pauVar1[0x22] + 8) = 0;
        *(undefined8 *)(pauVar1[0x23] + 8) = 0;
        *(undefined8 *)pauVar1[0x23] = uVar8;
        pauVar1[0x11] = (undefined1  [16])0x0;
        pauVar1[0x12] = (undefined1  [16])0x0;
        pauVar1[0x13] = (undefined1  [16])0x0;
        pauVar1[0x15] = (undefined1  [16])0x0;
        pauVar1[0x16] = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(pauVar1[0x17] + 8) = (undefined1  [16])0x0;
        pauVar1[0x19] = (undefined1  [16])0x0;
        pauVar1[0x1a] = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(pauVar1[0x1c] + 8) = (undefined1  [16])0x0;
        lVar7 = Memory::realloc_static((void *)0x0,8,false);
        *(long *)(pauVar1[0x23] + 8) = lVar7;
        if (lVar7 == 0) {
          _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                           "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar2 = (code *)invalidInstructionException();
          (*pcVar2)();
        }
        uVar9 = *(uint *)pauVar1[0x23];
        *(undefined8 *)(lVar7 + (ulong)uVar9 * 8) = 0;
        *(uint *)pauVar1[0x23] = uVar9 + 1;
        *(undefined ***)(pauVar1[0x1f] + 8) = &PTR__update_idx_00138028;
        DynamicBVH::set_index((uint)pauVar1);
        DynamicBVH::set_index((uint)pauVar1 + 0x80);
        *(undefined8 *)pauVar1[0x14] = 0;
        return;
      }
      pcVar10 = "Attempting to initialize the wrong RID";
      uVar8 = 0xfc;
    }
    else {
      pcVar10 = "Initializing already initialized RID";
      uVar8 = 0xf8;
    }
    _err_print_error("get_or_null","./core/templates/rid_owner.h",uVar8,
                     "Method/function failed. Returning: nullptr",pcVar10,0,0);
  }
  _err_print_error("initialize_rid","./core/templates/rid_owner.h",0x114,
                   "Parameter \"mem\" is null.",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* RID_Alloc<RendererSceneCull::Instance, true>::initialize_rid(RID) */

void __thiscall
RID_Alloc<RendererSceneCull::Instance,true>::initialize_rid
          (RID_Alloc<RendererSceneCull::Instance,true> *this,ulong param_2)

{
  uint uVar1;
  undefined8 uVar2;
  undefined4 *puVar3;
  undefined8 uVar4;
  uint uVar5;
  char *pcVar6;
  undefined1 auVar7 [16];
  
  uVar1 = _LC55;
  if ((param_2 != 0) && ((uint)param_2 < *(uint *)(this + 0x1c))) {
    puVar3 = (undefined4 *)
             (((param_2 & 0xffffffff) % (ulong)*(uint *)(this + 0x18)) * 0x308 +
             *(long *)(*(long *)(this + 8) +
                      ((param_2 & 0xffffffff) / (ulong)*(uint *)(this + 0x18)) * 8));
    if ((int)puVar3[0xc0] < 0) {
      uVar5 = (uint)(param_2 >> 0x20);
      if (uVar5 == (puVar3[0xc0] & 0x7fffffff)) {
        auVar7 = ZEXT416(_LC55);
        puVar3[0xc0] = uVar5;
        *(undefined1 (*) [16])(puVar3 + 2) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar3 + 6) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar3 + 0xc) = auVar7;
        *(undefined1 (*) [16])(puVar3 + 0x10) = auVar7;
        *(undefined1 (*) [16])(puVar3 + 0x18) = auVar7;
        *(undefined1 (*) [16])(puVar3 + 0x1c) = auVar7;
        *(undefined1 (*) [16])(puVar3 + 0x24) = auVar7;
        *(undefined1 (*) [16])(puVar3 + 0x28) = auVar7;
        *(undefined8 *)(puVar3 + 10) = 0;
        *(undefined8 *)(puVar3 + 0x15) = 0;
        puVar3[0x17] = 0;
        *(undefined8 *)(puVar3 + 0x21) = 0;
        puVar3[0x23] = 0;
        *(undefined8 *)(puVar3 + 0x2d) = 0;
        puVar3[0x2f] = 0;
        *(undefined8 *)(puVar3 + 0x3c) = 0;
        *(undefined8 *)(puVar3 + 0x3e) = 0;
        *(undefined8 *)(puVar3 + 0x40) = 0;
        *(undefined8 *)(puVar3 + 0x46) = 0;
        *(undefined8 *)(puVar3 + 0x48) = 0;
        puVar3[0x4a] = 0;
        *(undefined8 *)(puVar3 + 0x4b) = 0;
        puVar3[0x4d] = 0;
        *(undefined8 *)(puVar3 + 0x4e) = 0;
        puVar3[0x50] = 0;
        *(undefined8 *)(puVar3 + 0x51) = 0;
        puVar3[0x14] = uVar1;
        puVar3[0x20] = uVar1;
        puVar3[0x2c] = uVar1;
        puVar3[0x53] = 0;
        uVar4 = _LC128;
        *(undefined1 (*) [16])(puVar3 + 0x5e) = (undefined1  [16])0x0;
        *(undefined8 *)(puVar3 + 0x66) = uVar4;
        *(undefined8 *)(puVar3 + 0x7e) = uVar4;
        *(undefined1 (*) [16])(puVar3 + 0x62) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar3 + 0x74) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar3 + 0x78) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar3 + 0x82) = (undefined1  [16])0x0;
        *(undefined8 *)(puVar3 + 0x54) = 0;
        puVar3[0x56] = 0;
        *(undefined8 *)(puVar3 + 0x57) = 0;
        puVar3[0x59] = 0;
        puVar3[0x5a] = 0xffffffff;
        *(undefined8 *)(puVar3 + 0x68) = 0;
        *(undefined8 *)(puVar3 + 0x6a) = 0;
        *(undefined8 *)(puVar3 + 0x6c) = 0xffffffffffffffff;
        puVar3[0x72] = 0;
        *(undefined8 *)(puVar3 + 0x7c) = 0;
        *(undefined8 *)(puVar3 + 0x80) = 0;
        *(undefined8 *)(puVar3 + 0x88) = 0;
        *(undefined8 *)(puVar3 + 0x8a) = 0;
        *(undefined4 **)(puVar3 + 0x86) = puVar3;
        *(undefined8 *)(puVar3 + 0x8e) = 0;
        *(undefined8 *)(puVar3 + 0x92) = 0;
        *(undefined8 *)(puVar3 + 0x94) = 0;
        *(undefined4 **)(puVar3 + 0x90) = puVar3;
        *(undefined8 *)(puVar3 + 0x96) = 0;
        *(undefined8 *)(puVar3 + 0x9a) = 0;
        puVar3[0x9c] = 0;
        *(undefined1 *)(puVar3 + 0x9d) = 1;
        *(undefined8 *)(puVar3 + 0xa0) = 0;
        *(undefined1 (*) [16])(puVar3 + 0x6e) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar3 + 0xa6) = (undefined1  [16])0x0;
        *(undefined8 *)(puVar3 + 0xbe) = uVar4;
        *(byte *)(puVar3 + 0x38) = *(byte *)(puVar3 + 0x38) | 6;
        *(undefined8 *)(puVar3 + 0x36) = 0x100000001;
        *(undefined1 (*) [16])(puVar3 + 0xb6) = (undefined1  [16])0x0;
        *puVar3 = 0;
        *(undefined1 (*) [16])(puVar3 + 0xba) = (undefined1  [16])0x0;
        uVar2 = _UNK_00138d88;
        uVar4 = __LC178;
        *(ushort *)(puVar3 + 0x38) = *(ushort *)(puVar3 + 0x38) & 0xf007 | 0x108;
        *(undefined8 *)(puVar3 + 0xa2) = uVar4;
        *(undefined8 *)(puVar3 + 0xa4) = uVar2;
        *(undefined8 *)(puVar3 + 0xaa) = 0;
        puVar3[0xb4] = 0;
        *(undefined8 *)(puVar3 + 0x34) = 0;
        *(undefined8 *)(puVar3 + 0x39) = 0;
        *(undefined8 *)(puVar3 + 0x42) = 0;
        *(undefined2 *)(puVar3 + 0x31) = 0;
        *(undefined2 *)(puVar3 + 0x8c) = 0;
        puVar3[0x98] = 0;
        *(undefined8 *)(puVar3 + 0xac) = 0;
        *(undefined4 **)(puVar3 + 0xae) = puVar3;
        puVar3[0x30] = uVar1;
        *(code **)(puVar3 + 0xb0) = RendererSceneCull::Instance::dependency_changed;
        *(code **)(puVar3 + 0xb2) = RendererSceneCull::Instance::dependency_deleted;
        return;
      }
      pcVar6 = "Attempting to initialize the wrong RID";
      uVar4 = 0xfc;
    }
    else {
      pcVar6 = "Initializing already initialized RID";
      uVar4 = 0xf8;
    }
    _err_print_error("get_or_null","./core/templates/rid_owner.h",uVar4,
                     "Method/function failed. Returning: nullptr",pcVar6,0,0);
  }
  _err_print_error("initialize_rid","./core/templates/rid_owner.h",0x114,
                   "Parameter \"mem\" is null.",0,0);
  return;
}



/* CowData<ObjectID>::_ref(CowData<ObjectID> const&) */

void __thiscall CowData<ObjectID>::_ref(CowData<ObjectID> *this,CowData *param_1)

{
  long lVar1;
  long lVar2;
  long *plVar3;
  bool bVar4;
  
  lVar1 = *(long *)this;
  lVar2 = *(long *)param_1;
  if (lVar1 == lVar2) {
    return;
  }
  if (lVar1 != 0) {
    LOCK();
    plVar3 = (long *)(lVar1 + -0x10);
    *plVar3 = *plVar3 + -1;
    UNLOCK();
    if (*plVar3 == 0) {
      lVar1 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar1 + -0x10),false);
      lVar2 = *(long *)param_1;
    }
    else {
      *(undefined8 *)this = 0;
      lVar2 = *(long *)param_1;
    }
  }
  if (lVar2 != 0) {
    plVar3 = (long *)(lVar2 + -0x10);
    do {
      lVar1 = *plVar3;
      if (lVar1 == 0) {
        return;
      }
      LOCK();
      lVar2 = *plVar3;
      bVar4 = lVar1 == lVar2;
      if (bVar4) {
        *plVar3 = lVar1 + 1;
        lVar2 = lVar1;
      }
      UNLOCK();
    } while (!bVar4);
    if (lVar2 != -1) {
      *(undefined8 *)this = *(undefined8 *)param_1;
    }
  }
  return;
}



/* PagedArrayPool<RendererSceneCull::Instance*>::alloc_page() */

undefined8 __thiscall
PagedArrayPool<RendererSceneCull::Instance*>::alloc_page
          (PagedArrayPool<RendererSceneCull::Instance*> *this)

{
  PagedArrayPool<RendererSceneCull::Instance*> *pPVar1;
  PagedArrayPool<RendererSceneCull::Instance*> PVar2;
  long lVar3;
  long lVar4;
  uint uVar5;
  undefined8 uVar6;
  uint *puVar7;
  long in_FS_OFFSET;
  
  pPVar1 = this + 0x20;
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  while( true ) {
    LOCK();
    PVar2 = *pPVar1;
    if (PVar2 == (PagedArrayPool<RendererSceneCull::Instance*>)0x0) {
      *pPVar1 = (PagedArrayPool<RendererSceneCull::Instance*>)0x1;
    }
    UNLOCK();
    if (PVar2 == (PagedArrayPool<RendererSceneCull::Instance*>)0x0) break;
    do {
    } while (*pPVar1 != (PagedArrayPool<RendererSceneCull::Instance*>)0x0);
  }
  if (*(int *)(this + 0x18) == 0) {
    uVar5 = *(uint *)(this + 8);
    *(uint *)(this + 8) = uVar5 + 1;
    uVar6 = Memory::realloc_static(*(void **)this,(ulong)(uVar5 + 1) * 8,false);
    *(undefined8 *)this = uVar6;
    uVar6 = Memory::realloc_static(*(void **)(this + 0x10),(ulong)*(uint *)(this + 8) << 2,false);
    *(undefined8 *)(this + 0x10) = uVar6;
    lVar4 = *(long *)this;
    uVar6 = Memory::alloc_static((ulong)*(uint *)(this + 0x1c) << 3,false);
    puVar7 = *(uint **)(this + 0x10);
    *(undefined8 *)(lVar4 + (ulong)uVar5 * 8) = uVar6;
    *puVar7 = uVar5;
    uVar5 = *(uint *)(this + 0x18);
  }
  else {
    puVar7 = *(uint **)(this + 0x10);
    uVar5 = *(int *)(this + 0x18) - 1;
  }
  *(uint *)(this + 0x18) = uVar5;
  uVar6 = *(undefined8 *)(*(long *)this + (ulong)puVar7[uVar5] * 8);
  this[0x20] = (PagedArrayPool<RendererSceneCull::Instance*>)0x0;
  if (lVar3 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar6;
}



/* PagedArrayPool<RenderGeometryInstance*>::alloc_page() */

undefined8 __thiscall
PagedArrayPool<RenderGeometryInstance*>::alloc_page(PagedArrayPool<RenderGeometryInstance*> *this)

{
  PagedArrayPool<RenderGeometryInstance*> *pPVar1;
  PagedArrayPool<RenderGeometryInstance*> PVar2;
  long lVar3;
  long lVar4;
  uint uVar5;
  undefined8 uVar6;
  uint *puVar7;
  long in_FS_OFFSET;
  
  pPVar1 = this + 0x20;
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  while( true ) {
    LOCK();
    PVar2 = *pPVar1;
    if (PVar2 == (PagedArrayPool<RenderGeometryInstance*>)0x0) {
      *pPVar1 = (PagedArrayPool<RenderGeometryInstance*>)0x1;
    }
    UNLOCK();
    if (PVar2 == (PagedArrayPool<RenderGeometryInstance*>)0x0) break;
    do {
    } while (*pPVar1 != (PagedArrayPool<RenderGeometryInstance*>)0x0);
  }
  if (*(int *)(this + 0x18) == 0) {
    uVar5 = *(uint *)(this + 8);
    *(uint *)(this + 8) = uVar5 + 1;
    uVar6 = Memory::realloc_static(*(void **)this,(ulong)(uVar5 + 1) * 8,false);
    *(undefined8 *)this = uVar6;
    uVar6 = Memory::realloc_static(*(void **)(this + 0x10),(ulong)*(uint *)(this + 8) << 2,false);
    *(undefined8 *)(this + 0x10) = uVar6;
    lVar4 = *(long *)this;
    uVar6 = Memory::alloc_static((ulong)*(uint *)(this + 0x1c) << 3,false);
    puVar7 = *(uint **)(this + 0x10);
    *(undefined8 *)(lVar4 + (ulong)uVar5 * 8) = uVar6;
    *puVar7 = uVar5;
    uVar5 = *(uint *)(this + 0x18);
  }
  else {
    puVar7 = *(uint **)(this + 0x10);
    uVar5 = *(int *)(this + 0x18) - 1;
  }
  *(uint *)(this + 0x18) = uVar5;
  uVar6 = *(undefined8 *)(*(long *)this + (ulong)puVar7[uVar5] * 8);
  this[0x20] = (PagedArrayPool<RenderGeometryInstance*>)0x0;
  if (lVar3 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar6;
}



/* CowData<Plane>::_realloc(long) */

undefined8 __thiscall CowData<Plane>::_realloc(CowData<Plane> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<RendererSceneCull::PlaneSign>::resize<false>(long) */

undefined8 __thiscall
CowData<RendererSceneCull::PlaneSign>::resize<false>
          (CowData<RendererSceneCull::PlaneSign> *this,long param_1)

{
  long *plVar1;
  code *pcVar2;
  long lVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  long lVar7;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  lVar3 = *(long *)this;
  if (lVar3 == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar7 = 0;
    lVar3 = 0;
  }
  else {
    lVar7 = *(long *)(lVar3 + -8);
    if (param_1 == lVar7) {
      return 0;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar3 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return 0;
      }
      lVar3 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
      return 0;
    }
    _copy_on_write(this);
    lVar3 = lVar7 * 0xc;
    if (lVar3 != 0) {
      uVar4 = lVar3 - 1U | lVar3 - 1U >> 1;
      uVar4 = uVar4 | uVar4 >> 2;
      uVar4 = uVar4 | uVar4 >> 4;
      uVar4 = uVar4 | uVar4 >> 8;
      uVar4 = uVar4 | uVar4 >> 0x10;
      lVar3 = (uVar4 | uVar4 >> 0x20) + 1;
    }
  }
  if (param_1 * 0xc != 0) {
    uVar4 = param_1 * 0xc - 1;
    uVar4 = uVar4 >> 1 | uVar4;
    uVar4 = uVar4 | uVar4 >> 2;
    uVar4 = uVar4 | uVar4 >> 4;
    uVar4 = uVar4 | uVar4 >> 8;
    uVar4 = uVar4 | uVar4 >> 0x10;
    uVar4 = uVar4 | uVar4 >> 0x20;
    if (uVar4 != 0xffffffffffffffff) {
      if (lVar7 < param_1) {
        if (uVar4 + 1 == lVar3) {
          puVar5 = *(undefined8 **)this;
          if (puVar5 == (undefined8 *)0x0) goto LAB_001350d1;
        }
        else {
          if (lVar7 == 0) {
            puVar5 = (undefined8 *)Memory::alloc_static(uVar4 + 0x11,false);
            if (puVar5 == (undefined8 *)0x0) {
              _err_print_error("resize","./core/templates/cowdata.h",0x171,
                               "Parameter \"mem_new\" is null.",0,0);
              return 6;
            }
            *puVar5 = 1;
            puVar5[1] = 0;
          }
          else {
            puVar5 = (undefined8 *)
                     Memory::realloc_static((void *)(*(long *)this + -0x10),uVar4 + 0x11,false);
            if (puVar5 == (undefined8 *)0x0) goto LAB_001351b0;
            *puVar5 = 1;
          }
          puVar5 = puVar5 + 2;
          *(undefined8 **)this = puVar5;
        }
        puVar5[-1] = param_1;
      }
      else {
        puVar5 = *(undefined8 **)this;
        if (uVar4 + 1 == lVar3) {
          if (puVar5 == (undefined8 *)0x0) {
LAB_001350d1:
            _DAT_00000000 = 0;
                    /* WARNING: Does not return */
            pcVar2 = (code *)invalidInstructionException();
            (*pcVar2)();
          }
        }
        else {
          puVar6 = (undefined8 *)Memory::realloc_static(puVar5 + -2,uVar4 + 0x11,false);
          if (puVar6 == (undefined8 *)0x0) {
LAB_001351b0:
            _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,
                             "Parameter \"mem_new\" is null.",0,0);
            return 6;
          }
          puVar5 = puVar6 + 2;
          *puVar6 = 1;
          *(undefined8 **)this = puVar5;
        }
        puVar5[-1] = param_1;
      }
      return 0;
    }
  }
  _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                   "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                   ,0,0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<ObjectID>::resize<false>(long) */

undefined8 __thiscall CowData<ObjectID>::resize<false>(CowData<ObjectID> *this,long param_1)

{
  long *plVar1;
  code *pcVar2;
  long lVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  long lVar7;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  lVar3 = *(long *)this;
  if (lVar3 == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar7 = 0;
    lVar3 = 0;
  }
  else {
    lVar7 = *(long *)(lVar3 + -8);
    if (param_1 == lVar7) {
      return 0;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar3 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return 0;
      }
      lVar3 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
      return 0;
    }
    _copy_on_write(this);
    lVar3 = lVar7 * 8;
    if (lVar3 != 0) {
      uVar4 = lVar3 - 1U | lVar3 - 1U >> 1;
      uVar4 = uVar4 | uVar4 >> 2;
      uVar4 = uVar4 | uVar4 >> 4;
      uVar4 = uVar4 | uVar4 >> 8;
      uVar4 = uVar4 | uVar4 >> 0x10;
      lVar3 = (uVar4 | uVar4 >> 0x20) + 1;
    }
  }
  if (param_1 * 8 == 0) {
LAB_00135488:
    _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                     "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                     ,0,0);
    return 6;
  }
  uVar4 = param_1 * 8 - 1;
  uVar4 = uVar4 >> 1 | uVar4;
  uVar4 = uVar4 | uVar4 >> 2;
  uVar4 = uVar4 | uVar4 >> 4;
  uVar4 = uVar4 | uVar4 >> 8;
  uVar4 = uVar4 | uVar4 >> 0x10;
  uVar4 = uVar4 | uVar4 >> 0x20;
  if (uVar4 == 0xffffffffffffffff) goto LAB_00135488;
  if (param_1 <= lVar7) {
    puVar6 = *(undefined8 **)this;
    if (uVar4 + 1 == lVar3) {
      if (puVar6 == (undefined8 *)0x0) {
        _DAT_00000000 = 0;
                    /* WARNING: Does not return */
        pcVar2 = (code *)invalidInstructionException();
        (*pcVar2)();
      }
    }
    else {
      puVar5 = (undefined8 *)Memory::realloc_static(puVar6 + -2,uVar4 + 0x11,false);
      if (puVar5 == (undefined8 *)0x0) {
LAB_001354c0:
        _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,
                         "Parameter \"mem_new\" is null.",0,0);
        return 6;
      }
      puVar6 = puVar5 + 2;
      *puVar5 = 1;
      *(undefined8 **)this = puVar6;
    }
    puVar6[-1] = param_1;
    return 0;
  }
  if (uVar4 + 1 == lVar3) {
    puVar6 = *(undefined8 **)this;
    if (puVar6 == (undefined8 *)0x0) {
                    /* WARNING: Does not return */
      pcVar2 = (code *)invalidInstructionException();
      (*pcVar2)();
    }
    lVar3 = puVar6[-1];
LAB_001353c9:
    if (param_1 <= lVar3) goto LAB_00135341;
  }
  else {
    if (lVar7 != 0) {
      puVar5 = (undefined8 *)
               Memory::realloc_static((void *)(*(long *)this + -0x10),uVar4 + 0x11,false);
      if (puVar5 == (undefined8 *)0x0) goto LAB_001354c0;
      puVar6 = puVar5 + 2;
      *puVar5 = 1;
      *(undefined8 **)this = puVar6;
      lVar3 = puVar5[1];
      goto LAB_001353c9;
    }
    puVar5 = (undefined8 *)Memory::alloc_static(uVar4 + 0x11,false);
    if (puVar5 == (undefined8 *)0x0) {
      _err_print_error("resize","./core/templates/cowdata.h",0x171,"Parameter \"mem_new\" is null.",
                       0,0);
      return 6;
    }
    puVar6 = puVar5 + 2;
    *puVar5 = 1;
    puVar5[1] = 0;
    *(undefined8 **)this = puVar6;
    lVar3 = 0;
  }
  memset(puVar6 + lVar3,0,(param_1 - lVar3) * 8);
LAB_00135341:
  puVar6[-1] = param_1;
  return 0;
}



/* CowData<Color>::_realloc(long) */

undefined8 __thiscall CowData<Color>::_realloc(CowData<Color> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<RendererSceneCull::Instance*>::resize<false>(long) */

undefined8 __thiscall
CowData<RendererSceneCull::Instance*>::resize<false>
          (CowData<RendererSceneCull::Instance*> *this,long param_1)

{
  long *plVar1;
  code *pcVar2;
  long lVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  long lVar7;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  lVar3 = *(long *)this;
  if (lVar3 == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar7 = 0;
    lVar3 = 0;
  }
  else {
    lVar7 = *(long *)(lVar3 + -8);
    if (param_1 == lVar7) {
      return 0;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar3 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return 0;
      }
      lVar3 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
      return 0;
    }
    _copy_on_write(this);
    lVar3 = lVar7 * 8;
    if (lVar3 != 0) {
      uVar4 = lVar3 - 1U | lVar3 - 1U >> 1;
      uVar4 = uVar4 | uVar4 >> 2;
      uVar4 = uVar4 | uVar4 >> 4;
      uVar4 = uVar4 | uVar4 >> 8;
      uVar4 = uVar4 | uVar4 >> 0x10;
      lVar3 = (uVar4 | uVar4 >> 0x20) + 1;
    }
  }
  if (param_1 * 8 != 0) {
    uVar4 = param_1 * 8 - 1;
    uVar4 = uVar4 | uVar4 >> 1;
    uVar4 = uVar4 | uVar4 >> 2;
    uVar4 = uVar4 | uVar4 >> 4;
    uVar4 = uVar4 | uVar4 >> 8;
    uVar4 = uVar4 | uVar4 >> 0x10;
    uVar4 = uVar4 | uVar4 >> 0x20;
    if (uVar4 != 0xffffffffffffffff) {
      if (lVar7 < param_1) {
        if (uVar4 + 1 == lVar3) {
          puVar5 = *(undefined8 **)this;
          if (puVar5 == (undefined8 *)0x0) goto LAB_00135739;
        }
        else {
          if (lVar7 == 0) {
            puVar5 = (undefined8 *)Memory::alloc_static(uVar4 + 0x11,false);
            if (puVar5 == (undefined8 *)0x0) {
              _err_print_error("resize","./core/templates/cowdata.h",0x171,
                               "Parameter \"mem_new\" is null.",0,0);
              return 6;
            }
            *puVar5 = 1;
            puVar5[1] = 0;
          }
          else {
            puVar5 = (undefined8 *)
                     Memory::realloc_static((void *)(*(long *)this + -0x10),uVar4 + 0x11,false);
            if (puVar5 == (undefined8 *)0x0) goto LAB_00135820;
            *puVar5 = 1;
          }
          puVar5 = puVar5 + 2;
          *(undefined8 **)this = puVar5;
        }
        puVar5[-1] = param_1;
      }
      else {
        puVar5 = *(undefined8 **)this;
        if (uVar4 + 1 == lVar3) {
          if (puVar5 == (undefined8 *)0x0) {
LAB_00135739:
            _DAT_00000000 = 0;
                    /* WARNING: Does not return */
            pcVar2 = (code *)invalidInstructionException();
            (*pcVar2)();
          }
        }
        else {
          puVar6 = (undefined8 *)Memory::realloc_static(puVar5 + -2,uVar4 + 0x11,false);
          if (puVar6 == (undefined8 *)0x0) {
LAB_00135820:
            _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,
                             "Parameter \"mem_new\" is null.",0,0);
            return 6;
          }
          puVar5 = puVar6 + 2;
          *puVar6 = 1;
          *(undefined8 **)this = puVar5;
        }
        puVar5[-1] = param_1;
      }
      return 0;
    }
  }
  _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                   "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                   ,0,0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::resize<false>(long) */

undefined8 __thiscall
CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*>::resize<false>
          (CowData<SelfList<RendererSceneCull::InstanceReflectionProbeData>*> *this,long param_1)

{
  long *plVar1;
  code *pcVar2;
  long lVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  long lVar7;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  lVar3 = *(long *)this;
  if (lVar3 == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar7 = 0;
    lVar3 = 0;
  }
  else {
    lVar7 = *(long *)(lVar3 + -8);
    if (param_1 == lVar7) {
      return 0;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar3 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return 0;
      }
      lVar3 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
      return 0;
    }
    _copy_on_write(this);
    lVar3 = lVar7 * 8;
    if (lVar3 != 0) {
      uVar4 = lVar3 - 1U | lVar3 - 1U >> 1;
      uVar4 = uVar4 | uVar4 >> 2;
      uVar4 = uVar4 | uVar4 >> 4;
      uVar4 = uVar4 | uVar4 >> 8;
      uVar4 = uVar4 | uVar4 >> 0x10;
      lVar3 = (uVar4 | uVar4 >> 0x20) + 1;
    }
  }
  if (param_1 * 8 != 0) {
    uVar4 = param_1 * 8 - 1;
    uVar4 = uVar4 | uVar4 >> 1;
    uVar4 = uVar4 | uVar4 >> 2;
    uVar4 = uVar4 | uVar4 >> 4;
    uVar4 = uVar4 | uVar4 >> 8;
    uVar4 = uVar4 | uVar4 >> 0x10;
    uVar4 = uVar4 | uVar4 >> 0x20;
    if (uVar4 != 0xffffffffffffffff) {
      if (lVar7 < param_1) {
        if (uVar4 + 1 == lVar3) {
          puVar5 = *(undefined8 **)this;
          if (puVar5 == (undefined8 *)0x0) goto LAB_00135a09;
        }
        else {
          if (lVar7 == 0) {
            puVar5 = (undefined8 *)Memory::alloc_static(uVar4 + 0x11,false);
            if (puVar5 == (undefined8 *)0x0) {
              _err_print_error("resize","./core/templates/cowdata.h",0x171,
                               "Parameter \"mem_new\" is null.",0,0);
              return 6;
            }
            *puVar5 = 1;
            puVar5[1] = 0;
          }
          else {
            puVar5 = (undefined8 *)
                     Memory::realloc_static((void *)(*(long *)this + -0x10),uVar4 + 0x11,false);
            if (puVar5 == (undefined8 *)0x0) goto LAB_00135af0;
            *puVar5 = 1;
          }
          puVar5 = puVar5 + 2;
          *(undefined8 **)this = puVar5;
        }
        puVar5[-1] = param_1;
      }
      else {
        puVar5 = *(undefined8 **)this;
        if (uVar4 + 1 == lVar3) {
          if (puVar5 == (undefined8 *)0x0) {
LAB_00135a09:
            _DAT_00000000 = 0;
                    /* WARNING: Does not return */
            pcVar2 = (code *)invalidInstructionException();
            (*pcVar2)();
          }
        }
        else {
          puVar6 = (undefined8 *)Memory::realloc_static(puVar5 + -2,uVar4 + 0x11,false);
          if (puVar6 == (undefined8 *)0x0) {
LAB_00135af0:
            _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,
                             "Parameter \"mem_new\" is null.",0,0);
            return 6;
          }
          puVar5 = puVar6 + 2;
          *puVar6 = 1;
          *(undefined8 **)this = puVar5;
        }
        puVar5[-1] = param_1;
      }
      return 0;
    }
  }
  _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                   "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                   ,0,0);
  return 6;
}



/* CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_realloc(long) */

undefined8 __thiscall
CowData<RendererSceneCull::InstanceVoxelGIData::LightCache>::_realloc
          (CowData<RendererSceneCull::InstanceVoxelGIData::LightCache> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* void memdelete<HashMapElement<StringName, InstanceUniforms::Item> >(HashMapElement<StringName,
   InstanceUniforms::Item>*) */

void memdelete<HashMapElement<StringName,InstanceUniforms::Item>>(HashMapElement *param_1)

{
  long *plVar1;
  long lVar2;
  
  if (*(long *)(param_1 + 0x70) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(param_1 + 0x70) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(param_1 + 0x70);
      *(undefined8 *)(param_1 + 0x70) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if ((StringName::configured != '\0') && (*(long *)(param_1 + 0x60) != 0)) {
    StringName::unref();
  }
  if (*(long *)(param_1 + 0x58) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(param_1 + 0x58) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(param_1 + 0x58);
      *(undefined8 *)(param_1 + 0x58) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if (Variant::needs_deinit[*(int *)(param_1 + 0x38)] != '\0') {
    Variant::_clear_internal();
  }
  if (Variant::needs_deinit[*(int *)(param_1 + 0x20)] != '\0') {
    Variant::_clear_internal();
  }
  if ((StringName::configured != '\0') && (*(long *)(param_1 + 0x10) != 0)) {
    StringName::unref();
  }
  Memory::free_static(param_1,false);
  return;
}



/* RendererSceneCull::Instance::~Instance() */

void __thiscall RendererSceneCull::Instance::~Instance(Instance *this)

{
  long *plVar1;
  int iVar2;
  uint uVar3;
  undefined8 *puVar4;
  void *pvVar5;
  long lVar6;
  long lVar7;
  long in_FS_OFFSET;
  Instance *local_48;
  long local_40;
  
  puVar4 = *(undefined8 **)(this + 0x298);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (puVar4 != (undefined8 *)0x0) {
    (**(code **)*puVar4)(puVar4);
    Memory::free_static(puVar4,false);
  }
  if (*(void **)(this + 600) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 600),false);
  }
  iVar2 = *(int *)(this + 0x2fc);
  if (iVar2 == 0) {
    pvVar5 = *(void **)(this + 0x2d8);
    if (pvVar5 != (void *)0x0) goto LAB_00135d96;
  }
  else {
    lVar6 = *(long *)(this + 0x2d8);
    for (lVar7 = 0; local_48 = this + 0x2b8,
        HashMap<DependencyTracker*,unsigned_int,HashMapHasherDefault,HashMapComparatorDefault<DependencyTracker*>,DefaultTypedAllocator<HashMapElement<DependencyTracker*,unsigned_int>>>
        ::erase(*(HashMap<DependencyTracker*,unsigned_int,HashMapHasherDefault,HashMapComparatorDefault<DependencyTracker*>,DefaultTypedAllocator<HashMapElement<DependencyTracker*,unsigned_int>>>
                  **)(lVar6 + lVar7 * 8),(DependencyTracker **)&local_48), (int)lVar7 + 1 < iVar2;
        lVar7 = lVar7 + 1) {
    }
    pvVar5 = *(void **)(this + 0x2d8);
    if (pvVar5 != (void *)0x0) {
      if (*(int *)(this + 0x2fc) != 0) {
        if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x2f8) * 4) != 0) {
          memset(*(void **)(this + 0x2f0),0,
                 (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x2f8) * 4) * 4);
        }
        *(undefined4 *)(this + 0x2fc) = 0;
      }
LAB_00135d96:
      Memory::free_static(pvVar5,false);
      Memory::free_static(*(void **)(this + 0x2e8),false);
      Memory::free_static(*(void **)(this + 0x2e0),false);
      Memory::free_static(*(void **)(this + 0x2f0),false);
    }
  }
  if (*(long *)(this + 0x280) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0x280) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar6 = *(long *)(this + 0x280);
      *(undefined8 *)(this + 0x280) = 0;
      Memory::free_static((void *)(lVar6 + -0x10),false);
    }
  }
  plVar1 = *(long **)(this + 0x238);
  if (plVar1 != (long *)0x0) {
    lVar6 = *(long *)(this + 0x248);
    if (lVar6 != 0) {
      *(undefined8 *)(lVar6 + 0x18) = *(undefined8 *)(this + 0x250);
    }
    lVar7 = *(long *)(this + 0x250);
    if (lVar7 != 0) {
      *(long *)(lVar7 + 0x10) = lVar6;
    }
    if (this + 0x238 == (Instance *)*plVar1) {
      *plVar1 = *(long *)(this + 0x248);
    }
    if (this + 0x238 == (Instance *)plVar1[1]) {
      plVar1[1] = lVar7;
    }
  }
  plVar1 = *(long **)(this + 0x210);
  if (plVar1 != (long *)0x0) {
    lVar6 = *(long *)(this + 0x220);
    if (lVar6 != 0) {
      *(undefined8 *)(lVar6 + 0x18) = *(undefined8 *)(this + 0x228);
    }
    lVar7 = *(long *)(this + 0x228);
    if (lVar7 != 0) {
      *(long *)(lVar7 + 0x10) = lVar6;
    }
    if (this + 0x210 == (Instance *)*plVar1) {
      *plVar1 = *(long *)(this + 0x220);
    }
    if (this + 0x210 == (Instance *)plVar1[1]) {
      plVar1[1] = lVar7;
    }
  }
  pvVar5 = *(void **)(this + 0x1d8);
  if (pvVar5 != (void *)0x0) {
    if (*(int *)(this + 0x1fc) != 0) {
      if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x1f8) * 4) != 0) {
        memset(*(void **)(this + 0x1f0),0,
               (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x1f8) * 4) * 4);
      }
      *(undefined4 *)(this + 0x1fc) = 0;
    }
    Memory::free_static(pvVar5,false);
    Memory::free_static(*(void **)(this + 0x1e8),false);
    Memory::free_static(*(void **)(this + 0x1e0),false);
    Memory::free_static(*(void **)(this + 0x1f0),false);
  }
  pvVar5 = *(void **)(this + 0x178);
  if (pvVar5 != (void *)0x0) {
    if (*(int *)(this + 0x19c) != 0) {
      uVar3 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x198) * 4);
      if (uVar3 == 0) {
        *(undefined4 *)(this + 0x19c) = 0;
        *(undefined1 (*) [16])(this + 0x188) = (undefined1  [16])0x0;
      }
      else {
        lVar6 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x180) + lVar6) != 0) {
            *(int *)(*(long *)(this + 0x180) + lVar6) = 0;
            memdelete<HashMapElement<StringName,InstanceUniforms::Item>>
                      (*(HashMapElement **)((long)pvVar5 + lVar6 * 2));
            pvVar5 = *(void **)(this + 0x178);
            *(undefined8 *)((long)pvVar5 + lVar6 * 2) = 0;
          }
          lVar6 = lVar6 + 4;
        } while (lVar6 != (ulong)uVar3 << 2);
        *(undefined4 *)(this + 0x19c) = 0;
        *(undefined1 (*) [16])(this + 0x188) = (undefined1  [16])0x0;
        if (pvVar5 == (void *)0x0) goto LAB_00135f91;
      }
    }
    Memory::free_static(pvVar5,false);
    Memory::free_static(*(void **)(this + 0x180),false);
  }
LAB_00135f91:
  if (*(long *)(this + 0x118) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0x118) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar6 = *(long *)(this + 0x118);
      *(undefined8 *)(this + 0x118) = 0;
      Memory::free_static((void *)(lVar6 + -0x10),false);
    }
  }
  if (*(long *)(this + 0xd0) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0xd0) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar6 = *(long *)(this + 0xd0);
      *(undefined8 *)(this + 0xd0) = 0;
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        Memory::free_static((void *)(lVar6 + -0x10),false);
        return;
      }
      goto LAB_0013611f;
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0013611f:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RID_Alloc<RendererSceneCull::Instance, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Instance,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Instance,true> *this)

{
  long *plVar1;
  long lVar2;
  char *pcVar3;
  ulong uVar4;
  undefined8 *puVar5;
  ulong uVar6;
  long lVar7;
  Instance *this_00;
  uint uVar8;
  long in_FS_OFFSET;
  long local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR__RID_Alloc_00138190;
  uVar8 = *(uint *)(this + 0x20);
  if (uVar8 == 0) {
    uVar4 = (ulong)*(uint *)(this + 0x1c);
    uVar8 = *(uint *)(this + 0x18);
    puVar5 = *(undefined8 **)(this + 8);
LAB_0013625b:
    if ((uint)uVar4 < uVar8) goto LAB_0013629b;
    lVar7 = 0;
    while( true ) {
      Memory::free_static((void *)puVar5[lVar7],false);
      lVar2 = lVar7 * 8;
      lVar7 = lVar7 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x10) + lVar2),false);
      if ((uint)(uVar4 / uVar8) <= (uint)lVar7) break;
      puVar5 = *(undefined8 **)(this + 8);
    }
  }
  else {
    local_50 = 0;
    local_40 = 0x3b;
    local_48 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_50);
    vformat<unsigned_int,char_const*>
              ((String *)&local_48,(uint)(StrRange *)&local_50,(char *)(ulong)uVar8);
    print_error((String *)&local_48);
    pcVar3 = local_48;
    if (local_48 != (char *)0x0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = (char *)0x0;
        Memory::free_static(pcVar3 + -0x10,false);
      }
    }
    lVar7 = local_50;
    if (local_50 != 0) {
      LOCK();
      plVar1 = (long *)(local_50 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar7 + -0x10),false);
      }
    }
    uVar8 = *(uint *)(this + 0x18);
    puVar5 = *(undefined8 **)(this + 8);
    if (*(int *)(this + 0x1c) != 0) {
      uVar6 = 0;
      do {
        this_00 = (Instance *)((uVar6 % (ulong)uVar8) * 0x308 + puVar5[uVar6 / uVar8]);
        if (-1 < *(int *)(this_00 + 0x300)) {
          RendererSceneCull::Instance::~Instance(this_00);
          uVar8 = *(uint *)(this + 0x18);
          puVar5 = *(undefined8 **)(this + 8);
        }
        uVar4 = (ulong)*(uint *)(this + 0x1c);
        uVar6 = uVar6 + 1;
      } while (uVar6 < uVar4);
      goto LAB_0013625b;
    }
    if (uVar8 != 0) goto LAB_0013629b;
    Memory::free_static((void *)*puVar5,false);
    Memory::free_static((void *)**(undefined8 **)(this + 0x10),false);
  }
  puVar5 = *(undefined8 **)(this + 8);
LAB_0013629b:
  if (puVar5 == (undefined8 *)0x0) {
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else {
    Memory::free_static(puVar5,false);
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      Memory::free_static(*(void **)(this + 0x10),false);
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RID_Alloc<RendererSceneCull::Instance, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Instance,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Instance,true> *this)

{
  long *plVar1;
  long lVar2;
  char *pcVar3;
  ulong uVar4;
  undefined8 *puVar5;
  ulong uVar6;
  long lVar7;
  Instance *this_00;
  uint uVar8;
  long in_FS_OFFSET;
  long local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined ***)this = &PTR__RID_Alloc_00138190;
  uVar8 = *(uint *)(this + 0x20);
  if (uVar8 == 0) {
    uVar4 = (ulong)*(uint *)(this + 0x1c);
    uVar8 = *(uint *)(this + 0x18);
    puVar5 = *(undefined8 **)(this + 8);
LAB_0013649b:
    if ((uint)uVar4 < uVar8) goto LAB_001364db;
    lVar7 = 0;
    while( true ) {
      Memory::free_static((void *)puVar5[lVar7],false);
      lVar2 = lVar7 * 8;
      lVar7 = lVar7 + 1;
      Memory::free_static(*(void **)(*(long *)(this + 0x10) + lVar2),false);
      if ((uint)(uVar4 / uVar8) <= (uint)lVar7) break;
      puVar5 = *(undefined8 **)(this + 8);
    }
  }
  else {
    local_50 = 0;
    local_40 = 0x3b;
    local_48 = "ERROR: %d RID allocations of type \'%s\' were leaked at exit.";
    String::parse_latin1((StrRange *)&local_50);
    vformat<unsigned_int,char_const*>
              ((String *)&local_48,(uint)(StrRange *)&local_50,(char *)(ulong)uVar8);
    print_error((String *)&local_48);
    pcVar3 = local_48;
    if (local_48 != (char *)0x0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = (char *)0x0;
        Memory::free_static(pcVar3 + -0x10,false);
      }
    }
    lVar7 = local_50;
    if (local_50 != 0) {
      LOCK();
      plVar1 = (long *)(local_50 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar7 + -0x10),false);
      }
    }
    uVar8 = *(uint *)(this + 0x18);
    puVar5 = *(undefined8 **)(this + 8);
    if (*(int *)(this + 0x1c) != 0) {
      uVar6 = 0;
      do {
        this_00 = (Instance *)((uVar6 % (ulong)uVar8) * 0x308 + puVar5[uVar6 / uVar8]);
        if (-1 < *(int *)(this_00 + 0x300)) {
          RendererSceneCull::Instance::~Instance(this_00);
          uVar8 = *(uint *)(this + 0x18);
          puVar5 = *(undefined8 **)(this + 8);
        }
        uVar4 = (ulong)*(uint *)(this + 0x1c);
        uVar6 = uVar6 + 1;
      } while (uVar6 < uVar4);
      goto LAB_0013649b;
    }
    if (uVar8 != 0) goto LAB_001364db;
    Memory::free_static((void *)*puVar5,false);
    Memory::free_static((void *)**(undefined8 **)(this + 0x10),false);
  }
  puVar5 = *(undefined8 **)(this + 8);
LAB_001364db:
  if (puVar5 != (undefined8 *)0x0) {
    Memory::free_static(puVar5,false);
    Memory::free_static(*(void **)(this + 0x10),false);
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    operator_delete(this,0x58);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x001366a8) */
/* WARNING: Removing unreachable block (ram,0x001367d8) */
/* WARNING: Removing unreachable block (ram,0x001369a0) */
/* WARNING: Removing unreachable block (ram,0x001367e4) */
/* WARNING: Removing unreachable block (ram,0x001367ee) */
/* WARNING: Removing unreachable block (ram,0x00136980) */
/* WARNING: Removing unreachable block (ram,0x001367fa) */
/* WARNING: Removing unreachable block (ram,0x00136804) */
/* WARNING: Removing unreachable block (ram,0x00136960) */
/* WARNING: Removing unreachable block (ram,0x00136810) */
/* WARNING: Removing unreachable block (ram,0x0013681a) */
/* WARNING: Removing unreachable block (ram,0x00136940) */
/* WARNING: Removing unreachable block (ram,0x00136826) */
/* WARNING: Removing unreachable block (ram,0x00136830) */
/* WARNING: Removing unreachable block (ram,0x00136920) */
/* WARNING: Removing unreachable block (ram,0x0013683c) */
/* WARNING: Removing unreachable block (ram,0x00136846) */
/* WARNING: Removing unreachable block (ram,0x00136900) */
/* WARNING: Removing unreachable block (ram,0x00136852) */
/* WARNING: Removing unreachable block (ram,0x0013685c) */
/* WARNING: Removing unreachable block (ram,0x001368e0) */
/* WARNING: Removing unreachable block (ram,0x00136864) */
/* WARNING: Removing unreachable block (ram,0x0013687a) */
/* WARNING: Removing unreachable block (ram,0x00136886) */
/* String vformat<String>(String const&, String const) */

undefined8 * vformat<String>(undefined8 *param_1,bool *param_2,String *param_3)

{
  char cVar1;
  Variant *this;
  int iVar2;
  long in_FS_OFFSET;
  Array local_c8 [8];
  undefined8 local_c0 [9];
  int local_78 [6];
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant((Variant *)local_78,param_3);
  local_60 = 0;
  local_58 = (undefined1  [16])0x0;
  Array::Array(local_c8);
  iVar2 = (int)local_c8;
  Array::resize(iVar2);
  this = (Variant *)Array::operator[](iVar2);
  Variant::operator=(this,(Variant *)local_78);
  String::sprintf((Array *)local_c0,param_2);
  *param_1 = local_c0[0];
  Array::~Array(local_c8);
  if (Variant::needs_deinit[(int)local_60] == '\0') {
    cVar1 = Variant::needs_deinit[local_78[0]];
  }
  else {
    Variant::_clear_internal();
    cVar1 = Variant::needs_deinit[local_78[0]];
  }
  if (cVar1 != '\0') {
    Variant::_clear_internal();
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* RID_Alloc<RendererSceneCull::Camera, true>::allocate_rid() */

ulong __thiscall
RID_Alloc<RendererSceneCull::Camera,true>::allocate_rid
          (RID_Alloc<RendererSceneCull::Camera,true> *this)

{
  pthread_mutex_t *__mutex;
  long *plVar1;
  uint uVar2;
  long lVar3;
  char *pcVar4;
  code *pcVar5;
  int iVar6;
  uint uVar7;
  undefined8 uVar8;
  long lVar9;
  uint uVar10;
  uint uVar11;
  undefined4 *puVar12;
  ulong uVar13;
  long in_FS_OFFSET;
  long local_58;
  long local_50;
  char *local_48;
  size_t local_40;
  long local_30;
  
  __mutex = (pthread_mutex_t *)(this + 0x30);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  iVar6 = pthread_mutex_lock(__mutex);
  if (iVar6 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar6);
  }
  uVar7 = *(uint *)(this + 0x20);
  if (uVar7 == *(uint *)(this + 0x1c)) {
    if (uVar7 != 0) {
      uVar7 = uVar7 / *(uint *)(this + 0x18);
    }
    if (*(uint *)(this + 0x24) == uVar7) {
      pthread_mutex_unlock(__mutex);
      pcVar4 = *(char **)(this + 0x28);
      if (pcVar4 == (char *)0x0) {
        _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0x85,
                         "Method/function failed. Returning: RID()","Element limit reached.",0,0);
      }
      else {
        local_50 = 0;
        local_40 = strlen(pcVar4);
        local_48 = pcVar4;
        String::parse_latin1((StrRange *)&local_50);
        local_40 = 0x2b;
        local_48 = "Element limit for RID of type \'%s\' reached.";
        local_58 = 0;
        String::parse_latin1((StrRange *)&local_58);
        vformat<String>(&local_48,&local_58,(StrRange *)&local_50);
        _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0x83,
                         "Method/function failed. Returning: RID()",&local_48,0,0);
        pcVar4 = local_48;
        if (local_48 != (char *)0x0) {
          LOCK();
          plVar1 = (long *)(local_48 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_48 = (char *)0x0;
            Memory::free_static(pcVar4 + -0x10,false);
          }
        }
        lVar3 = local_58;
        if (local_58 != 0) {
          LOCK();
          plVar1 = (long *)(local_58 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_58 = 0;
            Memory::free_static((void *)(lVar3 + -0x10),false);
          }
        }
        lVar3 = local_50;
        if (local_50 != 0) {
          LOCK();
          plVar1 = (long *)(local_50 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_50 = 0;
            Memory::free_static((void *)(lVar3 + -0x10),false);
          }
        }
      }
      uVar13 = 0;
      goto LAB_00136bf9;
    }
    uVar13 = (ulong)uVar7;
    lVar3 = *(long *)(this + 8);
    uVar8 = Memory::alloc_static((ulong)*(uint *)(this + 0x18) * 0x78,false);
    uVar7 = *(uint *)(this + 0x18);
    lVar9 = *(long *)(this + 0x10);
    *(undefined8 *)(lVar3 + uVar13 * 8) = uVar8;
    uVar8 = Memory::alloc_static((ulong)uVar7 << 2,false);
    uVar7 = *(uint *)(this + 0x18);
    *(undefined8 *)(uVar13 * 8 + lVar9) = uVar8;
    if (uVar7 != 0) {
      lVar3 = *(long *)(*(long *)(this + 0x10) + uVar13 * 8);
      lVar9 = 0;
      puVar12 = (undefined4 *)(*(long *)(*(long *)(this + 8) + uVar13 * 8) + 0x70);
      do {
        *puVar12 = 0xffffffff;
        puVar12 = puVar12 + 0x1e;
        *(int *)(lVar3 + lVar9 * 4) = *(int *)(this + 0x20) + (int)lVar9;
        uVar7 = *(uint *)(this + 0x18);
        lVar9 = lVar9 + 1;
      } while ((uint)lVar9 < uVar7);
    }
    *(uint *)(this + 0x1c) = uVar7 + *(int *)(this + 0x1c);
    uVar7 = *(uint *)(this + 0x20);
  }
  uVar2 = *(uint *)(this + 0x18);
  uVar7 = *(uint *)(*(long *)(*(long *)(this + 0x10) + ((ulong)uVar7 / (ulong)uVar2) * 8) +
                   ((ulong)uVar7 % (ulong)uVar2) * 4);
  LOCK();
  UNLOCK();
  uVar10 = (int)RID_AllocBase::base_id + 1;
  uVar11 = uVar10 & 0x7fffffff;
  if (uVar11 == 0x7fffffff) {
    RID_AllocBase::base_id = RID_AllocBase::base_id + 1;
    _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0xa9,
                     "FATAL: Condition \"validator == 0x7FFFFFFF\" is true.",
                     "Overflow in RID validator",0,0);
    _err_flush_stdout();
                    /* WARNING: Does not return */
    pcVar5 = (code *)invalidInstructionException();
    (*pcVar5)();
  }
  uVar13 = CONCAT44(uVar10,uVar7) & 0x7fffffffffffffff;
  RID_AllocBase::base_id = RID_AllocBase::base_id + 1;
  *(uint *)(*(long *)(*(long *)(this + 8) + ((ulong)uVar7 / (ulong)uVar2) * 8) +
            ((ulong)uVar7 % (ulong)uVar2) * 0x78 + 0x70) = uVar11 | 0x80000000;
  *(int *)(this + 0x20) = *(int *)(this + 0x20) + 1;
  pthread_mutex_unlock(__mutex);
LAB_00136bf9:
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar13;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RID_Alloc<RendererSceneCull::Scenario, true>::allocate_rid() */

ulong __thiscall
RID_Alloc<RendererSceneCull::Scenario,true>::allocate_rid
          (RID_Alloc<RendererSceneCull::Scenario,true> *this)

{
  pthread_mutex_t *__mutex;
  long *plVar1;
  uint uVar2;
  long lVar3;
  char *pcVar4;
  code *pcVar5;
  int iVar6;
  uint uVar7;
  undefined8 uVar8;
  long lVar9;
  ulong uVar10;
  undefined4 *puVar11;
  uint uVar12;
  uint uVar13;
  long in_FS_OFFSET;
  long local_58;
  long local_50;
  char *local_48;
  size_t local_40;
  long local_30;
  
  __mutex = (pthread_mutex_t *)(this + 0x30);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  iVar6 = pthread_mutex_lock(__mutex);
  if (iVar6 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar6);
  }
  uVar7 = *(uint *)(this + 0x20);
  if (uVar7 == *(uint *)(this + 0x1c)) {
    if (uVar7 != 0) {
      uVar7 = uVar7 / *(uint *)(this + 0x18);
    }
    if (*(uint *)(this + 0x24) == uVar7) {
      pthread_mutex_unlock(__mutex);
      pcVar4 = *(char **)(this + 0x28);
      if (pcVar4 == (char *)0x0) {
        _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0x85,
                         "Method/function failed. Returning: RID()","Element limit reached.",0,0);
      }
      else {
        local_50 = 0;
        local_40 = strlen(pcVar4);
        local_48 = pcVar4;
        String::parse_latin1((StrRange *)&local_50);
        local_40 = 0x2b;
        local_48 = "Element limit for RID of type \'%s\' reached.";
        local_58 = 0;
        String::parse_latin1((StrRange *)&local_58);
        vformat<String>(&local_48,&local_58,(StrRange *)&local_50);
        _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0x83,
                         "Method/function failed. Returning: RID()",&local_48,0,0);
        pcVar4 = local_48;
        if (local_48 != (char *)0x0) {
          LOCK();
          plVar1 = (long *)(local_48 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_48 = (char *)0x0;
            Memory::free_static(pcVar4 + -0x10,false);
          }
        }
        lVar3 = local_58;
        if (local_58 != 0) {
          LOCK();
          plVar1 = (long *)(local_58 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_58 = 0;
            Memory::free_static((void *)(lVar3 + -0x10),false);
          }
        }
        lVar3 = local_50;
        if (local_50 != 0) {
          LOCK();
          plVar1 = (long *)(local_50 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_50 = 0;
            Memory::free_static((void *)(lVar3 + -0x10),false);
          }
        }
      }
      uVar10 = 0;
      goto LAB_00136f65;
    }
    uVar10 = (ulong)uVar7;
    lVar3 = *(long *)(this + 8);
    uVar8 = Memory::alloc_static((ulong)*(uint *)(this + 0x18) * 0x248,false);
    uVar7 = *(uint *)(this + 0x18);
    lVar9 = *(long *)(this + 0x10);
    *(undefined8 *)(lVar3 + uVar10 * 8) = uVar8;
    uVar8 = Memory::alloc_static((ulong)uVar7 << 2,false);
    uVar7 = *(uint *)(this + 0x18);
    *(undefined8 *)(uVar10 * 8 + lVar9) = uVar8;
    if (uVar7 != 0) {
      lVar3 = *(long *)(*(long *)(this + 0x10) + uVar10 * 8);
      lVar9 = 0;
      puVar11 = (undefined4 *)(*(long *)(*(long *)(this + 8) + uVar10 * 8) + 0x240);
      do {
        *puVar11 = 0xffffffff;
        puVar11 = puVar11 + 0x92;
        *(int *)(lVar3 + lVar9 * 4) = *(int *)(this + 0x20) + (int)lVar9;
        uVar7 = *(uint *)(this + 0x18);
        lVar9 = lVar9 + 1;
      } while ((uint)lVar9 < uVar7);
    }
    *(uint *)(this + 0x1c) = uVar7 + *(int *)(this + 0x1c);
    uVar7 = *(uint *)(this + 0x20);
  }
  uVar2 = *(uint *)(this + 0x18);
  uVar7 = *(uint *)(*(long *)(*(long *)(this + 0x10) + ((ulong)uVar7 / (ulong)uVar2) * 8) +
                   ((ulong)uVar7 % (ulong)uVar2) * 4);
  LOCK();
  UNLOCK();
  uVar12 = (int)RID_AllocBase::base_id + 1;
  uVar13 = uVar12 & 0x7fffffff;
  if (uVar13 == 0x7fffffff) {
    RID_AllocBase::base_id = RID_AllocBase::base_id + 1;
    _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0xa9,
                     "FATAL: Condition \"validator == 0x7FFFFFFF\" is true.",
                     "Overflow in RID validator",0,0);
    _err_flush_stdout();
                    /* WARNING: Does not return */
    pcVar5 = (code *)invalidInstructionException();
    (*pcVar5)();
  }
  uVar10 = CONCAT44(uVar12,uVar7) & 0x7fffffffffffffff;
  RID_AllocBase::base_id = RID_AllocBase::base_id + 1;
  *(uint *)(*(long *)(*(long *)(this + 8) + ((ulong)uVar7 / (ulong)uVar2) * 8) +
            ((ulong)uVar7 % (ulong)uVar2) * 0x248 + 0x240) = uVar13 | 0x80000000;
  *(int *)(this + 0x20) = *(int *)(this + 0x20) + 1;
  pthread_mutex_unlock(__mutex);
LAB_00136f65:
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar10;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* RID_Alloc<RendererSceneCull::Instance, true>::allocate_rid() */

ulong __thiscall
RID_Alloc<RendererSceneCull::Instance,true>::allocate_rid
          (RID_Alloc<RendererSceneCull::Instance,true> *this)

{
  pthread_mutex_t *__mutex;
  long *plVar1;
  uint uVar2;
  long lVar3;
  char *pcVar4;
  code *pcVar5;
  int iVar6;
  uint uVar7;
  undefined8 uVar8;
  long lVar9;
  uint uVar10;
  uint uVar11;
  undefined4 *puVar12;
  ulong uVar13;
  long in_FS_OFFSET;
  long local_58;
  long local_50;
  char *local_48;
  size_t local_40;
  long local_30;
  
  __mutex = (pthread_mutex_t *)(this + 0x30);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  iVar6 = pthread_mutex_lock(__mutex);
  if (iVar6 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar6);
  }
  uVar7 = *(uint *)(this + 0x20);
  if (uVar7 == *(uint *)(this + 0x1c)) {
    if (uVar7 != 0) {
      uVar7 = uVar7 / *(uint *)(this + 0x18);
    }
    if (*(uint *)(this + 0x24) == uVar7) {
      pthread_mutex_unlock(__mutex);
      pcVar4 = *(char **)(this + 0x28);
      if (pcVar4 == (char *)0x0) {
        _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0x85,
                         "Method/function failed. Returning: RID()","Element limit reached.",0,0);
      }
      else {
        local_50 = 0;
        local_40 = strlen(pcVar4);
        local_48 = pcVar4;
        String::parse_latin1((StrRange *)&local_50);
        local_40 = 0x2b;
        local_48 = "Element limit for RID of type \'%s\' reached.";
        local_58 = 0;
        String::parse_latin1((StrRange *)&local_58);
        vformat<String>(&local_48,&local_58,(StrRange *)&local_50);
        _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0x83,
                         "Method/function failed. Returning: RID()",&local_48,0,0);
        pcVar4 = local_48;
        if (local_48 != (char *)0x0) {
          LOCK();
          plVar1 = (long *)(local_48 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_48 = (char *)0x0;
            Memory::free_static(pcVar4 + -0x10,false);
          }
        }
        lVar3 = local_58;
        if (local_58 != 0) {
          LOCK();
          plVar1 = (long *)(local_58 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_58 = 0;
            Memory::free_static((void *)(lVar3 + -0x10),false);
          }
        }
        lVar3 = local_50;
        if (local_50 != 0) {
          LOCK();
          plVar1 = (long *)(local_50 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_50 = 0;
            Memory::free_static((void *)(lVar3 + -0x10),false);
          }
        }
      }
      uVar13 = 0;
      goto LAB_001372c6;
    }
    lVar3 = *(long *)(this + 8);
    uVar13 = (ulong)uVar7;
    uVar8 = Memory::alloc_static((ulong)*(uint *)(this + 0x18) * 0x308,false);
    uVar7 = *(uint *)(this + 0x18);
    lVar9 = *(long *)(this + 0x10);
    *(undefined8 *)(lVar3 + uVar13 * 8) = uVar8;
    uVar8 = Memory::alloc_static((ulong)uVar7 << 2,false);
    uVar7 = *(uint *)(this + 0x18);
    *(undefined8 *)(uVar13 * 8 + lVar9) = uVar8;
    if (uVar7 != 0) {
      lVar3 = *(long *)(*(long *)(this + 0x10) + uVar13 * 8);
      lVar9 = 0;
      puVar12 = (undefined4 *)(*(long *)(*(long *)(this + 8) + uVar13 * 8) + 0x300);
      do {
        *puVar12 = 0xffffffff;
        puVar12 = puVar12 + 0xc2;
        *(int *)(lVar3 + lVar9 * 4) = *(int *)(this + 0x20) + (int)lVar9;
        uVar7 = *(uint *)(this + 0x18);
        lVar9 = lVar9 + 1;
      } while ((uint)lVar9 < uVar7);
    }
    *(uint *)(this + 0x1c) = uVar7 + *(int *)(this + 0x1c);
    uVar7 = *(uint *)(this + 0x20);
  }
  uVar2 = *(uint *)(this + 0x18);
  uVar7 = *(uint *)(*(long *)(*(long *)(this + 0x10) + ((ulong)uVar7 / (ulong)uVar2) * 8) +
                   ((ulong)uVar7 % (ulong)uVar2) * 4);
  LOCK();
  UNLOCK();
  uVar10 = (int)RID_AllocBase::base_id + 1;
  uVar11 = uVar10 & 0x7fffffff;
  if (uVar11 == 0x7fffffff) {
    RID_AllocBase::base_id = RID_AllocBase::base_id + 1;
    _err_print_error("_allocate_rid","./core/templates/rid_owner.h",0xa9,
                     "FATAL: Condition \"validator == 0x7FFFFFFF\" is true.",
                     "Overflow in RID validator",0,0);
    _err_flush_stdout();
                    /* WARNING: Does not return */
    pcVar5 = (code *)invalidInstructionException();
    (*pcVar5)();
  }
  uVar13 = CONCAT44(uVar10,uVar7) & 0x7fffffffffffffff;
  RID_AllocBase::base_id = RID_AllocBase::base_id + 1;
  *(uint *)(((ulong)uVar7 % (ulong)uVar2) * 0x308 +
            *(long *)(*(long *)(this + 8) + ((ulong)uVar7 / (ulong)uVar2) * 8) + 0x300) =
       uVar11 | 0x80000000;
  *(int *)(this + 0x20) = *(int *)(this + 0x20) + 1;
  pthread_mutex_unlock(__mutex);
LAB_001372c6:
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar13;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Control flow encountered bad instruction data */
/* RID_Alloc<RendererSceneCull::Scenario, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Scenario,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Scenario,true> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RID_Alloc<RendererSceneCull::Camera, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Camera,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Camera,true> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::Scenario::~Scenario() */

void __thiscall RendererSceneCull::Scenario::~Scenario(Scenario *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::VisibilityArray::~VisibilityArray() */

void __thiscall RendererSceneCull::VisibilityArray::~VisibilityArray(VisibilityArray *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray() */

void __thiscall
BinSortedArray<RendererSceneCull::InstanceVisibilityData>::~BinSortedArray
          (BinSortedArray<RendererSceneCull::InstanceVisibilityData> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceCullResult::~InstanceCullResult() */

void __thiscall RendererSceneCull::InstanceCullResult::~InstanceCullResult(InstanceCullResult *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceGeometryData::~InstanceGeometryData() */

void __thiscall
RendererSceneCull::InstanceGeometryData::~InstanceGeometryData(InstanceGeometryData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceVoxelGIData::~InstanceVoxelGIData() */

void __thiscall
RendererSceneCull::InstanceVoxelGIData::~InstanceVoxelGIData(InstanceVoxelGIData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceLightmapData::~InstanceLightmapData() */

void __thiscall
RendererSceneCull::InstanceLightmapData::~InstanceLightmapData(InstanceLightmapData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceReflectionProbeData::~InstanceReflectionProbeData() */

void __thiscall
RendererSceneCull::InstanceReflectionProbeData::~InstanceReflectionProbeData
          (InstanceReflectionProbeData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceLightData::~InstanceLightData() */

void __thiscall RendererSceneCull::InstanceLightData::~InstanceLightData(InstanceLightData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceDecalData::~InstanceDecalData() */

void __thiscall RendererSceneCull::InstanceDecalData::~InstanceDecalData(InstanceDecalData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceVisibilityNotifierData::~InstanceVisibilityNotifierData() */

void __thiscall
RendererSceneCull::InstanceVisibilityNotifierData::~InstanceVisibilityNotifierData
          (InstanceVisibilityNotifierData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RenderSceneBuffersExtension::~RenderSceneBuffersExtension() */

void __thiscall
RenderSceneBuffersExtension::~RenderSceneBuffersExtension(RenderSceneBuffersExtension *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RefCounted::~RefCounted() */

void __thiscall RefCounted::~RefCounted(RefCounted *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* CommandQueueMT::Command<RenderingServerDefault, void (RenderingServerDefault::*)(Callable
   const&), false, Callable const&>::~Command() */

void __thiscall
CommandQueueMT::
Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
::~Command(Command<RenderingServerDefault,void(RenderingServerDefault::*)(Callable_const&),false,Callable_const&>
           *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceParticlesCollisionData::~InstanceParticlesCollisionData() */

void __thiscall
RendererSceneCull::InstanceParticlesCollisionData::~InstanceParticlesCollisionData
          (InstanceParticlesCollisionData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::InstanceFogVolumeData::~InstanceFogVolumeData() */

void __thiscall
RendererSceneCull::InstanceFogVolumeData::~InstanceFogVolumeData(InstanceFogVolumeData *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* CallableCustomStaticMethodPointer<void, RID, Vector3 const&, Vector3
   const&>::~CallableCustomStaticMethodPointer() */

void __thiscall
CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&>::
~CallableCustomStaticMethodPointer
          (CallableCustomStaticMethodPointer<void,RID,Vector3_const&,Vector3_const&> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::VisibilityCullData*),
   RendererSceneCull::VisibilityCullData*>::~GroupUserData() */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
::~GroupUserData(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::VisibilityCullData*),RendererSceneCull::VisibilityCullData*>
                 *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* WorkerThreadPool::GroupUserData<RendererSceneCull, void (RendererSceneCull::*)(unsigned int,
   RendererSceneCull::CullData*), RendererSceneCull::CullData*>::~GroupUserData() */

void __thiscall
WorkerThreadPool::
GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
::~GroupUserData(GroupUserData<RendererSceneCull,void(RendererSceneCull::*)(unsigned_int,RendererSceneCull::CullData*),RendererSceneCull::CullData*>
                 *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneOcclusionCull::~RendererSceneOcclusionCull() */

void __thiscall
RendererSceneOcclusionCull::~RendererSceneOcclusionCull(RendererSceneOcclusionCull *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* StringName::~StringName() */

void __thiscall StringName::~StringName(StringName *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RID_Alloc<RendererSceneCull::Instance, true>::~RID_Alloc() */

void __thiscall
RID_Alloc<RendererSceneCull::Instance,true>::~RID_Alloc
          (RID_Alloc<RendererSceneCull::Instance,true> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* RendererSceneCull::Instance::~Instance() */

void __thiscall RendererSceneCull::Instance::~Instance(Instance *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


