
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, long, long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, __gnu_cxx::__ops::_Iter_less_iter) [clone
   .isra.0] */

void std::
     __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
               (long param_1,long param_2,ulong param_3,undefined8 *param_4)

{
  float fVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 *puVar8;
  long lVar9;
  long lVar10;
  undefined8 *puVar11;
  long lVar12;
  long lVar13;
  
  lVar13 = (long)(param_3 - 1) / 2;
  lVar10 = param_2;
  if (param_2 < lVar13) {
    do {
      lVar12 = (lVar10 + 1) * 2;
      lVar9 = (lVar10 + 1) * 0x80;
      puVar8 = (undefined8 *)(param_1 + lVar9);
      fVar1 = *(float *)(param_1 + -0x18 + lVar9);
      if (*(float *)(puVar8 + 5) <= fVar1 && fVar1 != *(float *)(puVar8 + 5)) {
        lVar12 = lVar12 + -1;
        puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
      }
      uVar2 = puVar8[1];
      puVar11 = (undefined8 *)(lVar10 * 0x40 + param_1);
      *puVar11 = *puVar8;
      puVar11[1] = uVar2;
      uVar2 = puVar8[3];
      puVar11[2] = puVar8[2];
      puVar11[3] = uVar2;
      puVar11[4] = puVar8[4];
      *(undefined4 *)(puVar11 + 5) = *(undefined4 *)(puVar8 + 5);
      lVar10 = lVar12;
    } while (lVar12 < lVar13);
  }
  else {
    puVar8 = (undefined8 *)(param_2 * 0x40 + param_1);
    lVar12 = param_2;
  }
  if (((param_3 & 1) == 0) && ((long)(param_3 - 2) / 2 == lVar12)) {
    lVar10 = lVar12 + 1;
    lVar12 = lVar12 + lVar10;
    puVar11 = (undefined8 *)(param_1 + -0x40 + lVar10 * 0x80);
    uVar2 = puVar11[1];
    *puVar8 = *puVar11;
    puVar8[1] = uVar2;
    uVar2 = puVar11[3];
    puVar8[2] = puVar11[2];
    puVar8[3] = uVar2;
    puVar8[4] = puVar11[4];
    *(undefined4 *)(puVar8 + 5) = *(undefined4 *)(puVar11 + 5);
    puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
  }
  uVar3 = *param_4;
  uVar4 = param_4[1];
  uVar5 = param_4[2];
  uVar6 = param_4[3];
  uVar2 = param_4[4];
  fVar1 = *(float *)(param_4 + 5);
  lVar10 = (lVar12 + -1) - (lVar12 + -1 >> 0x3f);
  while (param_2 < lVar12) {
    lVar13 = lVar10 >> 1;
    puVar11 = (undefined8 *)(lVar13 * 0x40 + param_1);
    puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
    if (fVar1 < *(float *)(puVar11 + 5) || fVar1 == *(float *)(puVar11 + 5)) break;
    uVar7 = puVar11[1];
    *puVar8 = *puVar11;
    puVar8[1] = uVar7;
    uVar7 = puVar11[3];
    puVar8[2] = puVar11[2];
    puVar8[3] = uVar7;
    puVar8[4] = puVar11[4];
    *(undefined4 *)(puVar8 + 5) = *(undefined4 *)(puVar11 + 5);
    lVar10 = (lVar13 + -1) - (lVar13 + -1 >> 0x3f);
    puVar8 = puVar11;
    lVar12 = lVar13;
  }
  puVar8[4] = uVar2;
  *puVar8 = uVar3;
  puVar8[1] = uVar4;
  puVar8[2] = uVar5;
  puVar8[3] = uVar6;
  *(float *)(puVar8 + 5) = fVar1;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, long, long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, __gnu_cxx::__ops::_Iter_less_iter)
   [clone .isra.0] */

void std::
     __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
               (long param_1,long param_2,ulong param_3,undefined8 *param_4)

{
  float fVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 *puVar8;
  long lVar9;
  long lVar10;
  undefined8 *puVar11;
  long lVar12;
  long lVar13;
  
  lVar13 = (long)(param_3 - 1) / 2;
  lVar10 = param_2;
  if (param_2 < lVar13) {
    do {
      lVar12 = (lVar10 + 1) * 2;
      lVar9 = (lVar10 + 1) * 0x80;
      puVar8 = (undefined8 *)(param_1 + lVar9);
      fVar1 = *(float *)(param_1 + -0x18 + lVar9);
      if (*(float *)(puVar8 + 5) <= fVar1 && fVar1 != *(float *)(puVar8 + 5)) {
        lVar12 = lVar12 + -1;
        puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
      }
      uVar2 = puVar8[1];
      puVar11 = (undefined8 *)(lVar10 * 0x40 + param_1);
      *puVar11 = *puVar8;
      puVar11[1] = uVar2;
      uVar2 = puVar8[3];
      puVar11[2] = puVar8[2];
      puVar11[3] = uVar2;
      puVar11[4] = puVar8[4];
      *(undefined4 *)(puVar11 + 5) = *(undefined4 *)(puVar8 + 5);
      lVar10 = lVar12;
    } while (lVar12 < lVar13);
  }
  else {
    puVar8 = (undefined8 *)(param_2 * 0x40 + param_1);
    lVar12 = param_2;
  }
  if (((param_3 & 1) == 0) && ((long)(param_3 - 2) / 2 == lVar12)) {
    lVar10 = lVar12 + 1;
    lVar12 = lVar12 + lVar10;
    puVar11 = (undefined8 *)(param_1 + -0x40 + lVar10 * 0x80);
    uVar2 = puVar11[1];
    *puVar8 = *puVar11;
    puVar8[1] = uVar2;
    uVar2 = puVar11[3];
    puVar8[2] = puVar11[2];
    puVar8[3] = uVar2;
    puVar8[4] = puVar11[4];
    *(undefined4 *)(puVar8 + 5) = *(undefined4 *)(puVar11 + 5);
    puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
  }
  uVar3 = *param_4;
  uVar4 = param_4[1];
  uVar5 = param_4[2];
  uVar6 = param_4[3];
  uVar2 = param_4[4];
  fVar1 = *(float *)(param_4 + 5);
  lVar10 = (lVar12 + -1) - (lVar12 + -1 >> 0x3f);
  while (param_2 < lVar12) {
    lVar13 = lVar10 >> 1;
    puVar11 = (undefined8 *)(lVar13 * 0x40 + param_1);
    puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
    if (fVar1 < *(float *)(puVar11 + 5) || fVar1 == *(float *)(puVar11 + 5)) break;
    uVar7 = puVar11[1];
    *puVar8 = *puVar11;
    puVar8[1] = uVar7;
    uVar7 = puVar11[3];
    puVar8[2] = puVar11[2];
    puVar8[3] = uVar7;
    puVar8[4] = puVar11[4];
    *(undefined4 *)(puVar8 + 5) = *(undefined4 *)(puVar11 + 5);
    lVar10 = (lVar13 + -1) - (lVar13 + -1 >> 0x3f);
    puVar8 = puVar11;
    lVar12 = lVar13;
  }
  puVar8[4] = uVar2;
  *puVar8 = uVar3;
  puVar8[1] = uVar4;
  puVar8[2] = uVar5;
  puVar8[3] = uVar6;
  *(float *)(puVar8 + 5) = fVar1;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, long, long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, __gnu_cxx::__ops::_Iter_less_iter)
   [clone .isra.0] */

void std::
     __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
               (long param_1,long param_2,ulong param_3,undefined8 *param_4)

{
  float fVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 *puVar8;
  long lVar9;
  long lVar10;
  undefined8 *puVar11;
  long lVar12;
  long lVar13;
  
  lVar13 = (long)(param_3 - 1) / 2;
  lVar10 = param_2;
  if (param_2 < lVar13) {
    do {
      lVar12 = (lVar10 + 1) * 2;
      lVar9 = (lVar10 + 1) * 0x80;
      puVar8 = (undefined8 *)(param_1 + lVar9);
      fVar1 = *(float *)(param_1 + -0x18 + lVar9);
      if (*(float *)(puVar8 + 5) <= fVar1 && fVar1 != *(float *)(puVar8 + 5)) {
        lVar12 = lVar12 + -1;
        puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
      }
      uVar2 = puVar8[1];
      puVar11 = (undefined8 *)(lVar10 * 0x40 + param_1);
      *puVar11 = *puVar8;
      puVar11[1] = uVar2;
      uVar2 = puVar8[3];
      puVar11[2] = puVar8[2];
      puVar11[3] = uVar2;
      puVar11[4] = puVar8[4];
      *(undefined4 *)(puVar11 + 5) = *(undefined4 *)(puVar8 + 5);
      lVar10 = lVar12;
    } while (lVar12 < lVar13);
  }
  else {
    puVar8 = (undefined8 *)(param_2 * 0x40 + param_1);
    lVar12 = param_2;
  }
  if (((param_3 & 1) == 0) && ((long)(param_3 - 2) / 2 == lVar12)) {
    lVar10 = lVar12 + 1;
    lVar12 = lVar12 + lVar10;
    puVar11 = (undefined8 *)(param_1 + -0x40 + lVar10 * 0x80);
    uVar2 = puVar11[1];
    *puVar8 = *puVar11;
    puVar8[1] = uVar2;
    uVar2 = puVar11[3];
    puVar8[2] = puVar11[2];
    puVar8[3] = uVar2;
    puVar8[4] = puVar11[4];
    *(undefined4 *)(puVar8 + 5) = *(undefined4 *)(puVar11 + 5);
    puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
  }
  uVar3 = *param_4;
  uVar4 = param_4[1];
  uVar5 = param_4[2];
  uVar6 = param_4[3];
  uVar2 = param_4[4];
  fVar1 = *(float *)(param_4 + 5);
  lVar10 = (lVar12 + -1) - (lVar12 + -1 >> 0x3f);
  while (param_2 < lVar12) {
    lVar13 = lVar10 >> 1;
    puVar11 = (undefined8 *)(lVar13 * 0x40 + param_1);
    puVar8 = (undefined8 *)(lVar12 * 0x40 + param_1);
    if (fVar1 < *(float *)(puVar11 + 5) || fVar1 == *(float *)(puVar11 + 5)) break;
    uVar7 = puVar11[1];
    *puVar8 = *puVar11;
    puVar8[1] = uVar7;
    uVar7 = puVar11[3];
    puVar8[2] = puVar11[2];
    puVar8[3] = uVar7;
    puVar8[4] = puVar11[4];
    *(undefined4 *)(puVar8 + 5) = *(undefined4 *)(puVar11 + 5);
    lVar10 = (lVar13 + -1) - (lVar13 + -1 >> 0x3f);
    puVar8 = puVar11;
    lVar12 = lVar13;
  }
  puVar8[4] = uVar2;
  *puVar8 = uVar3;
  puVar8[1] = uVar4;
  puVar8[2] = uVar5;
  puVar8[3] = uVar6;
  *(float *)(puVar8 + 5) = fVar1;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*, long,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*, long, long,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >) [clone .isra.0] */

void std::
     __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
               (long param_1,long param_2,ulong param_3,undefined8 *param_4)

{
  undefined1 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 *puVar13;
  long lVar14;
  long lVar15;
  undefined8 *puVar16;
  long lVar17;
  long lVar18;
  long lVar19;
  
  lVar18 = (long)(param_3 - 1) / 2;
  lVar19 = param_2;
  if (param_2 < lVar18) {
    do {
      lVar14 = (lVar19 + 1) * 2;
      lVar15 = (lVar19 + 1) * 0xe0;
      puVar13 = (undefined8 *)(param_1 + lVar15);
      if ((ulong)(*(long *)(param_1 + -0x18 + lVar15) - *(long *)(param_1 + -0x20 + lVar15)) <
          (ulong)(puVar13[0xb] - puVar13[10])) {
        lVar14 = lVar14 + -1;
        puVar13 = (undefined8 *)(lVar14 * 0x70 + param_1);
      }
      puVar16 = (undefined8 *)(lVar19 * 0x70 + param_1);
      *puVar16 = *puVar13;
      *(undefined1 *)(puVar16 + 1) = *(undefined1 *)(puVar13 + 1);
      uVar2 = puVar13[3];
      puVar16[2] = puVar13[2];
      puVar16[3] = uVar2;
      uVar2 = puVar13[5];
      puVar16[4] = puVar13[4];
      puVar16[5] = uVar2;
      uVar2 = puVar13[7];
      puVar16[6] = puVar13[6];
      puVar16[7] = uVar2;
      uVar2 = puVar13[9];
      puVar16[8] = puVar13[8];
      puVar16[9] = uVar2;
      uVar2 = puVar13[0xb];
      puVar16[10] = puVar13[10];
      puVar16[0xb] = uVar2;
      puVar16[0xc] = puVar13[0xc];
      lVar19 = lVar14;
    } while (lVar14 < lVar18);
  }
  else {
    puVar13 = (undefined8 *)(param_2 * 0x70 + param_1);
    lVar14 = param_2;
  }
  if (((param_3 & 1) == 0) && ((long)(param_3 - 2) / 2 == lVar14)) {
    puVar16 = (undefined8 *)(param_1 + -0x70 + (lVar14 + 1) * 0xe0);
    *puVar13 = *puVar16;
    *(undefined1 *)(puVar13 + 1) = *(undefined1 *)(puVar16 + 1);
    uVar2 = puVar16[3];
    lVar14 = (lVar14 + 1) * 2 + -1;
    puVar13[2] = puVar16[2];
    puVar13[3] = uVar2;
    uVar2 = puVar16[5];
    puVar13[4] = puVar16[4];
    puVar13[5] = uVar2;
    uVar2 = puVar16[7];
    puVar13[6] = puVar16[6];
    puVar13[7] = uVar2;
    uVar2 = puVar16[9];
    puVar13[8] = puVar16[8];
    puVar13[9] = uVar2;
    uVar2 = puVar16[0xb];
    puVar13[10] = puVar16[10];
    puVar13[0xb] = uVar2;
    puVar13[0xc] = puVar16[0xc];
    puVar13 = (undefined8 *)(lVar14 * 0x70 + param_1);
  }
  uVar2 = *param_4;
  uVar1 = *(undefined1 *)(param_4 + 1);
  uVar4 = param_4[2];
  uVar5 = param_4[3];
  uVar6 = param_4[4];
  uVar7 = param_4[5];
  uVar8 = param_4[6];
  uVar9 = param_4[7];
  uVar10 = param_4[8];
  uVar11 = param_4[9];
  lVar19 = param_4[10];
  lVar18 = param_4[0xb];
  uVar3 = param_4[0xc];
  lVar15 = (lVar14 + -1) - (lVar14 + -1 >> 0x3f);
  if (param_2 < lVar14) {
    do {
      lVar17 = lVar15 >> 1;
      puVar16 = (undefined8 *)(lVar17 * 0x70 + param_1);
      puVar13 = (undefined8 *)(lVar14 * 0x70 + param_1);
      if ((ulong)(puVar16[0xb] - puVar16[10]) <= (ulong)(lVar18 - lVar19)) break;
      *puVar13 = *puVar16;
      *(undefined1 *)(puVar13 + 1) = *(undefined1 *)(puVar16 + 1);
      uVar12 = puVar16[3];
      puVar13[2] = puVar16[2];
      puVar13[3] = uVar12;
      uVar12 = puVar16[5];
      puVar13[4] = puVar16[4];
      puVar13[5] = uVar12;
      uVar12 = puVar16[7];
      puVar13[6] = puVar16[6];
      puVar13[7] = uVar12;
      uVar12 = puVar16[9];
      puVar13[8] = puVar16[8];
      puVar13[9] = uVar12;
      uVar12 = puVar16[0xb];
      puVar13[10] = puVar16[10];
      puVar13[0xb] = uVar12;
      puVar13[0xc] = puVar16[0xc];
      lVar15 = (lVar17 + -1) - (lVar17 + -1 >> 0x3f);
      puVar13 = puVar16;
      lVar14 = lVar17;
    } while (param_2 < lVar17);
  }
  *puVar13 = uVar2;
  *(undefined1 *)(puVar13 + 1) = uVar1;
  puVar13[10] = lVar19;
  puVar13[0xb] = lVar18;
  puVar13[0xc] = uVar3;
  puVar13[2] = uVar4;
  puVar13[3] = uVar5;
  puVar13[4] = uVar6;
  puVar13[5] = uVar7;
  puVar13[6] = uVar8;
  puVar13[7] = uVar9;
  puVar13[8] = uVar10;
  puVar13[9] = uVar11;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*,
   __gnu_cxx::__ops::_Val_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, __gnu_cxx::__ops::_Val_less_iter) [clone .isra.0] */

void std::
     __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
               (undefined8 *param_1)

{
  float fVar1;
  float fVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  
  fVar1 = *(float *)(param_1 + 5);
  uVar4 = *param_1;
  uVar5 = param_1[1];
  uVar6 = param_1[2];
  uVar7 = param_1[3];
  uVar3 = param_1[4];
  fVar2 = *(float *)(param_1 + -3);
  puVar9 = param_1 + -8;
  while (puVar8 = puVar9, fVar1 < fVar2) {
    puVar8[8] = *puVar8;
    puVar8[9] = puVar8[1];
    puVar8[10] = puVar8[2];
    puVar8[0xb] = puVar8[3];
    puVar8[0xc] = puVar8[4];
    *(undefined4 *)(puVar8 + 0xd) = *(undefined4 *)(puVar8 + 5);
    puVar9 = puVar8 + -8;
    param_1 = puVar8;
    fVar2 = *(float *)(puVar8 + -3);
  }
  param_1[4] = uVar3;
  *param_1 = uVar4;
  param_1[1] = uVar5;
  param_1[2] = uVar6;
  param_1[3] = uVar7;
  *(float *)(param_1 + 5) = fVar1;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*,
   __gnu_cxx::__ops::_Val_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, __gnu_cxx::__ops::_Val_less_iter) [clone .isra.0] */

void std::
     __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
               (undefined8 *param_1)

{
  float fVar1;
  float fVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  
  fVar1 = *(float *)(param_1 + 5);
  uVar4 = *param_1;
  uVar5 = param_1[1];
  uVar6 = param_1[2];
  uVar7 = param_1[3];
  uVar3 = param_1[4];
  fVar2 = *(float *)(param_1 + -3);
  puVar9 = param_1 + -8;
  while (puVar8 = puVar9, fVar1 < fVar2) {
    puVar8[8] = *puVar8;
    puVar8[9] = puVar8[1];
    puVar8[10] = puVar8[2];
    puVar8[0xb] = puVar8[3];
    puVar8[0xc] = puVar8[4];
    *(undefined4 *)(puVar8 + 0xd) = *(undefined4 *)(puVar8 + 5);
    puVar9 = puVar8 + -8;
    param_1 = puVar8;
    fVar2 = *(float *)(puVar8 + -3);
  }
  param_1[4] = uVar3;
  *param_1 = uVar4;
  param_1[1] = uVar5;
  param_1[2] = uVar6;
  param_1[3] = uVar7;
  *(float *)(param_1 + 5) = fVar1;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*,
   __gnu_cxx::__ops::_Val_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, __gnu_cxx::__ops::_Val_less_iter) [clone .isra.0] */

void std::
     __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
               (undefined8 *param_1)

{
  float fVar1;
  float fVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  
  fVar1 = *(float *)(param_1 + 5);
  uVar4 = *param_1;
  uVar5 = param_1[1];
  uVar6 = param_1[2];
  uVar7 = param_1[3];
  uVar3 = param_1[4];
  fVar2 = *(float *)(param_1 + -3);
  puVar9 = param_1 + -8;
  while (puVar8 = puVar9, fVar1 < fVar2) {
    puVar8[8] = *puVar8;
    puVar8[9] = puVar8[1];
    puVar8[10] = puVar8[2];
    puVar8[0xb] = puVar8[3];
    puVar8[0xc] = puVar8[4];
    *(undefined4 *)(puVar8 + 0xd) = *(undefined4 *)(puVar8 + 5);
    puVar9 = puVar8 + -8;
    param_1 = puVar8;
    fVar2 = *(float *)(puVar8 + -3);
  }
  param_1[4] = uVar3;
  *param_1 = uVar4;
  param_1[1] = uVar5;
  param_1[2] = uVar6;
  param_1[3] = uVar7;
  *(float *)(param_1 + 5) = fVar1;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined8 *param_1,undefined8 *param_2)

{
  float fVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 *puVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  
  if ((param_1 != param_2) && (puVar9 = param_1 + 8, param_2 != puVar9)) {
    do {
      fVar1 = *(float *)(puVar9 + 5);
      puVar10 = puVar9 + 8;
      if (*(float *)(param_1 + 5) <= fVar1) {
        __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                  ();
      }
      else {
        uVar3 = *puVar9;
        uVar4 = puVar9[1];
        uVar5 = puVar9[2];
        uVar6 = puVar9[3];
        uVar2 = puVar9[4];
        puVar7 = puVar9;
        if (0 < (long)puVar9 - (long)param_1) {
          do {
            puVar8 = puVar7 + -8;
            *puVar7 = puVar7[-8];
            puVar7[1] = puVar7[-7];
            puVar7[4] = puVar7[-4];
            *(undefined4 *)(puVar7 + 5) = *(undefined4 *)(puVar7 + -3);
            puVar7[2] = puVar7[-6];
            puVar7[3] = puVar7[-5];
            puVar7 = puVar8;
          } while ((undefined8 *)
                   ((long)puVar9 - ((long)puVar9 - (long)param_1 & 0xffffffffffffffc0U)) != puVar8);
        }
        param_1[4] = uVar2;
        *param_1 = uVar3;
        param_1[1] = uVar4;
        param_1[2] = uVar5;
        param_1[3] = uVar6;
        *(float *)(param_1 + 5) = fVar1;
      }
      puVar9 = puVar10;
    } while (param_2 != puVar10);
    return;
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined8 *param_1,undefined8 *param_2)

{
  float fVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 *puVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  
  if ((param_1 != param_2) && (puVar9 = param_1 + 8, param_2 != puVar9)) {
    do {
      fVar1 = *(float *)(puVar9 + 5);
      puVar10 = puVar9 + 8;
      if (*(float *)(param_1 + 5) <= fVar1) {
        __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                  ();
      }
      else {
        uVar3 = *puVar9;
        uVar4 = puVar9[1];
        uVar5 = puVar9[2];
        uVar6 = puVar9[3];
        uVar2 = puVar9[4];
        puVar7 = puVar9;
        if (0 < (long)puVar9 - (long)param_1) {
          do {
            puVar8 = puVar7 + -8;
            *puVar7 = puVar7[-8];
            puVar7[1] = puVar7[-7];
            puVar7[4] = puVar7[-4];
            *(undefined4 *)(puVar7 + 5) = *(undefined4 *)(puVar7 + -3);
            puVar7[2] = puVar7[-6];
            puVar7[3] = puVar7[-5];
            puVar7 = puVar8;
          } while ((undefined8 *)
                   ((long)puVar9 - ((long)puVar9 - (long)param_1 & 0xffffffffffffffc0U)) != puVar8);
        }
        param_1[4] = uVar2;
        *param_1 = uVar3;
        param_1[1] = uVar4;
        param_1[2] = uVar5;
        param_1[3] = uVar6;
        *(float *)(param_1 + 5) = fVar1;
      }
      puVar9 = puVar10;
    } while (param_2 != puVar10);
    return;
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >) [clone .isra.0] */

void std::
     __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
               (undefined8 *param_1)

{
  undefined1 uVar1;
  long lVar2;
  long lVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 *puVar14;
  undefined8 *puVar15;
  ulong uVar16;
  
  lVar2 = param_1[0xb];
  lVar3 = param_1[10];
  uVar4 = *param_1;
  uVar1 = *(undefined1 *)(param_1 + 1);
  uVar6 = param_1[2];
  uVar7 = param_1[3];
  uVar8 = param_1[4];
  uVar9 = param_1[5];
  uVar10 = param_1[6];
  uVar11 = param_1[7];
  uVar12 = param_1[8];
  uVar13 = param_1[9];
  uVar5 = param_1[0xc];
  uVar16 = param_1[-3] - param_1[-4];
  puVar15 = param_1 + -0xe;
  while (puVar14 = puVar15, uVar16 < (ulong)(lVar2 - lVar3)) {
    puVar14[0xe] = *puVar14;
    puVar14[0x10] = puVar14[2];
    puVar14[0x11] = puVar14[3];
    *(undefined1 *)(puVar14 + 0xf) = *(undefined1 *)(puVar14 + 1);
    puVar14[0x12] = puVar14[4];
    puVar14[0x13] = puVar14[5];
    puVar14[0x14] = puVar14[6];
    puVar14[0x15] = puVar14[7];
    puVar14[0x16] = puVar14[8];
    puVar14[0x17] = puVar14[9];
    puVar14[0x18] = puVar14[10];
    puVar14[0x19] = puVar14[0xb];
    puVar14[0x1a] = puVar14[0xc];
    puVar15 = puVar14 + -0xe;
    param_1 = puVar14;
    uVar16 = puVar14[-3] - puVar14[-4];
  }
  *param_1 = uVar4;
  *(undefined1 *)(param_1 + 1) = uVar1;
  param_1[10] = lVar3;
  param_1[0xb] = lVar2;
  param_1[0xc] = uVar5;
  param_1[2] = uVar6;
  param_1[3] = uVar7;
  param_1[4] = uVar8;
  param_1[5] = uVar9;
  param_1[6] = uVar10;
  param_1[7] = uVar11;
  param_1[8] = uVar12;
  param_1[9] = uVar13;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined8 *param_1,undefined8 *param_2)

{
  float fVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 *puVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  
  if ((param_1 != param_2) && (puVar9 = param_1 + 8, param_2 != puVar9)) {
    do {
      fVar1 = *(float *)(puVar9 + 5);
      puVar10 = puVar9 + 8;
      if (*(float *)(param_1 + 5) <= fVar1) {
        __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                  ();
      }
      else {
        uVar3 = *puVar9;
        uVar4 = puVar9[1];
        uVar5 = puVar9[2];
        uVar6 = puVar9[3];
        uVar2 = puVar9[4];
        puVar7 = puVar9;
        if (0 < (long)puVar9 - (long)param_1) {
          do {
            puVar8 = puVar7 + -8;
            *puVar7 = puVar7[-8];
            puVar7[1] = puVar7[-7];
            puVar7[4] = puVar7[-4];
            *(undefined4 *)(puVar7 + 5) = *(undefined4 *)(puVar7 + -3);
            puVar7[2] = puVar7[-6];
            puVar7[3] = puVar7[-5];
            puVar7 = puVar8;
          } while ((undefined8 *)
                   ((long)puVar9 - ((long)puVar9 - (long)param_1 & 0xffffffffffffffc0U)) != puVar8);
        }
        param_1[4] = uVar2;
        *param_1 = uVar3;
        param_1[1] = uVar4;
        param_1[2] = uVar5;
        param_1[3] = uVar6;
        *(float *)(param_1 + 5) = fVar1;
      }
      puVar9 = puVar10;
    } while (param_2 != puVar10);
    return;
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >) [clone .isra.0] */

void std::
     __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
               (undefined8 *param_1,undefined8 *param_2)

{
  undefined1 uVar1;
  long lVar2;
  long lVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 *puVar14;
  undefined8 *puVar15;
  undefined8 *puVar16;
  
  if (param_1 == param_2) {
    return;
  }
  puVar14 = param_1 + 0xe;
  while (param_2 != puVar14) {
    lVar2 = puVar14[0xb];
    lVar3 = puVar14[10];
    if ((ulong)(param_1[0xb] - param_1[10]) < (ulong)(lVar2 - lVar3)) {
      uVar4 = *puVar14;
      uVar1 = *(undefined1 *)(puVar14 + 1);
      uVar6 = puVar14[2];
      uVar7 = puVar14[3];
      uVar8 = puVar14[4];
      uVar9 = puVar14[5];
      uVar10 = puVar14[6];
      uVar11 = puVar14[7];
      uVar12 = puVar14[8];
      uVar13 = puVar14[9];
      uVar5 = puVar14[0xc];
      if (0 < (long)puVar14 - (long)param_1) {
        puVar15 = puVar14;
        do {
          puVar16 = puVar15 + -0xe;
          *puVar15 = puVar15[-0xe];
          puVar15[2] = puVar15[-0xc];
          puVar15[3] = puVar15[-0xb];
          *(undefined1 *)(puVar15 + 1) = *(undefined1 *)(puVar15 + -0xd);
          puVar15[4] = puVar15[-10];
          puVar15[5] = puVar15[-9];
          puVar15[0xc] = puVar15[-2];
          puVar15[6] = puVar15[-8];
          puVar15[7] = puVar15[-7];
          puVar15[8] = puVar15[-6];
          puVar15[9] = puVar15[-5];
          puVar15[10] = puVar15[-4];
          puVar15[0xb] = puVar15[-3];
          puVar15 = puVar16;
        } while (puVar16 != puVar14 + ((long)puVar14 - (long)param_1 >> 4) * -2);
      }
      *param_1 = uVar4;
      *(undefined1 *)(param_1 + 1) = uVar1;
      param_1[10] = lVar3;
      param_1[0xb] = lVar2;
      param_1[0xc] = uVar5;
      param_1[2] = uVar6;
      param_1[3] = uVar7;
      param_1[4] = uVar8;
      param_1[5] = uVar9;
      param_1[6] = uVar10;
      param_1[7] = uVar11;
      param_1[8] = uVar12;
      param_1[9] = uVar13;
      puVar14 = puVar14 + 0xe;
    }
    else {
      __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                ();
      puVar14 = puVar14 + 0xe;
    }
  }
  return;
}



/* embree::sse2::BVH4BuilderTwoLevelTriangle4MeshSAH(void*, embree::Scene*, bool) */

void embree::sse2::BVH4BuilderTwoLevelTriangle4MeshSAH(void *param_1,Scene *param_2,bool param_3)

{
  undefined8 *puVar1;
  long lVar2;
  
  puVar1 = (undefined8 *)operator_new(0xa8);
  lVar2 = *(long *)(param_2 + 0x188);
  puVar1[1] = 0;
  *puVar1 = &PTR__BVHNBuilderTwoLevel_001335f8;
  puVar1[2] = 0;
  puVar1[3] = 0;
  puVar1[4] = 0;
  puVar1[5] = param_1;
  puVar1[6] = param_2;
  if (lVar2 == 0) {
    puVar1[7] = 0;
    *(undefined1 *)(puVar1 + 8) = 0;
    puVar1[9] = 0;
    puVar1[10] = 0;
    puVar1[0xb] = 0;
    lVar2 = 0;
  }
  else {
    lVar2 = lVar2 + 0x548;
    *(undefined1 *)(puVar1 + 8) = 0;
    puVar1[7] = lVar2;
    puVar1[9] = 0;
    puVar1[10] = 0;
    puVar1[0xb] = 0;
  }
  puVar1[0xc] = lVar2;
  *(undefined1 *)(puVar1 + 0xd) = 0;
  puVar1[0xe] = 0;
  puVar1[0xf] = 0;
  puVar1[0x10] = 0;
  puVar1[0x12] = 0x400;
  puVar1[0x13] = 0x100000;
  *(bool *)(puVar1 + 0x14) = param_3;
  return;
}



/* embree::sse2::BVH4BuilderTwoLevelTriangle4vMeshSAH(void*, embree::Scene*, bool) */

void embree::sse2::BVH4BuilderTwoLevelTriangle4vMeshSAH(void *param_1,Scene *param_2,bool param_3)

{
  undefined8 *puVar1;
  long lVar2;
  
  puVar1 = (undefined8 *)operator_new(0xa8);
  lVar2 = *(long *)(param_2 + 0x188);
  puVar1[1] = 0;
  *puVar1 = &PTR__BVHNBuilderTwoLevel_00133640;
  puVar1[2] = 0;
  puVar1[3] = 0;
  puVar1[4] = 0;
  puVar1[5] = param_1;
  puVar1[6] = param_2;
  if (lVar2 == 0) {
    puVar1[7] = 0;
    *(undefined1 *)(puVar1 + 8) = 0;
    puVar1[9] = 0;
    puVar1[10] = 0;
    puVar1[0xb] = 0;
    lVar2 = 0;
  }
  else {
    lVar2 = lVar2 + 0x548;
    *(undefined1 *)(puVar1 + 8) = 0;
    puVar1[7] = lVar2;
    puVar1[9] = 0;
    puVar1[10] = 0;
    puVar1[0xb] = 0;
  }
  puVar1[0xc] = lVar2;
  *(undefined1 *)(puVar1 + 0xd) = 0;
  puVar1[0xe] = 0;
  puVar1[0xf] = 0;
  puVar1[0x10] = 0;
  puVar1[0x12] = 0x400;
  puVar1[0x13] = 0x100000;
  *(bool *)(puVar1 + 0x14) = param_3;
  return;
}



/* embree::sse2::BVH4BuilderTwoLevelTriangle4iMeshSAH(void*, embree::Scene*, bool) */

void embree::sse2::BVH4BuilderTwoLevelTriangle4iMeshSAH(void *param_1,Scene *param_2,bool param_3)

{
  undefined8 *puVar1;
  long lVar2;
  
  puVar1 = (undefined8 *)operator_new(0xa8);
  lVar2 = *(long *)(param_2 + 0x188);
  puVar1[1] = 0;
  *puVar1 = &PTR__BVHNBuilderTwoLevel_00133688;
  puVar1[2] = 0;
  puVar1[3] = 0;
  puVar1[4] = 0;
  puVar1[5] = param_1;
  puVar1[6] = param_2;
  if (lVar2 == 0) {
    puVar1[7] = 0;
    *(undefined1 *)(puVar1 + 8) = 0;
    puVar1[9] = 0;
    puVar1[10] = 0;
    puVar1[0xb] = 0;
    lVar2 = 0;
  }
  else {
    lVar2 = lVar2 + 0x548;
    *(undefined1 *)(puVar1 + 8) = 0;
    puVar1[7] = lVar2;
    puVar1[9] = 0;
    puVar1[10] = 0;
    puVar1[0xb] = 0;
  }
  puVar1[0xc] = lVar2;
  *(undefined1 *)(puVar1 + 0xd) = 0;
  puVar1[0xe] = 0;
  puVar1[0xf] = 0;
  puVar1[0x10] = 0;
  puVar1[0x12] = 0x400;
  puVar1[0x13] = 0x100000;
  *(bool *)(puVar1 + 0x14) = param_3;
  return;
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0010116c:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132e78;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0010116c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___2_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_001012fc:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132e90;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_001012fc;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___3_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___3_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0010148c:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132ea8;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0010148c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0010161c:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132ec0;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0010161c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___2_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_001017ac:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132ed8;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_001017ac;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___3_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___3_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0010193c:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132ef0;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0010193c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_00101acc:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132f08;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00101acc;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___2_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_00101c5c:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132f20;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00101c5c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___3_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___3_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_00101dec:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00132f38;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00101dec;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, long,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, long, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined8 *param_2,long param_3)

{
  float *pfVar1;
  float fVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined8 *puVar20;
  long lVar21;
  undefined4 *puVar22;
  undefined8 *puVar23;
  undefined8 *puVar24;
  undefined8 *puVar25;
  long in_FS_OFFSET;
  float fVar26;
  float fVar27;
  float fVar28;
  undefined4 local_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 local_90;
  undefined4 uStack_8c;
  undefined4 uStack_88;
  undefined4 uStack_84;
  undefined8 local_80;
  undefined4 local_78;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  lVar21 = (long)param_2 - (long)param_1;
  if (0x400 < lVar21) {
    puVar24 = (undefined8 *)(param_1 + 0x10);
    puVar25 = param_2;
    if (param_3 != 0) {
      do {
        fVar26 = (float)param_1[0x1a];
        param_3 = param_3 + -1;
        fVar27 = *(float *)(puVar25 + -3);
        uVar5 = *param_1;
        uVar6 = param_1[1];
        uVar7 = param_1[2];
        uVar8 = param_1[3];
        uVar9 = param_1[4];
        uVar10 = param_1[5];
        uVar11 = param_1[6];
        uVar12 = param_1[7];
        puVar22 = param_1 + (lVar21 >> 7) * 0x10;
        uVar3 = *(undefined8 *)(param_1 + 8);
        fVar28 = (float)param_1[10];
        fVar2 = (float)puVar22[10];
        puVar23 = puVar25;
        param_2 = puVar24;
        if (fVar2 <= fVar26) {
          if (fVar27 <= fVar26) {
            if (fVar2 < fVar27) goto LAB_0010248b;
            goto LAB_0010250a;
          }
LAB_001023a2:
          uVar13 = param_1[0x10];
          uVar14 = param_1[0x11];
          uVar15 = param_1[0x12];
          uVar16 = param_1[0x13];
          param_1[10] = fVar26;
          uVar4 = *(undefined8 *)(param_1 + 0x18);
          param_1[0x10] = uVar5;
          param_1[0x11] = uVar6;
          param_1[0x12] = uVar7;
          param_1[0x13] = uVar8;
          *(undefined8 *)(param_1 + 0x18) = uVar3;
          *(undefined8 *)(param_1 + 8) = uVar4;
          *param_1 = uVar13;
          param_1[1] = uVar14;
          param_1[2] = uVar15;
          param_1[3] = uVar16;
          param_1[4] = param_1[0x14];
          param_1[5] = param_1[0x15];
          param_1[6] = param_1[0x16];
          param_1[7] = param_1[0x17];
          param_1[0x14] = uVar9;
          param_1[0x15] = uVar10;
          param_1[0x16] = uVar11;
          param_1[0x17] = uVar12;
          param_1[0x1a] = fVar28;
          fVar27 = fVar28;
          fVar28 = *(float *)(puVar25 + -3);
        }
        else if (fVar2 < fVar27) {
LAB_0010250a:
          uVar13 = puVar22[1];
          uVar14 = puVar22[2];
          uVar15 = puVar22[3];
          *param_1 = *puVar22;
          param_1[1] = uVar13;
          param_1[2] = uVar14;
          param_1[3] = uVar15;
          uVar13 = puVar22[5];
          uVar14 = puVar22[6];
          uVar15 = puVar22[7];
          param_1[4] = puVar22[4];
          param_1[5] = uVar13;
          param_1[6] = uVar14;
          param_1[7] = uVar15;
          *(undefined8 *)(param_1 + 8) = *(undefined8 *)(puVar22 + 8);
          param_1[10] = puVar22[10];
          *(undefined8 *)(puVar22 + 8) = uVar3;
          *puVar22 = uVar5;
          puVar22[1] = uVar6;
          puVar22[2] = uVar7;
          puVar22[3] = uVar8;
          puVar22[4] = uVar9;
          puVar22[5] = uVar10;
          puVar22[6] = uVar11;
          puVar22[7] = uVar12;
          puVar22[10] = fVar28;
          fVar27 = (float)param_1[0x1a];
          fVar28 = *(float *)(puVar25 + -3);
          fVar26 = (float)param_1[10];
        }
        else {
          if (fVar27 <= fVar26) goto LAB_001023a2;
LAB_0010248b:
          uVar13 = *(undefined4 *)((long)puVar25 + -0x3c);
          uVar14 = *(undefined4 *)(puVar25 + -7);
          uVar15 = *(undefined4 *)((long)puVar25 + -0x34);
          *param_1 = *(undefined4 *)(puVar25 + -8);
          param_1[1] = uVar13;
          param_1[2] = uVar14;
          param_1[3] = uVar15;
          uVar13 = *(undefined4 *)((long)puVar25 + -0x2c);
          uVar14 = *(undefined4 *)(puVar25 + -5);
          uVar15 = *(undefined4 *)((long)puVar25 + -0x24);
          param_1[4] = *(undefined4 *)(puVar25 + -6);
          param_1[5] = uVar13;
          param_1[6] = uVar14;
          param_1[7] = uVar15;
          *(undefined8 *)(param_1 + 8) = puVar25[-4];
          param_1[10] = *(undefined4 *)(puVar25 + -3);
          puVar25[-4] = uVar3;
          *(undefined4 *)(puVar25 + -8) = uVar5;
          *(undefined4 *)((long)puVar25 + -0x3c) = uVar6;
          *(undefined4 *)(puVar25 + -7) = uVar7;
          *(undefined4 *)((long)puVar25 + -0x34) = uVar8;
          *(undefined4 *)(puVar25 + -6) = uVar9;
          *(undefined4 *)((long)puVar25 + -0x2c) = uVar10;
          *(undefined4 *)(puVar25 + -5) = uVar11;
          *(undefined4 *)((long)puVar25 + -0x24) = uVar12;
          *(float *)(puVar25 + -3) = fVar28;
          fVar26 = (float)param_1[10];
          fVar27 = (float)param_1[0x1a];
        }
        while( true ) {
          while (fVar27 < fVar26) {
            pfVar1 = (float *)(param_2 + 0xd);
            param_2 = param_2 + 8;
            fVar27 = *pfVar1;
          }
          while (puVar20 = puVar23 + -8, fVar26 < fVar28) {
            puVar23 = puVar20;
            fVar28 = *(float *)(puVar20 + -3);
          }
          if (puVar20 <= param_2) break;
          uVar5 = *(undefined4 *)((long)puVar23 + -0x3c);
          uVar6 = *(undefined4 *)(puVar20 + 1);
          uVar7 = *(undefined4 *)((long)puVar23 + -0x34);
          uVar4 = *param_2;
          uVar17 = param_2[1];
          uVar18 = param_2[2];
          uVar19 = param_2[3];
          uVar3 = param_2[4];
          *(undefined4 *)param_2 = *(undefined4 *)puVar20;
          *(undefined4 *)((long)param_2 + 4) = uVar5;
          *(undefined4 *)(param_2 + 1) = uVar6;
          *(undefined4 *)((long)param_2 + 0xc) = uVar7;
          uVar5 = *(undefined4 *)((long)puVar23 + -0x2c);
          uVar6 = *(undefined4 *)(puVar20 + 3);
          uVar7 = *(undefined4 *)((long)puVar23 + -0x24);
          *(undefined4 *)(param_2 + 2) = *(undefined4 *)(puVar20 + 2);
          *(undefined4 *)((long)param_2 + 0x14) = uVar5;
          *(undefined4 *)(param_2 + 3) = uVar6;
          *(undefined4 *)((long)param_2 + 0x1c) = uVar7;
          param_2[4] = puVar20[4];
          *(undefined4 *)(param_2 + 5) = *(undefined4 *)(puVar20 + 5);
          *puVar20 = uVar4;
          puVar20[1] = uVar17;
          puVar20[4] = uVar3;
          puVar20[2] = uVar18;
          puVar20[3] = uVar19;
          *(float *)(puVar20 + 5) = fVar27;
          pfVar1 = (float *)(param_2 + 0xd);
          fVar26 = (float)param_1[10];
          puVar23 = puVar20;
          param_2 = param_2 + 8;
          fVar27 = *pfVar1;
          fVar28 = *(float *)(puVar20 + -3);
        }
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (param_2,puVar25,param_3);
        lVar21 = (long)param_2 - (long)param_1;
        if (lVar21 < 0x401) goto LAB_001025e8;
        puVar25 = param_2;
      } while (param_3 != 0);
    }
    __heap_select<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
              (param_1,param_2,param_2);
    do {
      uVar5 = param_1[1];
      uVar6 = param_1[2];
      uVar7 = param_1[3];
      local_a0 = *(undefined4 *)(param_2 + -8);
      uStack_9c = *(undefined4 *)((long)param_2 + -0x3c);
      uStack_98 = *(undefined4 *)(param_2 + -7);
      uStack_94 = *(undefined4 *)((long)param_2 + -0x34);
      puVar24 = param_2 + -8;
      local_90 = *(undefined4 *)(param_2 + -6);
      uStack_8c = *(undefined4 *)((long)param_2 + -0x2c);
      uStack_88 = *(undefined4 *)(param_2 + -5);
      uStack_84 = *(undefined4 *)((long)param_2 + -0x24);
      local_80 = param_2[-4];
      *(undefined4 *)puVar24 = *param_1;
      *(undefined4 *)((long)param_2 + -0x3c) = uVar5;
      *(undefined4 *)(param_2 + -7) = uVar6;
      *(undefined4 *)((long)param_2 + -0x34) = uVar7;
      uVar5 = param_1[5];
      uVar6 = param_1[6];
      uVar7 = param_1[7];
      local_78 = *(undefined4 *)(param_2 + -3);
      *(undefined4 *)(param_2 + -6) = param_1[4];
      *(undefined4 *)((long)param_2 + -0x2c) = uVar5;
      *(undefined4 *)(param_2 + -5) = uVar6;
      *(undefined4 *)((long)param_2 + -0x24) = uVar7;
      param_2[-4] = *(undefined8 *)(param_1 + 8);
      *(undefined4 *)(param_2 + -3) = param_1[10];
      __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                (param_1,0,(long)puVar24 - (long)param_1 >> 6,&local_a0);
      param_2 = puVar24;
    } while (0x40 < (long)puVar24 - (long)param_1);
  }
LAB_001025e8:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, long,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, long, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined8 *param_2,long param_3)

{
  float *pfVar1;
  float fVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined8 *puVar20;
  long lVar21;
  undefined4 *puVar22;
  undefined8 *puVar23;
  undefined8 *puVar24;
  undefined8 *puVar25;
  long in_FS_OFFSET;
  float fVar26;
  float fVar27;
  float fVar28;
  undefined4 local_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 local_90;
  undefined4 uStack_8c;
  undefined4 uStack_88;
  undefined4 uStack_84;
  undefined8 local_80;
  undefined4 local_78;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  lVar21 = (long)param_2 - (long)param_1;
  if (0x400 < lVar21) {
    puVar24 = (undefined8 *)(param_1 + 0x10);
    puVar25 = param_2;
    if (param_3 != 0) {
      do {
        fVar26 = (float)param_1[0x1a];
        param_3 = param_3 + -1;
        fVar27 = *(float *)(puVar25 + -3);
        uVar5 = *param_1;
        uVar6 = param_1[1];
        uVar7 = param_1[2];
        uVar8 = param_1[3];
        uVar9 = param_1[4];
        uVar10 = param_1[5];
        uVar11 = param_1[6];
        uVar12 = param_1[7];
        puVar22 = param_1 + (lVar21 >> 7) * 0x10;
        uVar3 = *(undefined8 *)(param_1 + 8);
        fVar28 = (float)param_1[10];
        fVar2 = (float)puVar22[10];
        puVar23 = puVar25;
        param_2 = puVar24;
        if (fVar2 <= fVar26) {
          if (fVar27 <= fVar26) {
            if (fVar2 < fVar27) goto LAB_0010279b;
            goto LAB_0010281a;
          }
LAB_001026b2:
          uVar13 = param_1[0x10];
          uVar14 = param_1[0x11];
          uVar15 = param_1[0x12];
          uVar16 = param_1[0x13];
          param_1[10] = fVar26;
          uVar4 = *(undefined8 *)(param_1 + 0x18);
          param_1[0x10] = uVar5;
          param_1[0x11] = uVar6;
          param_1[0x12] = uVar7;
          param_1[0x13] = uVar8;
          *(undefined8 *)(param_1 + 0x18) = uVar3;
          *(undefined8 *)(param_1 + 8) = uVar4;
          *param_1 = uVar13;
          param_1[1] = uVar14;
          param_1[2] = uVar15;
          param_1[3] = uVar16;
          param_1[4] = param_1[0x14];
          param_1[5] = param_1[0x15];
          param_1[6] = param_1[0x16];
          param_1[7] = param_1[0x17];
          param_1[0x14] = uVar9;
          param_1[0x15] = uVar10;
          param_1[0x16] = uVar11;
          param_1[0x17] = uVar12;
          param_1[0x1a] = fVar28;
          fVar27 = fVar28;
          fVar28 = *(float *)(puVar25 + -3);
        }
        else if (fVar2 < fVar27) {
LAB_0010281a:
          uVar13 = puVar22[1];
          uVar14 = puVar22[2];
          uVar15 = puVar22[3];
          *param_1 = *puVar22;
          param_1[1] = uVar13;
          param_1[2] = uVar14;
          param_1[3] = uVar15;
          uVar13 = puVar22[5];
          uVar14 = puVar22[6];
          uVar15 = puVar22[7];
          param_1[4] = puVar22[4];
          param_1[5] = uVar13;
          param_1[6] = uVar14;
          param_1[7] = uVar15;
          *(undefined8 *)(param_1 + 8) = *(undefined8 *)(puVar22 + 8);
          param_1[10] = puVar22[10];
          *(undefined8 *)(puVar22 + 8) = uVar3;
          *puVar22 = uVar5;
          puVar22[1] = uVar6;
          puVar22[2] = uVar7;
          puVar22[3] = uVar8;
          puVar22[4] = uVar9;
          puVar22[5] = uVar10;
          puVar22[6] = uVar11;
          puVar22[7] = uVar12;
          puVar22[10] = fVar28;
          fVar27 = (float)param_1[0x1a];
          fVar28 = *(float *)(puVar25 + -3);
          fVar26 = (float)param_1[10];
        }
        else {
          if (fVar27 <= fVar26) goto LAB_001026b2;
LAB_0010279b:
          uVar13 = *(undefined4 *)((long)puVar25 + -0x3c);
          uVar14 = *(undefined4 *)(puVar25 + -7);
          uVar15 = *(undefined4 *)((long)puVar25 + -0x34);
          *param_1 = *(undefined4 *)(puVar25 + -8);
          param_1[1] = uVar13;
          param_1[2] = uVar14;
          param_1[3] = uVar15;
          uVar13 = *(undefined4 *)((long)puVar25 + -0x2c);
          uVar14 = *(undefined4 *)(puVar25 + -5);
          uVar15 = *(undefined4 *)((long)puVar25 + -0x24);
          param_1[4] = *(undefined4 *)(puVar25 + -6);
          param_1[5] = uVar13;
          param_1[6] = uVar14;
          param_1[7] = uVar15;
          *(undefined8 *)(param_1 + 8) = puVar25[-4];
          param_1[10] = *(undefined4 *)(puVar25 + -3);
          puVar25[-4] = uVar3;
          *(undefined4 *)(puVar25 + -8) = uVar5;
          *(undefined4 *)((long)puVar25 + -0x3c) = uVar6;
          *(undefined4 *)(puVar25 + -7) = uVar7;
          *(undefined4 *)((long)puVar25 + -0x34) = uVar8;
          *(undefined4 *)(puVar25 + -6) = uVar9;
          *(undefined4 *)((long)puVar25 + -0x2c) = uVar10;
          *(undefined4 *)(puVar25 + -5) = uVar11;
          *(undefined4 *)((long)puVar25 + -0x24) = uVar12;
          *(float *)(puVar25 + -3) = fVar28;
          fVar26 = (float)param_1[10];
          fVar27 = (float)param_1[0x1a];
        }
        while( true ) {
          while (fVar27 < fVar26) {
            pfVar1 = (float *)(param_2 + 0xd);
            param_2 = param_2 + 8;
            fVar27 = *pfVar1;
          }
          while (puVar20 = puVar23 + -8, fVar26 < fVar28) {
            puVar23 = puVar20;
            fVar28 = *(float *)(puVar20 + -3);
          }
          if (puVar20 <= param_2) break;
          uVar5 = *(undefined4 *)((long)puVar23 + -0x3c);
          uVar6 = *(undefined4 *)(puVar20 + 1);
          uVar7 = *(undefined4 *)((long)puVar23 + -0x34);
          uVar4 = *param_2;
          uVar17 = param_2[1];
          uVar18 = param_2[2];
          uVar19 = param_2[3];
          uVar3 = param_2[4];
          *(undefined4 *)param_2 = *(undefined4 *)puVar20;
          *(undefined4 *)((long)param_2 + 4) = uVar5;
          *(undefined4 *)(param_2 + 1) = uVar6;
          *(undefined4 *)((long)param_2 + 0xc) = uVar7;
          uVar5 = *(undefined4 *)((long)puVar23 + -0x2c);
          uVar6 = *(undefined4 *)(puVar20 + 3);
          uVar7 = *(undefined4 *)((long)puVar23 + -0x24);
          *(undefined4 *)(param_2 + 2) = *(undefined4 *)(puVar20 + 2);
          *(undefined4 *)((long)param_2 + 0x14) = uVar5;
          *(undefined4 *)(param_2 + 3) = uVar6;
          *(undefined4 *)((long)param_2 + 0x1c) = uVar7;
          param_2[4] = puVar20[4];
          *(undefined4 *)(param_2 + 5) = *(undefined4 *)(puVar20 + 5);
          *puVar20 = uVar4;
          puVar20[1] = uVar17;
          puVar20[4] = uVar3;
          puVar20[2] = uVar18;
          puVar20[3] = uVar19;
          *(float *)(puVar20 + 5) = fVar27;
          pfVar1 = (float *)(param_2 + 0xd);
          fVar26 = (float)param_1[10];
          puVar23 = puVar20;
          param_2 = param_2 + 8;
          fVar27 = *pfVar1;
          fVar28 = *(float *)(puVar20 + -3);
        }
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (param_2,puVar25,param_3);
        lVar21 = (long)param_2 - (long)param_1;
        if (lVar21 < 0x401) goto LAB_001028f8;
        puVar25 = param_2;
      } while (param_3 != 0);
    }
    __heap_select<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
              (param_1,param_2,param_2);
    do {
      uVar5 = param_1[1];
      uVar6 = param_1[2];
      uVar7 = param_1[3];
      local_a0 = *(undefined4 *)(param_2 + -8);
      uStack_9c = *(undefined4 *)((long)param_2 + -0x3c);
      uStack_98 = *(undefined4 *)(param_2 + -7);
      uStack_94 = *(undefined4 *)((long)param_2 + -0x34);
      puVar24 = param_2 + -8;
      local_90 = *(undefined4 *)(param_2 + -6);
      uStack_8c = *(undefined4 *)((long)param_2 + -0x2c);
      uStack_88 = *(undefined4 *)(param_2 + -5);
      uStack_84 = *(undefined4 *)((long)param_2 + -0x24);
      local_80 = param_2[-4];
      *(undefined4 *)puVar24 = *param_1;
      *(undefined4 *)((long)param_2 + -0x3c) = uVar5;
      *(undefined4 *)(param_2 + -7) = uVar6;
      *(undefined4 *)((long)param_2 + -0x34) = uVar7;
      uVar5 = param_1[5];
      uVar6 = param_1[6];
      uVar7 = param_1[7];
      local_78 = *(undefined4 *)(param_2 + -3);
      *(undefined4 *)(param_2 + -6) = param_1[4];
      *(undefined4 *)((long)param_2 + -0x2c) = uVar5;
      *(undefined4 *)(param_2 + -5) = uVar6;
      *(undefined4 *)((long)param_2 + -0x24) = uVar7;
      param_2[-4] = *(undefined8 *)(param_1 + 8);
      *(undefined4 *)(param_2 + -3) = param_1[10];
      __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                (param_1,0,(long)puVar24 - (long)param_1 >> 6,&local_a0);
      param_2 = puVar24;
    } while (0x40 < (long)puVar24 - (long)param_1);
  }
LAB_001028f8:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, long,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, long, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined8 *param_2,long param_3)

{
  float *pfVar1;
  float fVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined8 *puVar20;
  long lVar21;
  undefined4 *puVar22;
  undefined8 *puVar23;
  undefined8 *puVar24;
  undefined8 *puVar25;
  long in_FS_OFFSET;
  float fVar26;
  float fVar27;
  float fVar28;
  undefined4 local_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 local_90;
  undefined4 uStack_8c;
  undefined4 uStack_88;
  undefined4 uStack_84;
  undefined8 local_80;
  undefined4 local_78;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  lVar21 = (long)param_2 - (long)param_1;
  if (0x400 < lVar21) {
    puVar24 = (undefined8 *)(param_1 + 0x10);
    puVar25 = param_2;
    if (param_3 != 0) {
      do {
        fVar26 = (float)param_1[0x1a];
        param_3 = param_3 + -1;
        fVar27 = *(float *)(puVar25 + -3);
        uVar5 = *param_1;
        uVar6 = param_1[1];
        uVar7 = param_1[2];
        uVar8 = param_1[3];
        uVar9 = param_1[4];
        uVar10 = param_1[5];
        uVar11 = param_1[6];
        uVar12 = param_1[7];
        puVar22 = param_1 + (lVar21 >> 7) * 0x10;
        uVar3 = *(undefined8 *)(param_1 + 8);
        fVar28 = (float)param_1[10];
        fVar2 = (float)puVar22[10];
        puVar23 = puVar25;
        param_2 = puVar24;
        if (fVar2 <= fVar26) {
          if (fVar27 <= fVar26) {
            if (fVar2 < fVar27) goto LAB_00102aab;
            goto LAB_00102b2a;
          }
LAB_001029c2:
          uVar13 = param_1[0x10];
          uVar14 = param_1[0x11];
          uVar15 = param_1[0x12];
          uVar16 = param_1[0x13];
          param_1[10] = fVar26;
          uVar4 = *(undefined8 *)(param_1 + 0x18);
          param_1[0x10] = uVar5;
          param_1[0x11] = uVar6;
          param_1[0x12] = uVar7;
          param_1[0x13] = uVar8;
          *(undefined8 *)(param_1 + 0x18) = uVar3;
          *(undefined8 *)(param_1 + 8) = uVar4;
          *param_1 = uVar13;
          param_1[1] = uVar14;
          param_1[2] = uVar15;
          param_1[3] = uVar16;
          param_1[4] = param_1[0x14];
          param_1[5] = param_1[0x15];
          param_1[6] = param_1[0x16];
          param_1[7] = param_1[0x17];
          param_1[0x14] = uVar9;
          param_1[0x15] = uVar10;
          param_1[0x16] = uVar11;
          param_1[0x17] = uVar12;
          param_1[0x1a] = fVar28;
          fVar27 = fVar28;
          fVar28 = *(float *)(puVar25 + -3);
        }
        else if (fVar2 < fVar27) {
LAB_00102b2a:
          uVar13 = puVar22[1];
          uVar14 = puVar22[2];
          uVar15 = puVar22[3];
          *param_1 = *puVar22;
          param_1[1] = uVar13;
          param_1[2] = uVar14;
          param_1[3] = uVar15;
          uVar13 = puVar22[5];
          uVar14 = puVar22[6];
          uVar15 = puVar22[7];
          param_1[4] = puVar22[4];
          param_1[5] = uVar13;
          param_1[6] = uVar14;
          param_1[7] = uVar15;
          *(undefined8 *)(param_1 + 8) = *(undefined8 *)(puVar22 + 8);
          param_1[10] = puVar22[10];
          *(undefined8 *)(puVar22 + 8) = uVar3;
          *puVar22 = uVar5;
          puVar22[1] = uVar6;
          puVar22[2] = uVar7;
          puVar22[3] = uVar8;
          puVar22[4] = uVar9;
          puVar22[5] = uVar10;
          puVar22[6] = uVar11;
          puVar22[7] = uVar12;
          puVar22[10] = fVar28;
          fVar27 = (float)param_1[0x1a];
          fVar28 = *(float *)(puVar25 + -3);
          fVar26 = (float)param_1[10];
        }
        else {
          if (fVar27 <= fVar26) goto LAB_001029c2;
LAB_00102aab:
          uVar13 = *(undefined4 *)((long)puVar25 + -0x3c);
          uVar14 = *(undefined4 *)(puVar25 + -7);
          uVar15 = *(undefined4 *)((long)puVar25 + -0x34);
          *param_1 = *(undefined4 *)(puVar25 + -8);
          param_1[1] = uVar13;
          param_1[2] = uVar14;
          param_1[3] = uVar15;
          uVar13 = *(undefined4 *)((long)puVar25 + -0x2c);
          uVar14 = *(undefined4 *)(puVar25 + -5);
          uVar15 = *(undefined4 *)((long)puVar25 + -0x24);
          param_1[4] = *(undefined4 *)(puVar25 + -6);
          param_1[5] = uVar13;
          param_1[6] = uVar14;
          param_1[7] = uVar15;
          *(undefined8 *)(param_1 + 8) = puVar25[-4];
          param_1[10] = *(undefined4 *)(puVar25 + -3);
          puVar25[-4] = uVar3;
          *(undefined4 *)(puVar25 + -8) = uVar5;
          *(undefined4 *)((long)puVar25 + -0x3c) = uVar6;
          *(undefined4 *)(puVar25 + -7) = uVar7;
          *(undefined4 *)((long)puVar25 + -0x34) = uVar8;
          *(undefined4 *)(puVar25 + -6) = uVar9;
          *(undefined4 *)((long)puVar25 + -0x2c) = uVar10;
          *(undefined4 *)(puVar25 + -5) = uVar11;
          *(undefined4 *)((long)puVar25 + -0x24) = uVar12;
          *(float *)(puVar25 + -3) = fVar28;
          fVar26 = (float)param_1[10];
          fVar27 = (float)param_1[0x1a];
        }
        while( true ) {
          while (fVar27 < fVar26) {
            pfVar1 = (float *)(param_2 + 0xd);
            param_2 = param_2 + 8;
            fVar27 = *pfVar1;
          }
          while (puVar20 = puVar23 + -8, fVar26 < fVar28) {
            puVar23 = puVar20;
            fVar28 = *(float *)(puVar20 + -3);
          }
          if (puVar20 <= param_2) break;
          uVar5 = *(undefined4 *)((long)puVar23 + -0x3c);
          uVar6 = *(undefined4 *)(puVar20 + 1);
          uVar7 = *(undefined4 *)((long)puVar23 + -0x34);
          uVar4 = *param_2;
          uVar17 = param_2[1];
          uVar18 = param_2[2];
          uVar19 = param_2[3];
          uVar3 = param_2[4];
          *(undefined4 *)param_2 = *(undefined4 *)puVar20;
          *(undefined4 *)((long)param_2 + 4) = uVar5;
          *(undefined4 *)(param_2 + 1) = uVar6;
          *(undefined4 *)((long)param_2 + 0xc) = uVar7;
          uVar5 = *(undefined4 *)((long)puVar23 + -0x2c);
          uVar6 = *(undefined4 *)(puVar20 + 3);
          uVar7 = *(undefined4 *)((long)puVar23 + -0x24);
          *(undefined4 *)(param_2 + 2) = *(undefined4 *)(puVar20 + 2);
          *(undefined4 *)((long)param_2 + 0x14) = uVar5;
          *(undefined4 *)(param_2 + 3) = uVar6;
          *(undefined4 *)((long)param_2 + 0x1c) = uVar7;
          param_2[4] = puVar20[4];
          *(undefined4 *)(param_2 + 5) = *(undefined4 *)(puVar20 + 5);
          *puVar20 = uVar4;
          puVar20[1] = uVar17;
          puVar20[4] = uVar3;
          puVar20[2] = uVar18;
          puVar20[3] = uVar19;
          *(float *)(puVar20 + 5) = fVar27;
          pfVar1 = (float *)(param_2 + 0xd);
          fVar26 = (float)param_1[10];
          puVar23 = puVar20;
          param_2 = param_2 + 8;
          fVar27 = *pfVar1;
          fVar28 = *(float *)(puVar20 + -3);
        }
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (param_2,puVar25,param_3);
        lVar21 = (long)param_2 - (long)param_1;
        if (lVar21 < 0x401) goto LAB_00102c08;
        puVar25 = param_2;
      } while (param_3 != 0);
    }
    __heap_select<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
              (param_1,param_2,param_2);
    do {
      uVar5 = param_1[1];
      uVar6 = param_1[2];
      uVar7 = param_1[3];
      local_a0 = *(undefined4 *)(param_2 + -8);
      uStack_9c = *(undefined4 *)((long)param_2 + -0x3c);
      uStack_98 = *(undefined4 *)(param_2 + -7);
      uStack_94 = *(undefined4 *)((long)param_2 + -0x34);
      puVar24 = param_2 + -8;
      local_90 = *(undefined4 *)(param_2 + -6);
      uStack_8c = *(undefined4 *)((long)param_2 + -0x2c);
      uStack_88 = *(undefined4 *)(param_2 + -5);
      uStack_84 = *(undefined4 *)((long)param_2 + -0x24);
      local_80 = param_2[-4];
      *(undefined4 *)puVar24 = *param_1;
      *(undefined4 *)((long)param_2 + -0x3c) = uVar5;
      *(undefined4 *)(param_2 + -7) = uVar6;
      *(undefined4 *)((long)param_2 + -0x34) = uVar7;
      uVar5 = param_1[5];
      uVar6 = param_1[6];
      uVar7 = param_1[7];
      local_78 = *(undefined4 *)(param_2 + -3);
      *(undefined4 *)(param_2 + -6) = param_1[4];
      *(undefined4 *)((long)param_2 + -0x2c) = uVar5;
      *(undefined4 *)(param_2 + -5) = uVar6;
      *(undefined4 *)((long)param_2 + -0x24) = uVar7;
      param_2[-4] = *(undefined8 *)(param_1 + 8);
      *(undefined4 *)(param_2 + -3) = param_1[10];
      __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                (param_1,0,(long)puVar24 - (long)param_1 >> 6,&local_a0);
      param_2 = puVar24;
    } while (0x40 < (long)puVar24 - (long)param_1);
  }
LAB_00102c08:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::deleteGeometry(unsigned long) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::deleteGeometry
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this,ulong param_1)

{
  long lVar1;
  long *plVar2;
  long lVar3;
  
  lVar3 = *(long *)(*(long *)(this + 0x28) + 0x200);
  if (param_1 < (ulong)(*(long *)(*(long *)(this + 0x28) + 0x208) - lVar3 >> 3)) {
    lVar1 = param_1 * 8;
    plVar2 = *(long **)(*(long *)(this + 0x10) + lVar1);
    if (plVar2 != (long *)0x0) {
      *(long *)(*(long *)(this + 0x10) + lVar1) = 0;
      (**(code **)(*plVar2 + 8))();
      lVar3 = *(long *)(*(long *)(this + 0x28) + 0x200);
    }
    plVar2 = (long *)(lVar3 + lVar1);
    if ((long *)*plVar2 != (long *)0x0) {
      (**(code **)(*(long *)*plVar2 + 8))();
      plVar2 = (long *)(lVar1 + *(long *)(*(long *)(this + 0x28) + 0x200));
    }
    *plVar2 = 0;
    return;
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::deleteGeometry(unsigned long) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::deleteGeometry
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this,ulong param_1)

{
  long lVar1;
  long *plVar2;
  long lVar3;
  
  lVar3 = *(long *)(*(long *)(this + 0x28) + 0x200);
  if (param_1 < (ulong)(*(long *)(*(long *)(this + 0x28) + 0x208) - lVar3 >> 3)) {
    lVar1 = param_1 * 8;
    plVar2 = *(long **)(*(long *)(this + 0x10) + lVar1);
    if (plVar2 != (long *)0x0) {
      *(long *)(*(long *)(this + 0x10) + lVar1) = 0;
      (**(code **)(*plVar2 + 8))();
      lVar3 = *(long *)(*(long *)(this + 0x28) + 0x200);
    }
    plVar2 = (long *)(lVar3 + lVar1);
    if ((long *)*plVar2 != (long *)0x0) {
      (**(code **)(*(long *)*plVar2 + 8))();
      plVar2 = (long *)(lVar1 + *(long *)(*(long *)(this + 0x28) + 0x200));
    }
    *plVar2 = 0;
    return;
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::deleteGeometry(unsigned long) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::deleteGeometry
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this,ulong param_1)

{
  long lVar1;
  long *plVar2;
  long lVar3;
  
  lVar3 = *(long *)(*(long *)(this + 0x28) + 0x200);
  if (param_1 < (ulong)(*(long *)(*(long *)(this + 0x28) + 0x208) - lVar3 >> 3)) {
    lVar1 = param_1 * 8;
    plVar2 = *(long **)(*(long *)(this + 0x10) + lVar1);
    if (plVar2 != (long *)0x0) {
      *(long *)(*(long *)(this + 0x10) + lVar1) = 0;
      (**(code **)(*plVar2 + 8))();
      lVar3 = *(long *)(*(long *)(this + 0x28) + 0x200);
    }
    plVar2 = (long *)(lVar3 + lVar1);
    if ((long *)*plVar2 != (long *)0x0) {
      (**(code **)(*(long *)*plVar2 + 8))();
      plVar2 = (long *)(lVar1 + *(long *)(*(long *)(this + 0x28) + 0x200));
    }
    *plVar2 = 0;
    return;
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderLarge::meshQualityChanged(RTCBuildQuality) */

bool __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderLarge::
meshQualityChanged(RefBuilderLarge *this,int param_2)

{
  return *(int *)(this + 0x18) != param_2;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderSmall::meshQualityChanged(RTCBuildQuality) */

undefined8
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderSmall::
meshQualityChanged(void)

{
  return 0;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderLarge::meshQualityChanged(RTCBuildQuality) */

bool __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderLarge::
meshQualityChanged(RefBuilderLarge *this,int param_2)

{
  return *(int *)(this + 0x18) != param_2;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderSmall::meshQualityChanged(RTCBuildQuality) */

undefined8
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderSmall::
meshQualityChanged(void)

{
  return 0;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderLarge::meshQualityChanged(RTCBuildQuality) */

bool __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderLarge::
meshQualityChanged(RefBuilderLarge *this,int param_2)

{
  return *(int *)(this + 0x18) != param_2;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderSmall::meshQualityChanged(RTCBuildQuality) */

undefined8
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderSmall::
meshQualityChanged(void)

{
  return 0;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
  operator_delete(this,0x10);
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
  operator_delete(this,0x10);
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
  operator_delete(this,0x10);
  return;
}



/* embree::RefCount::refInc() */

RefCount * __thiscall embree::RefCount::refInc(RefCount *this)

{
  LOCK();
  *(long *)(this + 8) = *(long *)(this + 8) + 1;
  UNLOCK();
  return this;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::clear() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::clear
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  long *plVar1;
  long *plVar2;
  void *pvVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  
  lVar4 = *(long *)(this + 0x28);
  lVar5 = *(long *)(lVar4 + 0x200);
  if (*(long *)(lVar4 + 0x208) != lVar5) {
    uVar6 = 0;
    do {
      plVar1 = *(long **)(lVar5 + uVar6 * 8);
      if (plVar1 != (long *)0x0) {
        (**(code **)(*plVar1 + 0x28))();
        lVar4 = *(long *)(this + 0x28);
      }
      lVar5 = *(long *)(lVar4 + 0x200);
      uVar6 = uVar6 + 1;
    } while (uVar6 < (ulong)(*(long *)(lVar4 + 0x208) - lVar5 >> 3));
  }
  lVar5 = *(long *)(this + 0x10);
  if (*(long *)(this + 0x18) != lVar5) {
    uVar6 = 0;
    do {
      plVar1 = (long *)(lVar5 + uVar6 * 8);
      plVar2 = (long *)*plVar1;
      if (plVar2 != (long *)0x0) {
        *plVar1 = 0;
        (**(code **)(*plVar2 + 8))();
        lVar5 = *(long *)(this + 0x10);
      }
      uVar6 = uVar6 + 1;
    } while (uVar6 < (ulong)(*(long *)(this + 0x18) - lVar5 >> 3));
  }
  pvVar3 = *(void **)(this + 0x58);
  lVar5 = *(long *)(this + 0x50);
  if (pvVar3 != (void *)0x0) {
    if ((ulong)(lVar5 << 6) < 0x1c00000) {
      embree::alignedFree(pvVar3);
    }
    else {
      embree::os_free(pvVar3,lVar5 << 6,(bool)this[0x40]);
    }
  }
  if (lVar5 != 0) {
    (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar5 * -0x40,1);
  }
  *(undefined8 *)(this + 0x58) = 0;
  *(undefined8 *)(this + 0x50) = 0;
  *(undefined8 *)(this + 0x48) = 0;
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::clear() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::clear
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this)

{
  long *plVar1;
  long *plVar2;
  void *pvVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  
  lVar4 = *(long *)(this + 0x28);
  lVar5 = *(long *)(lVar4 + 0x200);
  if (*(long *)(lVar4 + 0x208) != lVar5) {
    uVar6 = 0;
    do {
      plVar1 = *(long **)(lVar5 + uVar6 * 8);
      if (plVar1 != (long *)0x0) {
        (**(code **)(*plVar1 + 0x28))();
        lVar4 = *(long *)(this + 0x28);
      }
      lVar5 = *(long *)(lVar4 + 0x200);
      uVar6 = uVar6 + 1;
    } while (uVar6 < (ulong)(*(long *)(lVar4 + 0x208) - lVar5 >> 3));
  }
  lVar5 = *(long *)(this + 0x10);
  if (*(long *)(this + 0x18) != lVar5) {
    uVar6 = 0;
    do {
      plVar1 = (long *)(lVar5 + uVar6 * 8);
      plVar2 = (long *)*plVar1;
      if (plVar2 != (long *)0x0) {
        *plVar1 = 0;
        (**(code **)(*plVar2 + 8))();
        lVar5 = *(long *)(this + 0x10);
      }
      uVar6 = uVar6 + 1;
    } while (uVar6 < (ulong)(*(long *)(this + 0x18) - lVar5 >> 3));
  }
  pvVar3 = *(void **)(this + 0x58);
  lVar5 = *(long *)(this + 0x50);
  if (pvVar3 != (void *)0x0) {
    if ((ulong)(lVar5 << 6) < 0x1c00000) {
      embree::alignedFree(pvVar3);
    }
    else {
      embree::os_free(pvVar3,lVar5 << 6,(bool)this[0x40]);
    }
  }
  if (lVar5 != 0) {
    (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar5 * -0x40,1);
  }
  *(undefined8 *)(this + 0x58) = 0;
  *(undefined8 *)(this + 0x50) = 0;
  *(undefined8 *)(this + 0x48) = 0;
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::clear() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::clear
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this)

{
  long *plVar1;
  long *plVar2;
  void *pvVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  
  lVar4 = *(long *)(this + 0x28);
  lVar5 = *(long *)(lVar4 + 0x200);
  if (*(long *)(lVar4 + 0x208) != lVar5) {
    uVar6 = 0;
    do {
      plVar1 = *(long **)(lVar5 + uVar6 * 8);
      if (plVar1 != (long *)0x0) {
        (**(code **)(*plVar1 + 0x28))();
        lVar4 = *(long *)(this + 0x28);
      }
      lVar5 = *(long *)(lVar4 + 0x200);
      uVar6 = uVar6 + 1;
    } while (uVar6 < (ulong)(*(long *)(lVar4 + 0x208) - lVar5 >> 3));
  }
  lVar5 = *(long *)(this + 0x10);
  if (*(long *)(this + 0x18) != lVar5) {
    uVar6 = 0;
    do {
      plVar1 = (long *)(lVar5 + uVar6 * 8);
      plVar2 = (long *)*plVar1;
      if (plVar2 != (long *)0x0) {
        *plVar1 = 0;
        (**(code **)(*plVar2 + 8))();
        lVar5 = *(long *)(this + 0x10);
      }
      uVar6 = uVar6 + 1;
    } while (uVar6 < (ulong)(*(long *)(this + 0x18) - lVar5 >> 3));
  }
  pvVar3 = *(void **)(this + 0x58);
  lVar5 = *(long *)(this + 0x50);
  if (pvVar3 != (void *)0x0) {
    if ((ulong)(lVar5 << 6) < 0x1c00000) {
      embree::alignedFree(pvVar3);
    }
    else {
      embree::os_free(pvVar3,lVar5 << 6,(bool)this[0x40]);
    }
  }
  if (lVar5 != 0) {
    (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar5 * -0x40,1);
  }
  *(undefined8 *)(this + 0x58) = 0;
  *(undefined8 *)(this + 0x50) = 0;
  *(undefined8 *)(this + 0x48) = 0;
  return;
}



/* embree::RefCount::refDec() */

void __thiscall embree::RefCount::refDec(RefCount *this)

{
  RefCount *pRVar1;
  
  LOCK();
  pRVar1 = this + 8;
  *(long *)pRVar1 = *(long *)pRVar1 + -1;
  UNLOCK();
  if ((this != (RefCount *)0x0) && (*(long *)pRVar1 == 0)) {
                    /* WARNING: Could not recover jumptable at 0x00103229. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    (**(code **)(*(long *)this + 8))();
    return;
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderLarge::attachBuildRefs(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderLarge::
attachBuildRefs(RefBuilderLarge *this,BVHNBuilderTwoLevel *param_1)

{
  BVHNBuilderTwoLevel *pBVar1;
  int iVar2;
  float fVar3;
  long lVar4;
  ulong uVar5;
  undefined1 auVar6 [16];
  uint uVar7;
  long lVar8;
  float *pfVar9;
  long lVar10;
  float fVar11;
  float fVar12;
  float fVar14;
  float fVar15;
  undefined1 auVar13 [16];
  float fVar16;
  float fVar18;
  float fVar19;
  undefined1 auVar17 [16];
  
  lVar8 = *(long *)(this + 8);
  lVar4 = *(long *)(*(long *)(*(long *)(param_1 + 0x28) + 0x200) + lVar8 * 8);
  lVar10 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + lVar8 * 8);
  if (lVar10 != 0) {
    if (*(uint *)(*(long *)(*(long *)(param_1 + 0x30) + 0x200) + lVar8 * 4) <
        *(uint *)(lVar10 + 0x38)) {
      lVar8 = (**(code **)(**(long **)(this + 0x10) + 0x20))();
    }
  }
  auVar17 = minps(*(undefined1 (*) [16])(lVar4 + 0x10),*(undefined1 (*) [16])(lVar4 + 0x30));
  auVar13 = maxps(*(undefined1 (*) [16])(lVar4 + 0x20),*(undefined1 (*) [16])(lVar4 + 0x40));
  fVar16 = auVar17._0_4_;
  fVar18 = auVar17._4_4_;
  fVar19 = auVar17._8_4_;
  fVar11 = auVar13._0_4_;
  fVar14 = auVar13._4_4_;
  fVar15 = auVar13._8_4_;
  auVar6._4_4_ = -(uint)(fVar18 <= fVar14);
  auVar6._0_4_ = -(uint)(fVar16 <= fVar11);
  auVar6._8_4_ = -(uint)(fVar19 <= fVar15);
  auVar6._12_4_ = -(uint)(auVar17._12_4_ <= auVar13._12_4_);
  uVar7 = movmskps((int)lVar8,auVar6);
  if ((~uVar7 & 7) != 0) {
    return;
  }
  lVar8 = *(long *)(this + 8);
  lVar10 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + lVar8 * 8);
  if ((lVar10 != 0) && (*(char *)(lVar10 + 0x3c) != '\x14')) {
    lVar10 = 0;
  }
  fVar3 = *(float *)(lVar10 + 0x20);
  uVar5 = *(ulong *)(lVar4 + 0x70);
  fVar12 = 0.0;
  if ((uVar5 & 8) == 0) {
    fVar12 = ((fVar14 - fVar18) + (fVar15 - fVar19)) * (fVar11 - fVar16) +
             (fVar14 - fVar18) * (fVar15 - fVar19);
    fVar12 = fVar12 + fVar12;
  }
  LOCK();
  pBVar1 = param_1 + 0x88;
  iVar2 = *(int *)pBVar1;
  *(int *)pBVar1 = *(int *)pBVar1 + 1;
  UNLOCK();
  pfVar9 = (float *)((long)iVar2 * 0x40 + *(long *)(param_1 + 0x58));
  *(ulong *)(pfVar9 + 8) = uVar5;
  *pfVar9 = fVar16;
  pfVar9[1] = fVar18;
  pfVar9[2] = fVar19;
  pfVar9[3] = (float)lVar8;
  pfVar9[4] = fVar11;
  pfVar9[5] = fVar14;
  pfVar9[6] = fVar15;
  pfVar9[7] = fVar3;
  pfVar9[10] = fVar12;
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderLarge::attachBuildRefs(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderLarge::
attachBuildRefs(RefBuilderLarge *this,BVHNBuilderTwoLevel *param_1)

{
  BVHNBuilderTwoLevel *pBVar1;
  int iVar2;
  float fVar3;
  long lVar4;
  ulong uVar5;
  undefined1 auVar6 [16];
  uint uVar7;
  long lVar8;
  float *pfVar9;
  long lVar10;
  float fVar11;
  float fVar12;
  float fVar14;
  float fVar15;
  undefined1 auVar13 [16];
  float fVar16;
  float fVar18;
  float fVar19;
  undefined1 auVar17 [16];
  
  lVar8 = *(long *)(this + 8);
  lVar4 = *(long *)(*(long *)(*(long *)(param_1 + 0x28) + 0x200) + lVar8 * 8);
  lVar10 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + lVar8 * 8);
  if (lVar10 != 0) {
    if (*(uint *)(*(long *)(*(long *)(param_1 + 0x30) + 0x200) + lVar8 * 4) <
        *(uint *)(lVar10 + 0x38)) {
      lVar8 = (**(code **)(**(long **)(this + 0x10) + 0x20))();
    }
  }
  auVar17 = minps(*(undefined1 (*) [16])(lVar4 + 0x10),*(undefined1 (*) [16])(lVar4 + 0x30));
  auVar13 = maxps(*(undefined1 (*) [16])(lVar4 + 0x20),*(undefined1 (*) [16])(lVar4 + 0x40));
  fVar16 = auVar17._0_4_;
  fVar18 = auVar17._4_4_;
  fVar19 = auVar17._8_4_;
  fVar11 = auVar13._0_4_;
  fVar14 = auVar13._4_4_;
  fVar15 = auVar13._8_4_;
  auVar6._4_4_ = -(uint)(fVar18 <= fVar14);
  auVar6._0_4_ = -(uint)(fVar16 <= fVar11);
  auVar6._8_4_ = -(uint)(fVar19 <= fVar15);
  auVar6._12_4_ = -(uint)(auVar17._12_4_ <= auVar13._12_4_);
  uVar7 = movmskps((int)lVar8,auVar6);
  if ((~uVar7 & 7) != 0) {
    return;
  }
  lVar8 = *(long *)(this + 8);
  lVar10 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + lVar8 * 8);
  if ((lVar10 != 0) && (*(char *)(lVar10 + 0x3c) != '\x14')) {
    lVar10 = 0;
  }
  fVar3 = *(float *)(lVar10 + 0x20);
  uVar5 = *(ulong *)(lVar4 + 0x70);
  fVar12 = 0.0;
  if ((uVar5 & 8) == 0) {
    fVar12 = ((fVar14 - fVar18) + (fVar15 - fVar19)) * (fVar11 - fVar16) +
             (fVar14 - fVar18) * (fVar15 - fVar19);
    fVar12 = fVar12 + fVar12;
  }
  LOCK();
  pBVar1 = param_1 + 0x88;
  iVar2 = *(int *)pBVar1;
  *(int *)pBVar1 = *(int *)pBVar1 + 1;
  UNLOCK();
  pfVar9 = (float *)((long)iVar2 * 0x40 + *(long *)(param_1 + 0x58));
  *(ulong *)(pfVar9 + 8) = uVar5;
  *pfVar9 = fVar16;
  pfVar9[1] = fVar18;
  pfVar9[2] = fVar19;
  pfVar9[3] = (float)lVar8;
  pfVar9[4] = fVar11;
  pfVar9[5] = fVar14;
  pfVar9[6] = fVar15;
  pfVar9[7] = fVar3;
  pfVar9[10] = fVar12;
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderLarge::attachBuildRefs(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderLarge::
attachBuildRefs(RefBuilderLarge *this,BVHNBuilderTwoLevel *param_1)

{
  BVHNBuilderTwoLevel *pBVar1;
  int iVar2;
  float fVar3;
  long lVar4;
  ulong uVar5;
  undefined1 auVar6 [16];
  uint uVar7;
  long lVar8;
  float *pfVar9;
  long lVar10;
  float fVar11;
  float fVar12;
  float fVar14;
  float fVar15;
  undefined1 auVar13 [16];
  float fVar16;
  float fVar18;
  float fVar19;
  undefined1 auVar17 [16];
  
  lVar8 = *(long *)(this + 8);
  lVar4 = *(long *)(*(long *)(*(long *)(param_1 + 0x28) + 0x200) + lVar8 * 8);
  lVar10 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + lVar8 * 8);
  if (lVar10 != 0) {
    if (*(uint *)(*(long *)(*(long *)(param_1 + 0x30) + 0x200) + lVar8 * 4) <
        *(uint *)(lVar10 + 0x38)) {
      lVar8 = (**(code **)(**(long **)(this + 0x10) + 0x20))();
    }
  }
  auVar17 = minps(*(undefined1 (*) [16])(lVar4 + 0x10),*(undefined1 (*) [16])(lVar4 + 0x30));
  auVar13 = maxps(*(undefined1 (*) [16])(lVar4 + 0x20),*(undefined1 (*) [16])(lVar4 + 0x40));
  fVar16 = auVar17._0_4_;
  fVar18 = auVar17._4_4_;
  fVar19 = auVar17._8_4_;
  fVar11 = auVar13._0_4_;
  fVar14 = auVar13._4_4_;
  fVar15 = auVar13._8_4_;
  auVar6._4_4_ = -(uint)(fVar18 <= fVar14);
  auVar6._0_4_ = -(uint)(fVar16 <= fVar11);
  auVar6._8_4_ = -(uint)(fVar19 <= fVar15);
  auVar6._12_4_ = -(uint)(auVar17._12_4_ <= auVar13._12_4_);
  uVar7 = movmskps((int)lVar8,auVar6);
  if ((~uVar7 & 7) != 0) {
    return;
  }
  lVar8 = *(long *)(this + 8);
  lVar10 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + lVar8 * 8);
  if ((lVar10 != 0) && (*(char *)(lVar10 + 0x3c) != '\x14')) {
    lVar10 = 0;
  }
  fVar3 = *(float *)(lVar10 + 0x20);
  uVar5 = *(ulong *)(lVar4 + 0x70);
  fVar12 = 0.0;
  if ((uVar5 & 8) == 0) {
    fVar12 = ((fVar14 - fVar18) + (fVar15 - fVar19)) * (fVar11 - fVar16) +
             (fVar14 - fVar18) * (fVar15 - fVar19);
    fVar12 = fVar12 + fVar12;
  }
  LOCK();
  pBVar1 = param_1 + 0x88;
  iVar2 = *(int *)pBVar1;
  *(int *)pBVar1 = *(int *)pBVar1 + 1;
  UNLOCK();
  pfVar9 = (float *)((long)iVar2 * 0x40 + *(long *)(param_1 + 0x58));
  *(ulong *)(pfVar9 + 8) = uVar5;
  *pfVar9 = fVar16;
  pfVar9[1] = fVar18;
  pfVar9[2] = fVar19;
  pfVar9[3] = (float)lVar8;
  pfVar9[4] = fVar11;
  pfVar9[5] = fVar14;
  pfVar9[6] = fVar15;
  pfVar9[7] = fVar3;
  pfVar9[10] = fVar12;
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::~BVHNBuilderTwoLevel
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this)

{
  long lVar1;
  void *pvVar2;
  long *plVar3;
  long *plVar4;
  
  lVar1 = *(long *)(this + 0x78);
  *(undefined ***)this = &PTR__BVHNBuilderTwoLevel_001335f8;
  pvVar2 = *(void **)(this + 0x80);
  if (pvVar2 != (void *)0x0) {
    if ((ulong)(lVar1 << 5) < 0x1c00000) {
      embree::alignedFree(pvVar2);
    }
    else {
      embree::os_free(pvVar2,lVar1 << 5,(bool)this[0x68]);
    }
  }
  if (lVar1 != 0) {
    (**(code **)**(undefined8 **)(this + 0x60))(*(undefined8 **)(this + 0x60),lVar1 * -0x20,1);
  }
  pvVar2 = *(void **)(this + 0x58);
  lVar1 = *(long *)(this + 0x50);
  if (pvVar2 != (void *)0x0) {
    if ((ulong)(lVar1 << 6) < 0x1c00000) {
      embree::alignedFree(pvVar2);
    }
    else {
      embree::os_free(pvVar2,lVar1 << 6,(bool)this[0x40]);
    }
  }
  if (lVar1 != 0) {
    (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar1 * -0x40,1);
  }
  plVar3 = *(long **)(this + 0x18);
  plVar4 = *(long **)(this + 0x10);
  if (plVar3 != plVar4) {
    do {
      if ((long *)*plVar4 != (long *)0x0) {
        (**(code **)(*(long *)*plVar4 + 8))();
      }
      plVar4 = plVar4 + 1;
    } while (plVar3 != plVar4);
    plVar4 = *(long **)(this + 0x10);
  }
  if (plVar4 != (long *)0x0) {
    operator_delete(plVar4,*(long *)(this + 0x20) - (long)plVar4);
    return;
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::~BVHNBuilderTwoLevel
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this)

{
  ~BVHNBuilderTwoLevel(this);
  operator_delete(this,0xa8);
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::
~BVHNBuilderTwoLevel(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this)

{
  long lVar1;
  void *pvVar2;
  long *plVar3;
  long *plVar4;
  
  lVar1 = *(long *)(this + 0x78);
  *(undefined ***)this = &PTR__BVHNBuilderTwoLevel_00133640;
  pvVar2 = *(void **)(this + 0x80);
  if (pvVar2 != (void *)0x0) {
    if ((ulong)(lVar1 << 5) < 0x1c00000) {
      embree::alignedFree(pvVar2);
    }
    else {
      embree::os_free(pvVar2,lVar1 << 5,(bool)this[0x68]);
    }
  }
  if (lVar1 != 0) {
    (**(code **)**(undefined8 **)(this + 0x60))(*(undefined8 **)(this + 0x60),lVar1 * -0x20,1);
  }
  pvVar2 = *(void **)(this + 0x58);
  lVar1 = *(long *)(this + 0x50);
  if (pvVar2 != (void *)0x0) {
    if ((ulong)(lVar1 << 6) < 0x1c00000) {
      embree::alignedFree(pvVar2);
    }
    else {
      embree::os_free(pvVar2,lVar1 << 6,(bool)this[0x40]);
    }
  }
  if (lVar1 != 0) {
    (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar1 * -0x40,1);
  }
  plVar3 = *(long **)(this + 0x18);
  plVar4 = *(long **)(this + 0x10);
  if (plVar3 != plVar4) {
    do {
      if ((long *)*plVar4 != (long *)0x0) {
        (**(code **)(*(long *)*plVar4 + 8))();
      }
      plVar4 = plVar4 + 1;
    } while (plVar3 != plVar4);
    plVar4 = *(long **)(this + 0x10);
  }
  if (plVar4 != (long *)0x0) {
    operator_delete(plVar4,*(long *)(this + 0x20) - (long)plVar4);
    return;
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::
~BVHNBuilderTwoLevel(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this)

{
  ~BVHNBuilderTwoLevel(this);
  operator_delete(this,0xa8);
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::
~BVHNBuilderTwoLevel(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  long lVar1;
  void *pvVar2;
  long *plVar3;
  long *plVar4;
  
  lVar1 = *(long *)(this + 0x78);
  *(undefined ***)this = &PTR__BVHNBuilderTwoLevel_00133688;
  pvVar2 = *(void **)(this + 0x80);
  if (pvVar2 != (void *)0x0) {
    if ((ulong)(lVar1 << 5) < 0x1c00000) {
      embree::alignedFree(pvVar2);
    }
    else {
      embree::os_free(pvVar2,lVar1 << 5,(bool)this[0x68]);
    }
  }
  if (lVar1 != 0) {
    (**(code **)**(undefined8 **)(this + 0x60))(*(undefined8 **)(this + 0x60),lVar1 * -0x20,1);
  }
  pvVar2 = *(void **)(this + 0x58);
  lVar1 = *(long *)(this + 0x50);
  if (pvVar2 != (void *)0x0) {
    if ((ulong)(lVar1 << 6) < 0x1c00000) {
      embree::alignedFree(pvVar2);
    }
    else {
      embree::os_free(pvVar2,lVar1 << 6,(bool)this[0x40]);
    }
  }
  if (lVar1 != 0) {
    (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar1 * -0x40,1);
  }
  plVar3 = *(long **)(this + 0x18);
  plVar4 = *(long **)(this + 0x10);
  if (plVar3 != plVar4) {
    do {
      if ((long *)*plVar4 != (long *)0x0) {
        (**(code **)(*(long *)*plVar4 + 8))();
      }
      plVar4 = plVar4 + 1;
    } while (plVar3 != plVar4);
    plVar4 = *(long **)(this + 0x10);
  }
  if (plVar4 != (long *)0x0) {
    operator_delete(plVar4,*(long *)(this + 0x20) - (long)plVar4);
    return;
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::
~BVHNBuilderTwoLevel(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  ~BVHNBuilderTwoLevel(this);
  operator_delete(this,0xa8);
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
  long *plVar1;
  long *plVar2;
  
  *(undefined ***)this = &PTR__RefBuilderLarge_00132e48;
  plVar2 = *(long **)(this + 0x10);
  if (plVar2 != (long *)0x0) {
    if (*(code **)(*plVar2 + 0x18) != RefCount::refDec) {
                    /* WARNING: Could not recover jumptable at 0x001039d8. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar2 + 0x18))();
      return;
    }
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
                    /* WARNING: Could not recover jumptable at 0x001039c5. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar2 + 8))();
      return;
    }
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
  long *plVar1;
  long *plVar2;
  
  *(undefined ***)this = &PTR__RefBuilderLarge_00132d88;
  plVar2 = *(long **)(this + 0x10);
  if (plVar2 != (long *)0x0) {
    if (*(code **)(*plVar2 + 0x18) != RefCount::refDec) {
                    /* WARNING: Could not recover jumptable at 0x00103a28. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar2 + 0x18))();
      return;
    }
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
                    /* WARNING: Could not recover jumptable at 0x00103a15. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar2 + 8))();
      return;
    }
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
  long *plVar1;
  long *plVar2;
  
  *(undefined ***)this = &PTR__RefBuilderLarge_00132de8;
  plVar2 = *(long **)(this + 0x10);
  if (plVar2 != (long *)0x0) {
    if (*(code **)(*plVar2 + 0x18) != RefCount::refDec) {
                    /* WARNING: Could not recover jumptable at 0x00103a78. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar2 + 0x18))();
      return;
    }
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
                    /* WARNING: Could not recover jumptable at 0x00103a65. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar2 + 8))();
      return;
    }
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
  long *plVar1;
  long *plVar2;
  
  *(undefined ***)this = &PTR__RefBuilderLarge_00132e48;
  plVar2 = *(long **)(this + 0x10);
  if (plVar2 != (long *)0x0) {
    if (*(code **)(*plVar2 + 0x18) != RefCount::refDec) {
      (**(code **)(*plVar2 + 0x18))();
      operator_delete(this,0x20);
      return;
    }
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      (**(code **)(*plVar2 + 8))();
    }
  }
  operator_delete(this,0x20);
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
  long *plVar1;
  long *plVar2;
  
  *(undefined ***)this = &PTR__RefBuilderLarge_00132d88;
  plVar2 = *(long **)(this + 0x10);
  if (plVar2 != (long *)0x0) {
    if (*(code **)(*plVar2 + 0x18) != RefCount::refDec) {
      (**(code **)(*plVar2 + 0x18))();
      operator_delete(this,0x20);
      return;
    }
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      (**(code **)(*plVar2 + 8))();
    }
  }
  operator_delete(this,0x20);
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
  long *plVar1;
  long *plVar2;
  
  *(undefined ***)this = &PTR__RefBuilderLarge_00132de8;
  plVar2 = *(long **)(this + 0x10);
  if (plVar2 != (long *)0x0) {
    if (*(code **)(*plVar2 + 0x18) != RefCount::refDec) {
      (**(code **)(*plVar2 + 0x18))();
      operator_delete(this,0x20);
      return;
    }
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      (**(code **)(*plVar2 + 8))();
    }
  }
  operator_delete(this,0x20);
  return;
}



/* embree::FastAllocator::reset() */

void __thiscall embree::FastAllocator::reset(FastAllocator *this)

{
  long *plVar1;
  ulong *puVar2;
  long *plVar3;
  FastAllocator *pFVar4;
  long lVar5;
  FastAllocator *pFVar6;
  ulong uVar7;
  long *plVar8;
  long in_FS_OFFSET;
  long local_48;
  long local_40;
  
  pFVar6 = this + 0xf8;
  plVar8 = &local_48;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  pFVar4 = this + 0xb8;
  do {
    while (*(long *)pFVar4 != 0) {
      lVar5 = *(long *)(*(long *)pFVar4 + 0x18);
      *(long *)(*(long *)pFVar4 + 0x18) = *(long *)pFVar6;
      LOCK();
      *(long *)pFVar6 = *(long *)pFVar4;
      UNLOCK();
      LOCK();
      *(long *)pFVar4 = lVar5;
      UNLOCK();
    }
    LOCK();
    *(long *)pFVar4 = 0;
    UNLOCK();
    pFVar4 = pFVar4 + 8;
  } while (pFVar4 != pFVar6);
  LOCK();
  *(undefined8 *)(this + 0x118) = 0;
  UNLOCK();
  LOCK();
  *(undefined8 *)(this + 0x120) = 0;
  UNLOCK();
  LOCK();
  *(undefined8 *)(this + 0x128) = 0;
  UNLOCK();
  pFVar4 = this + 0x100;
  while (*(long *)pFVar6 != 0) {
    puVar2 = *(ulong **)pFVar6;
    uVar7 = *puVar2;
    if (*puVar2 < puVar2[1]) {
      uVar7 = puVar2[1];
    }
    LOCK();
    puVar2[1] = uVar7;
    UNLOCK();
    LOCK();
    *puVar2 = 0;
    UNLOCK();
    lVar5 = *(long *)(*(long *)pFVar6 + 0x18);
    *(long *)(*(long *)pFVar6 + 0x18) = *(long *)pFVar4;
    LOCK();
    *(long *)pFVar4 = *(long *)pFVar6;
    UNLOCK();
    LOCK();
    *(long *)pFVar6 = lVar5;
    UNLOCK();
  }
  lVar5 = *(long *)(this + 0x100);
  local_48 = lVar5;
  for (; lVar5 != 0; lVar5 = *(long *)(lVar5 + 0x18)) {
    while (*(int *)(lVar5 + 0x28) != 2) {
      plVar8 = (long *)(lVar5 + 0x18);
      lVar5 = *(long *)(lVar5 + 0x18);
      if (lVar5 == 0) goto LAB_00103cc7;
    }
    *plVar8 = *(undefined8 *)(lVar5 + 0x18);
  }
LAB_00103cc7:
  LOCK();
  *(long *)pFVar4 = local_48;
  UNLOCK();
  pFVar6 = this + 0x78;
  do {
    LOCK();
    *(long *)pFVar6 = 0;
    UNLOCK();
    LOCK();
    *(long *)(pFVar6 + 0x40) = 0;
    UNLOCK();
    pFVar6 = pFVar6 + 8;
  } while (pFVar6 != this + 0xb8);
  plVar8 = *(long **)(this + 0x130);
  plVar3 = *(long **)(this + 0x138);
  if (plVar3 != plVar8) {
    do {
      while( true ) {
        lVar5 = *plVar8;
        if (this != *(FastAllocator **)(lVar5 + 8)) break;
        embree::MutexSys::lock();
        if (this == *(FastAllocator **)(lVar5 + 8)) {
          LOCK();
          plVar1 = (long *)(*(long *)(lVar5 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(lVar5 + 0xa8) + *(long *)(lVar5 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar5 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(lVar5 + 0x98) + *(long *)(lVar5 + 0x58)) -
                               *(long *)(lVar5 + 0x50)) - *(long *)(lVar5 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar5 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(lVar5 + 0xb0) + *(long *)(lVar5 + 0x70);
          UNLOCK();
          *(undefined8 *)(lVar5 + 0x48) = 0;
          *(undefined8 *)(lVar5 + 0x58) = 0;
          *(undefined8 *)(lVar5 + 0x50) = 0;
          *(undefined8 *)(lVar5 + 0x68) = 0;
          *(undefined8 *)(lVar5 + 0x70) = 0;
          *(undefined8 *)(lVar5 + 0x60) = 0;
          *(undefined8 *)(lVar5 + 0x88) = 0;
          *(undefined8 *)(lVar5 + 0x98) = 0;
          *(undefined8 *)(lVar5 + 0x90) = 0;
          *(undefined8 *)(lVar5 + 0xa8) = 0;
          *(undefined8 *)(lVar5 + 0xb0) = 0;
          *(undefined8 *)(lVar5 + 0xa0) = 0;
          LOCK();
          *(undefined8 *)(lVar5 + 8) = 0;
          UNLOCK();
        }
        plVar8 = plVar8 + 1;
        embree::MutexSys::unlock();
        if (plVar3 == plVar8) goto LAB_00103e18;
      }
      plVar8 = plVar8 + 1;
    } while (plVar3 != plVar8);
LAB_00103e18:
    if (*(long *)(this + 0x130) != *(long *)(this + 0x138)) {
      *(long *)(this + 0x138) = *(long *)(this + 0x130);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::FastAllocator::init_estimate(unsigned long) */

void __thiscall embree::FastAllocator::init_estimate(FastAllocator *this,ulong param_1)

{
  FastAllocator *pFVar1;
  long lVar2;
  FastAllocator *pFVar3;
  ulong uVar4;
  ulong uVar5;
  ulong uVar6;
  
  pFVar3 = this + 0xb8;
  pFVar1 = this + 0xf8;
  do {
    while (*(long *)pFVar3 != 0) {
      lVar2 = *(long *)(*(long *)pFVar3 + 0x18);
      *(long *)(*(long *)pFVar3 + 0x18) = *(long *)pFVar1;
      LOCK();
      *(long *)pFVar1 = *(long *)pFVar3;
      UNLOCK();
      LOCK();
      *(long *)pFVar3 = lVar2;
      UNLOCK();
    }
    LOCK();
    *(long *)pFVar3 = 0;
    UNLOCK();
    pFVar3 = pFVar3 + 8;
  } while (pFVar1 != pFVar3);
  if ((*(long *)(this + 0xf8) != 0) || (*(long *)(this + 0x100) != 0)) {
    reset(this);
    return;
  }
  *(ulong *)(this + 0x18) = param_1;
  uVar6 = 3;
  this[0x10a] = (FastAllocator)0x0;
  uVar5 = param_1 / 0x14 + 0x7f & 0xffffffffffffff80;
  uVar4 = 0x1fffc0;
  if (uVar5 < 0x1fffc1) {
    uVar4 = uVar5;
  }
  if (uVar4 < 0x400) {
    uVar4 = 0x400;
  }
  *(ulong *)(this + 0x28) = uVar4;
  *(ulong *)(this + 0x20) = uVar4;
  if (param_1 <= uVar4 * 0x50) {
    uVar6 = (ulong)(uVar4 * 0x28 < param_1);
  }
  *(ulong *)(this + 8) = uVar6;
  if (uVar4 * 0xa0 < param_1) {
    *(undefined8 *)(this + 8) = 7;
    if (uVar4 * 0x140 < param_1) {
LAB_00104005:
      *(undefined8 *)(this + 0x10) = 0x1040;
      *(ulong *)(this + 0x20) = uVar4 * 2;
      goto LAB_00103f71;
    }
  }
  else {
    if (uVar4 * 0x140 < param_1) goto LAB_00104005;
    if (0x1040 < uVar5) {
      uVar5 = 0x1040;
    }
    if (uVar5 < 0x400) {
      uVar5 = 0x400;
    }
    *(ulong *)(this + 0x10) = uVar5;
    if (param_1 != 0) goto LAB_00103f71;
    *(undefined8 *)(this + 0x28) = 0x1fffc0;
  }
  *(undefined8 *)(this + 0x10) = 0x1040;
LAB_00103f71:
  LOCK();
  *(undefined8 *)(this + 0x110) = 0;
  UNLOCK();
  lVar2 = *(long *)this;
  if (*(long *)(lVar2 + 0x4e0) != 0) {
    *(long *)(this + 0x20) = *(long *)(lVar2 + 0x4e0);
  }
  if ((((0 < *(int *)(lVar2 + 0x4e8)) &&
       (*(undefined8 *)(this + 8) = 0, 1 < *(int *)(lVar2 + 0x4e8))) &&
      (*(undefined8 *)(this + 8) = 1, 3 < *(int *)(lVar2 + 0x4e8))) &&
     (*(undefined8 *)(this + 8) = 3, 7 < *(int *)(lVar2 + 0x4e8))) {
    *(undefined8 *)(this + 8) = 7;
  }
  if (*(long *)(lVar2 + 0x4f0) != 0) {
    *(long *)(this + 0x10) = *(long *)(lVar2 + 0x4f0);
  }
  if (*(int *)(lVar2 + 0x4f8) != -1) {
    this[0x10a] = (FastAllocator)(*(int *)(lVar2 + 0x4f8) != 0);
  }
  return;
}



/* embree::FastAllocator::Block::create(embree::Device*, bool, unsigned long, unsigned long,
   embree::FastAllocator::Block*, embree::FastAllocator::AllocationType) */

undefined8 *
embree::FastAllocator::Block::create
          (long *param_1,char param_2,ulong param_3,long param_4,undefined8 param_5,int param_6)

{
  undefined8 *puVar1;
  ulong uVar2;
  void *pvVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  bool local_31;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_6 == 1) {
    if (0x1fffbf < param_3) {
      uVar2 = param_3 + 0x103f & 0xfffffffffffff000;
      if (param_1 != (long *)0x0) {
        (**(code **)(*param_1 + 0x20))(param_1,uVar2,0);
      }
      uVar4 = param_4 + 0x103fU & 0xfffffffffffff000;
      puVar1 = (undefined8 *)embree::os_malloc(uVar4,&local_31);
      *puVar1 = 0;
      puVar1[1] = uVar2 - 0x40;
      puVar1[2] = uVar4 - 0x40;
      puVar1[3] = param_5;
      puVar1[4] = 0;
      *(undefined4 *)(puVar1 + 5) = 1;
      *(bool *)((long)puVar1 + 0x2c) = local_31;
      goto LAB_001040f0;
    }
  }
  else {
    puVar1 = (undefined8 *)0x0;
    if (param_6 != 0) goto LAB_001040f0;
    if (param_3 == 0x3fffc0) {
      if (param_1 != (long *)0x0) {
        (**(code **)(*param_1 + 0x20))(param_1,0x400040,0);
      }
      if (param_2 == '\0') {
        puVar1 = (undefined8 *)embree::alignedMalloc(0x400000,0x40);
      }
      else {
        puVar1 = (undefined8 *)(**(code **)(*param_1 + 0x38))(param_1,0x400000,0x40);
      }
      pvVar3 = (void *)((ulong)puVar1 & 0xffffffffffe00000);
      embree::os_advise(pvVar3,0x200000);
      embree::os_advise((void *)((long)pvVar3 + 0x200000),0x200000);
      embree::os_advise((void *)((long)pvVar3 + 0x400000),0x200000);
      *puVar1 = 0;
      puVar1[1] = 0x3fffc0;
      puVar1[2] = 0x3fffc0;
      puVar1[3] = param_5;
      puVar1[4] = 0x40;
      *(undefined4 *)(puVar1 + 5) = 0;
      *(undefined1 *)((long)puVar1 + 0x2c) = 0;
      goto LAB_001040f0;
    }
  }
  if (param_1 != (long *)0x0) {
    (**(code **)(*param_1 + 0x20))(param_1,param_3 + 0x80,0);
  }
  if (param_2 == '\0') {
    puVar1 = (undefined8 *)embree::alignedMalloc(param_3 + 0x40,0x40);
  }
  else {
    puVar1 = (undefined8 *)(**(code **)(*param_1 + 0x38))(param_1,param_3 + 0x40,0x40);
  }
  *puVar1 = 0;
  puVar1[1] = param_3;
  puVar1[2] = param_3;
  puVar1[3] = param_5;
  puVar1[4] = 0x40;
  *(undefined4 *)(puVar1 + 5) = 0;
  *(undefined1 *)((long)puVar1 + 0x2c) = 0;
LAB_001040f0:
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return puVar1;
}



/* embree::FastAllocator::malloc(unsigned long&, unsigned long, bool) */

void __thiscall
embree::FastAllocator::malloc(FastAllocator *this,ulong *param_1,ulong param_2,bool param_3)

{
  FastAllocator *pFVar1;
  long lVar2;
  ulong *puVar3;
  ulong uVar4;
  ulong uVar5;
  ulong uVar6;
  undefined8 uVar7;
  FastAllocator *pFVar8;
  undefined8 *puVar9;
  undefined4 uVar10;
  
  do {
    uVar4 = embree::TaskScheduler::threadID();
    lVar2 = (uVar4 & *(ulong *)(this + 8)) * 8;
    pFVar1 = this + lVar2 + 0x78;
    puVar3 = *(ulong **)pFVar1;
    if (puVar3 != (ulong *)0x0) {
      puVar9 = *(undefined8 **)this;
      if (puVar9 != (undefined8 *)0x0) {
        puVar9 = puVar9 + 0xa9;
      }
      uVar4 = -param_2 & (param_2 - 1) + *param_1;
      if (puVar3[2] < *puVar3 + uVar4) {
        if (param_3) {
          LOCK();
          uVar6 = *puVar3;
          *puVar3 = *puVar3 + uVar4;
          UNLOCK();
          goto LAB_0010433a;
        }
      }
      else {
        LOCK();
        uVar6 = *puVar3;
        *puVar3 = *puVar3 + uVar4;
        UNLOCK();
        if ((uVar4 + uVar6 <= puVar3[2]) || (param_3)) {
LAB_0010433a:
          if (uVar6 <= puVar3[2]) {
            uVar5 = puVar3[2] - uVar6;
            if (uVar4 < puVar3[2] - uVar6) {
              uVar5 = uVar4;
            }
            *param_1 = uVar5;
            if ((puVar9 != (undefined8 *)0x0) && (puVar3[1] < uVar5 + uVar6)) {
              uVar4 = puVar3[1];
              if (puVar3[1] <= uVar6) {
                uVar4 = uVar6;
              }
              (**(code **)*puVar9)(puVar9,(uVar5 + uVar6) - uVar4,1);
            }
            if ((long)puVar3 + uVar6 + 0x40 != 0) {
              return;
            }
          }
        }
      }
      if (this[0x109] == (FastAllocator)0x0) {
LAB_0010454a:
                    /* WARNING: Subroutine does not return */
        abort();
      }
    }
    if (0x1fffc0 < *param_1) goto LAB_0010454a;
    if (*(long *)(this + 0x100) == 0) {
      embree::MutexSys::lock();
      if (puVar3 == *(ulong **)pFVar1) {
        pFVar8 = this + lVar2 + 0xb8;
        uVar10 = *(undefined4 *)(this + 0x148);
        uVar4 = (param_2 - 1) + *param_1 & -param_2;
        uVar6 = *(ulong *)(this + 0x28);
        if (*(ulong *)(this + 0x20) < *(ulong *)(this + 0x28)) {
          uVar6 = *(ulong *)(this + 0x20);
        }
        uVar7 = *(undefined8 *)pFVar8;
        if (uVar4 < uVar6) {
          uVar4 = uVar6;
        }
LAB_00104414:
        uVar7 = Block::create(*(undefined8 *)this,this[0x108],uVar4,uVar4,uVar7,uVar10);
        LOCK();
        *(undefined8 *)pFVar1 = uVar7;
        UNLOCK();
        LOCK();
        *(undefined8 *)pFVar8 = uVar7;
        UNLOCK();
      }
    }
    else {
      embree::MutexSys::lock();
      if (puVar3 == *(ulong **)pFVar1) {
        if (*(long *)(this + 0x100) == 0) {
          LOCK();
          pFVar8 = this + 0x110;
          lVar2 = *(long *)pFVar8;
          *(long *)pFVar8 = *(long *)pFVar8 + 1;
          UNLOCK();
          uVar10 = *(undefined4 *)(this + 0x148);
          uVar7 = *(undefined8 *)(this + 0xf8);
          pFVar8 = this + 0xf8;
          uVar4 = 0x10;
          if (lVar2 + 1U < 0x11) {
            uVar4 = lVar2 + 1U;
          }
          uVar4 = *(long *)(this + 0x20) << ((byte)uVar4 & 0x3f);
          if (*(ulong *)(this + 0x28) < uVar4) {
            uVar4 = *(ulong *)(this + 0x28);
          }
          goto LAB_00104414;
        }
        uVar7 = *(undefined8 *)(*(long *)(this + 0x100) + 0x18);
        *(undefined8 *)(*(long *)(this + 0x100) + 0x18) = *(undefined8 *)(this + 0xf8);
        LOCK();
        *(undefined8 *)(this + 0xf8) = *(undefined8 *)(this + 0x100);
        UNLOCK();
        LOCK();
        *(undefined8 *)pFVar1 = *(undefined8 *)(this + 0x100);
        UNLOCK();
        LOCK();
        *(undefined8 *)(this + 0x100) = uVar7;
        UNLOCK();
      }
    }
    embree::MutexSys::unlock();
  } while( true );
}



/* void std::vector<embree::FastAllocator::ThreadLocal2*,
   std::allocator<embree::FastAllocator::ThreadLocal2*>
   >::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*
   const&>(__gnu_cxx::__normal_iterator<embree::FastAllocator::ThreadLocal2**,
   std::vector<embree::FastAllocator::ThreadLocal2*,
   std::allocator<embree::FastAllocator::ThreadLocal2*> > >, embree::FastAllocator::ThreadLocal2*
   const&) */

void __thiscall
std::
vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>::
_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
          (vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
           *this,void *param_2,undefined8 *param_3)

{
  void *__src;
  ulong uVar1;
  void *pvVar2;
  void *__dest;
  size_t __n;
  long lVar3;
  ulong uVar4;
  size_t __n_00;
  
  pvVar2 = *(void **)(this + 8);
  __src = *(void **)this;
  uVar1 = (long)pvVar2 - (long)__src >> 3;
  if (uVar1 == 0xfffffffffffffff) {
                    /* WARNING: Subroutine does not return */
    std::__throw_length_error("vector::_M_realloc_insert");
  }
  __n = (long)param_2 - (long)__src;
  if (__src == pvVar2) {
    if (0xfffffffffffffffe < uVar1) goto LAB_00104650;
    uVar4 = 0xfffffffffffffff;
    if (uVar1 + 1 < 0x1000000000000000) {
      uVar4 = uVar1 + 1;
    }
    uVar4 = uVar4 << 3;
  }
  else {
    uVar4 = uVar1 * 2;
    if (uVar4 < uVar1) {
LAB_00104650:
      uVar4 = 0x7ffffffffffffff8;
    }
    else {
      if (uVar4 == 0) {
        lVar3 = 0;
        __dest = (void *)0x0;
        goto LAB_001045d9;
      }
      if (0xfffffffffffffff < uVar4) {
        uVar4 = 0xfffffffffffffff;
      }
      uVar4 = uVar4 * 8;
    }
  }
  __dest = operator_new(uVar4);
  lVar3 = uVar4 + (long)__dest;
LAB_001045d9:
  *(undefined8 *)((long)__dest + __n) = *param_3;
  if (0 < (long)__n) {
    memmove(__dest,__src,__n);
  }
  __n_00 = (long)pvVar2 - (long)param_2;
  pvVar2 = (void *)((long)__dest + __n + 8);
  if (0 < (long)__n_00) {
    pvVar2 = memmove(pvVar2,param_2,__n_00);
  }
  if (__src != (void *)0x0) {
    operator_delete(__src,*(long *)(this + 0x10) - (long)__src);
  }
  *(void **)this = __dest;
  *(size_t *)(this + 8) = __n_00 + (long)pvVar2;
  *(long *)(this + 0x10) = lVar3;
  return;
}



/* void std::vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >,
   std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> > >
   >::_M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >
   >(__gnu_cxx::__normal_iterator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >*,
   std::vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >,
   std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> > > > >,
   std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >&&) */

void __thiscall
std::
vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
::
_M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
          (vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
           *this,undefined8 *param_2,undefined8 *param_3)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  ulong uVar8;
  undefined8 *puVar9;
  long lVar10;
  
  puVar5 = *(undefined8 **)(this + 8);
  puVar1 = *(undefined8 **)this;
  uVar3 = (long)puVar5 - (long)puVar1 >> 3;
  if (uVar3 == 0xfffffffffffffff) {
                    /* WARNING: Subroutine does not return */
    std::__throw_length_error("vector::_M_realloc_insert");
  }
  if (puVar1 == puVar5) {
    if (0xfffffffffffffffe < uVar3) goto LAB_001047e0;
    uVar8 = 0xfffffffffffffff;
    if (uVar3 + 1 < 0x1000000000000000) {
      uVar8 = uVar3 + 1;
    }
    uVar8 = uVar8 << 3;
LAB_001047ea:
    puVar7 = (undefined8 *)operator_new(uVar8);
    lVar10 = uVar8 + (long)puVar7;
    *(undefined8 *)((long)puVar7 + ((long)param_2 - (long)puVar1)) = *param_3;
    puVar4 = puVar7 + 1;
    *param_3 = 0;
    if (param_2 != puVar1) {
LAB_00104751:
      puVar4 = puVar1;
      puVar9 = puVar7;
      do {
        uVar2 = *puVar4;
        puVar4 = puVar4 + 1;
        *puVar9 = uVar2;
        puVar9 = puVar9 + 1;
      } while (puVar4 != param_2);
      puVar4 = (undefined8 *)((long)puVar7 + (long)param_2 + (8 - (long)puVar1));
    }
    if (param_2 == puVar5) goto LAB_001047a4;
  }
  else {
    uVar8 = uVar3 * 2;
    if (uVar8 < uVar3) {
LAB_001047e0:
      uVar8 = 0x7ffffffffffffff8;
      goto LAB_001047ea;
    }
    if (uVar8 != 0) {
      if (0xfffffffffffffff < uVar8) {
        uVar8 = 0xfffffffffffffff;
      }
      uVar8 = uVar8 * 8;
      goto LAB_001047ea;
    }
    lVar10 = 0;
    puVar7 = (undefined8 *)0x0;
    *(undefined8 *)((long)param_2 - (long)puVar1) = *param_3;
    puVar4 = (undefined8 *)&DAT_00000008;
    *param_3 = 0;
    if (param_2 != puVar1) goto LAB_00104751;
  }
  puVar9 = (undefined8 *)(((long)puVar5 - (long)param_2) + (long)puVar4);
  puVar5 = puVar4;
  do {
    uVar2 = *param_2;
    puVar6 = puVar5 + 1;
    param_2 = param_2 + 1;
    *puVar5 = uVar2;
    puVar5 = puVar6;
    puVar4 = puVar9;
  } while (puVar6 != puVar9);
LAB_001047a4:
  if (puVar1 != (undefined8 *)0x0) {
    operator_delete(puVar1,*(long *)(this + 0x10) - (long)puVar1);
  }
  *(undefined8 **)this = puVar7;
  *(undefined8 **)(this + 8) = puVar4;
  *(long *)(this + 0x10) = lVar10;
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderSmall::attachBuildRefs(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderSmall::
attachBuildRefs(RefBuilderSmall *this,BVHNBuilderTwoLevel *param_1)

{
  FastAllocator *this_00;
  long *plVar1;
  BVHNBuilderTwoLevel *pBVar2;
  uint uVar3;
  int iVar4;
  ulong *puVar5;
  long lVar6;
  ulong uVar7;
  MutexSys *this_01;
  long lVar8;
  uint uVar9;
  int *piVar10;
  undefined8 uVar11;
  long lVar12;
  ulong uVar13;
  undefined8 *puVar14;
  void *pvVar15;
  ulong uVar16;
  ulong uVar17;
  vector_t *pvVar18;
  ulong uVar19;
  ulong *puVar20;
  long in_FS_OFFSET;
  ulong local_130;
  ulong local_128;
  undefined8 uStack_120;
  undefined8 *local_118;
  bool local_110 [8];
  vector_t *local_108;
  vector_t *local_100;
  void *local_f8;
  undefined8 local_e8 [2];
  ulong local_d8;
  undefined8 uStack_d0;
  long local_a8;
  long local_a0;
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  uint local_68 [10];
  long local_40;
  
  uVar19 = *(ulong *)(this + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar12 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + uVar19 * 8);
  if ((lVar12 != 0) && (*(char *)(lVar12 + 0x3c) != '\x14')) {
    lVar12 = 0;
  }
  local_118 = *(undefined8 **)(*(long *)(param_1 + 0x30) + 0x188);
  pvVar18 = (vector_t *)(ulong)*(uint *)(lVar12 + 0x20);
  local_110[0] = false;
  local_108 = (vector_t *)0x0;
  local_100 = (vector_t *)0x0;
  local_f8 = (void *)0x0;
  if (local_118 != (undefined8 *)0x0) {
    local_118 = local_118 + 0xa9;
  }
  if (pvVar18 != (vector_t *)0x0) {
    uVar19 = (long)pvVar18 << 5;
    (**(code **)*local_118)(local_118,uVar19,0);
    if (uVar19 < 0x1c00000) {
      local_f8 = (void *)embree::alignedMalloc(uVar19,0x20);
    }
    else {
      local_f8 = (void *)embree::os_malloc(uVar19,local_110);
    }
    uVar19 = *(ulong *)(this + 8);
    local_100 = pvVar18;
  }
  local_108 = local_100;
  embree::sse2::createPrimRefArray
            ((Geometry *)local_e8,(uint)lVar12,uVar19,pvVar18,(BuildProgressMonitor *)&local_118);
  if (local_a8 != local_a0) {
    uVar19 = 0;
    do {
      lVar12 = *(long *)(param_1 + 0x28);
      this_00 = (FastAllocator *)(lVar12 + 0x78);
      lVar8 = *(long *)(in_FS_OFFSET + lRam0000000000104a04);
      if (lVar8 == 0) {
        this_01 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
                    /* WARNING: Subroutine does not return */
        embree::MutexSys::MutexSys(this_01);
      }
      puVar20 = (ulong *)(lVar8 + 0x80);
      if (*(char *)(lVar12 + 0x182) != '\0') {
        puVar20 = (ulong *)(lVar8 + 0x40);
      }
      uVar17 = *puVar20;
      local_130 = 0x50;
      if (this_00 != *(FastAllocator **)(uVar17 + 8)) {
        embree::MutexSys::lock();
        if (*(long *)(uVar17 + 8) != 0) {
          LOCK();
          plVar1 = (long *)(*(long *)(uVar17 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(uVar17 + 0xa8) + *(long *)(uVar17 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(uVar17 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(uVar17 + 0x98) + *(long *)(uVar17 + 0x58)) -
                               *(long *)(uVar17 + 0x50)) - *(long *)(uVar17 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(uVar17 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(uVar17 + 0xb0) + *(long *)(uVar17 + 0x70);
          UNLOCK();
        }
        *(undefined8 *)(uVar17 + 0x48) = 0;
        *(undefined8 *)(uVar17 + 0x58) = 0;
        *(undefined8 *)(uVar17 + 0x50) = 0;
        *(undefined8 *)(uVar17 + 0x68) = 0;
        *(undefined8 *)(uVar17 + 0x70) = 0;
        *(undefined8 *)(uVar17 + 0x60) = 0;
        if (this_00 == (FastAllocator *)0x0) {
          *(undefined8 *)(uVar17 + 0x88) = 0;
          uVar11 = 0;
          *(undefined8 *)(uVar17 + 0x98) = 0;
          *(undefined8 *)(uVar17 + 0x90) = 0;
          *(undefined8 *)(uVar17 + 0xa8) = 0;
          *(undefined8 *)(uVar17 + 0xb0) = 0;
        }
        else {
          uVar11 = *(undefined8 *)(lVar12 + 0x88);
          *(undefined8 *)(uVar17 + 0x88) = 0;
          *(undefined8 *)(uVar17 + 0x98) = 0;
          *(undefined8 *)(uVar17 + 0x60) = uVar11;
          *(undefined8 *)(uVar17 + 0x90) = 0;
          *(undefined8 *)(uVar17 + 0xa8) = 0;
          *(undefined8 *)(uVar17 + 0xb0) = 0;
          *(undefined8 *)(uVar17 + 0xa0) = 0;
          uVar11 = *(undefined8 *)(lVar12 + 0x88);
        }
        *(undefined8 *)(uVar17 + 0xa0) = uVar11;
        LOCK();
        *(FastAllocator **)(uVar17 + 8) = this_00;
        UNLOCK();
        local_128 = uVar17;
        embree::MutexSys::lock();
        puVar5 = *(ulong **)(lVar12 + 0x1b0);
        if (puVar5 == *(ulong **)(lVar12 + 0x1b8)) {
          std::
          vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
          ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                    ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                      *)(lVar12 + 0x1a8),puVar5,&local_128);
        }
        else {
          *puVar5 = uVar17;
          *(long *)(lVar12 + 0x1b0) = *(long *)(lVar12 + 0x1b0) + 8;
        }
        embree::MutexSys::unlock();
        embree::MutexSys::unlock();
      }
      uVar16 = local_130;
      uVar17 = puVar20[2];
      puVar20[5] = puVar20[5] + local_130;
      uVar7 = (ulong)(-(int)uVar17 & 0xf);
      uVar13 = local_130 + uVar17 + uVar7;
      puVar20[2] = uVar13;
      if (puVar20[3] < uVar13) {
        puVar20[2] = uVar17;
        if (puVar20[4] < local_130 * 4) {
          puVar14 = (undefined8 *)FastAllocator::malloc(this_00,&local_130,0x40,false);
          uVar17 = (ulong)puVar14 | 9;
        }
        else {
          local_128 = puVar20[4];
          puVar14 = (undefined8 *)FastAllocator::malloc(this_00,&local_128,0x40,true);
          puVar20[1] = (ulong)puVar14;
          uVar17 = puVar20[2];
          puVar20[2] = uVar16;
          puVar20[6] = (puVar20[3] + puVar20[6]) - uVar17;
          puVar20[3] = local_128;
          if (local_128 < uVar16) {
            local_128 = puVar20[4];
            puVar20[2] = 0;
            puVar14 = (undefined8 *)FastAllocator::malloc(this_00,&local_128,0x40,false);
            puVar20[1] = (ulong)puVar14;
            uVar17 = puVar20[2];
            puVar20[2] = uVar16;
            puVar20[6] = (puVar20[3] + puVar20[6]) - uVar17;
            puVar20[3] = local_128;
            if (local_128 < uVar16) {
              puVar20[2] = 0;
              uVar17 = 9;
              puVar14 = (undefined8 *)0x0;
              goto LAB_00104be3;
            }
          }
          uVar17 = (ulong)puVar14 | 9;
        }
      }
      else {
        puVar20[6] = puVar20[6] + uVar7;
        puVar14 = (undefined8 *)((uVar13 - local_130) + puVar20[1]);
        uVar17 = (ulong)puVar14 | 9;
      }
LAB_00104be3:
      local_98 = (undefined1  [16])0x0;
      uVar16 = local_a0 - local_a8;
      lVar12 = *(long *)(*(long *)(param_1 + 0x28) + 0x68);
      local_88 = (undefined1  [16])0x0;
      local_78 = (undefined1  [16])0x0;
      pvVar15 = (void *)(uVar19 * 0x20 + (long)local_f8);
      local_68[0] = 0xffffffff;
      local_68[1] = 0xffffffff;
      local_68[2] = 0xffffffff;
      local_68[3] = 0xffffffff;
      local_68[4] = 0xffffffff;
      local_68[5] = 0xffffffff;
      local_68[6] = 0xffffffff;
      local_68[7] = 0xffffffff;
      if (uVar16 <= uVar19) {
        lVar8 = 1;
        goto LAB_00104cc7;
      }
      lVar8 = 0;
      while( true ) {
        uVar9 = *(uint *)((long)pvVar15 + 0xc);
        lVar6 = *(long *)(lVar12 + 0x1e0);
        uVar19 = uVar19 + 1;
        uVar3 = *(uint *)((long)pvVar15 + 0x1c);
        local_68[lVar8] = uVar9;
        lVar6 = *(long *)(lVar6 + (ulong)uVar9 * 8);
        local_68[lVar8 + 4] = uVar3;
        piVar10 = (int *)((ulong)uVar3 * *(long *)(lVar6 + 0x60) + *(long *)(lVar6 + 0x58));
        uVar9 = (uint)(*(ulong *)(lVar6 + 0x90) >> 2) & 0x3fffffff;
        *(uint *)(local_98 + lVar8 * 4) = *piVar10 * uVar9;
        iVar4 = piVar10[2];
        *(uint *)(local_88 + lVar8 * 4) = piVar10[1] * uVar9;
        local_68[lVar8 + -4] = uVar9 * iVar4;
        if (uVar16 <= uVar19) break;
        pvVar15 = (void *)(uVar19 * 0x20 + (long)local_f8);
        while( true ) {
          lVar8 = lVar8 + 1;
          if (lVar8 == 4) goto LAB_00104d03;
          if (uVar19 < uVar16) break;
LAB_00104cc7:
          local_68[lVar8 + 4] = 0xffffffff;
          local_68[lVar8] = local_68[0];
          *(undefined4 *)(local_98 + lVar8 * 4) = 0;
          *(undefined4 *)(local_88 + lVar8 * 4) = 0;
          local_68[lVar8 + -4] = 0;
        }
      }
      lVar8 = lVar8 + 1;
      if (lVar8 != 4) goto LAB_00104cc7;
LAB_00104d03:
      *puVar14 = 0;
      puVar14[1] = 0;
      puVar14[2] = 0;
      puVar14[3] = 0;
      local_128 = local_d8;
      puVar14[4] = 0;
      puVar14[5] = 0;
      puVar14[6] = CONCAT44(local_68[1],local_68[0]);
      puVar14[7] = CONCAT44(local_68[3],local_68[2]);
      puVar14[8] = CONCAT44(local_68[5],local_68[4]);
      puVar14[9] = CONCAT44(local_68[7],local_68[6]);
      uStack_120._0_4_ = (undefined4)local_e8[1];
      uStack_120 = CONCAT44((int)*(undefined8 *)(this + 8),(undefined4)uStack_120);
      uVar11 = uStack_120;
      uStack_120._0_4_ = (undefined4)uStack_d0;
      uStack_120 = CONCAT44(1,(undefined4)uStack_120);
      LOCK();
      pBVar2 = param_1 + 0x88;
      iVar4 = *(int *)pBVar2;
      *(int *)pBVar2 = *(int *)pBVar2 + 1;
      UNLOCK();
      puVar14 = (undefined8 *)((long)iVar4 * 0x40 + *(long *)(param_1 + 0x58));
      puVar14[4] = uVar17;
      *(undefined4 *)(puVar14 + 5) = 0;
      *puVar14 = local_e8[0];
      puVar14[1] = uVar11;
      puVar14[2] = local_d8;
      puVar14[3] = uStack_120;
    } while (uVar19 < (ulong)(local_a0 - local_a8));
  }
  pvVar18 = local_100;
  if (local_f8 != (void *)0x0) {
    if ((ulong)((long)local_100 << 5) < 0x1c00000) {
      embree::alignedFree(local_f8);
    }
    else {
      embree::os_free(local_f8,(long)local_100 << 5,local_110[0]);
    }
  }
  if (pvVar18 != (vector_t *)0x0) {
    (**(code **)*local_118)(local_118,(long)pvVar18 * -0x20,1);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderSmall::attachBuildRefs(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderSmall::
attachBuildRefs(RefBuilderSmall *this,BVHNBuilderTwoLevel *param_1)

{
  long *plVar1;
  BVHNBuilderTwoLevel *pBVar2;
  FastAllocator *this_00;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  ulong *puVar11;
  long lVar12;
  long lVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  uint *puVar17;
  undefined8 uVar18;
  MutexSys *this_01;
  undefined4 *puVar19;
  undefined4 *puVar20;
  undefined4 *puVar21;
  undefined8 *puVar22;
  ulong uVar23;
  long lVar24;
  undefined4 *puVar25;
  undefined4 *puVar26;
  undefined4 *puVar27;
  void *pvVar28;
  long lVar29;
  vector_t *pvVar30;
  ulong uVar31;
  ulong *puVar32;
  long in_FS_OFFSET;
  ulong local_190;
  ulong local_188;
  undefined8 uStack_180;
  undefined8 *local_178;
  bool local_170 [8];
  vector_t *local_168;
  vector_t *local_160;
  void *local_158;
  undefined8 local_148 [2];
  ulong local_138;
  undefined8 uStack_130;
  long local_108;
  long local_100;
  uint local_f8 [8];
  undefined1 local_d8 [16];
  undefined1 local_c8 [16];
  undefined1 local_b8 [16];
  undefined1 local_a8 [16];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  long local_40;
  
  uVar31 = *(ulong *)(this + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar29 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + uVar31 * 8);
  if ((lVar29 != 0) && (*(char *)(lVar29 + 0x3c) != '\x14')) {
    lVar29 = 0;
  }
  local_178 = *(undefined8 **)(*(long *)(param_1 + 0x30) + 0x188);
  pvVar30 = (vector_t *)(ulong)*(uint *)(lVar29 + 0x20);
  local_170[0] = false;
  local_168 = (vector_t *)0x0;
  local_160 = (vector_t *)0x0;
  local_158 = (void *)0x0;
  if (local_178 != (undefined8 *)0x0) {
    local_178 = local_178 + 0xa9;
  }
  if (pvVar30 != (vector_t *)0x0) {
    uVar31 = (long)pvVar30 << 5;
    (**(code **)*local_178)(local_178,uVar31,0);
    if (uVar31 < 0x1c00000) {
      local_158 = (void *)embree::alignedMalloc(uVar31,0x20);
    }
    else {
      local_158 = (void *)embree::os_malloc(uVar31,local_170);
    }
    uVar31 = *(ulong *)(this + 8);
    local_160 = pvVar30;
  }
  local_168 = local_160;
  embree::sse2::createPrimRefArray
            ((Geometry *)local_148,(uint)lVar29,uVar31,pvVar30,(BuildProgressMonitor *)&local_178);
  if (local_108 != local_100) {
    uVar31 = 0;
    do {
      lVar29 = *(long *)(param_1 + 0x28);
      lVar24 = *(long *)(in_FS_OFFSET + lRam0000000000105290);
      this_00 = (FastAllocator *)(lVar29 + 0x78);
      if (lVar24 == 0) {
        this_01 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
                    /* WARNING: Subroutine does not return */
        embree::MutexSys::MutexSys(this_01);
      }
      puVar32 = (ulong *)(lVar24 + 0x80);
      if (*(char *)(lVar29 + 0x182) != '\0') {
        puVar32 = (ulong *)(lVar24 + 0x40);
      }
      local_190 = 0xb0;
      uVar16 = *puVar32;
      if (this_00 != *(FastAllocator **)(uVar16 + 8)) {
        embree::MutexSys::lock();
        if (*(long *)(uVar16 + 8) != 0) {
          LOCK();
          plVar1 = (long *)(*(long *)(uVar16 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(uVar16 + 0xa8) + *(long *)(uVar16 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(uVar16 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(uVar16 + 0x98) + *(long *)(uVar16 + 0x58)) -
                               *(long *)(uVar16 + 0x50)) - *(long *)(uVar16 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(uVar16 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(uVar16 + 0xb0) + *(long *)(uVar16 + 0x70);
          UNLOCK();
        }
        *(undefined8 *)(uVar16 + 0x48) = 0;
        *(undefined8 *)(uVar16 + 0x58) = 0;
        *(undefined8 *)(uVar16 + 0x50) = 0;
        *(undefined8 *)(uVar16 + 0x68) = 0;
        *(undefined8 *)(uVar16 + 0x70) = 0;
        *(undefined8 *)(uVar16 + 0x60) = 0;
        if (this_00 == (FastAllocator *)0x0) {
          *(undefined8 *)(uVar16 + 0x88) = 0;
          uVar18 = 0;
          *(undefined8 *)(uVar16 + 0x98) = 0;
          *(undefined8 *)(uVar16 + 0x90) = 0;
          *(undefined8 *)(uVar16 + 0xa8) = 0;
          *(undefined8 *)(uVar16 + 0xb0) = 0;
        }
        else {
          uVar18 = *(undefined8 *)(lVar29 + 0x88);
          *(undefined8 *)(uVar16 + 0x88) = 0;
          *(undefined8 *)(uVar16 + 0x98) = 0;
          *(undefined8 *)(uVar16 + 0x60) = uVar18;
          *(undefined8 *)(uVar16 + 0x90) = 0;
          *(undefined8 *)(uVar16 + 0xa8) = 0;
          *(undefined8 *)(uVar16 + 0xb0) = 0;
          *(undefined8 *)(uVar16 + 0xa0) = 0;
          uVar18 = *(undefined8 *)(lVar29 + 0x88);
        }
        *(undefined8 *)(uVar16 + 0xa0) = uVar18;
        LOCK();
        *(FastAllocator **)(uVar16 + 8) = this_00;
        UNLOCK();
        local_188 = uVar16;
        embree::MutexSys::lock();
        puVar11 = *(ulong **)(lVar29 + 0x1b0);
        if (puVar11 == *(ulong **)(lVar29 + 0x1b8)) {
          std::
          vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
          ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                    ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                      *)(lVar29 + 0x1a8),puVar11,&local_188);
        }
        else {
          *puVar11 = uVar16;
          *(long *)(lVar29 + 0x1b0) = *(long *)(lVar29 + 0x1b0) + 8;
        }
        embree::MutexSys::unlock();
        embree::MutexSys::unlock();
      }
      uVar14 = local_190;
      uVar16 = puVar32[2];
      puVar32[5] = puVar32[5] + local_190;
      uVar15 = (ulong)(-(int)uVar16 & 0xf);
      uVar23 = local_190 + uVar16 + uVar15;
      puVar32[2] = uVar23;
      if (puVar32[3] < uVar23) {
        puVar32[2] = uVar16;
        if (puVar32[4] < local_190 * 4) {
          puVar19 = (undefined4 *)FastAllocator::malloc(this_00,&local_190,0x40,false);
          uVar16 = (ulong)puVar19 | 9;
        }
        else {
          local_188 = puVar32[4];
          puVar19 = (undefined4 *)FastAllocator::malloc(this_00,&local_188,0x40,true);
          puVar32[1] = (ulong)puVar19;
          uVar16 = puVar32[2];
          puVar32[2] = uVar14;
          puVar32[6] = (puVar32[3] + puVar32[6]) - uVar16;
          puVar32[3] = local_188;
          if (local_188 < uVar14) {
            puVar32[2] = 0;
            local_188 = puVar32[4];
            puVar19 = (undefined4 *)FastAllocator::malloc(this_00,&local_188,0x40,false);
            puVar32[1] = (ulong)puVar19;
            uVar16 = puVar32[2];
            puVar32[2] = uVar14;
            puVar32[6] = (puVar32[3] + puVar32[6]) - uVar16;
            puVar32[3] = local_188;
            if (local_188 < uVar14) {
              puVar32[2] = 0;
              uVar16 = 9;
              puVar19 = (undefined4 *)0x0;
              goto LAB_00105462;
            }
          }
          uVar16 = (ulong)puVar19 | 9;
        }
      }
      else {
        puVar32[6] = puVar32[6] + uVar15;
        puVar19 = (undefined4 *)(puVar32[1] + (uVar23 - local_190));
        uVar16 = (ulong)puVar19 | 9;
      }
LAB_00105462:
      local_f8[0] = 0xffffffff;
      local_f8[1] = 0xffffffff;
      local_f8[2] = 0xffffffff;
      local_f8[3] = 0xffffffff;
      local_f8[4] = 0xffffffff;
      local_f8[5] = 0xffffffff;
      local_f8[6] = 0xffffffff;
      local_f8[7] = 0xffffffff;
      local_d8 = (undefined1  [16])0x0;
      local_c8 = (undefined1  [16])0x0;
      local_b8 = (undefined1  [16])0x0;
      local_a8 = (undefined1  [16])0x0;
      local_98 = (undefined1  [16])0x0;
      local_88 = (undefined1  [16])0x0;
      local_78 = (undefined1  [16])0x0;
      local_68 = (undefined1  [16])0x0;
      local_58 = (undefined1  [16])0x0;
      if (uVar31 < (ulong)(local_100 - local_108)) {
        lVar29 = *(long *)(*(long *)(*(long *)(param_1 + 0x28) + 0x68) + 0x1e0);
        lVar24 = 0;
        puVar25 = (undefined4 *)local_78;
        puVar26 = (undefined4 *)local_a8;
        puVar27 = (undefined4 *)local_d8;
        pvVar28 = (void *)((long)local_158 + uVar31 * 0x20);
        do {
          uVar31 = uVar31 + 1;
          uVar9 = *(uint *)((long)pvVar28 + 0x1c);
          lVar12 = *(long *)(lVar29 + (ulong)*(uint *)((long)pvVar28 + 0xc) * 8);
          local_f8[lVar24] = *(uint *)((long)pvVar28 + 0xc);
          puVar17 = (uint *)((ulong)uVar9 * *(long *)(lVar12 + 0x60) + *(long *)(lVar12 + 0x58));
          local_f8[lVar24 + 4] = uVar9;
          lVar24 = lVar24 + 1;
          lVar13 = *(long *)(lVar12 + 0x88);
          lVar12 = *(long *)(lVar12 + 0x90);
          puVar20 = (undefined4 *)((ulong)*puVar17 * lVar12 + lVar13);
          uVar3 = puVar20[2];
          uVar4 = *puVar20;
          uVar9 = puVar17[1];
          uVar10 = puVar17[2];
          puVar27[4] = puVar20[1];
          *puVar27 = uVar4;
          puVar27[8] = uVar3;
          puVar21 = (undefined4 *)((ulong)uVar9 * lVar12 + lVar13);
          puVar20 = (undefined4 *)((ulong)uVar10 * lVar12 + lVar13);
          uVar3 = puVar21[2];
          uVar4 = *puVar21;
          uVar5 = puVar20[2];
          uVar6 = puVar20[1];
          uVar7 = *puVar20;
          puVar26[4] = puVar21[1];
          *puVar26 = uVar4;
          puVar26[8] = uVar3;
          *puVar25 = uVar7;
          puVar25[4] = uVar6;
          puVar25[8] = uVar5;
          if (lVar24 == 4) break;
          puVar25 = puVar25 + 1;
          puVar26 = puVar26 + 1;
          puVar27 = puVar27 + 1;
          pvVar28 = (void *)((long)pvVar28 + 0x20);
        } while (uVar31 < (ulong)(local_100 - local_108));
      }
      else {
        local_58._0_8_ = 0;
        local_58._8_8_ = 0;
        local_68._0_4_ = 0;
        local_68._4_4_ = 0;
        local_68._8_4_ = 0;
        local_68._12_4_ = 0;
        local_88._0_4_ = 0;
        local_a8._4_4_ = 0;
        local_78._0_4_ = local_68._0_4_;
        local_78._4_4_ = local_68._4_4_;
        local_78._8_4_ = local_68._8_4_;
        local_78._12_4_ = local_68._12_4_;
        local_88._4_4_ = local_68._4_4_;
        local_88._8_4_ = local_68._8_4_;
        local_88._12_4_ = local_68._12_4_;
        local_98._0_4_ = local_88._0_4_;
        local_98._4_4_ = local_68._4_4_;
        local_98._8_4_ = local_68._8_4_;
        local_98._12_4_ = local_68._12_4_;
        local_a8._0_4_ = local_88._0_4_;
        local_a8._8_4_ = local_68._8_4_;
        local_a8._12_4_ = local_68._12_4_;
        local_b8._0_4_ = local_88._0_4_;
        local_b8._4_4_ = local_a8._4_4_;
        local_b8._8_4_ = local_68._8_4_;
        local_b8._12_4_ = local_68._12_4_;
        local_c8._0_4_ = local_88._0_4_;
        local_c8._4_4_ = local_a8._4_4_;
        local_c8._8_4_ = local_68._8_4_;
        local_c8._12_4_ = local_68._12_4_;
        local_d8._0_4_ = local_88._0_4_;
        local_d8._4_4_ = local_a8._4_4_;
        local_d8._8_4_ = local_68._8_4_;
        local_d8._12_4_ = local_68._12_4_;
      }
      *puVar19 = local_d8._0_4_;
      puVar19[1] = local_d8._4_4_;
      puVar19[2] = local_d8._8_4_;
      puVar19[3] = local_d8._12_4_;
      puVar19[4] = local_c8._0_4_;
      puVar19[5] = local_c8._4_4_;
      puVar19[6] = local_c8._8_4_;
      puVar19[7] = local_c8._12_4_;
      puVar19[0x18] = local_78._0_4_;
      puVar19[0x19] = local_78._4_4_;
      puVar19[0x1a] = local_78._8_4_;
      puVar19[0x1b] = local_78._12_4_;
      local_188 = local_138;
      puVar19[0x1c] = local_68._0_4_;
      puVar19[0x1d] = local_68._4_4_;
      puVar19[0x1e] = local_68._8_4_;
      puVar19[0x1f] = local_68._12_4_;
      puVar19[0x24] = local_f8[0];
      puVar19[0x25] = local_f8[1];
      puVar19[0x26] = local_f8[2];
      puVar19[0x27] = local_f8[3];
      puVar19[0x28] = local_f8[4];
      puVar19[0x29] = local_f8[5];
      puVar19[0x2a] = local_f8[6];
      puVar19[0x2b] = local_f8[7];
      puVar19[8] = local_b8._0_4_;
      puVar19[9] = local_b8._4_4_;
      puVar19[10] = local_b8._8_4_;
      puVar19[0xb] = local_b8._12_4_;
      puVar19[0xc] = local_a8._0_4_;
      puVar19[0xd] = local_a8._4_4_;
      puVar19[0xe] = local_a8._8_4_;
      puVar19[0xf] = local_a8._12_4_;
      puVar19[0x10] = local_98._0_4_;
      puVar19[0x11] = local_98._4_4_;
      puVar19[0x12] = local_98._8_4_;
      puVar19[0x13] = local_98._12_4_;
      puVar19[0x14] = local_88._0_4_;
      puVar19[0x15] = local_88._4_4_;
      puVar19[0x16] = local_88._8_4_;
      puVar19[0x17] = local_88._12_4_;
      *(undefined8 *)(puVar19 + 0x20) = local_58._0_8_;
      *(undefined8 *)(puVar19 + 0x22) = local_58._8_8_;
      uStack_180._0_4_ = (undefined4)local_148[1];
      uStack_180 = CONCAT44((int)*(undefined8 *)(this + 8),(undefined4)uStack_180);
      uVar18 = uStack_180;
      uStack_180._0_4_ = (undefined4)uStack_130;
      uStack_180 = CONCAT44(1,(undefined4)uStack_180);
      LOCK();
      pBVar2 = param_1 + 0x88;
      iVar8 = *(int *)pBVar2;
      *(int *)pBVar2 = *(int *)pBVar2 + 1;
      UNLOCK();
      puVar22 = (undefined8 *)((long)iVar8 * 0x40 + *(long *)(param_1 + 0x58));
      puVar22[4] = uVar16;
      *(undefined4 *)(puVar22 + 5) = 0;
      *puVar22 = local_148[0];
      puVar22[1] = uVar18;
      puVar22[2] = local_138;
      puVar22[3] = uStack_180;
    } while (uVar31 < (ulong)(local_100 - local_108));
  }
  pvVar30 = local_160;
  if (local_158 != (void *)0x0) {
    if ((ulong)((long)local_160 << 5) < 0x1c00000) {
      embree::alignedFree(local_158);
    }
    else {
      embree::os_free(local_158,(long)local_160 << 5,local_170[0]);
    }
  }
  if (pvVar30 != (vector_t *)0x0) {
    (**(code **)*local_178)(local_178,(long)pvVar30 * -0x20,1);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderSmall::attachBuildRefs(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderSmall::
attachBuildRefs(RefBuilderSmall *this,BVHNBuilderTwoLevel *param_1)

{
  long *plVar1;
  BVHNBuilderTwoLevel *pBVar2;
  FastAllocator *this_00;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  ulong *puVar11;
  long lVar12;
  long lVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  uint *puVar17;
  undefined8 uVar18;
  MutexSys *this_01;
  float *pfVar19;
  undefined4 *puVar20;
  undefined4 *puVar21;
  undefined8 *puVar22;
  ulong uVar23;
  long lVar24;
  undefined4 *puVar25;
  undefined4 *puVar26;
  undefined4 *puVar27;
  void *pvVar28;
  long lVar29;
  vector_t *pvVar30;
  ulong uVar31;
  ulong *puVar32;
  long in_FS_OFFSET;
  float fVar33;
  float fVar34;
  float fVar35;
  float fVar36;
  float fVar37;
  float fVar38;
  float fVar39;
  float fVar40;
  float fVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  float fVar52;
  float fVar53;
  float fVar54;
  float fVar55;
  float fVar56;
  ulong local_190;
  ulong local_188;
  undefined8 uStack_180;
  undefined8 *local_178;
  bool local_170 [8];
  vector_t *local_168;
  vector_t *local_160;
  void *local_158;
  undefined8 local_148 [2];
  ulong local_138;
  undefined8 uStack_130;
  long local_108;
  long local_100;
  float local_f8 [4];
  uint local_e8;
  float fStack_e4;
  float fStack_e0;
  float fStack_dc;
  undefined1 local_d8 [8];
  float fStack_d0;
  float fStack_cc;
  undefined1 local_c8 [8];
  float fStack_c0;
  float fStack_bc;
  undefined1 local_b8 [8];
  float fStack_b0;
  float fStack_ac;
  undefined1 local_a8 [8];
  float fStack_a0;
  float fStack_9c;
  undefined1 local_98 [8];
  float fStack_90;
  float fStack_8c;
  undefined1 local_88 [8];
  float fStack_80;
  float fStack_7c;
  undefined1 local_78 [8];
  float fStack_70;
  float fStack_6c;
  undefined1 local_68 [8];
  float fStack_60;
  float fStack_5c;
  undefined1 local_58 [8];
  float fStack_50;
  float fStack_4c;
  long local_40;
  
  uVar31 = *(ulong *)(this + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar29 = *(long *)(*(long *)(*(long *)(param_1 + 0x30) + 0x1e0) + uVar31 * 8);
  if ((lVar29 != 0) && (*(char *)(lVar29 + 0x3c) != '\x14')) {
    lVar29 = 0;
  }
  local_178 = *(undefined8 **)(*(long *)(param_1 + 0x30) + 0x188);
  pvVar30 = (vector_t *)(ulong)*(uint *)(lVar29 + 0x20);
  local_170[0] = false;
  local_168 = (vector_t *)0x0;
  local_160 = (vector_t *)0x0;
  local_158 = (void *)0x0;
  if (local_178 != (undefined8 *)0x0) {
    local_178 = local_178 + 0xa9;
  }
  if (pvVar30 != (vector_t *)0x0) {
    uVar31 = (long)pvVar30 << 5;
    (**(code **)*local_178)(local_178,uVar31,0);
    if (uVar31 < 0x1c00000) {
      local_158 = (void *)embree::alignedMalloc(uVar31,0x20);
    }
    else {
      local_158 = (void *)embree::os_malloc(uVar31,local_170);
    }
    uVar31 = *(ulong *)(this + 8);
    local_160 = pvVar30;
  }
  local_168 = local_160;
  embree::sse2::createPrimRefArray
            ((Geometry *)local_148,(uint)lVar29,uVar31,pvVar30,(BuildProgressMonitor *)&local_178);
  if (local_108 != local_100) {
    uVar31 = 0;
    do {
      lVar29 = *(long *)(param_1 + 0x28);
      lVar24 = *(long *)(in_FS_OFFSET + lRam0000000000105bd0);
      this_00 = (FastAllocator *)(lVar29 + 0x78);
      if (lVar24 == 0) {
        this_01 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
                    /* WARNING: Subroutine does not return */
        embree::MutexSys::MutexSys(this_01);
      }
      puVar32 = (ulong *)(lVar24 + 0x80);
      if (*(char *)(lVar29 + 0x182) != '\0') {
        puVar32 = (ulong *)(lVar24 + 0x40);
      }
      local_190 = 0xb0;
      uVar16 = *puVar32;
      if (this_00 != *(FastAllocator **)(uVar16 + 8)) {
        embree::MutexSys::lock();
        if (*(long *)(uVar16 + 8) != 0) {
          LOCK();
          plVar1 = (long *)(*(long *)(uVar16 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(uVar16 + 0xa8) + *(long *)(uVar16 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(uVar16 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(uVar16 + 0x98) + *(long *)(uVar16 + 0x58)) -
                               *(long *)(uVar16 + 0x50)) - *(long *)(uVar16 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(uVar16 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(uVar16 + 0xb0) + *(long *)(uVar16 + 0x70);
          UNLOCK();
        }
        *(undefined8 *)(uVar16 + 0x48) = 0;
        *(undefined8 *)(uVar16 + 0x58) = 0;
        *(undefined8 *)(uVar16 + 0x50) = 0;
        *(undefined8 *)(uVar16 + 0x68) = 0;
        *(undefined8 *)(uVar16 + 0x70) = 0;
        *(undefined8 *)(uVar16 + 0x60) = 0;
        if (this_00 == (FastAllocator *)0x0) {
          *(undefined8 *)(uVar16 + 0x88) = 0;
          uVar18 = 0;
          *(undefined8 *)(uVar16 + 0x98) = 0;
          *(undefined8 *)(uVar16 + 0x90) = 0;
          *(undefined8 *)(uVar16 + 0xa8) = 0;
          *(undefined8 *)(uVar16 + 0xb0) = 0;
        }
        else {
          uVar18 = *(undefined8 *)(lVar29 + 0x88);
          *(undefined8 *)(uVar16 + 0x88) = 0;
          *(undefined8 *)(uVar16 + 0x98) = 0;
          *(undefined8 *)(uVar16 + 0x60) = uVar18;
          *(undefined8 *)(uVar16 + 0x90) = 0;
          *(undefined8 *)(uVar16 + 0xa8) = 0;
          *(undefined8 *)(uVar16 + 0xb0) = 0;
          *(undefined8 *)(uVar16 + 0xa0) = 0;
          uVar18 = *(undefined8 *)(lVar29 + 0x88);
        }
        *(undefined8 *)(uVar16 + 0xa0) = uVar18;
        LOCK();
        *(FastAllocator **)(uVar16 + 8) = this_00;
        UNLOCK();
        local_188 = uVar16;
        embree::MutexSys::lock();
        puVar11 = *(ulong **)(lVar29 + 0x1b0);
        if (puVar11 == *(ulong **)(lVar29 + 0x1b8)) {
          std::
          vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
          ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                    ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                      *)(lVar29 + 0x1a8),puVar11,&local_188);
        }
        else {
          *puVar11 = uVar16;
          *(long *)(lVar29 + 0x1b0) = *(long *)(lVar29 + 0x1b0) + 8;
        }
        embree::MutexSys::unlock();
        embree::MutexSys::unlock();
      }
      uVar14 = local_190;
      uVar16 = puVar32[2];
      puVar32[5] = puVar32[5] + local_190;
      uVar15 = (ulong)(-(int)uVar16 & 0xf);
      uVar23 = local_190 + uVar16 + uVar15;
      puVar32[2] = uVar23;
      if (puVar32[3] < uVar23) {
        puVar32[2] = uVar16;
        if (puVar32[4] < local_190 * 4) {
          pfVar19 = (float *)FastAllocator::malloc(this_00,&local_190,0x40,false);
          uVar16 = (ulong)pfVar19 | 9;
        }
        else {
          local_188 = puVar32[4];
          pfVar19 = (float *)FastAllocator::malloc(this_00,&local_188,0x40,true);
          puVar32[1] = (ulong)pfVar19;
          uVar16 = puVar32[2];
          puVar32[2] = uVar14;
          puVar32[6] = (puVar32[3] + puVar32[6]) - uVar16;
          puVar32[3] = local_188;
          if (local_188 < uVar14) {
            puVar32[2] = 0;
            local_188 = puVar32[4];
            pfVar19 = (float *)FastAllocator::malloc(this_00,&local_188,0x40,false);
            puVar32[1] = (ulong)pfVar19;
            uVar16 = puVar32[2];
            puVar32[2] = uVar14;
            puVar32[6] = (puVar32[3] + puVar32[6]) - uVar16;
            puVar32[3] = local_188;
            if (local_188 < uVar14) {
              puVar32[2] = 0;
              uVar16 = 9;
              pfVar19 = (float *)0x0;
              goto LAB_00105da2;
            }
          }
          uVar16 = (ulong)pfVar19 | 9;
        }
      }
      else {
        puVar32[6] = puVar32[6] + uVar15;
        pfVar19 = (float *)(puVar32[1] + (uVar23 - local_190));
        uVar16 = (ulong)pfVar19 | 9;
      }
LAB_00105da2:
      local_f8[0] = -NAN;
      local_f8[1] = -NAN;
      local_f8[2] = -NAN;
      local_f8[3] = -NAN;
      local_e8 = 0xffffffff;
      fStack_e4 = -NAN;
      fStack_e0 = -NAN;
      fStack_dc = -NAN;
      _local_d8 = (undefined1  [16])0x0;
      _local_c8 = (undefined1  [16])0x0;
      _local_b8 = (undefined1  [16])0x0;
      _local_a8 = (undefined1  [16])0x0;
      _local_98 = (undefined1  [16])0x0;
      _local_88 = (undefined1  [16])0x0;
      _local_78 = (undefined1  [16])0x0;
      _local_68 = (undefined1  [16])0x0;
      _local_58 = (undefined1  [16])0x0;
      if (uVar31 < (ulong)(local_100 - local_108)) {
        lVar29 = *(long *)(*(long *)(*(long *)(param_1 + 0x28) + 0x68) + 0x1e0);
        lVar24 = 0;
        puVar25 = (undefined4 *)local_78;
        puVar26 = (undefined4 *)local_a8;
        puVar27 = (undefined4 *)local_d8;
        pvVar28 = (void *)((long)local_158 + uVar31 * 0x20);
        do {
          uVar31 = uVar31 + 1;
          uVar9 = *(uint *)((long)pvVar28 + 0x1c);
          lVar12 = *(long *)(lVar29 + (ulong)(uint)*(float *)((long)pvVar28 + 0xc) * 8);
          local_f8[lVar24] = *(float *)((long)pvVar28 + 0xc);
          puVar17 = (uint *)((ulong)uVar9 * *(long *)(lVar12 + 0x60) + *(long *)(lVar12 + 0x58));
          (&local_e8)[lVar24] = uVar9;
          lVar24 = lVar24 + 1;
          lVar13 = *(long *)(lVar12 + 0x88);
          lVar12 = *(long *)(lVar12 + 0x90);
          puVar20 = (undefined4 *)((ulong)*puVar17 * lVar12 + lVar13);
          uVar3 = puVar20[2];
          uVar4 = *puVar20;
          uVar9 = puVar17[1];
          uVar10 = puVar17[2];
          puVar27[4] = puVar20[1];
          *puVar27 = uVar4;
          puVar27[8] = uVar3;
          puVar21 = (undefined4 *)((ulong)uVar9 * lVar12 + lVar13);
          puVar20 = (undefined4 *)((ulong)uVar10 * lVar12 + lVar13);
          uVar3 = puVar21[2];
          uVar4 = *puVar21;
          uVar5 = puVar20[2];
          uVar6 = puVar20[1];
          uVar7 = *puVar20;
          puVar26[4] = puVar21[1];
          *puVar26 = uVar4;
          puVar26[8] = uVar3;
          *puVar25 = uVar7;
          puVar25[4] = uVar6;
          puVar25[8] = uVar5;
          if (lVar24 == 4) break;
          puVar25 = puVar25 + 1;
          puVar26 = puVar26 + 1;
          puVar27 = puVar27 + 1;
          pvVar28 = (void *)((long)pvVar28 + 0x20);
        } while (uVar31 < (ulong)(local_100 - local_108));
        fVar33 = (float)local_58._0_4_ - (float)local_b8._0_4_;
        fVar34 = (float)local_58._4_4_ - (float)local_b8._4_4_;
        fVar35 = fStack_50 - fStack_b0;
        fVar36 = fStack_4c - fStack_ac;
        fVar37 = (float)local_68._0_4_ - (float)local_c8._0_4_;
        fVar38 = (float)local_68._4_4_ - (float)local_c8._4_4_;
        fVar39 = fStack_60 - fStack_c0;
        fVar40 = fStack_5c - fStack_bc;
        fVar41 = (float)local_78._0_4_ - (float)local_d8._0_4_;
        fVar42 = (float)local_78._4_4_ - (float)local_d8._4_4_;
        fVar43 = fStack_70 - fStack_d0;
        fVar44 = fStack_6c - fStack_cc;
        fVar45 = (float)local_b8._0_4_ - (float)local_88._0_4_;
        fVar46 = (float)local_b8._4_4_ - (float)local_88._4_4_;
        fVar47 = fStack_b0 - fStack_80;
        fVar48 = fStack_ac - fStack_7c;
        fVar49 = (float)local_c8._0_4_ - (float)local_98._0_4_;
        fVar50 = (float)local_c8._4_4_ - (float)local_98._4_4_;
        fVar51 = fStack_c0 - fStack_90;
        fVar52 = fStack_bc - fStack_8c;
        fVar53 = (float)local_d8._0_4_ - (float)local_a8._0_4_;
        fVar54 = (float)local_d8._4_4_ - (float)local_a8._4_4_;
        fVar55 = fStack_d0 - fStack_a0;
        fVar56 = fStack_cc - fStack_9c;
      }
      else {
        fVar41 = 0.0;
        fVar42 = 0.0;
        fVar43 = 0.0;
        fVar44 = 0.0;
        fVar37 = 0.0;
        fVar38 = 0.0;
        fVar39 = 0.0;
        fVar40 = 0.0;
        fVar33 = 0.0;
        fVar34 = 0.0;
        fVar35 = 0.0;
        fVar36 = 0.0;
        local_b8._0_4_ = 0.0;
        local_b8._4_4_ = 0.0;
        fStack_b0 = fVar39;
        fStack_ac = fVar40;
        local_c8._0_4_ = local_b8._0_4_;
        local_c8._4_4_ = local_b8._4_4_;
        fStack_c0 = fVar39;
        fStack_bc = fVar40;
        local_d8._0_4_ = local_b8._0_4_;
        local_d8._4_4_ = local_b8._4_4_;
        fStack_d0 = fVar39;
        fStack_cc = fVar40;
        fVar45 = (float)local_b8._0_4_;
        fVar46 = (float)local_b8._4_4_;
        fVar47 = fVar39;
        fVar48 = fVar40;
        fVar49 = (float)local_b8._0_4_;
        fVar50 = fVar38;
        fVar51 = fVar39;
        fVar52 = fVar40;
        fVar53 = (float)local_b8._0_4_;
        fVar54 = fVar38;
        fVar55 = fVar39;
        fVar56 = fVar40;
      }
      *pfVar19 = (float)local_d8._0_4_;
      pfVar19[1] = (float)local_d8._4_4_;
      pfVar19[2] = fStack_d0;
      pfVar19[3] = fStack_cc;
      pfVar19[4] = (float)local_c8._0_4_;
      pfVar19[5] = (float)local_c8._4_4_;
      pfVar19[6] = fStack_c0;
      pfVar19[7] = fStack_bc;
      pfVar19[0x1c] = fVar37;
      pfVar19[0x1d] = fVar38;
      pfVar19[0x1e] = fVar39;
      pfVar19[0x1f] = fVar40;
      pfVar19[0x20] = fVar33;
      pfVar19[0x21] = fVar34;
      pfVar19[0x22] = fVar35;
      pfVar19[0x23] = fVar36;
      pfVar19[0x24] = local_f8[0];
      pfVar19[0x25] = local_f8[1];
      pfVar19[0x26] = local_f8[2];
      pfVar19[0x27] = local_f8[3];
      local_188 = local_138;
      pfVar19[0x28] = (float)local_e8;
      pfVar19[0x29] = fStack_e4;
      pfVar19[0x2a] = fStack_e0;
      pfVar19[0x2b] = fStack_dc;
      pfVar19[8] = (float)local_b8._0_4_;
      pfVar19[9] = (float)local_b8._4_4_;
      pfVar19[10] = fStack_b0;
      pfVar19[0xb] = fStack_ac;
      pfVar19[0xc] = fVar53;
      pfVar19[0xd] = fVar54;
      pfVar19[0xe] = fVar55;
      pfVar19[0xf] = fVar56;
      pfVar19[0x10] = fVar49;
      pfVar19[0x11] = fVar50;
      pfVar19[0x12] = fVar51;
      pfVar19[0x13] = fVar52;
      pfVar19[0x14] = fVar45;
      pfVar19[0x15] = fVar46;
      pfVar19[0x16] = fVar47;
      pfVar19[0x17] = fVar48;
      pfVar19[0x18] = fVar41;
      pfVar19[0x19] = fVar42;
      pfVar19[0x1a] = fVar43;
      pfVar19[0x1b] = fVar44;
      uStack_180._0_4_ = (undefined4)local_148[1];
      uStack_180 = CONCAT44((int)*(undefined8 *)(this + 8),(undefined4)uStack_180);
      uVar18 = uStack_180;
      uStack_180._0_4_ = (undefined4)uStack_130;
      uStack_180 = CONCAT44(1,(undefined4)uStack_180);
      LOCK();
      pBVar2 = param_1 + 0x88;
      iVar8 = *(int *)pBVar2;
      *(int *)pBVar2 = *(int *)pBVar2 + 1;
      UNLOCK();
      puVar22 = (undefined8 *)((long)iVar8 * 0x40 + *(long *)(param_1 + 0x58));
      puVar22[4] = uVar16;
      *(undefined4 *)(puVar22 + 5) = 0;
      *puVar22 = local_148[0];
      puVar22[1] = uVar18;
      puVar22[2] = local_138;
      puVar22[3] = uStack_180;
    } while (uVar31 < (ulong)(local_100 - local_108));
  }
  pvVar30 = local_160;
  if (local_158 != (void *)0x0) {
    if ((ulong)((long)local_160 << 5) < 0x1c00000) {
      embree::alignedFree(local_158);
    }
    else {
      embree::os_free(local_158,(long)local_160 << 5,local_170[0]);
    }
  }
  if (pvVar30 != (vector_t *)0x0) {
    (**(code **)*local_178)(local_178,(long)pvVar30 * -0x20,1);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::setupLargeBuildRefBuilder(unsigned long, embree::TriangleMesh const*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::
setupLargeBuildRefBuilder
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this,ulong param_1,
          TriangleMesh *param_2)

{
  TriangleMesh TVar1;
  void *pvVar2;
  TriangleMesh *pTVar3;
  long *plVar4;
  char cVar5;
  byte bVar6;
  PrimitiveType *pPVar7;
  long *plVar8;
  undefined8 *puVar9;
  long lVar10;
  uint uVar11;
  long *plVar12;
  
  if (*(long *)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8) != 0) {
    plVar8 = *(long **)(*(long *)(this + 0x10) + param_1 * 8);
    cVar5 = (**(code **)(*plVar8 + 0x18))(plVar8,(byte)param_2[0x3e] & 7);
    if (((cVar5 == '\0') && (lVar10 = *(long *)(*(long *)(this + 0x10) + param_1 * 8), lVar10 != 0))
       && (lVar10 = __dynamic_cast(lVar10,&RefBuilderBase::typeinfo,&RefBuilderLarge::typeinfo),
          lVar10 != 0)) {
      return;
    }
    plVar8 = *(long **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8);
    if (plVar8 != (long *)0x0) {
      (**(code **)(*plVar8 + 8))();
    }
  }
  pPVar7 = (PrimitiveType *)embree::alignedMalloc(0x240,0x10);
  embree::BVHN<4>::BVHN(pPVar7,(Scene *)&TriangleMi<4>::type);
  *(PrimitiveType **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8) = pPVar7;
  pvVar2 = *(void **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8);
  pTVar3 = *(TriangleMesh **)(*(long *)(*(long *)(this + 0x30) + 0x1e0) + param_1 * 8);
  if ((pTVar3 == (TriangleMesh *)0x0) || (pTVar3[0x3c] != (TriangleMesh)0x14)) {
LAB_0010669d:
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar11 = (uint)param_1;
  if (this[0xa0] == (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>)0x0) {
    bVar6 = (byte)pTVar3[0x3e] & 7;
    if (2 < bVar6) {
      if (bVar6 != 3) goto LAB_0010669d;
      plVar8 = (long *)embree::sse2::BVH4Triangle4iMeshRefitSAH(pvVar2,pTVar3,uVar11,0);
      goto LAB_001064e1;
    }
    if (bVar6 != 0) {
      plVar8 = (long *)embree::sse2::BVH4Triangle4iMeshBuilderSAH(pvVar2,pTVar3,uVar11,0);
      goto LAB_001064e1;
    }
  }
  plVar8 = (long *)embree::sse2::BVH4Triangle4iMeshBuilderMortonGeneral(pvVar2,pTVar3,uVar11,0);
LAB_001064e1:
  plVar12 = (long *)(param_1 * 8 + *(long *)(this + 0x10));
  puVar9 = (undefined8 *)operator_new(0x20);
  TVar1 = param_2[0x3e];
  if (plVar8 == (long *)0x0) {
    puVar9[1] = param_1;
    *puVar9 = &PTR__RefBuilderLarge_00132d88;
    puVar9[2] = 0;
    *(uint *)(puVar9 + 3) = (byte)TVar1 & 7;
    plVar8 = (long *)*plVar12;
    *plVar12 = (long)puVar9;
    if (plVar8 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00106653. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 8))();
      return;
    }
  }
  else {
    if (*(code **)(*plVar8 + 0x10) == RefCount::refInc) {
      LOCK();
      plVar8[1] = plVar8[1] + 1;
      UNLOCK();
      *puVar9 = &PTR__RefBuilderLarge_00132d88;
      puVar9[1] = param_1;
      puVar9[2] = plVar8;
    }
    else {
      (**(code **)(*plVar8 + 0x10))(plVar8);
      puVar9[1] = param_1;
      *puVar9 = &PTR__RefBuilderLarge_00132d88;
      puVar9[2] = plVar8;
    }
    if (*(code **)(*plVar8 + 0x10) == RefCount::refInc) {
      LOCK();
      plVar8[1] = plVar8[1] + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*plVar8 + 0x10))(plVar8);
    }
    *(uint *)(puVar9 + 3) = (byte)TVar1 & 7;
    plVar4 = (long *)*plVar12;
    *plVar12 = (long)puVar9;
    if (plVar4 != (long *)0x0) {
      (**(code **)(*plVar4 + 8))();
    }
    if (*(code **)(*plVar8 + 0x18) != RefCount::refDec) {
                    /* WARNING: Could not recover jumptable at 0x00106669. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 0x18))(plVar8);
      return;
    }
    LOCK();
    plVar12 = plVar8 + 1;
    *plVar12 = *plVar12 + -1;
    UNLOCK();
    if (*plVar12 == 0) {
                    /* WARNING: Could not recover jumptable at 0x0010659d. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 8))(plVar8);
      return;
    }
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::setupLargeBuildRefBuilder(unsigned long, embree::TriangleMesh const*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::
setupLargeBuildRefBuilder
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this,ulong param_1,
          TriangleMesh *param_2)

{
  TriangleMesh TVar1;
  void *pvVar2;
  TriangleMesh *pTVar3;
  long *plVar4;
  char cVar5;
  byte bVar6;
  PrimitiveType *pPVar7;
  long *plVar8;
  undefined8 *puVar9;
  long lVar10;
  uint uVar11;
  long *plVar12;
  
  if (*(long *)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8) != 0) {
    plVar8 = *(long **)(*(long *)(this + 0x10) + param_1 * 8);
    cVar5 = (**(code **)(*plVar8 + 0x18))(plVar8,(byte)param_2[0x3e] & 7);
    if (((cVar5 == '\0') && (lVar10 = *(long *)(*(long *)(this + 0x10) + param_1 * 8), lVar10 != 0))
       && (lVar10 = __dynamic_cast(lVar10,&RefBuilderBase::typeinfo,&RefBuilderLarge::typeinfo),
          lVar10 != 0)) {
      return;
    }
    plVar8 = *(long **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8);
    if (plVar8 != (long *)0x0) {
      (**(code **)(*plVar8 + 8))();
    }
  }
  pPVar7 = (PrimitiveType *)embree::alignedMalloc(0x240,0x10);
  embree::BVHN<4>::BVHN(pPVar7,(Scene *)&TriangleMv<4>::type);
  *(PrimitiveType **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8) = pPVar7;
  pvVar2 = *(void **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8);
  pTVar3 = *(TriangleMesh **)(*(long *)(*(long *)(this + 0x30) + 0x1e0) + param_1 * 8);
  if ((pTVar3 == (TriangleMesh *)0x0) || (pTVar3[0x3c] != (TriangleMesh)0x14)) {
LAB_0010696d:
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar11 = (uint)param_1;
  if (this[0xa0] == (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>)0x0) {
    bVar6 = (byte)pTVar3[0x3e] & 7;
    if (2 < bVar6) {
      if (bVar6 != 3) goto LAB_0010696d;
      plVar8 = (long *)embree::sse2::BVH4Triangle4vMeshRefitSAH(pvVar2,pTVar3,uVar11,0);
      goto LAB_001067b1;
    }
    if (bVar6 != 0) {
      plVar8 = (long *)embree::sse2::BVH4Triangle4vMeshBuilderSAH(pvVar2,pTVar3,uVar11,0);
      goto LAB_001067b1;
    }
  }
  plVar8 = (long *)embree::sse2::BVH4Triangle4vMeshBuilderMortonGeneral(pvVar2,pTVar3,uVar11,0);
LAB_001067b1:
  plVar12 = (long *)(param_1 * 8 + *(long *)(this + 0x10));
  puVar9 = (undefined8 *)operator_new(0x20);
  TVar1 = param_2[0x3e];
  if (plVar8 == (long *)0x0) {
    puVar9[1] = param_1;
    *puVar9 = &PTR__RefBuilderLarge_00132de8;
    puVar9[2] = 0;
    *(uint *)(puVar9 + 3) = (byte)TVar1 & 7;
    plVar8 = (long *)*plVar12;
    *plVar12 = (long)puVar9;
    if (plVar8 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00106923. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 8))();
      return;
    }
  }
  else {
    if (*(code **)(*plVar8 + 0x10) == RefCount::refInc) {
      LOCK();
      plVar8[1] = plVar8[1] + 1;
      UNLOCK();
      *puVar9 = &PTR__RefBuilderLarge_00132de8;
      puVar9[1] = param_1;
      puVar9[2] = plVar8;
    }
    else {
      (**(code **)(*plVar8 + 0x10))(plVar8);
      puVar9[1] = param_1;
      *puVar9 = &PTR__RefBuilderLarge_00132de8;
      puVar9[2] = plVar8;
    }
    if (*(code **)(*plVar8 + 0x10) == RefCount::refInc) {
      LOCK();
      plVar8[1] = plVar8[1] + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*plVar8 + 0x10))(plVar8);
    }
    *(uint *)(puVar9 + 3) = (byte)TVar1 & 7;
    plVar4 = (long *)*plVar12;
    *plVar12 = (long)puVar9;
    if (plVar4 != (long *)0x0) {
      (**(code **)(*plVar4 + 8))();
    }
    if (*(code **)(*plVar8 + 0x18) != RefCount::refDec) {
                    /* WARNING: Could not recover jumptable at 0x00106939. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 0x18))(plVar8);
      return;
    }
    LOCK();
    plVar12 = plVar8 + 1;
    *plVar12 = *plVar12 + -1;
    UNLOCK();
    if (*plVar12 == 0) {
                    /* WARNING: Could not recover jumptable at 0x0010686d. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 8))(plVar8);
      return;
    }
  }
  return;
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::setupLargeBuildRefBuilder(unsigned long, embree::TriangleMesh const*) */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::
setupLargeBuildRefBuilder
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this,ulong param_1,
          TriangleMesh *param_2)

{
  TriangleMesh TVar1;
  void *pvVar2;
  TriangleMesh *pTVar3;
  long *plVar4;
  char cVar5;
  byte bVar6;
  PrimitiveType *pPVar7;
  long *plVar8;
  undefined8 *puVar9;
  long lVar10;
  uint uVar11;
  long *plVar12;
  
  if (*(long *)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8) != 0) {
    plVar8 = *(long **)(*(long *)(this + 0x10) + param_1 * 8);
    cVar5 = (**(code **)(*plVar8 + 0x18))(plVar8,(byte)param_2[0x3e] & 7);
    if (((cVar5 == '\0') && (lVar10 = *(long *)(*(long *)(this + 0x10) + param_1 * 8), lVar10 != 0))
       && (lVar10 = __dynamic_cast(lVar10,&RefBuilderBase::typeinfo,&RefBuilderLarge::typeinfo),
          lVar10 != 0)) {
      return;
    }
    plVar8 = *(long **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8);
    if (plVar8 != (long *)0x0) {
      (**(code **)(*plVar8 + 8))();
    }
  }
  pPVar7 = (PrimitiveType *)embree::alignedMalloc(0x240,0x10);
  embree::BVHN<4>::BVHN(pPVar7,(Scene *)&TriangleM<4>::type);
  *(PrimitiveType **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8) = pPVar7;
  pvVar2 = *(void **)(*(long *)(*(long *)(this + 0x28) + 0x200) + param_1 * 8);
  pTVar3 = *(TriangleMesh **)(*(long *)(*(long *)(this + 0x30) + 0x1e0) + param_1 * 8);
  if ((pTVar3 == (TriangleMesh *)0x0) || (pTVar3[0x3c] != (TriangleMesh)0x14)) {
LAB_00106c3d:
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar11 = (uint)param_1;
  if (this[0xa0] == (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>)0x0) {
    bVar6 = (byte)pTVar3[0x3e] & 7;
    if (2 < bVar6) {
      if (bVar6 != 3) goto LAB_00106c3d;
      plVar8 = (long *)embree::sse2::BVH4Triangle4MeshRefitSAH(pvVar2,pTVar3,uVar11,0);
      goto LAB_00106a81;
    }
    if (bVar6 != 0) {
      plVar8 = (long *)embree::sse2::BVH4Triangle4MeshBuilderSAH(pvVar2,pTVar3,uVar11,0);
      goto LAB_00106a81;
    }
  }
  plVar8 = (long *)embree::sse2::BVH4Triangle4MeshBuilderMortonGeneral(pvVar2,pTVar3,uVar11,0);
LAB_00106a81:
  plVar12 = (long *)(param_1 * 8 + *(long *)(this + 0x10));
  puVar9 = (undefined8 *)operator_new(0x20);
  TVar1 = param_2[0x3e];
  if (plVar8 == (long *)0x0) {
    puVar9[1] = param_1;
    *puVar9 = &PTR__RefBuilderLarge_00132e48;
    puVar9[2] = 0;
    *(uint *)(puVar9 + 3) = (byte)TVar1 & 7;
    plVar8 = (long *)*plVar12;
    *plVar12 = (long)puVar9;
    if (plVar8 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x00106bf3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 8))();
      return;
    }
  }
  else {
    if (*(code **)(*plVar8 + 0x10) == RefCount::refInc) {
      LOCK();
      plVar8[1] = plVar8[1] + 1;
      UNLOCK();
      *puVar9 = &PTR__RefBuilderLarge_00132e48;
      puVar9[1] = param_1;
      puVar9[2] = plVar8;
    }
    else {
      (**(code **)(*plVar8 + 0x10))(plVar8);
      puVar9[1] = param_1;
      *puVar9 = &PTR__RefBuilderLarge_00132e48;
      puVar9[2] = plVar8;
    }
    if (*(code **)(*plVar8 + 0x10) == RefCount::refInc) {
      LOCK();
      plVar8[1] = plVar8[1] + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*plVar8 + 0x10))(plVar8);
    }
    *(uint *)(puVar9 + 3) = (byte)TVar1 & 7;
    plVar4 = (long *)*plVar12;
    *plVar12 = (long)puVar9;
    if (plVar4 != (long *)0x0) {
      (**(code **)(*plVar4 + 8))();
    }
    if (*(code **)(*plVar8 + 0x18) != RefCount::refDec) {
                    /* WARNING: Could not recover jumptable at 0x00106c09. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 0x18))(plVar8);
      return;
    }
    LOCK();
    plVar12 = plVar8 + 1;
    *plVar12 = *plVar12 + -1;
    UNLOCK();
    if (*plVar12 == 0) {
                    /* WARNING: Could not recover jumptable at 0x00106b3d. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*plVar8 + 8))(plVar8);
      return;
    }
  }
  return;
}



/* std::vector<embree::BVHN<4>*, std::allocator<embree::BVHN<4>*> >::_M_default_append(unsigned
   long) */

void __thiscall
std::vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>>::_M_default_append
          (vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>> *this,ulong param_1)

{
  ulong uVar1;
  ulong uVar2;
  void *__dest;
  void *pvVar3;
  undefined8 *__s;
  size_t sVar4;
  undefined8 *puVar5;
  
  if (param_1 == 0) {
    return;
  }
  puVar5 = *(undefined8 **)(this + 8);
  pvVar3 = *(void **)this;
  if (param_1 <= (ulong)(*(long *)(this + 0x10) - (long)puVar5 >> 3)) {
    *puVar5 = 0;
    __s = puVar5 + 1;
    if (param_1 - 1 != 0) {
      sVar4 = (long)__s + ((param_1 - 1) * 8 - (long)puVar5) + -8;
      pvVar3 = memset(__s,0,sVar4);
      __s = (undefined8 *)((long)pvVar3 + sVar4);
    }
    *(undefined8 **)(this + 8) = __s;
    return;
  }
  sVar4 = (long)puVar5 - (long)pvVar3;
  uVar2 = (long)sVar4 >> 3;
  if (0xfffffffffffffff - uVar2 < param_1) {
                    /* WARNING: Subroutine does not return */
    std::__throw_length_error("vector::_M_default_append");
  }
  uVar1 = param_1 + uVar2;
  if (uVar2 < param_1) {
    uVar2 = 0xfffffffffffffff;
    if (uVar1 < 0x1000000000000000) {
      uVar2 = uVar1;
    }
    uVar2 = uVar2 * 8;
    __dest = operator_new(uVar2);
    puVar5 = (undefined8 *)((long)__dest + sVar4);
    *puVar5 = 0;
    if (param_1 - 1 != 0) goto LAB_00106d15;
LAB_00106d29:
    if (sVar4 == 0) goto LAB_00106d32;
  }
  else {
    uVar2 = uVar2 * 2;
    if (0xfffffffffffffff < uVar2) {
      uVar2 = 0xfffffffffffffff;
    }
    uVar2 = uVar2 * 8;
    __dest = operator_new(uVar2);
    puVar5 = (undefined8 *)((long)__dest + sVar4);
    *puVar5 = 0;
    if (param_1 != 1) {
LAB_00106d15:
      memset(puVar5 + 1,0,(param_1 - 1) * 8);
      goto LAB_00106d29;
    }
  }
  memmove(__dest,pvVar3,sVar4);
LAB_00106d32:
  if (pvVar3 != (void *)0x0) {
    operator_delete(pvVar3,*(long *)(this + 0x10) - (long)pvVar3);
  }
  *(void **)this = __dest;
  *(void **)(this + 8) = (void *)((long)__dest + uVar1 * 8);
  *(ulong *)(this + 0x10) = (long)__dest + uVar2;
  return;
}



/* std::vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::RefBuilderBase, std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::RefBuilderBase> >,
   std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::RefBuilderBase, std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::RefBuilderBase> > > >::_M_default_append(unsigned
   long) */

void __thiscall
std::
vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>>>
::_M_default_append(vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>>>
                    *this,ulong param_1)

{
  ulong uVar1;
  undefined8 *__s;
  undefined8 *puVar2;
  undefined8 uVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  undefined8 *puVar8;
  ulong uVar9;
  
  if (param_1 == 0) {
    return;
  }
  __s = *(undefined8 **)(this + 8);
  puVar2 = *(undefined8 **)this;
  if (param_1 <= (ulong)(*(long *)(this + 0x10) - (long)__s >> 3)) {
    memset(__s,0,param_1 * 8);
    *(undefined8 **)(this + 8) = __s + param_1;
    return;
  }
  uVar4 = (long)__s - (long)puVar2 >> 3;
  if (param_1 <= 0xfffffffffffffff - uVar4) {
    uVar1 = param_1 + uVar4;
    uVar9 = 0xfffffffffffffff;
    if (uVar1 < 0x1000000000000000) {
      uVar9 = uVar1;
    }
    if ((param_1 <= uVar4) && (uVar9 = uVar4 * 2, 0xfffffffffffffff < uVar9)) {
      uVar9 = 0xfffffffffffffff;
    }
    puVar5 = (undefined8 *)operator_new(uVar9 * 8);
    memset((void *)((long)puVar5 + ((long)__s - (long)puVar2)),0,param_1 * 8);
    if (puVar2 != __s) {
      puVar6 = puVar5;
      puVar8 = puVar2;
      do {
        uVar3 = *puVar8;
        puVar7 = puVar6 + 1;
        puVar8 = puVar8 + 1;
        *puVar6 = uVar3;
        puVar6 = puVar7;
      } while ((undefined8 *)(((long)__s - (long)puVar2) + (long)puVar5) != puVar7);
    }
    if (puVar2 != (undefined8 *)0x0) {
      operator_delete(puVar2,*(long *)(this + 0x10) - (long)puVar2);
    }
    *(undefined8 **)this = puVar5;
    *(undefined8 **)(this + 8) = puVar5 + uVar1;
    *(undefined8 **)(this + 0x10) = puVar5 + uVar9;
    return;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_length_error("vector::_M_default_append");
}



/* std::vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::RefBuilderBase, std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::RefBuilderBase> >,
   std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::RefBuilderBase, std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::RefBuilderBase> > > >::_M_default_append(unsigned
   long) */

void __thiscall
std::
vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>>>
::_M_default_append(vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>>>
                    *this,ulong param_1)

{
  ulong uVar1;
  undefined8 *__s;
  undefined8 *puVar2;
  undefined8 uVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  undefined8 *puVar8;
  ulong uVar9;
  
  if (param_1 == 0) {
    return;
  }
  __s = *(undefined8 **)(this + 8);
  puVar2 = *(undefined8 **)this;
  if (param_1 <= (ulong)(*(long *)(this + 0x10) - (long)__s >> 3)) {
    memset(__s,0,param_1 * 8);
    *(undefined8 **)(this + 8) = __s + param_1;
    return;
  }
  uVar4 = (long)__s - (long)puVar2 >> 3;
  if (param_1 <= 0xfffffffffffffff - uVar4) {
    uVar1 = param_1 + uVar4;
    uVar9 = 0xfffffffffffffff;
    if (uVar1 < 0x1000000000000000) {
      uVar9 = uVar1;
    }
    if ((param_1 <= uVar4) && (uVar9 = uVar4 * 2, 0xfffffffffffffff < uVar9)) {
      uVar9 = 0xfffffffffffffff;
    }
    puVar5 = (undefined8 *)operator_new(uVar9 * 8);
    memset((void *)((long)puVar5 + ((long)__s - (long)puVar2)),0,param_1 * 8);
    if (puVar2 != __s) {
      puVar6 = puVar5;
      puVar8 = puVar2;
      do {
        uVar3 = *puVar8;
        puVar7 = puVar6 + 1;
        puVar8 = puVar8 + 1;
        *puVar6 = uVar3;
        puVar6 = puVar7;
      } while ((undefined8 *)(((long)__s - (long)puVar2) + (long)puVar5) != puVar7);
    }
    if (puVar2 != (undefined8 *)0x0) {
      operator_delete(puVar2,*(long *)(this + 0x10) - (long)puVar2);
    }
    *(undefined8 **)this = puVar5;
    *(undefined8 **)(this + 8) = puVar5 + uVar1;
    *(undefined8 **)(this + 0x10) = puVar5 + uVar9;
    return;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_length_error("vector::_M_default_append");
}



/* std::vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::RefBuilderBase, std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::RefBuilderBase> >,
   std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::RefBuilderBase, std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::RefBuilderBase> > > >::_M_default_append(unsigned
   long) */

void __thiscall
std::
vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>>>
::_M_default_append(vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>>>
                    *this,ulong param_1)

{
  ulong uVar1;
  undefined8 *__s;
  undefined8 *puVar2;
  undefined8 uVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  undefined8 *puVar8;
  ulong uVar9;
  
  if (param_1 == 0) {
    return;
  }
  __s = *(undefined8 **)(this + 8);
  puVar2 = *(undefined8 **)this;
  if (param_1 <= (ulong)(*(long *)(this + 0x10) - (long)__s >> 3)) {
    memset(__s,0,param_1 * 8);
    *(undefined8 **)(this + 8) = __s + param_1;
    return;
  }
  uVar4 = (long)__s - (long)puVar2 >> 3;
  if (param_1 <= 0xfffffffffffffff - uVar4) {
    uVar1 = param_1 + uVar4;
    uVar9 = 0xfffffffffffffff;
    if (uVar1 < 0x1000000000000000) {
      uVar9 = uVar1;
    }
    if ((param_1 <= uVar4) && (uVar9 = uVar4 * 2, 0xfffffffffffffff < uVar9)) {
      uVar9 = 0xfffffffffffffff;
    }
    puVar5 = (undefined8 *)operator_new(uVar9 * 8);
    memset((void *)((long)puVar5 + ((long)__s - (long)puVar2)),0,param_1 * 8);
    if (puVar2 != __s) {
      puVar6 = puVar5;
      puVar8 = puVar2;
      do {
        uVar3 = *puVar8;
        puVar7 = puVar6 + 1;
        puVar8 = puVar8 + 1;
        *puVar6 = uVar3;
        puVar6 = puVar7;
      } while ((undefined8 *)(((long)__s - (long)puVar2) + (long)puVar5) != puVar7);
    }
    if (puVar2 != (undefined8 *)0x0) {
      operator_delete(puVar2,*(long *)(this + 0x10) - (long)puVar2);
    }
    *(undefined8 **)this = puVar5;
    *(undefined8 **)(this + 8) = puVar5 + uVar1;
    *(undefined8 **)(this + 0x10) = puVar5 + uVar9;
    return;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_length_error("vector::_M_default_append");
}



/* WARNING: Removing unreachable block (ram,0x0010764d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132e78;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___3_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___3_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3}>(unsigned long, unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#3} const&, embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___3_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  long *plVar2;
  ulong uVar3;
  long *plVar4;
  ulong uVar5;
  
  uVar5 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar5 - uVar3) {
    uVar5 = uVar5 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar5,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  for (; uVar3 < uVar5; uVar3 = uVar3 + 1) {
    lVar1 = uVar3 * 8;
    plVar4 = (long *)(*(long *)(*(long *)(this + 0x20) + 0x10) + lVar1);
    plVar2 = (long *)*plVar4;
    *plVar4 = 0;
    if (plVar2 != (long *)0x0) {
      (**(code **)(*plVar2 + 8))();
    }
    plVar2 = (long *)(*(long *)(*(long *)(*(long *)(this + 0x20) + 0x28) + 0x200) + lVar1);
    if ((long *)*plVar2 != (long *)0x0) {
      (**(code **)(*(long *)*plVar2 + 8))();
      plVar2 = (long *)(lVar1 + *(long *)(*(long *)(*(long *)(this + 0x20) + 0x28) + 0x200));
    }
    *plVar2 = 0;
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x00107cad) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132e90;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this_00;
  TriangleMesh *pTVar2;
  long *plVar3;
  long lVar4;
  undefined8 *puVar5;
  long *plVar6;
  ulong uVar7;
  
  uVar7 = *(ulong *)(this + 8);
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar7 - uVar1) {
    uVar7 = uVar7 + uVar1 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar1,uVar7,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar7,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  do {
    while( true ) {
      if (uVar7 <= uVar1) {
        return;
      }
      this_00 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **)(this + 0x20)
      ;
      pTVar2 = *(TriangleMesh **)(*(long *)(*(long *)(this_00 + 0x30) + 0x1e0) + uVar1 * 8);
      if (((pTVar2 != (TriangleMesh *)0x0) && (pTVar2[0x3c] == (TriangleMesh)0x14)) &&
         (*(int *)(pTVar2 + 0x24) == 1)) break;
LAB_00107ec8:
      uVar1 = uVar1 + 1;
    }
    if (*(uint *)(pTVar2 + 0x20) < 5) {
      plVar6 = (long *)(uVar1 * 8 + *(long *)(this_00 + 0x10));
      if ((*plVar6 == 0) ||
         (lVar4 = __dynamic_cast(*plVar6,&sse2::
                                          BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>
                                          ::RefBuilderBase::typeinfo,
                                 &sse2::
                                  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>
                                  ::RefBuilderSmall::typeinfo,0), lVar4 == 0)) {
        puVar5 = (undefined8 *)operator_new(0x10);
        *puVar5 = &PTR__RefBuilderSmall_00132d58;
        puVar5[1] = uVar1;
        plVar3 = (long *)*plVar6;
        *plVar6 = (long)puVar5;
        if (plVar3 != (long *)0x0) {
          (**(code **)(*plVar3 + 8))();
        }
      }
      goto LAB_00107ec8;
    }
    sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::
    setupLargeBuildRefBuilder(this_00,uVar1,pTVar2);
    uVar1 = uVar1 + 1;
  } while( true );
}



/* WARNING: Removing unreachable block (ram,0x0010832d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132ea8;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::range<unsigned_long>const&)#3}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::range<unsigned_long>const&)#3}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  ulong uVar2;
  ulong uVar3;
  
  uVar3 = *(ulong *)(this + 8);
  uVar2 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar3 - uVar2) {
    uVar3 = uVar3 + uVar2 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar2,uVar3,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___3_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar3,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___3_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  for (; uVar2 < uVar3; uVar2 = uVar2 + 1) {
    lVar1 = *(long *)(*(long *)(*(long *)(*(long *)(this + 0x20) + 0x30) + 0x1e0) + uVar2 * 8);
    if ((((lVar1 != 0) && (*(char *)(lVar1 + 0x3c) == '\x14')) &&
        ((*(byte *)(lVar1 + 0x3e) & 0x20) != 0)) && (*(int *)(lVar1 + 0x24) == 1)) {
      (**(code **)(**(long **)(*(long *)(*(long *)(this + 0x20) + 0x10) + uVar2 * 8) + 0x10))();
    }
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined8 *puVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  undefined4 uVar5;
  long lVar6;
  float fVar7;
  ulong uVar8;
  long *plVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined4 uVar14;
  undefined1 (*pauVar15) [16];
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  ulong *in_RDX;
  float *pfVar18;
  uint uVar19;
  float *pfVar20;
  ulong uVar21;
  ulong uVar22;
  long lVar23;
  undefined8 *puVar24;
  long in_FS_OFFSET;
  undefined1 auVar25 [16];
  float fVar27;
  float fVar28;
  undefined1 auVar26 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 local_270 [8];
  float fStack_268;
  float fStack_264;
  undefined1 local_260 [16];
  undefined8 local_250;
  undefined8 uStack_248;
  undefined8 local_240;
  undefined4 local_238;
  undefined8 local_220 [59];
  long local_48;
  
  uVar14 = _LC11;
  uVar5 = _LC9;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)(this + 0x40) = 0;
  auVar30._4_4_ = uVar5;
  auVar30._0_4_ = uVar5;
  auVar30._8_4_ = uVar5;
  auVar30._12_4_ = uVar5;
  auVar31._4_4_ = uVar14;
  auVar31._0_4_ = uVar14;
  auVar31._8_4_ = uVar14;
  auVar31._12_4_ = uVar14;
  *(undefined8 *)(this + 0x48) = 0;
  *(undefined1 (*) [16])this = auVar30;
  *(undefined1 (*) [16])(this + 0x10) = auVar31;
  *(undefined1 (*) [16])(this + 0x20) = auVar30;
  *(undefined1 (*) [16])(this + 0x30) = auVar31;
  uVar22 = *in_RDX;
  if (uVar22 < in_RDX[1]) {
    do {
      while( true ) {
        lVar23 = uVar22 * 0x40;
        pfVar20 = (float *)(**(long **)(param_1 + 8) + lVar23);
        uVar17 = *(ulong *)(pfVar20 + 8);
        uVar21 = (ulong)((uint)uVar17 & 8);
        if ((uVar17 & 8) == 0) break;
LAB_001087ee:
        uVar22 = uVar22 + 1;
        if (in_RDX[1] <= uVar22) goto LAB_001087fc;
      }
      local_270._4_4_ = pfVar20[5] - pfVar20[1];
      local_270._0_4_ = pfVar20[4] - *pfVar20;
      fStack_268 = pfVar20[6] - pfVar20[2];
      fStack_264 = pfVar20[7] - pfVar20[3];
      if (*(float *)(local_270 + **(long **)param_1 * 4) * *(float *)(*(long **)param_1 + 1) <=
          __LC12) goto LAB_001087ee;
      fVar7 = pfVar20[3];
      pfVar18 = (float *)(uVar17 + 0x20);
      uVar19 = (uint)pfVar20[7] >> 2;
      if (uVar19 == 0) {
        uVar19 = 1;
      }
      pauVar15 = &local_260;
      do {
        uVar8 = *(ulong *)((-0x40 - uVar17) + (long)pfVar18 * 2);
        if (uVar8 != 8) {
          fVar2 = pfVar18[8];
          fVar3 = *pfVar18;
          fVar4 = pfVar18[0x10];
          local_270._4_4_ = pfVar18[0xc];
          local_270._0_4_ = pfVar18[4];
          fStack_268 = pfVar18[0x14];
          fVar27 = 0.0;
          fStack_264 = (float)uVar19;
          if ((uVar8 & 8) == 0) {
            fVar27 = pfVar18[0xc] - fVar2;
            fVar28 = pfVar18[0x14] - fVar4;
            fVar27 = (fVar27 + fVar28) * (pfVar18[4] - fVar3) + fVar27 * fVar28;
            fVar27 = fVar27 + fVar27;
          }
          *(ulong *)pauVar15[2] = uVar8;
          uVar21 = uVar21 + 1;
          *(float *)*pauVar15 = fVar3;
          *(float *)(*pauVar15 + 4) = fVar2;
          *(float *)(*pauVar15 + 8) = fVar4;
          *(float *)(*pauVar15 + 0xc) = fVar7;
          pauVar15[1] = _local_270;
          *(float *)(pauVar15[2] + 8) = fVar27;
        }
        pfVar18 = pfVar18 + 1;
        pauVar15 = pauVar15 + 4;
      } while ((float *)(uVar17 + 0x30) != pfVar18);
      plVar9 = *(long **)(param_1 + 0x10);
      LOCK();
      lVar6 = *plVar9;
      *plVar9 = *plVar9 + (uVar21 - 1);
      UNLOCK();
      if (uVar21 != 0) {
        auVar31 = *(undefined1 (*) [16])this;
        auVar30 = *(undefined1 (*) [16])(this + 0x10);
        auVar29 = *(undefined1 (*) [16])(this + 0x20);
        auVar26 = *(undefined1 (*) [16])(this + 0x30);
        pauVar15 = &local_260;
        do {
          auVar25._0_4_ = *(float *)pauVar15[1] + *(float *)*pauVar15;
          auVar25._4_4_ = *(float *)(pauVar15[1] + 4) + *(float *)(*pauVar15 + 4);
          auVar25._8_4_ = *(float *)(pauVar15[1] + 8) + *(float *)(*pauVar15 + 8);
          auVar25._12_4_ = *(float *)(pauVar15[1] + 0xc) + *(float *)(*pauVar15 + 0xc);
          pauVar16 = pauVar15 + 4;
          auVar31 = minps(auVar31,*pauVar15);
          auVar30 = maxps(auVar30,pauVar15[1]);
          auVar29 = minps(auVar29,auVar25);
          auVar26 = maxps(auVar26,auVar25);
          pauVar15 = pauVar16;
        } while (&local_260 + uVar21 * 4 != pauVar16);
        *(undefined1 (*) [16])this = auVar31;
        *(undefined1 (*) [16])(this + 0x10) = auVar30;
        *(undefined1 (*) [16])(this + 0x20) = auVar29;
        *(undefined1 (*) [16])(this + 0x30) = auVar26;
        puVar24 = (undefined8 *)(lVar23 + **(long **)(param_1 + 8));
        *puVar24 = local_260._0_8_;
        puVar24[1] = local_260._8_8_;
        puVar24[4] = local_240;
        puVar24[2] = local_250;
        puVar24[3] = uStack_248;
        *(undefined4 *)(puVar24 + 5) = local_238;
        if (uVar21 != 1) {
          uVar17 = 1;
          puVar24 = local_220;
          do {
            uVar11 = puVar24[1];
            uVar12 = puVar24[2];
            uVar13 = puVar24[3];
            uVar5 = *(undefined4 *)(puVar24 + 5);
            lVar23 = **(long **)(param_1 + 0x18) + lVar6 + uVar17;
            uVar17 = uVar17 + 1;
            puVar1 = (undefined8 *)(**(long **)(param_1 + 8) + -0x40 + lVar23 * 0x40);
            uVar10 = puVar24[4];
            *puVar1 = *puVar24;
            puVar1[1] = uVar11;
            puVar1[4] = uVar10;
            puVar1[2] = uVar12;
            puVar1[3] = uVar13;
            *(undefined4 *)(puVar1 + 5) = uVar5;
            puVar24 = puVar24 + 8;
          } while (uVar17 != uVar21);
        }
        goto LAB_001087ee;
      }
      uVar22 = uVar22 + 1;
      puVar24 = (undefined8 *)(lVar23 + **(long **)(param_1 + 8));
      *puVar24 = local_260._0_8_;
      puVar24[1] = local_260._8_8_;
      puVar24[4] = local_240;
      puVar24[2] = local_250;
      puVar24[3] = uStack_248;
      *(undefined4 *)(puVar24 + 5) = local_238;
    } while (uVar22 < in_RDX[1]);
  }
LAB_001087fc:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::sequential_object_split(embree::sse2::BinSplit<32ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&) */

undefined1  [16] __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::sequential_object_split
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
           *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  undefined4 uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  int iVar5;
  long lVar6;
  long lVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  long lVar10;
  BinSplit *pBVar11;
  BinSplit *pBVar12;
  BinSplit *pBVar13;
  long lVar14;
  uint uVar15;
  BinSplit *pBVar16;
  long lVar17;
  ulong unaff_R14;
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 local_c0 [16];
  undefined1 local_b0 [16];
  uint local_90;
  uint uStack_8c;
  uint uStack_88;
  uint uStack_84;
  
  iVar5 = *(int *)(param_1 + 8);
  lVar14 = *(long *)(param_2 + 0x40);
  lVar6 = *(long *)(param_2 + 0x48);
  lVar7 = *(long *)this;
  lVar17 = 0;
  auVar22._0_8_ = CONCAT44(_LC11,_LC11);
  auVar22._8_4_ = _LC11;
  auVar22._12_4_ = _LC11;
  auVar24._8_4_ = _LC11;
  auVar24._0_8_ = auVar22._0_8_;
  auVar24._12_4_ = _LC11;
  auVar28 = *(undefined1 (*) [16])
             (&mm_lookupmask_ps + (long)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f)) * 2);
  auVar26._8_4_ = _LC11;
  auVar26._0_8_ = auVar22._0_8_;
  auVar26._12_4_ = _LC11;
  auVar23._0_8_ = CONCAT44(_LC9,_LC9);
  auVar23._8_4_ = _LC9;
  auVar23._12_4_ = _LC9;
  auVar25._8_4_ = _LC9;
  auVar25._0_8_ = auVar23._0_8_;
  auVar25._12_4_ = _LC9;
  auVar27._8_4_ = _LC9;
  auVar27._0_8_ = auVar23._0_8_;
  auVar27._12_4_ = _LC9;
  lVar10 = 1;
  pBVar11 = (BinSplit *)(lVar7 + -0x40 + lVar6 * 0x40);
  pBVar16 = param_1;
  local_c0 = auVar22;
  local_b0 = auVar23;
  for (pBVar13 = (BinSplit *)(lVar14 * 0x40 + lVar7); pBVar13 <= pBVar11; pBVar13 = pBVar13 + 0x40)
  {
    auVar2 = *(undefined1 (*) [16])(pBVar13 + 0x10);
    auVar3 = *(undefined1 (*) [16])pBVar13;
    auVar18._0_4_ = auVar2._0_4_ + auVar3._0_4_;
    auVar18._4_4_ = auVar2._4_4_ + auVar3._4_4_;
    auVar18._8_4_ = auVar2._8_4_ + auVar3._8_4_;
    auVar18._12_4_ = auVar2._12_4_ + auVar3._12_4_;
    local_90 = auVar28._0_4_;
    uStack_8c = auVar28._4_4_;
    uStack_88 = auVar28._8_4_;
    uStack_84 = auVar28._12_4_;
    auVar20._0_4_ =
         -(uint)((int)((auVar18._0_4_ - *(float *)(param_1 + 0x20)) * *(float *)(param_1 + 0x30) +
                      _LC14) < iVar5) & local_90;
    auVar20._4_4_ =
         -(uint)((int)((auVar18._4_4_ - *(float *)(param_1 + 0x24)) * *(float *)(param_1 + 0x34) +
                      _UNK_001336e4) < iVar5) & uStack_8c;
    auVar20._8_4_ =
         -(uint)((int)((auVar18._8_4_ - *(float *)(param_1 + 0x28)) * *(float *)(param_1 + 0x38) +
                      _UNK_001336e8) < iVar5) & uStack_88;
    auVar20._12_4_ =
         -(uint)((int)((auVar18._12_4_ - *(float *)(param_1 + 0x2c)) * *(float *)(param_1 + 0x3c) +
                      _UNK_001336ec) < iVar5) & uStack_84;
    uVar15 = movmskps((int)pBVar16,auVar20);
    if (uVar15 == 0) {
      while( true ) {
        auVar20 = *(undefined1 (*) [16])(pBVar11 + 0x10);
        auVar4 = *(undefined1 (*) [16])pBVar11;
        lVar17 = lVar17 + 1;
        pBVar12 = pBVar11 + -0x40;
        auVar21._0_4_ = auVar20._0_4_ + auVar4._0_4_;
        auVar21._4_4_ = auVar20._4_4_ + auVar4._4_4_;
        auVar21._8_4_ = auVar20._8_4_ + auVar4._8_4_;
        auVar21._12_4_ = auVar20._12_4_ + auVar4._12_4_;
        auVar19._0_4_ =
             -(uint)((int)((auVar21._0_4_ - *(float *)(param_1 + 0x20)) * *(float *)(param_1 + 0x30)
                          + _LC14) < iVar5) & local_90;
        auVar19._4_4_ =
             -(uint)((int)((auVar21._4_4_ - *(float *)(param_1 + 0x24)) * *(float *)(param_1 + 0x34)
                          + _UNK_001336e4) < iVar5) & uStack_8c;
        auVar19._8_4_ =
             -(uint)((int)((auVar21._8_4_ - *(float *)(param_1 + 0x28)) * *(float *)(param_1 + 0x38)
                          + _UNK_001336e8) < iVar5) & uStack_88;
        auVar19._12_4_ =
             -(uint)((int)((auVar21._12_4_ - *(float *)(param_1 + 0x2c)) *
                           *(float *)(param_1 + 0x3c) + _UNK_001336ec) < iVar5) & uStack_84;
        uVar15 = movmskps((int)unaff_R14,auVar19);
        unaff_R14 = (ulong)uVar15;
        if (uVar15 != 0) break;
        local_b0 = minps(local_b0,auVar4);
        local_c0 = maxps(local_c0,auVar20);
        auVar23 = minps(auVar23,auVar21);
        auVar22 = maxps(auVar22,auVar21);
        pBVar11 = pBVar12;
        if (pBVar12 < pBVar13) goto LAB_0010898c;
      }
      *(undefined1 (*) [16])pBVar13 = auVar4;
      auVar26 = maxps(auVar26,auVar20);
      uVar9 = *(undefined8 *)(pBVar11 + 0x18);
      uVar8 = *(undefined8 *)(pBVar13 + 0x20);
      auVar27 = minps(auVar27,auVar4);
      auVar25 = minps(auVar25,auVar21);
      local_c0 = maxps(local_c0,auVar2);
      *(undefined8 *)(pBVar13 + 0x10) = *(undefined8 *)(pBVar11 + 0x10);
      *(undefined8 *)(pBVar13 + 0x18) = uVar9;
      unaff_R14 = *(ulong *)(pBVar11 + 0x20);
      local_b0 = minps(local_b0,auVar3);
      auVar23 = minps(auVar23,auVar18);
      *(ulong *)(pBVar13 + 0x20) = unaff_R14;
      auVar22 = maxps(auVar22,auVar18);
      auVar24 = maxps(auVar24,auVar21);
      uVar1 = *(undefined4 *)(pBVar13 + 0x28);
      *(undefined4 *)(pBVar13 + 0x28) = *(undefined4 *)(pBVar11 + 0x28);
      *(undefined8 *)(pBVar11 + 0x20) = uVar8;
      *(undefined1 (*) [16])pBVar11 = auVar3;
      *(undefined1 (*) [16])(pBVar11 + 0x10) = auVar2;
      *(undefined4 *)(pBVar11 + 0x28) = uVar1;
      pBVar16 = pBVar11;
    }
    else {
      auVar27 = minps(auVar27,auVar3);
      auVar26 = maxps(auVar26,auVar2);
      auVar25 = minps(auVar25,auVar18);
      auVar24 = maxps(auVar24,auVar18);
      pBVar12 = pBVar11;
      pBVar16 = (BinSplit *)(ulong)uVar15;
    }
    lVar10 = lVar10 + 1;
    pBVar11 = pBVar12;
  }
LAB_0010898c:
  *(long *)(param_3 + 0x40) = lVar14;
  auVar28._0_8_ = lVar10 + -1;
  lVar14 = (long)pBVar13 - lVar7 >> 6;
  *(undefined1 (*) [16])param_3 = auVar27;
  *(long *)(param_3 + 0x48) = lVar14;
  *(long *)(param_3 + 0x50) = lVar14;
  *(undefined1 (*) [16])(param_3 + 0x10) = auVar26;
  *(undefined1 (*) [16])(param_3 + 0x20) = auVar25;
  *(undefined1 (*) [16])(param_3 + 0x30) = auVar24;
  *(long *)(param_4 + 0x40) = lVar14;
  *(undefined8 *)param_4 = local_b0._0_8_;
  *(undefined8 *)(param_4 + 8) = local_b0._8_8_;
  *(long *)(param_4 + 0x48) = lVar6;
  *(long *)(param_4 + 0x50) = lVar6;
  *(undefined8 *)(param_4 + 0x10) = local_c0._0_8_;
  *(undefined8 *)(param_4 + 0x18) = local_c0._8_8_;
  *(undefined1 (*) [16])(param_4 + 0x20) = auVar23;
  *(undefined1 (*) [16])(param_4 + 0x30) = auVar22;
  auVar28._8_8_ = lVar17;
  return auVar28;
}



/* WARNING: Removing unreachable block (ram,0x00108eed) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132ec0;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  long *plVar2;
  ulong uVar3;
  long *plVar4;
  ulong uVar5;
  
  uVar5 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar5 - uVar3) {
    uVar5 = uVar5 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar5,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  for (; uVar3 < uVar5; uVar3 = uVar3 + 1) {
    lVar1 = uVar3 * 8;
    plVar4 = (long *)(*(long *)(*(long *)(this + 0x20) + 0x10) + lVar1);
    plVar2 = (long *)*plVar4;
    *plVar4 = 0;
    if (plVar2 != (long *)0x0) {
      (**(code **)(*plVar2 + 8))();
    }
    plVar2 = (long *)(*(long *)(*(long *)(*(long *)(this + 0x20) + 0x28) + 0x200) + lVar1);
    if ((long *)*plVar2 != (long *)0x0) {
      (**(code **)(*(long *)*plVar2 + 8))();
      plVar2 = (long *)(lVar1 + *(long *)(*(long *)(*(long *)(this + 0x20) + 0x28) + 0x200));
    }
    *plVar2 = 0;
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0010950d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132ed8;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this_00;
  TriangleMesh *pTVar2;
  long *plVar3;
  long lVar4;
  undefined8 *puVar5;
  long *plVar6;
  ulong uVar7;
  
  uVar7 = *(ulong *)(this + 8);
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar7 - uVar1) {
    uVar7 = uVar7 + uVar1 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar1,uVar7,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar7,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  do {
    while( true ) {
      if (uVar7 <= uVar1) {
        return;
      }
      this_00 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **)(this + 0x20)
      ;
      pTVar2 = *(TriangleMesh **)(*(long *)(*(long *)(this_00 + 0x30) + 0x1e0) + uVar1 * 8);
      if (((pTVar2 != (TriangleMesh *)0x0) && (pTVar2[0x3c] == (TriangleMesh)0x14)) &&
         (*(int *)(pTVar2 + 0x24) == 1)) break;
LAB_00109728:
      uVar1 = uVar1 + 1;
    }
    if (*(uint *)(pTVar2 + 0x20) < 5) {
      plVar6 = (long *)(uVar1 * 8 + *(long *)(this_00 + 0x10));
      if ((*plVar6 == 0) ||
         (lVar4 = __dynamic_cast(*plVar6,&sse2::
                                          BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>
                                          ::RefBuilderBase::typeinfo,
                                 &sse2::
                                  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>
                                  ::RefBuilderSmall::typeinfo,0), lVar4 == 0)) {
        puVar5 = (undefined8 *)operator_new(0x10);
        *puVar5 = &PTR__RefBuilderSmall_00132db8;
        puVar5[1] = uVar1;
        plVar3 = (long *)*plVar6;
        *plVar6 = (long)puVar5;
        if (plVar3 != (long *)0x0) {
          (**(code **)(*plVar3 + 8))();
        }
      }
      goto LAB_00109728;
    }
    sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::
    setupLargeBuildRefBuilder(this_00,uVar1,pTVar2);
    uVar1 = uVar1 + 1;
  } while( true );
}



/* WARNING: Removing unreachable block (ram,0x00109b8d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132ef0;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::range<unsigned_long>const&)#3}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::range<unsigned_long>const&)#3}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  ulong uVar2;
  ulong uVar3;
  
  uVar3 = *(ulong *)(this + 8);
  uVar2 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar3 - uVar2) {
    uVar3 = uVar3 + uVar2 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar2,uVar3,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___3_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar3,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___3_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  for (; uVar2 < uVar3; uVar2 = uVar2 + 1) {
    lVar1 = *(long *)(*(long *)(*(long *)(*(long *)(this + 0x20) + 0x30) + 0x1e0) + uVar2 * 8);
    if ((((lVar1 != 0) && (*(char *)(lVar1 + 0x3c) == '\x14')) &&
        ((*(byte *)(lVar1 + 0x3e) & 0x20) != 0)) && (*(int *)(lVar1 + 0x24) == 1)) {
      (**(code **)(**(long **)(*(long *)(*(long *)(this + 0x20) + 0x10) + uVar2 * 8) + 0x10))();
    }
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined8 *puVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  undefined4 uVar5;
  long lVar6;
  float fVar7;
  ulong uVar8;
  long *plVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined4 uVar14;
  undefined1 (*pauVar15) [16];
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  ulong *in_RDX;
  float *pfVar18;
  uint uVar19;
  float *pfVar20;
  ulong uVar21;
  ulong uVar22;
  long lVar23;
  undefined8 *puVar24;
  long in_FS_OFFSET;
  undefined1 auVar25 [16];
  float fVar27;
  float fVar28;
  undefined1 auVar26 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 local_270 [8];
  float fStack_268;
  float fStack_264;
  undefined1 local_260 [16];
  undefined8 local_250;
  undefined8 uStack_248;
  undefined8 local_240;
  undefined4 local_238;
  undefined8 local_220 [59];
  long local_48;
  
  uVar14 = _LC11;
  uVar5 = _LC9;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)(this + 0x40) = 0;
  auVar30._4_4_ = uVar5;
  auVar30._0_4_ = uVar5;
  auVar30._8_4_ = uVar5;
  auVar30._12_4_ = uVar5;
  auVar31._4_4_ = uVar14;
  auVar31._0_4_ = uVar14;
  auVar31._8_4_ = uVar14;
  auVar31._12_4_ = uVar14;
  *(undefined8 *)(this + 0x48) = 0;
  *(undefined1 (*) [16])this = auVar30;
  *(undefined1 (*) [16])(this + 0x10) = auVar31;
  *(undefined1 (*) [16])(this + 0x20) = auVar30;
  *(undefined1 (*) [16])(this + 0x30) = auVar31;
  uVar22 = *in_RDX;
  if (uVar22 < in_RDX[1]) {
    do {
      while( true ) {
        lVar23 = uVar22 * 0x40;
        pfVar20 = (float *)(**(long **)(param_1 + 8) + lVar23);
        uVar17 = *(ulong *)(pfVar20 + 8);
        uVar21 = (ulong)((uint)uVar17 & 8);
        if ((uVar17 & 8) == 0) break;
LAB_0010a04e:
        uVar22 = uVar22 + 1;
        if (in_RDX[1] <= uVar22) goto LAB_0010a05c;
      }
      local_270._4_4_ = pfVar20[5] - pfVar20[1];
      local_270._0_4_ = pfVar20[4] - *pfVar20;
      fStack_268 = pfVar20[6] - pfVar20[2];
      fStack_264 = pfVar20[7] - pfVar20[3];
      if (*(float *)(local_270 + **(long **)param_1 * 4) * *(float *)(*(long **)param_1 + 1) <=
          __LC12) goto LAB_0010a04e;
      fVar7 = pfVar20[3];
      pfVar18 = (float *)(uVar17 + 0x20);
      uVar19 = (uint)pfVar20[7] >> 2;
      if (uVar19 == 0) {
        uVar19 = 1;
      }
      pauVar15 = &local_260;
      do {
        uVar8 = *(ulong *)((-0x40 - uVar17) + (long)pfVar18 * 2);
        if (uVar8 != 8) {
          fVar2 = pfVar18[8];
          fVar3 = *pfVar18;
          fVar4 = pfVar18[0x10];
          local_270._4_4_ = pfVar18[0xc];
          local_270._0_4_ = pfVar18[4];
          fStack_268 = pfVar18[0x14];
          fVar27 = 0.0;
          fStack_264 = (float)uVar19;
          if ((uVar8 & 8) == 0) {
            fVar27 = pfVar18[0xc] - fVar2;
            fVar28 = pfVar18[0x14] - fVar4;
            fVar27 = (fVar27 + fVar28) * (pfVar18[4] - fVar3) + fVar27 * fVar28;
            fVar27 = fVar27 + fVar27;
          }
          *(ulong *)pauVar15[2] = uVar8;
          uVar21 = uVar21 + 1;
          *(float *)*pauVar15 = fVar3;
          *(float *)(*pauVar15 + 4) = fVar2;
          *(float *)(*pauVar15 + 8) = fVar4;
          *(float *)(*pauVar15 + 0xc) = fVar7;
          pauVar15[1] = _local_270;
          *(float *)(pauVar15[2] + 8) = fVar27;
        }
        pfVar18 = pfVar18 + 1;
        pauVar15 = pauVar15 + 4;
      } while ((float *)(uVar17 + 0x30) != pfVar18);
      plVar9 = *(long **)(param_1 + 0x10);
      LOCK();
      lVar6 = *plVar9;
      *plVar9 = *plVar9 + (uVar21 - 1);
      UNLOCK();
      if (uVar21 != 0) {
        auVar31 = *(undefined1 (*) [16])this;
        auVar30 = *(undefined1 (*) [16])(this + 0x10);
        auVar29 = *(undefined1 (*) [16])(this + 0x20);
        auVar26 = *(undefined1 (*) [16])(this + 0x30);
        pauVar15 = &local_260;
        do {
          auVar25._0_4_ = *(float *)pauVar15[1] + *(float *)*pauVar15;
          auVar25._4_4_ = *(float *)(pauVar15[1] + 4) + *(float *)(*pauVar15 + 4);
          auVar25._8_4_ = *(float *)(pauVar15[1] + 8) + *(float *)(*pauVar15 + 8);
          auVar25._12_4_ = *(float *)(pauVar15[1] + 0xc) + *(float *)(*pauVar15 + 0xc);
          pauVar16 = pauVar15 + 4;
          auVar31 = minps(auVar31,*pauVar15);
          auVar30 = maxps(auVar30,pauVar15[1]);
          auVar29 = minps(auVar29,auVar25);
          auVar26 = maxps(auVar26,auVar25);
          pauVar15 = pauVar16;
        } while (&local_260 + uVar21 * 4 != pauVar16);
        *(undefined1 (*) [16])this = auVar31;
        *(undefined1 (*) [16])(this + 0x10) = auVar30;
        *(undefined1 (*) [16])(this + 0x20) = auVar29;
        *(undefined1 (*) [16])(this + 0x30) = auVar26;
        puVar24 = (undefined8 *)(lVar23 + **(long **)(param_1 + 8));
        *puVar24 = local_260._0_8_;
        puVar24[1] = local_260._8_8_;
        puVar24[4] = local_240;
        puVar24[2] = local_250;
        puVar24[3] = uStack_248;
        *(undefined4 *)(puVar24 + 5) = local_238;
        if (uVar21 != 1) {
          uVar17 = 1;
          puVar24 = local_220;
          do {
            uVar11 = puVar24[1];
            uVar12 = puVar24[2];
            uVar13 = puVar24[3];
            uVar5 = *(undefined4 *)(puVar24 + 5);
            lVar23 = **(long **)(param_1 + 0x18) + lVar6 + uVar17;
            uVar17 = uVar17 + 1;
            puVar1 = (undefined8 *)(**(long **)(param_1 + 8) + -0x40 + lVar23 * 0x40);
            uVar10 = puVar24[4];
            *puVar1 = *puVar24;
            puVar1[1] = uVar11;
            puVar1[4] = uVar10;
            puVar1[2] = uVar12;
            puVar1[3] = uVar13;
            *(undefined4 *)(puVar1 + 5) = uVar5;
            puVar24 = puVar24 + 8;
          } while (uVar17 != uVar21);
        }
        goto LAB_0010a04e;
      }
      uVar22 = uVar22 + 1;
      puVar24 = (undefined8 *)(lVar23 + **(long **)(param_1 + 8));
      *puVar24 = local_260._0_8_;
      puVar24[1] = local_260._8_8_;
      puVar24[4] = local_240;
      puVar24[2] = local_250;
      puVar24[3] = uStack_248;
      *(undefined4 *)(puVar24 + 5) = local_238;
    } while (uVar22 < in_RDX[1]);
  }
LAB_0010a05c:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::sequential_object_split(embree::sse2::BinSplit<32ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&) */

undefined1  [16] __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::sequential_object_split
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
           *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  undefined4 uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  int iVar5;
  long lVar6;
  long lVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  long lVar10;
  BinSplit *pBVar11;
  BinSplit *pBVar12;
  BinSplit *pBVar13;
  long lVar14;
  uint uVar15;
  BinSplit *pBVar16;
  long lVar17;
  ulong unaff_R14;
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 local_c0 [16];
  undefined1 local_b0 [16];
  uint local_90;
  uint uStack_8c;
  uint uStack_88;
  uint uStack_84;
  
  iVar5 = *(int *)(param_1 + 8);
  lVar14 = *(long *)(param_2 + 0x40);
  lVar6 = *(long *)(param_2 + 0x48);
  lVar7 = *(long *)this;
  lVar17 = 0;
  auVar22._0_8_ = CONCAT44(_LC11,_LC11);
  auVar22._8_4_ = _LC11;
  auVar22._12_4_ = _LC11;
  auVar24._8_4_ = _LC11;
  auVar24._0_8_ = auVar22._0_8_;
  auVar24._12_4_ = _LC11;
  auVar28 = *(undefined1 (*) [16])
             (&mm_lookupmask_ps + (long)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f)) * 2);
  auVar26._8_4_ = _LC11;
  auVar26._0_8_ = auVar22._0_8_;
  auVar26._12_4_ = _LC11;
  auVar23._0_8_ = CONCAT44(_LC9,_LC9);
  auVar23._8_4_ = _LC9;
  auVar23._12_4_ = _LC9;
  auVar25._8_4_ = _LC9;
  auVar25._0_8_ = auVar23._0_8_;
  auVar25._12_4_ = _LC9;
  auVar27._8_4_ = _LC9;
  auVar27._0_8_ = auVar23._0_8_;
  auVar27._12_4_ = _LC9;
  lVar10 = 1;
  pBVar11 = (BinSplit *)(lVar7 + -0x40 + lVar6 * 0x40);
  pBVar16 = param_1;
  local_c0 = auVar22;
  local_b0 = auVar23;
  for (pBVar13 = (BinSplit *)(lVar14 * 0x40 + lVar7); pBVar13 <= pBVar11; pBVar13 = pBVar13 + 0x40)
  {
    auVar2 = *(undefined1 (*) [16])(pBVar13 + 0x10);
    auVar3 = *(undefined1 (*) [16])pBVar13;
    auVar18._0_4_ = auVar2._0_4_ + auVar3._0_4_;
    auVar18._4_4_ = auVar2._4_4_ + auVar3._4_4_;
    auVar18._8_4_ = auVar2._8_4_ + auVar3._8_4_;
    auVar18._12_4_ = auVar2._12_4_ + auVar3._12_4_;
    local_90 = auVar28._0_4_;
    uStack_8c = auVar28._4_4_;
    uStack_88 = auVar28._8_4_;
    uStack_84 = auVar28._12_4_;
    auVar20._0_4_ =
         -(uint)((int)((auVar18._0_4_ - *(float *)(param_1 + 0x20)) * *(float *)(param_1 + 0x30) +
                      _LC14) < iVar5) & local_90;
    auVar20._4_4_ =
         -(uint)((int)((auVar18._4_4_ - *(float *)(param_1 + 0x24)) * *(float *)(param_1 + 0x34) +
                      _UNK_001336e4) < iVar5) & uStack_8c;
    auVar20._8_4_ =
         -(uint)((int)((auVar18._8_4_ - *(float *)(param_1 + 0x28)) * *(float *)(param_1 + 0x38) +
                      _UNK_001336e8) < iVar5) & uStack_88;
    auVar20._12_4_ =
         -(uint)((int)((auVar18._12_4_ - *(float *)(param_1 + 0x2c)) * *(float *)(param_1 + 0x3c) +
                      _UNK_001336ec) < iVar5) & uStack_84;
    uVar15 = movmskps((int)pBVar16,auVar20);
    if (uVar15 == 0) {
      while( true ) {
        auVar20 = *(undefined1 (*) [16])(pBVar11 + 0x10);
        auVar4 = *(undefined1 (*) [16])pBVar11;
        lVar17 = lVar17 + 1;
        pBVar12 = pBVar11 + -0x40;
        auVar21._0_4_ = auVar20._0_4_ + auVar4._0_4_;
        auVar21._4_4_ = auVar20._4_4_ + auVar4._4_4_;
        auVar21._8_4_ = auVar20._8_4_ + auVar4._8_4_;
        auVar21._12_4_ = auVar20._12_4_ + auVar4._12_4_;
        auVar19._0_4_ =
             -(uint)((int)((auVar21._0_4_ - *(float *)(param_1 + 0x20)) * *(float *)(param_1 + 0x30)
                          + _LC14) < iVar5) & local_90;
        auVar19._4_4_ =
             -(uint)((int)((auVar21._4_4_ - *(float *)(param_1 + 0x24)) * *(float *)(param_1 + 0x34)
                          + _UNK_001336e4) < iVar5) & uStack_8c;
        auVar19._8_4_ =
             -(uint)((int)((auVar21._8_4_ - *(float *)(param_1 + 0x28)) * *(float *)(param_1 + 0x38)
                          + _UNK_001336e8) < iVar5) & uStack_88;
        auVar19._12_4_ =
             -(uint)((int)((auVar21._12_4_ - *(float *)(param_1 + 0x2c)) *
                           *(float *)(param_1 + 0x3c) + _UNK_001336ec) < iVar5) & uStack_84;
        uVar15 = movmskps((int)unaff_R14,auVar19);
        unaff_R14 = (ulong)uVar15;
        if (uVar15 != 0) break;
        local_b0 = minps(local_b0,auVar4);
        local_c0 = maxps(local_c0,auVar20);
        auVar23 = minps(auVar23,auVar21);
        auVar22 = maxps(auVar22,auVar21);
        pBVar11 = pBVar12;
        if (pBVar12 < pBVar13) goto LAB_0010a1ec;
      }
      *(undefined1 (*) [16])pBVar13 = auVar4;
      auVar26 = maxps(auVar26,auVar20);
      uVar9 = *(undefined8 *)(pBVar11 + 0x18);
      uVar8 = *(undefined8 *)(pBVar13 + 0x20);
      auVar27 = minps(auVar27,auVar4);
      auVar25 = minps(auVar25,auVar21);
      local_c0 = maxps(local_c0,auVar2);
      *(undefined8 *)(pBVar13 + 0x10) = *(undefined8 *)(pBVar11 + 0x10);
      *(undefined8 *)(pBVar13 + 0x18) = uVar9;
      unaff_R14 = *(ulong *)(pBVar11 + 0x20);
      local_b0 = minps(local_b0,auVar3);
      auVar23 = minps(auVar23,auVar18);
      *(ulong *)(pBVar13 + 0x20) = unaff_R14;
      auVar22 = maxps(auVar22,auVar18);
      auVar24 = maxps(auVar24,auVar21);
      uVar1 = *(undefined4 *)(pBVar13 + 0x28);
      *(undefined4 *)(pBVar13 + 0x28) = *(undefined4 *)(pBVar11 + 0x28);
      *(undefined8 *)(pBVar11 + 0x20) = uVar8;
      *(undefined1 (*) [16])pBVar11 = auVar3;
      *(undefined1 (*) [16])(pBVar11 + 0x10) = auVar2;
      *(undefined4 *)(pBVar11 + 0x28) = uVar1;
      pBVar16 = pBVar11;
    }
    else {
      auVar27 = minps(auVar27,auVar3);
      auVar26 = maxps(auVar26,auVar2);
      auVar25 = minps(auVar25,auVar18);
      auVar24 = maxps(auVar24,auVar18);
      pBVar12 = pBVar11;
      pBVar16 = (BinSplit *)(ulong)uVar15;
    }
    lVar10 = lVar10 + 1;
    pBVar11 = pBVar12;
  }
LAB_0010a1ec:
  *(long *)(param_3 + 0x40) = lVar14;
  auVar28._0_8_ = lVar10 + -1;
  lVar14 = (long)pBVar13 - lVar7 >> 6;
  *(undefined1 (*) [16])param_3 = auVar27;
  *(long *)(param_3 + 0x48) = lVar14;
  *(long *)(param_3 + 0x50) = lVar14;
  *(undefined1 (*) [16])(param_3 + 0x10) = auVar26;
  *(undefined1 (*) [16])(param_3 + 0x20) = auVar25;
  *(undefined1 (*) [16])(param_3 + 0x30) = auVar24;
  *(long *)(param_4 + 0x40) = lVar14;
  *(undefined8 *)param_4 = local_b0._0_8_;
  *(undefined8 *)(param_4 + 8) = local_b0._8_8_;
  *(long *)(param_4 + 0x48) = lVar6;
  *(long *)(param_4 + 0x50) = lVar6;
  *(undefined8 *)(param_4 + 0x10) = local_c0._0_8_;
  *(undefined8 *)(param_4 + 0x18) = local_c0._8_8_;
  *(undefined1 (*) [16])(param_4 + 0x20) = auVar23;
  *(undefined1 (*) [16])(param_4 + 0x30) = auVar22;
  auVar28._8_8_ = lVar17;
  return auVar28;
}



/* WARNING: Removing unreachable block (ram,0x0010a74d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132f08;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  long *plVar2;
  ulong uVar3;
  long *plVar4;
  ulong uVar5;
  
  uVar5 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar5 - uVar3) {
    uVar5 = uVar5 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar5,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  for (; uVar3 < uVar5; uVar3 = uVar3 + 1) {
    lVar1 = uVar3 * 8;
    plVar4 = (long *)(*(long *)(*(long *)(this + 0x20) + 0x10) + lVar1);
    plVar2 = (long *)*plVar4;
    *plVar4 = 0;
    if (plVar2 != (long *)0x0) {
      (**(code **)(*plVar2 + 8))();
    }
    plVar2 = (long *)(*(long *)(*(long *)(*(long *)(this + 0x20) + 0x28) + 0x200) + lVar1);
    if ((long *)*plVar2 != (long *)0x0) {
      (**(code **)(*(long *)*plVar2 + 8))();
      plVar2 = (long *)(lVar1 + *(long *)(*(long *)(*(long *)(this + 0x20) + 0x28) + 0x200));
    }
    *plVar2 = 0;
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0010ad6d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132f20;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this_00;
  TriangleMesh *pTVar2;
  long *plVar3;
  long lVar4;
  undefined8 *puVar5;
  long *plVar6;
  ulong uVar7;
  
  uVar7 = *(ulong *)(this + 8);
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar7 - uVar1) {
    uVar7 = uVar7 + uVar1 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar1,uVar7,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar7,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  do {
    while( true ) {
      if (uVar7 <= uVar1) {
        return;
      }
      this_00 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **)(this + 0x20);
      pTVar2 = *(TriangleMesh **)(*(long *)(*(long *)(this_00 + 0x30) + 0x1e0) + uVar1 * 8);
      if (((pTVar2 != (TriangleMesh *)0x0) && (pTVar2[0x3c] == (TriangleMesh)0x14)) &&
         (*(int *)(pTVar2 + 0x24) == 1)) break;
LAB_0010af88:
      uVar1 = uVar1 + 1;
    }
    if (*(uint *)(pTVar2 + 0x20) < 5) {
      plVar6 = (long *)(uVar1 * 8 + *(long *)(this_00 + 0x10));
      if ((*plVar6 == 0) ||
         (lVar4 = __dynamic_cast(*plVar6,&sse2::
                                          BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>
                                          ::RefBuilderBase::typeinfo,
                                 &sse2::
                                  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::
                                  RefBuilderSmall::typeinfo,0), lVar4 == 0)) {
        puVar5 = (undefined8 *)operator_new(0x10);
        *puVar5 = &PTR__RefBuilderSmall_00132e18;
        puVar5[1] = uVar1;
        plVar3 = (long *)*plVar6;
        *plVar6 = (long)puVar5;
        if (plVar3 != (long *)0x0) {
          (**(code **)(*plVar3 + 8))();
        }
      }
      goto LAB_0010af88;
    }
    sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::
    setupLargeBuildRefBuilder(this_00,uVar1,pTVar2);
    uVar1 = uVar1 + 1;
  } while( true );
}



/* WARNING: Removing unreachable block (ram,0x0010b3ed) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00132f38;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long, unsigned long,
   unsigned long, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::range<unsigned_long>const&)#3}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::range<unsigned_long>const&)#3}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  ulong uVar2;
  ulong uVar3;
  
  uVar3 = *(ulong *)(this + 8);
  uVar2 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar3 - uVar2) {
    uVar3 = uVar3 + uVar2 >> 1;
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar2,uVar3,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___3_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar3,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___3_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  for (; uVar2 < uVar3; uVar2 = uVar2 + 1) {
    lVar1 = *(long *)(*(long *)(*(long *)(*(long *)(this + 0x20) + 0x30) + 0x1e0) + uVar2 * 8);
    if ((((lVar1 != 0) && (*(char *)(lVar1 + 0x3c) == '\x14')) &&
        ((*(byte *)(lVar1 + 0x3e) & 0x20) != 0)) && (*(int *)(lVar1 + 0x24) == 1)) {
      (**(code **)(**(long **)(*(long *)(*(long *)(this + 0x20) + 0x10) + uVar2 * 8) + 0x10))();
    }
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined8 *puVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  undefined4 uVar5;
  long lVar6;
  float fVar7;
  ulong uVar8;
  long *plVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined4 uVar14;
  undefined1 (*pauVar15) [16];
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  ulong *in_RDX;
  float *pfVar18;
  uint uVar19;
  float *pfVar20;
  ulong uVar21;
  ulong uVar22;
  long lVar23;
  undefined8 *puVar24;
  long in_FS_OFFSET;
  undefined1 auVar25 [16];
  float fVar27;
  float fVar28;
  undefined1 auVar26 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 local_270 [8];
  float fStack_268;
  float fStack_264;
  undefined1 local_260 [16];
  undefined8 local_250;
  undefined8 uStack_248;
  undefined8 local_240;
  undefined4 local_238;
  undefined8 local_220 [59];
  long local_48;
  
  uVar14 = _LC11;
  uVar5 = _LC9;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)(this + 0x40) = 0;
  auVar30._4_4_ = uVar5;
  auVar30._0_4_ = uVar5;
  auVar30._8_4_ = uVar5;
  auVar30._12_4_ = uVar5;
  auVar31._4_4_ = uVar14;
  auVar31._0_4_ = uVar14;
  auVar31._8_4_ = uVar14;
  auVar31._12_4_ = uVar14;
  *(undefined8 *)(this + 0x48) = 0;
  *(undefined1 (*) [16])this = auVar30;
  *(undefined1 (*) [16])(this + 0x10) = auVar31;
  *(undefined1 (*) [16])(this + 0x20) = auVar30;
  *(undefined1 (*) [16])(this + 0x30) = auVar31;
  uVar22 = *in_RDX;
  if (uVar22 < in_RDX[1]) {
    do {
      while( true ) {
        lVar23 = uVar22 * 0x40;
        pfVar20 = (float *)(**(long **)(param_1 + 8) + lVar23);
        uVar17 = *(ulong *)(pfVar20 + 8);
        uVar21 = (ulong)((uint)uVar17 & 8);
        if ((uVar17 & 8) == 0) break;
LAB_0010b8ae:
        uVar22 = uVar22 + 1;
        if (in_RDX[1] <= uVar22) goto LAB_0010b8bc;
      }
      local_270._4_4_ = pfVar20[5] - pfVar20[1];
      local_270._0_4_ = pfVar20[4] - *pfVar20;
      fStack_268 = pfVar20[6] - pfVar20[2];
      fStack_264 = pfVar20[7] - pfVar20[3];
      if (*(float *)(local_270 + **(long **)param_1 * 4) * *(float *)(*(long **)param_1 + 1) <=
          __LC12) goto LAB_0010b8ae;
      fVar7 = pfVar20[3];
      pfVar18 = (float *)(uVar17 + 0x20);
      uVar19 = (uint)pfVar20[7] >> 2;
      if (uVar19 == 0) {
        uVar19 = 1;
      }
      pauVar15 = &local_260;
      do {
        uVar8 = *(ulong *)((-0x40 - uVar17) + (long)pfVar18 * 2);
        if (uVar8 != 8) {
          fVar2 = pfVar18[8];
          fVar3 = *pfVar18;
          fVar4 = pfVar18[0x10];
          local_270._4_4_ = pfVar18[0xc];
          local_270._0_4_ = pfVar18[4];
          fStack_268 = pfVar18[0x14];
          fVar27 = 0.0;
          fStack_264 = (float)uVar19;
          if ((uVar8 & 8) == 0) {
            fVar27 = pfVar18[0xc] - fVar2;
            fVar28 = pfVar18[0x14] - fVar4;
            fVar27 = (fVar27 + fVar28) * (pfVar18[4] - fVar3) + fVar27 * fVar28;
            fVar27 = fVar27 + fVar27;
          }
          *(ulong *)pauVar15[2] = uVar8;
          uVar21 = uVar21 + 1;
          *(float *)*pauVar15 = fVar3;
          *(float *)(*pauVar15 + 4) = fVar2;
          *(float *)(*pauVar15 + 8) = fVar4;
          *(float *)(*pauVar15 + 0xc) = fVar7;
          pauVar15[1] = _local_270;
          *(float *)(pauVar15[2] + 8) = fVar27;
        }
        pfVar18 = pfVar18 + 1;
        pauVar15 = pauVar15 + 4;
      } while ((float *)(uVar17 + 0x30) != pfVar18);
      plVar9 = *(long **)(param_1 + 0x10);
      LOCK();
      lVar6 = *plVar9;
      *plVar9 = *plVar9 + (uVar21 - 1);
      UNLOCK();
      if (uVar21 != 0) {
        auVar31 = *(undefined1 (*) [16])this;
        auVar30 = *(undefined1 (*) [16])(this + 0x10);
        auVar29 = *(undefined1 (*) [16])(this + 0x20);
        auVar26 = *(undefined1 (*) [16])(this + 0x30);
        pauVar15 = &local_260;
        do {
          auVar25._0_4_ = *(float *)pauVar15[1] + *(float *)*pauVar15;
          auVar25._4_4_ = *(float *)(pauVar15[1] + 4) + *(float *)(*pauVar15 + 4);
          auVar25._8_4_ = *(float *)(pauVar15[1] + 8) + *(float *)(*pauVar15 + 8);
          auVar25._12_4_ = *(float *)(pauVar15[1] + 0xc) + *(float *)(*pauVar15 + 0xc);
          pauVar16 = pauVar15 + 4;
          auVar31 = minps(auVar31,*pauVar15);
          auVar30 = maxps(auVar30,pauVar15[1]);
          auVar29 = minps(auVar29,auVar25);
          auVar26 = maxps(auVar26,auVar25);
          pauVar15 = pauVar16;
        } while (&local_260 + uVar21 * 4 != pauVar16);
        *(undefined1 (*) [16])this = auVar31;
        *(undefined1 (*) [16])(this + 0x10) = auVar30;
        *(undefined1 (*) [16])(this + 0x20) = auVar29;
        *(undefined1 (*) [16])(this + 0x30) = auVar26;
        puVar24 = (undefined8 *)(lVar23 + **(long **)(param_1 + 8));
        *puVar24 = local_260._0_8_;
        puVar24[1] = local_260._8_8_;
        puVar24[4] = local_240;
        puVar24[2] = local_250;
        puVar24[3] = uStack_248;
        *(undefined4 *)(puVar24 + 5) = local_238;
        if (uVar21 != 1) {
          uVar17 = 1;
          puVar24 = local_220;
          do {
            uVar11 = puVar24[1];
            uVar12 = puVar24[2];
            uVar13 = puVar24[3];
            uVar5 = *(undefined4 *)(puVar24 + 5);
            lVar23 = **(long **)(param_1 + 0x18) + lVar6 + uVar17;
            uVar17 = uVar17 + 1;
            puVar1 = (undefined8 *)(**(long **)(param_1 + 8) + -0x40 + lVar23 * 0x40);
            uVar10 = puVar24[4];
            *puVar1 = *puVar24;
            puVar1[1] = uVar11;
            puVar1[4] = uVar10;
            puVar1[2] = uVar12;
            puVar1[3] = uVar13;
            *(undefined4 *)(puVar1 + 5) = uVar5;
            puVar24 = puVar24 + 8;
          } while (uVar17 != uVar21);
        }
        goto LAB_0010b8ae;
      }
      uVar22 = uVar22 + 1;
      puVar24 = (undefined8 *)(lVar23 + **(long **)(param_1 + 8));
      *puVar24 = local_260._0_8_;
      puVar24[1] = local_260._8_8_;
      puVar24[4] = local_240;
      puVar24[2] = local_250;
      puVar24[3] = uStack_248;
      *(undefined4 *)(puVar24 + 5) = local_238;
    } while (uVar22 < in_RDX[1]);
  }
LAB_0010b8bc:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::sequential_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&) */

undefined1  [16] __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::sequential_object_split
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
           *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  undefined4 uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  int iVar5;
  long lVar6;
  long lVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  long lVar10;
  BinSplit *pBVar11;
  BinSplit *pBVar12;
  BinSplit *pBVar13;
  long lVar14;
  uint uVar15;
  BinSplit *pBVar16;
  long lVar17;
  ulong unaff_R14;
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 local_c0 [16];
  undefined1 local_b0 [16];
  uint local_90;
  uint uStack_8c;
  uint uStack_88;
  uint uStack_84;
  
  iVar5 = *(int *)(param_1 + 8);
  lVar14 = *(long *)(param_2 + 0x40);
  lVar6 = *(long *)(param_2 + 0x48);
  lVar7 = *(long *)this;
  lVar17 = 0;
  auVar22._0_8_ = CONCAT44(_LC11,_LC11);
  auVar22._8_4_ = _LC11;
  auVar22._12_4_ = _LC11;
  auVar24._8_4_ = _LC11;
  auVar24._0_8_ = auVar22._0_8_;
  auVar24._12_4_ = _LC11;
  auVar28 = *(undefined1 (*) [16])
             (&mm_lookupmask_ps + (long)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f)) * 2);
  auVar26._8_4_ = _LC11;
  auVar26._0_8_ = auVar22._0_8_;
  auVar26._12_4_ = _LC11;
  auVar23._0_8_ = CONCAT44(_LC9,_LC9);
  auVar23._8_4_ = _LC9;
  auVar23._12_4_ = _LC9;
  auVar25._8_4_ = _LC9;
  auVar25._0_8_ = auVar23._0_8_;
  auVar25._12_4_ = _LC9;
  auVar27._8_4_ = _LC9;
  auVar27._0_8_ = auVar23._0_8_;
  auVar27._12_4_ = _LC9;
  lVar10 = 1;
  pBVar11 = (BinSplit *)(lVar7 + -0x40 + lVar6 * 0x40);
  pBVar16 = param_1;
  local_c0 = auVar22;
  local_b0 = auVar23;
  for (pBVar13 = (BinSplit *)(lVar14 * 0x40 + lVar7); pBVar13 <= pBVar11; pBVar13 = pBVar13 + 0x40)
  {
    auVar2 = *(undefined1 (*) [16])(pBVar13 + 0x10);
    auVar3 = *(undefined1 (*) [16])pBVar13;
    auVar18._0_4_ = auVar2._0_4_ + auVar3._0_4_;
    auVar18._4_4_ = auVar2._4_4_ + auVar3._4_4_;
    auVar18._8_4_ = auVar2._8_4_ + auVar3._8_4_;
    auVar18._12_4_ = auVar2._12_4_ + auVar3._12_4_;
    local_90 = auVar28._0_4_;
    uStack_8c = auVar28._4_4_;
    uStack_88 = auVar28._8_4_;
    uStack_84 = auVar28._12_4_;
    auVar20._0_4_ =
         -(uint)((int)((auVar18._0_4_ - *(float *)(param_1 + 0x20)) * *(float *)(param_1 + 0x30) +
                      _LC14) < iVar5) & local_90;
    auVar20._4_4_ =
         -(uint)((int)((auVar18._4_4_ - *(float *)(param_1 + 0x24)) * *(float *)(param_1 + 0x34) +
                      _UNK_001336e4) < iVar5) & uStack_8c;
    auVar20._8_4_ =
         -(uint)((int)((auVar18._8_4_ - *(float *)(param_1 + 0x28)) * *(float *)(param_1 + 0x38) +
                      _UNK_001336e8) < iVar5) & uStack_88;
    auVar20._12_4_ =
         -(uint)((int)((auVar18._12_4_ - *(float *)(param_1 + 0x2c)) * *(float *)(param_1 + 0x3c) +
                      _UNK_001336ec) < iVar5) & uStack_84;
    uVar15 = movmskps((int)pBVar16,auVar20);
    if (uVar15 == 0) {
      while( true ) {
        auVar20 = *(undefined1 (*) [16])(pBVar11 + 0x10);
        auVar4 = *(undefined1 (*) [16])pBVar11;
        lVar17 = lVar17 + 1;
        pBVar12 = pBVar11 + -0x40;
        auVar21._0_4_ = auVar20._0_4_ + auVar4._0_4_;
        auVar21._4_4_ = auVar20._4_4_ + auVar4._4_4_;
        auVar21._8_4_ = auVar20._8_4_ + auVar4._8_4_;
        auVar21._12_4_ = auVar20._12_4_ + auVar4._12_4_;
        auVar19._0_4_ =
             -(uint)((int)((auVar21._0_4_ - *(float *)(param_1 + 0x20)) * *(float *)(param_1 + 0x30)
                          + _LC14) < iVar5) & local_90;
        auVar19._4_4_ =
             -(uint)((int)((auVar21._4_4_ - *(float *)(param_1 + 0x24)) * *(float *)(param_1 + 0x34)
                          + _UNK_001336e4) < iVar5) & uStack_8c;
        auVar19._8_4_ =
             -(uint)((int)((auVar21._8_4_ - *(float *)(param_1 + 0x28)) * *(float *)(param_1 + 0x38)
                          + _UNK_001336e8) < iVar5) & uStack_88;
        auVar19._12_4_ =
             -(uint)((int)((auVar21._12_4_ - *(float *)(param_1 + 0x2c)) *
                           *(float *)(param_1 + 0x3c) + _UNK_001336ec) < iVar5) & uStack_84;
        uVar15 = movmskps((int)unaff_R14,auVar19);
        unaff_R14 = (ulong)uVar15;
        if (uVar15 != 0) break;
        local_b0 = minps(local_b0,auVar4);
        local_c0 = maxps(local_c0,auVar20);
        auVar23 = minps(auVar23,auVar21);
        auVar22 = maxps(auVar22,auVar21);
        pBVar11 = pBVar12;
        if (pBVar12 < pBVar13) goto LAB_0010ba4c;
      }
      *(undefined1 (*) [16])pBVar13 = auVar4;
      auVar26 = maxps(auVar26,auVar20);
      uVar9 = *(undefined8 *)(pBVar11 + 0x18);
      uVar8 = *(undefined8 *)(pBVar13 + 0x20);
      auVar27 = minps(auVar27,auVar4);
      auVar25 = minps(auVar25,auVar21);
      local_c0 = maxps(local_c0,auVar2);
      *(undefined8 *)(pBVar13 + 0x10) = *(undefined8 *)(pBVar11 + 0x10);
      *(undefined8 *)(pBVar13 + 0x18) = uVar9;
      unaff_R14 = *(ulong *)(pBVar11 + 0x20);
      local_b0 = minps(local_b0,auVar3);
      auVar23 = minps(auVar23,auVar18);
      *(ulong *)(pBVar13 + 0x20) = unaff_R14;
      auVar22 = maxps(auVar22,auVar18);
      auVar24 = maxps(auVar24,auVar21);
      uVar1 = *(undefined4 *)(pBVar13 + 0x28);
      *(undefined4 *)(pBVar13 + 0x28) = *(undefined4 *)(pBVar11 + 0x28);
      *(undefined8 *)(pBVar11 + 0x20) = uVar8;
      *(undefined1 (*) [16])pBVar11 = auVar3;
      *(undefined1 (*) [16])(pBVar11 + 0x10) = auVar2;
      *(undefined4 *)(pBVar11 + 0x28) = uVar1;
      pBVar16 = pBVar11;
    }
    else {
      auVar27 = minps(auVar27,auVar3);
      auVar26 = maxps(auVar26,auVar2);
      auVar25 = minps(auVar25,auVar18);
      auVar24 = maxps(auVar24,auVar18);
      pBVar12 = pBVar11;
      pBVar16 = (BinSplit *)(ulong)uVar15;
    }
    lVar10 = lVar10 + 1;
    pBVar11 = pBVar12;
  }
LAB_0010ba4c:
  *(long *)(param_3 + 0x40) = lVar14;
  auVar28._0_8_ = lVar10 + -1;
  lVar14 = (long)pBVar13 - lVar7 >> 6;
  *(undefined1 (*) [16])param_3 = auVar27;
  *(long *)(param_3 + 0x48) = lVar14;
  *(long *)(param_3 + 0x50) = lVar14;
  *(undefined1 (*) [16])(param_3 + 0x10) = auVar26;
  *(undefined1 (*) [16])(param_3 + 0x20) = auVar25;
  *(undefined1 (*) [16])(param_3 + 0x30) = auVar24;
  *(long *)(param_4 + 0x40) = lVar14;
  *(undefined8 *)param_4 = local_b0._0_8_;
  *(undefined8 *)(param_4 + 8) = local_b0._8_8_;
  *(long *)(param_4 + 0x48) = lVar6;
  *(long *)(param_4 + 0x50) = lVar6;
  *(undefined8 *)(param_4 + 0x10) = local_c0._0_8_;
  *(undefined8 *)(param_4 + 0x18) = local_c0._8_8_;
  *(undefined1 (*) [16])(param_4 + 0x20) = auVar23;
  *(undefined1 (*) [16])(param_4 + 0x30) = auVar22;
  auVar28._8_8_ = lVar17;
  return auVar28;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::sequential_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long) */

PrimInfoExtRange *
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::sequential_object_find(PrimInfoExtRange *param_1,ulong param_2)

{
  ulong uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long lVar8;
  long lVar9;
  undefined1 (*pauVar10) [16];
  undefined1 (*pauVar11) [16];
  long lVar12;
  uint in_ECX;
  long in_RDX;
  ulong uVar13;
  float *pfVar14;
  undefined1 (*pauVar15) [16];
  long lVar16;
  ulong uVar17;
  undefined1 (*pauVar18) [16];
  ulong uVar19;
  long in_FS_OFFSET;
  undefined1 auVar20 [16];
  uint uVar21;
  int iVar22;
  uint uVar25;
  uint uVar27;
  undefined1 auVar23 [16];
  int iVar26;
  int iVar28;
  int iVar29;
  undefined1 auVar24 [16];
  uint uVar30;
  uint uVar35;
  uint uVar36;
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  float fVar42;
  float fVar43;
  undefined1 auVar44 [16];
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  undefined1 auVar45 [16];
  undefined1 auVar50 [16];
  undefined1 auVar51 [16];
  uint uVar53;
  uint uVar54;
  undefined1 auVar52 [16];
  undefined1 auVar55 [16];
  undefined1 local_1330 [16];
  undefined1 local_1320 [16];
  undefined1 local_1310 [16];
  undefined1 local_1300 [16];
  undefined1 local_12f0 [8];
  float fStack_12e8;
  float fStack_12e4;
  undefined1 local_12e0 [16];
  undefined1 local_12d0 [16];
  undefined1 local_12c0 [3] [16];
  float local_1290 [3];
  uint uStack_1284;
  float local_1280 [124];
  float local_1090 [4];
  int local_1080 [128];
  int local_e80 [4];
  undefined1 local_e70 [16];
  undefined1 local_e60 [16];
  undefined1 local_e50 [16];
  undefined1 local_e40 [16];
  undefined1 local_e30 [2896];
  undefined1 local_2e0 [80];
  int local_290 [4];
  int local_280 [142];
  long local_48;
  
  local_1330._0_8_ = CONCAT44(_LC9,_LC9);
  local_1330._8_4_ = _LC9;
  local_1330._12_4_ = _LC9;
  auVar37._0_8_ = CONCAT44(_LC11,_LC11);
  auVar37._8_4_ = _LC11;
  auVar37._12_4_ = _LC11;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pauVar18 = (undefined1 (*) [16])local_e80;
  pauVar11 = (undefined1 (*) [16])local_280;
  do {
    pauVar18[4] = local_1330;
    pauVar10 = pauVar18 + 6;
    pauVar18[5] = auVar37;
    pauVar18[2] = local_1330;
    pauVar18[3] = auVar37;
    *pauVar18 = local_1330;
    pauVar18[1] = auVar37;
    *pauVar11 = (undefined1  [16])0x0;
    pauVar18 = pauVar10;
    pauVar11 = pauVar11 + 1;
  } while ((undefined1 (*) [16])local_280 != pauVar10);
  fVar46 = *(float *)(in_RDX + 0x20);
  fVar47 = *(float *)(in_RDX + 0x24);
  uVar6 = *(undefined8 *)(in_RDX + 0x20);
  fVar48 = *(float *)(in_RDX + 0x28);
  uVar7 = *(undefined8 *)(in_RDX + 0x28);
  auVar23._0_4_ = *(float *)(in_RDX + 0x30) - fVar46;
  auVar23._4_4_ = *(float *)(in_RDX + 0x34) - fVar47;
  auVar23._8_4_ = *(float *)(in_RDX + 0x38) - fVar48;
  auVar23._12_4_ = *(float *)(in_RDX + 0x3c) - *(float *)(in_RDX + 0x2c);
  auVar31._4_4_ = _LC23;
  auVar31._0_4_ = _LC23;
  auVar31._8_4_ = _LC23;
  auVar31._12_4_ = _LC23;
  pauVar18 = (undefined1 (*) [16])(*(long *)(in_RDX + 0x40) * 0x40 + *(long *)param_2);
  auVar31 = maxps(auVar31,auVar23);
  auVar32._4_4_ = _LC25;
  auVar32._0_4_ = _LC25;
  auVar32._8_4_ = _LC25;
  auVar32._12_4_ = _LC25;
  auVar23 = divps(auVar32,auVar31);
  local_1290[0] = (float)(-(uint)(_LC23 < auVar31._0_4_) & auVar23._0_4_);
  local_1290[1] = (float)(-(uint)(_LC23 < auVar31._4_4_) & auVar23._4_4_);
  local_1290[2] = (float)(-(uint)(_LC23 < auVar31._8_4_) & auVar23._8_4_);
  uStack_1284 = -(uint)(_LC23 < auVar31._12_4_) & auVar23._12_4_;
  uVar19 = *(long *)(in_RDX + 0x48) - *(long *)(in_RDX + 0x40);
  if (uVar19 != 0) {
    if (uVar19 != 1) {
      pauVar11 = pauVar18;
      do {
        auVar23 = pauVar11[1];
        auVar32 = *pauVar11;
        auVar31 = pauVar11[4];
        pauVar10 = pauVar11 + 8;
        uVar21 = (uint)(((auVar23._0_4_ + auVar32._0_4_) - fVar46) * local_1290[0] + _LC14);
        uVar25 = (uint)(((auVar23._4_4_ + auVar32._4_4_) - fVar47) * local_1290[1] + _LC14);
        uVar27 = (uint)(((auVar23._8_4_ + auVar32._8_4_) - fVar48) * local_1290[2] + _LC14);
        uVar30 = -(uint)((int)uVar21 < (int)__LC27);
        uVar35 = -(uint)((int)uVar25 < (int)_UNK_00133704);
        uVar36 = -(uint)((int)uVar27 < (int)_UNK_00133708);
        uVar21 = uVar21 & uVar30 | ~uVar30 & __LC27;
        uVar25 = uVar25 & uVar35 | ~uVar35 & _UNK_00133704;
        uVar30 = uVar27 & uVar36 | ~uVar36 & _UNK_00133708;
        auVar33 = pauVar11[5];
        uVar13 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
        pauVar15 = (undefined1 (*) [16])local_e80 + uVar13 * 6;
        uVar21 = (uint)(((auVar33._0_4_ + auVar31._0_4_) - fVar46) * local_1290[0] + _LC14);
        uVar27 = (uint)(((auVar33._4_4_ + auVar31._4_4_) - fVar47) * local_1290[1] + _LC14);
        uVar35 = (uint)(((auVar33._8_4_ + auVar31._8_4_) - fVar48) * local_1290[2] + _LC14);
        uVar36 = -(uint)((int)uVar21 < (int)__LC27);
        uVar53 = -(uint)((int)uVar27 < (int)_UNK_00133704);
        uVar54 = -(uint)((int)uVar35 < (int)_UNK_00133708);
        uVar21 = uVar36 & uVar21 | ~uVar36 & __LC27;
        uVar27 = uVar53 & uVar27 | ~uVar53 & _UNK_00133704;
        uVar35 = uVar54 & uVar35 | ~uVar54 & _UNK_00133708;
        auVar52 = minps(*pauVar15,auVar32);
        *pauVar15 = auVar52;
        auVar52 = maxps(*(undefined1 (*) [16])(local_e70 + uVar13 * 0x60),auVar23);
        *(undefined1 (*) [16])(local_e70 + uVar13 * 0x60) = auVar52;
        uVar17 = (ulong)(~-(uint)((int)uVar25 < 0) & uVar25);
        lVar16 = uVar17 * 0x60;
        auVar52 = minps(*(undefined1 (*) [16])(local_e60 + lVar16),auVar32);
        *(undefined1 (*) [16])(local_e60 + lVar16) = auVar52;
        auVar52 = maxps(*(undefined1 (*) [16])(local_e50 + lVar16),auVar23);
        *(undefined1 (*) [16])(local_e50 + lVar16) = auVar52;
        uVar1 = (ulong)(~-(uint)((int)uVar30 < 0) & uVar30);
        lVar16 = uVar1 * 0x60;
        auVar32 = minps(*(undefined1 (*) [16])(local_e40 + lVar16),auVar32);
        *(undefined1 (*) [16])(local_e40 + lVar16) = auVar32;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar16),auVar23);
        *(undefined1 (*) [16])(local_e30 + lVar16) = auVar23;
        iVar22 = *(int *)(pauVar11[1] + 0xc);
        local_e80[(uVar13 + 0xc0) * 4] = local_e80[(uVar13 + 0xc0) * 4] + iVar22;
        uVar13 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + iVar22;
        local_280[uVar17 * 4 + 1] = local_280[uVar17 * 4 + 1] + iVar22;
        pauVar15 = (undefined1 (*) [16])local_e80 + uVar13 * 6;
        auVar23 = minps(*pauVar15,auVar31);
        *pauVar15 = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e70 + uVar13 * 0x60),auVar33);
        *(undefined1 (*) [16])(local_e70 + uVar13 * 0x60) = auVar23;
        uVar17 = (ulong)(~-(uint)((int)uVar27 < 0) & uVar27);
        lVar16 = uVar17 * 0x60;
        auVar23 = minps(*(undefined1 (*) [16])(local_e60 + lVar16),auVar31);
        *(undefined1 (*) [16])(local_e60 + lVar16) = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e50 + lVar16),auVar33);
        *(undefined1 (*) [16])(local_e50 + lVar16) = auVar23;
        uVar1 = (ulong)(~-(uint)((int)uVar35 < 0) & uVar35);
        lVar16 = uVar1 * 0x60;
        auVar23 = minps(*(undefined1 (*) [16])(local_e40 + lVar16),auVar31);
        *(undefined1 (*) [16])(local_e40 + lVar16) = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar16),auVar33);
        *(undefined1 (*) [16])(local_e30 + lVar16) = auVar23;
        iVar22 = *(int *)(pauVar11[5] + 0xc);
        local_e80[(uVar13 + 0xc0) * 4] = local_e80[(uVar13 + 0xc0) * 4] + iVar22;
        local_280[uVar17 * 4 + 1] = local_280[uVar17 * 4 + 1] + iVar22;
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + iVar22;
        pauVar11 = pauVar10;
      } while (pauVar18 + (uVar19 - 2 >> 1) * 8 + 8 != pauVar10);
      uVar17 = (uVar19 - 2 & 0xfffffffffffffffe) + 2;
      if (uVar19 <= uVar17) goto LAB_0010bf37;
      pauVar18 = pauVar18 + uVar17 * 4;
    }
    auVar23 = pauVar18[1];
    auVar32 = *pauVar18;
    iVar22 = *(int *)(pauVar18[1] + 0xc);
    uVar21 = (uint)(((auVar23._0_4_ + auVar32._0_4_) - fVar46) * local_1290[0] + _LC14);
    uVar25 = (uint)(((auVar23._4_4_ + auVar32._4_4_) - fVar47) * local_1290[1] + _LC14);
    uVar27 = (uint)(((auVar23._8_4_ + auVar32._8_4_) - fVar48) * local_1290[2] + _LC14);
    uVar30 = -(uint)((int)uVar21 < (int)__LC27);
    uVar35 = -(uint)((int)uVar25 < (int)_UNK_00133704);
    uVar36 = -(uint)((int)uVar27 < (int)_UNK_00133708);
    uVar21 = uVar30 & uVar21 | ~uVar30 & __LC27;
    uVar25 = uVar35 & uVar25 | ~uVar35 & _UNK_00133704;
    uVar27 = uVar36 & uVar27 | ~uVar36 & _UNK_00133708;
    lVar16 = (long)(int)(~-(uint)((int)uVar21 < 0) & uVar21);
    pauVar18 = (undefined1 (*) [16])local_e80 + lVar16 * 6;
    local_e80[(lVar16 + 0xc0) * 4] = local_e80[(lVar16 + 0xc0) * 4] + iVar22;
    auVar31 = minps(*pauVar18,auVar32);
    *pauVar18 = auVar31;
    auVar31 = maxps(*(undefined1 (*) [16])(local_e70 + lVar16 * 0x60),auVar23);
    *(undefined1 (*) [16])(local_e70 + lVar16 * 0x60) = auVar31;
    lVar16 = (long)(int)(~-(uint)((int)uVar25 < 0) & uVar25);
    lVar12 = lVar16 * 0x60;
    local_280[lVar16 * 4 + 1] = local_280[lVar16 * 4 + 1] + iVar22;
    auVar31 = minps(*(undefined1 (*) [16])(local_e60 + lVar12),auVar32);
    *(undefined1 (*) [16])(local_e60 + lVar12) = auVar31;
    auVar31 = maxps(*(undefined1 (*) [16])(local_e50 + lVar12),auVar23);
    *(undefined1 (*) [16])(local_e50 + lVar12) = auVar31;
    lVar16 = (long)(int)(~-(uint)((int)uVar27 < 0) & uVar27);
    lVar12 = lVar16 * 0x60;
    local_280[lVar16 * 4 + 2] = local_280[lVar16 * 4 + 2] + iVar22;
    auVar32 = minps(*(undefined1 (*) [16])(local_e40 + lVar12),auVar32);
    *(undefined1 (*) [16])(local_e40 + lVar12) = auVar32;
    auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar12),auVar23);
    *(undefined1 (*) [16])(local_e30 + lVar12) = auVar23;
  }
LAB_0010bf37:
  lVar16 = 0x1f0;
  auVar44._8_4_ = _LC11;
  auVar44._0_8_ = auVar37._0_8_;
  auVar44._12_4_ = _LC11;
  auVar41._8_4_ = _LC9;
  auVar41._0_8_ = local_1330._0_8_;
  auVar41._12_4_ = _LC9;
  auVar40._8_4_ = _LC11;
  auVar40._0_8_ = auVar37._0_8_;
  auVar40._12_4_ = _LC11;
  auVar39._8_4_ = _LC9;
  auVar39._0_8_ = local_1330._0_8_;
  auVar39._12_4_ = _LC9;
  auVar52._8_4_ = _LC11;
  auVar52._0_8_ = auVar37._0_8_;
  auVar52._12_4_ = _LC11;
  auVar33._8_4_ = _LC9;
  auVar33._0_8_ = local_1330._0_8_;
  auVar33._12_4_ = _LC9;
  iVar22 = 0;
  iVar26 = 0;
  iVar28 = 0;
  iVar29 = 0;
  pauVar18 = (undefined1 (*) [16])local_2e0;
  pfVar14 = local_1090;
  do {
    pauVar11 = pauVar18;
    auVar52 = maxps(auVar52,pauVar11[1]);
    auVar33 = minps(auVar33,*pauVar11);
    pauVar18 = pauVar11 + -6;
    iVar2 = *(int *)(*(undefined1 (*) [16])local_280 + lVar16);
    iVar3 = *(int *)((long)local_280 + lVar16 + 4);
    iVar4 = *(int *)((long)local_280 + lVar16 + 8);
    iVar5 = *(int *)((long)local_280 + lVar16 + 0xc);
    auVar40 = maxps(auVar40,pauVar11[3]);
    pfVar14[3] = 0.0;
    auVar39 = minps(auVar39,pauVar11[2]);
    auVar44 = maxps(auVar44,pauVar11[5]);
    iVar22 = iVar2 + iVar22;
    iVar26 = iVar3 + iVar26;
    iVar28 = iVar4 + iVar28;
    iVar29 = iVar5 + iVar29;
    auVar41 = minps(auVar41,pauVar11[4]);
    fVar46 = auVar52._4_4_ - auVar33._4_4_;
    fVar48 = auVar52._8_4_ - auVar33._8_4_;
    *(int *)((long)local_1080 + lVar16) = iVar22;
    *(int *)((long)local_1080 + lVar16 + 4) = iVar26;
    *(int *)((long)local_1080 + lVar16 + 8) = iVar28;
    *(int *)((long)local_1080 + lVar16 + 0xc) = iVar29;
    lVar16 = lVar16 + -0x10;
    fVar47 = auVar40._4_4_ - auVar39._4_4_;
    fVar49 = auVar40._8_4_ - auVar39._8_4_;
    *pfVar14 = (fVar46 + fVar48) * (auVar52._0_4_ - auVar33._0_4_) + fVar46 * fVar48;
    fVar46 = auVar44._4_4_ - auVar41._4_4_;
    fVar48 = auVar44._8_4_ - auVar41._8_4_;
    pfVar14[1] = (fVar47 + fVar49) * (auVar40._0_4_ - auVar39._0_4_) + fVar47 * fVar49;
    pfVar14[2] = (fVar46 + fVar48) * (auVar44._0_4_ - auVar41._0_4_) + fVar46 * fVar48;
    pfVar14 = pfVar14 + -4;
  } while ((undefined1 (*) [16])local_e80 != pauVar18);
  auVar50._4_4_ = _UNK_001336f4;
  auVar50._0_4_ = __LC30;
  auVar50._8_4_ = _UNK_001336f8;
  auVar50._12_4_ = _UNK_001336fc;
  lVar16 = 0x10;
  auVar45._8_4_ = _LC11;
  auVar45._0_8_ = auVar37._0_8_;
  auVar45._12_4_ = _LC11;
  iVar22 = (1 << ((byte)in_ECX & 0x1f)) + -1;
  uVar19 = (ulong)in_ECX;
  auVar55._8_4_ = _LC11;
  auVar55._0_8_ = auVar37._0_8_;
  auVar55._12_4_ = _LC11;
  auVar20._8_4_ = _LC11;
  auVar20._0_8_ = auVar37._0_8_;
  auVar20._12_4_ = _LC11;
  local_12e0 = (undefined1  [16])0x0;
  local_1300 = (undefined1  [16])0x0;
  local_1320 = local_1330;
  local_1310 = local_1330;
  _local_12f0 = local_1330;
  do {
    auVar20 = maxps(auVar20,pauVar18[5]);
    pauVar10 = pauVar18 + 6;
    local_1330 = minps(local_1330,pauVar18[4]);
    auVar45 = maxps(auVar45,pauVar18[1]);
    local_1310 = minps(local_1310,*pauVar18);
    local_1300._0_4_ = local_1300._0_4_ + *(int *)((long)local_290 + lVar16);
    local_1300._4_4_ = local_1300._4_4_ + *(int *)((long)local_290 + lVar16 + 4);
    local_1300._8_4_ = local_1300._8_4_ + *(int *)((long)local_290 + lVar16 + 8);
    local_1300._12_4_ = local_1300._12_4_ + *(int *)((long)local_290 + lVar16 + 0xc);
    fVar46 = auVar20._4_4_ - local_1330._4_4_;
    fVar47 = auVar20._8_4_ - local_1330._8_4_;
    fVar42 = auVar45._4_4_ - local_1310._4_4_;
    fVar43 = auVar45._8_4_ - local_1310._8_4_;
    auVar55 = maxps(auVar55,pauVar18[3]);
    local_1320 = minps(local_1320,pauVar18[2]);
    fVar48 = auVar55._4_4_ - local_1320._4_4_;
    fVar49 = auVar55._8_4_ - local_1320._8_4_;
    fVar46 = (fVar46 + fVar47) * (auVar20._0_4_ - local_1330._0_4_) + fVar46 * fVar47;
    uVar21 = (uint)(local_1300._0_4_ + iVar22) >> uVar19;
    uVar25 = (uint)(local_1300._4_4_ + iVar22) >> uVar19;
    uVar27 = (uint)(local_1300._8_4_ + iVar22) >> uVar19;
    uVar30 = (uint)(local_1300._12_4_ + iVar22) >> uVar19;
    uVar35 = (uint)(*(int *)((long)local_1080 + lVar16) + iVar22) >> uVar19;
    uVar36 = (uint)(*(int *)((long)local_1080 + lVar16 + 4) + iVar22) >> uVar19;
    uVar53 = (uint)(*(int *)((long)local_1080 + lVar16 + 8) + iVar22) >> uVar19;
    uVar54 = (uint)(*(int *)((long)local_1080 + lVar16 + 0xc) + iVar22) >> uVar19;
    pfVar14 = (float *)((long)local_1280 + lVar16);
    lVar12 = lVar16 + 4;
    lVar8 = lVar16 + 8;
    lVar9 = lVar16 + 0xc;
    lVar16 = lVar16 + 0x10;
    fVar47 = ((fVar42 + fVar43) * (auVar45._0_4_ - local_1310._0_4_) + fVar42 * fVar43) *
             ((float)(int)(uVar21 & _LC37) + (float)((int)uVar21 >> 0x1f & __LC29)) +
             ((float)(int)(uVar35 & _LC37) + (float)((int)uVar35 >> 0x1f & __LC29)) * *pfVar14;
    fVar48 = (fVar48 * fVar49 + (fVar48 + fVar49) * (auVar55._0_4_ - local_1320._0_4_)) *
             ((float)(int)(uVar25 & _UNK_00133714) + (float)((int)uVar25 >> 0x1f & _UNK_00133724)) +
             ((float)(int)(uVar36 & _UNK_00133714) + (float)((int)uVar36 >> 0x1f & _UNK_00133724)) *
             *(float *)((long)local_1280 + lVar12);
    fVar49 = fVar46 * ((float)(int)(uVar27 & _UNK_00133718) +
                      (float)((int)uVar27 >> 0x1f & _UNK_00133728)) +
             ((float)(int)(uVar53 & _UNK_00133718) + (float)((int)uVar53 >> 0x1f & _UNK_00133728)) *
             *(float *)((long)local_1280 + lVar8);
    fVar46 = fVar46 * ((float)(int)(uVar30 & _UNK_0013371c) +
                      (float)((int)uVar30 >> 0x1f & _UNK_0013372c)) +
             ((float)(int)(uVar54 & _UNK_0013371c) + (float)((int)uVar54 >> 0x1f & _UNK_0013372c)) *
             *(float *)((long)local_1280 + lVar9);
    auVar51._0_4_ = auVar50._0_4_ + __LC30;
    auVar51._4_4_ = auVar50._4_4_ + _UNK_001336f4;
    auVar51._8_4_ = auVar50._8_4_ + _UNK_001336f8;
    auVar51._12_4_ = auVar50._12_4_ + _UNK_001336fc;
    uVar21 = -(uint)(fVar47 < (float)local_12f0._0_4_);
    uVar25 = -(uint)(fVar48 < (float)local_12f0._4_4_);
    uVar27 = -(uint)(fVar49 < fStack_12e8);
    uVar30 = -(uint)(fVar46 < fStack_12e4);
    auVar24._4_4_ = uVar25;
    auVar24._0_4_ = uVar21;
    auVar24._8_4_ = uVar27;
    auVar24._12_4_ = uVar30;
    auVar38._0_4_ = (uint)fVar47 & uVar21;
    auVar38._4_4_ = (uint)fVar48 & uVar25;
    auVar38._8_4_ = (uint)fVar49 & uVar27;
    auVar38._12_4_ = (uint)fVar46 & uVar30;
    local_12e0 = auVar50 & auVar24 | ~auVar24 & local_12e0;
    auVar34._0_4_ = ~uVar21 & local_12f0._0_4_;
    auVar34._4_4_ = ~uVar25 & local_12f0._4_4_;
    auVar34._8_4_ = ~uVar27 & (uint)fStack_12e8;
    auVar34._12_4_ = ~uVar30 & (uint)fStack_12e4;
    _local_12f0 = auVar38 | auVar34;
    pauVar18 = pauVar10;
    auVar50 = auVar51;
  } while (pauVar11 + 0xb4 != pauVar10);
  uVar19 = 0;
  fVar47 = 0.0;
  uVar17 = 0xffffffff;
  local_12c0[0] = local_12e0;
  local_12d0 = _local_12f0;
  fVar46 = _LC9;
  do {
    if (((local_1290[uVar19] != 0.0) && (*(float *)(local_12d0 + uVar19 * 4) < fVar46)) &&
       (local_1290[uVar19 - 0xc] != 0.0)) {
      uVar17 = uVar19 & 0xffffffff;
      fVar46 = *(float *)(local_12d0 + uVar19 * 4);
      fVar47 = local_1290[uVar19 - 0xc];
    }
    uVar19 = uVar19 + 1;
  } while (uVar19 != 3);
  *(int *)(param_1 + 4) = (int)uVar17;
  *(float *)(param_1 + 8) = fVar47;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined8 *)(param_1 + 0x10) = 0x20;
  *(float *)param_1 = fVar46;
  *(undefined8 *)(param_1 + 0x20) = uVar6;
  *(undefined8 *)(param_1 + 0x28) = uVar7;
  *(float *)(param_1 + 0x30) = local_1290[0];
  *(float *)(param_1 + 0x34) = local_1290[1];
  *(float *)(param_1 + 0x38) = local_1290[2];
  *(uint *)(param_1 + 0x3c) = uStack_1284;
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined1 auVar1 [16];
  int iVar2;
  int *piVar3;
  ulong uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  float fVar7;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var8;
  undefined1 (*pauVar9) [16];
  long lVar10;
  long *in_RDX;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var11;
  uint uVar12;
  ulong uVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  ulong uVar15;
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  bool bVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar22;
  uint uVar26;
  uint uVar27;
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar28 [16];
  uint uVar29;
  uint uVar30;
  
  uVar6 = _LC11;
  uVar5 = _LC9;
  p_Var11 = this;
  p_Var14 = this + 0xc00;
  do {
    *(undefined4 *)(p_Var11 + 0x40) = uVar5;
    *(undefined4 *)(p_Var11 + 0x44) = uVar5;
    *(undefined4 *)(p_Var11 + 0x48) = uVar5;
    *(undefined4 *)(p_Var11 + 0x4c) = uVar5;
    p_Var8 = p_Var11 + 0x60;
    *(undefined4 *)(p_Var11 + 0x50) = uVar6;
    *(undefined4 *)(p_Var11 + 0x54) = uVar6;
    *(undefined4 *)(p_Var11 + 0x58) = uVar6;
    *(undefined4 *)(p_Var11 + 0x5c) = uVar6;
    *(undefined4 *)(p_Var11 + 0x20) = uVar5;
    *(undefined4 *)(p_Var11 + 0x24) = uVar5;
    *(undefined4 *)(p_Var11 + 0x28) = uVar5;
    *(undefined4 *)(p_Var11 + 0x2c) = uVar5;
    *(undefined4 *)(p_Var11 + 0x30) = uVar6;
    *(undefined4 *)(p_Var11 + 0x34) = uVar6;
    *(undefined4 *)(p_Var11 + 0x38) = uVar6;
    *(undefined4 *)(p_Var11 + 0x3c) = uVar6;
    *(undefined4 *)p_Var11 = uVar5;
    *(undefined4 *)(p_Var11 + 4) = uVar5;
    *(undefined4 *)(p_Var11 + 8) = uVar5;
    *(undefined4 *)(p_Var11 + 0xc) = uVar5;
    *(undefined4 *)(p_Var11 + 0x10) = uVar6;
    *(undefined4 *)(p_Var11 + 0x14) = uVar6;
    *(undefined4 *)(p_Var11 + 0x18) = uVar6;
    *(undefined4 *)(p_Var11 + 0x1c) = uVar6;
    *(undefined1 (*) [16])p_Var14 = (undefined1  [16])0x0;
    fVar7 = _LC14;
    p_Var11 = p_Var8;
    p_Var14 = p_Var14 + 0x10;
  } while (this + 0xc00 != p_Var8);
  piVar3 = *(int **)(param_1 + 8);
  pauVar16 = (undefined1 (*) [16])(*in_RDX * 0x40 + **(long **)param_1);
  uVar17 = in_RDX[1] - *in_RDX;
  if (uVar17 == 0) {
    return this;
  }
  if (uVar17 != 1) {
    pauVar9 = pauVar16;
    do {
      auVar24 = pauVar9[1];
      auVar23 = *pauVar9;
      auVar25 = pauVar9[5];
      auVar1 = pauVar9[4];
      uVar12 = *piVar3 - 1;
      uVar19 = (uint)(((auVar24._0_4_ + auVar23._0_4_) - (float)piVar3[4]) * (float)piVar3[8] +
                     fVar7);
      uVar20 = (uint)(((auVar24._4_4_ + auVar23._4_4_) - (float)piVar3[5]) * (float)piVar3[9] +
                     fVar7);
      uVar21 = (uint)(((auVar24._8_4_ + auVar23._8_4_) - (float)piVar3[6]) * (float)piVar3[10] +
                     fVar7);
      uVar22 = -(uint)((int)uVar19 < (int)uVar12);
      uVar26 = -(uint)((int)uVar20 < (int)uVar12);
      uVar27 = -(uint)((int)uVar21 < (int)uVar12);
      uVar19 = uVar19 & uVar22 | ~uVar22 & uVar12;
      uVar20 = uVar20 & uVar26 | ~uVar26 & uVar12;
      uVar22 = uVar21 & uVar27 | ~uVar27 & uVar12;
      uVar13 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      p_Var11 = this + uVar13 * 0x60;
      uVar19 = (uint)(((auVar25._0_4_ + auVar1._0_4_) - (float)piVar3[4]) * (float)piVar3[8] + fVar7
                     );
      uVar21 = (uint)(((auVar25._4_4_ + auVar1._4_4_) - (float)piVar3[5]) * (float)piVar3[9] + fVar7
                     );
      uVar26 = (uint)(((auVar25._8_4_ + auVar1._8_4_) - (float)piVar3[6]) * (float)piVar3[10] +
                     fVar7);
      uVar27 = -(uint)((int)uVar19 < (int)uVar12);
      uVar29 = -(uint)((int)uVar21 < (int)uVar12);
      uVar30 = -(uint)((int)uVar26 < (int)uVar12);
      uVar19 = uVar27 & uVar19 | ~uVar27 & uVar12;
      uVar21 = uVar29 & uVar21 | ~uVar29 & uVar12;
      uVar12 = uVar30 & uVar26 | ~uVar30 & uVar12;
      auVar28 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar28;
      uVar15 = (ulong)(~-(uint)((int)uVar20 < 0) & uVar20);
      p_Var11 = this + uVar15 * 0x60 + 0x20;
      auVar28 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar28;
      uVar4 = (ulong)(~-(uint)((int)uVar22 < 0) & uVar22);
      p_Var11 = this + uVar4 * 0x60 + 0x40;
      auVar23 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar23;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      iVar2 = *(int *)(pauVar9[1] + 0xc);
      *(int *)(this + uVar13 * 0x10 + 0xc00) = *(int *)(this + uVar13 * 0x10 + 0xc00) + iVar2;
      uVar13 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      *(int *)(this + uVar15 * 0x10 + 0xc04) = *(int *)(this + uVar15 * 0x10 + 0xc04) + iVar2;
      *(int *)(this + uVar4 * 0x10 + 0xc08) = *(int *)(this + uVar4 * 0x10 + 0xc08) + iVar2;
      p_Var11 = this + uVar13 * 0x60;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      uVar15 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
      p_Var11 = this + uVar15 * 0x60 + 0x20;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      uVar4 = (ulong)(~-(uint)((int)uVar12 < 0) & uVar12);
      p_Var11 = this + uVar4 * 0x60 + 0x40;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      iVar2 = *(int *)(pauVar9[5] + 0xc);
      *(int *)(this + uVar13 * 0x10 + 0xc00) = *(int *)(this + uVar13 * 0x10 + 0xc00) + iVar2;
      *(int *)(this + uVar15 * 0x10 + 0xc04) = *(int *)(this + uVar15 * 0x10 + 0xc04) + iVar2;
      *(int *)(this + uVar4 * 0x10 + 0xc08) = *(int *)(this + uVar4 * 0x10 + 0xc08) + iVar2;
      bVar18 = pauVar16 + (uVar17 - 2 >> 1) * 8 != pauVar9;
      pauVar9 = pauVar9 + 8;
    } while (bVar18);
    uVar15 = (uVar17 - 2 & 0xfffffffffffffffe) + 2;
    if (uVar17 <= uVar15) {
      return this;
    }
    pauVar16 = pauVar16 + uVar15 * 4;
  }
  auVar24 = pauVar16[1];
  auVar23 = *pauVar16;
  iVar2 = *(int *)(pauVar16[1] + 0xc);
  uVar12 = (int)*(undefined8 *)piVar3 - 1;
  uVar19 = (uint)(((auVar24._0_4_ + auVar23._0_4_) - (float)piVar3[4]) * (float)piVar3[8] + fVar7);
  uVar20 = (uint)(((auVar24._4_4_ + auVar23._4_4_) - (float)piVar3[5]) * (float)piVar3[9] + fVar7);
  uVar21 = (uint)(((auVar24._8_4_ + auVar23._8_4_) - (float)piVar3[6]) * (float)piVar3[10] + fVar7);
  uVar22 = -(uint)((int)uVar19 < (int)uVar12);
  uVar26 = -(uint)((int)uVar20 < (int)uVar12);
  uVar27 = -(uint)((int)uVar21 < (int)uVar12);
  uVar19 = uVar22 & uVar19 | ~uVar22 & uVar12;
  uVar20 = uVar26 & uVar20 | ~uVar26 & uVar12;
  uVar12 = uVar27 & uVar21 | ~uVar27 & uVar12;
  lVar10 = (long)(int)(~-(uint)((int)uVar19 < 0) & uVar19);
  p_Var11 = this + lVar10 * 0x60;
  *(int *)(this + lVar10 * 0x10 + 0xc00) = *(int *)(this + lVar10 * 0x10 + 0xc00) + iVar2;
  auVar25 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar25;
  auVar25 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar25;
  lVar10 = (long)(int)(~-(uint)((int)uVar20 < 0) & uVar20);
  p_Var11 = this + lVar10 * 0x60 + 0x20;
  *(int *)(this + lVar10 * 0x10 + 0xc04) = *(int *)(this + lVar10 * 0x10 + 0xc04) + iVar2;
  auVar25 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar25;
  auVar25 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar25;
  lVar10 = (long)(int)(~-(uint)((int)uVar12 < 0) & uVar12);
  p_Var11 = this + lVar10 * 0x60 + 0x40;
  *(int *)(this + lVar10 * 0x10 + 0xc08) = *(int *)(this + lVar10 * 0x10 + 0xc08) + iVar2;
  auVar23 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar23;
  auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::sequential_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long) */

PrimInfoExtRange *
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::sequential_object_find(PrimInfoExtRange *param_1,ulong param_2)

{
  ulong uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long lVar8;
  long lVar9;
  undefined1 (*pauVar10) [16];
  undefined1 (*pauVar11) [16];
  long lVar12;
  uint in_ECX;
  long in_RDX;
  ulong uVar13;
  float *pfVar14;
  undefined1 (*pauVar15) [16];
  long lVar16;
  ulong uVar17;
  undefined1 (*pauVar18) [16];
  ulong uVar19;
  long in_FS_OFFSET;
  undefined1 auVar20 [16];
  uint uVar21;
  int iVar22;
  uint uVar25;
  uint uVar27;
  undefined1 auVar23 [16];
  int iVar26;
  int iVar28;
  int iVar29;
  undefined1 auVar24 [16];
  uint uVar30;
  uint uVar35;
  uint uVar36;
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  float fVar42;
  float fVar43;
  undefined1 auVar44 [16];
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  undefined1 auVar45 [16];
  undefined1 auVar50 [16];
  undefined1 auVar51 [16];
  uint uVar53;
  uint uVar54;
  undefined1 auVar52 [16];
  undefined1 auVar55 [16];
  undefined1 local_1330 [16];
  undefined1 local_1320 [16];
  undefined1 local_1310 [16];
  undefined1 local_1300 [16];
  undefined1 local_12f0 [8];
  float fStack_12e8;
  float fStack_12e4;
  undefined1 local_12e0 [16];
  undefined1 local_12d0 [16];
  undefined1 local_12c0 [3] [16];
  float local_1290 [3];
  uint uStack_1284;
  float local_1280 [124];
  float local_1090 [4];
  int local_1080 [128];
  int local_e80 [4];
  undefined1 local_e70 [16];
  undefined1 local_e60 [16];
  undefined1 local_e50 [16];
  undefined1 local_e40 [16];
  undefined1 local_e30 [2896];
  undefined1 local_2e0 [80];
  int local_290 [4];
  int local_280 [142];
  long local_48;
  
  local_1330._0_8_ = CONCAT44(_LC9,_LC9);
  local_1330._8_4_ = _LC9;
  local_1330._12_4_ = _LC9;
  auVar37._0_8_ = CONCAT44(_LC11,_LC11);
  auVar37._8_4_ = _LC11;
  auVar37._12_4_ = _LC11;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pauVar18 = (undefined1 (*) [16])local_e80;
  pauVar11 = (undefined1 (*) [16])local_280;
  do {
    pauVar18[4] = local_1330;
    pauVar10 = pauVar18 + 6;
    pauVar18[5] = auVar37;
    pauVar18[2] = local_1330;
    pauVar18[3] = auVar37;
    *pauVar18 = local_1330;
    pauVar18[1] = auVar37;
    *pauVar11 = (undefined1  [16])0x0;
    pauVar18 = pauVar10;
    pauVar11 = pauVar11 + 1;
  } while ((undefined1 (*) [16])local_280 != pauVar10);
  fVar46 = *(float *)(in_RDX + 0x20);
  fVar47 = *(float *)(in_RDX + 0x24);
  uVar6 = *(undefined8 *)(in_RDX + 0x20);
  fVar48 = *(float *)(in_RDX + 0x28);
  uVar7 = *(undefined8 *)(in_RDX + 0x28);
  auVar23._0_4_ = *(float *)(in_RDX + 0x30) - fVar46;
  auVar23._4_4_ = *(float *)(in_RDX + 0x34) - fVar47;
  auVar23._8_4_ = *(float *)(in_RDX + 0x38) - fVar48;
  auVar23._12_4_ = *(float *)(in_RDX + 0x3c) - *(float *)(in_RDX + 0x2c);
  auVar31._4_4_ = _LC23;
  auVar31._0_4_ = _LC23;
  auVar31._8_4_ = _LC23;
  auVar31._12_4_ = _LC23;
  pauVar18 = (undefined1 (*) [16])(*(long *)(in_RDX + 0x40) * 0x40 + *(long *)param_2);
  auVar31 = maxps(auVar31,auVar23);
  auVar32._4_4_ = _LC25;
  auVar32._0_4_ = _LC25;
  auVar32._8_4_ = _LC25;
  auVar32._12_4_ = _LC25;
  auVar23 = divps(auVar32,auVar31);
  local_1290[0] = (float)(-(uint)(_LC23 < auVar31._0_4_) & auVar23._0_4_);
  local_1290[1] = (float)(-(uint)(_LC23 < auVar31._4_4_) & auVar23._4_4_);
  local_1290[2] = (float)(-(uint)(_LC23 < auVar31._8_4_) & auVar23._8_4_);
  uStack_1284 = -(uint)(_LC23 < auVar31._12_4_) & auVar23._12_4_;
  uVar19 = *(long *)(in_RDX + 0x48) - *(long *)(in_RDX + 0x40);
  if (uVar19 != 0) {
    if (uVar19 != 1) {
      pauVar11 = pauVar18;
      do {
        auVar23 = pauVar11[1];
        auVar32 = *pauVar11;
        auVar31 = pauVar11[4];
        pauVar10 = pauVar11 + 8;
        uVar21 = (uint)(((auVar23._0_4_ + auVar32._0_4_) - fVar46) * local_1290[0] + _LC14);
        uVar25 = (uint)(((auVar23._4_4_ + auVar32._4_4_) - fVar47) * local_1290[1] + _LC14);
        uVar27 = (uint)(((auVar23._8_4_ + auVar32._8_4_) - fVar48) * local_1290[2] + _LC14);
        uVar30 = -(uint)((int)uVar21 < (int)__LC27);
        uVar35 = -(uint)((int)uVar25 < (int)_UNK_00133704);
        uVar36 = -(uint)((int)uVar27 < (int)_UNK_00133708);
        uVar21 = uVar21 & uVar30 | ~uVar30 & __LC27;
        uVar25 = uVar25 & uVar35 | ~uVar35 & _UNK_00133704;
        uVar30 = uVar27 & uVar36 | ~uVar36 & _UNK_00133708;
        auVar33 = pauVar11[5];
        uVar13 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
        pauVar15 = (undefined1 (*) [16])local_e80 + uVar13 * 6;
        uVar21 = (uint)(((auVar33._0_4_ + auVar31._0_4_) - fVar46) * local_1290[0] + _LC14);
        uVar27 = (uint)(((auVar33._4_4_ + auVar31._4_4_) - fVar47) * local_1290[1] + _LC14);
        uVar35 = (uint)(((auVar33._8_4_ + auVar31._8_4_) - fVar48) * local_1290[2] + _LC14);
        uVar36 = -(uint)((int)uVar21 < (int)__LC27);
        uVar53 = -(uint)((int)uVar27 < (int)_UNK_00133704);
        uVar54 = -(uint)((int)uVar35 < (int)_UNK_00133708);
        uVar21 = uVar36 & uVar21 | ~uVar36 & __LC27;
        uVar27 = uVar53 & uVar27 | ~uVar53 & _UNK_00133704;
        uVar35 = uVar54 & uVar35 | ~uVar54 & _UNK_00133708;
        auVar52 = minps(*pauVar15,auVar32);
        *pauVar15 = auVar52;
        auVar52 = maxps(*(undefined1 (*) [16])(local_e70 + uVar13 * 0x60),auVar23);
        *(undefined1 (*) [16])(local_e70 + uVar13 * 0x60) = auVar52;
        uVar17 = (ulong)(~-(uint)((int)uVar25 < 0) & uVar25);
        lVar16 = uVar17 * 0x60;
        auVar52 = minps(*(undefined1 (*) [16])(local_e60 + lVar16),auVar32);
        *(undefined1 (*) [16])(local_e60 + lVar16) = auVar52;
        auVar52 = maxps(*(undefined1 (*) [16])(local_e50 + lVar16),auVar23);
        *(undefined1 (*) [16])(local_e50 + lVar16) = auVar52;
        uVar1 = (ulong)(~-(uint)((int)uVar30 < 0) & uVar30);
        lVar16 = uVar1 * 0x60;
        auVar32 = minps(*(undefined1 (*) [16])(local_e40 + lVar16),auVar32);
        *(undefined1 (*) [16])(local_e40 + lVar16) = auVar32;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar16),auVar23);
        *(undefined1 (*) [16])(local_e30 + lVar16) = auVar23;
        iVar22 = *(int *)(pauVar11[1] + 0xc);
        local_e80[(uVar13 + 0xc0) * 4] = local_e80[(uVar13 + 0xc0) * 4] + iVar22;
        uVar13 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + iVar22;
        local_280[uVar17 * 4 + 1] = local_280[uVar17 * 4 + 1] + iVar22;
        pauVar15 = (undefined1 (*) [16])local_e80 + uVar13 * 6;
        auVar23 = minps(*pauVar15,auVar31);
        *pauVar15 = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e70 + uVar13 * 0x60),auVar33);
        *(undefined1 (*) [16])(local_e70 + uVar13 * 0x60) = auVar23;
        uVar17 = (ulong)(~-(uint)((int)uVar27 < 0) & uVar27);
        lVar16 = uVar17 * 0x60;
        auVar23 = minps(*(undefined1 (*) [16])(local_e60 + lVar16),auVar31);
        *(undefined1 (*) [16])(local_e60 + lVar16) = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e50 + lVar16),auVar33);
        *(undefined1 (*) [16])(local_e50 + lVar16) = auVar23;
        uVar1 = (ulong)(~-(uint)((int)uVar35 < 0) & uVar35);
        lVar16 = uVar1 * 0x60;
        auVar23 = minps(*(undefined1 (*) [16])(local_e40 + lVar16),auVar31);
        *(undefined1 (*) [16])(local_e40 + lVar16) = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar16),auVar33);
        *(undefined1 (*) [16])(local_e30 + lVar16) = auVar23;
        iVar22 = *(int *)(pauVar11[5] + 0xc);
        local_e80[(uVar13 + 0xc0) * 4] = local_e80[(uVar13 + 0xc0) * 4] + iVar22;
        local_280[uVar17 * 4 + 1] = local_280[uVar17 * 4 + 1] + iVar22;
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + iVar22;
        pauVar11 = pauVar10;
      } while (pauVar18 + (uVar19 - 2 >> 1) * 8 + 8 != pauVar10);
      uVar17 = (uVar19 - 2 & 0xfffffffffffffffe) + 2;
      if (uVar19 <= uVar17) goto LAB_0010cbe7;
      pauVar18 = pauVar18 + uVar17 * 4;
    }
    auVar23 = pauVar18[1];
    auVar32 = *pauVar18;
    iVar22 = *(int *)(pauVar18[1] + 0xc);
    uVar21 = (uint)(((auVar23._0_4_ + auVar32._0_4_) - fVar46) * local_1290[0] + _LC14);
    uVar25 = (uint)(((auVar23._4_4_ + auVar32._4_4_) - fVar47) * local_1290[1] + _LC14);
    uVar27 = (uint)(((auVar23._8_4_ + auVar32._8_4_) - fVar48) * local_1290[2] + _LC14);
    uVar30 = -(uint)((int)uVar21 < (int)__LC27);
    uVar35 = -(uint)((int)uVar25 < (int)_UNK_00133704);
    uVar36 = -(uint)((int)uVar27 < (int)_UNK_00133708);
    uVar21 = uVar30 & uVar21 | ~uVar30 & __LC27;
    uVar25 = uVar35 & uVar25 | ~uVar35 & _UNK_00133704;
    uVar27 = uVar36 & uVar27 | ~uVar36 & _UNK_00133708;
    lVar16 = (long)(int)(~-(uint)((int)uVar21 < 0) & uVar21);
    pauVar18 = (undefined1 (*) [16])local_e80 + lVar16 * 6;
    local_e80[(lVar16 + 0xc0) * 4] = local_e80[(lVar16 + 0xc0) * 4] + iVar22;
    auVar31 = minps(*pauVar18,auVar32);
    *pauVar18 = auVar31;
    auVar31 = maxps(*(undefined1 (*) [16])(local_e70 + lVar16 * 0x60),auVar23);
    *(undefined1 (*) [16])(local_e70 + lVar16 * 0x60) = auVar31;
    lVar16 = (long)(int)(~-(uint)((int)uVar25 < 0) & uVar25);
    lVar12 = lVar16 * 0x60;
    local_280[lVar16 * 4 + 1] = local_280[lVar16 * 4 + 1] + iVar22;
    auVar31 = minps(*(undefined1 (*) [16])(local_e60 + lVar12),auVar32);
    *(undefined1 (*) [16])(local_e60 + lVar12) = auVar31;
    auVar31 = maxps(*(undefined1 (*) [16])(local_e50 + lVar12),auVar23);
    *(undefined1 (*) [16])(local_e50 + lVar12) = auVar31;
    lVar16 = (long)(int)(~-(uint)((int)uVar27 < 0) & uVar27);
    lVar12 = lVar16 * 0x60;
    local_280[lVar16 * 4 + 2] = local_280[lVar16 * 4 + 2] + iVar22;
    auVar32 = minps(*(undefined1 (*) [16])(local_e40 + lVar12),auVar32);
    *(undefined1 (*) [16])(local_e40 + lVar12) = auVar32;
    auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar12),auVar23);
    *(undefined1 (*) [16])(local_e30 + lVar12) = auVar23;
  }
LAB_0010cbe7:
  lVar16 = 0x1f0;
  auVar44._8_4_ = _LC11;
  auVar44._0_8_ = auVar37._0_8_;
  auVar44._12_4_ = _LC11;
  auVar41._8_4_ = _LC9;
  auVar41._0_8_ = local_1330._0_8_;
  auVar41._12_4_ = _LC9;
  auVar40._8_4_ = _LC11;
  auVar40._0_8_ = auVar37._0_8_;
  auVar40._12_4_ = _LC11;
  auVar39._8_4_ = _LC9;
  auVar39._0_8_ = local_1330._0_8_;
  auVar39._12_4_ = _LC9;
  auVar52._8_4_ = _LC11;
  auVar52._0_8_ = auVar37._0_8_;
  auVar52._12_4_ = _LC11;
  auVar33._8_4_ = _LC9;
  auVar33._0_8_ = local_1330._0_8_;
  auVar33._12_4_ = _LC9;
  iVar22 = 0;
  iVar26 = 0;
  iVar28 = 0;
  iVar29 = 0;
  pauVar18 = (undefined1 (*) [16])local_2e0;
  pfVar14 = local_1090;
  do {
    pauVar11 = pauVar18;
    auVar52 = maxps(auVar52,pauVar11[1]);
    auVar33 = minps(auVar33,*pauVar11);
    pauVar18 = pauVar11 + -6;
    iVar2 = *(int *)(*(undefined1 (*) [16])local_280 + lVar16);
    iVar3 = *(int *)((long)local_280 + lVar16 + 4);
    iVar4 = *(int *)((long)local_280 + lVar16 + 8);
    iVar5 = *(int *)((long)local_280 + lVar16 + 0xc);
    auVar40 = maxps(auVar40,pauVar11[3]);
    pfVar14[3] = 0.0;
    auVar39 = minps(auVar39,pauVar11[2]);
    auVar44 = maxps(auVar44,pauVar11[5]);
    iVar22 = iVar2 + iVar22;
    iVar26 = iVar3 + iVar26;
    iVar28 = iVar4 + iVar28;
    iVar29 = iVar5 + iVar29;
    auVar41 = minps(auVar41,pauVar11[4]);
    fVar46 = auVar52._4_4_ - auVar33._4_4_;
    fVar48 = auVar52._8_4_ - auVar33._8_4_;
    *(int *)((long)local_1080 + lVar16) = iVar22;
    *(int *)((long)local_1080 + lVar16 + 4) = iVar26;
    *(int *)((long)local_1080 + lVar16 + 8) = iVar28;
    *(int *)((long)local_1080 + lVar16 + 0xc) = iVar29;
    lVar16 = lVar16 + -0x10;
    fVar47 = auVar40._4_4_ - auVar39._4_4_;
    fVar49 = auVar40._8_4_ - auVar39._8_4_;
    *pfVar14 = (fVar46 + fVar48) * (auVar52._0_4_ - auVar33._0_4_) + fVar46 * fVar48;
    fVar46 = auVar44._4_4_ - auVar41._4_4_;
    fVar48 = auVar44._8_4_ - auVar41._8_4_;
    pfVar14[1] = (fVar47 + fVar49) * (auVar40._0_4_ - auVar39._0_4_) + fVar47 * fVar49;
    pfVar14[2] = (fVar46 + fVar48) * (auVar44._0_4_ - auVar41._0_4_) + fVar46 * fVar48;
    pfVar14 = pfVar14 + -4;
  } while ((undefined1 (*) [16])local_e80 != pauVar18);
  auVar50._4_4_ = _UNK_001336f4;
  auVar50._0_4_ = __LC30;
  auVar50._8_4_ = _UNK_001336f8;
  auVar50._12_4_ = _UNK_001336fc;
  lVar16 = 0x10;
  auVar45._8_4_ = _LC11;
  auVar45._0_8_ = auVar37._0_8_;
  auVar45._12_4_ = _LC11;
  iVar22 = (1 << ((byte)in_ECX & 0x1f)) + -1;
  uVar19 = (ulong)in_ECX;
  auVar55._8_4_ = _LC11;
  auVar55._0_8_ = auVar37._0_8_;
  auVar55._12_4_ = _LC11;
  auVar20._8_4_ = _LC11;
  auVar20._0_8_ = auVar37._0_8_;
  auVar20._12_4_ = _LC11;
  local_12e0 = (undefined1  [16])0x0;
  local_1300 = (undefined1  [16])0x0;
  local_1320 = local_1330;
  local_1310 = local_1330;
  _local_12f0 = local_1330;
  do {
    auVar20 = maxps(auVar20,pauVar18[5]);
    pauVar10 = pauVar18 + 6;
    local_1330 = minps(local_1330,pauVar18[4]);
    auVar45 = maxps(auVar45,pauVar18[1]);
    local_1310 = minps(local_1310,*pauVar18);
    local_1300._0_4_ = local_1300._0_4_ + *(int *)((long)local_290 + lVar16);
    local_1300._4_4_ = local_1300._4_4_ + *(int *)((long)local_290 + lVar16 + 4);
    local_1300._8_4_ = local_1300._8_4_ + *(int *)((long)local_290 + lVar16 + 8);
    local_1300._12_4_ = local_1300._12_4_ + *(int *)((long)local_290 + lVar16 + 0xc);
    fVar46 = auVar20._4_4_ - local_1330._4_4_;
    fVar47 = auVar20._8_4_ - local_1330._8_4_;
    fVar42 = auVar45._4_4_ - local_1310._4_4_;
    fVar43 = auVar45._8_4_ - local_1310._8_4_;
    auVar55 = maxps(auVar55,pauVar18[3]);
    local_1320 = minps(local_1320,pauVar18[2]);
    fVar48 = auVar55._4_4_ - local_1320._4_4_;
    fVar49 = auVar55._8_4_ - local_1320._8_4_;
    fVar46 = (fVar46 + fVar47) * (auVar20._0_4_ - local_1330._0_4_) + fVar46 * fVar47;
    uVar21 = (uint)(local_1300._0_4_ + iVar22) >> uVar19;
    uVar25 = (uint)(local_1300._4_4_ + iVar22) >> uVar19;
    uVar27 = (uint)(local_1300._8_4_ + iVar22) >> uVar19;
    uVar30 = (uint)(local_1300._12_4_ + iVar22) >> uVar19;
    uVar35 = (uint)(*(int *)((long)local_1080 + lVar16) + iVar22) >> uVar19;
    uVar36 = (uint)(*(int *)((long)local_1080 + lVar16 + 4) + iVar22) >> uVar19;
    uVar53 = (uint)(*(int *)((long)local_1080 + lVar16 + 8) + iVar22) >> uVar19;
    uVar54 = (uint)(*(int *)((long)local_1080 + lVar16 + 0xc) + iVar22) >> uVar19;
    pfVar14 = (float *)((long)local_1280 + lVar16);
    lVar12 = lVar16 + 4;
    lVar8 = lVar16 + 8;
    lVar9 = lVar16 + 0xc;
    lVar16 = lVar16 + 0x10;
    fVar47 = ((fVar42 + fVar43) * (auVar45._0_4_ - local_1310._0_4_) + fVar42 * fVar43) *
             ((float)(int)(uVar21 & _LC37) + (float)((int)uVar21 >> 0x1f & __LC29)) +
             ((float)(int)(uVar35 & _LC37) + (float)((int)uVar35 >> 0x1f & __LC29)) * *pfVar14;
    fVar48 = (fVar48 * fVar49 + (fVar48 + fVar49) * (auVar55._0_4_ - local_1320._0_4_)) *
             ((float)(int)(uVar25 & _UNK_00133714) + (float)((int)uVar25 >> 0x1f & _UNK_00133724)) +
             ((float)(int)(uVar36 & _UNK_00133714) + (float)((int)uVar36 >> 0x1f & _UNK_00133724)) *
             *(float *)((long)local_1280 + lVar12);
    fVar49 = fVar46 * ((float)(int)(uVar27 & _UNK_00133718) +
                      (float)((int)uVar27 >> 0x1f & _UNK_00133728)) +
             ((float)(int)(uVar53 & _UNK_00133718) + (float)((int)uVar53 >> 0x1f & _UNK_00133728)) *
             *(float *)((long)local_1280 + lVar8);
    fVar46 = fVar46 * ((float)(int)(uVar30 & _UNK_0013371c) +
                      (float)((int)uVar30 >> 0x1f & _UNK_0013372c)) +
             ((float)(int)(uVar54 & _UNK_0013371c) + (float)((int)uVar54 >> 0x1f & _UNK_0013372c)) *
             *(float *)((long)local_1280 + lVar9);
    auVar51._0_4_ = auVar50._0_4_ + __LC30;
    auVar51._4_4_ = auVar50._4_4_ + _UNK_001336f4;
    auVar51._8_4_ = auVar50._8_4_ + _UNK_001336f8;
    auVar51._12_4_ = auVar50._12_4_ + _UNK_001336fc;
    uVar21 = -(uint)(fVar47 < (float)local_12f0._0_4_);
    uVar25 = -(uint)(fVar48 < (float)local_12f0._4_4_);
    uVar27 = -(uint)(fVar49 < fStack_12e8);
    uVar30 = -(uint)(fVar46 < fStack_12e4);
    auVar24._4_4_ = uVar25;
    auVar24._0_4_ = uVar21;
    auVar24._8_4_ = uVar27;
    auVar24._12_4_ = uVar30;
    auVar38._0_4_ = (uint)fVar47 & uVar21;
    auVar38._4_4_ = (uint)fVar48 & uVar25;
    auVar38._8_4_ = (uint)fVar49 & uVar27;
    auVar38._12_4_ = (uint)fVar46 & uVar30;
    local_12e0 = auVar50 & auVar24 | ~auVar24 & local_12e0;
    auVar34._0_4_ = ~uVar21 & local_12f0._0_4_;
    auVar34._4_4_ = ~uVar25 & local_12f0._4_4_;
    auVar34._8_4_ = ~uVar27 & (uint)fStack_12e8;
    auVar34._12_4_ = ~uVar30 & (uint)fStack_12e4;
    _local_12f0 = auVar38 | auVar34;
    pauVar18 = pauVar10;
    auVar50 = auVar51;
  } while (pauVar11 + 0xb4 != pauVar10);
  uVar19 = 0;
  fVar47 = 0.0;
  uVar17 = 0xffffffff;
  local_12c0[0] = local_12e0;
  local_12d0 = _local_12f0;
  fVar46 = _LC9;
  do {
    if (((local_1290[uVar19] != 0.0) && (*(float *)(local_12d0 + uVar19 * 4) < fVar46)) &&
       (local_1290[uVar19 - 0xc] != 0.0)) {
      uVar17 = uVar19 & 0xffffffff;
      fVar46 = *(float *)(local_12d0 + uVar19 * 4);
      fVar47 = local_1290[uVar19 - 0xc];
    }
    uVar19 = uVar19 + 1;
  } while (uVar19 != 3);
  *(int *)(param_1 + 4) = (int)uVar17;
  *(float *)(param_1 + 8) = fVar47;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined8 *)(param_1 + 0x10) = 0x20;
  *(float *)param_1 = fVar46;
  *(undefined8 *)(param_1 + 0x20) = uVar6;
  *(undefined8 *)(param_1 + 0x28) = uVar7;
  *(float *)(param_1 + 0x30) = local_1290[0];
  *(float *)(param_1 + 0x34) = local_1290[1];
  *(float *)(param_1 + 0x38) = local_1290[2];
  *(uint *)(param_1 + 0x3c) = uStack_1284;
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined1 auVar1 [16];
  int iVar2;
  int *piVar3;
  ulong uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  float fVar7;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var8;
  undefined1 (*pauVar9) [16];
  long lVar10;
  long *in_RDX;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var11;
  uint uVar12;
  ulong uVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  ulong uVar15;
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  bool bVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar22;
  uint uVar26;
  uint uVar27;
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar28 [16];
  uint uVar29;
  uint uVar30;
  
  uVar6 = _LC11;
  uVar5 = _LC9;
  p_Var11 = this;
  p_Var14 = this + 0xc00;
  do {
    *(undefined4 *)(p_Var11 + 0x40) = uVar5;
    *(undefined4 *)(p_Var11 + 0x44) = uVar5;
    *(undefined4 *)(p_Var11 + 0x48) = uVar5;
    *(undefined4 *)(p_Var11 + 0x4c) = uVar5;
    p_Var8 = p_Var11 + 0x60;
    *(undefined4 *)(p_Var11 + 0x50) = uVar6;
    *(undefined4 *)(p_Var11 + 0x54) = uVar6;
    *(undefined4 *)(p_Var11 + 0x58) = uVar6;
    *(undefined4 *)(p_Var11 + 0x5c) = uVar6;
    *(undefined4 *)(p_Var11 + 0x20) = uVar5;
    *(undefined4 *)(p_Var11 + 0x24) = uVar5;
    *(undefined4 *)(p_Var11 + 0x28) = uVar5;
    *(undefined4 *)(p_Var11 + 0x2c) = uVar5;
    *(undefined4 *)(p_Var11 + 0x30) = uVar6;
    *(undefined4 *)(p_Var11 + 0x34) = uVar6;
    *(undefined4 *)(p_Var11 + 0x38) = uVar6;
    *(undefined4 *)(p_Var11 + 0x3c) = uVar6;
    *(undefined4 *)p_Var11 = uVar5;
    *(undefined4 *)(p_Var11 + 4) = uVar5;
    *(undefined4 *)(p_Var11 + 8) = uVar5;
    *(undefined4 *)(p_Var11 + 0xc) = uVar5;
    *(undefined4 *)(p_Var11 + 0x10) = uVar6;
    *(undefined4 *)(p_Var11 + 0x14) = uVar6;
    *(undefined4 *)(p_Var11 + 0x18) = uVar6;
    *(undefined4 *)(p_Var11 + 0x1c) = uVar6;
    *(undefined1 (*) [16])p_Var14 = (undefined1  [16])0x0;
    fVar7 = _LC14;
    p_Var11 = p_Var8;
    p_Var14 = p_Var14 + 0x10;
  } while (this + 0xc00 != p_Var8);
  piVar3 = *(int **)(param_1 + 8);
  pauVar16 = (undefined1 (*) [16])(*in_RDX * 0x40 + **(long **)param_1);
  uVar17 = in_RDX[1] - *in_RDX;
  if (uVar17 == 0) {
    return this;
  }
  if (uVar17 != 1) {
    pauVar9 = pauVar16;
    do {
      auVar24 = pauVar9[1];
      auVar23 = *pauVar9;
      auVar25 = pauVar9[5];
      auVar1 = pauVar9[4];
      uVar12 = *piVar3 - 1;
      uVar19 = (uint)(((auVar24._0_4_ + auVar23._0_4_) - (float)piVar3[4]) * (float)piVar3[8] +
                     fVar7);
      uVar20 = (uint)(((auVar24._4_4_ + auVar23._4_4_) - (float)piVar3[5]) * (float)piVar3[9] +
                     fVar7);
      uVar21 = (uint)(((auVar24._8_4_ + auVar23._8_4_) - (float)piVar3[6]) * (float)piVar3[10] +
                     fVar7);
      uVar22 = -(uint)((int)uVar19 < (int)uVar12);
      uVar26 = -(uint)((int)uVar20 < (int)uVar12);
      uVar27 = -(uint)((int)uVar21 < (int)uVar12);
      uVar19 = uVar19 & uVar22 | ~uVar22 & uVar12;
      uVar20 = uVar20 & uVar26 | ~uVar26 & uVar12;
      uVar22 = uVar21 & uVar27 | ~uVar27 & uVar12;
      uVar13 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      p_Var11 = this + uVar13 * 0x60;
      uVar19 = (uint)(((auVar25._0_4_ + auVar1._0_4_) - (float)piVar3[4]) * (float)piVar3[8] + fVar7
                     );
      uVar21 = (uint)(((auVar25._4_4_ + auVar1._4_4_) - (float)piVar3[5]) * (float)piVar3[9] + fVar7
                     );
      uVar26 = (uint)(((auVar25._8_4_ + auVar1._8_4_) - (float)piVar3[6]) * (float)piVar3[10] +
                     fVar7);
      uVar27 = -(uint)((int)uVar19 < (int)uVar12);
      uVar29 = -(uint)((int)uVar21 < (int)uVar12);
      uVar30 = -(uint)((int)uVar26 < (int)uVar12);
      uVar19 = uVar27 & uVar19 | ~uVar27 & uVar12;
      uVar21 = uVar29 & uVar21 | ~uVar29 & uVar12;
      uVar12 = uVar30 & uVar26 | ~uVar30 & uVar12;
      auVar28 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar28;
      uVar15 = (ulong)(~-(uint)((int)uVar20 < 0) & uVar20);
      p_Var11 = this + uVar15 * 0x60 + 0x20;
      auVar28 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar28;
      uVar4 = (ulong)(~-(uint)((int)uVar22 < 0) & uVar22);
      p_Var11 = this + uVar4 * 0x60 + 0x40;
      auVar23 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar23;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      iVar2 = *(int *)(pauVar9[1] + 0xc);
      *(int *)(this + uVar13 * 0x10 + 0xc00) = *(int *)(this + uVar13 * 0x10 + 0xc00) + iVar2;
      uVar13 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      *(int *)(this + uVar15 * 0x10 + 0xc04) = *(int *)(this + uVar15 * 0x10 + 0xc04) + iVar2;
      *(int *)(this + uVar4 * 0x10 + 0xc08) = *(int *)(this + uVar4 * 0x10 + 0xc08) + iVar2;
      p_Var11 = this + uVar13 * 0x60;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      uVar15 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
      p_Var11 = this + uVar15 * 0x60 + 0x20;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      uVar4 = (ulong)(~-(uint)((int)uVar12 < 0) & uVar12);
      p_Var11 = this + uVar4 * 0x60 + 0x40;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      iVar2 = *(int *)(pauVar9[5] + 0xc);
      *(int *)(this + uVar13 * 0x10 + 0xc00) = *(int *)(this + uVar13 * 0x10 + 0xc00) + iVar2;
      *(int *)(this + uVar15 * 0x10 + 0xc04) = *(int *)(this + uVar15 * 0x10 + 0xc04) + iVar2;
      *(int *)(this + uVar4 * 0x10 + 0xc08) = *(int *)(this + uVar4 * 0x10 + 0xc08) + iVar2;
      bVar18 = pauVar16 + (uVar17 - 2 >> 1) * 8 != pauVar9;
      pauVar9 = pauVar9 + 8;
    } while (bVar18);
    uVar15 = (uVar17 - 2 & 0xfffffffffffffffe) + 2;
    if (uVar17 <= uVar15) {
      return this;
    }
    pauVar16 = pauVar16 + uVar15 * 4;
  }
  auVar24 = pauVar16[1];
  auVar23 = *pauVar16;
  iVar2 = *(int *)(pauVar16[1] + 0xc);
  uVar12 = (int)*(undefined8 *)piVar3 - 1;
  uVar19 = (uint)(((auVar24._0_4_ + auVar23._0_4_) - (float)piVar3[4]) * (float)piVar3[8] + fVar7);
  uVar20 = (uint)(((auVar24._4_4_ + auVar23._4_4_) - (float)piVar3[5]) * (float)piVar3[9] + fVar7);
  uVar21 = (uint)(((auVar24._8_4_ + auVar23._8_4_) - (float)piVar3[6]) * (float)piVar3[10] + fVar7);
  uVar22 = -(uint)((int)uVar19 < (int)uVar12);
  uVar26 = -(uint)((int)uVar20 < (int)uVar12);
  uVar27 = -(uint)((int)uVar21 < (int)uVar12);
  uVar19 = uVar22 & uVar19 | ~uVar22 & uVar12;
  uVar20 = uVar26 & uVar20 | ~uVar26 & uVar12;
  uVar12 = uVar27 & uVar21 | ~uVar27 & uVar12;
  lVar10 = (long)(int)(~-(uint)((int)uVar19 < 0) & uVar19);
  p_Var11 = this + lVar10 * 0x60;
  *(int *)(this + lVar10 * 0x10 + 0xc00) = *(int *)(this + lVar10 * 0x10 + 0xc00) + iVar2;
  auVar25 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar25;
  auVar25 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar25;
  lVar10 = (long)(int)(~-(uint)((int)uVar20 < 0) & uVar20);
  p_Var11 = this + lVar10 * 0x60 + 0x20;
  *(int *)(this + lVar10 * 0x10 + 0xc04) = *(int *)(this + lVar10 * 0x10 + 0xc04) + iVar2;
  auVar25 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar25;
  auVar25 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar25;
  lVar10 = (long)(int)(~-(uint)((int)uVar12 < 0) & uVar12);
  p_Var11 = this + lVar10 * 0x60 + 0x40;
  *(int *)(this + lVar10 * 0x10 + 0xc08) = *(int *)(this + lVar10 * 0x10 + 0xc08) + iVar2;
  auVar23 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar23;
  auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::sequential_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long) */

PrimInfoExtRange *
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::sequential_object_find(PrimInfoExtRange *param_1,ulong param_2)

{
  ulong uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long lVar8;
  long lVar9;
  undefined1 (*pauVar10) [16];
  undefined1 (*pauVar11) [16];
  long lVar12;
  uint in_ECX;
  long in_RDX;
  ulong uVar13;
  float *pfVar14;
  undefined1 (*pauVar15) [16];
  long lVar16;
  ulong uVar17;
  undefined1 (*pauVar18) [16];
  ulong uVar19;
  long in_FS_OFFSET;
  undefined1 auVar20 [16];
  uint uVar21;
  int iVar22;
  uint uVar25;
  uint uVar27;
  undefined1 auVar23 [16];
  int iVar26;
  int iVar28;
  int iVar29;
  undefined1 auVar24 [16];
  uint uVar30;
  uint uVar35;
  uint uVar36;
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  float fVar42;
  float fVar43;
  undefined1 auVar44 [16];
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  undefined1 auVar45 [16];
  undefined1 auVar50 [16];
  undefined1 auVar51 [16];
  uint uVar53;
  uint uVar54;
  undefined1 auVar52 [16];
  undefined1 auVar55 [16];
  undefined1 local_1330 [16];
  undefined1 local_1320 [16];
  undefined1 local_1310 [16];
  undefined1 local_1300 [16];
  undefined1 local_12f0 [8];
  float fStack_12e8;
  float fStack_12e4;
  undefined1 local_12e0 [16];
  undefined1 local_12d0 [16];
  undefined1 local_12c0 [3] [16];
  float local_1290 [3];
  uint uStack_1284;
  float local_1280 [124];
  float local_1090 [4];
  int local_1080 [128];
  int local_e80 [4];
  undefined1 local_e70 [16];
  undefined1 local_e60 [16];
  undefined1 local_e50 [16];
  undefined1 local_e40 [16];
  undefined1 local_e30 [2896];
  undefined1 local_2e0 [80];
  int local_290 [4];
  int local_280 [142];
  long local_48;
  
  local_1330._0_8_ = CONCAT44(_LC9,_LC9);
  local_1330._8_4_ = _LC9;
  local_1330._12_4_ = _LC9;
  auVar37._0_8_ = CONCAT44(_LC11,_LC11);
  auVar37._8_4_ = _LC11;
  auVar37._12_4_ = _LC11;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pauVar18 = (undefined1 (*) [16])local_e80;
  pauVar11 = (undefined1 (*) [16])local_280;
  do {
    pauVar18[4] = local_1330;
    pauVar10 = pauVar18 + 6;
    pauVar18[5] = auVar37;
    pauVar18[2] = local_1330;
    pauVar18[3] = auVar37;
    *pauVar18 = local_1330;
    pauVar18[1] = auVar37;
    *pauVar11 = (undefined1  [16])0x0;
    pauVar18 = pauVar10;
    pauVar11 = pauVar11 + 1;
  } while ((undefined1 (*) [16])local_280 != pauVar10);
  fVar46 = *(float *)(in_RDX + 0x20);
  fVar47 = *(float *)(in_RDX + 0x24);
  uVar6 = *(undefined8 *)(in_RDX + 0x20);
  fVar48 = *(float *)(in_RDX + 0x28);
  uVar7 = *(undefined8 *)(in_RDX + 0x28);
  auVar23._0_4_ = *(float *)(in_RDX + 0x30) - fVar46;
  auVar23._4_4_ = *(float *)(in_RDX + 0x34) - fVar47;
  auVar23._8_4_ = *(float *)(in_RDX + 0x38) - fVar48;
  auVar23._12_4_ = *(float *)(in_RDX + 0x3c) - *(float *)(in_RDX + 0x2c);
  auVar31._4_4_ = _LC23;
  auVar31._0_4_ = _LC23;
  auVar31._8_4_ = _LC23;
  auVar31._12_4_ = _LC23;
  pauVar18 = (undefined1 (*) [16])(*(long *)(in_RDX + 0x40) * 0x40 + *(long *)param_2);
  auVar31 = maxps(auVar31,auVar23);
  auVar32._4_4_ = _LC25;
  auVar32._0_4_ = _LC25;
  auVar32._8_4_ = _LC25;
  auVar32._12_4_ = _LC25;
  auVar23 = divps(auVar32,auVar31);
  local_1290[0] = (float)(-(uint)(_LC23 < auVar31._0_4_) & auVar23._0_4_);
  local_1290[1] = (float)(-(uint)(_LC23 < auVar31._4_4_) & auVar23._4_4_);
  local_1290[2] = (float)(-(uint)(_LC23 < auVar31._8_4_) & auVar23._8_4_);
  uStack_1284 = -(uint)(_LC23 < auVar31._12_4_) & auVar23._12_4_;
  uVar19 = *(long *)(in_RDX + 0x48) - *(long *)(in_RDX + 0x40);
  if (uVar19 != 0) {
    if (uVar19 != 1) {
      pauVar11 = pauVar18;
      do {
        auVar23 = pauVar11[1];
        auVar32 = *pauVar11;
        auVar31 = pauVar11[4];
        pauVar10 = pauVar11 + 8;
        uVar21 = (uint)(((auVar23._0_4_ + auVar32._0_4_) - fVar46) * local_1290[0] + _LC14);
        uVar25 = (uint)(((auVar23._4_4_ + auVar32._4_4_) - fVar47) * local_1290[1] + _LC14);
        uVar27 = (uint)(((auVar23._8_4_ + auVar32._8_4_) - fVar48) * local_1290[2] + _LC14);
        uVar30 = -(uint)((int)uVar21 < (int)__LC27);
        uVar35 = -(uint)((int)uVar25 < (int)_UNK_00133704);
        uVar36 = -(uint)((int)uVar27 < (int)_UNK_00133708);
        uVar21 = uVar21 & uVar30 | ~uVar30 & __LC27;
        uVar25 = uVar25 & uVar35 | ~uVar35 & _UNK_00133704;
        uVar30 = uVar27 & uVar36 | ~uVar36 & _UNK_00133708;
        auVar33 = pauVar11[5];
        uVar13 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
        pauVar15 = (undefined1 (*) [16])local_e80 + uVar13 * 6;
        uVar21 = (uint)(((auVar33._0_4_ + auVar31._0_4_) - fVar46) * local_1290[0] + _LC14);
        uVar27 = (uint)(((auVar33._4_4_ + auVar31._4_4_) - fVar47) * local_1290[1] + _LC14);
        uVar35 = (uint)(((auVar33._8_4_ + auVar31._8_4_) - fVar48) * local_1290[2] + _LC14);
        uVar36 = -(uint)((int)uVar21 < (int)__LC27);
        uVar53 = -(uint)((int)uVar27 < (int)_UNK_00133704);
        uVar54 = -(uint)((int)uVar35 < (int)_UNK_00133708);
        uVar21 = uVar36 & uVar21 | ~uVar36 & __LC27;
        uVar27 = uVar53 & uVar27 | ~uVar53 & _UNK_00133704;
        uVar35 = uVar54 & uVar35 | ~uVar54 & _UNK_00133708;
        auVar52 = minps(*pauVar15,auVar32);
        *pauVar15 = auVar52;
        auVar52 = maxps(*(undefined1 (*) [16])(local_e70 + uVar13 * 0x60),auVar23);
        *(undefined1 (*) [16])(local_e70 + uVar13 * 0x60) = auVar52;
        uVar17 = (ulong)(~-(uint)((int)uVar25 < 0) & uVar25);
        lVar16 = uVar17 * 0x60;
        auVar52 = minps(*(undefined1 (*) [16])(local_e60 + lVar16),auVar32);
        *(undefined1 (*) [16])(local_e60 + lVar16) = auVar52;
        auVar52 = maxps(*(undefined1 (*) [16])(local_e50 + lVar16),auVar23);
        *(undefined1 (*) [16])(local_e50 + lVar16) = auVar52;
        uVar1 = (ulong)(~-(uint)((int)uVar30 < 0) & uVar30);
        lVar16 = uVar1 * 0x60;
        auVar32 = minps(*(undefined1 (*) [16])(local_e40 + lVar16),auVar32);
        *(undefined1 (*) [16])(local_e40 + lVar16) = auVar32;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar16),auVar23);
        *(undefined1 (*) [16])(local_e30 + lVar16) = auVar23;
        iVar22 = *(int *)(pauVar11[1] + 0xc);
        local_e80[(uVar13 + 0xc0) * 4] = local_e80[(uVar13 + 0xc0) * 4] + iVar22;
        uVar13 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + iVar22;
        local_280[uVar17 * 4 + 1] = local_280[uVar17 * 4 + 1] + iVar22;
        pauVar15 = (undefined1 (*) [16])local_e80 + uVar13 * 6;
        auVar23 = minps(*pauVar15,auVar31);
        *pauVar15 = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e70 + uVar13 * 0x60),auVar33);
        *(undefined1 (*) [16])(local_e70 + uVar13 * 0x60) = auVar23;
        uVar17 = (ulong)(~-(uint)((int)uVar27 < 0) & uVar27);
        lVar16 = uVar17 * 0x60;
        auVar23 = minps(*(undefined1 (*) [16])(local_e60 + lVar16),auVar31);
        *(undefined1 (*) [16])(local_e60 + lVar16) = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e50 + lVar16),auVar33);
        *(undefined1 (*) [16])(local_e50 + lVar16) = auVar23;
        uVar1 = (ulong)(~-(uint)((int)uVar35 < 0) & uVar35);
        lVar16 = uVar1 * 0x60;
        auVar23 = minps(*(undefined1 (*) [16])(local_e40 + lVar16),auVar31);
        *(undefined1 (*) [16])(local_e40 + lVar16) = auVar23;
        auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar16),auVar33);
        *(undefined1 (*) [16])(local_e30 + lVar16) = auVar23;
        iVar22 = *(int *)(pauVar11[5] + 0xc);
        local_e80[(uVar13 + 0xc0) * 4] = local_e80[(uVar13 + 0xc0) * 4] + iVar22;
        local_280[uVar17 * 4 + 1] = local_280[uVar17 * 4 + 1] + iVar22;
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + iVar22;
        pauVar11 = pauVar10;
      } while (pauVar18 + (uVar19 - 2 >> 1) * 8 + 8 != pauVar10);
      uVar17 = (uVar19 - 2 & 0xfffffffffffffffe) + 2;
      if (uVar19 <= uVar17) goto LAB_0010d897;
      pauVar18 = pauVar18 + uVar17 * 4;
    }
    auVar23 = pauVar18[1];
    auVar32 = *pauVar18;
    iVar22 = *(int *)(pauVar18[1] + 0xc);
    uVar21 = (uint)(((auVar23._0_4_ + auVar32._0_4_) - fVar46) * local_1290[0] + _LC14);
    uVar25 = (uint)(((auVar23._4_4_ + auVar32._4_4_) - fVar47) * local_1290[1] + _LC14);
    uVar27 = (uint)(((auVar23._8_4_ + auVar32._8_4_) - fVar48) * local_1290[2] + _LC14);
    uVar30 = -(uint)((int)uVar21 < (int)__LC27);
    uVar35 = -(uint)((int)uVar25 < (int)_UNK_00133704);
    uVar36 = -(uint)((int)uVar27 < (int)_UNK_00133708);
    uVar21 = uVar30 & uVar21 | ~uVar30 & __LC27;
    uVar25 = uVar35 & uVar25 | ~uVar35 & _UNK_00133704;
    uVar27 = uVar36 & uVar27 | ~uVar36 & _UNK_00133708;
    lVar16 = (long)(int)(~-(uint)((int)uVar21 < 0) & uVar21);
    pauVar18 = (undefined1 (*) [16])local_e80 + lVar16 * 6;
    local_e80[(lVar16 + 0xc0) * 4] = local_e80[(lVar16 + 0xc0) * 4] + iVar22;
    auVar31 = minps(*pauVar18,auVar32);
    *pauVar18 = auVar31;
    auVar31 = maxps(*(undefined1 (*) [16])(local_e70 + lVar16 * 0x60),auVar23);
    *(undefined1 (*) [16])(local_e70 + lVar16 * 0x60) = auVar31;
    lVar16 = (long)(int)(~-(uint)((int)uVar25 < 0) & uVar25);
    lVar12 = lVar16 * 0x60;
    local_280[lVar16 * 4 + 1] = local_280[lVar16 * 4 + 1] + iVar22;
    auVar31 = minps(*(undefined1 (*) [16])(local_e60 + lVar12),auVar32);
    *(undefined1 (*) [16])(local_e60 + lVar12) = auVar31;
    auVar31 = maxps(*(undefined1 (*) [16])(local_e50 + lVar12),auVar23);
    *(undefined1 (*) [16])(local_e50 + lVar12) = auVar31;
    lVar16 = (long)(int)(~-(uint)((int)uVar27 < 0) & uVar27);
    lVar12 = lVar16 * 0x60;
    local_280[lVar16 * 4 + 2] = local_280[lVar16 * 4 + 2] + iVar22;
    auVar32 = minps(*(undefined1 (*) [16])(local_e40 + lVar12),auVar32);
    *(undefined1 (*) [16])(local_e40 + lVar12) = auVar32;
    auVar23 = maxps(*(undefined1 (*) [16])(local_e30 + lVar12),auVar23);
    *(undefined1 (*) [16])(local_e30 + lVar12) = auVar23;
  }
LAB_0010d897:
  lVar16 = 0x1f0;
  auVar44._8_4_ = _LC11;
  auVar44._0_8_ = auVar37._0_8_;
  auVar44._12_4_ = _LC11;
  auVar41._8_4_ = _LC9;
  auVar41._0_8_ = local_1330._0_8_;
  auVar41._12_4_ = _LC9;
  auVar40._8_4_ = _LC11;
  auVar40._0_8_ = auVar37._0_8_;
  auVar40._12_4_ = _LC11;
  auVar39._8_4_ = _LC9;
  auVar39._0_8_ = local_1330._0_8_;
  auVar39._12_4_ = _LC9;
  auVar52._8_4_ = _LC11;
  auVar52._0_8_ = auVar37._0_8_;
  auVar52._12_4_ = _LC11;
  auVar33._8_4_ = _LC9;
  auVar33._0_8_ = local_1330._0_8_;
  auVar33._12_4_ = _LC9;
  iVar22 = 0;
  iVar26 = 0;
  iVar28 = 0;
  iVar29 = 0;
  pauVar18 = (undefined1 (*) [16])local_2e0;
  pfVar14 = local_1090;
  do {
    pauVar11 = pauVar18;
    auVar52 = maxps(auVar52,pauVar11[1]);
    auVar33 = minps(auVar33,*pauVar11);
    pauVar18 = pauVar11 + -6;
    iVar2 = *(int *)(*(undefined1 (*) [16])local_280 + lVar16);
    iVar3 = *(int *)((long)local_280 + lVar16 + 4);
    iVar4 = *(int *)((long)local_280 + lVar16 + 8);
    iVar5 = *(int *)((long)local_280 + lVar16 + 0xc);
    auVar40 = maxps(auVar40,pauVar11[3]);
    pfVar14[3] = 0.0;
    auVar39 = minps(auVar39,pauVar11[2]);
    auVar44 = maxps(auVar44,pauVar11[5]);
    iVar22 = iVar2 + iVar22;
    iVar26 = iVar3 + iVar26;
    iVar28 = iVar4 + iVar28;
    iVar29 = iVar5 + iVar29;
    auVar41 = minps(auVar41,pauVar11[4]);
    fVar46 = auVar52._4_4_ - auVar33._4_4_;
    fVar48 = auVar52._8_4_ - auVar33._8_4_;
    *(int *)((long)local_1080 + lVar16) = iVar22;
    *(int *)((long)local_1080 + lVar16 + 4) = iVar26;
    *(int *)((long)local_1080 + lVar16 + 8) = iVar28;
    *(int *)((long)local_1080 + lVar16 + 0xc) = iVar29;
    lVar16 = lVar16 + -0x10;
    fVar47 = auVar40._4_4_ - auVar39._4_4_;
    fVar49 = auVar40._8_4_ - auVar39._8_4_;
    *pfVar14 = (fVar46 + fVar48) * (auVar52._0_4_ - auVar33._0_4_) + fVar46 * fVar48;
    fVar46 = auVar44._4_4_ - auVar41._4_4_;
    fVar48 = auVar44._8_4_ - auVar41._8_4_;
    pfVar14[1] = (fVar47 + fVar49) * (auVar40._0_4_ - auVar39._0_4_) + fVar47 * fVar49;
    pfVar14[2] = (fVar46 + fVar48) * (auVar44._0_4_ - auVar41._0_4_) + fVar46 * fVar48;
    pfVar14 = pfVar14 + -4;
  } while ((undefined1 (*) [16])local_e80 != pauVar18);
  auVar50._4_4_ = _UNK_001336f4;
  auVar50._0_4_ = __LC30;
  auVar50._8_4_ = _UNK_001336f8;
  auVar50._12_4_ = _UNK_001336fc;
  lVar16 = 0x10;
  auVar45._8_4_ = _LC11;
  auVar45._0_8_ = auVar37._0_8_;
  auVar45._12_4_ = _LC11;
  iVar22 = (1 << ((byte)in_ECX & 0x1f)) + -1;
  uVar19 = (ulong)in_ECX;
  auVar55._8_4_ = _LC11;
  auVar55._0_8_ = auVar37._0_8_;
  auVar55._12_4_ = _LC11;
  auVar20._8_4_ = _LC11;
  auVar20._0_8_ = auVar37._0_8_;
  auVar20._12_4_ = _LC11;
  local_12e0 = (undefined1  [16])0x0;
  local_1300 = (undefined1  [16])0x0;
  local_1320 = local_1330;
  local_1310 = local_1330;
  _local_12f0 = local_1330;
  do {
    auVar20 = maxps(auVar20,pauVar18[5]);
    pauVar10 = pauVar18 + 6;
    local_1330 = minps(local_1330,pauVar18[4]);
    auVar45 = maxps(auVar45,pauVar18[1]);
    local_1310 = minps(local_1310,*pauVar18);
    local_1300._0_4_ = local_1300._0_4_ + *(int *)((long)local_290 + lVar16);
    local_1300._4_4_ = local_1300._4_4_ + *(int *)((long)local_290 + lVar16 + 4);
    local_1300._8_4_ = local_1300._8_4_ + *(int *)((long)local_290 + lVar16 + 8);
    local_1300._12_4_ = local_1300._12_4_ + *(int *)((long)local_290 + lVar16 + 0xc);
    fVar46 = auVar20._4_4_ - local_1330._4_4_;
    fVar47 = auVar20._8_4_ - local_1330._8_4_;
    fVar42 = auVar45._4_4_ - local_1310._4_4_;
    fVar43 = auVar45._8_4_ - local_1310._8_4_;
    auVar55 = maxps(auVar55,pauVar18[3]);
    local_1320 = minps(local_1320,pauVar18[2]);
    fVar48 = auVar55._4_4_ - local_1320._4_4_;
    fVar49 = auVar55._8_4_ - local_1320._8_4_;
    fVar46 = (fVar46 + fVar47) * (auVar20._0_4_ - local_1330._0_4_) + fVar46 * fVar47;
    uVar21 = (uint)(local_1300._0_4_ + iVar22) >> uVar19;
    uVar25 = (uint)(local_1300._4_4_ + iVar22) >> uVar19;
    uVar27 = (uint)(local_1300._8_4_ + iVar22) >> uVar19;
    uVar30 = (uint)(local_1300._12_4_ + iVar22) >> uVar19;
    uVar35 = (uint)(*(int *)((long)local_1080 + lVar16) + iVar22) >> uVar19;
    uVar36 = (uint)(*(int *)((long)local_1080 + lVar16 + 4) + iVar22) >> uVar19;
    uVar53 = (uint)(*(int *)((long)local_1080 + lVar16 + 8) + iVar22) >> uVar19;
    uVar54 = (uint)(*(int *)((long)local_1080 + lVar16 + 0xc) + iVar22) >> uVar19;
    pfVar14 = (float *)((long)local_1280 + lVar16);
    lVar12 = lVar16 + 4;
    lVar8 = lVar16 + 8;
    lVar9 = lVar16 + 0xc;
    lVar16 = lVar16 + 0x10;
    fVar47 = ((fVar42 + fVar43) * (auVar45._0_4_ - local_1310._0_4_) + fVar42 * fVar43) *
             ((float)(int)(uVar21 & _LC37) + (float)((int)uVar21 >> 0x1f & __LC29)) +
             ((float)(int)(uVar35 & _LC37) + (float)((int)uVar35 >> 0x1f & __LC29)) * *pfVar14;
    fVar48 = (fVar48 * fVar49 + (fVar48 + fVar49) * (auVar55._0_4_ - local_1320._0_4_)) *
             ((float)(int)(uVar25 & _UNK_00133714) + (float)((int)uVar25 >> 0x1f & _UNK_00133724)) +
             ((float)(int)(uVar36 & _UNK_00133714) + (float)((int)uVar36 >> 0x1f & _UNK_00133724)) *
             *(float *)((long)local_1280 + lVar12);
    fVar49 = fVar46 * ((float)(int)(uVar27 & _UNK_00133718) +
                      (float)((int)uVar27 >> 0x1f & _UNK_00133728)) +
             ((float)(int)(uVar53 & _UNK_00133718) + (float)((int)uVar53 >> 0x1f & _UNK_00133728)) *
             *(float *)((long)local_1280 + lVar8);
    fVar46 = fVar46 * ((float)(int)(uVar30 & _UNK_0013371c) +
                      (float)((int)uVar30 >> 0x1f & _UNK_0013372c)) +
             ((float)(int)(uVar54 & _UNK_0013371c) + (float)((int)uVar54 >> 0x1f & _UNK_0013372c)) *
             *(float *)((long)local_1280 + lVar9);
    auVar51._0_4_ = auVar50._0_4_ + __LC30;
    auVar51._4_4_ = auVar50._4_4_ + _UNK_001336f4;
    auVar51._8_4_ = auVar50._8_4_ + _UNK_001336f8;
    auVar51._12_4_ = auVar50._12_4_ + _UNK_001336fc;
    uVar21 = -(uint)(fVar47 < (float)local_12f0._0_4_);
    uVar25 = -(uint)(fVar48 < (float)local_12f0._4_4_);
    uVar27 = -(uint)(fVar49 < fStack_12e8);
    uVar30 = -(uint)(fVar46 < fStack_12e4);
    auVar24._4_4_ = uVar25;
    auVar24._0_4_ = uVar21;
    auVar24._8_4_ = uVar27;
    auVar24._12_4_ = uVar30;
    auVar38._0_4_ = (uint)fVar47 & uVar21;
    auVar38._4_4_ = (uint)fVar48 & uVar25;
    auVar38._8_4_ = (uint)fVar49 & uVar27;
    auVar38._12_4_ = (uint)fVar46 & uVar30;
    local_12e0 = auVar50 & auVar24 | ~auVar24 & local_12e0;
    auVar34._0_4_ = ~uVar21 & local_12f0._0_4_;
    auVar34._4_4_ = ~uVar25 & local_12f0._4_4_;
    auVar34._8_4_ = ~uVar27 & (uint)fStack_12e8;
    auVar34._12_4_ = ~uVar30 & (uint)fStack_12e4;
    _local_12f0 = auVar38 | auVar34;
    pauVar18 = pauVar10;
    auVar50 = auVar51;
  } while (pauVar11 + 0xb4 != pauVar10);
  uVar19 = 0;
  fVar47 = 0.0;
  uVar17 = 0xffffffff;
  local_12c0[0] = local_12e0;
  local_12d0 = _local_12f0;
  fVar46 = _LC9;
  do {
    if (((local_1290[uVar19] != 0.0) && (*(float *)(local_12d0 + uVar19 * 4) < fVar46)) &&
       (local_1290[uVar19 - 0xc] != 0.0)) {
      uVar17 = uVar19 & 0xffffffff;
      fVar46 = *(float *)(local_12d0 + uVar19 * 4);
      fVar47 = local_1290[uVar19 - 0xc];
    }
    uVar19 = uVar19 + 1;
  } while (uVar19 != 3);
  *(int *)(param_1 + 4) = (int)uVar17;
  *(float *)(param_1 + 8) = fVar47;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(undefined8 *)(param_1 + 0x10) = 0x20;
  *(float *)param_1 = fVar46;
  *(undefined8 *)(param_1 + 0x20) = uVar6;
  *(undefined8 *)(param_1 + 0x28) = uVar7;
  *(float *)(param_1 + 0x30) = local_1290[0];
  *(float *)(param_1 + 0x34) = local_1290[1];
  *(float *)(param_1 + 0x38) = local_1290[2];
  *(uint *)(param_1 + 0x3c) = uStack_1284;
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined1 auVar1 [16];
  int iVar2;
  int *piVar3;
  ulong uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  float fVar7;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var8;
  undefined1 (*pauVar9) [16];
  long lVar10;
  long *in_RDX;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var11;
  uint uVar12;
  ulong uVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  ulong uVar15;
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  bool bVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar22;
  uint uVar26;
  uint uVar27;
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar28 [16];
  uint uVar29;
  uint uVar30;
  
  uVar6 = _LC11;
  uVar5 = _LC9;
  p_Var11 = this;
  p_Var14 = this + 0xc00;
  do {
    *(undefined4 *)(p_Var11 + 0x40) = uVar5;
    *(undefined4 *)(p_Var11 + 0x44) = uVar5;
    *(undefined4 *)(p_Var11 + 0x48) = uVar5;
    *(undefined4 *)(p_Var11 + 0x4c) = uVar5;
    p_Var8 = p_Var11 + 0x60;
    *(undefined4 *)(p_Var11 + 0x50) = uVar6;
    *(undefined4 *)(p_Var11 + 0x54) = uVar6;
    *(undefined4 *)(p_Var11 + 0x58) = uVar6;
    *(undefined4 *)(p_Var11 + 0x5c) = uVar6;
    *(undefined4 *)(p_Var11 + 0x20) = uVar5;
    *(undefined4 *)(p_Var11 + 0x24) = uVar5;
    *(undefined4 *)(p_Var11 + 0x28) = uVar5;
    *(undefined4 *)(p_Var11 + 0x2c) = uVar5;
    *(undefined4 *)(p_Var11 + 0x30) = uVar6;
    *(undefined4 *)(p_Var11 + 0x34) = uVar6;
    *(undefined4 *)(p_Var11 + 0x38) = uVar6;
    *(undefined4 *)(p_Var11 + 0x3c) = uVar6;
    *(undefined4 *)p_Var11 = uVar5;
    *(undefined4 *)(p_Var11 + 4) = uVar5;
    *(undefined4 *)(p_Var11 + 8) = uVar5;
    *(undefined4 *)(p_Var11 + 0xc) = uVar5;
    *(undefined4 *)(p_Var11 + 0x10) = uVar6;
    *(undefined4 *)(p_Var11 + 0x14) = uVar6;
    *(undefined4 *)(p_Var11 + 0x18) = uVar6;
    *(undefined4 *)(p_Var11 + 0x1c) = uVar6;
    *(undefined1 (*) [16])p_Var14 = (undefined1  [16])0x0;
    fVar7 = _LC14;
    p_Var11 = p_Var8;
    p_Var14 = p_Var14 + 0x10;
  } while (this + 0xc00 != p_Var8);
  piVar3 = *(int **)(param_1 + 8);
  pauVar16 = (undefined1 (*) [16])(*in_RDX * 0x40 + **(long **)param_1);
  uVar17 = in_RDX[1] - *in_RDX;
  if (uVar17 == 0) {
    return this;
  }
  if (uVar17 != 1) {
    pauVar9 = pauVar16;
    do {
      auVar24 = pauVar9[1];
      auVar23 = *pauVar9;
      auVar25 = pauVar9[5];
      auVar1 = pauVar9[4];
      uVar12 = *piVar3 - 1;
      uVar19 = (uint)(((auVar24._0_4_ + auVar23._0_4_) - (float)piVar3[4]) * (float)piVar3[8] +
                     fVar7);
      uVar20 = (uint)(((auVar24._4_4_ + auVar23._4_4_) - (float)piVar3[5]) * (float)piVar3[9] +
                     fVar7);
      uVar21 = (uint)(((auVar24._8_4_ + auVar23._8_4_) - (float)piVar3[6]) * (float)piVar3[10] +
                     fVar7);
      uVar22 = -(uint)((int)uVar19 < (int)uVar12);
      uVar26 = -(uint)((int)uVar20 < (int)uVar12);
      uVar27 = -(uint)((int)uVar21 < (int)uVar12);
      uVar19 = uVar19 & uVar22 | ~uVar22 & uVar12;
      uVar20 = uVar20 & uVar26 | ~uVar26 & uVar12;
      uVar22 = uVar21 & uVar27 | ~uVar27 & uVar12;
      uVar13 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      p_Var11 = this + uVar13 * 0x60;
      uVar19 = (uint)(((auVar25._0_4_ + auVar1._0_4_) - (float)piVar3[4]) * (float)piVar3[8] + fVar7
                     );
      uVar21 = (uint)(((auVar25._4_4_ + auVar1._4_4_) - (float)piVar3[5]) * (float)piVar3[9] + fVar7
                     );
      uVar26 = (uint)(((auVar25._8_4_ + auVar1._8_4_) - (float)piVar3[6]) * (float)piVar3[10] +
                     fVar7);
      uVar27 = -(uint)((int)uVar19 < (int)uVar12);
      uVar29 = -(uint)((int)uVar21 < (int)uVar12);
      uVar30 = -(uint)((int)uVar26 < (int)uVar12);
      uVar19 = uVar27 & uVar19 | ~uVar27 & uVar12;
      uVar21 = uVar29 & uVar21 | ~uVar29 & uVar12;
      uVar12 = uVar30 & uVar26 | ~uVar30 & uVar12;
      auVar28 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar28;
      uVar15 = (ulong)(~-(uint)((int)uVar20 < 0) & uVar20);
      p_Var11 = this + uVar15 * 0x60 + 0x20;
      auVar28 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar28;
      uVar4 = (ulong)(~-(uint)((int)uVar22 < 0) & uVar22);
      p_Var11 = this + uVar4 * 0x60 + 0x40;
      auVar23 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
      *(undefined1 (*) [16])p_Var11 = auVar23;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      iVar2 = *(int *)(pauVar9[1] + 0xc);
      *(int *)(this + uVar13 * 0x10 + 0xc00) = *(int *)(this + uVar13 * 0x10 + 0xc00) + iVar2;
      uVar13 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      *(int *)(this + uVar15 * 0x10 + 0xc04) = *(int *)(this + uVar15 * 0x10 + 0xc04) + iVar2;
      *(int *)(this + uVar4 * 0x10 + 0xc08) = *(int *)(this + uVar4 * 0x10 + 0xc08) + iVar2;
      p_Var11 = this + uVar13 * 0x60;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      uVar15 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
      p_Var11 = this + uVar15 * 0x60 + 0x20;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      uVar4 = (ulong)(~-(uint)((int)uVar12 < 0) & uVar12);
      p_Var11 = this + uVar4 * 0x60 + 0x40;
      auVar24 = minps(*(undefined1 (*) [16])p_Var11,auVar1);
      *(undefined1 (*) [16])p_Var11 = auVar24;
      auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar25);
      *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
      iVar2 = *(int *)(pauVar9[5] + 0xc);
      *(int *)(this + uVar13 * 0x10 + 0xc00) = *(int *)(this + uVar13 * 0x10 + 0xc00) + iVar2;
      *(int *)(this + uVar15 * 0x10 + 0xc04) = *(int *)(this + uVar15 * 0x10 + 0xc04) + iVar2;
      *(int *)(this + uVar4 * 0x10 + 0xc08) = *(int *)(this + uVar4 * 0x10 + 0xc08) + iVar2;
      bVar18 = pauVar16 + (uVar17 - 2 >> 1) * 8 != pauVar9;
      pauVar9 = pauVar9 + 8;
    } while (bVar18);
    uVar15 = (uVar17 - 2 & 0xfffffffffffffffe) + 2;
    if (uVar17 <= uVar15) {
      return this;
    }
    pauVar16 = pauVar16 + uVar15 * 4;
  }
  auVar24 = pauVar16[1];
  auVar23 = *pauVar16;
  iVar2 = *(int *)(pauVar16[1] + 0xc);
  uVar12 = (int)*(undefined8 *)piVar3 - 1;
  uVar19 = (uint)(((auVar24._0_4_ + auVar23._0_4_) - (float)piVar3[4]) * (float)piVar3[8] + fVar7);
  uVar20 = (uint)(((auVar24._4_4_ + auVar23._4_4_) - (float)piVar3[5]) * (float)piVar3[9] + fVar7);
  uVar21 = (uint)(((auVar24._8_4_ + auVar23._8_4_) - (float)piVar3[6]) * (float)piVar3[10] + fVar7);
  uVar22 = -(uint)((int)uVar19 < (int)uVar12);
  uVar26 = -(uint)((int)uVar20 < (int)uVar12);
  uVar27 = -(uint)((int)uVar21 < (int)uVar12);
  uVar19 = uVar22 & uVar19 | ~uVar22 & uVar12;
  uVar20 = uVar26 & uVar20 | ~uVar26 & uVar12;
  uVar12 = uVar27 & uVar21 | ~uVar27 & uVar12;
  lVar10 = (long)(int)(~-(uint)((int)uVar19 < 0) & uVar19);
  p_Var11 = this + lVar10 * 0x60;
  *(int *)(this + lVar10 * 0x10 + 0xc00) = *(int *)(this + lVar10 * 0x10 + 0xc00) + iVar2;
  auVar25 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar25;
  auVar25 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar25;
  lVar10 = (long)(int)(~-(uint)((int)uVar20 < 0) & uVar20);
  p_Var11 = this + lVar10 * 0x60 + 0x20;
  *(int *)(this + lVar10 * 0x10 + 0xc04) = *(int *)(this + lVar10 * 0x10 + 0xc04) + iVar2;
  auVar25 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar25;
  auVar25 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar25;
  lVar10 = (long)(int)(~-(uint)((int)uVar12 < 0) & uVar12);
  p_Var11 = this + lVar10 * 0x60 + 0x40;
  *(int *)(this + lVar10 * 0x10 + 0xc08) = *(int *)(this + lVar10 * 0x10 + 0xc08) + iVar2;
  auVar23 = minps(*(undefined1 (*) [16])p_Var11,auVar23);
  *(undefined1 (*) [16])p_Var11 = auVar23;
  auVar24 = maxps(*(undefined1 (*) [16])(p_Var11 + 0x10),auVar24);
  *(undefined1 (*) [16])(p_Var11 + 0x10) = auVar24;
  return this;
}



/* embree::PrimInfoT<embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::parallel_reduce<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4} const&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}
   const&)::{lambda(embree::range<unsigned long>)#1}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::parallel_reduce<unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#4}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4} const&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}
   const&)::{lambda(embree::range<unsigned long>)#1} const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5} const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::parallel_reduce<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>(unsigned_long,unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_const&)::_lambda(embree::range<unsigned_long>)_1_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,PrimInfoT_conflict *param_5
                ,_lambda_embree__range<unsigned_long>__1_ *param_6,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
                *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  long lVar5;
  long lVar6;
  long in_FS_OFFSET;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  ulong local_20d8;
  ulong local_20d0;
  ulong local_20c8;
  ulong **local_20c0;
  ulong **local_20b8;
  ulong *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  undefined1 (*local_2098) [16];
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
  *local_2090;
  undefined1 local_2080 [8160];
  undefined1 (*local_a0) [16];
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20d8 = param_4;
  local_20d0 = param_3;
  local_20c8 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20c8) {
    local_20c8 = 0x200;
  }
  if (uVar2 < local_20c8) {
    local_20c8 = uVar2;
  }
  local_98 = local_20c8;
  if (local_20c8 * 0x50 < 0x2001) {
    local_a0 = (undefined1 (*) [16])local_2080;
  }
  else {
    local_a0 = (undefined1 (*) [16])embree::alignedMalloc(local_20c8 * 0x50,0x40);
  }
  local_20b0 = &local_20d0;
  local_20a8 = &local_20d8;
  local_20a0 = &local_20c8;
  local_2090 = param_7;
  local_2098 = (undefined1 (*) [16])local_2080;
  if (local_20c8 == 0) {
    uVar1 = *(undefined8 *)(param_6 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_6 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
    *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_6 + 0x40);
    *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_6 + 0x48);
  }
  else {
    local_20b8 = &local_20b0;
    local_20c0 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_15parallel_reduceImS8_ZNS_4sse219BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMiILi4EEEE5buildEvEUlRKNS_5rangeImEEE2_ZNSF_5buildEvEUlRKS8_SM_E3_EET0_T_SP_RKSO_RKT1_RKT2_EUlSH_E_SN_EESO_SP_SP_SP_SP_SR_SU_SX_EUlmE_EEvSP_SR_EUlSJ_E_EEvSP_SP_SP_SR_PNS0_16TaskGroupContextE
              (0,local_20c8,1,&local_20b8,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != (ulong **)0x0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20b8);
      goto LAB_0010eb19;
    }
    auVar8 = *(undefined1 (*) [16])param_6;
    *(undefined1 (*) [16])param_1 = auVar8;
    auVar7 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar9 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
    auVar10 = *(undefined1 (*) [16])(param_6 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
    lVar6 = *(long *)(param_6 + 0x40);
    lVar5 = *(long *)(param_6 + 0x48);
    *(long *)(param_1 + 0x40) = lVar6;
    *(long *)(param_1 + 0x48) = lVar5;
    if (local_20c8 != 0) {
      pauVar3 = local_a0;
      do {
        auVar8 = minps(auVar8,*pauVar3);
        auVar7 = maxps(auVar7,pauVar3[1]);
        pauVar4 = pauVar3 + 5;
        auVar9 = minps(auVar9,pauVar3[2]);
        auVar10 = maxps(auVar10,pauVar3[3]);
        lVar6 = lVar6 + *(long *)pauVar3[4];
        lVar5 = lVar5 + *(long *)(pauVar3[4] + 8);
        *(long *)(param_1 + 0x48) = lVar5;
        *(long *)(param_1 + 0x40) = lVar6;
        *(undefined1 (*) [16])param_1 = auVar8;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
        pauVar3 = pauVar4;
      } while (local_a0 + local_20c8 * 5 != pauVar4);
    }
  }
  if (local_a0 != (undefined1 (*) [16])local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_0010eb19:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
::
partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  long *plVar6;
  long *plVar7;
  int *piVar8;
  uint *puVar9;
  undefined8 uVar10;
  ulong uVar11;
  undefined1 (*pauVar12) [16];
  long lVar13;
  undefined1 (*pauVar14) [16];
  long lVar15;
  undefined1 (*pauVar16) [16];
  int iVar17;
  long lVar18;
  long lVar19;
  uint uVar20;
  ulong uVar21;
  undefined4 uVar22;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined1 auVar23 [16];
  undefined4 uVar26;
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 local_80 [16];
  undefined1 local_70 [16];
  
  plVar6 = *(long **)this;
  local_70._4_4_ = _LC11;
  local_70._0_4_ = _LC11;
  local_70._8_4_ = _LC11;
  local_70._12_4_ = _LC11;
  lVar13 = *plVar6;
  plVar7 = (long *)plVar6[2];
  auVar33._0_8_ = CONCAT44(_LC9,_LC9);
  auVar33._8_4_ = _LC9;
  auVar33._12_4_ = _LC9;
  lVar19 = 0;
  auVar29._4_4_ = _LC11;
  auVar29._0_4_ = _LC11;
  auVar29._8_4_ = _LC11;
  auVar29._12_4_ = _LC11;
  auVar34._4_4_ = _LC11;
  auVar34._0_4_ = _LC11;
  auVar34._8_4_ = _LC11;
  auVar34._12_4_ = _LC11;
  uVar21 = plVar6[1] * param_1;
  auVar35._8_4_ = _LC9;
  auVar35._0_8_ = auVar33._0_8_;
  auVar35._12_4_ = _LC9;
  local_80._4_4_ = _LC11;
  local_80._0_4_ = _LC11;
  local_80._8_4_ = _LC11;
  local_80._12_4_ = _LC11;
  auVar31._8_4_ = _LC9;
  auVar31._0_8_ = auVar33._0_8_;
  auVar31._12_4_ = _LC9;
  uVar11 = uVar21 / (ulong)plVar6[6];
  lVar18 = 1;
  pauVar14 = (undefined1 (*) [16])
             (lVar13 + -0x40 + ((plVar6[1] + uVar21) / (ulong)plVar6[6]) * 0x40);
  pauVar12 = (undefined1 (*) [16])(uVar11 * 0x40 + lVar13);
  uVar22 = _LC9;
  uVar24 = _LC9;
  uVar25 = _LC9;
  uVar26 = _LC9;
  do {
    if (pauVar14 < pauVar12) {
LAB_0010edc3:
      *(ulong *)(*(long *)this + 0x40 + param_1 * 8) = uVar11;
      *(ulong *)(*(long *)this + 0x280 + param_1 * 8) = ((long)pauVar12 - lVar13 >> 6) - uVar11;
      lVar13 = param_1 * 0x50;
      pauVar14 = (undefined1 (*) [16])(*(long *)this + 0xcc0 + lVar13);
      lVar15 = *(long *)this + lVar13;
      pauVar14[3] = auVar29;
      *pauVar14 = auVar35;
      pauVar14[1] = auVar34;
      pauVar14[2] = auVar31;
      *(undefined8 *)(lVar15 + 0xd00) = 0;
      *(long *)(lVar15 + 0xd08) = lVar18 + -1;
      puVar1 = (undefined4 *)(*(long *)this + 0x20c0 + lVar13);
      lVar13 = lVar13 + *(long *)this;
      *puVar1 = uVar22;
      puVar1[1] = uVar24;
      puVar1[2] = uVar25;
      puVar1[3] = uVar26;
      *(undefined8 *)(puVar1 + 4) = local_70._0_8_;
      *(undefined8 *)(puVar1 + 6) = local_70._8_8_;
      *(undefined1 (*) [16])(puVar1 + 8) = auVar33;
      puVar1[0xc] = local_80._0_4_;
      puVar1[0xd] = local_80._4_4_;
      puVar1[0xe] = local_80._8_4_;
      puVar1[0xf] = local_80._12_4_;
      *(undefined8 *)(lVar13 + 0x2100) = 0;
      *(long *)(lVar13 + 0x2108) = lVar19;
      return;
    }
    auVar3 = pauVar12[1];
    auVar4 = *pauVar12;
    lVar15 = *plVar7;
    auVar27._0_4_ = auVar3._0_4_ + auVar4._0_4_;
    auVar27._4_4_ = auVar3._4_4_ + auVar4._4_4_;
    auVar27._8_4_ = auVar3._8_4_ + auVar4._8_4_;
    auVar27._12_4_ = auVar3._12_4_ + auVar4._12_4_;
    piVar8 = (int *)plVar7[1];
    puVar9 = (uint *)plVar7[2];
    auVar23._0_4_ =
         -(uint)((int)((auVar27._0_4_ - *(float *)(lVar15 + 0x20)) * *(float *)(lVar15 + 0x30) +
                      _LC14) < *piVar8) & *puVar9;
    auVar23._4_4_ =
         -(uint)((int)((auVar27._4_4_ - *(float *)(lVar15 + 0x24)) * *(float *)(lVar15 + 0x34) +
                      _UNK_001336e4) < piVar8[1]) & puVar9[1];
    auVar23._8_4_ =
         -(uint)((int)((auVar27._8_4_ - *(float *)(lVar15 + 0x28)) * *(float *)(lVar15 + 0x38) +
                      _UNK_001336e8) < piVar8[2]) & puVar9[2];
    auVar23._12_4_ =
         -(uint)((int)((auVar27._12_4_ - *(float *)(lVar15 + 0x2c)) * *(float *)(lVar15 + 0x3c) +
                      _UNK_001336ec) < piVar8[3]) & puVar9[3];
    iVar17 = movmskps((int)puVar9,auVar23);
    if (iVar17 == 0) {
      auVar32._4_4_ = uVar24;
      auVar32._0_4_ = uVar22;
      auVar32._8_4_ = uVar25;
      auVar32._12_4_ = uVar26;
      pauVar16 = pauVar14;
      while( true ) {
        auVar23 = pauVar16[1];
        auVar5 = *pauVar16;
        lVar19 = lVar19 + 1;
        pauVar14 = pauVar16 + -4;
        auVar30._0_4_ = auVar23._0_4_ + auVar5._0_4_;
        auVar30._4_4_ = auVar23._4_4_ + auVar5._4_4_;
        auVar30._8_4_ = auVar23._8_4_ + auVar5._8_4_;
        auVar30._12_4_ = auVar23._12_4_ + auVar5._12_4_;
        auVar28._0_4_ =
             -(uint)((int)((auVar30._0_4_ - *(float *)(lVar15 + 0x20)) * *(float *)(lVar15 + 0x30) +
                          _LC14) < *piVar8) & *puVar9;
        auVar28._4_4_ =
             -(uint)((int)((auVar30._4_4_ - *(float *)(lVar15 + 0x24)) * *(float *)(lVar15 + 0x34) +
                          _UNK_001336e4) < piVar8[1]) & puVar9[1];
        auVar28._8_4_ =
             -(uint)((int)((auVar30._8_4_ - *(float *)(lVar15 + 0x28)) * *(float *)(lVar15 + 0x38) +
                          _UNK_001336e8) < piVar8[2]) & puVar9[2];
        auVar28._12_4_ =
             -(uint)((int)((auVar30._12_4_ - *(float *)(lVar15 + 0x2c)) * *(float *)(lVar15 + 0x3c)
                          + _UNK_001336ec) < piVar8[3]) & puVar9[3];
        uVar20 = movmskps((int)uVar21,auVar28);
        uVar21 = (ulong)uVar20;
        if (uVar20 != 0) break;
        auVar32 = minps(auVar32,auVar5);
        local_70 = maxps(local_70,auVar23);
        auVar33 = minps(auVar33,auVar30);
        local_80 = maxps(local_80,auVar30);
        pauVar16 = pauVar14;
        if (pauVar14 < pauVar12) {
          uVar22 = auVar32._0_4_;
          uVar24 = auVar32._4_4_;
          uVar25 = auVar32._8_4_;
          uVar26 = auVar32._12_4_;
          goto LAB_0010edc3;
        }
      }
      *pauVar12 = auVar5;
      auVar34 = maxps(auVar34,auVar23);
      auVar29 = maxps(auVar29,auVar30);
      auVar23 = minps(auVar32,auVar4);
      local_70 = maxps(local_70,auVar3);
      uVar21 = *(ulong *)pauVar12[2];
      local_80 = maxps(local_80,auVar27);
      auVar33 = minps(auVar33,auVar27);
      auVar35 = minps(auVar35,auVar5);
      uVar22 = auVar23._0_4_;
      uVar24 = auVar23._4_4_;
      uVar25 = auVar23._8_4_;
      uVar26 = auVar23._12_4_;
      uVar10 = *(undefined8 *)(pauVar16[1] + 8);
      auVar31 = minps(auVar31,auVar30);
      uVar2 = *(undefined4 *)(pauVar12[2] + 8);
      *(undefined8 *)pauVar12[1] = *(undefined8 *)pauVar16[1];
      *(undefined8 *)(pauVar12[1] + 8) = uVar10;
      *(undefined8 *)pauVar12[2] = *(undefined8 *)pauVar16[2];
      *(undefined4 *)(pauVar12[2] + 8) = *(undefined4 *)(pauVar16[2] + 8);
      *(ulong *)pauVar16[2] = uVar21;
      *pauVar16 = auVar4;
      pauVar16[1] = auVar3;
      *(undefined4 *)(pauVar16[2] + 8) = uVar2;
    }
    else {
      auVar35 = minps(auVar35,auVar4);
      auVar34 = maxps(auVar34,auVar3);
      auVar31 = minps(auVar31,auVar27);
      auVar29 = maxps(auVar29,auVar27);
    }
    pauVar12 = pauVar12 + 4;
    lVar18 = lVar18 + 1;
  } while( true );
}



/* embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#2}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
::
partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#2}::operator()(_lambda_unsigned_long__2_ *this,ulong param_1)

{
  undefined4 uVar1;
  long *plVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  long *plVar9;
  ulong uVar10;
  undefined8 *puVar11;
  undefined8 *puVar12;
  undefined8 *puVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  long lVar17;
  long lVar18;
  ulong uVar19;
  ulong uVar20;
  undefined8 *puVar21;
  long *plVar22;
  long *plVar23;
  
  plVar2 = *(long **)(this + 8);
  lVar18 = plVar2[0x98];
  uVar14 = param_1 * **(long **)this;
  uVar20 = plVar2[0x99] - lVar18;
  uVar10 = uVar14 / (ulong)plVar2[6];
  uVar16 = uVar10;
  if (uVar10 < uVar20) {
    plVar22 = plVar2 + 0x98;
  }
  else {
    plVar23 = plVar2 + 0x9a;
    do {
      plVar22 = plVar23;
      lVar18 = *plVar22;
      uVar16 = uVar16 - uVar20;
      uVar20 = plVar22[1] - lVar18;
      plVar23 = plVar22 + 2;
    } while (uVar20 <= uVar16);
  }
  lVar17 = plVar2[0x118];
  uVar19 = plVar2[0x119] - lVar17;
  uVar15 = uVar10;
  if (uVar10 < uVar19) {
    plVar23 = plVar2 + 0x118;
  }
  else {
    plVar9 = plVar2 + 0x11a;
    do {
      plVar23 = plVar9;
      lVar17 = *plVar23;
      uVar15 = uVar15 - uVar19;
      uVar19 = plVar23[1] - lVar17;
      plVar9 = plVar23 + 2;
    } while (uVar19 <= uVar15);
  }
  uVar20 = uVar20 - uVar16;
  uVar10 = (**(long **)this + uVar14) / (ulong)plVar2[6] - uVar10;
  uVar19 = uVar19 - uVar15;
  puVar13 = (undefined8 *)(*plVar2 + (lVar18 + uVar16) * 0x40);
  puVar21 = (undefined8 *)(*plVar2 + (lVar17 + uVar15) * 0x40);
  uVar16 = uVar10;
  if (uVar20 <= uVar10) {
    uVar16 = uVar20;
  }
  if (uVar19 < uVar16) {
    uVar16 = uVar19;
  }
  if (uVar10 == 0) {
    return;
  }
  do {
    if (uVar19 == 0) {
      uVar19 = plVar23[3] - plVar23[2];
      puVar21 = (undefined8 *)(plVar23[2] * 0x40 + *plVar2);
      uVar16 = uVar10;
      if (uVar19 <= uVar10) {
        uVar16 = uVar19;
      }
      if (uVar20 < uVar16) {
        uVar16 = uVar20;
      }
      plVar23 = plVar23 + 2;
    }
    uVar10 = uVar10 - uVar16;
    uVar20 = uVar20 - uVar16;
    uVar19 = uVar19 - uVar16;
    puVar11 = puVar13;
    puVar12 = puVar21;
    uVar14 = uVar16;
    if (uVar16 != 0) {
      do {
        uVar4 = puVar12[1];
        uVar5 = *puVar11;
        uVar6 = puVar11[1];
        uVar7 = puVar11[2];
        uVar8 = puVar11[3];
        uVar3 = puVar11[4];
        *puVar11 = *puVar12;
        puVar11[1] = uVar4;
        uVar4 = puVar12[3];
        uVar1 = *(undefined4 *)(puVar11 + 5);
        puVar11[2] = puVar12[2];
        puVar11[3] = uVar4;
        puVar11[4] = puVar12[4];
        *(undefined4 *)(puVar11 + 5) = *(undefined4 *)(puVar12 + 5);
        puVar12[4] = uVar3;
        *puVar12 = uVar5;
        puVar12[1] = uVar6;
        puVar12[2] = uVar7;
        puVar12[3] = uVar8;
        *(undefined4 *)(puVar12 + 5) = uVar1;
        uVar14 = uVar14 - 1;
        puVar11 = puVar11 + 8;
        puVar12 = puVar12 + 8;
      } while (uVar14 != 0);
      puVar21 = puVar21 + uVar16 * 8;
      puVar13 = puVar13 + uVar16 * 8;
      if (uVar10 == 0) {
        return;
      }
    }
    if (uVar20 == 0) {
      uVar20 = plVar22[3] - plVar22[2];
      puVar13 = (undefined8 *)(plVar22[2] * 0x40 + *plVar2);
      uVar16 = uVar19;
      if (uVar10 <= uVar19) {
        uVar16 = uVar10;
      }
      if (uVar20 < uVar16) {
        uVar16 = uVar20;
      }
      plVar22 = plVar22 + 2;
    }
    else {
      uVar16 = 0;
    }
  } while( true );
}



/* embree::PrimInfoT<embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::parallel_reduce<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4} const&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}
   const&)::{lambda(embree::range<unsigned long>)#1}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::parallel_reduce<unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#4}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4} const&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}
   const&)::{lambda(embree::range<unsigned long>)#1} const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5} const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::parallel_reduce<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>(unsigned_long,unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_const&)::_lambda(embree::range<unsigned_long>)_1_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,PrimInfoT_conflict *param_5
                ,_lambda_embree__range<unsigned_long>__1_ *param_6,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
                *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  long lVar5;
  long lVar6;
  long in_FS_OFFSET;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  ulong local_20d8;
  ulong local_20d0;
  ulong local_20c8;
  ulong **local_20c0;
  ulong **local_20b8;
  ulong *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  undefined1 (*local_2098) [16];
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
  *local_2090;
  undefined1 local_2080 [8160];
  undefined1 (*local_a0) [16];
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20d8 = param_4;
  local_20d0 = param_3;
  local_20c8 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20c8) {
    local_20c8 = 0x200;
  }
  if (uVar2 < local_20c8) {
    local_20c8 = uVar2;
  }
  local_98 = local_20c8;
  if (local_20c8 * 0x50 < 0x2001) {
    local_a0 = (undefined1 (*) [16])local_2080;
  }
  else {
    local_a0 = (undefined1 (*) [16])embree::alignedMalloc(local_20c8 * 0x50,0x40);
  }
  local_20b0 = &local_20d0;
  local_20a8 = &local_20d8;
  local_20a0 = &local_20c8;
  local_2090 = param_7;
  local_2098 = (undefined1 (*) [16])local_2080;
  if (local_20c8 == 0) {
    uVar1 = *(undefined8 *)(param_6 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_6 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
    *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_6 + 0x40);
    *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_6 + 0x48);
  }
  else {
    local_20b8 = &local_20b0;
    local_20c0 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_15parallel_reduceImS8_ZNS_4sse219BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMvILi4EEEE5buildEvEUlRKNS_5rangeImEEE2_ZNSF_5buildEvEUlRKS8_SM_E3_EET0_T_SP_RKSO_RKT1_RKT2_EUlSH_E_SN_EESO_SP_SP_SP_SP_SR_SU_SX_EUlmE_EEvSP_SR_EUlSJ_E_EEvSP_SP_SP_SR_PNS0_16TaskGroupContextE
              (0,local_20c8,1,&local_20b8,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != (ulong **)0x0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20b8);
      goto LAB_0010fae9;
    }
    auVar8 = *(undefined1 (*) [16])param_6;
    *(undefined1 (*) [16])param_1 = auVar8;
    auVar7 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar9 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
    auVar10 = *(undefined1 (*) [16])(param_6 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
    lVar6 = *(long *)(param_6 + 0x40);
    lVar5 = *(long *)(param_6 + 0x48);
    *(long *)(param_1 + 0x40) = lVar6;
    *(long *)(param_1 + 0x48) = lVar5;
    if (local_20c8 != 0) {
      pauVar3 = local_a0;
      do {
        auVar8 = minps(auVar8,*pauVar3);
        auVar7 = maxps(auVar7,pauVar3[1]);
        pauVar4 = pauVar3 + 5;
        auVar9 = minps(auVar9,pauVar3[2]);
        auVar10 = maxps(auVar10,pauVar3[3]);
        lVar6 = lVar6 + *(long *)pauVar3[4];
        lVar5 = lVar5 + *(long *)(pauVar3[4] + 8);
        *(long *)(param_1 + 0x48) = lVar5;
        *(long *)(param_1 + 0x40) = lVar6;
        *(undefined1 (*) [16])param_1 = auVar8;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
        pauVar3 = pauVar4;
      } while (local_a0 + local_20c8 * 5 != pauVar4);
    }
  }
  if (local_a0 != (undefined1 (*) [16])local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_0010fae9:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
::
partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  long *plVar6;
  long *plVar7;
  int *piVar8;
  uint *puVar9;
  undefined8 uVar10;
  ulong uVar11;
  undefined1 (*pauVar12) [16];
  long lVar13;
  undefined1 (*pauVar14) [16];
  long lVar15;
  undefined1 (*pauVar16) [16];
  int iVar17;
  long lVar18;
  long lVar19;
  uint uVar20;
  ulong uVar21;
  undefined4 uVar22;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined1 auVar23 [16];
  undefined4 uVar26;
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 local_80 [16];
  undefined1 local_70 [16];
  
  plVar6 = *(long **)this;
  local_70._4_4_ = _LC11;
  local_70._0_4_ = _LC11;
  local_70._8_4_ = _LC11;
  local_70._12_4_ = _LC11;
  lVar13 = *plVar6;
  plVar7 = (long *)plVar6[2];
  auVar33._0_8_ = CONCAT44(_LC9,_LC9);
  auVar33._8_4_ = _LC9;
  auVar33._12_4_ = _LC9;
  lVar19 = 0;
  auVar29._4_4_ = _LC11;
  auVar29._0_4_ = _LC11;
  auVar29._8_4_ = _LC11;
  auVar29._12_4_ = _LC11;
  auVar34._4_4_ = _LC11;
  auVar34._0_4_ = _LC11;
  auVar34._8_4_ = _LC11;
  auVar34._12_4_ = _LC11;
  uVar21 = plVar6[1] * param_1;
  auVar35._8_4_ = _LC9;
  auVar35._0_8_ = auVar33._0_8_;
  auVar35._12_4_ = _LC9;
  local_80._4_4_ = _LC11;
  local_80._0_4_ = _LC11;
  local_80._8_4_ = _LC11;
  local_80._12_4_ = _LC11;
  auVar31._8_4_ = _LC9;
  auVar31._0_8_ = auVar33._0_8_;
  auVar31._12_4_ = _LC9;
  uVar11 = uVar21 / (ulong)plVar6[6];
  lVar18 = 1;
  pauVar14 = (undefined1 (*) [16])
             (lVar13 + -0x40 + ((plVar6[1] + uVar21) / (ulong)plVar6[6]) * 0x40);
  pauVar12 = (undefined1 (*) [16])(uVar11 * 0x40 + lVar13);
  uVar22 = _LC9;
  uVar24 = _LC9;
  uVar25 = _LC9;
  uVar26 = _LC9;
  do {
    if (pauVar14 < pauVar12) {
LAB_0010fd93:
      *(ulong *)(*(long *)this + 0x40 + param_1 * 8) = uVar11;
      *(ulong *)(*(long *)this + 0x280 + param_1 * 8) = ((long)pauVar12 - lVar13 >> 6) - uVar11;
      lVar13 = param_1 * 0x50;
      pauVar14 = (undefined1 (*) [16])(*(long *)this + 0xcc0 + lVar13);
      lVar15 = *(long *)this + lVar13;
      pauVar14[3] = auVar29;
      *pauVar14 = auVar35;
      pauVar14[1] = auVar34;
      pauVar14[2] = auVar31;
      *(undefined8 *)(lVar15 + 0xd00) = 0;
      *(long *)(lVar15 + 0xd08) = lVar18 + -1;
      puVar1 = (undefined4 *)(*(long *)this + 0x20c0 + lVar13);
      lVar13 = lVar13 + *(long *)this;
      *puVar1 = uVar22;
      puVar1[1] = uVar24;
      puVar1[2] = uVar25;
      puVar1[3] = uVar26;
      *(undefined8 *)(puVar1 + 4) = local_70._0_8_;
      *(undefined8 *)(puVar1 + 6) = local_70._8_8_;
      *(undefined1 (*) [16])(puVar1 + 8) = auVar33;
      puVar1[0xc] = local_80._0_4_;
      puVar1[0xd] = local_80._4_4_;
      puVar1[0xe] = local_80._8_4_;
      puVar1[0xf] = local_80._12_4_;
      *(undefined8 *)(lVar13 + 0x2100) = 0;
      *(long *)(lVar13 + 0x2108) = lVar19;
      return;
    }
    auVar3 = pauVar12[1];
    auVar4 = *pauVar12;
    lVar15 = *plVar7;
    auVar27._0_4_ = auVar3._0_4_ + auVar4._0_4_;
    auVar27._4_4_ = auVar3._4_4_ + auVar4._4_4_;
    auVar27._8_4_ = auVar3._8_4_ + auVar4._8_4_;
    auVar27._12_4_ = auVar3._12_4_ + auVar4._12_4_;
    piVar8 = (int *)plVar7[1];
    puVar9 = (uint *)plVar7[2];
    auVar23._0_4_ =
         -(uint)((int)((auVar27._0_4_ - *(float *)(lVar15 + 0x20)) * *(float *)(lVar15 + 0x30) +
                      _LC14) < *piVar8) & *puVar9;
    auVar23._4_4_ =
         -(uint)((int)((auVar27._4_4_ - *(float *)(lVar15 + 0x24)) * *(float *)(lVar15 + 0x34) +
                      _UNK_001336e4) < piVar8[1]) & puVar9[1];
    auVar23._8_4_ =
         -(uint)((int)((auVar27._8_4_ - *(float *)(lVar15 + 0x28)) * *(float *)(lVar15 + 0x38) +
                      _UNK_001336e8) < piVar8[2]) & puVar9[2];
    auVar23._12_4_ =
         -(uint)((int)((auVar27._12_4_ - *(float *)(lVar15 + 0x2c)) * *(float *)(lVar15 + 0x3c) +
                      _UNK_001336ec) < piVar8[3]) & puVar9[3];
    iVar17 = movmskps((int)puVar9,auVar23);
    if (iVar17 == 0) {
      auVar32._4_4_ = uVar24;
      auVar32._0_4_ = uVar22;
      auVar32._8_4_ = uVar25;
      auVar32._12_4_ = uVar26;
      pauVar16 = pauVar14;
      while( true ) {
        auVar23 = pauVar16[1];
        auVar5 = *pauVar16;
        lVar19 = lVar19 + 1;
        pauVar14 = pauVar16 + -4;
        auVar30._0_4_ = auVar23._0_4_ + auVar5._0_4_;
        auVar30._4_4_ = auVar23._4_4_ + auVar5._4_4_;
        auVar30._8_4_ = auVar23._8_4_ + auVar5._8_4_;
        auVar30._12_4_ = auVar23._12_4_ + auVar5._12_4_;
        auVar28._0_4_ =
             -(uint)((int)((auVar30._0_4_ - *(float *)(lVar15 + 0x20)) * *(float *)(lVar15 + 0x30) +
                          _LC14) < *piVar8) & *puVar9;
        auVar28._4_4_ =
             -(uint)((int)((auVar30._4_4_ - *(float *)(lVar15 + 0x24)) * *(float *)(lVar15 + 0x34) +
                          _UNK_001336e4) < piVar8[1]) & puVar9[1];
        auVar28._8_4_ =
             -(uint)((int)((auVar30._8_4_ - *(float *)(lVar15 + 0x28)) * *(float *)(lVar15 + 0x38) +
                          _UNK_001336e8) < piVar8[2]) & puVar9[2];
        auVar28._12_4_ =
             -(uint)((int)((auVar30._12_4_ - *(float *)(lVar15 + 0x2c)) * *(float *)(lVar15 + 0x3c)
                          + _UNK_001336ec) < piVar8[3]) & puVar9[3];
        uVar20 = movmskps((int)uVar21,auVar28);
        uVar21 = (ulong)uVar20;
        if (uVar20 != 0) break;
        auVar32 = minps(auVar32,auVar5);
        local_70 = maxps(local_70,auVar23);
        auVar33 = minps(auVar33,auVar30);
        local_80 = maxps(local_80,auVar30);
        pauVar16 = pauVar14;
        if (pauVar14 < pauVar12) {
          uVar22 = auVar32._0_4_;
          uVar24 = auVar32._4_4_;
          uVar25 = auVar32._8_4_;
          uVar26 = auVar32._12_4_;
          goto LAB_0010fd93;
        }
      }
      *pauVar12 = auVar5;
      auVar34 = maxps(auVar34,auVar23);
      auVar29 = maxps(auVar29,auVar30);
      auVar23 = minps(auVar32,auVar4);
      local_70 = maxps(local_70,auVar3);
      uVar21 = *(ulong *)pauVar12[2];
      local_80 = maxps(local_80,auVar27);
      auVar33 = minps(auVar33,auVar27);
      auVar35 = minps(auVar35,auVar5);
      uVar22 = auVar23._0_4_;
      uVar24 = auVar23._4_4_;
      uVar25 = auVar23._8_4_;
      uVar26 = auVar23._12_4_;
      uVar10 = *(undefined8 *)(pauVar16[1] + 8);
      auVar31 = minps(auVar31,auVar30);
      uVar2 = *(undefined4 *)(pauVar12[2] + 8);
      *(undefined8 *)pauVar12[1] = *(undefined8 *)pauVar16[1];
      *(undefined8 *)(pauVar12[1] + 8) = uVar10;
      *(undefined8 *)pauVar12[2] = *(undefined8 *)pauVar16[2];
      *(undefined4 *)(pauVar12[2] + 8) = *(undefined4 *)(pauVar16[2] + 8);
      *(ulong *)pauVar16[2] = uVar21;
      *pauVar16 = auVar4;
      pauVar16[1] = auVar3;
      *(undefined4 *)(pauVar16[2] + 8) = uVar2;
    }
    else {
      auVar35 = minps(auVar35,auVar4);
      auVar34 = maxps(auVar34,auVar3);
      auVar31 = minps(auVar31,auVar27);
      auVar29 = maxps(auVar29,auVar27);
    }
    pauVar12 = pauVar12 + 4;
    lVar18 = lVar18 + 1;
  } while( true );
}



/* embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#2}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
::
partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#2}::operator()(_lambda_unsigned_long__2_ *this,ulong param_1)

{
  undefined4 uVar1;
  long *plVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  long *plVar9;
  ulong uVar10;
  undefined8 *puVar11;
  undefined8 *puVar12;
  undefined8 *puVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  long lVar17;
  long lVar18;
  ulong uVar19;
  ulong uVar20;
  undefined8 *puVar21;
  long *plVar22;
  long *plVar23;
  
  plVar2 = *(long **)(this + 8);
  lVar18 = plVar2[0x98];
  uVar14 = param_1 * **(long **)this;
  uVar20 = plVar2[0x99] - lVar18;
  uVar10 = uVar14 / (ulong)plVar2[6];
  uVar16 = uVar10;
  if (uVar10 < uVar20) {
    plVar22 = plVar2 + 0x98;
  }
  else {
    plVar23 = plVar2 + 0x9a;
    do {
      plVar22 = plVar23;
      lVar18 = *plVar22;
      uVar16 = uVar16 - uVar20;
      uVar20 = plVar22[1] - lVar18;
      plVar23 = plVar22 + 2;
    } while (uVar20 <= uVar16);
  }
  lVar17 = plVar2[0x118];
  uVar19 = plVar2[0x119] - lVar17;
  uVar15 = uVar10;
  if (uVar10 < uVar19) {
    plVar23 = plVar2 + 0x118;
  }
  else {
    plVar9 = plVar2 + 0x11a;
    do {
      plVar23 = plVar9;
      lVar17 = *plVar23;
      uVar15 = uVar15 - uVar19;
      uVar19 = plVar23[1] - lVar17;
      plVar9 = plVar23 + 2;
    } while (uVar19 <= uVar15);
  }
  uVar20 = uVar20 - uVar16;
  uVar10 = (**(long **)this + uVar14) / (ulong)plVar2[6] - uVar10;
  uVar19 = uVar19 - uVar15;
  puVar13 = (undefined8 *)(*plVar2 + (lVar18 + uVar16) * 0x40);
  puVar21 = (undefined8 *)(*plVar2 + (lVar17 + uVar15) * 0x40);
  uVar16 = uVar10;
  if (uVar20 <= uVar10) {
    uVar16 = uVar20;
  }
  if (uVar19 < uVar16) {
    uVar16 = uVar19;
  }
  if (uVar10 == 0) {
    return;
  }
  do {
    if (uVar19 == 0) {
      uVar19 = plVar23[3] - plVar23[2];
      puVar21 = (undefined8 *)(plVar23[2] * 0x40 + *plVar2);
      uVar16 = uVar10;
      if (uVar19 <= uVar10) {
        uVar16 = uVar19;
      }
      if (uVar20 < uVar16) {
        uVar16 = uVar20;
      }
      plVar23 = plVar23 + 2;
    }
    uVar10 = uVar10 - uVar16;
    uVar20 = uVar20 - uVar16;
    uVar19 = uVar19 - uVar16;
    puVar11 = puVar13;
    puVar12 = puVar21;
    uVar14 = uVar16;
    if (uVar16 != 0) {
      do {
        uVar4 = puVar12[1];
        uVar5 = *puVar11;
        uVar6 = puVar11[1];
        uVar7 = puVar11[2];
        uVar8 = puVar11[3];
        uVar3 = puVar11[4];
        *puVar11 = *puVar12;
        puVar11[1] = uVar4;
        uVar4 = puVar12[3];
        uVar1 = *(undefined4 *)(puVar11 + 5);
        puVar11[2] = puVar12[2];
        puVar11[3] = uVar4;
        puVar11[4] = puVar12[4];
        *(undefined4 *)(puVar11 + 5) = *(undefined4 *)(puVar12 + 5);
        puVar12[4] = uVar3;
        *puVar12 = uVar5;
        puVar12[1] = uVar6;
        puVar12[2] = uVar7;
        puVar12[3] = uVar8;
        *(undefined4 *)(puVar12 + 5) = uVar1;
        uVar14 = uVar14 - 1;
        puVar11 = puVar11 + 8;
        puVar12 = puVar12 + 8;
      } while (uVar14 != 0);
      puVar21 = puVar21 + uVar16 * 8;
      puVar13 = puVar13 + uVar16 * 8;
      if (uVar10 == 0) {
        return;
      }
    }
    if (uVar20 == 0) {
      uVar20 = plVar22[3] - plVar22[2];
      puVar13 = (undefined8 *)(plVar22[2] * 0x40 + *plVar2);
      uVar16 = uVar19;
      if (uVar10 <= uVar19) {
        uVar16 = uVar10;
      }
      if (uVar20 < uVar16) {
        uVar16 = uVar20;
      }
      plVar22 = plVar22 + 2;
    }
    else {
      uVar16 = 0;
    }
  } while( true );
}



/* embree::PrimInfoT<embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::parallel_reduce<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4} const&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}
   const&)::{lambda(embree::range<unsigned long>)#1}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::parallel_reduce<unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::range<unsigned long> const&)#4}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}>(unsigned long, unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(embree::range<unsigned long>
   const&)#4} const&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5}
   const&)::{lambda(embree::range<unsigned long>)#1} const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#5} const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::parallel_reduce<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>(unsigned_long,unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_const&)::_lambda(embree::range<unsigned_long>)_1_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,PrimInfoT_conflict *param_5
                ,_lambda_embree__range<unsigned_long>__1_ *param_6,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
                *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  long lVar5;
  long lVar6;
  long in_FS_OFFSET;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  ulong local_20d8;
  ulong local_20d0;
  ulong local_20c8;
  ulong **local_20c0;
  ulong **local_20b8;
  ulong *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  undefined1 (*local_2098) [16];
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
  *local_2090;
  undefined1 local_2080 [8160];
  undefined1 (*local_a0) [16];
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20d8 = param_4;
  local_20d0 = param_3;
  local_20c8 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20c8) {
    local_20c8 = 0x200;
  }
  if (uVar2 < local_20c8) {
    local_20c8 = uVar2;
  }
  local_98 = local_20c8;
  if (local_20c8 * 0x50 < 0x2001) {
    local_a0 = (undefined1 (*) [16])local_2080;
  }
  else {
    local_a0 = (undefined1 (*) [16])embree::alignedMalloc(local_20c8 * 0x50,0x40);
  }
  local_20b0 = &local_20d0;
  local_20a8 = &local_20d8;
  local_20a0 = &local_20c8;
  local_2090 = param_7;
  local_2098 = (undefined1 (*) [16])local_2080;
  if (local_20c8 == 0) {
    uVar1 = *(undefined8 *)(param_6 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_6 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
    *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_6 + 0x40);
    *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_6 + 0x48);
  }
  else {
    local_20b8 = &local_20b0;
    local_20c0 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_15parallel_reduceImS8_ZNS_4sse219BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_9TriangleMILi4EEEE5buildEvEUlRKNS_5rangeImEEE2_ZNSF_5buildEvEUlRKS8_SM_E3_EET0_T_SP_RKSO_RKT1_RKT2_EUlSH_E_SN_EESO_SP_SP_SP_SP_SR_SU_SX_EUlmE_EEvSP_SR_EUlSJ_E_EEvSP_SP_SP_SR_PNS0_16TaskGroupContextE
              (0,local_20c8,1,&local_20b8,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != (ulong **)0x0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20b8);
      goto LAB_00110ab9;
    }
    auVar8 = *(undefined1 (*) [16])param_6;
    *(undefined1 (*) [16])param_1 = auVar8;
    auVar7 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar9 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
    auVar10 = *(undefined1 (*) [16])(param_6 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
    lVar6 = *(long *)(param_6 + 0x40);
    lVar5 = *(long *)(param_6 + 0x48);
    *(long *)(param_1 + 0x40) = lVar6;
    *(long *)(param_1 + 0x48) = lVar5;
    if (local_20c8 != 0) {
      pauVar3 = local_a0;
      do {
        auVar8 = minps(auVar8,*pauVar3);
        auVar7 = maxps(auVar7,pauVar3[1]);
        pauVar4 = pauVar3 + 5;
        auVar9 = minps(auVar9,pauVar3[2]);
        auVar10 = maxps(auVar10,pauVar3[3]);
        lVar6 = lVar6 + *(long *)pauVar3[4];
        lVar5 = lVar5 + *(long *)(pauVar3[4] + 8);
        *(long *)(param_1 + 0x48) = lVar5;
        *(long *)(param_1 + 0x40) = lVar6;
        *(undefined1 (*) [16])param_1 = auVar8;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
        pauVar3 = pauVar4;
      } while (local_a0 + local_20c8 * 5 != pauVar4);
    }
  }
  if (local_a0 != (undefined1 (*) [16])local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_00110ab9:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambd...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
::
partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined4 *puVar1;
  undefined4 uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  long *plVar6;
  long *plVar7;
  int *piVar8;
  uint *puVar9;
  undefined8 uVar10;
  ulong uVar11;
  undefined1 (*pauVar12) [16];
  long lVar13;
  undefined1 (*pauVar14) [16];
  long lVar15;
  undefined1 (*pauVar16) [16];
  int iVar17;
  long lVar18;
  long lVar19;
  uint uVar20;
  ulong uVar21;
  undefined4 uVar22;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined1 auVar23 [16];
  undefined4 uVar26;
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 local_80 [16];
  undefined1 local_70 [16];
  
  plVar6 = *(long **)this;
  local_70._4_4_ = _LC11;
  local_70._0_4_ = _LC11;
  local_70._8_4_ = _LC11;
  local_70._12_4_ = _LC11;
  lVar13 = *plVar6;
  plVar7 = (long *)plVar6[2];
  auVar33._0_8_ = CONCAT44(_LC9,_LC9);
  auVar33._8_4_ = _LC9;
  auVar33._12_4_ = _LC9;
  lVar19 = 0;
  auVar29._4_4_ = _LC11;
  auVar29._0_4_ = _LC11;
  auVar29._8_4_ = _LC11;
  auVar29._12_4_ = _LC11;
  auVar34._4_4_ = _LC11;
  auVar34._0_4_ = _LC11;
  auVar34._8_4_ = _LC11;
  auVar34._12_4_ = _LC11;
  uVar21 = plVar6[1] * param_1;
  auVar35._8_4_ = _LC9;
  auVar35._0_8_ = auVar33._0_8_;
  auVar35._12_4_ = _LC9;
  local_80._4_4_ = _LC11;
  local_80._0_4_ = _LC11;
  local_80._8_4_ = _LC11;
  local_80._12_4_ = _LC11;
  auVar31._8_4_ = _LC9;
  auVar31._0_8_ = auVar33._0_8_;
  auVar31._12_4_ = _LC9;
  uVar11 = uVar21 / (ulong)plVar6[6];
  lVar18 = 1;
  pauVar14 = (undefined1 (*) [16])
             (lVar13 + -0x40 + ((plVar6[1] + uVar21) / (ulong)plVar6[6]) * 0x40);
  pauVar12 = (undefined1 (*) [16])(uVar11 * 0x40 + lVar13);
  uVar22 = _LC9;
  uVar24 = _LC9;
  uVar25 = _LC9;
  uVar26 = _LC9;
  do {
    if (pauVar14 < pauVar12) {
LAB_00110d63:
      *(ulong *)(*(long *)this + 0x40 + param_1 * 8) = uVar11;
      *(ulong *)(*(long *)this + 0x280 + param_1 * 8) = ((long)pauVar12 - lVar13 >> 6) - uVar11;
      lVar13 = param_1 * 0x50;
      pauVar14 = (undefined1 (*) [16])(*(long *)this + 0xcc0 + lVar13);
      lVar15 = *(long *)this + lVar13;
      pauVar14[3] = auVar29;
      *pauVar14 = auVar35;
      pauVar14[1] = auVar34;
      pauVar14[2] = auVar31;
      *(undefined8 *)(lVar15 + 0xd00) = 0;
      *(long *)(lVar15 + 0xd08) = lVar18 + -1;
      puVar1 = (undefined4 *)(*(long *)this + 0x20c0 + lVar13);
      lVar13 = lVar13 + *(long *)this;
      *puVar1 = uVar22;
      puVar1[1] = uVar24;
      puVar1[2] = uVar25;
      puVar1[3] = uVar26;
      *(undefined8 *)(puVar1 + 4) = local_70._0_8_;
      *(undefined8 *)(puVar1 + 6) = local_70._8_8_;
      *(undefined1 (*) [16])(puVar1 + 8) = auVar33;
      puVar1[0xc] = local_80._0_4_;
      puVar1[0xd] = local_80._4_4_;
      puVar1[0xe] = local_80._8_4_;
      puVar1[0xf] = local_80._12_4_;
      *(undefined8 *)(lVar13 + 0x2100) = 0;
      *(long *)(lVar13 + 0x2108) = lVar19;
      return;
    }
    auVar3 = pauVar12[1];
    auVar4 = *pauVar12;
    lVar15 = *plVar7;
    auVar27._0_4_ = auVar3._0_4_ + auVar4._0_4_;
    auVar27._4_4_ = auVar3._4_4_ + auVar4._4_4_;
    auVar27._8_4_ = auVar3._8_4_ + auVar4._8_4_;
    auVar27._12_4_ = auVar3._12_4_ + auVar4._12_4_;
    piVar8 = (int *)plVar7[1];
    puVar9 = (uint *)plVar7[2];
    auVar23._0_4_ =
         -(uint)((int)((auVar27._0_4_ - *(float *)(lVar15 + 0x20)) * *(float *)(lVar15 + 0x30) +
                      _LC14) < *piVar8) & *puVar9;
    auVar23._4_4_ =
         -(uint)((int)((auVar27._4_4_ - *(float *)(lVar15 + 0x24)) * *(float *)(lVar15 + 0x34) +
                      _UNK_001336e4) < piVar8[1]) & puVar9[1];
    auVar23._8_4_ =
         -(uint)((int)((auVar27._8_4_ - *(float *)(lVar15 + 0x28)) * *(float *)(lVar15 + 0x38) +
                      _UNK_001336e8) < piVar8[2]) & puVar9[2];
    auVar23._12_4_ =
         -(uint)((int)((auVar27._12_4_ - *(float *)(lVar15 + 0x2c)) * *(float *)(lVar15 + 0x3c) +
                      _UNK_001336ec) < piVar8[3]) & puVar9[3];
    iVar17 = movmskps((int)puVar9,auVar23);
    if (iVar17 == 0) {
      auVar32._4_4_ = uVar24;
      auVar32._0_4_ = uVar22;
      auVar32._8_4_ = uVar25;
      auVar32._12_4_ = uVar26;
      pauVar16 = pauVar14;
      while( true ) {
        auVar23 = pauVar16[1];
        auVar5 = *pauVar16;
        lVar19 = lVar19 + 1;
        pauVar14 = pauVar16 + -4;
        auVar30._0_4_ = auVar23._0_4_ + auVar5._0_4_;
        auVar30._4_4_ = auVar23._4_4_ + auVar5._4_4_;
        auVar30._8_4_ = auVar23._8_4_ + auVar5._8_4_;
        auVar30._12_4_ = auVar23._12_4_ + auVar5._12_4_;
        auVar28._0_4_ =
             -(uint)((int)((auVar30._0_4_ - *(float *)(lVar15 + 0x20)) * *(float *)(lVar15 + 0x30) +
                          _LC14) < *piVar8) & *puVar9;
        auVar28._4_4_ =
             -(uint)((int)((auVar30._4_4_ - *(float *)(lVar15 + 0x24)) * *(float *)(lVar15 + 0x34) +
                          _UNK_001336e4) < piVar8[1]) & puVar9[1];
        auVar28._8_4_ =
             -(uint)((int)((auVar30._8_4_ - *(float *)(lVar15 + 0x28)) * *(float *)(lVar15 + 0x38) +
                          _UNK_001336e8) < piVar8[2]) & puVar9[2];
        auVar28._12_4_ =
             -(uint)((int)((auVar30._12_4_ - *(float *)(lVar15 + 0x2c)) * *(float *)(lVar15 + 0x3c)
                          + _UNK_001336ec) < piVar8[3]) & puVar9[3];
        uVar20 = movmskps((int)uVar21,auVar28);
        uVar21 = (ulong)uVar20;
        if (uVar20 != 0) break;
        auVar32 = minps(auVar32,auVar5);
        local_70 = maxps(local_70,auVar23);
        auVar33 = minps(auVar33,auVar30);
        local_80 = maxps(local_80,auVar30);
        pauVar16 = pauVar14;
        if (pauVar14 < pauVar12) {
          uVar22 = auVar32._0_4_;
          uVar24 = auVar32._4_4_;
          uVar25 = auVar32._8_4_;
          uVar26 = auVar32._12_4_;
          goto LAB_00110d63;
        }
      }
      *pauVar12 = auVar5;
      auVar34 = maxps(auVar34,auVar23);
      auVar29 = maxps(auVar29,auVar30);
      auVar23 = minps(auVar32,auVar4);
      local_70 = maxps(local_70,auVar3);
      uVar21 = *(ulong *)pauVar12[2];
      local_80 = maxps(local_80,auVar27);
      auVar33 = minps(auVar33,auVar27);
      auVar35 = minps(auVar35,auVar5);
      uVar22 = auVar23._0_4_;
      uVar24 = auVar23._4_4_;
      uVar25 = auVar23._8_4_;
      uVar26 = auVar23._12_4_;
      uVar10 = *(undefined8 *)(pauVar16[1] + 8);
      auVar31 = minps(auVar31,auVar30);
      uVar2 = *(undefined4 *)(pauVar12[2] + 8);
      *(undefined8 *)pauVar12[1] = *(undefined8 *)pauVar16[1];
      *(undefined8 *)(pauVar12[1] + 8) = uVar10;
      *(undefined8 *)pauVar12[2] = *(undefined8 *)pauVar16[2];
      *(undefined4 *)(pauVar12[2] + 8) = *(undefined4 *)(pauVar16[2] + 8);
      *(ulong *)pauVar16[2] = uVar21;
      *pauVar16 = auVar4;
      pauVar16[1] = auVar3;
      *(undefined4 *)(pauVar16[2] + 8) = uVar2;
    }
    else {
      auVar35 = minps(auVar35,auVar4);
      auVar34 = maxps(auVar34,auVar3);
      auVar31 = minps(auVar31,auVar27);
      auVar29 = maxps(auVar29,auVar27);
    }
    pauVar12 = pauVar12 + 4;
    lVar18 = lVar18 + 1;
  } while( true );
}



/* embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#2}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambd...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
::
partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#2}::operator()(_lambda_unsigned_long__2_ *this,ulong param_1)

{
  undefined4 uVar1;
  long *plVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  long *plVar9;
  ulong uVar10;
  undefined8 *puVar11;
  undefined8 *puVar12;
  undefined8 *puVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  long lVar17;
  long lVar18;
  ulong uVar19;
  ulong uVar20;
  undefined8 *puVar21;
  long *plVar22;
  long *plVar23;
  
  plVar2 = *(long **)(this + 8);
  lVar18 = plVar2[0x98];
  uVar14 = param_1 * **(long **)this;
  uVar20 = plVar2[0x99] - lVar18;
  uVar10 = uVar14 / (ulong)plVar2[6];
  uVar16 = uVar10;
  if (uVar10 < uVar20) {
    plVar22 = plVar2 + 0x98;
  }
  else {
    plVar23 = plVar2 + 0x9a;
    do {
      plVar22 = plVar23;
      lVar18 = *plVar22;
      uVar16 = uVar16 - uVar20;
      uVar20 = plVar22[1] - lVar18;
      plVar23 = plVar22 + 2;
    } while (uVar20 <= uVar16);
  }
  lVar17 = plVar2[0x118];
  uVar19 = plVar2[0x119] - lVar17;
  uVar15 = uVar10;
  if (uVar10 < uVar19) {
    plVar23 = plVar2 + 0x118;
  }
  else {
    plVar9 = plVar2 + 0x11a;
    do {
      plVar23 = plVar9;
      lVar17 = *plVar23;
      uVar15 = uVar15 - uVar19;
      uVar19 = plVar23[1] - lVar17;
      plVar9 = plVar23 + 2;
    } while (uVar19 <= uVar15);
  }
  uVar20 = uVar20 - uVar16;
  uVar10 = (**(long **)this + uVar14) / (ulong)plVar2[6] - uVar10;
  uVar19 = uVar19 - uVar15;
  puVar13 = (undefined8 *)(*plVar2 + (lVar18 + uVar16) * 0x40);
  puVar21 = (undefined8 *)(*plVar2 + (lVar17 + uVar15) * 0x40);
  uVar16 = uVar10;
  if (uVar20 <= uVar10) {
    uVar16 = uVar20;
  }
  if (uVar19 < uVar16) {
    uVar16 = uVar19;
  }
  if (uVar10 == 0) {
    return;
  }
  do {
    if (uVar19 == 0) {
      uVar19 = plVar23[3] - plVar23[2];
      puVar21 = (undefined8 *)(plVar23[2] * 0x40 + *plVar2);
      uVar16 = uVar10;
      if (uVar19 <= uVar10) {
        uVar16 = uVar19;
      }
      if (uVar20 < uVar16) {
        uVar16 = uVar20;
      }
      plVar23 = plVar23 + 2;
    }
    uVar10 = uVar10 - uVar16;
    uVar20 = uVar20 - uVar16;
    uVar19 = uVar19 - uVar16;
    puVar11 = puVar13;
    puVar12 = puVar21;
    uVar14 = uVar16;
    if (uVar16 != 0) {
      do {
        uVar4 = puVar12[1];
        uVar5 = *puVar11;
        uVar6 = puVar11[1];
        uVar7 = puVar11[2];
        uVar8 = puVar11[3];
        uVar3 = puVar11[4];
        *puVar11 = *puVar12;
        puVar11[1] = uVar4;
        uVar4 = puVar12[3];
        uVar1 = *(undefined4 *)(puVar11 + 5);
        puVar11[2] = puVar12[2];
        puVar11[3] = uVar4;
        puVar11[4] = puVar12[4];
        *(undefined4 *)(puVar11 + 5) = *(undefined4 *)(puVar12 + 5);
        puVar12[4] = uVar3;
        *puVar12 = uVar5;
        puVar12[1] = uVar6;
        puVar12[2] = uVar7;
        puVar12[3] = uVar8;
        *(undefined4 *)(puVar12 + 5) = uVar1;
        uVar14 = uVar14 - 1;
        puVar11 = puVar11 + 8;
        puVar12 = puVar12 + 8;
      } while (uVar14 != 0);
      puVar21 = puVar21 + uVar16 * 8;
      puVar13 = puVar13 + uVar16 * 8;
      if (uVar10 == 0) {
        return;
      }
    }
    if (uVar20 == 0) {
      uVar20 = plVar22[3] - plVar22[2];
      puVar13 = (undefined8 *)(plVar22[2] * 0x40 + *plVar2);
      uVar16 = uVar19;
      if (uVar10 <= uVar19) {
        uVar16 = uVar10;
      }
      if (uVar20 < uVar16) {
        uVar16 = uVar20;
      }
      plVar22 = plVar22 + 2;
    }
    else {
      uVar16 = 0;
    }
  } while( true );
}



/* unsigned long embree::parallel_reduce_internal<unsigned long, unsigned long,
   embree::parallel_reduce<unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::resizeRefsList()::{lambda(embree::range<unsigned
   long> const&)#1}, std::plus<unsigned long> >(unsigned long, unsigned long, unsigned long const&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::resizeRefsList()::{lambda(embree::range<unsigned long> const&)#1} const&, std::plus<unsigned
   long> const&)::{lambda(embree::range<unsigned long>)#1}, std::plus<unsigned long> >(unsigned
   long, unsigned long, unsigned long, unsigned long, unsigned long const&,
   embree::parallel_reduce<unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::resizeRefsList()::{lambda(embree::range<unsigned
   long> const&)#1}, std::plus<unsigned long> >(unsigned long, unsigned long, unsigned long const&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::resizeRefsList()::{lambda(embree::range<unsigned long> const&)#1} const&, std::plus<unsigned
   long> const&)::{lambda(embree::range<unsigned long>)#1} const&, std::plus<unsigned long> const&)
   [clone .isra.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,unsigned_long,embree::parallel_reduce<unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_,std::plus<unsigned_long>>(unsigned_long,unsigned_long,unsigned_long_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_const&,std::plus<unsigned_long>const&)::_lambda(embree::range<unsigned_long>)_1_,std::plus<unsigned_long>>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,ulong *param_5,
                _lambda_embree__range<unsigned_long>__1_ *param_6,plus *param_7)

{
  ulong uVar1;
  long *plVar2;
  long in_FS_OFFSET;
  ulong local_2118;
  ulong local_2110;
  ulong local_2108;
  long local_2100;
  long local_20f8;
  ulong *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  long *local_20d8;
  ulong *local_20d0;
  long local_20c0 [1024];
  long *local_c0;
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2118 = param_3;
  local_2110 = param_2;
  local_2108 = param_1;
  uVar1 = embree::TaskScheduler::threadCount();
  if (local_2108 < uVar1) {
    uVar1 = local_2108;
  }
  local_20f0 = &local_2110;
  local_20e8 = &local_2118;
  local_20e0 = &local_2108;
  local_2108 = 0x200;
  if (uVar1 < 0x201) {
    local_2108 = uVar1;
  }
  local_20d8 = local_20c0;
  local_20d0 = param_5;
  local_c0 = local_20c0;
  local_b8 = local_2108;
  if (uVar1 == 0) {
    uVar1 = *(ulong *)param_4;
  }
  else {
    local_2100 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImmZNS_15parallel_reduceImmZNS_4sse219BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMiILi4EEEE14resizeRefsListEvEUlRKNS_5rangeImEEE_St4plusImEEET0_T_SJ_RKSI_RKT1_RKT2_EUlSC_E_SH_EESI_SJ_SJ_SJ_SJ_SL_SO_SR_EUlmE_EEvSJ_SL_EUlSE_E_EEvSJ_SJ_SJ_SL_PNS0_16TaskGroupContextE_isra_0
              (0,local_2108,1,&local_20f0,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != 0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20f8);
      goto LAB_0011193b;
    }
    uVar1 = *(ulong *)param_4;
    if (local_2108 != 0) {
      plVar2 = local_c0;
      do {
        uVar1 = uVar1 + *plVar2;
        plVar2 = plVar2 + 1;
      } while (plVar2 != local_c0 + local_2108);
    }
  }
  if (local_c0 != local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar1;
  }
LAB_0011193b:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::resizeRefsList() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::resizeRefsList
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  undefined4 uVar1;
  undefined8 *puVar2;
  undefined8 uVar3;
  ulong uVar4;
  long lVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  _lambda_embree__range<unsigned_long>__1_ *in_R9;
  ulong uVar8;
  ulong uVar9;
  long in_FS_OFFSET;
  plus *in_stack_ffffffffffffff98;
  undefined1 local_59;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **local_38;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_40 = &local_59;
  local_48 = &local_50;
  local_38 = &local_58;
  uVar4 = *(ulong *)(*(long *)(this + 0x30) + 0x1d0);
  local_50 = 0;
  local_58 = this;
  if (uVar4 == 1) {
    lVar5 = **(long **)(*(long *)(this + 0x30) + 0x1e0);
    if (((lVar5 == 0) || (*(char *)(lVar5 + 0x3c) != '\x14')) || (*(int *)(lVar5 + 0x24) != 1))
    goto LAB_001119bf;
    uVar4 = 1;
    if (*(uint *)(lVar5 + 0x20) < 5) {
      uVar4 = (ulong)*(uint *)(lVar5 + 0x20) + 3 >> 2;
    }
  }
  else {
    uVar4 = parallel_reduce_internal<unsigned_long,unsigned_long,embree::parallel_reduce<unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_,std::plus<unsigned_long>>(unsigned_long,unsigned_long,unsigned_long_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_const&,std::plus<unsigned_long>const&)::_lambda(embree::range<unsigned_long>)_1_,std::plus<unsigned_long>>
                      (uVar4,0,uVar4,(ulong)local_48,(ulong *)&local_48,in_R9,
                       in_stack_ffffffffffffff98);
  }
  if (*(ulong *)(this + 0x48) < uVar4) {
    uVar8 = *(ulong *)(this + 0x50);
    if (uVar8 < uVar4) {
      uVar9 = uVar4;
      if (uVar8 != 0) {
        do {
          uVar8 = uVar8 * 2;
          if (uVar8 == 0) {
            uVar8 = 1;
          }
          uVar9 = uVar8;
        } while (uVar8 < uVar4);
      }
      puVar2 = *(undefined8 **)(this + 0x58);
      uVar8 = uVar9 << 6;
      (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar8,0);
      if (uVar8 < 0x1c00000) {
        lVar5 = embree::alignedMalloc(uVar8,0x20);
      }
      else {
        lVar5 = embree::os_malloc(uVar8,(bool *)(this + 0x40));
      }
      *(long *)(this + 0x58) = lVar5;
      if (*(long *)(this + 0x48) != 0) {
        uVar8 = 0;
        puVar7 = puVar2;
        while( true ) {
          uVar3 = puVar7[1];
          puVar6 = (undefined8 *)(lVar5 + uVar8 * 0x40);
          *puVar6 = *puVar7;
          puVar6[1] = uVar3;
          uVar3 = puVar7[3];
          puVar6[2] = puVar7[2];
          puVar6[3] = uVar3;
          uVar1 = *(undefined4 *)(puVar7 + 5);
          puVar6[4] = puVar7[4];
          *(undefined4 *)(puVar6 + 5) = uVar1;
          if (*(ulong *)(this + 0x48) <= uVar8 + 1) break;
          lVar5 = *(long *)(this + 0x58);
          uVar8 = uVar8 + 1;
          puVar7 = puVar7 + 8;
        }
      }
      lVar5 = *(long *)(this + 0x50);
      if (puVar2 != (undefined8 *)0x0) {
        if ((ulong)(lVar5 << 6) < 0x1c00000) {
          embree::alignedFree(puVar2);
        }
        else {
          embree::os_free(puVar2,lVar5 << 6,(bool)this[0x40]);
        }
      }
      if (lVar5 != 0) {
        (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar5 * -0x40,1);
      }
      *(ulong *)(this + 0x48) = uVar4;
      *(ulong *)(this + 0x50) = uVar9;
    }
    else {
      *(ulong *)(this + 0x48) = uVar4;
    }
  }
LAB_001119bf:
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long,
   unsigned long, unsigned long, unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}
   const&)::{lambda(unsigned long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::{lambda(embree::range<unsigned_long>const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,emb...embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)#2}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  _lambda_embree__range<unsigned_long>const___1_ *p_Var1;
  undefined4 *puVar2;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  long lVar11;
  ulong uVar12;
  long lVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  long lVar15;
  undefined8 *puVar16;
  long in_FS_OFFSET;
  byte bVar17;
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [3072];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [504];
  undefined8 local_88;
  long local_48;
  
  bVar17 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var14 = local_e80;
  sse2::
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  ::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
  {lambda(embree::range<unsigned_long>const&)#1}::operator()(p_Var14,*(range **)(this + 0x20));
  lVar15 = param_1 * 0xe00 + *(long *)(*(long *)(this + 0x18) + 0x1c00);
  lVar13 = lVar15;
  do {
    lVar11 = 0;
    do {
      p_Var1 = p_Var14 + lVar11;
      uVar4 = *(undefined4 *)(p_Var1 + 4);
      uVar5 = *(undefined4 *)(p_Var1 + 8);
      uVar6 = *(undefined4 *)(p_Var1 + 0xc);
      p_Var3 = p_Var14 + lVar11 + 0x10;
      uVar7 = *(undefined4 *)p_Var3;
      uVar8 = *(undefined4 *)(p_Var3 + 4);
      uVar9 = *(undefined4 *)(p_Var3 + 8);
      uVar10 = *(undefined4 *)(p_Var3 + 0xc);
      puVar2 = (undefined4 *)(lVar13 + lVar11);
      *puVar2 = *(undefined4 *)p_Var1;
      puVar2[1] = uVar4;
      puVar2[2] = uVar5;
      puVar2[3] = uVar6;
      puVar2 = (undefined4 *)(lVar13 + 0x10 + lVar11);
      *puVar2 = uVar7;
      puVar2[1] = uVar8;
      puVar2[2] = uVar9;
      puVar2[3] = uVar10;
      lVar11 = lVar11 + 0x20;
    } while (lVar11 != 0x60);
    p_Var14 = p_Var14 + 0x60;
    lVar13 = lVar13 + 0x60;
  } while (p_Var14 != local_280);
  *(undefined8 *)(lVar15 + 0xc00) = *(undefined8 *)p_Var14;
  *(undefined8 *)(lVar15 + 0xdf8) = local_88;
  puVar16 = (undefined8 *)(lVar15 + 0xc08U & 0xfffffffffffffff8);
  lVar13 = (lVar15 + 0xc00) - (long)puVar16;
  p_Var14 = p_Var14 + -lVar13;
  for (uVar12 = (ulong)((int)lVar13 + 0x200U >> 3); uVar12 != 0; uVar12 = uVar12 - 1) {
    *puVar16 = *(undefined8 *)p_Var14;
    p_Var14 = p_Var14 + ((ulong)bVar17 * -2 + 1) * 8;
    puVar16 = puVar16 + (ulong)bVar17 * -2 + 1;
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x00112065) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  char cVar15;
  long lVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long lVar19;
  Thread *pTVar20;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar16 = embree::TaskScheduler::allocThreadIndex();
  pTVar17 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar17 = lVar16;
  pTVar20 = pTVar17 + 0x40;
  pTVar18 = pTVar20;
  do {
    *(undefined4 *)pTVar18 = 0;
    pTVar18 = pTVar18 + 0x40;
  } while (pTVar17 + 0x40040 != pTVar18);
  *(undefined8 *)(pTVar17 + 0x40040) = 0;
  *(undefined8 *)(pTVar17 + 0x40080) = 0;
  *(undefined8 *)(pTVar17 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar17 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar17 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar16 * 8) = pTVar17;
  UNLOCK();
  local_48 = pTVar17;
  pTVar18 = (Thread *)embree::TaskScheduler::swapThread(pTVar17);
  if (*(ulong *)(pTVar17 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar17 + 0xc00c0);
    uVar3 = lVar5 + 0x40 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar17 + 0xc00c0) = uVar3;
      pTVar4 = pTVar17 + uVar3 + 0x40080;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      uVar13 = *(undefined8 *)(param_1 + 0x20);
      uVar14 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00132fb0;
      uVar6 = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      *(undefined8 *)(pTVar4 + 0x38) = uVar6;
      *(undefined8 *)(pTVar4 + 0x28) = uVar13;
      *(undefined8 *)(pTVar4 + 0x30) = uVar14;
      lVar19 = *(long *)(pTVar17 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar17 + 0xc0100);
      pTVar17[lVar19 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar17 + lVar19 + 0x44) = 1;
      *(Thread **)(pTVar17 + lVar19 + 0x50) = pTVar4;
      *(long *)(pTVar17 + lVar19 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar17 + lVar19 + 0x60) = param_2;
      *(long *)(pTVar17 + lVar19 + 0x68) = lVar5;
      *(ulong *)(pTVar17 + lVar19 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar20 + lVar19) == 0) {
        *(undefined4 *)(pTVar20 + lVar19) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar17 + 0x40080) = *(long *)(pTVar17 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar17 + 0x40080) - 1U <= *(ulong *)(pTVar17 + 0x40040)) {
        LOCK();
        *(long *)(pTVar17 + 0x40040) = *(long *)(pTVar17 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar15 = embree::TaskScheduler::TaskQueue::execute_local(pTVar20,(Task *)pTVar17);
      } while (cVar15 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar16 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar18);
      pTVar20 = *(Thread **)param_2;
      if (pTVar20 != (Thread *)0x0) {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar20 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar20 == (Thread *)0x0) {
        if (pTVar17 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar17 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar17);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar20;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)(param_4 + 0x10);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_00112317:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x40 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar2);
      *puVar3 = &PTR_execute_00132fb0;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[7] = local_28;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00112317;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* unsigned long embree::parallel_reduce_internal<unsigned long, unsigned long,
   embree::parallel_reduce<unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::resizeRefsList()::{lambda(embree::range<unsigned
   long> const&)#1}, std::plus<unsigned long> >(unsigned long, unsigned long, unsigned long const&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::resizeRefsList()::{lambda(embree::range<unsigned long> const&)#1} const&, std::plus<unsigned
   long> const&)::{lambda(embree::range<unsigned long>)#1}, std::plus<unsigned long> >(unsigned
   long, unsigned long, unsigned long, unsigned long, unsigned long const&,
   embree::parallel_reduce<unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::resizeRefsList()::{lambda(embree::range<unsigned
   long> const&)#1}, std::plus<unsigned long> >(unsigned long, unsigned long, unsigned long const&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::resizeRefsList()::{lambda(embree::range<unsigned long> const&)#1} const&, std::plus<unsigned
   long> const&)::{lambda(embree::range<unsigned long>)#1} const&, std::plus<unsigned long> const&)
   [clone .isra.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,unsigned_long,embree::parallel_reduce<unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_,std::plus<unsigned_long>>(unsigned_long,unsigned_long,unsigned_long_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_const&,std::plus<unsigned_long>const&)::_lambda(embree::range<unsigned_long>)_1_,std::plus<unsigned_long>>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,ulong *param_5,
                _lambda_embree__range<unsigned_long>__1_ *param_6,plus *param_7)

{
  ulong uVar1;
  long *plVar2;
  long in_FS_OFFSET;
  ulong local_2118;
  ulong local_2110;
  ulong local_2108;
  long local_2100;
  long local_20f8;
  ulong *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  long *local_20d8;
  ulong *local_20d0;
  long local_20c0 [1024];
  long *local_c0;
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2118 = param_3;
  local_2110 = param_2;
  local_2108 = param_1;
  uVar1 = embree::TaskScheduler::threadCount();
  if (local_2108 < uVar1) {
    uVar1 = local_2108;
  }
  local_20f0 = &local_2110;
  local_20e8 = &local_2118;
  local_20e0 = &local_2108;
  local_2108 = 0x200;
  if (uVar1 < 0x201) {
    local_2108 = uVar1;
  }
  local_20d8 = local_20c0;
  local_20d0 = param_5;
  local_c0 = local_20c0;
  local_b8 = local_2108;
  if (uVar1 == 0) {
    uVar1 = *(ulong *)param_4;
  }
  else {
    local_2100 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImmZNS_15parallel_reduceImmZNS_4sse219BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMvILi4EEEE14resizeRefsListEvEUlRKNS_5rangeImEEE_St4plusImEEET0_T_SJ_RKSI_RKT1_RKT2_EUlSC_E_SH_EESI_SJ_SJ_SJ_SJ_SL_SO_SR_EUlmE_EEvSJ_SL_EUlSE_E_EEvSJ_SJ_SJ_SL_PNS0_16TaskGroupContextE_isra_0
              (0,local_2108,1,&local_20f0,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != 0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20f8);
      goto LAB_00112b4b;
    }
    uVar1 = *(ulong *)param_4;
    if (local_2108 != 0) {
      plVar2 = local_c0;
      do {
        uVar1 = uVar1 + *plVar2;
        plVar2 = plVar2 + 1;
      } while (plVar2 != local_c0 + local_2108);
    }
  }
  if (local_c0 != local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar1;
  }
LAB_00112b4b:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::resizeRefsList() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::resizeRefsList
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this)

{
  undefined4 uVar1;
  undefined8 *puVar2;
  undefined8 uVar3;
  ulong uVar4;
  long lVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  _lambda_embree__range<unsigned_long>__1_ *in_R9;
  ulong uVar8;
  ulong uVar9;
  long in_FS_OFFSET;
  plus *in_stack_ffffffffffffff98;
  undefined1 local_59;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **local_38;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_40 = &local_59;
  local_48 = &local_50;
  local_38 = &local_58;
  uVar4 = *(ulong *)(*(long *)(this + 0x30) + 0x1d0);
  local_50 = 0;
  local_58 = this;
  if (uVar4 == 1) {
    lVar5 = **(long **)(*(long *)(this + 0x30) + 0x1e0);
    if (((lVar5 == 0) || (*(char *)(lVar5 + 0x3c) != '\x14')) || (*(int *)(lVar5 + 0x24) != 1))
    goto LAB_00112bcf;
    uVar4 = 1;
    if (*(uint *)(lVar5 + 0x20) < 5) {
      uVar4 = (ulong)*(uint *)(lVar5 + 0x20) + 3 >> 2;
    }
  }
  else {
    uVar4 = parallel_reduce_internal<unsigned_long,unsigned_long,embree::parallel_reduce<unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_,std::plus<unsigned_long>>(unsigned_long,unsigned_long,unsigned_long_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_const&,std::plus<unsigned_long>const&)::_lambda(embree::range<unsigned_long>)_1_,std::plus<unsigned_long>>
                      (uVar4,0,uVar4,(ulong)local_48,(ulong *)&local_48,in_R9,
                       in_stack_ffffffffffffff98);
  }
  if (*(ulong *)(this + 0x48) < uVar4) {
    uVar8 = *(ulong *)(this + 0x50);
    if (uVar8 < uVar4) {
      uVar9 = uVar4;
      if (uVar8 != 0) {
        do {
          uVar8 = uVar8 * 2;
          if (uVar8 == 0) {
            uVar8 = 1;
          }
          uVar9 = uVar8;
        } while (uVar8 < uVar4);
      }
      puVar2 = *(undefined8 **)(this + 0x58);
      uVar8 = uVar9 << 6;
      (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar8,0);
      if (uVar8 < 0x1c00000) {
        lVar5 = embree::alignedMalloc(uVar8,0x20);
      }
      else {
        lVar5 = embree::os_malloc(uVar8,(bool *)(this + 0x40));
      }
      *(long *)(this + 0x58) = lVar5;
      if (*(long *)(this + 0x48) != 0) {
        uVar8 = 0;
        puVar7 = puVar2;
        while( true ) {
          uVar3 = puVar7[1];
          puVar6 = (undefined8 *)(lVar5 + uVar8 * 0x40);
          *puVar6 = *puVar7;
          puVar6[1] = uVar3;
          uVar3 = puVar7[3];
          puVar6[2] = puVar7[2];
          puVar6[3] = uVar3;
          uVar1 = *(undefined4 *)(puVar7 + 5);
          puVar6[4] = puVar7[4];
          *(undefined4 *)(puVar6 + 5) = uVar1;
          if (*(ulong *)(this + 0x48) <= uVar8 + 1) break;
          lVar5 = *(long *)(this + 0x58);
          uVar8 = uVar8 + 1;
          puVar7 = puVar7 + 8;
        }
      }
      lVar5 = *(long *)(this + 0x50);
      if (puVar2 != (undefined8 *)0x0) {
        if ((ulong)(lVar5 << 6) < 0x1c00000) {
          embree::alignedFree(puVar2);
        }
        else {
          embree::os_free(puVar2,lVar5 << 6,(bool)this[0x40]);
        }
      }
      if (lVar5 != 0) {
        (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar5 * -0x40,1);
      }
      *(ulong *)(this + 0x48) = uVar4;
      *(ulong *)(this + 0x50) = uVar9;
    }
    else {
      *(ulong *)(this + 0x48) = uVar4;
    }
  }
LAB_00112bcf:
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long,
   unsigned long, unsigned long, unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}
   const&)::{lambda(unsigned long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::{lambda(embree::range<unsigned_long>const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,emb...embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)#2}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  _lambda_embree__range<unsigned_long>const___1_ *p_Var1;
  undefined4 *puVar2;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  long lVar11;
  ulong uVar12;
  long lVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  long lVar15;
  undefined8 *puVar16;
  long in_FS_OFFSET;
  byte bVar17;
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [3072];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [504];
  undefined8 local_88;
  long local_48;
  
  bVar17 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var14 = local_e80;
  sse2::
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  ::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
  {lambda(embree::range<unsigned_long>const&)#1}::operator()(p_Var14,*(range **)(this + 0x20));
  lVar15 = param_1 * 0xe00 + *(long *)(*(long *)(this + 0x18) + 0x1c00);
  lVar13 = lVar15;
  do {
    lVar11 = 0;
    do {
      p_Var1 = p_Var14 + lVar11;
      uVar4 = *(undefined4 *)(p_Var1 + 4);
      uVar5 = *(undefined4 *)(p_Var1 + 8);
      uVar6 = *(undefined4 *)(p_Var1 + 0xc);
      p_Var3 = p_Var14 + lVar11 + 0x10;
      uVar7 = *(undefined4 *)p_Var3;
      uVar8 = *(undefined4 *)(p_Var3 + 4);
      uVar9 = *(undefined4 *)(p_Var3 + 8);
      uVar10 = *(undefined4 *)(p_Var3 + 0xc);
      puVar2 = (undefined4 *)(lVar13 + lVar11);
      *puVar2 = *(undefined4 *)p_Var1;
      puVar2[1] = uVar4;
      puVar2[2] = uVar5;
      puVar2[3] = uVar6;
      puVar2 = (undefined4 *)(lVar13 + 0x10 + lVar11);
      *puVar2 = uVar7;
      puVar2[1] = uVar8;
      puVar2[2] = uVar9;
      puVar2[3] = uVar10;
      lVar11 = lVar11 + 0x20;
    } while (lVar11 != 0x60);
    p_Var14 = p_Var14 + 0x60;
    lVar13 = lVar13 + 0x60;
  } while (p_Var14 != local_280);
  *(undefined8 *)(lVar15 + 0xc00) = *(undefined8 *)p_Var14;
  *(undefined8 *)(lVar15 + 0xdf8) = local_88;
  puVar16 = (undefined8 *)(lVar15 + 0xc08U & 0xfffffffffffffff8);
  lVar13 = (lVar15 + 0xc00) - (long)puVar16;
  p_Var14 = p_Var14 + -lVar13;
  for (uVar12 = (ulong)((int)lVar13 + 0x200U >> 3); uVar12 != 0; uVar12 = uVar12 - 1) {
    *puVar16 = *(undefined8 *)p_Var14;
    p_Var14 = p_Var14 + ((ulong)bVar17 * -2 + 1) * 8;
    puVar16 = puVar16 + (ulong)bVar17 * -2 + 1;
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x00113275) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  char cVar15;
  long lVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long lVar19;
  Thread *pTVar20;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar16 = embree::TaskScheduler::allocThreadIndex();
  pTVar17 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar17 = lVar16;
  pTVar20 = pTVar17 + 0x40;
  pTVar18 = pTVar20;
  do {
    *(undefined4 *)pTVar18 = 0;
    pTVar18 = pTVar18 + 0x40;
  } while (pTVar17 + 0x40040 != pTVar18);
  *(undefined8 *)(pTVar17 + 0x40040) = 0;
  *(undefined8 *)(pTVar17 + 0x40080) = 0;
  *(undefined8 *)(pTVar17 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar17 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar17 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar16 * 8) = pTVar17;
  UNLOCK();
  local_48 = pTVar17;
  pTVar18 = (Thread *)embree::TaskScheduler::swapThread(pTVar17);
  if (*(ulong *)(pTVar17 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar17 + 0xc00c0);
    uVar3 = lVar5 + 0x40 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar17 + 0xc00c0) = uVar3;
      pTVar4 = pTVar17 + uVar3 + 0x40080;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      uVar13 = *(undefined8 *)(param_1 + 0x20);
      uVar14 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00132fe0;
      uVar6 = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      *(undefined8 *)(pTVar4 + 0x38) = uVar6;
      *(undefined8 *)(pTVar4 + 0x28) = uVar13;
      *(undefined8 *)(pTVar4 + 0x30) = uVar14;
      lVar19 = *(long *)(pTVar17 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar17 + 0xc0100);
      pTVar17[lVar19 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar17 + lVar19 + 0x44) = 1;
      *(Thread **)(pTVar17 + lVar19 + 0x50) = pTVar4;
      *(long *)(pTVar17 + lVar19 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar17 + lVar19 + 0x60) = param_2;
      *(long *)(pTVar17 + lVar19 + 0x68) = lVar5;
      *(ulong *)(pTVar17 + lVar19 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar20 + lVar19) == 0) {
        *(undefined4 *)(pTVar20 + lVar19) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar17 + 0x40080) = *(long *)(pTVar17 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar17 + 0x40080) - 1U <= *(ulong *)(pTVar17 + 0x40040)) {
        LOCK();
        *(long *)(pTVar17 + 0x40040) = *(long *)(pTVar17 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar15 = embree::TaskScheduler::TaskQueue::execute_local(pTVar20,(Task *)pTVar17);
      } while (cVar15 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar16 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar18);
      pTVar20 = *(Thread **)param_2;
      if (pTVar20 != (Thread *)0x0) {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar20 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar20 == (Thread *)0x0) {
        if (pTVar17 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar17 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar17);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar20;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)(param_4 + 0x10);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_00113527:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x40 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar2);
      *puVar3 = &PTR_execute_00132fe0;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[7] = local_28;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00113527;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* unsigned long embree::parallel_reduce_internal<unsigned long, unsigned long,
   embree::parallel_reduce<unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::resizeRefsList()::{lambda(embree::range<unsigned
   long> const&)#1}, std::plus<unsigned long> >(unsigned long, unsigned long, unsigned long const&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::resizeRefsList()::{lambda(embree::range<unsigned long> const&)#1} const&, std::plus<unsigned
   long> const&)::{lambda(embree::range<unsigned long>)#1}, std::plus<unsigned long> >(unsigned
   long, unsigned long, unsigned long, unsigned long, unsigned long const&,
   embree::parallel_reduce<unsigned long, unsigned long, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::resizeRefsList()::{lambda(embree::range<unsigned
   long> const&)#1}, std::plus<unsigned long> >(unsigned long, unsigned long, unsigned long const&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::resizeRefsList()::{lambda(embree::range<unsigned long> const&)#1} const&, std::plus<unsigned
   long> const&)::{lambda(embree::range<unsigned long>)#1} const&, std::plus<unsigned long> const&)
   [clone .isra.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,unsigned_long,embree::parallel_reduce<unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_,std::plus<unsigned_long>>(unsigned_long,unsigned_long,unsigned_long_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_const&,std::plus<unsigned_long>const&)::_lambda(embree::range<unsigned_long>)_1_,std::plus<unsigned_long>>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,ulong *param_5,
                _lambda_embree__range<unsigned_long>__1_ *param_6,plus *param_7)

{
  ulong uVar1;
  long *plVar2;
  long in_FS_OFFSET;
  ulong local_2118;
  ulong local_2110;
  ulong local_2108;
  long local_2100;
  long local_20f8;
  ulong *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  long *local_20d8;
  ulong *local_20d0;
  long local_20c0 [1024];
  long *local_c0;
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2118 = param_3;
  local_2110 = param_2;
  local_2108 = param_1;
  uVar1 = embree::TaskScheduler::threadCount();
  if (local_2108 < uVar1) {
    uVar1 = local_2108;
  }
  local_20f0 = &local_2110;
  local_20e8 = &local_2118;
  local_20e0 = &local_2108;
  local_2108 = 0x200;
  if (uVar1 < 0x201) {
    local_2108 = uVar1;
  }
  local_20d8 = local_20c0;
  local_20d0 = param_5;
  local_c0 = local_20c0;
  local_b8 = local_2108;
  if (uVar1 == 0) {
    uVar1 = *(ulong *)param_4;
  }
  else {
    local_2100 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImmZNS_15parallel_reduceImmZNS_4sse219BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_9TriangleMILi4EEEE14resizeRefsListEvEUlRKNS_5rangeImEEE_St4plusImEEET0_T_SJ_RKSI_RKT1_RKT2_EUlSC_E_SH_EESI_SJ_SJ_SJ_SJ_SL_SO_SR_EUlmE_EEvSJ_SL_EUlSE_E_EEvSJ_SJ_SJ_SL_PNS0_16TaskGroupContextE_isra_0
              (0,local_2108,1,&local_20f0,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != 0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20f8);
      goto LAB_00113d5b;
    }
    uVar1 = *(ulong *)param_4;
    if (local_2108 != 0) {
      plVar2 = local_c0;
      do {
        uVar1 = uVar1 + *plVar2;
        plVar2 = plVar2 + 1;
      } while (plVar2 != local_c0 + local_2108);
    }
  }
  if (local_c0 != local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar1;
  }
LAB_00113d5b:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::resizeRefsList() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::resizeRefsList
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this)

{
  undefined4 uVar1;
  undefined8 *puVar2;
  undefined8 uVar3;
  ulong uVar4;
  long lVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  _lambda_embree__range<unsigned_long>__1_ *in_R9;
  ulong uVar8;
  ulong uVar9;
  long in_FS_OFFSET;
  plus *in_stack_ffffffffffffff98;
  undefined1 local_59;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **local_38;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_40 = &local_59;
  local_48 = &local_50;
  local_38 = &local_58;
  uVar4 = *(ulong *)(*(long *)(this + 0x30) + 0x1d0);
  local_50 = 0;
  local_58 = this;
  if (uVar4 == 1) {
    lVar5 = **(long **)(*(long *)(this + 0x30) + 0x1e0);
    if (((lVar5 == 0) || (*(char *)(lVar5 + 0x3c) != '\x14')) || (*(int *)(lVar5 + 0x24) != 1))
    goto LAB_00113ddf;
    uVar4 = 1;
    if (*(uint *)(lVar5 + 0x20) < 5) {
      uVar4 = (ulong)*(uint *)(lVar5 + 0x20) + 3 >> 2;
    }
  }
  else {
    uVar4 = parallel_reduce_internal<unsigned_long,unsigned_long,embree::parallel_reduce<unsigned_long,unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_,std::plus<unsigned_long>>(unsigned_long,unsigned_long,unsigned_long_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::resizeRefsList()::_lambda(embree::range<unsigned_long>const&)_1_const&,std::plus<unsigned_long>const&)::_lambda(embree::range<unsigned_long>)_1_,std::plus<unsigned_long>>
                      (uVar4,0,uVar4,(ulong)local_48,(ulong *)&local_48,in_R9,
                       in_stack_ffffffffffffff98);
  }
  if (*(ulong *)(this + 0x48) < uVar4) {
    uVar8 = *(ulong *)(this + 0x50);
    if (uVar8 < uVar4) {
      uVar9 = uVar4;
      if (uVar8 != 0) {
        do {
          uVar8 = uVar8 * 2;
          if (uVar8 == 0) {
            uVar8 = 1;
          }
          uVar9 = uVar8;
        } while (uVar8 < uVar4);
      }
      puVar2 = *(undefined8 **)(this + 0x58);
      uVar8 = uVar9 << 6;
      (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar8,0);
      if (uVar8 < 0x1c00000) {
        lVar5 = embree::alignedMalloc(uVar8,0x20);
      }
      else {
        lVar5 = embree::os_malloc(uVar8,(bool *)(this + 0x40));
      }
      *(long *)(this + 0x58) = lVar5;
      if (*(long *)(this + 0x48) != 0) {
        uVar8 = 0;
        puVar7 = puVar2;
        while( true ) {
          uVar3 = puVar7[1];
          puVar6 = (undefined8 *)(lVar5 + uVar8 * 0x40);
          *puVar6 = *puVar7;
          puVar6[1] = uVar3;
          uVar3 = puVar7[3];
          puVar6[2] = puVar7[2];
          puVar6[3] = uVar3;
          uVar1 = *(undefined4 *)(puVar7 + 5);
          puVar6[4] = puVar7[4];
          *(undefined4 *)(puVar6 + 5) = uVar1;
          if (*(ulong *)(this + 0x48) <= uVar8 + 1) break;
          lVar5 = *(long *)(this + 0x58);
          uVar8 = uVar8 + 1;
          puVar7 = puVar7 + 8;
        }
      }
      lVar5 = *(long *)(this + 0x50);
      if (puVar2 != (undefined8 *)0x0) {
        if ((ulong)(lVar5 << 6) < 0x1c00000) {
          embree::alignedFree(puVar2);
        }
        else {
          embree::os_free(puVar2,lVar5 << 6,(bool)this[0x40]);
        }
      }
      if (lVar5 != 0) {
        (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),lVar5 * -0x40,1);
      }
      *(ulong *)(this + 0x48) = uVar4;
      *(ulong *)(this + 0x50) = uVar9;
    }
    else {
      *(ulong *)(this + 0x48) = uVar4;
    }
  }
LAB_00113ddf:
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long,
   unsigned long, unsigned long, unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}
   const&)::{lambda(unsigned long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::{lambda(embree::range<unsigned_long>const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::Tr...,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)#2}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  _lambda_embree__range<unsigned_long>const___1_ *p_Var1;
  undefined4 *puVar2;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  long lVar11;
  ulong uVar12;
  long lVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  long lVar15;
  undefined8 *puVar16;
  long in_FS_OFFSET;
  byte bVar17;
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [3072];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [504];
  undefined8 local_88;
  long local_48;
  
  bVar17 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var14 = local_e80;
  sse2::
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  ::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
  {lambda(embree::range<unsigned_long>const&)#1}::operator()(p_Var14,*(range **)(this + 0x20));
  lVar15 = param_1 * 0xe00 + *(long *)(*(long *)(this + 0x18) + 0x1c00);
  lVar13 = lVar15;
  do {
    lVar11 = 0;
    do {
      p_Var1 = p_Var14 + lVar11;
      uVar4 = *(undefined4 *)(p_Var1 + 4);
      uVar5 = *(undefined4 *)(p_Var1 + 8);
      uVar6 = *(undefined4 *)(p_Var1 + 0xc);
      p_Var3 = p_Var14 + lVar11 + 0x10;
      uVar7 = *(undefined4 *)p_Var3;
      uVar8 = *(undefined4 *)(p_Var3 + 4);
      uVar9 = *(undefined4 *)(p_Var3 + 8);
      uVar10 = *(undefined4 *)(p_Var3 + 0xc);
      puVar2 = (undefined4 *)(lVar13 + lVar11);
      *puVar2 = *(undefined4 *)p_Var1;
      puVar2[1] = uVar4;
      puVar2[2] = uVar5;
      puVar2[3] = uVar6;
      puVar2 = (undefined4 *)(lVar13 + 0x10 + lVar11);
      *puVar2 = uVar7;
      puVar2[1] = uVar8;
      puVar2[2] = uVar9;
      puVar2[3] = uVar10;
      lVar11 = lVar11 + 0x20;
    } while (lVar11 != 0x60);
    p_Var14 = p_Var14 + 0x60;
    lVar13 = lVar13 + 0x60;
  } while (p_Var14 != local_280);
  *(undefined8 *)(lVar15 + 0xc00) = *(undefined8 *)p_Var14;
  *(undefined8 *)(lVar15 + 0xdf8) = local_88;
  puVar16 = (undefined8 *)(lVar15 + 0xc08U & 0xfffffffffffffff8);
  lVar13 = (lVar15 + 0xc00) - (long)puVar16;
  p_Var14 = p_Var14 + -lVar13;
  for (uVar12 = (ulong)((int)lVar13 + 0x200U >> 3); uVar12 != 0; uVar12 = uVar12 - 1) {
    *puVar16 = *(undefined8 *)p_Var14;
    p_Var14 = p_Var14 + ((ulong)bVar17 * -2 + 1) * 8;
    puVar16 = puVar16 + (ulong)bVar17 * -2 + 1;
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x00114485) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::Tr___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  char cVar15;
  long lVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long lVar19;
  Thread *pTVar20;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar16 = embree::TaskScheduler::allocThreadIndex();
  pTVar17 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar17 = lVar16;
  pTVar20 = pTVar17 + 0x40;
  pTVar18 = pTVar20;
  do {
    *(undefined4 *)pTVar18 = 0;
    pTVar18 = pTVar18 + 0x40;
  } while (pTVar17 + 0x40040 != pTVar18);
  *(undefined8 *)(pTVar17 + 0x40040) = 0;
  *(undefined8 *)(pTVar17 + 0x40080) = 0;
  *(undefined8 *)(pTVar17 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar17 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar17 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar16 * 8) = pTVar17;
  UNLOCK();
  local_48 = pTVar17;
  pTVar18 = (Thread *)embree::TaskScheduler::swapThread(pTVar17);
  if (*(ulong *)(pTVar17 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar17 + 0xc00c0);
    uVar3 = lVar5 + 0x40 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar17 + 0xc00c0) = uVar3;
      pTVar4 = pTVar17 + uVar3 + 0x40080;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      uVar13 = *(undefined8 *)(param_1 + 0x20);
      uVar14 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00133010;
      uVar6 = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      *(undefined8 *)(pTVar4 + 0x38) = uVar6;
      *(undefined8 *)(pTVar4 + 0x28) = uVar13;
      *(undefined8 *)(pTVar4 + 0x30) = uVar14;
      lVar19 = *(long *)(pTVar17 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar17 + 0xc0100);
      pTVar17[lVar19 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar17 + lVar19 + 0x44) = 1;
      *(Thread **)(pTVar17 + lVar19 + 0x50) = pTVar4;
      *(long *)(pTVar17 + lVar19 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar17 + lVar19 + 0x60) = param_2;
      *(long *)(pTVar17 + lVar19 + 0x68) = lVar5;
      *(ulong *)(pTVar17 + lVar19 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar20 + lVar19) == 0) {
        *(undefined4 *)(pTVar20 + lVar19) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar17 + 0x40080) = *(long *)(pTVar17 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar17 + 0x40080) - 1U <= *(ulong *)(pTVar17 + 0x40040)) {
        LOCK();
        *(long *)(pTVar17 + 0x40040) = *(long *)(pTVar17 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar15 = embree::TaskScheduler::TaskQueue::execute_local(pTVar20,(Task *)pTVar17);
      } while (cVar15 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar16 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar18);
      pTVar20 = *(Thread **)param_2;
      if (pTVar20 != (Thread *)0x0) {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar20 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar20 == (Thread *)0x0) {
        if (pTVar17 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar17 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar17);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar20;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)(param_4 + 0x10);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::Tr___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_00114737:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x40 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar2);
      *puVar3 = &PTR_execute_00133010;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[7] = local_28;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00114737;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__heap_select<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*, __gnu_cxx::__ops::_Iter_less_iter) */

void std::
     __heap_select<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined4 *param_2,undefined4 *param_3)

{
  long lVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  long lVar6;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (0x40 < (long)param_2 - (long)param_1) {
    lVar6 = (((long)param_2 - (long)param_1 >> 6) + -2) / 2;
    while (__adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                     (), lVar6 != 0) {
      lVar6 = lVar6 + -1;
    }
  }
  if (param_2 < param_3) {
    do {
      while ((float)param_1[10] <= (float)param_2[10]) {
        param_2 = param_2 + 0x10;
        if (param_3 <= param_2) goto LAB_001148cf;
      }
      uVar2 = param_1[1];
      uVar3 = param_1[2];
      uVar4 = param_1[3];
      puVar5 = param_2 + 0x10;
      *param_2 = *param_1;
      param_2[1] = uVar2;
      param_2[2] = uVar3;
      param_2[3] = uVar4;
      uVar2 = param_1[5];
      uVar3 = param_1[6];
      uVar4 = param_1[7];
      param_2[4] = param_1[4];
      param_2[5] = uVar2;
      param_2[6] = uVar3;
      param_2[7] = uVar4;
      *(undefined8 *)(param_2 + 8) = *(undefined8 *)(param_1 + 8);
      param_2[10] = param_1[10];
      __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                ();
      param_2 = puVar5;
    } while (puVar5 < param_3);
  }
LAB_001148cf:
  if (lVar1 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x00114cd5) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long lVar18;
  Thread *pTVar19;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar19 = pTVar16 + 0x40;
  pTVar17 = pTVar19;
  do {
    *(undefined4 *)pTVar17 = 0;
    pTVar17 = pTVar17 + 0x40;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar4 = pTVar16 + uVar3 + 0x40088;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00133028;
      *(undefined8 *)(pTVar4 + 8) = uVar8;
      *(undefined8 *)(pTVar4 + 0x10) = uVar9;
      *(undefined8 *)(pTVar4 + 0x18) = uVar10;
      *(undefined8 *)(pTVar4 + 0x20) = uVar11;
      *(undefined8 *)(pTVar4 + 0x28) = uVar12;
      *(undefined8 *)(pTVar4 + 0x30) = uVar13;
      lVar18 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar18 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar18 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar18 + 0x50) = pTVar4;
      *(long *)(pTVar16 + lVar18 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar18 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar18 + 0x68) = lVar5;
      *(ulong *)(pTVar16 + lVar18 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar19 + lVar18) == 0) {
        *(undefined4 *)(pTVar19 + lVar18) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar19,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar17);
      pTVar19 = *(Thread **)param_2;
      if (pTVar19 != (Thread *)0x0) {
        local_48 = pTVar19;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar19 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar19 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar19;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  TaskGroupContext *pTStack_30;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  pTStack_30 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_00114f75:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x38 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40088 + uVar2);
      *puVar3 = &PTR_execute_00133028;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = pTStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00114f75;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 uVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  
  uVar4 = *(ulong *)(this + 8);
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar4 - uVar5) {
    uVar4 = uVar4 + uVar5 >> 1;
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,uVar4,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar4,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar5 < uVar4) {
    do {
      lVar6 = **(long **)(this + 0x28) + uVar5;
      puVar3 = (undefined8 *)(uVar5 * 0x40 + **(long **)(this + 0x20));
      uVar5 = uVar5 + 1;
      uVar1 = puVar3[1];
      puVar2 = (undefined8 *)(**(long **)(this + 0x20) + lVar6 * 0x40);
      *puVar2 = *puVar3;
      puVar2[1] = uVar1;
      uVar1 = puVar3[3];
      puVar2[2] = puVar3[2];
      puVar2[3] = uVar1;
      puVar2[4] = puVar3[4];
      *(undefined4 *)(puVar2 + 5) = *(undefined4 *)(puVar3 + 5);
    } while (uVar4 != uVar5);
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x00115465) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long lVar18;
  Thread *pTVar19;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar19 = pTVar16 + 0x40;
  pTVar17 = pTVar19;
  do {
    *(undefined4 *)pTVar17 = 0;
    pTVar17 = pTVar17 + 0x40;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar4 = pTVar16 + uVar3 + 0x40088;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00133040;
      *(undefined8 *)(pTVar4 + 8) = uVar8;
      *(undefined8 *)(pTVar4 + 0x10) = uVar9;
      *(undefined8 *)(pTVar4 + 0x18) = uVar10;
      *(undefined8 *)(pTVar4 + 0x20) = uVar11;
      *(undefined8 *)(pTVar4 + 0x28) = uVar12;
      *(undefined8 *)(pTVar4 + 0x30) = uVar13;
      lVar18 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar18 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar18 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar18 + 0x50) = pTVar4;
      *(long *)(pTVar16 + lVar18 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar18 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar18 + 0x68) = lVar5;
      *(ulong *)(pTVar16 + lVar18 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar19 + lVar18) == 0) {
        *(undefined4 *)(pTVar19 + lVar18) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar19,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar17);
      pTVar19 = *(Thread **)param_2;
      if (pTVar19 != (Thread *)0x0) {
        local_48 = pTVar19;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar19 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar19 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar19;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  TaskGroupContext *pTStack_30;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  pTStack_30 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_00115705:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x38 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40088 + uVar2);
      *puVar3 = &PTR_execute_00133040;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = pTStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00115705;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::createLargeLeaf(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > const&, embree::FastAllocator::CachedAllocator) */

undefined8 *
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(unsigned_long)#8}>
::createLargeLeaf(ulong *param_1,ulong *param_2)

{
  ulong *puVar1;
  ulong *puVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  ulong *puVar6;
  undefined8 uVar7;
  ulong *puVar8;
  undefined8 *puVar9;
  ulong uVar10;
  long lVar11;
  undefined1 (*pauVar12) [16];
  undefined1 (*pauVar13) [16];
  ulong *puVar14;
  ulong *puVar15;
  ulong uVar16;
  ulong uVar17;
  ulong *puVar18;
  ulong *puVar19;
  ulong uVar20;
  TaskGroupContext *pTVar21;
  ulong *puVar22;
  ulong *puVar23;
  ulong *puVar24;
  ulong uVar25;
  long in_FS_OFFSET;
  byte bVar26;
  float fVar27;
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined4 uVar38;
  undefined4 uVar39;
  undefined4 uVar40;
  undefined4 uVar41;
  undefined4 uVar42;
  undefined4 uVar43;
  undefined4 uVar44;
  undefined4 uVar45;
  FastAllocator *in_stack_00000008;
  undefined8 *in_stack_00000010;
  ulong local_8d0;
  ulong local_7f8;
  ulong local_7f0;
  ulong local_7e8;
  ulong local_7e0;
  TaskGroupContext *local_7d8;
  ulong *local_7d0 [17];
  ulong local_748;
  undefined1 local_740 [8];
  ulong local_738 [4];
  ulong local_718;
  ulong uStack_710;
  ulong local_708;
  ulong uStack_700;
  ulong local_6f8;
  ulong uStack_6f0;
  ulong local_6e8;
  long local_40;
  
  bVar26 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < *param_2) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar3 = param_1[4];
  if (uVar3 < param_2[0xb] - param_2[10]) {
    local_748 = *param_2;
    uVar25 = 1;
    local_740[0] = (char)param_2[1];
    local_738[0] = param_2[2];
    local_738[1] = param_2[3];
    local_6e8 = param_2[0xc];
    local_738[2] = param_2[4];
    local_738[3] = param_2[5];
    local_718 = param_2[6];
    uStack_710 = param_2[7];
    local_708 = param_2[8];
    uStack_700 = param_2[9];
    local_6f8 = param_2[10];
    uStack_6f0 = param_2[0xb];
    puVar8 = &local_748;
    puVar6 = param_1;
    uVar38 = _LC11;
    uVar39 = _LC11;
    uVar40 = _LC11;
    uVar41 = _LC11;
    uVar42 = _LC9;
    uVar43 = _LC9;
    uVar44 = _LC9;
    uVar45 = _LC9;
    while( true ) {
      uVar10 = 0;
      uVar17 = 0;
      uVar16 = 0xffffffffffffffff;
      puVar14 = local_738 + 8;
      do {
        uVar20 = uVar3;
        if (uVar3 <= uVar17) {
          uVar20 = uVar17;
        }
        if (uVar20 < puVar14[1] - *puVar14) {
          uVar16 = uVar10;
          uVar17 = puVar14[1] - *puVar14;
        }
        uVar10 = uVar10 + 1;
        puVar14 = puVar14 + 0xe;
      } while (uVar25 != uVar10);
      if (uVar16 == 0xffffffffffffffff) break;
      pTVar21 = (TaskGroupContext *)puVar6[9];
      puVar14 = local_738 + uVar16 * 0xe;
      uVar3 = *param_2 + 1;
      puVar1 = (ulong *)local_738[uVar16 * 0xe + 8];
      puVar2 = (ulong *)local_738[uVar16 * 0xe + 9];
      puVar19 = (ulong *)((ulong)((long)puVar1 + (long)puVar2) >> 1);
      if (puVar1 < puVar19) {
        auVar37._4_4_ = uVar43;
        auVar37._0_4_ = uVar42;
        auVar37._8_4_ = uVar44;
        auVar37._12_4_ = uVar45;
        auVar34._4_4_ = uVar39;
        auVar34._0_4_ = uVar38;
        auVar34._8_4_ = uVar40;
        auVar34._12_4_ = uVar41;
        auVar35._4_4_ = uVar43;
        auVar35._0_4_ = uVar42;
        auVar35._8_4_ = uVar44;
        auVar35._12_4_ = uVar45;
        auVar36._4_4_ = uVar39;
        auVar36._0_4_ = uVar38;
        auVar36._8_4_ = uVar40;
        auVar36._12_4_ = uVar41;
        pauVar13 = (undefined1 (*) [16])((long)puVar1 * 0x40 + *(long *)pTVar21);
        do {
          auVar28._0_4_ = *(float *)pauVar13[1] + *(float *)*pauVar13;
          auVar28._4_4_ = *(float *)(pauVar13[1] + 4) + *(float *)(*pauVar13 + 4);
          auVar28._8_4_ = *(float *)(pauVar13[1] + 8) + *(float *)(*pauVar13 + 8);
          auVar28._12_4_ = *(float *)(pauVar13[1] + 0xc) + *(float *)(*pauVar13 + 0xc);
          pauVar12 = pauVar13 + 4;
          auVar37 = minps(auVar37,*pauVar13);
          auVar36 = maxps(auVar36,pauVar13[1]);
          auVar35 = minps(auVar35,auVar28);
          auVar34 = maxps(auVar34,auVar28);
          pauVar13 = pauVar12;
        } while ((undefined1 (*) [16])(*(long *)pTVar21 + (long)puVar19 * 0x40) != pauVar12);
        puVar22 = (ulong *)((long)puVar19 - (long)puVar1);
      }
      else {
        auVar37._4_4_ = uVar43;
        auVar37._0_4_ = uVar42;
        auVar37._8_4_ = uVar44;
        auVar37._12_4_ = uVar45;
        auVar34._4_4_ = uVar39;
        auVar34._0_4_ = uVar38;
        auVar34._8_4_ = uVar40;
        auVar34._12_4_ = uVar41;
        auVar35._4_4_ = uVar43;
        auVar35._0_4_ = uVar42;
        auVar35._8_4_ = uVar44;
        auVar35._12_4_ = uVar45;
        puVar22 = (ulong *)0x0;
        auVar36._4_4_ = uVar39;
        auVar36._0_4_ = uVar38;
        auVar36._8_4_ = uVar40;
        auVar36._12_4_ = uVar41;
      }
      if (puVar2 <= puVar19) goto LAB_00115e50;
      auVar32._4_4_ = uVar39;
      auVar32._0_4_ = uVar38;
      auVar32._8_4_ = uVar40;
      auVar32._12_4_ = uVar41;
      auVar31._4_4_ = uVar43;
      auVar31._0_4_ = uVar42;
      auVar31._8_4_ = uVar44;
      auVar31._12_4_ = uVar45;
      auVar30._4_4_ = uVar39;
      auVar30._0_4_ = uVar38;
      auVar30._8_4_ = uVar40;
      auVar30._12_4_ = uVar41;
      auVar33._4_4_ = uVar43;
      auVar33._0_4_ = uVar42;
      auVar33._8_4_ = uVar44;
      auVar33._12_4_ = uVar45;
      pauVar13 = (undefined1 (*) [16])((long)puVar19 * 0x40 + *(long *)pTVar21);
      do {
        auVar29._0_4_ = *(float *)pauVar13[1] + *(float *)*pauVar13;
        auVar29._4_4_ = *(float *)(pauVar13[1] + 4) + *(float *)(*pauVar13 + 4);
        auVar29._8_4_ = *(float *)(pauVar13[1] + 8) + *(float *)(*pauVar13 + 8);
        auVar29._12_4_ = *(float *)(pauVar13[1] + 0xc) + *(float *)(*pauVar13 + 0xc);
        pauVar12 = pauVar13 + 4;
        auVar33 = minps(auVar33,*pauVar13);
        auVar32 = maxps(auVar32,pauVar13[1]);
        auVar31 = minps(auVar31,auVar29);
        auVar30 = maxps(auVar30,auVar29);
        pauVar13 = pauVar12;
      } while ((undefined1 (*) [16])(*(long *)pTVar21 + (long)puVar2 * 0x40) != pauVar12);
      lVar11 = (long)puVar2 - (long)puVar19;
      puVar15 = puVar8;
      while (puVar14 = (ulong *)puVar14[10], puVar18 = puVar19, puVar23 = puVar14, puVar24 = puVar19
            , puVar2 != puVar14) {
        uVar17 = (long)puVar14 - (long)puVar2;
        fVar27 = ((float)(long)puVar22 / (float)(ulong)(lVar11 + (long)puVar22)) * (float)uVar17;
        if ((float)((uint)fVar27 & _LC35) < _LC34) {
          fVar27 = (float)((uint)(float)(int)fVar27 | ~_LC35 & (uint)fVar27);
        }
        if (__LC36 <= fVar27) {
          local_7f8 = (long)(fVar27 - __LC36) ^ 0x8000000000000000;
        }
        else {
          local_7f8 = (ulong)fVar27;
        }
        if (uVar17 < local_7f8) {
          local_7f8 = uVar17;
        }
        puVar22 = (ulong *)((long)puVar14 - local_7f8);
        puVar24 = (ulong *)((long)puVar19 + local_7f8);
        local_7f0 = (long)puVar2 - (long)puVar19;
        puVar14 = puVar2;
        puVar23 = puVar22;
        if (local_7f8 == 0) break;
        local_7d8 = pTVar21;
        if (local_7f8 < local_7f0) {
          local_7d0[0] = &local_7f0;
          pTVar21 = (TaskGroupContext *)&local_7e8;
          local_7e8 = 0;
          puVar14 = puVar24;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
                    ((ulong)puVar19,(ulong)puVar24,0x40,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_7d8,pTVar21);
          embree::TaskScheduler::wait();
          uVar42 = _LC9;
          uVar43 = _UNK_001336c4;
          uVar44 = _UNK_001336c8;
          uVar45 = _UNK_001336cc;
          uVar38 = _LC11;
          uVar39 = _UNK_001336d4;
          uVar40 = _UNK_001336d8;
          uVar41 = _UNK_001336dc;
        }
        else {
          local_7d0[0] = &local_7f8;
          pTVar21 = (TaskGroupContext *)&local_7e8;
          local_7e8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
                    ((ulong)puVar19,(ulong)puVar2,0x40,
                     (_lambda_embree__range<unsigned_long>_const___2_ *)&local_7d8,pTVar21);
          embree::TaskScheduler::wait();
          uVar42 = _LC9;
          uVar43 = _UNK_001336c4;
          uVar44 = _UNK_001336c8;
          uVar45 = _UNK_001336cc;
          uVar38 = _LC11;
          uVar39 = _UNK_001336d4;
          uVar40 = _UNK_001336d8;
          uVar41 = _UNK_001336dc;
        }
        _LC9 = uVar42;
        _UNK_001336c4 = uVar43;
        _UNK_001336c8 = uVar44;
        _UNK_001336cc = uVar45;
        _LC11 = uVar38;
        _UNK_001336d4 = uVar39;
        _UNK_001336d8 = uVar40;
        _UNK_001336dc = uVar41;
        if (local_7e8 == 0) {
          puVar14 = (ulong *)((long)puVar2 + local_7f8);
          puVar18 = (ulong *)((long)puVar19 + local_7f8);
          puVar23 = (ulong *)((long)puVar22 + local_7f8);
          break;
        }
        puVar8 = &local_7e0;
        local_7e0 = local_7e8;
        std::__exception_ptr::exception_ptr::_M_addref();
        puVar19 = puVar8;
        uVar3 = std::rethrow_exception();
LAB_00115e50:
        auVar32._4_4_ = uVar39;
        auVar32._0_4_ = uVar38;
        auVar32._8_4_ = uVar40;
        auVar32._12_4_ = uVar41;
        auVar31._4_4_ = uVar43;
        auVar31._0_4_ = uVar42;
        auVar31._8_4_ = uVar44;
        auVar31._12_4_ = uVar45;
        auVar30._4_4_ = uVar39;
        auVar30._0_4_ = uVar38;
        auVar30._8_4_ = uVar40;
        auVar30._12_4_ = uVar41;
        lVar11 = 0;
        auVar33._4_4_ = uVar43;
        auVar33._0_4_ = uVar42;
        auVar33._8_4_ = uVar44;
        auVar33._12_4_ = uVar45;
        puVar15 = puVar8;
      }
      uVar25 = uVar25 + 1;
      puVar8 = puVar15 + 0xe;
      *(ulong *)(local_740 + uVar16 * 0x70 + -8) = *puVar15;
      local_740[uVar16 * 0x70] = (char)puVar15[1];
      uVar17 = puVar15[3];
      local_738[uVar16 * 0xe] = puVar15[2];
      local_738[uVar16 * 0xe + 1] = uVar17;
      uVar17 = puVar15[5];
      local_738[uVar16 * 0xe + 2] = puVar15[4];
      local_738[uVar16 * 0xe + 3] = uVar17;
      uVar17 = puVar15[7];
      local_738[uVar16 * 0xe + 4] = puVar15[6];
      local_738[uVar16 * 0xe + 5] = uVar17;
      uVar17 = puVar15[9];
      local_738[uVar16 * 0xe + 6] = puVar15[8];
      local_738[uVar16 * 0xe + 7] = uVar17;
      uVar17 = puVar15[0xb];
      local_738[uVar16 * 0xe + 8] = puVar15[10];
      local_738[uVar16 * 0xe + 9] = uVar17;
      local_738[uVar16 * 0xe + 10] = puVar15[0xc];
      *puVar15 = uVar3;
      *(undefined1 *)(puVar15 + 1) = 0;
      *(undefined1 (*) [16])(puVar15 + 2) = auVar37;
      *(undefined1 (*) [16])(puVar15 + 4) = auVar36;
      *(undefined1 (*) [16])(puVar15 + 6) = auVar35;
      *(undefined1 (*) [16])(puVar15 + 8) = auVar34;
      puVar15[10] = (ulong)puVar1;
      puVar15[0xb] = (ulong)puVar19;
      puVar15[0xc] = (ulong)puVar24;
      *puVar8 = uVar3;
      *(undefined1 *)(puVar15 + 0xf) = 0;
      *(undefined1 (*) [16])(puVar15 + 0x10) = auVar33;
      *(undefined1 (*) [16])(puVar15 + 0x12) = auVar32;
      *(undefined1 (*) [16])(puVar15 + 0x14) = auVar31;
      *(undefined1 (*) [16])(puVar15 + 0x16) = auVar30;
      puVar15[0x18] = (ulong)puVar18;
      puVar15[0x19] = (ulong)puVar14;
      puVar15[0x1a] = (ulong)puVar23;
      if (*puVar6 <= uVar25) break;
      uVar3 = puVar6[4];
    }
    uVar3 = param_1[7];
    if (uVar3 < param_2[0xb] - param_2[10]) {
      puVar8 = &local_748;
      do {
        *(bool *)(puVar8 + 1) = puVar8[0xb] - puVar8[10] <= uVar3;
        puVar8 = puVar8 + 0xe;
      } while (&local_748 + uVar25 * 0xe != puVar8);
    }
    local_8d0 = uVar25 * 8;
    local_7e0 = 0x80;
    pTVar21 = (TaskGroupContext *)*in_stack_00000010;
    if (in_stack_00000008 != *(FastAllocator **)(pTVar21 + 8)) {
      embree::MutexSys::lock();
      if (*(long *)(pTVar21 + 8) != 0) {
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x118) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x118) +
             *(long *)(pTVar21 + 0xa8) + *(long *)(pTVar21 + 0x68);
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x120) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x120) +
             (((*(long *)(pTVar21 + 0x98) + *(long *)(pTVar21 + 0x58)) - *(long *)(pTVar21 + 0x50))
             - *(long *)(pTVar21 + 0x90));
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x128) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x128) +
             *(long *)(pTVar21 + 0xb0) + *(long *)(pTVar21 + 0x70);
        UNLOCK();
      }
      *(undefined8 *)(pTVar21 + 0x48) = 0;
      *(undefined8 *)(pTVar21 + 0x58) = 0;
      *(undefined8 *)(pTVar21 + 0x50) = 0;
      *(undefined8 *)(pTVar21 + 0x68) = 0;
      *(undefined8 *)(pTVar21 + 0x70) = 0;
      *(undefined8 *)(pTVar21 + 0x60) = 0;
      if (in_stack_00000008 == (FastAllocator *)0x0) {
        *(undefined8 *)(pTVar21 + 0x88) = 0;
        uVar7 = 0;
        *(undefined8 *)(pTVar21 + 0x98) = 0;
        *(undefined8 *)(pTVar21 + 0x90) = 0;
        *(undefined8 *)(pTVar21 + 0xa8) = 0;
        *(undefined8 *)(pTVar21 + 0xb0) = 0;
      }
      else {
        uVar7 = *(undefined8 *)(in_stack_00000008 + 0x10);
        *(undefined8 *)(pTVar21 + 0x88) = 0;
        *(undefined8 *)(pTVar21 + 0x98) = 0;
        *(undefined8 *)(pTVar21 + 0x60) = uVar7;
        *(undefined8 *)(pTVar21 + 0x90) = 0;
        *(undefined8 *)(pTVar21 + 0xa8) = 0;
        *(undefined8 *)(pTVar21 + 0xb0) = 0;
        *(undefined8 *)(pTVar21 + 0xa0) = 0;
        uVar7 = *(undefined8 *)(in_stack_00000008 + 0x10);
      }
      *(undefined8 *)(pTVar21 + 0xa0) = uVar7;
      LOCK();
      *(FastAllocator **)(pTVar21 + 8) = in_stack_00000008;
      UNLOCK();
      local_7d8 = pTVar21;
      embree::MutexSys::lock();
      puVar9 = *(undefined8 **)(in_stack_00000008 + 0x138);
      if (puVar9 == *(undefined8 **)(in_stack_00000008 + 0x140)) {
        std::
        vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
        ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                  ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                    *)(in_stack_00000008 + 0x130),puVar9,&local_7d8);
      }
      else {
        *puVar9 = pTVar21;
        *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
      }
      embree::MutexSys::unlock();
      embree::MutexSys::unlock();
      uVar38 = _LC11;
      uVar39 = _UNK_001336d4;
      uVar40 = _UNK_001336d8;
      uVar41 = _UNK_001336dc;
      uVar42 = _LC9;
      uVar43 = _UNK_001336c4;
      uVar44 = _UNK_001336c8;
      uVar45 = _UNK_001336cc;
    }
    lVar11 = in_stack_00000010[2];
    in_stack_00000010[5] = in_stack_00000010[5] + 0x80;
    uVar17 = (ulong)(-(int)lVar11 & 0xf);
    uVar3 = lVar11 + 0x80 + uVar17;
    in_stack_00000010[2] = uVar3;
    if ((ulong)in_stack_00000010[3] < uVar3) {
      in_stack_00000010[2] = lVar11;
      if ((TaskGroupContext *)in_stack_00000010[4] < (TaskGroupContext *)0x200) {
        puVar9 = (undefined8 *)FastAllocator::malloc(in_stack_00000008,&local_7e0,0x40,false);
        uVar38 = _LC11;
        uVar39 = _UNK_001336d4;
        uVar40 = _UNK_001336d8;
        uVar41 = _UNK_001336dc;
        uVar42 = _LC9;
        uVar43 = _UNK_001336c4;
        uVar44 = _UNK_001336c8;
        uVar45 = _UNK_001336cc;
      }
      else {
        local_7d8 = (TaskGroupContext *)in_stack_00000010[4];
        puVar9 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_7d8,0x40,true);
        uVar41 = _UNK_001336dc;
        uVar40 = _UNK_001336d8;
        uVar39 = _UNK_001336d4;
        uVar38 = _LC11;
        uVar45 = _UNK_001336cc;
        uVar44 = _UNK_001336c8;
        uVar43 = _UNK_001336c4;
        uVar42 = _LC9;
        in_stack_00000010[1] = puVar9;
        lVar11 = in_stack_00000010[2];
        in_stack_00000010[2] = 0x80;
        in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - lVar11;
        in_stack_00000010[3] = local_7d8;
        if (local_7d8 < (TaskGroupContext *)0x80) {
          in_stack_00000010[2] = 0;
          local_7d8 = (TaskGroupContext *)in_stack_00000010[4];
          puVar9 = (undefined8 *)
                   FastAllocator::malloc(in_stack_00000008,(ulong *)&local_7d8,0x40,false);
          uVar41 = _UNK_001336dc;
          uVar40 = _UNK_001336d8;
          uVar39 = _UNK_001336d4;
          uVar38 = _LC11;
          uVar45 = _UNK_001336cc;
          uVar44 = _UNK_001336c8;
          uVar43 = _UNK_001336c4;
          uVar42 = _LC9;
          in_stack_00000010[1] = puVar9;
          lVar11 = in_stack_00000010[2];
          in_stack_00000010[2] = 0x80;
          in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - lVar11;
          in_stack_00000010[3] = local_7d8;
          if (local_7d8 < (TaskGroupContext *)0x80) {
            puVar9 = (undefined8 *)0x0;
            in_stack_00000010[2] = 0;
          }
        }
      }
    }
    else {
      in_stack_00000010[6] = in_stack_00000010[6] + uVar17;
      puVar9 = (undefined8 *)(in_stack_00000010[1] + -0x80 + uVar3);
    }
    *puVar9 = 8;
    puVar9[1] = 8;
    puVar9[2] = 8;
    puVar9[3] = 8;
    *(undefined4 *)(puVar9 + 0xc) = uVar42;
    *(undefined4 *)((long)puVar9 + 100) = uVar43;
    *(undefined4 *)(puVar9 + 0xd) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x6c) = uVar45;
    *(undefined4 *)(puVar9 + 8) = uVar42;
    *(undefined4 *)((long)puVar9 + 0x44) = uVar43;
    *(undefined4 *)(puVar9 + 9) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x4c) = uVar45;
    *(undefined4 *)(puVar9 + 4) = uVar42;
    *(undefined4 *)((long)puVar9 + 0x24) = uVar43;
    *(undefined4 *)(puVar9 + 5) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x2c) = uVar45;
    *(undefined4 *)(puVar9 + 0xe) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x74) = uVar39;
    *(undefined4 *)(puVar9 + 0xf) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x7c) = uVar41;
    *(undefined4 *)(puVar9 + 10) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x54) = uVar39;
    *(undefined4 *)(puVar9 + 0xb) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x5c) = uVar41;
    *(undefined4 *)(puVar9 + 6) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x34) = uVar39;
    *(undefined4 *)(puVar9 + 7) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x3c) = uVar41;
    puVar4 = puVar9 + 4;
    puVar8 = &local_748;
    do {
      uVar3 = puVar8[3];
      puVar5 = (undefined8 *)((long)puVar4 + 4);
      uVar17 = puVar8[2];
      uVar16 = puVar8[5];
      uVar42 = *(undefined4 *)((long)puVar8 + 0x24);
      uVar10 = puVar8[4];
      *(undefined4 *)(puVar4 + 4) = *(undefined4 *)((long)puVar8 + 0x14);
      *(int *)puVar4 = (int)uVar17;
      *(int *)(puVar4 + 8) = (int)uVar3;
      *(int *)(puVar4 + 2) = (int)uVar10;
      *(undefined4 *)(puVar4 + 6) = uVar42;
      *(int *)(puVar4 + 10) = (int)uVar16;
      puVar4 = puVar5;
      puVar8 = puVar8 + 0xe;
    } while (puVar5 != (undefined8 *)((long)puVar9 + uVar25 * 4 + 0x20));
    uVar3 = 0;
    puVar8 = &local_748;
    do {
      puVar6 = (ulong *)createLargeLeaf(param_1,puVar8);
      local_7d0[uVar3 + 1] = puVar6;
      uVar3 = uVar3 + 1;
      puVar8 = puVar8 + 0xe;
    } while (uVar25 != uVar3);
    *puVar9 = local_7d0[1];
    *(undefined8 *)((long)puVar9 + ((local_8d0 & 0xffffffff) - 8)) =
         *(undefined8 *)((long)local_7d0 + (local_8d0 & 0xffffffff));
    lVar11 = (long)puVar9 - (long)((ulong)(puVar9 + 1) & 0xfffffffffffffff8);
    puVar4 = (undefined8 *)((long)local_7d0 + (8 - lVar11));
    puVar5 = (undefined8 *)((ulong)(puVar9 + 1) & 0xfffffffffffffff8);
    for (uVar3 = (ulong)((uint)((int)local_8d0 + (int)lVar11) >> 3); uVar3 != 0; uVar3 = uVar3 - 1)
    {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + (ulong)bVar26 * -2 + 1;
      puVar5 = puVar5 + (ulong)bVar26 * -2 + 1;
    }
  }
  else {
    puVar9 = *(undefined8 **)(param_2[10] * 0x40 + param_1[8] + 0x20);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return puVar9;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 uVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  
  uVar4 = *(ulong *)(this + 8);
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar4 - uVar5) {
    uVar4 = uVar4 + uVar5 >> 1;
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar5,uVar4,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar4,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar5 < uVar4) {
    do {
      lVar6 = **(long **)(this + 0x28) + uVar5;
      puVar3 = (undefined8 *)(uVar5 * 0x40 + **(long **)(this + 0x20));
      uVar5 = uVar5 + 1;
      uVar1 = puVar3[1];
      puVar2 = (undefined8 *)(**(long **)(this + 0x20) + lVar6 * 0x40);
      *puVar2 = *puVar3;
      puVar2[1] = uVar1;
      uVar1 = puVar3[3];
      puVar2[2] = puVar3[2];
      puVar2[3] = uVar1;
      puVar2[4] = puVar3[4];
      *(undefined4 *)(puVar2 + 5) = *(undefined4 *)(puVar3 + 5);
    } while (uVar4 != uVar5);
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >&) */

void std::
     __make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
               (BuildRecordT *param_1,BuildRecordT *param_2,_Iter_comp_iter *param_3)

{
  long lVar1;
  long lVar2;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (0x70 < (long)param_2 - (long)param_1) {
    lVar2 = (((long)param_2 - (long)param_1 >> 4) * 0x6db6db6db6db6db7 + -2) / 2;
    while( true ) {
      __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                ();
      if (lVar2 == 0) break;
      lVar2 = lVar2 + -1;
    }
  }
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*, long,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >*, long,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > > >) */

void std::
     __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
               (BuildRecordT *param_1,BuildRecordT *param_2,long param_3)

{
  BuildRecordT *pBVar1;
  BuildRecordT *pBVar2;
  BuildRecordT BVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined8 uVar22;
  long lVar23;
  BuildRecordT *pBVar24;
  BuildRecordT *pBVar25;
  ulong uVar26;
  ulong uVar27;
  BuildRecordT *pBVar28;
  long lVar29;
  ulong uVar30;
  long lVar31;
  long lVar32;
  BuildRecordT *pBVar33;
  long in_FS_OFFSET;
  undefined8 local_b8;
  BuildRecordT local_b0;
  undefined4 local_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined8 local_68;
  undefined8 local_60;
  undefined8 local_58;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar23 = (long)param_2 - (long)param_1;
  if (0x700 < lVar23) {
    pBVar28 = param_1 + 0x70;
    pBVar33 = param_2;
    if (param_3 == 0) {
      __make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                (param_1,param_2,(_Iter_comp_iter *)&local_b8);
    }
    else {
      do {
        uVar4 = *(undefined8 *)param_1;
        param_3 = param_3 + -1;
        BVar3 = param_1[8];
        uVar26 = *(long *)(param_1 + 200) - *(long *)(param_1 + 0xc0);
        uVar6 = *(undefined4 *)(param_1 + 0x10);
        uVar7 = *(undefined4 *)(param_1 + 0x14);
        uVar8 = *(undefined4 *)(param_1 + 0x18);
        uVar9 = *(undefined4 *)(param_1 + 0x1c);
        uVar10 = *(undefined4 *)(param_1 + 0x20);
        uVar11 = *(undefined4 *)(param_1 + 0x24);
        uVar12 = *(undefined4 *)(param_1 + 0x28);
        uVar13 = *(undefined4 *)(param_1 + 0x2c);
        uVar14 = *(undefined4 *)(param_1 + 0x30);
        uVar15 = *(undefined4 *)(param_1 + 0x34);
        uVar16 = *(undefined4 *)(param_1 + 0x38);
        uVar17 = *(undefined4 *)(param_1 + 0x3c);
        uVar18 = *(undefined4 *)(param_1 + 0x40);
        uVar19 = *(undefined4 *)(param_1 + 0x44);
        uVar20 = *(undefined4 *)(param_1 + 0x48);
        uVar21 = *(undefined4 *)(param_1 + 0x4c);
        lVar32 = *(long *)(param_1 + 0x50);
        lVar31 = *(long *)(param_1 + 0x58);
        uVar5 = *(undefined8 *)(param_1 + 0x60);
        uVar30 = *(long *)(pBVar33 + -0x18) - *(long *)(pBVar33 + -0x20);
        pBVar24 = param_1 + ((lVar23 >> 4) * 0x6db6db6db6db6db7 >> 1) * 0x70;
        uVar27 = *(long *)(pBVar24 + 0x58) - *(long *)(pBVar24 + 0x50);
        pBVar25 = pBVar33;
        param_2 = pBVar28;
        if (uVar27 < uVar26) {
          if (uVar30 < uVar27) {
            *(undefined8 *)param_1 = *(undefined8 *)pBVar24;
            param_1[8] = pBVar24[8];
            uVar22 = *(undefined8 *)(pBVar24 + 0x18);
            *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(pBVar24 + 0x10);
            *(undefined8 *)(param_1 + 0x18) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x28);
            *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(pBVar24 + 0x20);
            *(undefined8 *)(param_1 + 0x28) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x38);
            *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(pBVar24 + 0x30);
            *(undefined8 *)(param_1 + 0x38) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x48);
            *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(pBVar24 + 0x40);
            *(undefined8 *)(param_1 + 0x48) = uVar22;
LAB_0011682e:
            uVar22 = *(undefined8 *)(pBVar24 + 0x58);
            *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(pBVar24 + 0x50);
            *(undefined8 *)(param_1 + 0x58) = uVar22;
            *(undefined8 *)(param_1 + 0x60) = *(undefined8 *)(pBVar24 + 0x60);
            *(undefined8 *)pBVar24 = uVar4;
            pBVar24[8] = BVar3;
            *(long *)(pBVar24 + 0x50) = lVar32;
            *(long *)(pBVar24 + 0x58) = lVar31;
            *(undefined8 *)(pBVar24 + 0x60) = uVar5;
            *(undefined4 *)(pBVar24 + 0x10) = uVar6;
            *(undefined4 *)(pBVar24 + 0x14) = uVar7;
            *(undefined4 *)(pBVar24 + 0x18) = uVar8;
            *(undefined4 *)(pBVar24 + 0x1c) = uVar9;
            *(undefined4 *)(pBVar24 + 0x20) = uVar10;
            *(undefined4 *)(pBVar24 + 0x24) = uVar11;
            *(undefined4 *)(pBVar24 + 0x28) = uVar12;
            *(undefined4 *)(pBVar24 + 0x2c) = uVar13;
            *(undefined4 *)(pBVar24 + 0x30) = uVar14;
            *(undefined4 *)(pBVar24 + 0x34) = uVar15;
            *(undefined4 *)(pBVar24 + 0x38) = uVar16;
            *(undefined4 *)(pBVar24 + 0x3c) = uVar17;
            *(undefined4 *)(pBVar24 + 0x40) = uVar18;
            *(undefined4 *)(pBVar24 + 0x44) = uVar19;
            *(undefined4 *)(pBVar24 + 0x48) = uVar20;
            *(undefined4 *)(pBVar24 + 0x4c) = uVar21;
            lVar29 = *(long *)(param_1 + 200);
            lVar23 = *(long *)(param_1 + 0xc0);
            lVar31 = *(long *)(pBVar33 + -0x18);
            lVar32 = *(long *)(pBVar33 + -0x20);
          }
          else {
            if (uVar26 <= uVar30) {
              *(undefined8 *)param_1 = *(undefined8 *)(param_1 + 0x70);
              *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_1 + 0x80);
              *(undefined8 *)(param_1 + 0x18) = *(undefined8 *)(param_1 + 0x88);
              *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_1 + 0x90);
              *(undefined8 *)(param_1 + 0x28) = *(undefined8 *)(param_1 + 0x98);
              param_1[8] = param_1[0x78];
              *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_1 + 0xa0);
              *(undefined8 *)(param_1 + 0x38) = *(undefined8 *)(param_1 + 0xa8);
              *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_1 + 0xb0);
              *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_1 + 0xb8);
              *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(param_1 + 0xc0);
              *(undefined8 *)(param_1 + 0x58) = *(undefined8 *)(param_1 + 200);
              goto LAB_0011665e;
            }
LAB_0011687e:
            *(undefined8 *)param_1 = *(undefined8 *)(pBVar33 + -0x70);
            param_1[8] = pBVar33[-0x68];
            uVar22 = *(undefined8 *)(pBVar33 + -0x58);
            *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(pBVar33 + -0x60);
            *(undefined8 *)(param_1 + 0x18) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x48);
            *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(pBVar33 + -0x50);
            *(undefined8 *)(param_1 + 0x28) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x38);
            *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(pBVar33 + -0x40);
            *(undefined8 *)(param_1 + 0x38) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x28);
            *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(pBVar33 + -0x30);
            *(undefined8 *)(param_1 + 0x48) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x18);
            *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(pBVar33 + -0x20);
            *(undefined8 *)(param_1 + 0x58) = uVar22;
            *(undefined8 *)(param_1 + 0x60) = *(undefined8 *)(pBVar33 + -0x10);
            *(undefined8 *)(pBVar33 + -0x10) = uVar5;
            *(undefined8 *)(pBVar33 + -0x70) = uVar4;
            pBVar33[-0x68] = BVar3;
            *(long *)(pBVar33 + -0x20) = lVar32;
            *(long *)(pBVar33 + -0x18) = lVar31;
            *(undefined4 *)(pBVar33 + -0x60) = uVar6;
            *(undefined4 *)(pBVar33 + -0x5c) = uVar7;
            *(undefined4 *)(pBVar33 + -0x58) = uVar8;
            *(undefined4 *)(pBVar33 + -0x54) = uVar9;
            *(undefined4 *)(pBVar33 + -0x50) = uVar10;
            *(undefined4 *)(pBVar33 + -0x4c) = uVar11;
            *(undefined4 *)(pBVar33 + -0x48) = uVar12;
            *(undefined4 *)(pBVar33 + -0x44) = uVar13;
            *(undefined4 *)(pBVar33 + -0x40) = uVar14;
            *(undefined4 *)(pBVar33 + -0x3c) = uVar15;
            *(undefined4 *)(pBVar33 + -0x38) = uVar16;
            *(undefined4 *)(pBVar33 + -0x34) = uVar17;
            *(undefined4 *)(pBVar33 + -0x30) = uVar18;
            *(undefined4 *)(pBVar33 + -0x2c) = uVar19;
            *(undefined4 *)(pBVar33 + -0x28) = uVar20;
            *(undefined4 *)(pBVar33 + -0x24) = uVar21;
            lVar23 = *(long *)(param_1 + 0xc0);
            lVar29 = *(long *)(param_1 + 200);
          }
        }
        else {
          if (uVar26 <= uVar30) {
            if (uVar30 < uVar27) goto LAB_0011687e;
            *(undefined8 *)param_1 = *(undefined8 *)pBVar24;
            param_1[8] = pBVar24[8];
            uVar22 = *(undefined8 *)(pBVar24 + 0x18);
            *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(pBVar24 + 0x10);
            *(undefined8 *)(param_1 + 0x18) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x28);
            *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(pBVar24 + 0x20);
            *(undefined8 *)(param_1 + 0x28) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x38);
            *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(pBVar24 + 0x30);
            *(undefined8 *)(param_1 + 0x38) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x48);
            *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(pBVar24 + 0x40);
            *(undefined8 *)(param_1 + 0x48) = uVar22;
            goto LAB_0011682e;
          }
          *(undefined8 *)param_1 = *(undefined8 *)(param_1 + 0x70);
          *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_1 + 0x80);
          *(undefined8 *)(param_1 + 0x18) = *(undefined8 *)(param_1 + 0x88);
          *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_1 + 0x90);
          *(undefined8 *)(param_1 + 0x28) = *(undefined8 *)(param_1 + 0x98);
          param_1[8] = param_1[0x78];
          *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_1 + 0xa0);
          *(undefined8 *)(param_1 + 0x38) = *(undefined8 *)(param_1 + 0xa8);
          *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_1 + 0xb0);
          *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_1 + 0xb8);
          *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(param_1 + 0xc0);
          *(undefined8 *)(param_1 + 0x58) = *(undefined8 *)(param_1 + 200);
LAB_0011665e:
          *(undefined8 *)(param_1 + 0x70) = uVar4;
          param_1[0x78] = BVar3;
          *(undefined8 *)(param_1 + 0x60) = *(undefined8 *)(param_1 + 0xd0);
          *(long *)(param_1 + 0xc0) = lVar32;
          *(long *)(param_1 + 200) = lVar31;
          *(undefined8 *)(param_1 + 0xd0) = uVar5;
          *(undefined4 *)(param_1 + 0x80) = uVar6;
          *(undefined4 *)(param_1 + 0x84) = uVar7;
          *(undefined4 *)(param_1 + 0x88) = uVar8;
          *(undefined4 *)(param_1 + 0x8c) = uVar9;
          *(undefined4 *)(param_1 + 0x90) = uVar10;
          *(undefined4 *)(param_1 + 0x94) = uVar11;
          *(undefined4 *)(param_1 + 0x98) = uVar12;
          *(undefined4 *)(param_1 + 0x9c) = uVar13;
          *(undefined4 *)(param_1 + 0xa0) = uVar14;
          *(undefined4 *)(param_1 + 0xa4) = uVar15;
          *(undefined4 *)(param_1 + 0xa8) = uVar16;
          *(undefined4 *)(param_1 + 0xac) = uVar17;
          *(undefined4 *)(param_1 + 0xb0) = uVar18;
          *(undefined4 *)(param_1 + 0xb4) = uVar19;
          *(undefined4 *)(param_1 + 0xb8) = uVar20;
          *(undefined4 *)(param_1 + 0xbc) = uVar21;
          lVar23 = lVar32;
          lVar29 = lVar31;
          lVar31 = *(long *)(pBVar33 + -0x18);
          lVar32 = *(long *)(pBVar33 + -0x20);
        }
        while( true ) {
          uVar26 = lVar29 - lVar23;
          while ((ulong)(*(long *)(param_1 + 0x58) - *(long *)(param_1 + 0x50)) < uVar26) {
            lVar29 = *(long *)(param_2 + 200);
            lVar23 = *(long *)(param_2 + 0xc0);
            param_2 = param_2 + 0x70;
            uVar26 = lVar29 - lVar23;
          }
          uVar26 = lVar31 - lVar32;
          pBVar24 = pBVar25;
          while (pBVar25 = pBVar24 + -0x70,
                uVar26 < (ulong)(*(long *)(param_1 + 0x58) - *(long *)(param_1 + 0x50))) {
            uVar26 = *(long *)(pBVar24 + -0x88) - *(long *)(pBVar24 + -0x90);
            pBVar24 = pBVar25;
          }
          if (pBVar25 <= param_2) break;
          uVar4 = *(undefined8 *)param_2;
          BVar3 = param_2[8];
          uVar6 = *(undefined4 *)(param_2 + 0x10);
          uVar7 = *(undefined4 *)(param_2 + 0x14);
          uVar8 = *(undefined4 *)(param_2 + 0x18);
          uVar9 = *(undefined4 *)(param_2 + 0x1c);
          uVar10 = *(undefined4 *)(param_2 + 0x20);
          uVar11 = *(undefined4 *)(param_2 + 0x24);
          uVar12 = *(undefined4 *)(param_2 + 0x28);
          uVar13 = *(undefined4 *)(param_2 + 0x2c);
          uVar14 = *(undefined4 *)(param_2 + 0x30);
          uVar15 = *(undefined4 *)(param_2 + 0x34);
          uVar16 = *(undefined4 *)(param_2 + 0x38);
          uVar17 = *(undefined4 *)(param_2 + 0x3c);
          *(undefined8 *)param_2 = *(undefined8 *)pBVar25;
          uVar18 = *(undefined4 *)(param_2 + 0x40);
          uVar19 = *(undefined4 *)(param_2 + 0x44);
          uVar20 = *(undefined4 *)(param_2 + 0x48);
          uVar21 = *(undefined4 *)(param_2 + 0x4c);
          uVar5 = *(undefined8 *)(param_2 + 0x60);
          param_2[8] = pBVar24[-0x68];
          uVar22 = *(undefined8 *)(pBVar24 + -0x58);
          *(undefined8 *)(param_2 + 0x10) = *(undefined8 *)(pBVar24 + -0x60);
          *(undefined8 *)(param_2 + 0x18) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x48);
          *(undefined8 *)(param_2 + 0x20) = *(undefined8 *)(pBVar24 + -0x50);
          *(undefined8 *)(param_2 + 0x28) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x38);
          *(undefined8 *)(param_2 + 0x30) = *(undefined8 *)(pBVar24 + -0x40);
          *(undefined8 *)(param_2 + 0x38) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x28);
          *(undefined8 *)(param_2 + 0x40) = *(undefined8 *)(pBVar24 + -0x30);
          *(undefined8 *)(param_2 + 0x48) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x18);
          *(undefined8 *)(param_2 + 0x50) = *(undefined8 *)(pBVar24 + -0x20);
          *(undefined8 *)(param_2 + 0x58) = uVar22;
          *(undefined8 *)(param_2 + 0x60) = *(undefined8 *)(pBVar24 + -0x10);
          *(long *)(pBVar24 + -0x20) = lVar23;
          *(long *)(pBVar24 + -0x18) = lVar29;
          *(undefined8 *)pBVar25 = uVar4;
          pBVar24[-0x68] = BVar3;
          *(undefined8 *)(pBVar24 + -0x10) = uVar5;
          *(undefined4 *)(pBVar24 + -0x60) = uVar6;
          *(undefined4 *)(pBVar24 + -0x5c) = uVar7;
          *(undefined4 *)(pBVar24 + -0x58) = uVar8;
          *(undefined4 *)(pBVar24 + -0x54) = uVar9;
          *(undefined4 *)(pBVar24 + -0x50) = uVar10;
          *(undefined4 *)(pBVar24 + -0x4c) = uVar11;
          *(undefined4 *)(pBVar24 + -0x48) = uVar12;
          *(undefined4 *)(pBVar24 + -0x44) = uVar13;
          *(undefined4 *)(pBVar24 + -0x40) = uVar14;
          *(undefined4 *)(pBVar24 + -0x3c) = uVar15;
          *(undefined4 *)(pBVar24 + -0x38) = uVar16;
          *(undefined4 *)(pBVar24 + -0x34) = uVar17;
          *(undefined4 *)(pBVar24 + -0x30) = uVar18;
          *(undefined4 *)(pBVar24 + -0x2c) = uVar19;
          *(undefined4 *)(pBVar24 + -0x28) = uVar20;
          *(undefined4 *)(pBVar24 + -0x24) = uVar21;
          pBVar1 = param_2 + 200;
          pBVar2 = param_2 + 0xc0;
          param_2 = param_2 + 0x70;
          lVar23 = *(long *)pBVar2;
          lVar29 = *(long *)pBVar1;
          lVar31 = *(long *)(pBVar24 + -0x88);
          lVar32 = *(long *)(pBVar24 + -0x90);
        }
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                  (param_2,pBVar33,param_3);
        lVar23 = (long)param_2 - (long)param_1;
        if (lVar23 < 0x701) goto LAB_001169f2;
        pBVar33 = param_2;
      } while (param_3 != 0);
      __make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                (param_1,param_2,(_Iter_comp_iter *)&local_b8);
    }
    do {
      local_b8 = *(undefined8 *)(param_2 + -0x70);
      pBVar28 = param_2 + -0x70;
      local_b0 = param_2[-0x68];
      local_a8 = *(undefined4 *)(param_2 + -0x60);
      uStack_a4 = *(undefined4 *)(param_2 + -0x5c);
      uStack_a0 = *(undefined4 *)(param_2 + -0x58);
      uStack_9c = *(undefined4 *)(param_2 + -0x54);
      local_98 = *(undefined4 *)(param_2 + -0x50);
      uStack_94 = *(undefined4 *)(param_2 + -0x4c);
      uStack_90 = *(undefined4 *)(param_2 + -0x48);
      uStack_8c = *(undefined4 *)(param_2 + -0x44);
      local_88 = *(undefined4 *)(param_2 + -0x40);
      uStack_84 = *(undefined4 *)(param_2 + -0x3c);
      uStack_80 = *(undefined4 *)(param_2 + -0x38);
      uStack_7c = *(undefined4 *)(param_2 + -0x34);
      *(undefined8 *)pBVar28 = *(undefined8 *)param_1;
      local_78 = *(undefined4 *)(param_2 + -0x30);
      uStack_74 = *(undefined4 *)(param_2 + -0x2c);
      uStack_70 = *(undefined4 *)(param_2 + -0x28);
      uStack_6c = *(undefined4 *)(param_2 + -0x24);
      local_68 = *(undefined8 *)(param_2 + -0x20);
      local_60 = *(undefined8 *)(param_2 + -0x18);
      param_2[-0x68] = param_1[8];
      uVar4 = *(undefined8 *)(param_1 + 0x18);
      local_58 = *(undefined8 *)(param_2 + -0x10);
      *(undefined8 *)(param_2 + -0x60) = *(undefined8 *)(param_1 + 0x10);
      *(undefined8 *)(param_2 + -0x58) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x28);
      *(undefined8 *)(param_2 + -0x50) = *(undefined8 *)(param_1 + 0x20);
      *(undefined8 *)(param_2 + -0x48) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x38);
      *(undefined8 *)(param_2 + -0x40) = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(param_2 + -0x38) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x48);
      *(undefined8 *)(param_2 + -0x30) = *(undefined8 *)(param_1 + 0x40);
      *(undefined8 *)(param_2 + -0x28) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x58);
      *(undefined8 *)(param_2 + -0x20) = *(undefined8 *)(param_1 + 0x50);
      *(undefined8 *)(param_2 + -0x18) = uVar4;
      *(undefined8 *)(param_2 + -0x10) = *(undefined8 *)(param_1 + 0x60);
      __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                (param_1,0,((long)pBVar28 - (long)param_1 >> 4) * 0x6db6db6db6db6db7,&local_b8);
      param_2 = pBVar28;
    } while (0x70 < (long)pBVar28 - (long)param_1);
  }
LAB_001169f2:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__heap_select<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*, __gnu_cxx::__ops::_Iter_less_iter) */

void std::
     __heap_select<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined4 *param_2,undefined4 *param_3)

{
  long lVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  long lVar6;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (0x40 < (long)param_2 - (long)param_1) {
    lVar6 = (((long)param_2 - (long)param_1 >> 6) + -2) / 2;
    while (__adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                     (), lVar6 != 0) {
      lVar6 = lVar6 + -1;
    }
  }
  if (param_2 < param_3) {
    do {
      while ((float)param_1[10] <= (float)param_2[10]) {
        param_2 = param_2 + 0x10;
        if (param_3 <= param_2) goto LAB_00116bff;
      }
      uVar2 = param_1[1];
      uVar3 = param_1[2];
      uVar4 = param_1[3];
      puVar5 = param_2 + 0x10;
      *param_2 = *param_1;
      param_2[1] = uVar2;
      param_2[2] = uVar3;
      param_2[3] = uVar4;
      uVar2 = param_1[5];
      uVar3 = param_1[6];
      uVar4 = param_1[7];
      param_2[4] = param_1[4];
      param_2[5] = uVar2;
      param_2[6] = uVar3;
      param_2[7] = uVar4;
      *(undefined8 *)(param_2 + 8) = *(undefined8 *)(param_1 + 8);
      param_2[10] = param_1[10];
      __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                ();
      param_2 = puVar5;
    } while (puVar5 < param_3);
  }
LAB_00116bff:
  if (lVar1 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x00117005) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long lVar18;
  Thread *pTVar19;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar19 = pTVar16 + 0x40;
  pTVar17 = pTVar19;
  do {
    *(undefined4 *)pTVar17 = 0;
    pTVar17 = pTVar17 + 0x40;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar4 = pTVar16 + uVar3 + 0x40088;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00133058;
      *(undefined8 *)(pTVar4 + 8) = uVar8;
      *(undefined8 *)(pTVar4 + 0x10) = uVar9;
      *(undefined8 *)(pTVar4 + 0x18) = uVar10;
      *(undefined8 *)(pTVar4 + 0x20) = uVar11;
      *(undefined8 *)(pTVar4 + 0x28) = uVar12;
      *(undefined8 *)(pTVar4 + 0x30) = uVar13;
      lVar18 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar18 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar18 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar18 + 0x50) = pTVar4;
      *(long *)(pTVar16 + lVar18 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar18 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar18 + 0x68) = lVar5;
      *(ulong *)(pTVar16 + lVar18 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar19 + lVar18) == 0) {
        *(undefined4 *)(pTVar19 + lVar18) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar19,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar17);
      pTVar19 = *(Thread **)param_2;
      if (pTVar19 != (Thread *)0x0) {
        local_48 = pTVar19;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar19 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar19 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar19;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  TaskGroupContext *pTStack_30;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  pTStack_30 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_001172a5:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x38 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40088 + uVar2);
      *puVar3 = &PTR_execute_00133058;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = pTStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_001172a5;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 uVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  
  uVar4 = *(ulong *)(this + 8);
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar4 - uVar5) {
    uVar4 = uVar4 + uVar5 >> 1;
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,uVar4,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar4,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar5 < uVar4) {
    do {
      lVar6 = **(long **)(this + 0x28) + uVar5;
      puVar3 = (undefined8 *)(uVar5 * 0x40 + **(long **)(this + 0x20));
      uVar5 = uVar5 + 1;
      uVar1 = puVar3[1];
      puVar2 = (undefined8 *)(**(long **)(this + 0x20) + lVar6 * 0x40);
      *puVar2 = *puVar3;
      puVar2[1] = uVar1;
      uVar1 = puVar3[3];
      puVar2[2] = puVar3[2];
      puVar2[3] = uVar1;
      puVar2[4] = puVar3[4];
      *(undefined4 *)(puVar2 + 5) = *(undefined4 *)(puVar3 + 5);
    } while (uVar4 != uVar5);
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x00117795) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long lVar18;
  Thread *pTVar19;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar19 = pTVar16 + 0x40;
  pTVar17 = pTVar19;
  do {
    *(undefined4 *)pTVar17 = 0;
    pTVar17 = pTVar17 + 0x40;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar4 = pTVar16 + uVar3 + 0x40088;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00133070;
      *(undefined8 *)(pTVar4 + 8) = uVar8;
      *(undefined8 *)(pTVar4 + 0x10) = uVar9;
      *(undefined8 *)(pTVar4 + 0x18) = uVar10;
      *(undefined8 *)(pTVar4 + 0x20) = uVar11;
      *(undefined8 *)(pTVar4 + 0x28) = uVar12;
      *(undefined8 *)(pTVar4 + 0x30) = uVar13;
      lVar18 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar18 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar18 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar18 + 0x50) = pTVar4;
      *(long *)(pTVar16 + lVar18 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar18 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar18 + 0x68) = lVar5;
      *(ulong *)(pTVar16 + lVar18 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar19 + lVar18) == 0) {
        *(undefined4 *)(pTVar19 + lVar18) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar19,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar17);
      pTVar19 = *(Thread **)param_2;
      if (pTVar19 != (Thread *)0x0) {
        local_48 = pTVar19;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar19 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar19 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar19;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  TaskGroupContext *pTStack_30;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  pTStack_30 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_00117a35:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x38 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40088 + uVar2);
      *puVar3 = &PTR_execute_00133070;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = pTStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00117a35;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::createLargeLeaf(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > const&, embree::FastAllocator::CachedAllocator) */

undefined8 *
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(unsigned_long)#8}>
::createLargeLeaf(ulong *param_1,ulong *param_2)

{
  ulong *puVar1;
  ulong *puVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  ulong *puVar6;
  undefined8 uVar7;
  ulong *puVar8;
  undefined8 *puVar9;
  ulong uVar10;
  long lVar11;
  undefined1 (*pauVar12) [16];
  undefined1 (*pauVar13) [16];
  ulong *puVar14;
  ulong *puVar15;
  ulong uVar16;
  ulong uVar17;
  ulong *puVar18;
  ulong *puVar19;
  ulong uVar20;
  TaskGroupContext *pTVar21;
  ulong *puVar22;
  ulong *puVar23;
  ulong *puVar24;
  ulong uVar25;
  long in_FS_OFFSET;
  byte bVar26;
  float fVar27;
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined4 uVar38;
  undefined4 uVar39;
  undefined4 uVar40;
  undefined4 uVar41;
  undefined4 uVar42;
  undefined4 uVar43;
  undefined4 uVar44;
  undefined4 uVar45;
  FastAllocator *in_stack_00000008;
  undefined8 *in_stack_00000010;
  ulong local_8d0;
  ulong local_7f8;
  ulong local_7f0;
  ulong local_7e8;
  ulong local_7e0;
  TaskGroupContext *local_7d8;
  ulong *local_7d0 [17];
  ulong local_748;
  undefined1 local_740 [8];
  ulong local_738 [4];
  ulong local_718;
  ulong uStack_710;
  ulong local_708;
  ulong uStack_700;
  ulong local_6f8;
  ulong uStack_6f0;
  ulong local_6e8;
  long local_40;
  
  bVar26 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < *param_2) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar3 = param_1[4];
  if (uVar3 < param_2[0xb] - param_2[10]) {
    local_748 = *param_2;
    uVar25 = 1;
    local_740[0] = (char)param_2[1];
    local_738[0] = param_2[2];
    local_738[1] = param_2[3];
    local_6e8 = param_2[0xc];
    local_738[2] = param_2[4];
    local_738[3] = param_2[5];
    local_718 = param_2[6];
    uStack_710 = param_2[7];
    local_708 = param_2[8];
    uStack_700 = param_2[9];
    local_6f8 = param_2[10];
    uStack_6f0 = param_2[0xb];
    puVar8 = &local_748;
    puVar6 = param_1;
    uVar38 = _LC11;
    uVar39 = _LC11;
    uVar40 = _LC11;
    uVar41 = _LC11;
    uVar42 = _LC9;
    uVar43 = _LC9;
    uVar44 = _LC9;
    uVar45 = _LC9;
    while( true ) {
      uVar10 = 0;
      uVar17 = 0;
      uVar16 = 0xffffffffffffffff;
      puVar14 = local_738 + 8;
      do {
        uVar20 = uVar3;
        if (uVar3 <= uVar17) {
          uVar20 = uVar17;
        }
        if (uVar20 < puVar14[1] - *puVar14) {
          uVar16 = uVar10;
          uVar17 = puVar14[1] - *puVar14;
        }
        uVar10 = uVar10 + 1;
        puVar14 = puVar14 + 0xe;
      } while (uVar25 != uVar10);
      if (uVar16 == 0xffffffffffffffff) break;
      pTVar21 = (TaskGroupContext *)puVar6[9];
      puVar14 = local_738 + uVar16 * 0xe;
      uVar3 = *param_2 + 1;
      puVar1 = (ulong *)local_738[uVar16 * 0xe + 8];
      puVar2 = (ulong *)local_738[uVar16 * 0xe + 9];
      puVar19 = (ulong *)((ulong)((long)puVar1 + (long)puVar2) >> 1);
      if (puVar1 < puVar19) {
        auVar37._4_4_ = uVar43;
        auVar37._0_4_ = uVar42;
        auVar37._8_4_ = uVar44;
        auVar37._12_4_ = uVar45;
        auVar34._4_4_ = uVar39;
        auVar34._0_4_ = uVar38;
        auVar34._8_4_ = uVar40;
        auVar34._12_4_ = uVar41;
        auVar35._4_4_ = uVar43;
        auVar35._0_4_ = uVar42;
        auVar35._8_4_ = uVar44;
        auVar35._12_4_ = uVar45;
        auVar36._4_4_ = uVar39;
        auVar36._0_4_ = uVar38;
        auVar36._8_4_ = uVar40;
        auVar36._12_4_ = uVar41;
        pauVar13 = (undefined1 (*) [16])((long)puVar1 * 0x40 + *(long *)pTVar21);
        do {
          auVar28._0_4_ = *(float *)pauVar13[1] + *(float *)*pauVar13;
          auVar28._4_4_ = *(float *)(pauVar13[1] + 4) + *(float *)(*pauVar13 + 4);
          auVar28._8_4_ = *(float *)(pauVar13[1] + 8) + *(float *)(*pauVar13 + 8);
          auVar28._12_4_ = *(float *)(pauVar13[1] + 0xc) + *(float *)(*pauVar13 + 0xc);
          pauVar12 = pauVar13 + 4;
          auVar37 = minps(auVar37,*pauVar13);
          auVar36 = maxps(auVar36,pauVar13[1]);
          auVar35 = minps(auVar35,auVar28);
          auVar34 = maxps(auVar34,auVar28);
          pauVar13 = pauVar12;
        } while ((undefined1 (*) [16])(*(long *)pTVar21 + (long)puVar19 * 0x40) != pauVar12);
        puVar22 = (ulong *)((long)puVar19 - (long)puVar1);
      }
      else {
        auVar37._4_4_ = uVar43;
        auVar37._0_4_ = uVar42;
        auVar37._8_4_ = uVar44;
        auVar37._12_4_ = uVar45;
        auVar34._4_4_ = uVar39;
        auVar34._0_4_ = uVar38;
        auVar34._8_4_ = uVar40;
        auVar34._12_4_ = uVar41;
        auVar35._4_4_ = uVar43;
        auVar35._0_4_ = uVar42;
        auVar35._8_4_ = uVar44;
        auVar35._12_4_ = uVar45;
        puVar22 = (ulong *)0x0;
        auVar36._4_4_ = uVar39;
        auVar36._0_4_ = uVar38;
        auVar36._8_4_ = uVar40;
        auVar36._12_4_ = uVar41;
      }
      if (puVar2 <= puVar19) goto LAB_00118180;
      auVar32._4_4_ = uVar39;
      auVar32._0_4_ = uVar38;
      auVar32._8_4_ = uVar40;
      auVar32._12_4_ = uVar41;
      auVar31._4_4_ = uVar43;
      auVar31._0_4_ = uVar42;
      auVar31._8_4_ = uVar44;
      auVar31._12_4_ = uVar45;
      auVar30._4_4_ = uVar39;
      auVar30._0_4_ = uVar38;
      auVar30._8_4_ = uVar40;
      auVar30._12_4_ = uVar41;
      auVar33._4_4_ = uVar43;
      auVar33._0_4_ = uVar42;
      auVar33._8_4_ = uVar44;
      auVar33._12_4_ = uVar45;
      pauVar13 = (undefined1 (*) [16])((long)puVar19 * 0x40 + *(long *)pTVar21);
      do {
        auVar29._0_4_ = *(float *)pauVar13[1] + *(float *)*pauVar13;
        auVar29._4_4_ = *(float *)(pauVar13[1] + 4) + *(float *)(*pauVar13 + 4);
        auVar29._8_4_ = *(float *)(pauVar13[1] + 8) + *(float *)(*pauVar13 + 8);
        auVar29._12_4_ = *(float *)(pauVar13[1] + 0xc) + *(float *)(*pauVar13 + 0xc);
        pauVar12 = pauVar13 + 4;
        auVar33 = minps(auVar33,*pauVar13);
        auVar32 = maxps(auVar32,pauVar13[1]);
        auVar31 = minps(auVar31,auVar29);
        auVar30 = maxps(auVar30,auVar29);
        pauVar13 = pauVar12;
      } while ((undefined1 (*) [16])(*(long *)pTVar21 + (long)puVar2 * 0x40) != pauVar12);
      lVar11 = (long)puVar2 - (long)puVar19;
      puVar15 = puVar8;
      while (puVar14 = (ulong *)puVar14[10], puVar18 = puVar19, puVar23 = puVar14, puVar24 = puVar19
            , puVar2 != puVar14) {
        uVar17 = (long)puVar14 - (long)puVar2;
        fVar27 = ((float)(long)puVar22 / (float)(ulong)(lVar11 + (long)puVar22)) * (float)uVar17;
        if ((float)((uint)fVar27 & _LC35) < _LC34) {
          fVar27 = (float)((uint)(float)(int)fVar27 | ~_LC35 & (uint)fVar27);
        }
        if (__LC36 <= fVar27) {
          local_7f8 = (long)(fVar27 - __LC36) ^ 0x8000000000000000;
        }
        else {
          local_7f8 = (ulong)fVar27;
        }
        if (uVar17 < local_7f8) {
          local_7f8 = uVar17;
        }
        puVar22 = (ulong *)((long)puVar14 - local_7f8);
        puVar24 = (ulong *)((long)puVar19 + local_7f8);
        local_7f0 = (long)puVar2 - (long)puVar19;
        puVar14 = puVar2;
        puVar23 = puVar22;
        if (local_7f8 == 0) break;
        local_7d8 = pTVar21;
        if (local_7f8 < local_7f0) {
          local_7d0[0] = &local_7f0;
          pTVar21 = (TaskGroupContext *)&local_7e8;
          local_7e8 = 0;
          puVar14 = puVar24;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
                    ((ulong)puVar19,(ulong)puVar24,0x40,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_7d8,pTVar21);
          embree::TaskScheduler::wait();
          uVar42 = _LC9;
          uVar43 = _UNK_001336c4;
          uVar44 = _UNK_001336c8;
          uVar45 = _UNK_001336cc;
          uVar38 = _LC11;
          uVar39 = _UNK_001336d4;
          uVar40 = _UNK_001336d8;
          uVar41 = _UNK_001336dc;
        }
        else {
          local_7d0[0] = &local_7f8;
          pTVar21 = (TaskGroupContext *)&local_7e8;
          local_7e8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
                    ((ulong)puVar19,(ulong)puVar2,0x40,
                     (_lambda_embree__range<unsigned_long>_const___2_ *)&local_7d8,pTVar21);
          embree::TaskScheduler::wait();
          uVar42 = _LC9;
          uVar43 = _UNK_001336c4;
          uVar44 = _UNK_001336c8;
          uVar45 = _UNK_001336cc;
          uVar38 = _LC11;
          uVar39 = _UNK_001336d4;
          uVar40 = _UNK_001336d8;
          uVar41 = _UNK_001336dc;
        }
        _LC9 = uVar42;
        _UNK_001336c4 = uVar43;
        _UNK_001336c8 = uVar44;
        _UNK_001336cc = uVar45;
        _LC11 = uVar38;
        _UNK_001336d4 = uVar39;
        _UNK_001336d8 = uVar40;
        _UNK_001336dc = uVar41;
        if (local_7e8 == 0) {
          puVar14 = (ulong *)((long)puVar2 + local_7f8);
          puVar18 = (ulong *)((long)puVar19 + local_7f8);
          puVar23 = (ulong *)((long)puVar22 + local_7f8);
          break;
        }
        puVar8 = &local_7e0;
        local_7e0 = local_7e8;
        std::__exception_ptr::exception_ptr::_M_addref();
        puVar19 = puVar8;
        uVar3 = std::rethrow_exception();
LAB_00118180:
        auVar32._4_4_ = uVar39;
        auVar32._0_4_ = uVar38;
        auVar32._8_4_ = uVar40;
        auVar32._12_4_ = uVar41;
        auVar31._4_4_ = uVar43;
        auVar31._0_4_ = uVar42;
        auVar31._8_4_ = uVar44;
        auVar31._12_4_ = uVar45;
        auVar30._4_4_ = uVar39;
        auVar30._0_4_ = uVar38;
        auVar30._8_4_ = uVar40;
        auVar30._12_4_ = uVar41;
        lVar11 = 0;
        auVar33._4_4_ = uVar43;
        auVar33._0_4_ = uVar42;
        auVar33._8_4_ = uVar44;
        auVar33._12_4_ = uVar45;
        puVar15 = puVar8;
      }
      uVar25 = uVar25 + 1;
      puVar8 = puVar15 + 0xe;
      *(ulong *)(local_740 + uVar16 * 0x70 + -8) = *puVar15;
      local_740[uVar16 * 0x70] = (char)puVar15[1];
      uVar17 = puVar15[3];
      local_738[uVar16 * 0xe] = puVar15[2];
      local_738[uVar16 * 0xe + 1] = uVar17;
      uVar17 = puVar15[5];
      local_738[uVar16 * 0xe + 2] = puVar15[4];
      local_738[uVar16 * 0xe + 3] = uVar17;
      uVar17 = puVar15[7];
      local_738[uVar16 * 0xe + 4] = puVar15[6];
      local_738[uVar16 * 0xe + 5] = uVar17;
      uVar17 = puVar15[9];
      local_738[uVar16 * 0xe + 6] = puVar15[8];
      local_738[uVar16 * 0xe + 7] = uVar17;
      uVar17 = puVar15[0xb];
      local_738[uVar16 * 0xe + 8] = puVar15[10];
      local_738[uVar16 * 0xe + 9] = uVar17;
      local_738[uVar16 * 0xe + 10] = puVar15[0xc];
      *puVar15 = uVar3;
      *(undefined1 *)(puVar15 + 1) = 0;
      *(undefined1 (*) [16])(puVar15 + 2) = auVar37;
      *(undefined1 (*) [16])(puVar15 + 4) = auVar36;
      *(undefined1 (*) [16])(puVar15 + 6) = auVar35;
      *(undefined1 (*) [16])(puVar15 + 8) = auVar34;
      puVar15[10] = (ulong)puVar1;
      puVar15[0xb] = (ulong)puVar19;
      puVar15[0xc] = (ulong)puVar24;
      *puVar8 = uVar3;
      *(undefined1 *)(puVar15 + 0xf) = 0;
      *(undefined1 (*) [16])(puVar15 + 0x10) = auVar33;
      *(undefined1 (*) [16])(puVar15 + 0x12) = auVar32;
      *(undefined1 (*) [16])(puVar15 + 0x14) = auVar31;
      *(undefined1 (*) [16])(puVar15 + 0x16) = auVar30;
      puVar15[0x18] = (ulong)puVar18;
      puVar15[0x19] = (ulong)puVar14;
      puVar15[0x1a] = (ulong)puVar23;
      if (*puVar6 <= uVar25) break;
      uVar3 = puVar6[4];
    }
    uVar3 = param_1[7];
    if (uVar3 < param_2[0xb] - param_2[10]) {
      puVar8 = &local_748;
      do {
        *(bool *)(puVar8 + 1) = puVar8[0xb] - puVar8[10] <= uVar3;
        puVar8 = puVar8 + 0xe;
      } while (&local_748 + uVar25 * 0xe != puVar8);
    }
    local_8d0 = uVar25 * 8;
    local_7e0 = 0x80;
    pTVar21 = (TaskGroupContext *)*in_stack_00000010;
    if (in_stack_00000008 != *(FastAllocator **)(pTVar21 + 8)) {
      embree::MutexSys::lock();
      if (*(long *)(pTVar21 + 8) != 0) {
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x118) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x118) +
             *(long *)(pTVar21 + 0xa8) + *(long *)(pTVar21 + 0x68);
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x120) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x120) +
             (((*(long *)(pTVar21 + 0x98) + *(long *)(pTVar21 + 0x58)) - *(long *)(pTVar21 + 0x50))
             - *(long *)(pTVar21 + 0x90));
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x128) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x128) +
             *(long *)(pTVar21 + 0xb0) + *(long *)(pTVar21 + 0x70);
        UNLOCK();
      }
      *(undefined8 *)(pTVar21 + 0x48) = 0;
      *(undefined8 *)(pTVar21 + 0x58) = 0;
      *(undefined8 *)(pTVar21 + 0x50) = 0;
      *(undefined8 *)(pTVar21 + 0x68) = 0;
      *(undefined8 *)(pTVar21 + 0x70) = 0;
      *(undefined8 *)(pTVar21 + 0x60) = 0;
      if (in_stack_00000008 == (FastAllocator *)0x0) {
        *(undefined8 *)(pTVar21 + 0x88) = 0;
        uVar7 = 0;
        *(undefined8 *)(pTVar21 + 0x98) = 0;
        *(undefined8 *)(pTVar21 + 0x90) = 0;
        *(undefined8 *)(pTVar21 + 0xa8) = 0;
        *(undefined8 *)(pTVar21 + 0xb0) = 0;
      }
      else {
        uVar7 = *(undefined8 *)(in_stack_00000008 + 0x10);
        *(undefined8 *)(pTVar21 + 0x88) = 0;
        *(undefined8 *)(pTVar21 + 0x98) = 0;
        *(undefined8 *)(pTVar21 + 0x60) = uVar7;
        *(undefined8 *)(pTVar21 + 0x90) = 0;
        *(undefined8 *)(pTVar21 + 0xa8) = 0;
        *(undefined8 *)(pTVar21 + 0xb0) = 0;
        *(undefined8 *)(pTVar21 + 0xa0) = 0;
        uVar7 = *(undefined8 *)(in_stack_00000008 + 0x10);
      }
      *(undefined8 *)(pTVar21 + 0xa0) = uVar7;
      LOCK();
      *(FastAllocator **)(pTVar21 + 8) = in_stack_00000008;
      UNLOCK();
      local_7d8 = pTVar21;
      embree::MutexSys::lock();
      puVar9 = *(undefined8 **)(in_stack_00000008 + 0x138);
      if (puVar9 == *(undefined8 **)(in_stack_00000008 + 0x140)) {
        std::
        vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
        ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                  ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                    *)(in_stack_00000008 + 0x130),puVar9,&local_7d8);
      }
      else {
        *puVar9 = pTVar21;
        *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
      }
      embree::MutexSys::unlock();
      embree::MutexSys::unlock();
      uVar38 = _LC11;
      uVar39 = _UNK_001336d4;
      uVar40 = _UNK_001336d8;
      uVar41 = _UNK_001336dc;
      uVar42 = _LC9;
      uVar43 = _UNK_001336c4;
      uVar44 = _UNK_001336c8;
      uVar45 = _UNK_001336cc;
    }
    lVar11 = in_stack_00000010[2];
    in_stack_00000010[5] = in_stack_00000010[5] + 0x80;
    uVar17 = (ulong)(-(int)lVar11 & 0xf);
    uVar3 = lVar11 + 0x80 + uVar17;
    in_stack_00000010[2] = uVar3;
    if ((ulong)in_stack_00000010[3] < uVar3) {
      in_stack_00000010[2] = lVar11;
      if ((TaskGroupContext *)in_stack_00000010[4] < (TaskGroupContext *)0x200) {
        puVar9 = (undefined8 *)FastAllocator::malloc(in_stack_00000008,&local_7e0,0x40,false);
        uVar38 = _LC11;
        uVar39 = _UNK_001336d4;
        uVar40 = _UNK_001336d8;
        uVar41 = _UNK_001336dc;
        uVar42 = _LC9;
        uVar43 = _UNK_001336c4;
        uVar44 = _UNK_001336c8;
        uVar45 = _UNK_001336cc;
      }
      else {
        local_7d8 = (TaskGroupContext *)in_stack_00000010[4];
        puVar9 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_7d8,0x40,true);
        uVar41 = _UNK_001336dc;
        uVar40 = _UNK_001336d8;
        uVar39 = _UNK_001336d4;
        uVar38 = _LC11;
        uVar45 = _UNK_001336cc;
        uVar44 = _UNK_001336c8;
        uVar43 = _UNK_001336c4;
        uVar42 = _LC9;
        in_stack_00000010[1] = puVar9;
        lVar11 = in_stack_00000010[2];
        in_stack_00000010[2] = 0x80;
        in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - lVar11;
        in_stack_00000010[3] = local_7d8;
        if (local_7d8 < (TaskGroupContext *)0x80) {
          in_stack_00000010[2] = 0;
          local_7d8 = (TaskGroupContext *)in_stack_00000010[4];
          puVar9 = (undefined8 *)
                   FastAllocator::malloc(in_stack_00000008,(ulong *)&local_7d8,0x40,false);
          uVar41 = _UNK_001336dc;
          uVar40 = _UNK_001336d8;
          uVar39 = _UNK_001336d4;
          uVar38 = _LC11;
          uVar45 = _UNK_001336cc;
          uVar44 = _UNK_001336c8;
          uVar43 = _UNK_001336c4;
          uVar42 = _LC9;
          in_stack_00000010[1] = puVar9;
          lVar11 = in_stack_00000010[2];
          in_stack_00000010[2] = 0x80;
          in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - lVar11;
          in_stack_00000010[3] = local_7d8;
          if (local_7d8 < (TaskGroupContext *)0x80) {
            puVar9 = (undefined8 *)0x0;
            in_stack_00000010[2] = 0;
          }
        }
      }
    }
    else {
      in_stack_00000010[6] = in_stack_00000010[6] + uVar17;
      puVar9 = (undefined8 *)(in_stack_00000010[1] + -0x80 + uVar3);
    }
    *puVar9 = 8;
    puVar9[1] = 8;
    puVar9[2] = 8;
    puVar9[3] = 8;
    *(undefined4 *)(puVar9 + 0xc) = uVar42;
    *(undefined4 *)((long)puVar9 + 100) = uVar43;
    *(undefined4 *)(puVar9 + 0xd) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x6c) = uVar45;
    *(undefined4 *)(puVar9 + 8) = uVar42;
    *(undefined4 *)((long)puVar9 + 0x44) = uVar43;
    *(undefined4 *)(puVar9 + 9) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x4c) = uVar45;
    *(undefined4 *)(puVar9 + 4) = uVar42;
    *(undefined4 *)((long)puVar9 + 0x24) = uVar43;
    *(undefined4 *)(puVar9 + 5) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x2c) = uVar45;
    *(undefined4 *)(puVar9 + 0xe) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x74) = uVar39;
    *(undefined4 *)(puVar9 + 0xf) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x7c) = uVar41;
    *(undefined4 *)(puVar9 + 10) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x54) = uVar39;
    *(undefined4 *)(puVar9 + 0xb) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x5c) = uVar41;
    *(undefined4 *)(puVar9 + 6) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x34) = uVar39;
    *(undefined4 *)(puVar9 + 7) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x3c) = uVar41;
    puVar4 = puVar9 + 4;
    puVar8 = &local_748;
    do {
      uVar3 = puVar8[3];
      puVar5 = (undefined8 *)((long)puVar4 + 4);
      uVar17 = puVar8[2];
      uVar16 = puVar8[5];
      uVar42 = *(undefined4 *)((long)puVar8 + 0x24);
      uVar10 = puVar8[4];
      *(undefined4 *)(puVar4 + 4) = *(undefined4 *)((long)puVar8 + 0x14);
      *(int *)puVar4 = (int)uVar17;
      *(int *)(puVar4 + 8) = (int)uVar3;
      *(int *)(puVar4 + 2) = (int)uVar10;
      *(undefined4 *)(puVar4 + 6) = uVar42;
      *(int *)(puVar4 + 10) = (int)uVar16;
      puVar4 = puVar5;
      puVar8 = puVar8 + 0xe;
    } while (puVar5 != (undefined8 *)((long)puVar9 + uVar25 * 4 + 0x20));
    uVar3 = 0;
    puVar8 = &local_748;
    do {
      puVar6 = (ulong *)createLargeLeaf(param_1,puVar8);
      local_7d0[uVar3 + 1] = puVar6;
      uVar3 = uVar3 + 1;
      puVar8 = puVar8 + 0xe;
    } while (uVar25 != uVar3);
    *puVar9 = local_7d0[1];
    *(undefined8 *)((long)puVar9 + ((local_8d0 & 0xffffffff) - 8)) =
         *(undefined8 *)((long)local_7d0 + (local_8d0 & 0xffffffff));
    lVar11 = (long)puVar9 - (long)((ulong)(puVar9 + 1) & 0xfffffffffffffff8);
    puVar4 = (undefined8 *)((long)local_7d0 + (8 - lVar11));
    puVar5 = (undefined8 *)((ulong)(puVar9 + 1) & 0xfffffffffffffff8);
    for (uVar3 = (ulong)((uint)((int)local_8d0 + (int)lVar11) >> 3); uVar3 != 0; uVar3 = uVar3 - 1)
    {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + (ulong)bVar26 * -2 + 1;
      puVar5 = puVar5 + (ulong)bVar26 * -2 + 1;
    }
  }
  else {
    puVar9 = *(undefined8 **)(param_2[10] * 0x40 + param_1[8] + 0x20);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return puVar9;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 uVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  
  uVar4 = *(ulong *)(this + 8);
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar4 - uVar5) {
    uVar4 = uVar4 + uVar5 >> 1;
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar5,uVar4,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar4,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar5 < uVar4) {
    do {
      lVar6 = **(long **)(this + 0x28) + uVar5;
      puVar3 = (undefined8 *)(uVar5 * 0x40 + **(long **)(this + 0x20));
      uVar5 = uVar5 + 1;
      uVar1 = puVar3[1];
      puVar2 = (undefined8 *)(**(long **)(this + 0x20) + lVar6 * 0x40);
      *puVar2 = *puVar3;
      puVar2[1] = uVar1;
      uVar1 = puVar3[3];
      puVar2[2] = puVar3[2];
      puVar2[3] = uVar1;
      puVar2[4] = puVar3[4];
      *(undefined4 *)(puVar2 + 5) = *(undefined4 *)(puVar3 + 5);
    } while (uVar4 != uVar5);
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__heap_select<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*, __gnu_cxx::__ops::_Iter_less_iter) */

void std::
     __heap_select<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined4 *param_2,undefined4 *param_3)

{
  long lVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 *puVar5;
  long lVar6;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (0x40 < (long)param_2 - (long)param_1) {
    lVar6 = (((long)param_2 - (long)param_1 >> 6) + -2) / 2;
    while (__adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                     (), lVar6 != 0) {
      lVar6 = lVar6 + -1;
    }
  }
  if (param_2 < param_3) {
    do {
      while ((float)param_1[10] <= (float)param_2[10]) {
        param_2 = param_2 + 0x10;
        if (param_3 <= param_2) goto LAB_0011888f;
      }
      uVar2 = param_1[1];
      uVar3 = param_1[2];
      uVar4 = param_1[3];
      puVar5 = param_2 + 0x10;
      *param_2 = *param_1;
      param_2[1] = uVar2;
      param_2[2] = uVar3;
      param_2[3] = uVar4;
      uVar2 = param_1[5];
      uVar3 = param_1[6];
      uVar4 = param_1[7];
      param_2[4] = param_1[4];
      param_2[5] = uVar2;
      param_2[6] = uVar3;
      param_2[7] = uVar4;
      *(undefined8 *)(param_2 + 8) = *(undefined8 *)(param_1 + 8);
      param_2[10] = param_1[10];
      __adjust_heap<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,__gnu_cxx::__ops::_Iter_less_iter>
                ();
      param_2 = puVar5;
    } while (puVar5 < param_3);
  }
LAB_0011888f:
  if (lVar1 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x00118c95) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long lVar18;
  Thread *pTVar19;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar19 = pTVar16 + 0x40;
  pTVar17 = pTVar19;
  do {
    *(undefined4 *)pTVar17 = 0;
    pTVar17 = pTVar17 + 0x40;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar4 = pTVar16 + uVar3 + 0x40088;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_00133088;
      *(undefined8 *)(pTVar4 + 8) = uVar8;
      *(undefined8 *)(pTVar4 + 0x10) = uVar9;
      *(undefined8 *)(pTVar4 + 0x18) = uVar10;
      *(undefined8 *)(pTVar4 + 0x20) = uVar11;
      *(undefined8 *)(pTVar4 + 0x28) = uVar12;
      *(undefined8 *)(pTVar4 + 0x30) = uVar13;
      lVar18 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar18 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar18 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar18 + 0x50) = pTVar4;
      *(long *)(pTVar16 + lVar18 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar18 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar18 + 0x68) = lVar5;
      *(ulong *)(pTVar16 + lVar18 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar19 + lVar18) == 0) {
        *(undefined4 *)(pTVar19 + lVar18) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar19,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar17);
      pTVar19 = *(Thread **)param_2;
      if (pTVar19 != (Thread *)0x0) {
        local_48 = pTVar19;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar19 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar19 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar19;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  TaskGroupContext *pTStack_30;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  pTStack_30 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_00118f35:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x38 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40088 + uVar2);
      *puVar3 = &PTR_execute_00133088;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = pTStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00118f35;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 uVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  
  uVar4 = *(ulong *)(this + 8);
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar4 - uVar5) {
    uVar4 = uVar4 + uVar5 >> 1;
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,uVar4,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar4,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar5 < uVar4) {
    do {
      lVar6 = **(long **)(this + 0x28) + uVar5;
      puVar3 = (undefined8 *)(uVar5 * 0x40 + **(long **)(this + 0x20));
      uVar5 = uVar5 + 1;
      uVar1 = puVar3[1];
      puVar2 = (undefined8 *)(**(long **)(this + 0x20) + lVar6 * 0x40);
      *puVar2 = *puVar3;
      puVar2[1] = uVar1;
      uVar1 = puVar3[3];
      puVar2[2] = puVar3[2];
      puVar2[3] = uVar1;
      puVar2[4] = puVar3[4];
      *(undefined4 *)(puVar2 + 5) = *(undefined4 *)(puVar3 + 5);
    } while (uVar4 != uVar5);
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x00119425) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long lVar18;
  Thread *pTVar19;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar19 = pTVar16 + 0x40;
  pTVar17 = pTVar19;
  do {
    *(undefined4 *)pTVar17 = 0;
    pTVar17 = pTVar17 + 0x40;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar4 = pTVar16 + uVar3 + 0x40088;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar4 = &PTR_execute_001330a0;
      *(undefined8 *)(pTVar4 + 8) = uVar8;
      *(undefined8 *)(pTVar4 + 0x10) = uVar9;
      *(undefined8 *)(pTVar4 + 0x18) = uVar10;
      *(undefined8 *)(pTVar4 + 0x20) = uVar11;
      *(undefined8 *)(pTVar4 + 0x28) = uVar12;
      *(undefined8 *)(pTVar4 + 0x30) = uVar13;
      lVar18 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar18 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar18 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar18 + 0x50) = pTVar4;
      *(long *)(pTVar16 + lVar18 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar18 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar18 + 0x68) = lVar5;
      *(ulong *)(pTVar16 + lVar18 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar19 + lVar18) == 0) {
        *(undefined4 *)(pTVar19 + lVar18) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar19,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar17);
      pTVar19 = *(Thread **)param_2;
      if (pTVar19 != (Thread *)0x0) {
        local_48 = pTVar19;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar19 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar19 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar19;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  TaskGroupContext *pTStack_30;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  pTStack_30 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_001196c5:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x38 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40088 + uVar2);
      *puVar3 = &PTR_execute_001330a0;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = pTStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_001196c5;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::createLargeLeaf(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> > const&, embree::FastAllocator::CachedAllocator) */

undefined8 *
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(unsigned_long)#8}>
::createLargeLeaf(ulong *param_1,ulong *param_2)

{
  ulong *puVar1;
  ulong *puVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  ulong *puVar6;
  undefined8 uVar7;
  ulong *puVar8;
  undefined8 *puVar9;
  ulong uVar10;
  long lVar11;
  undefined1 (*pauVar12) [16];
  undefined1 (*pauVar13) [16];
  ulong *puVar14;
  ulong *puVar15;
  ulong uVar16;
  ulong uVar17;
  ulong *puVar18;
  ulong *puVar19;
  ulong uVar20;
  TaskGroupContext *pTVar21;
  ulong *puVar22;
  ulong *puVar23;
  ulong *puVar24;
  ulong uVar25;
  long in_FS_OFFSET;
  byte bVar26;
  float fVar27;
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined4 uVar38;
  undefined4 uVar39;
  undefined4 uVar40;
  undefined4 uVar41;
  undefined4 uVar42;
  undefined4 uVar43;
  undefined4 uVar44;
  undefined4 uVar45;
  FastAllocator *in_stack_00000008;
  undefined8 *in_stack_00000010;
  ulong local_8d0;
  ulong local_7f8;
  ulong local_7f0;
  ulong local_7e8;
  ulong local_7e0;
  TaskGroupContext *local_7d8;
  ulong *local_7d0 [17];
  ulong local_748;
  undefined1 local_740 [8];
  ulong local_738 [4];
  ulong local_718;
  ulong uStack_710;
  ulong local_708;
  ulong uStack_700;
  ulong local_6f8;
  ulong uStack_6f0;
  ulong local_6e8;
  long local_40;
  
  bVar26 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < *param_2) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar3 = param_1[4];
  if (uVar3 < param_2[0xb] - param_2[10]) {
    local_748 = *param_2;
    uVar25 = 1;
    local_740[0] = (char)param_2[1];
    local_738[0] = param_2[2];
    local_738[1] = param_2[3];
    local_6e8 = param_2[0xc];
    local_738[2] = param_2[4];
    local_738[3] = param_2[5];
    local_718 = param_2[6];
    uStack_710 = param_2[7];
    local_708 = param_2[8];
    uStack_700 = param_2[9];
    local_6f8 = param_2[10];
    uStack_6f0 = param_2[0xb];
    puVar8 = &local_748;
    puVar6 = param_1;
    uVar38 = _LC11;
    uVar39 = _LC11;
    uVar40 = _LC11;
    uVar41 = _LC11;
    uVar42 = _LC9;
    uVar43 = _LC9;
    uVar44 = _LC9;
    uVar45 = _LC9;
    while( true ) {
      uVar10 = 0;
      uVar17 = 0;
      uVar16 = 0xffffffffffffffff;
      puVar14 = local_738 + 8;
      do {
        uVar20 = uVar3;
        if (uVar3 <= uVar17) {
          uVar20 = uVar17;
        }
        if (uVar20 < puVar14[1] - *puVar14) {
          uVar16 = uVar10;
          uVar17 = puVar14[1] - *puVar14;
        }
        uVar10 = uVar10 + 1;
        puVar14 = puVar14 + 0xe;
      } while (uVar25 != uVar10);
      if (uVar16 == 0xffffffffffffffff) break;
      pTVar21 = (TaskGroupContext *)puVar6[9];
      puVar14 = local_738 + uVar16 * 0xe;
      uVar3 = *param_2 + 1;
      puVar1 = (ulong *)local_738[uVar16 * 0xe + 8];
      puVar2 = (ulong *)local_738[uVar16 * 0xe + 9];
      puVar19 = (ulong *)((ulong)((long)puVar1 + (long)puVar2) >> 1);
      if (puVar1 < puVar19) {
        auVar37._4_4_ = uVar43;
        auVar37._0_4_ = uVar42;
        auVar37._8_4_ = uVar44;
        auVar37._12_4_ = uVar45;
        auVar34._4_4_ = uVar39;
        auVar34._0_4_ = uVar38;
        auVar34._8_4_ = uVar40;
        auVar34._12_4_ = uVar41;
        auVar35._4_4_ = uVar43;
        auVar35._0_4_ = uVar42;
        auVar35._8_4_ = uVar44;
        auVar35._12_4_ = uVar45;
        auVar36._4_4_ = uVar39;
        auVar36._0_4_ = uVar38;
        auVar36._8_4_ = uVar40;
        auVar36._12_4_ = uVar41;
        pauVar13 = (undefined1 (*) [16])((long)puVar1 * 0x40 + *(long *)pTVar21);
        do {
          auVar28._0_4_ = *(float *)pauVar13[1] + *(float *)*pauVar13;
          auVar28._4_4_ = *(float *)(pauVar13[1] + 4) + *(float *)(*pauVar13 + 4);
          auVar28._8_4_ = *(float *)(pauVar13[1] + 8) + *(float *)(*pauVar13 + 8);
          auVar28._12_4_ = *(float *)(pauVar13[1] + 0xc) + *(float *)(*pauVar13 + 0xc);
          pauVar12 = pauVar13 + 4;
          auVar37 = minps(auVar37,*pauVar13);
          auVar36 = maxps(auVar36,pauVar13[1]);
          auVar35 = minps(auVar35,auVar28);
          auVar34 = maxps(auVar34,auVar28);
          pauVar13 = pauVar12;
        } while ((undefined1 (*) [16])(*(long *)pTVar21 + (long)puVar19 * 0x40) != pauVar12);
        puVar22 = (ulong *)((long)puVar19 - (long)puVar1);
      }
      else {
        auVar37._4_4_ = uVar43;
        auVar37._0_4_ = uVar42;
        auVar37._8_4_ = uVar44;
        auVar37._12_4_ = uVar45;
        auVar34._4_4_ = uVar39;
        auVar34._0_4_ = uVar38;
        auVar34._8_4_ = uVar40;
        auVar34._12_4_ = uVar41;
        auVar35._4_4_ = uVar43;
        auVar35._0_4_ = uVar42;
        auVar35._8_4_ = uVar44;
        auVar35._12_4_ = uVar45;
        puVar22 = (ulong *)0x0;
        auVar36._4_4_ = uVar39;
        auVar36._0_4_ = uVar38;
        auVar36._8_4_ = uVar40;
        auVar36._12_4_ = uVar41;
      }
      if (puVar2 <= puVar19) goto LAB_00119e10;
      auVar32._4_4_ = uVar39;
      auVar32._0_4_ = uVar38;
      auVar32._8_4_ = uVar40;
      auVar32._12_4_ = uVar41;
      auVar31._4_4_ = uVar43;
      auVar31._0_4_ = uVar42;
      auVar31._8_4_ = uVar44;
      auVar31._12_4_ = uVar45;
      auVar30._4_4_ = uVar39;
      auVar30._0_4_ = uVar38;
      auVar30._8_4_ = uVar40;
      auVar30._12_4_ = uVar41;
      auVar33._4_4_ = uVar43;
      auVar33._0_4_ = uVar42;
      auVar33._8_4_ = uVar44;
      auVar33._12_4_ = uVar45;
      pauVar13 = (undefined1 (*) [16])((long)puVar19 * 0x40 + *(long *)pTVar21);
      do {
        auVar29._0_4_ = *(float *)pauVar13[1] + *(float *)*pauVar13;
        auVar29._4_4_ = *(float *)(pauVar13[1] + 4) + *(float *)(*pauVar13 + 4);
        auVar29._8_4_ = *(float *)(pauVar13[1] + 8) + *(float *)(*pauVar13 + 8);
        auVar29._12_4_ = *(float *)(pauVar13[1] + 0xc) + *(float *)(*pauVar13 + 0xc);
        pauVar12 = pauVar13 + 4;
        auVar33 = minps(auVar33,*pauVar13);
        auVar32 = maxps(auVar32,pauVar13[1]);
        auVar31 = minps(auVar31,auVar29);
        auVar30 = maxps(auVar30,auVar29);
        pauVar13 = pauVar12;
      } while ((undefined1 (*) [16])(*(long *)pTVar21 + (long)puVar2 * 0x40) != pauVar12);
      lVar11 = (long)puVar2 - (long)puVar19;
      puVar15 = puVar8;
      while (puVar14 = (ulong *)puVar14[10], puVar18 = puVar19, puVar23 = puVar14, puVar24 = puVar19
            , puVar2 != puVar14) {
        uVar17 = (long)puVar14 - (long)puVar2;
        fVar27 = ((float)(long)puVar22 / (float)(ulong)(lVar11 + (long)puVar22)) * (float)uVar17;
        if ((float)((uint)fVar27 & _LC35) < _LC34) {
          fVar27 = (float)((uint)(float)(int)fVar27 | ~_LC35 & (uint)fVar27);
        }
        if (__LC36 <= fVar27) {
          local_7f8 = (long)(fVar27 - __LC36) ^ 0x8000000000000000;
        }
        else {
          local_7f8 = (ulong)fVar27;
        }
        if (uVar17 < local_7f8) {
          local_7f8 = uVar17;
        }
        puVar22 = (ulong *)((long)puVar14 - local_7f8);
        puVar24 = (ulong *)((long)puVar19 + local_7f8);
        local_7f0 = (long)puVar2 - (long)puVar19;
        puVar14 = puVar2;
        puVar23 = puVar22;
        if (local_7f8 == 0) break;
        local_7d8 = pTVar21;
        if (local_7f8 < local_7f0) {
          local_7d0[0] = &local_7f0;
          pTVar21 = (TaskGroupContext *)&local_7e8;
          local_7e8 = 0;
          puVar14 = puVar24;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
                    ((ulong)puVar19,(ulong)puVar24,0x40,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_7d8,pTVar21);
          embree::TaskScheduler::wait();
          uVar42 = _LC9;
          uVar43 = _UNK_001336c4;
          uVar44 = _UNK_001336c8;
          uVar45 = _UNK_001336cc;
          uVar38 = _LC11;
          uVar39 = _UNK_001336d4;
          uVar40 = _UNK_001336d8;
          uVar41 = _UNK_001336dc;
        }
        else {
          local_7d0[0] = &local_7f8;
          pTVar21 = (TaskGroupContext *)&local_7e8;
          local_7e8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
                    ((ulong)puVar19,(ulong)puVar2,0x40,
                     (_lambda_embree__range<unsigned_long>_const___2_ *)&local_7d8,pTVar21);
          embree::TaskScheduler::wait();
          uVar42 = _LC9;
          uVar43 = _UNK_001336c4;
          uVar44 = _UNK_001336c8;
          uVar45 = _UNK_001336cc;
          uVar38 = _LC11;
          uVar39 = _UNK_001336d4;
          uVar40 = _UNK_001336d8;
          uVar41 = _UNK_001336dc;
        }
        _LC9 = uVar42;
        _UNK_001336c4 = uVar43;
        _UNK_001336c8 = uVar44;
        _UNK_001336cc = uVar45;
        _LC11 = uVar38;
        _UNK_001336d4 = uVar39;
        _UNK_001336d8 = uVar40;
        _UNK_001336dc = uVar41;
        if (local_7e8 == 0) {
          puVar14 = (ulong *)((long)puVar2 + local_7f8);
          puVar18 = (ulong *)((long)puVar19 + local_7f8);
          puVar23 = (ulong *)((long)puVar22 + local_7f8);
          break;
        }
        puVar8 = &local_7e0;
        local_7e0 = local_7e8;
        std::__exception_ptr::exception_ptr::_M_addref();
        puVar19 = puVar8;
        uVar3 = std::rethrow_exception();
LAB_00119e10:
        auVar32._4_4_ = uVar39;
        auVar32._0_4_ = uVar38;
        auVar32._8_4_ = uVar40;
        auVar32._12_4_ = uVar41;
        auVar31._4_4_ = uVar43;
        auVar31._0_4_ = uVar42;
        auVar31._8_4_ = uVar44;
        auVar31._12_4_ = uVar45;
        auVar30._4_4_ = uVar39;
        auVar30._0_4_ = uVar38;
        auVar30._8_4_ = uVar40;
        auVar30._12_4_ = uVar41;
        lVar11 = 0;
        auVar33._4_4_ = uVar43;
        auVar33._0_4_ = uVar42;
        auVar33._8_4_ = uVar44;
        auVar33._12_4_ = uVar45;
        puVar15 = puVar8;
      }
      uVar25 = uVar25 + 1;
      puVar8 = puVar15 + 0xe;
      *(ulong *)(local_740 + uVar16 * 0x70 + -8) = *puVar15;
      local_740[uVar16 * 0x70] = (char)puVar15[1];
      uVar17 = puVar15[3];
      local_738[uVar16 * 0xe] = puVar15[2];
      local_738[uVar16 * 0xe + 1] = uVar17;
      uVar17 = puVar15[5];
      local_738[uVar16 * 0xe + 2] = puVar15[4];
      local_738[uVar16 * 0xe + 3] = uVar17;
      uVar17 = puVar15[7];
      local_738[uVar16 * 0xe + 4] = puVar15[6];
      local_738[uVar16 * 0xe + 5] = uVar17;
      uVar17 = puVar15[9];
      local_738[uVar16 * 0xe + 6] = puVar15[8];
      local_738[uVar16 * 0xe + 7] = uVar17;
      uVar17 = puVar15[0xb];
      local_738[uVar16 * 0xe + 8] = puVar15[10];
      local_738[uVar16 * 0xe + 9] = uVar17;
      local_738[uVar16 * 0xe + 10] = puVar15[0xc];
      *puVar15 = uVar3;
      *(undefined1 *)(puVar15 + 1) = 0;
      *(undefined1 (*) [16])(puVar15 + 2) = auVar37;
      *(undefined1 (*) [16])(puVar15 + 4) = auVar36;
      *(undefined1 (*) [16])(puVar15 + 6) = auVar35;
      *(undefined1 (*) [16])(puVar15 + 8) = auVar34;
      puVar15[10] = (ulong)puVar1;
      puVar15[0xb] = (ulong)puVar19;
      puVar15[0xc] = (ulong)puVar24;
      *puVar8 = uVar3;
      *(undefined1 *)(puVar15 + 0xf) = 0;
      *(undefined1 (*) [16])(puVar15 + 0x10) = auVar33;
      *(undefined1 (*) [16])(puVar15 + 0x12) = auVar32;
      *(undefined1 (*) [16])(puVar15 + 0x14) = auVar31;
      *(undefined1 (*) [16])(puVar15 + 0x16) = auVar30;
      puVar15[0x18] = (ulong)puVar18;
      puVar15[0x19] = (ulong)puVar14;
      puVar15[0x1a] = (ulong)puVar23;
      if (*puVar6 <= uVar25) break;
      uVar3 = puVar6[4];
    }
    uVar3 = param_1[7];
    if (uVar3 < param_2[0xb] - param_2[10]) {
      puVar8 = &local_748;
      do {
        *(bool *)(puVar8 + 1) = puVar8[0xb] - puVar8[10] <= uVar3;
        puVar8 = puVar8 + 0xe;
      } while (&local_748 + uVar25 * 0xe != puVar8);
    }
    local_8d0 = uVar25 * 8;
    local_7e0 = 0x80;
    pTVar21 = (TaskGroupContext *)*in_stack_00000010;
    if (in_stack_00000008 != *(FastAllocator **)(pTVar21 + 8)) {
      embree::MutexSys::lock();
      if (*(long *)(pTVar21 + 8) != 0) {
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x118) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x118) +
             *(long *)(pTVar21 + 0xa8) + *(long *)(pTVar21 + 0x68);
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x120) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x120) +
             (((*(long *)(pTVar21 + 0x98) + *(long *)(pTVar21 + 0x58)) - *(long *)(pTVar21 + 0x50))
             - *(long *)(pTVar21 + 0x90));
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pTVar21 + 8) + 0x128) =
             *(long *)(*(long *)(pTVar21 + 8) + 0x128) +
             *(long *)(pTVar21 + 0xb0) + *(long *)(pTVar21 + 0x70);
        UNLOCK();
      }
      *(undefined8 *)(pTVar21 + 0x48) = 0;
      *(undefined8 *)(pTVar21 + 0x58) = 0;
      *(undefined8 *)(pTVar21 + 0x50) = 0;
      *(undefined8 *)(pTVar21 + 0x68) = 0;
      *(undefined8 *)(pTVar21 + 0x70) = 0;
      *(undefined8 *)(pTVar21 + 0x60) = 0;
      if (in_stack_00000008 == (FastAllocator *)0x0) {
        *(undefined8 *)(pTVar21 + 0x88) = 0;
        uVar7 = 0;
        *(undefined8 *)(pTVar21 + 0x98) = 0;
        *(undefined8 *)(pTVar21 + 0x90) = 0;
        *(undefined8 *)(pTVar21 + 0xa8) = 0;
        *(undefined8 *)(pTVar21 + 0xb0) = 0;
      }
      else {
        uVar7 = *(undefined8 *)(in_stack_00000008 + 0x10);
        *(undefined8 *)(pTVar21 + 0x88) = 0;
        *(undefined8 *)(pTVar21 + 0x98) = 0;
        *(undefined8 *)(pTVar21 + 0x60) = uVar7;
        *(undefined8 *)(pTVar21 + 0x90) = 0;
        *(undefined8 *)(pTVar21 + 0xa8) = 0;
        *(undefined8 *)(pTVar21 + 0xb0) = 0;
        *(undefined8 *)(pTVar21 + 0xa0) = 0;
        uVar7 = *(undefined8 *)(in_stack_00000008 + 0x10);
      }
      *(undefined8 *)(pTVar21 + 0xa0) = uVar7;
      LOCK();
      *(FastAllocator **)(pTVar21 + 8) = in_stack_00000008;
      UNLOCK();
      local_7d8 = pTVar21;
      embree::MutexSys::lock();
      puVar9 = *(undefined8 **)(in_stack_00000008 + 0x138);
      if (puVar9 == *(undefined8 **)(in_stack_00000008 + 0x140)) {
        std::
        vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
        ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                  ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                    *)(in_stack_00000008 + 0x130),puVar9,&local_7d8);
      }
      else {
        *puVar9 = pTVar21;
        *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
      }
      embree::MutexSys::unlock();
      embree::MutexSys::unlock();
      uVar38 = _LC11;
      uVar39 = _UNK_001336d4;
      uVar40 = _UNK_001336d8;
      uVar41 = _UNK_001336dc;
      uVar42 = _LC9;
      uVar43 = _UNK_001336c4;
      uVar44 = _UNK_001336c8;
      uVar45 = _UNK_001336cc;
    }
    lVar11 = in_stack_00000010[2];
    in_stack_00000010[5] = in_stack_00000010[5] + 0x80;
    uVar17 = (ulong)(-(int)lVar11 & 0xf);
    uVar3 = lVar11 + 0x80 + uVar17;
    in_stack_00000010[2] = uVar3;
    if ((ulong)in_stack_00000010[3] < uVar3) {
      in_stack_00000010[2] = lVar11;
      if ((TaskGroupContext *)in_stack_00000010[4] < (TaskGroupContext *)0x200) {
        puVar9 = (undefined8 *)FastAllocator::malloc(in_stack_00000008,&local_7e0,0x40,false);
        uVar38 = _LC11;
        uVar39 = _UNK_001336d4;
        uVar40 = _UNK_001336d8;
        uVar41 = _UNK_001336dc;
        uVar42 = _LC9;
        uVar43 = _UNK_001336c4;
        uVar44 = _UNK_001336c8;
        uVar45 = _UNK_001336cc;
      }
      else {
        local_7d8 = (TaskGroupContext *)in_stack_00000010[4];
        puVar9 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_7d8,0x40,true);
        uVar41 = _UNK_001336dc;
        uVar40 = _UNK_001336d8;
        uVar39 = _UNK_001336d4;
        uVar38 = _LC11;
        uVar45 = _UNK_001336cc;
        uVar44 = _UNK_001336c8;
        uVar43 = _UNK_001336c4;
        uVar42 = _LC9;
        in_stack_00000010[1] = puVar9;
        lVar11 = in_stack_00000010[2];
        in_stack_00000010[2] = 0x80;
        in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - lVar11;
        in_stack_00000010[3] = local_7d8;
        if (local_7d8 < (TaskGroupContext *)0x80) {
          in_stack_00000010[2] = 0;
          local_7d8 = (TaskGroupContext *)in_stack_00000010[4];
          puVar9 = (undefined8 *)
                   FastAllocator::malloc(in_stack_00000008,(ulong *)&local_7d8,0x40,false);
          uVar41 = _UNK_001336dc;
          uVar40 = _UNK_001336d8;
          uVar39 = _UNK_001336d4;
          uVar38 = _LC11;
          uVar45 = _UNK_001336cc;
          uVar44 = _UNK_001336c8;
          uVar43 = _UNK_001336c4;
          uVar42 = _LC9;
          in_stack_00000010[1] = puVar9;
          lVar11 = in_stack_00000010[2];
          in_stack_00000010[2] = 0x80;
          in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - lVar11;
          in_stack_00000010[3] = local_7d8;
          if (local_7d8 < (TaskGroupContext *)0x80) {
            puVar9 = (undefined8 *)0x0;
            in_stack_00000010[2] = 0;
          }
        }
      }
    }
    else {
      in_stack_00000010[6] = in_stack_00000010[6] + uVar17;
      puVar9 = (undefined8 *)(in_stack_00000010[1] + -0x80 + uVar3);
    }
    *puVar9 = 8;
    puVar9[1] = 8;
    puVar9[2] = 8;
    puVar9[3] = 8;
    *(undefined4 *)(puVar9 + 0xc) = uVar42;
    *(undefined4 *)((long)puVar9 + 100) = uVar43;
    *(undefined4 *)(puVar9 + 0xd) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x6c) = uVar45;
    *(undefined4 *)(puVar9 + 8) = uVar42;
    *(undefined4 *)((long)puVar9 + 0x44) = uVar43;
    *(undefined4 *)(puVar9 + 9) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x4c) = uVar45;
    *(undefined4 *)(puVar9 + 4) = uVar42;
    *(undefined4 *)((long)puVar9 + 0x24) = uVar43;
    *(undefined4 *)(puVar9 + 5) = uVar44;
    *(undefined4 *)((long)puVar9 + 0x2c) = uVar45;
    *(undefined4 *)(puVar9 + 0xe) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x74) = uVar39;
    *(undefined4 *)(puVar9 + 0xf) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x7c) = uVar41;
    *(undefined4 *)(puVar9 + 10) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x54) = uVar39;
    *(undefined4 *)(puVar9 + 0xb) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x5c) = uVar41;
    *(undefined4 *)(puVar9 + 6) = uVar38;
    *(undefined4 *)((long)puVar9 + 0x34) = uVar39;
    *(undefined4 *)(puVar9 + 7) = uVar40;
    *(undefined4 *)((long)puVar9 + 0x3c) = uVar41;
    puVar4 = puVar9 + 4;
    puVar8 = &local_748;
    do {
      uVar3 = puVar8[3];
      puVar5 = (undefined8 *)((long)puVar4 + 4);
      uVar17 = puVar8[2];
      uVar16 = puVar8[5];
      uVar42 = *(undefined4 *)((long)puVar8 + 0x24);
      uVar10 = puVar8[4];
      *(undefined4 *)(puVar4 + 4) = *(undefined4 *)((long)puVar8 + 0x14);
      *(int *)puVar4 = (int)uVar17;
      *(int *)(puVar4 + 8) = (int)uVar3;
      *(int *)(puVar4 + 2) = (int)uVar10;
      *(undefined4 *)(puVar4 + 6) = uVar42;
      *(int *)(puVar4 + 10) = (int)uVar16;
      puVar4 = puVar5;
      puVar8 = puVar8 + 0xe;
    } while (puVar5 != (undefined8 *)((long)puVar9 + uVar25 * 4 + 0x20));
    uVar3 = 0;
    puVar8 = &local_748;
    do {
      puVar6 = (ulong *)createLargeLeaf(param_1,puVar8);
      local_7d0[uVar3 + 1] = puVar6;
      uVar3 = uVar3 + 1;
      puVar8 = puVar8 + 0xe;
    } while (uVar25 != uVar3);
    *puVar9 = local_7d0[1];
    *(undefined8 *)((long)puVar9 + ((local_8d0 & 0xffffffff) - 8)) =
         *(undefined8 *)((long)local_7d0 + (local_8d0 & 0xffffffff));
    lVar11 = (long)puVar9 - (long)((ulong)(puVar9 + 1) & 0xfffffffffffffff8);
    puVar4 = (undefined8 *)((long)local_7d0 + (8 - lVar11));
    puVar5 = (undefined8 *)((ulong)(puVar9 + 1) & 0xfffffffffffffff8);
    for (uVar3 = (ulong)((uint)((int)local_8d0 + (int)lVar11) >> 3); uVar3 != 0; uVar3 = uVar3 - 1)
    {
      *puVar5 = *puVar4;
      puVar4 = puVar4 + (ulong)bVar26 * -2 + 1;
      puVar5 = puVar5 + (ulong)bVar26 * -2 + 1;
    }
  }
  else {
    puVar9 = *(undefined8 **)(param_2[10] * 0x40 + param_1[8] + 0x20);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return puVar9;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 uVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  
  uVar4 = *(ulong *)(this + 8);
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar4 - uVar5) {
    uVar4 = uVar4 + uVar5 >> 1;
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar5,uVar4,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar4,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar5 < uVar4) {
    do {
      lVar6 = **(long **)(this + 0x28) + uVar5;
      puVar3 = (undefined8 *)(uVar5 * 0x40 + **(long **)(this + 0x20));
      uVar5 = uVar5 + 1;
      uVar1 = puVar3[1];
      puVar2 = (undefined8 *)(**(long **)(this + 0x20) + lVar6 * 0x40);
      *puVar2 = *puVar3;
      puVar2[1] = uVar1;
      uVar1 = puVar3[3];
      puVar2[2] = puVar3[2];
      puVar2[3] = uVar1;
      puVar2[4] = puVar3[4];
      *(undefined4 *)(puVar2 + 5) = *(undefined4 *)(puVar3 + 5);
    } while (uVar4 != uVar5);
  }
  return;
}



/* embree::PrimInfoT<embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   > const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long, unsigned
   long, unsigned long, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   > const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#2} const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_2_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,PrimInfoT_conflict *param_5
                ,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
                *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  long lVar5;
  long lVar6;
  long in_FS_OFFSET;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  ulong local_20d8;
  ulong local_20d0;
  ulong local_20c8;
  ulong **local_20c0;
  ulong **local_20b8;
  ulong *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  undefined1 (*local_2098) [16];
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
  *local_2090;
  undefined1 local_2080 [8160];
  undefined1 (*local_a0) [16];
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20d8 = param_4;
  local_20d0 = param_3;
  local_20c8 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20c8) {
    local_20c8 = 0x200;
  }
  if (uVar2 < local_20c8) {
    local_20c8 = uVar2;
  }
  local_98 = local_20c8;
  if (local_20c8 * 0x50 < 0x2001) {
    local_a0 = (undefined1 (*) [16])local_2080;
  }
  else {
    local_a0 = (undefined1 (*) [16])embree::alignedMalloc(local_20c8 * 0x50,0x40);
  }
  local_20b0 = &local_20d0;
  local_20a8 = &local_20d8;
  local_20a0 = &local_20c8;
  local_2090 = param_7;
  local_2098 = (undefined1 (*) [16])local_2080;
  if (local_20c8 == 0) {
    uVar1 = *(undefined8 *)(param_6 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_6 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
    *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_6 + 0x40);
    *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_6 + 0x48);
  }
  else {
    local_20b8 = &local_20b0;
    local_20c0 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse226HeuristicArrayOpenMergeSAHIZNS9_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMiILi4EEEE5buildEvEUlRNSF_8BuildRefEPSG_E5_SG_Lm32EE22openNodesBasedOnExtendERNS9_16PrimInfoExtRangeEEUlRKNS_5rangeImEEE_ZNSK_22openNodesBasedOnExtendESM_EUlRKS8_ST_E0_EET0_T_SW_SW_SW_RKSV_RKT1_RKT2_EUlmE_EEvSW_SY_EUlSQ_E_EEvSW_SW_SW_SY_PNS0_16TaskGroupContextE
              (0,local_20c8,1,&local_20b8,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != (ulong **)0x0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20b8);
      goto LAB_0011ad09;
    }
    auVar8 = *(undefined1 (*) [16])param_6;
    *(undefined1 (*) [16])param_1 = auVar8;
    auVar7 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar9 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
    auVar10 = *(undefined1 (*) [16])(param_6 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
    lVar6 = *(long *)(param_6 + 0x40);
    lVar5 = *(long *)(param_6 + 0x48);
    *(long *)(param_1 + 0x40) = lVar6;
    *(long *)(param_1 + 0x48) = lVar5;
    if (local_20c8 != 0) {
      pauVar3 = local_a0;
      do {
        auVar8 = minps(auVar8,*pauVar3);
        auVar7 = maxps(auVar7,pauVar3[1]);
        pauVar4 = pauVar3 + 5;
        auVar9 = minps(auVar9,pauVar3[2]);
        auVar10 = maxps(auVar10,pauVar3[3]);
        lVar6 = lVar6 + *(long *)pauVar3[4];
        lVar5 = lVar5 + *(long *)(pauVar3[4] + 8);
        *(long *)(param_1 + 0x48) = lVar5;
        *(long *)(param_1 + 0x40) = lVar6;
        *(undefined1 (*) [16])param_1 = auVar8;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
        pauVar3 = pauVar4;
      } while (local_a0 + local_20c8 * 5 != pauVar4);
    }
  }
  if (local_a0 != (undefined1 (*) [16])local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_0011ad09:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&) */

void __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::openNodesBasedOnExtend
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
           *this,PrimInfoExtRange *param_1)

{
  ulong uVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  float fVar5;
  float fVar7;
  float fVar8;
  undefined1 auVar6 [16];
  undefined8 local_108;
  long local_100;
  long local_f8;
  float local_f0;
  ulong local_e8;
  ulong local_e0;
  long *local_d8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  *local_d0;
  long *local_c8;
  undefined1 *local_c0;
  _lambda_embree__range<unsigned_long>const___1_ local_b8 [32];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  float local_68 [4];
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  float local_48;
  float fStack_44;
  float fStack_40;
  float fStack_3c;
  undefined4 local_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined8 local_28;
  undefined8 local_20;
  long local_10;
  
  local_c0 = (undefined1 *)&local_108;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_68[0] = *(float *)(param_1 + 0x10) - *(float *)param_1;
  local_68[1] = *(float *)(param_1 + 0x14) - *(float *)(param_1 + 4);
  local_68[2] = *(float *)(param_1 + 0x18) - *(float *)(param_1 + 8);
  fVar5 = (float)((uint)(*(float *)(param_1 + 0x10) - *(float *)param_1) & _LC37);
  fVar7 = (float)((uint)(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4)) & _LC37);
  fVar8 = (float)((uint)(*(float *)(param_1 + 0x18) - *(float *)(param_1 + 8)) & _LC37);
  if (fVar5 <= fVar7) {
    lVar3 = 4;
    if (fVar7 <= fVar8) {
      lVar3 = 8;
    }
    local_f8 = 1;
    if (fVar7 <= fVar8) {
      local_f8 = 2;
    }
  }
  else {
    uVar2 = (ulong)(fVar5 <= fVar8);
    local_f8 = uVar2 * 2;
    lVar3 = uVar2 * 8;
  }
  local_f0 = _LC39 / *(float *)((long)local_68 + lVar3);
  local_108 = *(undefined8 *)(param_1 + 0x48);
  LOCK();
  local_100 = 0;
  UNLOCK();
  uVar2 = *(ulong *)(param_1 + 0x48);
  local_d8 = &local_f8;
  local_c8 = &local_100;
  uVar1 = *(ulong *)(param_1 + 0x40);
  uVar4 = (uVar2 + 0x7f) - uVar1 >> 7;
  local_68[0] = _LC9;
  local_68[1] = _LC9;
  local_68[2] = _LC9;
  local_68[3] = _LC9;
  local_28 = 0;
  local_20 = 0;
  local_58 = _LC11;
  uStack_54 = _LC11;
  uStack_50 = _LC11;
  uStack_4c = _LC11;
  local_48 = _LC9;
  fStack_44 = _LC9;
  fStack_40 = _LC9;
  fStack_3c = _LC9;
  local_38 = _LC11;
  uStack_34 = _LC11;
  uStack_30 = _LC11;
  uStack_2c = _LC11;
  local_d0 = this;
  if (uVar4 == 1) {
    local_e8 = uVar1;
    local_e0 = uVar2;
    local_c0 = (undefined1 *)&local_108;
    openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::
    {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_b8,(range *)&local_d8);
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_2_>
              ((ulong)local_b8,uVar4,uVar1,uVar2,(PrimInfoT_conflict *)0x80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)local_68,
               (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_d8);
  }
  auVar6 = minps(*(undefined1 (*) [16])(param_1 + 0x20),local_98);
  *(undefined1 (*) [16])(param_1 + 0x20) = auVar6;
  auVar6 = maxps(*(undefined1 (*) [16])(param_1 + 0x30),local_88);
  *(undefined1 (*) [16])(param_1 + 0x30) = auVar6;
  *(long *)(param_1 + 0x48) = *(long *)(param_1 + 0x48) + local_100;
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011b41d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_001330d0;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011b6b3:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_001330d0;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011b6b3;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)#1},embree::sse2::HeuristicA...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
  ::
  partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#1}::operator()(*(_lambda_unsigned_long__1_ **)(this + 0x20),uVar1);
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011bb5d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_001330e8;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011bdf3:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_001330e8;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011bdf3;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)#1},embree::sse2::HeuristicA...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
  ::
  partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#2}::operator()(*(_lambda_unsigned_long__2_ **)(this + 0x20),uVar1);
  return;
}



/* unsigned long embree::parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#3}>(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef*, unsigned long, unsigned long,
   embree::EmptyTy const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef
   const&)#2} const&, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#3} const&, unsigned long) */

ulong embree::
      parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::____:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_3_>
                (BuildRef *param_1,ulong param_2,ulong param_3,EmptyTy *param_4,
                PrimInfoT_conflict *param_5,PrimInfoT_conflict *param_6,
                _lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>__BuildRef_const___1_
                *param_7,_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>__BuildRef_const___2_
                         *param_8,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                *param_9,ulong param_10)

{
  undefined4 uVar1;
  undefined8 uVar2;
  int *piVar3;
  uint *puVar4;
  undefined1 auVar5 [16];
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  bool bVar10;
  bool bVar11;
  float fVar12;
  PrimInfoT_conflict *pPVar13;
  ulong uVar14;
  PrimInfoT_conflict *pPVar15;
  PrimInfoT_conflict *pPVar16;
  int iVar17;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var18;
  long *plVar19;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var20;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var21;
  PrimInfoT_conflict *pPVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  ulong uVar28;
  long in_FS_OFFSET;
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  int iVar32;
  int iVar35;
  int iVar36;
  int iVar37;
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar38 [16];
  uint uVar39;
  uint uVar40;
  uint uVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  float fVar52;
  float fVar53;
  long local_d0;
  long local_c8;
  PrimInfoT_conflict *local_c0;
  PrimInfoT_conflict *local_b8;
  PrimInfoT_conflict *local_b0;
  PrimInfoT_conflict *pPStack_a8;
  PrimInfoT_conflict *local_a0;
  PrimInfoT_conflict *pPStack_98;
  long *local_90;
  long *local_88;
  TaskGroupContext *local_80;
  long local_48;
  
  auVar29._8_8_ = param_7;
  auVar29._0_8_ = param_3;
  uVar28 = param_3 - param_2;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)(param_1 + param_2 * 0x40);
  if (uVar28 < param_10) {
LAB_0011c328:
    fVar12 = _LC14;
    plVar19 = auVar29._8_8_;
    p_Var20 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1 +
              auVar29._0_8_ * 0x40 + -0x40;
    for (; p_Var18 <= p_Var20; p_Var18 = p_Var18 + 0x40) {
      auVar29 = *(undefined1 (*) [16])(p_Var18 + 0x10);
      auVar30 = *(undefined1 (*) [16])p_Var18;
      lVar24 = *plVar19;
      fVar50 = auVar29._0_4_ + auVar30._0_4_;
      fVar51 = auVar29._4_4_ + auVar30._4_4_;
      fVar52 = auVar29._8_4_ + auVar30._8_4_;
      fVar53 = auVar29._12_4_ + auVar30._12_4_;
      fVar46 = *(float *)(lVar24 + 0x20);
      fVar47 = *(float *)(lVar24 + 0x24);
      fVar48 = *(float *)(lVar24 + 0x28);
      fVar49 = *(float *)(lVar24 + 0x2c);
      fVar42 = *(float *)(lVar24 + 0x30);
      fVar43 = *(float *)(lVar24 + 0x34);
      fVar44 = *(float *)(lVar24 + 0x38);
      fVar45 = *(float *)(lVar24 + 0x3c);
      piVar3 = (int *)plVar19[1];
      iVar32 = *piVar3;
      iVar35 = piVar3[1];
      iVar36 = piVar3[2];
      iVar37 = piVar3[3];
      puVar4 = (uint *)plVar19[2];
      uVar23 = *puVar4;
      uVar39 = puVar4[1];
      uVar40 = puVar4[2];
      uVar41 = puVar4[3];
      auVar34._0_4_ = -(uint)((int)((fVar50 - fVar46) * fVar42 + fVar12) < iVar32) & uVar23;
      auVar34._4_4_ = -(uint)((int)((fVar51 - fVar47) * fVar43 + fVar12) < iVar35) & uVar39;
      auVar34._8_4_ = -(uint)((int)((fVar52 - fVar48) * fVar44 + fVar12) < iVar36) & uVar40;
      auVar34._12_4_ = -(uint)((int)((fVar53 - fVar49) * fVar45 + fVar12) < iVar37) & uVar41;
      iVar17 = movmskps((int)puVar4,auVar34);
      p_Var21 = p_Var20;
      if (iVar17 == 0) {
        while( true ) {
          auVar29 = *(undefined1 (*) [16])(p_Var21 + 0x10);
          auVar30 = *(undefined1 (*) [16])p_Var21;
          p_Var20 = p_Var21 + -0x40;
          auVar38._0_4_ = auVar29._0_4_ + auVar30._0_4_;
          auVar38._4_4_ = auVar29._4_4_ + auVar30._4_4_;
          auVar38._8_4_ = auVar29._8_4_ + auVar30._8_4_;
          auVar38._12_4_ = auVar29._12_4_ + auVar30._12_4_;
          auVar33._0_4_ =
               -(uint)((int)((auVar38._0_4_ - fVar46) * fVar42 + fVar12) < iVar32) & uVar23;
          auVar33._4_4_ =
               -(uint)((int)((auVar38._4_4_ - fVar47) * fVar43 + fVar12) < iVar35) & uVar39;
          auVar33._8_4_ =
               -(uint)((int)((auVar38._8_4_ - fVar48) * fVar44 + fVar12) < iVar36) & uVar40;
          auVar33._12_4_ =
               -(uint)((int)((auVar38._12_4_ - fVar49) * fVar45 + fVar12) < iVar37) & uVar41;
          uVar23 = movmskps((int)param_9,auVar33);
          param_9 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                     *)(ulong)uVar23;
          if (uVar23 != 0) break;
          *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + 1;
          auVar30 = minps(*(undefined1 (*) [16])param_6,auVar30);
          *(undefined1 (*) [16])param_6 = auVar30;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar29);
          *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
          auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
          if (p_Var20 < p_Var18) goto LAB_0011c3eb;
          lVar24 = *plVar19;
          fVar46 = *(float *)(lVar24 + 0x20);
          fVar47 = *(float *)(lVar24 + 0x24);
          fVar48 = *(float *)(lVar24 + 0x28);
          fVar49 = *(float *)(lVar24 + 0x2c);
          fVar42 = *(float *)(lVar24 + 0x30);
          fVar43 = *(float *)(lVar24 + 0x34);
          fVar44 = *(float *)(lVar24 + 0x38);
          fVar45 = *(float *)(lVar24 + 0x3c);
          piVar3 = (int *)plVar19[1];
          iVar32 = *piVar3;
          iVar35 = piVar3[1];
          iVar36 = piVar3[2];
          iVar37 = piVar3[3];
          puVar4 = (uint *)plVar19[2];
          uVar23 = *puVar4;
          uVar39 = puVar4[1];
          uVar40 = puVar4[2];
          uVar41 = puVar4[3];
          p_Var21 = p_Var20;
        }
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + 1;
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        auVar29 = *(undefined1 (*) [16])p_Var18;
        auVar30 = *(undefined1 (*) [16])(p_Var18 + 0x10);
        *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + 1;
        auVar34 = minps(*(undefined1 (*) [16])param_6,auVar29);
        *(undefined1 (*) [16])param_6 = auVar34;
        auVar34 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar30);
        auVar31._0_4_ = auVar30._0_4_ + auVar29._0_4_;
        auVar31._4_4_ = auVar30._4_4_ + auVar29._4_4_;
        auVar31._8_4_ = auVar30._8_4_ + auVar29._8_4_;
        auVar31._12_4_ = auVar30._12_4_ + auVar29._12_4_;
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar34;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        uVar2 = *(undefined8 *)(p_Var21 + 8);
        uVar6 = *(undefined8 *)p_Var18;
        uVar7 = *(undefined8 *)(p_Var18 + 8);
        uVar8 = *(undefined8 *)(p_Var18 + 0x10);
        uVar9 = *(undefined8 *)(p_Var18 + 0x18);
        param_9 = *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                    **)(p_Var18 + 0x20);
        *(undefined8 *)p_Var18 = *(undefined8 *)p_Var21;
        *(undefined8 *)(p_Var18 + 8) = uVar2;
        uVar2 = *(undefined8 *)(p_Var21 + 0x18);
        uVar1 = *(undefined4 *)(p_Var18 + 0x28);
        local_80 = (TaskGroupContext *)param_9;
        *(undefined8 *)(p_Var18 + 0x10) = *(undefined8 *)(p_Var21 + 0x10);
        *(undefined8 *)(p_Var18 + 0x18) = uVar2;
        *(undefined8 *)(p_Var18 + 0x20) = *(undefined8 *)(p_Var21 + 0x20);
        *(undefined4 *)(p_Var18 + 0x28) = *(undefined4 *)(p_Var21 + 0x28);
        *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
          **)(p_Var21 + 0x20) = param_9;
        *(undefined8 *)p_Var21 = uVar6;
        *(undefined8 *)(p_Var21 + 8) = uVar7;
        *(undefined8 *)(p_Var21 + 0x10) = uVar8;
        *(undefined8 *)(p_Var21 + 0x18) = uVar9;
        *(undefined4 *)(p_Var21 + 0x28) = uVar1;
      }
      else {
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + 1;
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar30._4_4_ = fVar51;
        auVar30._0_4_ = fVar50;
        auVar30._8_4_ = fVar52;
        auVar30._12_4_ = fVar53;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar30);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar5._4_4_ = fVar51;
        auVar5._0_4_ = fVar50;
        auVar5._8_4_ = fVar52;
        auVar5._12_4_ = fVar53;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar5);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
      }
    }
LAB_0011c3eb:
    pPVar15 = (PrimInfoT_conflict *)((long)p_Var18 - (long)param_1 >> 6);
  }
  else {
    pPVar13 = (PrimInfoT_conflict *)embree::alignedMalloc(0x34c0,0x40);
    *(ulong *)(pPVar13 + 8) = uVar28;
    *(_lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>__BuildRef_const___1_
      **)(pPVar13 + 0x10) = param_7;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)pPVar13 = p_Var18;
    *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>__BuildRef_const___2_
      **)(pPVar13 + 0x18) = param_8;
    *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
      **)(pPVar13 + 0x20) = param_9;
    *(EmptyTy **)(pPVar13 + 0x28) = param_4;
    uVar14 = embree::TaskScheduler::threadCount();
    uVar28 = ((uVar28 - 1) + param_10) / param_10;
    if (0x40 < uVar28) {
      uVar28 = 0x40;
    }
    if (uVar28 <= uVar14) {
      uVar14 = uVar28;
    }
    *(ulong *)(pPVar13 + 0x30) = uVar14;
    local_a0 = pPVar13;
    if (uVar14 == 0) {
      *(undefined8 *)(pPVar13 + 0x280) = 0;
      *(undefined8 *)(pPVar13 + 0x40) = *(undefined8 *)(pPVar13 + 8);
LAB_0011bfd2:
      pPVar15 = *(PrimInfoT_conflict **)(pPVar13 + 0x280);
    }
    else {
      param_9 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                 *)&local_b8;
      local_b8 = (PrimInfoT_conflict *)0x0;
      param_1 = (BuildRef *)&local_b0;
      p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1;
      local_b0 = (PrimInfoT_conflict *)&local_a0;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar14,1,(_lambda_embree__range<unsigned_long>_const___1_ *)param_1,
                 (TaskGroupContext *)param_9);
      embree::TaskScheduler::wait();
      if (local_b8 != (PrimInfoT_conflict *)0x0) {
LAB_0011c308:
        local_b0 = local_b8;
        std::__exception_ptr::exception_ptr::_M_addref();
        auVar29 = std::rethrow_exception();
        goto LAB_0011c328;
      }
      lVar24 = *(long *)(pPVar13 + 0x30);
      uVar2 = *(undefined8 *)(pPVar13 + 8);
      *(undefined8 *)(pPVar13 + lVar24 * 8 + 0x280) = 0;
      *(undefined8 *)(pPVar13 + lVar24 * 8 + 0x40) = uVar2;
      if (lVar24 == 0) goto LAB_0011bfd2;
      uVar28 = 0;
      pPVar15 = pPVar13 + 0xcc0;
      do {
        auVar29 = minps(*(undefined1 (*) [16])param_5,*(undefined1 (*) [16])pPVar15);
        uVar28 = uVar28 + 1;
        *(undefined1 (*) [16])param_5 = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),
                        *(undefined1 (*) [16])(pPVar15 + 0x10));
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),
                        *(undefined1 (*) [16])(pPVar15 + 0x20));
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),
                        *(undefined1 (*) [16])(pPVar15 + 0x30));
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        *(long *)(param_5 + 0x40) = *(long *)(param_5 + 0x40) + *(long *)(pPVar15 + 0x40);
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + *(long *)(pPVar15 + 0x48);
        auVar29 = minps(*(undefined1 (*) [16])param_6,*(undefined1 (*) [16])(pPVar15 + 0x1400));
        *(undefined1 (*) [16])param_6 = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),
                        *(undefined1 (*) [16])(pPVar15 + 0x1410));
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),
                        *(undefined1 (*) [16])(pPVar15 + 0x1420));
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),
                        *(undefined1 (*) [16])(pPVar15 + 0x1430));
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        *(long *)(param_6 + 0x40) = *(long *)(param_6 + 0x40) + *(long *)(pPVar15 + 0x1440);
        *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + *(long *)(pPVar15 + 0x1448);
        uVar14 = *(ulong *)(pPVar13 + 0x30);
        pPVar15 = pPVar15 + 0x50;
      } while (uVar28 < uVar14);
      pPVar15 = *(PrimInfoT_conflict **)(pPVar13 + 0x280);
      param_5 = pPVar15;
      if (uVar14 < 2) {
        pPVar16 = *(PrimInfoT_conflict **)(pPVar13 + 8);
        local_d0 = 0;
        local_c8 = 0;
        local_c0 = (PrimInfoT_conflict *)0x0;
        if (uVar14 == 0) goto LAB_0011bfe0;
      }
      else {
        pPVar16 = pPVar13 + 0x288;
        do {
          param_5 = param_5 + *(long *)pPVar16;
          pPVar16 = pPVar16 + 8;
        } while (pPVar13 + uVar14 * 8 + 0x280 != pPVar16);
        pPVar16 = *(PrimInfoT_conflict **)(pPVar13 + 8);
      }
      local_c0 = (PrimInfoT_conflict *)0x0;
      local_c8 = 0;
      local_d0 = 0;
      bVar11 = false;
      bVar10 = false;
      param_6 = (PrimInfoT_conflict *)0x0;
      pPVar22 = pPVar13 + 0x40;
      lVar24 = 0;
      lVar26 = 0;
      while( true ) {
        local_a0 = *(PrimInfoT_conflict **)pPVar22;
        pPStack_98 = pPVar15 + (long)local_a0;
        pPStack_a8 = *(PrimInfoT_conflict **)(pPVar22 + 8);
        if ((long)param_5 <= (long)*(PrimInfoT_conflict **)(pPVar22 + 8)) {
          pPStack_a8 = param_5;
        }
        local_b0 = (PrimInfoT_conflict *)0x0;
        if (-1 < (long)pPStack_98) {
          local_b0 = pPStack_98;
        }
        if ((long)pPVar16 <= (long)pPStack_98) {
          pPStack_98 = pPVar16;
        }
        if ((long)local_a0 < (long)param_5) {
          local_a0 = param_5;
        }
        lVar25 = lVar24;
        if ((long)local_b0 < (long)pPStack_a8) {
          bVar10 = true;
          param_6 = param_6 + ((long)pPStack_a8 - (long)local_b0);
          lVar25 = lVar24 + 1;
          *(PrimInfoT_conflict **)(pPVar13 + lVar24 * 0x10 + 0x4c0) = local_b0;
          *(PrimInfoT_conflict **)(pPVar13 + lVar24 * 0x10 + 0x4c0 + 8) = pPStack_a8;
        }
        lVar27 = lVar26;
        if ((long)local_a0 < (long)pPStack_98) {
          bVar11 = true;
          lVar27 = lVar26 + 1;
          *(PrimInfoT_conflict **)(pPVar13 + lVar26 * 0x10 + 0x8c0) = local_a0;
          *(PrimInfoT_conflict **)(pPVar13 + lVar26 * 0x10 + 0x8c0 + 8) = pPStack_98;
        }
        if (pPVar13 + 0x40 + uVar14 * 8 == pPVar22 + 8) break;
        pPVar15 = *(PrimInfoT_conflict **)(pPVar22 + 0x248);
        pPVar22 = pPVar22 + 8;
        lVar24 = lVar25;
        lVar26 = lVar27;
      }
      if (bVar11) {
        local_c8 = lVar27;
      }
      pPVar15 = param_5;
      if ((bVar10) && (local_d0 = lVar25, local_c0 = param_6, param_6 != (PrimInfoT_conflict *)0x0))
      {
        local_a0 = (PrimInfoT_conflict *)&local_c0;
        local_90 = &local_d0;
        local_88 = &local_c8;
        local_b8 = (PrimInfoT_conflict *)0x0;
        p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1;
        local_b0 = (PrimInfoT_conflict *)&local_a0;
        pPStack_98 = pPVar13;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,uVar14,1,(_lambda_embree__range<unsigned_long>_const___1_ *)param_1,
                   (TaskGroupContext *)param_9);
        embree::TaskScheduler::wait();
        if (local_b8 != (PrimInfoT_conflict *)0x0) goto LAB_0011c308;
      }
    }
LAB_0011bfe0:
    if (pPVar13 != (PrimInfoT_conflict *)0x0) {
      embree::alignedFree(pPVar13);
    }
    pPVar15 = pPVar15 + param_2;
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return (ulong)pPVar15;
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&, embree::sse2::PrimInfoExtRange&) */

long __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::parallel_object_split
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
           *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  EmptyTy local_11b;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>__BuildRef_const___2_
  local_11a;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
  local_119;
  BinSplit *local_118;
  undefined4 *local_110;
  undefined8 *local_108;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  long local_b8;
  long local_b0;
  undefined4 local_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined8 local_68;
  undefined8 local_60;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  uVar1 = *(ulong *)(param_2 + 0x48);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = *(undefined4 *)(param_1 + 8);
  uVar2 = *(ulong *)(param_2 + 0x40);
  local_b8 = 0;
  lVar3 = (long)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f));
  local_e8 = _LC11;
  uStack_e4 = _LC11;
  uStack_e0 = _LC11;
  uStack_dc = _LC11;
  local_48 = (&mm_lookupmask_ps)[lVar3 * 2];
  uStack_40 = *(undefined8 *)(embree::TaskScheduler::threadCount + lVar3 * 0x10);
  local_c8 = _LC11;
  uStack_c4 = _LC11;
  uStack_c0 = _LC11;
  uStack_bc = _LC11;
  local_110 = &local_58;
  local_98 = _LC11;
  uStack_94 = _LC11;
  uStack_90 = _LC11;
  uStack_8c = _LC11;
  local_78 = _LC11;
  uStack_74 = _LC11;
  uStack_70 = _LC11;
  uStack_6c = _LC11;
  local_f8 = _LC9;
  uStack_f4 = _LC9;
  uStack_f0 = _LC9;
  uStack_ec = _LC9;
  local_d8 = _LC9;
  uStack_d4 = _LC9;
  uStack_d0 = _LC9;
  uStack_cc = _LC9;
  local_a8 = _LC9;
  uStack_a4 = _LC9;
  uStack_a0 = _LC9;
  uStack_9c = _LC9;
  local_88 = _LC9;
  uStack_84 = _LC9;
  uStack_80 = _LC9;
  uStack_7c = _LC9;
  local_b0 = 0;
  local_68 = 0;
  local_60 = 0;
  local_108 = &local_48;
  local_118 = param_1;
  uStack_54 = local_58;
  uStack_50 = local_58;
  uStack_4c = local_58;
  uVar4 = parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::____:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_3_>
                    (*(BuildRef **)this,uVar2,uVar1,&local_11b,(PrimInfoT_conflict *)&local_f8,
                     (PrimInfoT_conflict *)&local_a8,
                     (_lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>__BuildRef_const___1_
                      *)&local_118,&local_11a,&local_119,0x80);
  *(ulong *)(param_3 + 0x40) = uVar2;
  *(ulong *)(param_3 + 0x48) = uVar4;
  *(ulong *)(param_3 + 0x50) = uVar4;
  *(ulong *)param_3 = CONCAT44(uStack_f4,local_f8);
  *(ulong *)(param_3 + 8) = CONCAT44(uStack_ec,uStack_f0);
  *(ulong *)(param_3 + 0x10) = CONCAT44(uStack_e4,local_e8);
  *(ulong *)(param_3 + 0x18) = CONCAT44(uStack_dc,uStack_e0);
  *(undefined4 *)(param_3 + 0x20) = local_d8;
  *(undefined4 *)(param_3 + 0x24) = uStack_d4;
  *(undefined4 *)(param_3 + 0x28) = uStack_d0;
  *(undefined4 *)(param_3 + 0x2c) = uStack_cc;
  *(undefined4 *)(param_3 + 0x30) = local_c8;
  *(undefined4 *)(param_3 + 0x34) = uStack_c4;
  *(undefined4 *)(param_3 + 0x38) = uStack_c0;
  *(undefined4 *)(param_3 + 0x3c) = uStack_bc;
  *(ulong *)(param_4 + 0x40) = uVar4;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(ulong *)param_4 = CONCAT44(uStack_a4,local_a8);
  *(ulong *)(param_4 + 8) = CONCAT44(uStack_9c,uStack_a0);
  *(undefined4 *)(param_4 + 0x10) = local_98;
  *(undefined4 *)(param_4 + 0x14) = uStack_94;
  *(undefined4 *)(param_4 + 0x18) = uStack_90;
  *(undefined4 *)(param_4 + 0x1c) = uStack_8c;
  *(undefined4 *)(param_4 + 0x20) = local_88;
  *(undefined4 *)(param_4 + 0x24) = uStack_84;
  *(undefined4 *)(param_4 + 0x28) = uStack_80;
  *(undefined4 *)(param_4 + 0x2c) = uStack_7c;
  *(undefined4 *)(param_4 + 0x30) = local_78;
  *(undefined4 *)(param_4 + 0x34) = uStack_74;
  *(undefined4 *)(param_4 + 0x38) = uStack_70;
  *(undefined4 *)(param_4 + 0x3c) = uStack_6c;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_b0 - local_b8;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&, embree::sse2::PrimInfoExtRange&) */

void __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::split(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
        *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
       PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  ulong uVar3;
  ulong uVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  undefined1 (*pauVar8) [16];
  long lVar9;
  ulong uVar10;
  long lVar11;
  ulong uVar12;
  undefined1 (*pauVar13) [16];
  long in_FS_OFFSET;
  float fVar14;
  undefined1 auVar15 [16];
  float fVar16;
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  ulong local_d8;
  ulong local_d0;
  long local_c8;
  long local_c0;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  *local_b8;
  ulong *local_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  ulong local_68;
  ulong local_60;
  ulong local_58;
  long local_40;
  
  local_a8 = *(undefined8 *)param_2;
  uStack_a0 = *(undefined8 *)(param_2 + 8);
  local_98 = *(undefined8 *)(param_2 + 0x10);
  uStack_90 = *(undefined8 *)(param_2 + 0x18);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = *(undefined8 *)(param_2 + 0x20);
  uVar10 = *(ulong *)(param_2 + 0x40);
  uVar1 = *(ulong *)(param_2 + 0x48);
  uVar2 = *(ulong *)(param_2 + 0x50);
  local_68 = uVar10;
  local_60 = uVar1;
  local_58 = uVar2;
  uStack_80 = *(undefined8 *)(param_2 + 0x28);
  local_78 = *(undefined8 *)(param_2 + 0x30);
  uStack_70 = *(undefined8 *)(param_2 + 0x38);
  if (*(int *)(param_1 + 4) != -1) {
    if (uVar1 - uVar10 < 0x400) {
      auVar24 = sequential_object_split(this,param_1,(PrimInfoExtRange *)&local_a8,param_3,param_4);
    }
    else {
      auVar24 = parallel_object_split(this,param_1,(PrimInfoExtRange *)&local_a8,param_3,param_4);
    }
    if (uVar1 != uVar2) goto LAB_0011cb50;
    goto LAB_0011c83a;
  }
  lVar6 = uVar1 * 0x40;
  lVar9 = *(long *)this + lVar6;
  lVar11 = *(long *)this + uVar10 * 0x40;
  if (lVar9 != lVar11) {
    lVar7 = lVar6 + uVar10 * -0x40;
    uVar12 = lVar7 >> 6;
    if (uVar12 == 0) {
      std::
      __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar11,lVar9,0xfffffffffffffffe);
    }
    else {
      lVar5 = 0x3f;
      if (uVar12 != 0) {
        for (; uVar12 >> lVar5 == 0; lVar5 = lVar5 + -1) {
        }
      }
      std::
      __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar11,lVar9,(long)(int)lVar5 * 2);
      if (0x400 < lVar7) {
        lVar11 = lVar11 + 0x400;
        std::
        __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                  ();
        while (lVar9 != lVar11) {
          lVar11 = lVar11 + 0x40;
          std::
          __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                    ();
        }
        goto LAB_0011c91b;
      }
    }
    std::
    __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
              (lVar11,lVar9);
  }
LAB_0011c91b:
  uVar12 = uVar10 + uVar1 >> 1;
  if (uVar10 < uVar12) {
    auVar21._8_4_ = _LC9;
    auVar21._0_8_ = CONCAT44(_LC9,_LC9);
    auVar21._12_4_ = _LC9;
    auVar23._8_4_ = _LC9;
    auVar23._0_8_ = CONCAT44(_LC9,_LC9);
    auVar23._12_4_ = _LC9;
    auVar24._8_4_ = _LC11;
    auVar24._0_8_ = CONCAT44(_LC11,_LC11);
    auVar24._12_4_ = _LC11;
    auVar22._8_4_ = _LC11;
    auVar22._0_8_ = CONCAT44(_LC11,_LC11);
    auVar22._12_4_ = _LC11;
    pauVar8 = (undefined1 (*) [16])(uVar10 * 0x40 + *(long *)this);
    do {
      auVar19._0_4_ = *(float *)pauVar8[1] + *(float *)*pauVar8;
      auVar19._4_4_ = *(float *)(pauVar8[1] + 4) + *(float *)(*pauVar8 + 4);
      auVar19._8_4_ = *(float *)(pauVar8[1] + 8) + *(float *)(*pauVar8 + 8);
      auVar19._12_4_ = *(float *)(pauVar8[1] + 0xc) + *(float *)(*pauVar8 + 0xc);
      pauVar13 = pauVar8 + 4;
      auVar23 = minps(auVar23,*pauVar8);
      auVar22 = maxps(auVar22,pauVar8[1]);
      auVar21 = minps(auVar21,auVar19);
      auVar24 = maxps(auVar24,auVar19);
      pauVar8 = pauVar13;
    } while ((undefined1 (*) [16])(*(long *)this + uVar12 * 0x40) != pauVar13);
    lVar11 = uVar12 - uVar10;
  }
  else {
    lVar11 = 0;
    auVar21._8_4_ = _LC9;
    auVar21._0_8_ = CONCAT44(_LC9,_LC9);
    auVar21._12_4_ = _LC9;
    auVar23._8_4_ = _LC9;
    auVar23._0_8_ = CONCAT44(_LC9,_LC9);
    auVar23._12_4_ = _LC9;
    auVar24._8_4_ = _LC11;
    auVar24._0_8_ = CONCAT44(_LC11,_LC11);
    auVar24._12_4_ = _LC11;
    auVar22._8_4_ = _LC11;
    auVar22._0_8_ = CONCAT44(_LC11,_LC11);
    auVar22._12_4_ = _LC11;
  }
  auVar18._4_4_ = _LC11;
  auVar18._0_4_ = _LC11;
  auVar17._4_4_ = _LC9;
  auVar17._0_4_ = _LC9;
  auVar18._8_4_ = _LC11;
  auVar17._8_4_ = _LC9;
  auVar18._12_4_ = _LC11;
  auVar17._12_4_ = _LC9;
  auVar19 = auVar18;
  auVar20 = auVar17;
  if (uVar12 < uVar1) {
    pauVar8 = (undefined1 (*) [16])(uVar12 * 0x40 + *(long *)this);
    do {
      auVar15._0_4_ = *(float *)pauVar8[1] + *(float *)*pauVar8;
      auVar15._4_4_ = *(float *)(pauVar8[1] + 4) + *(float *)(*pauVar8 + 4);
      auVar15._8_4_ = *(float *)(pauVar8[1] + 8) + *(float *)(*pauVar8 + 8);
      auVar15._12_4_ = *(float *)(pauVar8[1] + 0xc) + *(float *)(*pauVar8 + 0xc);
      pauVar13 = pauVar8 + 4;
      auVar20 = minps(auVar20,*pauVar8);
      auVar18 = maxps(auVar18,pauVar8[1]);
      auVar17 = minps(auVar17,auVar15);
      auVar19 = maxps(auVar19,auVar15);
      pauVar8 = pauVar13;
    } while (pauVar13 != (undefined1 (*) [16])(*(long *)this + lVar6));
    lVar9 = uVar1 - uVar12;
  }
  else {
    lVar9 = 0;
  }
  *(ulong *)(param_3 + 0x40) = uVar10;
  *(ulong *)(param_3 + 0x48) = uVar12;
  *(ulong *)(param_3 + 0x50) = uVar12;
  *(undefined1 (*) [16])param_3 = auVar23;
  *(undefined1 (*) [16])(param_3 + 0x10) = auVar22;
  *(undefined1 (*) [16])(param_3 + 0x20) = auVar21;
  *(undefined1 (*) [16])(param_3 + 0x30) = auVar24;
  *(ulong *)(param_4 + 0x40) = uVar12;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(undefined1 (*) [16])param_4 = auVar20;
  *(undefined1 (*) [16])(param_4 + 0x10) = auVar18;
  *(undefined1 (*) [16])(param_4 + 0x20) = auVar17;
  *(undefined1 (*) [16])(param_4 + 0x30) = auVar19;
  if (uVar1 != uVar2) {
    fVar14 = (float)lVar11;
    uVar12 = uVar2 - uVar1;
    uVar10 = lVar9 + lVar11;
    if ((long)uVar10 < 0) goto LAB_0011cb71;
    do {
      fVar16 = (float)(long)uVar10;
      while( true ) {
        fVar14 = (fVar14 / fVar16) * (float)uVar12;
        if ((float)((uint)fVar14 & _LC37) < _LC34) {
          fVar14 = (float)((uint)(float)(int)fVar14 | ~_LC37 & (uint)fVar14);
        }
        if (__LC36 <= fVar14) {
          uVar10 = (long)(fVar14 - __LC36) ^ 0x8000000000000000;
        }
        else {
          uVar10 = (ulong)fVar14;
        }
        if (uVar12 < uVar10) {
          uVar10 = uVar12;
        }
        *(ulong *)(param_3 + 0x50) = *(long *)(param_3 + 0x48) + uVar10;
        uVar3 = *(ulong *)(param_4 + 0x48);
        uVar4 = *(ulong *)(param_4 + 0x40);
        *(ulong *)(param_4 + 0x50) = (uVar12 + uVar3) - uVar10;
        local_d0 = uVar3 - uVar4;
        local_d8 = *(long *)(param_3 + 0x50) - *(long *)(param_3 + 0x48);
        if (local_d8 == 0) goto LAB_0011c83a;
        local_b8 = this;
        if (local_d8 < local_d0) {
          local_b0 = &local_d0;
          local_c8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
                    (uVar4,local_d8 + uVar4,0x40,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_b8,
                     (TaskGroupContext *)&local_c8);
          embree::TaskScheduler::wait();
        }
        else {
          local_b0 = &local_d8;
          local_c8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
                    (uVar4,uVar3,0x40,(_lambda_embree__range<unsigned_long>_const___2_ *)&local_b8,
                     (TaskGroupContext *)&local_c8);
          embree::TaskScheduler::wait();
        }
        if (local_c8 == 0) {
          *(ulong *)(param_4 + 0x40) = *(long *)(param_4 + 0x40) + local_d8;
          *(ulong *)(param_4 + 0x48) = *(long *)(param_4 + 0x48) + local_d8;
          *(ulong *)(param_4 + 0x50) = *(long *)(param_4 + 0x50) + local_d8;
          goto LAB_0011c83a;
        }
        param_4 = (PrimInfoExtRange *)&local_c0;
        local_c0 = local_c8;
        std::__exception_ptr::exception_ptr::_M_addref();
        auVar24 = std::rethrow_exception(param_4);
LAB_0011cb50:
        uVar12 = uVar2 - uVar1;
        fVar14 = (float)auVar24._0_8_;
        uVar10 = auVar24._8_8_ + auVar24._0_8_;
        if (-1 < (long)uVar10) break;
LAB_0011cb71:
        fVar16 = (float)uVar10;
      }
    } while( true );
  }
LAB_0011c83a:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::PrimInfoT<embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   > const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long, unsigned
   long, unsigned long, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   > const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#2} const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_2_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,PrimInfoT_conflict *param_5
                ,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
                *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  long lVar5;
  long lVar6;
  long in_FS_OFFSET;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  ulong local_20d8;
  ulong local_20d0;
  ulong local_20c8;
  ulong **local_20c0;
  ulong **local_20b8;
  ulong *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  undefined1 (*local_2098) [16];
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
  *local_2090;
  undefined1 local_2080 [8160];
  undefined1 (*local_a0) [16];
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20d8 = param_4;
  local_20d0 = param_3;
  local_20c8 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20c8) {
    local_20c8 = 0x200;
  }
  if (uVar2 < local_20c8) {
    local_20c8 = uVar2;
  }
  local_98 = local_20c8;
  if (local_20c8 * 0x50 < 0x2001) {
    local_a0 = (undefined1 (*) [16])local_2080;
  }
  else {
    local_a0 = (undefined1 (*) [16])embree::alignedMalloc(local_20c8 * 0x50,0x40);
  }
  local_20b0 = &local_20d0;
  local_20a8 = &local_20d8;
  local_20a0 = &local_20c8;
  local_2090 = param_7;
  local_2098 = (undefined1 (*) [16])local_2080;
  if (local_20c8 == 0) {
    uVar1 = *(undefined8 *)(param_6 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_6 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
    *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_6 + 0x40);
    *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_6 + 0x48);
  }
  else {
    local_20b8 = &local_20b0;
    local_20c0 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse226HeuristicArrayOpenMergeSAHIZNS9_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMvILi4EEEE5buildEvEUlRNSF_8BuildRefEPSG_E5_SG_Lm32EE22openNodesBasedOnExtendERNS9_16PrimInfoExtRangeEEUlRKNS_5rangeImEEE_ZNSK_22openNodesBasedOnExtendESM_EUlRKS8_ST_E0_EET0_T_SW_SW_SW_RKSV_RKT1_RKT2_EUlmE_EEvSW_SY_EUlSQ_E_EEvSW_SW_SW_SY_PNS0_16TaskGroupContextE
              (0,local_20c8,1,&local_20b8,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != (ulong **)0x0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20b8);
      goto LAB_0011d619;
    }
    auVar8 = *(undefined1 (*) [16])param_6;
    *(undefined1 (*) [16])param_1 = auVar8;
    auVar7 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar9 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
    auVar10 = *(undefined1 (*) [16])(param_6 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
    lVar6 = *(long *)(param_6 + 0x40);
    lVar5 = *(long *)(param_6 + 0x48);
    *(long *)(param_1 + 0x40) = lVar6;
    *(long *)(param_1 + 0x48) = lVar5;
    if (local_20c8 != 0) {
      pauVar3 = local_a0;
      do {
        auVar8 = minps(auVar8,*pauVar3);
        auVar7 = maxps(auVar7,pauVar3[1]);
        pauVar4 = pauVar3 + 5;
        auVar9 = minps(auVar9,pauVar3[2]);
        auVar10 = maxps(auVar10,pauVar3[3]);
        lVar6 = lVar6 + *(long *)pauVar3[4];
        lVar5 = lVar5 + *(long *)(pauVar3[4] + 8);
        *(long *)(param_1 + 0x48) = lVar5;
        *(long *)(param_1 + 0x40) = lVar6;
        *(undefined1 (*) [16])param_1 = auVar8;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
        pauVar3 = pauVar4;
      } while (local_a0 + local_20c8 * 5 != pauVar4);
    }
  }
  if (local_a0 != (undefined1 (*) [16])local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_0011d619:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&) */

void __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::openNodesBasedOnExtend
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
           *this,PrimInfoExtRange *param_1)

{
  ulong uVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  float fVar5;
  float fVar7;
  float fVar8;
  undefined1 auVar6 [16];
  undefined8 local_108;
  long local_100;
  long local_f8;
  float local_f0;
  ulong local_e8;
  ulong local_e0;
  long *local_d8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  *local_d0;
  long *local_c8;
  undefined1 *local_c0;
  _lambda_embree__range<unsigned_long>const___1_ local_b8 [32];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  float local_68 [4];
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  float local_48;
  float fStack_44;
  float fStack_40;
  float fStack_3c;
  undefined4 local_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined8 local_28;
  undefined8 local_20;
  long local_10;
  
  local_c0 = (undefined1 *)&local_108;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_68[0] = *(float *)(param_1 + 0x10) - *(float *)param_1;
  local_68[1] = *(float *)(param_1 + 0x14) - *(float *)(param_1 + 4);
  local_68[2] = *(float *)(param_1 + 0x18) - *(float *)(param_1 + 8);
  fVar5 = (float)((uint)(*(float *)(param_1 + 0x10) - *(float *)param_1) & _LC37);
  fVar7 = (float)((uint)(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4)) & _LC37);
  fVar8 = (float)((uint)(*(float *)(param_1 + 0x18) - *(float *)(param_1 + 8)) & _LC37);
  if (fVar5 <= fVar7) {
    lVar3 = 4;
    if (fVar7 <= fVar8) {
      lVar3 = 8;
    }
    local_f8 = 1;
    if (fVar7 <= fVar8) {
      local_f8 = 2;
    }
  }
  else {
    uVar2 = (ulong)(fVar5 <= fVar8);
    local_f8 = uVar2 * 2;
    lVar3 = uVar2 * 8;
  }
  local_f0 = _LC39 / *(float *)((long)local_68 + lVar3);
  local_108 = *(undefined8 *)(param_1 + 0x48);
  LOCK();
  local_100 = 0;
  UNLOCK();
  uVar2 = *(ulong *)(param_1 + 0x48);
  local_d8 = &local_f8;
  local_c8 = &local_100;
  uVar1 = *(ulong *)(param_1 + 0x40);
  uVar4 = (uVar2 + 0x7f) - uVar1 >> 7;
  local_68[0] = _LC9;
  local_68[1] = _LC9;
  local_68[2] = _LC9;
  local_68[3] = _LC9;
  local_28 = 0;
  local_20 = 0;
  local_58 = _LC11;
  uStack_54 = _LC11;
  uStack_50 = _LC11;
  uStack_4c = _LC11;
  local_48 = _LC9;
  fStack_44 = _LC9;
  fStack_40 = _LC9;
  fStack_3c = _LC9;
  local_38 = _LC11;
  uStack_34 = _LC11;
  uStack_30 = _LC11;
  uStack_2c = _LC11;
  local_d0 = this;
  if (uVar4 == 1) {
    local_e8 = uVar1;
    local_e0 = uVar2;
    local_c0 = (undefined1 *)&local_108;
    openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::
    {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_b8,(range *)&local_d8);
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_2_>
              ((ulong)local_b8,uVar4,uVar1,uVar2,(PrimInfoT_conflict *)0x80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)local_68,
               (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_d8);
  }
  auVar6 = minps(*(undefined1 (*) [16])(param_1 + 0x20),local_98);
  *(undefined1 (*) [16])(param_1 + 0x20) = auVar6;
  auVar6 = maxps(*(undefined1 (*) [16])(param_1 + 0x30),local_88);
  *(undefined1 (*) [16])(param_1 + 0x30) = auVar6;
  *(long *)(param_1 + 0x48) = *(long *)(param_1 + 0x48) + local_100;
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011dd2d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00133118;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011dfc3:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00133118;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011dfc3;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)#1},embree::sse2::HeuristicA...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
  ::
  partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#1}::operator()(*(_lambda_unsigned_long__1_ **)(this + 0x20),uVar1);
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011e46d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00133130;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011e703:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00133130;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011e703;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)#1},embree::sse2::HeuristicA...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build():...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
  ::
  partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#2}::operator()(*(_lambda_unsigned_long__2_ **)(this + 0x20),uVar1);
  return;
}



/* unsigned long embree::parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#3}>(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef*, unsigned long, unsigned long,
   embree::EmptyTy const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef
   const&)#2} const&, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#3} const&, unsigned long) */

ulong embree::
      parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::____:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_3_>
                (BuildRef *param_1,ulong param_2,ulong param_3,EmptyTy *param_4,
                PrimInfoT_conflict *param_5,PrimInfoT_conflict *param_6,
                _lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>__BuildRef_const___1_
                *param_7,_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>__BuildRef_const___2_
                         *param_8,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                *param_9,ulong param_10)

{
  undefined4 uVar1;
  undefined8 uVar2;
  int *piVar3;
  uint *puVar4;
  undefined1 auVar5 [16];
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  bool bVar10;
  bool bVar11;
  float fVar12;
  PrimInfoT_conflict *pPVar13;
  ulong uVar14;
  PrimInfoT_conflict *pPVar15;
  PrimInfoT_conflict *pPVar16;
  int iVar17;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var18;
  long *plVar19;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var20;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var21;
  PrimInfoT_conflict *pPVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  ulong uVar28;
  long in_FS_OFFSET;
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  int iVar32;
  int iVar35;
  int iVar36;
  int iVar37;
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar38 [16];
  uint uVar39;
  uint uVar40;
  uint uVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  float fVar52;
  float fVar53;
  long local_d0;
  long local_c8;
  PrimInfoT_conflict *local_c0;
  PrimInfoT_conflict *local_b8;
  PrimInfoT_conflict *local_b0;
  PrimInfoT_conflict *pPStack_a8;
  PrimInfoT_conflict *local_a0;
  PrimInfoT_conflict *pPStack_98;
  long *local_90;
  long *local_88;
  TaskGroupContext *local_80;
  long local_48;
  
  auVar29._8_8_ = param_7;
  auVar29._0_8_ = param_3;
  uVar28 = param_3 - param_2;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)(param_1 + param_2 * 0x40);
  if (uVar28 < param_10) {
LAB_0011ec38:
    fVar12 = _LC14;
    plVar19 = auVar29._8_8_;
    p_Var20 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1 +
              auVar29._0_8_ * 0x40 + -0x40;
    for (; p_Var18 <= p_Var20; p_Var18 = p_Var18 + 0x40) {
      auVar29 = *(undefined1 (*) [16])(p_Var18 + 0x10);
      auVar30 = *(undefined1 (*) [16])p_Var18;
      lVar24 = *plVar19;
      fVar50 = auVar29._0_4_ + auVar30._0_4_;
      fVar51 = auVar29._4_4_ + auVar30._4_4_;
      fVar52 = auVar29._8_4_ + auVar30._8_4_;
      fVar53 = auVar29._12_4_ + auVar30._12_4_;
      fVar46 = *(float *)(lVar24 + 0x20);
      fVar47 = *(float *)(lVar24 + 0x24);
      fVar48 = *(float *)(lVar24 + 0x28);
      fVar49 = *(float *)(lVar24 + 0x2c);
      fVar42 = *(float *)(lVar24 + 0x30);
      fVar43 = *(float *)(lVar24 + 0x34);
      fVar44 = *(float *)(lVar24 + 0x38);
      fVar45 = *(float *)(lVar24 + 0x3c);
      piVar3 = (int *)plVar19[1];
      iVar32 = *piVar3;
      iVar35 = piVar3[1];
      iVar36 = piVar3[2];
      iVar37 = piVar3[3];
      puVar4 = (uint *)plVar19[2];
      uVar23 = *puVar4;
      uVar39 = puVar4[1];
      uVar40 = puVar4[2];
      uVar41 = puVar4[3];
      auVar34._0_4_ = -(uint)((int)((fVar50 - fVar46) * fVar42 + fVar12) < iVar32) & uVar23;
      auVar34._4_4_ = -(uint)((int)((fVar51 - fVar47) * fVar43 + fVar12) < iVar35) & uVar39;
      auVar34._8_4_ = -(uint)((int)((fVar52 - fVar48) * fVar44 + fVar12) < iVar36) & uVar40;
      auVar34._12_4_ = -(uint)((int)((fVar53 - fVar49) * fVar45 + fVar12) < iVar37) & uVar41;
      iVar17 = movmskps((int)puVar4,auVar34);
      p_Var21 = p_Var20;
      if (iVar17 == 0) {
        while( true ) {
          auVar29 = *(undefined1 (*) [16])(p_Var21 + 0x10);
          auVar30 = *(undefined1 (*) [16])p_Var21;
          p_Var20 = p_Var21 + -0x40;
          auVar38._0_4_ = auVar29._0_4_ + auVar30._0_4_;
          auVar38._4_4_ = auVar29._4_4_ + auVar30._4_4_;
          auVar38._8_4_ = auVar29._8_4_ + auVar30._8_4_;
          auVar38._12_4_ = auVar29._12_4_ + auVar30._12_4_;
          auVar33._0_4_ =
               -(uint)((int)((auVar38._0_4_ - fVar46) * fVar42 + fVar12) < iVar32) & uVar23;
          auVar33._4_4_ =
               -(uint)((int)((auVar38._4_4_ - fVar47) * fVar43 + fVar12) < iVar35) & uVar39;
          auVar33._8_4_ =
               -(uint)((int)((auVar38._8_4_ - fVar48) * fVar44 + fVar12) < iVar36) & uVar40;
          auVar33._12_4_ =
               -(uint)((int)((auVar38._12_4_ - fVar49) * fVar45 + fVar12) < iVar37) & uVar41;
          uVar23 = movmskps((int)param_9,auVar33);
          param_9 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                     *)(ulong)uVar23;
          if (uVar23 != 0) break;
          *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + 1;
          auVar30 = minps(*(undefined1 (*) [16])param_6,auVar30);
          *(undefined1 (*) [16])param_6 = auVar30;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar29);
          *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
          auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
          if (p_Var20 < p_Var18) goto LAB_0011ecfb;
          lVar24 = *plVar19;
          fVar46 = *(float *)(lVar24 + 0x20);
          fVar47 = *(float *)(lVar24 + 0x24);
          fVar48 = *(float *)(lVar24 + 0x28);
          fVar49 = *(float *)(lVar24 + 0x2c);
          fVar42 = *(float *)(lVar24 + 0x30);
          fVar43 = *(float *)(lVar24 + 0x34);
          fVar44 = *(float *)(lVar24 + 0x38);
          fVar45 = *(float *)(lVar24 + 0x3c);
          piVar3 = (int *)plVar19[1];
          iVar32 = *piVar3;
          iVar35 = piVar3[1];
          iVar36 = piVar3[2];
          iVar37 = piVar3[3];
          puVar4 = (uint *)plVar19[2];
          uVar23 = *puVar4;
          uVar39 = puVar4[1];
          uVar40 = puVar4[2];
          uVar41 = puVar4[3];
          p_Var21 = p_Var20;
        }
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + 1;
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        auVar29 = *(undefined1 (*) [16])p_Var18;
        auVar30 = *(undefined1 (*) [16])(p_Var18 + 0x10);
        *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + 1;
        auVar34 = minps(*(undefined1 (*) [16])param_6,auVar29);
        *(undefined1 (*) [16])param_6 = auVar34;
        auVar34 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar30);
        auVar31._0_4_ = auVar30._0_4_ + auVar29._0_4_;
        auVar31._4_4_ = auVar30._4_4_ + auVar29._4_4_;
        auVar31._8_4_ = auVar30._8_4_ + auVar29._8_4_;
        auVar31._12_4_ = auVar30._12_4_ + auVar29._12_4_;
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar34;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        uVar2 = *(undefined8 *)(p_Var21 + 8);
        uVar6 = *(undefined8 *)p_Var18;
        uVar7 = *(undefined8 *)(p_Var18 + 8);
        uVar8 = *(undefined8 *)(p_Var18 + 0x10);
        uVar9 = *(undefined8 *)(p_Var18 + 0x18);
        param_9 = *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                    **)(p_Var18 + 0x20);
        *(undefined8 *)p_Var18 = *(undefined8 *)p_Var21;
        *(undefined8 *)(p_Var18 + 8) = uVar2;
        uVar2 = *(undefined8 *)(p_Var21 + 0x18);
        uVar1 = *(undefined4 *)(p_Var18 + 0x28);
        local_80 = (TaskGroupContext *)param_9;
        *(undefined8 *)(p_Var18 + 0x10) = *(undefined8 *)(p_Var21 + 0x10);
        *(undefined8 *)(p_Var18 + 0x18) = uVar2;
        *(undefined8 *)(p_Var18 + 0x20) = *(undefined8 *)(p_Var21 + 0x20);
        *(undefined4 *)(p_Var18 + 0x28) = *(undefined4 *)(p_Var21 + 0x28);
        *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
          **)(p_Var21 + 0x20) = param_9;
        *(undefined8 *)p_Var21 = uVar6;
        *(undefined8 *)(p_Var21 + 8) = uVar7;
        *(undefined8 *)(p_Var21 + 0x10) = uVar8;
        *(undefined8 *)(p_Var21 + 0x18) = uVar9;
        *(undefined4 *)(p_Var21 + 0x28) = uVar1;
      }
      else {
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + 1;
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar30._4_4_ = fVar51;
        auVar30._0_4_ = fVar50;
        auVar30._8_4_ = fVar52;
        auVar30._12_4_ = fVar53;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar30);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar5._4_4_ = fVar51;
        auVar5._0_4_ = fVar50;
        auVar5._8_4_ = fVar52;
        auVar5._12_4_ = fVar53;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar5);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
      }
    }
LAB_0011ecfb:
    pPVar15 = (PrimInfoT_conflict *)((long)p_Var18 - (long)param_1 >> 6);
  }
  else {
    pPVar13 = (PrimInfoT_conflict *)embree::alignedMalloc(0x34c0,0x40);
    *(ulong *)(pPVar13 + 8) = uVar28;
    *(_lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>__BuildRef_const___1_
      **)(pPVar13 + 0x10) = param_7;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)pPVar13 = p_Var18;
    *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>__BuildRef_const___2_
      **)(pPVar13 + 0x18) = param_8;
    *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
      **)(pPVar13 + 0x20) = param_9;
    *(EmptyTy **)(pPVar13 + 0x28) = param_4;
    uVar14 = embree::TaskScheduler::threadCount();
    uVar28 = ((uVar28 - 1) + param_10) / param_10;
    if (0x40 < uVar28) {
      uVar28 = 0x40;
    }
    if (uVar28 <= uVar14) {
      uVar14 = uVar28;
    }
    *(ulong *)(pPVar13 + 0x30) = uVar14;
    local_a0 = pPVar13;
    if (uVar14 == 0) {
      *(undefined8 *)(pPVar13 + 0x280) = 0;
      *(undefined8 *)(pPVar13 + 0x40) = *(undefined8 *)(pPVar13 + 8);
LAB_0011e8e2:
      pPVar15 = *(PrimInfoT_conflict **)(pPVar13 + 0x280);
    }
    else {
      param_9 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                 *)&local_b8;
      local_b8 = (PrimInfoT_conflict *)0x0;
      param_1 = (BuildRef *)&local_b0;
      p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1;
      local_b0 = (PrimInfoT_conflict *)&local_a0;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar14,1,(_lambda_embree__range<unsigned_long>_const___1_ *)param_1,
                 (TaskGroupContext *)param_9);
      embree::TaskScheduler::wait();
      if (local_b8 != (PrimInfoT_conflict *)0x0) {
LAB_0011ec18:
        local_b0 = local_b8;
        std::__exception_ptr::exception_ptr::_M_addref();
        auVar29 = std::rethrow_exception();
        goto LAB_0011ec38;
      }
      lVar24 = *(long *)(pPVar13 + 0x30);
      uVar2 = *(undefined8 *)(pPVar13 + 8);
      *(undefined8 *)(pPVar13 + lVar24 * 8 + 0x280) = 0;
      *(undefined8 *)(pPVar13 + lVar24 * 8 + 0x40) = uVar2;
      if (lVar24 == 0) goto LAB_0011e8e2;
      uVar28 = 0;
      pPVar15 = pPVar13 + 0xcc0;
      do {
        auVar29 = minps(*(undefined1 (*) [16])param_5,*(undefined1 (*) [16])pPVar15);
        uVar28 = uVar28 + 1;
        *(undefined1 (*) [16])param_5 = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),
                        *(undefined1 (*) [16])(pPVar15 + 0x10));
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),
                        *(undefined1 (*) [16])(pPVar15 + 0x20));
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),
                        *(undefined1 (*) [16])(pPVar15 + 0x30));
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        *(long *)(param_5 + 0x40) = *(long *)(param_5 + 0x40) + *(long *)(pPVar15 + 0x40);
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + *(long *)(pPVar15 + 0x48);
        auVar29 = minps(*(undefined1 (*) [16])param_6,*(undefined1 (*) [16])(pPVar15 + 0x1400));
        *(undefined1 (*) [16])param_6 = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),
                        *(undefined1 (*) [16])(pPVar15 + 0x1410));
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),
                        *(undefined1 (*) [16])(pPVar15 + 0x1420));
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),
                        *(undefined1 (*) [16])(pPVar15 + 0x1430));
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        *(long *)(param_6 + 0x40) = *(long *)(param_6 + 0x40) + *(long *)(pPVar15 + 0x1440);
        *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + *(long *)(pPVar15 + 0x1448);
        uVar14 = *(ulong *)(pPVar13 + 0x30);
        pPVar15 = pPVar15 + 0x50;
      } while (uVar28 < uVar14);
      pPVar15 = *(PrimInfoT_conflict **)(pPVar13 + 0x280);
      param_5 = pPVar15;
      if (uVar14 < 2) {
        pPVar16 = *(PrimInfoT_conflict **)(pPVar13 + 8);
        local_d0 = 0;
        local_c8 = 0;
        local_c0 = (PrimInfoT_conflict *)0x0;
        if (uVar14 == 0) goto LAB_0011e8f0;
      }
      else {
        pPVar16 = pPVar13 + 0x288;
        do {
          param_5 = param_5 + *(long *)pPVar16;
          pPVar16 = pPVar16 + 8;
        } while (pPVar13 + uVar14 * 8 + 0x280 != pPVar16);
        pPVar16 = *(PrimInfoT_conflict **)(pPVar13 + 8);
      }
      local_c0 = (PrimInfoT_conflict *)0x0;
      local_c8 = 0;
      local_d0 = 0;
      bVar11 = false;
      bVar10 = false;
      param_6 = (PrimInfoT_conflict *)0x0;
      pPVar22 = pPVar13 + 0x40;
      lVar24 = 0;
      lVar26 = 0;
      while( true ) {
        local_a0 = *(PrimInfoT_conflict **)pPVar22;
        pPStack_98 = pPVar15 + (long)local_a0;
        pPStack_a8 = *(PrimInfoT_conflict **)(pPVar22 + 8);
        if ((long)param_5 <= (long)*(PrimInfoT_conflict **)(pPVar22 + 8)) {
          pPStack_a8 = param_5;
        }
        local_b0 = (PrimInfoT_conflict *)0x0;
        if (-1 < (long)pPStack_98) {
          local_b0 = pPStack_98;
        }
        if ((long)pPVar16 <= (long)pPStack_98) {
          pPStack_98 = pPVar16;
        }
        if ((long)local_a0 < (long)param_5) {
          local_a0 = param_5;
        }
        lVar25 = lVar24;
        if ((long)local_b0 < (long)pPStack_a8) {
          bVar10 = true;
          param_6 = param_6 + ((long)pPStack_a8 - (long)local_b0);
          lVar25 = lVar24 + 1;
          *(PrimInfoT_conflict **)(pPVar13 + lVar24 * 0x10 + 0x4c0) = local_b0;
          *(PrimInfoT_conflict **)(pPVar13 + lVar24 * 0x10 + 0x4c0 + 8) = pPStack_a8;
        }
        lVar27 = lVar26;
        if ((long)local_a0 < (long)pPStack_98) {
          bVar11 = true;
          lVar27 = lVar26 + 1;
          *(PrimInfoT_conflict **)(pPVar13 + lVar26 * 0x10 + 0x8c0) = local_a0;
          *(PrimInfoT_conflict **)(pPVar13 + lVar26 * 0x10 + 0x8c0 + 8) = pPStack_98;
        }
        if (pPVar13 + 0x40 + uVar14 * 8 == pPVar22 + 8) break;
        pPVar15 = *(PrimInfoT_conflict **)(pPVar22 + 0x248);
        pPVar22 = pPVar22 + 8;
        lVar24 = lVar25;
        lVar26 = lVar27;
      }
      if (bVar11) {
        local_c8 = lVar27;
      }
      pPVar15 = param_5;
      if ((bVar10) && (local_d0 = lVar25, local_c0 = param_6, param_6 != (PrimInfoT_conflict *)0x0))
      {
        local_a0 = (PrimInfoT_conflict *)&local_c0;
        local_90 = &local_d0;
        local_88 = &local_c8;
        local_b8 = (PrimInfoT_conflict *)0x0;
        p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1;
        local_b0 = (PrimInfoT_conflict *)&local_a0;
        pPStack_98 = pPVar13;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderT___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,uVar14,1,(_lambda_embree__range<unsigned_long>_const___1_ *)param_1,
                   (TaskGroupContext *)param_9);
        embree::TaskScheduler::wait();
        if (local_b8 != (PrimInfoT_conflict *)0x0) goto LAB_0011ec18;
      }
    }
LAB_0011e8f0:
    if (pPVar13 != (PrimInfoT_conflict *)0x0) {
      embree::alignedFree(pPVar13);
    }
    pPVar15 = pPVar15 + param_2;
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return (ulong)pPVar15;
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&, embree::sse2::PrimInfoExtRange&) */

long __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::parallel_object_split
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
           *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  EmptyTy local_11b;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>__BuildRef_const___2_
  local_11a;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
  local_119;
  BinSplit *local_118;
  undefined4 *local_110;
  undefined8 *local_108;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  long local_b8;
  long local_b0;
  undefined4 local_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined8 local_68;
  undefined8 local_60;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  uVar1 = *(ulong *)(param_2 + 0x48);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = *(undefined4 *)(param_1 + 8);
  uVar2 = *(ulong *)(param_2 + 0x40);
  local_b8 = 0;
  lVar3 = (long)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f));
  local_e8 = _LC11;
  uStack_e4 = _LC11;
  uStack_e0 = _LC11;
  uStack_dc = _LC11;
  local_48 = (&mm_lookupmask_ps)[lVar3 * 2];
  uStack_40 = *(undefined8 *)(embree::TaskScheduler::threadCount + lVar3 * 0x10);
  local_c8 = _LC11;
  uStack_c4 = _LC11;
  uStack_c0 = _LC11;
  uStack_bc = _LC11;
  local_110 = &local_58;
  local_98 = _LC11;
  uStack_94 = _LC11;
  uStack_90 = _LC11;
  uStack_8c = _LC11;
  local_78 = _LC11;
  uStack_74 = _LC11;
  uStack_70 = _LC11;
  uStack_6c = _LC11;
  local_f8 = _LC9;
  uStack_f4 = _LC9;
  uStack_f0 = _LC9;
  uStack_ec = _LC9;
  local_d8 = _LC9;
  uStack_d4 = _LC9;
  uStack_d0 = _LC9;
  uStack_cc = _LC9;
  local_a8 = _LC9;
  uStack_a4 = _LC9;
  uStack_a0 = _LC9;
  uStack_9c = _LC9;
  local_88 = _LC9;
  uStack_84 = _LC9;
  uStack_80 = _LC9;
  uStack_7c = _LC9;
  local_b0 = 0;
  local_68 = 0;
  local_60 = 0;
  local_108 = &local_48;
  local_118 = param_1;
  uStack_54 = local_58;
  uStack_50 = local_58;
  uStack_4c = local_58;
  uVar4 = parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::____:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_3_>
                    (*(BuildRef **)this,uVar2,uVar1,&local_11b,(PrimInfoT_conflict *)&local_f8,
                     (PrimInfoT_conflict *)&local_a8,
                     (_lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>__BuildRef_const___1_
                      *)&local_118,&local_11a,&local_119,0x80);
  *(ulong *)(param_3 + 0x40) = uVar2;
  *(ulong *)(param_3 + 0x48) = uVar4;
  *(ulong *)(param_3 + 0x50) = uVar4;
  *(ulong *)param_3 = CONCAT44(uStack_f4,local_f8);
  *(ulong *)(param_3 + 8) = CONCAT44(uStack_ec,uStack_f0);
  *(ulong *)(param_3 + 0x10) = CONCAT44(uStack_e4,local_e8);
  *(ulong *)(param_3 + 0x18) = CONCAT44(uStack_dc,uStack_e0);
  *(undefined4 *)(param_3 + 0x20) = local_d8;
  *(undefined4 *)(param_3 + 0x24) = uStack_d4;
  *(undefined4 *)(param_3 + 0x28) = uStack_d0;
  *(undefined4 *)(param_3 + 0x2c) = uStack_cc;
  *(undefined4 *)(param_3 + 0x30) = local_c8;
  *(undefined4 *)(param_3 + 0x34) = uStack_c4;
  *(undefined4 *)(param_3 + 0x38) = uStack_c0;
  *(undefined4 *)(param_3 + 0x3c) = uStack_bc;
  *(ulong *)(param_4 + 0x40) = uVar4;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(ulong *)param_4 = CONCAT44(uStack_a4,local_a8);
  *(ulong *)(param_4 + 8) = CONCAT44(uStack_9c,uStack_a0);
  *(undefined4 *)(param_4 + 0x10) = local_98;
  *(undefined4 *)(param_4 + 0x14) = uStack_94;
  *(undefined4 *)(param_4 + 0x18) = uStack_90;
  *(undefined4 *)(param_4 + 0x1c) = uStack_8c;
  *(undefined4 *)(param_4 + 0x20) = local_88;
  *(undefined4 *)(param_4 + 0x24) = uStack_84;
  *(undefined4 *)(param_4 + 0x28) = uStack_80;
  *(undefined4 *)(param_4 + 0x2c) = uStack_7c;
  *(undefined4 *)(param_4 + 0x30) = local_78;
  *(undefined4 *)(param_4 + 0x34) = uStack_74;
  *(undefined4 *)(param_4 + 0x38) = uStack_70;
  *(undefined4 *)(param_4 + 0x3c) = uStack_6c;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_b0 - local_b8;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&, embree::sse2::PrimInfoExtRange&) */

void __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::split(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
        *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
       PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  ulong uVar3;
  ulong uVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  undefined1 (*pauVar8) [16];
  long lVar9;
  ulong uVar10;
  long lVar11;
  ulong uVar12;
  undefined1 (*pauVar13) [16];
  long in_FS_OFFSET;
  float fVar14;
  undefined1 auVar15 [16];
  float fVar16;
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  ulong local_d8;
  ulong local_d0;
  long local_c8;
  long local_c0;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  *local_b8;
  ulong *local_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  ulong local_68;
  ulong local_60;
  ulong local_58;
  long local_40;
  
  local_a8 = *(undefined8 *)param_2;
  uStack_a0 = *(undefined8 *)(param_2 + 8);
  local_98 = *(undefined8 *)(param_2 + 0x10);
  uStack_90 = *(undefined8 *)(param_2 + 0x18);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = *(undefined8 *)(param_2 + 0x20);
  uVar10 = *(ulong *)(param_2 + 0x40);
  uVar1 = *(ulong *)(param_2 + 0x48);
  uVar2 = *(ulong *)(param_2 + 0x50);
  local_68 = uVar10;
  local_60 = uVar1;
  local_58 = uVar2;
  uStack_80 = *(undefined8 *)(param_2 + 0x28);
  local_78 = *(undefined8 *)(param_2 + 0x30);
  uStack_70 = *(undefined8 *)(param_2 + 0x38);
  if (*(int *)(param_1 + 4) != -1) {
    if (uVar1 - uVar10 < 0x400) {
      auVar24 = sequential_object_split(this,param_1,(PrimInfoExtRange *)&local_a8,param_3,param_4);
    }
    else {
      auVar24 = parallel_object_split(this,param_1,(PrimInfoExtRange *)&local_a8,param_3,param_4);
    }
    if (uVar1 != uVar2) goto LAB_0011f460;
    goto LAB_0011f14a;
  }
  lVar6 = uVar1 * 0x40;
  lVar9 = *(long *)this + lVar6;
  lVar11 = *(long *)this + uVar10 * 0x40;
  if (lVar9 != lVar11) {
    lVar7 = lVar6 + uVar10 * -0x40;
    uVar12 = lVar7 >> 6;
    if (uVar12 == 0) {
      std::
      __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar11,lVar9,0xfffffffffffffffe);
    }
    else {
      lVar5 = 0x3f;
      if (uVar12 != 0) {
        for (; uVar12 >> lVar5 == 0; lVar5 = lVar5 + -1) {
        }
      }
      std::
      __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar11,lVar9,(long)(int)lVar5 * 2);
      if (0x400 < lVar7) {
        lVar11 = lVar11 + 0x400;
        std::
        __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                  ();
        while (lVar9 != lVar11) {
          lVar11 = lVar11 + 0x40;
          std::
          __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                    ();
        }
        goto LAB_0011f22b;
      }
    }
    std::
    __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
              (lVar11,lVar9);
  }
LAB_0011f22b:
  uVar12 = uVar10 + uVar1 >> 1;
  if (uVar10 < uVar12) {
    auVar21._8_4_ = _LC9;
    auVar21._0_8_ = CONCAT44(_LC9,_LC9);
    auVar21._12_4_ = _LC9;
    auVar23._8_4_ = _LC9;
    auVar23._0_8_ = CONCAT44(_LC9,_LC9);
    auVar23._12_4_ = _LC9;
    auVar24._8_4_ = _LC11;
    auVar24._0_8_ = CONCAT44(_LC11,_LC11);
    auVar24._12_4_ = _LC11;
    auVar22._8_4_ = _LC11;
    auVar22._0_8_ = CONCAT44(_LC11,_LC11);
    auVar22._12_4_ = _LC11;
    pauVar8 = (undefined1 (*) [16])(uVar10 * 0x40 + *(long *)this);
    do {
      auVar19._0_4_ = *(float *)pauVar8[1] + *(float *)*pauVar8;
      auVar19._4_4_ = *(float *)(pauVar8[1] + 4) + *(float *)(*pauVar8 + 4);
      auVar19._8_4_ = *(float *)(pauVar8[1] + 8) + *(float *)(*pauVar8 + 8);
      auVar19._12_4_ = *(float *)(pauVar8[1] + 0xc) + *(float *)(*pauVar8 + 0xc);
      pauVar13 = pauVar8 + 4;
      auVar23 = minps(auVar23,*pauVar8);
      auVar22 = maxps(auVar22,pauVar8[1]);
      auVar21 = minps(auVar21,auVar19);
      auVar24 = maxps(auVar24,auVar19);
      pauVar8 = pauVar13;
    } while ((undefined1 (*) [16])(*(long *)this + uVar12 * 0x40) != pauVar13);
    lVar11 = uVar12 - uVar10;
  }
  else {
    lVar11 = 0;
    auVar21._8_4_ = _LC9;
    auVar21._0_8_ = CONCAT44(_LC9,_LC9);
    auVar21._12_4_ = _LC9;
    auVar23._8_4_ = _LC9;
    auVar23._0_8_ = CONCAT44(_LC9,_LC9);
    auVar23._12_4_ = _LC9;
    auVar24._8_4_ = _LC11;
    auVar24._0_8_ = CONCAT44(_LC11,_LC11);
    auVar24._12_4_ = _LC11;
    auVar22._8_4_ = _LC11;
    auVar22._0_8_ = CONCAT44(_LC11,_LC11);
    auVar22._12_4_ = _LC11;
  }
  auVar18._4_4_ = _LC11;
  auVar18._0_4_ = _LC11;
  auVar17._4_4_ = _LC9;
  auVar17._0_4_ = _LC9;
  auVar18._8_4_ = _LC11;
  auVar17._8_4_ = _LC9;
  auVar18._12_4_ = _LC11;
  auVar17._12_4_ = _LC9;
  auVar19 = auVar18;
  auVar20 = auVar17;
  if (uVar12 < uVar1) {
    pauVar8 = (undefined1 (*) [16])(uVar12 * 0x40 + *(long *)this);
    do {
      auVar15._0_4_ = *(float *)pauVar8[1] + *(float *)*pauVar8;
      auVar15._4_4_ = *(float *)(pauVar8[1] + 4) + *(float *)(*pauVar8 + 4);
      auVar15._8_4_ = *(float *)(pauVar8[1] + 8) + *(float *)(*pauVar8 + 8);
      auVar15._12_4_ = *(float *)(pauVar8[1] + 0xc) + *(float *)(*pauVar8 + 0xc);
      pauVar13 = pauVar8 + 4;
      auVar20 = minps(auVar20,*pauVar8);
      auVar18 = maxps(auVar18,pauVar8[1]);
      auVar17 = minps(auVar17,auVar15);
      auVar19 = maxps(auVar19,auVar15);
      pauVar8 = pauVar13;
    } while (pauVar13 != (undefined1 (*) [16])(*(long *)this + lVar6));
    lVar9 = uVar1 - uVar12;
  }
  else {
    lVar9 = 0;
  }
  *(ulong *)(param_3 + 0x40) = uVar10;
  *(ulong *)(param_3 + 0x48) = uVar12;
  *(ulong *)(param_3 + 0x50) = uVar12;
  *(undefined1 (*) [16])param_3 = auVar23;
  *(undefined1 (*) [16])(param_3 + 0x10) = auVar22;
  *(undefined1 (*) [16])(param_3 + 0x20) = auVar21;
  *(undefined1 (*) [16])(param_3 + 0x30) = auVar24;
  *(ulong *)(param_4 + 0x40) = uVar12;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(undefined1 (*) [16])param_4 = auVar20;
  *(undefined1 (*) [16])(param_4 + 0x10) = auVar18;
  *(undefined1 (*) [16])(param_4 + 0x20) = auVar17;
  *(undefined1 (*) [16])(param_4 + 0x30) = auVar19;
  if (uVar1 != uVar2) {
    fVar14 = (float)lVar11;
    uVar12 = uVar2 - uVar1;
    uVar10 = lVar9 + lVar11;
    if ((long)uVar10 < 0) goto LAB_0011f481;
    do {
      fVar16 = (float)(long)uVar10;
      while( true ) {
        fVar14 = (fVar14 / fVar16) * (float)uVar12;
        if ((float)((uint)fVar14 & _LC37) < _LC34) {
          fVar14 = (float)((uint)(float)(int)fVar14 | ~_LC37 & (uint)fVar14);
        }
        if (__LC36 <= fVar14) {
          uVar10 = (long)(fVar14 - __LC36) ^ 0x8000000000000000;
        }
        else {
          uVar10 = (ulong)fVar14;
        }
        if (uVar12 < uVar10) {
          uVar10 = uVar12;
        }
        *(ulong *)(param_3 + 0x50) = *(long *)(param_3 + 0x48) + uVar10;
        uVar3 = *(ulong *)(param_4 + 0x48);
        uVar4 = *(ulong *)(param_4 + 0x40);
        *(ulong *)(param_4 + 0x50) = (uVar12 + uVar3) - uVar10;
        local_d0 = uVar3 - uVar4;
        local_d8 = *(long *)(param_3 + 0x50) - *(long *)(param_3 + 0x48);
        if (local_d8 == 0) goto LAB_0011f14a;
        local_b8 = this;
        if (local_d8 < local_d0) {
          local_b0 = &local_d0;
          local_c8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
                    (uVar4,local_d8 + uVar4,0x40,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_b8,
                     (TaskGroupContext *)&local_c8);
          embree::TaskScheduler::wait();
        }
        else {
          local_b0 = &local_d8;
          local_c8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
                    (uVar4,uVar3,0x40,(_lambda_embree__range<unsigned_long>_const___2_ *)&local_b8,
                     (TaskGroupContext *)&local_c8);
          embree::TaskScheduler::wait();
        }
        if (local_c8 == 0) {
          *(ulong *)(param_4 + 0x40) = *(long *)(param_4 + 0x40) + local_d8;
          *(ulong *)(param_4 + 0x48) = *(long *)(param_4 + 0x48) + local_d8;
          *(ulong *)(param_4 + 0x50) = *(long *)(param_4 + 0x50) + local_d8;
          goto LAB_0011f14a;
        }
        param_4 = (PrimInfoExtRange *)&local_c0;
        local_c0 = local_c8;
        std::__exception_ptr::exception_ptr::_M_addref();
        auVar24 = std::rethrow_exception(param_4);
LAB_0011f460:
        uVar12 = uVar2 - uVar1;
        fVar14 = (float)auVar24._0_8_;
        uVar10 = auVar24._8_8_ + auVar24._0_8_;
        if (-1 < (long)uVar10) break;
LAB_0011f481:
        fVar16 = (float)uVar10;
      }
    } while( true );
  }
LAB_0011f14a:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::PrimInfoT<embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned long,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   > const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long, unsigned
   long, unsigned long, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned
   long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef,
   32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   > const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#2} const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_2_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,PrimInfoT_conflict *param_5
                ,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
                *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  long lVar5;
  long lVar6;
  long in_FS_OFFSET;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  ulong local_20d8;
  ulong local_20d0;
  ulong local_20c8;
  ulong **local_20c0;
  ulong **local_20b8;
  ulong *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  undefined1 (*local_2098) [16];
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
  *local_2090;
  undefined1 local_2080 [8160];
  undefined1 (*local_a0) [16];
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20d8 = param_4;
  local_20d0 = param_3;
  local_20c8 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20c8) {
    local_20c8 = 0x200;
  }
  if (uVar2 < local_20c8) {
    local_20c8 = uVar2;
  }
  local_98 = local_20c8;
  if (local_20c8 * 0x50 < 0x2001) {
    local_a0 = (undefined1 (*) [16])local_2080;
  }
  else {
    local_a0 = (undefined1 (*) [16])embree::alignedMalloc(local_20c8 * 0x50,0x40);
  }
  local_20b0 = &local_20d0;
  local_20a8 = &local_20d8;
  local_20a0 = &local_20c8;
  local_2090 = param_7;
  local_2098 = (undefined1 (*) [16])local_2080;
  if (local_20c8 == 0) {
    uVar1 = *(undefined8 *)(param_6 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_6 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
    *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_6 + 0x40);
    *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_6 + 0x48);
  }
  else {
    local_20b8 = &local_20b0;
    local_20c0 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse226HeuristicArrayOpenMergeSAHIZNS9_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_9TriangleMILi4EEEE5buildEvEUlRNSF_8BuildRefEPSG_E5_SG_Lm32EE22openNodesBasedOnExtendERNS9_16PrimInfoExtRangeEEUlRKNS_5rangeImEEE_ZNSK_22openNodesBasedOnExtendESM_EUlRKS8_ST_E0_EET0_T_SW_SW_SW_RKSV_RKT1_RKT2_EUlmE_EEvSW_SY_EUlSQ_E_EEvSW_SW_SW_SY_PNS0_16TaskGroupContextE
              (0,local_20c8,1,&local_20b8,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != (ulong **)0x0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20b8);
      goto LAB_0011ff29;
    }
    auVar8 = *(undefined1 (*) [16])param_6;
    *(undefined1 (*) [16])param_1 = auVar8;
    auVar7 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar9 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
    auVar10 = *(undefined1 (*) [16])(param_6 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
    lVar6 = *(long *)(param_6 + 0x40);
    lVar5 = *(long *)(param_6 + 0x48);
    *(long *)(param_1 + 0x40) = lVar6;
    *(long *)(param_1 + 0x48) = lVar5;
    if (local_20c8 != 0) {
      pauVar3 = local_a0;
      do {
        auVar8 = minps(auVar8,*pauVar3);
        auVar7 = maxps(auVar7,pauVar3[1]);
        pauVar4 = pauVar3 + 5;
        auVar9 = minps(auVar9,pauVar3[2]);
        auVar10 = maxps(auVar10,pauVar3[3]);
        lVar6 = lVar6 + *(long *)pauVar3[4];
        lVar5 = lVar5 + *(long *)(pauVar3[4] + 8);
        *(long *)(param_1 + 0x48) = lVar5;
        *(long *)(param_1 + 0x40) = lVar6;
        *(undefined1 (*) [16])param_1 = auVar8;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar9;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar10;
        pauVar3 = pauVar4;
      } while (local_a0 + local_20c8 * 5 != pauVar4);
    }
  }
  if (local_a0 != (undefined1 (*) [16])local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_0011ff29:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)
    */

void __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::openNodesBasedOnExtend
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
           *this,PrimInfoExtRange *param_1)

{
  ulong uVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  float fVar5;
  float fVar7;
  float fVar8;
  undefined1 auVar6 [16];
  undefined8 local_108;
  long local_100;
  long local_f8;
  float local_f0;
  ulong local_e8;
  ulong local_e0;
  long *local_d8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  *local_d0;
  long *local_c8;
  undefined1 *local_c0;
  _lambda_embree__range<unsigned_long>const___1_ local_b8 [32];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  float local_68 [4];
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  float local_48;
  float fStack_44;
  float fStack_40;
  float fStack_3c;
  undefined4 local_38;
  undefined4 uStack_34;
  undefined4 uStack_30;
  undefined4 uStack_2c;
  undefined8 local_28;
  undefined8 local_20;
  long local_10;
  
  local_c0 = (undefined1 *)&local_108;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_68[0] = *(float *)(param_1 + 0x10) - *(float *)param_1;
  local_68[1] = *(float *)(param_1 + 0x14) - *(float *)(param_1 + 4);
  local_68[2] = *(float *)(param_1 + 0x18) - *(float *)(param_1 + 8);
  fVar5 = (float)((uint)(*(float *)(param_1 + 0x10) - *(float *)param_1) & _LC37);
  fVar7 = (float)((uint)(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4)) & _LC37);
  fVar8 = (float)((uint)(*(float *)(param_1 + 0x18) - *(float *)(param_1 + 8)) & _LC37);
  if (fVar5 <= fVar7) {
    lVar3 = 4;
    if (fVar7 <= fVar8) {
      lVar3 = 8;
    }
    local_f8 = 1;
    if (fVar7 <= fVar8) {
      local_f8 = 2;
    }
  }
  else {
    uVar2 = (ulong)(fVar5 <= fVar8);
    local_f8 = uVar2 * 2;
    lVar3 = uVar2 * 8;
  }
  local_f0 = _LC39 / *(float *)((long)local_68 + lVar3);
  local_108 = *(undefined8 *)(param_1 + 0x48);
  LOCK();
  local_100 = 0;
  UNLOCK();
  uVar2 = *(ulong *)(param_1 + 0x48);
  local_d8 = &local_f8;
  local_c8 = &local_100;
  uVar1 = *(ulong *)(param_1 + 0x40);
  uVar4 = (uVar2 + 0x7f) - uVar1 >> 7;
  local_68[0] = _LC9;
  local_68[1] = _LC9;
  local_68[2] = _LC9;
  local_68[3] = _LC9;
  local_28 = 0;
  local_20 = 0;
  local_58 = _LC11;
  uStack_54 = _LC11;
  uStack_50 = _LC11;
  uStack_4c = _LC11;
  local_48 = _LC9;
  fStack_44 = _LC9;
  fStack_40 = _LC9;
  fStack_3c = _LC9;
  local_38 = _LC11;
  uStack_34 = _LC11;
  uStack_30 = _LC11;
  uStack_2c = _LC11;
  local_d0 = this;
  if (uVar4 == 1) {
    local_e8 = uVar1;
    local_e0 = uVar2;
    local_c0 = (undefined1 *)&local_108;
    openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::
    {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_b8,(range *)&local_d8);
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::openNodesBasedOnExtend(embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_2_>
              ((ulong)local_b8,uVar4,uVar1,uVar2,(PrimInfoT_conflict *)0x80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)local_68,
               (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_d8);
  }
  auVar6 = minps(*(undefined1 (*) [16])(param_1 + 0x20),local_98);
  *(undefined1 (*) [16])(param_1 + 0x20) = auVar6;
  auVar6 = maxps(*(undefined1 (*) [16])(param_1 + 0x30),local_88);
  *(undefined1 (*) [16])(param_1 + 0x30) = auVar6;
  *(long *)(param_1 + 0x48) = *(long *)(param_1 + 0x48) + local_100;
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0012063d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00133160;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_001208d3:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00133160;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_001208d3;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOp...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOp___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambd...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
  ::
  partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#1}::operator()(*(_lambda_unsigned_long__1_ **)(this + 0x20),uVar1);
  return;
}



/* WARNING: Removing unreachable block (ram,0x00120d7d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  Thread *pTVar4;
  long lVar5;
  undefined8 uVar6;
  long lVar7;
  long *plVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  long lVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar14 = embree::TaskScheduler::allocThreadIndex();
  pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar15 = lVar14;
  pTVar18 = pTVar15 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar16 = pTVar16 + 0x40;
  } while (pTVar15 + 0x40040 != pTVar16);
  *(undefined8 *)(pTVar15 + 0x40040) = 0;
  *(undefined8 *)(pTVar15 + 0x40080) = 0;
  *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar15 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar15 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar14 * 8) = pTVar15;
  UNLOCK();
  local_48 = pTVar15;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
  if (*(ulong *)(pTVar15 + 0x40080) < 0x1000) {
    lVar5 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
      pTVar4 = pTVar15 + uVar3 + 0x40090;
      uVar9 = *(undefined8 *)param_1;
      uVar10 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar4 = &PTR_execute_00133178;
      uVar6 = *(undefined8 *)(param_1 + 0x20);
      uVar11 = *(undefined8 *)(param_1 + 0x10);
      uVar12 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar4 + 8) = uVar9;
      *(undefined8 *)(pTVar4 + 0x10) = uVar10;
      *(undefined8 *)(pTVar4 + 0x28) = uVar6;
      *(undefined8 *)(pTVar4 + 0x18) = uVar11;
      *(undefined8 *)(pTVar4 + 0x20) = uVar12;
      lVar17 = *(long *)(pTVar15 + 0x40080) * 0x40;
      lVar7 = *(long *)(pTVar15 + 0xc0100);
      pTVar15[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar15 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar15 + lVar17 + 0x50) = pTVar4;
      *(long *)(pTVar15 + lVar17 + 0x58) = lVar7;
      *(TaskGroupContext **)(pTVar15 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar15 + lVar17 + 0x68) = lVar5;
      *(ulong *)(pTVar15 + lVar17 + 0x70) = param_3;
      if (lVar7 != 0) {
        LOCK();
        *(int *)(lVar7 + 4) = *(int *)(lVar7 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
        LOCK();
        *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar4 = local_48 + 8;
            *(long *)pTVar4 = *(long *)pTVar4 + -1;
            UNLOCK();
            if (*(long *)pTVar4 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
      } while (cVar13 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar14 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar15 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar8 = *(long **)(pTVar15 + 0xc0108);
          if (plVar8 != (long *)0x0) {
            if (*(code **)(*plVar8 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar8 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar8 + 8))();
              }
            }
            else {
              (**(code **)(*plVar8 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar15);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSA___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_00121013:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00133178;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_00121013;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOp...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOp___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)#1},embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambd...:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)#3}>
  ::
  partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#2}::operator()(*(_lambda_unsigned_long__2_ **)(this + 0x20),uVar1);
  return;
}



/* unsigned long embree::parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#3}>(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef*, unsigned long, unsigned long,
   embree::EmptyTy const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef
   const&)#2} const&, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#3} const&, unsigned long) */

ulong embree::
      parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(___:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_3_>
                (BuildRef *param_1,ulong param_2,ulong param_3,EmptyTy *param_4,
                PrimInfoT_conflict *param_5,PrimInfoT_conflict *param_6,
                _lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>__BuildRef_const___1_
                *param_7,_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>__BuildRef_const___2_
                         *param_8,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                *param_9,ulong param_10)

{
  undefined4 uVar1;
  undefined8 uVar2;
  int *piVar3;
  uint *puVar4;
  undefined1 auVar5 [16];
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  bool bVar10;
  bool bVar11;
  float fVar12;
  PrimInfoT_conflict *pPVar13;
  ulong uVar14;
  PrimInfoT_conflict *pPVar15;
  PrimInfoT_conflict *pPVar16;
  int iVar17;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var18;
  long *plVar19;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var20;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Var21;
  PrimInfoT_conflict *pPVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  ulong uVar28;
  long in_FS_OFFSET;
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  int iVar32;
  int iVar35;
  int iVar36;
  int iVar37;
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar38 [16];
  uint uVar39;
  uint uVar40;
  uint uVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  float fVar52;
  float fVar53;
  long local_d0;
  long local_c8;
  PrimInfoT_conflict *local_c0;
  PrimInfoT_conflict *local_b8;
  PrimInfoT_conflict *local_b0;
  PrimInfoT_conflict *pPStack_a8;
  PrimInfoT_conflict *local_a0;
  PrimInfoT_conflict *pPStack_98;
  long *local_90;
  long *local_88;
  TaskGroupContext *local_80;
  long local_48;
  
  auVar29._8_8_ = param_7;
  auVar29._0_8_ = param_3;
  uVar28 = param_3 - param_2;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)(param_1 + param_2 * 0x40);
  if (uVar28 < param_10) {
LAB_00121548:
    fVar12 = _LC14;
    plVar19 = auVar29._8_8_;
    p_Var20 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1 +
              auVar29._0_8_ * 0x40 + -0x40;
    for (; p_Var18 <= p_Var20; p_Var18 = p_Var18 + 0x40) {
      auVar29 = *(undefined1 (*) [16])(p_Var18 + 0x10);
      auVar30 = *(undefined1 (*) [16])p_Var18;
      lVar24 = *plVar19;
      fVar50 = auVar29._0_4_ + auVar30._0_4_;
      fVar51 = auVar29._4_4_ + auVar30._4_4_;
      fVar52 = auVar29._8_4_ + auVar30._8_4_;
      fVar53 = auVar29._12_4_ + auVar30._12_4_;
      fVar46 = *(float *)(lVar24 + 0x20);
      fVar47 = *(float *)(lVar24 + 0x24);
      fVar48 = *(float *)(lVar24 + 0x28);
      fVar49 = *(float *)(lVar24 + 0x2c);
      fVar42 = *(float *)(lVar24 + 0x30);
      fVar43 = *(float *)(lVar24 + 0x34);
      fVar44 = *(float *)(lVar24 + 0x38);
      fVar45 = *(float *)(lVar24 + 0x3c);
      piVar3 = (int *)plVar19[1];
      iVar32 = *piVar3;
      iVar35 = piVar3[1];
      iVar36 = piVar3[2];
      iVar37 = piVar3[3];
      puVar4 = (uint *)plVar19[2];
      uVar23 = *puVar4;
      uVar39 = puVar4[1];
      uVar40 = puVar4[2];
      uVar41 = puVar4[3];
      auVar34._0_4_ = -(uint)((int)((fVar50 - fVar46) * fVar42 + fVar12) < iVar32) & uVar23;
      auVar34._4_4_ = -(uint)((int)((fVar51 - fVar47) * fVar43 + fVar12) < iVar35) & uVar39;
      auVar34._8_4_ = -(uint)((int)((fVar52 - fVar48) * fVar44 + fVar12) < iVar36) & uVar40;
      auVar34._12_4_ = -(uint)((int)((fVar53 - fVar49) * fVar45 + fVar12) < iVar37) & uVar41;
      iVar17 = movmskps((int)puVar4,auVar34);
      p_Var21 = p_Var20;
      if (iVar17 == 0) {
        while( true ) {
          auVar29 = *(undefined1 (*) [16])(p_Var21 + 0x10);
          auVar30 = *(undefined1 (*) [16])p_Var21;
          p_Var20 = p_Var21 + -0x40;
          auVar38._0_4_ = auVar29._0_4_ + auVar30._0_4_;
          auVar38._4_4_ = auVar29._4_4_ + auVar30._4_4_;
          auVar38._8_4_ = auVar29._8_4_ + auVar30._8_4_;
          auVar38._12_4_ = auVar29._12_4_ + auVar30._12_4_;
          auVar33._0_4_ =
               -(uint)((int)((auVar38._0_4_ - fVar46) * fVar42 + fVar12) < iVar32) & uVar23;
          auVar33._4_4_ =
               -(uint)((int)((auVar38._4_4_ - fVar47) * fVar43 + fVar12) < iVar35) & uVar39;
          auVar33._8_4_ =
               -(uint)((int)((auVar38._8_4_ - fVar48) * fVar44 + fVar12) < iVar36) & uVar40;
          auVar33._12_4_ =
               -(uint)((int)((auVar38._12_4_ - fVar49) * fVar45 + fVar12) < iVar37) & uVar41;
          uVar23 = movmskps((int)param_9,auVar33);
          param_9 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                     *)(ulong)uVar23;
          if (uVar23 != 0) break;
          *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + 1;
          auVar30 = minps(*(undefined1 (*) [16])param_6,auVar30);
          *(undefined1 (*) [16])param_6 = auVar30;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar29);
          *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
          auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
          if (p_Var20 < p_Var18) goto LAB_0012160b;
          lVar24 = *plVar19;
          fVar46 = *(float *)(lVar24 + 0x20);
          fVar47 = *(float *)(lVar24 + 0x24);
          fVar48 = *(float *)(lVar24 + 0x28);
          fVar49 = *(float *)(lVar24 + 0x2c);
          fVar42 = *(float *)(lVar24 + 0x30);
          fVar43 = *(float *)(lVar24 + 0x34);
          fVar44 = *(float *)(lVar24 + 0x38);
          fVar45 = *(float *)(lVar24 + 0x3c);
          piVar3 = (int *)plVar19[1];
          iVar32 = *piVar3;
          iVar35 = piVar3[1];
          iVar36 = piVar3[2];
          iVar37 = piVar3[3];
          puVar4 = (uint *)plVar19[2];
          uVar23 = *puVar4;
          uVar39 = puVar4[1];
          uVar40 = puVar4[2];
          uVar41 = puVar4[3];
          p_Var21 = p_Var20;
        }
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + 1;
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        auVar29 = *(undefined1 (*) [16])p_Var18;
        auVar30 = *(undefined1 (*) [16])(p_Var18 + 0x10);
        *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + 1;
        auVar34 = minps(*(undefined1 (*) [16])param_6,auVar29);
        *(undefined1 (*) [16])param_6 = auVar34;
        auVar34 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar30);
        auVar31._0_4_ = auVar30._0_4_ + auVar29._0_4_;
        auVar31._4_4_ = auVar30._4_4_ + auVar29._4_4_;
        auVar31._8_4_ = auVar30._8_4_ + auVar29._8_4_;
        auVar31._12_4_ = auVar30._12_4_ + auVar29._12_4_;
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar34;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        uVar2 = *(undefined8 *)(p_Var21 + 8);
        uVar6 = *(undefined8 *)p_Var18;
        uVar7 = *(undefined8 *)(p_Var18 + 8);
        uVar8 = *(undefined8 *)(p_Var18 + 0x10);
        uVar9 = *(undefined8 *)(p_Var18 + 0x18);
        param_9 = *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                    **)(p_Var18 + 0x20);
        *(undefined8 *)p_Var18 = *(undefined8 *)p_Var21;
        *(undefined8 *)(p_Var18 + 8) = uVar2;
        uVar2 = *(undefined8 *)(p_Var21 + 0x18);
        uVar1 = *(undefined4 *)(p_Var18 + 0x28);
        local_80 = (TaskGroupContext *)param_9;
        *(undefined8 *)(p_Var18 + 0x10) = *(undefined8 *)(p_Var21 + 0x10);
        *(undefined8 *)(p_Var18 + 0x18) = uVar2;
        *(undefined8 *)(p_Var18 + 0x20) = *(undefined8 *)(p_Var21 + 0x20);
        *(undefined4 *)(p_Var18 + 0x28) = *(undefined4 *)(p_Var21 + 0x28);
        *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
          **)(p_Var21 + 0x20) = param_9;
        *(undefined8 *)p_Var21 = uVar6;
        *(undefined8 *)(p_Var21 + 8) = uVar7;
        *(undefined8 *)(p_Var21 + 0x10) = uVar8;
        *(undefined8 *)(p_Var21 + 0x18) = uVar9;
        *(undefined4 *)(p_Var21 + 0x28) = uVar1;
      }
      else {
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + 1;
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar30._4_4_ = fVar51;
        auVar30._0_4_ = fVar50;
        auVar30._8_4_ = fVar52;
        auVar30._12_4_ = fVar53;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar30);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar5._4_4_ = fVar51;
        auVar5._0_4_ = fVar50;
        auVar5._8_4_ = fVar52;
        auVar5._12_4_ = fVar53;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar5);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
      }
    }
LAB_0012160b:
    pPVar15 = (PrimInfoT_conflict *)((long)p_Var18 - (long)param_1 >> 6);
  }
  else {
    pPVar13 = (PrimInfoT_conflict *)embree::alignedMalloc(0x34c0,0x40);
    *(ulong *)(pPVar13 + 8) = uVar28;
    *(_lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>__BuildRef_const___1_
      **)(pPVar13 + 0x10) = param_7;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)pPVar13 = p_Var18;
    *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>__BuildRef_const___2_
      **)(pPVar13 + 0x18) = param_8;
    *(_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
      **)(pPVar13 + 0x20) = param_9;
    *(EmptyTy **)(pPVar13 + 0x28) = param_4;
    uVar14 = embree::TaskScheduler::threadCount();
    uVar28 = ((uVar28 - 1) + param_10) / param_10;
    if (0x40 < uVar28) {
      uVar28 = 0x40;
    }
    if (uVar28 <= uVar14) {
      uVar14 = uVar28;
    }
    *(ulong *)(pPVar13 + 0x30) = uVar14;
    local_a0 = pPVar13;
    if (uVar14 == 0) {
      *(undefined8 *)(pPVar13 + 0x280) = 0;
      *(undefined8 *)(pPVar13 + 0x40) = *(undefined8 *)(pPVar13 + 8);
LAB_001211f2:
      pPVar15 = *(PrimInfoT_conflict **)(pPVar13 + 0x280);
    }
    else {
      param_9 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
                 *)&local_b8;
      local_b8 = (PrimInfoT_conflict *)0x0;
      param_1 = (BuildRef *)&local_b0;
      p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1;
      local_b0 = (PrimInfoT_conflict *)&local_a0;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar14,1,(_lambda_embree__range<unsigned_long>_const___1_ *)param_1,
                 (TaskGroupContext *)param_9);
      embree::TaskScheduler::wait();
      if (local_b8 != (PrimInfoT_conflict *)0x0) {
LAB_00121528:
        local_b0 = local_b8;
        std::__exception_ptr::exception_ptr::_M_addref();
        auVar29 = std::rethrow_exception();
        goto LAB_00121548;
      }
      lVar24 = *(long *)(pPVar13 + 0x30);
      uVar2 = *(undefined8 *)(pPVar13 + 8);
      *(undefined8 *)(pPVar13 + lVar24 * 8 + 0x280) = 0;
      *(undefined8 *)(pPVar13 + lVar24 * 8 + 0x40) = uVar2;
      if (lVar24 == 0) goto LAB_001211f2;
      uVar28 = 0;
      pPVar15 = pPVar13 + 0xcc0;
      do {
        auVar29 = minps(*(undefined1 (*) [16])param_5,*(undefined1 (*) [16])pPVar15);
        uVar28 = uVar28 + 1;
        *(undefined1 (*) [16])param_5 = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),
                        *(undefined1 (*) [16])(pPVar15 + 0x10));
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),
                        *(undefined1 (*) [16])(pPVar15 + 0x20));
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),
                        *(undefined1 (*) [16])(pPVar15 + 0x30));
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        *(long *)(param_5 + 0x40) = *(long *)(param_5 + 0x40) + *(long *)(pPVar15 + 0x40);
        *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + *(long *)(pPVar15 + 0x48);
        auVar29 = minps(*(undefined1 (*) [16])param_6,*(undefined1 (*) [16])(pPVar15 + 0x1400));
        *(undefined1 (*) [16])param_6 = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),
                        *(undefined1 (*) [16])(pPVar15 + 0x1410));
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),
                        *(undefined1 (*) [16])(pPVar15 + 0x1420));
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),
                        *(undefined1 (*) [16])(pPVar15 + 0x1430));
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        *(long *)(param_6 + 0x40) = *(long *)(param_6 + 0x40) + *(long *)(pPVar15 + 0x1440);
        *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + *(long *)(pPVar15 + 0x1448);
        uVar14 = *(ulong *)(pPVar13 + 0x30);
        pPVar15 = pPVar15 + 0x50;
      } while (uVar28 < uVar14);
      pPVar15 = *(PrimInfoT_conflict **)(pPVar13 + 0x280);
      param_5 = pPVar15;
      if (uVar14 < 2) {
        pPVar16 = *(PrimInfoT_conflict **)(pPVar13 + 8);
        local_d0 = 0;
        local_c8 = 0;
        local_c0 = (PrimInfoT_conflict *)0x0;
        if (uVar14 == 0) goto LAB_00121200;
      }
      else {
        pPVar16 = pPVar13 + 0x288;
        do {
          param_5 = param_5 + *(long *)pPVar16;
          pPVar16 = pPVar16 + 8;
        } while (pPVar13 + uVar14 * 8 + 0x280 != pPVar16);
        pPVar16 = *(PrimInfoT_conflict **)(pPVar13 + 8);
      }
      local_c0 = (PrimInfoT_conflict *)0x0;
      local_c8 = 0;
      local_d0 = 0;
      bVar11 = false;
      bVar10 = false;
      param_6 = (PrimInfoT_conflict *)0x0;
      pPVar22 = pPVar13 + 0x40;
      lVar24 = 0;
      lVar26 = 0;
      while( true ) {
        local_a0 = *(PrimInfoT_conflict **)pPVar22;
        pPStack_98 = pPVar15 + (long)local_a0;
        pPStack_a8 = *(PrimInfoT_conflict **)(pPVar22 + 8);
        if ((long)param_5 <= (long)*(PrimInfoT_conflict **)(pPVar22 + 8)) {
          pPStack_a8 = param_5;
        }
        local_b0 = (PrimInfoT_conflict *)0x0;
        if (-1 < (long)pPStack_98) {
          local_b0 = pPStack_98;
        }
        if ((long)pPVar16 <= (long)pPStack_98) {
          pPStack_98 = pPVar16;
        }
        if ((long)local_a0 < (long)param_5) {
          local_a0 = param_5;
        }
        lVar25 = lVar24;
        if ((long)local_b0 < (long)pPStack_a8) {
          bVar10 = true;
          param_6 = param_6 + ((long)pPStack_a8 - (long)local_b0);
          lVar25 = lVar24 + 1;
          *(PrimInfoT_conflict **)(pPVar13 + lVar24 * 0x10 + 0x4c0) = local_b0;
          *(PrimInfoT_conflict **)(pPVar13 + lVar24 * 0x10 + 0x4c0 + 8) = pPStack_a8;
        }
        lVar27 = lVar26;
        if ((long)local_a0 < (long)pPStack_98) {
          bVar11 = true;
          lVar27 = lVar26 + 1;
          *(PrimInfoT_conflict **)(pPVar13 + lVar26 * 0x10 + 0x8c0) = local_a0;
          *(PrimInfoT_conflict **)(pPVar13 + lVar26 * 0x10 + 0x8c0 + 8) = pPStack_98;
        }
        if (pPVar13 + 0x40 + uVar14 * 8 == pPVar22 + 8) break;
        pPVar15 = *(PrimInfoT_conflict **)(pPVar22 + 0x248);
        pPVar22 = pPVar22 + 8;
        lVar24 = lVar25;
        lVar26 = lVar27;
      }
      if (bVar11) {
        local_c8 = lVar27;
      }
      pPVar15 = param_5;
      if ((bVar10) && (local_d0 = lVar25, local_c0 = param_6, param_6 != (PrimInfoT_conflict *)0x0))
      {
        local_a0 = (PrimInfoT_conflict *)&local_c0;
        local_90 = &local_d0;
        local_88 = &local_c8;
        local_b8 = (PrimInfoT_conflict *)0x0;
        p_Var18 = (_lambda_embree__range<unsigned_long>_const___1_ *)param_1;
        local_b0 = (PrimInfoT_conflict *)&local_a0;
        pPStack_98 = pPVar13;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLeve___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,uVar14,1,(_lambda_embree__range<unsigned_long>_const___1_ *)param_1,
                   (TaskGroupContext *)param_9);
        embree::TaskScheduler::wait();
        if (local_b8 != (PrimInfoT_conflict *)0x0) goto LAB_00121528;
      }
    }
LAB_00121200:
    if (pPVar13 != (PrimInfoT_conflict *)0x0) {
      embree::alignedFree(pPVar13);
    }
    pPVar15 = pPVar15 + param_2;
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return (ulong)pPVar15;
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>
   const&, embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&) */

long __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::parallel_object_split
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
           *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  EmptyTy local_11b;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>__BuildRef_const___2_
  local_11a;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___3_
  local_119;
  BinSplit *local_118;
  undefined4 *local_110;
  undefined8 *local_108;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  long local_b8;
  long local_b0;
  undefined4 local_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined8 local_68;
  undefined8 local_60;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  uVar1 = *(ulong *)(param_2 + 0x48);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = *(undefined4 *)(param_1 + 8);
  uVar2 = *(ulong *)(param_2 + 0x40);
  local_b8 = 0;
  lVar3 = (long)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f));
  local_e8 = _LC11;
  uStack_e4 = _LC11;
  uStack_e0 = _LC11;
  uStack_dc = _LC11;
  local_48 = (&mm_lookupmask_ps)[lVar3 * 2];
  uStack_40 = *(undefined8 *)(embree::TaskScheduler::threadCount + lVar3 * 0x10);
  local_c8 = _LC11;
  uStack_c4 = _LC11;
  uStack_c0 = _LC11;
  uStack_bc = _LC11;
  local_110 = &local_58;
  local_98 = _LC11;
  uStack_94 = _LC11;
  uStack_90 = _LC11;
  uStack_8c = _LC11;
  local_78 = _LC11;
  uStack_74 = _LC11;
  uStack_70 = _LC11;
  uStack_6c = _LC11;
  local_f8 = _LC9;
  uStack_f4 = _LC9;
  uStack_f0 = _LC9;
  uStack_ec = _LC9;
  local_d8 = _LC9;
  uStack_d4 = _LC9;
  uStack_d0 = _LC9;
  uStack_cc = _LC9;
  local_a8 = _LC9;
  uStack_a4 = _LC9;
  uStack_a0 = _LC9;
  uStack_9c = _LC9;
  local_88 = _LC9;
  uStack_84 = _LC9;
  uStack_80 = _LC9;
  uStack_7c = _LC9;
  local_b0 = 0;
  local_68 = 0;
  local_60 = 0;
  local_108 = &local_48;
  local_118 = param_1;
  uStack_54 = local_58;
  uStack_50 = local_58;
  uStack_4c = local_58;
  uVar4 = parallel_partitioning<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(___:PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_3_>
                    (*(BuildRef **)this,uVar2,uVar1,&local_11b,(PrimInfoT_conflict *)&local_f8,
                     (PrimInfoT_conflict *)&local_a8,
                     (_lambda_embree__sse2__BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>__BuildRef_const___1_
                      *)&local_118,&local_11a,&local_119,0x80);
  *(ulong *)(param_3 + 0x40) = uVar2;
  *(ulong *)(param_3 + 0x48) = uVar4;
  *(ulong *)(param_3 + 0x50) = uVar4;
  *(ulong *)param_3 = CONCAT44(uStack_f4,local_f8);
  *(ulong *)(param_3 + 8) = CONCAT44(uStack_ec,uStack_f0);
  *(ulong *)(param_3 + 0x10) = CONCAT44(uStack_e4,local_e8);
  *(ulong *)(param_3 + 0x18) = CONCAT44(uStack_dc,uStack_e0);
  *(undefined4 *)(param_3 + 0x20) = local_d8;
  *(undefined4 *)(param_3 + 0x24) = uStack_d4;
  *(undefined4 *)(param_3 + 0x28) = uStack_d0;
  *(undefined4 *)(param_3 + 0x2c) = uStack_cc;
  *(undefined4 *)(param_3 + 0x30) = local_c8;
  *(undefined4 *)(param_3 + 0x34) = uStack_c4;
  *(undefined4 *)(param_3 + 0x38) = uStack_c0;
  *(undefined4 *)(param_3 + 0x3c) = uStack_bc;
  *(ulong *)(param_4 + 0x40) = uVar4;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(ulong *)param_4 = CONCAT44(uStack_a4,local_a8);
  *(ulong *)(param_4 + 8) = CONCAT44(uStack_9c,uStack_a0);
  *(undefined4 *)(param_4 + 0x10) = local_98;
  *(undefined4 *)(param_4 + 0x14) = uStack_94;
  *(undefined4 *)(param_4 + 0x18) = uStack_90;
  *(undefined4 *)(param_4 + 0x1c) = uStack_8c;
  *(undefined4 *)(param_4 + 0x20) = local_88;
  *(undefined4 *)(param_4 + 0x24) = uStack_84;
  *(undefined4 *)(param_4 + 0x28) = uStack_80;
  *(undefined4 *)(param_4 + 0x2c) = uStack_7c;
  *(undefined4 *)(param_4 + 0x30) = local_78;
  *(undefined4 *)(param_4 + 0x34) = uStack_74;
  *(undefined4 *)(param_4 + 0x38) = uStack_70;
  *(undefined4 *)(param_4 + 0x3c) = uStack_6c;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_b0 - local_b8;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::split(embree::sse2::BinSplit<32ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&) */

void __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::split(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
        *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
       PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  ulong uVar3;
  ulong uVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  undefined1 (*pauVar8) [16];
  long lVar9;
  ulong uVar10;
  long lVar11;
  ulong uVar12;
  undefined1 (*pauVar13) [16];
  long in_FS_OFFSET;
  float fVar14;
  undefined1 auVar15 [16];
  float fVar16;
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  ulong local_d8;
  ulong local_d0;
  long local_c8;
  long local_c0;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  *local_b8;
  ulong *local_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  ulong local_68;
  ulong local_60;
  ulong local_58;
  long local_40;
  
  local_a8 = *(undefined8 *)param_2;
  uStack_a0 = *(undefined8 *)(param_2 + 8);
  local_98 = *(undefined8 *)(param_2 + 0x10);
  uStack_90 = *(undefined8 *)(param_2 + 0x18);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = *(undefined8 *)(param_2 + 0x20);
  uVar10 = *(ulong *)(param_2 + 0x40);
  uVar1 = *(ulong *)(param_2 + 0x48);
  uVar2 = *(ulong *)(param_2 + 0x50);
  local_68 = uVar10;
  local_60 = uVar1;
  local_58 = uVar2;
  uStack_80 = *(undefined8 *)(param_2 + 0x28);
  local_78 = *(undefined8 *)(param_2 + 0x30);
  uStack_70 = *(undefined8 *)(param_2 + 0x38);
  if (*(int *)(param_1 + 4) != -1) {
    if (uVar1 - uVar10 < 0x400) {
      auVar24 = sequential_object_split(this,param_1,(PrimInfoExtRange *)&local_a8,param_3,param_4);
    }
    else {
      auVar24 = parallel_object_split(this,param_1,(PrimInfoExtRange *)&local_a8,param_3,param_4);
    }
    if (uVar1 != uVar2) goto LAB_00121d70;
    goto LAB_00121a5a;
  }
  lVar6 = uVar1 * 0x40;
  lVar9 = *(long *)this + lVar6;
  lVar11 = *(long *)this + uVar10 * 0x40;
  if (lVar9 != lVar11) {
    lVar7 = lVar6 + uVar10 * -0x40;
    uVar12 = lVar7 >> 6;
    if (uVar12 == 0) {
      std::
      __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar11,lVar9,0xfffffffffffffffe);
    }
    else {
      lVar5 = 0x3f;
      if (uVar12 != 0) {
        for (; uVar12 >> lVar5 == 0; lVar5 = lVar5 + -1) {
        }
      }
      std::
      __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar11,lVar9,(long)(int)lVar5 * 2);
      if (0x400 < lVar7) {
        lVar11 = lVar11 + 0x400;
        std::
        __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                  ();
        while (lVar9 != lVar11) {
          lVar11 = lVar11 + 0x40;
          std::
          __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                    ();
        }
        goto LAB_00121b3b;
      }
    }
    std::
    __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
              (lVar11,lVar9);
  }
LAB_00121b3b:
  uVar12 = uVar10 + uVar1 >> 1;
  if (uVar10 < uVar12) {
    auVar21._8_4_ = _LC9;
    auVar21._0_8_ = CONCAT44(_LC9,_LC9);
    auVar21._12_4_ = _LC9;
    auVar23._8_4_ = _LC9;
    auVar23._0_8_ = CONCAT44(_LC9,_LC9);
    auVar23._12_4_ = _LC9;
    auVar24._8_4_ = _LC11;
    auVar24._0_8_ = CONCAT44(_LC11,_LC11);
    auVar24._12_4_ = _LC11;
    auVar22._8_4_ = _LC11;
    auVar22._0_8_ = CONCAT44(_LC11,_LC11);
    auVar22._12_4_ = _LC11;
    pauVar8 = (undefined1 (*) [16])(uVar10 * 0x40 + *(long *)this);
    do {
      auVar19._0_4_ = *(float *)pauVar8[1] + *(float *)*pauVar8;
      auVar19._4_4_ = *(float *)(pauVar8[1] + 4) + *(float *)(*pauVar8 + 4);
      auVar19._8_4_ = *(float *)(pauVar8[1] + 8) + *(float *)(*pauVar8 + 8);
      auVar19._12_4_ = *(float *)(pauVar8[1] + 0xc) + *(float *)(*pauVar8 + 0xc);
      pauVar13 = pauVar8 + 4;
      auVar23 = minps(auVar23,*pauVar8);
      auVar22 = maxps(auVar22,pauVar8[1]);
      auVar21 = minps(auVar21,auVar19);
      auVar24 = maxps(auVar24,auVar19);
      pauVar8 = pauVar13;
    } while ((undefined1 (*) [16])(*(long *)this + uVar12 * 0x40) != pauVar13);
    lVar11 = uVar12 - uVar10;
  }
  else {
    lVar11 = 0;
    auVar21._8_4_ = _LC9;
    auVar21._0_8_ = CONCAT44(_LC9,_LC9);
    auVar21._12_4_ = _LC9;
    auVar23._8_4_ = _LC9;
    auVar23._0_8_ = CONCAT44(_LC9,_LC9);
    auVar23._12_4_ = _LC9;
    auVar24._8_4_ = _LC11;
    auVar24._0_8_ = CONCAT44(_LC11,_LC11);
    auVar24._12_4_ = _LC11;
    auVar22._8_4_ = _LC11;
    auVar22._0_8_ = CONCAT44(_LC11,_LC11);
    auVar22._12_4_ = _LC11;
  }
  auVar18._4_4_ = _LC11;
  auVar18._0_4_ = _LC11;
  auVar17._4_4_ = _LC9;
  auVar17._0_4_ = _LC9;
  auVar18._8_4_ = _LC11;
  auVar17._8_4_ = _LC9;
  auVar18._12_4_ = _LC11;
  auVar17._12_4_ = _LC9;
  auVar19 = auVar18;
  auVar20 = auVar17;
  if (uVar12 < uVar1) {
    pauVar8 = (undefined1 (*) [16])(uVar12 * 0x40 + *(long *)this);
    do {
      auVar15._0_4_ = *(float *)pauVar8[1] + *(float *)*pauVar8;
      auVar15._4_4_ = *(float *)(pauVar8[1] + 4) + *(float *)(*pauVar8 + 4);
      auVar15._8_4_ = *(float *)(pauVar8[1] + 8) + *(float *)(*pauVar8 + 8);
      auVar15._12_4_ = *(float *)(pauVar8[1] + 0xc) + *(float *)(*pauVar8 + 0xc);
      pauVar13 = pauVar8 + 4;
      auVar20 = minps(auVar20,*pauVar8);
      auVar18 = maxps(auVar18,pauVar8[1]);
      auVar17 = minps(auVar17,auVar15);
      auVar19 = maxps(auVar19,auVar15);
      pauVar8 = pauVar13;
    } while (pauVar13 != (undefined1 (*) [16])(*(long *)this + lVar6));
    lVar9 = uVar1 - uVar12;
  }
  else {
    lVar9 = 0;
  }
  *(ulong *)(param_3 + 0x40) = uVar10;
  *(ulong *)(param_3 + 0x48) = uVar12;
  *(ulong *)(param_3 + 0x50) = uVar12;
  *(undefined1 (*) [16])param_3 = auVar23;
  *(undefined1 (*) [16])(param_3 + 0x10) = auVar22;
  *(undefined1 (*) [16])(param_3 + 0x20) = auVar21;
  *(undefined1 (*) [16])(param_3 + 0x30) = auVar24;
  *(ulong *)(param_4 + 0x40) = uVar12;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(undefined1 (*) [16])param_4 = auVar20;
  *(undefined1 (*) [16])(param_4 + 0x10) = auVar18;
  *(undefined1 (*) [16])(param_4 + 0x20) = auVar17;
  *(undefined1 (*) [16])(param_4 + 0x30) = auVar19;
  if (uVar1 != uVar2) {
    fVar14 = (float)lVar11;
    uVar12 = uVar2 - uVar1;
    uVar10 = lVar9 + lVar11;
    if ((long)uVar10 < 0) goto LAB_00121d91;
    do {
      fVar16 = (float)(long)uVar10;
      while( true ) {
        fVar14 = (fVar14 / fVar16) * (float)uVar12;
        if ((float)((uint)fVar14 & _LC37) < _LC34) {
          fVar14 = (float)((uint)(float)(int)fVar14 | ~_LC37 & (uint)fVar14);
        }
        if (__LC36 <= fVar14) {
          uVar10 = (long)(fVar14 - __LC36) ^ 0x8000000000000000;
        }
        else {
          uVar10 = (ulong)fVar14;
        }
        if (uVar12 < uVar10) {
          uVar10 = uVar12;
        }
        *(ulong *)(param_3 + 0x50) = *(long *)(param_3 + 0x48) + uVar10;
        uVar3 = *(ulong *)(param_4 + 0x48);
        uVar4 = *(ulong *)(param_4 + 0x40);
        *(ulong *)(param_4 + 0x50) = (uVar12 + uVar3) - uVar10;
        local_d0 = uVar3 - uVar4;
        local_d8 = *(long *)(param_3 + 0x50) - *(long *)(param_3 + 0x48);
        if (local_d8 == 0) goto LAB_00121a5a;
        local_b8 = this;
        if (local_d8 < local_d0) {
          local_b0 = &local_d0;
          local_c8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
                    (uVar4,local_d8 + uVar4,0x40,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_b8,
                     (TaskGroupContext *)&local_c8);
          embree::TaskScheduler::wait();
        }
        else {
          local_b0 = &local_d8;
          local_c8 = 0;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
                    (uVar4,uVar3,0x40,(_lambda_embree__range<unsigned_long>_const___2_ *)&local_b8,
                     (TaskGroupContext *)&local_c8);
          embree::TaskScheduler::wait();
        }
        if (local_c8 == 0) {
          *(ulong *)(param_4 + 0x40) = *(long *)(param_4 + 0x40) + local_d8;
          *(ulong *)(param_4 + 0x48) = *(long *)(param_4 + 0x48) + local_d8;
          *(ulong *)(param_4 + 0x50) = *(long *)(param_4 + 0x50) + local_d8;
          goto LAB_00121a5a;
        }
        param_4 = (PrimInfoExtRange *)&local_c0;
        local_c0 = local_c8;
        std::__exception_ptr::exception_ptr::_M_addref();
        auVar24 = std::rethrow_exception(param_4);
LAB_00121d70:
        uVar12 = uVar2 - uVar1;
        fVar14 = (float)auVar24._0_8_;
        uVar10 = auVar24._8_8_ + auVar24._0_8_;
        if (-1 < (long)uVar10) break;
LAB_00121d91:
        fVar16 = (float)uVar10;
      }
    } while( true );
  }
LAB_00121a5a:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* std::pair<unsigned long, bool> embree::parallel_reduce_internal<unsigned long, std::pair<unsigned
   long, bool>, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(embree::range<unsigned long>
   const&)#1}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(std::pair<unsigned long,
   bool> const&, std::pair<unsigned long, bool> const&)#2}>(unsigned long, unsigned long, unsigned
   long, unsigned long, std::pair<unsigned long, bool> const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(std::pair<unsigned long,
   bool> const&, std::pair<unsigned long, bool> const&)#2} const&) */

undefined1  [16]
embree::
parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,bool>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(std::pair<unsigned_long,bool>const&,std::pair<unsigned_long,bool>const&)_2_>
          (ulong param_1,ulong param_2,ulong param_3,ulong param_4,pair_conflict *param_5,
          _lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_std__pair<unsigned_long,bool>_const__std__pair<unsigned_long,bool>_const___2_
          *param_7)

{
  ulong uVar1;
  long *plVar2;
  long lVar3;
  long in_FS_OFFSET;
  byte bVar4;
  undefined1 auVar5 [16];
  ulong local_2118;
  ulong local_2110;
  ulong local_2108;
  undefined8 **local_2100;
  undefined8 **local_20f8;
  ulong *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  long *local_20d8;
  _lambda_embree__range<unsigned_long>_const___1_ *local_20d0;
  long local_20c0 [1024];
  long *local_c0;
  ulong local_b8;
  long local_48;
  
  bVar4 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2118 = param_3;
  local_2110 = param_2;
  local_2108 = param_1;
  uVar1 = embree::TaskScheduler::threadCount();
  lVar3 = 0x400;
  plVar2 = local_20c0;
  if (local_2108 < uVar1) {
    uVar1 = local_2108;
  }
  local_2108 = 0x200;
  if (uVar1 < 0x201) {
    local_2108 = uVar1;
  }
  for (; lVar3 != 0; lVar3 = lVar3 + -1) {
    *plVar2 = 0;
    plVar2 = plVar2 + (ulong)bVar4 * -2 + 1;
  }
  local_20f0 = &local_2110;
  local_20e8 = &local_2118;
  local_20e0 = &local_2108;
  local_20d8 = local_20c0;
  local_20d0 = param_6;
  local_c0 = local_20c0;
  local_b8 = local_2108;
  if (uVar1 == 0) {
    lVar3 = *(long *)param_5;
    uVar1 = (ulong)(byte)param_5[8];
  }
  else {
    local_20f8 = &local_20f0;
    local_2100 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImSt4pairImbEZNS_4sse226HeuristicArrayOpenMergeSAHIZNS6_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMiILi4EEEE5buildEvEUlRNSC_8BuildRefEPSD_E5_SD_Lm32EE13getPropertiesERKNS6_16PrimInfoExtRangeEEUlRKNS_5rangeImEEE_ZNSH_13getPropertiesESK_EUlRKS5_SR_E0_EET0_T_SU_SU_SU_RKST_RKT1_RKT2_EUlmE_EEvSU_SW_EUlSO_E_EEvSU_SU_SU_SW_PNS0_16TaskGroupContextE
              (0,local_2108,1,&local_20f8,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != (ulong **)0x0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20f8);
      goto LAB_00122786;
    }
    lVar3 = *(long *)param_5;
    uVar1 = (ulong)(byte)param_5[8];
    if (local_2108 != 0) {
      plVar2 = local_c0;
      do {
        if ((char)uVar1 != '\0') {
          uVar1 = (ulong)*(byte *)(plVar2 + 1);
        }
        lVar3 = lVar3 + *plVar2;
        plVar2 = plVar2 + 2;
      } while (local_c0 + local_2108 * 2 != plVar2);
    }
  }
  if (local_c0 != local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    auVar5._8_8_ = uVar1;
    auVar5._0_8_ = lVar3;
    return auVar5;
  }
LAB_00122786:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&) */

long __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::getProperties(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                *this,PrimInfoExtRange *param_1)

{
  ulong uVar1;
  long lVar2;
  ulong uVar3;
  float *pfVar4;
  long lVar5;
  long in_FS_OFFSET;
  float fVar6;
  float fVar7;
  float fVar8;
  float local_5c;
  long local_58;
  float local_50;
  undefined8 local_48;
  undefined1 local_40;
  float local_38 [4];
  undefined8 local_28;
  undefined8 uStack_20;
  long *local_18;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_28 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
              *)CONCAT44(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4),
                         *(float *)(param_1 + 0x10) - *(float *)param_1);
  uStack_20 = (float *)CONCAT44(*(float *)(param_1 + 0x1c) - *(float *)(param_1 + 0xc),
                                *(float *)(param_1 + 0x18) - *(float *)(param_1 + 8));
  fVar6 = (float)((uint)(*(float *)(param_1 + 0x10) - *(float *)param_1) & _LC37);
  fVar7 = (float)((uint)(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4)) & _LC37);
  fVar8 = (float)((uint)(*(float *)(param_1 + 0x18) - *(float *)(param_1 + 8)) & _LC37);
  if (fVar6 <= fVar7) {
    lVar5 = 4;
    if (fVar7 <= fVar8) {
      lVar5 = 8;
    }
    local_58 = 1;
    if (fVar7 <= fVar8) {
      local_58 = 2;
    }
  }
  else {
    uVar3 = (ulong)(fVar6 <= fVar8);
    local_58 = uVar3 * 2;
    lVar5 = uVar3 * 8;
  }
  uVar3 = *(ulong *)(param_1 + 0x40);
  local_50 = _LC39 / *(float *)((long)&local_28 + lVar5);
  local_40 = 1;
  local_48 = 0;
  pfVar4 = (float *)(uVar3 * 0x40 + *(long *)this);
  local_5c = pfVar4[3];
  uStack_20 = &local_5c;
  local_18 = &local_58;
  uVar1 = *(ulong *)(param_1 + 0x48);
  local_28 = this;
  if (uVar1 - uVar3 < 0x400) {
    if (uVar3 < uVar1) {
      lVar2 = 0;
      do {
        if (((uint)pfVar4[8] & 8) == 0) {
          local_38[3] = pfVar4[7] - pfVar4[3];
          local_38[0] = pfVar4[4] - *pfVar4;
          local_38[1] = pfVar4[5] - pfVar4[1];
          local_38[2] = pfVar4[6] - pfVar4[2];
          if (__LC12 < *(float *)((long)local_38 + lVar5) * local_50) {
            lVar2 = lVar2 + 3;
          }
        }
        pfVar4 = pfVar4 + 0x10;
      } while ((float *)(*(long *)this + uVar1 * 0x40) != pfVar4);
    }
    else {
      lVar2 = 0;
    }
  }
  else {
    lVar2 = parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,bool>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(std::pair<unsigned_long,bool>const&,std::pair<unsigned_long,bool>const&)_2_>
                      ((uVar1 - uVar3) + 0x1ff >> 9,uVar3,uVar1,0x200,(pair_conflict *)&local_48,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_28,
                       (_lambda_std__pair<unsigned_long,bool>_const__std__pair<unsigned_long,bool>_const___2_
                        *)local_38);
  }
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar2;
}



/* embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> >
   embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long,
   unsigned long, unsigned long, unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2} const&) */

embree * __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)_2_>
          (embree *this,ulong param_1,ulong param_2,ulong param_3,ulong param_4,
          BinInfoT_conflict *param_5,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const___2_
          *param_7)

{
  BinInfoT_conflict *pBVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  ulong uVar12;
  embree *peVar13;
  undefined8 *puVar14;
  undefined1 (*pauVar15) [16];
  embree *peVar16;
  undefined8 *puVar17;
  undefined8 *puVar18;
  long lVar19;
  undefined1 (*pauVar20) [16];
  undefined1 (*pauVar21) [16];
  ulong uVar22;
  BinInfoT_conflict *pBVar23;
  embree *peVar24;
  undefined1 (*pauVar25) [16];
  undefined1 (*pauVar26) [16];
  undefined8 *puVar27;
  undefined1 (*pauVar28) [16];
  undefined1 (*pauVar29) [16];
  long in_FS_OFFSET;
  byte bVar30;
  undefined1 auVar31 [16];
  undefined1 (*local_2b38) [16];
  ulong local_2b18;
  ulong local_2b10;
  ulong local_2b08;
  ulong **local_2b00;
  ulong **local_2af8;
  ulong *local_2af0;
  ulong *local_2ae8;
  ulong *local_2ae0;
  undefined1 (*local_2ad8) [16];
  _lambda_embree__range<unsigned_long>_const___1_ *local_2ad0;
  undefined1 local_2ac0 [96];
  undefined8 local_2a60 [372];
  undefined8 local_1ec0;
  int aiStack_1eb8 [22];
  undefined8 local_1e60 [51];
  undefined8 local_1cc8;
  undefined1 local_1cc0 [7168];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  bVar30 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2b18 = param_3;
  local_2b10 = param_2;
  local_2b08 = param_1;
  uVar12 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2b08) {
    local_2b08 = 0x200;
  }
  if (uVar12 < local_2b08) {
    local_2b08 = uVar12;
  }
  local_b8 = local_2b08;
  if (local_2b08 * 0xe00 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_1cc0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2b08 * 0xe00,0x40);
  }
  local_2b38 = (undefined1 (*) [16])local_1cc0;
  local_2af0 = &local_2b10;
  local_2ad0 = param_6;
  local_2ae8 = &local_2b18;
  local_2ae0 = &local_2b08;
  local_2ad8 = local_2b38;
  if (local_2b08 != 0) {
    local_2af8 = &local_2af0;
    local_2b00 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse28BinInfoTILm32ENS4_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMiILi4EEEE8BuildRefENS_4BBoxINS_6Vec3faEEEEEZNS4_26HeuristicArrayOpenMergeSAHIZNSA_5buildEvEUlRSB_PSB_E5_SB_Lm32EE20parallel_object_findERKNS4_16PrimInfoExtRangeEmEUlRKNS_5rangeImEEE_ZNSK_20parallel_object_findESN_mEUlRKSF_SU_E0_EET0_T_SX_SX_SX_RKSW_RKT1_RKT2_EUlmE_EEvSX_SZ_EUlSR_E_EEvSX_SX_SX_SZ_PNS0_16TaskGroupContextE
              (0,local_2b08,1,&local_2af8,&local_2b00);
    embree::TaskScheduler::wait();
    if (local_2b00 != (ulong **)0x0) {
      local_2af8 = local_2b00;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_2af8);
      goto LAB_0012356d;
    }
  }
  uVar12 = local_2b08;
  peVar16 = this + 0x60;
  pBVar1 = param_5 + 0xc00;
  do {
    peVar24 = peVar16 + -0x60;
    pBVar23 = param_5;
    do {
      peVar13 = peVar24;
      uVar8 = *(undefined8 *)(pBVar23 + 8);
      *(undefined8 *)peVar13 = *(undefined8 *)pBVar23;
      *(undefined8 *)(peVar13 + 8) = uVar8;
      uVar8 = *(undefined8 *)(pBVar23 + 0x18);
      *(undefined8 *)(peVar13 + 0x10) = *(undefined8 *)(pBVar23 + 0x10);
      *(undefined8 *)(peVar13 + 0x18) = uVar8;
      peVar24 = peVar13 + 0x20;
      pBVar23 = pBVar23 + 0x20;
    } while (peVar13 + 0x20 != peVar16);
    param_5 = param_5 + 0x60;
    peVar16 = peVar13 + 0x80;
  } while (param_5 != pBVar1);
  puVar14 = (undefined8 *)memmove(this + 0xc00,param_5,0x200);
  if (uVar12 != 0) {
    puVar27 = local_2a60;
    peVar16 = this;
    pauVar29 = local_c0;
    do {
      do {
        puVar17 = puVar27 + -0xc;
        peVar24 = peVar16;
        do {
          uVar8 = *(undefined8 *)peVar24;
          uVar9 = *(undefined8 *)(peVar24 + 8);
          uVar10 = *(undefined8 *)(peVar24 + 0x10);
          uVar11 = *(undefined8 *)(peVar24 + 0x18);
          puVar18 = puVar17 + 4;
          peVar24 = peVar24 + 0x20;
          *puVar17 = uVar8;
          puVar17[1] = uVar9;
          puVar17[2] = uVar10;
          puVar17[3] = uVar11;
          puVar17 = puVar18;
        } while (puVar27 != puVar18);
        puVar27 = puVar27 + 0xc;
        peVar16 = peVar16 + 0x60;
      } while (local_1e60 != puVar27);
      puVar27 = puVar14;
      pauVar21 = (undefined1 (*) [16])&local_1ec0;
      for (lVar19 = 0x40; lVar19 != 0; lVar19 = lVar19 + -1) {
        *(undefined8 *)*pauVar21 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        pauVar21 = (undefined1 (*) [16])(pauVar21[-(ulong)bVar30] + 8);
      }
      lVar19 = **(long **)param_7;
      pauVar21 = (undefined1 (*) [16])local_2ac0;
      peVar16 = this;
      if (lVar19 != 0) {
        pauVar15 = (undefined1 (*) [16])local_2ac0;
        pauVar20 = pauVar29;
        pauVar25 = pauVar29;
        pauVar28 = (undefined1 (*) [16])&local_1ec0;
        do {
          iVar2 = *(int *)(*pauVar28 + 4);
          iVar3 = *(int *)(*pauVar28 + 8);
          iVar4 = *(int *)(*pauVar28 + 0xc);
          pauVar26 = pauVar25 + 1;
          iVar5 = *(int *)(pauVar25[0xc0] + 4);
          iVar6 = *(int *)(pauVar25[0xc0] + 8);
          iVar7 = *(int *)(pauVar25[0xc0] + 0xc);
          *(int *)*pauVar28 = *(int *)*pauVar28 + *(int *)pauVar25[0xc0];
          *(int *)(*pauVar28 + 4) = iVar2 + iVar5;
          *(int *)(*pauVar28 + 8) = iVar3 + iVar6;
          *(int *)(*pauVar28 + 0xc) = iVar4 + iVar7;
          auVar31 = minps(*pauVar15,*pauVar20);
          *pauVar15 = auVar31;
          auVar31 = maxps(pauVar15[1],pauVar20[1]);
          pauVar15[1] = auVar31;
          auVar31 = minps(pauVar15[2],pauVar20[2]);
          pauVar15[2] = auVar31;
          auVar31 = maxps(pauVar15[3],pauVar20[3]);
          pauVar15[3] = auVar31;
          auVar31 = minps(pauVar15[4],pauVar20[4]);
          pauVar15[4] = auVar31;
          auVar31 = maxps(pauVar15[5],pauVar20[5]);
          pauVar15[5] = auVar31;
          pauVar15 = pauVar15 + 6;
          pauVar20 = pauVar20 + 6;
          pauVar25 = pauVar26;
          pauVar28 = pauVar28 + 1;
        } while (pauVar26 != pauVar29 + lVar19);
      }
      do {
        lVar19 = 0;
        do {
          uVar8 = *(undefined8 *)((long)(*pauVar21 + lVar19) + 8);
          uVar9 = *(undefined8 *)(pauVar21[1] + lVar19);
          uVar10 = *(undefined8 *)((long)(pauVar21[1] + lVar19) + 8);
          *(undefined8 *)(peVar16 + lVar19) = *(undefined8 *)(*pauVar21 + lVar19);
          *(undefined8 *)(peVar16 + lVar19 + 8) = uVar8;
          *(undefined8 *)(peVar16 + lVar19 + 0x10) = uVar9;
          *(undefined8 *)(peVar16 + lVar19 + 0x10 + 8) = uVar10;
          lVar19 = lVar19 + 0x20;
        } while (lVar19 != 0x60);
        pauVar21 = pauVar21 + 6;
        peVar16 = peVar16 + 0x60;
      } while (pauVar21 != (undefined1 (*) [16])&local_1ec0);
      pauVar29 = pauVar29 + 0xe0;
      *puVar14 = local_1ec0;
      *(undefined8 *)(this + 0xdf8) = local_1cc8;
      lVar19 = (long)puVar14 - (long)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      puVar27 = (undefined8 *)((long)&local_1ec0 - lVar19);
      puVar17 = (undefined8 *)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      for (uVar22 = (ulong)((int)lVar19 + 0x200U >> 3); uVar22 != 0; uVar22 = uVar22 - 1) {
        *puVar17 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        puVar17 = puVar17 + (ulong)bVar30 * -2 + 1;
      }
      puVar27 = local_2a60;
      peVar16 = this;
    } while (local_c0 + uVar12 * 0xe0 != pauVar29);
  }
  if (local_c0 != local_2b38) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
LAB_0012356d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long) */

PrimInfoExtRange *
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::parallel_object_find(PrimInfoExtRange *param_1,ulong param_2)

{
  undefined1 (*pauVar1) [16];
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined1 auVar9 [12];
  long lVar10;
  long lVar11;
  BinInfoT_conflict *pBVar12;
  long lVar13;
  BinInfoT_conflict *pBVar14;
  ulong uVar15;
  int in_ECX;
  BinInfoT_conflict *pBVar16;
  float *pfVar17;
  long in_RDX;
  long lVar18;
  ulong uVar19;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var20;
  ulong uVar21;
  long in_FS_OFFSET;
  byte bVar22;
  undefined1 auVar23 [16];
  uint uVar24;
  undefined8 uVar25;
  uint uVar27;
  uint uVar28;
  undefined1 auVar26 [16];
  undefined8 uVar29;
  uint uVar30;
  int iVar31;
  int iVar33;
  int iVar34;
  undefined1 auVar32 [16];
  int iVar35;
  uint uVar36;
  uint uVar37;
  uint uVar38;
  uint uVar39;
  undefined1 auVar40 [16];
  undefined1 auVar41 [8];
  undefined8 uVar42;
  undefined1 auVar43 [16];
  float fVar45;
  float fVar46;
  undefined1 auVar44 [16];
  undefined1 auVar47 [16];
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  uint uVar52;
  uint uVar53;
  uint uVar54;
  uint uVar55;
  undefined1 local_1f60 [16];
  undefined1 local_1f50 [16];
  undefined1 local_1f40 [16];
  undefined1 local_1f30 [16];
  undefined1 local_1f20 [8];
  undefined8 uStack_1f18;
  undefined1 local_1f10 [16];
  ulong *local_1ef8;
  ulong local_1ef0;
  ulong *local_1ee8;
  ulong local_1ee0;
  ulong local_1ed8;
  undefined1 local_1ed0 [16];
  undefined1 local_1ec0 [16];
  ulong local_1eb0 [2];
  float local_1ea0;
  float fStack_1e9c;
  float fStack_1e98;
  float fStack_1e94;
  float local_1e90;
  uint uStack_1e8c;
  uint uStack_1e88;
  uint uStack_1e84;
  float local_1e80 [128];
  BinInfoT_conflict local_1c80 [3056];
  int local_1090 [4];
  BinInfoT_conflict local_1080 [4];
  int aiStack_107c [127];
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [4];
  int aiStack_e7c [767];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [568];
  long local_48;
  
  bVar22 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pBVar16 = local_1c80;
  pBVar14 = local_1080;
  do {
    *(float *)(pBVar16 + 0x40) = _LC9;
    *(float *)(pBVar16 + 0x44) = _LC9;
    *(float *)(pBVar16 + 0x48) = _LC9;
    *(float *)(pBVar16 + 0x4c) = _LC9;
    pBVar12 = pBVar16 + 0x60;
    *(undefined4 *)(pBVar16 + 0x50) = _LC11;
    *(undefined4 *)(pBVar16 + 0x54) = _LC11;
    *(undefined4 *)(pBVar16 + 0x58) = _LC11;
    *(undefined4 *)(pBVar16 + 0x5c) = _LC11;
    *(float *)(pBVar16 + 0x20) = _LC9;
    *(float *)(pBVar16 + 0x24) = _LC9;
    *(float *)(pBVar16 + 0x28) = _LC9;
    *(float *)(pBVar16 + 0x2c) = _LC9;
    *(undefined4 *)(pBVar16 + 0x30) = _LC11;
    *(undefined4 *)(pBVar16 + 0x34) = _LC11;
    *(undefined4 *)(pBVar16 + 0x38) = _LC11;
    *(undefined4 *)(pBVar16 + 0x3c) = _LC11;
    *(float *)pBVar16 = _LC9;
    *(float *)(pBVar16 + 4) = _LC9;
    *(float *)(pBVar16 + 8) = _LC9;
    *(float *)(pBVar16 + 0xc) = _LC9;
    *(undefined4 *)(pBVar16 + 0x10) = _LC11;
    *(undefined4 *)(pBVar16 + 0x14) = _LC11;
    *(undefined4 *)(pBVar16 + 0x18) = _LC11;
    *(undefined4 *)(pBVar16 + 0x1c) = _LC11;
    *(undefined1 (*) [16])pBVar14 = (undefined1  [16])0x0;
    pBVar16 = pBVar12;
    pBVar14 = pBVar14 + 0x10;
  } while (local_1080 != pBVar12);
  pauVar1 = (undefined1 (*) [16])(in_RDX + 0x20);
  local_1ea0 = *(float *)*pauVar1;
  fStack_1e9c = *(float *)(in_RDX + 0x24);
  fStack_1e98 = *(float *)(in_RDX + 0x28);
  auVar9 = *(undefined1 (*) [12])*pauVar1;
  fStack_1e94 = *(float *)(in_RDX + 0x2c);
  auVar40 = *pauVar1;
  local_1ef8 = local_1eb0;
  uVar21 = *(ulong *)(in_RDX + 0x48);
  local_1eb0[0] = 0x20;
  auVar26._0_4_ = *(float *)(in_RDX + 0x30) - local_1ea0;
  auVar26._4_4_ = *(float *)(in_RDX + 0x34) - fStack_1e9c;
  auVar26._8_4_ = *(float *)(in_RDX + 0x38) - fStack_1e98;
  auVar26._12_4_ = *(float *)(in_RDX + 0x3c) - fStack_1e94;
  uVar15 = *(ulong *)(in_RDX + 0x40);
  auVar32._4_4_ = _LC23;
  auVar32._0_4_ = _LC23;
  auVar32._8_4_ = _LC23;
  auVar32._12_4_ = _LC23;
  auVar32 = maxps(auVar32,auVar26);
  uVar19 = (uVar21 + 0x1ff) - uVar15 >> 9;
  auVar43._4_4_ = _LC25;
  auVar43._0_4_ = _LC25;
  auVar43._8_4_ = _LC25;
  auVar43._12_4_ = _LC25;
  auVar26 = divps(auVar43,auVar32);
  local_1e90 = (float)(auVar26._0_4_ & -(uint)(_LC23 < auVar32._0_4_));
  uStack_1e8c = auVar26._4_4_ & -(uint)(_LC23 < auVar32._4_4_);
  uStack_1e88 = auVar26._8_4_ & -(uint)(_LC23 < auVar32._8_4_);
  uStack_1e84 = auVar26._12_4_ & -(uint)(_LC23 < auVar32._12_4_);
  local_1f30._4_4_ = uStack_1e8c;
  local_1f30._0_4_ = local_1e90;
  local_1f30._8_4_ = uStack_1e88;
  local_1f30._12_4_ = uStack_1e84;
  local_1ef0 = param_2;
  local_1ee8 = local_1ef8;
  if (uVar19 == 1) {
    local_1ee0 = uVar15;
    local_1ed8 = uVar21;
    parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
    {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_e80,(range *)&local_1ef0);
    auVar23._4_12_ = _UNK_001336d4;
    auVar23._0_4_ = _LC11;
    lVar18 = 0x1f;
    local_1f60._4_12_ = _UNK_001336c4;
    local_1f60._0_4_ = _LC9;
    local_1f20 = auVar9._0_8_;
    uStack_1f18 = auVar40._8_8_;
    uVar21 = 0x20;
    auVar41 = local_1f20;
    uVar42 = uStack_1f18;
    uVar25 = local_1f30._0_8_;
    uVar29 = local_1f30._8_8_;
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)_2_>
              ((embree *)local_e80,uVar19,uVar15,uVar21,0x200,local_1c80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1ef0,
               (_lambda_embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_1ef8);
    auVar41 = (undefined1  [8])CONCAT44(fStack_1e9c,local_1ea0);
    uVar42 = CONCAT44(fStack_1e94,fStack_1e98);
    uVar25 = CONCAT44(uStack_1e8c,local_1e90);
    uVar29 = CONCAT44(uStack_1e84,uStack_1e88);
    local_1f60._4_12_ = _UNK_001336c4;
    local_1f60._0_4_ = _LC9;
    auVar23._4_12_ = _UNK_001336d4;
    auVar23._0_4_ = _LC11;
    lVar18 = local_1eb0[0] - 1;
    uVar21 = local_1eb0[0];
  }
  pBVar16 = local_1c80;
  p_Var20 = local_e80;
  do {
    lVar13 = 0;
    do {
      uVar6 = *(undefined8 *)(p_Var20 + lVar13 + 8);
      uVar7 = *(undefined8 *)(p_Var20 + lVar13 + 0x10);
      uVar8 = *(undefined8 *)(p_Var20 + lVar13 + 0x10 + 8);
      *(undefined8 *)(pBVar16 + lVar13) = *(undefined8 *)(p_Var20 + lVar13);
      *(undefined8 *)(pBVar16 + lVar13 + 8) = uVar6;
      *(undefined8 *)(pBVar16 + lVar13 + 0x10) = uVar7;
      *(undefined8 *)(pBVar16 + lVar13 + 0x10 + 8) = uVar8;
      lVar13 = lVar13 + 0x20;
    } while (lVar13 != 0x60);
    p_Var20 = p_Var20 + 0x60;
    pBVar16 = pBVar16 + 0x60;
  } while (p_Var20 != local_280);
  pBVar16 = local_1080;
  for (lVar13 = 0x40; lVar13 != 0; lVar13 = lVar13 + -1) {
    *(undefined8 *)pBVar16 = *(undefined8 *)p_Var20;
    p_Var20 = p_Var20 + ((ulong)bVar22 * -2 + 1) * 8;
    pBVar16 = pBVar16 + (ulong)bVar22 * -0x10 + 8;
  }
  if (lVar18 == 0) {
    local_1ed0 = local_1f60;
    local_1ec0 = (undefined1  [16])0x0;
  }
  else {
    lVar13 = lVar18 * 0x10;
    iVar31 = 0;
    iVar33 = 0;
    iVar34 = 0;
    iVar35 = 0;
    pBVar16 = local_1c80 + lVar18 * 0x60;
    pfVar17 = local_1e80 + lVar18 * 4;
    auVar40 = local_1f60;
    auVar26 = auVar23;
    auVar43 = local_1f60;
    auVar32 = auVar23;
    auVar44 = local_1f60;
    auVar47 = auVar23;
    do {
      auVar26 = maxps(auVar26,*(undefined1 (*) [16])(pBVar16 + 0x10));
      auVar40 = minps(auVar40,*(undefined1 (*) [16])pBVar16);
      pBVar14 = pBVar16 + -0x60;
      iVar2 = *(int *)(local_1080 + lVar13);
      iVar3 = *(int *)((long)aiStack_107c + lVar13);
      iVar4 = *(int *)((long)aiStack_107c + lVar13 + 4);
      iVar5 = *(int *)((long)aiStack_107c + lVar13 + 8);
      auVar32 = maxps(auVar32,*(undefined1 (*) [16])(pBVar16 + 0x30));
      pfVar17[3] = 0.0;
      auVar43 = minps(auVar43,*(undefined1 (*) [16])(pBVar16 + 0x20));
      auVar47 = maxps(auVar47,*(undefined1 (*) [16])(pBVar16 + 0x50));
      iVar31 = iVar2 + iVar31;
      iVar33 = iVar3 + iVar33;
      iVar34 = iVar4 + iVar34;
      iVar35 = iVar5 + iVar35;
      auVar44 = minps(auVar44,*(undefined1 (*) [16])(pBVar16 + 0x40));
      fVar48 = auVar26._4_4_ - auVar40._4_4_;
      fVar50 = auVar26._8_4_ - auVar40._8_4_;
      *(int *)(local_e80 + lVar13) = iVar31;
      *(int *)((long)aiStack_e7c + lVar13) = iVar33;
      *(int *)((long)aiStack_e7c + lVar13 + 4) = iVar34;
      *(int *)((long)aiStack_e7c + lVar13 + 8) = iVar35;
      lVar13 = lVar13 + -0x10;
      fVar49 = auVar32._4_4_ - auVar43._4_4_;
      fVar51 = auVar32._8_4_ - auVar43._8_4_;
      *pfVar17 = (fVar48 + fVar50) * (auVar26._0_4_ - auVar40._0_4_) + fVar48 * fVar50;
      fVar48 = auVar47._4_4_ - auVar44._4_4_;
      fVar50 = auVar47._8_4_ - auVar44._8_4_;
      pfVar17[1] = (fVar49 + fVar51) * (auVar32._0_4_ - auVar43._0_4_) + fVar49 * fVar51;
      pfVar17[2] = (fVar48 + fVar50) * (auVar47._0_4_ - auVar44._0_4_) + fVar48 * fVar50;
      pBVar16 = pBVar14;
      pfVar17 = pfVar17 + -4;
    } while (local_1c80 != pBVar14);
    local_1ed0 = local_1f60;
    local_1ec0 = (undefined1  [16])0x0;
    iVar31 = (1 << ((byte)in_ECX & 0x1f)) + -1;
    if (1 < uVar21) {
      lVar18 = 0x10;
      local_1f10 = (undefined1  [16])0x0;
      local_1f30 = (undefined1  [16])0x0;
      auVar40 = auVar23;
      auVar26 = auVar23;
      uVar52 = __LC30;
      uVar53 = _UNK_001336f4;
      uVar54 = _UNK_001336f8;
      uVar55 = _UNK_001336fc;
      local_1f50 = local_1f60;
      local_1f40 = local_1f60;
      _local_1f20 = local_1f60;
      do {
        auVar26 = maxps(auVar26,*(undefined1 (*) [16])(pBVar14 + 0x30));
        auVar23 = maxps(auVar23,*(undefined1 (*) [16])(pBVar14 + 0x50));
        local_1f50 = minps(local_1f50,*(undefined1 (*) [16])(pBVar14 + 0x20));
        local_1f60 = minps(local_1f60,*(undefined1 (*) [16])(pBVar14 + 0x40));
        auVar40 = maxps(auVar40,*(undefined1 (*) [16])(pBVar14 + 0x10));
        fVar50 = auVar26._4_4_ - local_1f50._4_4_;
        fVar51 = auVar26._8_4_ - local_1f50._8_4_;
        local_1f40 = minps(local_1f40,*(undefined1 (*) [16])pBVar14);
        fVar48 = auVar23._4_4_ - local_1f60._4_4_;
        fVar49 = auVar23._8_4_ - local_1f60._8_4_;
        local_1f30._0_4_ = local_1f30._0_4_ + *(int *)((long)local_1090 + lVar18);
        local_1f30._4_4_ = local_1f30._4_4_ + *(int *)((long)local_1090 + lVar18 + 4);
        local_1f30._8_4_ = local_1f30._8_4_ + *(int *)((long)local_1090 + lVar18 + 8);
        local_1f30._12_4_ = local_1f30._12_4_ + *(int *)((long)local_1090 + lVar18 + 0xc);
        fVar45 = auVar40._4_4_ - local_1f40._4_4_;
        fVar46 = auVar40._8_4_ - local_1f40._8_4_;
        fVar48 = (fVar48 + fVar49) * (auVar23._0_4_ - local_1f60._0_4_) + fVar48 * fVar49;
        uVar24 = (uint)(local_1f30._0_4_ + iVar31) >> in_ECX;
        uVar27 = (uint)(local_1f30._4_4_ + iVar31) >> in_ECX;
        uVar28 = (uint)(local_1f30._8_4_ + iVar31) >> in_ECX;
        uVar30 = (uint)(local_1f30._12_4_ + iVar31) >> in_ECX;
        uVar36 = (uint)(iVar31 + *(int *)(local_e80 + lVar18)) >> in_ECX;
        uVar37 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18)) >> in_ECX;
        uVar38 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18 + 4)) >> in_ECX;
        uVar39 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18 + 8)) >> in_ECX;
        pfVar17 = (float *)((long)local_1e80 + lVar18);
        lVar13 = lVar18 + 4;
        lVar10 = lVar18 + 8;
        lVar11 = lVar18 + 0xc;
        lVar18 = lVar18 + 0x10;
        fVar49 = ((fVar45 + fVar46) * (auVar40._0_4_ - local_1f40._0_4_) + fVar45 * fVar46) *
                 ((float)(int)(uVar24 & _LC37) + (float)((int)uVar24 >> 0x1f & __LC29)) +
                 ((float)(int)(uVar36 & _LC37) + (float)((int)uVar36 >> 0x1f & __LC29)) * *pfVar17;
        fVar50 = ((fVar50 + fVar51) * (auVar26._0_4_ - local_1f50._0_4_) + fVar50 * fVar51) *
                 ((float)(int)(uVar27 & _UNK_00133714) +
                 (float)((int)uVar27 >> 0x1f & _UNK_00133724)) +
                 ((float)(int)(uVar37 & _UNK_00133714) +
                 (float)((int)uVar37 >> 0x1f & _UNK_00133724)) *
                 *(float *)((long)local_1e80 + lVar13);
        fVar51 = fVar48 * ((float)(int)(uVar28 & _UNK_00133718) +
                          (float)((int)uVar28 >> 0x1f & _UNK_00133728)) +
                 ((float)(int)(uVar38 & _UNK_00133718) +
                 (float)((int)uVar38 >> 0x1f & _UNK_00133728)) *
                 *(float *)((long)local_1e80 + lVar10);
        fVar48 = fVar48 * ((float)(int)(uVar30 & _UNK_0013371c) +
                          (float)((int)uVar30 >> 0x1f & _UNK_0013372c)) +
                 ((float)(int)(uVar39 & _UNK_0013371c) +
                 (float)((int)uVar39 >> 0x1f & _UNK_0013372c)) *
                 *(float *)((long)local_1e80 + lVar11);
        uVar24 = -(uint)(fVar49 < (float)local_1f20._0_4_);
        uVar27 = -(uint)(fVar50 < (float)local_1f20._4_4_);
        uVar28 = -(uint)(fVar51 < (float)uStack_1f18);
        uVar30 = -(uint)(fVar48 < uStack_1f18._4_4_);
        local_1f10._0_4_ = uVar52 & uVar24 | ~uVar24 & local_1f10._0_4_;
        local_1f10._4_4_ = uVar53 & uVar27 | ~uVar27 & local_1f10._4_4_;
        local_1f10._8_4_ = uVar54 & uVar28 | ~uVar28 & local_1f10._8_4_;
        local_1f10._12_4_ = uVar55 & uVar30 | ~uVar30 & local_1f10._12_4_;
        local_1f20._0_4_ = (uint)fVar49 & uVar24 | ~uVar24 & local_1f20._0_4_;
        local_1f20._4_4_ = (uint)fVar50 & uVar27 | ~uVar27 & local_1f20._4_4_;
        uStack_1f18._0_4_ = (float)((uint)fVar51 & uVar28 | ~uVar28 & (uint)(float)uStack_1f18);
        uStack_1f18._4_4_ = (float)((uint)fVar48 & uVar30 | ~uVar30 & (uint)uStack_1f18._4_4_);
        pBVar14 = pBVar14 + 0x60;
        uVar52 = uVar52 + __LC30;
        uVar53 = uVar53 + _UNK_001336f4;
        uVar54 = uVar54 + _UNK_001336f8;
        uVar55 = uVar55 + _UNK_001336fc;
      } while (lVar18 != uVar21 << 4);
      local_1ec0._4_4_ = local_1f10._4_4_;
      local_1ec0._0_4_ = local_1f10._0_4_;
      local_1ec0._8_4_ = local_1f10._8_4_;
      local_1ec0._12_4_ = local_1f10._12_4_;
      local_1ed0._4_4_ = local_1f20._4_4_;
      local_1ed0._0_4_ = local_1f20._0_4_;
      local_1ed0._8_4_ = (float)uStack_1f18;
      local_1ed0._12_4_ = uStack_1f18._4_4_;
    }
  }
  uVar15 = 0;
  iVar31 = 0;
  uVar19 = 0xffffffff;
  fVar48 = _LC9;
  do {
    if (((&local_1e90)[uVar15] != 0.0) && (*(float *)(local_1ed0 + uVar15 * 4) < fVar48)) {
      if (*(int *)(local_1ec0 + uVar15 * 4) != 0) {
        uVar19 = uVar15 & 0xffffffff;
        fVar48 = *(float *)(local_1ed0 + uVar15 * 4);
        iVar31 = *(int *)(local_1ec0 + uVar15 * 4);
      }
    }
    uVar15 = uVar15 + 1;
  } while (uVar15 != 3);
  *(int *)(param_1 + 4) = (int)uVar19;
  *(int *)(param_1 + 8) = iVar31;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(ulong *)(param_1 + 0x10) = uVar21;
  *(float *)param_1 = fVar48;
  *(undefined1 (*) [8])(param_1 + 0x20) = auVar41;
  *(undefined8 *)(param_1 + 0x28) = uVar42;
  *(undefined8 *)(param_1 + 0x30) = uVar25;
  *(undefined8 *)(param_1 + 0x38) = uVar29;
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   32ul>::find(embree::sse2::PrimInfoExtRange&, unsigned long) */

HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
* __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
::find(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
       *this,PrimInfoExtRange *param_1,ulong param_2)

{
  undefined1 (*pauVar1) [16];
  undefined1 auVar2 [16];
  long lVar3;
  bool bVar4;
  ulong uVar5;
  uint uVar6;
  ulong uVar7;
  undefined1 (*pauVar8) [16];
  char extraout_DL;
  ulong uVar9;
  long lVar10;
  ulong uVar11;
  long lVar12;
  long in_FS_OFFSET;
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  
  uVar5 = *(ulong *)(param_2 + 0x40);
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  uVar7 = *(ulong *)(param_2 + 0x48);
  uVar9 = uVar7 - uVar5;
  if (uVar9 < 2) {
    *(undefined8 *)(this + 8) = 0;
    *(undefined8 *)this = 0xffffffff7f800000;
    goto LAB_00123cab;
  }
  bVar4 = *(ulong *)(param_2 + 0x50) != uVar7 && uVar9 < 5;
  if (bVar4) {
    uVar9 = uVar5 + 1;
    lVar12 = uVar5 * 0x40;
    uVar11 = uVar9;
    if (uVar5 < uVar7 - 1) {
      do {
        if (uVar9 < uVar7) {
          pauVar8 = (undefined1 (*) [16])(uVar5 * 0x40 + *(long *)param_1);
          lVar10 = *(long *)param_1 + lVar12;
          pauVar1 = pauVar8 + 1;
          auVar2 = *pauVar8;
          uVar5 = uVar9;
          do {
            auVar15 = minps(*pauVar1,*(undefined1 (*) [16])(lVar10 + 0x50));
            auVar13 = maxps(auVar2,*(undefined1 (*) [16])(lVar10 + 0x40));
            auVar14._4_4_ = -(uint)(auVar13._4_4_ <= auVar15._4_4_);
            auVar14._0_4_ = -(uint)(auVar13._0_4_ <= auVar15._0_4_);
            auVar14._8_4_ = -(uint)(auVar13._8_4_ <= auVar15._8_4_);
            auVar14._12_4_ = -(uint)(auVar13._12_4_ <= auVar15._12_4_);
            uVar6 = movmskps((int)pauVar8,auVar14);
            pauVar8 = (undefined1 (*) [16])(ulong)(~uVar6 & 7);
            if ((~uVar6 & 7) == 0) {
              bVar4 = false;
              break;
            }
            uVar5 = uVar5 + 1;
            lVar10 = lVar10 + 0x40;
          } while (uVar5 < uVar7);
        }
        if (uVar11 == uVar7 - 1) goto LAB_00123ccd;
        uVar5 = uVar11;
        uVar11 = uVar11 + 1;
      } while( true );
    }
    goto LAB_00123cd2;
  }
  if (*(ulong *)(param_2 + 0x50) != uVar7) goto LAB_00123d10;
LAB_00123c91:
  if (0x3ff < uVar9) {
    parallel_object_find((PrimInfoExtRange *)this,(ulong)param_1);
    goto LAB_00123cab;
  }
  goto LAB_00123ce0;
LAB_00123ccd:
  if (!bVar4) {
LAB_00123d10:
    uVar5 = getProperties((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                           *)param_1,(PrimInfoExtRange *)param_2);
    if (extraout_DL == '\0') {
      lVar12 = *(long *)(param_2 + 0x50);
      lVar10 = *(long *)(param_2 + 0x48);
      if (lVar12 == lVar10) {
        uVar9 = lVar12 - *(long *)(param_2 + 0x40);
      }
      else {
        uVar7 = lVar12 - lVar10;
        if (uVar5 <= uVar7) {
          openNodesBasedOnExtend
                    ((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                      *)param_1,(PrimInfoExtRange *)param_2);
          lVar10 = *(long *)(param_2 + 0x48);
          uVar7 = *(long *)(param_2 + 0x50) - lVar10;
        }
        if (uVar7 < *(long *)(param_1 + 0x10) - 1U) {
          *(long *)(param_2 + 0x50) = lVar10;
        }
        uVar9 = lVar10 - *(long *)(param_2 + 0x40);
      }
    }
    else {
      *(long *)(param_2 + 0x50) = *(long *)(param_2 + 0x48);
      uVar9 = *(long *)(param_2 + 0x48) - *(long *)(param_2 + 0x40);
    }
    goto LAB_00123c91;
  }
LAB_00123cd2:
  *(ulong *)(param_2 + 0x50) = uVar7;
LAB_00123ce0:
  sequential_object_find((PrimInfoExtRange *)this,(ulong)param_1);
LAB_00123cab:
  if (lVar3 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator, bool) */

undefined8 *
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(unsigned_long)#8}>
::recurse(ulong *param_1,long *param_2,char param_3)

{
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  *pHVar1;
  long lVar2;
  undefined8 *puVar3;
  float *pfVar4;
  long *plVar5;
  undefined8 uVar6;
  MutexSys *this;
  long *plVar7;
  ulong uVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  ulong uVar11;
  long lVar12;
  long lVar13;
  ulong uVar14;
  long lVar15;
  long in_FS_OFFSET;
  float fVar16;
  float fVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  float fVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  FastAllocator *in_stack_00000008;
  long *in_stack_00000010;
  long *local_9d8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  *pHStack_9b0;
  long local_9a8;
  undefined8 uStack_9a0;
  undefined8 local_998;
  undefined8 uStack_990;
  undefined8 local_988;
  undefined8 uStack_980;
  undefined8 local_978;
  undefined8 uStack_970;
  long local_968;
  long local_960;
  undefined8 local_958;
  undefined8 local_948;
  undefined8 uStack_940;
  undefined4 local_938;
  undefined4 uStack_934;
  undefined4 uStack_930;
  undefined4 uStack_92c;
  undefined8 local_928;
  undefined8 uStack_920;
  undefined8 local_918;
  undefined8 uStack_910;
  undefined8 local_908;
  undefined8 local_900;
  undefined8 local_8f8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  *local_8e8;
  undefined1 local_8e0;
  undefined4 local_8d8;
  undefined4 uStack_8d4;
  undefined4 uStack_8d0;
  undefined4 uStack_8cc;
  float local_8c8;
  float fStack_8c4;
  float fStack_8c0;
  float fStack_8bc;
  undefined4 local_8b8;
  undefined4 uStack_8b4;
  undefined4 uStack_8b0;
  undefined4 uStack_8ac;
  float local_8a8;
  float fStack_8a4;
  float fStack_8a0;
  float fStack_89c;
  long local_898;
  long lStack_890;
  long local_888;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  *local_878;
  long *local_870;
  undefined8 local_868;
  undefined4 uStack_860;
  undefined4 uStack_85c;
  float local_858;
  float fStack_854;
  float fStack_850;
  float fStack_84c;
  undefined4 local_848;
  undefined4 uStack_844;
  undefined4 uStack_840;
  undefined4 uStack_83c;
  float local_838;
  float fStack_834;
  float fStack_830;
  float fStack_82c;
  long local_828;
  long lStack_820;
  long local_818;
  float local_808 [16];
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  local_7c8 [128];
  long local_748;
  undefined1 local_740 [8];
  long local_738 [4];
  undefined8 local_718;
  undefined8 uStack_710;
  undefined8 local_708;
  undefined8 uStack_700;
  long local_6f8;
  long local_6f0;
  undefined8 local_6e8;
  long local_6d8;
  undefined1 local_6d0;
  undefined8 local_6c8;
  undefined8 uStack_6c0;
  undefined4 local_6b8;
  undefined4 uStack_6b4;
  undefined4 uStack_6b0;
  undefined4 uStack_6ac;
  undefined8 local_6a8;
  undefined8 uStack_6a0;
  undefined8 local_698;
  undefined8 uStack_690;
  undefined8 local_688;
  undefined8 local_680;
  undefined8 local_678;
  long local_668 [196];
  long lStack_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_9d8 = in_stack_00000010;
  if (in_stack_00000008 == (FastAllocator *)0x0) {
    in_stack_00000008 = *(FastAllocator **)param_1[10];
    if (*(long *)(in_FS_OFFSET + lRam000000000012446f) == 0) {
      this = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
                    /* WARNING: Subroutine does not return */
      embree::MutexSys::MutexSys(this);
    }
    local_9d8 = (long *)(*(long *)(in_FS_OFFSET + lRam000000000012446f) + 0x40);
  }
  if ((param_3 != '\0') && ((ulong)(param_2[0xb] - param_2[10]) <= param_1[6])) {
    embree::Scene::progressMonitor(0.0);
  }
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
  ::find((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
          *)local_808,(PrimInfoExtRange *)param_1[9],(ulong)(param_2 + 2));
  lVar15 = param_2[10];
  uVar14 = param_2[0xb] - lVar15;
  if (((uVar14 <= param_1[3]) || (param_1[1] <= *param_2 + 8U)) ||
     ((uVar14 <= param_1[4] &&
      (fVar17 = *(float *)((long)param_2 + 0x24) - *(float *)((long)param_2 + 0x14),
      fVar17 = (*(float *)(param_2 + 4) - *(float *)(param_2 + 2)) *
               (fVar17 + (*(float *)(param_2 + 5) - *(float *)(param_2 + 3))) +
               fVar17 * (*(float *)(param_2 + 5) - *(float *)(param_2 + 3)),
      (float)((uVar14 - 1) + (1L << ((byte)param_1[2] & 0x3f)) >> ((byte)param_1[2] & 0x3f)) *
      fVar17 * *(float *)((long)param_1 + 0x2c) <=
      fVar17 * *(float *)(param_1 + 5) + *(float *)((long)param_1 + 0x2c) * local_808[0])))) {
    lVar2 = param_2[0xb] * 0x40;
    lVar13 = *(long *)param_1[9] + lVar2;
    lVar12 = *(long *)param_1[9] + lVar15 * 0x40;
    if (lVar13 != lVar12) {
      lVar2 = lVar2 + lVar15 * -0x40;
      uVar14 = lVar2 >> 6;
      if (uVar14 == 0) {
        std::
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (lVar12,lVar13,0xfffffffffffffffe);
      }
      else {
        lVar15 = 0x3f;
        if (uVar14 != 0) {
          for (; uVar14 >> lVar15 == 0; lVar15 = lVar15 + -1) {
          }
        }
        std::
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (lVar12,lVar13,(long)(int)lVar15 * 2);
        if (0x400 < lVar2) {
          lVar15 = lVar12 + 0x400;
          std::
          __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                    (lVar12);
          while (lVar13 != lVar15) {
            lVar2 = lVar15 + 0x40;
            std::
            __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                      (lVar15);
            lVar15 = lVar2;
          }
          goto LAB_00123f61;
        }
      }
      std::
      __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar12,lVar13);
    }
LAB_00123f61:
    puVar3 = (undefined8 *)createLargeLeaf(param_1,param_2);
  }
  else {
    HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
    ::split((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
             *)param_1[9],(BinSplit *)local_808,(PrimInfoExtRange *)(param_2 + 2),
            (PrimInfoExtRange *)&local_9a8,(PrimInfoExtRange *)&local_948);
    fVar17 = _LC11;
    uVar22 = _LC9;
    local_740[0] = 0;
    local_6d0 = 0;
    local_738[0] = local_9a8;
    local_738[1] = uStack_9a0;
    local_748 = *param_2 + 1;
    local_6d8 = *param_2 + 1;
    local_738[2] = local_998;
    local_738[3] = uStack_990;
    local_688 = local_908;
    local_718 = local_988;
    uStack_710 = uStack_980;
    local_680 = local_900;
    local_708 = local_978;
    uStack_700 = uStack_970;
    local_6c8 = local_948;
    uStack_6c0 = uStack_940;
    local_6f8 = local_968;
    local_6f0 = local_960;
    local_6e8 = local_958;
    local_6b8 = local_938;
    uStack_6b4 = uStack_934;
    uStack_6b0 = uStack_930;
    uStack_6ac = uStack_92c;
    local_6a8 = local_928;
    uStack_6a0 = uStack_920;
    local_698 = local_918;
    uStack_690 = uStack_910;
    local_678 = local_8f8;
    fVar19 = fVar17;
    fVar20 = fVar17;
    fVar21 = fVar17;
    uVar23 = uVar22;
    uVar24 = uVar22;
    uVar25 = uVar22;
    if (*param_1 < 3) {
      uVar14 = param_1[7];
      if (uVar14 < (ulong)(param_2[0xb] - param_2[10])) {
        lVar15 = 0xe0;
        uVar11 = 2;
        goto LAB_00124c47;
      }
      uVar11 = 2;
      plVar7 = local_668;
LAB_0012454d:
      lVar15 = (long)plVar7 - (long)&local_748;
      uVar14 = (lVar15 >> 4) * 0x6db6db6db6db6db7;
      if (uVar14 == 0) {
        std::
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                  (&local_748,plVar7,0xfffffffffffffffe);
      }
      else {
        lVar13 = 0x3f;
        if (uVar14 != 0) {
          for (; uVar14 >> lVar13 == 0; lVar13 = lVar13 + -1) {
          }
        }
        std::
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                  (&local_748,plVar7,(long)(int)lVar13 * 2);
        if (0x700 < lVar15) {
          plVar5 = &lStack_48;
          std::
          __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                    (&local_748,plVar5);
          for (; plVar7 != plVar5; plVar5 = plVar5 + 0xe) {
            std::
            __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                      (plVar5);
          }
          goto LAB_00124612;
        }
      }
      std::
      __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                (&local_748,plVar7);
    }
    else {
      uVar11 = 2;
      plVar7 = local_668;
      do {
        uVar8 = 0;
        uVar14 = 0xffffffffffffffff;
        pfVar4 = (float *)local_738;
        lVar15 = local_6f0;
        lVar13 = local_6f8;
        fVar18 = _LC11;
        while( true ) {
          if ((param_1[3] < (ulong)(lVar15 - lVar13)) &&
             (fVar16 = (pfVar4[4] - *pfVar4) * ((pfVar4[5] - pfVar4[1]) + (pfVar4[6] - pfVar4[2])) +
                       (pfVar4[5] - pfVar4[1]) * (pfVar4[6] - pfVar4[2]), fVar18 < fVar16)) {
            uVar14 = uVar8;
            fVar18 = fVar16;
          }
          uVar8 = uVar8 + 1;
          if (uVar8 == uVar11) break;
          lVar15 = *(long *)(pfVar4 + 0x2e);
          lVar13 = *(long *)(pfVar4 + 0x2c);
          pfVar4 = pfVar4 + 0x1c;
        }
        if (uVar14 == 0xffffffffffffffff) {
          lVar15 = (long)plVar7 - (long)&local_748;
          goto LAB_0012452a;
        }
        uVar11 = uVar11 + 1;
        local_8e8 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                     *)(*param_2 + 1);
        local_868 = (ulong *)CONCAT44(uVar22,uVar22);
        local_8e0 = 0;
        local_898 = 0;
        lStack_890 = 0;
        local_888 = 0;
        local_870 = (long *)((ulong)local_870 & 0xffffffffffffff00);
        local_828 = 0;
        lStack_820 = 0;
        local_818 = 0;
        local_8d8 = uVar22;
        uStack_8d4 = uVar22;
        uStack_8d0 = uVar22;
        uStack_8cc = uVar22;
        local_8c8 = fVar17;
        fStack_8c4 = fVar17;
        fStack_8c0 = fVar17;
        fStack_8bc = fVar17;
        local_8b8 = uVar22;
        uStack_8b4 = uVar22;
        uStack_8b0 = uVar22;
        uStack_8ac = uVar22;
        local_8a8 = fVar17;
        fStack_8a4 = fVar17;
        fStack_8a0 = fVar17;
        fStack_89c = fVar17;
        local_878 = local_8e8;
        uStack_860 = uVar22;
        uStack_85c = uVar22;
        local_858 = fVar17;
        fStack_854 = fVar17;
        fStack_850 = fVar17;
        fStack_84c = fVar17;
        local_848 = uVar22;
        uStack_844 = uVar22;
        uStack_840 = uVar22;
        uStack_83c = uVar22;
        local_838 = fVar17;
        fStack_834 = fVar17;
        fStack_830 = fVar17;
        fStack_82c = fVar17;
        HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
        ::find(local_7c8,(PrimInfoExtRange *)param_1[9],(ulong)(local_738 + uVar14 * 0xe));
        HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
        ::split((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                 *)param_1[9],(BinSplit *)local_7c8,(PrimInfoExtRange *)(local_738 + uVar14 * 0xe),
                (PrimInfoExtRange *)&local_8d8,(PrimInfoExtRange *)&local_868);
        *(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
          **)(local_740 + uVar14 * 0x70 + -8) = local_8e8;
        local_740[uVar14 * 0x70] = local_8e0;
        local_738[uVar14 * 0xe + 10] = local_888;
        local_738[uVar14 * 0xe] = CONCAT44(uStack_8d4,local_8d8);
        local_738[uVar14 * 0xe + 1] = CONCAT44(uStack_8cc,uStack_8d0);
        local_738[uVar14 * 0xe + 2] = CONCAT44(fStack_8c4,local_8c8);
        local_738[uVar14 * 0xe + 3] = CONCAT44(fStack_8bc,fStack_8c0);
        local_738[uVar14 * 0xe + 4] = CONCAT44(uStack_8b4,local_8b8);
        local_738[uVar14 * 0xe + 5] = CONCAT44(uStack_8ac,uStack_8b0);
        local_738[uVar14 * 0xe + 6] = CONCAT44(fStack_8a4,local_8a8);
        local_738[uVar14 * 0xe + 7] = CONCAT44(fStack_89c,fStack_8a0);
        local_738[uVar14 * 0xe + 8] = local_898;
        local_738[uVar14 * 0xe + 9] = lStack_890;
        *plVar7 = (long)local_878;
        plVar7[2] = (long)local_868;
        plVar7[3] = CONCAT44(uStack_85c,uStack_860);
        *(undefined1 *)(plVar7 + 1) = local_870._0_1_;
        plVar7[4] = CONCAT44(fStack_854,local_858);
        plVar7[5] = CONCAT44(fStack_84c,fStack_850);
        plVar7[6] = CONCAT44(uStack_844,local_848);
        plVar7[7] = CONCAT44(uStack_83c,uStack_840);
        *(float *)(plVar7 + 8) = local_838;
        *(float *)((long)plVar7 + 0x44) = fStack_834;
        *(float *)(plVar7 + 9) = fStack_830;
        *(float *)((long)plVar7 + 0x4c) = fStack_82c;
        plVar7[10] = local_828;
        plVar7[0xb] = lStack_820;
        plVar7[0xc] = local_818;
        plVar7 = plVar7 + 0xe;
      } while (uVar11 < *param_1);
      lVar15 = uVar11 * 0x70;
LAB_0012452a:
      uVar14 = param_1[7];
      if (uVar14 < (ulong)(param_2[0xb] - param_2[10])) {
LAB_00124c47:
        plVar7 = &local_748;
        plVar5 = plVar7 + uVar11 * 0xe;
        do {
          *(bool *)(plVar7 + 1) = (ulong)(plVar7[0xb] - plVar7[10]) <= uVar14;
          plVar7 = plVar7 + 0xe;
        } while (plVar5 != plVar7);
      }
      plVar7 = (long *)(local_740 + lVar15 + -8);
      if (lVar15 != 0) goto LAB_0012454d;
    }
LAB_00124612:
    plVar7 = &local_748;
    local_8e8 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                 *)0x80;
    pHVar1 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
              *)*local_9d8;
    if (in_stack_00000008 != *(FastAllocator **)(pHVar1 + 8)) {
      embree::MutexSys::lock();
      if (*(long *)(pHVar1 + 8) != 0) {
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x118) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x118) +
             *(long *)(pHVar1 + 0xa8) + *(long *)(pHVar1 + 0x68);
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x120) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x120) +
             (((*(long *)(pHVar1 + 0x98) + *(long *)(pHVar1 + 0x58)) - *(long *)(pHVar1 + 0x50)) -
             *(long *)(pHVar1 + 0x90));
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x128) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x128) +
             *(long *)(pHVar1 + 0xb0) + *(long *)(pHVar1 + 0x70);
        UNLOCK();
      }
      *(undefined8 *)(pHVar1 + 0x48) = 0;
      *(undefined8 *)(pHVar1 + 0x58) = 0;
      *(undefined8 *)(pHVar1 + 0x50) = 0;
      *(undefined8 *)(pHVar1 + 0x68) = 0;
      *(undefined8 *)(pHVar1 + 0x70) = 0;
      *(undefined8 *)(pHVar1 + 0x60) = 0;
      if (in_stack_00000008 == (FastAllocator *)0x0) {
        *(undefined8 *)(pHVar1 + 0x88) = 0;
        uVar6 = 0;
        *(undefined8 *)(pHVar1 + 0x98) = 0;
        *(undefined8 *)(pHVar1 + 0x90) = 0;
        *(undefined8 *)(pHVar1 + 0xa8) = 0;
        *(undefined8 *)(pHVar1 + 0xb0) = 0;
      }
      else {
        uVar6 = *(undefined8 *)(in_stack_00000008 + 0x10);
        *(undefined8 *)(pHVar1 + 0x88) = 0;
        *(undefined8 *)(pHVar1 + 0x98) = 0;
        *(undefined8 *)(pHVar1 + 0x60) = uVar6;
        *(undefined8 *)(pHVar1 + 0x90) = 0;
        *(undefined8 *)(pHVar1 + 0xa8) = 0;
        *(undefined8 *)(pHVar1 + 0xb0) = 0;
        *(undefined8 *)(pHVar1 + 0xa0) = 0;
        uVar6 = *(undefined8 *)(in_stack_00000008 + 0x10);
      }
      *(undefined8 *)(pHVar1 + 0xa0) = uVar6;
      LOCK();
      *(FastAllocator **)(pHVar1 + 8) = in_stack_00000008;
      UNLOCK();
      local_878 = pHVar1;
      embree::MutexSys::lock();
      plVar5 = *(long **)(in_stack_00000008 + 0x138);
      if (plVar5 == *(long **)(in_stack_00000008 + 0x140)) {
        std::
        vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
        ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                  ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                    *)(in_stack_00000008 + 0x130),plVar5,&local_878);
      }
      else {
        *plVar5 = (long)pHVar1;
        *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
      }
      embree::MutexSys::unlock();
      embree::MutexSys::unlock();
    }
    lVar15 = local_9d8[2];
    local_9d8[5] = local_9d8[5] + 0x80;
    uVar8 = (ulong)(-(int)lVar15 & 0xf);
    uVar14 = lVar15 + 0x80 + uVar8;
    local_9d8[2] = uVar14;
    if ((ulong)local_9d8[3] < uVar14) {
      local_9d8[2] = lVar15;
      if ((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
           *)local_9d8[4] <
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
           *)0x200) {
        puVar3 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_8e8,0x40,false);
      }
      else {
        local_878 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                     *)local_9d8[4];
        puVar3 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_878,0x40,true);
        local_9d8[1] = (long)puVar3;
        lVar15 = local_9d8[2];
        local_9d8[2] = 0x80;
        local_9d8[6] = (local_9d8[3] + local_9d8[6]) - lVar15;
        local_9d8[3] = (long)local_878;
        if (local_878 <
            (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
             *)0x80) {
          local_878 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                       *)local_9d8[4];
          local_9d8[2] = 0;
          puVar3 = (undefined8 *)
                   FastAllocator::malloc(in_stack_00000008,(ulong *)&local_878,0x40,false);
          local_9d8[1] = (long)puVar3;
          lVar15 = local_9d8[2];
          local_9d8[2] = 0x80;
          local_9d8[6] = (local_9d8[3] + local_9d8[6]) - lVar15;
          local_9d8[3] = (long)local_878;
          if (local_878 <
              (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
               *)0x80) {
            puVar3 = (undefined8 *)0x0;
            local_9d8[2] = 0;
          }
        }
      }
    }
    else {
      local_9d8[6] = local_9d8[6] + uVar8;
      puVar3 = (undefined8 *)(local_9d8[1] + -0x80 + uVar14);
    }
    *puVar3 = 8;
    puVar3[1] = 8;
    puVar3[2] = 8;
    puVar3[3] = 8;
    *(undefined4 *)(puVar3 + 0xc) = uVar22;
    *(undefined4 *)((long)puVar3 + 100) = uVar23;
    *(undefined4 *)(puVar3 + 0xd) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x6c) = uVar25;
    *(undefined4 *)(puVar3 + 8) = uVar22;
    *(undefined4 *)((long)puVar3 + 0x44) = uVar23;
    *(undefined4 *)(puVar3 + 9) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x4c) = uVar25;
    *(undefined4 *)(puVar3 + 4) = uVar22;
    *(undefined4 *)((long)puVar3 + 0x24) = uVar23;
    *(undefined4 *)(puVar3 + 5) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x2c) = uVar25;
    *(float *)(puVar3 + 0xe) = fVar17;
    *(float *)((long)puVar3 + 0x74) = fVar19;
    *(float *)(puVar3 + 0xf) = fVar20;
    *(float *)((long)puVar3 + 0x7c) = fVar21;
    *(float *)(puVar3 + 10) = fVar17;
    *(float *)((long)puVar3 + 0x54) = fVar19;
    *(float *)(puVar3 + 0xb) = fVar20;
    *(float *)((long)puVar3 + 0x5c) = fVar21;
    *(float *)(puVar3 + 6) = fVar17;
    *(float *)((long)puVar3 + 0x34) = fVar19;
    *(float *)(puVar3 + 7) = fVar20;
    *(float *)((long)puVar3 + 0x3c) = fVar21;
    plVar5 = plVar7;
    puVar9 = puVar3 + 4;
    do {
      lVar15 = plVar5[3];
      puVar10 = (undefined8 *)((long)puVar9 + 4);
      lVar13 = plVar5[2];
      lVar2 = plVar5[5];
      uVar22 = *(undefined4 *)((long)plVar5 + 0x24);
      lVar12 = plVar5[4];
      *(undefined4 *)(puVar9 + 4) = *(undefined4 *)((long)plVar5 + 0x14);
      *(int *)puVar9 = (int)lVar13;
      *(int *)(puVar9 + 8) = (int)lVar15;
      *(int *)(puVar9 + 2) = (int)lVar12;
      *(undefined4 *)(puVar9 + 6) = uVar22;
      *(int *)(puVar9 + 10) = (int)lVar2;
      plVar5 = plVar5 + 0xe;
      puVar9 = puVar10;
    } while ((undefined8 *)((long)puVar3 + uVar11 * 4 + 0x20) != puVar10);
    uVar14 = 0;
    if (param_1[6] < (ulong)(param_2[0xb] - param_2[10])) {
      pHStack_9b0 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
                     *)0x0;
      local_878 = local_7c8;
      local_870 = plVar7;
      local_868 = param_1;
      TaskScheduler::
      spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar11,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_878,
                 (TaskGroupContext *)&pHStack_9b0);
      embree::TaskScheduler::wait();
      if (pHStack_9b0 !=
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>
           *)0x0) {
        local_8e8 = pHStack_9b0;
        std::__exception_ptr::exception_ptr::_M_addref();
        std::rethrow_exception(&local_8e8);
        goto LAB_00124ded;
      }
      uVar14 = 0;
      do {
        puVar3[uVar14] = *(undefined8 *)(local_7c8 + uVar14 * 8);
        uVar14 = uVar14 + 1;
      } while (uVar14 != uVar11);
    }
    else {
      do {
        uVar6 = recurse(param_1,plVar7,0);
        *(undefined8 *)(local_7c8 + uVar14 * 8) = uVar6;
        uVar14 = uVar14 + 1;
        plVar7 = plVar7 + 0xe;
      } while (uVar14 != uVar11);
      uVar14 = 0;
      do {
        puVar3[uVar14] = *(undefined8 *)(local_7c8 + uVar14 * 8);
        uVar14 = uVar14 + 1;
      } while (uVar14 != uVar11);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return puVar3;
  }
LAB_00124ded:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::NodeRefPtr<4> embree::sse2::GeneralBVHBuilder::build<embree::NodeRefPtr<4>,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::BVHN<4>::CreateAlloc, embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(unsigned
   long)#8}>(embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef*,
   embree::sse2::PrimInfoExtRange const&, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6} const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::build()::{lambda(unsigned long)#8} const&,
   embree::sse2::GeneralBVHBuilder::Settings const&) */

void embree::sse2::GeneralBVHBuilder::
     build<embree::NodeRefPtr<4>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(unsigned_long)_8_>
               (undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
               undefined8 param_5,undefined8 param_6,ulong *param_7)

{
  long in_FS_OFFSET;
  undefined1 local_132;
  undefined1 local_131;
  undefined8 local_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 local_108;
  undefined1 local_100;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined8 local_a8;
  ulong local_98;
  ulong uStack_90;
  ulong local_88;
  ulong uStack_80;
  ulong local_78;
  ulong uStack_70;
  ulong local_68;
  ulong uStack_60;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  undefined1 *local_38;
  undefined8 local_30;
  undefined8 *local_28;
  undefined8 *local_20;
  undefined8 local_18;
  long local_10;
  
  local_98 = *param_7;
  uStack_90 = param_7[1];
  local_88 = param_7[2];
  uStack_80 = param_7[3];
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_78 = param_7[4];
  uStack_70 = param_7[5];
  local_68 = param_7[6];
  uStack_60 = param_7[7];
  local_48 = &local_130;
  local_40 = &local_131;
  local_38 = &local_132;
  local_20 = &local_108;
  local_28 = &local_128;
  local_130 = param_4;
  local_58 = param_2;
  local_50 = param_1;
  local_30 = param_5;
  local_18 = param_6;
  if (0x10 < *param_7) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  local_b8 = *(undefined8 *)(param_3 + 0x10);
  local_f8 = *param_3;
  uStack_f4 = param_3[1];
  uStack_f0 = param_3[2];
  uStack_ec = param_3[3];
  local_100 = 0;
  local_e8 = param_3[4];
  uStack_e4 = param_3[5];
  uStack_e0 = param_3[6];
  uStack_dc = param_3[7];
  local_d8 = param_3[8];
  uStack_d4 = param_3[9];
  uStack_d0 = param_3[10];
  uStack_cc = param_3[0xb];
  local_108 = 1;
  local_c8 = param_3[0xc];
  uStack_c4 = param_3[0xd];
  uStack_c0 = param_3[0xe];
  uStack_bc = param_3[0xf];
  local_b0 = *(undefined8 *)(param_3 + 0x12);
  local_a8 = *(undefined8 *)(param_3 + 0x14);
  local_128 = 0;
  uStack_120 = 0;
  local_118 = 0;
  BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(unsigned_long)#8}>
  ::recurse(&local_98,local_20,1);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::build() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  undefined4 uVar1;
  string *psVar2;
  undefined1 (*pauVar3) [16];
  long lVar4;
  int iVar5;
  long *plVar6;
  long lVar7;
  undefined8 *puVar8;
  long lVar9;
  undefined8 *puVar10;
  undefined8 uVar11;
  long *plVar12;
  uint uVar13;
  long *plVar15;
  ulong uVar16;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *pBVar17;
  ulong uVar18;
  ulong uVar19;
  undefined8 *puVar20;
  long *plVar21;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *pBVar22;
  ulong uVar23;
  long in_FS_OFFSET;
  float fVar24;
  double dVar25;
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 uStack_1c9;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *pBStack_1c8;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *local_1c0;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *local_1b8;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **ppBStack_1b0;
  undefined8 uStack_1a8;
  _lambda_embree__range<unsigned_long>__1_ *local_198;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **local_190;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **local_188;
  undefined8 uStack_180;
  undefined8 uStack_178;
  undefined8 local_170;
  undefined8 uStack_168;
  undefined8 uStack_160;
  undefined1 local_158 [16];
  undefined1 local_148 [16];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  long local_118;
  long local_110;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  undefined8 local_c8;
  long local_c0;
  ulong uStack_b8;
  long *local_a8 [2];
  long local_98 [2];
  long *local_88;
  long local_80;
  long local_78 [2];
  long *local_68;
  long local_60;
  long local_58 [5];
  ulong uVar14;
  
  local_58[3] = *(long *)(in_FS_OFFSET + 0x28);
  lVar7 = *(long *)(this + 0x28);
  uVar19 = *(long *)(lVar7 + 0x208) - *(long *)(lVar7 + 0x200) >> 3;
  uVar23 = *(ulong *)(*(long *)(this + 0x30) + 0x1d0);
  if (uVar23 < uVar19) {
    auVar30._8_8_ = 0;
    auVar30._0_8_ = local_158._8_8_;
    local_158 = auVar30 << 0x40;
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar23,uVar19,1,(_lambda_embree__range<unsigned_long>_const___1_ *)this,
               (TaskGroupContext *)local_158);
    embree::TaskScheduler::wait();
    if (local_158._0_8_ == 0) {
      lVar7 = *(long *)(this + 0x28);
      goto LAB_0012505d;
    }
    goto LAB_00125e7a;
  }
LAB_0012505d:
  uVar18 = 0;
  FastAllocator::reset((FastAllocator *)(lVar7 + 0x78));
  uVar19 = *(ulong *)(this + 0x98);
  lVar7 = *(long *)(this + 0x30);
  if ((uVar19 & 0x100000) != 0) {
    uVar18 = *(ulong *)(lVar7 + 0x288);
  }
  if ((uVar19 & 0x200000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x298);
  }
  if ((uVar19 & 0xf) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2b8);
  }
  if ((uVar19 & 0x77770) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2a8);
  }
  if ((uVar19 & 0xe000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x338);
  }
  if ((uVar19 & 0x800000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2c8);
  }
  if ((uVar19 & 0x20000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2d8);
  }
  if ((uVar19 & 0x40000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2e8);
  }
  if ((uVar19 & 0x80000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2f8);
  }
  if ((uVar19 & 0x1000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x308);
  }
  if ((uVar19 & 0x400000) == 0) {
    lVar7 = *(long *)(this + 0x28);
  }
  else {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x318);
    lVar7 = *(long *)(this + 0x28);
  }
  if (uVar18 == 0) {
    *(undefined8 *)(this + 0x70) = 0;
    local_108._4_4_ = _LC9;
    local_108._0_4_ = _LC9;
    local_108._8_4_ = _LC9;
    local_108._12_4_ = _LC9;
    local_e8._4_4_ = _LC9;
    local_e8._0_4_ = _LC9;
    local_e8._8_4_ = _LC9;
    local_e8._12_4_ = _LC9;
    local_f8._4_4_ = _LC11;
    local_f8._0_4_ = _LC11;
    local_f8._8_4_ = _LC11;
    local_f8._12_4_ = _LC11;
    local_d8._4_4_ = _LC11;
    local_d8._0_4_ = _LC11;
    local_d8._8_4_ = _LC11;
    local_d8._12_4_ = _LC11;
    embree::BVHN<4>::set(lVar7,8,local_108,0);
    if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
    goto LAB_00125e75;
  }
  uVar19 = uVar18 + 3 >> 2;
  dVar25 = (double)uVar19 * __LC41 * __LC42;
  if (_LC43 <= dVar25) {
    uVar16 = (long)(dVar25 - _LC43) ^ 0x8000000000000000;
  }
  else {
    uVar16 = (ulong)dVar25;
  }
  FastAllocator::init_estimate((FastAllocator *)(lVar7 + 0x78),uVar16 + ((uVar19 << 8) >> 2));
  psVar2 = *(string **)(this + 0x28);
  local_a8[0] = local_98;
  std::__cxx11::string::_M_construct((ulong)local_a8,'\x01');
  *(undefined1 *)local_a8[0] = 0x34;
  plVar6 = (long *)std::__cxx11::string::_M_replace((ulong)local_a8,0,(char *)0x0,0x124f98);
  plVar12 = plVar6 + 2;
  if ((long *)*plVar6 == plVar12) {
    uVar19 = plVar6[1] + 1;
    plVar15 = plVar12;
    plVar21 = local_78;
    if (7 < (uint)uVar19) {
      uVar16 = 0;
      do {
        uVar13 = (int)uVar16 + 8;
        uVar14 = (ulong)uVar13;
        *(undefined8 *)((long)local_78 + uVar16) = *(undefined8 *)((long)plVar12 + uVar16);
        uVar16 = uVar14;
      } while (uVar13 < ((uint)uVar19 & 0xfffffff8));
      plVar21 = (long *)((long)local_78 + uVar14);
      plVar15 = (long *)(uVar14 + (long)plVar12);
    }
    lVar7 = 0;
    if ((uVar19 & 4) != 0) {
      *(int *)plVar21 = (int)*plVar15;
      lVar7 = 4;
    }
    if ((uVar19 & 2) != 0) {
      *(undefined2 *)((long)plVar21 + lVar7) = *(undefined2 *)((long)plVar15 + lVar7);
      lVar7 = lVar7 + 2;
    }
    local_88 = local_78;
    if ((uVar19 & 1) != 0) {
      *(undefined1 *)((long)plVar21 + lVar7) = *(undefined1 *)((long)plVar15 + lVar7);
    }
  }
  else {
    local_78[0] = plVar6[2];
    local_88 = (long *)*plVar6;
  }
  local_80 = plVar6[1];
  *plVar6 = (long)plVar12;
  plVar6[1] = 0;
  *(undefined1 *)(plVar6 + 2) = 0;
  if (0x3fffffffffffffffU - local_80 < 0xf) goto LAB_00125e9a;
  plVar6 = (long *)std::__cxx11::string::_M_append((char *)&local_88,0x124fb7);
  plVar12 = plVar6 + 2;
  if ((long *)*plVar6 == plVar12) {
    uVar19 = plVar6[1] + 1;
    plVar15 = plVar12;
    plVar21 = local_58;
    if (7 < (uint)uVar19) {
      uVar16 = 0;
      do {
        uVar13 = (int)uVar16 + 8;
        uVar14 = (ulong)uVar13;
        *(undefined8 *)((long)local_58 + uVar16) = *(undefined8 *)((long)plVar12 + uVar16);
        uVar16 = uVar14;
      } while (uVar13 < ((uint)uVar19 & 0xfffffff8));
      plVar21 = (long *)((long)local_58 + uVar14);
      plVar15 = (long *)(uVar14 + (long)plVar12);
    }
    lVar7 = 0;
    if ((uVar19 & 4) != 0) {
      *(int *)plVar21 = (int)*plVar15;
      lVar7 = 4;
    }
    if ((uVar19 & 2) != 0) {
      *(undefined2 *)((long)plVar21 + lVar7) = *(undefined2 *)((long)plVar15 + lVar7);
      lVar7 = lVar7 + 2;
    }
    local_68 = local_58;
    if ((uVar19 & 1) != 0) {
      *(undefined1 *)((long)plVar21 + lVar7) = *(undefined1 *)((long)plVar15 + lVar7);
    }
  }
  else {
    local_58[0] = plVar6[2];
    local_68 = (long *)*plVar6;
  }
  local_60 = plVar6[1];
  *plVar6 = (long)plVar12;
  plVar6[1] = 0;
  *(undefined1 *)(plVar6 + 2) = 0;
  dVar25 = (double)embree::BVHN<4>::preBuild(psVar2);
  if (local_68 != local_58) {
    operator_delete(local_68,local_58[0] + 1);
  }
  if (local_88 != local_78) {
    operator_delete(local_88,local_78[0] + 1);
  }
  if (local_a8[0] != local_98) {
    operator_delete(local_a8[0],local_98[0] + 1);
  }
  lVar7 = *(long *)(this + 0x28);
  uVar19 = *(long *)(lVar7 + 0x208) - *(long *)(lVar7 + 0x200) >> 3;
  if (uVar19 < uVar23) {
    std::vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>>::_M_default_append
              ((vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>> *)(lVar7 + 0x200),
               uVar23 - uVar19);
  }
  uVar19 = *(long *)(this + 0x18) - *(long *)(this + 0x10) >> 3;
  if (uVar19 < uVar23) {
    std::
    vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>>>
    ::_M_default_append((vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderBase>>>>
                         *)(this + 0x10),uVar23 - uVar19);
  }
  resizeRefsList(this);
  LOCK();
  *(undefined4 *)(this + 0x88) = 0;
  UNLOCK();
  auVar32._8_8_ = 0;
  auVar32._0_8_ = local_158._8_8_;
  local_158 = auVar32 << 0x40;
  TaskScheduler::
  spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
            (0,uVar23,1,(_lambda_embree__range<unsigned_long>_const___2_ *)this,
             (TaskGroupContext *)local_158);
  embree::TaskScheduler::wait();
  if (local_158._0_8_ == 0) {
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (0,uVar23,1,(_lambda_embree__range<unsigned_long>_const___3_ *)this,
               (TaskGroupContext *)local_158);
    embree::TaskScheduler::wait();
    if (local_158._0_8_ == 0) {
      if (*(int *)(this + 0x88) == 1) {
        pauVar3 = *(undefined1 (**) [16])(this + 0x58);
        local_d8 = pauVar3[1];
        local_f8 = pauVar3[1];
        local_e8 = *pauVar3;
        local_108 = *pauVar3;
        embree::BVHN<4>::set
                  (*(undefined8 *)(this + 0x28),*(undefined8 *)pauVar3[2],local_108,uVar18);
      }
      else {
        uVar19 = (ulong)*(int *)(this + 0x88);
        uVar23 = *(ulong *)(this + 0x50);
        if (uVar23 < uVar19) {
          puVar10 = *(undefined8 **)(this + 0x58);
          if (uVar23 == 0) {
            uVar23 = uVar19;
            if (uVar19 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar19;
            }
          }
          else {
            do {
              uVar23 = uVar23 * 2;
              if (uVar23 == 0) {
                uVar23 = 1;
              }
            } while (uVar23 < uVar19);
            if (uVar19 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar19;
            }
          }
          uVar16 = uVar23 << 6;
          (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar16,0);
          if (uVar16 < 0x1c00000) {
            lVar7 = embree::alignedMalloc(uVar16,0x20);
          }
          else {
            lVar7 = embree::os_malloc(uVar16,(bool *)(this + 0x40));
          }
          *(long *)(this + 0x58) = lVar7;
          if (*(long *)(this + 0x48) != 0) {
            puVar20 = puVar10;
            uVar16 = 0;
            while( true ) {
              uVar11 = puVar20[1];
              puVar8 = (undefined8 *)(lVar7 + uVar16 * 0x40);
              *puVar8 = *puVar20;
              puVar8[1] = uVar11;
              uVar11 = puVar20[3];
              puVar8[2] = puVar20[2];
              puVar8[3] = uVar11;
              uVar1 = *(undefined4 *)(puVar20 + 5);
              puVar8[4] = puVar20[4];
              *(undefined4 *)(puVar8 + 5) = uVar1;
              if (*(ulong *)(this + 0x48) <= uVar16 + 1) break;
              lVar7 = *(long *)(this + 0x58);
              puVar20 = puVar20 + 8;
              uVar16 = uVar16 + 1;
            }
          }
          lVar7 = *(long *)(this + 0x50);
          if (puVar10 != (undefined8 *)0x0) {
            if ((ulong)(lVar7 << 6) < 0x1c00000) {
              embree::alignedFree(puVar10);
            }
            else {
              embree::os_free(puVar10,lVar7 << 6,(bool)this[0x40]);
            }
          }
          if (lVar7 != 0) {
            (**(code **)**(undefined8 **)(this + 0x38))
                      (*(undefined8 **)(this + 0x38),lVar7 * -0x40,1);
          }
          *(ulong *)(this + 0x48) = uVar19;
          *(ulong *)(this + 0x50) = uVar23;
        }
        else {
          *(ulong *)(this + 0x48) = uVar19;
        }
        fVar24 = (float)uVar18 / __LC47;
        if (__LC36 <= fVar24) {
          uVar23 = (long)(fVar24 - __LC36) ^ 0x8000000000000000;
        }
        else {
          uVar23 = (ulong)fVar24;
        }
        local_c8 = 0;
        if (uVar23 < 1000) {
          uVar23 = 1000;
        }
        local_108._0_8_ = CONCAT44(_LC9,_LC9);
        local_108._8_4_ = _LC9;
        local_108._12_4_ = _LC9;
        local_c0 = 0;
        local_f8._0_8_ = CONCAT44(_LC11,_LC11);
        local_f8._8_4_ = _LC11;
        local_f8._12_4_ = _LC11;
        uVar16 = uVar19 * 2;
        if (uVar19 * 2 <= uVar23) {
          uVar16 = uVar23;
        }
        local_1b8 = this;
        local_e8 = local_108;
        local_d8 = local_f8;
        if (uVar19 == 1) {
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **)
                     (this + 0x58);
          auVar31._8_4_ = _LC9;
          auVar31._0_8_ = local_108._0_8_;
          auVar31._12_4_ = _LC9;
          auVar29._8_4_ = _LC11;
          auVar29._0_8_ = local_f8._0_8_;
          auVar29._12_4_ = _LC11;
          auVar34._8_4_ = _LC9;
          auVar34._0_8_ = local_108._0_8_;
          auVar34._12_4_ = _LC9;
          auVar33._8_4_ = _LC11;
          auVar33._0_8_ = local_f8._0_8_;
          auVar33._12_4_ = _LC11;
          auVar28._8_4_ = _LC9;
          auVar28._0_8_ = local_108._0_8_;
          auVar28._12_4_ = _LC9;
          local_118 = 0;
          auVar26._0_4_ = *(float *)(pBVar22 + 0x10) + *(float *)pBVar22;
          auVar26._4_4_ = *(float *)(pBVar22 + 0x14) + *(float *)(pBVar22 + 4);
          auVar26._8_4_ = *(float *)(pBVar22 + 0x18) + *(float *)(pBVar22 + 8);
          auVar26._12_4_ = *(float *)(pBVar22 + 0x1c) + *(float *)(pBVar22 + 0xc);
          auVar34 = minps(auVar34,*(undefined1 (*) [16])pBVar22);
          auVar33 = maxps(auVar33,*(undefined1 (*) [16])(pBVar22 + 0x10));
          local_110 = 1;
          auVar32 = minps(auVar31,auVar26);
          auVar30 = maxps(auVar29,auVar26);
          auVar27._8_4_ = _LC11;
          auVar27._0_8_ = local_f8._0_8_;
          auVar27._12_4_ = _LC11;
          local_158 = minps(auVar28,auVar34);
          local_148 = maxps(auVar27,auVar33);
          local_138 = minps(local_108,auVar32);
          local_128 = maxps(local_f8,auVar30);
        }
        else {
          local_198 = (_lambda_embree__range<unsigned_long>__1_ *)local_108;
          local_190 = &local_1c0;
          local_188 = &local_1b8;
          parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::parallel_reduce<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>(unsigned_long,unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_const&)::_lambda(embree::range<unsigned_long>)_1_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>
                    ((ulong)local_158,uVar19,0,uVar19,(PrimInfoT_conflict *)0x1,
                     (_lambda_embree__range<unsigned_long>__1_ *)local_108,
                     (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
                      *)&local_198);
          if (local_110 == local_118) {
            local_108._8_8_ = _UNK_001336c8;
            local_108._0_8_ = CONCAT44(_UNK_001336c4,_LC9);
            local_f8._8_8_ = _UNK_001336d8;
            local_f8._0_8_ = CONCAT44(_UNK_001336d4,_LC11);
            local_e8._8_8_ = _UNK_001336c8;
            local_e8._0_8_ = CONCAT44(_UNK_001336c4,_LC9);
            local_d8._8_8_ = _UNK_001336d8;
            local_d8._0_8_ = CONCAT44(_UNK_001336d4,_LC11);
            embree::BVHN<4>::set
                      (*(undefined8 *)(this + 0x28),8,
                       (_lambda_embree__range<unsigned_long>__1_ *)local_108,0);
            goto LAB_00125a1f;
          }
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **)
                     (this + 0x58);
        }
        lVar4 = local_110;
        lVar7 = local_118;
        uVar23 = *(ulong *)(this + 0x50);
        local_198 = (_lambda_embree__range<unsigned_long>__1_ *)0x4;
        local_170 = 0x3f8000003f800000;
        for (iVar5 = 0x1f; 4U >> iVar5 == 0; iVar5 = iVar5 + -1) {
        }
        local_190 = (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **)0x28;
        local_188 = (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **)
                    (long)iVar5;
        uStack_168 = *(undefined8 *)(this + 0x90);
        uStack_180 = 1;
        uStack_160 = 0xffffffffffffffff;
        uStack_178 = 1;
        if (uVar23 < uVar16) {
          if (uVar23 == 0) {
            uVar23 = uVar16;
            if (uVar16 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar16;
            }
          }
          else {
            do {
              uVar23 = uVar23 * 2;
              if (uVar23 == 0) {
                uVar23 = 1;
              }
            } while (uVar23 < uVar16);
            if (uVar16 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar16;
            }
          }
          uVar19 = uVar23 << 6;
          (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar19,0);
          if (uVar19 < 0x1c00000) {
            lVar9 = embree::alignedMalloc(uVar19,0x20);
          }
          else {
            lVar9 = embree::os_malloc(uVar19,(bool *)(this + 0x40));
          }
          *(long *)(this + 0x58) = lVar9;
          if (*(long *)(this + 0x48) != 0) {
            pBVar17 = pBVar22;
            uVar19 = 0;
            while( true ) {
              uVar11 = *(undefined8 *)(pBVar17 + 8);
              puVar10 = (undefined8 *)(lVar9 + uVar19 * 0x40);
              *puVar10 = *(undefined8 *)pBVar17;
              puVar10[1] = uVar11;
              uVar11 = *(undefined8 *)(pBVar17 + 0x18);
              puVar10[2] = *(undefined8 *)(pBVar17 + 0x10);
              puVar10[3] = uVar11;
              uVar1 = *(undefined4 *)(pBVar17 + 0x28);
              puVar10[4] = *(undefined8 *)(pBVar17 + 0x20);
              *(undefined4 *)(puVar10 + 5) = uVar1;
              if (*(ulong *)(this + 0x48) <= uVar19 + 1) break;
              lVar9 = *(long *)(this + 0x58);
              pBVar17 = pBVar17 + 0x40;
              uVar19 = uVar19 + 1;
            }
          }
          lVar9 = *(long *)(this + 0x50);
          if (pBVar22 != (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *)0x0) {
            if ((ulong)(lVar9 << 6) < 0x1c00000) {
              embree::alignedFree(pBVar22);
            }
            else {
              embree::os_free(pBVar22,lVar9 << 6,(bool)this[0x40]);
            }
          }
          if (lVar9 != 0) {
            (**(code **)**(undefined8 **)(this + 0x38))
                      (*(undefined8 **)(this + 0x38),lVar9 * -0x40,1);
          }
          *(ulong *)(this + 0x48) = uVar16;
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> **)
                     (this + 0x58);
          *(ulong *)(this + 0x50) = uVar23;
        }
        else {
          *(ulong *)(this + 0x48) = uVar16;
        }
        auVar32 = local_148;
        auVar30 = local_158;
        ppBStack_1b0 = &pBStack_1c8;
        local_c0 = lVar4 - lVar7;
        local_e8._0_8_ = local_138._0_8_;
        local_e8._8_8_ = local_138._8_8_;
        uStack_1a8 = 4;
        local_108._0_8_ = local_158._0_8_;
        local_108._8_8_ = local_158._8_8_;
        local_f8._0_8_ = local_148._0_8_;
        local_f8._8_8_ = local_148._8_8_;
        local_d8._0_8_ = local_128._0_8_;
        local_d8._8_8_ = local_128._8_8_;
        local_c8 = 0;
        pBStack_1c8 = this;
        local_1c0 = this;
        local_1b8 = pBVar22;
        uStack_b8 = uVar16;
        uVar11 = GeneralBVHBuilder::
                 build<embree::NodeRefPtr<4>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(unsigned_long)_8_>
                           (&local_1b8,pBVar22,(_lambda_embree__range<unsigned_long>__1_ *)local_108
                            ,*(long *)(this + 0x28) + 0x78,&uStack_1c9,&local_1c0,&local_198);
        local_108 = auVar30;
        local_f8 = auVar32;
        local_e8 = auVar30;
        local_d8 = auVar32;
        embree::BVHN<4>::set
                  (*(undefined8 *)(this + 0x28),uVar11,
                   (_lambda_embree__range<unsigned_long>__1_ *)local_108,uVar18);
      }
LAB_00125a1f:
      lVar7 = *(long *)(this + 0x28);
      plVar12 = (long *)(lVar7 + 0x130);
      plVar6 = (long *)(lVar7 + 0x170);
      do {
        while (*plVar12 != 0) {
          lVar4 = *(long *)(*plVar12 + 0x18);
          *(long *)(*plVar12 + 0x18) = *plVar6;
          LOCK();
          *plVar6 = *plVar12;
          UNLOCK();
          LOCK();
          *plVar12 = lVar4;
          UNLOCK();
        }
        LOCK();
        *plVar12 = 0;
        UNLOCK();
        plVar12 = plVar12 + 1;
      } while (plVar6 != plVar12);
      plVar12 = *(long **)(lVar7 + 0x1a8);
      plVar6 = *(long **)(lVar7 + 0x1b0);
      if (plVar6 != plVar12) {
        do {
          while( true ) {
            lVar4 = *plVar12;
            if (lVar7 + 0x78 != *(long *)(lVar4 + 8)) break;
            embree::MutexSys::lock();
            if (lVar7 + 0x78 == *(long *)(lVar4 + 8)) {
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x118);
              *plVar21 = *plVar21 + *(long *)(lVar4 + 0xa8) + *(long *)(lVar4 + 0x68);
              UNLOCK();
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x120);
              *plVar21 = *plVar21 +
                         (((*(long *)(lVar4 + 0x98) + *(long *)(lVar4 + 0x58)) -
                          *(long *)(lVar4 + 0x50)) - *(long *)(lVar4 + 0x90));
              UNLOCK();
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x128);
              *plVar21 = *plVar21 + *(long *)(lVar4 + 0xb0) + *(long *)(lVar4 + 0x70);
              UNLOCK();
              *(undefined8 *)(lVar4 + 0x48) = 0;
              *(undefined8 *)(lVar4 + 0x58) = 0;
              *(undefined8 *)(lVar4 + 0x50) = 0;
              *(undefined8 *)(lVar4 + 0x68) = 0;
              *(undefined8 *)(lVar4 + 0x70) = 0;
              *(undefined8 *)(lVar4 + 0x60) = 0;
              *(undefined8 *)(lVar4 + 0x88) = 0;
              *(undefined8 *)(lVar4 + 0x98) = 0;
              *(undefined8 *)(lVar4 + 0x90) = 0;
              *(undefined8 *)(lVar4 + 0xa8) = 0;
              *(undefined8 *)(lVar4 + 0xb0) = 0;
              *(undefined8 *)(lVar4 + 0xa0) = 0;
              LOCK();
              *(undefined8 *)(lVar4 + 8) = 0;
              UNLOCK();
            }
            plVar12 = plVar12 + 1;
            embree::MutexSys::unlock();
            if (plVar6 == plVar12) goto LAB_00125b9e;
          }
          plVar12 = plVar12 + 1;
        } while (plVar6 != plVar12);
LAB_00125b9e:
        if (*(long *)(lVar7 + 0x1b0) != *(long *)(lVar7 + 0x1a8)) {
          *(long *)(lVar7 + 0x1b0) = *(long *)(lVar7 + 0x1a8);
        }
      }
      if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::BVHN<4>::postBuild(dVar25);
        return;
      }
LAB_00125e75:
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
LAB_00125e7a:
  local_108._0_8_ = local_158._0_8_;
  std::__exception_ptr::exception_ptr::_M_addref();
  std::rethrow_exception(local_108);
LAB_00125e9a:
                    /* WARNING: Subroutine does not return */
  std::__throw_length_error("basic_string::append");
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMi<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMi<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleM...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  undefined8 uVar2;
  ulong uVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  
  uVar6 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar6 - uVar3) {
    uVar6 = uVar6 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar6,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar6,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar3 < uVar6) {
    lVar5 = uVar3 * 0x70;
    do {
      lVar1 = *(long *)(this + 0x20);
      lVar4 = *(long *)(this + 0x28) + lVar5;
      lVar5 = lVar5 + 0x70;
      uVar2 = sse2::GeneralBVHBuilder::
              BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::build()::{lambda(unsigned_long)#8}>
              ::recurse(*(undefined8 *)(this + 0x30),lVar4,1);
      *(undefined8 *)(lVar1 + uVar3 * 8) = uVar2;
      uVar3 = uVar3 + 1;
    } while (uVar3 < uVar6);
  }
  return;
}



/* std::pair<unsigned long, bool> embree::parallel_reduce_internal<unsigned long, std::pair<unsigned
   long, bool>, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(embree::range<unsigned long>
   const&)#1}, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(std::pair<unsigned long,
   bool> const&, std::pair<unsigned long, bool> const&)#2}>(unsigned long, unsigned long, unsigned
   long, unsigned long, std::pair<unsigned long, bool> const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&)::{lambda(std::pair<unsigned long,
   bool> const&, std::pair<unsigned long, bool> const&)#2} const&) */

undefined1  [16]
embree::
parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,bool>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(std::pair<unsigned_long,bool>const&,std::pair<unsigned_long,bool>const&)_2_>
          (ulong param_1,ulong param_2,ulong param_3,ulong param_4,pair_conflict *param_5,
          _lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_std__pair<unsigned_long,bool>_const__std__pair<unsigned_long,bool>_const___2_
          *param_7)

{
  ulong uVar1;
  long *plVar2;
  long lVar3;
  long in_FS_OFFSET;
  byte bVar4;
  undefined1 auVar5 [16];
  ulong local_2118;
  ulong local_2110;
  ulong local_2108;
  undefined8 **local_2100;
  undefined8 **local_20f8;
  ulong *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  long *local_20d8;
  _lambda_embree__range<unsigned_long>_const___1_ *local_20d0;
  long local_20c0 [1024];
  long *local_c0;
  ulong local_b8;
  long local_48;
  
  bVar4 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2118 = param_3;
  local_2110 = param_2;
  local_2108 = param_1;
  uVar1 = embree::TaskScheduler::threadCount();
  lVar3 = 0x400;
  plVar2 = local_20c0;
  if (local_2108 < uVar1) {
    uVar1 = local_2108;
  }
  local_2108 = 0x200;
  if (uVar1 < 0x201) {
    local_2108 = uVar1;
  }
  for (; lVar3 != 0; lVar3 = lVar3 + -1) {
    *plVar2 = 0;
    plVar2 = plVar2 + (ulong)bVar4 * -2 + 1;
  }
  local_20f0 = &local_2110;
  local_20e8 = &local_2118;
  local_20e0 = &local_2108;
  local_20d8 = local_20c0;
  local_20d0 = param_6;
  local_c0 = local_20c0;
  local_b8 = local_2108;
  if (uVar1 == 0) {
    lVar3 = *(long *)param_5;
    uVar1 = (ulong)(byte)param_5[8];
  }
  else {
    local_20f8 = &local_20f0;
    local_2100 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImSt4pairImbEZNS_4sse226HeuristicArrayOpenMergeSAHIZNS6_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMvILi4EEEE5buildEvEUlRNSC_8BuildRefEPSD_E5_SD_Lm32EE13getPropertiesERKNS6_16PrimInfoExtRangeEEUlRKNS_5rangeImEEE_ZNSH_13getPropertiesESK_EUlRKS5_SR_E0_EET0_T_SU_SU_SU_RKST_RKT1_RKT2_EUlmE_EEvSU_SW_EUlSO_E_EEvSU_SU_SU_SW_PNS0_16TaskGroupContextE
              (0,local_2108,1,&local_20f8,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != (ulong **)0x0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20f8);
      goto LAB_001268a6;
    }
    lVar3 = *(long *)param_5;
    uVar1 = (ulong)(byte)param_5[8];
    if (local_2108 != 0) {
      plVar2 = local_c0;
      do {
        if ((char)uVar1 != '\0') {
          uVar1 = (ulong)*(byte *)(plVar2 + 1);
        }
        lVar3 = lVar3 + *plVar2;
        plVar2 = plVar2 + 2;
      } while (local_c0 + local_2108 * 2 != plVar2);
    }
  }
  if (local_c0 != local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    auVar5._8_8_ = uVar1;
    auVar5._0_8_ = lVar3;
    return auVar5;
  }
LAB_001268a6:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::getProperties(embree::sse2::PrimInfoExtRange const&) */

long __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::getProperties(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                *this,PrimInfoExtRange *param_1)

{
  ulong uVar1;
  long lVar2;
  ulong uVar3;
  float *pfVar4;
  long lVar5;
  long in_FS_OFFSET;
  float fVar6;
  float fVar7;
  float fVar8;
  float local_5c;
  long local_58;
  float local_50;
  undefined8 local_48;
  undefined1 local_40;
  float local_38 [4];
  undefined8 local_28;
  undefined8 uStack_20;
  long *local_18;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_28 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
              *)CONCAT44(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4),
                         *(float *)(param_1 + 0x10) - *(float *)param_1);
  uStack_20 = (float *)CONCAT44(*(float *)(param_1 + 0x1c) - *(float *)(param_1 + 0xc),
                                *(float *)(param_1 + 0x18) - *(float *)(param_1 + 8));
  fVar6 = (float)((uint)(*(float *)(param_1 + 0x10) - *(float *)param_1) & _LC37);
  fVar7 = (float)((uint)(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4)) & _LC37);
  fVar8 = (float)((uint)(*(float *)(param_1 + 0x18) - *(float *)(param_1 + 8)) & _LC37);
  if (fVar6 <= fVar7) {
    lVar5 = 4;
    if (fVar7 <= fVar8) {
      lVar5 = 8;
    }
    local_58 = 1;
    if (fVar7 <= fVar8) {
      local_58 = 2;
    }
  }
  else {
    uVar3 = (ulong)(fVar6 <= fVar8);
    local_58 = uVar3 * 2;
    lVar5 = uVar3 * 8;
  }
  uVar3 = *(ulong *)(param_1 + 0x40);
  local_50 = _LC39 / *(float *)((long)&local_28 + lVar5);
  local_40 = 1;
  local_48 = 0;
  pfVar4 = (float *)(uVar3 * 0x40 + *(long *)this);
  local_5c = pfVar4[3];
  uStack_20 = &local_5c;
  local_18 = &local_58;
  uVar1 = *(ulong *)(param_1 + 0x48);
  local_28 = this;
  if (uVar1 - uVar3 < 0x400) {
    if (uVar3 < uVar1) {
      lVar2 = 0;
      do {
        if (((uint)pfVar4[8] & 8) == 0) {
          local_38[3] = pfVar4[7] - pfVar4[3];
          local_38[0] = pfVar4[4] - *pfVar4;
          local_38[1] = pfVar4[5] - pfVar4[1];
          local_38[2] = pfVar4[6] - pfVar4[2];
          if (__LC12 < *(float *)((long)local_38 + lVar5) * local_50) {
            lVar2 = lVar2 + 3;
          }
        }
        pfVar4 = pfVar4 + 0x10;
      } while ((float *)(*(long *)this + uVar1 * 0x40) != pfVar4);
    }
    else {
      lVar2 = 0;
    }
  }
  else {
    lVar2 = parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,bool>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(std::pair<unsigned_long,bool>const&,std::pair<unsigned_long,bool>const&)_2_>
                      ((uVar1 - uVar3) + 0x1ff >> 9,uVar3,uVar1,0x200,(pair_conflict *)&local_48,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_28,
                       (_lambda_std__pair<unsigned_long,bool>_const__std__pair<unsigned_long,bool>_const___2_
                        *)local_38);
  }
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar2;
}



/* embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> >
   embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long,
   unsigned long, unsigned long, unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2} const&) */

embree * __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)_2_>
          (embree *this,ulong param_1,ulong param_2,ulong param_3,ulong param_4,
          BinInfoT_conflict *param_5,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const___2_
          *param_7)

{
  BinInfoT_conflict *pBVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  ulong uVar12;
  embree *peVar13;
  undefined8 *puVar14;
  undefined1 (*pauVar15) [16];
  embree *peVar16;
  undefined8 *puVar17;
  undefined8 *puVar18;
  long lVar19;
  undefined1 (*pauVar20) [16];
  undefined1 (*pauVar21) [16];
  ulong uVar22;
  BinInfoT_conflict *pBVar23;
  embree *peVar24;
  undefined1 (*pauVar25) [16];
  undefined1 (*pauVar26) [16];
  undefined8 *puVar27;
  undefined1 (*pauVar28) [16];
  undefined1 (*pauVar29) [16];
  long in_FS_OFFSET;
  byte bVar30;
  undefined1 auVar31 [16];
  undefined1 (*local_2b38) [16];
  ulong local_2b18;
  ulong local_2b10;
  ulong local_2b08;
  ulong **local_2b00;
  ulong **local_2af8;
  ulong *local_2af0;
  ulong *local_2ae8;
  ulong *local_2ae0;
  undefined1 (*local_2ad8) [16];
  _lambda_embree__range<unsigned_long>_const___1_ *local_2ad0;
  undefined1 local_2ac0 [96];
  undefined8 local_2a60 [372];
  undefined8 local_1ec0;
  int aiStack_1eb8 [22];
  undefined8 local_1e60 [51];
  undefined8 local_1cc8;
  undefined1 local_1cc0 [7168];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  bVar30 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2b18 = param_3;
  local_2b10 = param_2;
  local_2b08 = param_1;
  uVar12 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2b08) {
    local_2b08 = 0x200;
  }
  if (uVar12 < local_2b08) {
    local_2b08 = uVar12;
  }
  local_b8 = local_2b08;
  if (local_2b08 * 0xe00 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_1cc0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2b08 * 0xe00,0x40);
  }
  local_2b38 = (undefined1 (*) [16])local_1cc0;
  local_2af0 = &local_2b10;
  local_2ad0 = param_6;
  local_2ae8 = &local_2b18;
  local_2ae0 = &local_2b08;
  local_2ad8 = local_2b38;
  if (local_2b08 != 0) {
    local_2af8 = &local_2af0;
    local_2b00 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse28BinInfoTILm32ENS4_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_10TriangleMvILi4EEEE8BuildRefENS_4BBoxINS_6Vec3faEEEEEZNS4_26HeuristicArrayOpenMergeSAHIZNSA_5buildEvEUlRSB_PSB_E5_SB_Lm32EE20parallel_object_findERKNS4_16PrimInfoExtRangeEmEUlRKNS_5rangeImEEE_ZNSK_20parallel_object_findESN_mEUlRKSF_SU_E0_EET0_T_SX_SX_SX_RKSW_RKT1_RKT2_EUlmE_EEvSX_SZ_EUlSR_E_EEvSX_SX_SX_SZ_PNS0_16TaskGroupContextE
              (0,local_2b08,1,&local_2af8,&local_2b00);
    embree::TaskScheduler::wait();
    if (local_2b00 != (ulong **)0x0) {
      local_2af8 = local_2b00;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_2af8);
      goto LAB_0012768d;
    }
  }
  uVar12 = local_2b08;
  peVar16 = this + 0x60;
  pBVar1 = param_5 + 0xc00;
  do {
    peVar24 = peVar16 + -0x60;
    pBVar23 = param_5;
    do {
      peVar13 = peVar24;
      uVar8 = *(undefined8 *)(pBVar23 + 8);
      *(undefined8 *)peVar13 = *(undefined8 *)pBVar23;
      *(undefined8 *)(peVar13 + 8) = uVar8;
      uVar8 = *(undefined8 *)(pBVar23 + 0x18);
      *(undefined8 *)(peVar13 + 0x10) = *(undefined8 *)(pBVar23 + 0x10);
      *(undefined8 *)(peVar13 + 0x18) = uVar8;
      peVar24 = peVar13 + 0x20;
      pBVar23 = pBVar23 + 0x20;
    } while (peVar13 + 0x20 != peVar16);
    param_5 = param_5 + 0x60;
    peVar16 = peVar13 + 0x80;
  } while (param_5 != pBVar1);
  puVar14 = (undefined8 *)memmove(this + 0xc00,param_5,0x200);
  if (uVar12 != 0) {
    puVar27 = local_2a60;
    peVar16 = this;
    pauVar29 = local_c0;
    do {
      do {
        puVar17 = puVar27 + -0xc;
        peVar24 = peVar16;
        do {
          uVar8 = *(undefined8 *)peVar24;
          uVar9 = *(undefined8 *)(peVar24 + 8);
          uVar10 = *(undefined8 *)(peVar24 + 0x10);
          uVar11 = *(undefined8 *)(peVar24 + 0x18);
          puVar18 = puVar17 + 4;
          peVar24 = peVar24 + 0x20;
          *puVar17 = uVar8;
          puVar17[1] = uVar9;
          puVar17[2] = uVar10;
          puVar17[3] = uVar11;
          puVar17 = puVar18;
        } while (puVar27 != puVar18);
        puVar27 = puVar27 + 0xc;
        peVar16 = peVar16 + 0x60;
      } while (local_1e60 != puVar27);
      puVar27 = puVar14;
      pauVar21 = (undefined1 (*) [16])&local_1ec0;
      for (lVar19 = 0x40; lVar19 != 0; lVar19 = lVar19 + -1) {
        *(undefined8 *)*pauVar21 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        pauVar21 = (undefined1 (*) [16])(pauVar21[-(ulong)bVar30] + 8);
      }
      lVar19 = **(long **)param_7;
      pauVar21 = (undefined1 (*) [16])local_2ac0;
      peVar16 = this;
      if (lVar19 != 0) {
        pauVar15 = (undefined1 (*) [16])local_2ac0;
        pauVar20 = pauVar29;
        pauVar25 = pauVar29;
        pauVar28 = (undefined1 (*) [16])&local_1ec0;
        do {
          iVar2 = *(int *)(*pauVar28 + 4);
          iVar3 = *(int *)(*pauVar28 + 8);
          iVar4 = *(int *)(*pauVar28 + 0xc);
          pauVar26 = pauVar25 + 1;
          iVar5 = *(int *)(pauVar25[0xc0] + 4);
          iVar6 = *(int *)(pauVar25[0xc0] + 8);
          iVar7 = *(int *)(pauVar25[0xc0] + 0xc);
          *(int *)*pauVar28 = *(int *)*pauVar28 + *(int *)pauVar25[0xc0];
          *(int *)(*pauVar28 + 4) = iVar2 + iVar5;
          *(int *)(*pauVar28 + 8) = iVar3 + iVar6;
          *(int *)(*pauVar28 + 0xc) = iVar4 + iVar7;
          auVar31 = minps(*pauVar15,*pauVar20);
          *pauVar15 = auVar31;
          auVar31 = maxps(pauVar15[1],pauVar20[1]);
          pauVar15[1] = auVar31;
          auVar31 = minps(pauVar15[2],pauVar20[2]);
          pauVar15[2] = auVar31;
          auVar31 = maxps(pauVar15[3],pauVar20[3]);
          pauVar15[3] = auVar31;
          auVar31 = minps(pauVar15[4],pauVar20[4]);
          pauVar15[4] = auVar31;
          auVar31 = maxps(pauVar15[5],pauVar20[5]);
          pauVar15[5] = auVar31;
          pauVar15 = pauVar15 + 6;
          pauVar20 = pauVar20 + 6;
          pauVar25 = pauVar26;
          pauVar28 = pauVar28 + 1;
        } while (pauVar26 != pauVar29 + lVar19);
      }
      do {
        lVar19 = 0;
        do {
          uVar8 = *(undefined8 *)((long)(*pauVar21 + lVar19) + 8);
          uVar9 = *(undefined8 *)(pauVar21[1] + lVar19);
          uVar10 = *(undefined8 *)((long)(pauVar21[1] + lVar19) + 8);
          *(undefined8 *)(peVar16 + lVar19) = *(undefined8 *)(*pauVar21 + lVar19);
          *(undefined8 *)(peVar16 + lVar19 + 8) = uVar8;
          *(undefined8 *)(peVar16 + lVar19 + 0x10) = uVar9;
          *(undefined8 *)(peVar16 + lVar19 + 0x10 + 8) = uVar10;
          lVar19 = lVar19 + 0x20;
        } while (lVar19 != 0x60);
        pauVar21 = pauVar21 + 6;
        peVar16 = peVar16 + 0x60;
      } while (pauVar21 != (undefined1 (*) [16])&local_1ec0);
      pauVar29 = pauVar29 + 0xe0;
      *puVar14 = local_1ec0;
      *(undefined8 *)(this + 0xdf8) = local_1cc8;
      lVar19 = (long)puVar14 - (long)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      puVar27 = (undefined8 *)((long)&local_1ec0 - lVar19);
      puVar17 = (undefined8 *)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      for (uVar22 = (ulong)((int)lVar19 + 0x200U >> 3); uVar22 != 0; uVar22 = uVar22 - 1) {
        *puVar17 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        puVar17 = puVar17 + (ulong)bVar30 * -2 + 1;
      }
      puVar27 = local_2a60;
      peVar16 = this;
    } while (local_c0 + uVar12 * 0xe0 != pauVar29);
  }
  if (local_c0 != local_2b38) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
LAB_0012768d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long) */

PrimInfoExtRange *
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::parallel_object_find(PrimInfoExtRange *param_1,ulong param_2)

{
  undefined1 (*pauVar1) [16];
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined1 auVar9 [12];
  long lVar10;
  long lVar11;
  BinInfoT_conflict *pBVar12;
  long lVar13;
  BinInfoT_conflict *pBVar14;
  ulong uVar15;
  int in_ECX;
  BinInfoT_conflict *pBVar16;
  float *pfVar17;
  long in_RDX;
  long lVar18;
  ulong uVar19;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var20;
  ulong uVar21;
  long in_FS_OFFSET;
  byte bVar22;
  undefined1 auVar23 [16];
  uint uVar24;
  undefined8 uVar25;
  uint uVar27;
  uint uVar28;
  undefined1 auVar26 [16];
  undefined8 uVar29;
  uint uVar30;
  int iVar31;
  int iVar33;
  int iVar34;
  undefined1 auVar32 [16];
  int iVar35;
  uint uVar36;
  uint uVar37;
  uint uVar38;
  uint uVar39;
  undefined1 auVar40 [16];
  undefined1 auVar41 [8];
  undefined8 uVar42;
  undefined1 auVar43 [16];
  float fVar45;
  float fVar46;
  undefined1 auVar44 [16];
  undefined1 auVar47 [16];
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  uint uVar52;
  uint uVar53;
  uint uVar54;
  uint uVar55;
  undefined1 local_1f60 [16];
  undefined1 local_1f50 [16];
  undefined1 local_1f40 [16];
  undefined1 local_1f30 [16];
  undefined1 local_1f20 [8];
  undefined8 uStack_1f18;
  undefined1 local_1f10 [16];
  ulong *local_1ef8;
  ulong local_1ef0;
  ulong *local_1ee8;
  ulong local_1ee0;
  ulong local_1ed8;
  undefined1 local_1ed0 [16];
  undefined1 local_1ec0 [16];
  ulong local_1eb0 [2];
  float local_1ea0;
  float fStack_1e9c;
  float fStack_1e98;
  float fStack_1e94;
  float local_1e90;
  uint uStack_1e8c;
  uint uStack_1e88;
  uint uStack_1e84;
  float local_1e80 [128];
  BinInfoT_conflict local_1c80 [3056];
  int local_1090 [4];
  BinInfoT_conflict local_1080 [4];
  int aiStack_107c [127];
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [4];
  int aiStack_e7c [767];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [568];
  long local_48;
  
  bVar22 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pBVar16 = local_1c80;
  pBVar14 = local_1080;
  do {
    *(float *)(pBVar16 + 0x40) = _LC9;
    *(float *)(pBVar16 + 0x44) = _LC9;
    *(float *)(pBVar16 + 0x48) = _LC9;
    *(float *)(pBVar16 + 0x4c) = _LC9;
    pBVar12 = pBVar16 + 0x60;
    *(undefined4 *)(pBVar16 + 0x50) = _LC11;
    *(undefined4 *)(pBVar16 + 0x54) = _LC11;
    *(undefined4 *)(pBVar16 + 0x58) = _LC11;
    *(undefined4 *)(pBVar16 + 0x5c) = _LC11;
    *(float *)(pBVar16 + 0x20) = _LC9;
    *(float *)(pBVar16 + 0x24) = _LC9;
    *(float *)(pBVar16 + 0x28) = _LC9;
    *(float *)(pBVar16 + 0x2c) = _LC9;
    *(undefined4 *)(pBVar16 + 0x30) = _LC11;
    *(undefined4 *)(pBVar16 + 0x34) = _LC11;
    *(undefined4 *)(pBVar16 + 0x38) = _LC11;
    *(undefined4 *)(pBVar16 + 0x3c) = _LC11;
    *(float *)pBVar16 = _LC9;
    *(float *)(pBVar16 + 4) = _LC9;
    *(float *)(pBVar16 + 8) = _LC9;
    *(float *)(pBVar16 + 0xc) = _LC9;
    *(undefined4 *)(pBVar16 + 0x10) = _LC11;
    *(undefined4 *)(pBVar16 + 0x14) = _LC11;
    *(undefined4 *)(pBVar16 + 0x18) = _LC11;
    *(undefined4 *)(pBVar16 + 0x1c) = _LC11;
    *(undefined1 (*) [16])pBVar14 = (undefined1  [16])0x0;
    pBVar16 = pBVar12;
    pBVar14 = pBVar14 + 0x10;
  } while (local_1080 != pBVar12);
  pauVar1 = (undefined1 (*) [16])(in_RDX + 0x20);
  local_1ea0 = *(float *)*pauVar1;
  fStack_1e9c = *(float *)(in_RDX + 0x24);
  fStack_1e98 = *(float *)(in_RDX + 0x28);
  auVar9 = *(undefined1 (*) [12])*pauVar1;
  fStack_1e94 = *(float *)(in_RDX + 0x2c);
  auVar40 = *pauVar1;
  local_1ef8 = local_1eb0;
  uVar21 = *(ulong *)(in_RDX + 0x48);
  local_1eb0[0] = 0x20;
  auVar26._0_4_ = *(float *)(in_RDX + 0x30) - local_1ea0;
  auVar26._4_4_ = *(float *)(in_RDX + 0x34) - fStack_1e9c;
  auVar26._8_4_ = *(float *)(in_RDX + 0x38) - fStack_1e98;
  auVar26._12_4_ = *(float *)(in_RDX + 0x3c) - fStack_1e94;
  uVar15 = *(ulong *)(in_RDX + 0x40);
  auVar32._4_4_ = _LC23;
  auVar32._0_4_ = _LC23;
  auVar32._8_4_ = _LC23;
  auVar32._12_4_ = _LC23;
  auVar32 = maxps(auVar32,auVar26);
  uVar19 = (uVar21 + 0x1ff) - uVar15 >> 9;
  auVar43._4_4_ = _LC25;
  auVar43._0_4_ = _LC25;
  auVar43._8_4_ = _LC25;
  auVar43._12_4_ = _LC25;
  auVar26 = divps(auVar43,auVar32);
  local_1e90 = (float)(auVar26._0_4_ & -(uint)(_LC23 < auVar32._0_4_));
  uStack_1e8c = auVar26._4_4_ & -(uint)(_LC23 < auVar32._4_4_);
  uStack_1e88 = auVar26._8_4_ & -(uint)(_LC23 < auVar32._8_4_);
  uStack_1e84 = auVar26._12_4_ & -(uint)(_LC23 < auVar32._12_4_);
  local_1f30._4_4_ = uStack_1e8c;
  local_1f30._0_4_ = local_1e90;
  local_1f30._8_4_ = uStack_1e88;
  local_1f30._12_4_ = uStack_1e84;
  local_1ef0 = param_2;
  local_1ee8 = local_1ef8;
  if (uVar19 == 1) {
    local_1ee0 = uVar15;
    local_1ed8 = uVar21;
    parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
    {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_e80,(range *)&local_1ef0);
    auVar23._4_12_ = _UNK_001336d4;
    auVar23._0_4_ = _LC11;
    lVar18 = 0x1f;
    local_1f60._4_12_ = _UNK_001336c4;
    local_1f60._0_4_ = _LC9;
    local_1f20 = auVar9._0_8_;
    uStack_1f18 = auVar40._8_8_;
    uVar21 = 0x20;
    auVar41 = local_1f20;
    uVar42 = uStack_1f18;
    uVar25 = local_1f30._0_8_;
    uVar29 = local_1f30._8_8_;
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)_2_>
              ((embree *)local_e80,uVar19,uVar15,uVar21,0x200,local_1c80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1ef0,
               (_lambda_embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_1ef8);
    auVar41 = (undefined1  [8])CONCAT44(fStack_1e9c,local_1ea0);
    uVar42 = CONCAT44(fStack_1e94,fStack_1e98);
    uVar25 = CONCAT44(uStack_1e8c,local_1e90);
    uVar29 = CONCAT44(uStack_1e84,uStack_1e88);
    local_1f60._4_12_ = _UNK_001336c4;
    local_1f60._0_4_ = _LC9;
    auVar23._4_12_ = _UNK_001336d4;
    auVar23._0_4_ = _LC11;
    lVar18 = local_1eb0[0] - 1;
    uVar21 = local_1eb0[0];
  }
  pBVar16 = local_1c80;
  p_Var20 = local_e80;
  do {
    lVar13 = 0;
    do {
      uVar6 = *(undefined8 *)(p_Var20 + lVar13 + 8);
      uVar7 = *(undefined8 *)(p_Var20 + lVar13 + 0x10);
      uVar8 = *(undefined8 *)(p_Var20 + lVar13 + 0x10 + 8);
      *(undefined8 *)(pBVar16 + lVar13) = *(undefined8 *)(p_Var20 + lVar13);
      *(undefined8 *)(pBVar16 + lVar13 + 8) = uVar6;
      *(undefined8 *)(pBVar16 + lVar13 + 0x10) = uVar7;
      *(undefined8 *)(pBVar16 + lVar13 + 0x10 + 8) = uVar8;
      lVar13 = lVar13 + 0x20;
    } while (lVar13 != 0x60);
    p_Var20 = p_Var20 + 0x60;
    pBVar16 = pBVar16 + 0x60;
  } while (p_Var20 != local_280);
  pBVar16 = local_1080;
  for (lVar13 = 0x40; lVar13 != 0; lVar13 = lVar13 + -1) {
    *(undefined8 *)pBVar16 = *(undefined8 *)p_Var20;
    p_Var20 = p_Var20 + ((ulong)bVar22 * -2 + 1) * 8;
    pBVar16 = pBVar16 + (ulong)bVar22 * -0x10 + 8;
  }
  if (lVar18 == 0) {
    local_1ed0 = local_1f60;
    local_1ec0 = (undefined1  [16])0x0;
  }
  else {
    lVar13 = lVar18 * 0x10;
    iVar31 = 0;
    iVar33 = 0;
    iVar34 = 0;
    iVar35 = 0;
    pBVar16 = local_1c80 + lVar18 * 0x60;
    pfVar17 = local_1e80 + lVar18 * 4;
    auVar40 = local_1f60;
    auVar26 = auVar23;
    auVar43 = local_1f60;
    auVar32 = auVar23;
    auVar44 = local_1f60;
    auVar47 = auVar23;
    do {
      auVar26 = maxps(auVar26,*(undefined1 (*) [16])(pBVar16 + 0x10));
      auVar40 = minps(auVar40,*(undefined1 (*) [16])pBVar16);
      pBVar14 = pBVar16 + -0x60;
      iVar2 = *(int *)(local_1080 + lVar13);
      iVar3 = *(int *)((long)aiStack_107c + lVar13);
      iVar4 = *(int *)((long)aiStack_107c + lVar13 + 4);
      iVar5 = *(int *)((long)aiStack_107c + lVar13 + 8);
      auVar32 = maxps(auVar32,*(undefined1 (*) [16])(pBVar16 + 0x30));
      pfVar17[3] = 0.0;
      auVar43 = minps(auVar43,*(undefined1 (*) [16])(pBVar16 + 0x20));
      auVar47 = maxps(auVar47,*(undefined1 (*) [16])(pBVar16 + 0x50));
      iVar31 = iVar2 + iVar31;
      iVar33 = iVar3 + iVar33;
      iVar34 = iVar4 + iVar34;
      iVar35 = iVar5 + iVar35;
      auVar44 = minps(auVar44,*(undefined1 (*) [16])(pBVar16 + 0x40));
      fVar48 = auVar26._4_4_ - auVar40._4_4_;
      fVar50 = auVar26._8_4_ - auVar40._8_4_;
      *(int *)(local_e80 + lVar13) = iVar31;
      *(int *)((long)aiStack_e7c + lVar13) = iVar33;
      *(int *)((long)aiStack_e7c + lVar13 + 4) = iVar34;
      *(int *)((long)aiStack_e7c + lVar13 + 8) = iVar35;
      lVar13 = lVar13 + -0x10;
      fVar49 = auVar32._4_4_ - auVar43._4_4_;
      fVar51 = auVar32._8_4_ - auVar43._8_4_;
      *pfVar17 = (fVar48 + fVar50) * (auVar26._0_4_ - auVar40._0_4_) + fVar48 * fVar50;
      fVar48 = auVar47._4_4_ - auVar44._4_4_;
      fVar50 = auVar47._8_4_ - auVar44._8_4_;
      pfVar17[1] = (fVar49 + fVar51) * (auVar32._0_4_ - auVar43._0_4_) + fVar49 * fVar51;
      pfVar17[2] = (fVar48 + fVar50) * (auVar47._0_4_ - auVar44._0_4_) + fVar48 * fVar50;
      pBVar16 = pBVar14;
      pfVar17 = pfVar17 + -4;
    } while (local_1c80 != pBVar14);
    local_1ed0 = local_1f60;
    local_1ec0 = (undefined1  [16])0x0;
    iVar31 = (1 << ((byte)in_ECX & 0x1f)) + -1;
    if (1 < uVar21) {
      lVar18 = 0x10;
      local_1f10 = (undefined1  [16])0x0;
      local_1f30 = (undefined1  [16])0x0;
      auVar40 = auVar23;
      auVar26 = auVar23;
      uVar52 = __LC30;
      uVar53 = _UNK_001336f4;
      uVar54 = _UNK_001336f8;
      uVar55 = _UNK_001336fc;
      local_1f50 = local_1f60;
      local_1f40 = local_1f60;
      _local_1f20 = local_1f60;
      do {
        auVar26 = maxps(auVar26,*(undefined1 (*) [16])(pBVar14 + 0x30));
        auVar23 = maxps(auVar23,*(undefined1 (*) [16])(pBVar14 + 0x50));
        local_1f50 = minps(local_1f50,*(undefined1 (*) [16])(pBVar14 + 0x20));
        local_1f60 = minps(local_1f60,*(undefined1 (*) [16])(pBVar14 + 0x40));
        auVar40 = maxps(auVar40,*(undefined1 (*) [16])(pBVar14 + 0x10));
        fVar50 = auVar26._4_4_ - local_1f50._4_4_;
        fVar51 = auVar26._8_4_ - local_1f50._8_4_;
        local_1f40 = minps(local_1f40,*(undefined1 (*) [16])pBVar14);
        fVar48 = auVar23._4_4_ - local_1f60._4_4_;
        fVar49 = auVar23._8_4_ - local_1f60._8_4_;
        local_1f30._0_4_ = local_1f30._0_4_ + *(int *)((long)local_1090 + lVar18);
        local_1f30._4_4_ = local_1f30._4_4_ + *(int *)((long)local_1090 + lVar18 + 4);
        local_1f30._8_4_ = local_1f30._8_4_ + *(int *)((long)local_1090 + lVar18 + 8);
        local_1f30._12_4_ = local_1f30._12_4_ + *(int *)((long)local_1090 + lVar18 + 0xc);
        fVar45 = auVar40._4_4_ - local_1f40._4_4_;
        fVar46 = auVar40._8_4_ - local_1f40._8_4_;
        fVar48 = (fVar48 + fVar49) * (auVar23._0_4_ - local_1f60._0_4_) + fVar48 * fVar49;
        uVar24 = (uint)(local_1f30._0_4_ + iVar31) >> in_ECX;
        uVar27 = (uint)(local_1f30._4_4_ + iVar31) >> in_ECX;
        uVar28 = (uint)(local_1f30._8_4_ + iVar31) >> in_ECX;
        uVar30 = (uint)(local_1f30._12_4_ + iVar31) >> in_ECX;
        uVar36 = (uint)(iVar31 + *(int *)(local_e80 + lVar18)) >> in_ECX;
        uVar37 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18)) >> in_ECX;
        uVar38 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18 + 4)) >> in_ECX;
        uVar39 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18 + 8)) >> in_ECX;
        pfVar17 = (float *)((long)local_1e80 + lVar18);
        lVar13 = lVar18 + 4;
        lVar10 = lVar18 + 8;
        lVar11 = lVar18 + 0xc;
        lVar18 = lVar18 + 0x10;
        fVar49 = ((fVar45 + fVar46) * (auVar40._0_4_ - local_1f40._0_4_) + fVar45 * fVar46) *
                 ((float)(int)(uVar24 & _LC37) + (float)((int)uVar24 >> 0x1f & __LC29)) +
                 ((float)(int)(uVar36 & _LC37) + (float)((int)uVar36 >> 0x1f & __LC29)) * *pfVar17;
        fVar50 = ((fVar50 + fVar51) * (auVar26._0_4_ - local_1f50._0_4_) + fVar50 * fVar51) *
                 ((float)(int)(uVar27 & _UNK_00133714) +
                 (float)((int)uVar27 >> 0x1f & _UNK_00133724)) +
                 ((float)(int)(uVar37 & _UNK_00133714) +
                 (float)((int)uVar37 >> 0x1f & _UNK_00133724)) *
                 *(float *)((long)local_1e80 + lVar13);
        fVar51 = fVar48 * ((float)(int)(uVar28 & _UNK_00133718) +
                          (float)((int)uVar28 >> 0x1f & _UNK_00133728)) +
                 ((float)(int)(uVar38 & _UNK_00133718) +
                 (float)((int)uVar38 >> 0x1f & _UNK_00133728)) *
                 *(float *)((long)local_1e80 + lVar10);
        fVar48 = fVar48 * ((float)(int)(uVar30 & _UNK_0013371c) +
                          (float)((int)uVar30 >> 0x1f & _UNK_0013372c)) +
                 ((float)(int)(uVar39 & _UNK_0013371c) +
                 (float)((int)uVar39 >> 0x1f & _UNK_0013372c)) *
                 *(float *)((long)local_1e80 + lVar11);
        uVar24 = -(uint)(fVar49 < (float)local_1f20._0_4_);
        uVar27 = -(uint)(fVar50 < (float)local_1f20._4_4_);
        uVar28 = -(uint)(fVar51 < (float)uStack_1f18);
        uVar30 = -(uint)(fVar48 < uStack_1f18._4_4_);
        local_1f10._0_4_ = uVar52 & uVar24 | ~uVar24 & local_1f10._0_4_;
        local_1f10._4_4_ = uVar53 & uVar27 | ~uVar27 & local_1f10._4_4_;
        local_1f10._8_4_ = uVar54 & uVar28 | ~uVar28 & local_1f10._8_4_;
        local_1f10._12_4_ = uVar55 & uVar30 | ~uVar30 & local_1f10._12_4_;
        local_1f20._0_4_ = (uint)fVar49 & uVar24 | ~uVar24 & local_1f20._0_4_;
        local_1f20._4_4_ = (uint)fVar50 & uVar27 | ~uVar27 & local_1f20._4_4_;
        uStack_1f18._0_4_ = (float)((uint)fVar51 & uVar28 | ~uVar28 & (uint)(float)uStack_1f18);
        uStack_1f18._4_4_ = (float)((uint)fVar48 & uVar30 | ~uVar30 & (uint)uStack_1f18._4_4_);
        pBVar14 = pBVar14 + 0x60;
        uVar52 = uVar52 + __LC30;
        uVar53 = uVar53 + _UNK_001336f4;
        uVar54 = uVar54 + _UNK_001336f8;
        uVar55 = uVar55 + _UNK_001336fc;
      } while (lVar18 != uVar21 << 4);
      local_1ec0._4_4_ = local_1f10._4_4_;
      local_1ec0._0_4_ = local_1f10._0_4_;
      local_1ec0._8_4_ = local_1f10._8_4_;
      local_1ec0._12_4_ = local_1f10._12_4_;
      local_1ed0._4_4_ = local_1f20._4_4_;
      local_1ed0._0_4_ = local_1f20._0_4_;
      local_1ed0._8_4_ = (float)uStack_1f18;
      local_1ed0._12_4_ = uStack_1f18._4_4_;
    }
  }
  uVar15 = 0;
  iVar31 = 0;
  uVar19 = 0xffffffff;
  fVar48 = _LC9;
  do {
    if (((&local_1e90)[uVar15] != 0.0) && (*(float *)(local_1ed0 + uVar15 * 4) < fVar48)) {
      if (*(int *)(local_1ec0 + uVar15 * 4) != 0) {
        uVar19 = uVar15 & 0xffffffff;
        fVar48 = *(float *)(local_1ed0 + uVar15 * 4);
        iVar31 = *(int *)(local_1ec0 + uVar15 * 4);
      }
    }
    uVar15 = uVar15 + 1;
  } while (uVar15 != 3);
  *(int *)(param_1 + 4) = (int)uVar19;
  *(int *)(param_1 + 8) = iVar31;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(ulong *)(param_1 + 0x10) = uVar21;
  *(float *)param_1 = fVar48;
  *(undefined1 (*) [8])(param_1 + 0x20) = auVar41;
  *(undefined8 *)(param_1 + 0x28) = uVar42;
  *(undefined8 *)(param_1 + 0x30) = uVar25;
  *(undefined8 *)(param_1 + 0x38) = uVar29;
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   32ul>::find(embree::sse2::PrimInfoExtRange&, unsigned long) */

HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
* __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
::find(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
       *this,PrimInfoExtRange *param_1,ulong param_2)

{
  undefined1 (*pauVar1) [16];
  undefined1 auVar2 [16];
  long lVar3;
  bool bVar4;
  ulong uVar5;
  uint uVar6;
  ulong uVar7;
  undefined1 (*pauVar8) [16];
  char extraout_DL;
  ulong uVar9;
  long lVar10;
  ulong uVar11;
  long lVar12;
  long in_FS_OFFSET;
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  
  uVar5 = *(ulong *)(param_2 + 0x40);
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  uVar7 = *(ulong *)(param_2 + 0x48);
  uVar9 = uVar7 - uVar5;
  if (uVar9 < 2) {
    *(undefined8 *)(this + 8) = 0;
    *(undefined8 *)this = 0xffffffff7f800000;
    goto LAB_00127dcb;
  }
  bVar4 = *(ulong *)(param_2 + 0x50) != uVar7 && uVar9 < 5;
  if (bVar4) {
    uVar9 = uVar5 + 1;
    lVar12 = uVar5 * 0x40;
    uVar11 = uVar9;
    if (uVar5 < uVar7 - 1) {
      do {
        if (uVar9 < uVar7) {
          pauVar8 = (undefined1 (*) [16])(uVar5 * 0x40 + *(long *)param_1);
          lVar10 = *(long *)param_1 + lVar12;
          pauVar1 = pauVar8 + 1;
          auVar2 = *pauVar8;
          uVar5 = uVar9;
          do {
            auVar15 = minps(*pauVar1,*(undefined1 (*) [16])(lVar10 + 0x50));
            auVar13 = maxps(auVar2,*(undefined1 (*) [16])(lVar10 + 0x40));
            auVar14._4_4_ = -(uint)(auVar13._4_4_ <= auVar15._4_4_);
            auVar14._0_4_ = -(uint)(auVar13._0_4_ <= auVar15._0_4_);
            auVar14._8_4_ = -(uint)(auVar13._8_4_ <= auVar15._8_4_);
            auVar14._12_4_ = -(uint)(auVar13._12_4_ <= auVar15._12_4_);
            uVar6 = movmskps((int)pauVar8,auVar14);
            pauVar8 = (undefined1 (*) [16])(ulong)(~uVar6 & 7);
            if ((~uVar6 & 7) == 0) {
              bVar4 = false;
              break;
            }
            uVar5 = uVar5 + 1;
            lVar10 = lVar10 + 0x40;
          } while (uVar5 < uVar7);
        }
        if (uVar11 == uVar7 - 1) goto LAB_00127ded;
        uVar5 = uVar11;
        uVar11 = uVar11 + 1;
      } while( true );
    }
    goto LAB_00127df2;
  }
  if (*(ulong *)(param_2 + 0x50) != uVar7) goto LAB_00127e30;
LAB_00127db1:
  if (0x3ff < uVar9) {
    parallel_object_find((PrimInfoExtRange *)this,(ulong)param_1);
    goto LAB_00127dcb;
  }
  goto LAB_00127e00;
LAB_00127ded:
  if (!bVar4) {
LAB_00127e30:
    uVar5 = getProperties((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                           *)param_1,(PrimInfoExtRange *)param_2);
    if (extraout_DL == '\0') {
      lVar12 = *(long *)(param_2 + 0x50);
      lVar10 = *(long *)(param_2 + 0x48);
      if (lVar12 == lVar10) {
        uVar9 = lVar12 - *(long *)(param_2 + 0x40);
      }
      else {
        uVar7 = lVar12 - lVar10;
        if (uVar5 <= uVar7) {
          openNodesBasedOnExtend
                    ((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                      *)param_1,(PrimInfoExtRange *)param_2);
          lVar10 = *(long *)(param_2 + 0x48);
          uVar7 = *(long *)(param_2 + 0x50) - lVar10;
        }
        if (uVar7 < *(long *)(param_1 + 0x10) - 1U) {
          *(long *)(param_2 + 0x50) = lVar10;
        }
        uVar9 = lVar10 - *(long *)(param_2 + 0x40);
      }
    }
    else {
      *(long *)(param_2 + 0x50) = *(long *)(param_2 + 0x48);
      uVar9 = *(long *)(param_2 + 0x48) - *(long *)(param_2 + 0x40);
    }
    goto LAB_00127db1;
  }
LAB_00127df2:
  *(ulong *)(param_2 + 0x50) = uVar7;
LAB_00127e00:
  sequential_object_find((PrimInfoExtRange *)this,(ulong)param_1);
LAB_00127dcb:
  if (lVar3 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator, bool) */

undefined8 *
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(unsigned_long)#8}>
::recurse(ulong *param_1,long *param_2,char param_3)

{
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  *pHVar1;
  long lVar2;
  undefined8 *puVar3;
  float *pfVar4;
  long *plVar5;
  undefined8 uVar6;
  MutexSys *this;
  long *plVar7;
  ulong uVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  ulong uVar11;
  long lVar12;
  long lVar13;
  ulong uVar14;
  long lVar15;
  long in_FS_OFFSET;
  float fVar16;
  float fVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  float fVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  FastAllocator *in_stack_00000008;
  long *in_stack_00000010;
  long *local_9d8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  *pHStack_9b0;
  long local_9a8;
  undefined8 uStack_9a0;
  undefined8 local_998;
  undefined8 uStack_990;
  undefined8 local_988;
  undefined8 uStack_980;
  undefined8 local_978;
  undefined8 uStack_970;
  long local_968;
  long local_960;
  undefined8 local_958;
  undefined8 local_948;
  undefined8 uStack_940;
  undefined4 local_938;
  undefined4 uStack_934;
  undefined4 uStack_930;
  undefined4 uStack_92c;
  undefined8 local_928;
  undefined8 uStack_920;
  undefined8 local_918;
  undefined8 uStack_910;
  undefined8 local_908;
  undefined8 local_900;
  undefined8 local_8f8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  *local_8e8;
  undefined1 local_8e0;
  undefined4 local_8d8;
  undefined4 uStack_8d4;
  undefined4 uStack_8d0;
  undefined4 uStack_8cc;
  float local_8c8;
  float fStack_8c4;
  float fStack_8c0;
  float fStack_8bc;
  undefined4 local_8b8;
  undefined4 uStack_8b4;
  undefined4 uStack_8b0;
  undefined4 uStack_8ac;
  float local_8a8;
  float fStack_8a4;
  float fStack_8a0;
  float fStack_89c;
  long local_898;
  long lStack_890;
  long local_888;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  *local_878;
  long *local_870;
  undefined8 local_868;
  undefined4 uStack_860;
  undefined4 uStack_85c;
  float local_858;
  float fStack_854;
  float fStack_850;
  float fStack_84c;
  undefined4 local_848;
  undefined4 uStack_844;
  undefined4 uStack_840;
  undefined4 uStack_83c;
  float local_838;
  float fStack_834;
  float fStack_830;
  float fStack_82c;
  long local_828;
  long lStack_820;
  long local_818;
  float local_808 [16];
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  local_7c8 [128];
  long local_748;
  undefined1 local_740 [8];
  long local_738 [4];
  undefined8 local_718;
  undefined8 uStack_710;
  undefined8 local_708;
  undefined8 uStack_700;
  long local_6f8;
  long local_6f0;
  undefined8 local_6e8;
  long local_6d8;
  undefined1 local_6d0;
  undefined8 local_6c8;
  undefined8 uStack_6c0;
  undefined4 local_6b8;
  undefined4 uStack_6b4;
  undefined4 uStack_6b0;
  undefined4 uStack_6ac;
  undefined8 local_6a8;
  undefined8 uStack_6a0;
  undefined8 local_698;
  undefined8 uStack_690;
  undefined8 local_688;
  undefined8 local_680;
  undefined8 local_678;
  long local_668 [196];
  long lStack_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_9d8 = in_stack_00000010;
  if (in_stack_00000008 == (FastAllocator *)0x0) {
    in_stack_00000008 = *(FastAllocator **)param_1[10];
    if (*(long *)(in_FS_OFFSET + lRam000000000012858f) == 0) {
      this = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
                    /* WARNING: Subroutine does not return */
      embree::MutexSys::MutexSys(this);
    }
    local_9d8 = (long *)(*(long *)(in_FS_OFFSET + lRam000000000012858f) + 0x40);
  }
  if ((param_3 != '\0') && ((ulong)(param_2[0xb] - param_2[10]) <= param_1[6])) {
    embree::Scene::progressMonitor(0.0);
  }
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
  ::find((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
          *)local_808,(PrimInfoExtRange *)param_1[9],(ulong)(param_2 + 2));
  lVar15 = param_2[10];
  uVar14 = param_2[0xb] - lVar15;
  if (((uVar14 <= param_1[3]) || (param_1[1] <= *param_2 + 8U)) ||
     ((uVar14 <= param_1[4] &&
      (fVar17 = *(float *)((long)param_2 + 0x24) - *(float *)((long)param_2 + 0x14),
      fVar17 = (*(float *)(param_2 + 4) - *(float *)(param_2 + 2)) *
               (fVar17 + (*(float *)(param_2 + 5) - *(float *)(param_2 + 3))) +
               fVar17 * (*(float *)(param_2 + 5) - *(float *)(param_2 + 3)),
      (float)((uVar14 - 1) + (1L << ((byte)param_1[2] & 0x3f)) >> ((byte)param_1[2] & 0x3f)) *
      fVar17 * *(float *)((long)param_1 + 0x2c) <=
      fVar17 * *(float *)(param_1 + 5) + *(float *)((long)param_1 + 0x2c) * local_808[0])))) {
    lVar2 = param_2[0xb] * 0x40;
    lVar13 = *(long *)param_1[9] + lVar2;
    lVar12 = *(long *)param_1[9] + lVar15 * 0x40;
    if (lVar13 != lVar12) {
      lVar2 = lVar2 + lVar15 * -0x40;
      uVar14 = lVar2 >> 6;
      if (uVar14 == 0) {
        std::
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (lVar12,lVar13,0xfffffffffffffffe);
      }
      else {
        lVar15 = 0x3f;
        if (uVar14 != 0) {
          for (; uVar14 >> lVar15 == 0; lVar15 = lVar15 + -1) {
          }
        }
        std::
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (lVar12,lVar13,(long)(int)lVar15 * 2);
        if (0x400 < lVar2) {
          lVar15 = lVar12 + 0x400;
          std::
          __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                    (lVar12);
          while (lVar13 != lVar15) {
            lVar2 = lVar15 + 0x40;
            std::
            __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                      (lVar15);
            lVar15 = lVar2;
          }
          goto LAB_00128081;
        }
      }
      std::
      __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar12,lVar13);
    }
LAB_00128081:
    puVar3 = (undefined8 *)createLargeLeaf(param_1,param_2);
  }
  else {
    HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
    ::split((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
             *)param_1[9],(BinSplit *)local_808,(PrimInfoExtRange *)(param_2 + 2),
            (PrimInfoExtRange *)&local_9a8,(PrimInfoExtRange *)&local_948);
    fVar17 = _LC11;
    uVar22 = _LC9;
    local_740[0] = 0;
    local_6d0 = 0;
    local_738[0] = local_9a8;
    local_738[1] = uStack_9a0;
    local_748 = *param_2 + 1;
    local_6d8 = *param_2 + 1;
    local_738[2] = local_998;
    local_738[3] = uStack_990;
    local_688 = local_908;
    local_718 = local_988;
    uStack_710 = uStack_980;
    local_680 = local_900;
    local_708 = local_978;
    uStack_700 = uStack_970;
    local_6c8 = local_948;
    uStack_6c0 = uStack_940;
    local_6f8 = local_968;
    local_6f0 = local_960;
    local_6e8 = local_958;
    local_6b8 = local_938;
    uStack_6b4 = uStack_934;
    uStack_6b0 = uStack_930;
    uStack_6ac = uStack_92c;
    local_6a8 = local_928;
    uStack_6a0 = uStack_920;
    local_698 = local_918;
    uStack_690 = uStack_910;
    local_678 = local_8f8;
    fVar19 = fVar17;
    fVar20 = fVar17;
    fVar21 = fVar17;
    uVar23 = uVar22;
    uVar24 = uVar22;
    uVar25 = uVar22;
    if (*param_1 < 3) {
      uVar14 = param_1[7];
      if (uVar14 < (ulong)(param_2[0xb] - param_2[10])) {
        lVar15 = 0xe0;
        uVar11 = 2;
        goto LAB_00128d67;
      }
      uVar11 = 2;
      plVar7 = local_668;
LAB_0012866d:
      lVar15 = (long)plVar7 - (long)&local_748;
      uVar14 = (lVar15 >> 4) * 0x6db6db6db6db6db7;
      if (uVar14 == 0) {
        std::
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                  (&local_748,plVar7,0xfffffffffffffffe);
      }
      else {
        lVar13 = 0x3f;
        if (uVar14 != 0) {
          for (; uVar14 >> lVar13 == 0; lVar13 = lVar13 + -1) {
          }
        }
        std::
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                  (&local_748,plVar7,(long)(int)lVar13 * 2);
        if (0x700 < lVar15) {
          plVar5 = &lStack_48;
          std::
          __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                    (&local_748,plVar5);
          for (; plVar7 != plVar5; plVar5 = plVar5 + 0xe) {
            std::
            __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                      (plVar5);
          }
          goto LAB_00128732;
        }
      }
      std::
      __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                (&local_748,plVar7);
    }
    else {
      uVar11 = 2;
      plVar7 = local_668;
      do {
        uVar8 = 0;
        uVar14 = 0xffffffffffffffff;
        pfVar4 = (float *)local_738;
        lVar15 = local_6f0;
        lVar13 = local_6f8;
        fVar18 = _LC11;
        while( true ) {
          if ((param_1[3] < (ulong)(lVar15 - lVar13)) &&
             (fVar16 = (pfVar4[4] - *pfVar4) * ((pfVar4[5] - pfVar4[1]) + (pfVar4[6] - pfVar4[2])) +
                       (pfVar4[5] - pfVar4[1]) * (pfVar4[6] - pfVar4[2]), fVar18 < fVar16)) {
            uVar14 = uVar8;
            fVar18 = fVar16;
          }
          uVar8 = uVar8 + 1;
          if (uVar8 == uVar11) break;
          lVar15 = *(long *)(pfVar4 + 0x2e);
          lVar13 = *(long *)(pfVar4 + 0x2c);
          pfVar4 = pfVar4 + 0x1c;
        }
        if (uVar14 == 0xffffffffffffffff) {
          lVar15 = (long)plVar7 - (long)&local_748;
          goto LAB_0012864a;
        }
        uVar11 = uVar11 + 1;
        local_8e8 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                     *)(*param_2 + 1);
        local_868 = (ulong *)CONCAT44(uVar22,uVar22);
        local_8e0 = 0;
        local_898 = 0;
        lStack_890 = 0;
        local_888 = 0;
        local_870 = (long *)((ulong)local_870 & 0xffffffffffffff00);
        local_828 = 0;
        lStack_820 = 0;
        local_818 = 0;
        local_8d8 = uVar22;
        uStack_8d4 = uVar22;
        uStack_8d0 = uVar22;
        uStack_8cc = uVar22;
        local_8c8 = fVar17;
        fStack_8c4 = fVar17;
        fStack_8c0 = fVar17;
        fStack_8bc = fVar17;
        local_8b8 = uVar22;
        uStack_8b4 = uVar22;
        uStack_8b0 = uVar22;
        uStack_8ac = uVar22;
        local_8a8 = fVar17;
        fStack_8a4 = fVar17;
        fStack_8a0 = fVar17;
        fStack_89c = fVar17;
        local_878 = local_8e8;
        uStack_860 = uVar22;
        uStack_85c = uVar22;
        local_858 = fVar17;
        fStack_854 = fVar17;
        fStack_850 = fVar17;
        fStack_84c = fVar17;
        local_848 = uVar22;
        uStack_844 = uVar22;
        uStack_840 = uVar22;
        uStack_83c = uVar22;
        local_838 = fVar17;
        fStack_834 = fVar17;
        fStack_830 = fVar17;
        fStack_82c = fVar17;
        HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
        ::find(local_7c8,(PrimInfoExtRange *)param_1[9],(ulong)(local_738 + uVar14 * 0xe));
        HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
        ::split((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                 *)param_1[9],(BinSplit *)local_7c8,(PrimInfoExtRange *)(local_738 + uVar14 * 0xe),
                (PrimInfoExtRange *)&local_8d8,(PrimInfoExtRange *)&local_868);
        *(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
          **)(local_740 + uVar14 * 0x70 + -8) = local_8e8;
        local_740[uVar14 * 0x70] = local_8e0;
        local_738[uVar14 * 0xe + 10] = local_888;
        local_738[uVar14 * 0xe] = CONCAT44(uStack_8d4,local_8d8);
        local_738[uVar14 * 0xe + 1] = CONCAT44(uStack_8cc,uStack_8d0);
        local_738[uVar14 * 0xe + 2] = CONCAT44(fStack_8c4,local_8c8);
        local_738[uVar14 * 0xe + 3] = CONCAT44(fStack_8bc,fStack_8c0);
        local_738[uVar14 * 0xe + 4] = CONCAT44(uStack_8b4,local_8b8);
        local_738[uVar14 * 0xe + 5] = CONCAT44(uStack_8ac,uStack_8b0);
        local_738[uVar14 * 0xe + 6] = CONCAT44(fStack_8a4,local_8a8);
        local_738[uVar14 * 0xe + 7] = CONCAT44(fStack_89c,fStack_8a0);
        local_738[uVar14 * 0xe + 8] = local_898;
        local_738[uVar14 * 0xe + 9] = lStack_890;
        *plVar7 = (long)local_878;
        plVar7[2] = (long)local_868;
        plVar7[3] = CONCAT44(uStack_85c,uStack_860);
        *(undefined1 *)(plVar7 + 1) = local_870._0_1_;
        plVar7[4] = CONCAT44(fStack_854,local_858);
        plVar7[5] = CONCAT44(fStack_84c,fStack_850);
        plVar7[6] = CONCAT44(uStack_844,local_848);
        plVar7[7] = CONCAT44(uStack_83c,uStack_840);
        *(float *)(plVar7 + 8) = local_838;
        *(float *)((long)plVar7 + 0x44) = fStack_834;
        *(float *)(plVar7 + 9) = fStack_830;
        *(float *)((long)plVar7 + 0x4c) = fStack_82c;
        plVar7[10] = local_828;
        plVar7[0xb] = lStack_820;
        plVar7[0xc] = local_818;
        plVar7 = plVar7 + 0xe;
      } while (uVar11 < *param_1);
      lVar15 = uVar11 * 0x70;
LAB_0012864a:
      uVar14 = param_1[7];
      if (uVar14 < (ulong)(param_2[0xb] - param_2[10])) {
LAB_00128d67:
        plVar7 = &local_748;
        plVar5 = plVar7 + uVar11 * 0xe;
        do {
          *(bool *)(plVar7 + 1) = (ulong)(plVar7[0xb] - plVar7[10]) <= uVar14;
          plVar7 = plVar7 + 0xe;
        } while (plVar5 != plVar7);
      }
      plVar7 = (long *)(local_740 + lVar15 + -8);
      if (lVar15 != 0) goto LAB_0012866d;
    }
LAB_00128732:
    plVar7 = &local_748;
    local_8e8 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                 *)0x80;
    pHVar1 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
              *)*local_9d8;
    if (in_stack_00000008 != *(FastAllocator **)(pHVar1 + 8)) {
      embree::MutexSys::lock();
      if (*(long *)(pHVar1 + 8) != 0) {
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x118) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x118) +
             *(long *)(pHVar1 + 0xa8) + *(long *)(pHVar1 + 0x68);
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x120) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x120) +
             (((*(long *)(pHVar1 + 0x98) + *(long *)(pHVar1 + 0x58)) - *(long *)(pHVar1 + 0x50)) -
             *(long *)(pHVar1 + 0x90));
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x128) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x128) +
             *(long *)(pHVar1 + 0xb0) + *(long *)(pHVar1 + 0x70);
        UNLOCK();
      }
      *(undefined8 *)(pHVar1 + 0x48) = 0;
      *(undefined8 *)(pHVar1 + 0x58) = 0;
      *(undefined8 *)(pHVar1 + 0x50) = 0;
      *(undefined8 *)(pHVar1 + 0x68) = 0;
      *(undefined8 *)(pHVar1 + 0x70) = 0;
      *(undefined8 *)(pHVar1 + 0x60) = 0;
      if (in_stack_00000008 == (FastAllocator *)0x0) {
        *(undefined8 *)(pHVar1 + 0x88) = 0;
        uVar6 = 0;
        *(undefined8 *)(pHVar1 + 0x98) = 0;
        *(undefined8 *)(pHVar1 + 0x90) = 0;
        *(undefined8 *)(pHVar1 + 0xa8) = 0;
        *(undefined8 *)(pHVar1 + 0xb0) = 0;
      }
      else {
        uVar6 = *(undefined8 *)(in_stack_00000008 + 0x10);
        *(undefined8 *)(pHVar1 + 0x88) = 0;
        *(undefined8 *)(pHVar1 + 0x98) = 0;
        *(undefined8 *)(pHVar1 + 0x60) = uVar6;
        *(undefined8 *)(pHVar1 + 0x90) = 0;
        *(undefined8 *)(pHVar1 + 0xa8) = 0;
        *(undefined8 *)(pHVar1 + 0xb0) = 0;
        *(undefined8 *)(pHVar1 + 0xa0) = 0;
        uVar6 = *(undefined8 *)(in_stack_00000008 + 0x10);
      }
      *(undefined8 *)(pHVar1 + 0xa0) = uVar6;
      LOCK();
      *(FastAllocator **)(pHVar1 + 8) = in_stack_00000008;
      UNLOCK();
      local_878 = pHVar1;
      embree::MutexSys::lock();
      plVar5 = *(long **)(in_stack_00000008 + 0x138);
      if (plVar5 == *(long **)(in_stack_00000008 + 0x140)) {
        std::
        vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
        ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                  ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                    *)(in_stack_00000008 + 0x130),plVar5,&local_878);
      }
      else {
        *plVar5 = (long)pHVar1;
        *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
      }
      embree::MutexSys::unlock();
      embree::MutexSys::unlock();
    }
    lVar15 = local_9d8[2];
    local_9d8[5] = local_9d8[5] + 0x80;
    uVar8 = (ulong)(-(int)lVar15 & 0xf);
    uVar14 = lVar15 + 0x80 + uVar8;
    local_9d8[2] = uVar14;
    if ((ulong)local_9d8[3] < uVar14) {
      local_9d8[2] = lVar15;
      if ((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
           *)local_9d8[4] <
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
           *)0x200) {
        puVar3 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_8e8,0x40,false);
      }
      else {
        local_878 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                     *)local_9d8[4];
        puVar3 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_878,0x40,true);
        local_9d8[1] = (long)puVar3;
        lVar15 = local_9d8[2];
        local_9d8[2] = 0x80;
        local_9d8[6] = (local_9d8[3] + local_9d8[6]) - lVar15;
        local_9d8[3] = (long)local_878;
        if (local_878 <
            (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
             *)0x80) {
          local_878 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                       *)local_9d8[4];
          local_9d8[2] = 0;
          puVar3 = (undefined8 *)
                   FastAllocator::malloc(in_stack_00000008,(ulong *)&local_878,0x40,false);
          local_9d8[1] = (long)puVar3;
          lVar15 = local_9d8[2];
          local_9d8[2] = 0x80;
          local_9d8[6] = (local_9d8[3] + local_9d8[6]) - lVar15;
          local_9d8[3] = (long)local_878;
          if (local_878 <
              (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
               *)0x80) {
            puVar3 = (undefined8 *)0x0;
            local_9d8[2] = 0;
          }
        }
      }
    }
    else {
      local_9d8[6] = local_9d8[6] + uVar8;
      puVar3 = (undefined8 *)(local_9d8[1] + -0x80 + uVar14);
    }
    *puVar3 = 8;
    puVar3[1] = 8;
    puVar3[2] = 8;
    puVar3[3] = 8;
    *(undefined4 *)(puVar3 + 0xc) = uVar22;
    *(undefined4 *)((long)puVar3 + 100) = uVar23;
    *(undefined4 *)(puVar3 + 0xd) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x6c) = uVar25;
    *(undefined4 *)(puVar3 + 8) = uVar22;
    *(undefined4 *)((long)puVar3 + 0x44) = uVar23;
    *(undefined4 *)(puVar3 + 9) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x4c) = uVar25;
    *(undefined4 *)(puVar3 + 4) = uVar22;
    *(undefined4 *)((long)puVar3 + 0x24) = uVar23;
    *(undefined4 *)(puVar3 + 5) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x2c) = uVar25;
    *(float *)(puVar3 + 0xe) = fVar17;
    *(float *)((long)puVar3 + 0x74) = fVar19;
    *(float *)(puVar3 + 0xf) = fVar20;
    *(float *)((long)puVar3 + 0x7c) = fVar21;
    *(float *)(puVar3 + 10) = fVar17;
    *(float *)((long)puVar3 + 0x54) = fVar19;
    *(float *)(puVar3 + 0xb) = fVar20;
    *(float *)((long)puVar3 + 0x5c) = fVar21;
    *(float *)(puVar3 + 6) = fVar17;
    *(float *)((long)puVar3 + 0x34) = fVar19;
    *(float *)(puVar3 + 7) = fVar20;
    *(float *)((long)puVar3 + 0x3c) = fVar21;
    plVar5 = plVar7;
    puVar9 = puVar3 + 4;
    do {
      lVar15 = plVar5[3];
      puVar10 = (undefined8 *)((long)puVar9 + 4);
      lVar13 = plVar5[2];
      lVar2 = plVar5[5];
      uVar22 = *(undefined4 *)((long)plVar5 + 0x24);
      lVar12 = plVar5[4];
      *(undefined4 *)(puVar9 + 4) = *(undefined4 *)((long)plVar5 + 0x14);
      *(int *)puVar9 = (int)lVar13;
      *(int *)(puVar9 + 8) = (int)lVar15;
      *(int *)(puVar9 + 2) = (int)lVar12;
      *(undefined4 *)(puVar9 + 6) = uVar22;
      *(int *)(puVar9 + 10) = (int)lVar2;
      plVar5 = plVar5 + 0xe;
      puVar9 = puVar10;
    } while ((undefined8 *)((long)puVar3 + uVar11 * 4 + 0x20) != puVar10);
    uVar14 = 0;
    if (param_1[6] < (ulong)(param_2[0xb] - param_2[10])) {
      pHStack_9b0 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
                     *)0x0;
      local_878 = local_7c8;
      local_870 = plVar7;
      local_868 = param_1;
      TaskScheduler::
      spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar11,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_878,
                 (TaskGroupContext *)&pHStack_9b0);
      embree::TaskScheduler::wait();
      if (pHStack_9b0 !=
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>
           *)0x0) {
        local_8e8 = pHStack_9b0;
        std::__exception_ptr::exception_ptr::_M_addref();
        std::rethrow_exception(&local_8e8);
        goto LAB_00128f0d;
      }
      uVar14 = 0;
      do {
        puVar3[uVar14] = *(undefined8 *)(local_7c8 + uVar14 * 8);
        uVar14 = uVar14 + 1;
      } while (uVar14 != uVar11);
    }
    else {
      do {
        uVar6 = recurse(param_1,plVar7,0);
        *(undefined8 *)(local_7c8 + uVar14 * 8) = uVar6;
        uVar14 = uVar14 + 1;
        plVar7 = plVar7 + 0xe;
      } while (uVar14 != uVar11);
      uVar14 = 0;
      do {
        puVar3[uVar14] = *(undefined8 *)(local_7c8 + uVar14 * 8);
        uVar14 = uVar14 + 1;
      } while (uVar14 != uVar11);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return puVar3;
  }
LAB_00128f0d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::NodeRefPtr<4> embree::sse2::GeneralBVHBuilder::build<embree::NodeRefPtr<4>,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::BVHN<4>::CreateAlloc, embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(unsigned
   long)#8}>(embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>&,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef*,
   embree::sse2::PrimInfoExtRange const&, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6} const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::build()::{lambda(unsigned long)#8} const&,
   embree::sse2::GeneralBVHBuilder::Settings const&) */

void embree::sse2::GeneralBVHBuilder::
     build<embree::NodeRefPtr<4>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(unsigned_long)_8_>
               (undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
               undefined8 param_5,undefined8 param_6,ulong *param_7)

{
  long in_FS_OFFSET;
  undefined1 local_132;
  undefined1 local_131;
  undefined8 local_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 local_108;
  undefined1 local_100;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined8 local_a8;
  ulong local_98;
  ulong uStack_90;
  ulong local_88;
  ulong uStack_80;
  ulong local_78;
  ulong uStack_70;
  ulong local_68;
  ulong uStack_60;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  undefined1 *local_38;
  undefined8 local_30;
  undefined8 *local_28;
  undefined8 *local_20;
  undefined8 local_18;
  long local_10;
  
  local_98 = *param_7;
  uStack_90 = param_7[1];
  local_88 = param_7[2];
  uStack_80 = param_7[3];
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_78 = param_7[4];
  uStack_70 = param_7[5];
  local_68 = param_7[6];
  uStack_60 = param_7[7];
  local_48 = &local_130;
  local_40 = &local_131;
  local_38 = &local_132;
  local_20 = &local_108;
  local_28 = &local_128;
  local_130 = param_4;
  local_58 = param_2;
  local_50 = param_1;
  local_30 = param_5;
  local_18 = param_6;
  if (0x10 < *param_7) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  local_b8 = *(undefined8 *)(param_3 + 0x10);
  local_f8 = *param_3;
  uStack_f4 = param_3[1];
  uStack_f0 = param_3[2];
  uStack_ec = param_3[3];
  local_100 = 0;
  local_e8 = param_3[4];
  uStack_e4 = param_3[5];
  uStack_e0 = param_3[6];
  uStack_dc = param_3[7];
  local_d8 = param_3[8];
  uStack_d4 = param_3[9];
  uStack_d0 = param_3[10];
  uStack_cc = param_3[0xb];
  local_108 = 1;
  local_c8 = param_3[0xc];
  uStack_c4 = param_3[0xd];
  uStack_c0 = param_3[0xe];
  uStack_bc = param_3[0xf];
  local_b0 = *(undefined8 *)(param_3 + 0x12);
  local_a8 = *(undefined8 *)(param_3 + 0x14);
  local_128 = 0;
  uStack_120 = 0;
  local_118 = 0;
  BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(unsigned_long)#8}>
  ::recurse(&local_98,local_20,1);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::build() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this)

{
  undefined4 uVar1;
  string *psVar2;
  undefined1 (*pauVar3) [16];
  long lVar4;
  int iVar5;
  long *plVar6;
  long lVar7;
  undefined8 *puVar8;
  long lVar9;
  undefined8 *puVar10;
  undefined8 uVar11;
  long *plVar12;
  uint uVar13;
  long *plVar15;
  ulong uVar16;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *pBVar17;
  ulong uVar18;
  ulong uVar19;
  undefined8 *puVar20;
  long *plVar21;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *pBVar22;
  ulong uVar23;
  long in_FS_OFFSET;
  float fVar24;
  double dVar25;
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 uStack_1c9;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *pBStack_1c8;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *local_1c0;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *local_1b8;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **ppBStack_1b0;
  undefined8 uStack_1a8;
  _lambda_embree__range<unsigned_long>__1_ *local_198;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **local_190;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **local_188;
  undefined8 uStack_180;
  undefined8 uStack_178;
  undefined8 local_170;
  undefined8 uStack_168;
  undefined8 uStack_160;
  undefined1 local_158 [16];
  undefined1 local_148 [16];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  long local_118;
  long local_110;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  undefined8 local_c8;
  long local_c0;
  ulong uStack_b8;
  long *local_a8 [2];
  long local_98 [2];
  long *local_88;
  long local_80;
  long local_78 [2];
  long *local_68;
  long local_60;
  long local_58 [5];
  ulong uVar14;
  
  local_58[3] = *(long *)(in_FS_OFFSET + 0x28);
  lVar7 = *(long *)(this + 0x28);
  uVar19 = *(long *)(lVar7 + 0x208) - *(long *)(lVar7 + 0x200) >> 3;
  uVar23 = *(ulong *)(*(long *)(this + 0x30) + 0x1d0);
  if (uVar23 < uVar19) {
    auVar30._8_8_ = 0;
    auVar30._0_8_ = local_158._8_8_;
    local_158 = auVar30 << 0x40;
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar23,uVar19,1,(_lambda_embree__range<unsigned_long>_const___1_ *)this,
               (TaskGroupContext *)local_158);
    embree::TaskScheduler::wait();
    if (local_158._0_8_ == 0) {
      lVar7 = *(long *)(this + 0x28);
      goto LAB_0012914d;
    }
    goto LAB_00129f6a;
  }
LAB_0012914d:
  uVar18 = 0;
  FastAllocator::reset((FastAllocator *)(lVar7 + 0x78));
  uVar19 = *(ulong *)(this + 0x98);
  lVar7 = *(long *)(this + 0x30);
  if ((uVar19 & 0x100000) != 0) {
    uVar18 = *(ulong *)(lVar7 + 0x288);
  }
  if ((uVar19 & 0x200000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x298);
  }
  if ((uVar19 & 0xf) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2b8);
  }
  if ((uVar19 & 0x77770) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2a8);
  }
  if ((uVar19 & 0xe000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x338);
  }
  if ((uVar19 & 0x800000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2c8);
  }
  if ((uVar19 & 0x20000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2d8);
  }
  if ((uVar19 & 0x40000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2e8);
  }
  if ((uVar19 & 0x80000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2f8);
  }
  if ((uVar19 & 0x1000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x308);
  }
  if ((uVar19 & 0x400000) == 0) {
    lVar7 = *(long *)(this + 0x28);
  }
  else {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x318);
    lVar7 = *(long *)(this + 0x28);
  }
  if (uVar18 == 0) {
    *(undefined8 *)(this + 0x70) = 0;
    local_108._4_4_ = _LC9;
    local_108._0_4_ = _LC9;
    local_108._8_4_ = _LC9;
    local_108._12_4_ = _LC9;
    local_e8._4_4_ = _LC9;
    local_e8._0_4_ = _LC9;
    local_e8._8_4_ = _LC9;
    local_e8._12_4_ = _LC9;
    local_f8._4_4_ = _LC11;
    local_f8._0_4_ = _LC11;
    local_f8._8_4_ = _LC11;
    local_f8._12_4_ = _LC11;
    local_d8._4_4_ = _LC11;
    local_d8._0_4_ = _LC11;
    local_d8._8_4_ = _LC11;
    local_d8._12_4_ = _LC11;
    embree::BVHN<4>::set(lVar7,8,local_108,0);
    if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
    goto LAB_00129f65;
  }
  uVar19 = uVar18 + 3 >> 2;
  dVar25 = (double)uVar19 * __LC41 * __LC48;
  if (_LC43 <= dVar25) {
    uVar16 = (long)(dVar25 - _LC43) ^ 0x8000000000000000;
  }
  else {
    uVar16 = (ulong)dVar25;
  }
  FastAllocator::init_estimate((FastAllocator *)(lVar7 + 0x78),uVar16 + ((uVar19 << 8) >> 2));
  psVar2 = *(string **)(this + 0x28);
  local_a8[0] = local_98;
  std::__cxx11::string::_M_construct((ulong)local_a8,'\x01');
  *(undefined1 *)local_a8[0] = 0x34;
  plVar6 = (long *)std::__cxx11::string::_M_replace((ulong)local_a8,0,(char *)0x0,0x124f98);
  plVar12 = plVar6 + 2;
  if ((long *)*plVar6 == plVar12) {
    uVar19 = plVar6[1] + 1;
    plVar15 = plVar12;
    plVar21 = local_78;
    if (7 < (uint)uVar19) {
      uVar16 = 0;
      do {
        uVar13 = (int)uVar16 + 8;
        uVar14 = (ulong)uVar13;
        *(undefined8 *)((long)local_78 + uVar16) = *(undefined8 *)((long)plVar12 + uVar16);
        uVar16 = uVar14;
      } while (uVar13 < ((uint)uVar19 & 0xfffffff8));
      plVar21 = (long *)((long)local_78 + uVar14);
      plVar15 = (long *)(uVar14 + (long)plVar12);
    }
    lVar7 = 0;
    if ((uVar19 & 4) != 0) {
      *(int *)plVar21 = (int)*plVar15;
      lVar7 = 4;
    }
    if ((uVar19 & 2) != 0) {
      *(undefined2 *)((long)plVar21 + lVar7) = *(undefined2 *)((long)plVar15 + lVar7);
      lVar7 = lVar7 + 2;
    }
    local_88 = local_78;
    if ((uVar19 & 1) != 0) {
      *(undefined1 *)((long)plVar21 + lVar7) = *(undefined1 *)((long)plVar15 + lVar7);
    }
  }
  else {
    local_78[0] = plVar6[2];
    local_88 = (long *)*plVar6;
  }
  local_80 = plVar6[1];
  *plVar6 = (long)plVar12;
  plVar6[1] = 0;
  *(undefined1 *)(plVar6 + 2) = 0;
  if (0x3fffffffffffffffU - local_80 < 0xf) goto LAB_00129f8a;
  plVar6 = (long *)std::__cxx11::string::_M_append((char *)&local_88,0x124fb7);
  plVar12 = plVar6 + 2;
  if ((long *)*plVar6 == plVar12) {
    uVar19 = plVar6[1] + 1;
    plVar15 = plVar12;
    plVar21 = local_58;
    if (7 < (uint)uVar19) {
      uVar16 = 0;
      do {
        uVar13 = (int)uVar16 + 8;
        uVar14 = (ulong)uVar13;
        *(undefined8 *)((long)local_58 + uVar16) = *(undefined8 *)((long)plVar12 + uVar16);
        uVar16 = uVar14;
      } while (uVar13 < ((uint)uVar19 & 0xfffffff8));
      plVar21 = (long *)((long)local_58 + uVar14);
      plVar15 = (long *)(uVar14 + (long)plVar12);
    }
    lVar7 = 0;
    if ((uVar19 & 4) != 0) {
      *(int *)plVar21 = (int)*plVar15;
      lVar7 = 4;
    }
    if ((uVar19 & 2) != 0) {
      *(undefined2 *)((long)plVar21 + lVar7) = *(undefined2 *)((long)plVar15 + lVar7);
      lVar7 = lVar7 + 2;
    }
    local_68 = local_58;
    if ((uVar19 & 1) != 0) {
      *(undefined1 *)((long)plVar21 + lVar7) = *(undefined1 *)((long)plVar15 + lVar7);
    }
  }
  else {
    local_58[0] = plVar6[2];
    local_68 = (long *)*plVar6;
  }
  local_60 = plVar6[1];
  *plVar6 = (long)plVar12;
  plVar6[1] = 0;
  *(undefined1 *)(plVar6 + 2) = 0;
  dVar25 = (double)embree::BVHN<4>::preBuild(psVar2);
  if (local_68 != local_58) {
    operator_delete(local_68,local_58[0] + 1);
  }
  if (local_88 != local_78) {
    operator_delete(local_88,local_78[0] + 1);
  }
  if (local_a8[0] != local_98) {
    operator_delete(local_a8[0],local_98[0] + 1);
  }
  lVar7 = *(long *)(this + 0x28);
  uVar19 = *(long *)(lVar7 + 0x208) - *(long *)(lVar7 + 0x200) >> 3;
  if (uVar19 < uVar23) {
    std::vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>>::_M_default_append
              ((vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>> *)(lVar7 + 0x200),
               uVar23 - uVar19);
  }
  uVar19 = *(long *)(this + 0x18) - *(long *)(this + 0x10) >> 3;
  if (uVar19 < uVar23) {
    std::
    vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>>>
    ::_M_default_append((vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderBase>>>>
                         *)(this + 0x10),uVar23 - uVar19);
  }
  resizeRefsList(this);
  LOCK();
  *(undefined4 *)(this + 0x88) = 0;
  UNLOCK();
  auVar32._8_8_ = 0;
  auVar32._0_8_ = local_158._8_8_;
  local_158 = auVar32 << 0x40;
  TaskScheduler::
  spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
            (0,uVar23,1,(_lambda_embree__range<unsigned_long>_const___2_ *)this,
             (TaskGroupContext *)local_158);
  embree::TaskScheduler::wait();
  if (local_158._0_8_ == 0) {
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (0,uVar23,1,(_lambda_embree__range<unsigned_long>_const___3_ *)this,
               (TaskGroupContext *)local_158);
    embree::TaskScheduler::wait();
    if (local_158._0_8_ == 0) {
      if (*(int *)(this + 0x88) == 1) {
        pauVar3 = *(undefined1 (**) [16])(this + 0x58);
        local_d8 = pauVar3[1];
        local_f8 = pauVar3[1];
        local_e8 = *pauVar3;
        local_108 = *pauVar3;
        embree::BVHN<4>::set
                  (*(undefined8 *)(this + 0x28),*(undefined8 *)pauVar3[2],local_108,uVar18);
      }
      else {
        uVar19 = (ulong)*(int *)(this + 0x88);
        uVar23 = *(ulong *)(this + 0x50);
        if (uVar23 < uVar19) {
          puVar10 = *(undefined8 **)(this + 0x58);
          if (uVar23 == 0) {
            uVar23 = uVar19;
            if (uVar19 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar19;
            }
          }
          else {
            do {
              uVar23 = uVar23 * 2;
              if (uVar23 == 0) {
                uVar23 = 1;
              }
            } while (uVar23 < uVar19);
            if (uVar19 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar19;
            }
          }
          uVar16 = uVar23 << 6;
          (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar16,0);
          if (uVar16 < 0x1c00000) {
            lVar7 = embree::alignedMalloc(uVar16,0x20);
          }
          else {
            lVar7 = embree::os_malloc(uVar16,(bool *)(this + 0x40));
          }
          *(long *)(this + 0x58) = lVar7;
          if (*(long *)(this + 0x48) != 0) {
            puVar20 = puVar10;
            uVar16 = 0;
            while( true ) {
              uVar11 = puVar20[1];
              puVar8 = (undefined8 *)(lVar7 + uVar16 * 0x40);
              *puVar8 = *puVar20;
              puVar8[1] = uVar11;
              uVar11 = puVar20[3];
              puVar8[2] = puVar20[2];
              puVar8[3] = uVar11;
              uVar1 = *(undefined4 *)(puVar20 + 5);
              puVar8[4] = puVar20[4];
              *(undefined4 *)(puVar8 + 5) = uVar1;
              if (*(ulong *)(this + 0x48) <= uVar16 + 1) break;
              lVar7 = *(long *)(this + 0x58);
              puVar20 = puVar20 + 8;
              uVar16 = uVar16 + 1;
            }
          }
          lVar7 = *(long *)(this + 0x50);
          if (puVar10 != (undefined8 *)0x0) {
            if ((ulong)(lVar7 << 6) < 0x1c00000) {
              embree::alignedFree(puVar10);
            }
            else {
              embree::os_free(puVar10,lVar7 << 6,(bool)this[0x40]);
            }
          }
          if (lVar7 != 0) {
            (**(code **)**(undefined8 **)(this + 0x38))
                      (*(undefined8 **)(this + 0x38),lVar7 * -0x40,1);
          }
          *(ulong *)(this + 0x48) = uVar19;
          *(ulong *)(this + 0x50) = uVar23;
        }
        else {
          *(ulong *)(this + 0x48) = uVar19;
        }
        fVar24 = (float)uVar18 / __LC47;
        if (__LC36 <= fVar24) {
          uVar23 = (long)(fVar24 - __LC36) ^ 0x8000000000000000;
        }
        else {
          uVar23 = (ulong)fVar24;
        }
        local_c8 = 0;
        if (uVar23 < 1000) {
          uVar23 = 1000;
        }
        local_108._0_8_ = CONCAT44(_LC9,_LC9);
        local_108._8_4_ = _LC9;
        local_108._12_4_ = _LC9;
        local_c0 = 0;
        local_f8._0_8_ = CONCAT44(_LC11,_LC11);
        local_f8._8_4_ = _LC11;
        local_f8._12_4_ = _LC11;
        uVar16 = uVar19 * 2;
        if (uVar19 * 2 <= uVar23) {
          uVar16 = uVar23;
        }
        local_1b8 = this;
        local_e8 = local_108;
        local_d8 = local_f8;
        if (uVar19 == 1) {
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **)
                     (this + 0x58);
          auVar31._8_4_ = _LC9;
          auVar31._0_8_ = local_108._0_8_;
          auVar31._12_4_ = _LC9;
          auVar29._8_4_ = _LC11;
          auVar29._0_8_ = local_f8._0_8_;
          auVar29._12_4_ = _LC11;
          auVar34._8_4_ = _LC9;
          auVar34._0_8_ = local_108._0_8_;
          auVar34._12_4_ = _LC9;
          auVar33._8_4_ = _LC11;
          auVar33._0_8_ = local_f8._0_8_;
          auVar33._12_4_ = _LC11;
          auVar28._8_4_ = _LC9;
          auVar28._0_8_ = local_108._0_8_;
          auVar28._12_4_ = _LC9;
          local_118 = 0;
          auVar26._0_4_ = *(float *)(pBVar22 + 0x10) + *(float *)pBVar22;
          auVar26._4_4_ = *(float *)(pBVar22 + 0x14) + *(float *)(pBVar22 + 4);
          auVar26._8_4_ = *(float *)(pBVar22 + 0x18) + *(float *)(pBVar22 + 8);
          auVar26._12_4_ = *(float *)(pBVar22 + 0x1c) + *(float *)(pBVar22 + 0xc);
          auVar34 = minps(auVar34,*(undefined1 (*) [16])pBVar22);
          auVar33 = maxps(auVar33,*(undefined1 (*) [16])(pBVar22 + 0x10));
          local_110 = 1;
          auVar32 = minps(auVar31,auVar26);
          auVar30 = maxps(auVar29,auVar26);
          auVar27._8_4_ = _LC11;
          auVar27._0_8_ = local_f8._0_8_;
          auVar27._12_4_ = _LC11;
          local_158 = minps(auVar28,auVar34);
          local_148 = maxps(auVar27,auVar33);
          local_138 = minps(local_108,auVar32);
          local_128 = maxps(local_f8,auVar30);
        }
        else {
          local_198 = (_lambda_embree__range<unsigned_long>__1_ *)local_108;
          local_190 = &local_1c0;
          local_188 = &local_1b8;
          parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::parallel_reduce<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>(unsigned_long,unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_const&)::_lambda(embree::range<unsigned_long>)_1_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>
                    ((ulong)local_158,uVar19,0,uVar19,(PrimInfoT_conflict *)0x1,
                     (_lambda_embree__range<unsigned_long>__1_ *)local_108,
                     (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
                      *)&local_198);
          if (local_110 == local_118) {
            local_108._8_8_ = _UNK_001336c8;
            local_108._0_8_ = CONCAT44(_UNK_001336c4,_LC9);
            local_f8._8_8_ = _UNK_001336d8;
            local_f8._0_8_ = CONCAT44(_UNK_001336d4,_LC11);
            local_e8._8_8_ = _UNK_001336c8;
            local_e8._0_8_ = CONCAT44(_UNK_001336c4,_LC9);
            local_d8._8_8_ = _UNK_001336d8;
            local_d8._0_8_ = CONCAT44(_UNK_001336d4,_LC11);
            embree::BVHN<4>::set
                      (*(undefined8 *)(this + 0x28),8,
                       (_lambda_embree__range<unsigned_long>__1_ *)local_108,0);
            goto LAB_00129b0f;
          }
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **)
                     (this + 0x58);
        }
        lVar4 = local_110;
        lVar7 = local_118;
        uVar23 = *(ulong *)(this + 0x50);
        local_198 = (_lambda_embree__range<unsigned_long>__1_ *)0x4;
        local_170 = 0x3f8000003f800000;
        for (iVar5 = 0x1f; 4U >> iVar5 == 0; iVar5 = iVar5 + -1) {
        }
        local_190 = (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **)0x28;
        local_188 = (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **)
                    (long)iVar5;
        uStack_168 = *(undefined8 *)(this + 0x90);
        uStack_180 = 1;
        uStack_160 = 0xffffffffffffffff;
        uStack_178 = 1;
        if (uVar23 < uVar16) {
          if (uVar23 == 0) {
            uVar23 = uVar16;
            if (uVar16 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar16;
            }
          }
          else {
            do {
              uVar23 = uVar23 * 2;
              if (uVar23 == 0) {
                uVar23 = 1;
              }
            } while (uVar23 < uVar16);
            if (uVar16 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar16;
            }
          }
          uVar19 = uVar23 << 6;
          (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar19,0);
          if (uVar19 < 0x1c00000) {
            lVar9 = embree::alignedMalloc(uVar19,0x20);
          }
          else {
            lVar9 = embree::os_malloc(uVar19,(bool *)(this + 0x40));
          }
          *(long *)(this + 0x58) = lVar9;
          if (*(long *)(this + 0x48) != 0) {
            pBVar17 = pBVar22;
            uVar19 = 0;
            while( true ) {
              uVar11 = *(undefined8 *)(pBVar17 + 8);
              puVar10 = (undefined8 *)(lVar9 + uVar19 * 0x40);
              *puVar10 = *(undefined8 *)pBVar17;
              puVar10[1] = uVar11;
              uVar11 = *(undefined8 *)(pBVar17 + 0x18);
              puVar10[2] = *(undefined8 *)(pBVar17 + 0x10);
              puVar10[3] = uVar11;
              uVar1 = *(undefined4 *)(pBVar17 + 0x28);
              puVar10[4] = *(undefined8 *)(pBVar17 + 0x20);
              *(undefined4 *)(puVar10 + 5) = uVar1;
              if (*(ulong *)(this + 0x48) <= uVar19 + 1) break;
              lVar9 = *(long *)(this + 0x58);
              pBVar17 = pBVar17 + 0x40;
              uVar19 = uVar19 + 1;
            }
          }
          lVar9 = *(long *)(this + 0x50);
          if (pBVar22 != (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *)0x0) {
            if ((ulong)(lVar9 << 6) < 0x1c00000) {
              embree::alignedFree(pBVar22);
            }
            else {
              embree::os_free(pBVar22,lVar9 << 6,(bool)this[0x40]);
            }
          }
          if (lVar9 != 0) {
            (**(code **)**(undefined8 **)(this + 0x38))
                      (*(undefined8 **)(this + 0x38),lVar9 * -0x40,1);
          }
          *(ulong *)(this + 0x48) = uVar16;
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> **)
                     (this + 0x58);
          *(ulong *)(this + 0x50) = uVar23;
        }
        else {
          *(ulong *)(this + 0x48) = uVar16;
        }
        auVar32 = local_148;
        auVar30 = local_158;
        ppBStack_1b0 = &pBStack_1c8;
        local_c0 = lVar4 - lVar7;
        local_e8._0_8_ = local_138._0_8_;
        local_e8._8_8_ = local_138._8_8_;
        uStack_1a8 = 4;
        local_108._0_8_ = local_158._0_8_;
        local_108._8_8_ = local_158._8_8_;
        local_f8._0_8_ = local_148._0_8_;
        local_f8._8_8_ = local_148._8_8_;
        local_d8._0_8_ = local_128._0_8_;
        local_d8._8_8_ = local_128._8_8_;
        local_c8 = 0;
        pBStack_1c8 = this;
        local_1c0 = this;
        local_1b8 = pBVar22;
        uStack_b8 = uVar16;
        uVar11 = GeneralBVHBuilder::
                 build<embree::NodeRefPtr<4>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(unsigned_long)_8_>
                           (&local_1b8,pBVar22,(_lambda_embree__range<unsigned_long>__1_ *)local_108
                            ,*(long *)(this + 0x28) + 0x78,&uStack_1c9,&local_1c0,&local_198);
        local_108 = auVar30;
        local_f8 = auVar32;
        local_e8 = auVar30;
        local_d8 = auVar32;
        embree::BVHN<4>::set
                  (*(undefined8 *)(this + 0x28),uVar11,
                   (_lambda_embree__range<unsigned_long>__1_ *)local_108,uVar18);
      }
LAB_00129b0f:
      lVar7 = *(long *)(this + 0x28);
      plVar12 = (long *)(lVar7 + 0x130);
      plVar6 = (long *)(lVar7 + 0x170);
      do {
        while (*plVar12 != 0) {
          lVar4 = *(long *)(*plVar12 + 0x18);
          *(long *)(*plVar12 + 0x18) = *plVar6;
          LOCK();
          *plVar6 = *plVar12;
          UNLOCK();
          LOCK();
          *plVar12 = lVar4;
          UNLOCK();
        }
        LOCK();
        *plVar12 = 0;
        UNLOCK();
        plVar12 = plVar12 + 1;
      } while (plVar6 != plVar12);
      plVar12 = *(long **)(lVar7 + 0x1a8);
      plVar6 = *(long **)(lVar7 + 0x1b0);
      if (plVar6 != plVar12) {
        do {
          while( true ) {
            lVar4 = *plVar12;
            if (lVar7 + 0x78 != *(long *)(lVar4 + 8)) break;
            embree::MutexSys::lock();
            if (lVar7 + 0x78 == *(long *)(lVar4 + 8)) {
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x118);
              *plVar21 = *plVar21 + *(long *)(lVar4 + 0xa8) + *(long *)(lVar4 + 0x68);
              UNLOCK();
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x120);
              *plVar21 = *plVar21 +
                         (((*(long *)(lVar4 + 0x98) + *(long *)(lVar4 + 0x58)) -
                          *(long *)(lVar4 + 0x50)) - *(long *)(lVar4 + 0x90));
              UNLOCK();
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x128);
              *plVar21 = *plVar21 + *(long *)(lVar4 + 0xb0) + *(long *)(lVar4 + 0x70);
              UNLOCK();
              *(undefined8 *)(lVar4 + 0x48) = 0;
              *(undefined8 *)(lVar4 + 0x58) = 0;
              *(undefined8 *)(lVar4 + 0x50) = 0;
              *(undefined8 *)(lVar4 + 0x68) = 0;
              *(undefined8 *)(lVar4 + 0x70) = 0;
              *(undefined8 *)(lVar4 + 0x60) = 0;
              *(undefined8 *)(lVar4 + 0x88) = 0;
              *(undefined8 *)(lVar4 + 0x98) = 0;
              *(undefined8 *)(lVar4 + 0x90) = 0;
              *(undefined8 *)(lVar4 + 0xa8) = 0;
              *(undefined8 *)(lVar4 + 0xb0) = 0;
              *(undefined8 *)(lVar4 + 0xa0) = 0;
              LOCK();
              *(undefined8 *)(lVar4 + 8) = 0;
              UNLOCK();
            }
            plVar12 = plVar12 + 1;
            embree::MutexSys::unlock();
            if (plVar6 == plVar12) goto LAB_00129c8e;
          }
          plVar12 = plVar12 + 1;
        } while (plVar6 != plVar12);
LAB_00129c8e:
        if (*(long *)(lVar7 + 0x1b0) != *(long *)(lVar7 + 0x1a8)) {
          *(long *)(lVar7 + 0x1b0) = *(long *)(lVar7 + 0x1a8);
        }
      }
      if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::BVHN<4>::postBuild(dVar25);
        return;
      }
LAB_00129f65:
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
LAB_00129f6a:
  local_108._0_8_ = local_158._0_8_;
  std::__exception_ptr::exception_ptr::_M_addref();
  std::rethrow_exception(local_108);
LAB_00129f8a:
                    /* WARNING: Subroutine does not return */
  std::__throw_length_error("basic_string::append");
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleMv<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleMv<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleM...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleM___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  undefined8 uVar2;
  ulong uVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  
  uVar6 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar6 - uVar3) {
    uVar6 = uVar6 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar6,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar6,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar3 < uVar6) {
    lVar5 = uVar3 * 0x70;
    do {
      lVar1 = *(long *)(this + 0x20);
      lVar4 = *(long *)(this + 0x28) + lVar5;
      lVar5 = lVar5 + 0x70;
      uVar2 = sse2::GeneralBVHBuilder::
              BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::build()::{lambda(unsigned_long)#8}>
              ::recurse(*(undefined8 *)(this + 0x30),lVar4,1);
      *(undefined8 *)(lVar1 + uVar3 * 8) = uVar2;
      uVar3 = uVar3 + 1;
    } while (uVar3 < uVar6);
  }
  return;
}



/* std::pair<unsigned long, bool> embree::parallel_reduce_internal<unsigned long, std::pair<unsigned
   long, bool>, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::getProperties(embree::sse2::PrimInfoExtRange
   const&)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::getProperties(embree::sse2::PrimInfoExtRange
   const&)::{lambda(std::pair<unsigned long, bool> const&, std::pair<unsigned long, bool>
   const&)#2}>(unsigned long, unsigned long, unsigned long, unsigned long, std::pair<unsigned long,
   bool> const&, embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::getProperties(embree::sse2::PrimInfoExtRange
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::getProperties(embree::sse2::PrimInfoExtRange
   const&)::{lambda(std::pair<unsigned long, bool> const&, std::pair<unsigned long, bool> const&)#2}
   const&) */

undefined1  [16]
embree::
parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,bool>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(std::pair<unsigned_long,bool>const&,std::pair<unsigned_long,bool>const&)_2_>
          (ulong param_1,ulong param_2,ulong param_3,ulong param_4,pair_conflict *param_5,
          _lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_std__pair<unsigned_long,bool>_const__std__pair<unsigned_long,bool>_const___2_
          *param_7)

{
  ulong uVar1;
  long *plVar2;
  long lVar3;
  long in_FS_OFFSET;
  byte bVar4;
  undefined1 auVar5 [16];
  ulong local_2118;
  ulong local_2110;
  ulong local_2108;
  undefined8 **local_2100;
  undefined8 **local_20f8;
  ulong *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  long *local_20d8;
  _lambda_embree__range<unsigned_long>_const___1_ *local_20d0;
  long local_20c0 [1024];
  long *local_c0;
  ulong local_b8;
  long local_48;
  
  bVar4 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2118 = param_3;
  local_2110 = param_2;
  local_2108 = param_1;
  uVar1 = embree::TaskScheduler::threadCount();
  lVar3 = 0x400;
  plVar2 = local_20c0;
  if (local_2108 < uVar1) {
    uVar1 = local_2108;
  }
  local_2108 = 0x200;
  if (uVar1 < 0x201) {
    local_2108 = uVar1;
  }
  for (; lVar3 != 0; lVar3 = lVar3 + -1) {
    *plVar2 = 0;
    plVar2 = plVar2 + (ulong)bVar4 * -2 + 1;
  }
  local_20f0 = &local_2110;
  local_20e8 = &local_2118;
  local_20e0 = &local_2108;
  local_20d8 = local_20c0;
  local_20d0 = param_6;
  local_c0 = local_20c0;
  local_b8 = local_2108;
  if (uVar1 == 0) {
    lVar3 = *(long *)param_5;
    uVar1 = (ulong)(byte)param_5[8];
  }
  else {
    local_20f8 = &local_20f0;
    local_2100 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImSt4pairImbEZNS_4sse226HeuristicArrayOpenMergeSAHIZNS6_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_9TriangleMILi4EEEE5buildEvEUlRNSC_8BuildRefEPSD_E5_SD_Lm32EE13getPropertiesERKNS6_16PrimInfoExtRangeEEUlRKNS_5rangeImEEE_ZNSH_13getPropertiesESK_EUlRKS5_SR_E0_EET0_T_SU_SU_SU_RKST_RKT1_RKT2_EUlmE_EEvSU_SW_EUlSO_E_EEvSU_SU_SU_SW_PNS0_16TaskGroupContextE
              (0,local_2108,1,&local_20f8,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != (ulong **)0x0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20f8);
      goto LAB_0012a996;
    }
    lVar3 = *(long *)param_5;
    uVar1 = (ulong)(byte)param_5[8];
    if (local_2108 != 0) {
      plVar2 = local_c0;
      do {
        if ((char)uVar1 != '\0') {
          uVar1 = (ulong)*(byte *)(plVar2 + 1);
        }
        lVar3 = lVar3 + *plVar2;
        plVar2 = plVar2 + 2;
      } while (local_c0 + local_2108 * 2 != plVar2);
    }
  }
  if (local_c0 != local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    auVar5._8_8_ = uVar1;
    auVar5._0_8_ = lVar3;
    return auVar5;
  }
LAB_0012a996:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::getProperties(embree::sse2::PrimInfoExtRange const&) */

long __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::getProperties(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                *this,PrimInfoExtRange *param_1)

{
  ulong uVar1;
  long lVar2;
  ulong uVar3;
  float *pfVar4;
  long lVar5;
  long in_FS_OFFSET;
  float fVar6;
  float fVar7;
  float fVar8;
  float local_5c;
  long local_58;
  float local_50;
  undefined8 local_48;
  undefined1 local_40;
  float local_38 [4];
  undefined8 local_28;
  undefined8 uStack_20;
  long *local_18;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_28 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
              *)CONCAT44(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4),
                         *(float *)(param_1 + 0x10) - *(float *)param_1);
  uStack_20 = (float *)CONCAT44(*(float *)(param_1 + 0x1c) - *(float *)(param_1 + 0xc),
                                *(float *)(param_1 + 0x18) - *(float *)(param_1 + 8));
  fVar6 = (float)((uint)(*(float *)(param_1 + 0x10) - *(float *)param_1) & _LC37);
  fVar7 = (float)((uint)(*(float *)(param_1 + 0x14) - *(float *)(param_1 + 4)) & _LC37);
  fVar8 = (float)((uint)(*(float *)(param_1 + 0x18) - *(float *)(param_1 + 8)) & _LC37);
  if (fVar6 <= fVar7) {
    lVar5 = 4;
    if (fVar7 <= fVar8) {
      lVar5 = 8;
    }
    local_58 = 1;
    if (fVar7 <= fVar8) {
      local_58 = 2;
    }
  }
  else {
    uVar3 = (ulong)(fVar6 <= fVar8);
    local_58 = uVar3 * 2;
    lVar5 = uVar3 * 8;
  }
  uVar3 = *(ulong *)(param_1 + 0x40);
  local_50 = _LC39 / *(float *)((long)&local_28 + lVar5);
  local_40 = 1;
  local_48 = 0;
  pfVar4 = (float *)(uVar3 * 0x40 + *(long *)this);
  local_5c = pfVar4[3];
  uStack_20 = &local_5c;
  local_18 = &local_58;
  uVar1 = *(ulong *)(param_1 + 0x48);
  local_28 = this;
  if (uVar1 - uVar3 < 0x400) {
    if (uVar3 < uVar1) {
      lVar2 = 0;
      do {
        if (((uint)pfVar4[8] & 8) == 0) {
          local_38[3] = pfVar4[7] - pfVar4[3];
          local_38[0] = pfVar4[4] - *pfVar4;
          local_38[1] = pfVar4[5] - pfVar4[1];
          local_38[2] = pfVar4[6] - pfVar4[2];
          if (__LC12 < *(float *)((long)local_38 + lVar5) * local_50) {
            lVar2 = lVar2 + 3;
          }
        }
        pfVar4 = pfVar4 + 0x10;
      } while ((float *)(*(long *)this + uVar1 * 0x40) != pfVar4);
    }
    else {
      lVar2 = 0;
    }
  }
  else {
    lVar2 = parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,bool>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::getProperties(embree::sse2::PrimInfoExtRange_const&)::_lambda(std::pair<unsigned_long,bool>const&,std::pair<unsigned_long,bool>const&)_2_>
                      ((uVar1 - uVar3) + 0x1ff >> 9,uVar3,uVar1,0x200,(pair_conflict *)&local_48,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_28,
                       (_lambda_std__pair<unsigned_long,bool>_const__std__pair<unsigned_long,bool>_const___2_
                        *)local_38);
  }
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar2;
}



/* embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> >
   embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long,
   unsigned long, unsigned long, unsigned long, embree::sse2::BinInfoT<32ul,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long)::{lambda(embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::BinInfoT<32ul, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, embree::BBox<embree::Vec3fa> > const&)#2} const&) */

embree * __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)_2_>
          (embree *this,ulong param_1,ulong param_2,ulong param_3,ulong param_4,
          BinInfoT_conflict *param_5,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const___2_
          *param_7)

{
  BinInfoT_conflict *pBVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  ulong uVar12;
  embree *peVar13;
  undefined8 *puVar14;
  undefined1 (*pauVar15) [16];
  embree *peVar16;
  undefined8 *puVar17;
  undefined8 *puVar18;
  long lVar19;
  undefined1 (*pauVar20) [16];
  undefined1 (*pauVar21) [16];
  ulong uVar22;
  BinInfoT_conflict *pBVar23;
  embree *peVar24;
  undefined1 (*pauVar25) [16];
  undefined1 (*pauVar26) [16];
  undefined8 *puVar27;
  undefined1 (*pauVar28) [16];
  undefined1 (*pauVar29) [16];
  long in_FS_OFFSET;
  byte bVar30;
  undefined1 auVar31 [16];
  undefined1 (*local_2b38) [16];
  ulong local_2b18;
  ulong local_2b10;
  ulong local_2b08;
  ulong **local_2b00;
  ulong **local_2af8;
  ulong *local_2af0;
  ulong *local_2ae8;
  ulong *local_2ae0;
  undefined1 (*local_2ad8) [16];
  _lambda_embree__range<unsigned_long>_const___1_ *local_2ad0;
  undefined1 local_2ac0 [96];
  undefined8 local_2a60 [372];
  undefined8 local_1ec0;
  int aiStack_1eb8 [22];
  undefined8 local_1e60 [51];
  undefined8 local_1cc8;
  undefined1 local_1cc0 [7168];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  bVar30 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2b18 = param_3;
  local_2b10 = param_2;
  local_2b08 = param_1;
  uVar12 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2b08) {
    local_2b08 = 0x200;
  }
  if (uVar12 < local_2b08) {
    local_2b08 = uVar12;
  }
  local_b8 = local_2b08;
  if (local_2b08 * 0xe00 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_1cc0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2b08 * 0xe00,0x40);
  }
  local_2b38 = (undefined1 (*) [16])local_1cc0;
  local_2af0 = &local_2b10;
  local_2ad0 = param_6;
  local_2ae8 = &local_2b18;
  local_2ae0 = &local_2b08;
  local_2ad8 = local_2b38;
  if (local_2b08 != 0) {
    local_2af8 = &local_2af0;
    local_2b00 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse28BinInfoTILm32ENS4_19BVHNBuilderTwoLevelILi4ENS_12TriangleMeshENS_9TriangleMILi4EEEE8BuildRefENS_4BBoxINS_6Vec3faEEEEEZNS4_26HeuristicArrayOpenMergeSAHIZNSA_5buildEvEUlRSB_PSB_E5_SB_Lm32EE20parallel_object_findERKNS4_16PrimInfoExtRangeEmEUlRKNS_5rangeImEEE_ZNSK_20parallel_object_findESN_mEUlRKSF_SU_E0_EET0_T_SX_SX_SX_RKSW_RKT1_RKT2_EUlmE_EEvSX_SZ_EUlSR_E_EEvSX_SX_SX_SZ_PNS0_16TaskGroupContextE
              (0,local_2b08,1,&local_2af8,&local_2b00);
    embree::TaskScheduler::wait();
    if (local_2b00 != (ulong **)0x0) {
      local_2af8 = local_2b00;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_2af8);
      goto LAB_0012b77d;
    }
  }
  uVar12 = local_2b08;
  peVar16 = this + 0x60;
  pBVar1 = param_5 + 0xc00;
  do {
    peVar24 = peVar16 + -0x60;
    pBVar23 = param_5;
    do {
      peVar13 = peVar24;
      uVar8 = *(undefined8 *)(pBVar23 + 8);
      *(undefined8 *)peVar13 = *(undefined8 *)pBVar23;
      *(undefined8 *)(peVar13 + 8) = uVar8;
      uVar8 = *(undefined8 *)(pBVar23 + 0x18);
      *(undefined8 *)(peVar13 + 0x10) = *(undefined8 *)(pBVar23 + 0x10);
      *(undefined8 *)(peVar13 + 0x18) = uVar8;
      peVar24 = peVar13 + 0x20;
      pBVar23 = pBVar23 + 0x20;
    } while (peVar13 + 0x20 != peVar16);
    param_5 = param_5 + 0x60;
    peVar16 = peVar13 + 0x80;
  } while (param_5 != pBVar1);
  puVar14 = (undefined8 *)memmove(this + 0xc00,param_5,0x200);
  if (uVar12 != 0) {
    puVar27 = local_2a60;
    peVar16 = this;
    pauVar29 = local_c0;
    do {
      do {
        puVar17 = puVar27 + -0xc;
        peVar24 = peVar16;
        do {
          uVar8 = *(undefined8 *)peVar24;
          uVar9 = *(undefined8 *)(peVar24 + 8);
          uVar10 = *(undefined8 *)(peVar24 + 0x10);
          uVar11 = *(undefined8 *)(peVar24 + 0x18);
          puVar18 = puVar17 + 4;
          peVar24 = peVar24 + 0x20;
          *puVar17 = uVar8;
          puVar17[1] = uVar9;
          puVar17[2] = uVar10;
          puVar17[3] = uVar11;
          puVar17 = puVar18;
        } while (puVar27 != puVar18);
        puVar27 = puVar27 + 0xc;
        peVar16 = peVar16 + 0x60;
      } while (local_1e60 != puVar27);
      puVar27 = puVar14;
      pauVar21 = (undefined1 (*) [16])&local_1ec0;
      for (lVar19 = 0x40; lVar19 != 0; lVar19 = lVar19 + -1) {
        *(undefined8 *)*pauVar21 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        pauVar21 = (undefined1 (*) [16])(pauVar21[-(ulong)bVar30] + 8);
      }
      lVar19 = **(long **)param_7;
      pauVar21 = (undefined1 (*) [16])local_2ac0;
      peVar16 = this;
      if (lVar19 != 0) {
        pauVar15 = (undefined1 (*) [16])local_2ac0;
        pauVar20 = pauVar29;
        pauVar25 = pauVar29;
        pauVar28 = (undefined1 (*) [16])&local_1ec0;
        do {
          iVar2 = *(int *)(*pauVar28 + 4);
          iVar3 = *(int *)(*pauVar28 + 8);
          iVar4 = *(int *)(*pauVar28 + 0xc);
          pauVar26 = pauVar25 + 1;
          iVar5 = *(int *)(pauVar25[0xc0] + 4);
          iVar6 = *(int *)(pauVar25[0xc0] + 8);
          iVar7 = *(int *)(pauVar25[0xc0] + 0xc);
          *(int *)*pauVar28 = *(int *)*pauVar28 + *(int *)pauVar25[0xc0];
          *(int *)(*pauVar28 + 4) = iVar2 + iVar5;
          *(int *)(*pauVar28 + 8) = iVar3 + iVar6;
          *(int *)(*pauVar28 + 0xc) = iVar4 + iVar7;
          auVar31 = minps(*pauVar15,*pauVar20);
          *pauVar15 = auVar31;
          auVar31 = maxps(pauVar15[1],pauVar20[1]);
          pauVar15[1] = auVar31;
          auVar31 = minps(pauVar15[2],pauVar20[2]);
          pauVar15[2] = auVar31;
          auVar31 = maxps(pauVar15[3],pauVar20[3]);
          pauVar15[3] = auVar31;
          auVar31 = minps(pauVar15[4],pauVar20[4]);
          pauVar15[4] = auVar31;
          auVar31 = maxps(pauVar15[5],pauVar20[5]);
          pauVar15[5] = auVar31;
          pauVar15 = pauVar15 + 6;
          pauVar20 = pauVar20 + 6;
          pauVar25 = pauVar26;
          pauVar28 = pauVar28 + 1;
        } while (pauVar26 != pauVar29 + lVar19);
      }
      do {
        lVar19 = 0;
        do {
          uVar8 = *(undefined8 *)((long)(*pauVar21 + lVar19) + 8);
          uVar9 = *(undefined8 *)(pauVar21[1] + lVar19);
          uVar10 = *(undefined8 *)((long)(pauVar21[1] + lVar19) + 8);
          *(undefined8 *)(peVar16 + lVar19) = *(undefined8 *)(*pauVar21 + lVar19);
          *(undefined8 *)(peVar16 + lVar19 + 8) = uVar8;
          *(undefined8 *)(peVar16 + lVar19 + 0x10) = uVar9;
          *(undefined8 *)(peVar16 + lVar19 + 0x10 + 8) = uVar10;
          lVar19 = lVar19 + 0x20;
        } while (lVar19 != 0x60);
        pauVar21 = pauVar21 + 6;
        peVar16 = peVar16 + 0x60;
      } while (pauVar21 != (undefined1 (*) [16])&local_1ec0);
      pauVar29 = pauVar29 + 0xe0;
      *puVar14 = local_1ec0;
      *(undefined8 *)(this + 0xdf8) = local_1cc8;
      lVar19 = (long)puVar14 - (long)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      puVar27 = (undefined8 *)((long)&local_1ec0 - lVar19);
      puVar17 = (undefined8 *)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      for (uVar22 = (ulong)((int)lVar19 + 0x200U >> 3); uVar22 != 0; uVar22 = uVar22 - 1) {
        *puVar17 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        puVar17 = puVar17 + (ulong)bVar30 * -2 + 1;
      }
      puVar27 = local_2a60;
      peVar16 = this;
    } while (local_c0 + uVar12 * 0xe0 != pauVar29);
  }
  if (local_c0 != local_2b38) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
LAB_0012b77d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange
   const&, unsigned long) */

PrimInfoExtRange *
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::parallel_object_find(PrimInfoExtRange *param_1,ulong param_2)

{
  undefined1 (*pauVar1) [16];
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined1 auVar9 [12];
  long lVar10;
  long lVar11;
  BinInfoT_conflict *pBVar12;
  long lVar13;
  BinInfoT_conflict *pBVar14;
  ulong uVar15;
  int in_ECX;
  BinInfoT_conflict *pBVar16;
  float *pfVar17;
  long in_RDX;
  long lVar18;
  ulong uVar19;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var20;
  ulong uVar21;
  long in_FS_OFFSET;
  byte bVar22;
  undefined1 auVar23 [16];
  uint uVar24;
  undefined8 uVar25;
  uint uVar27;
  uint uVar28;
  undefined1 auVar26 [16];
  undefined8 uVar29;
  uint uVar30;
  int iVar31;
  int iVar33;
  int iVar34;
  undefined1 auVar32 [16];
  int iVar35;
  uint uVar36;
  uint uVar37;
  uint uVar38;
  uint uVar39;
  undefined1 auVar40 [16];
  undefined1 auVar41 [8];
  undefined8 uVar42;
  undefined1 auVar43 [16];
  float fVar45;
  float fVar46;
  undefined1 auVar44 [16];
  undefined1 auVar47 [16];
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  uint uVar52;
  uint uVar53;
  uint uVar54;
  uint uVar55;
  undefined1 local_1f60 [16];
  undefined1 local_1f50 [16];
  undefined1 local_1f40 [16];
  undefined1 local_1f30 [16];
  undefined1 local_1f20 [8];
  undefined8 uStack_1f18;
  undefined1 local_1f10 [16];
  ulong *local_1ef8;
  ulong local_1ef0;
  ulong *local_1ee8;
  ulong local_1ee0;
  ulong local_1ed8;
  undefined1 local_1ed0 [16];
  undefined1 local_1ec0 [16];
  ulong local_1eb0 [2];
  float local_1ea0;
  float fStack_1e9c;
  float fStack_1e98;
  float fStack_1e94;
  float local_1e90;
  uint uStack_1e8c;
  uint uStack_1e88;
  uint uStack_1e84;
  float local_1e80 [128];
  BinInfoT_conflict local_1c80 [3056];
  int local_1090 [4];
  BinInfoT_conflict local_1080 [4];
  int aiStack_107c [127];
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [4];
  int aiStack_e7c [767];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [568];
  long local_48;
  
  bVar22 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pBVar16 = local_1c80;
  pBVar14 = local_1080;
  do {
    *(float *)(pBVar16 + 0x40) = _LC9;
    *(float *)(pBVar16 + 0x44) = _LC9;
    *(float *)(pBVar16 + 0x48) = _LC9;
    *(float *)(pBVar16 + 0x4c) = _LC9;
    pBVar12 = pBVar16 + 0x60;
    *(undefined4 *)(pBVar16 + 0x50) = _LC11;
    *(undefined4 *)(pBVar16 + 0x54) = _LC11;
    *(undefined4 *)(pBVar16 + 0x58) = _LC11;
    *(undefined4 *)(pBVar16 + 0x5c) = _LC11;
    *(float *)(pBVar16 + 0x20) = _LC9;
    *(float *)(pBVar16 + 0x24) = _LC9;
    *(float *)(pBVar16 + 0x28) = _LC9;
    *(float *)(pBVar16 + 0x2c) = _LC9;
    *(undefined4 *)(pBVar16 + 0x30) = _LC11;
    *(undefined4 *)(pBVar16 + 0x34) = _LC11;
    *(undefined4 *)(pBVar16 + 0x38) = _LC11;
    *(undefined4 *)(pBVar16 + 0x3c) = _LC11;
    *(float *)pBVar16 = _LC9;
    *(float *)(pBVar16 + 4) = _LC9;
    *(float *)(pBVar16 + 8) = _LC9;
    *(float *)(pBVar16 + 0xc) = _LC9;
    *(undefined4 *)(pBVar16 + 0x10) = _LC11;
    *(undefined4 *)(pBVar16 + 0x14) = _LC11;
    *(undefined4 *)(pBVar16 + 0x18) = _LC11;
    *(undefined4 *)(pBVar16 + 0x1c) = _LC11;
    *(undefined1 (*) [16])pBVar14 = (undefined1  [16])0x0;
    pBVar16 = pBVar12;
    pBVar14 = pBVar14 + 0x10;
  } while (local_1080 != pBVar12);
  pauVar1 = (undefined1 (*) [16])(in_RDX + 0x20);
  local_1ea0 = *(float *)*pauVar1;
  fStack_1e9c = *(float *)(in_RDX + 0x24);
  fStack_1e98 = *(float *)(in_RDX + 0x28);
  auVar9 = *(undefined1 (*) [12])*pauVar1;
  fStack_1e94 = *(float *)(in_RDX + 0x2c);
  auVar40 = *pauVar1;
  local_1ef8 = local_1eb0;
  uVar21 = *(ulong *)(in_RDX + 0x48);
  local_1eb0[0] = 0x20;
  auVar26._0_4_ = *(float *)(in_RDX + 0x30) - local_1ea0;
  auVar26._4_4_ = *(float *)(in_RDX + 0x34) - fStack_1e9c;
  auVar26._8_4_ = *(float *)(in_RDX + 0x38) - fStack_1e98;
  auVar26._12_4_ = *(float *)(in_RDX + 0x3c) - fStack_1e94;
  uVar15 = *(ulong *)(in_RDX + 0x40);
  auVar32._4_4_ = _LC23;
  auVar32._0_4_ = _LC23;
  auVar32._8_4_ = _LC23;
  auVar32._12_4_ = _LC23;
  auVar32 = maxps(auVar32,auVar26);
  uVar19 = (uVar21 + 0x1ff) - uVar15 >> 9;
  auVar43._4_4_ = _LC25;
  auVar43._0_4_ = _LC25;
  auVar43._8_4_ = _LC25;
  auVar43._12_4_ = _LC25;
  auVar26 = divps(auVar43,auVar32);
  local_1e90 = (float)(auVar26._0_4_ & -(uint)(_LC23 < auVar32._0_4_));
  uStack_1e8c = auVar26._4_4_ & -(uint)(_LC23 < auVar32._4_4_);
  uStack_1e88 = auVar26._8_4_ & -(uint)(_LC23 < auVar32._8_4_);
  uStack_1e84 = auVar26._12_4_ & -(uint)(_LC23 < auVar32._12_4_);
  local_1f30._4_4_ = uStack_1e8c;
  local_1f30._0_4_ = local_1e90;
  local_1f30._8_4_ = uStack_1e88;
  local_1f30._12_4_ = uStack_1e84;
  local_1ef0 = param_2;
  local_1ee8 = local_1ef8;
  if (uVar19 == 1) {
    local_1ee0 = uVar15;
    local_1ed8 = uVar21;
    parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
    {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_e80,(range *)&local_1ef0);
    auVar23._4_12_ = _UNK_001336d4;
    auVar23._0_4_ = _LC11;
    lVar18 = 0x1f;
    local_1f60._4_12_ = _UNK_001336c4;
    local_1f60._0_4_ = _LC9;
    local_1f20 = auVar9._0_8_;
    uStack_1f18 = auVar40._8_8_;
    uVar21 = 0x20;
    auVar41 = local_1f20;
    uVar42 = uStack_1f18;
    uVar25 = local_1f30._0_8_;
    uVar29 = local_1f30._8_8_;
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BBox<embree::Vec3fa>>const&)_2_>
              ((embree *)local_e80,uVar19,uVar15,uVar21,0x200,local_1c80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1ef0,
               (_lambda_embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>_>::BuildRef,embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_1ef8);
    auVar41 = (undefined1  [8])CONCAT44(fStack_1e9c,local_1ea0);
    uVar42 = CONCAT44(fStack_1e94,fStack_1e98);
    uVar25 = CONCAT44(uStack_1e8c,local_1e90);
    uVar29 = CONCAT44(uStack_1e84,uStack_1e88);
    local_1f60._4_12_ = _UNK_001336c4;
    local_1f60._0_4_ = _LC9;
    auVar23._4_12_ = _UNK_001336d4;
    auVar23._0_4_ = _LC11;
    lVar18 = local_1eb0[0] - 1;
    uVar21 = local_1eb0[0];
  }
  pBVar16 = local_1c80;
  p_Var20 = local_e80;
  do {
    lVar13 = 0;
    do {
      uVar6 = *(undefined8 *)(p_Var20 + lVar13 + 8);
      uVar7 = *(undefined8 *)(p_Var20 + lVar13 + 0x10);
      uVar8 = *(undefined8 *)(p_Var20 + lVar13 + 0x10 + 8);
      *(undefined8 *)(pBVar16 + lVar13) = *(undefined8 *)(p_Var20 + lVar13);
      *(undefined8 *)(pBVar16 + lVar13 + 8) = uVar6;
      *(undefined8 *)(pBVar16 + lVar13 + 0x10) = uVar7;
      *(undefined8 *)(pBVar16 + lVar13 + 0x10 + 8) = uVar8;
      lVar13 = lVar13 + 0x20;
    } while (lVar13 != 0x60);
    p_Var20 = p_Var20 + 0x60;
    pBVar16 = pBVar16 + 0x60;
  } while (p_Var20 != local_280);
  pBVar16 = local_1080;
  for (lVar13 = 0x40; lVar13 != 0; lVar13 = lVar13 + -1) {
    *(undefined8 *)pBVar16 = *(undefined8 *)p_Var20;
    p_Var20 = p_Var20 + ((ulong)bVar22 * -2 + 1) * 8;
    pBVar16 = pBVar16 + (ulong)bVar22 * -0x10 + 8;
  }
  if (lVar18 == 0) {
    local_1ed0 = local_1f60;
    local_1ec0 = (undefined1  [16])0x0;
  }
  else {
    lVar13 = lVar18 * 0x10;
    iVar31 = 0;
    iVar33 = 0;
    iVar34 = 0;
    iVar35 = 0;
    pBVar16 = local_1c80 + lVar18 * 0x60;
    pfVar17 = local_1e80 + lVar18 * 4;
    auVar40 = local_1f60;
    auVar26 = auVar23;
    auVar43 = local_1f60;
    auVar32 = auVar23;
    auVar44 = local_1f60;
    auVar47 = auVar23;
    do {
      auVar26 = maxps(auVar26,*(undefined1 (*) [16])(pBVar16 + 0x10));
      auVar40 = minps(auVar40,*(undefined1 (*) [16])pBVar16);
      pBVar14 = pBVar16 + -0x60;
      iVar2 = *(int *)(local_1080 + lVar13);
      iVar3 = *(int *)((long)aiStack_107c + lVar13);
      iVar4 = *(int *)((long)aiStack_107c + lVar13 + 4);
      iVar5 = *(int *)((long)aiStack_107c + lVar13 + 8);
      auVar32 = maxps(auVar32,*(undefined1 (*) [16])(pBVar16 + 0x30));
      pfVar17[3] = 0.0;
      auVar43 = minps(auVar43,*(undefined1 (*) [16])(pBVar16 + 0x20));
      auVar47 = maxps(auVar47,*(undefined1 (*) [16])(pBVar16 + 0x50));
      iVar31 = iVar2 + iVar31;
      iVar33 = iVar3 + iVar33;
      iVar34 = iVar4 + iVar34;
      iVar35 = iVar5 + iVar35;
      auVar44 = minps(auVar44,*(undefined1 (*) [16])(pBVar16 + 0x40));
      fVar48 = auVar26._4_4_ - auVar40._4_4_;
      fVar50 = auVar26._8_4_ - auVar40._8_4_;
      *(int *)(local_e80 + lVar13) = iVar31;
      *(int *)((long)aiStack_e7c + lVar13) = iVar33;
      *(int *)((long)aiStack_e7c + lVar13 + 4) = iVar34;
      *(int *)((long)aiStack_e7c + lVar13 + 8) = iVar35;
      lVar13 = lVar13 + -0x10;
      fVar49 = auVar32._4_4_ - auVar43._4_4_;
      fVar51 = auVar32._8_4_ - auVar43._8_4_;
      *pfVar17 = (fVar48 + fVar50) * (auVar26._0_4_ - auVar40._0_4_) + fVar48 * fVar50;
      fVar48 = auVar47._4_4_ - auVar44._4_4_;
      fVar50 = auVar47._8_4_ - auVar44._8_4_;
      pfVar17[1] = (fVar49 + fVar51) * (auVar32._0_4_ - auVar43._0_4_) + fVar49 * fVar51;
      pfVar17[2] = (fVar48 + fVar50) * (auVar47._0_4_ - auVar44._0_4_) + fVar48 * fVar50;
      pBVar16 = pBVar14;
      pfVar17 = pfVar17 + -4;
    } while (local_1c80 != pBVar14);
    local_1ed0 = local_1f60;
    local_1ec0 = (undefined1  [16])0x0;
    iVar31 = (1 << ((byte)in_ECX & 0x1f)) + -1;
    if (1 < uVar21) {
      lVar18 = 0x10;
      local_1f10 = (undefined1  [16])0x0;
      local_1f30 = (undefined1  [16])0x0;
      auVar40 = auVar23;
      auVar26 = auVar23;
      uVar52 = __LC30;
      uVar53 = _UNK_001336f4;
      uVar54 = _UNK_001336f8;
      uVar55 = _UNK_001336fc;
      local_1f50 = local_1f60;
      local_1f40 = local_1f60;
      _local_1f20 = local_1f60;
      do {
        auVar26 = maxps(auVar26,*(undefined1 (*) [16])(pBVar14 + 0x30));
        auVar23 = maxps(auVar23,*(undefined1 (*) [16])(pBVar14 + 0x50));
        local_1f50 = minps(local_1f50,*(undefined1 (*) [16])(pBVar14 + 0x20));
        local_1f60 = minps(local_1f60,*(undefined1 (*) [16])(pBVar14 + 0x40));
        auVar40 = maxps(auVar40,*(undefined1 (*) [16])(pBVar14 + 0x10));
        fVar50 = auVar26._4_4_ - local_1f50._4_4_;
        fVar51 = auVar26._8_4_ - local_1f50._8_4_;
        local_1f40 = minps(local_1f40,*(undefined1 (*) [16])pBVar14);
        fVar48 = auVar23._4_4_ - local_1f60._4_4_;
        fVar49 = auVar23._8_4_ - local_1f60._8_4_;
        local_1f30._0_4_ = local_1f30._0_4_ + *(int *)((long)local_1090 + lVar18);
        local_1f30._4_4_ = local_1f30._4_4_ + *(int *)((long)local_1090 + lVar18 + 4);
        local_1f30._8_4_ = local_1f30._8_4_ + *(int *)((long)local_1090 + lVar18 + 8);
        local_1f30._12_4_ = local_1f30._12_4_ + *(int *)((long)local_1090 + lVar18 + 0xc);
        fVar45 = auVar40._4_4_ - local_1f40._4_4_;
        fVar46 = auVar40._8_4_ - local_1f40._8_4_;
        fVar48 = (fVar48 + fVar49) * (auVar23._0_4_ - local_1f60._0_4_) + fVar48 * fVar49;
        uVar24 = (uint)(local_1f30._0_4_ + iVar31) >> in_ECX;
        uVar27 = (uint)(local_1f30._4_4_ + iVar31) >> in_ECX;
        uVar28 = (uint)(local_1f30._8_4_ + iVar31) >> in_ECX;
        uVar30 = (uint)(local_1f30._12_4_ + iVar31) >> in_ECX;
        uVar36 = (uint)(iVar31 + *(int *)(local_e80 + lVar18)) >> in_ECX;
        uVar37 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18)) >> in_ECX;
        uVar38 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18 + 4)) >> in_ECX;
        uVar39 = (uint)(iVar31 + *(int *)((long)aiStack_e7c + lVar18 + 8)) >> in_ECX;
        pfVar17 = (float *)((long)local_1e80 + lVar18);
        lVar13 = lVar18 + 4;
        lVar10 = lVar18 + 8;
        lVar11 = lVar18 + 0xc;
        lVar18 = lVar18 + 0x10;
        fVar49 = ((fVar45 + fVar46) * (auVar40._0_4_ - local_1f40._0_4_) + fVar45 * fVar46) *
                 ((float)(int)(uVar24 & _LC37) + (float)((int)uVar24 >> 0x1f & __LC29)) +
                 ((float)(int)(uVar36 & _LC37) + (float)((int)uVar36 >> 0x1f & __LC29)) * *pfVar17;
        fVar50 = ((fVar50 + fVar51) * (auVar26._0_4_ - local_1f50._0_4_) + fVar50 * fVar51) *
                 ((float)(int)(uVar27 & _UNK_00133714) +
                 (float)((int)uVar27 >> 0x1f & _UNK_00133724)) +
                 ((float)(int)(uVar37 & _UNK_00133714) +
                 (float)((int)uVar37 >> 0x1f & _UNK_00133724)) *
                 *(float *)((long)local_1e80 + lVar13);
        fVar51 = fVar48 * ((float)(int)(uVar28 & _UNK_00133718) +
                          (float)((int)uVar28 >> 0x1f & _UNK_00133728)) +
                 ((float)(int)(uVar38 & _UNK_00133718) +
                 (float)((int)uVar38 >> 0x1f & _UNK_00133728)) *
                 *(float *)((long)local_1e80 + lVar10);
        fVar48 = fVar48 * ((float)(int)(uVar30 & _UNK_0013371c) +
                          (float)((int)uVar30 >> 0x1f & _UNK_0013372c)) +
                 ((float)(int)(uVar39 & _UNK_0013371c) +
                 (float)((int)uVar39 >> 0x1f & _UNK_0013372c)) *
                 *(float *)((long)local_1e80 + lVar11);
        uVar24 = -(uint)(fVar49 < (float)local_1f20._0_4_);
        uVar27 = -(uint)(fVar50 < (float)local_1f20._4_4_);
        uVar28 = -(uint)(fVar51 < (float)uStack_1f18);
        uVar30 = -(uint)(fVar48 < uStack_1f18._4_4_);
        local_1f10._0_4_ = uVar52 & uVar24 | ~uVar24 & local_1f10._0_4_;
        local_1f10._4_4_ = uVar53 & uVar27 | ~uVar27 & local_1f10._4_4_;
        local_1f10._8_4_ = uVar54 & uVar28 | ~uVar28 & local_1f10._8_4_;
        local_1f10._12_4_ = uVar55 & uVar30 | ~uVar30 & local_1f10._12_4_;
        local_1f20._0_4_ = (uint)fVar49 & uVar24 | ~uVar24 & local_1f20._0_4_;
        local_1f20._4_4_ = (uint)fVar50 & uVar27 | ~uVar27 & local_1f20._4_4_;
        uStack_1f18._0_4_ = (float)((uint)fVar51 & uVar28 | ~uVar28 & (uint)(float)uStack_1f18);
        uStack_1f18._4_4_ = (float)((uint)fVar48 & uVar30 | ~uVar30 & (uint)uStack_1f18._4_4_);
        pBVar14 = pBVar14 + 0x60;
        uVar52 = uVar52 + __LC30;
        uVar53 = uVar53 + _UNK_001336f4;
        uVar54 = uVar54 + _UNK_001336f8;
        uVar55 = uVar55 + _UNK_001336fc;
      } while (lVar18 != uVar21 << 4);
      local_1ec0._4_4_ = local_1f10._4_4_;
      local_1ec0._0_4_ = local_1f10._0_4_;
      local_1ec0._8_4_ = local_1f10._8_4_;
      local_1ec0._12_4_ = local_1f10._12_4_;
      local_1ed0._4_4_ = local_1f20._4_4_;
      local_1ed0._0_4_ = local_1f20._0_4_;
      local_1ed0._8_4_ = (float)uStack_1f18;
      local_1ed0._12_4_ = uStack_1f18._4_4_;
    }
  }
  uVar15 = 0;
  iVar31 = 0;
  uVar19 = 0xffffffff;
  fVar48 = _LC9;
  do {
    if (((&local_1e90)[uVar15] != 0.0) && (*(float *)(local_1ed0 + uVar15 * 4) < fVar48)) {
      if (*(int *)(local_1ec0 + uVar15 * 4) != 0) {
        uVar19 = uVar15 & 0xffffffff;
        fVar48 = *(float *)(local_1ed0 + uVar15 * 4);
        iVar31 = *(int *)(local_1ec0 + uVar15 * 4);
      }
    }
    uVar15 = uVar15 + 1;
  } while (uVar15 != 3);
  *(int *)(param_1 + 4) = (int)uVar19;
  *(int *)(param_1 + 8) = iVar31;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(ulong *)(param_1 + 0x10) = uVar21;
  *(float *)param_1 = fVar48;
  *(undefined1 (*) [8])(param_1 + 0x20) = auVar41;
  *(undefined8 *)(param_1 + 0x28) = uVar42;
  *(undefined8 *)(param_1 + 0x30) = uVar25;
  *(undefined8 *)(param_1 + 0x38) = uVar29;
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>::find(embree::sse2::PrimInfoExtRange&, unsigned long) */

HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
* __thiscall
embree::sse2::
HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
::find(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
       *this,PrimInfoExtRange *param_1,ulong param_2)

{
  undefined1 (*pauVar1) [16];
  undefined1 auVar2 [16];
  long lVar3;
  bool bVar4;
  ulong uVar5;
  uint uVar6;
  ulong uVar7;
  undefined1 (*pauVar8) [16];
  char extraout_DL;
  ulong uVar9;
  long lVar10;
  ulong uVar11;
  long lVar12;
  long in_FS_OFFSET;
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  
  uVar5 = *(ulong *)(param_2 + 0x40);
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  uVar7 = *(ulong *)(param_2 + 0x48);
  uVar9 = uVar7 - uVar5;
  if (uVar9 < 2) {
    *(undefined8 *)(this + 8) = 0;
    *(undefined8 *)this = 0xffffffff7f800000;
    goto LAB_0012bebb;
  }
  bVar4 = *(ulong *)(param_2 + 0x50) != uVar7 && uVar9 < 5;
  if (bVar4) {
    uVar9 = uVar5 + 1;
    lVar12 = uVar5 * 0x40;
    uVar11 = uVar9;
    if (uVar5 < uVar7 - 1) {
      do {
        if (uVar9 < uVar7) {
          pauVar8 = (undefined1 (*) [16])(uVar5 * 0x40 + *(long *)param_1);
          lVar10 = *(long *)param_1 + lVar12;
          pauVar1 = pauVar8 + 1;
          auVar2 = *pauVar8;
          uVar5 = uVar9;
          do {
            auVar15 = minps(*pauVar1,*(undefined1 (*) [16])(lVar10 + 0x50));
            auVar13 = maxps(auVar2,*(undefined1 (*) [16])(lVar10 + 0x40));
            auVar14._4_4_ = -(uint)(auVar13._4_4_ <= auVar15._4_4_);
            auVar14._0_4_ = -(uint)(auVar13._0_4_ <= auVar15._0_4_);
            auVar14._8_4_ = -(uint)(auVar13._8_4_ <= auVar15._8_4_);
            auVar14._12_4_ = -(uint)(auVar13._12_4_ <= auVar15._12_4_);
            uVar6 = movmskps((int)pauVar8,auVar14);
            pauVar8 = (undefined1 (*) [16])(ulong)(~uVar6 & 7);
            if ((~uVar6 & 7) == 0) {
              bVar4 = false;
              break;
            }
            uVar5 = uVar5 + 1;
            lVar10 = lVar10 + 0x40;
          } while (uVar5 < uVar7);
        }
        if (uVar11 == uVar7 - 1) goto LAB_0012bedd;
        uVar5 = uVar11;
        uVar11 = uVar11 + 1;
      } while( true );
    }
    goto LAB_0012bee2;
  }
  if (*(ulong *)(param_2 + 0x50) != uVar7) goto LAB_0012bf20;
LAB_0012bea1:
  if (0x3ff < uVar9) {
    parallel_object_find((PrimInfoExtRange *)this,(ulong)param_1);
    goto LAB_0012bebb;
  }
  goto LAB_0012bef0;
LAB_0012bedd:
  if (!bVar4) {
LAB_0012bf20:
    uVar5 = getProperties((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                           *)param_1,(PrimInfoExtRange *)param_2);
    if (extraout_DL == '\0') {
      lVar12 = *(long *)(param_2 + 0x50);
      lVar10 = *(long *)(param_2 + 0x48);
      if (lVar12 == lVar10) {
        uVar9 = lVar12 - *(long *)(param_2 + 0x40);
      }
      else {
        uVar7 = lVar12 - lVar10;
        if (uVar5 <= uVar7) {
          openNodesBasedOnExtend
                    ((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                      *)param_1,(PrimInfoExtRange *)param_2);
          lVar10 = *(long *)(param_2 + 0x48);
          uVar7 = *(long *)(param_2 + 0x50) - lVar10;
        }
        if (uVar7 < *(long *)(param_1 + 0x10) - 1U) {
          *(long *)(param_2 + 0x50) = lVar10;
        }
        uVar9 = lVar10 - *(long *)(param_2 + 0x40);
      }
    }
    else {
      *(long *)(param_2 + 0x50) = *(long *)(param_2 + 0x48);
      uVar9 = *(long *)(param_2 + 0x48) - *(long *)(param_2 + 0x40);
    }
    goto LAB_0012bea1;
  }
LAB_0012bee2:
  *(ulong *)(param_2 + 0x50) = uVar7;
LAB_0012bef0:
  sequential_object_find((PrimInfoExtRange *)this,(ulong)param_1);
LAB_0012bebb:
  if (lVar3 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator, bool) */

undefined8 *
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(unsigned_long)#8}>
::recurse(ulong *param_1,long *param_2,char param_3)

{
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  *pHVar1;
  long lVar2;
  undefined8 *puVar3;
  float *pfVar4;
  long *plVar5;
  undefined8 uVar6;
  MutexSys *this;
  long *plVar7;
  ulong uVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  ulong uVar11;
  long lVar12;
  long lVar13;
  ulong uVar14;
  long lVar15;
  long in_FS_OFFSET;
  float fVar16;
  float fVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  float fVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  FastAllocator *in_stack_00000008;
  long *in_stack_00000010;
  long *local_9d8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  *pHStack_9b0;
  long local_9a8;
  undefined8 uStack_9a0;
  undefined8 local_998;
  undefined8 uStack_990;
  undefined8 local_988;
  undefined8 uStack_980;
  undefined8 local_978;
  undefined8 uStack_970;
  long local_968;
  long local_960;
  undefined8 local_958;
  undefined8 local_948;
  undefined8 uStack_940;
  undefined4 local_938;
  undefined4 uStack_934;
  undefined4 uStack_930;
  undefined4 uStack_92c;
  undefined8 local_928;
  undefined8 uStack_920;
  undefined8 local_918;
  undefined8 uStack_910;
  undefined8 local_908;
  undefined8 local_900;
  undefined8 local_8f8;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  *local_8e8;
  undefined1 local_8e0;
  undefined4 local_8d8;
  undefined4 uStack_8d4;
  undefined4 uStack_8d0;
  undefined4 uStack_8cc;
  float local_8c8;
  float fStack_8c4;
  float fStack_8c0;
  float fStack_8bc;
  undefined4 local_8b8;
  undefined4 uStack_8b4;
  undefined4 uStack_8b0;
  undefined4 uStack_8ac;
  float local_8a8;
  float fStack_8a4;
  float fStack_8a0;
  float fStack_89c;
  long local_898;
  long lStack_890;
  long local_888;
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  *local_878;
  long *local_870;
  undefined8 local_868;
  undefined4 uStack_860;
  undefined4 uStack_85c;
  float local_858;
  float fStack_854;
  float fStack_850;
  float fStack_84c;
  undefined4 local_848;
  undefined4 uStack_844;
  undefined4 uStack_840;
  undefined4 uStack_83c;
  float local_838;
  float fStack_834;
  float fStack_830;
  float fStack_82c;
  long local_828;
  long lStack_820;
  long local_818;
  float local_808 [16];
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  local_7c8 [128];
  long local_748;
  undefined1 local_740 [8];
  long local_738 [4];
  undefined8 local_718;
  undefined8 uStack_710;
  undefined8 local_708;
  undefined8 uStack_700;
  long local_6f8;
  long local_6f0;
  undefined8 local_6e8;
  long local_6d8;
  undefined1 local_6d0;
  undefined8 local_6c8;
  undefined8 uStack_6c0;
  undefined4 local_6b8;
  undefined4 uStack_6b4;
  undefined4 uStack_6b0;
  undefined4 uStack_6ac;
  undefined8 local_6a8;
  undefined8 uStack_6a0;
  undefined8 local_698;
  undefined8 uStack_690;
  undefined8 local_688;
  undefined8 local_680;
  undefined8 local_678;
  long local_668 [196];
  long lStack_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_9d8 = in_stack_00000010;
  if (in_stack_00000008 == (FastAllocator *)0x0) {
    in_stack_00000008 = *(FastAllocator **)param_1[10];
    if (*(long *)(in_FS_OFFSET + lRam000000000012c67f) == 0) {
      this = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
                    /* WARNING: Subroutine does not return */
      embree::MutexSys::MutexSys(this);
    }
    local_9d8 = (long *)(*(long *)(in_FS_OFFSET + lRam000000000012c67f) + 0x40);
  }
  if ((param_3 != '\0') && ((ulong)(param_2[0xb] - param_2[10]) <= param_1[6])) {
    embree::Scene::progressMonitor(0.0);
  }
  HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
  ::find((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
          *)local_808,(PrimInfoExtRange *)param_1[9],(ulong)(param_2 + 2));
  lVar15 = param_2[10];
  uVar14 = param_2[0xb] - lVar15;
  if (((uVar14 <= param_1[3]) || (param_1[1] <= *param_2 + 8U)) ||
     ((uVar14 <= param_1[4] &&
      (fVar17 = *(float *)((long)param_2 + 0x24) - *(float *)((long)param_2 + 0x14),
      fVar17 = (*(float *)(param_2 + 4) - *(float *)(param_2 + 2)) *
               (fVar17 + (*(float *)(param_2 + 5) - *(float *)(param_2 + 3))) +
               fVar17 * (*(float *)(param_2 + 5) - *(float *)(param_2 + 3)),
      (float)((uVar14 - 1) + (1L << ((byte)param_1[2] & 0x3f)) >> ((byte)param_1[2] & 0x3f)) *
      fVar17 * *(float *)((long)param_1 + 0x2c) <=
      fVar17 * *(float *)(param_1 + 5) + *(float *)((long)param_1 + 0x2c) * local_808[0])))) {
    lVar2 = param_2[0xb] * 0x40;
    lVar13 = *(long *)param_1[9] + lVar2;
    lVar12 = *(long *)param_1[9] + lVar15 * 0x40;
    if (lVar13 != lVar12) {
      lVar2 = lVar2 + lVar15 * -0x40;
      uVar14 = lVar2 >> 6;
      if (uVar14 == 0) {
        std::
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (lVar12,lVar13,0xfffffffffffffffe);
      }
      else {
        lVar15 = 0x3f;
        if (uVar14 != 0) {
          for (; uVar14 >> lVar15 == 0; lVar15 = lVar15 + -1) {
          }
        }
        std::
        __introsort_loop<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (lVar12,lVar13,(long)(int)lVar15 * 2);
        if (0x400 < lVar2) {
          lVar15 = lVar12 + 0x400;
          std::
          __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                    (lVar12);
          while (lVar13 != lVar15) {
            lVar2 = lVar15 + 0x40;
            std::
            __unguarded_linear_insert<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Val_less_iter>
                      (lVar15);
            lVar15 = lVar2;
          }
          goto LAB_0012c171;
        }
      }
      std::
      __insertion_sort<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*,__gnu_cxx::__ops::_Iter_less_iter>
                (lVar12,lVar13);
    }
LAB_0012c171:
    puVar3 = (undefined8 *)createLargeLeaf(param_1,param_2);
  }
  else {
    HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
    ::split((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
             *)param_1[9],(BinSplit *)local_808,(PrimInfoExtRange *)(param_2 + 2),
            (PrimInfoExtRange *)&local_9a8,(PrimInfoExtRange *)&local_948);
    fVar17 = _LC11;
    uVar22 = _LC9;
    local_740[0] = 0;
    local_6d0 = 0;
    local_738[0] = local_9a8;
    local_738[1] = uStack_9a0;
    local_748 = *param_2 + 1;
    local_6d8 = *param_2 + 1;
    local_738[2] = local_998;
    local_738[3] = uStack_990;
    local_688 = local_908;
    local_718 = local_988;
    uStack_710 = uStack_980;
    local_680 = local_900;
    local_708 = local_978;
    uStack_700 = uStack_970;
    local_6c8 = local_948;
    uStack_6c0 = uStack_940;
    local_6f8 = local_968;
    local_6f0 = local_960;
    local_6e8 = local_958;
    local_6b8 = local_938;
    uStack_6b4 = uStack_934;
    uStack_6b0 = uStack_930;
    uStack_6ac = uStack_92c;
    local_6a8 = local_928;
    uStack_6a0 = uStack_920;
    local_698 = local_918;
    uStack_690 = uStack_910;
    local_678 = local_8f8;
    fVar19 = fVar17;
    fVar20 = fVar17;
    fVar21 = fVar17;
    uVar23 = uVar22;
    uVar24 = uVar22;
    uVar25 = uVar22;
    if (*param_1 < 3) {
      uVar14 = param_1[7];
      if (uVar14 < (ulong)(param_2[0xb] - param_2[10])) {
        lVar15 = 0xe0;
        uVar11 = 2;
        goto LAB_0012ce57;
      }
      uVar11 = 2;
      plVar7 = local_668;
LAB_0012c75d:
      lVar15 = (long)plVar7 - (long)&local_748;
      uVar14 = (lVar15 >> 4) * 0x6db6db6db6db6db7;
      if (uVar14 == 0) {
        std::
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                  (&local_748,plVar7,0xfffffffffffffffe);
      }
      else {
        lVar13 = 0x3f;
        if (uVar14 != 0) {
          for (; uVar14 >> lVar13 == 0; lVar13 = lVar13 + -1) {
          }
        }
        std::
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                  (&local_748,plVar7,(long)(int)lVar13 * 2);
        if (0x700 < lVar15) {
          plVar5 = &lStack_48;
          std::
          __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                    (&local_748,plVar5);
          for (; plVar7 != plVar5; plVar5 = plVar5 + 0xe) {
            std::
            __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                      (plVar5);
          }
          goto LAB_0012c822;
        }
      }
      std::
      __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>>>>
                (&local_748,plVar7);
    }
    else {
      uVar11 = 2;
      plVar7 = local_668;
      do {
        uVar8 = 0;
        uVar14 = 0xffffffffffffffff;
        pfVar4 = (float *)local_738;
        lVar15 = local_6f0;
        lVar13 = local_6f8;
        fVar18 = _LC11;
        while( true ) {
          if ((param_1[3] < (ulong)(lVar15 - lVar13)) &&
             (fVar16 = (pfVar4[4] - *pfVar4) * ((pfVar4[5] - pfVar4[1]) + (pfVar4[6] - pfVar4[2])) +
                       (pfVar4[5] - pfVar4[1]) * (pfVar4[6] - pfVar4[2]), fVar18 < fVar16)) {
            uVar14 = uVar8;
            fVar18 = fVar16;
          }
          uVar8 = uVar8 + 1;
          if (uVar8 == uVar11) break;
          lVar15 = *(long *)(pfVar4 + 0x2e);
          lVar13 = *(long *)(pfVar4 + 0x2c);
          pfVar4 = pfVar4 + 0x1c;
        }
        if (uVar14 == 0xffffffffffffffff) {
          lVar15 = (long)plVar7 - (long)&local_748;
          goto LAB_0012c73a;
        }
        uVar11 = uVar11 + 1;
        local_8e8 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                     *)(*param_2 + 1);
        local_868 = (ulong *)CONCAT44(uVar22,uVar22);
        local_8e0 = 0;
        local_898 = 0;
        lStack_890 = 0;
        local_888 = 0;
        local_870 = (long *)((ulong)local_870 & 0xffffffffffffff00);
        local_828 = 0;
        lStack_820 = 0;
        local_818 = 0;
        local_8d8 = uVar22;
        uStack_8d4 = uVar22;
        uStack_8d0 = uVar22;
        uStack_8cc = uVar22;
        local_8c8 = fVar17;
        fStack_8c4 = fVar17;
        fStack_8c0 = fVar17;
        fStack_8bc = fVar17;
        local_8b8 = uVar22;
        uStack_8b4 = uVar22;
        uStack_8b0 = uVar22;
        uStack_8ac = uVar22;
        local_8a8 = fVar17;
        fStack_8a4 = fVar17;
        fStack_8a0 = fVar17;
        fStack_89c = fVar17;
        local_878 = local_8e8;
        uStack_860 = uVar22;
        uStack_85c = uVar22;
        local_858 = fVar17;
        fStack_854 = fVar17;
        fStack_850 = fVar17;
        fStack_84c = fVar17;
        local_848 = uVar22;
        uStack_844 = uVar22;
        uStack_840 = uVar22;
        uStack_83c = uVar22;
        local_838 = fVar17;
        fStack_834 = fVar17;
        fStack_830 = fVar17;
        fStack_82c = fVar17;
        HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
        ::find(local_7c8,(PrimInfoExtRange *)param_1[9],(ulong)(local_738 + uVar14 * 0xe));
        HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
        ::split((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                 *)param_1[9],(BinSplit *)local_7c8,(PrimInfoExtRange *)(local_738 + uVar14 * 0xe),
                (PrimInfoExtRange *)&local_8d8,(PrimInfoExtRange *)&local_868);
        *(HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
          **)(local_740 + uVar14 * 0x70 + -8) = local_8e8;
        local_740[uVar14 * 0x70] = local_8e0;
        local_738[uVar14 * 0xe + 10] = local_888;
        local_738[uVar14 * 0xe] = CONCAT44(uStack_8d4,local_8d8);
        local_738[uVar14 * 0xe + 1] = CONCAT44(uStack_8cc,uStack_8d0);
        local_738[uVar14 * 0xe + 2] = CONCAT44(fStack_8c4,local_8c8);
        local_738[uVar14 * 0xe + 3] = CONCAT44(fStack_8bc,fStack_8c0);
        local_738[uVar14 * 0xe + 4] = CONCAT44(uStack_8b4,local_8b8);
        local_738[uVar14 * 0xe + 5] = CONCAT44(uStack_8ac,uStack_8b0);
        local_738[uVar14 * 0xe + 6] = CONCAT44(fStack_8a4,local_8a8);
        local_738[uVar14 * 0xe + 7] = CONCAT44(fStack_89c,fStack_8a0);
        local_738[uVar14 * 0xe + 8] = local_898;
        local_738[uVar14 * 0xe + 9] = lStack_890;
        *plVar7 = (long)local_878;
        plVar7[2] = (long)local_868;
        plVar7[3] = CONCAT44(uStack_85c,uStack_860);
        *(undefined1 *)(plVar7 + 1) = local_870._0_1_;
        plVar7[4] = CONCAT44(fStack_854,local_858);
        plVar7[5] = CONCAT44(fStack_84c,fStack_850);
        plVar7[6] = CONCAT44(uStack_844,local_848);
        plVar7[7] = CONCAT44(uStack_83c,uStack_840);
        *(float *)(plVar7 + 8) = local_838;
        *(float *)((long)plVar7 + 0x44) = fStack_834;
        *(float *)(plVar7 + 9) = fStack_830;
        *(float *)((long)plVar7 + 0x4c) = fStack_82c;
        plVar7[10] = local_828;
        plVar7[0xb] = lStack_820;
        plVar7[0xc] = local_818;
        plVar7 = plVar7 + 0xe;
      } while (uVar11 < *param_1);
      lVar15 = uVar11 * 0x70;
LAB_0012c73a:
      uVar14 = param_1[7];
      if (uVar14 < (ulong)(param_2[0xb] - param_2[10])) {
LAB_0012ce57:
        plVar7 = &local_748;
        plVar5 = plVar7 + uVar11 * 0xe;
        do {
          *(bool *)(plVar7 + 1) = (ulong)(plVar7[0xb] - plVar7[10]) <= uVar14;
          plVar7 = plVar7 + 0xe;
        } while (plVar5 != plVar7);
      }
      plVar7 = (long *)(local_740 + lVar15 + -8);
      if (lVar15 != 0) goto LAB_0012c75d;
    }
LAB_0012c822:
    plVar7 = &local_748;
    local_8e8 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                 *)0x80;
    pHVar1 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
              *)*local_9d8;
    if (in_stack_00000008 != *(FastAllocator **)(pHVar1 + 8)) {
      embree::MutexSys::lock();
      if (*(long *)(pHVar1 + 8) != 0) {
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x118) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x118) +
             *(long *)(pHVar1 + 0xa8) + *(long *)(pHVar1 + 0x68);
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x120) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x120) +
             (((*(long *)(pHVar1 + 0x98) + *(long *)(pHVar1 + 0x58)) - *(long *)(pHVar1 + 0x50)) -
             *(long *)(pHVar1 + 0x90));
        UNLOCK();
        LOCK();
        *(long *)(*(long *)(pHVar1 + 8) + 0x128) =
             *(long *)(*(long *)(pHVar1 + 8) + 0x128) +
             *(long *)(pHVar1 + 0xb0) + *(long *)(pHVar1 + 0x70);
        UNLOCK();
      }
      *(undefined8 *)(pHVar1 + 0x48) = 0;
      *(undefined8 *)(pHVar1 + 0x58) = 0;
      *(undefined8 *)(pHVar1 + 0x50) = 0;
      *(undefined8 *)(pHVar1 + 0x68) = 0;
      *(undefined8 *)(pHVar1 + 0x70) = 0;
      *(undefined8 *)(pHVar1 + 0x60) = 0;
      if (in_stack_00000008 == (FastAllocator *)0x0) {
        *(undefined8 *)(pHVar1 + 0x88) = 0;
        uVar6 = 0;
        *(undefined8 *)(pHVar1 + 0x98) = 0;
        *(undefined8 *)(pHVar1 + 0x90) = 0;
        *(undefined8 *)(pHVar1 + 0xa8) = 0;
        *(undefined8 *)(pHVar1 + 0xb0) = 0;
      }
      else {
        uVar6 = *(undefined8 *)(in_stack_00000008 + 0x10);
        *(undefined8 *)(pHVar1 + 0x88) = 0;
        *(undefined8 *)(pHVar1 + 0x98) = 0;
        *(undefined8 *)(pHVar1 + 0x60) = uVar6;
        *(undefined8 *)(pHVar1 + 0x90) = 0;
        *(undefined8 *)(pHVar1 + 0xa8) = 0;
        *(undefined8 *)(pHVar1 + 0xb0) = 0;
        *(undefined8 *)(pHVar1 + 0xa0) = 0;
        uVar6 = *(undefined8 *)(in_stack_00000008 + 0x10);
      }
      *(undefined8 *)(pHVar1 + 0xa0) = uVar6;
      LOCK();
      *(FastAllocator **)(pHVar1 + 8) = in_stack_00000008;
      UNLOCK();
      local_878 = pHVar1;
      embree::MutexSys::lock();
      plVar5 = *(long **)(in_stack_00000008 + 0x138);
      if (plVar5 == *(long **)(in_stack_00000008 + 0x140)) {
        std::
        vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
        ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                  ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                    *)(in_stack_00000008 + 0x130),plVar5,&local_878);
      }
      else {
        *plVar5 = (long)pHVar1;
        *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
      }
      embree::MutexSys::unlock();
      embree::MutexSys::unlock();
    }
    lVar15 = local_9d8[2];
    local_9d8[5] = local_9d8[5] + 0x80;
    uVar8 = (ulong)(-(int)lVar15 & 0xf);
    uVar14 = lVar15 + 0x80 + uVar8;
    local_9d8[2] = uVar14;
    if ((ulong)local_9d8[3] < uVar14) {
      local_9d8[2] = lVar15;
      if ((HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
           *)local_9d8[4] <
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
           *)0x200) {
        puVar3 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_8e8,0x40,false);
      }
      else {
        local_878 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                     *)local_9d8[4];
        puVar3 = (undefined8 *)
                 FastAllocator::malloc(in_stack_00000008,(ulong *)&local_878,0x40,true);
        local_9d8[1] = (long)puVar3;
        lVar15 = local_9d8[2];
        local_9d8[2] = 0x80;
        local_9d8[6] = (local_9d8[3] + local_9d8[6]) - lVar15;
        local_9d8[3] = (long)local_878;
        if (local_878 <
            (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
             *)0x80) {
          local_878 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                       *)local_9d8[4];
          local_9d8[2] = 0;
          puVar3 = (undefined8 *)
                   FastAllocator::malloc(in_stack_00000008,(ulong *)&local_878,0x40,false);
          local_9d8[1] = (long)puVar3;
          lVar15 = local_9d8[2];
          local_9d8[2] = 0x80;
          local_9d8[6] = (local_9d8[3] + local_9d8[6]) - lVar15;
          local_9d8[3] = (long)local_878;
          if (local_878 <
              (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
               *)0x80) {
            puVar3 = (undefined8 *)0x0;
            local_9d8[2] = 0;
          }
        }
      }
    }
    else {
      local_9d8[6] = local_9d8[6] + uVar8;
      puVar3 = (undefined8 *)(local_9d8[1] + -0x80 + uVar14);
    }
    *puVar3 = 8;
    puVar3[1] = 8;
    puVar3[2] = 8;
    puVar3[3] = 8;
    *(undefined4 *)(puVar3 + 0xc) = uVar22;
    *(undefined4 *)((long)puVar3 + 100) = uVar23;
    *(undefined4 *)(puVar3 + 0xd) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x6c) = uVar25;
    *(undefined4 *)(puVar3 + 8) = uVar22;
    *(undefined4 *)((long)puVar3 + 0x44) = uVar23;
    *(undefined4 *)(puVar3 + 9) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x4c) = uVar25;
    *(undefined4 *)(puVar3 + 4) = uVar22;
    *(undefined4 *)((long)puVar3 + 0x24) = uVar23;
    *(undefined4 *)(puVar3 + 5) = uVar24;
    *(undefined4 *)((long)puVar3 + 0x2c) = uVar25;
    *(float *)(puVar3 + 0xe) = fVar17;
    *(float *)((long)puVar3 + 0x74) = fVar19;
    *(float *)(puVar3 + 0xf) = fVar20;
    *(float *)((long)puVar3 + 0x7c) = fVar21;
    *(float *)(puVar3 + 10) = fVar17;
    *(float *)((long)puVar3 + 0x54) = fVar19;
    *(float *)(puVar3 + 0xb) = fVar20;
    *(float *)((long)puVar3 + 0x5c) = fVar21;
    *(float *)(puVar3 + 6) = fVar17;
    *(float *)((long)puVar3 + 0x34) = fVar19;
    *(float *)(puVar3 + 7) = fVar20;
    *(float *)((long)puVar3 + 0x3c) = fVar21;
    plVar5 = plVar7;
    puVar9 = puVar3 + 4;
    do {
      lVar15 = plVar5[3];
      puVar10 = (undefined8 *)((long)puVar9 + 4);
      lVar13 = plVar5[2];
      lVar2 = plVar5[5];
      uVar22 = *(undefined4 *)((long)plVar5 + 0x24);
      lVar12 = plVar5[4];
      *(undefined4 *)(puVar9 + 4) = *(undefined4 *)((long)plVar5 + 0x14);
      *(int *)puVar9 = (int)lVar13;
      *(int *)(puVar9 + 8) = (int)lVar15;
      *(int *)(puVar9 + 2) = (int)lVar12;
      *(undefined4 *)(puVar9 + 6) = uVar22;
      *(int *)(puVar9 + 10) = (int)lVar2;
      plVar5 = plVar5 + 0xe;
      puVar9 = puVar10;
    } while ((undefined8 *)((long)puVar3 + uVar11 * 4 + 0x20) != puVar10);
    uVar14 = 0;
    if (param_1[6] < (ulong)(param_2[0xb] - param_2[10])) {
      pHStack_9b0 = (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
                     *)0x0;
      local_878 = local_7c8;
      local_870 = plVar7;
      local_868 = param_1;
      TaskScheduler::
      spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar11,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_878,
                 (TaskGroupContext *)&pHStack_9b0);
      embree::TaskScheduler::wait();
      if (pHStack_9b0 !=
          (HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>
           *)0x0) {
        local_8e8 = pHStack_9b0;
        std::__exception_ptr::exception_ptr::_M_addref();
        std::rethrow_exception(&local_8e8);
        goto LAB_0012cffd;
      }
      uVar14 = 0;
      do {
        puVar3[uVar14] = *(undefined8 *)(local_7c8 + uVar14 * 8);
        uVar14 = uVar14 + 1;
      } while (uVar14 != uVar11);
    }
    else {
      do {
        uVar6 = recurse(param_1,plVar7,0);
        *(undefined8 *)(local_7c8 + uVar14 * 8) = uVar6;
        uVar14 = uVar14 + 1;
        plVar7 = plVar7 + 0xe;
      } while (uVar14 != uVar11);
      uVar14 = 0;
      do {
        puVar3[uVar14] = *(undefined8 *)(local_7c8 + uVar14 * 8);
        uVar14 = uVar14 + 1;
      } while (uVar14 != uVar11);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return puVar3;
  }
LAB_0012cffd:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::NodeRefPtr<4> embree::sse2::GeneralBVHBuilder::build<embree::NodeRefPtr<4>,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::BVHN<4>::CreateAlloc, embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6}, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(unsigned
   long)#8}>(embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef*, embree::sse2::PrimInfoExtRange const&,
   embree::BVHN<4>::CreateAlloc, embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6} const&, embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::build()::{lambda(unsigned long)#8} const&,
   embree::sse2::GeneralBVHBuilder::Settings const&) */

void embree::sse2::GeneralBVHBuilder::
     build<embree::NodeRefPtr<4>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(unsigned_long)_8_>
               (undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
               undefined8 param_5,undefined8 param_6,ulong *param_7)

{
  long in_FS_OFFSET;
  undefined1 local_132;
  undefined1 local_131;
  undefined8 local_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 local_108;
  undefined1 local_100;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined8 local_a8;
  ulong local_98;
  ulong uStack_90;
  ulong local_88;
  ulong uStack_80;
  ulong local_78;
  ulong uStack_70;
  ulong local_68;
  ulong uStack_60;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  undefined1 *local_38;
  undefined8 local_30;
  undefined8 *local_28;
  undefined8 *local_20;
  undefined8 local_18;
  long local_10;
  
  local_98 = *param_7;
  uStack_90 = param_7[1];
  local_88 = param_7[2];
  uStack_80 = param_7[3];
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_78 = param_7[4];
  uStack_70 = param_7[5];
  local_68 = param_7[6];
  uStack_60 = param_7[7];
  local_48 = &local_130;
  local_40 = &local_131;
  local_38 = &local_132;
  local_20 = &local_108;
  local_28 = &local_128;
  local_130 = param_4;
  local_58 = param_2;
  local_50 = param_1;
  local_30 = param_5;
  local_18 = param_6;
  if (0x10 < *param_7) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  local_b8 = *(undefined8 *)(param_3 + 0x10);
  local_f8 = *param_3;
  uStack_f4 = param_3[1];
  uStack_f0 = param_3[2];
  uStack_ec = param_3[3];
  local_100 = 0;
  local_e8 = param_3[4];
  uStack_e4 = param_3[5];
  uStack_e0 = param_3[6];
  uStack_dc = param_3[7];
  local_d8 = param_3[8];
  uStack_d4 = param_3[9];
  uStack_d0 = param_3[10];
  uStack_cc = param_3[0xb];
  local_108 = 1;
  local_c8 = param_3[0xc];
  uStack_c4 = param_3[0xd];
  uStack_c0 = param_3[0xe];
  uStack_bc = param_3[0xf];
  local_b0 = *(undefined8 *)(param_3 + 0x12);
  local_a8 = *(undefined8 *)(param_3 + 0x14);
  local_128 = 0;
  uStack_120 = 0;
  local_118 = 0;
  BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(unsigned_long)#8}>
  ::recurse(&local_98,local_20,1);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::build() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this)

{
  undefined4 uVar1;
  string *psVar2;
  undefined1 (*pauVar3) [16];
  long lVar4;
  int iVar5;
  long *plVar6;
  long lVar7;
  undefined8 *puVar8;
  long lVar9;
  undefined8 *puVar10;
  undefined8 uVar11;
  long *plVar12;
  uint uVar13;
  long *plVar15;
  ulong uVar16;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *pBVar17;
  ulong uVar18;
  ulong uVar19;
  undefined8 *puVar20;
  long *plVar21;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *pBVar22;
  ulong uVar23;
  long in_FS_OFFSET;
  float fVar24;
  double dVar25;
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 uStack_1c9;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *pBStack_1c8;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *local_1c0;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *local_1b8;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **ppBStack_1b0;
  undefined8 uStack_1a8;
  _lambda_embree__range<unsigned_long>__1_ *local_198;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **local_190;
  BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **local_188;
  undefined8 uStack_180;
  undefined8 uStack_178;
  undefined8 local_170;
  undefined8 uStack_168;
  undefined8 uStack_160;
  undefined1 local_158 [16];
  undefined1 local_148 [16];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  long local_118;
  long local_110;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  undefined8 local_c8;
  long local_c0;
  ulong uStack_b8;
  long *local_a8 [2];
  long local_98 [2];
  long *local_88;
  long local_80;
  long local_78 [2];
  long *local_68;
  long local_60;
  long local_58 [5];
  ulong uVar14;
  
  local_58[3] = *(long *)(in_FS_OFFSET + 0x28);
  lVar7 = *(long *)(this + 0x28);
  uVar19 = *(long *)(lVar7 + 0x208) - *(long *)(lVar7 + 0x200) >> 3;
  uVar23 = *(ulong *)(*(long *)(this + 0x30) + 0x1d0);
  if (uVar23 < uVar19) {
    auVar30._8_8_ = 0;
    auVar30._0_8_ = local_158._8_8_;
    local_158 = auVar30 << 0x40;
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar23,uVar19,1,(_lambda_embree__range<unsigned_long>_const___1_ *)this,
               (TaskGroupContext *)local_158);
    embree::TaskScheduler::wait();
    if (local_158._0_8_ == 0) {
      lVar7 = *(long *)(this + 0x28);
      goto LAB_0012d23d;
    }
    goto LAB_0012e05a;
  }
LAB_0012d23d:
  uVar18 = 0;
  FastAllocator::reset((FastAllocator *)(lVar7 + 0x78));
  uVar19 = *(ulong *)(this + 0x98);
  lVar7 = *(long *)(this + 0x30);
  if ((uVar19 & 0x100000) != 0) {
    uVar18 = *(ulong *)(lVar7 + 0x288);
  }
  if ((uVar19 & 0x200000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x298);
  }
  if ((uVar19 & 0xf) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2b8);
  }
  if ((uVar19 & 0x77770) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2a8);
  }
  if ((uVar19 & 0xe000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x338);
  }
  if ((uVar19 & 0x800000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2c8);
  }
  if ((uVar19 & 0x20000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2d8);
  }
  if ((uVar19 & 0x40000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2e8);
  }
  if ((uVar19 & 0x80000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x2f8);
  }
  if ((uVar19 & 0x1000000) != 0) {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x308);
  }
  if ((uVar19 & 0x400000) == 0) {
    lVar7 = *(long *)(this + 0x28);
  }
  else {
    uVar18 = uVar18 + *(long *)(lVar7 + 0x318);
    lVar7 = *(long *)(this + 0x28);
  }
  if (uVar18 == 0) {
    *(undefined8 *)(this + 0x70) = 0;
    local_108._4_4_ = _LC9;
    local_108._0_4_ = _LC9;
    local_108._8_4_ = _LC9;
    local_108._12_4_ = _LC9;
    local_e8._4_4_ = _LC9;
    local_e8._0_4_ = _LC9;
    local_e8._8_4_ = _LC9;
    local_e8._12_4_ = _LC9;
    local_f8._4_4_ = _LC11;
    local_f8._0_4_ = _LC11;
    local_f8._8_4_ = _LC11;
    local_f8._12_4_ = _LC11;
    local_d8._4_4_ = _LC11;
    local_d8._0_4_ = _LC11;
    local_d8._8_4_ = _LC11;
    local_d8._12_4_ = _LC11;
    embree::BVHN<4>::set(lVar7,8,local_108,0);
    if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
    goto LAB_0012e055;
  }
  uVar19 = uVar18 + 3 >> 2;
  dVar25 = (double)uVar19 * __LC41 * __LC48;
  if (_LC43 <= dVar25) {
    uVar16 = (long)(dVar25 - _LC43) ^ 0x8000000000000000;
  }
  else {
    uVar16 = (ulong)dVar25;
  }
  FastAllocator::init_estimate((FastAllocator *)(lVar7 + 0x78),uVar16 + ((uVar19 << 8) >> 2));
  psVar2 = *(string **)(this + 0x28);
  local_a8[0] = local_98;
  std::__cxx11::string::_M_construct((ulong)local_a8,'\x01');
  *(undefined1 *)local_a8[0] = 0x34;
  plVar6 = (long *)std::__cxx11::string::_M_replace((ulong)local_a8,0,(char *)0x0,0x124f98);
  plVar12 = plVar6 + 2;
  if ((long *)*plVar6 == plVar12) {
    uVar19 = plVar6[1] + 1;
    plVar15 = plVar12;
    plVar21 = local_78;
    if (7 < (uint)uVar19) {
      uVar16 = 0;
      do {
        uVar13 = (int)uVar16 + 8;
        uVar14 = (ulong)uVar13;
        *(undefined8 *)((long)local_78 + uVar16) = *(undefined8 *)((long)plVar12 + uVar16);
        uVar16 = uVar14;
      } while (uVar13 < ((uint)uVar19 & 0xfffffff8));
      plVar21 = (long *)((long)local_78 + uVar14);
      plVar15 = (long *)(uVar14 + (long)plVar12);
    }
    lVar7 = 0;
    if ((uVar19 & 4) != 0) {
      *(int *)plVar21 = (int)*plVar15;
      lVar7 = 4;
    }
    if ((uVar19 & 2) != 0) {
      *(undefined2 *)((long)plVar21 + lVar7) = *(undefined2 *)((long)plVar15 + lVar7);
      lVar7 = lVar7 + 2;
    }
    local_88 = local_78;
    if ((uVar19 & 1) != 0) {
      *(undefined1 *)((long)plVar21 + lVar7) = *(undefined1 *)((long)plVar15 + lVar7);
    }
  }
  else {
    local_78[0] = plVar6[2];
    local_88 = (long *)*plVar6;
  }
  local_80 = plVar6[1];
  *plVar6 = (long)plVar12;
  plVar6[1] = 0;
  *(undefined1 *)(plVar6 + 2) = 0;
  if (0x3fffffffffffffffU - local_80 < 0xf) goto LAB_0012e07a;
  plVar6 = (long *)std::__cxx11::string::_M_append((char *)&local_88,0x124fb7);
  plVar12 = plVar6 + 2;
  if ((long *)*plVar6 == plVar12) {
    uVar19 = plVar6[1] + 1;
    plVar15 = plVar12;
    plVar21 = local_58;
    if (7 < (uint)uVar19) {
      uVar16 = 0;
      do {
        uVar13 = (int)uVar16 + 8;
        uVar14 = (ulong)uVar13;
        *(undefined8 *)((long)local_58 + uVar16) = *(undefined8 *)((long)plVar12 + uVar16);
        uVar16 = uVar14;
      } while (uVar13 < ((uint)uVar19 & 0xfffffff8));
      plVar21 = (long *)((long)local_58 + uVar14);
      plVar15 = (long *)(uVar14 + (long)plVar12);
    }
    lVar7 = 0;
    if ((uVar19 & 4) != 0) {
      *(int *)plVar21 = (int)*plVar15;
      lVar7 = 4;
    }
    if ((uVar19 & 2) != 0) {
      *(undefined2 *)((long)plVar21 + lVar7) = *(undefined2 *)((long)plVar15 + lVar7);
      lVar7 = lVar7 + 2;
    }
    local_68 = local_58;
    if ((uVar19 & 1) != 0) {
      *(undefined1 *)((long)plVar21 + lVar7) = *(undefined1 *)((long)plVar15 + lVar7);
    }
  }
  else {
    local_58[0] = plVar6[2];
    local_68 = (long *)*plVar6;
  }
  local_60 = plVar6[1];
  *plVar6 = (long)plVar12;
  plVar6[1] = 0;
  *(undefined1 *)(plVar6 + 2) = 0;
  dVar25 = (double)embree::BVHN<4>::preBuild(psVar2);
  if (local_68 != local_58) {
    operator_delete(local_68,local_58[0] + 1);
  }
  if (local_88 != local_78) {
    operator_delete(local_88,local_78[0] + 1);
  }
  if (local_a8[0] != local_98) {
    operator_delete(local_a8[0],local_98[0] + 1);
  }
  lVar7 = *(long *)(this + 0x28);
  uVar19 = *(long *)(lVar7 + 0x208) - *(long *)(lVar7 + 0x200) >> 3;
  if (uVar19 < uVar23) {
    std::vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>>::_M_default_append
              ((vector<embree::BVHN<4>*,std::allocator<embree::BVHN<4>*>> *)(lVar7 + 0x200),
               uVar23 - uVar19);
  }
  uVar19 = *(long *)(this + 0x18) - *(long *)(this + 0x10) >> 3;
  if (uVar19 < uVar23) {
    std::
    vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>>>
    ::_M_default_append((vector<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>,std::allocator<std::unique_ptr<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase,std::default_delete<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderBase>>>>
                         *)(this + 0x10),uVar23 - uVar19);
  }
  resizeRefsList(this);
  LOCK();
  *(undefined4 *)(this + 0x88) = 0;
  UNLOCK();
  auVar32._8_8_ = 0;
  auVar32._0_8_ = local_158._8_8_;
  local_158 = auVar32 << 0x40;
  TaskScheduler::
  spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_2_>
            (0,uVar23,1,(_lambda_embree__range<unsigned_long>_const___2_ *)this,
             (TaskGroupContext *)local_158);
  embree::TaskScheduler::wait();
  if (local_158._0_8_ == 0) {
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_3_>
              (0,uVar23,1,(_lambda_embree__range<unsigned_long>_const___3_ *)this,
               (TaskGroupContext *)local_158);
    embree::TaskScheduler::wait();
    if (local_158._0_8_ == 0) {
      if (*(int *)(this + 0x88) == 1) {
        pauVar3 = *(undefined1 (**) [16])(this + 0x58);
        local_d8 = pauVar3[1];
        local_f8 = pauVar3[1];
        local_e8 = *pauVar3;
        local_108 = *pauVar3;
        embree::BVHN<4>::set
                  (*(undefined8 *)(this + 0x28),*(undefined8 *)pauVar3[2],local_108,uVar18);
      }
      else {
        uVar19 = (ulong)*(int *)(this + 0x88);
        uVar23 = *(ulong *)(this + 0x50);
        if (uVar23 < uVar19) {
          puVar10 = *(undefined8 **)(this + 0x58);
          if (uVar23 == 0) {
            uVar23 = uVar19;
            if (uVar19 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar19;
            }
          }
          else {
            do {
              uVar23 = uVar23 * 2;
              if (uVar23 == 0) {
                uVar23 = 1;
              }
            } while (uVar23 < uVar19);
            if (uVar19 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar19;
            }
          }
          uVar16 = uVar23 << 6;
          (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar16,0);
          if (uVar16 < 0x1c00000) {
            lVar7 = embree::alignedMalloc(uVar16,0x20);
          }
          else {
            lVar7 = embree::os_malloc(uVar16,(bool *)(this + 0x40));
          }
          *(long *)(this + 0x58) = lVar7;
          if (*(long *)(this + 0x48) != 0) {
            puVar20 = puVar10;
            uVar16 = 0;
            while( true ) {
              uVar11 = puVar20[1];
              puVar8 = (undefined8 *)(lVar7 + uVar16 * 0x40);
              *puVar8 = *puVar20;
              puVar8[1] = uVar11;
              uVar11 = puVar20[3];
              puVar8[2] = puVar20[2];
              puVar8[3] = uVar11;
              uVar1 = *(undefined4 *)(puVar20 + 5);
              puVar8[4] = puVar20[4];
              *(undefined4 *)(puVar8 + 5) = uVar1;
              if (*(ulong *)(this + 0x48) <= uVar16 + 1) break;
              lVar7 = *(long *)(this + 0x58);
              puVar20 = puVar20 + 8;
              uVar16 = uVar16 + 1;
            }
          }
          lVar7 = *(long *)(this + 0x50);
          if (puVar10 != (undefined8 *)0x0) {
            if ((ulong)(lVar7 << 6) < 0x1c00000) {
              embree::alignedFree(puVar10);
            }
            else {
              embree::os_free(puVar10,lVar7 << 6,(bool)this[0x40]);
            }
          }
          if (lVar7 != 0) {
            (**(code **)**(undefined8 **)(this + 0x38))
                      (*(undefined8 **)(this + 0x38),lVar7 * -0x40,1);
          }
          *(ulong *)(this + 0x48) = uVar19;
          *(ulong *)(this + 0x50) = uVar23;
        }
        else {
          *(ulong *)(this + 0x48) = uVar19;
        }
        fVar24 = (float)uVar18 / __LC47;
        if (__LC36 <= fVar24) {
          uVar23 = (long)(fVar24 - __LC36) ^ 0x8000000000000000;
        }
        else {
          uVar23 = (ulong)fVar24;
        }
        local_c8 = 0;
        if (uVar23 < 1000) {
          uVar23 = 1000;
        }
        local_108._0_8_ = CONCAT44(_LC9,_LC9);
        local_108._8_4_ = _LC9;
        local_108._12_4_ = _LC9;
        local_c0 = 0;
        local_f8._0_8_ = CONCAT44(_LC11,_LC11);
        local_f8._8_4_ = _LC11;
        local_f8._12_4_ = _LC11;
        uVar16 = uVar19 * 2;
        if (uVar19 * 2 <= uVar23) {
          uVar16 = uVar23;
        }
        local_1b8 = this;
        local_e8 = local_108;
        local_d8 = local_f8;
        if (uVar19 == 1) {
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **)
                     (this + 0x58);
          auVar31._8_4_ = _LC9;
          auVar31._0_8_ = local_108._0_8_;
          auVar31._12_4_ = _LC9;
          auVar29._8_4_ = _LC11;
          auVar29._0_8_ = local_f8._0_8_;
          auVar29._12_4_ = _LC11;
          auVar34._8_4_ = _LC9;
          auVar34._0_8_ = local_108._0_8_;
          auVar34._12_4_ = _LC9;
          auVar33._8_4_ = _LC11;
          auVar33._0_8_ = local_f8._0_8_;
          auVar33._12_4_ = _LC11;
          auVar28._8_4_ = _LC9;
          auVar28._0_8_ = local_108._0_8_;
          auVar28._12_4_ = _LC9;
          local_118 = 0;
          auVar26._0_4_ = *(float *)(pBVar22 + 0x10) + *(float *)pBVar22;
          auVar26._4_4_ = *(float *)(pBVar22 + 0x14) + *(float *)(pBVar22 + 4);
          auVar26._8_4_ = *(float *)(pBVar22 + 0x18) + *(float *)(pBVar22 + 8);
          auVar26._12_4_ = *(float *)(pBVar22 + 0x1c) + *(float *)(pBVar22 + 0xc);
          auVar34 = minps(auVar34,*(undefined1 (*) [16])pBVar22);
          auVar33 = maxps(auVar33,*(undefined1 (*) [16])(pBVar22 + 0x10));
          local_110 = 1;
          auVar32 = minps(auVar31,auVar26);
          auVar30 = maxps(auVar29,auVar26);
          auVar27._8_4_ = _LC11;
          auVar27._0_8_ = local_f8._0_8_;
          auVar27._12_4_ = _LC11;
          local_158 = minps(auVar28,auVar34);
          local_148 = maxps(auVar27,auVar33);
          local_138 = minps(local_108,auVar32);
          local_128 = maxps(local_f8,auVar30);
        }
        else {
          local_198 = (_lambda_embree__range<unsigned_long>__1_ *)local_108;
          local_190 = &local_1c0;
          local_188 = &local_1b8;
          parallel_reduce_internal<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::parallel_reduce<unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>(unsigned_long,unsigned_long,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::range<unsigned_long>const&)_4_const&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_const&)::_lambda(embree::range<unsigned_long>)_1_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_5_>
                    ((ulong)local_158,uVar19,0,uVar19,(PrimInfoT_conflict *)0x1,
                     (_lambda_embree__range<unsigned_long>__1_ *)local_108,
                     (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___5_
                      *)&local_198);
          if (local_110 == local_118) {
            local_108._8_8_ = _UNK_001336c8;
            local_108._0_8_ = CONCAT44(_UNK_001336c4,_LC9);
            local_f8._8_8_ = _UNK_001336d8;
            local_f8._0_8_ = CONCAT44(_UNK_001336d4,_LC11);
            local_e8._8_8_ = _UNK_001336c8;
            local_e8._0_8_ = CONCAT44(_UNK_001336c4,_LC9);
            local_d8._8_8_ = _UNK_001336d8;
            local_d8._0_8_ = CONCAT44(_UNK_001336d4,_LC11);
            embree::BVHN<4>::set
                      (*(undefined8 *)(this + 0x28),8,
                       (_lambda_embree__range<unsigned_long>__1_ *)local_108,0);
            goto LAB_0012dbff;
          }
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **)
                     (this + 0x58);
        }
        lVar4 = local_110;
        lVar7 = local_118;
        uVar23 = *(ulong *)(this + 0x50);
        local_198 = (_lambda_embree__range<unsigned_long>__1_ *)0x4;
        local_170 = 0x3f8000003f800000;
        for (iVar5 = 0x1f; 4U >> iVar5 == 0; iVar5 = iVar5 + -1) {
        }
        local_190 = (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **)0x28;
        local_188 = (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **)(long)iVar5
        ;
        uStack_168 = *(undefined8 *)(this + 0x90);
        uStack_180 = 1;
        uStack_160 = 0xffffffffffffffff;
        uStack_178 = 1;
        if (uVar23 < uVar16) {
          if (uVar23 == 0) {
            uVar23 = uVar16;
            if (uVar16 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar16;
            }
          }
          else {
            do {
              uVar23 = uVar23 * 2;
              if (uVar23 == 0) {
                uVar23 = 1;
              }
            } while (uVar23 < uVar16);
            if (uVar16 < *(ulong *)(this + 0x48)) {
              *(ulong *)(this + 0x48) = uVar16;
            }
          }
          uVar19 = uVar23 << 6;
          (**(code **)**(undefined8 **)(this + 0x38))(*(undefined8 **)(this + 0x38),uVar19,0);
          if (uVar19 < 0x1c00000) {
            lVar9 = embree::alignedMalloc(uVar19,0x20);
          }
          else {
            lVar9 = embree::os_malloc(uVar19,(bool *)(this + 0x40));
          }
          *(long *)(this + 0x58) = lVar9;
          if (*(long *)(this + 0x48) != 0) {
            pBVar17 = pBVar22;
            uVar19 = 0;
            while( true ) {
              uVar11 = *(undefined8 *)(pBVar17 + 8);
              puVar10 = (undefined8 *)(lVar9 + uVar19 * 0x40);
              *puVar10 = *(undefined8 *)pBVar17;
              puVar10[1] = uVar11;
              uVar11 = *(undefined8 *)(pBVar17 + 0x18);
              puVar10[2] = *(undefined8 *)(pBVar17 + 0x10);
              puVar10[3] = uVar11;
              uVar1 = *(undefined4 *)(pBVar17 + 0x28);
              puVar10[4] = *(undefined8 *)(pBVar17 + 0x20);
              *(undefined4 *)(puVar10 + 5) = uVar1;
              if (*(ulong *)(this + 0x48) <= uVar19 + 1) break;
              lVar9 = *(long *)(this + 0x58);
              pBVar17 = pBVar17 + 0x40;
              uVar19 = uVar19 + 1;
            }
          }
          lVar9 = *(long *)(this + 0x50);
          if (pBVar22 != (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *)0x0) {
            if ((ulong)(lVar9 << 6) < 0x1c00000) {
              embree::alignedFree(pBVar22);
            }
            else {
              embree::os_free(pBVar22,lVar9 << 6,(bool)this[0x40]);
            }
          }
          if (lVar9 != 0) {
            (**(code **)**(undefined8 **)(this + 0x38))
                      (*(undefined8 **)(this + 0x38),lVar9 * -0x40,1);
          }
          *(ulong *)(this + 0x48) = uVar16;
          pBVar22 = *(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> **)
                     (this + 0x58);
          *(ulong *)(this + 0x50) = uVar23;
        }
        else {
          *(ulong *)(this + 0x48) = uVar16;
        }
        auVar32 = local_148;
        auVar30 = local_158;
        ppBStack_1b0 = &pBStack_1c8;
        local_c0 = lVar4 - lVar7;
        local_e8._0_8_ = local_138._0_8_;
        local_e8._8_8_ = local_138._8_8_;
        uStack_1a8 = 4;
        local_108._0_8_ = local_158._0_8_;
        local_108._8_8_ = local_158._8_8_;
        local_f8._0_8_ = local_148._0_8_;
        local_f8._8_8_ = local_148._8_8_;
        local_d8._0_8_ = local_128._0_8_;
        local_d8._8_8_ = local_128._8_8_;
        local_c8 = 0;
        pBStack_1c8 = this;
        local_1c0 = this;
        local_1b8 = pBVar22;
        uStack_b8 = uVar16;
        uVar11 = GeneralBVHBuilder::
                 build<embree::NodeRefPtr<4>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(unsigned_long)_8_>
                           (&local_1b8,pBVar22,(_lambda_embree__range<unsigned_long>__1_ *)local_108
                            ,*(long *)(this + 0x28) + 0x78,&uStack_1c9,&local_1c0,&local_198);
        local_108 = auVar30;
        local_f8 = auVar32;
        local_e8 = auVar30;
        local_d8 = auVar32;
        embree::BVHN<4>::set
                  (*(undefined8 *)(this + 0x28),uVar11,
                   (_lambda_embree__range<unsigned_long>__1_ *)local_108,uVar18);
      }
LAB_0012dbff:
      lVar7 = *(long *)(this + 0x28);
      plVar12 = (long *)(lVar7 + 0x130);
      plVar6 = (long *)(lVar7 + 0x170);
      do {
        while (*plVar12 != 0) {
          lVar4 = *(long *)(*plVar12 + 0x18);
          *(long *)(*plVar12 + 0x18) = *plVar6;
          LOCK();
          *plVar6 = *plVar12;
          UNLOCK();
          LOCK();
          *plVar12 = lVar4;
          UNLOCK();
        }
        LOCK();
        *plVar12 = 0;
        UNLOCK();
        plVar12 = plVar12 + 1;
      } while (plVar6 != plVar12);
      plVar12 = *(long **)(lVar7 + 0x1a8);
      plVar6 = *(long **)(lVar7 + 0x1b0);
      if (plVar6 != plVar12) {
        do {
          while( true ) {
            lVar4 = *plVar12;
            if (lVar7 + 0x78 != *(long *)(lVar4 + 8)) break;
            embree::MutexSys::lock();
            if (lVar7 + 0x78 == *(long *)(lVar4 + 8)) {
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x118);
              *plVar21 = *plVar21 + *(long *)(lVar4 + 0xa8) + *(long *)(lVar4 + 0x68);
              UNLOCK();
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x120);
              *plVar21 = *plVar21 +
                         (((*(long *)(lVar4 + 0x98) + *(long *)(lVar4 + 0x58)) -
                          *(long *)(lVar4 + 0x50)) - *(long *)(lVar4 + 0x90));
              UNLOCK();
              LOCK();
              plVar21 = (long *)(*(long *)(lVar4 + 8) + 0x128);
              *plVar21 = *plVar21 + *(long *)(lVar4 + 0xb0) + *(long *)(lVar4 + 0x70);
              UNLOCK();
              *(undefined8 *)(lVar4 + 0x48) = 0;
              *(undefined8 *)(lVar4 + 0x58) = 0;
              *(undefined8 *)(lVar4 + 0x50) = 0;
              *(undefined8 *)(lVar4 + 0x68) = 0;
              *(undefined8 *)(lVar4 + 0x70) = 0;
              *(undefined8 *)(lVar4 + 0x60) = 0;
              *(undefined8 *)(lVar4 + 0x88) = 0;
              *(undefined8 *)(lVar4 + 0x98) = 0;
              *(undefined8 *)(lVar4 + 0x90) = 0;
              *(undefined8 *)(lVar4 + 0xa8) = 0;
              *(undefined8 *)(lVar4 + 0xb0) = 0;
              *(undefined8 *)(lVar4 + 0xa0) = 0;
              LOCK();
              *(undefined8 *)(lVar4 + 8) = 0;
              UNLOCK();
            }
            plVar12 = plVar12 + 1;
            embree::MutexSys::unlock();
            if (plVar6 == plVar12) goto LAB_0012dd7e;
          }
          plVar12 = plVar12 + 1;
        } while (plVar6 != plVar12);
LAB_0012dd7e:
        if (*(long *)(lVar7 + 0x1b0) != *(long *)(lVar7 + 0x1a8)) {
          *(long *)(lVar7 + 0x1b0) = *(long *)(lVar7 + 0x1a8);
        }
      }
      if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::BVHN<4>::postBuild(dVar25);
        return;
      }
LAB_0012e055:
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
LAB_0012e05a:
  local_108._0_8_ = local_158._0_8_;
  std::__exception_ptr::exception_ptr::_M_addref();
  std::rethrow_exception(local_108);
LAB_0012e07a:
                    /* WARNING: Subroutine does not return */
  std::__throw_length_error("basic_string::append");
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >,
   embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef&, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef*)#7}, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef, 32ul>, embree::sse2::PrimInfoExtRange,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4> >::BuildRef,
   embree::NodeRefPtr<4>, embree::FastAllocator::CachedAllocator, embree::BVHN<4>::CreateAlloc,
   embree::AABBNode_t<embree::NodeRefPtr<4>, 4>::Create2, embree::AABBNode_t<embree::NodeRefPtr<4>,
   4>::Set2, embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh,
   embree::TriangleM<4> >::BuildRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#6},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,
   embree::TriangleMesh, embree::TriangleM<4> >::BuildRef, embree::sse2::PrimInfoExtRange>,
   embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::build()::{lambda(unsigned
   long)#8}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,e...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,e___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  undefined8 uVar2;
  ulong uVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  
  uVar6 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar6 - uVar3) {
    uVar6 = uVar6 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar6,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)_7_,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_6_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::_lambda(unsigned_long)_8_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar6,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar3 < uVar6) {
    lVar5 = uVar3 * 0x70;
    do {
      lVar1 = *(long *)(this + 0x20);
      lVar4 = *(long *)(this + 0x28) + lVar5;
      lVar5 = lVar5 + 0x70;
      uVar2 = sse2::GeneralBVHBuilder::
              BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayOpenMergeSAH<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef&,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef*)#7},embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,32ul>,embree::sse2::PrimInfoExtRange,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::NodeRefPtr<4>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Create2,embree::AABBNode_t<embree::NodeRefPtr<4>,4>::Set2,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#6},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::BuildRef,embree::sse2::PrimInfoExtRange>,embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::build()::{lambda(unsigned_long)#8}>
              ::recurse(*(undefined8 *)(this + 0x30),lVar4,1);
      *(undefined8 *)(lVar1 + uVar3 * 8) = uVar2;
      uVar3 = uVar3 + 1;
    } while (uVar3 < uVar6);
  }
  return;
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderLarge::~RefBuilderLarge() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderLarge::
~RefBuilderLarge(RefBuilderLarge *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::
~BVHNBuilderTwoLevel(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::
~BVHNBuilderTwoLevel(BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::~BVHNBuilderTwoLevel() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::~BVHNBuilderTwoLevel
          (BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMi<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleMv<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleMv<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderTwoLevel<4, embree::TriangleMesh, embree::TriangleM<4>
   >::RefBuilderSmall::~RefBuilderSmall() */

void __thiscall
embree::sse2::BVHNBuilderTwoLevel<4,embree::TriangleMesh,embree::TriangleM<4>>::RefBuilderSmall::
~RefBuilderSmall(RefBuilderSmall *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


