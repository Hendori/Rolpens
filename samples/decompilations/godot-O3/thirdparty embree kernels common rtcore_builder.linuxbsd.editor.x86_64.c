
/* embree::sse2::mergePair(std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int>
   const&, std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int> const&) */

sse2 * __thiscall embree::sse2::mergePair(sse2 *this,pair *param_1,pair *param_2)

{
  uint uVar1;
  uint uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  
  uVar1 = *(uint *)(param_1 + 0x40);
  auVar6 = minps(*(undefined1 (*) [16])param_1,*(undefined1 (*) [16])param_2);
  auVar5 = maxps(*(undefined1 (*) [16])(param_1 + 0x10),*(undefined1 (*) [16])(param_2 + 0x10));
  auVar4 = minps(*(undefined1 (*) [16])(param_1 + 0x20),*(undefined1 (*) [16])(param_2 + 0x20));
  auVar3 = maxps(*(undefined1 (*) [16])(param_1 + 0x30),*(undefined1 (*) [16])(param_2 + 0x30));
  uVar2 = *(uint *)(param_2 + 0x40);
  *(undefined1 (*) [16])this = auVar6;
  *(undefined1 (*) [16])(this + 0x10) = auVar5;
  *(undefined1 (*) [16])(this + 0x20) = auVar4;
  if (uVar2 < uVar1) {
    uVar2 = uVar1;
  }
  *(undefined1 (*) [16])(this + 0x30) = auVar3;
  *(uint *)(this + 0x40) = uVar2;
  return this;
}



/* void 
   embree::radixsort32<embree::sse2::BVHBuilderMorton::BuildPrim>(embree::sse2::BVHBuilderMorton::BuildPrim*,
   unsigned long, unsigned int) */

void embree::radixsort32<embree::sse2::BVHBuilderMorton::BuildPrim>
               (BuildPrim *param_1,ulong param_2,uint param_3)

{
  BuildPrim *pBVar1;
  uint uVar2;
  undefined8 uVar3;
  uint *puVar4;
  ulong uVar5;
  BuildPrim *pBVar6;
  long lVar7;
  uint *puVar8;
  uint uVar9;
  BuildPrim *pBVar10;
  ulong uVar11;
  ulong uVar12;
  uint *puVar13;
  ulong uVar14;
  BuildPrim *pBVar15;
  ulong uVar16;
  uint *puVar17;
  long in_FS_OFFSET;
  uint local_c80 [256];
  uint local_880;
  undefined8 local_87c [127];
  int local_484;
  uint local_480 [270];
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  puVar17 = local_c80;
  puVar4 = puVar17;
  for (lVar7 = 0x80; lVar7 != 0; lVar7 = lVar7 + -1) {
    puVar4[0] = 0;
    puVar4[1] = 0;
    puVar4 = puVar4 + 2;
  }
  pBVar10 = param_1;
  if (param_2 != 0) {
    do {
      uVar9 = *(uint *)pBVar10;
      pBVar10 = pBVar10 + 8;
      local_c80[uVar9 >> ((byte)param_3 & 0x1f) & 0xff] =
           local_c80[uVar9 >> ((byte)param_3 & 0x1f) & 0xff] + 1;
    } while (param_1 + param_2 * 8 != pBVar10);
  }
  uVar9 = 0;
  local_880 = 0;
  puVar4 = puVar17;
  puVar8 = (uint *)local_87c;
  while( true ) {
    uVar9 = uVar9 + *puVar4;
    puVar4 = puVar4 + 1;
    *puVar8 = uVar9;
    if (local_c80 + 0xff == puVar4) break;
    puVar8 = puVar8 + 1;
  }
  puVar4 = &local_880;
  puVar8 = (uint *)local_87c;
  puVar13 = local_480;
  for (lVar7 = 0x7f; lVar7 != 0; lVar7 = lVar7 + -1) {
    *(undefined8 *)puVar13 = *(undefined8 *)puVar8;
    puVar8 = puVar8 + 2;
    puVar13 = puVar13 + 2;
  }
  *puVar13 = *puVar8;
  uVar14 = 0;
  local_480[0xff] = local_c80[0xff] + local_484;
  uVar9 = 0;
  while( true ) {
    uVar2 = local_480[uVar14];
    while (uVar9 < uVar2) {
      uVar16 = *(ulong *)(param_1 + (ulong)uVar9 * 8);
      uVar9 = *(uint *)(param_1 + (ulong)uVar9 * 8);
      while( true ) {
        uVar11 = (ulong)uVar9;
        uVar5 = (ulong)(uVar9 >> ((byte)param_3 & 0x1f) & 0xff);
        if (uVar5 == uVar14) break;
        uVar9 = *(uint *)((long)local_87c + uVar5 * 4 + -4);
        uVar12 = uVar16 & 0xffffffff00000000;
        *(uint *)((long)local_87c + uVar5 * 4 + -4) = uVar9 + 1;
        pBVar10 = param_1 + (ulong)uVar9 * 8;
        uVar16 = *(ulong *)pBVar10;
        uVar9 = *(uint *)pBVar10;
        *(ulong *)pBVar10 = uVar12 | uVar11;
      }
      uVar9 = *puVar4 + 1;
      *(ulong *)(param_1 + (ulong)*puVar4 * 8) = uVar16 & 0xffffffff00000000 | uVar11;
      *puVar4 = uVar9;
    }
    uVar14 = uVar14 + 1;
    puVar4 = puVar4 + 1;
    if (uVar14 == 0x100) break;
    uVar9 = *puVar4;
  }
  lVar7 = 0;
  if (param_3 != 0) {
    do {
      while (uVar9 = *puVar17, uVar9 != 0) {
        uVar14 = (ulong)uVar9;
        pBVar10 = param_1 + lVar7 * 8;
        if (uVar9 < 0x10) {
          if (uVar14 != 1) {
            pBVar15 = pBVar10 + 8;
            uVar16 = 1;
LAB_00100247:
            do {
              uVar3 = *(undefined8 *)pBVar15;
              uVar9 = *(uint *)pBVar15;
              pBVar6 = pBVar15;
              do {
                if (*(uint *)(pBVar6 + -8) <= uVar9) {
                  uVar16 = uVar16 + 1;
                  *(undefined8 *)pBVar6 = uVar3;
                  pBVar15 = pBVar15 + 8;
                  if (uVar16 == uVar14) goto LAB_00100209;
                  goto LAB_00100247;
                }
                pBVar1 = pBVar6 + -8;
                *(undefined8 *)pBVar6 = *(undefined8 *)(pBVar6 + -8);
                pBVar6 = pBVar1;
              } while (pBVar10 != pBVar1);
              uVar16 = uVar16 + 1;
              pBVar15 = pBVar15 + 8;
              *(undefined8 *)pBVar10 = uVar3;
            } while (uVar16 != uVar14);
          }
        }
        else {
          radixsort32<embree::sse2::BVHBuilderMorton::BuildPrim>(pBVar10,uVar14,param_3 - 8);
        }
LAB_00100209:
        puVar17 = puVar17 + 1;
        lVar7 = lVar7 + uVar14;
        if (&local_880 == puVar17) goto LAB_00100215;
      }
      puVar17 = puVar17 + 1;
    } while (&local_880 != puVar17);
  }
LAB_00100215:
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::
parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)
::{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined1 auVar1 [16];
  int *piVar2;
  ulong uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  float fVar6;
  uint uVar7;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var8;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var9;
  long lVar10;
  long *in_RDX;
  undefined1 (*pauVar11) [16];
  ulong uVar12;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var13;
  ulong uVar14;
  ulong uVar15;
  undefined1 (*pauVar16) [16];
  bool bVar17;
  uint uVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar25;
  uint uVar26;
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar27 [16];
  uint uVar28;
  uint uVar29;
  
  uVar5 = _LC3;
  uVar4 = _LC1;
  p_Var9 = this;
  p_Var13 = this + 0xc00;
  do {
    *(undefined4 *)(p_Var9 + 0x40) = uVar4;
    *(undefined4 *)(p_Var9 + 0x44) = uVar4;
    *(undefined4 *)(p_Var9 + 0x48) = uVar4;
    *(undefined4 *)(p_Var9 + 0x4c) = uVar4;
    p_Var8 = p_Var9 + 0x60;
    *(undefined4 *)(p_Var9 + 0x50) = uVar5;
    *(undefined4 *)(p_Var9 + 0x54) = uVar5;
    *(undefined4 *)(p_Var9 + 0x58) = uVar5;
    *(undefined4 *)(p_Var9 + 0x5c) = uVar5;
    *(undefined4 *)(p_Var9 + 0x20) = uVar4;
    *(undefined4 *)(p_Var9 + 0x24) = uVar4;
    *(undefined4 *)(p_Var9 + 0x28) = uVar4;
    *(undefined4 *)(p_Var9 + 0x2c) = uVar4;
    *(undefined4 *)(p_Var9 + 0x30) = uVar5;
    *(undefined4 *)(p_Var9 + 0x34) = uVar5;
    *(undefined4 *)(p_Var9 + 0x38) = uVar5;
    *(undefined4 *)(p_Var9 + 0x3c) = uVar5;
    *(undefined4 *)p_Var9 = uVar4;
    *(undefined4 *)(p_Var9 + 4) = uVar4;
    *(undefined4 *)(p_Var9 + 8) = uVar4;
    *(undefined4 *)(p_Var9 + 0xc) = uVar4;
    *(undefined4 *)(p_Var9 + 0x10) = uVar5;
    *(undefined4 *)(p_Var9 + 0x14) = uVar5;
    *(undefined4 *)(p_Var9 + 0x18) = uVar5;
    *(undefined4 *)(p_Var9 + 0x1c) = uVar5;
    *(undefined1 (*) [16])p_Var13 = (undefined1  [16])0x0;
    fVar6 = _LC5;
    p_Var9 = p_Var8;
    p_Var13 = p_Var13 + 0x10;
  } while (this + 0xc00 != p_Var8);
  piVar2 = *(int **)(param_1 + 8);
  pauVar16 = (undefined1 (*) [16])(*in_RDX * 0x20 + **(long **)param_1);
  uVar15 = in_RDX[1] - *in_RDX;
  if (uVar15 == 0) {
    return this;
  }
  if (uVar15 != 1) {
    pauVar11 = pauVar16;
    do {
      auVar23 = pauVar11[1];
      auVar22 = *pauVar11;
      auVar24 = pauVar11[3];
      auVar1 = pauVar11[2];
      uVar7 = *piVar2 - 1;
      uVar18 = (uint)(((auVar23._0_4_ + auVar22._0_4_) - (float)piVar2[4]) * (float)piVar2[8] +
                     fVar6);
      uVar19 = (uint)(((auVar23._4_4_ + auVar22._4_4_) - (float)piVar2[5]) * (float)piVar2[9] +
                     fVar6);
      uVar20 = (uint)(((auVar23._8_4_ + auVar22._8_4_) - (float)piVar2[6]) * (float)piVar2[10] +
                     fVar6);
      uVar21 = -(uint)((int)uVar18 < (int)uVar7);
      uVar25 = -(uint)((int)uVar19 < (int)uVar7);
      uVar26 = -(uint)((int)uVar20 < (int)uVar7);
      uVar18 = uVar18 & uVar21 | ~uVar21 & uVar7;
      uVar19 = uVar19 & uVar25 | ~uVar25 & uVar7;
      uVar21 = uVar20 & uVar26 | ~uVar26 & uVar7;
      uVar12 = (ulong)(~-(uint)((int)uVar18 < 0) & uVar18);
      p_Var9 = this + uVar12 * 0x60;
      uVar18 = (uint)(((auVar24._0_4_ + auVar1._0_4_) - (float)piVar2[4]) * (float)piVar2[8] + fVar6
                     );
      uVar20 = (uint)(((auVar24._4_4_ + auVar1._4_4_) - (float)piVar2[5]) * (float)piVar2[9] + fVar6
                     );
      uVar25 = (uint)(((auVar24._8_4_ + auVar1._8_4_) - (float)piVar2[6]) * (float)piVar2[10] +
                     fVar6);
      uVar26 = -(uint)((int)uVar18 < (int)uVar7);
      uVar28 = -(uint)((int)uVar20 < (int)uVar7);
      uVar29 = -(uint)((int)uVar25 < (int)uVar7);
      uVar18 = uVar26 & uVar18 | ~uVar26 & uVar7;
      uVar20 = uVar28 & uVar20 | ~uVar28 & uVar7;
      uVar7 = uVar29 & uVar25 | ~uVar29 & uVar7;
      auVar27 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
      *(undefined1 (*) [16])p_Var9 = auVar27;
      auVar27 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar27;
      uVar14 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      p_Var9 = this + uVar14 * 0x60 + 0x20;
      auVar27 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
      *(undefined1 (*) [16])p_Var9 = auVar27;
      auVar27 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar27;
      uVar3 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
      p_Var9 = this + uVar3 * 0x60 + 0x40;
      auVar22 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
      *(undefined1 (*) [16])p_Var9 = auVar22;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      *(int *)(this + uVar12 * 0x10 + 0xc00) = *(int *)(this + uVar12 * 0x10 + 0xc00) + 1;
      uVar12 = (ulong)(~-(uint)((int)uVar18 < 0) & uVar18);
      *(int *)(this + uVar14 * 0x10 + 0xc04) = *(int *)(this + uVar14 * 0x10 + 0xc04) + 1;
      *(int *)(this + uVar3 * 0x10 + 0xc08) = *(int *)(this + uVar3 * 0x10 + 0xc08) + 1;
      p_Var9 = this + uVar12 * 0x60;
      auVar23 = minps(*(undefined1 (*) [16])p_Var9,auVar1);
      *(undefined1 (*) [16])p_Var9 = auVar23;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      uVar14 = (ulong)(~-(uint)((int)uVar20 < 0) & uVar20);
      p_Var9 = this + uVar14 * 0x60 + 0x20;
      auVar23 = minps(*(undefined1 (*) [16])p_Var9,auVar1);
      *(undefined1 (*) [16])p_Var9 = auVar23;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      uVar3 = (ulong)(~-(uint)((int)uVar7 < 0) & uVar7);
      p_Var9 = this + uVar3 * 0x60 + 0x40;
      auVar23 = minps(*(undefined1 (*) [16])p_Var9,auVar1);
      *(undefined1 (*) [16])p_Var9 = auVar23;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      *(int *)(this + uVar12 * 0x10 + 0xc00) = *(int *)(this + uVar12 * 0x10 + 0xc00) + 1;
      *(int *)(this + uVar14 * 0x10 + 0xc04) = *(int *)(this + uVar14 * 0x10 + 0xc04) + 1;
      *(int *)(this + uVar3 * 0x10 + 0xc08) = *(int *)(this + uVar3 * 0x10 + 0xc08) + 1;
      bVar17 = pauVar16 + (uVar15 - 2 >> 1) * 4 != pauVar11;
      pauVar11 = pauVar11 + 4;
    } while (bVar17);
    uVar14 = (uVar15 - 2 & 0xfffffffffffffffe) + 2;
    if (uVar15 <= uVar14) {
      return this;
    }
    pauVar16 = pauVar16 + uVar14 * 2;
  }
  auVar23 = pauVar16[1];
  auVar22 = *pauVar16;
  uVar7 = (int)*(undefined8 *)piVar2 - 1;
  uVar18 = (uint)(((auVar23._0_4_ + auVar22._0_4_) - (float)piVar2[4]) * (float)piVar2[8] + fVar6);
  uVar19 = (uint)(((auVar23._4_4_ + auVar22._4_4_) - (float)piVar2[5]) * (float)piVar2[9] + fVar6);
  uVar20 = (uint)(((auVar23._8_4_ + auVar22._8_4_) - (float)piVar2[6]) * (float)piVar2[10] + fVar6);
  uVar21 = -(uint)((int)uVar18 < (int)uVar7);
  uVar25 = -(uint)((int)uVar19 < (int)uVar7);
  uVar26 = -(uint)((int)uVar20 < (int)uVar7);
  uVar18 = uVar21 & uVar18 | ~uVar21 & uVar7;
  uVar19 = uVar25 & uVar19 | ~uVar25 & uVar7;
  uVar7 = uVar26 & uVar20 | ~uVar26 & uVar7;
  lVar10 = (long)(int)(~-(uint)((int)uVar18 < 0) & uVar18);
  p_Var9 = this + lVar10 * 0x60;
  *(int *)(this + lVar10 * 0x10 + 0xc00) = *(int *)(this + lVar10 * 0x10 + 0xc00) + 1;
  auVar24 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
  *(undefined1 (*) [16])p_Var9 = auVar24;
  auVar24 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
  *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar24;
  lVar10 = (long)(int)(~-(uint)((int)uVar19 < 0) & uVar19);
  p_Var9 = this + lVar10 * 0x60 + 0x20;
  *(int *)(this + lVar10 * 0x10 + 0xc04) = *(int *)(this + lVar10 * 0x10 + 0xc04) + 1;
  auVar24 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
  *(undefined1 (*) [16])p_Var9 = auVar24;
  auVar24 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
  *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar24;
  lVar10 = (long)(int)(~-(uint)((int)uVar7 < 0) & uVar7);
  p_Var9 = this + lVar10 * 0x60 + 0x40;
  *(int *)(this + lVar10 * 0x10 + 0xc08) = *(int *)(this + lVar10 * 0x10 + 0xc08) + 1;
  auVar22 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
  *(undefined1 (*) [16])p_Var9 = auVar22;
  auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
  *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  float fVar1;
  undefined4 uVar2;
  ulong uVar3;
  float *pfVar4;
  undefined8 *puVar5;
  undefined8 uVar6;
  code *pcVar7;
  float fVar8;
  float fVar9;
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined4 uVar12;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  ulong uVar15;
  long lVar16;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var17;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var18;
  undefined1 *puVar19;
  undefined4 extraout_EDX;
  ulong *in_RDX;
  ulong uVar20;
  float *pfVar21;
  ulong uVar22;
  undefined1 (*pauVar23) [16];
  ulong uVar24;
  long lVar25;
  ulong uVar26;
  ulong uVar27;
  long in_FS_OFFSET;
  uint uVar28;
  uint uVar33;
  uint uVar34;
  uint uVar35;
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  uint uVar38;
  uint uVar39;
  uint uVar40;
  uint uVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  undefined8 local_100;
  undefined8 uStack_f8;
  undefined4 local_f0;
  undefined4 uStack_ec;
  undefined4 uStack_e8;
  undefined4 uStack_e4;
  undefined1 local_d0 [16];
  undefined1 local_c0 [16];
  float local_b0;
  float fStack_ac;
  float fStack_a8;
  float fStack_a4;
  float local_a0;
  float fStack_9c;
  float fStack_98;
  float fStack_94;
  undefined1 local_90 [16];
  undefined1 local_80 [16];
  uint local_70 [4];
  undefined1 local_60 [16];
  long local_48;
  
  uVar12 = _LC3;
  uVar2 = _LC1;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var14 = this;
  p_Var17 = this + 0x600;
  do {
    *(undefined4 *)(p_Var14 + 0x40) = uVar2;
    *(undefined4 *)(p_Var14 + 0x44) = uVar2;
    *(undefined4 *)(p_Var14 + 0x48) = uVar2;
    *(undefined4 *)(p_Var14 + 0x4c) = uVar2;
    p_Var13 = p_Var14 + 0x60;
    p_Var18 = p_Var17 + 0x10;
    *(undefined4 *)(p_Var14 + 0x50) = uVar12;
    *(undefined4 *)(p_Var14 + 0x54) = uVar12;
    *(undefined4 *)(p_Var14 + 0x58) = uVar12;
    *(undefined4 *)(p_Var14 + 0x5c) = uVar12;
    *(undefined4 *)(p_Var14 + 0x20) = uVar2;
    *(undefined4 *)(p_Var14 + 0x24) = uVar2;
    *(undefined4 *)(p_Var14 + 0x28) = uVar2;
    *(undefined4 *)(p_Var14 + 0x2c) = uVar2;
    *(undefined4 *)(p_Var14 + 0x30) = uVar12;
    *(undefined4 *)(p_Var14 + 0x34) = uVar12;
    *(undefined4 *)(p_Var14 + 0x38) = uVar12;
    *(undefined4 *)(p_Var14 + 0x3c) = uVar12;
    *(undefined4 *)p_Var14 = uVar2;
    *(undefined4 *)(p_Var14 + 4) = uVar2;
    *(undefined4 *)(p_Var14 + 8) = uVar2;
    *(undefined4 *)(p_Var14 + 0xc) = uVar2;
    *(undefined4 *)(p_Var14 + 0x10) = uVar12;
    *(undefined4 *)(p_Var14 + 0x14) = uVar12;
    *(undefined4 *)(p_Var14 + 0x18) = uVar12;
    *(undefined4 *)(p_Var14 + 0x1c) = uVar12;
    *(undefined1 (*) [16])(p_Var17 + 0x100) = (undefined1  [16])0x0;
    *(undefined1 (*) [16])p_Var17 = (undefined1  [16])0x0;
    p_Var14 = p_Var13;
    p_Var17 = p_Var18;
  } while (this + 0x600 != p_Var13);
  uVar3 = in_RDX[1];
  uVar22 = *in_RDX;
  pfVar4 = *(float **)(param_1 + 8);
  puVar5 = (undefined8 *)(*(long **)param_1)[1];
  if (uVar22 < uVar3) {
    pauVar23 = (undefined1 (*) [16])(**(long **)param_1 + uVar22 * 0x20);
    do {
      auVar29 = pauVar23[1];
      auVar30 = *pauVar23;
      fVar46 = *pfVar4;
      fVar1 = pfVar4[1];
      fVar8 = pfVar4[2];
      fVar9 = pfVar4[3];
      auVar36 = *(undefined1 (*) [16])(pfVar4 + 4);
      fVar42 = auVar36._0_4_;
      fVar43 = auVar36._4_4_;
      fVar44 = auVar36._8_4_;
      fVar45 = auVar36._12_4_;
      if (*(uint *)(*pauVar23 + 0xc) < 0x10000000) {
        lVar25 = 0;
        uVar28 = (uint)(((auVar29._0_4_ + auVar30._0_4_) * _LC8 - fVar46) * fVar42 + _LC5);
        uVar33 = (uint)(((auVar29._4_4_ + auVar30._4_4_) * _LC8 - fVar1) * fVar43 + _UNK_00122f54);
        uVar34 = (uint)(((auVar29._8_4_ + auVar30._8_4_) * _LC8 - fVar8) * fVar44 + _UNK_00122f58);
        uVar35 = (uint)(((auVar29._12_4_ + auVar30._12_4_) * _LC8 - fVar9) * fVar45 + _UNK_00122f5c)
        ;
        uVar38 = -(uint)((int)uVar28 < (int)__LC10);
        uVar39 = -(uint)((int)uVar33 < (int)_UNK_00122f74);
        uVar40 = -(uint)((int)uVar34 < (int)_UNK_00122f78);
        uVar41 = -(uint)((int)uVar35 < (int)_UNK_00122f7c);
        uVar28 = uVar28 & uVar38 | ~uVar38 & __LC10;
        uVar33 = uVar33 & uVar39 | ~uVar39 & _UNK_00122f74;
        uVar34 = uVar34 & uVar40 | ~uVar40 & _UNK_00122f78;
        uVar35 = uVar35 & uVar41 | ~uVar41 & _UNK_00122f7c;
        local_60._4_4_ = ~-(uint)((int)uVar33 < 0) & uVar33;
        local_60._0_4_ = ~-(uint)((int)uVar28 < 0) & uVar28;
        local_60._8_4_ = ~-(uint)((int)uVar34 < 0) & uVar34;
        local_60._12_4_ = ~-(uint)((int)uVar35 < 0) & uVar35;
        while( true ) {
          p_Var18 = (_lambda_embree__range<unsigned_long>const___1_ *)
                    (long)*(int *)(local_60 + lVar25 * 4);
          lVar16 = lVar25 + (long)p_Var18 * 4;
          *(int *)(this + lVar16 * 4 + 0x600) = *(int *)(this + lVar16 * 4 + 0x600) + 1;
          *(int *)(this + lVar16 * 4 + 0x700) = *(int *)(this + lVar16 * 4 + 0x700) + 1;
          lVar16 = (long)p_Var18 * 3 + lVar25;
          lVar25 = lVar25 + 1;
          p_Var14 = this + lVar16 * 0x20;
          auVar30 = minps(*(undefined1 (*) [16])p_Var14,auVar30);
          auVar29 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar29);
          *(undefined1 (*) [16])p_Var14 = auVar30;
          *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar29;
          if (lVar25 == 3) break;
          auVar29 = pauVar23[1];
          auVar30 = *pauVar23;
        }
      }
      else {
        lVar25 = 0;
        uVar28 = (uint)((auVar30._0_4_ - fVar46) * fVar42 + _LC5);
        uVar33 = (uint)((auVar30._4_4_ - fVar1) * fVar43 + _UNK_00122f54);
        uVar34 = (uint)((auVar30._8_4_ - fVar8) * fVar44 + _UNK_00122f58);
        uVar35 = (uint)((auVar30._12_4_ - fVar9) * fVar45 + _UNK_00122f5c);
        uVar38 = -(uint)((int)uVar28 < (int)__LC10);
        uVar39 = -(uint)((int)uVar33 < (int)_UNK_00122f74);
        uVar40 = -(uint)((int)uVar34 < (int)_UNK_00122f78);
        uVar41 = -(uint)((int)uVar35 < (int)_UNK_00122f7c);
        uVar28 = uVar28 & uVar38 | ~uVar38 & __LC10;
        uVar33 = uVar33 & uVar39 | ~uVar39 & _UNK_00122f74;
        uVar34 = uVar34 & uVar40 | ~uVar40 & _UNK_00122f78;
        uVar35 = uVar35 & uVar41 | ~uVar41 & _UNK_00122f7c;
        local_70[0] = ~-(uint)((int)uVar28 < 0) & uVar28;
        local_70[1] = ~-(uint)((int)uVar33 < 0) & uVar33;
        local_70[2] = ~-(uint)((int)uVar34 < 0) & uVar34;
        local_70[3] = ~-(uint)((int)uVar35 < 0) & uVar35;
        auVar30._0_4_ = (int)((auVar29._0_4_ - fVar46) * fVar42 + _LC5);
        auVar30._4_4_ = (int)((auVar29._4_4_ - fVar1) * fVar43 + _UNK_00122f54);
        auVar30._8_4_ = (int)((auVar29._8_4_ - fVar8) * fVar44 + _UNK_00122f58);
        auVar30._12_4_ = (int)((auVar29._12_4_ - fVar9) * fVar45 + _UNK_00122f5c);
        auVar36._0_4_ = -(uint)(auVar30._0_4_ < (int)__LC10);
        auVar36._4_4_ = -(uint)(auVar30._4_4_ < (int)_UNK_00122f74);
        auVar36._8_4_ = -(uint)(auVar30._8_4_ < (int)_UNK_00122f78);
        auVar36._12_4_ = -(uint)(auVar30._12_4_ < (int)_UNK_00122f7c);
        auVar29._4_4_ = _UNK_00122f74;
        auVar29._0_4_ = __LC10;
        auVar29._8_4_ = _UNK_00122f78;
        auVar29._12_4_ = _UNK_00122f7c;
        auVar29 = auVar30 & auVar36 | ~auVar36 & auVar29;
        auVar37._0_4_ = -(uint)(auVar29._0_4_ < 0);
        auVar37._4_4_ = -(uint)(auVar29._4_4_ < 0);
        auVar37._8_4_ = -(uint)(auVar29._8_4_ < 0);
        auVar37._12_4_ = -(uint)(auVar29._12_4_ < 0);
        local_60 = ~auVar37 & auVar29;
        pfVar21 = pfVar4;
        do {
          if (pfVar21[4] != 0.0) {
            uVar24 = (ulong)(int)local_70[lVar25];
            uVar20 = (ulong)*(int *)(local_60 + lVar25 * 4);
            auVar29 = pauVar23[1];
            auVar30 = *pauVar23;
            if (uVar24 == uVar20) {
              lVar16 = lVar25 + uVar24 * 4;
              *(int *)(this + lVar16 * 4 + 0x600) = *(int *)(this + lVar16 * 4 + 0x600) + 1;
              *(int *)(this + lVar16 * 4 + 0x700) = *(int *)(this + lVar16 * 4 + 0x700) + 1;
              uVar15 = uVar24;
            }
            else {
              local_d0 = auVar30;
              local_c0 = auVar29;
              uVar27 = uVar24;
              do {
                uVar15 = uVar27;
                uVar28 = (uint)p_Var18;
                if (uVar20 <= uVar15) goto LAB_00100954;
                uVar27 = uVar15 + 1;
                if ((long)uVar27 < 0) {
                  p_Var18 = (_lambda_embree__range<unsigned_long>const___1_ *)
                            (uVar27 >> 1 | (ulong)((uint)uVar27 & 1));
                }
              } while ((float)uVar27 * pfVar21[8] + *pfVar21 <= *(float *)(local_d0 + lVar25 * 4));
              fVar46 = *pfVar21;
              fVar1 = pfVar21[8];
              uVar26 = uVar20;
              do {
                if ((long)uVar26 < 0) {
                  p_Var18 = (_lambda_embree__range<unsigned_long>const___1_ *)
                            (uVar26 >> 1 | (ulong)((uint)uVar26 & 1));
                }
                if ((float)uVar26 * fVar1 + fVar46 < *(float *)(local_c0 + lVar25 * 4)) {
                  uVar6 = *(undefined8 *)puVar5[1];
                  pcVar7 = *(code **)*puVar5;
                  uVar2 = *(undefined4 *)(pauVar23[1] + 0xc);
                  uVar28 = *(uint *)(*pauVar23 + 0xc);
                  if (uVar15 < uVar26) {
                    uVar33 = uVar28 & 0x7ffffff;
                    p_Var14 = this + (uVar15 * 3 + lVar25) * 0x20;
                    while( true ) {
                      local_90._0_12_ = auVar30._0_12_;
                      local_90._12_4_ = uVar33;
                      auVar36 = local_90;
                      local_90._0_8_ = auVar30._0_8_;
                      local_100 = local_90._0_8_;
                      local_90._8_8_ = auVar36._8_8_;
                      uStack_f8 = local_90._8_8_;
                      local_90._0_12_ = auVar29._0_12_;
                      local_90._12_4_ = uVar2;
                      auVar30 = local_90;
                      local_90._0_4_ = auVar29._0_4_;
                      local_f0 = local_90._0_4_;
                      local_90._4_4_ = auVar29._4_4_;
                      uStack_ec = local_90._4_4_;
                      local_90._8_4_ = auVar29._8_4_;
                      uStack_e8 = local_90._8_4_;
                      puVar19 = local_90;
                      uStack_e4 = uVar2;
                      local_90 = auVar30;
                      (*pcVar7)(fVar1 * (float)uVar27 + fVar46,&local_100,(int)lVar25,&local_b0,
                                local_90,uVar6);
                      uVar28 = (uint)puVar19;
                      auVar32._4_4_ = -(uint)(fStack_ac <= fStack_9c);
                      auVar32._0_4_ = -(uint)(local_b0 <= local_a0);
                      auVar32._8_4_ = -(uint)(fStack_a8 <= fStack_98);
                      auVar32._12_4_ = -(uint)(fStack_a4 <= fStack_94);
                      uVar34 = movmskps(extraout_EDX,auVar32);
                      auVar10._4_4_ = fStack_ac;
                      auVar10._0_4_ = local_b0;
                      auVar10._8_4_ = fStack_a8;
                      auVar10._12_4_ = fStack_a4;
                      auVar29 = minps(*(undefined1 (*) [16])p_Var14,auVar10);
                      *(undefined1 (*) [16])p_Var14 = auVar29;
                      auVar11._4_4_ = fStack_9c;
                      auVar11._0_4_ = local_a0;
                      auVar11._8_4_ = fStack_98;
                      auVar11._12_4_ = fStack_94;
                      auVar29 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar11);
                      uVar24 = uVar24 + ((~uVar34 & 7) != 0);
                      *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar29;
                      uVar15 = uVar26;
                      auVar29 = local_80;
                      auVar30 = local_90;
                      if (uVar26 <= uVar27) break;
                      fVar46 = *pfVar21;
                      fVar1 = pfVar21[8];
                      uVar27 = uVar27 + 1;
                      p_Var14 = p_Var14 + 0x60;
                    }
                  }
                  break;
                }
                uVar28 = (uint)p_Var18;
                uVar26 = uVar26 - 1;
              } while (uVar15 < uVar26);
LAB_00100954:
              auVar31._4_4_ = -(uint)(auVar30._4_4_ <= auVar29._4_4_);
              auVar31._0_4_ = -(uint)(auVar30._0_4_ <= auVar29._0_4_);
              auVar31._8_4_ = -(uint)(auVar30._8_4_ <= auVar29._8_4_);
              auVar31._12_4_ = -(uint)(auVar30._12_4_ <= auVar29._12_4_);
              uVar28 = movmskps(uVar28,auVar31);
              p_Var18 = (_lambda_embree__range<unsigned_long>const___1_ *)
                        (lVar25 + 0x180 + uVar24 * 4);
              *(int *)(this + (long)p_Var18 * 4) = *(int *)(this + (long)p_Var18 * 4) + 1;
              *(int *)(this + (lVar25 + 0x1c0 + (uVar20 - ((~uVar28 & 7) != 0)) * 4) * 4) =
                   *(int *)(this + (lVar25 + 0x1c0 + (uVar20 - ((~uVar28 & 7) != 0)) * 4) * 4) + 1;
            }
            p_Var14 = this + (uVar15 * 3 + lVar25) * 0x20;
            auVar30 = minps(*(undefined1 (*) [16])p_Var14,auVar30);
            *(undefined1 (*) [16])p_Var14 = auVar30;
            auVar29 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar29);
            *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar29;
          }
          lVar25 = lVar25 + 1;
          pfVar21 = pfVar21 + 1;
        } while (lVar25 != 3);
      }
      uVar22 = uVar22 + 1;
      pauVar23 = pauVar23 + 2;
    } while (uVar22 < uVar3);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*, long,
   embree::sse2::BVHBuilderMorton::BuildPrim,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHBuilderMorton::BuildPrim*, long, long,
   embree::sse2::BVHBuilderMorton::BuildPrim, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*,long,embree::sse2::BVHBuilderMorton::BuildPrim,__gnu_cxx::__ops::_Iter_less_iter>
               (long param_1,long param_2,ulong param_3,undefined8 param_4)

{
  uint *puVar1;
  long lVar2;
  uint *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  
  lVar6 = (long)(param_3 - 1) / 2;
  lVar5 = param_2;
  if (param_2 < lVar6) {
    do {
      lVar2 = (lVar5 + 1) * 2;
      lVar4 = (lVar5 + 1) * 0x10;
      puVar3 = (uint *)(param_1 + lVar4);
      if (*puVar3 < *(uint *)(param_1 + -8 + lVar4)) {
        lVar2 = lVar2 + -1;
        puVar3 = (uint *)(param_1 + lVar2 * 8);
      }
      *(undefined8 *)(param_1 + lVar5 * 8) = *(undefined8 *)puVar3;
      lVar5 = lVar2;
    } while (lVar2 < lVar6);
    if ((param_3 & 1) == 0) goto LAB_00100d50;
  }
  else {
    puVar3 = (uint *)(param_1 + param_2 * 8);
    lVar2 = param_2;
    if ((param_3 & 1) != 0) goto LAB_00100d32;
LAB_00100d50:
    if ((long)(param_3 - 2) / 2 == lVar2) {
      lVar5 = lVar2 * 2;
      lVar2 = lVar5 + 1;
      *(undefined8 *)puVar3 = *(undefined8 *)(param_1 + -8 + (lVar5 + 2) * 8);
      puVar3 = (uint *)(param_1 + lVar2 * 8);
    }
  }
  lVar5 = (lVar2 + -1) - (lVar2 + -1 >> 0x3f);
  if (param_2 < lVar2) {
    while( true ) {
      lVar6 = lVar5 >> 1;
      puVar1 = (uint *)(param_1 + lVar6 * 8);
      puVar3 = (uint *)(param_1 + lVar2 * 8);
      if ((uint)param_4 <= *puVar1) break;
      *(undefined8 *)puVar3 = *(undefined8 *)puVar1;
      lVar5 = (lVar6 + -1) - (lVar6 + -1 >> 0x3f);
      lVar2 = lVar6;
      if (lVar6 <= param_2) {
        *(undefined8 *)puVar1 = param_4;
        return;
      }
    }
  }
LAB_00100d32:
  *(undefined8 *)puVar3 = param_4;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__adjust_heap<embree::PrimRef*, long, embree::PrimRef,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRef*, long, long, embree::PrimRef,
   __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::__adjust_heap<embree::PrimRef*,long,embree::PrimRef,__gnu_cxx::__ops::_Iter_less_iter>
               (long param_1,long param_2,ulong param_3,undefined4 *param_4)

{
  long lVar1;
  undefined8 uVar2;
  long lVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  
  lVar8 = (long)(param_3 - 1) / 2;
  lVar7 = param_2;
  if (param_2 < lVar8) {
    do {
      lVar6 = (lVar7 + 1) * 2;
      lVar3 = (lVar7 + 1) * 0x40;
      lVar1 = param_1 + -0x20 + lVar3;
      puVar4 = (undefined8 *)(lVar3 + param_1);
      if (CONCAT44(*(undefined4 *)((long)puVar4 + 0x1c),*(undefined4 *)((long)puVar4 + 0xc)) <
          CONCAT44(*(undefined4 *)(lVar1 + 0x1c),*(undefined4 *)(lVar1 + 0xc))) {
        lVar6 = lVar6 + -1;
        puVar4 = (undefined8 *)(lVar6 * 0x20 + param_1);
      }
      uVar2 = puVar4[1];
      puVar5 = (undefined8 *)(lVar7 * 0x20 + param_1);
      *puVar5 = *puVar4;
      puVar5[1] = uVar2;
      uVar2 = puVar4[3];
      puVar5[2] = puVar4[2];
      puVar5[3] = uVar2;
      lVar7 = lVar6;
    } while (lVar6 < lVar8);
    if ((param_3 & 1) == 0) goto LAB_00100ef8;
  }
  else {
    puVar4 = (undefined8 *)(param_2 * 0x20 + param_1);
    lVar6 = param_2;
    if ((param_3 & 1) != 0) {
      uVar13 = *param_4;
      uVar14 = param_4[1];
      uVar15 = param_4[2];
      uVar16 = param_4[3];
      uVar9 = param_4[4];
      uVar10 = param_4[5];
      uVar11 = param_4[6];
      uVar12 = param_4[7];
      goto LAB_00100ed3;
    }
LAB_00100ef8:
    if ((long)(param_3 - 2) / 2 == lVar6) {
      lVar7 = lVar6 + 1;
      lVar6 = lVar6 + lVar7;
      puVar5 = (undefined8 *)(param_1 + -0x20 + lVar7 * 0x40);
      uVar2 = puVar5[1];
      *puVar4 = *puVar5;
      puVar4[1] = uVar2;
      uVar2 = puVar5[3];
      puVar4[2] = puVar5[2];
      puVar4[3] = uVar2;
      puVar4 = (undefined8 *)(lVar6 * 0x20 + param_1);
    }
  }
  uVar13 = *param_4;
  uVar14 = param_4[1];
  uVar15 = param_4[2];
  uVar16 = param_4[3];
  uVar9 = param_4[4];
  uVar10 = param_4[5];
  uVar11 = param_4[6];
  uVar12 = param_4[7];
  lVar7 = (lVar6 + -1) - (lVar6 + -1 >> 0x3f);
  if (param_2 < lVar6) {
    while( true ) {
      lVar8 = lVar7 >> 1;
      puVar4 = (undefined8 *)(param_1 + lVar6 * 0x20);
      puVar5 = (undefined8 *)(lVar8 * 0x20 + param_1);
      if (CONCAT44(uVar12,uVar16) <=
          CONCAT44(*(undefined4 *)((long)puVar5 + 0x1c),*(undefined4 *)((long)puVar5 + 0xc))) break;
      uVar2 = puVar5[1];
      *puVar4 = *puVar5;
      puVar4[1] = uVar2;
      uVar2 = puVar5[3];
      puVar4[2] = puVar5[2];
      puVar4[3] = uVar2;
      lVar7 = (lVar8 + -1) - (lVar8 + -1 >> 0x3f);
      lVar6 = lVar8;
      if (lVar8 <= param_2) {
        *(undefined4 *)puVar5 = uVar13;
        *(undefined4 *)((long)puVar5 + 4) = uVar14;
        *(undefined4 *)(puVar5 + 1) = uVar15;
        *(undefined4 *)((long)puVar5 + 0xc) = uVar16;
        *(undefined4 *)(puVar5 + 2) = uVar9;
        *(undefined4 *)((long)puVar5 + 0x14) = uVar10;
        *(undefined4 *)(puVar5 + 3) = uVar11;
        *(undefined4 *)((long)puVar5 + 0x1c) = uVar12;
        return;
      }
    }
  }
LAB_00100ed3:
  *(undefined4 *)puVar4 = uVar13;
  *(undefined4 *)((long)puVar4 + 4) = uVar14;
  *(undefined4 *)(puVar4 + 1) = uVar15;
  *(undefined4 *)((long)puVar4 + 0xc) = uVar16;
  *(undefined4 *)(puVar4 + 2) = uVar9;
  *(undefined4 *)((long)puVar4 + 0x14) = uVar10;
  *(undefined4 *)(puVar4 + 3) = uVar11;
  *(undefined4 *)((long)puVar4 + 0x1c) = uVar12;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   long, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   long, long, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >)
   [clone .isra.0] */

void std::
     __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
               (long param_1,long param_2,ulong param_3,undefined8 *param_4)

{
  undefined1 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 *puVar13;
  long lVar14;
  long lVar15;
  undefined8 *puVar16;
  long lVar17;
  long lVar18;
  long lVar19;
  
  lVar18 = (long)(param_3 - 1) / 2;
  lVar19 = param_2;
  if (param_2 < lVar18) {
    do {
      lVar14 = (lVar19 + 1) * 2;
      lVar15 = (lVar19 + 1) * 0xe0;
      puVar13 = (undefined8 *)(param_1 + lVar15);
      if ((ulong)(*(long *)(param_1 + -0x18 + lVar15) - *(long *)(param_1 + -0x20 + lVar15)) <
          (ulong)(puVar13[0xb] - puVar13[10])) {
        lVar14 = lVar14 + -1;
        puVar13 = (undefined8 *)(lVar14 * 0x70 + param_1);
      }
      puVar16 = (undefined8 *)(lVar19 * 0x70 + param_1);
      *puVar16 = *puVar13;
      *(undefined1 *)(puVar16 + 1) = *(undefined1 *)(puVar13 + 1);
      uVar2 = puVar13[3];
      puVar16[2] = puVar13[2];
      puVar16[3] = uVar2;
      uVar2 = puVar13[5];
      puVar16[4] = puVar13[4];
      puVar16[5] = uVar2;
      uVar2 = puVar13[7];
      puVar16[6] = puVar13[6];
      puVar16[7] = uVar2;
      uVar2 = puVar13[9];
      puVar16[8] = puVar13[8];
      puVar16[9] = uVar2;
      uVar2 = puVar13[0xb];
      puVar16[10] = puVar13[10];
      puVar16[0xb] = uVar2;
      puVar16[0xc] = puVar13[0xc];
      lVar19 = lVar14;
    } while (lVar14 < lVar18);
  }
  else {
    puVar13 = (undefined8 *)(param_2 * 0x70 + param_1);
    lVar14 = param_2;
  }
  if (((param_3 & 1) == 0) && ((long)(param_3 - 2) / 2 == lVar14)) {
    puVar16 = (undefined8 *)(param_1 + -0x70 + (lVar14 + 1) * 0xe0);
    *puVar13 = *puVar16;
    *(undefined1 *)(puVar13 + 1) = *(undefined1 *)(puVar16 + 1);
    uVar2 = puVar16[3];
    lVar14 = (lVar14 + 1) * 2 + -1;
    puVar13[2] = puVar16[2];
    puVar13[3] = uVar2;
    uVar2 = puVar16[5];
    puVar13[4] = puVar16[4];
    puVar13[5] = uVar2;
    uVar2 = puVar16[7];
    puVar13[6] = puVar16[6];
    puVar13[7] = uVar2;
    uVar2 = puVar16[9];
    puVar13[8] = puVar16[8];
    puVar13[9] = uVar2;
    uVar2 = puVar16[0xb];
    puVar13[10] = puVar16[10];
    puVar13[0xb] = uVar2;
    puVar13[0xc] = puVar16[0xc];
    puVar13 = (undefined8 *)(lVar14 * 0x70 + param_1);
  }
  uVar2 = *param_4;
  uVar1 = *(undefined1 *)(param_4 + 1);
  uVar4 = param_4[2];
  uVar5 = param_4[3];
  uVar6 = param_4[4];
  uVar7 = param_4[5];
  uVar8 = param_4[6];
  uVar9 = param_4[7];
  uVar10 = param_4[8];
  uVar11 = param_4[9];
  lVar19 = param_4[10];
  lVar18 = param_4[0xb];
  uVar3 = param_4[0xc];
  lVar15 = (lVar14 + -1) - (lVar14 + -1 >> 0x3f);
  if (param_2 < lVar14) {
    do {
      lVar17 = lVar15 >> 1;
      puVar16 = (undefined8 *)(lVar17 * 0x70 + param_1);
      puVar13 = (undefined8 *)(lVar14 * 0x70 + param_1);
      if ((ulong)(puVar16[0xb] - puVar16[10]) <= (ulong)(lVar18 - lVar19)) break;
      *puVar13 = *puVar16;
      *(undefined1 *)(puVar13 + 1) = *(undefined1 *)(puVar16 + 1);
      uVar12 = puVar16[3];
      puVar13[2] = puVar16[2];
      puVar13[3] = uVar12;
      uVar12 = puVar16[5];
      puVar13[4] = puVar16[4];
      puVar13[5] = uVar12;
      uVar12 = puVar16[7];
      puVar13[6] = puVar16[6];
      puVar13[7] = uVar12;
      uVar12 = puVar16[9];
      puVar13[8] = puVar16[8];
      puVar13[9] = uVar12;
      uVar12 = puVar16[0xb];
      puVar13[10] = puVar16[10];
      puVar13[0xb] = uVar12;
      puVar13[0xc] = puVar16[0xc];
      lVar15 = (lVar17 + -1) - (lVar17 + -1 >> 0x3f);
      puVar13 = puVar16;
      lVar14 = lVar17;
    } while (param_2 < lVar17);
  }
  *puVar13 = uVar2;
  *(undefined1 *)(puVar13 + 1) = uVar1;
  puVar13[10] = lVar19;
  puVar13[0xb] = lVar18;
  puVar13[0xc] = uVar3;
  puVar13[2] = uVar4;
  puVar13[3] = uVar5;
  puVar13[4] = uVar6;
  puVar13[5] = uVar7;
  puVar13[6] = uVar8;
  puVar13[7] = uVar9;
  puVar13[8] = uVar10;
  puVar13[9] = uVar11;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   __gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   __gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >)
   [clone .isra.0] */

void std::
     __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
               (undefined8 *param_1)

{
  undefined1 uVar1;
  long lVar2;
  long lVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 *puVar14;
  undefined8 *puVar15;
  ulong uVar16;
  
  lVar2 = param_1[0xb];
  lVar3 = param_1[10];
  uVar4 = *param_1;
  uVar1 = *(undefined1 *)(param_1 + 1);
  uVar6 = param_1[2];
  uVar7 = param_1[3];
  uVar8 = param_1[4];
  uVar9 = param_1[5];
  uVar10 = param_1[6];
  uVar11 = param_1[7];
  uVar12 = param_1[8];
  uVar13 = param_1[9];
  uVar5 = param_1[0xc];
  uVar16 = param_1[-3] - param_1[-4];
  puVar15 = param_1 + -0xe;
  while (puVar14 = puVar15, uVar16 < (ulong)(lVar2 - lVar3)) {
    puVar14[0xe] = *puVar14;
    puVar14[0x10] = puVar14[2];
    puVar14[0x11] = puVar14[3];
    *(undefined1 *)(puVar14 + 0xf) = *(undefined1 *)(puVar14 + 1);
    puVar14[0x12] = puVar14[4];
    puVar14[0x13] = puVar14[5];
    puVar14[0x14] = puVar14[6];
    puVar14[0x15] = puVar14[7];
    puVar14[0x16] = puVar14[8];
    puVar14[0x17] = puVar14[9];
    puVar14[0x18] = puVar14[10];
    puVar14[0x19] = puVar14[0xb];
    puVar14[0x1a] = puVar14[0xc];
    puVar15 = puVar14 + -0xe;
    param_1 = puVar14;
    uVar16 = puVar14[-3] - puVar14[-4];
  }
  *param_1 = uVar4;
  *(undefined1 *)(param_1 + 1) = uVar1;
  param_1[10] = lVar3;
  param_1[0xb] = lVar2;
  param_1[0xc] = uVar5;
  param_1[2] = uVar6;
  param_1[3] = uVar7;
  param_1[4] = uVar8;
  param_1[5] = uVar9;
  param_1[6] = uVar10;
  param_1[7] = uVar11;
  param_1[8] = uVar12;
  param_1[9] = uVar13;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >) [clone .isra.0] */

void std::
     __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
               (undefined8 *param_1)

{
  undefined1 uVar1;
  long lVar2;
  long lVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 *puVar13;
  undefined8 *puVar14;
  ulong uVar15;
  
  lVar2 = param_1[0xb];
  lVar3 = param_1[10];
  uVar4 = *param_1;
  uVar1 = *(undefined1 *)(param_1 + 1);
  uVar5 = param_1[2];
  uVar6 = param_1[3];
  uVar7 = param_1[4];
  uVar8 = param_1[5];
  uVar9 = param_1[6];
  uVar10 = param_1[7];
  uVar11 = param_1[8];
  uVar12 = param_1[9];
  uVar15 = param_1[-1] - param_1[-2];
  puVar14 = param_1 + -0xc;
  while (puVar13 = puVar14, uVar15 < (ulong)(lVar2 - lVar3)) {
    puVar13[0xc] = *puVar13;
    puVar13[0xe] = puVar13[2];
    puVar13[0xf] = puVar13[3];
    puVar13[0x10] = puVar13[4];
    puVar13[0x11] = puVar13[5];
    *(undefined1 *)(puVar13 + 0xd) = *(undefined1 *)(puVar13 + 1);
    puVar13[0x12] = puVar13[6];
    puVar13[0x13] = puVar13[7];
    puVar13[0x14] = puVar13[8];
    puVar13[0x15] = puVar13[9];
    puVar13[0x16] = puVar13[10];
    puVar13[0x17] = puVar13[0xb];
    puVar14 = puVar13 + -0xc;
    param_1 = puVar13;
    uVar15 = puVar13[-1] - puVar13[-2];
  }
  *param_1 = uVar4;
  *(undefined1 *)(param_1 + 1) = uVar1;
  param_1[10] = lVar3;
  param_1[0xb] = lVar2;
  param_1[2] = uVar5;
  param_1[3] = uVar6;
  param_1[4] = uVar7;
  param_1[5] = uVar8;
  param_1[6] = uVar9;
  param_1[7] = uVar10;
  param_1[8] = uVar11;
  param_1[9] = uVar12;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >)
   [clone .isra.0] */

void std::
     __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
               (undefined8 *param_1,undefined8 *param_2)

{
  undefined1 uVar1;
  long lVar2;
  long lVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 *puVar14;
  undefined8 *puVar15;
  undefined8 *puVar16;
  
  if (param_1 == param_2) {
    return;
  }
  puVar14 = param_1 + 0xe;
  while (param_2 != puVar14) {
    lVar2 = puVar14[0xb];
    lVar3 = puVar14[10];
    if ((ulong)(param_1[0xb] - param_1[10]) < (ulong)(lVar2 - lVar3)) {
      uVar4 = *puVar14;
      uVar1 = *(undefined1 *)(puVar14 + 1);
      uVar6 = puVar14[2];
      uVar7 = puVar14[3];
      uVar8 = puVar14[4];
      uVar9 = puVar14[5];
      uVar10 = puVar14[6];
      uVar11 = puVar14[7];
      uVar12 = puVar14[8];
      uVar13 = puVar14[9];
      uVar5 = puVar14[0xc];
      if (0 < (long)puVar14 - (long)param_1) {
        puVar15 = puVar14;
        do {
          puVar16 = puVar15 + -0xe;
          *puVar15 = puVar15[-0xe];
          puVar15[2] = puVar15[-0xc];
          puVar15[3] = puVar15[-0xb];
          *(undefined1 *)(puVar15 + 1) = *(undefined1 *)(puVar15 + -0xd);
          puVar15[4] = puVar15[-10];
          puVar15[5] = puVar15[-9];
          puVar15[0xc] = puVar15[-2];
          puVar15[6] = puVar15[-8];
          puVar15[7] = puVar15[-7];
          puVar15[8] = puVar15[-6];
          puVar15[9] = puVar15[-5];
          puVar15[10] = puVar15[-4];
          puVar15[0xb] = puVar15[-3];
          puVar15 = puVar16;
        } while (puVar16 != puVar14 + ((long)puVar14 - (long)param_1 >> 4) * -2);
      }
      *param_1 = uVar4;
      *(undefined1 *)(param_1 + 1) = uVar1;
      param_1[10] = lVar3;
      param_1[0xb] = lVar2;
      param_1[0xc] = uVar5;
      param_1[2] = uVar6;
      param_1[3] = uVar7;
      param_1[4] = uVar8;
      param_1[5] = uVar9;
      param_1[6] = uVar10;
      param_1[7] = uVar11;
      param_1[8] = uVar12;
      param_1[9] = uVar13;
      puVar14 = puVar14 + 0xe;
    }
    else {
      __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                ();
      puVar14 = puVar14 + 0xe;
    }
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >) [clone .isra.0] */

void std::
     __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
               (undefined8 *param_1,undefined8 *param_2)

{
  undefined1 uVar1;
  long lVar2;
  long lVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 *puVar13;
  undefined8 *puVar14;
  undefined8 *puVar15;
  undefined8 *puVar16;
  
  if (param_1 == param_2) {
    return;
  }
  puVar13 = param_1 + 0xc;
  while (param_2 != puVar13) {
    lVar2 = puVar13[0xb];
    lVar3 = puVar13[10];
    puVar16 = puVar13 + 0xc;
    if ((ulong)(param_1[0xb] - param_1[10]) < (ulong)(lVar2 - lVar3)) {
      uVar4 = *puVar13;
      uVar1 = *(undefined1 *)(puVar13 + 1);
      uVar5 = puVar13[2];
      uVar6 = puVar13[3];
      uVar7 = puVar13[4];
      uVar8 = puVar13[5];
      uVar9 = puVar13[6];
      uVar10 = puVar13[7];
      uVar11 = puVar13[8];
      uVar12 = puVar13[9];
      if (0 < (long)puVar13 - (long)param_1) {
        puVar14 = puVar13;
        do {
          puVar15 = puVar14 + -0xc;
          *puVar14 = puVar14[-0xc];
          puVar14[2] = puVar14[-10];
          puVar14[3] = puVar14[-9];
          puVar14[4] = puVar14[-8];
          puVar14[5] = puVar14[-7];
          *(undefined1 *)(puVar14 + 1) = *(undefined1 *)(puVar14 + -0xb);
          puVar14[6] = puVar14[-6];
          puVar14[7] = puVar14[-5];
          puVar14[8] = puVar14[-4];
          puVar14[9] = puVar14[-3];
          puVar14[10] = puVar14[-2];
          puVar14[0xb] = puVar14[-1];
          puVar14 = puVar15;
        } while (puVar15 != puVar13 + ((long)puVar13 - (long)param_1 >> 5) * -4);
      }
      *param_1 = uVar4;
      *(undefined1 *)(param_1 + 1) = uVar1;
      param_1[10] = lVar3;
      param_1[0xb] = lVar2;
      param_1[2] = uVar5;
      param_1[3] = uVar6;
      param_1[4] = uVar7;
      param_1[5] = uVar8;
      param_1[6] = uVar9;
      param_1[7] = uVar10;
      param_1[8] = uVar11;
      param_1[9] = uVar12;
      puVar13 = puVar16;
    }
    else {
      __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                ();
      puVar13 = puVar16;
    }
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::sequential_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&) [clone .isra.0] */

PrimInfoExtRange *
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::sequential_object_find(PrimInfoExtRange *param_1,ulong param_2,SplitInfoT *param_3)

{
  ulong uVar1;
  float fVar2;
  float fVar3;
  float fVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  long lVar9;
  float fVar10;
  undefined4 uVar11;
  uint uVar12;
  undefined1 (*pauVar13) [16];
  ulong uVar14;
  undefined1 (*pauVar15) [16];
  int in_ECX;
  undefined1 (*pauVar16) [16];
  float *pfVar17;
  undefined1 *puVar18;
  uint *puVar20;
  long lVar21;
  ulong uVar22;
  long lVar23;
  long *in_R8;
  long lVar24;
  ulong uVar25;
  ulong uVar26;
  ulong uVar27;
  long in_FS_OFFSET;
  float fVar28;
  uint uVar29;
  int iVar30;
  uint uVar33;
  uint uVar36;
  undefined1 auVar31 [16];
  int iVar34;
  float fVar35;
  int iVar37;
  float fVar38;
  int iVar39;
  undefined1 auVar32 [16];
  uint uVar40;
  uint uVar45;
  uint uVar46;
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  undefined1 auVar43 [16];
  undefined1 auVar44 [16];
  undefined1 auVar47 [16];
  undefined1 auVar48 [16];
  undefined1 auVar49 [16];
  float fVar50;
  float fVar53;
  float fVar54;
  uint uVar55;
  undefined1 auVar51 [16];
  undefined1 auVar52 [16];
  undefined1 auVar56 [16];
  float fVar58;
  float fVar59;
  undefined1 auVar57 [16];
  float fVar60;
  undefined1 auVar61 [16];
  float fVar62;
  undefined1 auVar63 [16];
  undefined1 auVar64 [16];
  uint uVar66;
  uint uVar67;
  undefined1 auVar65 [16];
  byte local_1350;
  uint local_1340;
  uint uStack_133c;
  uint uStack_1338;
  uint uStack_1334;
  undefined1 local_1330 [16];
  undefined1 local_1320 [16];
  undefined1 local_1310 [16];
  undefined1 local_1300 [16];
  undefined1 local_12f0 [16];
  undefined1 local_12e0 [16];
  undefined1 local_12d0 [16];
  undefined1 local_12c0 [3] [16];
  float local_1290 [3];
  uint uStack_1284;
  float local_1280 [124];
  int aiStack_1090 [108];
  undefined1 auStack_ee0 [96];
  uint local_e80 [4];
  undefined1 local_e70 [16];
  undefined1 local_e60 [16];
  undefined1 local_e50 [16];
  undefined1 local_e40 [16];
  undefined1 local_e30 [2976];
  int local_290 [4];
  uint local_280 [142];
  long local_48;
  undefined1 *puVar19;
  
  uVar11 = _LC3;
  fVar10 = _LC1;
  auVar47._0_8_ = CONCAT44(_LC1,_LC1);
  auVar47._8_4_ = _LC1;
  auVar47._12_4_ = _LC1;
  auVar48._0_8_ = CONCAT44(_LC3,_LC3);
  auVar48._8_4_ = _LC3;
  auVar48._12_4_ = _LC3;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pauVar15 = (undefined1 (*) [16])local_e80;
  pauVar16 = (undefined1 (*) [16])local_280;
  do {
    pauVar15[4] = auVar47;
    pauVar13 = pauVar15 + 6;
    pauVar15[5] = auVar48;
    pauVar15[2] = auVar47;
    pauVar15[3] = auVar48;
    *pauVar15 = auVar47;
    pauVar15[1] = auVar48;
    *pauVar16 = (undefined1  [16])0x0;
    pauVar15 = pauVar13;
    pauVar16 = pauVar16 + 1;
  } while ((undefined1 (*) [16])local_280 != pauVar13);
  uVar26 = *(long *)(param_3 + 0x48) - *(long *)(param_3 + 0x40);
  fVar28 = (float)uVar26 * __LC13 + __LC14;
  if (__LC15 <= fVar28) {
    uVar27 = (long)(fVar28 - __LC15) ^ 0x8000000000000000;
  }
  else {
    uVar27 = (ulong)fVar28;
  }
  fVar28 = *(float *)(param_3 + 0x20);
  fVar2 = *(float *)(param_3 + 0x24);
  fVar3 = *(float *)(param_3 + 0x28);
  fVar4 = *(float *)(param_3 + 0x2c);
  auVar31._0_4_ = *(float *)(param_3 + 0x30) - fVar28;
  auVar31._4_4_ = *(float *)(param_3 + 0x34) - fVar2;
  auVar31._8_4_ = *(float *)(param_3 + 0x38) - fVar3;
  auVar31._12_4_ = *(float *)(param_3 + 0x3c) - fVar4;
  uVar25 = 0x20;
  if (uVar27 < 0x21) {
    uVar25 = uVar27;
  }
  auVar41._4_4_ = _LC17;
  auVar41._0_4_ = _LC17;
  auVar41._8_4_ = _LC17;
  auVar41._12_4_ = _LC17;
  pauVar15 = (undefined1 (*) [16])(param_2 + *(long *)(param_3 + 0x40) * 0x20);
  auVar41 = maxps(auVar41,auVar31);
  auVar42._0_4_ = (float)(long)uVar25 * _LC18;
  auVar42._4_4_ = auVar42._0_4_;
  auVar42._8_4_ = auVar42._0_4_;
  auVar42._12_4_ = auVar42._0_4_;
  auVar31 = divps(auVar42,auVar41);
  fVar50 = (float)(-(uint)(_LC17 < auVar41._0_4_) & auVar31._0_4_);
  fVar53 = (float)(-(uint)(_LC17 < auVar41._4_4_) & auVar31._4_4_);
  fVar54 = (float)(-(uint)(_LC17 < auVar41._8_4_) & auVar31._8_4_);
  uVar55 = -(uint)(_LC17 < auVar41._12_4_) & auVar31._12_4_;
  local_1290[0] = fVar50;
  local_1290[1] = fVar53;
  local_1290[2] = fVar54;
  if (uVar26 != 0) {
    uVar12 = (int)uVar25 - 1;
    if (uVar26 != 1) {
      pauVar16 = pauVar15;
      do {
        auVar31 = pauVar16[1];
        auVar42 = *pauVar16;
        pauVar13 = pauVar16 + 4;
        auVar41 = pauVar16[2];
        uVar29 = (uint)(((auVar31._0_4_ + auVar42._0_4_) - fVar28) * fVar50 + _LC5);
        uVar33 = (uint)(((auVar31._4_4_ + auVar42._4_4_) - fVar2) * fVar53 + _LC5);
        uVar36 = (uint)(((auVar31._8_4_ + auVar42._8_4_) - fVar3) * fVar54 + _LC5);
        uVar40 = -(uint)((int)uVar29 < (int)uVar12);
        uVar45 = -(uint)((int)uVar33 < (int)uVar12);
        uVar46 = -(uint)((int)uVar36 < (int)uVar12);
        uVar29 = uVar29 & uVar40 | ~uVar40 & uVar12;
        uVar33 = uVar33 & uVar45 | ~uVar45 & uVar12;
        uVar40 = uVar36 & uVar46 | ~uVar46 & uVar12;
        auVar43 = pauVar16[3];
        uVar22 = (ulong)(~-(uint)((int)uVar29 < 0) & uVar29);
        pauVar16 = (undefined1 (*) [16])local_e80 + uVar22 * 6;
        uVar29 = (uint)(((auVar43._0_4_ + auVar41._0_4_) - fVar28) * fVar50 + _LC5);
        uVar36 = (uint)(((auVar43._4_4_ + auVar41._4_4_) - fVar2) * fVar53 + _LC5);
        uVar45 = (uint)(((auVar43._8_4_ + auVar41._8_4_) - fVar3) * fVar54 + _LC5);
        uVar46 = -(uint)((int)uVar29 < (int)uVar12);
        uVar66 = -(uint)((int)uVar36 < (int)uVar12);
        uVar67 = -(uint)((int)uVar45 < (int)uVar12);
        uVar29 = uVar46 & uVar29 | ~uVar46 & uVar12;
        uVar36 = uVar66 & uVar36 | ~uVar66 & uVar12;
        uVar45 = uVar67 & uVar45 | ~uVar67 & uVar12;
        auVar65 = minps(*pauVar16,auVar42);
        *pauVar16 = auVar65;
        auVar65 = maxps(*(undefined1 (*) [16])(local_e70 + uVar22 * 0x60),auVar31);
        *(undefined1 (*) [16])(local_e70 + uVar22 * 0x60) = auVar65;
        uVar14 = (ulong)(~-(uint)((int)uVar33 < 0) & uVar33);
        lVar24 = uVar14 * 0x60;
        auVar65 = minps(*(undefined1 (*) [16])(local_e60 + lVar24),auVar42);
        *(undefined1 (*) [16])(local_e60 + lVar24) = auVar65;
        auVar65 = maxps(*(undefined1 (*) [16])(local_e50 + lVar24),auVar31);
        *(undefined1 (*) [16])(local_e50 + lVar24) = auVar65;
        uVar1 = (ulong)(~-(uint)((int)uVar40 < 0) & uVar40);
        lVar24 = uVar1 * 0x60;
        auVar42 = minps(*(undefined1 (*) [16])(local_e40 + lVar24),auVar42);
        *(undefined1 (*) [16])(local_e40 + lVar24) = auVar42;
        auVar31 = maxps(*(undefined1 (*) [16])(local_e30 + lVar24),auVar31);
        *(undefined1 (*) [16])(local_e30 + lVar24) = auVar31;
        local_e80[(uVar22 + 0xc0) * 4] = local_e80[(uVar22 + 0xc0) * 4] + 1;
        uVar22 = (ulong)(~-(uint)((int)uVar29 < 0) & uVar29);
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + 1;
        local_280[uVar14 * 4 + 1] = local_280[uVar14 * 4 + 1] + 1;
        pauVar16 = (undefined1 (*) [16])local_e80 + uVar22 * 6;
        auVar31 = minps(*pauVar16,auVar41);
        *pauVar16 = auVar31;
        auVar31 = maxps(*(undefined1 (*) [16])(local_e70 + uVar22 * 0x60),auVar43);
        *(undefined1 (*) [16])(local_e70 + uVar22 * 0x60) = auVar31;
        uVar14 = (ulong)(~-(uint)((int)uVar36 < 0) & uVar36);
        lVar24 = uVar14 * 0x60;
        auVar31 = minps(*(undefined1 (*) [16])(local_e60 + lVar24),auVar41);
        *(undefined1 (*) [16])(local_e60 + lVar24) = auVar31;
        auVar31 = maxps(*(undefined1 (*) [16])(local_e50 + lVar24),auVar43);
        *(undefined1 (*) [16])(local_e50 + lVar24) = auVar31;
        uVar1 = (ulong)(~-(uint)((int)uVar45 < 0) & uVar45);
        lVar24 = uVar1 * 0x60;
        auVar31 = minps(*(undefined1 (*) [16])(local_e40 + lVar24),auVar41);
        *(undefined1 (*) [16])(local_e40 + lVar24) = auVar31;
        auVar31 = maxps(*(undefined1 (*) [16])(local_e30 + lVar24),auVar43);
        *(undefined1 (*) [16])(local_e30 + lVar24) = auVar31;
        local_e80[(uVar22 + 0xc0) * 4] = local_e80[(uVar22 + 0xc0) * 4] + 1;
        local_280[uVar14 * 4 + 1] = local_280[uVar14 * 4 + 1] + 1;
        local_280[uVar1 * 4 + 2] = local_280[uVar1 * 4 + 2] + 1;
        pauVar16 = pauVar13;
      } while (pauVar15 + (uVar26 - 2 >> 1) * 4 + 4 != pauVar13);
      uVar14 = (uVar26 - 2 & 0xfffffffffffffffe) + 2;
      if (uVar26 <= uVar14) goto LAB_00101a2c;
      pauVar15 = pauVar15 + uVar14 * 2;
    }
    auVar31 = pauVar15[1];
    auVar42 = *pauVar15;
    uVar29 = (uint)(((auVar31._0_4_ + auVar42._0_4_) - fVar28) * fVar50 + _LC5);
    uVar33 = (uint)(((auVar31._4_4_ + auVar42._4_4_) - fVar2) * fVar53 + _LC5);
    uVar36 = (uint)(((auVar31._8_4_ + auVar42._8_4_) - fVar3) * fVar54 + _LC5);
    uVar40 = -(uint)((int)uVar29 < (int)uVar12);
    uVar45 = -(uint)((int)uVar33 < (int)uVar12);
    uVar46 = -(uint)((int)uVar36 < (int)uVar12);
    uVar29 = uVar40 & uVar29 | ~uVar40 & uVar12;
    uVar33 = uVar45 & uVar33 | ~uVar45 & uVar12;
    uVar12 = uVar46 & uVar36 | ~uVar46 & uVar12;
    lVar24 = (long)(int)(~-(uint)((int)uVar29 < 0) & uVar29);
    pauVar15 = (undefined1 (*) [16])local_e80 + lVar24 * 6;
    local_e80[(lVar24 + 0xc0) * 4] = local_e80[(lVar24 + 0xc0) * 4] + 1;
    auVar41 = minps(*pauVar15,auVar42);
    *pauVar15 = auVar41;
    auVar41 = maxps(*(undefined1 (*) [16])(local_e70 + lVar24 * 0x60),auVar31);
    *(undefined1 (*) [16])(local_e70 + lVar24 * 0x60) = auVar41;
    lVar24 = (long)(int)(~-(uint)((int)uVar33 < 0) & uVar33);
    lVar21 = lVar24 * 0x60;
    local_280[lVar24 * 4 + 1] = local_280[lVar24 * 4 + 1] + 1;
    auVar41 = minps(*(undefined1 (*) [16])(local_e60 + lVar21),auVar42);
    *(undefined1 (*) [16])(local_e60 + lVar21) = auVar41;
    auVar41 = maxps(*(undefined1 (*) [16])(local_e50 + lVar21),auVar31);
    *(undefined1 (*) [16])(local_e50 + lVar21) = auVar41;
    lVar24 = (long)(int)(~-(uint)((int)uVar12 < 0) & uVar12);
    lVar21 = lVar24 * 0x60;
    local_280[lVar24 * 4 + 2] = local_280[lVar24 * 4 + 2] + 1;
    auVar42 = minps(*(undefined1 (*) [16])(local_e40 + lVar21),auVar42);
    *(undefined1 (*) [16])(local_e40 + lVar21) = auVar42;
    auVar31 = maxps(*(undefined1 (*) [16])(local_e30 + lVar21),auVar31);
    *(undefined1 (*) [16])(local_e30 + lVar21) = auVar31;
  }
LAB_00101a2c:
  uStack_1284 = uVar55;
  if (uVar27 != 1) {
    auVar61._8_4_ = _LC3;
    auVar61._0_8_ = auVar48._0_8_;
    auVar61._12_4_ = _LC3;
    auVar57._8_4_ = _LC1;
    auVar57._0_8_ = auVar47._0_8_;
    auVar57._12_4_ = _LC1;
    auVar56._8_4_ = _LC3;
    auVar56._0_8_ = auVar48._0_8_;
    auVar56._12_4_ = _LC3;
    auVar51._8_4_ = _LC1;
    auVar51._0_8_ = auVar47._0_8_;
    auVar51._12_4_ = _LC1;
    auVar65._8_4_ = _LC3;
    auVar65._0_8_ = auVar48._0_8_;
    auVar65._12_4_ = _LC3;
    auVar43._8_4_ = _LC1;
    auVar43._0_8_ = auVar47._0_8_;
    auVar43._12_4_ = _LC1;
    iVar30 = 0;
    iVar34 = 0;
    iVar37 = 0;
    iVar39 = 0;
    pauVar15 = (undefined1 (*) [16])(auStack_ee0 + uVar25 * 0x60);
    pfVar17 = local_1290 + uVar25 * 4;
    lVar24 = uVar25 * 0x10;
    do {
      auVar65 = maxps(auVar65,pauVar15[1]);
      auVar43 = minps(auVar43,*pauVar15);
      pauVar16 = pauVar15 + -6;
      iVar5 = *(int *)(((undefined1 (*) [16])local_280)[-1] + lVar24);
      iVar6 = *(int *)((long)local_290 + lVar24 + 4);
      iVar7 = *(int *)((long)local_290 + lVar24 + 8);
      iVar8 = *(int *)((long)local_290 + lVar24 + 0xc);
      auVar56 = maxps(auVar56,pauVar15[3]);
      pfVar17[3] = 0.0;
      auVar51 = minps(auVar51,pauVar15[2]);
      auVar61 = maxps(auVar61,pauVar15[5]);
      iVar30 = iVar5 + iVar30;
      iVar34 = iVar6 + iVar34;
      iVar37 = iVar7 + iVar37;
      iVar39 = iVar8 + iVar39;
      auVar57 = minps(auVar57,pauVar15[4]);
      *(int *)((long)aiStack_1090 + lVar24) = iVar30;
      *(int *)((long)aiStack_1090 + lVar24 + 4) = iVar34;
      *(int *)((long)aiStack_1090 + lVar24 + 8) = iVar37;
      *(int *)((long)aiStack_1090 + lVar24 + 0xc) = iVar39;
      fVar35 = auVar65._4_4_ - auVar43._4_4_;
      fVar38 = auVar65._8_4_ - auVar43._8_4_;
      *pfVar17 = (auVar65._0_4_ - auVar43._0_4_) * (fVar35 + fVar38) + fVar35 * fVar38;
      fVar35 = auVar56._4_4_ - auVar51._4_4_;
      fVar38 = auVar56._8_4_ - auVar51._8_4_;
      pfVar17[1] = (auVar56._0_4_ - auVar51._0_4_) * (fVar35 + fVar38) + fVar35 * fVar38;
      fVar35 = auVar61._4_4_ - auVar57._4_4_;
      fVar38 = auVar61._8_4_ - auVar57._8_4_;
      pfVar17[2] = (auVar61._0_4_ - auVar57._0_4_) * (fVar35 + fVar38) + fVar35 * fVar38;
      pauVar15 = pauVar16;
      pfVar17 = pfVar17 + -4;
      lVar24 = lVar24 + -0x10;
    } while ((undefined1 (*) [16])local_e80 != pauVar16);
  }
  local_1350 = (byte)in_ECX;
  local_12d0 = auVar47;
  local_12c0[0] = (undefined1  [16])0x0;
  iVar30 = (1 << (local_1350 & 0x1f)) + -1;
  if (1 < uVar27) {
    lVar24 = 0x10;
    auVar64._8_4_ = _LC3;
    auVar64._0_8_ = auVar48._0_8_;
    auVar64._12_4_ = _LC3;
    auVar63._8_4_ = _LC3;
    auVar63._0_8_ = auVar48._0_8_;
    auVar63._12_4_ = _LC3;
    local_12e0 = (undefined1  [16])0x0;
    uVar26 = 1;
    local_12d0._8_4_ = _LC1;
    local_12d0._0_8_ = auVar47._0_8_;
    local_12d0._12_4_ = _LC1;
    local_12f0 = (undefined1  [16])0x0;
    pauVar15 = (undefined1 (*) [16])local_e80;
    local_1330 = auVar48;
    local_1320 = auVar47;
    local_1310 = auVar47;
    local_1300 = auVar47;
    local_1340 = __LC21;
    uStack_133c = _UNK_00122f84;
    uStack_1338 = _UNK_00122f88;
    uStack_1334 = _UNK_00122f8c;
    do {
      uVar26 = uVar26 + 1;
      local_1320 = minps(local_1320,pauVar15[4]);
      local_1330 = maxps(local_1330,pauVar15[5]);
      local_12f0._0_4_ = local_12f0._0_4_ + *(int *)((long)local_290 + lVar24);
      local_12f0._4_4_ = local_12f0._4_4_ + *(int *)((long)local_290 + lVar24 + 4);
      local_12f0._8_4_ = local_12f0._8_4_ + *(int *)((long)local_290 + lVar24 + 8);
      local_12f0._12_4_ = local_12f0._12_4_ + *(int *)((long)local_290 + lVar24 + 0xc);
      auVar63 = maxps(auVar63,pauVar15[1]);
      fVar35 = local_1330._4_4_ - local_1320._4_4_;
      fVar62 = local_1330._8_4_ - local_1320._8_4_;
      local_1300 = minps(local_1300,*pauVar15);
      auVar64 = maxps(auVar64,pauVar15[3]);
      local_1310 = minps(local_1310,pauVar15[2]);
      fVar38 = auVar63._4_4_ - local_1300._4_4_;
      fVar60 = auVar63._8_4_ - local_1300._8_4_;
      fVar58 = auVar64._4_4_ - local_1310._4_4_;
      fVar59 = auVar64._8_4_ - local_1310._8_4_;
      fVar35 = (fVar35 + fVar62) * (local_1330._0_4_ - local_1320._0_4_) + fVar35 * fVar62;
      uVar12 = (uint)(local_12f0._0_4_ + iVar30) >> in_ECX;
      uVar33 = (uint)(local_12f0._4_4_ + iVar30) >> in_ECX;
      uVar40 = (uint)(local_12f0._8_4_ + iVar30) >> in_ECX;
      uVar46 = (uint)(local_12f0._12_4_ + iVar30) >> in_ECX;
      uVar29 = (uint)(*(int *)((long)aiStack_1090 + lVar24 + 0x10) + iVar30) >> in_ECX;
      uVar36 = (uint)(*(int *)((long)aiStack_1090 + lVar24 + 0x14) + iVar30) >> in_ECX;
      uVar45 = (uint)(*(int *)((long)aiStack_1090 + lVar24 + 0x18) + iVar30) >> in_ECX;
      uVar66 = (uint)(*(int *)((long)aiStack_1090 + lVar24 + 0x1c) + iVar30) >> in_ECX;
      pfVar17 = (float *)((long)local_1280 + lVar24);
      lVar21 = lVar24 + 4;
      lVar23 = lVar24 + 8;
      lVar9 = lVar24 + 0xc;
      lVar24 = lVar24 + 0x10;
      fVar38 = ((float)(int)(uVar12 & _LC24) + (float)((int)uVar12 >> 0x1f & __LC20)) *
               (fVar38 * fVar60 + (fVar38 + fVar60) * (auVar63._0_4_ - local_1300._0_4_)) +
               ((float)(int)(uVar29 & _LC24) + (float)((int)uVar29 >> 0x1f & __LC20)) * *pfVar17;
      fVar58 = ((float)(int)(uVar33 & _UNK_00122f94) + (float)((int)uVar33 >> 0x1f & _UNK_00122fa4))
               * (fVar58 * fVar59 + (fVar58 + fVar59) * (auVar64._0_4_ - local_1310._0_4_)) +
               ((float)(int)(uVar36 & _UNK_00122f94) + (float)((int)uVar36 >> 0x1f & _UNK_00122fa4))
               * *(float *)((long)local_1280 + lVar21);
      fVar59 = ((float)(int)(uVar40 & _UNK_00122f98) + (float)((int)uVar40 >> 0x1f & _UNK_00122fa8))
               * fVar35 +
               ((float)(int)(uVar45 & _UNK_00122f98) + (float)((int)uVar45 >> 0x1f & _UNK_00122fa8))
               * *(float *)((long)local_1280 + lVar23);
      fVar35 = ((float)(int)(uVar46 & _UNK_00122f9c) + (float)((int)uVar46 >> 0x1f & _UNK_00122fac))
               * fVar35 +
               ((float)(int)(uVar66 & _UNK_00122f9c) + (float)((int)uVar66 >> 0x1f & _UNK_00122fac))
               * *(float *)((long)local_1280 + lVar9);
      uVar12 = -(uint)(fVar38 < local_12d0._0_4_);
      uVar29 = -(uint)(fVar58 < local_12d0._4_4_);
      uVar33 = -(uint)(fVar59 < local_12d0._8_4_);
      uVar36 = -(uint)(fVar35 < local_12d0._12_4_);
      local_12e0._0_4_ = local_1340 & uVar12 | ~uVar12 & local_12e0._0_4_;
      local_12e0._4_4_ = uStack_133c & uVar29 | ~uVar29 & local_12e0._4_4_;
      local_12e0._8_4_ = uStack_1338 & uVar33 | ~uVar33 & local_12e0._8_4_;
      local_12e0._12_4_ = uStack_1334 & uVar36 | ~uVar36 & local_12e0._12_4_;
      auVar52._4_4_ = uVar29 & (uint)fVar58;
      auVar52._0_4_ = uVar12 & (uint)fVar38;
      auVar49._0_4_ = ~uVar12 & (uint)local_12d0._0_4_;
      auVar49._4_4_ = ~uVar29 & (uint)local_12d0._4_4_;
      auVar49._8_4_ = ~uVar33 & (uint)local_12d0._8_4_;
      auVar49._12_4_ = ~uVar36 & (uint)local_12d0._12_4_;
      auVar52._8_4_ = uVar33 & (uint)fVar59;
      auVar52._12_4_ = uVar36 & (uint)fVar35;
      local_12d0 = auVar52 | auVar49;
      pauVar15 = pauVar15 + 6;
      local_1340 = local_1340 + __LC21;
      uStack_133c = uStack_133c + _UNK_00122f84;
      uStack_1338 = uStack_1338 + _UNK_00122f88;
      uStack_1334 = uStack_1334 + _UNK_00122f8c;
    } while (uVar26 < uVar25);
    local_12c0[0]._4_4_ = local_12e0._4_4_;
    local_12c0[0]._0_4_ = local_12e0._0_4_;
    local_12c0[0]._8_4_ = local_12e0._8_4_;
    local_12c0[0]._12_4_ = local_12e0._12_4_;
  }
  lVar24 = 0;
  uVar26 = 0;
  lVar21 = -1;
  fVar35 = _LC1;
  do {
    if (((local_1290[lVar24] != 0.0) && (*(float *)(local_12d0 + lVar24 * 4) < fVar35)) &&
       (local_1290[lVar24 + -0xc] != 0.0)) {
      lVar21 = (long)(int)lVar24;
      uVar26 = (ulong)(int)local_1290[lVar24 + -0xc];
      fVar35 = *(float *)(local_12d0 + lVar24 * 4);
    }
    lVar24 = lVar24 + 1;
  } while (lVar24 != 3);
  iVar30 = (int)lVar21;
  *(int *)(param_1 + 4) = iVar30;
  *(int *)(param_1 + 8) = (int)uVar26;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(ulong *)(param_1 + 0x10) = uVar25;
  *(float *)param_1 = fVar35;
  *(float *)(param_1 + 0x20) = fVar28;
  *(float *)(param_1 + 0x24) = fVar2;
  *(float *)(param_1 + 0x28) = fVar3;
  *(float *)(param_1 + 0x2c) = fVar4;
  *(float *)(param_1 + 0x30) = fVar50;
  *(float *)(param_1 + 0x34) = fVar53;
  *(float *)(param_1 + 0x38) = fVar54;
  *(uint *)(param_1 + 0x3c) = uVar55;
  if (iVar30 == -1) {
    *in_R8 = 0;
    in_R8[1] = 0;
    *(undefined1 (*) [16])(in_R8 + 2) = auVar47;
    *(undefined1 (*) [16])(in_R8 + 4) = auVar48;
    *(undefined1 (*) [16])(in_R8 + 6) = auVar47;
    *(undefined1 (*) [16])(in_R8 + 8) = auVar48;
  }
  else {
    lVar24 = 0;
    auVar32._8_4_ = uVar11;
    auVar32._0_8_ = auVar48._0_8_;
    auVar32._12_4_ = uVar11;
    auVar44._8_4_ = fVar10;
    auVar44._0_8_ = auVar47._0_8_;
    auVar44._12_4_ = fVar10;
    if (uVar26 != 0) {
      lVar23 = (long)iVar30;
      lVar24 = 0;
      pauVar15 = (undefined1 (*) [16])(local_e70 + lVar23 * 0x20);
      puVar19 = *(undefined1 (*) [16])local_e80 + lVar23 * 4;
      do {
        puVar18 = puVar19 + 0x10;
        auVar44 = minps(auVar44,pauVar15[-1]);
        auVar32 = maxps(auVar32,*pauVar15);
        pauVar15 = pauVar15 + 6;
        lVar24 = lVar24 + (ulong)*(uint *)(puVar19 + 0xc00);
        puVar19 = puVar18;
      } while (((undefined1 (*) [16])local_e80)[uVar26] + lVar23 * 4 != puVar18);
    }
    if (uVar26 < uVar25) {
      puVar20 = (uint *)(((undefined1 (*) [16])local_e80)[uVar26 + 0xc0] + lVar21 * 4);
      lVar23 = 0;
      pauVar15 = (undefined1 (*) [16])(local_e70 + (uVar26 * 3 + lVar21) * 0x20);
      do {
        uVar55 = *puVar20;
        puVar20 = puVar20 + 4;
        auVar47 = minps(auVar47,pauVar15[-1]);
        auVar48 = maxps(auVar48,*pauVar15);
        lVar23 = lVar23 + (ulong)uVar55;
        pauVar15 = pauVar15 + 6;
      } while ((uint *)(((undefined1 (*) [16])local_280)[uVar25] + lVar21 * 4) != puVar20);
    }
    else {
      lVar23 = 0;
    }
    *in_R8 = lVar24;
    in_R8[1] = lVar23;
    *(undefined1 (*) [16])(in_R8 + 2) = auVar44;
    *(undefined1 (*) [16])(in_R8 + 4) = auVar32;
    *(undefined1 (*) [16])(in_R8 + 6) = auVar47;
    *(undefined1 (*) [16])(in_R8 + 8) = auVar48;
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::setExtentedRanges(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&, unsigned long, unsigned long) [clone .isra.0] */

void embree::sse2::
     HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
     ::setExtentedRanges(PrimInfoExtRange *param_1,PrimInfoExtRange *param_2,
                        PrimInfoExtRange *param_3,ulong param_4,ulong param_5)

{
  ulong uVar1;
  ulong uVar2;
  float fVar3;
  
  uVar1 = *(long *)(param_1 + 0x50) - *(long *)(param_1 + 0x48);
  if ((long)(param_4 + param_5) < 0) {
    fVar3 = (float)(param_4 + param_5);
  }
  else {
    fVar3 = (float)(long)(param_4 + param_5);
  }
  fVar3 = ((float)param_4 / fVar3) * (float)uVar1;
  if ((float)((uint)fVar3 & _LC24) < _LC22) {
    fVar3 = (float)((uint)(float)(int)fVar3 | ~_LC24 & (uint)fVar3);
  }
  if (__LC15 <= fVar3) {
    uVar2 = (long)(fVar3 - __LC15) ^ 0x8000000000000000;
  }
  else {
    uVar2 = (ulong)fVar3;
  }
  if (uVar1 < uVar2) {
    uVar2 = uVar1;
  }
  *(ulong *)(param_2 + 0x50) = *(long *)(param_2 + 0x48) + uVar2;
  *(ulong *)(param_3 + 0x50) = (uVar1 + *(long *)(param_3 + 0x48)) - uVar2;
  return;
}



/* void* embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator
   const&)#1}>::TEMPNAMEPLACEHOLDERVALUE(embree::PrimRef*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator) const */

void * embree::sse2::BVHBuilderBinnedFastSpatialSAH::
       CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1}>
       ::operator()(undefined8 *param_1,long param_2,ulong *param_3)

{
  long lVar1;
  void *pvVar2;
  ulong uVar3;
  ulong uVar4;
  
  uVar3 = *param_3;
  uVar4 = param_3[1];
  if (uVar3 < uVar4) {
    lVar1 = uVar3 * 0x20 + param_2;
    do {
      *(uint *)(lVar1 + 0xc) = *(uint *)(lVar1 + 0xc) & 0x7ffffff;
      uVar4 = param_3[1];
      uVar3 = uVar3 + 1;
      lVar1 = lVar1 + 0x20;
    } while (uVar3 < uVar4);
    uVar3 = *param_3;
  }
  pvVar2 = (void *)(**(code **)*param_1)
                             (&stack0x00000008,param_2 + uVar3 * 0x20,uVar4 - uVar3,
                              *(undefined8 *)param_1[1]);
  return pvVar2;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*, long,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHBuilderMorton::BuildPrim*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, long, __gnu_cxx::__ops::_Iter_less_iter) [clone
   .isra.0] */

void std::
     __introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*,long,__gnu_cxx::__ops::_Iter_less_iter>
               (uint *param_1,uint *param_2,long param_3)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  undefined8 uVar5;
  long lVar6;
  uint *puVar7;
  uint *puVar8;
  uint *puVar9;
  long lVar10;
  
  lVar6 = (long)param_2 - (long)param_1;
  if (lVar6 < 0x81) {
    return;
  }
  puVar1 = param_1 + 2;
  puVar9 = param_2;
  if (param_3 != 0) {
    do {
      uVar2 = param_1[2];
      uVar3 = puVar9[-2];
      param_3 = param_3 + -1;
      puVar7 = param_1 + (lVar6 >> 4) * 2;
      uVar4 = *puVar7;
      puVar8 = puVar9;
      param_2 = puVar1;
      if (uVar2 < uVar4) {
        if (uVar4 < uVar3) {
LAB_001023ae:
          uVar5 = *(undefined8 *)param_1;
          *(undefined8 *)param_1 = *(undefined8 *)puVar7;
          *(undefined8 *)puVar7 = uVar5;
        }
        else {
          if (uVar3 <= uVar2) goto LAB_00102304;
LAB_00102373:
          uVar5 = *(undefined8 *)param_1;
          *(undefined8 *)param_1 = *(undefined8 *)(puVar9 + -2);
          *(undefined8 *)(puVar9 + -2) = uVar5;
        }
      }
      else {
        if (uVar3 <= uVar2) {
          if (uVar4 < uVar3) goto LAB_00102373;
          goto LAB_001023ae;
        }
LAB_00102304:
        uVar5 = *(undefined8 *)(param_1 + 2);
        *(undefined8 *)(param_1 + 2) = *(undefined8 *)param_1;
        *(undefined8 *)param_1 = uVar5;
      }
      while( true ) {
        uVar2 = *param_2;
        while (uVar2 < *param_1) {
          param_2 = param_2 + 2;
          uVar2 = *param_2;
        }
        puVar7 = puVar8 + -2;
        uVar2 = puVar8[-2];
        while (*param_1 < uVar2) {
          puVar7 = puVar7 + -2;
          uVar2 = *puVar7;
        }
        if (puVar7 <= param_2) break;
        uVar5 = *(undefined8 *)param_2;
        *(undefined8 *)param_2 = *(undefined8 *)puVar7;
        *(undefined8 *)puVar7 = uVar5;
        puVar8 = puVar7;
        param_2 = param_2 + 2;
      }
      __introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (param_2,puVar9,param_3);
      lVar6 = (long)param_2 - (long)param_1;
      if (lVar6 < 0x81) {
        return;
      }
      puVar9 = param_2;
    } while (param_3 != 0);
  }
  for (lVar10 = (lVar6 >> 3) + -2 >> 1;
      __adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*,long,embree::sse2::BVHBuilderMorton::BuildPrim,__gnu_cxx::__ops::_Iter_less_iter>
                (param_1,lVar10,lVar6 >> 3,*(undefined8 *)(param_1 + lVar10 * 2)), lVar10 != 0;
      lVar10 = lVar10 + -1) {
  }
  do {
    param_2 = param_2 + -2;
    uVar5 = *(undefined8 *)param_2;
    *(undefined8 *)param_2 = *(undefined8 *)param_1;
    __adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*,long,embree::sse2::BVHBuilderMorton::BuildPrim,__gnu_cxx::__ops::_Iter_less_iter>
              (param_1,0,(long)param_2 - (long)param_1 >> 3,uVar5);
  } while (8 < (long)param_2 - (long)param_1);
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::sse2::BVHBuilderMorton::BuildPrim*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::
     __insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,__gnu_cxx::__ops::_Iter_less_iter>
               (uint *param_1,uint *param_2)

{
  uint uVar1;
  uint uVar2;
  undefined8 uVar3;
  uint *puVar4;
  uint *puVar5;
  size_t __n;
  uint *puVar6;
  uint *puVar7;
  
  if (param_1 == param_2) {
    return;
  }
  puVar6 = param_1 + 2;
  do {
    if (param_2 == puVar6) {
      return;
    }
    while( true ) {
      uVar2 = *puVar6;
      puVar7 = puVar6 + 2;
      if (uVar2 < *param_1) break;
      uVar3 = *(undefined8 *)puVar6;
      uVar1 = puVar6[-2];
      puVar5 = puVar6 + -2;
      while (puVar4 = puVar5, uVar2 < uVar1) {
        *(undefined8 *)(puVar4 + 2) = *(undefined8 *)puVar4;
        puVar5 = puVar4 + -2;
        puVar6 = puVar4;
        uVar1 = puVar4[-2];
      }
      *(undefined8 *)puVar6 = uVar3;
      puVar6 = puVar7;
      if (param_2 == puVar7) {
        return;
      }
    }
    uVar3 = *(undefined8 *)puVar6;
    __n = (long)puVar6 - (long)param_1;
    if ((long)__n < 9) {
      if (__n == 8) {
        *(undefined8 *)puVar6 = *(undefined8 *)param_1;
      }
    }
    else {
      memmove((void *)((long)puVar6 + (8 - __n)),param_1,__n);
    }
    *(undefined8 *)param_1 = uVar3;
    puVar6 = puVar7;
  } while( true );
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__insertion_sort<embree::PrimRef*, __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRef*,
   embree::PrimRef*, __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined8 *param_1,undefined8 *param_2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  ulong uVar9;
  undefined8 *puVar10;
  undefined8 *puVar11;
  undefined8 *puVar12;
  undefined8 *puVar13;
  
  if (param_1 != param_2) {
    puVar12 = param_1 + 4;
    while (puVar13 = puVar12, param_2 != puVar12) {
      while( true ) {
        puVar12 = puVar13 + 4;
        uVar1 = *(undefined4 *)puVar13;
        uVar2 = *(undefined4 *)((long)puVar13 + 4);
        uVar3 = *(undefined4 *)(puVar13 + 1);
        uVar4 = *(undefined4 *)((long)puVar13 + 0xc);
        uVar5 = *(undefined4 *)(puVar13 + 2);
        uVar6 = *(undefined4 *)((long)puVar13 + 0x14);
        uVar7 = *(undefined4 *)(puVar13 + 3);
        uVar8 = *(undefined4 *)((long)puVar13 + 0x1c);
        if (CONCAT44(*(undefined4 *)((long)param_1 + 0x1c),*(undefined4 *)((long)param_1 + 0xc)) <=
            CONCAT44(*(undefined4 *)((long)puVar13 + 0x1c),*(undefined4 *)((long)puVar13 + 0xc)))
        break;
        puVar10 = puVar13;
        if (0 < (long)puVar13 - (long)param_1) {
          do {
            puVar11 = puVar10 + -4;
            *puVar10 = puVar10[-4];
            puVar10[1] = puVar10[-3];
            puVar10[2] = puVar10[-2];
            puVar10[3] = puVar10[-1];
            puVar10 = puVar11;
          } while (puVar11 !=
                   (undefined8 *)
                   ((long)puVar13 - ((long)puVar13 - (long)param_1 & 0xffffffffffffffe0U)));
        }
        *(undefined4 *)param_1 = uVar1;
        *(undefined4 *)((long)param_1 + 4) = uVar2;
        *(undefined4 *)(param_1 + 1) = uVar3;
        *(undefined4 *)((long)param_1 + 0xc) = uVar4;
        *(undefined4 *)(param_1 + 2) = uVar5;
        *(undefined4 *)((long)param_1 + 0x14) = uVar6;
        *(undefined4 *)(param_1 + 3) = uVar7;
        *(undefined4 *)((long)param_1 + 0x1c) = uVar8;
        puVar13 = puVar12;
        if (param_2 == puVar12) {
          return;
        }
      }
      uVar9 = CONCAT44(*(undefined4 *)((long)puVar13 + -4),*(undefined4 *)((long)puVar13 + -0x14));
      while (CONCAT44(uVar8,uVar4) < uVar9) {
        *puVar13 = puVar13[-4];
        puVar13[1] = puVar13[-3];
        puVar13[2] = puVar13[-2];
        puVar13[3] = puVar13[-1];
        uVar9 = CONCAT44(*(undefined4 *)((long)puVar13 + -0x24),
                         *(undefined4 *)((long)puVar13 + -0x34));
        puVar13 = puVar13 + -4;
      }
      *(undefined4 *)puVar13 = uVar1;
      *(undefined4 *)((long)puVar13 + 4) = uVar2;
      *(undefined4 *)(puVar13 + 1) = uVar3;
      *(undefined4 *)((long)puVar13 + 0xc) = uVar4;
      *(undefined4 *)(puVar13 + 2) = uVar5;
      *(undefined4 *)((long)puVar13 + 0x14) = uVar6;
      *(undefined4 *)(puVar13 + 3) = uVar7;
      *(undefined4 *)((long)puVar13 + 0x1c) = uVar8;
    }
  }
  return;
}



/* embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::createLargeLeaf(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator) */

BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
* __thiscall
embree::sse2::BVHBuilderMorton::
BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
::createLargeLeaf(BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                  *this,ulong *param_1,ulong param_2,uint *param_4)

{
  uint uVar1;
  undefined8 uVar2;
  long *plVar3;
  long lVar4;
  uint uVar5;
  ulong uVar6;
  undefined8 uVar7;
  undefined1 (*pauVar8) [16];
  long lVar9;
  ulong uVar10;
  undefined8 *puVar11;
  undefined8 *puVar12;
  ulong uVar13;
  long lVar14;
  uint *puVar15;
  uint *puVar16;
  ulong uVar17;
  ulong uVar18;
  ulong uVar19;
  ulong uVar20;
  long in_FS_OFFSET;
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined8 local_570;
  undefined8 uStack_568;
  undefined8 local_560;
  undefined8 uStack_558;
  undefined8 local_550 [2];
  undefined4 local_540;
  undefined4 uStack_53c;
  undefined4 uStack_538;
  undefined4 uStack_534;
  undefined4 local_530;
  undefined4 uStack_52c;
  undefined4 uStack_528;
  undefined4 uStack_524;
  undefined8 local_520;
  uint local_518 [14];
  undefined8 local_4e0 [8];
  undefined8 local_4a0 [8];
  undefined8 local_460 [2];
  undefined8 local_450 [46];
  undefined8 local_2e0 [83];
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < param_2) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar13 = param_1[3];
  uVar19 = (ulong)(param_4[1] - *param_4);
  if (uVar13 < uVar19) {
    uVar19 = 1;
    local_520 = *(undefined8 *)param_4;
    puVar15 = (uint *)&local_520;
    do {
      uVar6 = 0;
      uVar17 = 0;
      uVar18 = 0xffffffffffffffff;
      do {
        uVar10 = (ulong)(local_518[uVar6 * 2 + -1] - *(uint *)((long)&local_520 + uVar6 * 2 * 4));
        uVar20 = uVar17;
        if (uVar17 <= uVar13) {
          uVar20 = uVar13;
        }
        if (uVar20 < uVar10) {
          uVar18 = uVar6;
          uVar17 = uVar10;
        }
        uVar6 = uVar6 + 1;
      } while (uVar19 != uVar6);
      if (uVar18 == 0xffffffffffffffff) break;
      uVar5 = local_518[uVar18 * 2 + -2];
      uVar19 = uVar19 + 1;
      uVar1 = local_518[uVar18 * 2 + -1];
      *(undefined8 *)(local_518 + uVar18 * 2 + -2) = *(undefined8 *)puVar15;
      *puVar15 = uVar5;
      uVar5 = uVar5 + uVar1 >> 1;
      puVar15[3] = uVar1;
      puVar15[1] = uVar5;
      puVar15[2] = uVar5;
      puVar15 = puVar15 + 2;
    } while (uVar19 < *param_1);
    uVar7 = (*(code *)**(undefined8 **)param_1[6])
                      (&stack0x00000008,uVar19 & 0xffffffff,
                       *(undefined8 *)((undefined8 *)param_1[6])[1]);
    puVar11 = local_460;
    do {
      *puVar11 = 0;
      puVar12 = puVar11 + 0xc;
      puVar11[6] = 0;
      puVar11 = puVar12;
    } while (local_2e0 != puVar12);
    puVar15 = (uint *)&local_520;
    puVar11 = local_460;
    do {
      puVar16 = puVar15 + 2;
      createLargeLeaf((BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                       *)local_550,param_1,param_2 + 1,puVar15);
      *puVar11 = local_550[0];
      *(undefined4 *)(puVar11 + 2) = local_540;
      *(undefined4 *)((long)puVar11 + 0x14) = uStack_53c;
      *(undefined4 *)(puVar11 + 3) = uStack_538;
      *(undefined4 *)((long)puVar11 + 0x1c) = uStack_534;
      *(undefined4 *)(puVar11 + 4) = local_530;
      *(undefined4 *)((long)puVar11 + 0x24) = uStack_52c;
      *(undefined4 *)(puVar11 + 5) = uStack_528;
      *(undefined4 *)((long)puVar11 + 0x2c) = uStack_524;
      puVar15 = puVar16;
      puVar11 = puVar11 + 6;
    } while ((uint *)((long)&local_520 + uVar19 * 2 * 4) != puVar16);
    puVar11 = (undefined8 *)param_1[7];
    uVar13 = 0;
    auVar21._4_4_ = _LC3;
    auVar21._0_4_ = _LC3;
    auVar21._8_4_ = _LC3;
    auVar21._12_4_ = _LC3;
    auVar23._4_4_ = _LC1;
    auVar23._0_4_ = _LC1;
    auVar23._8_4_ = _LC1;
    auVar23._12_4_ = _LC1;
    pauVar8 = (undefined1 (*) [16])local_450;
    do {
      uVar2 = *(undefined8 *)pauVar8[-1];
      auVar23 = minps(auVar23,*pauVar8);
      local_4a0[uVar13] = pauVar8;
      auVar21 = maxps(auVar21,pauVar8[1]);
      local_4e0[uVar13] = uVar2;
      uVar13 = uVar13 + 1;
      pauVar8 = pauVar8 + 3;
    } while (uVar19 != uVar13);
    (**(code **)*puVar11)(uVar7,local_4a0,(int)uVar19,*(undefined8 *)puVar11[1]);
    (**(code **)puVar11[2])(uVar7,local_4e0,(int)uVar19,*(undefined8 *)puVar11[1]);
    local_560 = auVar23._0_8_;
    uStack_558 = auVar23._8_8_;
    *(undefined8 *)this = uVar7;
    *(undefined8 *)(this + 0x10) = local_560;
    *(undefined8 *)(this + 0x18) = uStack_558;
    local_570 = auVar21._0_8_;
    uStack_568 = auVar21._8_8_;
    *(undefined8 *)(this + 0x20) = local_570;
    *(undefined8 *)(this + 0x28) = uStack_568;
  }
  else {
    plVar3 = (long *)param_1[8];
    if (uVar19 == 0) {
      auVar22._4_4_ = _LC3;
      auVar22._0_4_ = _LC3;
      auVar22._8_4_ = _LC3;
      auVar22._12_4_ = _LC3;
      auVar24._4_4_ = _LC1;
      auVar24._0_4_ = _LC1;
      auVar24._8_4_ = _LC1;
      auVar24._12_4_ = _LC1;
    }
    else {
      uVar13 = (ulong)*param_4;
      lVar9 = uVar13 * 8;
      auVar22._4_4_ = _LC3;
      auVar22._0_4_ = _LC3;
      auVar22._8_4_ = _LC3;
      auVar22._12_4_ = _LC3;
      auVar24._4_4_ = _LC1;
      auVar24._0_4_ = _LC1;
      auVar24._8_4_ = _LC1;
      auVar24._12_4_ = _LC1;
      do {
        lVar4 = *(long *)plVar3[2];
        lVar14 = (ulong)*(uint *)(*(long *)(*plVar3 + 0x20) + 4 + lVar9) * 0x20;
        puVar11 = (undefined8 *)(lVar4 + lVar14);
        uVar7 = puVar11[1];
        auVar24 = minps(auVar24,*(undefined1 (*) [16])(*(long *)plVar3[1] + lVar14));
        auVar22 = maxps(auVar22,((undefined1 (*) [16])(*(long *)plVar3[1] + lVar14))[1]);
        puVar12 = (undefined8 *)((long)local_460 + lVar9 * 4 + uVar13 * -0x20);
        *puVar12 = *puVar11;
        puVar12[1] = uVar7;
        puVar11 = (undefined8 *)(lVar4 + 0x10 + lVar14);
        uVar7 = puVar11[1];
        puVar12 = (undefined8 *)((long)local_450 + lVar9 * 4 + uVar13 * -0x20);
        *puVar12 = *puVar11;
        puVar12[1] = uVar7;
        lVar9 = lVar9 + 8;
      } while ((uVar19 + uVar13) * 8 != lVar9);
    }
    uVar7 = (**(code **)plVar3[3])(&stack0x00000008,local_460,uVar19,*(undefined8 *)plVar3[4]);
    local_560 = auVar24._0_8_;
    uStack_558 = auVar24._8_8_;
    *(undefined8 *)(this + 0x10) = local_560;
    *(undefined8 *)(this + 0x18) = uStack_558;
    local_570 = auVar22._0_8_;
    uStack_568 = auVar22._8_8_;
    *(undefined8 *)this = uVar7;
    *(undefined8 *)(this + 0x20) = local_570;
    *(undefined8 *)(this + 0x28) = uStack_568;
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* embree::parallel_reduce_internal<unsigned long, embree::sse2::SpatialBinInfo<16ul,
   embree::PrimRef>,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&,
   embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&)#1}>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&,
   embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&)#1} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::{lambda(embree::range<unsigned_long>const&)#1},embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::{lambda(embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::{lambda(embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&)#1}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined4 *puVar1;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 uVar15;
  undefined8 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined8 uVar20;
  undefined8 uVar21;
  long lVar22;
  long lVar23;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var24;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var25;
  long lVar26;
  long in_FS_OFFSET;
  _lambda_embree__range<unsigned_long>const___1_ local_880 [1536];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [256];
  undefined8 local_180;
  undefined8 uStack_178;
  undefined8 local_170;
  undefined8 uStack_168;
  undefined8 local_160;
  undefined8 uStack_158;
  undefined8 local_150;
  undefined8 uStack_148;
  undefined8 local_140;
  undefined8 uStack_138;
  undefined8 local_130;
  undefined8 uStack_128;
  undefined8 local_120;
  undefined8 uStack_118;
  undefined8 local_110;
  undefined8 uStack_108;
  undefined8 local_100;
  undefined8 uStack_f8;
  undefined8 local_f0;
  undefined8 uStack_e8;
  undefined8 local_e0;
  undefined8 uStack_d8;
  undefined8 local_d0;
  undefined8 uStack_c8;
  undefined8 local_c0;
  undefined8 uStack_b8;
  undefined8 local_b0;
  undefined8 uStack_a8;
  undefined8 local_a0;
  undefined8 uStack_98;
  undefined8 local_90;
  undefined8 uStack_88;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  sse2::
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
  ::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
  {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_880,*(range **)(this + 0x20));
  lVar26 = param_1 * 0x800 + *(long *)(*(long *)(this + 0x18) + 0x2000);
  lVar23 = lVar26;
  p_Var25 = local_880;
  do {
    p_Var24 = p_Var25;
    lVar22 = 0;
    do {
      p_Var25 = p_Var24 + lVar22;
      uVar3 = *(undefined4 *)(p_Var25 + 4);
      uVar4 = *(undefined4 *)(p_Var25 + 8);
      uVar5 = *(undefined4 *)(p_Var25 + 0xc);
      p_Var2 = p_Var24 + lVar22 + 0x10;
      uVar6 = *(undefined4 *)p_Var2;
      uVar7 = *(undefined4 *)(p_Var2 + 4);
      uVar8 = *(undefined4 *)(p_Var2 + 8);
      uVar9 = *(undefined4 *)(p_Var2 + 0xc);
      puVar1 = (undefined4 *)(lVar23 + lVar22);
      *puVar1 = *(undefined4 *)p_Var25;
      puVar1[1] = uVar3;
      puVar1[2] = uVar4;
      puVar1[3] = uVar5;
      puVar1 = (undefined4 *)(lVar23 + 0x10 + lVar22);
      *puVar1 = uVar6;
      puVar1[1] = uVar7;
      puVar1[2] = uVar8;
      puVar1[3] = uVar9;
      lVar22 = lVar22 + 0x20;
    } while (lVar22 != 0x60);
    p_Var25 = p_Var24 + 0x60;
    lVar23 = lVar23 + 0x60;
  } while (p_Var25 != local_280);
  uVar10 = *(undefined8 *)(p_Var24 + 0x68);
  uVar11 = *(undefined8 *)(p_Var24 + 0x70);
  uVar12 = *(undefined8 *)(p_Var24 + 0x78);
  uVar13 = *(undefined8 *)(p_Var24 + 0x80);
  uVar14 = *(undefined8 *)(p_Var24 + 0x88);
  uVar15 = *(undefined8 *)(p_Var24 + 0x90);
  uVar16 = *(undefined8 *)(p_Var24 + 0x98);
  uVar17 = *(undefined8 *)(p_Var24 + 0xa0);
  uVar18 = *(undefined8 *)(p_Var24 + 0xa8);
  uVar19 = *(undefined8 *)(p_Var24 + 0xb0);
  uVar20 = *(undefined8 *)(p_Var24 + 0xb8);
  *(undefined8 *)(lVar26 + 0x600) = *(undefined8 *)p_Var25;
  *(undefined8 *)(lVar26 + 0x608) = uVar10;
  *(undefined8 *)(lVar26 + 0x610) = uVar11;
  *(undefined8 *)(lVar26 + 0x618) = uVar12;
  uVar10 = *(undefined8 *)(p_Var24 + 0xc0);
  uVar11 = *(undefined8 *)(p_Var24 + 200);
  uVar12 = *(undefined8 *)(p_Var24 + 0xd0);
  uVar21 = *(undefined8 *)(p_Var24 + 0xd8);
  *(undefined8 *)(lVar26 + 0x620) = uVar13;
  *(undefined8 *)(lVar26 + 0x628) = uVar14;
  uVar13 = *(undefined8 *)(p_Var24 + 0xe0);
  uVar14 = *(undefined8 *)(p_Var24 + 0xe8);
  *(undefined8 *)(lVar26 + 0x630) = uVar15;
  *(undefined8 *)(lVar26 + 0x638) = uVar16;
  uVar15 = *(undefined8 *)(p_Var24 + 0xf0);
  uVar16 = *(undefined8 *)(p_Var24 + 0xf8);
  *(undefined8 *)(lVar26 + 0x640) = uVar17;
  *(undefined8 *)(lVar26 + 0x648) = uVar18;
  uVar17 = *(undefined8 *)(p_Var24 + 0x100);
  uVar18 = *(undefined8 *)(p_Var24 + 0x108);
  *(undefined8 *)(lVar26 + 0x650) = uVar19;
  *(undefined8 *)(lVar26 + 0x658) = uVar20;
  uVar19 = *(undefined8 *)(p_Var24 + 0x110);
  uVar20 = *(undefined8 *)(p_Var24 + 0x118);
  *(undefined8 *)(lVar26 + 0x660) = uVar10;
  *(undefined8 *)(lVar26 + 0x668) = uVar11;
  uVar10 = *(undefined8 *)(p_Var24 + 0x120);
  uVar11 = *(undefined8 *)(p_Var24 + 0x128);
  *(undefined8 *)(lVar26 + 0x670) = uVar12;
  *(undefined8 *)(lVar26 + 0x678) = uVar21;
  uVar12 = *(undefined8 *)(p_Var24 + 0x130);
  uVar21 = *(undefined8 *)(p_Var24 + 0x138);
  *(undefined8 *)(lVar26 + 0x680) = uVar13;
  *(undefined8 *)(lVar26 + 0x688) = uVar14;
  uVar13 = *(undefined8 *)(p_Var24 + 0x140);
  uVar14 = *(undefined8 *)(p_Var24 + 0x148);
  *(undefined8 *)(lVar26 + 0x690) = uVar15;
  *(undefined8 *)(lVar26 + 0x698) = uVar16;
  uVar15 = *(undefined8 *)(p_Var24 + 0x150);
  uVar16 = *(undefined8 *)(p_Var24 + 0x158);
  *(undefined8 *)(lVar26 + 0x6b0) = uVar19;
  *(undefined8 *)(lVar26 + 0x6b8) = uVar20;
  *(undefined8 *)(lVar26 + 0x6c0) = uVar10;
  *(undefined8 *)(lVar26 + 0x6c8) = uVar11;
  *(undefined8 *)(lVar26 + 0x6d0) = uVar12;
  *(undefined8 *)(lVar26 + 0x6d8) = uVar21;
  *(undefined8 *)(lVar26 + 0x6e0) = uVar13;
  *(undefined8 *)(lVar26 + 0x6e8) = uVar14;
  *(undefined8 *)(lVar26 + 0x6f0) = uVar15;
  *(undefined8 *)(lVar26 + 0x6f8) = uVar16;
  *(undefined8 *)(lVar26 + 0x6a0) = uVar17;
  *(undefined8 *)(lVar26 + 0x6a8) = uVar18;
  *(undefined8 *)(lVar26 + 0x700) = local_180;
  *(undefined8 *)(lVar26 + 0x708) = uStack_178;
  *(undefined8 *)(lVar26 + 0x710) = local_170;
  *(undefined8 *)(lVar26 + 0x718) = uStack_168;
  *(undefined8 *)(lVar26 + 0x720) = local_160;
  *(undefined8 *)(lVar26 + 0x728) = uStack_158;
  *(undefined8 *)(lVar26 + 0x730) = local_150;
  *(undefined8 *)(lVar26 + 0x738) = uStack_148;
  *(undefined8 *)(lVar26 + 0x740) = local_140;
  *(undefined8 *)(lVar26 + 0x748) = uStack_138;
  *(undefined8 *)(lVar26 + 0x750) = local_130;
  *(undefined8 *)(lVar26 + 0x758) = uStack_128;
  *(undefined8 *)(lVar26 + 0x760) = local_120;
  *(undefined8 *)(lVar26 + 0x768) = uStack_118;
  *(undefined8 *)(lVar26 + 0x770) = local_110;
  *(undefined8 *)(lVar26 + 0x778) = uStack_108;
  *(undefined8 *)(lVar26 + 0x780) = local_100;
  *(undefined8 *)(lVar26 + 0x788) = uStack_f8;
  *(undefined8 *)(lVar26 + 0x790) = local_f0;
  *(undefined8 *)(lVar26 + 0x798) = uStack_e8;
  *(undefined8 *)(lVar26 + 0x7a0) = local_e0;
  *(undefined8 *)(lVar26 + 0x7a8) = uStack_d8;
  *(undefined8 *)(lVar26 + 0x7b0) = local_d0;
  *(undefined8 *)(lVar26 + 0x7b8) = uStack_c8;
  *(undefined8 *)(lVar26 + 0x7c0) = local_c0;
  *(undefined8 *)(lVar26 + 0x7c8) = uStack_b8;
  *(undefined8 *)(lVar26 + 2000) = local_b0;
  *(undefined8 *)(lVar26 + 0x7d8) = uStack_a8;
  *(undefined8 *)(lVar26 + 0x7e0) = local_a0;
  *(undefined8 *)(lVar26 + 0x7e8) = uStack_98;
  *(undefined8 *)(lVar26 + 0x7f0) = local_90;
  *(undefined8 *)(lVar26 + 0x7f8) = uStack_88;
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::range<unsigned long>
   const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&)#1}>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::range<unsigned long>
   const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::{lambda(embree::range<unsigned_long>const&)#1},embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::{lambda(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::{lambda(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&)#1}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  _lambda_embree__range<unsigned_long>const___1_ *p_Var1;
  undefined4 *puVar2;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  long lVar11;
  ulong uVar12;
  long lVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  long lVar15;
  undefined8 *puVar16;
  long in_FS_OFFSET;
  byte bVar17;
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [3072];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [504];
  undefined8 local_88;
  long local_48;
  
  bVar17 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var14 = local_e80;
  sse2::
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
  ::
  parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(embree::range<unsigned_long>const&)#1}::operator()(p_Var14,*(range **)(this + 0x20));
  lVar15 = param_1 * 0xe00 + *(long *)(*(long *)(this + 0x18) + 0x1c00);
  lVar13 = lVar15;
  do {
    lVar11 = 0;
    do {
      p_Var1 = p_Var14 + lVar11;
      uVar4 = *(undefined4 *)(p_Var1 + 4);
      uVar5 = *(undefined4 *)(p_Var1 + 8);
      uVar6 = *(undefined4 *)(p_Var1 + 0xc);
      p_Var3 = p_Var14 + lVar11 + 0x10;
      uVar7 = *(undefined4 *)p_Var3;
      uVar8 = *(undefined4 *)(p_Var3 + 4);
      uVar9 = *(undefined4 *)(p_Var3 + 8);
      uVar10 = *(undefined4 *)(p_Var3 + 0xc);
      puVar2 = (undefined4 *)(lVar13 + lVar11);
      *puVar2 = *(undefined4 *)p_Var1;
      puVar2[1] = uVar4;
      puVar2[2] = uVar5;
      puVar2[3] = uVar6;
      puVar2 = (undefined4 *)(lVar13 + 0x10 + lVar11);
      *puVar2 = uVar7;
      puVar2[1] = uVar8;
      puVar2[2] = uVar9;
      puVar2[3] = uVar10;
      lVar11 = lVar11 + 0x20;
    } while (lVar11 != 0x60);
    p_Var14 = p_Var14 + 0x60;
    lVar13 = lVar13 + 0x60;
  } while (p_Var14 != local_280);
  *(undefined8 *)(lVar15 + 0xc00) = *(undefined8 *)p_Var14;
  *(undefined8 *)(lVar15 + 0xdf8) = local_88;
  puVar16 = (undefined8 *)(lVar15 + 0xc08U & 0xfffffffffffffff8);
  lVar13 = (lVar15 + 0xc00) - (long)puVar16;
  p_Var14 = p_Var14 + -lVar13;
  for (uVar12 = (ulong)((int)lVar13 + 0x200U >> 3); uVar12 != 0; uVar12 = uVar12 - 1) {
    *puVar16 = *(undefined8 *)p_Var14;
    p_Var14 = p_Var14 + ((ulong)bVar17 * -2 + 1) * 8;
    puVar16 = puVar16 + (ulong)bVar17 * -2 + 1;
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::sequential_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&) [clone .isra.0] */

undefined1  [16] __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::sequential_spatial_split
          (HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
           *this,SpatialBinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  undefined1 auVar1 [16];
  undefined1 auVar2 [16];
  int iVar3;
  long lVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long lVar8;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  *pHVar9;
  long lVar10;
  int iVar11;
  ulong uVar12;
  ulong uVar13;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  *pHVar14;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  *pHVar15;
  long lVar16;
  int unaff_R12D;
  undefined1 auVar17 [16];
  uint uVar18;
  undefined4 uVar19;
  uint uVar21;
  undefined4 uVar22;
  uint uVar23;
  undefined4 uVar24;
  uint uVar25;
  undefined1 auVar20 [16];
  undefined4 uVar26;
  uint uVar27;
  uint uVar29;
  uint uVar30;
  uint uVar31;
  undefined1 auVar28 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined4 uVar37;
  undefined4 uVar38;
  undefined4 uVar39;
  undefined4 uVar40;
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  undefined1 auVar43 [16];
  undefined1 auVar44 [16];
  undefined1 local_98 [16];
  uint local_78;
  uint uStack_74;
  uint uStack_70;
  uint uStack_6c;
  
  uVar12 = (ulong)*(uint *)(param_1 + 4);
  auVar36._0_8_ = CONCAT44(_LC3,_LC3);
  auVar36._8_4_ = _LC3;
  auVar36._12_4_ = _LC3;
  iVar3 = *(int *)(param_1 + 8);
  lVar4 = *(long *)(param_2 + 0x48);
  auVar35._0_8_ = CONCAT44(_LC1,_LC1);
  auVar35._8_4_ = _LC1;
  auVar35._12_4_ = _LC1;
  lVar16 = 0;
  lVar10 = *(long *)(param_2 + 0x40);
  auVar43._8_4_ = _LC1;
  auVar43._0_8_ = auVar35._0_8_;
  auVar43._12_4_ = _LC1;
  auVar41._8_4_ = _LC1;
  auVar41._0_8_ = auVar35._0_8_;
  auVar41._12_4_ = _LC1;
  lVar8 = (long)(1 << ((byte)*(uint *)(param_1 + 4) & 0x1f));
  auVar42._8_4_ = _LC1;
  auVar42._0_8_ = auVar35._0_8_;
  auVar42._12_4_ = _LC1;
  uVar5 = (&mm_lookupmask_ps)[lVar8 * 2];
  uVar6 = *(undefined8 *)(embree::TaskScheduler::thread + lVar8 * 0x10);
  pHVar15 = this + lVar4 * 0x20 + -0x20;
  auVar17._8_4_ = _LC3;
  auVar17._0_8_ = auVar36._0_8_;
  auVar17._12_4_ = _LC3;
  pHVar9 = this + lVar10 * 0x20;
  lVar8 = 0;
  uVar19 = _LC3;
  uVar22 = _LC3;
  uVar24 = _LC3;
  uVar26 = _LC3;
  local_98 = auVar36;
  do {
    if (pHVar15 < pHVar9) {
      uVar37 = auVar41._0_4_;
      uVar38 = auVar41._4_4_;
      uVar39 = auVar41._8_4_;
      uVar40 = auVar41._12_4_;
      auVar34._4_4_ = uVar22;
      auVar34._0_4_ = uVar19;
      auVar34._8_4_ = uVar24;
      auVar34._12_4_ = uVar26;
LAB_00102f54:
      *(long *)(param_3 + 0x40) = lVar10;
      lVar10 = (long)pHVar9 - (long)this >> 5;
      *(undefined1 (*) [16])param_3 = auVar42;
      *(long *)(param_3 + 0x48) = lVar10;
      *(long *)(param_3 + 0x50) = lVar10;
      *(undefined8 *)(param_3 + 0x10) = local_98._0_8_;
      *(undefined8 *)(param_3 + 0x18) = local_98._8_8_;
      *(undefined1 (*) [16])(param_3 + 0x20) = auVar43;
      *(undefined1 (*) [16])(param_3 + 0x30) = auVar17;
      *(long *)(param_4 + 0x40) = lVar10;
      *(long *)(param_4 + 0x48) = lVar4;
      *(long *)(param_4 + 0x50) = lVar4;
      *(undefined4 *)param_4 = uVar37;
      *(undefined4 *)(param_4 + 4) = uVar38;
      *(undefined4 *)(param_4 + 8) = uVar39;
      *(undefined4 *)(param_4 + 0xc) = uVar40;
      *(undefined1 (*) [16])(param_4 + 0x10) = auVar34;
      *(undefined1 (*) [16])(param_4 + 0x20) = auVar35;
      *(undefined1 (*) [16])(param_4 + 0x30) = auVar36;
      auVar44._8_8_ = lVar16;
      auVar44._0_8_ = lVar8;
      return auVar44;
    }
    auVar44 = *(undefined1 (*) [16])(pHVar9 + 0x10);
    auVar1 = *(undefined1 (*) [16])pHVar9;
    auVar32._0_4_ = auVar44._0_4_ + auVar1._0_4_;
    auVar32._4_4_ = auVar44._4_4_ + auVar1._4_4_;
    auVar32._8_4_ = auVar44._8_4_ + auVar1._8_4_;
    auVar32._12_4_ = auVar44._12_4_ + auVar1._12_4_;
    uVar18 = (uint)((_LC8 * auVar32._0_4_ - *(float *)(param_1 + 0x20)) * *(float *)(param_1 + 0x30)
                   + _LC5);
    uVar21 = (uint)((_UNK_00122f64 * auVar32._4_4_ - *(float *)(param_1 + 0x24)) *
                    *(float *)(param_1 + 0x34) + _UNK_00122f54);
    uVar23 = (uint)((_UNK_00122f68 * auVar32._8_4_ - *(float *)(param_1 + 0x28)) *
                    *(float *)(param_1 + 0x38) + _UNK_00122f58);
    uVar25 = (uint)((_UNK_00122f6c * auVar32._12_4_ - *(float *)(param_1 + 0x2c)) *
                    *(float *)(param_1 + 0x3c) + _UNK_00122f5c);
    uVar27 = -(uint)((int)uVar18 < (int)__LC10);
    uVar29 = -(uint)((int)uVar21 < (int)_UNK_00122f74);
    uVar30 = -(uint)((int)uVar23 < (int)_UNK_00122f78);
    uVar31 = -(uint)((int)uVar25 < (int)_UNK_00122f7c);
    uVar18 = uVar27 & uVar18 | ~uVar27 & __LC10;
    uVar21 = uVar29 & uVar21 | ~uVar29 & _UNK_00122f74;
    uVar23 = uVar30 & uVar23 | ~uVar30 & _UNK_00122f78;
    uVar25 = uVar31 & uVar25 | ~uVar31 & _UNK_00122f7c;
    local_78 = (uint)uVar5;
    uStack_74 = (uint)((ulong)uVar5 >> 0x20);
    uStack_70 = (uint)uVar6;
    uStack_6c = (uint)((ulong)uVar6 >> 0x20);
    auVar20._0_4_ = -(uint)((int)(~-(uint)((int)uVar18 < 0) & uVar18) < iVar3) & local_78;
    auVar20._4_4_ = -(uint)((int)(~-(uint)((int)uVar21 < 0) & uVar21) < iVar3) & uStack_74;
    auVar20._8_4_ = -(uint)((int)(~-(uint)((int)uVar23 < 0) & uVar23) < iVar3) & uStack_70;
    auVar20._12_4_ = -(uint)((int)(~-(uint)((int)uVar25 < 0) & uVar25) < iVar3) & uStack_6c;
    iVar11 = movmskps((int)uVar12,auVar20);
    if (iVar11 == 0) {
      auVar34._4_4_ = uVar22;
      auVar34._0_4_ = uVar19;
      auVar34._8_4_ = uVar24;
      auVar34._12_4_ = uVar26;
      pHVar14 = pHVar15;
      while( true ) {
        auVar20 = *(undefined1 (*) [16])(pHVar14 + 0x10);
        auVar2 = *(undefined1 (*) [16])pHVar14;
        pHVar15 = pHVar14 + -0x20;
        auVar33._0_4_ = auVar20._0_4_ + auVar2._0_4_;
        auVar33._4_4_ = auVar20._4_4_ + auVar2._4_4_;
        auVar33._8_4_ = auVar20._8_4_ + auVar2._8_4_;
        auVar33._12_4_ = auVar20._12_4_ + auVar2._12_4_;
        uVar13 = (ulong)(*(uint *)(pHVar14 + 0xc) >> 0x1b);
        uVar18 = (uint)((_LC8 * auVar33._0_4_ - *(float *)(param_1 + 0x20)) *
                        *(float *)(param_1 + 0x30) + _LC5);
        uVar21 = (uint)((_UNK_00122f64 * auVar33._4_4_ - *(float *)(param_1 + 0x24)) *
                        *(float *)(param_1 + 0x34) + _UNK_00122f54);
        uVar23 = (uint)((_UNK_00122f68 * auVar33._8_4_ - *(float *)(param_1 + 0x28)) *
                        *(float *)(param_1 + 0x38) + _UNK_00122f58);
        uVar25 = (uint)((_UNK_00122f6c * auVar33._12_4_ - *(float *)(param_1 + 0x2c)) *
                        *(float *)(param_1 + 0x3c) + _UNK_00122f5c);
        uVar27 = -(uint)((int)uVar18 < (int)__LC10);
        uVar29 = -(uint)((int)uVar21 < (int)_UNK_00122f74);
        uVar30 = -(uint)((int)uVar23 < (int)_UNK_00122f78);
        uVar31 = -(uint)((int)uVar25 < (int)_UNK_00122f7c);
        uVar18 = uVar27 & uVar18 | ~uVar27 & __LC10;
        uVar21 = uVar29 & uVar21 | ~uVar29 & _UNK_00122f74;
        uVar23 = uVar30 & uVar23 | ~uVar30 & _UNK_00122f78;
        uVar25 = uVar31 & uVar25 | ~uVar31 & _UNK_00122f7c;
        auVar28._0_4_ = -(uint)((int)(~-(uint)((int)uVar18 < 0) & uVar18) < iVar3) & local_78;
        auVar28._4_4_ = -(uint)((int)(~-(uint)((int)uVar21 < 0) & uVar21) < iVar3) & uStack_74;
        auVar28._8_4_ = -(uint)((int)(~-(uint)((int)uVar23 < 0) & uVar23) < iVar3) & uStack_70;
        auVar28._12_4_ = -(uint)((int)(~-(uint)((int)uVar25 < 0) & uVar25) < iVar3) & uStack_6c;
        unaff_R12D = movmskps(unaff_R12D,auVar28);
        if (unaff_R12D != 0) break;
        auVar41 = minps(auVar41,auVar2);
        auVar34 = maxps(auVar34,auVar20);
        lVar16 = lVar16 + uVar13;
        auVar35 = minps(auVar35,auVar33);
        auVar36 = maxps(auVar36,auVar33);
        pHVar14 = pHVar15;
        if (pHVar15 < pHVar9) {
          uVar37 = auVar41._0_4_;
          uVar38 = auVar41._4_4_;
          uVar39 = auVar41._8_4_;
          uVar40 = auVar41._12_4_;
          goto LAB_00102f54;
        }
      }
      *(undefined1 (*) [16])pHVar9 = auVar2;
      auVar42 = minps(auVar42,auVar2);
      local_98 = maxps(local_98,auVar20);
      auVar20 = maxps(auVar34,auVar44);
      uVar7 = *(undefined8 *)(pHVar14 + 0x18);
      uVar12 = (ulong)(*(uint *)(pHVar9 + 0xc) >> 0x1b);
      auVar43 = minps(auVar43,auVar33);
      auVar41 = minps(auVar41,auVar1);
      *(undefined8 *)(pHVar9 + 0x10) = *(undefined8 *)(pHVar14 + 0x10);
      *(undefined8 *)(pHVar9 + 0x18) = uVar7;
      auVar35 = minps(auVar35,auVar32);
      auVar36 = maxps(auVar36,auVar32);
      lVar16 = lVar16 + uVar12;
      auVar17 = maxps(auVar17,auVar33);
      uVar19 = auVar20._0_4_;
      uVar22 = auVar20._4_4_;
      uVar24 = auVar20._8_4_;
      uVar26 = auVar20._12_4_;
      *(undefined1 (*) [16])pHVar14 = auVar1;
      *(undefined1 (*) [16])(pHVar14 + 0x10) = auVar44;
    }
    else {
      auVar42 = minps(auVar42,auVar1);
      auVar43 = minps(auVar43,auVar32);
      auVar17 = maxps(auVar17,auVar32);
      local_98 = maxps(local_98,auVar44);
      uVar12 = (ulong)(*(uint *)(pHVar9 + 0xc) >> 0x1b);
      uVar13 = uVar12;
    }
    lVar8 = lVar8 + uVar13;
    pHVar9 = pHVar9 + 0x20;
  } while( true );
}



/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::createLargeLeaf(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&, embree::FastAllocator::CachedAllocator) */

undefined8
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
::createLargeLeaf(ulong *param_1,ulong *param_2)

{
  ulong uVar1;
  ulong uVar2;
  undefined8 *puVar3;
  ulong uVar4;
  ulong uVar5;
  undefined1 (*pauVar6) [16];
  undefined1 (*pauVar7) [16];
  undefined8 uVar8;
  long *plVar9;
  long lVar10;
  undefined1 *puVar11;
  ulong uVar12;
  ulong *puVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  ulong *puVar17;
  ulong uVar18;
  long *plVar19;
  long in_FS_OFFSET;
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined8 in_stack_00000008;
  undefined8 in_stack_00000010;
  undefined8 in_stack_00000018;
  long local_6c8 [16];
  ulong local_648;
  undefined1 local_640 [8];
  ulong local_638 [4];
  ulong local_618;
  ulong uStack_610;
  ulong local_608;
  ulong uStack_600;
  ulong local_5f8;
  ulong uStack_5f0;
  long local_40;
  
  uVar1 = *param_2;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < uVar1) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar2 = param_1[4];
  uVar5 = param_2[0xb] - param_2[10];
  if (uVar2 < uVar5) {
    uVar14 = 1;
    local_638[0] = param_2[2];
    local_638[1] = param_2[3];
    local_648 = uVar1;
    local_640[0] = (char)param_2[1];
    local_638[2] = param_2[4];
    local_638[3] = param_2[5];
    local_618 = param_2[6];
    uStack_610 = param_2[7];
    local_608 = param_2[8];
    uStack_600 = param_2[9];
    local_5f8 = param_2[10];
    uStack_5f0 = param_2[0xb];
    puVar13 = &local_648;
    do {
      uVar16 = 0;
      uVar15 = 0;
      uVar12 = 0xffffffffffffffff;
      puVar17 = local_638 + 8;
      do {
        uVar18 = uVar15;
        if (uVar15 <= uVar2) {
          uVar18 = uVar2;
        }
        if (uVar18 < puVar17[1] - *puVar17) {
          uVar12 = uVar16;
          uVar15 = puVar17[1] - *puVar17;
        }
        uVar16 = uVar16 + 1;
        puVar17 = puVar17 + 0xc;
      } while (uVar14 != uVar16);
      if (uVar12 == 0xffffffffffffffff) break;
      lVar10 = *(long *)param_1[9];
      uVar15 = local_638[uVar12 * 0xc + 8];
      uVar16 = local_638[uVar12 * 0xc + 9];
      uVar18 = uVar15 + uVar16 >> 1;
      if (uVar15 < uVar18) {
        auVar25._4_4_ = _LC3;
        auVar25._0_4_ = _LC3;
        auVar25._8_4_ = _LC3;
        auVar25._12_4_ = _LC3;
        auVar26._4_4_ = _LC1;
        auVar26._0_4_ = _LC1;
        auVar26._8_4_ = _LC1;
        auVar26._12_4_ = _LC1;
        auVar27._4_4_ = _LC3;
        auVar27._0_4_ = _LC3;
        auVar27._8_4_ = _LC3;
        auVar27._12_4_ = _LC3;
        auVar28._4_4_ = _LC1;
        auVar28._0_4_ = _LC1;
        auVar28._8_4_ = _LC1;
        auVar28._12_4_ = _LC1;
        pauVar7 = (undefined1 (*) [16])(uVar15 * 0x20 + lVar10);
        do {
          auVar23._0_4_ = *(float *)pauVar7[1] + *(float *)*pauVar7;
          auVar23._4_4_ = *(float *)(pauVar7[1] + 4) + *(float *)(*pauVar7 + 4);
          auVar23._8_4_ = *(float *)(pauVar7[1] + 8) + *(float *)(*pauVar7 + 8);
          auVar23._12_4_ = *(float *)(pauVar7[1] + 0xc) + *(float *)(*pauVar7 + 0xc);
          pauVar6 = pauVar7 + 2;
          auVar28 = minps(auVar28,*pauVar7);
          auVar27 = maxps(auVar27,pauVar7[1]);
          auVar26 = minps(auVar26,auVar23);
          auVar25 = maxps(auVar25,auVar23);
          pauVar7 = pauVar6;
        } while (pauVar6 != (undefined1 (*) [16])(uVar18 * 0x20 + lVar10));
      }
      else {
        auVar25._8_4_ = _LC3;
        auVar25._0_8_ = CONCAT44(_LC3,_LC3);
        auVar25._12_4_ = _LC3;
        auVar26._8_4_ = _LC1;
        auVar26._0_8_ = CONCAT44(_LC1,_LC1);
        auVar26._12_4_ = _LC1;
        auVar27._8_4_ = _LC3;
        auVar27._0_8_ = CONCAT44(_LC3,_LC3);
        auVar27._12_4_ = _LC3;
        auVar28._8_4_ = _LC1;
        auVar28._0_8_ = CONCAT44(_LC1,_LC1);
        auVar28._12_4_ = _LC1;
      }
      auVar22._4_4_ = _LC1;
      auVar22._0_4_ = _LC1;
      auVar21._4_4_ = _LC3;
      auVar21._0_4_ = _LC3;
      auVar22._8_4_ = _LC1;
      auVar21._8_4_ = _LC3;
      auVar22._12_4_ = _LC1;
      auVar21._12_4_ = _LC3;
      auVar23 = auVar21;
      auVar24 = auVar22;
      if (uVar18 < uVar16) {
        pauVar7 = (undefined1 (*) [16])(uVar18 * 0x20 + lVar10);
        do {
          auVar20._0_4_ = *(float *)pauVar7[1] + *(float *)*pauVar7;
          auVar20._4_4_ = *(float *)(pauVar7[1] + 4) + *(float *)(*pauVar7 + 4);
          auVar20._8_4_ = *(float *)(pauVar7[1] + 8) + *(float *)(*pauVar7 + 8);
          auVar20._12_4_ = *(float *)(pauVar7[1] + 0xc) + *(float *)(*pauVar7 + 0xc);
          pauVar6 = pauVar7 + 2;
          auVar24 = minps(auVar24,*pauVar7);
          auVar23 = maxps(auVar23,pauVar7[1]);
          auVar22 = minps(auVar22,auVar20);
          auVar21 = maxps(auVar21,auVar20);
          pauVar7 = pauVar6;
        } while ((undefined1 (*) [16])(lVar10 + uVar16 * 0x20) != pauVar6);
      }
      uVar14 = uVar14 + 1;
      *(ulong *)(local_640 + uVar12 * 0x60 + -8) = *puVar13;
      local_640[uVar12 * 0x60] = (char)puVar13[1];
      uVar4 = puVar13[3];
      local_638[uVar12 * 0xc] = puVar13[2];
      local_638[uVar12 * 0xc + 1] = uVar4;
      uVar4 = puVar13[5];
      local_638[uVar12 * 0xc + 2] = puVar13[4];
      local_638[uVar12 * 0xc + 3] = uVar4;
      uVar4 = puVar13[7];
      local_638[uVar12 * 0xc + 4] = puVar13[6];
      local_638[uVar12 * 0xc + 5] = uVar4;
      uVar4 = puVar13[9];
      local_638[uVar12 * 0xc + 6] = puVar13[8];
      local_638[uVar12 * 0xc + 7] = uVar4;
      uVar4 = puVar13[0xb];
      local_638[uVar12 * 0xc + 8] = puVar13[10];
      local_638[uVar12 * 0xc + 9] = uVar4;
      *puVar13 = uVar1 + 1;
      *(undefined1 *)(puVar13 + 1) = 0;
      *(undefined1 (*) [16])(puVar13 + 2) = auVar28;
      *(undefined1 (*) [16])(puVar13 + 4) = auVar27;
      *(undefined1 (*) [16])(puVar13 + 6) = auVar26;
      *(undefined1 (*) [16])(puVar13 + 8) = auVar25;
      puVar13[10] = uVar15;
      puVar13[0xb] = uVar18;
      puVar13[0xc] = uVar1 + 1;
      *(undefined1 *)(puVar13 + 0xd) = 0;
      *(undefined1 (*) [16])(puVar13 + 0xe) = auVar24;
      *(undefined1 (*) [16])(puVar13 + 0x10) = auVar23;
      *(undefined1 (*) [16])(puVar13 + 0x12) = auVar22;
      *(undefined1 (*) [16])(puVar13 + 0x14) = auVar21;
      puVar13[0x16] = uVar18;
      puVar13[0x17] = uVar16;
      puVar13 = puVar13 + 0xc;
    } while (uVar14 < *param_1);
    uVar1 = param_1[7];
    if (uVar1 < uVar5) {
      puVar11 = local_640;
      do {
        *puVar11 = (ulong)(*(long *)(puVar11 + 0x50) - *(long *)(puVar11 + 0x48)) <= uVar1;
        puVar11 = puVar11 + 0x60;
      } while (local_640 + uVar14 * 0x60 != puVar11);
    }
    puVar3 = (undefined8 *)param_1[0xb];
    uVar8 = (**(code **)*puVar3)(&stack0x00000008,uVar14 & 0xffffffff,*(undefined8 *)puVar3[1]);
    puVar13 = local_638;
    plVar9 = local_6c8;
    do {
      *plVar9 = (long)puVar13;
      plVar9 = plVar9 + 1;
      puVar13 = puVar13 + 0xc;
    } while (local_6c8 + uVar14 != plVar9);
    (**(code **)puVar3[2])(uVar8,local_6c8,uVar14 & 0xffffffff,*(undefined8 *)puVar3[1]);
    puVar13 = &local_648;
    plVar9 = local_6c8;
    do {
      plVar19 = plVar9 + 1;
      lVar10 = createLargeLeaf(param_1,puVar13);
      *plVar9 = lVar10;
      puVar13 = puVar13 + 0xc;
      plVar9 = plVar19;
    } while (local_6c8 + uVar14 != plVar19);
    (*(code *)**(undefined8 **)param_1[0xc])
              (uVar8,local_6c8,uVar14 & 0xffffffff,*(undefined8 *)((undefined8 *)param_1[0xc])[1]);
  }
  else {
    uVar8 = (*(code *)**(undefined8 **)param_1[0xd])
                      (&stack0x00000008,param_2[10] * 0x20 + param_1[8],uVar5,
                       *(undefined8 *)((undefined8 *)param_1[0xd])[1]);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar8;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::BBox<embree::Vec3fa> embree::parallel_reduce_internal<unsigned int,
   embree::BBox<embree::Vec3fa>, embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,
   embree::BBox<embree::Vec3fa> >, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#1}, embree::BBox<embree::Vec3fa> const
   (embree::BBox<embree::Vec3fa> const&, embree::BBox<embree::Vec3fa> const&)>(unsigned int,
   unsigned int, unsigned int, unsigned int, embree::BBox<embree::Vec3fa> const&,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#1} const&, embree::BBox<embree::Vec3fa> const
   ( const&)(embree::BBox<embree::Vec3fa> const&, embree::BBox<embree::Vec3fa> const&)) [clone
   .constprop.0] */

undefined1 (*) [16]
embree::
parallel_reduce_internal<unsigned_int,embree::BBox<embree::Vec3fa>,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_1_,embree::BBox<embree::Vec3fa>const(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&)>
          (uint param_1,uint param_2,uint param_3,uint param_4,BBox_conflict *param_5,
          _lambda_embree__range<unsigned_int>_const___1_ *param_6,
          _func_BBox_BBox_ptr_BBox_ptr *param_7)

{
  undefined8 uVar1;
  uint uVar2;
  undefined1 (*pauVar3) [16];
  ulong uVar4;
  undefined4 in_register_0000003c;
  undefined1 (*pauVar5) [16];
  long in_FS_OFFSET;
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  uint local_210c;
  uint local_2108;
  uint local_2104;
  long local_2100;
  long local_20f8;
  uint *local_20f0;
  uint *local_20e8;
  uint *local_20e0;
  undefined1 (*local_20d8) [16];
  _lambda_embree__range<unsigned_int>_const___1_ *local_20d0;
  undefined1 local_20c0 [8192];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  pauVar5 = (undefined1 (*) [16])CONCAT44(in_register_0000003c,param_1);
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_210c = param_4;
  local_2108 = param_3;
  local_2104 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2104) {
    local_2104 = 0x200;
  }
  if (uVar2 < local_2104) {
    local_2104 = uVar2;
  }
  uVar4 = (ulong)local_2104;
  local_b8 = uVar4;
  if (uVar4 < 0x101) {
    local_c0 = (undefined1 (*) [16])local_20c0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(uVar4 << 5,0x40);
    uVar4 = (ulong)local_2104;
  }
  local_20f0 = &local_2108;
  local_20e8 = &local_210c;
  local_20e0 = &local_2104;
  local_20d8 = (undefined1 (*) [16])local_20c0;
  local_20d0 = param_6;
  if ((int)uVar4 == 0) {
    uVar1 = *(undefined8 *)(param_5 + 8);
    *(undefined8 *)*pauVar5 = *(undefined8 *)param_5;
    *(undefined8 *)(*pauVar5 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_5 + 0x18);
    *(undefined8 *)pauVar5[1] = *(undefined8 *)(param_5 + 0x10);
    *(undefined8 *)(pauVar5[1] + 8) = uVar1;
  }
  else {
    local_2100 = 0;
    _ZN6embree13TaskScheduler5spawnIjZNS_12parallel_forIjZNS_24parallel_reduce_internalIjNS_4BBoxINS_6Vec3faEEEZNKS_4sse216BVHBuilderMorton8BuilderTISt4pairIPvS6_ENS_13FastAllocator15CachedAllocatorEZNS7_17rtcBuildBVHMortonEPK17RTCBuildArgumentsEUlvE_ZNS7_17rtcBuildBVHMortonESH_EUlRKSE_mE_ZNS7_17rtcBuildBVHMortonESH_EUlSB_PKSC_mE_ZNS7_17rtcBuildBVHMortonESH_EUlRKNS_5rangeIjEESK_E_ZNS7_17rtcBuildBVHMortonESH_EUlRKNS8_9BuildPrimEE_ZNS7_17rtcBuildBVHMortonESH_EUlmE_E19recreateMortonCodesESS_EUlSS_E_FKS6_RS11_S12_EEET0_T_S15_S15_S15_RKS14_RKT1_RKT2_EUljE_EEvS15_S17_EUlSS_E_EEvS15_S15_S15_S17_PNS0_16TaskGroupContextE_isra_0
              (0,uVar4,1,&local_20f0,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != 0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_20f8);
    }
    auVar7 = *(undefined1 (*) [16])param_5;
    *pauVar5 = auVar7;
    auVar6 = *(undefined1 (*) [16])(param_5 + 0x10);
    pauVar5[1] = auVar6;
    pauVar3 = local_c0;
    if (local_2104 != 0) {
      do {
        auVar6 = maxps(auVar6,pauVar3[1]);
        auVar7 = minps(auVar7,*pauVar3);
        pauVar3 = pauVar3 + 2;
        *pauVar5 = auVar7;
        pauVar5[1] = auVar6;
      } while (local_c0 + (ulong)local_2104 * 2 != pauVar3);
    }
  }
  if (local_c0 != (undefined1 (*) [16])local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return pauVar5;
}



/* WARNING: Removing unreachable block (ram,0x0010439b) */
/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  long lVar5;
  long lVar6;
  char cVar7;
  long lVar8;
  long lVar9;
  long *plVar10;
  Thread *pTVar11;
  Thread *pTVar12;
  Thread *pTVar13;
  Thread *pTVar14;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = embree::TaskScheduler::thread();
  if (lVar8 == 0) {
    plVar10 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar8 = embree::TaskScheduler::allocThreadIndex();
    pTVar11 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    *(long *)pTVar11 = lVar8;
    pTVar14 = pTVar11 + 0x40;
    pTVar13 = pTVar14;
    do {
      *(undefined4 *)pTVar13 = 0;
      pTVar12 = pTVar13 + 0x80;
      *(undefined4 *)(pTVar13 + 0x40) = 0;
      pTVar13 = pTVar12;
    } while (pTVar12 != pTVar11 + 0x40040);
    *(undefined8 *)(pTVar11 + 0x40040) = 0;
    *(undefined8 *)(pTVar11 + 0x40080) = 0;
    *(undefined8 *)(pTVar11 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar11 + 0xc0100) = 0;
    *(long **)(pTVar11 + 0xc0108) = plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
      if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar10 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar10 + 8))(plVar10);
        }
      }
      else {
        (**(code **)(*plVar10 + 0x18))(plVar10);
      }
    }
    LOCK();
    *(Thread **)(plVar10[2] + lVar8 * 8) = pTVar11;
    UNLOCK();
    local_48 = pTVar11;
    pTVar13 = (Thread *)embree::TaskScheduler::swapThread(pTVar11);
    if (0xfff < *(ulong *)(pTVar11 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar5 = *(long *)(pTVar11 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar11 + 0xc00c0) = uVar3;
    pTVar12 = pTVar11 + uVar3 + 0x40090;
    *(undefined ***)pTVar12 = &PTR_execute_00122e78;
    *(ulong *)(pTVar12 + 8) = param_2;
    *(ulong *)(pTVar12 + 0x10) = param_1;
    *(ulong *)(pTVar12 + 0x18) = param_3;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)(pTVar12 + 0x20) = param_4;
    *(TaskGroupContext **)(pTVar12 + 0x28) = param_5;
    lVar9 = *(long *)(pTVar11 + 0x40080) * 0x40;
    lVar6 = *(long *)(pTVar11 + 0xc0100);
    *(undefined4 *)(pTVar11 + lVar9 + 0x44) = 1;
    pTVar11[lVar9 + 0x48] = (Thread)0x1;
    *(long *)(pTVar11 + lVar9 + 0x68) = lVar5;
    *(Thread **)(pTVar11 + lVar9 + 0x50) = pTVar12;
    *(long *)(pTVar11 + lVar9 + 0x58) = lVar6;
    *(TaskGroupContext **)(pTVar11 + lVar9 + 0x60) = param_5;
    *(ulong *)(pTVar11 + lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar14 + lVar9) == 0) {
      *(undefined4 *)(pTVar14 + lVar9) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar11 + 0x40080) = *(long *)(pTVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar11 + 0x40080) - 1U <= *(ulong *)(pTVar11 + 0x40040)) {
      LOCK();
      *(long *)(pTVar11 + 0x40040) = *(long *)(pTVar11 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar10[6] = plVar10[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar10 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar7 = embree::TaskScheduler::TaskQueue::execute_local(pTVar14,(Task *)pTVar11);
    } while (cVar7 != '\0');
    LOCK();
    plVar10[6] = plVar10[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar8 * 8 + plVar10[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar13);
    pTVar14 = *(Thread **)param_5;
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar14 = local_48;
    }
    LOCK();
    plVar10[5] = plVar10[5] + -1;
    UNLOCK();
    while (plVar10[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar11 != (Thread *)0x0) {
      plVar10 = *(long **)(pTVar11 + 0xc0108);
      if (plVar10 != (long *)0x0) {
        if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar10 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar10 + 8))();
          }
        }
        else {
          (**(code **)(*plVar10 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar11);
        return;
      }
      goto LAB_001044b8;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar8 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar5 = *(long *)(lVar8 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar8 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar8 + 0x40090 + uVar3);
    puVar4[5] = param_5;
    *puVar4 = &PTR_execute_00122e78;
    puVar4[1] = param_2;
    puVar4[2] = param_1;
    puVar4[3] = param_3;
    puVar4[4] = param_4;
    lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar8 + 0x40 + lVar9);
    lVar6 = *(long *)(lVar8 + 0xc0100);
    *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
    *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
    lVar9 = lVar9 + lVar8;
    *(TaskGroupContext **)(lVar9 + 0x60) = param_5;
    *(undefined8 **)(lVar9 + 0x50) = puVar4;
    *(long *)(lVar9 + 0x58) = lVar6;
    *(long *)(lVar9 + 0x68) = lVar5;
    *(ulong *)(lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
      LOCK();
      *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_001044b8:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#1},embree::sse2::Heuri...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::Heuri___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long *plVar1;
  long lVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long *plVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  ulong uVar11;
  long *plVar12;
  ulong uVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  ulong uVar17;
  long lVar18;
  undefined8 *puVar19;
  long lVar20;
  undefined8 *puVar21;
  long *plVar22;
  
  uVar14 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar14) {
    uVar11 = *(long *)(this + 8) + uVar14 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar14,uVar11,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar11,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  plVar1 = (long *)(*(undefined8 **)(this + 0x20))[1];
  lVar2 = *(long *)**(undefined8 **)(this + 0x20);
  lVar18 = plVar1[0x98];
  uVar14 = uVar14 * lVar2;
  uVar17 = plVar1[0x99] - lVar18;
  uVar11 = uVar14 / (ulong)plVar1[6];
  uVar15 = uVar11;
  if (uVar11 < uVar17) {
    plVar22 = plVar1 + 0x98;
  }
  else {
    plVar12 = plVar1 + 0x9a;
    do {
      plVar22 = plVar12;
      lVar18 = *plVar22;
      uVar15 = uVar15 - uVar17;
      uVar17 = plVar22[1] - lVar18;
      plVar12 = plVar22 + 2;
    } while (uVar17 <= uVar15);
  }
  lVar20 = plVar1[0x118];
  uVar16 = plVar1[0x119] - lVar20;
  uVar13 = uVar11;
  if (uVar11 < uVar16) {
    plVar12 = plVar1 + 0x118;
  }
  else {
    plVar8 = plVar1 + 0x11a;
    do {
      plVar12 = plVar8;
      lVar20 = *plVar12;
      uVar13 = uVar13 - uVar16;
      uVar16 = plVar12[1] - lVar20;
      plVar8 = plVar12 + 2;
    } while (uVar16 <= uVar13);
  }
  uVar17 = uVar17 - uVar15;
  uVar11 = (lVar2 + uVar14) / (ulong)plVar1[6] - uVar11;
  uVar16 = uVar16 - uVar13;
  puVar19 = (undefined8 *)((lVar18 + uVar15) * 0x20 + *plVar1);
  puVar21 = (undefined8 *)((lVar20 + uVar13) * 0x20 + *plVar1);
  uVar14 = uVar11;
  if (uVar17 <= uVar11) {
    uVar14 = uVar17;
  }
  if (uVar16 < uVar14) {
    uVar14 = uVar16;
  }
  if (uVar11 != 0) {
    do {
      if (uVar16 == 0) {
        uVar16 = plVar12[3] - plVar12[2];
        puVar21 = (undefined8 *)(plVar12[2] * 0x20 + *plVar1);
        uVar14 = uVar16;
        if (uVar11 <= uVar16) {
          uVar14 = uVar11;
        }
        if (uVar17 < uVar14) {
          uVar14 = uVar17;
        }
        plVar12 = plVar12 + 2;
      }
      uVar11 = uVar11 - uVar14;
      uVar17 = uVar17 - uVar14;
      uVar16 = uVar16 - uVar14;
      puVar9 = puVar19;
      puVar10 = puVar21;
      uVar15 = uVar14;
      if (uVar14 != 0) {
        do {
          uVar3 = puVar10[1];
          uVar4 = *puVar9;
          uVar5 = puVar9[1];
          uVar6 = puVar9[2];
          uVar7 = puVar9[3];
          *puVar9 = *puVar10;
          puVar9[1] = uVar3;
          uVar3 = puVar10[3];
          puVar9[2] = puVar10[2];
          puVar9[3] = uVar3;
          *puVar10 = uVar4;
          puVar10[1] = uVar5;
          puVar10[2] = uVar6;
          puVar10[3] = uVar7;
          uVar15 = uVar15 - 1;
          puVar9 = puVar9 + 4;
          puVar10 = puVar10 + 4;
        } while (uVar15 != 0);
        puVar21 = puVar21 + uVar14 * 4;
        puVar19 = puVar19 + uVar14 * 4;
        if (uVar11 == 0) {
          return;
        }
      }
      if (uVar17 == 0) {
        uVar17 = plVar22[3] - plVar22[2];
        puVar19 = (undefined8 *)(plVar22[2] * 0x20 + *plVar1);
        uVar14 = uVar16;
        if (uVar11 <= uVar16) {
          uVar14 = uVar11;
        }
        if (uVar17 < uVar14) {
          uVar14 = uVar17;
        }
        plVar22 = plVar22 + 2;
      }
      else {
        uVar14 = 0;
      }
    } while( true );
  }
  return;
}



/* embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> embree::parallel_reduce_internal<unsigned
   long, embree::sse2::SpatialBinInfo<16ul, embree::PrimRef>,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&,
   embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&)#1}>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned
   long)::{lambda(embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&,
   embree::sse2::SpatialBinInfo<16ul, embree::PrimRef> const&)#1} const&) [clone .constprop.0]
   [clone .isra.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&)_1_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,
                SpatialBinInfo_conflict *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _lambda_embree__sse2__SpatialBinInfo<16ul,embree::PrimRef>_const__embree__sse2__SpatialBinInfo<16ul,embree::PrimRef>_const___1_
                *param_7)

{
  int *piVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  ulong uVar17;
  undefined8 *puVar18;
  undefined8 *puVar19;
  undefined8 *puVar20;
  undefined1 (*pauVar21) [16];
  undefined1 (*pauVar22) [16];
  undefined1 (*pauVar23) [16];
  SpatialBinInfo_conflict *pSVar24;
  ulong uVar25;
  SpatialBinInfo_conflict *__src;
  undefined1 (*pauVar26) [16];
  undefined1 (*pauVar27) [16];
  undefined1 (*pauVar28) [16];
  long lVar29;
  undefined1 (*pauVar30) [16];
  long in_FS_OFFSET;
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 (*local_2928) [16];
  ulong local_2918;
  ulong local_2910;
  ulong local_2908;
  long local_2900;
  long local_28f8;
  ulong *local_28f0;
  ulong *local_28e8;
  ulong *local_28e0;
  undefined1 (*local_28d8) [16];
  _lambda_embree__range<unsigned_long>_const___1_ *local_28d0;
  undefined1 local_28c0 [1536];
  int local_22c0 [4];
  undefined8 local_22b0;
  undefined8 uStack_22a8;
  undefined8 local_22a0;
  undefined8 uStack_2298;
  undefined8 local_2290;
  undefined8 uStack_2288;
  undefined8 local_2280;
  undefined8 uStack_2278;
  undefined8 local_2270;
  undefined8 uStack_2268;
  undefined8 local_2260;
  undefined8 uStack_2258;
  undefined8 local_2250;
  undefined8 uStack_2248;
  undefined8 local_2240;
  undefined8 uStack_2238;
  undefined8 local_2230;
  undefined8 uStack_2228;
  undefined8 local_2220;
  undefined8 uStack_2218;
  undefined8 local_2210;
  undefined8 uStack_2208;
  undefined8 local_2200;
  undefined8 uStack_21f8;
  undefined8 local_21f0;
  undefined8 uStack_21e8;
  undefined8 local_21e0;
  undefined8 uStack_21d8;
  undefined8 local_21d0;
  undefined8 uStack_21c8;
  int local_21c0 [4];
  undefined8 local_21b0;
  undefined8 uStack_21a8;
  undefined8 local_21a0;
  undefined8 uStack_2198;
  undefined8 local_2190;
  undefined8 uStack_2188;
  undefined8 local_2180;
  undefined8 uStack_2178;
  undefined8 local_2170;
  undefined8 uStack_2168;
  undefined8 local_2160;
  undefined8 uStack_2158;
  undefined8 local_2150;
  undefined8 uStack_2148;
  undefined8 local_2140;
  undefined8 uStack_2138;
  undefined8 local_2130;
  undefined8 uStack_2128;
  undefined8 local_2120;
  undefined8 uStack_2118;
  undefined8 local_2110;
  undefined8 uStack_2108;
  undefined8 local_2100;
  undefined8 uStack_20f8;
  undefined8 local_20f0;
  undefined8 uStack_20e8;
  undefined8 local_20e0;
  undefined8 uStack_20d8;
  undefined8 local_20d0;
  undefined8 uStack_20c8;
  undefined1 local_20c0 [8192];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2918 = param_4;
  local_2910 = param_3;
  local_2908 = param_2;
  uVar17 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2908) {
    local_2908 = 0x200;
  }
  if (uVar17 < local_2908) {
    local_2908 = uVar17;
  }
  local_b8 = local_2908;
  if (local_2908 << 0xb < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_20c0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2908 << 0xb,0x40);
  }
  local_2928 = (undefined1 (*) [16])local_20c0;
  local_28f0 = &local_2910;
  local_28e8 = &local_2918;
  local_28e0 = &local_2908;
  local_28d8 = local_2928;
  local_28d0 = param_6;
  if (local_2908 != 0) {
    local_2900 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse214SpatialBinInfoILm16ENS_7PrimRefEEEZNS4_24HeuristicArraySpatialSAHIZNS4_21rtcBuildBVHSpatialSAHEPK17RTCBuildArgumentsEUlRKS6_E_S6_Lm32ELm16EE21parallel_spatial_findERKNS4_16PrimInfoExtRangeEmEUlRKNS_5rangeImEEE_ZNSF_21parallel_spatial_findESI_mEUlRKS7_SP_E_EET0_T_SS_SS_SS_RKSR_RKT1_RKT2_EUlmE_EEvSS_SU_EUlSM_E_EEvSS_SS_SS_SU_PNS0_16TaskGroupContextE_isra_0
              (0,local_2908,1,&local_28f0,&local_2900);
    embree::TaskScheduler::wait();
    if (local_2900 != 0) {
      local_28f8 = local_2900;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_28f8);
    }
  }
  uVar17 = local_2908;
  puVar20 = (undefined8 *)(param_1 + 0x60);
  __src = param_5;
  do {
    puVar18 = puVar20 + -0xc;
    pSVar24 = __src;
    do {
      uVar12 = *(undefined8 *)(pSVar24 + 8);
      puVar19 = puVar18 + 4;
      *puVar18 = *(undefined8 *)pSVar24;
      puVar18[1] = uVar12;
      uVar12 = *(undefined8 *)(pSVar24 + 0x18);
      puVar18[2] = *(undefined8 *)(pSVar24 + 0x10);
      puVar18[3] = uVar12;
      puVar18 = puVar19;
      pSVar24 = pSVar24 + 0x20;
    } while (puVar20 != puVar19);
    __src = __src + 0x60;
    puVar20 = puVar20 + 0xc;
  } while (__src != param_5 + 0x600);
  memmove((undefined8 *)(param_1 + 0x600),__src,0x100);
  puVar20 = (undefined8 *)memmove((void *)(param_1 + 0x700),param_5 + 0x700,0x100);
  uVar16 = _LC3;
  uVar15 = _LC1;
  if (uVar17 != 0) {
    pauVar21 = (undefined1 (*) [16])local_22c0;
    pauVar22 = (undefined1 (*) [16])local_28c0;
    pauVar30 = local_c0;
    do {
      do {
        *(undefined4 *)pauVar22[4] = uVar15;
        *(undefined4 *)(pauVar22[4] + 4) = uVar15;
        *(undefined4 *)(pauVar22[4] + 8) = uVar15;
        *(undefined4 *)(pauVar22[4] + 0xc) = uVar15;
        pauVar26 = pauVar22 + 6;
        *(undefined4 *)pauVar22[5] = uVar16;
        *(undefined4 *)(pauVar22[5] + 4) = uVar16;
        *(undefined4 *)(pauVar22[5] + 8) = uVar16;
        *(undefined4 *)(pauVar22[5] + 0xc) = uVar16;
        *(undefined4 *)pauVar22[2] = uVar15;
        *(undefined4 *)(pauVar22[2] + 4) = uVar15;
        *(undefined4 *)(pauVar22[2] + 8) = uVar15;
        *(undefined4 *)(pauVar22[2] + 0xc) = uVar15;
        *(undefined4 *)pauVar22[3] = uVar16;
        *(undefined4 *)(pauVar22[3] + 4) = uVar16;
        *(undefined4 *)(pauVar22[3] + 8) = uVar16;
        *(undefined4 *)(pauVar22[3] + 0xc) = uVar16;
        *(undefined4 *)*pauVar22 = uVar15;
        *(undefined4 *)(*pauVar22 + 4) = uVar15;
        *(undefined4 *)(*pauVar22 + 8) = uVar15;
        *(undefined4 *)(*pauVar22 + 0xc) = uVar15;
        *(undefined4 *)pauVar22[1] = uVar16;
        *(undefined4 *)(pauVar22[1] + 4) = uVar16;
        *(undefined4 *)(pauVar22[1] + 8) = uVar16;
        *(undefined4 *)(pauVar22[1] + 0xc) = uVar16;
        pauVar21[0x10] = (undefined1  [16])0x0;
        *pauVar21 = (undefined1  [16])0x0;
        pauVar21 = pauVar21 + 1;
        pauVar22 = pauVar26;
      } while (pauVar26 != (undefined1 (*) [16])local_22c0);
      lVar29 = 0x600;
      pauVar21 = (undefined1 (*) [16])local_28c0;
      pauVar22 = pauVar30;
      pauVar26 = (undefined1 (*) [16])param_1;
      pauVar27 = (undefined1 (*) [16])local_22c0;
      do {
        auVar32 = minps(*pauVar26,*pauVar22);
        pauVar28 = pauVar27 + 1;
        piVar1 = (int *)(param_1 + lVar29);
        iVar3 = piVar1[1];
        iVar4 = piVar1[2];
        iVar5 = piVar1[3];
        piVar2 = (int *)(*pauVar30 + lVar29);
        iVar6 = piVar2[1];
        iVar7 = piVar2[2];
        iVar8 = piVar2[3];
        iVar9 = *(int *)(*pauVar27 + 4);
        iVar10 = *(int *)(*pauVar27 + 8);
        iVar11 = *(int *)(*pauVar27 + 0xc);
        *(int *)*pauVar27 = *piVar1 + *piVar2 + *(int *)*pauVar27;
        *(int *)(*pauVar27 + 4) = iVar3 + iVar6 + iVar9;
        *(int *)(*pauVar27 + 8) = iVar4 + iVar7 + iVar10;
        *(int *)(*pauVar27 + 0xc) = iVar5 + iVar8 + iVar11;
        piVar1 = (int *)(param_1 + 0x100 + lVar29);
        iVar3 = piVar1[1];
        iVar4 = piVar1[2];
        iVar5 = piVar1[3];
        piVar2 = (int *)(pauVar30[0x10] + lVar29);
        iVar6 = piVar2[1];
        iVar7 = piVar2[2];
        iVar8 = piVar2[3];
        lVar29 = lVar29 + 0x10;
        iVar9 = *(int *)(pauVar27[0x10] + 4);
        iVar10 = *(int *)(pauVar27[0x10] + 8);
        iVar11 = *(int *)(pauVar27[0x10] + 0xc);
        *(int *)pauVar27[0x10] = *piVar1 + *piVar2 + *(int *)pauVar27[0x10];
        *(int *)(pauVar27[0x10] + 4) = iVar3 + iVar6 + iVar9;
        *(int *)(pauVar27[0x10] + 8) = iVar4 + iVar7 + iVar10;
        *(int *)(pauVar27[0x10] + 0xc) = iVar5 + iVar8 + iVar11;
        auVar31 = maxps(pauVar26[1],pauVar22[1]);
        *pauVar21 = auVar32;
        auVar32 = minps(pauVar26[2],pauVar22[2]);
        pauVar21[1] = auVar31;
        auVar31 = maxps(pauVar26[3],pauVar22[3]);
        pauVar21[2] = auVar32;
        auVar32 = minps(pauVar26[4],pauVar22[4]);
        pauVar21[3] = auVar31;
        auVar31 = maxps(pauVar26[5],pauVar22[5]);
        pauVar21[4] = auVar32;
        pauVar21[5] = auVar31;
        pauVar21 = pauVar21 + 6;
        pauVar23 = (undefined1 (*) [16])local_28c0;
        pauVar22 = pauVar22 + 6;
        uVar25 = param_1;
        pauVar26 = pauVar26 + 6;
        pauVar27 = pauVar28;
      } while ((undefined1 (*) [16])local_21c0 != pauVar28);
      do {
        lVar29 = 0;
        do {
          uVar12 = *(undefined8 *)((long)(*pauVar23 + lVar29) + 8);
          uVar13 = *(undefined8 *)(pauVar23[1] + lVar29);
          uVar14 = *(undefined8 *)((long)(pauVar23[1] + lVar29) + 8);
          *(undefined8 *)(uVar25 + lVar29) = *(undefined8 *)(*pauVar23 + lVar29);
          ((undefined8 *)(uVar25 + lVar29))[1] = uVar12;
          puVar18 = (undefined8 *)(uVar25 + 0x10 + lVar29);
          *puVar18 = uVar13;
          puVar18[1] = uVar14;
          lVar29 = lVar29 + 0x20;
        } while (lVar29 != 0x60);
        pauVar23 = pauVar23 + 6;
        uVar25 = uVar25 + 0x60;
      } while (pauVar23 != (undefined1 (*) [16])local_22c0);
      pauVar30 = pauVar30 + 0x80;
      *(undefined8 *)(param_1 + 0x600) = local_22c0._0_8_;
      *(undefined8 *)(param_1 + 0x608) = local_22c0._8_8_;
      *(undefined8 *)(param_1 + 0x610) = local_22b0;
      *(undefined8 *)(param_1 + 0x618) = uStack_22a8;
      *(undefined8 *)(param_1 + 0x620) = local_22a0;
      *(undefined8 *)(param_1 + 0x628) = uStack_2298;
      *(undefined8 *)(param_1 + 0x630) = local_2290;
      *(undefined8 *)(param_1 + 0x638) = uStack_2288;
      *(undefined8 *)(param_1 + 0x640) = local_2280;
      *(undefined8 *)(param_1 + 0x648) = uStack_2278;
      *(undefined8 *)(param_1 + 0x650) = local_2270;
      *(undefined8 *)(param_1 + 0x658) = uStack_2268;
      *(undefined8 *)(param_1 + 0x660) = local_2260;
      *(undefined8 *)(param_1 + 0x668) = uStack_2258;
      *(undefined8 *)(param_1 + 0x670) = local_2250;
      *(undefined8 *)(param_1 + 0x678) = uStack_2248;
      *(undefined8 *)(param_1 + 0x680) = local_2240;
      *(undefined8 *)(param_1 + 0x688) = uStack_2238;
      *(undefined8 *)(param_1 + 0x690) = local_2230;
      *(undefined8 *)(param_1 + 0x698) = uStack_2228;
      *(undefined8 *)(param_1 + 0x6a0) = local_2220;
      *(undefined8 *)(param_1 + 0x6a8) = uStack_2218;
      *(undefined8 *)(param_1 + 0x6b0) = local_2210;
      *(undefined8 *)(param_1 + 0x6b8) = uStack_2208;
      *(undefined8 *)(param_1 + 0x6c0) = local_2200;
      *(undefined8 *)(param_1 + 0x6c8) = uStack_21f8;
      *(undefined8 *)(param_1 + 0x6d0) = local_21f0;
      *(undefined8 *)(param_1 + 0x6d8) = uStack_21e8;
      *(undefined8 *)(param_1 + 0x6e0) = local_21e0;
      *(undefined8 *)(param_1 + 0x6e8) = uStack_21d8;
      *(undefined8 *)(param_1 + 0x6f0) = local_21d0;
      *(undefined8 *)(param_1 + 0x6f8) = uStack_21c8;
      *puVar20 = local_21c0._0_8_;
      puVar20[1] = local_21c0._8_8_;
      puVar20[2] = local_21b0;
      puVar20[3] = uStack_21a8;
      puVar20[4] = local_21a0;
      puVar20[5] = uStack_2198;
      puVar20[6] = local_2190;
      puVar20[7] = uStack_2188;
      puVar20[8] = local_2180;
      puVar20[9] = uStack_2178;
      puVar20[10] = local_2170;
      puVar20[0xb] = uStack_2168;
      puVar20[0xc] = local_2160;
      puVar20[0xd] = uStack_2158;
      puVar20[0xe] = local_2150;
      puVar20[0xf] = uStack_2148;
      puVar20[0x10] = local_2140;
      puVar20[0x11] = uStack_2138;
      puVar20[0x12] = local_2130;
      puVar20[0x13] = uStack_2128;
      puVar20[0x14] = local_2120;
      puVar20[0x15] = uStack_2118;
      puVar20[0x16] = local_2110;
      puVar20[0x17] = uStack_2108;
      puVar20[0x18] = local_2100;
      puVar20[0x19] = uStack_20f8;
      puVar20[0x1a] = local_20f0;
      puVar20[0x1b] = uStack_20e8;
      puVar20[0x1c] = local_20e0;
      puVar20[0x1d] = uStack_20d8;
      puVar20[0x1e] = local_20d0;
      puVar20[0x1f] = uStack_20c8;
      pauVar21 = (undefined1 (*) [16])local_22c0;
      pauVar22 = (undefined1 (*) [16])local_28c0;
    } while (local_c0 + uVar17 * 0x80 != pauVar30);
  }
  if (local_c0 != local_2928) {
    embree::alignedFree(local_c0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x0010583b) */
/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  long lVar5;
  long lVar6;
  char cVar7;
  long lVar8;
  long lVar9;
  long *plVar10;
  Thread *pTVar11;
  Thread *pTVar12;
  Thread *pTVar13;
  Thread *pTVar14;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = embree::TaskScheduler::thread();
  if (lVar8 == 0) {
    plVar10 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar8 = embree::TaskScheduler::allocThreadIndex();
    pTVar11 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    *(long *)pTVar11 = lVar8;
    pTVar14 = pTVar11 + 0x40;
    pTVar13 = pTVar14;
    do {
      *(undefined4 *)pTVar13 = 0;
      pTVar12 = pTVar13 + 0x80;
      *(undefined4 *)(pTVar13 + 0x40) = 0;
      pTVar13 = pTVar12;
    } while (pTVar12 != pTVar11 + 0x40040);
    *(undefined8 *)(pTVar11 + 0x40040) = 0;
    *(undefined8 *)(pTVar11 + 0x40080) = 0;
    *(undefined8 *)(pTVar11 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar11 + 0xc0100) = 0;
    *(long **)(pTVar11 + 0xc0108) = plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
      if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar10 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar10 + 8))(plVar10);
        }
      }
      else {
        (**(code **)(*plVar10 + 0x18))(plVar10);
      }
    }
    LOCK();
    *(Thread **)(plVar10[2] + lVar8 * 8) = pTVar11;
    UNLOCK();
    local_48 = pTVar11;
    pTVar13 = (Thread *)embree::TaskScheduler::swapThread(pTVar11);
    if (0xfff < *(ulong *)(pTVar11 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar5 = *(long *)(pTVar11 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar11 + 0xc00c0) = uVar3;
    pTVar12 = pTVar11 + uVar3 + 0x40090;
    *(undefined ***)pTVar12 = &PTR_execute_00122e30;
    *(ulong *)(pTVar12 + 8) = param_2;
    *(ulong *)(pTVar12 + 0x10) = param_1;
    *(ulong *)(pTVar12 + 0x18) = param_3;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)(pTVar12 + 0x20) = param_4;
    *(TaskGroupContext **)(pTVar12 + 0x28) = param_5;
    lVar9 = *(long *)(pTVar11 + 0x40080) * 0x40;
    lVar6 = *(long *)(pTVar11 + 0xc0100);
    *(undefined4 *)(pTVar11 + lVar9 + 0x44) = 1;
    pTVar11[lVar9 + 0x48] = (Thread)0x1;
    *(long *)(pTVar11 + lVar9 + 0x68) = lVar5;
    *(Thread **)(pTVar11 + lVar9 + 0x50) = pTVar12;
    *(long *)(pTVar11 + lVar9 + 0x58) = lVar6;
    *(TaskGroupContext **)(pTVar11 + lVar9 + 0x60) = param_5;
    *(ulong *)(pTVar11 + lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar14 + lVar9) == 0) {
      *(undefined4 *)(pTVar14 + lVar9) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar11 + 0x40080) = *(long *)(pTVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar11 + 0x40080) - 1U <= *(ulong *)(pTVar11 + 0x40040)) {
      LOCK();
      *(long *)(pTVar11 + 0x40040) = *(long *)(pTVar11 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar10[6] = plVar10[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar10 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar7 = embree::TaskScheduler::TaskQueue::execute_local(pTVar14,(Task *)pTVar11);
    } while (cVar7 != '\0');
    LOCK();
    plVar10[6] = plVar10[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar8 * 8 + plVar10[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar13);
    pTVar14 = *(Thread **)param_5;
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar14 = local_48;
    }
    LOCK();
    plVar10[5] = plVar10[5] + -1;
    UNLOCK();
    while (plVar10[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar11 != (Thread *)0x0) {
      plVar10 = *(long **)(pTVar11 + 0xc0108);
      if (plVar10 != (long *)0x0) {
        if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar10 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar10 + 8))();
          }
        }
        else {
          (**(code **)(*plVar10 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar11);
        return;
      }
      goto LAB_00105958;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar8 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar5 = *(long *)(lVar8 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar8 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar8 + 0x40090 + uVar3);
    puVar4[5] = param_5;
    *puVar4 = &PTR_execute_00122e30;
    puVar4[1] = param_2;
    puVar4[2] = param_1;
    puVar4[3] = param_3;
    puVar4[4] = param_4;
    lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar8 + 0x40 + lVar9);
    lVar6 = *(long *)(lVar8 + 0xc0100);
    *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
    *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
    lVar9 = lVar9 + lVar8;
    *(TaskGroupContext **)(lVar9 + 0x60) = param_5;
    *(undefined8 **)(lVar9 + 0x50) = puVar4;
    *(long *)(lVar9 + 0x58) = lVar6;
    *(long *)(lVar9 + 0x68) = lVar5;
    *(ulong *)(lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
      LOCK();
      *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00105958:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#1},emb...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,emb___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 *puVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  ulong uVar5;
  long *plVar6;
  long *plVar7;
  long *plVar8;
  float *pfVar9;
  int *piVar10;
  uint *puVar11;
  undefined8 uVar12;
  undefined1 (*pauVar13) [16];
  long lVar14;
  undefined1 (*pauVar15) [16];
  int iVar16;
  ulong uVar17;
  undefined1 (*pauVar18) [16];
  long lVar19;
  ulong uVar20;
  ulong uVar21;
  long lVar22;
  long lVar23;
  undefined1 auVar24 [16];
  uint uVar25;
  uint uVar28;
  uint uVar29;
  uint uVar30;
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar31 [16];
  uint uVar32;
  uint uVar34;
  uint uVar35;
  uint uVar36;
  undefined1 auVar33 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  undefined1 local_48 [16];
  
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar5) {
    uVar20 = *(long *)(this + 8) + uVar5 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,uVar20,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar20,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  plVar6 = *(long **)(this + 0x20);
  plVar7 = (long *)*plVar6;
  auVar37._4_4_ = _LC3;
  auVar37._0_4_ = _LC3;
  auVar37._8_4_ = _LC3;
  auVar37._12_4_ = _LC3;
  local_58._4_4_ = _LC3;
  local_58._0_4_ = _LC3;
  local_58._8_4_ = _LC3;
  local_58._12_4_ = _LC3;
  auVar38._0_8_ = CONCAT44(_LC1,_LC1);
  auVar38._8_4_ = _LC1;
  auVar38._12_4_ = _LC1;
  auVar39._4_4_ = _LC3;
  auVar39._0_4_ = _LC3;
  auVar39._8_4_ = _LC3;
  auVar39._12_4_ = _LC3;
  auVar24._8_4_ = _LC1;
  auVar24._0_8_ = auVar38._0_8_;
  auVar24._12_4_ = _LC1;
  auVar40._8_4_ = _LC1;
  auVar40._0_8_ = auVar38._0_8_;
  auVar40._12_4_ = _LC1;
  local_48._4_4_ = _LC3;
  local_48._0_4_ = _LC3;
  local_48._8_4_ = _LC3;
  local_48._12_4_ = _LC3;
  lVar14 = *plVar7;
  plVar8 = (long *)plVar7[2];
  lVar23 = 0;
  uVar21 = uVar5 * plVar7[1];
  uVar20 = uVar21 / (ulong)plVar7[6];
  lVar22 = 0;
  pauVar18 = (undefined1 (*) [16])(uVar20 * 0x20 + lVar14);
  pauVar15 = (undefined1 (*) [16])
             (lVar14 + -0x20 + ((plVar7[1] + uVar21) / (ulong)plVar7[6]) * 0x20);
  local_68 = auVar38;
  do {
    if (pauVar15 < pauVar18) {
LAB_00105b15:
      *(ulong *)(*plVar6 + 0x40 + uVar5 * 8) = uVar20;
      *(ulong *)(*plVar6 + 0x280 + uVar5 * 8) = ((long)pauVar18 - lVar14 >> 5) - uVar20;
      lVar14 = uVar5 * 0x50;
      pauVar15 = (undefined1 (*) [16])(*plVar6 + 0xcc0 + lVar14);
      lVar19 = *plVar6 + lVar14;
      *pauVar15 = auVar40;
      pauVar15[1] = auVar39;
      pauVar15[2] = auVar24;
      pauVar15[3] = auVar37;
      *(undefined8 *)(lVar19 + 0xd00) = 0;
      *(long *)(lVar19 + 0xd08) = lVar23;
      puVar1 = (undefined8 *)(*plVar6 + 0x20c0 + lVar14);
      lVar14 = lVar14 + *plVar6;
      *puVar1 = local_68._0_8_;
      puVar1[1] = local_68._8_8_;
      *(undefined1 (*) [16])(puVar1 + 4) = auVar38;
      puVar1[2] = local_58._0_8_;
      puVar1[3] = local_58._8_8_;
      *(undefined4 *)(puVar1 + 6) = local_48._0_4_;
      *(undefined4 *)((long)puVar1 + 0x34) = local_48._4_4_;
      *(undefined4 *)(puVar1 + 7) = local_48._8_4_;
      *(undefined4 *)((long)puVar1 + 0x3c) = local_48._12_4_;
      *(undefined8 *)(lVar14 + 0x2100) = 0;
      *(long *)(lVar14 + 0x2108) = lVar22;
      return;
    }
    auVar2 = pauVar18[1];
    auVar3 = *pauVar18;
    pfVar9 = (float *)*plVar8;
    auVar31._0_4_ = auVar2._0_4_ + auVar3._0_4_;
    auVar31._4_4_ = auVar2._4_4_ + auVar3._4_4_;
    auVar31._8_4_ = auVar2._8_4_ + auVar3._8_4_;
    auVar31._12_4_ = auVar2._12_4_ + auVar3._12_4_;
    piVar10 = (int *)plVar8[1];
    puVar11 = (uint *)plVar8[2];
    uVar25 = (uint)((_LC8 * auVar31._0_4_ - *pfVar9) * pfVar9[4] + _LC5);
    uVar28 = (uint)((_UNK_00122f64 * auVar31._4_4_ - pfVar9[1]) * pfVar9[5] + _UNK_00122f54);
    uVar29 = (uint)((_UNK_00122f68 * auVar31._8_4_ - pfVar9[2]) * pfVar9[6] + _UNK_00122f58);
    uVar30 = (uint)((_UNK_00122f6c * auVar31._12_4_ - pfVar9[3]) * pfVar9[7] + _UNK_00122f5c);
    uVar32 = -(uint)((int)uVar25 < (int)__LC10);
    uVar34 = -(uint)((int)uVar28 < (int)_UNK_00122f74);
    uVar35 = -(uint)((int)uVar29 < (int)_UNK_00122f78);
    uVar36 = -(uint)((int)uVar30 < (int)_UNK_00122f7c);
    uVar25 = uVar25 & uVar32 | ~uVar32 & __LC10;
    uVar28 = uVar28 & uVar34 | ~uVar34 & _UNK_00122f74;
    uVar29 = uVar29 & uVar35 | ~uVar35 & _UNK_00122f78;
    uVar30 = uVar30 & uVar36 | ~uVar36 & _UNK_00122f7c;
    auVar26._0_4_ = -(uint)((int)(~-(uint)((int)uVar25 < 0) & uVar25) < *piVar10) & *puVar11;
    auVar26._4_4_ = -(uint)((int)(~-(uint)((int)uVar28 < 0) & uVar28) < piVar10[1]) & puVar11[1];
    auVar26._8_4_ = -(uint)((int)(~-(uint)((int)uVar29 < 0) & uVar29) < piVar10[2]) & puVar11[2];
    auVar26._12_4_ = -(uint)((int)(~-(uint)((int)uVar30 < 0) & uVar30) < piVar10[3]) & puVar11[3];
    iVar16 = movmskps((int)puVar11,auVar26);
    if (iVar16 == 0) {
      while( true ) {
        auVar26 = pauVar15[1];
        auVar4 = *pauVar15;
        pauVar13 = pauVar15 + -2;
        auVar33._0_4_ = auVar26._0_4_ + auVar4._0_4_;
        auVar33._4_4_ = auVar26._4_4_ + auVar4._4_4_;
        auVar33._8_4_ = auVar26._8_4_ + auVar4._8_4_;
        auVar33._12_4_ = auVar26._12_4_ + auVar4._12_4_;
        uVar17 = (ulong)(*(uint *)(*pauVar15 + 0xc) >> 0x1b);
        uVar25 = (uint)((_LC8 * auVar33._0_4_ - *pfVar9) * pfVar9[4] + _LC5);
        uVar28 = (uint)((_UNK_00122f64 * auVar33._4_4_ - pfVar9[1]) * pfVar9[5] + _UNK_00122f54);
        uVar29 = (uint)((_UNK_00122f68 * auVar33._8_4_ - pfVar9[2]) * pfVar9[6] + _UNK_00122f58);
        uVar30 = (uint)((_UNK_00122f6c * auVar33._12_4_ - pfVar9[3]) * pfVar9[7] + _UNK_00122f5c);
        uVar32 = -(uint)((int)uVar25 < (int)__LC10);
        uVar34 = -(uint)((int)uVar28 < (int)_UNK_00122f74);
        uVar35 = -(uint)((int)uVar29 < (int)_UNK_00122f78);
        uVar36 = -(uint)((int)uVar30 < (int)_UNK_00122f7c);
        uVar25 = uVar32 & uVar25 | ~uVar32 & __LC10;
        uVar28 = uVar34 & uVar28 | ~uVar34 & _UNK_00122f74;
        uVar29 = uVar35 & uVar29 | ~uVar35 & _UNK_00122f78;
        uVar30 = uVar36 & uVar30 | ~uVar36 & _UNK_00122f7c;
        auVar27._0_4_ = -(uint)((int)(~-(uint)((int)uVar25 < 0) & uVar25) < *piVar10) & *puVar11;
        auVar27._4_4_ = -(uint)((int)(~-(uint)((int)uVar28 < 0) & uVar28) < piVar10[1]) & puVar11[1]
        ;
        auVar27._8_4_ = -(uint)((int)(~-(uint)((int)uVar29 < 0) & uVar29) < piVar10[2]) & puVar11[2]
        ;
        auVar27._12_4_ =
             -(uint)((int)(~-(uint)((int)uVar30 < 0) & uVar30) < piVar10[3]) & puVar11[3];
        uVar25 = movmskps((int)uVar21,auVar27);
        uVar21 = (ulong)uVar25;
        if (uVar25 != 0) break;
        local_68 = minps(local_68,auVar4);
        local_58 = maxps(local_58,auVar26);
        lVar22 = lVar22 + uVar17;
        auVar38 = minps(auVar38,auVar33);
        local_48 = maxps(local_48,auVar33);
        pauVar15 = pauVar13;
        if (pauVar13 < pauVar18) {
          goto LAB_00105b15;
        }
      }
      uVar25 = *(uint *)(*pauVar18 + 0xc);
      local_68 = minps(local_68,auVar3);
      local_48 = maxps(local_48,auVar31);
      *pauVar18 = auVar4;
      local_58 = maxps(local_58,auVar2);
      auVar39 = maxps(auVar39,auVar26);
      uVar12 = *(undefined8 *)(pauVar15[1] + 8);
      auVar40 = minps(auVar40,auVar4);
      auVar24 = minps(auVar24,auVar33);
      lVar22 = lVar22 + (ulong)(uVar25 >> 0x1b);
      auVar37 = maxps(auVar37,auVar33);
      auVar38 = minps(auVar38,auVar31);
      *(undefined8 *)pauVar18[1] = *(undefined8 *)pauVar15[1];
      *(undefined8 *)(pauVar18[1] + 8) = uVar12;
      *pauVar15 = auVar3;
      pauVar15[1] = auVar2;
    }
    else {
      auVar40 = minps(auVar40,auVar3);
      auVar39 = maxps(auVar39,auVar2);
      auVar24 = minps(auVar24,auVar31);
      auVar37 = maxps(auVar37,auVar31);
      uVar17 = (ulong)(*(uint *)(*pauVar18 + 0xc) >> 0x1b);
      pauVar13 = pauVar15;
    }
    lVar23 = lVar23 + uVar17;
    pauVar18 = pauVar18 + 2;
    pauVar15 = pauVar13;
  } while( true );
}



/* std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int>
   embree::parallel_reduce_internal<unsigned long,
   std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int>,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::range<unsigned
   long> const&)#1}, std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int> const
   (std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int> const&,
   std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int> const&)>(unsigned long,
   unsigned long, unsigned long, unsigned long,
   std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int> const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::range<unsigned
   long> const&)#1} const&, std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int>
   const ( const&)(std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int> const&,
   std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa> >, unsigned int> const&)) [clone
   .constprop.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_,std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>const(std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>const&,std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>const&)>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,pair *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _func_pair_pair_ptr_pair_ptr *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  uint uVar5;
  long in_FS_OFFSET;
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  ulong local_20e0;
  ulong local_20d8 [2];
  undefined8 local_20c8;
  long local_20c0;
  long local_20b8;
  undefined8 *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  undefined1 (*local_2098) [16];
  pair *local_2090;
  undefined1 local_2080 [8160];
  undefined1 (*local_a0) [16];
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20c8 = 0;
  local_20e0 = param_3;
  local_20d8[0] = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20d8[0]) {
    local_20d8[0] = 0x200;
  }
  pauVar4 = (undefined1 (*) [16])local_2080;
  if (uVar2 < local_20d8[0]) {
    local_20d8[0] = uVar2;
  }
  do {
    *(undefined4 *)pauVar4[4] = 0;
    pauVar3 = pauVar4 + 10;
    *(undefined4 *)pauVar4[9] = 0;
    pauVar4 = pauVar3;
  } while (pauVar3 != (undefined1 (*) [16])&local_a0);
  local_a0 = (undefined1 (*) [16])local_2080;
  local_98 = local_20d8[0];
  if (0x2000 < local_20d8[0] * 0x50) {
    local_a0 = (undefined1 (*) [16])embree::alignedMalloc(local_20d8[0] * 0x50,0x40);
  }
  local_20b0 = &local_20c8;
  local_20a8 = &local_20e0;
  local_20a0 = local_20d8;
  local_2098 = (undefined1 (*) [16])local_2080;
  local_2090 = param_5;
  if (local_20d8[0] == 0) {
    uVar1 = *(undefined8 *)(param_4 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_4;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_4 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_4 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_4 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_4 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_4 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_4 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
    *(undefined4 *)(param_1 + 0x40) = *(undefined4 *)(param_4 + 0x40);
  }
  else {
    local_20c0 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImSt4pairINS_8CentGeomINS_4BBoxINS_6Vec3faEEEEEjEZNS_4sse221rtcBuildBVHSpatialSAHEPK17RTCBuildArgumentsEUlRKNS_5rangeImEEE_FKSA_RSK_SL_EEET0_T_SO_SO_SO_RKSN_RKT1_RKT2_EUlmE_EEvSO_SQ_EUlSI_E_EEvSO_SO_SO_SQ_PNS0_16TaskGroupContextE_isra_0
              (0,local_20d8[0],1,&local_20b0,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != 0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_20b8);
    }
    auVar6 = *(undefined1 (*) [16])param_4;
    *(undefined1 (*) [16])param_1 = auVar6;
    auVar7 = *(undefined1 (*) [16])(param_4 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar8 = *(undefined1 (*) [16])(param_4 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar8;
    auVar9 = *(undefined1 (*) [16])(param_4 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar9;
    uVar5 = *(uint *)(param_4 + 0x40);
    *(uint *)(param_1 + 0x40) = uVar5;
    if (local_20d8[0] != 0) {
      pauVar4 = local_a0;
      do {
        auVar6 = minps(auVar6,*pauVar4);
        auVar7 = maxps(auVar7,pauVar4[1]);
        auVar8 = minps(auVar8,pauVar4[2]);
        auVar9 = maxps(auVar9,pauVar4[3]);
        if (uVar5 < *(uint *)pauVar4[4]) {
          uVar5 = *(uint *)pauVar4[4];
        }
        pauVar4 = pauVar4 + 5;
        *(undefined1 (*) [16])param_1 = auVar6;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(uint *)(param_1 + 0x40) = uVar5;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar8;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar9;
      } while (pauVar4 != local_a0 + local_20d8[0] * 5);
    }
  }
  if (local_a0 != (undefined1 (*) [16])local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x00106c3b) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void __thiscall
embree::TaskScheduler::
spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
          (TaskScheduler *this,ulong param_1,ulong param_2,ulong param_3,
          _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  long lVar5;
  long lVar6;
  char cVar7;
  long lVar8;
  long lVar9;
  long *plVar10;
  Thread *pTVar11;
  Thread *pTVar12;
  Thread *pTVar13;
  Thread *pTVar14;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = embree::TaskScheduler::thread();
  if (lVar8 == 0) {
    plVar10 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar8 = embree::TaskScheduler::allocThreadIndex();
    pTVar11 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    *(long *)pTVar11 = lVar8;
    pTVar14 = pTVar11 + 0x40;
    pTVar13 = pTVar14;
    do {
      *(undefined4 *)pTVar13 = 0;
      pTVar12 = pTVar13 + 0x80;
      *(undefined4 *)(pTVar13 + 0x40) = 0;
      pTVar13 = pTVar12;
    } while (pTVar12 != pTVar11 + 0x40040);
    *(undefined8 *)(pTVar11 + 0x40040) = 0;
    *(undefined8 *)(pTVar11 + 0x40080) = 0;
    *(undefined8 *)(pTVar11 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar11 + 0xc0100) = 0;
    *(long **)(pTVar11 + 0xc0108) = plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
      if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar10 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar10 + 8))(plVar10);
        }
      }
      else {
        (**(code **)(*plVar10 + 0x18))(plVar10);
      }
    }
    LOCK();
    *(Thread **)(plVar10[2] + lVar8 * 8) = pTVar11;
    UNLOCK();
    local_48 = pTVar11;
    pTVar13 = (Thread *)embree::TaskScheduler::swapThread(pTVar11);
    if (0xfff < *(ulong *)(pTVar11 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar5 = *(long *)(pTVar11 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar11 + 0xc00c0) = uVar3;
    pTVar12 = pTVar11 + uVar3 + 0x40088;
    *(undefined ***)pTVar12 = &PTR_execute_00122de8;
    *(ulong *)(pTVar12 + 8) = param_1;
    *(ulong *)(pTVar12 + 0x20) = param_3;
    *(TaskScheduler **)(pTVar12 + 0x10) = this;
    *(ulong *)(pTVar12 + 0x18) = param_2;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)(pTVar12 + 0x28) = param_4;
    *(TaskGroupContext **)(pTVar12 + 0x30) = param_5;
    lVar9 = *(long *)(pTVar11 + 0x40080) * 0x40;
    lVar6 = *(long *)(pTVar11 + 0xc0100);
    *(undefined4 *)(pTVar11 + lVar9 + 0x44) = 1;
    pTVar11[lVar9 + 0x48] = (Thread)0x1;
    *(long *)(pTVar11 + lVar9 + 0x68) = lVar5;
    *(Thread **)(pTVar11 + lVar9 + 0x50) = pTVar12;
    *(long *)(pTVar11 + lVar9 + 0x58) = lVar6;
    *(TaskGroupContext **)(pTVar11 + lVar9 + 0x60) = param_5;
    *(ulong *)(pTVar11 + lVar9 + 0x70) = param_1 - (long)this;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar14 + lVar9) == 0) {
      *(undefined4 *)(pTVar14 + lVar9) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar11 + 0x40080) = *(long *)(pTVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar11 + 0x40080) - 1U <= *(ulong *)(pTVar11 + 0x40040)) {
      LOCK();
      *(long *)(pTVar11 + 0x40040) = *(long *)(pTVar11 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar10[6] = plVar10[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar10 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar7 = embree::TaskScheduler::TaskQueue::execute_local(pTVar14,(Task *)pTVar11);
    } while (cVar7 != '\0');
    LOCK();
    plVar10[6] = plVar10[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar8 * 8 + plVar10[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar13);
    pTVar14 = *(Thread **)param_5;
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar14 = local_48;
    }
    LOCK();
    plVar10[5] = plVar10[5] + -1;
    UNLOCK();
    while (plVar10[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar11 != (Thread *)0x0) {
      plVar10 = *(long **)(pTVar11 + 0xc0108);
      if (plVar10 != (long *)0x0) {
        if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar10 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar10 + 8))();
          }
        }
        else {
          (**(code **)(*plVar10 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar11);
        return;
      }
      goto LAB_00106d58;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar8 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar5 = *(long *)(lVar8 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar8 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar8 + 0x40088 + uVar3);
    puVar4[6] = param_5;
    *puVar4 = &PTR_execute_00122de8;
    puVar4[1] = param_1;
    puVar4[4] = param_3;
    puVar4[2] = this;
    puVar4[3] = param_2;
    puVar4[5] = param_4;
    lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar8 + 0x40 + lVar9);
    lVar6 = *(long *)(lVar8 + 0xc0100);
    *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
    *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
    lVar9 = lVar9 + lVar8;
    *(TaskGroupContext **)(lVar9 + 0x60) = param_5;
    *(undefined8 **)(lVar9 + 0x50) = puVar4;
    *(long *)(lVar9 + 0x58) = lVar6;
    *(long *)(lVar9 + 0x68) = lVar5;
    *(ulong *)(lVar9 + 0x70) = param_1 - (long)this;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
      LOCK();
      *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00106d58:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  TaskScheduler *pTVar1;
  undefined8 uVar2;
  undefined8 *puVar3;
  undefined8 *puVar4;
  TaskScheduler *this_00;
  TaskScheduler *pTVar5;
  
  pTVar1 = *(TaskScheduler **)(this + 8);
  this_00 = *(TaskScheduler **)(this + 0x10);
  if (*(ulong *)(this + 0x18) < (ulong)((long)pTVar1 - (long)this_00)) {
    spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (this_00,(ulong)(pTVar1 + (long)this_00) >> 1,*(ulong *)(this + 0x18),
               *(ulong *)(this + 0x20),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x28),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
              ((TaskScheduler *)((ulong)(pTVar1 + (long)this_00) >> 1),*(ulong *)(this + 8),
               *(ulong *)(this + 0x18),*(ulong *)(this + 0x20),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x28),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (this_00 < pTVar1) {
    do {
      pTVar5 = this_00 + **(long **)(this + 0x28);
      puVar4 = (undefined8 *)((long)this_00 * 0x20 + **(long **)(this + 0x20));
      this_00 = this_00 + 1;
      uVar2 = puVar4[1];
      puVar3 = (undefined8 *)(**(long **)(this + 0x20) + (long)pTVar5 * 0x20);
      *puVar3 = *puVar4;
      puVar3[1] = uVar2;
      uVar2 = puVar4[3];
      puVar3[2] = puVar4[2];
      puVar3[3] = uVar2;
    } while (pTVar1 != this_00);
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0010734b) */
/* void embree::TaskScheduler::spawn<unsigned int,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#2}>(unsigned int, unsigned int, unsigned int,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void __thiscall
embree::TaskScheduler::
spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
          (TaskScheduler *this,uint param_1,uint param_2,uint param_3,
          _lambda_embree__range<unsigned_int>_const___2_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  long lVar5;
  long lVar6;
  char cVar7;
  long lVar8;
  long lVar9;
  long *plVar10;
  Thread *pTVar11;
  Thread *pTVar12;
  Thread *pTVar13;
  undefined4 in_register_0000000c;
  int iVar14;
  Thread *pTVar15;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  iVar14 = (int)this;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = embree::TaskScheduler::thread();
  if (lVar8 == 0) {
    plVar10 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar8 = embree::TaskScheduler::allocThreadIndex();
    pTVar11 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    *(long *)pTVar11 = lVar8;
    pTVar15 = pTVar11 + 0x40;
    pTVar13 = pTVar15;
    do {
      *(undefined4 *)pTVar13 = 0;
      pTVar12 = pTVar13 + 0x80;
      *(undefined4 *)(pTVar13 + 0x40) = 0;
      pTVar13 = pTVar12;
    } while (pTVar12 != pTVar11 + 0x40040);
    *(undefined8 *)(pTVar11 + 0x40040) = 0;
    *(undefined8 *)(pTVar11 + 0x40080) = 0;
    *(undefined8 *)(pTVar11 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar11 + 0xc0100) = 0;
    *(long **)(pTVar11 + 0xc0108) = plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
      if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar10 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar10 + 8))(plVar10);
        }
      }
      else {
        (**(code **)(*plVar10 + 0x18))(plVar10);
      }
    }
    LOCK();
    *(Thread **)(plVar10[2] + lVar8 * 8) = pTVar11;
    UNLOCK();
    local_48 = pTVar11;
    pTVar13 = (Thread *)embree::TaskScheduler::swapThread(pTVar11);
    if (0xfff < *(ulong *)(pTVar11 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
    ;
    lVar5 = *(long *)(pTVar11 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
    ;
    *(ulong *)(pTVar11 + 0xc00c0) = uVar3;
    pTVar12 = pTVar11 + uVar3 + 0x40090;
    *(undefined ***)pTVar12 = &PTR_execute_00122db8;
    *(uint *)(pTVar12 + 8) = param_1;
    *(ulong *)(pTVar12 + 0x18) = CONCAT44(in_register_0000000c,param_3);
    *(int *)(pTVar12 + 0xc) = iVar14;
    *(uint *)(pTVar12 + 0x10) = param_2;
    *(_lambda_embree__range<unsigned_int>_const___2_ **)(pTVar12 + 0x20) = param_4;
    *(TaskGroupContext **)(pTVar12 + 0x28) = param_5;
    lVar9 = *(long *)(pTVar11 + 0x40080) * 0x40;
    lVar6 = *(long *)(pTVar11 + 0xc0100);
    *(undefined4 *)(pTVar11 + lVar9 + 0x44) = 1;
    pTVar11[lVar9 + 0x48] = (Thread)0x1;
    *(long *)(pTVar11 + lVar9 + 0x68) = lVar5;
    *(Thread **)(pTVar11 + lVar9 + 0x50) = pTVar12;
    *(long *)(pTVar11 + lVar9 + 0x58) = lVar6;
    *(TaskGroupContext **)(pTVar11 + lVar9 + 0x60) = param_5;
    *(ulong *)(pTVar11 + lVar9 + 0x70) = (ulong)(param_1 - iVar14);
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar15 + lVar9) == 0) {
      *(undefined4 *)(pTVar15 + lVar9) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar11 + 0x40080) = *(long *)(pTVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar11 + 0x40080) - 1U <= *(ulong *)(pTVar11 + 0x40040)) {
      LOCK();
      *(long *)(pTVar11 + 0x40040) = *(long *)(pTVar11 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar10[6] = plVar10[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar10 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar7 = embree::TaskScheduler::TaskQueue::execute_local(pTVar15,(Task *)pTVar11);
    } while (cVar7 != '\0');
    LOCK();
    plVar10[6] = plVar10[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar8 * 8 + plVar10[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar13);
    pTVar15 = *(Thread **)param_5;
    if (pTVar15 != (Thread *)0x0) {
      local_48 = pTVar15;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar15 = local_48;
    }
    LOCK();
    plVar10[5] = plVar10[5] + -1;
    UNLOCK();
    while (plVar10[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar15 != (Thread *)0x0) {
      local_48 = pTVar15;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar11 != (Thread *)0x0) {
      plVar10 = *(long **)(pTVar11 + 0xc0108);
      if (plVar10 != (long *)0x0) {
        if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar10 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar10 + 8))();
          }
        }
        else {
          (**(code **)(*plVar10 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar11);
        return;
      }
      goto LAB_00107468;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar8 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar5 = *(long *)(lVar8 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
    ;
    *(ulong *)(lVar8 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar8 + 0x40090 + uVar3);
    puVar4[5] = param_5;
    *puVar4 = &PTR_execute_00122db8;
    *(uint *)(puVar4 + 1) = param_1;
    puVar4[3] = CONCAT44(in_register_0000000c,param_3);
    *(int *)((long)puVar4 + 0xc) = iVar14;
    *(uint *)(puVar4 + 2) = param_2;
    puVar4[4] = param_4;
    lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar8 + 0x40 + lVar9);
    lVar6 = *(long *)(lVar8 + 0xc0100);
    *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
    *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
    lVar9 = lVar9 + lVar8;
    *(TaskGroupContext **)(lVar9 + 0x60) = param_5;
    *(undefined8 **)(lVar9 + 0x50) = puVar4;
    *(long *)(lVar9 + 0x58) = lVar6;
    *(long *)(lVar9 + 0x68) = lVar5;
    *(ulong *)(lVar9 + 0x70) = (ulong)(param_1 - iVar14);
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
      LOCK();
      *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00107468:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&) const */

void __thiscall
embree::sse2::BVHBuilderMorton::
BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
::recreateMortonCodes
          (BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
           *this,range *param_1)

{
  uint *puVar1;
  uint *puVar2;
  undefined8 uVar3;
  bool bVar4;
  bool bVar5;
  bool bVar6;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  float *pfVar10;
  long lVar11;
  ulong uVar12;
  uint *puVar13;
  long lVar14;
  long lVar15;
  uint *puVar16;
  ulong uVar17;
  TaskScheduler *this_00;
  long lVar18;
  long in_FS_OFFSET;
  float fVar19;
  uint uVar20;
  float fVar21;
  uint uVar22;
  float fVar23;
  uint uVar24;
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 in_XMM3 [16];
  undefined1 auVar28 [16];
  float fVar29;
  undefined1 in_XMM4 [16];
  undefined1 auVar30 [16];
  long local_90;
  undefined1 local_88 [16];
  undefined1 local_78 [8];
  float fStack_70;
  float fStack_6c;
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  _lambda_embree__range<unsigned_int>_const___2_ local_48 [16];
  uint local_38;
  uint uStack_34;
  uint uStack_30;
  uint uStack_2c;
  long local_20;
  
  uVar20 = *(uint *)param_1;
  this_00 = (TaskScheduler *)(ulong)uVar20;
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uVar22 = *(uint *)(param_1 + 4);
  uVar12 = (ulong)uVar22;
  if (uVar22 - uVar20 < 0x400) {
    lVar11 = *(long *)(this + 0x58);
    uVar17 = (ulong)uVar20;
    if (uVar17 < uVar12) {
      lVar18 = uVar17 * 8;
      lVar14 = lVar11 + lVar18;
      auVar25._4_4_ = _LC1;
      auVar25._0_4_ = _LC1;
      auVar25._8_4_ = _LC1;
      auVar25._12_4_ = _LC1;
      auVar26._4_4_ = _LC3;
      auVar26._0_4_ = _LC3;
      auVar26._8_4_ = _LC3;
      auVar26._12_4_ = _LC3;
      lVar15 = *(long *)**(undefined8 **)(this + 0x48);
      do {
        puVar1 = (uint *)(lVar14 + 4);
        lVar14 = lVar14 + 8;
        pfVar10 = (float *)((ulong)*puVar1 * 0x20 + lVar15);
        auVar7._4_4_ = pfVar10[5] + pfVar10[1];
        auVar7._0_4_ = pfVar10[4] + *pfVar10;
        auVar7._8_4_ = pfVar10[6] + pfVar10[2];
        auVar7._12_4_ = pfVar10[7] + pfVar10[3];
        auVar25 = minps(auVar25,auVar7);
        auVar8._4_4_ = pfVar10[5] + pfVar10[1];
        auVar8._0_4_ = pfVar10[4] + *pfVar10;
        auVar8._8_4_ = pfVar10[6] + pfVar10[2];
        auVar8._12_4_ = pfVar10[7] + pfVar10[3];
        auVar26 = maxps(auVar26,auVar8);
      } while (lVar11 + uVar12 * 8 != lVar14);
      auVar27._0_4_ = auVar26._0_4_ - auVar25._0_4_;
      auVar27._4_4_ = auVar26._4_4_ - auVar25._4_4_;
      auVar27._8_4_ = auVar26._8_4_ - auVar25._8_4_;
      auVar27._12_4_ = auVar26._12_4_ - auVar25._12_4_;
      auVar30 = rcpps(in_XMM4,auVar27);
      bVar4 = _LC35 < auVar27._0_4_;
      bVar5 = _LC35 < auVar27._4_4_;
      bVar6 = _LC35 < auVar27._8_4_;
      fVar19 = auVar30._0_4_;
      fVar21 = auVar30._4_4_;
      fVar23 = auVar30._8_4_;
      fVar19 = ((_LC37 - auVar27._0_4_ * fVar19) * fVar19 + fVar19) * _LC39;
      fVar21 = ((_LC37 - auVar27._4_4_ * fVar21) * fVar21 + fVar21) * _LC39;
      fVar23 = ((_LC37 - auVar27._8_4_ * fVar23) * fVar23 + fVar23) * _LC39;
      while( true ) {
        pfVar10 = (float *)((ulong)((uint *)(lVar18 + lVar11))[1] * 0x20 + lVar15);
        uVar20 = (uint)(((pfVar10[4] + *pfVar10) - auVar25._0_4_) *
                       (float)(-(uint)bVar4 & (uint)fVar19));
        uVar22 = (uint)(((pfVar10[5] + pfVar10[1]) - auVar25._4_4_) *
                       (float)(-(uint)bVar5 & (uint)fVar21));
        uVar24 = (uint)(((pfVar10[6] + pfVar10[2]) - auVar25._8_4_) *
                       (float)(-(uint)bVar6 & (uint)fVar23));
        uVar17 = uVar17 + 1;
        *(uint *)(lVar18 + lVar11) =
             ((((uVar22 << 0x10 | uVar22) & 0x30000ff) * 0x101 & 0x300f00f) * 0x11 & 0x30c30c3) * 10
             & 0x12492492 |
             (((((uVar24 << 0x10 | uVar24) & 0x30000ff) * 0x101 & 0x300f00f) * 0x11 & 0x30c30c3) * 5
             & 0x9249249) << 2 |
             ((((uVar20 << 0x10 | uVar20) & 0x30000ff) * 0x101 & 0x300f00f) * 0x11 & 0x30c30c3) * 5
             & 0x9249249;
        uVar12 = (ulong)*(uint *)(param_1 + 4);
        if (uVar12 <= uVar17) break;
        lVar11 = *(long *)(this + 0x58);
        lVar18 = uVar17 * 8;
        lVar15 = *(long *)**(undefined8 **)(this + 0x48);
      }
      uVar17 = (ulong)*(uint *)param_1;
      lVar11 = *(long *)(this + 0x58);
    }
    puVar1 = (uint *)(lVar11 + uVar12 * 8);
    puVar2 = (uint *)(lVar11 + uVar17 * 8);
    if (puVar1 != puVar2) {
      lVar11 = uVar12 * 8 + uVar17 * -8;
      uVar12 = lVar11 >> 3;
      if (uVar12 == 0) {
        std::
        __introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar2,puVar1,0xfffffffffffffffe);
      }
      else {
        lVar14 = 0x3f;
        if (uVar12 != 0) {
          for (; uVar12 >> lVar14 == 0; lVar14 = lVar14 + -1) {
          }
        }
        std::
        __introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar2,puVar1,(long)(int)lVar14 * 2);
        if (0x80 < lVar11) {
          puVar16 = puVar2 + 0x20;
          std::
          __insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,__gnu_cxx::__ops::_Iter_less_iter>
                    (puVar2,puVar16);
          for (; puVar1 != puVar16; puVar16 = puVar16 + 2) {
            while( true ) {
              uVar3 = *(undefined8 *)puVar16;
              uVar20 = *puVar16;
              puVar2 = puVar16 + -2;
              if (puVar16[-2] <= uVar20) break;
              do {
                puVar13 = puVar2;
                *(undefined8 *)(puVar13 + 2) = *(undefined8 *)puVar13;
                puVar2 = puVar13 + -2;
              } while (uVar20 < puVar13[-2]);
              puVar16 = puVar16 + 2;
              *(undefined8 *)puVar13 = uVar3;
              if (puVar1 == puVar16) goto LAB_001076ee;
            }
            *(undefined8 *)puVar16 = uVar3;
          }
          goto LAB_001076ee;
        }
      }
      if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
        std::
        __insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar2,puVar1);
        return;
      }
      goto LAB_001078b8;
    }
  }
  else {
    uVar24 = (uVar22 - uVar20) + 0x3ff >> 10;
    local_68._4_4_ = _LC1;
    local_68._0_4_ = _LC1;
    local_68._8_4_ = _LC1;
    local_68._12_4_ = _LC1;
    local_58._4_4_ = _LC3;
    local_58._0_4_ = _LC3;
    local_58._8_4_ = _LC3;
    local_58._12_4_ = _LC3;
    if (uVar24 == 1) {
      auVar30 = local_58;
      local_88 = local_68;
      _local_78 = local_58;
      if ((ulong)uVar20 < (ulong)uVar22) {
        lVar11 = *(long *)(this + 0x58) + (ulong)uVar20 * 8;
        do {
          puVar1 = (uint *)(lVar11 + 4);
          lVar11 = lVar11 + 8;
          pfVar10 = (float *)((ulong)*puVar1 * 0x20 + *(long *)**(undefined8 **)(this + 0x48));
          auVar28._4_4_ = pfVar10[5] + pfVar10[1];
          auVar28._0_4_ = pfVar10[4] + *pfVar10;
          auVar28._8_4_ = pfVar10[6] + pfVar10[2];
          auVar28._12_4_ = pfVar10[7] + pfVar10[3];
          local_88 = minps(local_88,auVar28);
          auVar9._4_4_ = pfVar10[5] + pfVar10[1];
          auVar9._0_4_ = pfVar10[4] + *pfVar10;
          auVar9._8_4_ = pfVar10[6] + pfVar10[2];
          auVar9._12_4_ = pfVar10[7] + pfVar10[3];
          _local_78 = maxps(_local_78,auVar9);
        } while (*(long *)(this + 0x58) + (ulong)uVar22 * 8 != lVar11);
        auVar30._0_4_ = SUB164(_local_78,0) - local_88._0_4_;
        auVar30._4_4_ = SUB164(_local_78,4) - local_88._4_4_;
        auVar30._8_4_ = SUB164(_local_78,8) - local_88._8_4_;
        auVar30._12_4_ = SUB164(_local_78,0xc) - local_88._12_4_;
      }
    }
    else {
      parallel_reduce_internal<unsigned_int,embree::BBox<embree::Vec3fa>,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_1_,embree::BBox<embree::Vec3fa>const(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&)>
                ((uint)local_88,uVar24,uVar20,uVar22,(BBox_conflict *)local_68,
                 (_lambda_embree__range<unsigned_int>_const___1_ *)&stack0xffffffffffffff68,
                 (_func_BBox_BBox_ptr_BBox_ptr *)this);
      this_00 = (TaskScheduler *)(ulong)*(uint *)param_1;
      uVar22 = *(uint *)(param_1 + 4);
      auVar30._0_4_ = (float)local_78._0_4_ - local_88._0_4_;
      auVar30._4_4_ = (float)local_78._4_4_ - local_88._4_4_;
      auVar30._8_4_ = fStack_70 - local_88._8_4_;
      auVar30._12_4_ = fStack_6c - local_88._12_4_;
    }
    auVar28 = rcpps(in_XMM3,auVar30);
    local_90 = 0;
    fVar19 = auVar28._0_4_;
    fVar21 = auVar28._4_4_;
    fVar23 = auVar28._8_4_;
    fVar29 = auVar28._12_4_;
    local_38 = (uint)(((_LC37 - auVar30._0_4_ * fVar19) * fVar19 + fVar19) * _LC39) &
               -(uint)(_LC35 < auVar30._0_4_);
    uStack_34 = (uint)(((_LC37 - auVar30._4_4_ * fVar21) * fVar21 + fVar21) * _LC39) &
                -(uint)(_LC35 < auVar30._4_4_);
    uStack_30 = (uint)(((_LC37 - auVar30._8_4_ * fVar23) * fVar23 + fVar23) * _LC39) &
                -(uint)(_LC35 < auVar30._8_4_);
    uStack_2c = (uint)(((_LC37 - auVar30._12_4_ * fVar29) * fVar29 + fVar29) * _LC39) &
                -(uint)(_LC35 < auVar30._12_4_);
    local_48 = (_lambda_embree__range<unsigned_int>_const___2_  [16])local_88;
    TaskScheduler::
    spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
              (this_00,uVar22,0x400,(uint)this,local_48,(TaskGroupContext *)&local_90);
    embree::TaskScheduler::wait();
    if (local_90 != 0) {
      local_68._0_8_ = local_90;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(local_68);
    }
    radixsort32<embree::sse2::BVHBuilderMorton::BuildPrim>
              ((BuildPrim *)(*(long *)(this + 0x58) + (ulong)*(uint *)param_1 * 8),
               (ulong)(*(int *)(param_1 + 4) - *(uint *)param_1),0x18);
  }
LAB_001076ee:
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_001078b8:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned int,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#2}>(unsigned int, unsigned int, unsigned int,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>::recreateMortonCodes(embree::range<unsigned_int>const&)const::{lambda(embree::range<unsigned_int>const&)#2}>(...embree::range<unsigned_int>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>(___embree::range<unsigned_int>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  uint *puVar1;
  float *pfVar2;
  float *pfVar3;
  uint uVar4;
  TaskScheduler *this_00;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  
  uVar4 = *(uint *)(this + 8);
  uVar5 = *(uint *)(this + 0xc);
  this_00 = (TaskScheduler *)(ulong)uVar5;
  if (*(uint *)(this + 0x10) < uVar4 - uVar5) {
    uVar4 = uVar4 + uVar5 >> 1;
    spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
              (this_00,uVar4,*(uint *)(this + 0x10),(uint)*(undefined8 *)(this + 0x18),
               *(_lambda_embree__range<unsigned_int>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
              ((TaskScheduler *)(ulong)uVar4,*(uint *)(this + 8),*(uint *)(this + 0x10),
               (uint)*(undefined8 *)(this + 0x18),
               *(_lambda_embree__range<unsigned_int>_const___2_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  if (this_00 < (TaskScheduler *)(ulong)uVar4) {
    do {
      pfVar2 = *(float **)(this + 0x20);
      puVar1 = (uint *)(*(long *)(*(long *)(this + 0x18) + 0x58) + (long)this_00 * 8);
      pfVar3 = (float *)((ulong)puVar1[1] * 0x20 +
                        *(long *)**(undefined8 **)(*(long *)(this + 0x18) + 0x48));
      uVar5 = (uint)(((pfVar3[4] + *pfVar3) - *pfVar2) * pfVar2[4]);
      uVar6 = (uint)(((pfVar3[5] + pfVar3[1]) - pfVar2[1]) * pfVar2[5]);
      uVar7 = (uint)(((pfVar3[6] + pfVar3[2]) - pfVar2[2]) * pfVar2[6]);
      this_00 = this_00 + 1;
      *puVar1 = ((((uVar6 << 0x10 | uVar6) & 0x30000ff) * 0x101 & 0x300f00f) * 0x11 & 0x30c30c3) *
                10 & 0x12492492 |
                (((((uVar7 << 0x10 | uVar7) & 0x30000ff) * 0x101 & 0x300f00f) * 0x11 & 0x30c30c3) *
                 5 & 0x9249249) << 2 |
                ((((uVar5 << 0x10 | uVar5) & 0x30000ff) * 0x101 & 0x300f00f) * 0x11 & 0x30c30c3) * 5
                & 0x9249249;
    } while (this_00 != (TaskScheduler *)(ulong)uVar4);
  }
  return;
}



/* embree::BBox<embree::Vec3fa> embree::parallel_reduce_internal<unsigned long,
   embree::BBox<embree::Vec3fa>, embree::parallel_reduce<unsigned long,
   embree::BBox<embree::Vec3fa>, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::range<unsigned long> const&)#1}, embree::BBox<embree::Vec3fa> const
   (embree::BBox<embree::Vec3fa> const&, embree::BBox<embree::Vec3fa> const&)>(unsigned long,
   unsigned long, embree::BBox<embree::Vec3fa> const&,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::BBox<embree::Vec3fa> const ( const&)(embree::BBox<embree::Vec3fa>
   const&, embree::BBox<embree::Vec3fa> const&))::{lambda(embree::range<unsigned long>)#1},
   embree::BBox<embree::Vec3fa> const (embree::BBox<embree::Vec3fa> const&,
   embree::BBox<embree::Vec3fa> const&)>(unsigned long, unsigned long, unsigned long, unsigned long,
   embree::BBox<embree::Vec3fa> const&, embree::parallel_reduce<unsigned long,
   embree::BBox<embree::Vec3fa>, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::range<unsigned long> const&)#1}, embree::BBox<embree::Vec3fa> const
   (embree::BBox<embree::Vec3fa> const&, embree::BBox<embree::Vec3fa> const&)>(unsigned long,
   unsigned long, embree::BBox<embree::Vec3fa> const&,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::BBox<embree::Vec3fa> const ( const&)(embree::BBox<embree::Vec3fa>
   const&, embree::BBox<embree::Vec3fa> const&))::{lambda(embree::range<unsigned long>)#1} const&,
   embree::BBox<embree::Vec3fa> const ( const&)(embree::BBox<embree::Vec3fa> const&,
   embree::BBox<embree::Vec3fa> const&)) [clone .constprop.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::BBox<embree::Vec3fa>,embree::parallel_reduce<unsigned_long,embree::BBox<embree::Vec3fa>,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_,embree::BBox<embree::Vec3fa>const(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&)>(unsigned_long,unsigned_long,embree::BBox<embree::Vec3fa>const&,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::BBox<embree::Vec3fa>const(const&)(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&))::_lambda(embree::range<unsigned_long>)_1_,embree::BBox<embree::Vec3fa>const(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&)>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,BBox_conflict *param_5,
                _lambda_embree__range<unsigned_long>__1_ *param_6,
                _func_BBox_BBox_ptr_BBox_ptr_conflict *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  long in_FS_OFFSET;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  ulong local_2120;
  ulong local_2118 [2];
  undefined8 local_2108;
  long local_2100;
  long local_20f8;
  undefined8 *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  undefined1 (*local_20d8) [16];
  BBox_conflict *local_20d0;
  undefined1 local_20c0 [8192];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2108 = 0;
  local_2120 = param_3;
  local_2118[0] = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2118[0]) {
    local_2118[0] = 0x200;
  }
  if (uVar2 < local_2118[0]) {
    local_2118[0] = uVar2;
  }
  local_b8 = local_2118[0];
  if (local_2118[0] << 5 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_20c0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2118[0] << 5,0x40);
  }
  local_20f0 = &local_2108;
  local_20e8 = &local_2120;
  local_20e0 = local_2118;
  local_20d8 = (undefined1 (*) [16])local_20c0;
  local_20d0 = param_5;
  if (local_2118[0] == 0) {
    uVar1 = *(undefined8 *)(param_4 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_4;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_4 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_4 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
  }
  else {
    local_2100 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4BBoxINS_6Vec3faEEEZNS_15parallel_reduceImS6_ZNS_4sse217rtcBuildBVHMortonEPK17RTCBuildArgumentsEUlRKNS_5rangeImEEE_FKS6_RSH_SI_EEET0_T_SL_RKSK_RKT1_RKT2_EUlSD_E_SJ_EESK_SL_SL_SL_SL_SN_SQ_ST_EUlmE_EEvSL_SN_EUlSF_E_EEvSL_SL_SL_SN_PNS0_16TaskGroupContextE_isra_0
              (0,local_2118[0],1,&local_20f0,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != 0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_20f8);
    }
    auVar5 = *(undefined1 (*) [16])param_4;
    *(undefined1 (*) [16])param_1 = auVar5;
    auVar4 = *(undefined1 (*) [16])(param_4 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar4;
    pauVar3 = local_c0;
    if (local_2118[0] != 0) {
      do {
        auVar4 = maxps(auVar4,pauVar3[1]);
        auVar5 = minps(auVar5,*pauVar3);
        pauVar3 = pauVar3 + 2;
        *(undefined1 (*) [16])param_1 = auVar5;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar4;
      } while (local_c0 + local_2118[0] * 2 != pauVar3);
    }
  }
  if (local_c0 != (undefined1 (*) [16])local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* embree::CentGeom<embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned long,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::CentGeom<embree::BBox<embree::Vec3fa> > const
   (embree::CentGeom<embree::BBox<embree::Vec3fa> > const&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> > const&)>(unsigned long, unsigned long, unsigned
   long, unsigned long, embree::CentGeom<embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::range<unsigned
   long> const&)#1} const&, embree::CentGeom<embree::BBox<embree::Vec3fa> > const (
   const&)(embree::CentGeom<embree::BBox<embree::Vec3fa> > const&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> > const&)) [clone .constprop.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_,embree::CentGeom<embree::BBox<embree::Vec3fa>>const(embree::CentGeom<embree::BBox<embree::Vec3fa>>const&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,CentGeom_conflict *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _func_CentGeom_CentGeom_ptr_CentGeom_ptr *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  undefined1 (*pauVar3) [16];
  undefined1 (*pauVar4) [16];
  long in_FS_OFFSET;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  ulong local_2120;
  ulong local_2118 [2];
  undefined8 local_2108;
  long local_2100;
  long local_20f8;
  undefined8 *local_20f0;
  ulong *local_20e8;
  ulong *local_20e0;
  undefined1 (*local_20d8) [16];
  CentGeom_conflict *local_20d0;
  undefined1 local_20c0 [8192];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2108 = 0;
  local_2120 = param_3;
  local_2118[0] = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2118[0]) {
    local_2118[0] = 0x200;
  }
  if (uVar2 < local_2118[0]) {
    local_2118[0] = uVar2;
  }
  local_b8 = local_2118[0];
  if (local_2118[0] << 6 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_20c0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2118[0] << 6,0x40);
  }
  local_20f0 = &local_2108;
  local_20e8 = &local_2120;
  local_20e0 = local_2118;
  local_20d8 = (undefined1 (*) [16])local_20c0;
  local_20d0 = param_5;
  if (local_2118[0] == 0) {
    uVar1 = *(undefined8 *)(param_4 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_4;
    *(undefined8 *)(param_1 + 8) = uVar1;
    uVar1 = *(undefined8 *)(param_4 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_4 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_4 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_4 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
    uVar1 = *(undefined8 *)(param_4 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_4 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar1;
  }
  else {
    local_2100 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_8CentGeomINS_4BBoxINS_6Vec3faEEEEEZNS_4sse220rtcBuildBVHBinnedSAHEPK17RTCBuildArgumentsEUlRKNS_5rangeImEEE_FKS8_RSI_SJ_EEET0_T_SM_SM_SM_RKSL_RKT1_RKT2_EUlmE_EEvSM_SO_EUlSG_E_EEvSM_SM_SM_SO_PNS0_16TaskGroupContextE_isra_0
              (0,local_2118[0],1,&local_20f0,&local_2100);
    embree::TaskScheduler::wait();
    if (local_2100 != 0) {
      local_20f8 = local_2100;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_20f8);
    }
    auVar5 = *(undefined1 (*) [16])param_4;
    *(undefined1 (*) [16])param_1 = auVar5;
    auVar7 = *(undefined1 (*) [16])(param_4 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar6 = *(undefined1 (*) [16])(param_4 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar6;
    auVar8 = *(undefined1 (*) [16])(param_4 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar8;
    if (local_2118[0] != 0) {
      pauVar3 = local_c0;
      do {
        auVar5 = minps(auVar5,*pauVar3);
        auVar7 = maxps(auVar7,pauVar3[1]);
        pauVar4 = pauVar3 + 4;
        auVar6 = minps(auVar6,pauVar3[2]);
        auVar8 = maxps(auVar8,pauVar3[3]);
        *(undefined1 (*) [16])param_1 = auVar5;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar6;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar8;
        pauVar3 = pauVar4;
      } while (local_c0 + local_2118[0] * 4 != pauVar4);
    }
  }
  if (local_c0 != (undefined1 (*) [16])local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x00109c4b) */
/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  long lVar5;
  long lVar6;
  char cVar7;
  long lVar8;
  long lVar9;
  long *plVar10;
  Thread *pTVar11;
  Thread *pTVar12;
  Thread *pTVar13;
  Thread *pTVar14;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = embree::TaskScheduler::thread();
  if (lVar8 == 0) {
    plVar10 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar8 = embree::TaskScheduler::allocThreadIndex();
    pTVar11 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    *(long *)pTVar11 = lVar8;
    pTVar14 = pTVar11 + 0x40;
    pTVar13 = pTVar14;
    do {
      *(undefined4 *)pTVar13 = 0;
      pTVar12 = pTVar13 + 0x80;
      *(undefined4 *)(pTVar13 + 0x40) = 0;
      pTVar13 = pTVar12;
    } while (pTVar12 != pTVar11 + 0x40040);
    *(undefined8 *)(pTVar11 + 0x40040) = 0;
    *(undefined8 *)(pTVar11 + 0x40080) = 0;
    *(undefined8 *)(pTVar11 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar11 + 0xc0100) = 0;
    *(long **)(pTVar11 + 0xc0108) = plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
      if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar10 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar10 + 8))(plVar10);
        }
      }
      else {
        (**(code **)(*plVar10 + 0x18))(plVar10);
      }
    }
    LOCK();
    *(Thread **)(plVar10[2] + lVar8 * 8) = pTVar11;
    UNLOCK();
    local_48 = pTVar11;
    pTVar13 = (Thread *)embree::TaskScheduler::swapThread(pTVar11);
    if (0xfff < *(ulong *)(pTVar11 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar5 = *(long *)(pTVar11 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar11 + 0xc00c0) = uVar3;
    pTVar12 = pTVar11 + uVar3 + 0x40090;
    *(undefined ***)pTVar12 = &PTR_execute_00122e48;
    *(ulong *)(pTVar12 + 8) = param_2;
    *(ulong *)(pTVar12 + 0x10) = param_1;
    *(ulong *)(pTVar12 + 0x18) = param_3;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)(pTVar12 + 0x20) = param_4;
    *(TaskGroupContext **)(pTVar12 + 0x28) = param_5;
    lVar9 = *(long *)(pTVar11 + 0x40080) * 0x40;
    lVar6 = *(long *)(pTVar11 + 0xc0100);
    *(undefined4 *)(pTVar11 + lVar9 + 0x44) = 1;
    pTVar11[lVar9 + 0x48] = (Thread)0x1;
    *(long *)(pTVar11 + lVar9 + 0x68) = lVar5;
    *(Thread **)(pTVar11 + lVar9 + 0x50) = pTVar12;
    *(long *)(pTVar11 + lVar9 + 0x58) = lVar6;
    *(TaskGroupContext **)(pTVar11 + lVar9 + 0x60) = param_5;
    *(ulong *)(pTVar11 + lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar14 + lVar9) == 0) {
      *(undefined4 *)(pTVar14 + lVar9) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar11 + 0x40080) = *(long *)(pTVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar11 + 0x40080) - 1U <= *(ulong *)(pTVar11 + 0x40040)) {
      LOCK();
      *(long *)(pTVar11 + 0x40040) = *(long *)(pTVar11 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar10[6] = plVar10[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar10 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar7 = embree::TaskScheduler::TaskQueue::execute_local(pTVar14,(Task *)pTVar11);
    } while (cVar7 != '\0');
    LOCK();
    plVar10[6] = plVar10[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar8 * 8 + plVar10[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar13);
    pTVar14 = *(Thread **)param_5;
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar14 = local_48;
    }
    LOCK();
    plVar10[5] = plVar10[5] + -1;
    UNLOCK();
    while (plVar10[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar11 != (Thread *)0x0) {
      plVar10 = *(long **)(pTVar11 + 0xc0108);
      if (plVar10 != (long *)0x0) {
        if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar10 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar10 + 8))();
          }
        }
        else {
          (**(code **)(*plVar10 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar11);
        return;
      }
      goto LAB_00109d68;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar8 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar5 = *(long *)(lVar8 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar8 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar8 + 0x40090 + uVar3);
    puVar4[5] = param_5;
    *puVar4 = &PTR_execute_00122e48;
    puVar4[1] = param_2;
    puVar4[2] = param_1;
    puVar4[3] = param_3;
    puVar4[4] = param_4;
    lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar8 + 0x40 + lVar9);
    lVar6 = *(long *)(lVar8 + 0xc0100);
    *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
    *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
    lVar9 = lVar9 + lVar8;
    *(TaskGroupContext **)(lVar9 + 0x60) = param_5;
    *(undefined8 **)(lVar9 + 0x50) = puVar4;
    *(long *)(lVar9 + 0x58) = lVar6;
    *(long *)(lVar9 + 0x68) = lVar5;
    *(ulong *)(lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
      LOCK();
      *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00109d68:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* unsigned long embree::parallel_partitioning<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#1}>(embree::PrimRef*, unsigned long,
   unsigned long, embree::EmptyTy const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#1} const&, unsigned long) [clone
   .constprop.0] */

ulong embree::
      parallel_partitioning<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_1_>
                (PrimRef *param_1,ulong param_2,ulong param_3,EmptyTy *param_4,PrimInfoT *param_5,
                PrimInfoT *param_6,_lambda_embree__PrimRef_const___1_ *param_7,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___1_
                *param_8,_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___1_
                         *param_9,ulong param_10)

{
  undefined8 uVar1;
  float *pfVar2;
  int *piVar3;
  uint *puVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  bool bVar13;
  bool bVar14;
  float fVar15;
  float fVar16;
  uint uVar17;
  uint uVar18;
  uint uVar19;
  uint uVar20;
  undefined8 *puVar21;
  long *plVar22;
  PrimRef *pPVar23;
  PrimRef *pPVar24;
  int iVar25;
  undefined1 (*pauVar26) [16];
  long *plVar27;
  long *plVar28;
  undefined8 *puVar29;
  long lVar30;
  long lVar31;
  long lVar32;
  long lVar33;
  ulong uVar34;
  ulong uVar35;
  long lVar36;
  PrimRef *pPVar37;
  long in_FS_OFFSET;
  uint uVar38;
  uint uVar42;
  uint uVar43;
  undefined1 auVar39 [16];
  uint uVar44;
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  uint uVar45;
  int iVar46;
  uint uVar49;
  int iVar50;
  uint uVar51;
  int iVar52;
  uint uVar53;
  int iVar54;
  undefined1 auVar47 [16];
  undefined1 auVar48 [16];
  float fVar55;
  uint uVar56;
  float fVar57;
  uint uVar58;
  float fVar59;
  uint uVar60;
  float fVar61;
  uint uVar62;
  float fVar63;
  float fVar64;
  float fVar65;
  float fVar66;
  float fVar67;
  float fVar68;
  float fVar69;
  float fVar70;
  long local_98;
  long local_90;
  long local_88;
  long *local_80;
  long *local_78;
  long *plStack_70;
  long *local_68;
  undefined8 *puStack_60;
  long *local_58;
  long *local_50;
  long local_40;
  
  uVar20 = _UNK_00122f7c;
  uVar19 = _UNK_00122f78;
  uVar18 = _UNK_00122f74;
  uVar17 = __LC10;
  fVar16 = _LC8;
  fVar15 = _LC5;
  uVar34 = param_3 - param_2;
  pPVar37 = param_1 + param_2 * 0x20;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (uVar34 < 0x80) {
    pPVar23 = param_1 + param_3 * 0x20 + -0x20;
    for (; pPVar37 <= pPVar23; pPVar37 = pPVar37 + 0x20) {
      auVar39 = *(undefined1 (*) [16])pPVar37;
      pfVar2 = *(float **)param_7;
      auVar40 = *(undefined1 (*) [16])(pPVar37 + 0x10);
      fVar63 = *pfVar2;
      fVar64 = pfVar2[1];
      fVar65 = pfVar2[2];
      fVar66 = pfVar2[3];
      fVar55 = pfVar2[4];
      fVar57 = pfVar2[5];
      fVar59 = pfVar2[6];
      fVar61 = pfVar2[7];
      piVar3 = *(int **)(param_7 + 8);
      fVar67 = auVar40._0_4_ + auVar39._0_4_;
      fVar68 = auVar40._4_4_ + auVar39._4_4_;
      fVar69 = auVar40._8_4_ + auVar39._8_4_;
      fVar70 = auVar40._12_4_ + auVar39._12_4_;
      uVar38 = (uint)((fVar67 * fVar16 - fVar63) * fVar55 + fVar15);
      uVar42 = (uint)((fVar68 * fVar16 - fVar64) * fVar57 + fVar15);
      uVar43 = (uint)((fVar69 * fVar16 - fVar65) * fVar59 + fVar15);
      uVar44 = (uint)((fVar70 * fVar16 - fVar66) * fVar61 + fVar15);
      uVar45 = -(uint)((int)uVar38 < (int)uVar17);
      uVar49 = -(uint)((int)uVar42 < (int)uVar18);
      uVar51 = -(uint)((int)uVar43 < (int)uVar19);
      uVar53 = -(uint)((int)uVar44 < (int)uVar20);
      iVar46 = *piVar3;
      iVar50 = piVar3[1];
      iVar52 = piVar3[2];
      iVar54 = piVar3[3];
      puVar4 = *(uint **)(param_7 + 0x10);
      uVar45 = uVar38 & uVar45 | ~uVar45 & uVar17;
      uVar49 = uVar42 & uVar49 | ~uVar49 & uVar18;
      uVar51 = uVar43 & uVar51 | ~uVar51 & uVar19;
      uVar53 = uVar44 & uVar53 | ~uVar53 & uVar20;
      uVar38 = *puVar4;
      uVar42 = puVar4[1];
      uVar43 = puVar4[2];
      uVar44 = puVar4[3];
      auVar48._0_4_ = -(uint)((int)(~-(uint)((int)uVar45 < 0) & uVar45) < iVar46) & uVar38;
      auVar48._4_4_ = -(uint)((int)(~-(uint)((int)uVar49 < 0) & uVar49) < iVar50) & uVar42;
      auVar48._8_4_ = -(uint)((int)(~-(uint)((int)uVar51 < 0) & uVar51) < iVar52) & uVar43;
      auVar48._12_4_ = -(uint)((int)(~-(uint)((int)uVar53 < 0) & uVar53) < iVar54) & uVar44;
      iVar25 = movmskps((int)puVar4,auVar48);
      pPVar24 = pPVar23;
      if (iVar25 == 0) {
        while( true ) {
          auVar39 = *(undefined1 (*) [16])(pPVar24 + 0x10);
          auVar40 = *(undefined1 (*) [16])pPVar24;
          pPVar23 = pPVar24 + -0x20;
          fVar67 = auVar39._0_4_ + auVar40._0_4_;
          fVar68 = auVar39._4_4_ + auVar40._4_4_;
          fVar69 = auVar39._8_4_ + auVar40._8_4_;
          fVar70 = auVar39._12_4_ + auVar40._12_4_;
          uVar45 = (uint)((fVar67 * fVar16 - fVar63) * fVar55 + fVar15);
          uVar49 = (uint)((fVar68 * fVar16 - fVar64) * fVar57 + fVar15);
          uVar51 = (uint)((fVar69 * fVar16 - fVar65) * fVar59 + fVar15);
          uVar53 = (uint)((fVar70 * fVar16 - fVar66) * fVar61 + fVar15);
          uVar56 = -(uint)((int)uVar45 < (int)uVar17);
          uVar58 = -(uint)((int)uVar49 < (int)uVar18);
          uVar60 = -(uint)((int)uVar51 < (int)uVar19);
          uVar62 = -(uint)((int)uVar53 < (int)uVar20);
          uVar45 = uVar45 & uVar56 | ~uVar56 & uVar17;
          uVar49 = uVar49 & uVar58 | ~uVar58 & uVar18;
          uVar51 = uVar51 & uVar60 | ~uVar60 & uVar19;
          uVar53 = uVar53 & uVar62 | ~uVar62 & uVar20;
          auVar47._0_4_ = -(uint)((int)(~-(uint)((int)uVar45 < 0) & uVar45) < iVar46) & uVar38;
          auVar47._4_4_ = -(uint)((int)(~-(uint)((int)uVar49 < 0) & uVar49) < iVar50) & uVar42;
          auVar47._8_4_ = -(uint)((int)(~-(uint)((int)uVar51 < 0) & uVar51) < iVar52) & uVar43;
          auVar47._12_4_ = -(uint)((int)(~-(uint)((int)uVar53 < 0) & uVar53) < iVar54) & uVar44;
          uVar38 = movmskps((int)param_8,auVar47);
          param_8 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___1_
                     *)(ulong)uVar38;
          if (uVar38 != 0) break;
          *(ulong *)(param_6 + 0x48) =
               *(long *)(param_6 + 0x48) + (ulong)(*(uint *)(pPVar24 + 0xc) >> 0x1b);
          auVar40 = minps(*(undefined1 (*) [16])param_6,auVar40);
          *(undefined1 (*) [16])param_6 = auVar40;
          auVar39 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar39);
          *(undefined1 (*) [16])(param_6 + 0x10) = auVar39;
          auVar7._4_4_ = fVar68;
          auVar7._0_4_ = fVar67;
          auVar7._8_4_ = fVar69;
          auVar7._12_4_ = fVar70;
          auVar39 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar7);
          *(undefined1 (*) [16])(param_6 + 0x20) = auVar39;
          auVar8._4_4_ = fVar68;
          auVar8._0_4_ = fVar67;
          auVar8._8_4_ = fVar69;
          auVar8._12_4_ = fVar70;
          auVar39 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar8);
          *(undefined1 (*) [16])(param_6 + 0x30) = auVar39;
          if (pPVar23 < pPVar37) goto LAB_0010a292;
          pfVar2 = *(float **)param_7;
          fVar63 = *pfVar2;
          fVar64 = pfVar2[1];
          fVar65 = pfVar2[2];
          fVar66 = pfVar2[3];
          fVar55 = pfVar2[4];
          fVar57 = pfVar2[5];
          fVar59 = pfVar2[6];
          fVar61 = pfVar2[7];
          piVar3 = *(int **)(param_7 + 8);
          iVar46 = *piVar3;
          iVar50 = piVar3[1];
          iVar52 = piVar3[2];
          iVar54 = piVar3[3];
          puVar4 = *(uint **)(param_7 + 0x10);
          uVar38 = *puVar4;
          uVar42 = puVar4[1];
          uVar43 = puVar4[2];
          uVar44 = puVar4[3];
          pPVar24 = pPVar23;
        }
        *(ulong *)(param_5 + 0x48) =
             *(long *)(param_5 + 0x48) + (ulong)(*(uint *)(pPVar24 + 0xc) >> 0x1b);
        auVar40 = minps(*(undefined1 (*) [16])param_5,auVar40);
        *(undefined1 (*) [16])param_5 = auVar40;
        auVar39 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar39);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar39;
        auVar39._4_4_ = fVar68;
        auVar39._0_4_ = fVar67;
        auVar39._8_4_ = fVar69;
        auVar39._12_4_ = fVar70;
        auVar39 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar39);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar39;
        auVar40._4_4_ = fVar68;
        auVar40._0_4_ = fVar67;
        auVar40._8_4_ = fVar69;
        auVar40._12_4_ = fVar70;
        auVar39 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar40);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar39;
        auVar39 = *(undefined1 (*) [16])pPVar37;
        auVar40 = *(undefined1 (*) [16])(pPVar37 + 0x10);
        auVar48 = minps(*(undefined1 (*) [16])param_6,auVar39);
        *(ulong *)(param_6 + 0x48) =
             *(long *)(param_6 + 0x48) + (ulong)(*(uint *)(pPVar37 + 0xc) >> 0x1b);
        *(undefined1 (*) [16])param_6 = auVar48;
        auVar48 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar40);
        auVar41._0_4_ = auVar40._0_4_ + auVar39._0_4_;
        auVar41._4_4_ = auVar40._4_4_ + auVar39._4_4_;
        auVar41._8_4_ = auVar40._8_4_ + auVar39._8_4_;
        auVar41._12_4_ = auVar40._12_4_ + auVar39._12_4_;
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar48;
        auVar39 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar41);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar39;
        auVar39 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar41);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar39;
        uVar1 = *(undefined8 *)(pPVar24 + 8);
        uVar9 = *(undefined8 *)pPVar37;
        uVar10 = *(undefined8 *)(pPVar37 + 8);
        uVar11 = *(undefined8 *)(pPVar37 + 0x10);
        uVar12 = *(undefined8 *)(pPVar37 + 0x18);
        *(undefined8 *)pPVar37 = *(undefined8 *)pPVar24;
        *(undefined8 *)(pPVar37 + 8) = uVar1;
        uVar1 = *(undefined8 *)(pPVar24 + 0x18);
        *(undefined8 *)(pPVar37 + 0x10) = *(undefined8 *)(pPVar24 + 0x10);
        *(undefined8 *)(pPVar37 + 0x18) = uVar1;
        *(undefined8 *)pPVar24 = uVar9;
        *(undefined8 *)(pPVar24 + 8) = uVar10;
        *(undefined8 *)(pPVar24 + 0x10) = uVar11;
        *(undefined8 *)(pPVar24 + 0x18) = uVar12;
      }
      else {
        auVar39 = minps(*(undefined1 (*) [16])param_5,auVar39);
        *(ulong *)(param_5 + 0x48) =
             *(long *)(param_5 + 0x48) + (ulong)(*(uint *)(pPVar37 + 0xc) >> 0x1b);
        *(undefined1 (*) [16])param_5 = auVar39;
        auVar39 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar40);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar39;
        auVar5._4_4_ = fVar68;
        auVar5._0_4_ = fVar67;
        auVar5._8_4_ = fVar69;
        auVar5._12_4_ = fVar70;
        auVar39 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar5);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar39;
        auVar6._4_4_ = fVar68;
        auVar6._0_4_ = fVar67;
        auVar6._8_4_ = fVar69;
        auVar6._12_4_ = fVar70;
        auVar39 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar6);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar39;
      }
    }
LAB_0010a292:
    uVar34 = (long)pPVar37 - (long)param_1 >> 5;
    goto LAB_00109e7d;
  }
  puVar21 = (undefined8 *)embree::alignedMalloc(0x34c0,0x40);
  puVar21[1] = uVar34;
  puVar21[4] = param_9;
  uVar35 = uVar34 + 0x7f >> 7;
  *puVar21 = pPVar37;
  puVar21[2] = param_7;
  puVar21[3] = param_8;
  puVar21[5] = param_4;
  uVar34 = embree::TaskScheduler::threadCount();
  if (0x40 < uVar35) {
    uVar35 = 0x40;
  }
  if (uVar35 <= uVar34) {
    uVar34 = uVar35;
  }
  puVar21[6] = uVar34;
  local_78 = puVar21;
  if (uVar34 == 0) {
    puVar21[0x50] = 0;
    puVar21[8] = puVar21[1];
LAB_00109e5d:
    plVar27 = (long *)puVar21[0x50];
  }
  else {
    local_80 = (long *)0x0;
    TaskScheduler::
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (0,uVar34,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_78,
               (TaskGroupContext *)&local_80);
    embree::TaskScheduler::wait();
    if (local_80 != (long *)0x0) {
      local_68 = local_80;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_68);
    }
    lVar30 = puVar21[6];
    uVar1 = puVar21[1];
    puVar21[lVar30 + 0x50] = 0;
    puVar21[lVar30 + 8] = uVar1;
    if (lVar30 == 0) goto LAB_00109e5d;
    uVar34 = 0;
    pauVar26 = (undefined1 (*) [16])(puVar21 + 0x198);
    do {
      auVar39 = minps(*(undefined1 (*) [16])param_5,*pauVar26);
      uVar34 = uVar34 + 1;
      *(undefined1 (*) [16])param_5 = auVar39;
      auVar39 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),pauVar26[1]);
      *(undefined1 (*) [16])(param_5 + 0x10) = auVar39;
      auVar39 = minps(*(undefined1 (*) [16])(param_5 + 0x20),pauVar26[2]);
      *(undefined1 (*) [16])(param_5 + 0x20) = auVar39;
      auVar39 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),pauVar26[3]);
      *(undefined1 (*) [16])(param_5 + 0x30) = auVar39;
      *(long *)(param_5 + 0x40) = *(long *)(param_5 + 0x40) + *(long *)pauVar26[4];
      *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + *(long *)(pauVar26[4] + 8);
      auVar39 = minps(*(undefined1 (*) [16])param_6,pauVar26[0x140]);
      *(undefined1 (*) [16])param_6 = auVar39;
      auVar39 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),pauVar26[0x141]);
      *(undefined1 (*) [16])(param_6 + 0x10) = auVar39;
      auVar39 = minps(*(undefined1 (*) [16])(param_6 + 0x20),pauVar26[0x142]);
      *(undefined1 (*) [16])(param_6 + 0x20) = auVar39;
      auVar39 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),pauVar26[0x143]);
      *(undefined1 (*) [16])(param_6 + 0x30) = auVar39;
      *(long *)(param_6 + 0x40) = *(long *)(param_6 + 0x40) + *(long *)pauVar26[0x144];
      *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + *(long *)(pauVar26[0x144] + 8);
      uVar35 = puVar21[6];
      pauVar26 = pauVar26 + 5;
    } while (uVar34 < uVar35);
    plVar27 = (long *)puVar21[0x50];
    plVar28 = plVar27;
    if (uVar35 < 2) {
      puVar29 = (undefined8 *)puVar21[1];
      local_98 = 0;
      local_90 = 0;
      local_88 = 0;
      if (uVar35 != 0) goto LAB_0010a02e;
    }
    else {
      plVar22 = puVar21 + 0x51;
      do {
        plVar28 = (long *)((long)plVar28 + *plVar22);
        plVar22 = plVar22 + 1;
      } while (puVar21 + uVar35 + 0x50 != plVar22);
      puVar29 = (undefined8 *)puVar21[1];
LAB_0010a02e:
      local_88 = 0;
      local_90 = 0;
      local_98 = 0;
      bVar14 = false;
      bVar13 = false;
      lVar36 = 0;
      plVar22 = puVar21 + 8;
      lVar30 = 0;
      lVar32 = 0;
      while( true ) {
        local_68 = (long *)*plVar22;
        puStack_60 = (undefined8 *)((long)plVar27 + (long)local_68);
        plStack_70 = (long *)plVar22[1];
        if ((long)plVar28 <= plVar22[1]) {
          plStack_70 = plVar28;
        }
        local_78 = (undefined8 *)0x0;
        if (-1 < (long)puStack_60) {
          local_78 = puStack_60;
        }
        if ((long)puVar29 < (long)puStack_60) {
          puStack_60 = puVar29;
        }
        if ((long)local_68 < (long)plVar28) {
          local_68 = plVar28;
        }
        lVar31 = lVar30;
        if ((long)local_78 < (long)plStack_70) {
          bVar14 = true;
          lVar36 = (long)plStack_70 + (lVar36 - (long)local_78);
          lVar31 = lVar30 + 1;
          puVar21[lVar30 * 2 + 0x98] = local_78;
          (puVar21 + lVar30 * 2 + 0x98)[1] = plStack_70;
        }
        lVar33 = lVar32;
        if ((long)local_68 < (long)puStack_60) {
          lVar33 = lVar32 + 1;
          bVar13 = true;
          puVar21[lVar32 * 2 + 0x118] = local_68;
          (puVar21 + lVar32 * 2 + 0x118)[1] = puStack_60;
        }
        if (puVar21 + 8 + uVar35 == plVar22 + 1) break;
        plVar27 = (long *)plVar22[0x49];
        plVar22 = plVar22 + 1;
        lVar30 = lVar31;
        lVar32 = lVar33;
      }
      if (bVar13) {
        local_90 = lVar33;
      }
      plVar27 = plVar28;
      if ((bVar14) && (local_98 = lVar31, local_88 = lVar36, lVar36 != 0)) {
        local_68 = &local_88;
        local_58 = &local_98;
        local_50 = &local_90;
        local_80 = (long *)0x0;
        puStack_60 = puVar21;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,uVar35,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                   (TaskGroupContext *)&local_80);
        embree::TaskScheduler::wait();
        if (local_80 != (long *)0x0) {
          local_78 = local_80;
          std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
          std::rethrow_exception((_lambda_embree__range<unsigned_long>_const___1_ *)&local_78);
        }
      }
    }
  }
  if (puVar21 != (undefined8 *)0x0) {
    embree::alignedFree(puVar21);
  }
  uVar34 = param_2 + (long)plVar27;
LAB_00109e7d:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar34;
}



/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&) [clone .isra.0] */

undefined8 __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::parallel_spatial_split
          (HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
           *this,SpatialBinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  ulong uVar3;
  long lVar4;
  long in_FS_OFFSET;
  ulong in_stack_fffffffffffffed0;
  EmptyTy local_11b;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___1_ local_11a;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___1_
  local_119;
  SpatialBinSplit *local_118;
  undefined4 *local_110;
  undefined8 *local_108;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined4 local_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined8 local_68;
  undefined8 local_60;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  local_118 = param_1 + 0x20;
  uVar1 = *(ulong *)(param_2 + 0x48);
  uVar2 = *(ulong *)(param_2 + 0x40);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = *(undefined4 *)(param_1 + 8);
  local_b8 = 0;
  local_b0 = 0;
  local_68 = 0;
  lVar4 = (long)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f));
  local_e8 = _LC3;
  uStack_e4 = _LC3;
  uStack_e0 = _LC3;
  uStack_dc = _LC3;
  local_c8 = _LC3;
  uStack_c4 = _LC3;
  uStack_c0 = _LC3;
  uStack_bc = _LC3;
  local_48 = (&mm_lookupmask_ps)[lVar4 * 2];
  uStack_40 = *(undefined8 *)(embree::TaskScheduler::thread + lVar4 * 0x10);
  local_98 = _LC3;
  uStack_94 = _LC3;
  uStack_90 = _LC3;
  uStack_8c = _LC3;
  local_78 = _LC3;
  uStack_74 = _LC3;
  uStack_70 = _LC3;
  uStack_6c = _LC3;
  local_60 = 0;
  local_f8 = _LC1;
  uStack_f4 = _LC1;
  uStack_f0 = _LC1;
  uStack_ec = _LC1;
  local_d8 = _LC1;
  uStack_d4 = _LC1;
  uStack_d0 = _LC1;
  uStack_cc = _LC1;
  local_a8 = _LC1;
  uStack_a4 = _LC1;
  uStack_a0 = _LC1;
  uStack_9c = _LC1;
  local_88 = _LC1;
  uStack_84 = _LC1;
  uStack_80 = _LC1;
  uStack_7c = _LC1;
  local_110 = &local_58;
  local_108 = &local_48;
  uStack_54 = local_58;
  uStack_50 = local_58;
  uStack_4c = local_58;
  uVar3 = parallel_partitioning<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_1_>
                    ((PrimRef *)this,uVar2,uVar1,&local_11b,(PrimInfoT *)&local_f8,
                     (PrimInfoT *)&local_a8,(_lambda_embree__PrimRef_const___1_ *)&local_118,
                     &local_11a,&local_119,in_stack_fffffffffffffed0);
  *(ulong *)(param_3 + 0x40) = uVar2;
  *(ulong *)(param_3 + 0x48) = uVar3;
  *(ulong *)param_3 = CONCAT44(uStack_f4,local_f8);
  *(ulong *)(param_3 + 8) = CONCAT44(uStack_ec,uStack_f0);
  *(ulong *)(param_3 + 0x10) = CONCAT44(uStack_e4,local_e8);
  *(ulong *)(param_3 + 0x18) = CONCAT44(uStack_dc,uStack_e0);
  *(ulong *)(param_3 + 0x50) = uVar3;
  *(undefined4 *)(param_3 + 0x20) = local_d8;
  *(undefined4 *)(param_3 + 0x24) = uStack_d4;
  *(undefined4 *)(param_3 + 0x28) = uStack_d0;
  *(undefined4 *)(param_3 + 0x2c) = uStack_cc;
  *(undefined4 *)(param_3 + 0x30) = local_c8;
  *(undefined4 *)(param_3 + 0x34) = uStack_c4;
  *(undefined4 *)(param_3 + 0x38) = uStack_c0;
  *(undefined4 *)(param_3 + 0x3c) = uStack_bc;
  *(ulong *)(param_4 + 0x40) = uVar3;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(ulong *)param_4 = CONCAT44(uStack_a4,local_a8);
  *(ulong *)(param_4 + 8) = CONCAT44(uStack_9c,uStack_a0);
  *(undefined4 *)(param_4 + 0x10) = local_98;
  *(undefined4 *)(param_4 + 0x14) = uStack_94;
  *(undefined4 *)(param_4 + 0x18) = uStack_90;
  *(undefined4 *)(param_4 + 0x1c) = uStack_8c;
  *(undefined4 *)(param_4 + 0x20) = local_88;
  *(undefined4 *)(param_4 + 0x24) = uStack_84;
  *(undefined4 *)(param_4 + 0x28) = uStack_80;
  *(undefined4 *)(param_4 + 0x2c) = uStack_7c;
  *(undefined4 *)(param_4 + 0x30) = local_78;
  *(undefined4 *)(param_4 + 0x34) = uStack_74;
  *(undefined4 *)(param_4 + 0x38) = uStack_70;
  *(undefined4 *)(param_4 + 0x3c) = uStack_6c;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_b0;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#1},emb...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,emb___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long *plVar1;
  long lVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long *plVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  ulong uVar11;
  long *plVar12;
  ulong uVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  ulong uVar17;
  long lVar18;
  undefined8 *puVar19;
  long lVar20;
  undefined8 *puVar21;
  long *plVar22;
  
  uVar14 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar14) {
    uVar11 = *(long *)(this + 8) + uVar14 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar14,uVar11,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar11,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  plVar1 = (long *)(*(undefined8 **)(this + 0x20))[1];
  lVar2 = *(long *)**(undefined8 **)(this + 0x20);
  lVar18 = plVar1[0x98];
  uVar14 = uVar14 * lVar2;
  uVar17 = plVar1[0x99] - lVar18;
  uVar11 = uVar14 / (ulong)plVar1[6];
  uVar15 = uVar11;
  if (uVar11 < uVar17) {
    plVar22 = plVar1 + 0x98;
  }
  else {
    plVar12 = plVar1 + 0x9a;
    do {
      plVar22 = plVar12;
      lVar18 = *plVar22;
      uVar15 = uVar15 - uVar17;
      uVar17 = plVar22[1] - lVar18;
      plVar12 = plVar22 + 2;
    } while (uVar17 <= uVar15);
  }
  lVar20 = plVar1[0x118];
  uVar16 = plVar1[0x119] - lVar20;
  uVar13 = uVar11;
  if (uVar11 < uVar16) {
    plVar12 = plVar1 + 0x118;
  }
  else {
    plVar8 = plVar1 + 0x11a;
    do {
      plVar12 = plVar8;
      lVar20 = *plVar12;
      uVar13 = uVar13 - uVar16;
      uVar16 = plVar12[1] - lVar20;
      plVar8 = plVar12 + 2;
    } while (uVar16 <= uVar13);
  }
  uVar17 = uVar17 - uVar15;
  uVar11 = (lVar2 + uVar14) / (ulong)plVar1[6] - uVar11;
  uVar16 = uVar16 - uVar13;
  puVar19 = (undefined8 *)((lVar18 + uVar15) * 0x20 + *plVar1);
  puVar21 = (undefined8 *)((lVar20 + uVar13) * 0x20 + *plVar1);
  uVar14 = uVar11;
  if (uVar17 <= uVar11) {
    uVar14 = uVar17;
  }
  if (uVar16 < uVar14) {
    uVar14 = uVar16;
  }
  if (uVar11 != 0) {
    do {
      if (uVar16 == 0) {
        uVar16 = plVar12[3] - plVar12[2];
        puVar21 = (undefined8 *)(plVar12[2] * 0x20 + *plVar1);
        uVar14 = uVar16;
        if (uVar11 <= uVar16) {
          uVar14 = uVar11;
        }
        if (uVar17 < uVar14) {
          uVar14 = uVar17;
        }
        plVar12 = plVar12 + 2;
      }
      uVar11 = uVar11 - uVar14;
      uVar17 = uVar17 - uVar14;
      uVar16 = uVar16 - uVar14;
      puVar9 = puVar19;
      puVar10 = puVar21;
      uVar15 = uVar14;
      if (uVar14 != 0) {
        do {
          uVar3 = puVar10[1];
          uVar4 = *puVar9;
          uVar5 = puVar9[1];
          uVar6 = puVar9[2];
          uVar7 = puVar9[3];
          *puVar9 = *puVar10;
          puVar9[1] = uVar3;
          uVar3 = puVar10[3];
          puVar9[2] = puVar10[2];
          puVar9[3] = uVar3;
          *puVar10 = uVar4;
          puVar10[1] = uVar5;
          puVar10[2] = uVar6;
          puVar10[3] = uVar7;
          uVar15 = uVar15 - 1;
          puVar9 = puVar9 + 4;
          puVar10 = puVar10 + 4;
        } while (uVar15 != 0);
        puVar21 = puVar21 + uVar14 * 4;
        puVar19 = puVar19 + uVar14 * 4;
        if (uVar11 == 0) {
          return;
        }
      }
      if (uVar17 == 0) {
        uVar17 = plVar22[3] - plVar22[2];
        puVar19 = (undefined8 *)(plVar22[2] * 0x20 + *plVar1);
        uVar14 = uVar16;
        if (uVar11 <= uVar16) {
          uVar14 = uVar11;
        }
        if (uVar17 < uVar14) {
          uVar14 = uVar17;
        }
        plVar22 = plVar22 + 2;
      }
      else {
        uVar14 = 0;
      }
    } while( true );
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0010ad9b) */
/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  long lVar5;
  long lVar6;
  char cVar7;
  long lVar8;
  long lVar9;
  long *plVar10;
  Thread *pTVar11;
  Thread *pTVar12;
  Thread *pTVar13;
  Thread *pTVar14;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = embree::TaskScheduler::thread();
  if (lVar8 == 0) {
    plVar10 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar8 = embree::TaskScheduler::allocThreadIndex();
    pTVar11 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    *(long *)pTVar11 = lVar8;
    pTVar14 = pTVar11 + 0x40;
    pTVar13 = pTVar14;
    do {
      *(undefined4 *)pTVar13 = 0;
      pTVar12 = pTVar13 + 0x80;
      *(undefined4 *)(pTVar13 + 0x40) = 0;
      pTVar13 = pTVar12;
    } while (pTVar12 != pTVar11 + 0x40040);
    *(undefined8 *)(pTVar11 + 0x40040) = 0;
    *(undefined8 *)(pTVar11 + 0x40080) = 0;
    *(undefined8 *)(pTVar11 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar11 + 0xc0100) = 0;
    *(long **)(pTVar11 + 0xc0108) = plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
      if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar10 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar10 + 8))(plVar10);
        }
      }
      else {
        (**(code **)(*plVar10 + 0x18))(plVar10);
      }
    }
    LOCK();
    *(Thread **)(plVar10[2] + lVar8 * 8) = pTVar11;
    UNLOCK();
    local_48 = pTVar11;
    pTVar13 = (Thread *)embree::TaskScheduler::swapThread(pTVar11);
    if (0xfff < *(ulong *)(pTVar11 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar5 = *(long *)(pTVar11 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar11 + 0xc00c0) = uVar3;
    pTVar12 = pTVar11 + uVar3 + 0x40090;
    *(undefined ***)pTVar12 = &PTR_execute_00122e60;
    *(ulong *)(pTVar12 + 8) = param_2;
    *(ulong *)(pTVar12 + 0x10) = param_1;
    *(ulong *)(pTVar12 + 0x18) = param_3;
    *(_lambda_embree__range<unsigned_long>_const___1_ **)(pTVar12 + 0x20) = param_4;
    *(TaskGroupContext **)(pTVar12 + 0x28) = param_5;
    lVar9 = *(long *)(pTVar11 + 0x40080) * 0x40;
    lVar6 = *(long *)(pTVar11 + 0xc0100);
    *(undefined4 *)(pTVar11 + lVar9 + 0x44) = 1;
    pTVar11[lVar9 + 0x48] = (Thread)0x1;
    *(long *)(pTVar11 + lVar9 + 0x68) = lVar5;
    *(Thread **)(pTVar11 + lVar9 + 0x50) = pTVar12;
    *(long *)(pTVar11 + lVar9 + 0x58) = lVar6;
    *(TaskGroupContext **)(pTVar11 + lVar9 + 0x60) = param_5;
    *(ulong *)(pTVar11 + lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar14 + lVar9) == 0) {
      *(undefined4 *)(pTVar14 + lVar9) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar11 + 0x40080) = *(long *)(pTVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar11 + 0x40080) - 1U <= *(ulong *)(pTVar11 + 0x40040)) {
      LOCK();
      *(long *)(pTVar11 + 0x40040) = *(long *)(pTVar11 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar10[6] = plVar10[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar10 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar7 = embree::TaskScheduler::TaskQueue::execute_local(pTVar14,(Task *)pTVar11);
    } while (cVar7 != '\0');
    LOCK();
    plVar10[6] = plVar10[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar8 * 8 + plVar10[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar13);
    pTVar14 = *(Thread **)param_5;
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar14 = local_48;
    }
    LOCK();
    plVar10[5] = plVar10[5] + -1;
    UNLOCK();
    while (plVar10[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar11 != (Thread *)0x0) {
      plVar10 = *(long **)(pTVar11 + 0xc0108);
      if (plVar10 != (long *)0x0) {
        if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar10 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar10 + 8))();
          }
        }
        else {
          (**(code **)(*plVar10 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar11);
        return;
      }
      goto LAB_0010aeb8;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar8 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar5 = *(long *)(lVar8 + 0xc00c0);
    uVar3 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar8 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar8 + 0x40090 + uVar3);
    puVar4[5] = param_5;
    *puVar4 = &PTR_execute_00122e60;
    puVar4[1] = param_2;
    puVar4[2] = param_1;
    puVar4[3] = param_3;
    puVar4[4] = param_4;
    lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar8 + 0x40 + lVar9);
    lVar6 = *(long *)(lVar8 + 0xc0100);
    *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
    *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
    lVar9 = lVar9 + lVar8;
    *(TaskGroupContext **)(lVar9 + 0x60) = param_5;
    *(undefined8 **)(lVar9 + 0x50) = puVar4;
    *(long *)(lVar9 + 0x58) = lVar6;
    *(long *)(lVar9 + 0x68) = lVar5;
    *(ulong *)(lVar9 + 0x70) = param_2 - param_1;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
      LOCK();
      *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010aeb8:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* unsigned long embree::parallel_partitioning<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#1}>(embree::PrimRef*, unsigned long,
   unsigned long, embree::EmptyTy const&, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> > const&)#1} const&, unsigned long) [clone
   .constprop.0] */

ulong embree::
      parallel_partitioning<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_1_>
                (PrimRef *param_1,ulong param_2,ulong param_3,EmptyTy *param_4,PrimInfoT *param_5,
                PrimInfoT *param_6,_lambda_embree__PrimRef_const___1_ *param_7,
                _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___1_
                *param_8,_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___1_
                         *param_9,ulong param_10)

{
  undefined8 uVar1;
  int *piVar2;
  uint *puVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  bool bVar8;
  bool bVar9;
  float fVar10;
  undefined8 *puVar11;
  long *plVar12;
  PrimRef *pPVar13;
  PrimRef *pPVar14;
  int iVar15;
  undefined1 (*pauVar16) [16];
  long *plVar17;
  long *plVar18;
  uint uVar19;
  undefined8 *puVar20;
  long lVar21;
  long lVar22;
  long lVar23;
  long lVar24;
  ulong uVar25;
  ulong uVar26;
  long lVar27;
  PrimRef *pPVar28;
  long in_FS_OFFSET;
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  int iVar32;
  int iVar35;
  int iVar36;
  int iVar37;
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar38 [16];
  uint uVar39;
  uint uVar40;
  uint uVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  float fVar52;
  float fVar53;
  long local_98;
  long local_90;
  long local_88;
  long *local_80;
  long *local_78;
  long *plStack_70;
  long *local_68;
  undefined8 *puStack_60;
  long *local_58;
  long *local_50;
  long local_40;
  
  fVar10 = _LC5;
  uVar25 = param_3 - param_2;
  pPVar28 = param_1 + param_2 * 0x20;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (uVar25 < 0x80) {
    pPVar13 = param_1 + param_3 * 0x20 + -0x20;
    for (; pPVar28 <= pPVar13; pPVar28 = pPVar28 + 0x20) {
      auVar29 = *(undefined1 (*) [16])(pPVar28 + 0x10);
      auVar30 = *(undefined1 (*) [16])pPVar28;
      lVar21 = *(long *)param_7;
      fVar50 = auVar29._0_4_ + auVar30._0_4_;
      fVar51 = auVar29._4_4_ + auVar30._4_4_;
      fVar52 = auVar29._8_4_ + auVar30._8_4_;
      fVar53 = auVar29._12_4_ + auVar30._12_4_;
      fVar46 = *(float *)(lVar21 + 0x20);
      fVar47 = *(float *)(lVar21 + 0x24);
      fVar48 = *(float *)(lVar21 + 0x28);
      fVar49 = *(float *)(lVar21 + 0x2c);
      fVar42 = *(float *)(lVar21 + 0x30);
      fVar43 = *(float *)(lVar21 + 0x34);
      fVar44 = *(float *)(lVar21 + 0x38);
      fVar45 = *(float *)(lVar21 + 0x3c);
      piVar2 = *(int **)(param_7 + 8);
      iVar32 = *piVar2;
      iVar35 = piVar2[1];
      iVar36 = piVar2[2];
      iVar37 = piVar2[3];
      puVar3 = *(uint **)(param_7 + 0x10);
      uVar19 = *puVar3;
      uVar39 = puVar3[1];
      uVar40 = puVar3[2];
      uVar41 = puVar3[3];
      auVar34._0_4_ = -(uint)((int)((fVar50 - fVar46) * fVar42 + fVar10) < iVar32) & uVar19;
      auVar34._4_4_ = -(uint)((int)((fVar51 - fVar47) * fVar43 + fVar10) < iVar35) & uVar39;
      auVar34._8_4_ = -(uint)((int)((fVar52 - fVar48) * fVar44 + fVar10) < iVar36) & uVar40;
      auVar34._12_4_ = -(uint)((int)((fVar53 - fVar49) * fVar45 + fVar10) < iVar37) & uVar41;
      iVar15 = movmskps((int)puVar3,auVar34);
      pPVar14 = pPVar13;
      if (iVar15 == 0) {
        while( true ) {
          auVar29 = *(undefined1 (*) [16])(pPVar14 + 0x10);
          auVar30 = *(undefined1 (*) [16])pPVar14;
          pPVar13 = pPVar14 + -0x20;
          auVar38._0_4_ = auVar29._0_4_ + auVar30._0_4_;
          auVar38._4_4_ = auVar29._4_4_ + auVar30._4_4_;
          auVar38._8_4_ = auVar29._8_4_ + auVar30._8_4_;
          auVar38._12_4_ = auVar29._12_4_ + auVar30._12_4_;
          auVar33._0_4_ =
               -(uint)((int)((auVar38._0_4_ - fVar46) * fVar42 + fVar10) < iVar32) & uVar19;
          auVar33._4_4_ =
               -(uint)((int)((auVar38._4_4_ - fVar47) * fVar43 + fVar10) < iVar35) & uVar39;
          auVar33._8_4_ =
               -(uint)((int)((auVar38._8_4_ - fVar48) * fVar44 + fVar10) < iVar36) & uVar40;
          auVar33._12_4_ =
               -(uint)((int)((auVar38._12_4_ - fVar49) * fVar45 + fVar10) < iVar37) & uVar41;
          uVar19 = movmskps((int)param_8,auVar33);
          param_8 = (_lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___1_
                     *)(ulong)uVar19;
          if (uVar19 != 0) break;
          *(ulong *)(param_6 + 0x48) =
               *(long *)(param_6 + 0x48) + (ulong)(*(uint *)(pPVar14 + 0xc) >> 0x1b);
          auVar30 = minps(*(undefined1 (*) [16])param_6,auVar30);
          *(undefined1 (*) [16])param_6 = auVar30;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar29);
          *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
          auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
          if (pPVar13 < pPVar28) goto LAB_0010b391;
          lVar21 = *(long *)param_7;
          fVar46 = *(float *)(lVar21 + 0x20);
          fVar47 = *(float *)(lVar21 + 0x24);
          fVar48 = *(float *)(lVar21 + 0x28);
          fVar49 = *(float *)(lVar21 + 0x2c);
          fVar42 = *(float *)(lVar21 + 0x30);
          fVar43 = *(float *)(lVar21 + 0x34);
          fVar44 = *(float *)(lVar21 + 0x38);
          fVar45 = *(float *)(lVar21 + 0x3c);
          piVar2 = *(int **)(param_7 + 8);
          iVar32 = *piVar2;
          iVar35 = piVar2[1];
          iVar36 = piVar2[2];
          iVar37 = piVar2[3];
          puVar3 = *(uint **)(param_7 + 0x10);
          uVar19 = *puVar3;
          uVar39 = puVar3[1];
          uVar40 = puVar3[2];
          uVar41 = puVar3[3];
          pPVar14 = pPVar13;
        }
        *(ulong *)(param_5 + 0x48) =
             *(long *)(param_5 + 0x48) + (ulong)(*(uint *)(pPVar14 + 0xc) >> 0x1b);
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        auVar29 = *(undefined1 (*) [16])pPVar28;
        auVar30 = *(undefined1 (*) [16])(pPVar28 + 0x10);
        auVar34 = minps(*(undefined1 (*) [16])param_6,auVar29);
        *(ulong *)(param_6 + 0x48) =
             *(long *)(param_6 + 0x48) + (ulong)(*(uint *)(pPVar28 + 0xc) >> 0x1b);
        *(undefined1 (*) [16])param_6 = auVar34;
        auVar34 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar30);
        auVar31._0_4_ = auVar30._0_4_ + auVar29._0_4_;
        auVar31._4_4_ = auVar30._4_4_ + auVar29._4_4_;
        auVar31._8_4_ = auVar30._8_4_ + auVar29._8_4_;
        auVar31._12_4_ = auVar30._12_4_ + auVar29._12_4_;
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar34;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        uVar1 = *(undefined8 *)(pPVar14 + 8);
        uVar4 = *(undefined8 *)pPVar28;
        uVar5 = *(undefined8 *)(pPVar28 + 8);
        uVar6 = *(undefined8 *)(pPVar28 + 0x10);
        uVar7 = *(undefined8 *)(pPVar28 + 0x18);
        *(undefined8 *)pPVar28 = *(undefined8 *)pPVar14;
        *(undefined8 *)(pPVar28 + 8) = uVar1;
        uVar1 = *(undefined8 *)(pPVar14 + 0x18);
        *(undefined8 *)(pPVar28 + 0x10) = *(undefined8 *)(pPVar14 + 0x10);
        *(undefined8 *)(pPVar28 + 0x18) = uVar1;
        *(undefined8 *)pPVar14 = uVar4;
        *(undefined8 *)(pPVar14 + 8) = uVar5;
        *(undefined8 *)(pPVar14 + 0x10) = uVar6;
        *(undefined8 *)(pPVar14 + 0x18) = uVar7;
      }
      else {
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(ulong *)(param_5 + 0x48) =
             *(long *)(param_5 + 0x48) + (ulong)(*(uint *)(pPVar28 + 0xc) >> 0x1b);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29._4_4_ = fVar51;
        auVar29._0_4_ = fVar50;
        auVar29._8_4_ = fVar52;
        auVar29._12_4_ = fVar53;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar30._4_4_ = fVar51;
        auVar30._0_4_ = fVar50;
        auVar30._8_4_ = fVar52;
        auVar30._12_4_ = fVar53;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar30);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
      }
    }
LAB_0010b391:
    uVar25 = (long)pPVar28 - (long)param_1 >> 5;
    goto LAB_0010afcd;
  }
  puVar11 = (undefined8 *)embree::alignedMalloc(0x34c0,0x40);
  puVar11[1] = uVar25;
  puVar11[4] = param_9;
  uVar26 = uVar25 + 0x7f >> 7;
  *puVar11 = pPVar28;
  puVar11[2] = param_7;
  puVar11[3] = param_8;
  puVar11[5] = param_4;
  uVar25 = embree::TaskScheduler::threadCount();
  if (0x40 < uVar26) {
    uVar26 = 0x40;
  }
  if (uVar26 <= uVar25) {
    uVar25 = uVar26;
  }
  puVar11[6] = uVar25;
  local_78 = puVar11;
  if (uVar25 == 0) {
    puVar11[0x50] = 0;
    puVar11[8] = puVar11[1];
LAB_0010afad:
    plVar17 = (long *)puVar11[0x50];
  }
  else {
    local_80 = (long *)0x0;
    TaskScheduler::
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (0,uVar25,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_78,
               (TaskGroupContext *)&local_80);
    embree::TaskScheduler::wait();
    if (local_80 != (long *)0x0) {
      local_68 = local_80;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_68);
    }
    lVar21 = puVar11[6];
    uVar1 = puVar11[1];
    puVar11[lVar21 + 0x50] = 0;
    puVar11[lVar21 + 8] = uVar1;
    if (lVar21 == 0) goto LAB_0010afad;
    uVar25 = 0;
    pauVar16 = (undefined1 (*) [16])(puVar11 + 0x198);
    do {
      auVar29 = minps(*(undefined1 (*) [16])param_5,*pauVar16);
      uVar25 = uVar25 + 1;
      *(undefined1 (*) [16])param_5 = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),pauVar16[1]);
      *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
      auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),pauVar16[2]);
      *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),pauVar16[3]);
      *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
      *(long *)(param_5 + 0x40) = *(long *)(param_5 + 0x40) + *(long *)pauVar16[4];
      *(long *)(param_5 + 0x48) = *(long *)(param_5 + 0x48) + *(long *)(pauVar16[4] + 8);
      auVar29 = minps(*(undefined1 (*) [16])param_6,pauVar16[0x140]);
      *(undefined1 (*) [16])param_6 = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),pauVar16[0x141]);
      *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
      auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),pauVar16[0x142]);
      *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),pauVar16[0x143]);
      *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
      *(long *)(param_6 + 0x40) = *(long *)(param_6 + 0x40) + *(long *)pauVar16[0x144];
      *(long *)(param_6 + 0x48) = *(long *)(param_6 + 0x48) + *(long *)(pauVar16[0x144] + 8);
      uVar26 = puVar11[6];
      pauVar16 = pauVar16 + 5;
    } while (uVar25 < uVar26);
    plVar17 = (long *)puVar11[0x50];
    plVar18 = plVar17;
    if (uVar26 < 2) {
      puVar20 = (undefined8 *)puVar11[1];
      local_98 = 0;
      local_90 = 0;
      local_88 = 0;
      if (uVar26 != 0) goto LAB_0010b17e;
    }
    else {
      plVar12 = puVar11 + 0x51;
      do {
        plVar18 = (long *)((long)plVar18 + *plVar12);
        plVar12 = plVar12 + 1;
      } while (puVar11 + uVar26 + 0x50 != plVar12);
      puVar20 = (undefined8 *)puVar11[1];
LAB_0010b17e:
      local_88 = 0;
      local_90 = 0;
      local_98 = 0;
      bVar9 = false;
      bVar8 = false;
      lVar27 = 0;
      plVar12 = puVar11 + 8;
      lVar21 = 0;
      lVar23 = 0;
      while( true ) {
        local_68 = (long *)*plVar12;
        puStack_60 = (undefined8 *)((long)plVar17 + (long)local_68);
        plStack_70 = (long *)plVar12[1];
        if ((long)plVar18 <= plVar12[1]) {
          plStack_70 = plVar18;
        }
        local_78 = (undefined8 *)0x0;
        if (-1 < (long)puStack_60) {
          local_78 = puStack_60;
        }
        if ((long)puVar20 < (long)puStack_60) {
          puStack_60 = puVar20;
        }
        if ((long)local_68 < (long)plVar18) {
          local_68 = plVar18;
        }
        lVar22 = lVar21;
        if ((long)local_78 < (long)plStack_70) {
          bVar9 = true;
          lVar27 = (long)plStack_70 + (lVar27 - (long)local_78);
          lVar22 = lVar21 + 1;
          puVar11[lVar21 * 2 + 0x98] = local_78;
          (puVar11 + lVar21 * 2 + 0x98)[1] = plStack_70;
        }
        lVar24 = lVar23;
        if ((long)local_68 < (long)puStack_60) {
          lVar24 = lVar23 + 1;
          bVar8 = true;
          puVar11[lVar23 * 2 + 0x118] = local_68;
          (puVar11 + lVar23 * 2 + 0x118)[1] = puStack_60;
        }
        if (puVar11 + 8 + uVar26 == plVar12 + 1) break;
        plVar17 = (long *)plVar12[0x49];
        plVar12 = plVar12 + 1;
        lVar21 = lVar22;
        lVar23 = lVar24;
      }
      if (bVar8) {
        local_90 = lVar24;
      }
      plVar17 = plVar18;
      if ((bVar9) && (local_98 = lVar22, local_88 = lVar27, lVar27 != 0)) {
        local_68 = &local_88;
        local_58 = &local_98;
        local_50 = &local_90;
        local_80 = (long *)0x0;
        puStack_60 = puVar11;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,uVar26,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                   (TaskGroupContext *)&local_80);
        embree::TaskScheduler::wait();
        if (local_80 != (long *)0x0) {
          local_78 = local_80;
          std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
          std::rethrow_exception((_lambda_embree__range<unsigned_long>_const___1_ *)&local_78);
        }
      }
    }
  }
  if (puVar11 != (undefined8 *)0x0) {
    embree::alignedFree(puVar11);
  }
  uVar25 = param_2 + (long)plVar17;
LAB_0010afcd:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar25;
}



/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&, embree::sse2::PrimInfoExtRange&) [clone .isra.0] */

undefined8 __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::parallel_object_split
          (HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
           *this,BinSplit *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
          PrimInfoExtRange *param_4)

{
  ulong uVar1;
  ulong uVar2;
  ulong uVar3;
  long in_FS_OFFSET;
  ulong in_stack_fffffffffffffed0;
  EmptyTy local_11b;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___1_ local_11a;
  _lambda_embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>__embree__PrimInfoT<embree::BBox<embree::Vec3fa>_>_const___1_
  local_119;
  BinSplit *local_118;
  undefined4 *local_110;
  undefined8 *local_108;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined4 local_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined8 local_68;
  undefined8 local_60;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  uVar1 = *(ulong *)(param_2 + 0x48);
  uVar2 = *(ulong *)(param_2 + 0x40);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = *(undefined4 *)(param_1 + 8);
  local_110 = &local_58;
  local_b8 = 0;
  local_b0 = 0;
  uVar3 = (ulong)(uint)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f));
  local_e8 = _LC3;
  uStack_e4 = _LC3;
  uStack_e0 = _LC3;
  uStack_dc = _LC3;
  local_48 = (&mm_lookupmask_ps)[uVar3 * 2];
  uStack_40 = *(undefined8 *)(embree::TaskScheduler::thread + uVar3 * 0x10);
  local_c8 = _LC3;
  uStack_c4 = _LC3;
  uStack_c0 = _LC3;
  uStack_bc = _LC3;
  local_98 = _LC3;
  uStack_94 = _LC3;
  uStack_90 = _LC3;
  uStack_8c = _LC3;
  local_78 = _LC3;
  uStack_74 = _LC3;
  uStack_70 = _LC3;
  uStack_6c = _LC3;
  local_68 = 0;
  local_60 = 0;
  local_f8 = _LC1;
  uStack_f4 = _LC1;
  uStack_f0 = _LC1;
  uStack_ec = _LC1;
  local_d8 = _LC1;
  uStack_d4 = _LC1;
  uStack_d0 = _LC1;
  uStack_cc = _LC1;
  local_a8 = _LC1;
  uStack_a4 = _LC1;
  uStack_a0 = _LC1;
  uStack_9c = _LC1;
  local_88 = _LC1;
  uStack_84 = _LC1;
  uStack_80 = _LC1;
  uStack_7c = _LC1;
  local_108 = &local_48;
  local_118 = param_1;
  uStack_54 = local_58;
  uStack_50 = local_58;
  uStack_4c = local_58;
  uVar3 = parallel_partitioning<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>const&)_1_>
                    ((PrimRef *)this,uVar2,uVar1,&local_11b,(PrimInfoT *)&local_f8,
                     (PrimInfoT *)&local_a8,(_lambda_embree__PrimRef_const___1_ *)&local_118,
                     &local_11a,&local_119,in_stack_fffffffffffffed0);
  *(ulong *)(param_3 + 0x40) = uVar2;
  *(ulong *)(param_3 + 0x48) = uVar3;
  *(ulong *)param_3 = CONCAT44(uStack_f4,local_f8);
  *(ulong *)(param_3 + 8) = CONCAT44(uStack_ec,uStack_f0);
  *(ulong *)(param_3 + 0x10) = CONCAT44(uStack_e4,local_e8);
  *(ulong *)(param_3 + 0x18) = CONCAT44(uStack_dc,uStack_e0);
  *(ulong *)(param_3 + 0x50) = uVar3;
  *(undefined4 *)(param_3 + 0x20) = local_d8;
  *(undefined4 *)(param_3 + 0x24) = uStack_d4;
  *(undefined4 *)(param_3 + 0x28) = uStack_d0;
  *(undefined4 *)(param_3 + 0x2c) = uStack_cc;
  *(undefined4 *)(param_3 + 0x30) = local_c8;
  *(undefined4 *)(param_3 + 0x34) = uStack_c4;
  *(undefined4 *)(param_3 + 0x38) = uStack_c0;
  *(undefined4 *)(param_3 + 0x3c) = uStack_bc;
  *(ulong *)(param_4 + 0x40) = uVar3;
  *(ulong *)(param_4 + 0x48) = uVar1;
  *(ulong *)(param_4 + 0x50) = uVar1;
  *(ulong *)param_4 = CONCAT44(uStack_a4,local_a8);
  *(ulong *)(param_4 + 8) = CONCAT44(uStack_9c,uStack_a0);
  *(undefined4 *)(param_4 + 0x10) = local_98;
  *(undefined4 *)(param_4 + 0x14) = uStack_94;
  *(undefined4 *)(param_4 + 0x18) = uStack_90;
  *(undefined4 *)(param_4 + 0x1c) = uStack_8c;
  *(undefined4 *)(param_4 + 0x20) = local_88;
  *(undefined4 *)(param_4 + 0x24) = uStack_84;
  *(undefined4 *)(param_4 + 0x28) = uStack_80;
  *(undefined4 *)(param_4 + 0x2c) = uStack_7c;
  *(undefined4 *)(param_4 + 0x30) = local_78;
  *(undefined4 *)(param_4 + 0x34) = uStack_74;
  *(undefined4 *)(param_4 + 0x38) = uStack_70;
  *(undefined4 *)(param_4 + 0x3c) = uStack_6c;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_b0;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#1},embree::sse2::Heuri...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::Heuri___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined4 *puVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  ulong uVar5;
  long *plVar6;
  long *plVar7;
  long *plVar8;
  int *piVar9;
  uint *puVar10;
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined8 uVar13;
  undefined1 (*pauVar14) [16];
  long lVar15;
  undefined1 (*pauVar16) [16];
  int iVar17;
  ulong uVar18;
  undefined1 (*pauVar19) [16];
  long lVar20;
  uint uVar21;
  ulong uVar22;
  ulong uVar23;
  long lVar24;
  long lVar25;
  undefined1 auVar26 [16];
  float fVar27;
  float fVar28;
  float fVar29;
  float fVar30;
  undefined4 uVar31;
  undefined4 uVar34;
  undefined4 uVar35;
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined4 uVar36;
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  undefined1 local_58 [16];
  undefined1 local_48 [8];
  undefined8 uStack_40;
  
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar5) {
    uVar22 = *(long *)(this + 8) + uVar5 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,uVar22,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar22,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  plVar6 = *(long **)(this + 0x20);
  plVar7 = (long *)*plVar6;
  auVar39._0_8_ = CONCAT44(_LC3,_LC3);
  auVar39._8_4_ = _LC3;
  auVar39._12_4_ = _LC3;
  auVar41._8_4_ = _LC3;
  auVar41._0_8_ = auVar39._0_8_;
  auVar41._12_4_ = _LC3;
  auVar40._0_8_ = CONCAT44(_LC1,_LC1);
  auVar40._8_4_ = _LC1;
  auVar40._12_4_ = _LC1;
  auVar26._8_4_ = _LC1;
  auVar26._0_8_ = auVar40._0_8_;
  auVar26._12_4_ = _LC1;
  auVar42._8_4_ = _LC1;
  auVar42._0_8_ = auVar40._0_8_;
  auVar42._12_4_ = _LC1;
  lVar15 = *plVar7;
  plVar8 = (long *)plVar7[2];
  lVar25 = 0;
  uVar23 = uVar5 * plVar7[1];
  uVar22 = uVar23 / (ulong)plVar7[6];
  lVar24 = 0;
  pauVar19 = (undefined1 (*) [16])(uVar22 * 0x20 + lVar15);
  pauVar14 = (undefined1 (*) [16])
             (lVar15 + -0x20 + ((plVar7[1] + uVar23) / (ulong)plVar7[6]) * 0x20);
  uVar31 = _LC1;
  uVar34 = _LC1;
  uVar35 = _LC1;
  uVar36 = _LC1;
  local_58 = auVar39;
  _local_48 = auVar39;
  do {
    auVar37 = _local_48;
    if (pauVar14 < pauVar19) {
LAB_0010b893:
      *(ulong *)(*plVar6 + 0x40 + uVar5 * 8) = uVar22;
      *(ulong *)(*plVar6 + 0x280 + uVar5 * 8) = ((long)pauVar19 - lVar15 >> 5) - uVar22;
      lVar15 = uVar5 * 0x50;
      pauVar14 = (undefined1 (*) [16])(*plVar6 + 0xcc0 + lVar15);
      lVar20 = *plVar6 + lVar15;
      pauVar14[2] = auVar26;
      *pauVar14 = auVar42;
      pauVar14[1] = auVar41;
      *(undefined8 *)pauVar14[3] = local_58._0_8_;
      *(undefined8 *)(pauVar14[3] + 8) = local_58._8_8_;
      *(undefined8 *)(lVar20 + 0xd00) = 0;
      *(long *)(lVar20 + 0xd08) = lVar25;
      puVar1 = (undefined4 *)(*plVar6 + 0x20c0 + lVar15);
      lVar15 = lVar15 + *plVar6;
      *puVar1 = uVar31;
      puVar1[1] = uVar34;
      puVar1[2] = uVar35;
      puVar1[3] = uVar36;
      *(undefined1 (*) [8])(puVar1 + 4) = local_48;
      *(undefined8 *)(puVar1 + 6) = uStack_40;
      *(undefined1 (*) [16])(puVar1 + 8) = auVar40;
      *(undefined1 (*) [16])(puVar1 + 0xc) = auVar39;
      *(undefined8 *)(lVar15 + 0x2100) = 0;
      *(long *)(lVar15 + 0x2108) = lVar24;
      return;
    }
    auVar2 = pauVar19[1];
    auVar3 = *pauVar19;
    lVar20 = *plVar8;
    fVar27 = auVar2._0_4_ + auVar3._0_4_;
    fVar28 = auVar2._4_4_ + auVar3._4_4_;
    fVar29 = auVar2._8_4_ + auVar3._8_4_;
    fVar30 = auVar2._12_4_ + auVar3._12_4_;
    piVar9 = (int *)plVar8[1];
    puVar10 = (uint *)plVar8[2];
    auVar32._0_4_ =
         -(uint)((int)((fVar27 - *(float *)(lVar20 + 0x20)) * *(float *)(lVar20 + 0x30) + _LC5) <
                *piVar9) & *puVar10;
    auVar32._4_4_ =
         -(uint)((int)((fVar28 - *(float *)(lVar20 + 0x24)) * *(float *)(lVar20 + 0x34) +
                      _UNK_00122f54) < piVar9[1]) & puVar10[1];
    auVar32._8_4_ =
         -(uint)((int)((fVar29 - *(float *)(lVar20 + 0x28)) * *(float *)(lVar20 + 0x38) +
                      _UNK_00122f58) < piVar9[2]) & puVar10[2];
    auVar32._12_4_ =
         -(uint)((int)((fVar30 - *(float *)(lVar20 + 0x2c)) * *(float *)(lVar20 + 0x3c) +
                      _UNK_00122f5c) < piVar9[3]) & puVar10[3];
    iVar17 = movmskps((int)puVar10,auVar32);
    if (iVar17 == 0) {
      auVar33._4_4_ = uVar34;
      auVar33._0_4_ = uVar31;
      auVar33._8_4_ = uVar35;
      auVar33._12_4_ = uVar36;
      local_48._4_4_ = fVar28;
      local_48._0_4_ = fVar27;
      uStack_40._0_4_ = fVar29;
      uStack_40._4_4_ = fVar30;
      pauVar16 = pauVar14;
      while( true ) {
        auVar32 = pauVar16[1];
        auVar4 = *pauVar16;
        pauVar14 = pauVar16 + -2;
        fVar27 = auVar32._0_4_ + auVar4._0_4_;
        fVar28 = auVar32._4_4_ + auVar4._4_4_;
        fVar29 = auVar32._8_4_ + auVar4._8_4_;
        fVar30 = auVar32._12_4_ + auVar4._12_4_;
        uVar18 = (ulong)(*(uint *)(*pauVar16 + 0xc) >> 0x1b);
        auVar38._0_4_ =
             -(uint)((int)((fVar27 - *(float *)(lVar20 + 0x20)) * *(float *)(lVar20 + 0x30) + _LC5)
                    < *piVar9) & *puVar10;
        auVar38._4_4_ =
             -(uint)((int)((fVar28 - *(float *)(lVar20 + 0x24)) * *(float *)(lVar20 + 0x34) +
                          _UNK_00122f54) < piVar9[1]) & puVar10[1];
        auVar38._8_4_ =
             -(uint)((int)((fVar29 - *(float *)(lVar20 + 0x28)) * *(float *)(lVar20 + 0x38) +
                          _UNK_00122f58) < piVar9[2]) & puVar10[2];
        auVar38._12_4_ =
             -(uint)((int)((fVar30 - *(float *)(lVar20 + 0x2c)) * *(float *)(lVar20 + 0x3c) +
                          _UNK_00122f5c) < piVar9[3]) & puVar10[3];
        uVar21 = movmskps((int)uVar23,auVar38);
        uVar23 = (ulong)uVar21;
        if (uVar21 != 0) break;
        auVar33 = minps(auVar33,auVar4);
        auVar37 = maxps(auVar37,auVar32);
        lVar24 = lVar24 + uVar18;
        auVar4._4_4_ = fVar28;
        auVar4._0_4_ = fVar27;
        auVar4._8_4_ = fVar29;
        auVar4._12_4_ = fVar30;
        auVar40 = minps(auVar40,auVar4);
        auVar12._4_4_ = fVar28;
        auVar12._0_4_ = fVar27;
        auVar12._8_4_ = fVar29;
        auVar12._12_4_ = fVar30;
        auVar39 = maxps(auVar39,auVar12);
        pauVar16 = pauVar14;
        if (pauVar14 < pauVar19) {
          uVar31 = auVar33._0_4_;
          uVar34 = auVar33._4_4_;
          uVar35 = auVar33._8_4_;
          uVar36 = auVar33._12_4_;
          _local_48 = auVar37;
          goto LAB_0010b893;
        }
      }
      uVar21 = *(uint *)(*pauVar19 + 0xc);
      auVar42 = minps(auVar42,auVar4);
      auVar11._4_4_ = fVar28;
      auVar11._0_4_ = fVar27;
      auVar11._8_4_ = fVar29;
      auVar11._12_4_ = fVar30;
      local_58 = maxps(local_58,auVar11);
      auVar38 = maxps(auVar37,auVar2);
      *pauVar19 = auVar4;
      auVar33 = minps(auVar33,auVar3);
      uVar13 = *(undefined8 *)(pauVar16[1] + 8);
      auVar41 = maxps(auVar41,auVar32);
      auVar37._4_4_ = fVar28;
      auVar37._0_4_ = fVar27;
      auVar37._8_4_ = fVar29;
      auVar37._12_4_ = fVar30;
      auVar26 = minps(auVar26,auVar37);
      auVar40 = minps(auVar40,_local_48);
      lVar24 = lVar24 + (ulong)(uVar21 >> 0x1b);
      *(undefined8 *)pauVar19[1] = *(undefined8 *)pauVar16[1];
      *(undefined8 *)(pauVar19[1] + 8) = uVar13;
      auVar39 = maxps(auVar39,_local_48);
      uVar31 = auVar33._0_4_;
      uVar34 = auVar33._4_4_;
      uVar35 = auVar33._8_4_;
      uVar36 = auVar33._12_4_;
      *pauVar16 = auVar3;
      pauVar16[1] = auVar2;
      _local_48 = auVar38;
    }
    else {
      auVar42 = minps(auVar42,auVar3);
      auVar41 = maxps(auVar41,auVar2);
      auVar2._4_4_ = fVar28;
      auVar2._0_4_ = fVar27;
      auVar2._8_4_ = fVar29;
      auVar2._12_4_ = fVar30;
      auVar26 = minps(auVar26,auVar2);
      auVar3._4_4_ = fVar28;
      auVar3._0_4_ = fVar27;
      auVar3._8_4_ = fVar29;
      auVar3._12_4_ = fVar30;
      local_58 = maxps(local_58,auVar3);
      uVar18 = (ulong)(*(uint *)(*pauVar19 + 0xc) >> 0x1b);
    }
    lVar25 = lVar25 + uVar18;
    pauVar19 = pauVar19 + 2;
  } while( true );
}



/* embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >
   embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::range<unsigned long>
   const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&)#1}>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::range<unsigned long>
   const&)#1} const&,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> > const&)#1} const&) [clone .constprop.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::_lambda(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&)_1_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,BinInfoT_conflict *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _lambda_embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const___1_
                *param_7)

{
  BinInfoT_conflict *pBVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  ulong uVar12;
  undefined8 *puVar13;
  undefined1 (*pauVar14) [16];
  undefined8 *puVar15;
  undefined8 *puVar16;
  long lVar17;
  undefined1 (*pauVar18) [16];
  undefined1 (*pauVar19) [16];
  ulong uVar20;
  BinInfoT_conflict *pBVar21;
  undefined8 *puVar22;
  undefined1 (*pauVar23) [16];
  undefined1 (*pauVar24) [16];
  undefined8 *puVar25;
  undefined1 (*pauVar26) [16];
  undefined8 *puVar27;
  undefined1 (*pauVar28) [16];
  long in_FS_OFFSET;
  byte bVar29;
  undefined1 auVar30 [16];
  ulong local_2b18;
  ulong local_2b10;
  ulong local_2b08;
  long local_2b00;
  long local_2af8;
  ulong *local_2af0;
  ulong *local_2ae8;
  ulong *local_2ae0;
  undefined1 (*local_2ad8) [16];
  _lambda_embree__range<unsigned_long>_const___1_ *local_2ad0;
  undefined1 local_2ac0 [96];
  undefined8 local_2a60 [372];
  undefined8 local_1ec0;
  int aiStack_1eb8 [22];
  undefined8 local_1e60 [51];
  undefined8 local_1cc8;
  undefined1 local_1cc0 [7168];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  bVar29 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2b18 = param_4;
  local_2b10 = param_3;
  local_2b08 = param_2;
  uVar12 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2b08) {
    local_2b08 = 0x200;
  }
  if (uVar12 < local_2b08) {
    local_2b08 = uVar12;
  }
  local_b8 = local_2b08;
  if (local_2b08 * 0xe00 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_1cc0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2b08 * 0xe00,0x40);
  }
  local_2af0 = &local_2b10;
  local_2ae8 = &local_2b18;
  local_2ae0 = &local_2b08;
  local_2ad8 = (undefined1 (*) [16])local_1cc0;
  local_2ad0 = param_6;
  if (local_2b08 != 0) {
    local_2b00 = 0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse28BinInfoTILm32ENS_7PrimRefENS_4BBoxINS_6Vec3faEEEEEZNS4_24HeuristicArraySpatialSAHIZNS4_21rtcBuildBVHSpatialSAHEPK17RTCBuildArgumentsEUlRKS6_E_S6_Lm32ELm16EE20parallel_object_findERKNS4_16PrimInfoExtRangeEmRNS4_10SplitInfoTIS9_EEEUlRKNS_5rangeImEEE_ZNSI_20parallel_object_findESL_mSO_EUlRKSA_SV_E_EET0_T_SY_SY_SY_RKSX_RKT1_RKT2_EUlmE_EEvSY_S10_EUlSS_E_EEvSY_SY_SY_S10_PNS0_16TaskGroupContextE_isra_0
              (0,local_2b08,1,&local_2af0,&local_2b00);
    embree::TaskScheduler::wait();
    if (local_2b00 != 0) {
      local_2af8 = local_2b00;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_2af8);
    }
  }
  uVar12 = local_2b08;
  puVar13 = (undefined8 *)(param_1 + 0x60);
  pBVar1 = param_5 + 0xc00;
  do {
    puVar25 = puVar13 + -0xc;
    pBVar21 = param_5;
    do {
      puVar27 = puVar25;
      uVar8 = *(undefined8 *)(pBVar21 + 8);
      *puVar27 = *(undefined8 *)pBVar21;
      puVar27[1] = uVar8;
      uVar8 = *(undefined8 *)(pBVar21 + 0x18);
      puVar27[2] = *(undefined8 *)(pBVar21 + 0x10);
      puVar27[3] = uVar8;
      puVar25 = puVar27 + 4;
      pBVar21 = pBVar21 + 0x20;
    } while (puVar27 + 4 != puVar13);
    param_5 = param_5 + 0x60;
    puVar13 = puVar27 + 0x10;
  } while (param_5 != pBVar1);
  puVar13 = (undefined8 *)memmove((void *)(param_1 + 0xc00),param_5,0x200);
  if (uVar12 != 0) {
    puVar25 = local_2a60;
    puVar27 = (undefined8 *)param_1;
    pauVar28 = local_c0;
    do {
      do {
        puVar15 = puVar25 + -0xc;
        puVar22 = puVar27;
        do {
          uVar8 = *puVar22;
          uVar9 = puVar22[1];
          uVar10 = puVar22[2];
          uVar11 = puVar22[3];
          puVar16 = puVar15 + 4;
          puVar22 = puVar22 + 4;
          *puVar15 = uVar8;
          puVar15[1] = uVar9;
          puVar15[2] = uVar10;
          puVar15[3] = uVar11;
          puVar15 = puVar16;
        } while (puVar25 != puVar16);
        puVar25 = puVar25 + 0xc;
        puVar27 = puVar27 + 0xc;
      } while (local_1e60 != puVar25);
      puVar25 = puVar13;
      pauVar19 = (undefined1 (*) [16])&local_1ec0;
      for (lVar17 = 0x40; lVar17 != 0; lVar17 = lVar17 + -1) {
        *(undefined8 *)*pauVar19 = *puVar25;
        puVar25 = puVar25 + (ulong)bVar29 * -2 + 1;
        pauVar19 = (undefined1 (*) [16])(pauVar19[-(ulong)bVar29] + 8);
      }
      lVar17 = **(long **)param_7;
      pauVar19 = (undefined1 (*) [16])local_2ac0;
      uVar20 = param_1;
      if (lVar17 != 0) {
        pauVar14 = (undefined1 (*) [16])local_2ac0;
        pauVar18 = pauVar28;
        pauVar23 = pauVar28;
        pauVar26 = (undefined1 (*) [16])&local_1ec0;
        do {
          iVar2 = *(int *)(*pauVar26 + 4);
          iVar3 = *(int *)(*pauVar26 + 8);
          iVar4 = *(int *)(*pauVar26 + 0xc);
          pauVar24 = pauVar23 + 1;
          iVar5 = *(int *)(pauVar23[0xc0] + 4);
          iVar6 = *(int *)(pauVar23[0xc0] + 8);
          iVar7 = *(int *)(pauVar23[0xc0] + 0xc);
          *(int *)*pauVar26 = *(int *)*pauVar26 + *(int *)pauVar23[0xc0];
          *(int *)(*pauVar26 + 4) = iVar2 + iVar5;
          *(int *)(*pauVar26 + 8) = iVar3 + iVar6;
          *(int *)(*pauVar26 + 0xc) = iVar4 + iVar7;
          auVar30 = minps(*pauVar14,*pauVar18);
          *pauVar14 = auVar30;
          auVar30 = maxps(pauVar14[1],pauVar18[1]);
          pauVar14[1] = auVar30;
          auVar30 = minps(pauVar14[2],pauVar18[2]);
          pauVar14[2] = auVar30;
          auVar30 = maxps(pauVar14[3],pauVar18[3]);
          pauVar14[3] = auVar30;
          auVar30 = minps(pauVar14[4],pauVar18[4]);
          pauVar14[4] = auVar30;
          auVar30 = maxps(pauVar14[5],pauVar18[5]);
          pauVar14[5] = auVar30;
          pauVar14 = pauVar14 + 6;
          pauVar18 = pauVar18 + 6;
          pauVar23 = pauVar24;
          pauVar26 = pauVar26 + 1;
        } while (pauVar24 != pauVar28 + lVar17);
      }
      do {
        lVar17 = 0;
        do {
          uVar8 = *(undefined8 *)((long)(*pauVar19 + lVar17) + 8);
          uVar9 = *(undefined8 *)(pauVar19[1] + lVar17);
          uVar10 = *(undefined8 *)((long)(pauVar19[1] + lVar17) + 8);
          *(undefined8 *)(uVar20 + lVar17) = *(undefined8 *)(*pauVar19 + lVar17);
          ((undefined8 *)(uVar20 + lVar17))[1] = uVar8;
          puVar25 = (undefined8 *)(uVar20 + 0x10 + lVar17);
          *puVar25 = uVar9;
          puVar25[1] = uVar10;
          lVar17 = lVar17 + 0x20;
        } while (lVar17 != 0x60);
        pauVar19 = pauVar19 + 6;
        uVar20 = uVar20 + 0x60;
      } while (pauVar19 != (undefined1 (*) [16])&local_1ec0);
      pauVar28 = pauVar28 + 0xe0;
      *puVar13 = local_1ec0;
      *(undefined8 *)(param_1 + 0xdf8) = local_1cc8;
      puVar27 = (undefined8 *)(param_1 + 0xc08 & 0xfffffffffffffff8);
      lVar17 = (long)puVar13 - (long)puVar27;
      puVar25 = (undefined8 *)((long)&local_1ec0 - lVar17);
      for (uVar20 = (ulong)((int)lVar17 + 0x200U >> 3); uVar20 != 0; uVar20 = uVar20 - 1) {
        *puVar27 = *puVar25;
        puVar25 = puVar25 + (ulong)bVar29 * -2 + 1;
        puVar27 = puVar27 + (ulong)bVar29 * -2 + 1;
      }
      puVar25 = local_2a60;
      puVar27 = (undefined8 *)param_1;
    } while (local_c0 + uVar12 * 0xe0 != pauVar28);
  }
  if (local_c0 != (undefined1 (*) [16])local_1cc0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange const&, unsigned long,
   embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa> >&) */

PrimInfoExtRange *
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::parallel_object_find(PrimInfoExtRange *param_1,ulong param_2,SplitInfoT *param_3)

{
  ulong uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  long lVar9;
  BinInfoT_conflict *pBVar10;
  long lVar11;
  BinInfoT_conflict *pBVar12;
  undefined1 (*pauVar13) [16];
  ulong in_RCX;
  long lVar14;
  long lVar15;
  BinInfoT_conflict *pBVar16;
  float *pfVar17;
  ulong uVar18;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var19;
  ulong uVar20;
  long *in_R8;
  ulong uVar21;
  long in_FS_OFFSET;
  byte bVar22;
  float fVar23;
  int iVar24;
  uint uVar25;
  int iVar27;
  float fVar28;
  uint uVar29;
  int iVar30;
  float fVar31;
  uint uVar32;
  undefined1 auVar26 [16];
  int iVar33;
  uint uVar34;
  uint uVar35;
  uint uVar37;
  uint uVar38;
  undefined1 auVar36 [16];
  uint uVar39;
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  float fVar43;
  uint uVar44;
  uint uVar45;
  uint uVar46;
  undefined1 auVar47 [16];
  float fVar49;
  float fVar50;
  undefined1 auVar48 [16];
  undefined1 auVar51 [16];
  float fVar52;
  float fVar53;
  float fVar54;
  float fVar55;
  float fVar56;
  uint local_1f70;
  uint uStack_1f6c;
  uint uStack_1f68;
  uint uStack_1f64;
  undefined1 local_1f60 [16];
  undefined1 local_1f50 [16];
  undefined1 local_1f40 [16];
  undefined1 local_1f30 [16];
  undefined1 local_1f20 [16];
  undefined1 local_1f10 [16];
  ulong *local_1ef8;
  ulong local_1ef0;
  ulong *local_1ee8;
  ulong local_1ee0;
  ulong local_1ed8;
  undefined1 local_1ed0 [16];
  undefined1 local_1ec0 [16];
  ulong local_1eb0 [2];
  float local_1ea0;
  float fStack_1e9c;
  float fStack_1e98;
  float fStack_1e94;
  float local_1e90;
  uint uStack_1e8c;
  uint uStack_1e88;
  uint uStack_1e84;
  float local_1e80 [104];
  BinInfoT_conflict aBStack_1ce0 [96];
  BinInfoT_conflict local_1c80 [16];
  undefined1 local_1c70 [3040];
  BinInfoT_conflict local_1090 [4];
  BinInfoT_conflict aBStack_108c [4];
  BinInfoT_conflict aBStack_1088 [4];
  BinInfoT_conflict aBStack_1084 [4];
  BinInfoT_conflict local_1080 [4];
  undefined4 auStack_107c [123];
  _lambda_embree__range<unsigned_long>const___1_ a_Stack_e90 [4];
  int aiStack_e8c [3];
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [4];
  int aiStack_e7c [767];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [568];
  long local_48;
  
  bVar22 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pBVar16 = local_1c80;
  pBVar12 = local_1080;
  do {
    *(float *)(pBVar16 + 0x40) = _LC1;
    *(float *)(pBVar16 + 0x44) = _LC1;
    *(float *)(pBVar16 + 0x48) = _LC1;
    *(float *)(pBVar16 + 0x4c) = _LC1;
    pBVar10 = pBVar16 + 0x60;
    *(undefined4 *)(pBVar16 + 0x50) = _LC3;
    *(undefined4 *)(pBVar16 + 0x54) = _LC3;
    *(undefined4 *)(pBVar16 + 0x58) = _LC3;
    *(undefined4 *)(pBVar16 + 0x5c) = _LC3;
    *(float *)(pBVar16 + 0x20) = _LC1;
    *(float *)(pBVar16 + 0x24) = _LC1;
    *(float *)(pBVar16 + 0x28) = _LC1;
    *(float *)(pBVar16 + 0x2c) = _LC1;
    *(undefined4 *)(pBVar16 + 0x30) = _LC3;
    *(undefined4 *)(pBVar16 + 0x34) = _LC3;
    *(undefined4 *)(pBVar16 + 0x38) = _LC3;
    *(undefined4 *)(pBVar16 + 0x3c) = _LC3;
    *(float *)pBVar16 = _LC1;
    *(float *)(pBVar16 + 4) = _LC1;
    *(float *)(pBVar16 + 8) = _LC1;
    *(float *)(pBVar16 + 0xc) = _LC1;
    *(undefined4 *)(pBVar16 + 0x10) = _LC3;
    *(undefined4 *)(pBVar16 + 0x14) = _LC3;
    *(undefined4 *)(pBVar16 + 0x18) = _LC3;
    *(undefined4 *)(pBVar16 + 0x1c) = _LC3;
    *(undefined1 (*) [16])pBVar12 = (undefined1  [16])0x0;
    pBVar16 = pBVar10;
    pBVar12 = pBVar12 + 0x10;
  } while (local_1080 != pBVar10);
  uVar20 = *(ulong *)(param_3 + 0x48);
  uVar1 = *(ulong *)(param_3 + 0x40);
  fVar23 = (float)(uVar20 - uVar1) * __LC13 + __LC14;
  if (__LC15 <= fVar23) {
    uVar21 = (long)(fVar23 - __LC15) ^ 0x8000000000000000;
  }
  else {
    uVar21 = (ulong)fVar23;
  }
  fVar23 = *(float *)(param_3 + 0x20);
  fVar52 = *(float *)(param_3 + 0x24);
  fVar54 = *(float *)(param_3 + 0x28);
  fVar56 = *(float *)(param_3 + 0x2c);
  auVar26._0_4_ = *(float *)(param_3 + 0x30) - fVar23;
  auVar26._4_4_ = *(float *)(param_3 + 0x34) - fVar52;
  auVar26._8_4_ = *(float *)(param_3 + 0x38) - fVar54;
  auVar26._12_4_ = *(float *)(param_3 + 0x3c) - fVar56;
  if (0x20 < uVar21) {
    uVar21 = 0x20;
  }
  local_1ef8 = local_1eb0;
  uVar18 = (uVar20 - uVar1) + 0x3ff >> 10;
  auVar36._4_4_ = _LC17;
  auVar36._0_4_ = _LC17;
  auVar36._8_4_ = _LC17;
  auVar36._12_4_ = _LC17;
  auVar36 = maxps(auVar36,auVar26);
  auVar42._0_4_ = (float)(long)uVar21 * _LC18;
  auVar42._4_4_ = auVar42._0_4_;
  auVar42._8_4_ = auVar42._0_4_;
  auVar42._12_4_ = auVar42._0_4_;
  auVar26 = divps(auVar42,auVar36);
  fVar43 = (float)(-(uint)(_LC17 < auVar36._0_4_) & auVar26._0_4_);
  uVar44 = -(uint)(_LC17 < auVar36._4_4_) & auVar26._4_4_;
  uVar45 = -(uint)(_LC17 < auVar36._8_4_) & auVar26._8_4_;
  uVar46 = -(uint)(_LC17 < auVar36._12_4_) & auVar26._12_4_;
  local_1ef0 = param_2;
  local_1ee8 = local_1ef8;
  local_1eb0[0] = uVar21;
  local_1ea0 = fVar23;
  fStack_1e9c = fVar52;
  fStack_1e98 = fVar54;
  fStack_1e94 = fVar56;
  local_1e90 = fVar43;
  uStack_1e8c = uVar44;
  uStack_1e88 = uVar45;
  uStack_1e84 = uVar46;
  if (uVar18 == 1) {
    local_1ee0 = uVar1;
    local_1ed8 = uVar20;
    parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)
    ::{lambda(embree::range<unsigned_long>const&)#1}::operator()(local_e80,(range *)&local_1ef0);
    auVar40._4_12_ = _UNK_00122f34;
    auVar40._0_4_ = _LC1;
    auVar41._4_12_ = _UNK_00122f44;
    auVar41._0_4_ = _LC3;
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long,embree::sse2::SplitInfoT<embree::BBox<embree::Vec3fa>>&)::_lambda(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&)_1_>
              ((ulong)local_e80,uVar18,uVar1,uVar20,local_1c80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1ef0,
               (_lambda_embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const___1_
                *)&local_1ef8);
    auVar41._4_12_ = _UNK_00122f44;
    auVar41._0_4_ = _LC3;
    auVar40._4_12_ = _UNK_00122f34;
    auVar40._0_4_ = _LC1;
    uVar21 = local_1eb0[0];
    fVar23 = local_1ea0;
    fVar52 = fStack_1e9c;
    fVar54 = fStack_1e98;
    fVar56 = fStack_1e94;
    fVar43 = local_1e90;
    uVar44 = uStack_1e8c;
    uVar45 = uStack_1e88;
    uVar46 = uStack_1e84;
  }
  pBVar16 = local_1c80;
  p_Var19 = local_e80;
  do {
    lVar11 = 0;
    do {
      uVar6 = *(undefined8 *)(p_Var19 + lVar11 + 8);
      uVar7 = *(undefined8 *)(p_Var19 + lVar11 + 0x10);
      uVar8 = *(undefined8 *)(p_Var19 + lVar11 + 0x10 + 8);
      *(undefined8 *)(pBVar16 + lVar11) = *(undefined8 *)(p_Var19 + lVar11);
      *(undefined8 *)(pBVar16 + lVar11 + 8) = uVar6;
      *(undefined8 *)(pBVar16 + lVar11 + 0x10) = uVar7;
      *(undefined8 *)(pBVar16 + lVar11 + 0x10 + 8) = uVar8;
      lVar11 = lVar11 + 0x20;
    } while (lVar11 != 0x60);
    p_Var19 = p_Var19 + 0x60;
    pBVar16 = pBVar16 + 0x60;
  } while (p_Var19 != local_280);
  pBVar16 = local_1080;
  for (lVar11 = 0x40; lVar11 != 0; lVar11 = lVar11 + -1) {
    *(undefined8 *)pBVar16 = *(undefined8 *)p_Var19;
    p_Var19 = p_Var19 + ((ulong)bVar22 * -2 + 1) * 8;
    pBVar16 = pBVar16 + (ulong)bVar22 * -0x10 + 8;
  }
  if (uVar21 == 1) {
    local_1ed0 = auVar40;
    local_1ec0 = (undefined1  [16])0x0;
  }
  else {
    iVar24 = 0;
    iVar27 = 0;
    iVar30 = 0;
    iVar33 = 0;
    pBVar16 = aBStack_1ce0 + uVar21 * 0x60;
    pfVar17 = &local_1e90 + uVar21 * 4;
    auVar26 = auVar40;
    auVar42 = auVar41;
    auVar36 = auVar40;
    auVar47 = auVar41;
    auVar48 = auVar40;
    auVar51 = auVar41;
    lVar11 = uVar21 * 0x10;
    do {
      lVar14 = lVar11 + -0x10;
      auVar42 = maxps(auVar42,*(undefined1 (*) [16])(pBVar16 + 0x10));
      auVar26 = minps(auVar26,*(undefined1 (*) [16])pBVar16);
      pBVar12 = pBVar16 + -0x60;
      iVar2 = *(int *)(local_1080 + lVar14);
      iVar3 = *(int *)((long)auStack_107c + lVar11 + -0x10);
      iVar4 = *(int *)(local_1090 + lVar11 + 8);
      iVar5 = *(int *)(local_1090 + lVar11 + 0xc);
      auVar47 = maxps(auVar47,*(undefined1 (*) [16])(pBVar16 + 0x30));
      pfVar17[3] = 0.0;
      auVar36 = minps(auVar36,*(undefined1 (*) [16])(pBVar16 + 0x20));
      auVar51 = maxps(auVar51,*(undefined1 (*) [16])(pBVar16 + 0x50));
      iVar24 = iVar2 + iVar24;
      iVar27 = iVar3 + iVar27;
      iVar30 = iVar4 + iVar30;
      iVar33 = iVar5 + iVar33;
      auVar48 = minps(auVar48,*(undefined1 (*) [16])(pBVar16 + 0x40));
      *(int *)(local_e80 + lVar14) = iVar24;
      *(int *)((long)aiStack_e7c + lVar11 + -0x10) = iVar27;
      *(int *)((long)auStack_107c + lVar11 + 500) = iVar30;
      *(int *)((long)auStack_107c + lVar11 + 0x1f8) = iVar33;
      fVar28 = auVar42._4_4_ - auVar26._4_4_;
      fVar31 = auVar42._8_4_ - auVar26._8_4_;
      *pfVar17 = (auVar42._0_4_ - auVar26._0_4_) * (fVar28 + fVar31) + fVar28 * fVar31;
      fVar28 = auVar47._4_4_ - auVar36._4_4_;
      fVar31 = auVar47._8_4_ - auVar36._8_4_;
      pfVar17[1] = (auVar47._0_4_ - auVar36._0_4_) * (fVar28 + fVar31) + fVar28 * fVar31;
      fVar28 = auVar51._4_4_ - auVar48._4_4_;
      fVar31 = auVar51._8_4_ - auVar48._8_4_;
      pfVar17[2] = (auVar51._0_4_ - auVar48._0_4_) * (fVar28 + fVar31) + fVar28 * fVar31;
      pBVar16 = pBVar12;
      pfVar17 = pfVar17 + -4;
      lVar11 = lVar14;
    } while (local_1c80 != pBVar12);
    local_1ed0 = auVar40;
    local_1ec0 = (undefined1  [16])0x0;
    iVar24 = (1 << ((byte)in_RCX & 0x1f)) + -1;
    if (1 < uVar21) {
      lVar11 = 0x10;
      local_1ec0._0_4_ = 0;
      local_1ec0._4_4_ = 0;
      local_1ec0._8_4_ = 0;
      local_1ec0._12_4_ = 0;
      uVar20 = in_RCX & 0xffffffff;
      local_1f70 = __LC21;
      uStack_1f6c = _UNK_00122f84;
      uStack_1f68 = _UNK_00122f88;
      uStack_1f64 = _UNK_00122f8c;
      local_1f10 = (undefined1  [16])0x0;
      auVar26 = auVar41;
      local_1f60 = auVar41;
      local_1f50 = auVar40;
      local_1f40 = auVar41;
      local_1f30 = auVar40;
      local_1f20 = auVar40;
      do {
        local_1f30 = minps(local_1f30,*(undefined1 (*) [16])(pBVar12 + 0x20));
        local_1f40 = maxps(local_1f40,*(undefined1 (*) [16])(pBVar12 + 0x30));
        local_1f60 = maxps(local_1f60,*(undefined1 (*) [16])(pBVar12 + 0x50));
        local_1f20 = minps(local_1f20,*(undefined1 (*) [16])pBVar12);
        local_1f10._0_4_ = local_1f10._0_4_ + *(int *)(local_1090 + lVar11);
        local_1f10._4_4_ = local_1f10._4_4_ + *(int *)(local_1090 + lVar11 + 4);
        local_1f10._8_4_ = local_1f10._8_4_ + *(int *)(local_1090 + lVar11 + 8);
        local_1f10._12_4_ = local_1f10._12_4_ + *(int *)(local_1090 + lVar11 + 0xc);
        fVar49 = local_1f40._4_4_ - local_1f30._4_4_;
        fVar50 = local_1f40._8_4_ - local_1f30._8_4_;
        local_1f50 = minps(local_1f50,*(undefined1 (*) [16])(pBVar12 + 0x40));
        auVar26 = maxps(auVar26,*(undefined1 (*) [16])(pBVar12 + 0x10));
        fVar53 = local_1f60._4_4_ - local_1f50._4_4_;
        fVar55 = local_1f60._8_4_ - local_1f50._8_4_;
        fVar28 = auVar26._4_4_ - local_1f20._4_4_;
        fVar31 = auVar26._8_4_ - local_1f20._8_4_;
        fVar53 = (local_1f60._0_4_ - local_1f50._0_4_) * (fVar53 + fVar55) + fVar53 * fVar55;
        uVar35 = (uint)(local_1f10._0_4_ + iVar24) >> uVar20;
        uVar37 = (uint)(local_1f10._4_4_ + iVar24) >> uVar20;
        uVar38 = (uint)(local_1f10._8_4_ + iVar24) >> uVar20;
        uVar39 = (uint)(local_1f10._12_4_ + iVar24) >> uVar20;
        uVar25 = (uint)(iVar24 + *(int *)(local_e80 + lVar11)) >> uVar20;
        uVar29 = (uint)(iVar24 + *(int *)((long)aiStack_e7c + lVar11)) >> uVar20;
        uVar32 = (uint)(iVar24 + *(int *)((long)aiStack_e7c + lVar11 + 4)) >> uVar20;
        uVar34 = (uint)(iVar24 + *(int *)((long)aiStack_e7c + lVar11 + 8)) >> uVar20;
        pfVar17 = (float *)((long)local_1e80 + lVar11);
        lVar14 = lVar11 + 4;
        lVar15 = lVar11 + 8;
        lVar9 = lVar11 + 0xc;
        lVar11 = lVar11 + 0x10;
        fVar28 = ((float)(int)(uVar35 & _LC24) + (float)((int)uVar35 >> 0x1f & __LC20)) *
                 (fVar31 * fVar28 + (auVar26._0_4_ - local_1f20._0_4_) * (fVar28 + fVar31)) +
                 ((float)(int)(uVar25 & _LC24) + (float)((int)uVar25 >> 0x1f & __LC20)) * *pfVar17;
        fVar31 = ((float)(int)(uVar37 & _UNK_00122f94) +
                 (float)((int)uVar37 >> 0x1f & _UNK_00122fa4)) *
                 ((fVar49 + fVar50) * (local_1f40._0_4_ - local_1f30._0_4_) + fVar49 * fVar50) +
                 ((float)(int)(uVar29 & _UNK_00122f94) +
                 (float)((int)uVar29 >> 0x1f & _UNK_00122fa4)) *
                 *(float *)((long)local_1e80 + lVar14);
        fVar49 = ((float)(int)(uVar38 & _UNK_00122f98) +
                 (float)((int)uVar38 >> 0x1f & _UNK_00122fa8)) * fVar53 +
                 ((float)(int)(uVar32 & _UNK_00122f98) +
                 (float)((int)uVar32 >> 0x1f & _UNK_00122fa8)) *
                 *(float *)((long)local_1e80 + lVar15);
        fVar50 = ((float)(int)(uVar39 & _UNK_00122f9c) +
                 (float)((int)uVar39 >> 0x1f & _UNK_00122fac)) * fVar53 +
                 ((float)(int)(uVar34 & _UNK_00122f9c) +
                 (float)((int)uVar34 >> 0x1f & _UNK_00122fac)) *
                 *(float *)((long)local_1e80 + lVar9);
        uVar25 = -(uint)(fVar28 < local_1ed0._0_4_);
        uVar29 = -(uint)(fVar31 < local_1ed0._4_4_);
        uVar32 = -(uint)(fVar49 < local_1ed0._8_4_);
        uVar34 = -(uint)(fVar50 < local_1ed0._12_4_);
        local_1ec0._0_4_ = local_1f70 & uVar25 | ~uVar25 & local_1ec0._0_4_;
        local_1ec0._4_4_ = uStack_1f6c & uVar29 | ~uVar29 & local_1ec0._4_4_;
        local_1ec0._8_4_ = uStack_1f68 & uVar32 | ~uVar32 & local_1ec0._8_4_;
        local_1ec0._12_4_ = uStack_1f64 & uVar34 | ~uVar34 & local_1ec0._12_4_;
        auVar48._4_4_ = uVar29 & (uint)fVar31;
        auVar48._0_4_ = uVar25 & (uint)fVar28;
        auVar47._0_4_ = ~uVar25 & (uint)local_1ed0._0_4_;
        auVar47._4_4_ = ~uVar29 & (uint)local_1ed0._4_4_;
        auVar47._8_4_ = ~uVar32 & (uint)local_1ed0._8_4_;
        auVar47._12_4_ = ~uVar34 & (uint)local_1ed0._12_4_;
        auVar48._8_4_ = uVar32 & (uint)fVar49;
        auVar48._12_4_ = uVar34 & (uint)fVar50;
        local_1f70 = __LC21 + local_1f70;
        uStack_1f6c = _UNK_00122f84 + uStack_1f6c;
        uStack_1f68 = _UNK_00122f88 + uStack_1f68;
        uStack_1f64 = _UNK_00122f8c + uStack_1f64;
        local_1ed0 = auVar48 | auVar47;
        pBVar12 = pBVar12 + 0x60;
      } while (uVar21 * 0x10 != lVar11);
    }
  }
  lVar11 = 0;
  uVar20 = 0;
  lVar14 = -1;
  fVar28 = _LC1;
  do {
    if ((((&local_1e90)[lVar11] != 0.0) && (*(float *)(local_1ed0 + lVar11 * 4) < fVar28)) &&
       (*(int *)(local_1ec0 + lVar11 * 4) != 0)) {
      lVar14 = (long)(int)lVar11;
      uVar20 = (ulong)*(int *)(local_1ec0 + lVar11 * 4);
      fVar28 = *(float *)(local_1ed0 + lVar11 * 4);
    }
    lVar11 = lVar11 + 1;
  } while (lVar11 != 3);
  iVar24 = (int)lVar14;
  *(int *)(param_1 + 4) = iVar24;
  *(int *)(param_1 + 8) = (int)uVar20;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(ulong *)(param_1 + 0x10) = uVar21;
  *(float *)param_1 = fVar28;
  *(float *)(param_1 + 0x20) = fVar23;
  *(float *)(param_1 + 0x24) = fVar52;
  *(float *)(param_1 + 0x28) = fVar54;
  *(float *)(param_1 + 0x2c) = fVar56;
  *(float *)(param_1 + 0x30) = fVar43;
  *(uint *)(param_1 + 0x34) = uVar44;
  *(uint *)(param_1 + 0x38) = uVar45;
  *(uint *)(param_1 + 0x3c) = uVar46;
  if (iVar24 == -1) {
    *in_R8 = 0;
    in_R8[1] = 0;
    *(undefined1 (*) [16])(in_R8 + 2) = auVar40;
    *(undefined1 (*) [16])(in_R8 + 4) = auVar41;
    *(undefined1 (*) [16])(in_R8 + 6) = auVar40;
    *(undefined1 (*) [16])(in_R8 + 8) = auVar41;
  }
  else {
    lVar11 = 0;
    auVar26 = auVar41;
    auVar42 = auVar40;
    if (uVar20 != 0) {
      lVar15 = (long)iVar24;
      lVar11 = 0;
      pauVar13 = (undefined1 (*) [16])(local_1c70 + lVar15 * 0x20);
      pBVar16 = local_1c80 + lVar15 * 4;
      do {
        pBVar12 = pBVar16 + 0x10;
        auVar42 = minps(auVar42,pauVar13[-1]);
        auVar26 = maxps(auVar26,*pauVar13);
        pauVar13 = pauVar13 + 6;
        lVar11 = lVar11 + (ulong)*(uint *)(pBVar16 + 0xc00);
        pBVar16 = pBVar12;
      } while (local_1c80 + (lVar15 + uVar20 * 4) * 4 != pBVar12);
    }
    if (uVar20 < uVar21) {
      pBVar16 = local_1c80 + (lVar14 + 0x300 + uVar20 * 4) * 4;
      lVar15 = 0;
      pauVar13 = (undefined1 (*) [16])(local_1c70 + (uVar20 * 3 + lVar14) * 0x20);
      do {
        uVar44 = *(uint *)pBVar16;
        pBVar16 = pBVar16 + 0x10;
        auVar40 = minps(auVar40,pauVar13[-1]);
        auVar41 = maxps(auVar41,*pauVar13);
        lVar15 = lVar15 + (ulong)uVar44;
        pauVar13 = pauVar13 + 6;
      } while (local_1080 + (lVar14 + uVar21 * 4) * 4 != pBVar16);
    }
    else {
      lVar15 = 0;
    }
    *in_R8 = lVar11;
    in_R8[1] = lVar15;
    *(undefined1 (*) [16])(in_R8 + 2) = auVar42;
    *(undefined1 (*) [16])(in_R8 + 4) = auVar26;
    *(undefined1 (*) [16])(in_R8 + 6) = auVar40;
    *(undefined1 (*) [16])(in_R8 + 8) = auVar41;
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x0010d26b) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void __thiscall
embree::TaskScheduler::
spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
          (TaskScheduler *this,ulong param_1,ulong param_2,ulong param_3,
          _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  long lVar5;
  long lVar6;
  char cVar7;
  long lVar8;
  long lVar9;
  long *plVar10;
  Thread *pTVar11;
  Thread *pTVar12;
  Thread *pTVar13;
  Thread *pTVar14;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = embree::TaskScheduler::thread();
  if (lVar8 == 0) {
    plVar10 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar8 = embree::TaskScheduler::allocThreadIndex();
    pTVar11 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    *(long *)pTVar11 = lVar8;
    pTVar14 = pTVar11 + 0x40;
    pTVar13 = pTVar14;
    do {
      *(undefined4 *)pTVar13 = 0;
      pTVar12 = pTVar13 + 0x80;
      *(undefined4 *)(pTVar13 + 0x40) = 0;
      pTVar13 = pTVar12;
    } while (pTVar12 != pTVar11 + 0x40040);
    *(undefined8 *)(pTVar11 + 0x40040) = 0;
    *(undefined8 *)(pTVar11 + 0x40080) = 0;
    *(undefined8 *)(pTVar11 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar11 + 0xc0100) = 0;
    *(long **)(pTVar11 + 0xc0108) = plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
      if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar10 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar10 + 8))(plVar10);
        }
      }
      else {
        (**(code **)(*plVar10 + 0x18))(plVar10);
      }
    }
    LOCK();
    *(Thread **)(plVar10[2] + lVar8 * 8) = pTVar11;
    UNLOCK();
    local_48 = pTVar11;
    pTVar13 = (Thread *)embree::TaskScheduler::swapThread(pTVar11);
    if (0xfff < *(ulong *)(pTVar11 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    lVar5 = *(long *)(pTVar11 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    *(ulong *)(pTVar11 + 0xc00c0) = uVar3;
    pTVar12 = pTVar11 + uVar3 + 0x40088;
    *(undefined ***)pTVar12 = &PTR_execute_00122e00;
    *(ulong *)(pTVar12 + 8) = param_1;
    *(ulong *)(pTVar12 + 0x20) = param_3;
    *(TaskScheduler **)(pTVar12 + 0x10) = this;
    *(ulong *)(pTVar12 + 0x18) = param_2;
    *(_lambda_embree__range<unsigned_long>_const___2_ **)(pTVar12 + 0x28) = param_4;
    *(TaskGroupContext **)(pTVar12 + 0x30) = param_5;
    lVar9 = *(long *)(pTVar11 + 0x40080) * 0x40;
    lVar6 = *(long *)(pTVar11 + 0xc0100);
    *(undefined4 *)(pTVar11 + lVar9 + 0x44) = 1;
    pTVar11[lVar9 + 0x48] = (Thread)0x1;
    *(long *)(pTVar11 + lVar9 + 0x68) = lVar5;
    *(Thread **)(pTVar11 + lVar9 + 0x50) = pTVar12;
    *(long *)(pTVar11 + lVar9 + 0x58) = lVar6;
    *(TaskGroupContext **)(pTVar11 + lVar9 + 0x60) = param_5;
    *(ulong *)(pTVar11 + lVar9 + 0x70) = param_1 - (long)this;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar14 + lVar9) == 0) {
      *(undefined4 *)(pTVar14 + lVar9) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar11 + 0x40080) = *(long *)(pTVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar11 + 0x40080) - 1U <= *(ulong *)(pTVar11 + 0x40040)) {
      LOCK();
      *(long *)(pTVar11 + 0x40040) = *(long *)(pTVar11 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar10[6] = plVar10[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar10 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar7 = embree::TaskScheduler::TaskQueue::execute_local(pTVar14,(Task *)pTVar11);
    } while (cVar7 != '\0');
    LOCK();
    plVar10[6] = plVar10[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar10;
    if (plVar10 != (long *)0x0) {
      if (*(code **)(*plVar10 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar10[1] = plVar10[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar10 + 0x10))(plVar10);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar8 * 8 + plVar10[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar13);
    pTVar14 = *(Thread **)param_5;
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar14 = local_48;
    }
    LOCK();
    plVar10[5] = plVar10[5] + -1;
    UNLOCK();
    while (plVar10[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar14 != (Thread *)0x0) {
      local_48 = pTVar14;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar11 != (Thread *)0x0) {
      plVar10 = *(long **)(pTVar11 + 0xc0108);
      if (plVar10 != (long *)0x0) {
        if (*(code **)(*plVar10 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar10 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar10 + 8))();
          }
        }
        else {
          (**(code **)(*plVar10 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar11);
        return;
      }
      goto LAB_0010d388;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar8 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar5 = *(long *)(lVar8 + 0xc00c0);
    uVar3 = lVar5 + 0x38 + (ulong)(-(int)lVar5 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    *(ulong *)(lVar8 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar8 + 0x40088 + uVar3);
    puVar4[6] = param_5;
    *puVar4 = &PTR_execute_00122e00;
    puVar4[1] = param_1;
    puVar4[4] = param_3;
    puVar4[2] = this;
    puVar4[3] = param_2;
    puVar4[5] = param_4;
    lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar8 + 0x40 + lVar9);
    lVar6 = *(long *)(lVar8 + 0xc0100);
    *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
    *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
    lVar9 = lVar9 + lVar8;
    *(TaskGroupContext **)(lVar9 + 0x60) = param_5;
    *(undefined8 **)(lVar9 + 0x50) = puVar4;
    *(long *)(lVar9 + 0x58) = lVar6;
    *(long *)(lVar9 + 0x68) = lVar5;
    *(ulong *)(lVar9 + 0x70) = param_1 - (long)this;
    if (lVar6 != 0) {
      LOCK();
      *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
      LOCK();
      *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010d388:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  TaskScheduler *pTVar1;
  undefined8 uVar2;
  undefined8 *puVar3;
  undefined8 *puVar4;
  TaskScheduler *this_00;
  TaskScheduler *pTVar5;
  
  pTVar1 = *(TaskScheduler **)(this + 8);
  this_00 = *(TaskScheduler **)(this + 0x10);
  if (*(ulong *)(this + 0x18) < (ulong)((long)pTVar1 - (long)this_00)) {
    spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (this_00,(ulong)(pTVar1 + (long)this_00) >> 1,*(ulong *)(this + 0x18),
               *(ulong *)(this + 0x20),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x28),
               *(TaskGroupContext **)(this + 0x30));
    spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
              ((TaskScheduler *)((ulong)(pTVar1 + (long)this_00) >> 1),*(ulong *)(this + 8),
               *(ulong *)(this + 0x18),*(ulong *)(this + 0x20),
               *(_lambda_embree__range<unsigned_long>_const___2_ **)(this + 0x28),
               *(TaskGroupContext **)(this + 0x30));
    embree::TaskScheduler::wait();
    return;
  }
  if (this_00 < pTVar1) {
    do {
      pTVar5 = this_00 + **(long **)(this + 0x28);
      puVar4 = (undefined8 *)((long)this_00 * 0x20 + **(long **)(this + 0x20));
      this_00 = this_00 + 1;
      uVar2 = puVar4[1];
      puVar3 = (undefined8 *)(**(long **)(this + 0x20) + (long)pTVar5 * 0x20);
      *puVar3 = *puVar4;
      puVar3[1] = uVar2;
      uVar2 = puVar4[3];
      puVar3[2] = puVar4[2];
      puVar3[3] = uVar2;
    } while (pTVar1 != this_00);
  }
  return;
}



/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&) [clone .isra.0] */

void embree::sse2::
     HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
     ::moveExtentedRange(PrimInfoExtRange *param_1,PrimInfoExtRange *param_2,
                        PrimInfoExtRange *param_3)

{
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_30;
  ulong local_28;
  long local_20;
  long local_18;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_30 = *(long *)(param_2 + 0x50) - *(long *)(param_2 + 0x48);
  this = *(TaskScheduler **)(param_3 + 0x40);
  local_28 = *(ulong *)(param_3 + 0x48) - (long)this;
  if (local_30 != 0) {
    local_20 = 0;
    if (local_30 < local_28) {
      TaskScheduler::
      spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (this,(ulong)(this + local_30),0x40,(ulong)param_1,
                 (_lambda_embree__range<unsigned_long>_const___1_ *)&local_28,
                 (TaskGroupContext *)&local_20);
      embree::TaskScheduler::wait();
    }
    else {
      TaskScheduler::
      spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
                (this,*(ulong *)(param_3 + 0x48),0x40,(ulong)param_1,
                 (_lambda_embree__range<unsigned_long>_const___2_ *)&local_30,
                 (TaskGroupContext *)&local_20);
      embree::TaskScheduler::wait();
    }
    if (local_20 != 0) {
      local_18 = local_20;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_18);
    }
    *(ulong *)(param_3 + 0x40) = *(long *)(param_3 + 0x40) + local_30;
    *(ulong *)(param_3 + 0x48) = *(long *)(param_3 + 0x48) + local_30;
    *(ulong *)(param_3 + 0x50) = *(long *)(param_3 + 0x50) + local_30;
    local_20 = 0;
  }
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::createLargeLeaf(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::FastAllocator::CachedAllocator) */

void * embree::sse2::GeneralBVHBuilder::
       BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)#1},embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1}>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
       ::createLargeLeaf(ulong *param_1,ulong *param_2)

{
  undefined8 *puVar1;
  undefined1 (*pauVar2) [16];
  undefined1 (*pauVar3) [16];
  void *pvVar4;
  long *plVar5;
  long lVar6;
  ulong *puVar7;
  ulong uVar8;
  ulong uVar9;
  ulong uVar10;
  ulong *puVar11;
  ulong uVar12;
  ulong uVar13;
  PrimInfoExtRange *pPVar14;
  PrimInfoExtRange *pPVar15;
  ulong uVar16;
  long *plVar17;
  long in_FS_OFFSET;
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 uVar27;
  undefined8 in_stack_00000008;
  undefined8 in_stack_00000010;
  undefined8 in_stack_00000018;
  PrimInfoExtRange local_898 [16];
  undefined1 local_888 [16];
  undefined1 local_878 [16];
  undefined1 local_868 [16];
  ulong local_858;
  ulong uStack_850;
  ulong local_848;
  ulong local_838;
  undefined1 local_830;
  PrimInfoExtRange local_828 [16];
  undefined1 local_818 [16];
  undefined1 local_808 [16];
  undefined1 local_7f8 [16];
  ulong local_7e8;
  ulong uStack_7e0;
  ulong local_7d8;
  long local_7c8 [16];
  ulong local_748;
  undefined1 local_740 [8];
  ulong local_738 [4];
  ulong local_718;
  ulong uStack_710;
  ulong local_708;
  ulong uStack_700;
  ulong local_6f8;
  ulong uStack_6f0;
  ulong local_6e8;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < *param_2) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  uVar12 = param_1[4];
  if (uVar12 < param_2[0xb] - param_2[10]) {
    local_748 = *param_2;
    uVar16 = 1;
    local_738[0] = param_2[2];
    local_738[1] = param_2[3];
    local_740[0] = (char)param_2[1];
    local_738[2] = param_2[4];
    local_738[3] = param_2[5];
    local_6e8 = param_2[0xc];
    local_718 = param_2[6];
    uStack_710 = param_2[7];
    local_708 = param_2[8];
    uStack_700 = param_2[9];
    local_6f8 = param_2[10];
    uStack_6f0 = param_2[0xb];
    puVar7 = &local_748;
    uVar24 = _LC3;
    uVar25 = _LC3;
    uVar26 = _LC3;
    uVar27 = _LC3;
    while( true ) {
      uVar8 = 0;
      uVar9 = 0;
      uVar10 = 0xffffffffffffffff;
      puVar11 = local_738 + 8;
      do {
        uVar13 = uVar12;
        if (uVar12 <= uVar9) {
          uVar13 = uVar9;
        }
        if (uVar13 < puVar11[1] - *puVar11) {
          uVar10 = uVar8;
          uVar9 = puVar11[1] - *puVar11;
        }
        uVar8 = uVar8 + 1;
        puVar11 = puVar11 + 0xe;
      } while (uVar16 != uVar8);
      if (uVar10 == 0xffffffffffffffff) break;
      local_830 = 0;
      uVar12 = *param_2 + 1;
      pPVar14 = (PrimInfoExtRange *)param_1[9];
      local_858 = local_738[uVar10 * 0xe + 8];
      uStack_7e0 = local_738[uVar10 * 0xe + 9];
      uStack_850 = local_858 + uStack_7e0 >> 1;
      if (local_858 < uStack_850) {
        uVar9 = 0;
        local_7f8._4_4_ = uVar25;
        local_7f8._0_4_ = uVar24;
        local_7f8._8_4_ = uVar26;
        local_7f8._12_4_ = uVar27;
        auVar20._4_4_ = uVar25;
        auVar20._0_4_ = uVar24;
        auVar20._8_4_ = uVar26;
        auVar20._12_4_ = uVar27;
        auVar21._8_4_ = _LC1;
        auVar21._0_8_ = CONCAT44(_LC1,_LC1);
        auVar21._12_4_ = _LC1;
        auVar22._4_4_ = uVar25;
        auVar22._0_4_ = uVar24;
        auVar22._8_4_ = uVar26;
        auVar22._12_4_ = uVar27;
        auVar23._8_4_ = _LC1;
        auVar23._0_8_ = CONCAT44(_LC1,_LC1);
        auVar23._12_4_ = _LC1;
        pauVar3 = (undefined1 (*) [16])(local_858 * 0x20 + *(long *)pPVar14);
        do {
          pauVar2 = pauVar3 + 2;
          auVar18._0_4_ = *(float *)pauVar3[1] + *(float *)*pauVar3;
          auVar18._4_4_ = *(float *)(pauVar3[1] + 4) + *(float *)(*pauVar3 + 4);
          auVar18._8_4_ = *(float *)(pauVar3[1] + 8) + *(float *)(*pauVar3 + 8);
          auVar18._12_4_ = *(float *)(pauVar3[1] + 0xc) + *(float *)(*pauVar3 + 0xc);
          auVar23 = minps(auVar23,*pauVar3);
          auVar22 = maxps(auVar22,pauVar3[1]);
          uVar9 = uVar9 + (*(uint *)(*pauVar3 + 0xc) >> 0x1b);
          auVar21 = minps(auVar21,auVar18);
          auVar20 = maxps(auVar20,auVar18);
          pauVar3 = pauVar2;
        } while ((undefined1 (*) [16])(*(long *)pPVar14 + uStack_850 * 0x20) != pauVar2);
      }
      else {
        uVar9 = 0;
        local_7f8._0_8_ = CONCAT44(_LC3,_LC3);
        local_7f8._8_4_ = _LC3;
        local_7f8._12_4_ = _LC3;
        auVar20._8_4_ = _LC3;
        auVar20._0_8_ = local_7f8._0_8_;
        auVar20._12_4_ = _LC3;
        auVar21._8_4_ = _LC1;
        auVar21._0_8_ = CONCAT44(_LC1,_LC1);
        auVar21._12_4_ = _LC1;
        auVar22._8_4_ = _LC3;
        auVar22._0_8_ = local_7f8._0_8_;
        auVar22._12_4_ = _LC3;
        auVar23._8_4_ = _LC1;
        auVar23._0_8_ = CONCAT44(_LC1,_LC1);
        auVar23._12_4_ = _LC1;
      }
      local_808._4_4_ = _LC1;
      local_808._0_4_ = _LC1;
      local_808._8_4_ = _LC1;
      local_808._12_4_ = _LC1;
      local_818 = local_7f8;
      local_828 = (PrimInfoExtRange  [16])local_808;
      if (uStack_850 < uStack_7e0) {
        uVar8 = 0;
        pauVar3 = (undefined1 (*) [16])(uStack_850 * 0x20 + *(long *)pPVar14);
        do {
          pauVar2 = pauVar3 + 2;
          auVar19._0_4_ = *(float *)pauVar3[1] + *(float *)*pauVar3;
          auVar19._4_4_ = *(float *)(pauVar3[1] + 4) + *(float *)(*pauVar3 + 4);
          auVar19._8_4_ = *(float *)(pauVar3[1] + 8) + *(float *)(*pauVar3 + 8);
          auVar19._12_4_ = *(float *)(pauVar3[1] + 0xc) + *(float *)(*pauVar3 + 0xc);
          local_828 = (PrimInfoExtRange  [16])minps((undefined1  [16])local_828,*pauVar3);
          local_818 = maxps(local_818,pauVar3[1]);
          uVar8 = uVar8 + (*(uint *)(*pauVar3 + 0xc) >> 0x1b);
          local_808 = minps(local_808,auVar19);
          local_7f8 = maxps(local_7f8,auVar19);
          pauVar3 = pauVar2;
        } while ((undefined1 (*) [16])(*(long *)pPVar14 + uStack_7e0 * 0x20) != pauVar2);
      }
      else {
        uVar8 = 0;
      }
      local_898 = (PrimInfoExtRange  [16])auVar23;
      local_888 = auVar22;
      local_878 = auVar21;
      local_868 = auVar20;
      local_848 = uStack_850;
      local_838 = uVar12;
      local_7e8 = uStack_850;
      local_7d8 = uStack_7e0;
      if (uStack_7e0 != local_738[uVar10 * 0xe + 10]) {
        pPVar15 = local_898;
        HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
        ::setExtentedRanges((PrimInfoExtRange *)(local_738 + uVar10 * 0xe),pPVar15,local_828,uVar9,
                            uVar8);
        HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
        ::moveExtentedRange(pPVar14,pPVar15,local_828);
        uVar24 = _LC3;
        uVar25 = _UNK_00122f44;
        uVar26 = _UNK_00122f48;
        uVar27 = _UNK_00122f4c;
      }
      uVar16 = uVar16 + 1;
      *(ulong *)(local_740 + uVar10 * 0x70 + -8) = *puVar7;
      local_740[uVar10 * 0x70] = (char)puVar7[1];
      uVar9 = puVar7[3];
      local_738[uVar10 * 0xe] = puVar7[2];
      local_738[uVar10 * 0xe + 1] = uVar9;
      uVar9 = puVar7[5];
      local_738[uVar10 * 0xe + 2] = puVar7[4];
      local_738[uVar10 * 0xe + 3] = uVar9;
      uVar9 = puVar7[7];
      local_738[uVar10 * 0xe + 4] = puVar7[6];
      local_738[uVar10 * 0xe + 5] = uVar9;
      uVar9 = puVar7[9];
      local_738[uVar10 * 0xe + 6] = puVar7[8];
      local_738[uVar10 * 0xe + 7] = uVar9;
      uVar9 = puVar7[0xb];
      local_738[uVar10 * 0xe + 8] = puVar7[10];
      local_738[uVar10 * 0xe + 9] = uVar9;
      local_738[uVar10 * 0xe + 10] = puVar7[0xc];
      *(undefined1 (*) [16])(puVar7 + 8) = auVar20;
      puVar7[0xc] = local_848;
      *(undefined1 (*) [16])(puVar7 + 0x12) = local_818;
      *puVar7 = uVar12;
      *(undefined1 *)(puVar7 + 1) = 0;
      *(undefined1 (*) [16])(puVar7 + 2) = auVar23;
      *(undefined1 (*) [16])(puVar7 + 4) = auVar22;
      *(undefined1 (*) [16])(puVar7 + 6) = auVar21;
      puVar7[10] = local_858;
      puVar7[0xb] = uStack_850;
      puVar7[0xe] = local_838;
      *(undefined1 *)(puVar7 + 0xf) = local_830;
      *(PrimInfoExtRange (*) [16])(puVar7 + 0x10) = local_828;
      *(undefined1 (*) [16])(puVar7 + 0x14) = local_808;
      *(undefined1 (*) [16])(puVar7 + 0x16) = local_7f8;
      puVar7[0x1a] = local_7d8;
      puVar7[0x18] = local_7e8;
      puVar7[0x19] = uStack_7e0;
      if (*param_1 <= uVar16) break;
      uVar12 = param_1[4];
      puVar7 = puVar7 + 0xe;
    }
    uVar12 = param_1[7];
    if (uVar12 < param_2[0xb] - param_2[10]) {
      puVar7 = &local_748;
      do {
        *(bool *)(puVar7 + 1) = puVar7[0xb] - puVar7[10] <= uVar12;
        puVar7 = puVar7 + 0xe;
      } while (&local_748 + uVar16 * 0xe != puVar7);
    }
    puVar1 = (undefined8 *)param_1[0xb];
    pvVar4 = (void *)(**(code **)*puVar1)
                               (&stack0x00000008,uVar16 & 0xffffffff,*(undefined8 *)puVar1[1]);
    puVar7 = local_738;
    plVar5 = local_7c8;
    do {
      *plVar5 = (long)puVar7;
      plVar5 = plVar5 + 1;
      puVar7 = puVar7 + 0xe;
    } while (local_7c8 + uVar16 != plVar5);
    (**(code **)puVar1[2])(pvVar4,local_7c8,uVar16 & 0xffffffff,*(undefined8 *)puVar1[1]);
    puVar7 = &local_748;
    plVar5 = local_7c8;
    do {
      plVar17 = plVar5 + 1;
      lVar6 = createLargeLeaf(param_1,puVar7);
      *plVar5 = lVar6;
      puVar7 = puVar7 + 0xe;
      plVar5 = plVar17;
    } while (local_7c8 + uVar16 != plVar17);
    (*(code *)**(undefined8 **)param_1[0xc])
              (pvVar4,local_7c8,uVar16 & 0xffffffff,*(undefined8 *)((undefined8 *)param_1[0xc])[1]);
  }
  else {
    pvVar4 = BVHBuilderBinnedFastSpatialSAH::
             CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1}>
             ::operator()(param_1[0xd],param_1[8],param_2 + 10);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return pvVar4;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x0010e11b) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}, embree::PrimRef*, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::sse2::GeneralBVHBuilder::Settings const&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}, embree::PrimRef*, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::sse2::GeneralBVHBuilder::Settings const&)::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  long lVar9;
  long lVar10;
  char cVar11;
  long lVar12;
  long lVar13;
  long *plVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  uVar5 = *(undefined8 *)(param_4 + 0x10);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = *(undefined8 *)param_4;
  uVar7 = *(undefined8 *)(param_4 + 8);
  uVar8 = *(undefined8 *)(param_4 + 0x18);
  lVar12 = embree::TaskScheduler::thread();
  if (lVar12 == 0) {
    plVar14 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar12 = embree::TaskScheduler::allocThreadIndex();
    pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
    }
    *(long *)pTVar15 = lVar12;
    pTVar18 = pTVar15 + 0x40;
    pTVar17 = pTVar18;
    do {
      *(undefined4 *)pTVar17 = 0;
      pTVar16 = pTVar17 + 0x80;
      *(undefined4 *)(pTVar17 + 0x40) = 0;
      pTVar17 = pTVar16;
    } while (pTVar16 != pTVar15 + 0x40040);
    *(undefined8 *)(pTVar15 + 0x40040) = 0;
    *(undefined8 *)(pTVar15 + 0x40080) = 0;
    *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar15 + 0xc0100) = 0;
    *(long **)(pTVar15 + 0xc0108) = plVar14;
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
      if (*(code **)(*plVar14 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar14 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar14 + 8))(plVar14);
        }
      }
      else {
        (**(code **)(*plVar14 + 0x18))(plVar14);
      }
    }
    LOCK();
    *(Thread **)(plVar14[2] + lVar12 * 8) = pTVar15;
    UNLOCK();
    local_48 = pTVar15;
    pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
    if (0xfff < *(ulong *)(pTVar15 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    lVar9 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar9 + 0x48 + (ulong)(-(int)lVar9 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
    pTVar16 = pTVar15 + uVar3 + 0x40078;
    *(undefined ***)pTVar16 = &PTR_execute_00122cf8;
    *(ulong *)(pTVar16 + 8) = param_2;
    *(ulong *)(pTVar16 + 0x18) = param_3;
    *(ulong *)(pTVar16 + 0x10) = param_1;
    *(undefined8 *)(pTVar16 + 0x20) = uVar6;
    *(undefined8 *)(pTVar16 + 0x30) = uVar5;
    *(undefined8 *)(pTVar16 + 0x28) = uVar7;
    *(TaskGroupContext **)(pTVar16 + 0x40) = param_5;
    *(undefined8 *)(pTVar16 + 0x38) = uVar8;
    lVar13 = *(long *)(pTVar15 + 0x40080) * 0x40;
    lVar10 = *(long *)(pTVar15 + 0xc0100);
    *(undefined4 *)(pTVar15 + lVar13 + 0x44) = 1;
    pTVar15[lVar13 + 0x48] = (Thread)0x1;
    *(long *)(pTVar15 + lVar13 + 0x68) = lVar9;
    *(Thread **)(pTVar15 + lVar13 + 0x50) = pTVar16;
    *(long *)(pTVar15 + lVar13 + 0x58) = lVar10;
    *(TaskGroupContext **)(pTVar15 + lVar13 + 0x60) = param_5;
    *(ulong *)(pTVar15 + lVar13 + 0x70) = param_2 - param_1;
    if (lVar10 != 0) {
      LOCK();
      *(int *)(lVar10 + 4) = *(int *)(lVar10 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar18 + lVar13) == 0) {
      *(undefined4 *)(pTVar18 + lVar13) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
      LOCK();
      *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar14[6] = plVar14[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar14 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar14;
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar11 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
    } while (cVar11 != '\0');
    LOCK();
    plVar14[6] = plVar14[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar14;
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar12 * 8 + plVar14[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar17);
    pTVar18 = *(Thread **)param_5;
    if (pTVar18 != (Thread *)0x0) {
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar18 = local_48;
    }
    LOCK();
    plVar14[5] = plVar14[5] + -1;
    UNLOCK();
    while (plVar14[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar18 != (Thread *)0x0) {
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar15 != (Thread *)0x0) {
      plVar14 = *(long **)(pTVar15 + 0xc0108);
      if (plVar14 != (long *)0x0) {
        if (*(code **)(*plVar14 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar14 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar14 + 8))();
          }
        }
        else {
          (**(code **)(*plVar14 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar15);
        return;
      }
      goto LAB_0010e24d;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar12 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar9 = *(long *)(lVar12 + 0xc00c0);
    uVar3 = lVar9 + 0x48 + (ulong)(-(int)lVar9 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    *(ulong *)(lVar12 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar12 + 0x40078 + uVar3);
    puVar4[8] = param_5;
    *puVar4 = &PTR_execute_00122cf8;
    puVar4[1] = param_2;
    puVar4[3] = param_3;
    puVar4[2] = param_1;
    puVar4[4] = uVar6;
    puVar4[6] = uVar5;
    puVar4[5] = uVar7;
    puVar4[7] = uVar8;
    lVar13 = *(long *)(lVar12 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar12 + 0x40 + lVar13);
    lVar10 = *(long *)(lVar12 + 0xc0100);
    *(undefined4 *)(lVar12 + 0x44 + lVar13) = 1;
    *(undefined1 *)(lVar12 + 0x48 + lVar13) = 1;
    lVar13 = lVar13 + lVar12;
    *(TaskGroupContext **)(lVar13 + 0x60) = param_5;
    *(undefined8 **)(lVar13 + 0x50) = puVar4;
    *(long *)(lVar13 + 0x58) = lVar10;
    *(long *)(lVar13 + 0x68) = lVar9;
    *(ulong *)(lVar13 + 0x70) = param_2 - param_1;
    if (lVar10 != 0) {
      LOCK();
      *(int *)(lVar10 + 4) = *(int *)(lVar10 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar12 + 0x40080) = *(long *)(lVar12 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar12 + 0x40080) - 1U <= *(ulong *)(lVar12 + 0x40040)) {
      LOCK();
      *(long *)(lVar12 + 0x40040) = *(long *)(lVar12 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010e24d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}, embree::PrimRef*, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::sse2::GeneralBVHBuilder::Settings const&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}, embree::PrimRef*, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::sse2::GeneralBVHBuilder::Settings const&)::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_cons...mbree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_cons___mbree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  uint uVar1;
  float fVar2;
  uint uVar3;
  int iVar4;
  float *pfVar5;
  ulong uVar6;
  ulong uVar7;
  float fVar8;
  
  uVar3 = _LC37;
  fVar2 = _LC22;
  uVar1 = _LC24;
  uVar6 = *(ulong *)(this + 8);
  uVar7 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar6 - uVar7) {
    uVar6 = uVar6 + uVar7 >> 1;
    spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar7,uVar6,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x40));
    spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar6,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x40));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar7 < uVar6) {
    do {
      pfVar5 = (float *)(uVar7 * 0x20 + **(long **)(this + 0x20));
      fVar8 = (pfVar5[4] - *pfVar5) * ((pfVar5[5] - pfVar5[1]) + (pfVar5[6] - pfVar5[2])) +
              (pfVar5[5] - pfVar5[1]) * (pfVar5[6] - pfVar5[2]);
      fVar8 = (float)(ulong)(*(long *)(*(long *)(this + 0x30) + 0x48) -
                            *(long *)(*(long *)(this + 0x30) + 0x40)) * **(float **)(this + 0x28) *
              (fVar8 + fVar8) * **(float **)(this + 0x38);
      if ((float)((uint)fVar8 & uVar1) < fVar2) {
        fVar8 = (float)((uint)((float)(int)fVar8 +
                              (float)(-(uint)((float)(int)fVar8 < fVar8) & uVar3)) |
                       ~uVar1 & (uint)fVar8);
      }
      iVar4 = (int)fVar8;
      if (iVar4 < 1) {
        iVar4 = 1;
      }
      if (0x1b < iVar4) {
        iVar4 = 0x1b;
      }
      uVar7 = uVar7 + 1;
      pfVar5[3] = (float)((uint)pfVar5[3] | (iVar4 + 4) * 0x8000000);
    } while (uVar6 != uVar7);
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0010e97b) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&, embree::sse2::SpatialBinSplit<16ul>
   const&, embree::sse2::SpatialBinMapping<16ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&, embree::sse2::SpatialBinSplit<16ul>
   const&, embree::sse2::SpatialBinMapping<16ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  long lVar11;
  long lVar12;
  char cVar13;
  long lVar14;
  long lVar15;
  long *plVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  Thread *pTVar19;
  Thread *pTVar20;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  uVar5 = *(undefined8 *)(param_4 + 0x10);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = *(undefined8 *)param_4;
  uVar7 = *(undefined8 *)(param_4 + 8);
  uVar8 = *(undefined8 *)(param_4 + 0x18);
  uVar9 = *(undefined8 *)(param_4 + 0x20);
  uVar10 = *(undefined8 *)(param_4 + 0x28);
  lVar14 = embree::TaskScheduler::thread();
  if (lVar14 == 0) {
    plVar16 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar14 = embree::TaskScheduler::allocThreadIndex();
    pTVar17 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar16 != (long *)0x0) {
      if (*(code **)(*plVar16 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar16[1] = plVar16[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar16 + 0x10))(plVar16);
      }
    }
    *(long *)pTVar17 = lVar14;
    pTVar20 = pTVar17 + 0x40;
    pTVar19 = pTVar20;
    do {
      *(undefined4 *)pTVar19 = 0;
      pTVar18 = pTVar19 + 0x80;
      *(undefined4 *)(pTVar19 + 0x40) = 0;
      pTVar19 = pTVar18;
    } while (pTVar18 != pTVar17 + 0x40040);
    *(undefined8 *)(pTVar17 + 0x40040) = 0;
    *(undefined8 *)(pTVar17 + 0x40080) = 0;
    *(undefined8 *)(pTVar17 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar17 + 0xc0100) = 0;
    *(long **)(pTVar17 + 0xc0108) = plVar16;
    if (plVar16 != (long *)0x0) {
      if (*(code **)(*plVar16 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar16[1] = plVar16[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar16 + 0x10))(plVar16);
      }
      if (*(code **)(*plVar16 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar16 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar16 + 8))(plVar16);
        }
      }
      else {
        (**(code **)(*plVar16 + 0x18))(plVar16);
      }
    }
    LOCK();
    *(Thread **)(plVar16[2] + lVar14 * 8) = pTVar17;
    UNLOCK();
    local_48 = pTVar17;
    pTVar19 = (Thread *)embree::TaskScheduler::swapThread(pTVar17);
    if (0xfff < *(ulong *)(pTVar17 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar11 = *(long *)(pTVar17 + 0xc00c0);
    uVar3 = lVar11 + 0x58 + (ulong)(-(int)lVar11 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar17 + 0xc00c0) = uVar3;
    pTVar18 = pTVar17 + uVar3 + 0x40068;
    *(undefined ***)pTVar18 = &PTR_execute_00122dd0;
    *(ulong *)(pTVar18 + 8) = param_2;
    *(ulong *)(pTVar18 + 0x18) = param_3;
    *(ulong *)(pTVar18 + 0x10) = param_1;
    *(undefined8 *)(pTVar18 + 0x20) = uVar6;
    *(undefined8 *)(pTVar18 + 0x30) = uVar5;
    *(undefined8 *)(pTVar18 + 0x28) = uVar7;
    *(TaskGroupContext **)(pTVar18 + 0x50) = param_5;
    *(undefined8 *)(pTVar18 + 0x38) = uVar8;
    *(undefined8 *)(pTVar18 + 0x40) = uVar9;
    *(undefined8 *)(pTVar18 + 0x48) = uVar10;
    lVar15 = *(long *)(pTVar17 + 0x40080) * 0x40;
    lVar12 = *(long *)(pTVar17 + 0xc0100);
    *(undefined4 *)(pTVar17 + lVar15 + 0x44) = 1;
    pTVar17[lVar15 + 0x48] = (Thread)0x1;
    *(long *)(pTVar17 + lVar15 + 0x68) = lVar11;
    *(Thread **)(pTVar17 + lVar15 + 0x50) = pTVar18;
    *(long *)(pTVar17 + lVar15 + 0x58) = lVar12;
    *(TaskGroupContext **)(pTVar17 + lVar15 + 0x60) = param_5;
    *(ulong *)(pTVar17 + lVar15 + 0x70) = param_2 - param_1;
    if (lVar12 != 0) {
      LOCK();
      *(int *)(lVar12 + 4) = *(int *)(lVar12 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar20 + lVar15) == 0) {
      *(undefined4 *)(pTVar20 + lVar15) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar17 + 0x40080) = *(long *)(pTVar17 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar17 + 0x40080) - 1U <= *(ulong *)(pTVar17 + 0x40040)) {
      LOCK();
      *(long *)(pTVar17 + 0x40040) = *(long *)(pTVar17 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar16[6] = plVar16[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar16 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar16;
    if (plVar16 != (long *)0x0) {
      if (*(code **)(*plVar16 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar16[1] = plVar16[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar16 + 0x10))(plVar16);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar13 = embree::TaskScheduler::TaskQueue::execute_local(pTVar20,(Task *)pTVar17);
    } while (cVar13 != '\0');
    LOCK();
    plVar16[6] = plVar16[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar16;
    if (plVar16 != (long *)0x0) {
      if (*(code **)(*plVar16 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar16[1] = plVar16[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar16 + 0x10))(plVar16);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar14 * 8 + plVar16[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar19);
    pTVar20 = *(Thread **)param_5;
    if (pTVar20 != (Thread *)0x0) {
      local_48 = pTVar20;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar20 = local_48;
    }
    LOCK();
    plVar16[5] = plVar16[5] + -1;
    UNLOCK();
    while (plVar16[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar20 != (Thread *)0x0) {
      local_48 = pTVar20;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar17 != (Thread *)0x0) {
      plVar16 = *(long **)(pTVar17 + 0xc0108);
      if (plVar16 != (long *)0x0) {
        if (*(code **)(*plVar16 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar16 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar16 + 8))();
          }
        }
        else {
          (**(code **)(*plVar16 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar17);
        return;
      }
      goto LAB_0010eab0;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar14 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar11 = *(long *)(lVar14 + 0xc00c0);
    uVar3 = lVar11 + 0x58 + (ulong)(-(int)lVar11 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar14 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar14 + 0x40068 + uVar3);
    puVar4[10] = param_5;
    *puVar4 = &PTR_execute_00122dd0;
    puVar4[1] = param_2;
    puVar4[3] = param_3;
    puVar4[2] = param_1;
    puVar4[4] = uVar6;
    puVar4[6] = uVar5;
    puVar4[5] = uVar7;
    puVar4[7] = uVar8;
    puVar4[8] = uVar9;
    puVar4[9] = uVar10;
    lVar15 = *(long *)(lVar14 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar14 + 0x40 + lVar15);
    lVar12 = *(long *)(lVar14 + 0xc0100);
    *(undefined4 *)(lVar14 + 0x44 + lVar15) = 1;
    *(undefined1 *)(lVar14 + 0x48 + lVar15) = 1;
    lVar15 = lVar15 + lVar14;
    *(TaskGroupContext **)(lVar15 + 0x60) = param_5;
    *(undefined8 **)(lVar15 + 0x50) = puVar4;
    *(long *)(lVar15 + 0x58) = lVar12;
    *(long *)(lVar15 + 0x68) = lVar11;
    *(ulong *)(lVar15 + 0x70) = param_2 - param_1;
    if (lVar12 != 0) {
      LOCK();
      *(int *)(lVar12 + 4) = *(int *)(lVar12 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar14 + 0x40080) = *(long *)(lVar14 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar14 + 0x40080) - 1U <= *(ulong *)(lVar14 + 0x40040)) {
      LOCK();
      *(long *)(lVar14 + 0x40040) = *(long *)(lVar14 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010eab0:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&, embree::sse2::SpatialBinSplit<16ul>
   const&, embree::sse2::SpatialBinMapping<16ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&, embree::sse2::SpatialBinSplit<16ul>
   const&, embree::sse2::SpatialBinMapping<16ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  float *pfVar1;
  float fVar2;
  ulong uVar3;
  float fVar4;
  undefined8 uVar5;
  code *pcVar6;
  ulong *puVar7;
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  long lVar10;
  undefined4 extraout_EDX;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  ulong uVar14;
  undefined8 *puVar15;
  long in_FS_OFFSET;
  float local_c0;
  float fStack_bc;
  float fStack_b8;
  float fStack_b4;
  float local_b0;
  float fStack_ac;
  float fStack_a8;
  float fStack_a4;
  float local_a0;
  float fStack_9c;
  float fStack_98;
  float fStack_94;
  float local_90;
  float fStack_8c;
  float fStack_88;
  float fStack_84;
  long local_68;
  
  uVar14 = *(ulong *)(this + 8);
  uVar12 = *(ulong *)(this + 0x10);
  local_68 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x18) < uVar14 - uVar12) {
    uVar14 = uVar14 + uVar12 >> 1;
    spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar12,uVar14,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x50));
    spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar14,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x50));
    if (local_68 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else {
    for (; uVar12 < uVar14; uVar12 = uVar12 + 1) {
      lVar13 = **(long **)(this + 0x20) + uVar12 * 0x20;
      fVar4 = *(float *)(lVar13 + 0xc);
      if (0xfffffff < (uint)fVar4) {
        lVar10 = (long)*(int *)(*(long *)(this + 0x28) + 4);
        fVar2 = **(float **)(this + 0x30);
        pfVar1 = (float *)(lVar13 + lVar10 * 4);
        if ((*pfVar1 <= fVar2 && fVar2 != *pfVar1) &&
           (fVar2 < *(float *)(lVar13 + 0x10 + lVar10 * 4))) {
          puVar15 = (undefined8 *)(*(long **)(this + 0x20))[1];
          fVar2 = *(float *)(lVar13 + 0x1c);
          uVar5 = *(undefined8 *)puVar15[1];
          pcVar6 = *(code **)*puVar15;
          *(uint *)(lVar13 + 0xc) = (uint)fVar4 & 0x7ffffff;
          (*pcVar6)(lVar13,lVar10,&local_c0,&local_a0,uVar5);
          auVar8._4_4_ = -(uint)(fStack_bc <= fStack_ac);
          auVar8._0_4_ = -(uint)(local_c0 <= local_b0);
          auVar8._8_4_ = -(uint)(fStack_b8 <= fStack_a8);
          auVar8._12_4_ = -(uint)(fVar4 <= fVar2);
          uVar11 = movmskps(extraout_EDX,auVar8);
          fStack_b4 = fVar4;
          fStack_a4 = fVar2;
          fStack_94 = fVar4;
          fStack_84 = fVar2;
          if (((~uVar11 & 7) == 0) &&
             (auVar9._4_4_ = -(uint)(fStack_9c <= fStack_8c),
             auVar9._0_4_ = -(uint)(local_a0 <= local_90),
             auVar9._8_4_ = -(uint)(fStack_98 <= fStack_88), auVar9._12_4_ = -(uint)(fVar4 <= fVar2)
             , uVar11 = movmskps(0,auVar9), (~uVar11 & 7) == 0)) {
            puVar7 = *(ulong **)(this + 0x38);
            fStack_b4 = (float)((((uint)fVar4 >> 0x1b) - 1) * 0x8000000 | (uint)fVar4 & 0x7ffffff);
            LOCK();
            uVar3 = *puVar7;
            *puVar7 = *puVar7 + 1;
            UNLOCK();
            fStack_94 = fStack_b4;
            if (**(ulong **)(this + 0x40) <= uVar3) break;
            puVar15 = (undefined8 *)(uVar12 * 0x20 + **(long **)(this + 0x20));
            *puVar15 = CONCAT44(fStack_bc,local_c0);
            puVar15[1] = CONCAT44(fStack_b4,fStack_b8);
            puVar15[2] = CONCAT44(fStack_ac,local_b0);
            puVar15[3] = CONCAT44(fVar2,fStack_a8);
            puVar15 = (undefined8 *)
                      ((uVar3 + **(long **)(this + 0x48)) * 0x20 + **(long **)(this + 0x20));
            *puVar15 = CONCAT44(fStack_9c,local_a0);
            puVar15[1] = CONCAT44(fStack_b4,fStack_98);
            puVar15[2] = CONCAT44(fStack_8c,local_90);
            puVar15[3] = CONCAT44(fVar2,fStack_88);
          }
        }
      }
    }
    if (local_68 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&, embree::sse2::SpatialBinSplit<16ul>
   const&, embree::sse2::SpatialBinMapping<16ul> const&) [clone .isra.0] */

void embree::sse2::
     HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
     ::create_spatial_splits
               (PrimInfoExtRange *param_1,SpatialBinSplit *param_2,SpatialBinMapping *param_3)

{
  ulong uVar1;
  long in_FS_OFFSET;
  float fVar2;
  float local_74;
  ulong local_70;
  long local_68;
  ulong local_60;
  long local_58;
  long local_50;
  PrimInfoExtRange *local_48;
  SpatialBinMapping *local_40;
  float *local_38;
  ulong *local_30;
  ulong *local_28;
  long *local_20;
  long local_10;
  
  local_68 = *(long *)(param_2 + 0x48);
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_70 = *(long *)(param_2 + 0x50) - local_68;
  LOCK();
  local_60 = 0;
  UNLOCK();
  uVar1 = (ulong)(int)*(uint *)(param_3 + 8);
  if ((long)uVar1 < 0) {
    fVar2 = (float)(uVar1 >> 1 | (ulong)(*(uint *)(param_3 + 8) & 1));
    fVar2 = fVar2 + fVar2;
  }
  else {
    fVar2 = (float)(long)uVar1;
  }
  local_38 = &local_74;
  local_74 = fVar2 * *(float *)(param_3 + (long)*(int *)(param_3 + 4) * 4 + 0x40) +
             *(float *)(param_3 + (long)*(int *)(param_3 + 4) * 4 + 0x20);
  local_30 = &local_60;
  local_28 = &local_70;
  local_20 = &local_68;
  local_58 = 0;
  local_48 = param_1;
  local_40 = param_3;
  TaskScheduler::
  spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
            (*(ulong *)(param_2 + 0x40),*(ulong *)(param_2 + 0x48),0x40,
             (_lambda_embree__range<unsigned_long>_const___1_ *)&local_48,
             (TaskGroupContext *)&local_58);
  embree::TaskScheduler::wait();
  if (local_58 != 0) {
    local_50 = local_58;
    std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
    std::rethrow_exception(&local_50);
  }
  uVar1 = local_60;
  if (local_70 < local_60) {
    uVar1 = local_70;
  }
  *(ulong *)(param_2 + 0x48) = *(long *)(param_2 + 0x48) + uVar1;
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x0010f3cb) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recurse(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recurse(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long> const&)#1}
   const&, embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  long lVar9;
  long lVar10;
  char cVar11;
  long lVar12;
  long lVar13;
  long *plVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  uVar5 = *(undefined8 *)(param_4 + 0x10);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = *(undefined8 *)param_4;
  uVar7 = *(undefined8 *)(param_4 + 8);
  uVar8 = *(undefined8 *)(param_4 + 0x18);
  lVar12 = embree::TaskScheduler::thread();
  if (lVar12 == 0) {
    plVar14 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar12 = embree::TaskScheduler::allocThreadIndex();
    pTVar15 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
    }
    *(long *)pTVar15 = lVar12;
    pTVar18 = pTVar15 + 0x40;
    pTVar17 = pTVar18;
    do {
      *(undefined4 *)pTVar17 = 0;
      pTVar16 = pTVar17 + 0x80;
      *(undefined4 *)(pTVar17 + 0x40) = 0;
      pTVar17 = pTVar16;
    } while (pTVar16 != pTVar15 + 0x40040);
    *(undefined8 *)(pTVar15 + 0x40040) = 0;
    *(undefined8 *)(pTVar15 + 0x40080) = 0;
    *(undefined8 *)(pTVar15 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar15 + 0xc0100) = 0;
    *(long **)(pTVar15 + 0xc0108) = plVar14;
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
      if (*(code **)(*plVar14 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar14 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar14 + 8))(plVar14);
        }
      }
      else {
        (**(code **)(*plVar14 + 0x18))(plVar14);
      }
    }
    LOCK();
    *(Thread **)(plVar14[2] + lVar12 * 8) = pTVar15;
    UNLOCK();
    local_48 = pTVar15;
    pTVar17 = (Thread *)embree::TaskScheduler::swapThread(pTVar15);
    if (0xfff < *(ulong *)(pTVar15 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar9 = *(long *)(pTVar15 + 0xc00c0);
    uVar3 = lVar9 + 0x48 + (ulong)(-(int)lVar9 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar15 + 0xc00c0) = uVar3;
    pTVar16 = pTVar15 + uVar3 + 0x40078;
    *(undefined ***)pTVar16 = &PTR_execute_00122d58;
    *(ulong *)(pTVar16 + 8) = param_2;
    *(ulong *)(pTVar16 + 0x18) = param_3;
    *(ulong *)(pTVar16 + 0x10) = param_1;
    *(undefined8 *)(pTVar16 + 0x20) = uVar6;
    *(undefined8 *)(pTVar16 + 0x30) = uVar5;
    *(undefined8 *)(pTVar16 + 0x28) = uVar7;
    *(TaskGroupContext **)(pTVar16 + 0x40) = param_5;
    *(undefined8 *)(pTVar16 + 0x38) = uVar8;
    lVar13 = *(long *)(pTVar15 + 0x40080) * 0x40;
    lVar10 = *(long *)(pTVar15 + 0xc0100);
    *(undefined4 *)(pTVar15 + lVar13 + 0x44) = 1;
    pTVar15[lVar13 + 0x48] = (Thread)0x1;
    *(long *)(pTVar15 + lVar13 + 0x68) = lVar9;
    *(Thread **)(pTVar15 + lVar13 + 0x50) = pTVar16;
    *(long *)(pTVar15 + lVar13 + 0x58) = lVar10;
    *(TaskGroupContext **)(pTVar15 + lVar13 + 0x60) = param_5;
    *(ulong *)(pTVar15 + lVar13 + 0x70) = param_2 - param_1;
    if (lVar10 != 0) {
      LOCK();
      *(int *)(lVar10 + 4) = *(int *)(lVar10 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar18 + lVar13) == 0) {
      *(undefined4 *)(pTVar18 + lVar13) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar15 + 0x40080) = *(long *)(pTVar15 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar15 + 0x40080) - 1U <= *(ulong *)(pTVar15 + 0x40040)) {
      LOCK();
      *(long *)(pTVar15 + 0x40040) = *(long *)(pTVar15 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar14[6] = plVar14[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar14 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar14;
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar11 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar15);
    } while (cVar11 != '\0');
    LOCK();
    plVar14[6] = plVar14[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar14;
    if (plVar14 != (long *)0x0) {
      if (*(code **)(*plVar14 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar14[1] = plVar14[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar14 + 0x10))(plVar14);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar12 * 8 + plVar14[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar17);
    pTVar18 = *(Thread **)param_5;
    if (pTVar18 != (Thread *)0x0) {
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar18 = local_48;
    }
    LOCK();
    plVar14[5] = plVar14[5] + -1;
    UNLOCK();
    while (plVar14[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar18 != (Thread *)0x0) {
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar15 != (Thread *)0x0) {
      plVar14 = *(long **)(pTVar15 + 0xc0108);
      if (plVar14 != (long *)0x0) {
        if (*(code **)(*plVar14 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar14 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar14 + 8))();
          }
        }
        else {
          (**(code **)(*plVar14 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar15);
        return;
      }
      goto LAB_0010f4fd;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar12 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar9 = *(long *)(lVar12 + 0xc00c0);
    uVar3 = lVar9 + 0x48 + (ulong)(-(int)lVar9 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar12 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar12 + 0x40078 + uVar3);
    puVar4[8] = param_5;
    *puVar4 = &PTR_execute_00122d58;
    puVar4[1] = param_2;
    puVar4[3] = param_3;
    puVar4[2] = param_1;
    puVar4[4] = uVar6;
    puVar4[6] = uVar5;
    puVar4[5] = uVar7;
    puVar4[7] = uVar8;
    lVar13 = *(long *)(lVar12 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar12 + 0x40 + lVar13);
    lVar10 = *(long *)(lVar12 + 0xc0100);
    *(undefined4 *)(lVar12 + 0x44 + lVar13) = 1;
    *(undefined1 *)(lVar12 + 0x48 + lVar13) = 1;
    lVar13 = lVar13 + lVar12;
    *(TaskGroupContext **)(lVar13 + 0x60) = param_5;
    *(undefined8 **)(lVar13 + 0x50) = puVar4;
    *(long *)(lVar13 + 0x58) = lVar10;
    *(long *)(lVar13 + 0x68) = lVar9;
    *(ulong *)(lVar13 + 0x70) = param_2 - param_1;
    if (lVar10 != 0) {
      LOCK();
      *(int *)(lVar10 + 4) = *(int *)(lVar10 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar12 + 0x40080) = *(long *)(lVar12 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar12 + 0x40080) - 1U <= *(ulong *)(lVar12 + 0x40040)) {
      LOCK();
      *(long *)(lVar12 + 0x40040) = *(long *)(lVar12 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010f4fd:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x0010fa4b) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long> const&)#1}
   const&, embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long lVar8;
  long lVar9;
  char cVar10;
  long lVar11;
  long lVar12;
  long *plVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  uVar5 = *(undefined8 *)(param_4 + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = *(undefined8 *)param_4;
  uVar7 = *(undefined8 *)(param_4 + 0x10);
  lVar11 = embree::TaskScheduler::thread();
  if (lVar11 == 0) {
    plVar13 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar11 = embree::TaskScheduler::allocThreadIndex();
    pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    *(long *)pTVar14 = lVar11;
    pTVar17 = pTVar14 + 0x40;
    pTVar16 = pTVar17;
    do {
      *(undefined4 *)pTVar16 = 0;
      pTVar15 = pTVar16 + 0x80;
      *(undefined4 *)(pTVar16 + 0x40) = 0;
      pTVar16 = pTVar15;
    } while (pTVar15 != pTVar14 + 0x40040);
    *(undefined8 *)(pTVar14 + 0x40040) = 0;
    *(undefined8 *)(pTVar14 + 0x40080) = 0;
    *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar14 + 0xc0100) = 0;
    *(long **)(pTVar14 + 0xc0108) = plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
      if (*(code **)(*plVar13 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar13 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar13 + 8))(plVar13);
        }
      }
      else {
        (**(code **)(*plVar13 + 0x18))(plVar13);
      }
    }
    LOCK();
    *(Thread **)(plVar13[2] + lVar11 * 8) = pTVar14;
    UNLOCK();
    local_48 = pTVar14;
    pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
    if (0xfff < *(ulong *)(pTVar14 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
    ;
    lVar8 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar8 + 0x40 + (ulong)(-(int)lVar8 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
    ;
    *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
    pTVar15 = pTVar14 + uVar3 + 0x40080;
    *(undefined ***)pTVar15 = &PTR_execute_00122da0;
    *(ulong *)(pTVar15 + 8) = param_2;
    *(ulong *)(pTVar15 + 0x18) = param_3;
    *(ulong *)(pTVar15 + 0x10) = param_1;
    *(undefined8 *)(pTVar15 + 0x20) = uVar6;
    *(undefined8 *)(pTVar15 + 0x28) = uVar5;
    *(undefined8 *)(pTVar15 + 0x30) = uVar7;
    *(TaskGroupContext **)(pTVar15 + 0x38) = param_5;
    lVar12 = *(long *)(pTVar14 + 0x40080) * 0x40;
    lVar9 = *(long *)(pTVar14 + 0xc0100);
    *(undefined4 *)(pTVar14 + lVar12 + 0x44) = 1;
    pTVar14[lVar12 + 0x48] = (Thread)0x1;
    *(long *)(pTVar14 + lVar12 + 0x68) = lVar8;
    *(Thread **)(pTVar14 + lVar12 + 0x50) = pTVar15;
    *(long *)(pTVar14 + lVar12 + 0x58) = lVar9;
    *(TaskGroupContext **)(pTVar14 + lVar12 + 0x60) = param_5;
    *(ulong *)(pTVar14 + lVar12 + 0x70) = param_2 - param_1;
    if (lVar9 != 0) {
      LOCK();
      *(int *)(lVar9 + 4) = *(int *)(lVar9 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar17 + lVar12) == 0) {
      *(undefined4 *)(pTVar17 + lVar12) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
      LOCK();
      *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar13[6] = plVar13[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar13 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar10 = embree::TaskScheduler::TaskQueue::execute_local(pTVar17,(Task *)pTVar14);
    } while (cVar10 != '\0');
    LOCK();
    plVar13[6] = plVar13[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar11 * 8 + plVar13[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar16);
    pTVar17 = *(Thread **)param_5;
    if (pTVar17 != (Thread *)0x0) {
      local_48 = pTVar17;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar17 = local_48;
    }
    LOCK();
    plVar13[5] = plVar13[5] + -1;
    UNLOCK();
    while (plVar13[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar17 != (Thread *)0x0) {
      local_48 = pTVar17;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar14 != (Thread *)0x0) {
      plVar13 = *(long **)(pTVar14 + 0xc0108);
      if (plVar13 != (long *)0x0) {
        if (*(code **)(*plVar13 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar13 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar13 + 8))();
          }
        }
        else {
          (**(code **)(*plVar13 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar14);
        return;
      }
      goto LAB_0010fb7d;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar11 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar8 = *(long *)(lVar11 + 0xc00c0);
    uVar3 = lVar8 + 0x40 + (ulong)(-(int)lVar8 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
    ;
    *(ulong *)(lVar11 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar11 + 0x40080 + uVar3);
    puVar4[7] = param_5;
    *puVar4 = &PTR_execute_00122da0;
    puVar4[1] = param_2;
    puVar4[3] = param_3;
    puVar4[2] = param_1;
    puVar4[4] = uVar6;
    puVar4[5] = uVar5;
    puVar4[6] = uVar7;
    lVar12 = *(long *)(lVar11 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar11 + 0x40 + lVar12);
    lVar9 = *(long *)(lVar11 + 0xc0100);
    *(undefined4 *)(lVar11 + 0x44 + lVar12) = 1;
    *(undefined1 *)(lVar11 + 0x48 + lVar12) = 1;
    lVar12 = lVar12 + lVar11;
    *(TaskGroupContext **)(lVar12 + 0x60) = param_5;
    *(undefined8 **)(lVar12 + 0x50) = puVar4;
    *(long *)(lVar12 + 0x58) = lVar9;
    *(long *)(lVar12 + 0x68) = lVar8;
    *(ulong *)(lVar12 + 0x70) = param_2 - param_1;
    if (lVar9 != 0) {
      LOCK();
      *(int *)(lVar9 + 4) = *(int *)(lVar9 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar11 + 0x40080) = *(long *)(lVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar11 + 0x40080) - 1U <= *(ulong *)(lVar11 + 0x40040)) {
      LOCK();
      *(long *)(lVar11 + 0x40040) = *(long *)(lVar11 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0010fb7d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x001100cb) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long lVar8;
  long lVar9;
  char cVar10;
  long lVar11;
  long lVar12;
  long *plVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  uVar5 = *(undefined8 *)(param_4 + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = *(undefined8 *)param_4;
  uVar7 = *(undefined8 *)(param_4 + 0x10);
  lVar11 = embree::TaskScheduler::thread();
  if (lVar11 == 0) {
    plVar13 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar11 = embree::TaskScheduler::allocThreadIndex();
    pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    *(long *)pTVar14 = lVar11;
    pTVar17 = pTVar14 + 0x40;
    pTVar16 = pTVar17;
    do {
      *(undefined4 *)pTVar16 = 0;
      pTVar15 = pTVar16 + 0x80;
      *(undefined4 *)(pTVar16 + 0x40) = 0;
      pTVar16 = pTVar15;
    } while (pTVar15 != pTVar14 + 0x40040);
    *(undefined8 *)(pTVar14 + 0x40040) = 0;
    *(undefined8 *)(pTVar14 + 0x40080) = 0;
    *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar14 + 0xc0100) = 0;
    *(long **)(pTVar14 + 0xc0108) = plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
      if (*(code **)(*plVar13 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar13 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar13 + 8))(plVar13);
        }
      }
      else {
        (**(code **)(*plVar13 + 0x18))(plVar13);
      }
    }
    LOCK();
    *(Thread **)(plVar13[2] + lVar11 * 8) = pTVar14;
    UNLOCK();
    local_48 = pTVar14;
    pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
    if (0xfff < *(ulong *)(pTVar14 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    lVar8 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar8 + 0x40 + (ulong)(-(int)lVar8 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
    pTVar15 = pTVar14 + uVar3 + 0x40080;
    *(undefined ***)pTVar15 = &PTR_execute_00122ce0;
    *(ulong *)(pTVar15 + 8) = param_2;
    *(ulong *)(pTVar15 + 0x18) = param_3;
    *(ulong *)(pTVar15 + 0x10) = param_1;
    *(undefined8 *)(pTVar15 + 0x20) = uVar6;
    *(undefined8 *)(pTVar15 + 0x28) = uVar5;
    *(undefined8 *)(pTVar15 + 0x30) = uVar7;
    *(TaskGroupContext **)(pTVar15 + 0x38) = param_5;
    lVar12 = *(long *)(pTVar14 + 0x40080) * 0x40;
    lVar9 = *(long *)(pTVar14 + 0xc0100);
    *(undefined4 *)(pTVar14 + lVar12 + 0x44) = 1;
    pTVar14[lVar12 + 0x48] = (Thread)0x1;
    *(long *)(pTVar14 + lVar12 + 0x68) = lVar8;
    *(Thread **)(pTVar14 + lVar12 + 0x50) = pTVar15;
    *(long *)(pTVar14 + lVar12 + 0x58) = lVar9;
    *(TaskGroupContext **)(pTVar14 + lVar12 + 0x60) = param_5;
    *(ulong *)(pTVar14 + lVar12 + 0x70) = param_2 - param_1;
    if (lVar9 != 0) {
      LOCK();
      *(int *)(lVar9 + 4) = *(int *)(lVar9 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar17 + lVar12) == 0) {
      *(undefined4 *)(pTVar17 + lVar12) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
      LOCK();
      *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar13[6] = plVar13[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar13 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar10 = embree::TaskScheduler::TaskQueue::execute_local(pTVar17,(Task *)pTVar14);
    } while (cVar10 != '\0');
    LOCK();
    plVar13[6] = plVar13[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar11 * 8 + plVar13[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar16);
    pTVar17 = *(Thread **)param_5;
    if (pTVar17 != (Thread *)0x0) {
      local_48 = pTVar17;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar17 = local_48;
    }
    LOCK();
    plVar13[5] = plVar13[5] + -1;
    UNLOCK();
    while (plVar13[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar17 != (Thread *)0x0) {
      local_48 = pTVar17;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar14 != (Thread *)0x0) {
      plVar13 = *(long **)(pTVar14 + 0xc0108);
      if (plVar13 != (long *)0x0) {
        if (*(code **)(*plVar13 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar13 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar13 + 8))();
          }
        }
        else {
          (**(code **)(*plVar13 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar14);
        return;
      }
      goto LAB_001101fd;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar11 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar8 = *(long *)(lVar11 + 0xc00c0);
    uVar3 = lVar8 + 0x40 + (ulong)(-(int)lVar8 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
    ;
    *(ulong *)(lVar11 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar11 + 0x40080 + uVar3);
    puVar4[7] = param_5;
    *puVar4 = &PTR_execute_00122ce0;
    puVar4[1] = param_2;
    puVar4[3] = param_3;
    puVar4[2] = param_1;
    puVar4[4] = uVar6;
    puVar4[5] = uVar5;
    puVar4[6] = uVar7;
    lVar12 = *(long *)(lVar11 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar11 + 0x40 + lVar12);
    lVar9 = *(long *)(lVar11 + 0xc0100);
    *(undefined4 *)(lVar11 + 0x44 + lVar12) = 1;
    *(undefined1 *)(lVar11 + 0x48 + lVar12) = 1;
    lVar12 = lVar12 + lVar11;
    *(TaskGroupContext **)(lVar12 + 0x60) = param_5;
    *(undefined8 **)(lVar12 + 0x50) = puVar4;
    *(long *)(lVar12 + 0x58) = lVar9;
    *(long *)(lVar12 + 0x68) = lVar8;
    *(ulong *)(lVar12 + 0x70) = param_2 - param_1;
    if (lVar9 != 0) {
      LOCK();
      *(int *)(lVar9 + 4) = *(int *)(lVar9 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar11 + 0x40080) = *(long *)(lVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar11 + 0x40080) - 1U <= *(ulong *)(lVar11 + 0x40040)) {
      LOCK();
      *(long *)(lVar11 + 0x40040) = *(long *)(lVar11 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_001101fd:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_long>const&)#2}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_long>const&)#2}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  uint *puVar1;
  ulong uVar2;
  long lVar3;
  long *plVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  float fVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  uint uVar18;
  long lVar19;
  float *pfVar20;
  ulong uVar21;
  long lVar22;
  ulong uVar23;
  long in_FS_OFFSET;
  uint uVar24;
  uint uVar25;
  uint uVar26;
  uint uVar27;
  uint uVar28;
  uint uVar29;
  uint uVar30;
  uint uVar31;
  uint uVar32;
  uint uVar33;
  uint uVar34;
  uint uVar35;
  uint uVar36;
  uint uVar37;
  uint uVar38;
  uint uVar39;
  uint uVar40;
  uint uVar41;
  uint uVar42;
  uint uVar43;
  uint uVar44;
  uint uVar45;
  uint uVar46;
  uint uVar47;
  uint local_b8 [20];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  undefined1 local_48 [16];
  undefined1 local_38 [16];
  long local_20;
  
  uVar18 = _UNK_00122fec;
  uVar17 = _UNK_00122fe8;
  uVar16 = _UNK_00122fe4;
  uVar15 = __LC57;
  uVar47 = _UNK_00122fdc;
  uVar44 = _UNK_00122fd8;
  uVar41 = _UNK_00122fd4;
  uVar38 = __LC56;
  uVar35 = _UNK_00122fcc;
  uVar33 = _UNK_00122fc8;
  uVar31 = _UNK_00122fc4;
  uVar29 = __LC55;
  uVar46 = _UNK_00122fbc;
  uVar43 = _UNK_00122fb8;
  uVar40 = _UNK_00122fb4;
  uVar37 = __LC54;
  uVar23 = *(ulong *)(this + 8);
  uVar2 = *(ulong *)(this + 0x10);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x18) < uVar23 - uVar2) {
    uVar23 = uVar23 + uVar2 >> 1;
    spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar2,uVar23,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
              (uVar23,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___2_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else {
    local_68 = (undefined1  [16])0x0;
    lVar3 = *(long *)(*(long *)(this + 0x28) + 0x20);
    pfVar20 = *(float **)(this + 0x20);
    local_58 = (undefined1  [16])0x0;
    local_48 = (undefined1  [16])0x0;
    fVar5 = *pfVar20;
    fVar6 = pfVar20[1];
    fVar7 = pfVar20[2];
    fVar8 = pfVar20[4];
    fVar9 = pfVar20[5];
    fVar10 = pfVar20[6];
    local_38 = (undefined1  [16])0x0;
    lVar19 = 0;
    uVar21 = uVar2;
    if (uVar2 < uVar23) {
      do {
        plVar4 = *(long **)(this + 0x30);
        *(int *)(local_38 + lVar19 * 4) = (int)uVar21;
        pfVar20 = (float *)(uVar21 * 0x20 + *plVar4);
        fVar11 = pfVar20[5];
        fVar12 = pfVar20[6];
        fVar13 = pfVar20[1];
        fVar14 = pfVar20[2];
        *(int *)(local_68 + lVar19 * 4) = (int)(((pfVar20[4] + *pfVar20) - fVar5) * fVar8);
        *(int *)(local_58 + lVar19 * 4) = (int)(((fVar11 + fVar13) - fVar6) * fVar9);
        *(int *)(local_48 + lVar19 * 4) = (int)(((fVar12 + fVar14) - fVar7) * fVar10);
        lVar19 = lVar19 + 1;
        if (lVar19 == 4) {
          lVar19 = 0;
          uVar24 = (local_68._0_4_ << 0x10 | local_68._0_4_) & uVar37;
          uVar25 = (local_68._4_4_ << 0x10 | local_68._4_4_) & uVar40;
          uVar26 = (local_68._8_4_ << 0x10 | local_68._8_4_) & uVar43;
          uVar27 = (local_68._12_4_ << 0x10 | local_68._12_4_) & uVar46;
          uVar24 = (uVar24 | uVar24 << 8) & uVar29;
          uVar25 = (uVar25 | uVar25 << 8) & uVar31;
          uVar26 = (uVar26 | uVar26 << 8) & uVar33;
          uVar27 = (uVar27 | uVar27 << 8) & uVar35;
          uVar24 = (uVar24 | uVar24 << 4) & uVar38;
          uVar25 = (uVar25 | uVar25 << 4) & uVar41;
          uVar26 = (uVar26 | uVar26 << 4) & uVar44;
          uVar27 = (uVar27 | uVar27 << 4) & uVar47;
          uVar28 = (local_58._0_4_ << 0x10 | local_58._0_4_) & uVar37;
          uVar30 = (local_58._4_4_ << 0x10 | local_58._4_4_) & uVar40;
          uVar32 = (local_58._8_4_ << 0x10 | local_58._8_4_) & uVar43;
          uVar34 = (local_58._12_4_ << 0x10 | local_58._12_4_) & uVar46;
          uVar28 = (uVar28 | uVar28 << 8) & uVar29;
          uVar30 = (uVar30 | uVar30 << 8) & uVar31;
          uVar32 = (uVar32 | uVar32 << 8) & uVar33;
          uVar34 = (uVar34 | uVar34 << 8) & uVar35;
          uVar28 = (uVar28 | uVar28 << 4) & uVar38;
          uVar30 = (uVar30 | uVar30 << 4) & uVar41;
          uVar32 = (uVar32 | uVar32 << 4) & uVar44;
          uVar34 = (uVar34 | uVar34 << 4) & uVar47;
          uVar36 = (local_48._0_4_ << 0x10 | local_48._0_4_) & uVar37;
          uVar39 = (local_48._4_4_ << 0x10 | local_48._4_4_) & uVar40;
          uVar42 = (local_48._8_4_ << 0x10 | local_48._8_4_) & uVar43;
          uVar45 = (local_48._12_4_ << 0x10 | local_48._12_4_) & uVar46;
          uVar36 = (uVar36 | uVar36 << 8) & uVar29;
          uVar39 = (uVar39 | uVar39 << 8) & uVar31;
          uVar42 = (uVar42 | uVar42 << 8) & uVar33;
          uVar45 = (uVar45 | uVar45 << 8) & uVar35;
          uVar36 = (uVar36 | uVar36 << 4) & uVar38;
          uVar39 = (uVar39 | uVar39 << 4) & uVar41;
          uVar42 = (uVar42 | uVar42 << 4) & uVar44;
          uVar45 = (uVar45 | uVar45 << 4) & uVar47;
          puVar1 = (uint *)(lVar3 + -8 + uVar21 * 8);
          *puVar1 = (uVar26 | uVar26 << 2) & uVar17 |
                    ((uVar32 | uVar32 << 2) & uVar17) << 1 | ((uVar42 | uVar42 << 2) & uVar17) << 2;
          puVar1[1] = local_38._8_4_;
          puVar1[2] = (uVar27 | uVar27 << 2) & uVar18 |
                      ((uVar34 | uVar34 << 2) & uVar18) << 1 |
                      ((uVar45 | uVar45 << 2) & uVar18) << 2;
          puVar1[3] = local_38._12_4_;
          puVar1 = (uint *)(lVar3 + -0x18 + uVar21 * 8);
          *puVar1 = (uVar24 | uVar24 << 2) & uVar15 |
                    ((uVar28 | uVar28 << 2) & uVar15) << 1 | ((uVar36 | uVar36 << 2) & uVar15) << 2;
          puVar1[1] = local_38._0_4_;
          puVar1[2] = (uVar25 | uVar25 << 2) & uVar16 |
                      ((uVar30 | uVar30 << 2) & uVar16) << 1 |
                      ((uVar39 | uVar39 << 2) & uVar16) << 2;
          puVar1[3] = local_38._4_4_;
        }
        uVar21 = uVar21 + 1;
      } while (uVar23 != uVar21);
      if (lVar19 != 0) {
        lVar22 = 0;
        lVar3 = lVar3 + (((uVar23 - uVar2) - lVar19) + uVar2) * 8;
        uVar37 = (local_68._0_4_ | local_68._0_4_ << 0x10) & __LC54;
        uVar40 = (local_68._4_4_ | local_68._4_4_ << 0x10) & _UNK_00122fb4;
        uVar43 = (local_68._8_4_ | local_68._8_4_ << 0x10) & _UNK_00122fb8;
        uVar46 = (local_68._12_4_ | local_68._12_4_ << 0x10) & _UNK_00122fbc;
        uVar37 = (uVar37 | uVar37 << 8) & __LC55;
        uVar40 = (uVar40 | uVar40 << 8) & _UNK_00122fc4;
        uVar43 = (uVar43 | uVar43 << 8) & _UNK_00122fc8;
        uVar46 = (uVar46 | uVar46 << 8) & _UNK_00122fcc;
        uVar38 = (uVar37 | uVar37 << 4) & __LC56;
        uVar41 = (uVar40 | uVar40 << 4) & _UNK_00122fd4;
        uVar44 = (uVar43 | uVar43 << 4) & _UNK_00122fd8;
        uVar47 = (uVar46 | uVar46 << 4) & _UNK_00122fdc;
        uVar37 = (local_58._0_4_ << 0x10 | local_58._0_4_) & __LC54;
        uVar40 = (local_58._4_4_ << 0x10 | local_58._4_4_) & _UNK_00122fb4;
        uVar43 = (local_58._8_4_ << 0x10 | local_58._8_4_) & _UNK_00122fb8;
        uVar46 = (local_58._12_4_ << 0x10 | local_58._12_4_) & _UNK_00122fbc;
        uVar37 = (uVar37 | uVar37 << 8) & __LC55;
        uVar40 = (uVar40 | uVar40 << 8) & _UNK_00122fc4;
        uVar43 = (uVar43 | uVar43 << 8) & _UNK_00122fc8;
        uVar46 = (uVar46 | uVar46 << 8) & _UNK_00122fcc;
        uVar37 = (uVar37 | uVar37 << 4) & __LC56;
        uVar40 = (uVar40 | uVar40 << 4) & _UNK_00122fd4;
        uVar43 = (uVar43 | uVar43 << 4) & _UNK_00122fd8;
        uVar46 = (uVar46 | uVar46 << 4) & _UNK_00122fdc;
        uVar29 = (local_48._0_4_ << 0x10 | local_48._0_4_) & __LC54;
        uVar31 = (local_48._4_4_ << 0x10 | local_48._4_4_) & _UNK_00122fb4;
        uVar33 = (local_48._8_4_ << 0x10 | local_48._8_4_) & _UNK_00122fb8;
        uVar35 = (local_48._12_4_ << 0x10 | local_48._12_4_) & _UNK_00122fbc;
        uVar29 = (uVar29 | uVar29 << 8) & __LC55;
        uVar31 = (uVar31 | uVar31 << 8) & _UNK_00122fc4;
        uVar33 = (uVar33 | uVar33 << 8) & _UNK_00122fc8;
        uVar35 = (uVar35 | uVar35 << 8) & _UNK_00122fcc;
        uVar29 = (uVar29 | uVar29 << 4) & __LC56;
        uVar31 = (uVar31 | uVar31 << 4) & _UNK_00122fd4;
        uVar33 = (uVar33 | uVar33 << 4) & _UNK_00122fd8;
        uVar35 = (uVar35 | uVar35 << 4) & _UNK_00122fdc;
        local_b8[0] = (uVar38 | uVar38 << 2) & __LC57 |
                      ((uVar37 | uVar37 << 2) & __LC57) << 1 |
                      ((uVar29 | uVar29 << 2) & __LC57) << 2;
        local_b8[1] = (uVar41 | uVar41 << 2) & _UNK_00122fe4 |
                      ((uVar40 | uVar40 << 2) & _UNK_00122fe4) << 1 |
                      ((uVar31 | uVar31 << 2) & _UNK_00122fe4) << 2;
        local_b8[2] = (uVar44 | uVar44 << 2) & _UNK_00122fe8 |
                      ((uVar43 | uVar43 << 2) & _UNK_00122fe8) << 1 |
                      ((uVar33 | uVar33 << 2) & _UNK_00122fe8) << 2;
        local_b8[3] = (uVar47 | uVar47 << 2) & _UNK_00122fec |
                      ((uVar46 | uVar46 << 2) & _UNK_00122fec) << 1 |
                      ((uVar35 | uVar35 << 2) & _UNK_00122fec) << 2;
        do {
          *(undefined4 *)(lVar3 + 4 + lVar22 * 8) = *(undefined4 *)(local_38 + lVar22 * 4);
          *(uint *)(lVar3 + lVar22 * 8) = local_b8[lVar22];
          lVar22 = lVar22 + 1;
        } while (lVar22 != lVar19);
      }
    }
    if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x00110b2b) */
/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  long *plVar1;
  int *piVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long lVar8;
  long lVar9;
  char cVar10;
  long lVar11;
  long lVar12;
  long *plVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  uVar5 = *(undefined8 *)(param_4 + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = *(undefined8 *)param_4;
  uVar7 = *(undefined8 *)(param_4 + 0x10);
  lVar11 = embree::TaskScheduler::thread();
  if (lVar11 == 0) {
    plVar13 = (long *)embree::TaskScheduler::instance();
    embree::TaskScheduler::startThreads();
    lVar11 = embree::TaskScheduler::allocThreadIndex();
    pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    *(long *)pTVar14 = lVar11;
    pTVar17 = pTVar14 + 0x40;
    pTVar16 = pTVar17;
    do {
      *(undefined4 *)pTVar16 = 0;
      pTVar15 = pTVar16 + 0x80;
      *(undefined4 *)(pTVar16 + 0x40) = 0;
      pTVar16 = pTVar15;
    } while (pTVar15 != pTVar14 + 0x40040);
    *(undefined8 *)(pTVar14 + 0x40040) = 0;
    *(undefined8 *)(pTVar14 + 0x40080) = 0;
    *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
    *(undefined8 *)(pTVar14 + 0xc0100) = 0;
    *(long **)(pTVar14 + 0xc0108) = plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
      if (*(code **)(*plVar13 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = plVar13 + 1;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*plVar13 + 8))(plVar13);
        }
      }
      else {
        (**(code **)(*plVar13 + 0x18))(plVar13);
      }
    }
    LOCK();
    *(Thread **)(plVar13[2] + lVar11 * 8) = pTVar14;
    UNLOCK();
    local_48 = pTVar14;
    pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
    if (0xfff < *(ulong *)(pTVar14 + 0x40080))
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    lVar8 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar8 + 0x40 + (ulong)(-(int)lVar8 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
    pTVar15 = pTVar14 + uVar3 + 0x40080;
    *(undefined ***)pTVar15 = &PTR_execute_00122d70;
    *(ulong *)(pTVar15 + 8) = param_2;
    *(ulong *)(pTVar15 + 0x18) = param_3;
    *(ulong *)(pTVar15 + 0x10) = param_1;
    *(undefined8 *)(pTVar15 + 0x20) = uVar6;
    *(undefined8 *)(pTVar15 + 0x28) = uVar5;
    *(undefined8 *)(pTVar15 + 0x30) = uVar7;
    *(TaskGroupContext **)(pTVar15 + 0x38) = param_5;
    lVar12 = *(long *)(pTVar14 + 0x40080) * 0x40;
    lVar9 = *(long *)(pTVar14 + 0xc0100);
    *(undefined4 *)(pTVar14 + lVar12 + 0x44) = 1;
    pTVar14[lVar12 + 0x48] = (Thread)0x1;
    *(long *)(pTVar14 + lVar12 + 0x68) = lVar8;
    *(Thread **)(pTVar14 + lVar12 + 0x50) = pTVar15;
    *(long *)(pTVar14 + lVar12 + 0x58) = lVar9;
    *(TaskGroupContext **)(pTVar14 + lVar12 + 0x60) = param_5;
    *(ulong *)(pTVar14 + lVar12 + 0x70) = param_2 - param_1;
    if (lVar9 != 0) {
      LOCK();
      *(int *)(lVar9 + 4) = *(int *)(lVar9 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*(int *)(pTVar17 + lVar12) == 0) {
      *(undefined4 *)(pTVar17 + lVar12) = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
      LOCK();
      *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
      UNLOCK();
    }
    embree::MutexSys::lock();
    LOCK();
    plVar13[6] = plVar13[6] + 1;
    UNLOCK();
    LOCK();
    *(undefined1 *)(plVar13 + 7) = 1;
    UNLOCK();
    embree::ConditionSys::notify_all();
    embree::MutexSys::unlock();
    local_48 = (Thread *)plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    embree::TaskScheduler::addScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    do {
      cVar10 = embree::TaskScheduler::TaskQueue::execute_local(pTVar17,(Task *)pTVar14);
    } while (cVar10 != '\0');
    LOCK();
    plVar13[6] = plVar13[6] + -1;
    UNLOCK();
    local_48 = (Thread *)plVar13;
    if (plVar13 != (long *)0x0) {
      if (*(code **)(*plVar13 + 0x10) == RefCount::refInc) {
        LOCK();
        plVar13[1] = plVar13[1] + 1;
        UNLOCK();
      }
      else {
        (**(code **)(*plVar13 + 0x10))(plVar13);
      }
    }
    embree::TaskScheduler::removeScheduler((Ref *)&local_48);
    if (local_48 != (Thread *)0x0) {
      if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
        LOCK();
        plVar1 = (long *)((long)local_48 + 8);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          (**(code **)(*(long *)local_48 + 8))();
        }
      }
      else {
        (**(code **)(*(long *)local_48 + 0x18))();
      }
    }
    local_48 = (Thread *)0x0;
    LOCK();
    *(undefined8 *)(lVar11 * 8 + plVar13[2]) = 0;
    UNLOCK();
    embree::TaskScheduler::swapThread(pTVar16);
    pTVar17 = *(Thread **)param_5;
    if (pTVar17 != (Thread *)0x0) {
      local_48 = pTVar17;
      std::__exception_ptr::exception_ptr::_M_addref();
      pTVar17 = local_48;
    }
    LOCK();
    plVar13[5] = plVar13[5] + -1;
    UNLOCK();
    while (plVar13[5] != 0) {
      embree::yield();
    }
    local_48 = *(Thread **)param_5;
    *(undefined8 *)param_5 = 0;
    if (local_48 != (Thread *)0x0) {
      std::__exception_ptr::exception_ptr::_M_release();
    }
    if (pTVar17 != (Thread *)0x0) {
      local_48 = pTVar17;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception((Ref *)&local_48);
    }
    if (pTVar14 != (Thread *)0x0) {
      plVar13 = *(long **)(pTVar14 + 0xc0108);
      if (plVar13 != (long *)0x0) {
        if (*(code **)(*plVar13 + 0x18) == RefCount::refDec) {
          LOCK();
          plVar1 = plVar13 + 1;
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            (**(code **)(*plVar13 + 8))();
          }
        }
        else {
          (**(code **)(*plVar13 + 0x18))();
        }
      }
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::alignedFree(pTVar14);
        return;
      }
      goto LAB_00110c5d;
    }
  }
  else {
    if (0xfff < *(ulong *)(lVar11 + 0x40080)) {

      embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
      :
                    /* WARNING: Subroutine does not return */
      abort();
    }
    lVar8 = *(long *)(lVar11 + 0xc00c0);
    uVar3 = lVar8 + 0x40 + (ulong)(-(int)lVar8 & 0x3f);
    if (0x80000 < uVar3)
    goto 
    embree_TaskScheduler_spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
    ;
    *(ulong *)(lVar11 + 0xc00c0) = uVar3;
    puVar4 = (undefined8 *)(lVar11 + 0x40080 + uVar3);
    puVar4[7] = param_5;
    *puVar4 = &PTR_execute_00122d70;
    puVar4[1] = param_2;
    puVar4[3] = param_3;
    puVar4[2] = param_1;
    puVar4[4] = uVar6;
    puVar4[5] = uVar5;
    puVar4[6] = uVar7;
    lVar12 = *(long *)(lVar11 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar11 + 0x40 + lVar12);
    lVar9 = *(long *)(lVar11 + 0xc0100);
    *(undefined4 *)(lVar11 + 0x44 + lVar12) = 1;
    *(undefined1 *)(lVar11 + 0x48 + lVar12) = 1;
    lVar12 = lVar12 + lVar11;
    *(TaskGroupContext **)(lVar12 + 0x60) = param_5;
    *(undefined8 **)(lVar12 + 0x50) = puVar4;
    *(long *)(lVar12 + 0x58) = lVar9;
    *(long *)(lVar12 + 0x68) = lVar8;
    *(ulong *)(lVar12 + 0x70) = param_2 - param_1;
    if (lVar9 != 0) {
      LOCK();
      *(int *)(lVar9 + 4) = *(int *)(lVar9 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar11 + 0x40080) = *(long *)(lVar11 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar11 + 0x40080) - 1U <= *(ulong *)(lVar11 + 0x40040)) {
      LOCK();
      *(long *)(lVar11 + 0x40040) = *(long *)(lVar11 + 0x40080) + -1;
      UNLOCK();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00110c5d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 * rtcNewBVH(long *param_1)

{
  long *plVar1;
  undefined8 uVar2;
  long lVar3;
  undefined8 *puVar4;
  MutexSys *this;
  MutexSys *pMVar5;
  
  if (param_1 != (long *)0x0) {
    puVar4 = (undefined8 *)operator_new(0x1e0);
    puVar4[1] = 0;
    *puVar4 = &PTR__BVH_00122cb0;
    puVar4[2] = param_1;
    puVar4[3] = param_1;
    puVar4[4] = 0;
    puVar4[5] = 0x1000;
    puVar4[6] = 0;
    puVar4[7] = 0x1000;
    puVar4[8] = 0x1fffc0;
    embree::MutexSys::MutexSys((MutexSys *)(puVar4 + 9));
    this = (MutexSys *)(puVar4 + 10);
    do {
      pMVar5 = this + 8;
      embree::MutexSys::MutexSys(this);
      this = pMVar5;
    } while (pMVar5 != (MutexSys *)(puVar4 + 0x12));
    plVar1 = param_1 + 0xa9;
    *(undefined1 *)((long)puVar4 + 0x122) = 0;
    puVar4[0x22] = 0;
    puVar4[0x23] = 0;
    puVar4[0x25] = 0;
    puVar4[0x26] = 0;
    puVar4[0x27] = 0;
    puVar4[0x28] = 0;
    puVar4[0x29] = 0;
    puVar4[0x2a] = 0;
    puVar4[0x2b] = 0;
    *(undefined4 *)(puVar4 + 0x2c) = 1;
    puVar4[0x2d] = plVar1;
    *(undefined1 *)(puVar4 + 0x2e) = 0;
    puVar4[0x2f] = 0;
    puVar4[0x30] = 0;
    puVar4[0x31] = 0;
    *(undefined2 *)(puVar4 + 0x24) = 0x100;
    do {
      LOCK();
      *(undefined8 *)pMVar5 = 0;
      UNLOCK();
      LOCK();
      uVar2 = *(undefined8 *)(pMVar5 + 0x40);
      *(undefined8 *)(pMVar5 + 0x40) = 0;
      UNLOCK();
      pMVar5 = pMVar5 + 8;
    } while (pMVar5 != (MutexSys *)(puVar4 + 0x1a));
    lVar3 = *param_1;
    puVar4[0x32] = plVar1;
    *(undefined1 *)(puVar4 + 0x33) = 0;
    puVar4[0x34] = 0;
    puVar4[0x35] = 0;
    puVar4[0x36] = 0;
    puVar4[0x37] = plVar1;
    *(undefined1 *)(puVar4 + 0x38) = 0;
    puVar4[0x39] = 0;
    puVar4[0x3a] = 0;
    puVar4[0x3b] = 0;
    if (*(code **)(lVar3 + 0x10) == embree::RefCount::refInc) {
      LOCK();
      param_1[1] = param_1[1] + 1;
      UNLOCK();
    }
    else {
      (**(code **)(lVar3 + 0x10))(param_1,uVar2);
    }
    LOCK();
    puVar4[1] = puVar4[1] + 1;
    UNLOCK();
    return puVar4;
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



void rtcMakeStaticBVH(long param_1)

{
  long lVar1;
  void *pvVar2;
  
  if (param_1 != 0) {
    lVar1 = *(long *)(param_1 + 0x1a8);
    pvVar2 = *(void **)(param_1 + 0x1b0);
    if (pvVar2 != (void *)0x0) {
      if ((ulong)(lVar1 * 8) < 0x1c00000) {
        embree::alignedFree(pvVar2);
      }
      else {
        embree::os_free(pvVar2,lVar1 * 8,*(bool *)(param_1 + 0x198));
      }
    }
    if (lVar1 != 0) {
      (**(code **)**(undefined8 **)(param_1 + 400))(*(undefined8 **)(param_1 + 400),lVar1 * -8,1);
    }
    pvVar2 = *(void **)(param_1 + 0x1d8);
    *(undefined8 *)(param_1 + 0x1b0) = 0;
    *(undefined8 *)(param_1 + 0x1a8) = 0;
    lVar1 = *(long *)(param_1 + 0x1d0);
    *(undefined8 *)(param_1 + 0x1a0) = 0;
    if (pvVar2 != (void *)0x0) {
      if ((ulong)(lVar1 * 8) < 0x1c00000) {
        embree::alignedFree(pvVar2);
      }
      else {
        embree::os_free(pvVar2,lVar1 * 8,*(bool *)(param_1 + 0x1c0));
      }
    }
    if (lVar1 != 0) {
      (**(code **)**(undefined8 **)(param_1 + 0x1b8))
                (*(undefined8 **)(param_1 + 0x1b8),lVar1 * -8,1);
    }
    *(undefined8 *)(param_1 + 0x1d8) = 0;
    *(undefined8 *)(param_1 + 0x1d0) = 0;
    *(undefined8 *)(param_1 + 0x1c8) = 0;
    return;
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



void rtcRetainBVH(long *param_1)

{
  if (param_1 == (long *)0x0) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  if (*(code **)(*param_1 + 0x10) == embree::RefCount::refInc) {
    LOCK();
    param_1[1] = param_1[1] + 1;
    UNLOCK();
    return;
  }
                    /* WARNING: Could not recover jumptable at 0x00110fd0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*param_1 + 0x10))();
  return;
}



void rtcReleaseBVH(long *param_1)

{
  long *plVar1;
  
  if (param_1 == (long *)0x0) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  if (*(code **)(*param_1 + 0x18) == embree::RefCount::refDec) {
    LOCK();
    plVar1 = param_1 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
                    /* WARNING: Could not recover jumptable at 0x0011100b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*param_1 + 8))();
      return;
    }
    return;
  }
                    /* WARNING: Could not recover jumptable at 0x00111018. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*param_1 + 0x18))();
  return;
}



long rtcThreadLocalAlloc(undefined8 *param_1,ulong param_2,ulong param_3)

{
  long *plVar1;
  ulong *puVar2;
  FastAllocator *this;
  ulong *puVar3;
  ulong uVar4;
  long lVar5;
  undefined8 uVar6;
  ulong uVar7;
  ulong uVar8;
  long in_FS_OFFSET;
  ulong local_50;
  ulong local_48;
  long local_40;
  
  puVar2 = (ulong *)param_1[1];
  this = (FastAllocator *)*param_1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar7 = *puVar2;
  local_50 = param_2;
  if (this != *(FastAllocator **)(uVar7 + 8)) {
    embree::MutexSys::lock();
    if (*(long *)(uVar7 + 8) != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)(uVar7 + 8) + 0x118);
      *plVar1 = *plVar1 + *(long *)(uVar7 + 0xa8) + *(long *)(uVar7 + 0x68);
      UNLOCK();
      LOCK();
      plVar1 = (long *)(*(long *)(uVar7 + 8) + 0x120);
      *plVar1 = *plVar1 + (((*(long *)(uVar7 + 0x98) + *(long *)(uVar7 + 0x58)) -
                           *(long *)(uVar7 + 0x50)) - *(long *)(uVar7 + 0x90));
      UNLOCK();
      LOCK();
      plVar1 = (long *)(*(long *)(uVar7 + 8) + 0x128);
      *plVar1 = *plVar1 + *(long *)(uVar7 + 0xb0) + *(long *)(uVar7 + 0x70);
      UNLOCK();
    }
    *(undefined8 *)(uVar7 + 0x48) = 0;
    *(undefined8 *)(uVar7 + 0x58) = 0;
    *(undefined8 *)(uVar7 + 0x50) = 0;
    *(undefined8 *)(uVar7 + 0x68) = 0;
    *(undefined8 *)(uVar7 + 0x70) = 0;
    *(undefined8 *)(uVar7 + 0x60) = 0;
    if (this == (FastAllocator *)0x0) {
      *(undefined8 *)(uVar7 + 0x88) = 0;
      uVar6 = 0;
      *(undefined8 *)(uVar7 + 0x98) = 0;
      *(undefined8 *)(uVar7 + 0x90) = 0;
      *(undefined8 *)(uVar7 + 0xa8) = 0;
      *(undefined8 *)(uVar7 + 0xb0) = 0;
    }
    else {
      uVar6 = *(undefined8 *)(this + 0x10);
      *(undefined8 *)(uVar7 + 0x88) = 0;
      *(undefined8 *)(uVar7 + 0x98) = 0;
      *(undefined8 *)(uVar7 + 0x60) = uVar6;
      *(undefined8 *)(uVar7 + 0x90) = 0;
      *(undefined8 *)(uVar7 + 0xa8) = 0;
      *(undefined8 *)(uVar7 + 0xb0) = 0;
      *(undefined8 *)(uVar7 + 0xa0) = 0;
      uVar6 = *(undefined8 *)(this + 0x10);
    }
    *(undefined8 *)(uVar7 + 0xa0) = uVar6;
    LOCK();
    *(FastAllocator **)(uVar7 + 8) = this;
    UNLOCK();
    local_48 = uVar7;
    embree::MutexSys::lock();
    puVar3 = *(ulong **)(this + 0x138);
    if (puVar3 == *(ulong **)(this + 0x140)) {
      std::
      vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
      ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                  *)(this + 0x130),puVar3,&local_48);
    }
    else {
      *puVar3 = uVar7;
      *(long *)(this + 0x138) = *(long *)(this + 0x138) + 8;
    }
    embree::MutexSys::unlock();
    embree::MutexSys::unlock();
  }
  uVar7 = puVar2[2];
  puVar2[5] = puVar2[5] + local_50;
  uVar8 = param_3 - uVar7 & param_3 - 1;
  uVar4 = local_50 + uVar7 + uVar8;
  puVar2[2] = uVar4;
  if (puVar2[3] < uVar4) {
    puVar2[2] = uVar7;
    if (puVar2[4] < local_50 * 4) {
      lVar5 = embree::FastAllocator::malloc(this,&local_50,0x40,false);
    }
    else {
      param_3 = param_3 - 1 & param_3;
      uVar8 = local_50 + param_3;
      local_48 = puVar2[4];
      uVar7 = embree::FastAllocator::malloc(this,&local_48,0x40,true);
      uVar4 = (puVar2[3] + puVar2[6]) - puVar2[2];
      puVar2[1] = uVar7;
      puVar2[6] = uVar4;
      puVar2[3] = local_48;
      puVar2[2] = uVar8;
      if (local_48 < uVar8) {
        puVar2[2] = 0;
        local_48 = puVar2[4];
        uVar7 = embree::FastAllocator::malloc(this,&local_48,0x40,false);
        uVar4 = (puVar2[3] + puVar2[6]) - puVar2[2];
        puVar2[1] = uVar7;
        puVar2[6] = uVar4;
        puVar2[3] = local_48;
        puVar2[2] = uVar8;
        if (local_48 < uVar8) {
          puVar2[2] = 0;
          lVar5 = 0;
          goto LAB_001111dd;
        }
      }
      lVar5 = uVar7 + param_3;
      puVar2[6] = uVar4 + param_3;
    }
  }
  else {
    puVar2[6] = puVar2[6] + uVar8;
    lVar5 = (uVar4 - local_50) + puVar2[1];
  }
LAB_001111dd:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return lVar5;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recurse(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator, bool) */

BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
* embree::sse2::BVHBuilderMorton::
  BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
  ::recurse(BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
            *param_1,
           BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
           *param_2,long param_3,range *param_4,char param_5,undefined8 param_6,long param_7,
           MutexSys *param_8,MutexSys *param_9)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  long *plVar3;
  long lVar4;
  uint uVar5;
  uint uVar6;
  undefined8 uVar7;
  MutexSys *pMVar8;
  undefined1 (*pauVar9) [16];
  MutexSys *pMVar10;
  int iVar11;
  uint uVar12;
  uint *puVar13;
  ulong uVar14;
  uint *puVar15;
  uint uVar16;
  long lVar17;
  ulong uVar18;
  long lVar19;
  uint uVar20;
  ulong uVar21;
  long in_FS_OFFSET;
  double dVar22;
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined8 local_2f8;
  undefined8 uStack_2f0;
  undefined8 uStack_2e8;
  undefined8 uStack_2e0;
  long local_2d0;
  long lStack_2c8;
  long lStack_2c0;
  MutexSys *local_2b8;
  long *plStack_2b0;
  uint *puStack_2a8;
  BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
  *pBStack_2a0;
  undefined8 uStack_298;
  undefined8 uStack_290;
  uint auStack_288 [2];
  undefined8 uStack_280;
  uint auStack_278 [12];
  undefined8 auStack_248 [8];
  undefined8 auStack_208 [8];
  MutexSys aMStack_1c8 [16];
  undefined1 auStack_1b8 [368];
  MutexSys aMStack_48 [8];
  long local_40;
  
  lVar17 = lRam00000000001118c5;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_2d0 = param_3;
  if (param_7 == 0) {
    lVar4 = *(long *)**(undefined8 **)(param_2 + 0x28);
    lVar19 = lVar4 + 0x18;
    pMVar10 = *(MutexSys **)(in_FS_OFFSET + lRam00000000001118c5);
    if (pMVar10 == (MutexSys *)0x0) {
      pMVar10 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
      embree::MutexSys::MutexSys(pMVar10);
      *(undefined8 *)(pMVar10 + 8) = 0;
      *(MutexSys **)(pMVar10 + 0x40) = pMVar10;
      *(undefined8 *)(pMVar10 + 0x48) = 0;
      *(undefined8 *)(pMVar10 + 0x50) = 0;
      *(undefined8 *)(pMVar10 + 0x58) = 0;
      *(undefined8 *)(pMVar10 + 0x60) = 0;
      *(undefined8 *)(pMVar10 + 0x68) = 0;
      *(undefined8 *)(pMVar10 + 0x70) = 0;
      *(MutexSys **)(pMVar10 + 0x80) = pMVar10;
      *(undefined8 *)(pMVar10 + 0x88) = 0;
      *(undefined8 *)(pMVar10 + 0x90) = 0;
      *(undefined8 *)(pMVar10 + 0x98) = 0;
      *(undefined8 *)(pMVar10 + 0xa0) = 0;
      *(undefined8 *)(pMVar10 + 0xa8) = 0;
      *(undefined8 *)(pMVar10 + 0xb0) = 0;
      *(MutexSys **)(in_FS_OFFSET + lVar17) = pMVar10;
      embree::MutexSys::lock();
      local_2b8 = pMVar10;
      if (_vtable == _vtable) {
        std::
        vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
        ::
        _M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
                  ((vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
                    *)&FastAllocator::s_thread_local_allocators,_vtable,&local_2b8);
        pMVar8 = local_2b8;
        if (local_2b8 != (MutexSys *)0x0) {
          embree::MutexSys::~MutexSys(local_2b8);
          embree::alignedFree(pMVar8);
        }
      }
      else {
        *_vtable = pMVar10;
        _vtable = _vtable + 1;
      }
      embree::MutexSys::unlock();
    }
    param_8 = pMVar10 + 0x40;
    param_7 = lVar19;
    param_9 = param_8;
    if (*(char *)(lVar4 + 0x122) == '\0') {
      param_9 = pMVar10 + 0x80;
    }
  }
  if (((param_5 == '\0') ||
      (uVar14 = (ulong)(uint)(*(int *)(param_4 + 4) - *(int *)param_4),
      *(ulong *)(param_2 + 0x20) < uVar14)) ||
     (puVar1 = *(undefined8 **)(param_2 + 0x50), *(long *)*puVar1 == 0)) {
    if (local_2d0 + 8U < *(ulong *)(param_2 + 8)) goto LAB_001113c1;
  }
  else {
    plVar3 = (long *)puVar1[1];
    LOCK();
    lVar17 = *plVar3;
    *plVar3 = *plVar3 + uVar14;
    UNLOCK();
    dVar22 = (double)(lVar17 + uVar14) / (double)*(ulong *)puVar1[2];
    if (_LC64 <= dVar22) {
      dVar22 = _LC64;
    }
    (**(code **)*puVar1)(dVar22,*(undefined8 *)puVar1[3]);
    if (local_2d0 + 8U < *(ulong *)(param_2 + 8)) {
LAB_001113c1:
      uVar20 = *(uint *)(param_4 + 4);
      uVar12 = *(uint *)param_4;
      uVar14 = (ulong)uVar12;
      if (*(ulong *)(param_2 + 0x10) < (ulong)(uVar20 - uVar12)) {
        lVar17 = *(long *)(param_2 + 0x58);
        uVar12 = *(uint *)(lVar17 + (ulong)(uVar20 - 1) * 8) ^ *(uint *)(lVar17 + (ulong)uVar12 * 8)
        ;
        if (uVar12 == 0) {
LAB_0011191b:
          recreateMortonCodes(param_2,param_4);
          uVar20 = *(uint *)(param_4 + 4);
          lVar17 = *(long *)(param_2 + 0x58);
          auStack_288[0] = *(uint *)param_4;
          uVar14 = (ulong)auStack_288[0];
          uVar12 = *(uint *)(lVar17 + (ulong)(uVar20 - 1) * 8) ^ *(uint *)(lVar17 + uVar14 * 8);
          if (uVar12 != 0) {
            iVar11 = 0x1f;
            if (uVar12 != 0) {
              for (; uVar12 >> iVar11 == 0; iVar11 = iVar11 + -1) {
              }
            }
            iVar11 = 0x1f - iVar11;
            if (iVar11 != 0x20) goto LAB_00111402;
          }
          auStack_288[1] = auStack_288[0] + uVar20 >> 1;
        }
        else {
          iVar11 = 0x1f;
          if (uVar12 != 0) {
            for (; uVar12 >> iVar11 == 0; iVar11 = iVar11 + -1) {
            }
          }
          iVar11 = 0x1f - iVar11;
          if (iVar11 == 0x20) goto LAB_0011191b;
LAB_00111402:
          auStack_288[0] = (uint)uVar14;
          uVar12 = auStack_288[0] + 1;
          uVar6 = uVar20;
          while (auStack_288[1] = uVar6, uVar12 != auStack_288[1]) {
            uVar6 = (int)uVar14 + auStack_288[1] >> 1;
            if ((0x80000000U >> ((byte)iVar11 & 0x1f) & *(uint *)(lVar17 + (ulong)uVar6 * 8)) == 0)
            {
              uVar14 = (ulong)uVar6;
              uVar12 = uVar6 + 1;
              uVar6 = auStack_288[1];
            }
          }
        }
        uVar14 = 2;
        uVar21 = 2;
        uStack_280._0_4_ = auStack_288[1];
        uStack_280._4_4_ = uVar20;
        if (2 < *(ulong *)param_2) {
          do {
            uVar21 = 0;
            uVar20 = 0;
            uVar18 = 0xffffffff;
            puVar13 = auStack_288 + 1;
            do {
              uVar12 = *puVar13 - puVar13[-1];
              if ((uVar20 < uVar12) && (*(ulong *)(param_2 + 0x10) < (ulong)uVar12)) {
                uVar18 = uVar21;
                uVar20 = uVar12;
              }
              uVar12 = (int)uVar21 + 1;
              uVar21 = (ulong)uVar12;
              puVar13 = puVar13 + 2;
            } while (uVar12 != (uint)uVar14);
            if ((int)uVar18 == -1) goto LAB_00111574;
            lVar19 = (long)(int)uVar18;
            uVar20 = auStack_288[lVar19 * 2 + 1];
            uVar21 = (ulong)auStack_288[lVar19 * 2];
            uVar12 = *(uint *)(lVar17 + (ulong)(uVar20 - 1) * 8) ^ *(uint *)(lVar17 + uVar21 * 8);
            if (uVar12 == 0) {
LAB_00111747:
              recreateMortonCodes(param_2,(range *)(auStack_288 + lVar19 * 2));
              lVar17 = *(long *)(param_2 + 0x58);
              uVar20 = auStack_288[lVar19 * 2 + 1];
              uVar12 = auStack_288[lVar19 * 2];
              uVar21 = (ulong)uVar12;
              uVar6 = *(uint *)(lVar17 + (ulong)(uVar20 - 1) * 8) ^ *(uint *)(lVar17 + uVar21 * 8);
              if (uVar6 != 0) {
                iVar11 = 0x1f;
                if (uVar6 != 0) {
                  for (; uVar6 >> iVar11 == 0; iVar11 = iVar11 + -1) {
                  }
                }
                iVar11 = 0x1f - iVar11;
                if (iVar11 != 0x20) goto LAB_00111504;
              }
              uVar6 = uVar12 + uVar20;
              uVar20 = auStack_288[lVar19 * 2 + 1];
              uVar6 = uVar6 >> 1;
            }
            else {
              iVar11 = 0x1f;
              if (uVar12 != 0) {
                for (; uVar12 >> iVar11 == 0; iVar11 = iVar11 + -1) {
                }
              }
              iVar11 = 0x1f - iVar11;
              if (iVar11 == 0x20) goto LAB_00111747;
LAB_00111504:
              uVar12 = (uint)uVar21;
              uVar16 = uVar12 + 1;
              uVar5 = uVar20;
              while (uVar6 = uVar5, uVar16 != uVar6) {
                uVar5 = (int)uVar21 + uVar6 >> 1;
                if ((0x80000000U >> ((byte)iVar11 & 0x1f) & *(uint *)(lVar17 + (ulong)uVar5 * 8)) ==
                    0) {
                  uVar21 = (ulong)uVar5;
                  uVar16 = uVar5 + 1;
                  uVar5 = uVar6;
                }
              }
            }
            *(undefined8 *)(auStack_288 + lVar19 * 2) = (&uStack_290)[uVar14];
            *(uint *)(&uStack_290 + uVar14) = uVar12;
            *(uint *)((long)&uStack_290 + uVar14 * 8 + 4) = uVar6;
            auStack_288[uVar14 * 2] = uVar6;
            auStack_288[uVar14 * 2 + 1] = uVar20;
            uVar14 = uVar14 + 1;
          } while (uVar14 < *(ulong *)param_2);
          uVar21 = uVar14 & 0xffffffff;
        }
LAB_00111574:
        uVar7 = (**(code **)**(undefined8 **)(param_2 + 0x30))
                          (&param_7,uVar21,*(undefined8 *)(*(undefined8 **)(param_2 + 0x30))[1]);
        pMVar10 = aMStack_1c8;
        do {
          *(undefined8 *)pMVar10 = 0;
          pMVar8 = pMVar10 + 0x60;
          *(undefined8 *)(pMVar10 + 0x30) = 0;
          pMVar10 = pMVar8;
        } while (aMStack_48 != pMVar8);
        if (*(ulong *)(param_2 + 0x20) < (ulong)(uint)(*(int *)(param_4 + 4) - *(int *)param_4)) {
          plStack_2b0 = &local_2d0;
          lStack_2c8 = 0;
          local_2b8 = aMStack_1c8;
          puStack_2a8 = auStack_288;
          pBStack_2a0 = param_2;
          TaskScheduler::
          spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
                    (0,uVar14,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_2b8,
                     (TaskGroupContext *)&lStack_2c8);
          embree::TaskScheduler::wait();
          if (lStack_2c8 != 0) {
            lStack_2c0 = lStack_2c8;
            std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
            std::rethrow_exception(&lStack_2c0);
          }
        }
        else {
          puVar13 = auStack_288;
          pMVar10 = aMStack_1c8;
          do {
            puVar15 = puVar13 + 2;
            recurse(&local_2b8,param_2,local_2d0 + 1,puVar13,0);
            *(MutexSys **)pMVar10 = local_2b8;
            *(uint **)(pMVar10 + 0x10) = puStack_2a8;
            *(BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
              **)(pMVar10 + 0x18) = pBStack_2a0;
            *(undefined8 *)(pMVar10 + 0x20) = uStack_298;
            *(undefined8 *)(pMVar10 + 0x28) = uStack_290;
            puVar13 = puVar15;
            pMVar10 = pMVar10 + 0x30;
          } while (auStack_288 + uVar14 * 2 != puVar15);
        }
        puVar1 = *(undefined8 **)(param_2 + 0x38);
        uVar18 = 0;
        auVar23._4_4_ = _LC3;
        auVar23._0_4_ = _LC3;
        auVar23._8_4_ = _LC3;
        auVar23._12_4_ = _LC3;
        auVar24._4_4_ = _LC1;
        auVar24._0_4_ = _LC1;
        auVar24._8_4_ = _LC1;
        auVar24._12_4_ = _LC1;
        pauVar9 = (undefined1 (*) [16])auStack_1b8;
        do {
          uVar2 = *(undefined8 *)pauVar9[-1];
          auVar24 = minps(auVar24,*pauVar9);
          auStack_208[uVar18] = pauVar9;
          auVar23 = maxps(auVar23,pauVar9[1]);
          auStack_248[uVar18] = uVar2;
          uVar18 = uVar18 + 1;
          pauVar9 = pauVar9 + 3;
        } while (uVar14 != uVar18);
        (**(code **)*puVar1)(uVar7,auStack_208,uVar21,*(undefined8 *)puVar1[1]);
        (**(code **)puVar1[2])(uVar7,auStack_248,uVar21,*(undefined8 *)puVar1[1]);
        local_2f8 = auVar24._0_8_;
        uStack_2f0 = auVar24._8_8_;
        uStack_2e8 = auVar23._0_8_;
        uStack_2e0 = auVar23._8_8_;
        *(undefined8 *)param_1 = uVar7;
        *(undefined8 *)(param_1 + 0x10) = local_2f8;
        *(undefined8 *)(param_1 + 0x18) = uStack_2f0;
        *(undefined8 *)(param_1 + 0x20) = uStack_2e8;
        *(undefined8 *)(param_1 + 0x28) = uStack_2e0;
        goto LAB_00111706;
      }
    }
  }
  createLargeLeaf(param_1,param_2,local_2d0,param_4);
LAB_00111706:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recurse(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recurse(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long> const&)#1}
   const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::{lamb...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lamb___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined8 *puVar1;
  ulong uVar2;
  undefined8 in_R9;
  ulong uVar3;
  long in_FS_OFFSET;
  undefined8 local_68 [2];
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  uVar2 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x18) < uVar2 - uVar3) {
    uVar2 = uVar2 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x40));
    spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x40));
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else {
    if (uVar3 < uVar2) {
      do {
        sse2::BVHBuilderMorton::
        BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
        ::recurse(local_68,*(undefined8 *)(this + 0x38),**(long **)(this + 0x28) + 1,
                  *(long *)(this + 0x30) + uVar3 * 8,1,in_R9,0,0,0);
        puVar1 = (undefined8 *)(uVar3 * 0x30 + *(long *)(this + 0x20));
        uVar3 = uVar3 + 1;
        *puVar1 = local_68[0];
        puVar1[2] = local_58;
        puVar1[3] = uStack_50;
        puVar1[4] = local_48;
        puVar1[5] = uStack_40;
      } while (uVar3 < uVar2);
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned long) */

HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
* __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::parallel_spatial_find
          (HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
           *this,PrimInfoExtRange *param_1,ulong param_2)

{
  ulong uVar1;
  ulong uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  SpatialBinInfo_conflict *pSVar8;
  long lVar9;
  SpatialBinInfo_conflict *pSVar10;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var11;
  ulong uVar12;
  SpatialBinInfo_conflict *pSVar13;
  long in_FS_OFFSET;
  float fVar14;
  float fVar15;
  float fVar16;
  float fVar17;
  float fVar18;
  float fVar23;
  float fVar24;
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  float fVar25;
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar26 [16];
  _lambda_embree__sse2__SpatialBinInfo<16ul,embree::PrimRef>_const__embree__sse2__SpatialBinInfo<16ul,embree::PrimRef>_const___1_
  *in_stack_ffffffffffffef00;
  PrimInfoExtRange *local_10d0;
  float *local_10c8;
  ulong local_10c0;
  ulong local_10b8;
  float local_10b0;
  float fStack_10ac;
  float fStack_10a8;
  float fStack_10a4;
  uint local_10a0;
  uint uStack_109c;
  uint uStack_1098;
  uint uStack_1094;
  undefined1 local_1090 [16];
  SpatialBinInfo_conflict local_1080 [1536];
  undefined8 local_a80;
  undefined8 uStack_a78;
  undefined8 local_a70;
  undefined8 uStack_a68;
  undefined8 local_a60;
  undefined8 uStack_a58;
  undefined8 local_a50;
  undefined8 uStack_a48;
  undefined8 local_a40;
  undefined8 uStack_a38;
  undefined8 local_a30;
  undefined8 uStack_a28;
  undefined8 local_a20;
  undefined8 uStack_a18;
  undefined8 local_a10;
  undefined8 uStack_a08;
  undefined8 local_a00;
  undefined8 uStack_9f8;
  undefined8 local_9f0;
  undefined8 uStack_9e8;
  undefined8 local_9e0;
  undefined8 uStack_9d8;
  undefined8 local_9d0;
  undefined8 uStack_9c8;
  undefined8 local_9c0;
  undefined8 uStack_9b8;
  undefined8 local_9b0;
  undefined8 uStack_9a8;
  undefined8 local_9a0;
  undefined8 uStack_998;
  undefined8 local_990;
  undefined8 uStack_988;
  undefined8 local_980;
  undefined8 uStack_978;
  undefined8 local_970;
  undefined8 uStack_968;
  undefined8 local_960;
  undefined8 uStack_958;
  undefined8 local_950;
  undefined8 uStack_948;
  undefined8 local_940;
  undefined8 uStack_938;
  undefined8 local_930;
  undefined8 uStack_928;
  undefined8 local_920;
  undefined8 uStack_918;
  undefined8 local_910;
  undefined8 uStack_908;
  undefined8 local_900;
  undefined8 uStack_8f8;
  undefined8 local_8f0;
  undefined8 uStack_8e8;
  undefined8 local_8e0;
  undefined8 uStack_8d8;
  undefined8 local_8d0;
  undefined8 uStack_8c8;
  undefined8 local_8c0;
  undefined8 uStack_8b8;
  undefined8 local_8b0;
  undefined8 uStack_8a8;
  undefined8 local_8a0;
  undefined8 uStack_898;
  undefined8 local_890;
  undefined8 uStack_888;
  _lambda_embree__range<unsigned_long>const___1_ local_880 [1536];
  undefined8 local_280;
  undefined8 uStack_278;
  undefined8 local_270;
  undefined8 uStack_268;
  undefined8 local_260;
  undefined8 uStack_258;
  undefined8 local_250;
  undefined8 uStack_248;
  undefined8 local_240;
  undefined8 uStack_238;
  undefined8 local_230;
  undefined8 uStack_228;
  undefined8 local_220;
  undefined8 uStack_218;
  undefined8 local_210;
  undefined8 uStack_208;
  undefined8 local_200;
  undefined8 uStack_1f8;
  undefined8 local_1f0;
  undefined8 uStack_1e8;
  undefined8 local_1e0;
  undefined8 uStack_1d8;
  undefined8 local_1d0;
  undefined8 uStack_1c8;
  undefined8 local_1c0;
  undefined8 uStack_1b8;
  undefined8 local_1b0;
  undefined8 uStack_1a8;
  undefined8 local_1a0;
  undefined8 uStack_198;
  undefined8 local_190;
  undefined8 uStack_188;
  undefined8 local_180;
  undefined8 uStack_178;
  undefined8 local_170;
  undefined8 uStack_168;
  undefined8 local_160;
  undefined8 uStack_158;
  undefined8 local_150;
  undefined8 uStack_148;
  undefined8 local_140;
  undefined8 uStack_138;
  undefined8 local_130;
  undefined8 uStack_128;
  undefined8 local_120;
  undefined8 uStack_118;
  undefined8 local_110;
  undefined8 uStack_108;
  undefined8 local_100;
  undefined8 uStack_f8;
  undefined8 local_f0;
  undefined8 uStack_e8;
  undefined8 local_e0;
  undefined8 uStack_d8;
  undefined8 local_d0;
  undefined8 uStack_c8;
  undefined8 local_c0;
  undefined8 uStack_b8;
  undefined8 local_b0;
  undefined8 uStack_a8;
  undefined8 local_a0;
  undefined8 uStack_98;
  undefined8 local_90;
  undefined8 uStack_88;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pSVar13 = local_1080;
  pSVar10 = (SpatialBinInfo_conflict *)&local_a80;
  do {
    *(undefined4 *)(pSVar13 + 0x40) = _LC1;
    *(undefined4 *)(pSVar13 + 0x44) = _LC1;
    *(undefined4 *)(pSVar13 + 0x48) = _LC1;
    *(undefined4 *)(pSVar13 + 0x4c) = _LC1;
    pSVar8 = pSVar13 + 0x60;
    *(undefined4 *)(pSVar13 + 0x50) = _LC3;
    *(undefined4 *)(pSVar13 + 0x54) = _LC3;
    *(undefined4 *)(pSVar13 + 0x58) = _LC3;
    *(undefined4 *)(pSVar13 + 0x5c) = _LC3;
    *(undefined4 *)(pSVar13 + 0x20) = _LC1;
    *(undefined4 *)(pSVar13 + 0x24) = _LC1;
    *(undefined4 *)(pSVar13 + 0x28) = _LC1;
    *(undefined4 *)(pSVar13 + 0x2c) = _LC1;
    *(undefined4 *)(pSVar13 + 0x30) = _LC3;
    *(undefined4 *)(pSVar13 + 0x34) = _LC3;
    *(undefined4 *)(pSVar13 + 0x38) = _LC3;
    *(undefined4 *)(pSVar13 + 0x3c) = _LC3;
    *(undefined4 *)pSVar13 = _LC1;
    *(undefined4 *)(pSVar13 + 4) = _LC1;
    *(undefined4 *)(pSVar13 + 8) = _LC1;
    *(undefined4 *)(pSVar13 + 0xc) = _LC1;
    *(undefined4 *)(pSVar13 + 0x10) = _LC3;
    *(undefined4 *)(pSVar13 + 0x14) = _LC3;
    *(undefined4 *)(pSVar13 + 0x18) = _LC3;
    *(undefined4 *)(pSVar13 + 0x1c) = _LC3;
    *(undefined1 (*) [16])(pSVar10 + 0x100) = (undefined1  [16])0x0;
    *(undefined1 (*) [16])pSVar10 = (undefined1  [16])0x0;
    pSVar13 = pSVar8;
    pSVar10 = pSVar10 + 0x10;
  } while (pSVar8 != (SpatialBinInfo_conflict *)&local_a80);
  local_10b0 = *(float *)param_2;
  fStack_10ac = *(float *)(param_2 + 4);
  fStack_10a8 = *(float *)(param_2 + 8);
  fStack_10a4 = *(float *)(param_2 + 0xc);
  local_10c8 = &local_10b0;
  uVar1 = *(ulong *)(param_2 + 0x48);
  auVar19._0_4_ = _LC24 & (uint)local_10b0;
  auVar19._4_4_ = _LC24 & (uint)fStack_10ac;
  auVar19._8_4_ = _LC24 & (uint)fStack_10a8;
  auVar19._12_4_ = _LC24 & (uint)fStack_10a4;
  auVar20._4_4_ = *(uint *)(param_2 + 0x14) & _LC24;
  auVar20._0_4_ = *(uint *)(param_2 + 0x10) & _LC24;
  auVar20._8_4_ = *(uint *)(param_2 + 0x18) & _LC24;
  auVar20._12_4_ = *(uint *)(param_2 + 0x1c) & _LC24;
  auVar20 = maxps(auVar19,auVar20);
  fVar18 = auVar20._0_4_ * _LC67;
  fVar23 = auVar20._4_4_ * _LC67;
  auVar26._4_4_ = fVar23;
  auVar26._0_4_ = fVar18;
  fVar24 = auVar20._8_4_ * _LC67;
  fVar25 = auVar20._12_4_ * _LC67;
  uVar2 = *(ulong *)(param_2 + 0x40);
  fVar14 = *(float *)(param_2 + 0x10) - local_10b0;
  fVar15 = *(float *)(param_2 + 0x14) - fStack_10ac;
  fVar16 = *(float *)(param_2 + 0x18) - fStack_10a8;
  fVar17 = *(float *)(param_2 + 0x1c) - fStack_10a4;
  uVar12 = (uVar1 + 0x3ff) - uVar2 >> 10;
  auVar26._8_4_ = fVar24;
  auVar26._12_4_ = fVar25;
  auVar3._4_4_ = fVar15;
  auVar3._0_4_ = fVar14;
  auVar3._8_4_ = fVar16;
  auVar3._12_4_ = fVar17;
  auVar20 = maxps(auVar26,auVar3);
  auVar21._4_4_ = _LC69;
  auVar21._0_4_ = _LC69;
  auVar21._8_4_ = _LC69;
  auVar21._12_4_ = _LC69;
  auVar20 = divps(auVar21,auVar20);
  local_10a0 = ~-(uint)(fVar14 <= fVar18) & auVar20._0_4_;
  uStack_109c = ~-(uint)(fVar15 <= fVar23) & auVar20._4_4_;
  uStack_1098 = ~-(uint)(fVar16 <= fVar24) & auVar20._8_4_;
  uStack_1094 = ~-(uint)(fVar17 <= fVar25) & auVar20._12_4_;
  auVar22._4_4_ = _LC37;
  auVar22._0_4_ = _LC37;
  auVar22._8_4_ = _LC37;
  auVar22._12_4_ = _LC37;
  auVar4._4_4_ = uStack_109c;
  auVar4._0_4_ = local_10a0;
  auVar4._8_4_ = uStack_1098;
  auVar4._12_4_ = uStack_1094;
  local_1090 = divps(auVar22,auVar4);
  local_10d0 = param_1;
  if (uVar12 == 1) {
    local_10c0 = uVar2;
    local_10b8 = uVar1;
    parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::
    {lambda(embree::range<unsigned_long>const&)#1}::operator()(local_880,(range *)&local_10d0);
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_find(embree::sse2::PrimInfoExtRange_const&,unsigned_long)::_lambda(embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&,embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>const&)_1_>
              ((ulong)local_880,uVar12,uVar2,uVar1,local_1080,
               (_lambda_embree__range<unsigned_long>_const___1_ *)&local_10d0,
               in_stack_ffffffffffffef00);
  }
  p_Var11 = local_880;
  pSVar13 = local_1080;
  do {
    lVar9 = 0;
    do {
      uVar5 = *(undefined8 *)(p_Var11 + lVar9 + 8);
      uVar6 = *(undefined8 *)(p_Var11 + lVar9 + 0x10);
      uVar7 = *(undefined8 *)(p_Var11 + lVar9 + 0x10 + 8);
      *(undefined8 *)(pSVar13 + lVar9) = *(undefined8 *)(p_Var11 + lVar9);
      *(undefined8 *)(pSVar13 + lVar9 + 8) = uVar5;
      *(undefined8 *)(pSVar13 + lVar9 + 0x10) = uVar6;
      *(undefined8 *)(pSVar13 + lVar9 + 0x10 + 8) = uVar7;
      lVar9 = lVar9 + 0x20;
    } while (lVar9 != 0x60);
    p_Var11 = p_Var11 + 0x60;
    pSVar13 = pSVar13 + 0x60;
  } while (p_Var11 != (_lambda_embree__range<unsigned_long>const___1_ *)&local_280);
  local_a80 = local_280;
  uStack_a78 = uStack_278;
  local_a70 = local_270;
  uStack_a68 = uStack_268;
  local_a60 = local_260;
  uStack_a58 = uStack_258;
  local_a50 = local_250;
  uStack_a48 = uStack_248;
  local_a40 = local_240;
  uStack_a38 = uStack_238;
  local_a30 = local_230;
  uStack_a28 = uStack_228;
  local_a20 = local_220;
  uStack_a18 = uStack_218;
  local_a10 = local_210;
  uStack_a08 = uStack_208;
  local_a00 = local_200;
  uStack_9f8 = uStack_1f8;
  local_9f0 = local_1f0;
  uStack_9e8 = uStack_1e8;
  local_9e0 = local_1e0;
  uStack_9d8 = uStack_1d8;
  local_9d0 = local_1d0;
  uStack_9c8 = uStack_1c8;
  local_9c0 = local_1c0;
  uStack_9b8 = uStack_1b8;
  local_9a0 = local_1a0;
  uStack_998 = uStack_198;
  local_990 = local_190;
  uStack_988 = uStack_188;
  local_9b0 = local_1b0;
  uStack_9a8 = uStack_1a8;
  local_980 = local_180;
  uStack_978 = uStack_178;
  local_970 = local_170;
  uStack_968 = uStack_168;
  local_960 = local_160;
  uStack_958 = uStack_158;
  local_950 = local_150;
  uStack_948 = uStack_148;
  local_940 = local_140;
  uStack_938 = uStack_138;
  local_930 = local_130;
  uStack_928 = uStack_128;
  local_920 = local_120;
  uStack_918 = uStack_118;
  local_910 = local_110;
  uStack_908 = uStack_108;
  local_900 = local_100;
  uStack_8f8 = uStack_f8;
  local_8f0 = local_f0;
  uStack_8e8 = uStack_e8;
  local_8e0 = local_e0;
  uStack_8d8 = uStack_d8;
  local_8d0 = local_d0;
  uStack_8c8 = uStack_c8;
  local_8c0 = local_c0;
  uStack_8b8 = uStack_b8;
  local_8b0 = local_b0;
  uStack_8a8 = uStack_a8;
  local_8a0 = local_a0;
  uStack_898 = uStack_98;
  local_890 = local_90;
  uStack_888 = uStack_88;
  SpatialBinInfo<16ul,embree::PrimRef>::best((SpatialBinMapping *)this,(ulong)local_1080);
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::sequential_spatial_find(embree::sse2::PrimInfoExtRange const&, unsigned long) [clone
   .isra.0] */

PrimInfoExtRange *
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::sequential_spatial_find(PrimInfoExtRange *param_1,ulong param_2)

{
  float fVar1;
  float fVar2;
  int iVar3;
  ulong uVar4;
  undefined8 uVar5;
  code *pcVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 (*pauVar14) [16];
  undefined1 (*pauVar15) [16];
  long lVar16;
  long lVar17;
  float *in_RCX;
  ulong uVar18;
  undefined4 extraout_EDX;
  undefined8 *in_RDX;
  undefined1 (*pauVar19) [16];
  undefined1 (*pauVar20) [16];
  long lVar21;
  float *pfVar22;
  ulong uVar23;
  ulong uVar24;
  ulong uVar25;
  ulong uVar26;
  ulong uVar27;
  long in_FS_OFFSET;
  bool bVar28;
  float fVar29;
  float fVar39;
  float fVar40;
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  float fVar41;
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  uint uVar42;
  uint uVar46;
  uint uVar47;
  undefined1 auVar43 [16];
  uint uVar48;
  undefined1 auVar44 [16];
  undefined1 auVar45 [16];
  uint uVar49;
  uint uVar51;
  uint uVar52;
  uint uVar53;
  undefined1 auVar50 [16];
  undefined8 local_960;
  undefined8 uStack_958;
  undefined4 local_950;
  undefined4 uStack_94c;
  undefined4 uStack_948;
  uint uStack_944;
  undefined1 local_930 [16];
  undefined1 local_920 [16];
  float local_910;
  float fStack_90c;
  float fStack_908;
  float fStack_904;
  float local_900;
  float fStack_8fc;
  float fStack_8f8;
  float fStack_8f4;
  undefined1 local_8f0 [16];
  undefined1 local_8e0 [16];
  uint local_8d0 [4];
  undefined1 local_8c0 [16];
  float local_8b0;
  float fStack_8ac;
  float fStack_8a8;
  float fStack_8a4;
  float local_8a0;
  float fStack_89c;
  float fStack_898;
  float fStack_894;
  undefined1 local_890 [16];
  int local_880 [4];
  undefined1 local_870 [1520];
  int local_280 [64];
  int local_180 [78];
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pauVar14 = (undefined1 (*) [16])local_880;
  pauVar19 = (undefined1 (*) [16])local_280;
  do {
    *(undefined4 *)pauVar14[4] = _LC1;
    *(undefined4 *)(pauVar14[4] + 4) = _LC1;
    *(undefined4 *)(pauVar14[4] + 8) = _LC1;
    *(undefined4 *)(pauVar14[4] + 0xc) = _LC1;
    pauVar15 = pauVar14 + 6;
    pauVar20 = pauVar19 + 1;
    *(undefined4 *)pauVar14[5] = _LC3;
    *(undefined4 *)(pauVar14[5] + 4) = _LC3;
    *(undefined4 *)(pauVar14[5] + 8) = _LC3;
    *(undefined4 *)(pauVar14[5] + 0xc) = _LC3;
    *(undefined4 *)pauVar14[2] = _LC1;
    *(undefined4 *)(pauVar14[2] + 4) = _LC1;
    *(undefined4 *)(pauVar14[2] + 8) = _LC1;
    *(undefined4 *)(pauVar14[2] + 0xc) = _LC1;
    *(undefined4 *)pauVar14[3] = _LC3;
    *(undefined4 *)(pauVar14[3] + 4) = _LC3;
    *(undefined4 *)(pauVar14[3] + 8) = _LC3;
    *(undefined4 *)(pauVar14[3] + 0xc) = _LC3;
    *(undefined4 *)*pauVar14 = _LC1;
    *(undefined4 *)(*pauVar14 + 4) = _LC1;
    *(undefined4 *)(*pauVar14 + 8) = _LC1;
    *(undefined4 *)(*pauVar14 + 0xc) = _LC1;
    *(undefined4 *)pauVar14[1] = _LC3;
    *(undefined4 *)(pauVar14[1] + 4) = _LC3;
    *(undefined4 *)(pauVar14[1] + 8) = _LC3;
    *(undefined4 *)(pauVar14[1] + 0xc) = _LC3;
    pauVar19[0x10] = (undefined1  [16])0x0;
    *pauVar19 = (undefined1  [16])0x0;
    pauVar14 = pauVar15;
    pauVar19 = pauVar20;
  } while ((undefined1 (*) [16])local_280 != pauVar15);
  fVar7 = *in_RCX;
  fVar8 = in_RCX[1];
  fVar9 = in_RCX[2];
  fVar10 = in_RCX[3];
  uVar4 = *(ulong *)(in_RCX + 0x12);
  uVar24 = *(ulong *)(in_RCX + 0x10);
  local_8b0 = fVar7;
  fStack_8ac = fVar8;
  fStack_8a8 = fVar9;
  fStack_8a4 = fVar10;
  auVar30._0_4_ = _LC24 & (uint)fVar7;
  auVar30._4_4_ = _LC24 & (uint)fVar8;
  auVar30._8_4_ = _LC24 & (uint)fVar9;
  auVar30._12_4_ = _LC24 & (uint)fVar10;
  auVar31._4_4_ = (uint)in_RCX[5] & _LC24;
  auVar31._0_4_ = (uint)in_RCX[4] & _LC24;
  auVar31._8_4_ = (uint)in_RCX[6] & _LC24;
  auVar31._12_4_ = (uint)in_RCX[7] & _LC24;
  auVar31 = maxps(auVar30,auVar31);
  fVar29 = auVar31._0_4_ * _LC67;
  fVar39 = auVar31._4_4_ * _LC67;
  auVar43._4_4_ = fVar39;
  auVar43._0_4_ = fVar29;
  fVar40 = auVar31._8_4_ * _LC67;
  fVar41 = auVar31._12_4_ * _LC67;
  auVar43._8_4_ = fVar40;
  auVar43._12_4_ = fVar41;
  auVar35._4_4_ = in_RCX[5] - fVar8;
  auVar35._0_4_ = in_RCX[4] - fVar7;
  auVar35._8_4_ = in_RCX[6] - fVar9;
  auVar35._12_4_ = in_RCX[7] - fVar10;
  auVar31 = maxps(auVar43,auVar35);
  auVar32._4_4_ = _LC69;
  auVar32._0_4_ = _LC69;
  auVar32._8_4_ = _LC69;
  auVar32._12_4_ = _LC69;
  auVar31 = divps(auVar32,auVar31);
  fVar29 = (float)(~-(uint)(in_RCX[4] - fVar7 <= fVar29) & auVar31._0_4_);
  fVar39 = (float)(~-(uint)(in_RCX[5] - fVar8 <= fVar39) & auVar31._4_4_);
  fVar40 = (float)(~-(uint)(in_RCX[6] - fVar9 <= fVar40) & auVar31._8_4_);
  fVar41 = (float)(~-(uint)(in_RCX[7] - fVar10 <= fVar41) & auVar31._12_4_);
  local_8a0 = fVar29;
  fStack_89c = fVar39;
  fStack_898 = fVar40;
  fStack_894 = fVar41;
  auVar33._4_4_ = _LC37;
  auVar33._0_4_ = _LC37;
  auVar33._8_4_ = _LC37;
  auVar33._12_4_ = _LC37;
  auVar50._4_4_ = fVar39;
  auVar50._0_4_ = fVar29;
  auVar50._8_4_ = fVar40;
  auVar50._12_4_ = fVar41;
  local_890 = divps(auVar33,auVar50);
  if (uVar24 < uVar4) {
    pauVar14 = (undefined1 (*) [16])(param_2 + uVar24 * 0x20);
    do {
      auVar31 = pauVar14[1];
      auVar35 = *pauVar14;
      if (*(uint *)(*pauVar14 + 0xc) < 0x10000000) {
        lVar21 = 0;
        uVar42 = (uint)(((auVar31._0_4_ + auVar35._0_4_) * _LC8 - fVar7) * fVar29 + _LC5);
        uVar46 = (uint)(((auVar31._4_4_ + auVar35._4_4_) * _LC8 - fVar8) * fVar39 + _UNK_00122f54);
        uVar47 = (uint)(((auVar31._8_4_ + auVar35._8_4_) * _LC8 - fVar9) * fVar40 + _UNK_00122f58);
        uVar48 = (uint)(((auVar31._12_4_ + auVar35._12_4_) * _LC8 - fVar10) * fVar41 + _UNK_00122f5c
                       );
        uVar49 = -(uint)((int)uVar42 < (int)__LC10);
        uVar51 = -(uint)((int)uVar46 < (int)_UNK_00122f74);
        uVar52 = -(uint)((int)uVar47 < (int)_UNK_00122f78);
        uVar53 = -(uint)((int)uVar48 < (int)_UNK_00122f7c);
        uVar42 = uVar42 & uVar49 | ~uVar49 & __LC10;
        uVar46 = uVar46 & uVar51 | ~uVar51 & _UNK_00122f74;
        uVar47 = uVar47 & uVar52 | ~uVar52 & _UNK_00122f78;
        uVar48 = uVar48 & uVar53 | ~uVar53 & _UNK_00122f7c;
        local_8c0._4_4_ = ~-(uint)((int)uVar46 < 0) & uVar46;
        local_8c0._0_4_ = ~-(uint)((int)uVar42 < 0) & uVar42;
        local_8c0._8_4_ = ~-(uint)((int)uVar47 < 0) & uVar47;
        local_8c0._12_4_ = ~-(uint)((int)uVar48 < 0) & uVar48;
        do {
          iVar3 = *(int *)(local_8c0 + lVar21 * 4);
          lVar16 = lVar21 + (long)iVar3 * 4;
          local_280[lVar16] = local_280[lVar16] + 1;
          local_180[lVar16] = local_180[lVar16] + 1;
          lVar16 = (long)iVar3 * 3 + lVar21;
          lVar21 = lVar21 + 1;
          lVar17 = lVar16 * 0x20;
          pauVar19 = (undefined1 (*) [16])local_880 + lVar16 * 2;
          auVar50 = minps(*pauVar19,auVar35);
          *pauVar19 = auVar50;
          auVar50 = maxps(*(undefined1 (*) [16])(local_870 + lVar17),auVar31);
          *(undefined1 (*) [16])(local_870 + lVar17) = auVar50;
        } while (lVar21 != 3);
        pauVar20 = (undefined1 (*) [16])0x3;
      }
      else {
        lVar21 = 0;
        uVar42 = (uint)((auVar35._0_4_ - fVar7) * fVar29 + _LC5);
        uVar46 = (uint)((auVar35._4_4_ - fVar8) * fVar39 + _UNK_00122f54);
        uVar47 = (uint)((auVar35._8_4_ - fVar9) * fVar40 + _UNK_00122f58);
        uVar48 = (uint)((auVar35._12_4_ - fVar10) * fVar41 + _UNK_00122f5c);
        uVar49 = -(uint)((int)uVar42 < (int)__LC10);
        uVar51 = -(uint)((int)uVar46 < (int)_UNK_00122f74);
        uVar52 = -(uint)((int)uVar47 < (int)_UNK_00122f78);
        uVar53 = -(uint)((int)uVar48 < (int)_UNK_00122f7c);
        auVar34._0_4_ = (int)((auVar31._0_4_ - fVar7) * fVar29 + _LC5);
        auVar34._4_4_ = (int)((auVar31._4_4_ - fVar8) * fVar39 + _UNK_00122f54);
        auVar34._8_4_ = (int)((auVar31._8_4_ - fVar9) * fVar40 + _UNK_00122f58);
        auVar34._12_4_ = (int)((auVar31._12_4_ - fVar10) * fVar41 + _UNK_00122f5c);
        uVar42 = uVar42 & uVar49 | ~uVar49 & __LC10;
        uVar46 = uVar46 & uVar51 | ~uVar51 & _UNK_00122f74;
        uVar47 = uVar47 & uVar52 | ~uVar52 & _UNK_00122f78;
        uVar48 = uVar48 & uVar53 | ~uVar53 & _UNK_00122f7c;
        local_8d0[0] = ~-(uint)((int)uVar42 < 0) & uVar42;
        local_8d0[1] = ~-(uint)((int)uVar46 < 0) & uVar46;
        local_8d0[2] = ~-(uint)((int)uVar47 < 0) & uVar47;
        local_8d0[3] = ~-(uint)((int)uVar48 < 0) & uVar48;
        auVar44._0_4_ = -(uint)(auVar34._0_4_ < (int)__LC10);
        auVar44._4_4_ = -(uint)(auVar34._4_4_ < (int)_UNK_00122f74);
        auVar44._8_4_ = -(uint)(auVar34._8_4_ < (int)_UNK_00122f78);
        auVar44._12_4_ = -(uint)(auVar34._12_4_ < (int)_UNK_00122f7c);
        auVar11._4_4_ = _UNK_00122f74;
        auVar11._0_4_ = __LC10;
        auVar11._8_4_ = _UNK_00122f78;
        auVar11._12_4_ = _UNK_00122f7c;
        auVar31 = auVar34 & auVar44 | ~auVar44 & auVar11;
        auVar45._0_4_ = -(uint)(auVar31._0_4_ < 0);
        auVar45._4_4_ = -(uint)(auVar31._4_4_ < 0);
        auVar45._8_4_ = -(uint)(auVar31._8_4_ < 0);
        auVar45._12_4_ = -(uint)(auVar31._12_4_ < 0);
        local_8c0 = ~auVar45 & auVar31;
        pfVar22 = &local_8b0;
        do {
          if (pfVar22[4] != 0.0) {
            uVar26 = (ulong)(int)local_8d0[lVar21];
            uVar18 = (ulong)*(int *)(local_8c0 + lVar21 * 4);
            auVar31 = pauVar14[1];
            auVar35 = *pauVar14;
            if (uVar26 == uVar18) {
              pauVar20 = (undefined1 (*) [16])(lVar21 + uVar26 * 4);
              local_280[(long)pauVar20] = local_280[(long)pauVar20] + 1;
              local_180[(long)pauVar20] = local_180[(long)pauVar20] + 1;
              uVar23 = uVar26;
            }
            else {
              local_930 = auVar35;
              local_920 = auVar31;
              uVar25 = uVar26;
              do {
                uVar23 = uVar25;
                uVar42 = (uint)pauVar20;
                if (uVar18 <= uVar23) goto LAB_001123da;
                uVar25 = uVar23 + 1;
                if ((long)uVar25 < 0) {
                  pauVar20 = (undefined1 (*) [16])(ulong)((uint)uVar25 & 1);
                }
              } while ((float)uVar25 * pfVar22[8] + *pfVar22 <= *(float *)(local_930 + lVar21 * 4));
              fVar1 = *pfVar22;
              fVar2 = pfVar22[8];
              uVar27 = uVar18;
              do {
                if ((long)uVar27 < 0) {
                  pauVar20 = (undefined1 (*) [16])(ulong)((uint)uVar27 & 1);
                }
                if ((float)uVar27 * fVar2 + fVar1 < *(float *)(local_920 + lVar21 * 4)) {
                  uVar5 = *(undefined8 *)in_RDX[1];
                  pcVar6 = *(code **)*in_RDX;
                  uVar46 = *(uint *)(*pauVar14 + 0xc);
                  uVar47 = *(uint *)(pauVar14[1] + 0xc);
                  uVar42 = uVar47;
                  if (uVar23 < uVar27) {
                    pauVar19 = (undefined1 (*) [16])local_880 + (uVar23 * 3 + lVar21) * 2;
                    while( true ) {
                      local_8f0._0_12_ = auVar35._0_12_;
                      local_8f0._12_4_ = uVar46 & 0x7ffffff;
                      auVar50 = local_8f0;
                      local_8f0._0_8_ = auVar35._0_8_;
                      local_960 = local_8f0._0_8_;
                      local_8f0._8_8_ = auVar50._8_8_;
                      uStack_958 = local_8f0._8_8_;
                      local_8f0._0_12_ = auVar31._0_12_;
                      local_8f0._12_4_ = uVar47;
                      auVar35 = local_8f0;
                      local_8f0._0_4_ = auVar31._0_4_;
                      local_950 = local_8f0._0_4_;
                      local_8f0._4_4_ = auVar31._4_4_;
                      uStack_94c = local_8f0._4_4_;
                      local_8f0._8_4_ = auVar31._8_4_;
                      uStack_948 = local_8f0._8_4_;
                      auVar37._4_12_ = SUB1612((undefined1  [16])0x0,4);
                      auVar37._0_4_ = (float)uVar25 * fVar2 + fVar1;
                      uStack_944 = uVar47;
                      local_8f0 = auVar35;
                      (*pcVar6)(auVar37._0_8_,&local_960,(int)lVar21,&local_910,local_8f0,uVar5);
                      auVar38._4_4_ = -(uint)(fStack_90c <= fStack_8fc);
                      auVar38._0_4_ = -(uint)(local_910 <= local_900);
                      auVar38._8_4_ = -(uint)(fStack_908 <= fStack_8f8);
                      auVar38._12_4_ = -(uint)(fStack_904 <= fStack_8f4);
                      uVar42 = movmskps(extraout_EDX,auVar38);
                      auVar12._4_4_ = fStack_90c;
                      auVar12._0_4_ = local_910;
                      auVar12._8_4_ = fStack_908;
                      auVar12._12_4_ = fStack_904;
                      auVar31 = minps(*pauVar19,auVar12);
                      bVar28 = (~uVar42 & 7) != 0;
                      *pauVar19 = auVar31;
                      auVar13._4_4_ = fStack_8fc;
                      auVar13._0_4_ = local_900;
                      auVar13._8_4_ = fStack_8f8;
                      auVar13._12_4_ = fStack_8f4;
                      auVar31 = maxps(pauVar19[1],auVar13);
                      uVar42 = (uint)bVar28;
                      uVar26 = uVar26 + bVar28;
                      pauVar19[1] = auVar31;
                      uVar23 = uVar27;
                      auVar31 = local_8e0;
                      auVar35 = local_8f0;
                      if (uVar27 <= uVar25) break;
                      uVar25 = uVar25 + 1;
                      pauVar19 = pauVar19 + 6;
                    }
                  }
                  break;
                }
                uVar42 = (uint)pauVar20;
                uVar27 = uVar27 - 1;
              } while (uVar23 < uVar27);
LAB_001123da:
              auVar36._4_4_ = -(uint)(auVar35._4_4_ <= auVar31._4_4_);
              auVar36._0_4_ = -(uint)(auVar35._0_4_ <= auVar31._0_4_);
              auVar36._8_4_ = -(uint)(auVar35._8_4_ <= auVar31._8_4_);
              auVar36._12_4_ = -(uint)(auVar35._12_4_ <= auVar31._12_4_);
              uVar42 = movmskps(uVar42,auVar36);
              local_880[lVar21 + 0x180 + uVar26 * 4] = local_880[lVar21 + 0x180 + uVar26 * 4] + 1;
              pauVar20 = (undefined1 (*) [16])(ulong)((~uVar42 & 7) != 0);
              local_880[lVar21 + 0x1c0 + (uVar18 - (long)pauVar20) * 4] =
                   local_880[lVar21 + 0x1c0 + (uVar18 - (long)pauVar20) * 4] + 1;
            }
            lVar16 = uVar23 * 3 + lVar21;
            lVar17 = lVar16 * 0x20;
            pauVar19 = (undefined1 (*) [16])local_880 + lVar16 * 2;
            auVar35 = minps(*pauVar19,auVar35);
            *pauVar19 = auVar35;
            auVar31 = maxps(*(undefined1 (*) [16])(local_870 + lVar17),auVar31);
            *(undefined1 (*) [16])(local_870 + lVar17) = auVar31;
          }
          lVar21 = lVar21 + 1;
          pfVar22 = pfVar22 + 1;
        } while (lVar21 != 3);
      }
      uVar24 = uVar24 + 1;
      pauVar14 = pauVar14 + 2;
    } while (uVar24 < uVar4);
  }
  SpatialBinInfo<16ul,embree::PrimRef>::best((SpatialBinMapping *)param_1,(ulong)local_880);
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::find(embree::sse2::PrimInfoExtRange const&, unsigned long) */

HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
* __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::find(HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
       *this,PrimInfoExtRange *param_1,ulong param_2)

{
  float *pfVar1;
  undefined1 auVar2 [16];
  uint uVar3;
  undefined4 extraout_EDX;
  undefined4 extraout_EDX_00;
  undefined4 uVar4;
  uint uVar5;
  long lVar6;
  long in_FS_OFFSET;
  float fVar7;
  float fVar8;
  float fVar10;
  float fVar11;
  float fVar12;
  float fVar13;
  undefined1 auVar9 [16];
  undefined1 auVar14 [16];
  float fVar15;
  float fVar16;
  undefined1 auVar17 [16];
  float fVar18;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  float local_c8;
  undefined4 local_c4;
  undefined4 local_c0;
  undefined4 local_bc;
  undefined8 local_b8;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  float local_88;
  undefined8 local_84;
  int local_7c;
  int local_78;
  undefined4 local_74;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  lVar6 = *(long *)(param_2 + 0x48);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if ((ulong)(lVar6 - *(long *)(param_2 + 0x40)) < 0xc00) {
    sequential_object_find((PrimInfoExtRange *)&local_c8,*(ulong *)param_1,(SplitInfoT *)param_2);
    fVar7 = local_c8;
    uVar4 = extraout_EDX;
    if (*(long *)(param_2 + 0x50) != lVar6) {
LAB_00112836:
      auVar14 = maxps(local_108,local_e8);
      auVar9 = minps(local_f8,local_d8);
      pfVar1 = *(float **)(param_1 + 0x10);
      auVar17._4_4_ = -(uint)(auVar14._4_4_ <= auVar9._4_4_);
      auVar17._0_4_ = -(uint)(auVar14._0_4_ <= auVar9._0_4_);
      auVar17._8_4_ = -(uint)(auVar14._8_4_ <= auVar9._8_4_);
      auVar17._12_4_ = -(uint)(auVar14._12_4_ <= auVar9._12_4_);
      uVar5 = movmskps(uVar4,auVar17);
      auVar2._4_4_ = -(uint)(pfVar1[1] <= pfVar1[5]);
      auVar2._0_4_ = -(uint)(*pfVar1 <= pfVar1[4]);
      auVar2._8_4_ = -(uint)(pfVar1[2] <= pfVar1[6]);
      auVar2._12_4_ = -(uint)(pfVar1[3] <= pfVar1[7]);
      uVar3 = movmskps((int)pfVar1,auVar2);
      uVar3 = uVar3 & 7;
      local_c8 = fVar7;
      if ((~uVar5 & 7) == 0) {
        fVar10 = auVar9._4_4_ - auVar14._4_4_;
        fVar12 = auVar9._8_4_ - auVar14._8_4_;
        fVar15 = 0.0;
        fVar10 = (fVar10 + fVar12) * (auVar9._0_4_ - auVar14._0_4_) + fVar10 * fVar12;
        fVar10 = fVar10 + fVar10;
        if (uVar3 == 7) {
LAB_001128d9:
          fVar15 = pfVar1[5] - pfVar1[1];
          fVar12 = pfVar1[6] - pfVar1[2];
          fVar15 = (fVar15 + fVar12) * (pfVar1[4] - *pfVar1) + fVar15 * fVar12;
          fVar15 = (fVar15 + fVar15) * __LC70;
        }
        if (fVar15 <= fVar10) {
          fVar15 = *(float *)param_2;
          fVar12 = *(float *)(param_2 + 4);
          fVar18 = *(float *)(param_2 + 8);
          fVar8 = *(float *)(param_2 + 0x10);
          fVar11 = *(float *)(param_2 + 0x14);
          fVar13 = *(float *)(param_2 + 0x18);
          auVar14._4_4_ = -(uint)(fVar12 <= fVar11);
          auVar14._0_4_ = -(uint)(fVar15 <= fVar8);
          auVar14._8_4_ = -(uint)(fVar18 <= fVar13);
          auVar14._12_4_ = -(uint)(*(float *)(param_2 + 0xc) <= *(float *)(param_2 + 0x1c));
          uVar3 = movmskps(uVar3,auVar14);
          fVar16 = 0.0;
          if ((~uVar3 & 7) == 0) {
LAB_0011292c:
            fVar15 = ((fVar11 - fVar12) + (fVar13 - fVar18)) * (fVar8 - fVar15) +
                     (fVar11 - fVar12) * (fVar13 - fVar18);
            fVar16 = (fVar15 + fVar15) * __LC71;
          }
          if (fVar16 <= fVar10) goto LAB_00112964;
        }
      }
      else {
        if (uVar3 == 7) {
          fVar10 = 0.0;
          goto LAB_001128d9;
        }
        fVar15 = *(float *)param_2;
        fVar12 = *(float *)(param_2 + 4);
        fVar18 = *(float *)(param_2 + 8);
        fVar8 = *(float *)(param_2 + 0x10);
        fVar11 = *(float *)(param_2 + 0x14);
        fVar13 = *(float *)(param_2 + 0x18);
        auVar9._4_4_ = -(uint)(fVar12 <= fVar11);
        auVar9._0_4_ = -(uint)(fVar15 <= fVar8);
        auVar9._8_4_ = -(uint)(fVar18 <= fVar13);
        auVar9._12_4_ = -(uint)(*(float *)(param_2 + 0xc) <= *(float *)(param_2 + 0x1c));
        uVar3 = movmskps(uVar3,auVar9);
        fVar10 = 0.0;
        if ((~uVar3 & 7) == 0) goto LAB_0011292c;
LAB_00112964:
        if ((ulong)(lVar6 - *(long *)(param_2 + 0x40)) < 0xc00) {
          sequential_spatial_find((PrimInfoExtRange *)&local_88,*(ulong *)param_1);
        }
        else {
          parallel_spatial_find
                    ((HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
                      *)&local_88,param_1,param_2);
        }
        if ((local_88 < _LC18 * fVar7) &&
           ((ulong)(((long)(local_7c + local_78) + *(long *)(param_2 + 0x40)) -
                   *(long *)(param_2 + 0x48)) <=
            (ulong)(*(long *)(param_2 + 0x50) - *(long *)(param_2 + 0x48)))) {
          this[0x50] = (HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
                        )0x1;
          *(int *)(this + 0xc) = local_7c;
          *(undefined8 *)(this + 0x20) = local_68;
          *(undefined8 *)(this + 0x28) = uStack_60;
          *(undefined8 *)(this + 4) = local_84;
          *(undefined8 *)(this + 0x30) = local_58;
          *(undefined8 *)(this + 0x38) = uStack_50;
          *(int *)(this + 0x10) = local_78;
          *(float *)(this + 0x54) = local_88;
          *(float *)this = local_88;
          *(undefined4 *)(this + 0x14) = local_74;
          *(undefined8 *)(this + 0x40) = local_48;
          *(undefined8 *)(this + 0x48) = uStack_40;
          goto LAB_001127ea;
        }
      }
    }
  }
  else {
    parallel_object_find((PrimInfoExtRange *)&local_c8,(ulong)param_1,(SplitInfoT *)param_2);
    lVar6 = *(long *)(param_2 + 0x48);
    fVar7 = local_c8;
    uVar4 = extraout_EDX_00;
    if (*(long *)(param_2 + 0x50) != lVar6) goto LAB_00112836;
  }
  this[0x50] = (HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
                )0x0;
  *(float *)(this + 0x54) = local_c8;
  *(undefined4 *)(this + 4) = local_c4;
  *(float *)this = local_c8;
  *(undefined4 *)(this + 8) = local_c0;
  *(undefined8 *)(this + 0x20) = local_a8;
  *(undefined8 *)(this + 0x28) = uStack_a0;
  *(undefined4 *)(this + 0xc) = local_bc;
  *(undefined8 *)(this + 0x30) = local_98;
  *(undefined8 *)(this + 0x38) = uStack_90;
  *(undefined8 *)(this + 0x10) = local_b8;
LAB_001127ea:
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__introsort_loop<embree::PrimRef*, long,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRef*, embree::PrimRef*, long,
   __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined8 *param_2,long param_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined8 uVar17;
  undefined8 *puVar18;
  long lVar19;
  undefined4 *puVar20;
  ulong uVar21;
  ulong uVar22;
  undefined8 *puVar23;
  ulong uVar24;
  undefined8 *puVar25;
  undefined8 *puVar26;
  long in_FS_OFFSET;
  undefined4 local_80;
  undefined4 uStack_7c;
  undefined4 uStack_78;
  undefined4 uStack_74;
  undefined4 local_70;
  undefined4 uStack_6c;
  undefined4 uStack_68;
  undefined4 uStack_64;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  lVar19 = (long)param_2 - (long)param_1;
  if (0x200 < lVar19) {
    puVar26 = (undefined8 *)(param_1 + 8);
    puVar23 = param_2;
    if (param_3 != 0) {
      do {
        param_3 = param_3 + -1;
        uVar1 = *param_1;
        uVar2 = param_1[1];
        uVar3 = param_1[2];
        uVar4 = param_1[3];
        puVar20 = param_1 + (lVar19 >> 6) * 8;
        uVar5 = param_1[4];
        uVar6 = param_1[5];
        uVar7 = param_1[6];
        uVar8 = param_1[7];
        uVar21 = CONCAT44(param_1[0xf],param_1[0xb]);
        uVar22 = CONCAT44(puVar20[7],puVar20[3]);
        uVar24 = CONCAT44(*(undefined4 *)((long)puVar23 + -4),*(undefined4 *)((long)puVar23 + -0x14)
                         );
        puVar25 = puVar23;
        param_2 = puVar26;
        if (uVar21 < uVar22) {
          if (uVar22 < uVar24) {
LAB_00112c2a:
            uVar9 = puVar20[1];
            uVar10 = puVar20[2];
            uVar11 = puVar20[3];
            *param_1 = *puVar20;
            param_1[1] = uVar9;
            param_1[2] = uVar10;
            param_1[3] = uVar11;
            uVar9 = puVar20[5];
            uVar10 = puVar20[6];
            uVar11 = puVar20[7];
            param_1[4] = puVar20[4];
            param_1[5] = uVar9;
            param_1[6] = uVar10;
            param_1[7] = uVar11;
            *puVar20 = uVar1;
            puVar20[1] = uVar2;
            puVar20[2] = uVar3;
            puVar20[3] = uVar4;
            puVar20[4] = uVar5;
            puVar20[5] = uVar6;
            puVar20[6] = uVar7;
            puVar20[7] = uVar8;
          }
          else {
            if (uVar24 <= uVar21) goto LAB_00112b0e;
LAB_00112bda:
            uVar9 = *(undefined4 *)((long)puVar23 + -0x1c);
            uVar10 = *(undefined4 *)(puVar23 + -3);
            uVar11 = *(undefined4 *)((long)puVar23 + -0x14);
            *param_1 = *(undefined4 *)(puVar23 + -4);
            param_1[1] = uVar9;
            param_1[2] = uVar10;
            param_1[3] = uVar11;
            uVar9 = *(undefined4 *)((long)puVar23 + -0xc);
            uVar10 = *(undefined4 *)(puVar23 + -1);
            uVar11 = *(undefined4 *)((long)puVar23 + -4);
            param_1[4] = *(undefined4 *)(puVar23 + -2);
            param_1[5] = uVar9;
            param_1[6] = uVar10;
            param_1[7] = uVar11;
            *(undefined4 *)(puVar23 + -4) = uVar1;
            *(undefined4 *)((long)puVar23 + -0x1c) = uVar2;
            *(undefined4 *)(puVar23 + -3) = uVar3;
            *(undefined4 *)((long)puVar23 + -0x14) = uVar4;
            *(undefined4 *)(puVar23 + -2) = uVar5;
            *(undefined4 *)((long)puVar23 + -0xc) = uVar6;
            *(undefined4 *)(puVar23 + -1) = uVar7;
            *(undefined4 *)((long)puVar23 + -4) = uVar8;
          }
        }
        else {
          if (uVar24 <= uVar21) {
            if (uVar22 < uVar24) goto LAB_00112bda;
            goto LAB_00112c2a;
          }
LAB_00112b0e:
          uVar9 = param_1[8];
          uVar10 = param_1[9];
          uVar11 = param_1[10];
          uVar12 = param_1[0xb];
          uVar13 = param_1[0xc];
          uVar14 = param_1[0xd];
          uVar15 = param_1[0xe];
          uVar16 = param_1[0xf];
          param_1[8] = uVar1;
          param_1[9] = uVar2;
          param_1[10] = uVar3;
          param_1[0xb] = uVar4;
          param_1[0xc] = uVar5;
          param_1[0xd] = uVar6;
          param_1[0xe] = uVar7;
          param_1[0xf] = uVar8;
          *param_1 = uVar9;
          param_1[1] = uVar10;
          param_1[2] = uVar11;
          param_1[3] = uVar12;
          param_1[4] = uVar13;
          param_1[5] = uVar14;
          param_1[6] = uVar15;
          param_1[7] = uVar16;
        }
        while( true ) {
          for (; CONCAT44(*(undefined4 *)((long)param_2 + 0x1c),*(undefined4 *)((long)param_2 + 0xc)
                         ) < CONCAT44(param_1[7],param_1[3]); param_2 = param_2 + 4) {
          }
          uVar21 = CONCAT44(*(undefined4 *)((long)puVar25 + -4),
                            *(undefined4 *)((long)puVar25 + -0x14));
          while (puVar18 = puVar25 + -4, CONCAT44(param_1[7],param_1[3]) < uVar21) {
            uVar21 = CONCAT44(*(undefined4 *)((long)puVar25 + -0x24),
                              *(undefined4 *)((long)puVar25 + -0x34));
            puVar25 = puVar18;
          }
          if (puVar18 <= param_2) break;
          uVar17 = puVar25[-3];
          uVar1 = *(undefined4 *)param_2;
          uVar2 = *(undefined4 *)((long)param_2 + 4);
          uVar3 = *(undefined4 *)(param_2 + 1);
          uVar4 = *(undefined4 *)((long)param_2 + 0xc);
          uVar5 = *(undefined4 *)(param_2 + 2);
          uVar6 = *(undefined4 *)((long)param_2 + 0x14);
          uVar7 = *(undefined4 *)(param_2 + 3);
          uVar8 = *(undefined4 *)((long)param_2 + 0x1c);
          *param_2 = *puVar18;
          param_2[1] = uVar17;
          uVar17 = puVar25[-1];
          param_2[2] = puVar25[-2];
          param_2[3] = uVar17;
          *(undefined4 *)puVar18 = uVar1;
          *(undefined4 *)((long)puVar25 + -0x1c) = uVar2;
          *(undefined4 *)(puVar25 + -3) = uVar3;
          *(undefined4 *)((long)puVar25 + -0x14) = uVar4;
          *(undefined4 *)(puVar25 + -2) = uVar5;
          *(undefined4 *)((long)puVar25 + -0xc) = uVar6;
          *(undefined4 *)(puVar25 + -1) = uVar7;
          *(undefined4 *)((long)puVar25 + -4) = uVar8;
          puVar25 = puVar18;
          param_2 = param_2 + 4;
        }
        __introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (param_2,puVar23,param_3);
        lVar19 = (long)param_2 - (long)param_1;
        if (lVar19 < 0x201) goto LAB_00112cac;
        puVar23 = param_2;
      } while (param_3 != 0);
    }
    __heap_select<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(param_1,param_2,param_2);
    do {
      puVar26 = param_2 + -4;
      uVar1 = param_1[1];
      uVar2 = param_1[2];
      uVar3 = param_1[3];
      local_80 = *(undefined4 *)puVar26;
      uStack_7c = *(undefined4 *)((long)param_2 + -0x1c);
      uStack_78 = *(undefined4 *)(param_2 + -3);
      uStack_74 = *(undefined4 *)((long)param_2 + -0x14);
      local_70 = *(undefined4 *)(param_2 + -2);
      uStack_6c = *(undefined4 *)((long)param_2 + -0xc);
      uStack_68 = *(undefined4 *)(param_2 + -1);
      uStack_64 = *(undefined4 *)((long)param_2 + -4);
      *(undefined4 *)puVar26 = *param_1;
      *(undefined4 *)((long)param_2 + -0x1c) = uVar1;
      *(undefined4 *)(param_2 + -3) = uVar2;
      *(undefined4 *)((long)param_2 + -0x14) = uVar3;
      uVar1 = param_1[5];
      uVar2 = param_1[6];
      uVar3 = param_1[7];
      *(undefined4 *)(param_2 + -2) = param_1[4];
      *(undefined4 *)((long)param_2 + -0xc) = uVar1;
      *(undefined4 *)(param_2 + -1) = uVar2;
      *(undefined4 *)((long)param_2 + -4) = uVar3;
      __adjust_heap<embree::PrimRef*,long,embree::PrimRef,__gnu_cxx::__ops::_Iter_less_iter>
                (param_1,0,(long)puVar26 - (long)param_1 >> 5,&local_80);
      param_2 = puVar26;
    } while (0x20 < (long)puVar26 - (long)param_1);
  }
LAB_00112cac:
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::split(embree::sse2::Split2<embree::sse2::BinSplit<32ul>,
   embree::sse2::SpatialBinSplit<16ul> > const&, embree::sse2::PrimInfoExtRange const&,
   embree::sse2::PrimInfoExtRange&, embree::sse2::PrimInfoExtRange&) */

void __thiscall
embree::sse2::
HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
::split(HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
        *this,Split2 *param_1,PrimInfoExtRange *param_2,PrimInfoExtRange *param_3,
       PrimInfoExtRange *param_4)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  ulong uVar4;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  *this_00;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  *pHVar9;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  *pHVar10;
  ulong uVar11;
  undefined1 (*pauVar12) [16];
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  *pHVar13;
  long lVar14;
  int iVar15;
  undefined8 *puVar16;
  undefined8 *puVar17;
  long lVar18;
  long lVar19;
  int in_R11D;
  undefined8 *puVar20;
  ulong uVar21;
  undefined1 (*pauVar22) [16];
  ulong uVar23;
  long in_FS_OFFSET;
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  uint local_f8;
  uint uStack_f4;
  uint uStack_f0;
  uint uStack_ec;
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  ulong local_68;
  ulong local_60;
  ulong local_58;
  long local_40;
  
  local_a8 = *(undefined8 *)param_2;
  uStack_a0 = *(undefined8 *)(param_2 + 8);
  local_88 = *(undefined8 *)(param_2 + 0x20);
  uStack_80 = *(undefined8 *)(param_2 + 0x28);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_98 = *(undefined8 *)(param_2 + 0x10);
  uStack_90 = *(undefined8 *)(param_2 + 0x18);
  uVar4 = *(ulong *)(param_2 + 0x40);
  uVar21 = *(ulong *)(param_2 + 0x48);
  uVar23 = *(ulong *)(param_2 + 0x50);
  local_78 = *(undefined8 *)(param_2 + 0x30);
  uStack_70 = *(undefined8 *)(param_2 + 0x38);
  local_68 = uVar4;
  local_60 = uVar21;
  local_58 = uVar23;
  if (_LC72 < *(float *)(param_1 + 0x54)) {
    lVar14 = uVar21 * 0x20;
    puVar16 = (undefined8 *)(*(long *)this + lVar14);
    puVar17 = (undefined8 *)(*(long *)this + uVar4 * 0x20);
    if (puVar16 != puVar17) {
      lVar18 = lVar14 + uVar4 * -0x20;
      uVar11 = lVar18 >> 5;
      if (uVar11 == 0) {
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar17,puVar16,0xfffffffffffffffe);
      }
      else {
        lVar19 = 0x3f;
        if (uVar11 != 0) {
          for (; uVar11 >> lVar19 == 0; lVar19 = lVar19 + -1) {
          }
        }
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar17,puVar16,(long)(int)lVar19 * 2);
        if (0x200 < lVar18) {
          puVar20 = puVar17 + 0x40;
          std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar17,puVar20)
          ;
          for (; puVar16 != puVar20; puVar20 = puVar20 + 4) {
            uVar2 = *(undefined4 *)((long)puVar20 + 0x1c);
            uVar3 = *(undefined4 *)((long)puVar20 + 0xc);
            uVar5 = puVar20[2];
            uVar6 = puVar20[3];
            uVar7 = *puVar20;
            uVar8 = puVar20[1];
            uVar11 = CONCAT44(*(undefined4 *)((long)puVar20 + -4),
                              *(undefined4 *)((long)puVar20 + -0x14));
            puVar17 = puVar20;
            while (CONCAT44(uVar2,uVar3) < uVar11) {
              *puVar17 = puVar17[-4];
              puVar17[1] = puVar17[-3];
              puVar17[2] = puVar17[-2];
              puVar17[3] = puVar17[-1];
              uVar11 = CONCAT44(*(undefined4 *)((long)puVar17 + -0x24),
                                *(undefined4 *)((long)puVar17 + -0x34));
              puVar17 = puVar17 + -4;
            }
            *puVar17 = uVar7;
            puVar17[1] = uVar8;
            puVar17[2] = uVar5;
            puVar17[3] = uVar6;
          }
          goto LAB_00113119;
        }
      }
      std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar17,puVar16);
    }
LAB_00113119:
    uVar11 = uVar4 + uVar21 >> 1;
    if (uVar4 < uVar11) {
      lVar18 = 0;
      auVar32._8_4_ = _LC3;
      auVar32._0_8_ = CONCAT44(_LC3,_LC3);
      auVar32._12_4_ = _LC3;
      auVar34._8_4_ = _LC3;
      auVar34._0_8_ = CONCAT44(_LC3,_LC3);
      auVar34._12_4_ = _LC3;
      auVar33._8_4_ = _LC1;
      auVar33._0_8_ = CONCAT44(_LC1,_LC1);
      auVar33._12_4_ = _LC1;
      auVar35._8_4_ = _LC1;
      auVar35._0_8_ = CONCAT44(_LC1,_LC1);
      auVar35._12_4_ = _LC1;
      pauVar12 = (undefined1 (*) [16])(uVar4 * 0x20 + *(long *)this);
      do {
        pauVar22 = pauVar12 + 2;
        auVar31._0_4_ = *(float *)pauVar12[1] + *(float *)*pauVar12;
        auVar31._4_4_ = *(float *)(pauVar12[1] + 4) + *(float *)(*pauVar12 + 4);
        auVar31._8_4_ = *(float *)(pauVar12[1] + 8) + *(float *)(*pauVar12 + 8);
        auVar31._12_4_ = *(float *)(pauVar12[1] + 0xc) + *(float *)(*pauVar12 + 0xc);
        auVar35 = minps(auVar35,*pauVar12);
        auVar34 = maxps(auVar34,pauVar12[1]);
        lVar18 = lVar18 + (ulong)(*(uint *)(*pauVar12 + 0xc) >> 0x1b);
        auVar33 = minps(auVar33,auVar31);
        auVar32 = maxps(auVar32,auVar31);
        pauVar12 = pauVar22;
      } while ((undefined1 (*) [16])(*(long *)this + uVar11 * 0x20) != pauVar22);
    }
    else {
      lVar18 = 0;
      auVar32._8_4_ = _LC3;
      auVar32._0_8_ = CONCAT44(_LC3,_LC3);
      auVar32._12_4_ = _LC3;
      auVar33._8_4_ = _LC1;
      auVar33._0_8_ = CONCAT44(_LC1,_LC1);
      auVar33._12_4_ = _LC1;
      auVar34._8_4_ = _LC3;
      auVar34._0_8_ = CONCAT44(_LC3,_LC3);
      auVar34._12_4_ = _LC3;
      auVar35._8_4_ = _LC1;
      auVar35._0_8_ = CONCAT44(_LC1,_LC1);
      auVar35._12_4_ = _LC1;
    }
    auVar30._4_4_ = _LC1;
    auVar30._0_4_ = _LC1;
    auVar27._4_4_ = _LC3;
    auVar27._0_4_ = _LC3;
    auVar30._8_4_ = _LC1;
    auVar27._8_4_ = _LC3;
    auVar30._12_4_ = _LC1;
    auVar27._12_4_ = _LC3;
    auVar31 = auVar27;
    auVar36 = auVar30;
    if (uVar11 < uVar21) {
      lVar19 = 0;
      pauVar12 = (undefined1 (*) [16])(uVar11 * 0x20 + *(long *)this);
      do {
        pauVar22 = pauVar12 + 2;
        auVar24._0_4_ = *(float *)pauVar12[1] + *(float *)*pauVar12;
        auVar24._4_4_ = *(float *)(pauVar12[1] + 4) + *(float *)(*pauVar12 + 4);
        auVar24._8_4_ = *(float *)(pauVar12[1] + 8) + *(float *)(*pauVar12 + 8);
        auVar24._12_4_ = *(float *)(pauVar12[1] + 0xc) + *(float *)(*pauVar12 + 0xc);
        auVar36 = minps(auVar36,*pauVar12);
        auVar31 = maxps(auVar31,pauVar12[1]);
        lVar19 = lVar19 + (ulong)(*(uint *)(*pauVar12 + 0xc) >> 0x1b);
        auVar30 = minps(auVar30,auVar24);
        auVar27 = maxps(auVar27,auVar24);
        pauVar12 = pauVar22;
      } while ((undefined1 (*) [16])(*(long *)this + lVar14) != pauVar22);
    }
    else {
      lVar19 = 0;
    }
    auVar42._8_8_ = lVar19;
    auVar42._0_8_ = lVar18;
    *(ulong *)(param_3 + 0x40) = uVar4;
    *(ulong *)(param_3 + 0x48) = uVar11;
    *(ulong *)(param_3 + 0x50) = uVar11;
    *(undefined1 (*) [16])param_3 = auVar35;
    *(undefined1 (*) [16])(param_3 + 0x10) = auVar34;
    *(undefined1 (*) [16])(param_3 + 0x20) = auVar33;
    *(undefined1 (*) [16])(param_3 + 0x30) = auVar32;
    *(ulong *)(param_4 + 0x40) = uVar11;
    *(ulong *)(param_4 + 0x48) = uVar21;
    *(ulong *)(param_4 + 0x50) = uVar21;
    *(undefined1 (*) [16])param_4 = auVar36;
    *(undefined1 (*) [16])(param_4 + 0x10) = auVar31;
    *(undefined1 (*) [16])(param_4 + 0x20) = auVar30;
    *(undefined1 (*) [16])(param_4 + 0x30) = auVar27;
    if (uVar21 != uVar23) goto LAB_00113226;
  }
  else {
    if (param_1[0x50] == (Split2)0x0) {
      this_00 = *(HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
                  **)this;
      if (uVar21 - uVar4 < 0xc00) {
        iVar1 = *(int *)(param_1 + 8);
        lVar18 = 0;
        puVar16 = &mm_lookupmask_ps;
        lVar14 = 0;
        auVar36._0_8_ = CONCAT44(_LC3,_LC3);
        auVar36._8_4_ = _LC3;
        auVar36._12_4_ = _LC3;
        auVar32 = *(undefined1 (*) [16])
                   (&mm_lookupmask_ps +
                   (ulong)(uint)(1 << ((byte)*(undefined4 *)(param_1 + 4) & 0x1f)) * 2);
        auVar38._8_4_ = _LC3;
        auVar38._0_8_ = auVar36._0_8_;
        auVar38._12_4_ = _LC3;
        auVar37._0_8_ = CONCAT44(_LC1,_LC1);
        auVar37._8_4_ = _LC1;
        auVar37._12_4_ = _LC1;
        auVar40._8_4_ = _LC3;
        auVar40._0_8_ = auVar36._0_8_;
        auVar40._12_4_ = _LC3;
        auVar39._8_4_ = _LC1;
        auVar39._0_8_ = auVar37._0_8_;
        auVar39._12_4_ = _LC1;
        auVar41._8_4_ = _LC1;
        auVar41._0_8_ = auVar37._0_8_;
        auVar41._12_4_ = _LC1;
        pHVar9 = this_00 + uVar21 * 0x20 + -0x20;
        local_e8 = auVar36;
        local_d8 = auVar37;
        for (pHVar13 = this_00 + uVar4 * 0x20; pHVar13 <= pHVar9; pHVar13 = pHVar13 + 0x20) {
          auVar33 = *(undefined1 (*) [16])(pHVar13 + 0x10);
          auVar34 = *(undefined1 (*) [16])pHVar13;
          auVar25._0_4_ = auVar33._0_4_ + auVar34._0_4_;
          auVar25._4_4_ = auVar33._4_4_ + auVar34._4_4_;
          auVar25._8_4_ = auVar33._8_4_ + auVar34._8_4_;
          auVar25._12_4_ = auVar33._12_4_ + auVar34._12_4_;
          local_f8 = auVar32._0_4_;
          uStack_f4 = auVar32._4_4_;
          uStack_f0 = auVar32._8_4_;
          uStack_ec = auVar32._12_4_;
          auVar28._0_4_ =
               -(uint)((int)((auVar25._0_4_ - *(float *)(param_1 + 0x20)) *
                             *(float *)(param_1 + 0x30) + _LC5) < iVar1) & local_f8;
          auVar28._4_4_ =
               -(uint)((int)((auVar25._4_4_ - *(float *)(param_1 + 0x24)) *
                             *(float *)(param_1 + 0x34) + _UNK_00122f54) < iVar1) & uStack_f4;
          auVar28._8_4_ =
               -(uint)((int)((auVar25._8_4_ - *(float *)(param_1 + 0x28)) *
                             *(float *)(param_1 + 0x38) + _UNK_00122f58) < iVar1) & uStack_f0;
          auVar28._12_4_ =
               -(uint)((int)((auVar25._12_4_ - *(float *)(param_1 + 0x2c)) *
                             *(float *)(param_1 + 0x3c) + _UNK_00122f5c) < iVar1) & uStack_ec;
          iVar15 = movmskps((int)puVar16,auVar28);
          if (iVar15 == 0) {
            while( true ) {
              auVar35 = *(undefined1 (*) [16])(pHVar9 + 0x10);
              auVar31 = *(undefined1 (*) [16])pHVar9;
              pHVar10 = pHVar9 + -0x20;
              auVar29._0_4_ = auVar35._0_4_ + auVar31._0_4_;
              auVar29._4_4_ = auVar35._4_4_ + auVar31._4_4_;
              auVar29._8_4_ = auVar35._8_4_ + auVar31._8_4_;
              auVar29._12_4_ = auVar35._12_4_ + auVar31._12_4_;
              puVar17 = (undefined8 *)(ulong)(*(uint *)(pHVar9 + 0xc) >> 0x1b);
              auVar26._0_4_ =
                   -(uint)((int)((auVar29._0_4_ - *(float *)(param_1 + 0x20)) *
                                 *(float *)(param_1 + 0x30) + _LC5) < iVar1) & local_f8;
              auVar26._4_4_ =
                   -(uint)((int)((auVar29._4_4_ - *(float *)(param_1 + 0x24)) *
                                 *(float *)(param_1 + 0x34) + _UNK_00122f54) < iVar1) & uStack_f4;
              auVar26._8_4_ =
                   -(uint)((int)((auVar29._8_4_ - *(float *)(param_1 + 0x28)) *
                                 *(float *)(param_1 + 0x38) + _UNK_00122f58) < iVar1) & uStack_f0;
              auVar26._12_4_ =
                   -(uint)((int)((auVar29._12_4_ - *(float *)(param_1 + 0x2c)) *
                                 *(float *)(param_1 + 0x3c) + _UNK_00122f5c) < iVar1) & uStack_ec;
              in_R11D = movmskps(in_R11D,auVar26);
              if (in_R11D != 0) break;
              local_d8 = minps(local_d8,auVar31);
              local_e8 = maxps(local_e8,auVar35);
              lVar18 = lVar18 + (long)puVar17;
              auVar37 = minps(auVar37,auVar29);
              auVar36 = maxps(auVar36,auVar29);
              pHVar9 = pHVar10;
              if (pHVar10 < pHVar13) goto LAB_00112e78;
            }
            *(undefined1 (*) [16])pHVar13 = auVar31;
            auVar40 = maxps(auVar40,auVar35);
            local_d8 = minps(local_d8,auVar34);
            local_e8 = maxps(local_e8,auVar33);
            puVar16 = (undefined8 *)(ulong)(*(uint *)(pHVar13 + 0xc) >> 0x1b);
            auVar41 = minps(auVar41,auVar31);
            auVar39 = minps(auVar39,auVar29);
            *(undefined1 (*) [16])(pHVar13 + 0x10) = *(undefined1 (*) [16])(pHVar9 + 0x10);
            auVar38 = maxps(auVar38,auVar29);
            auVar37 = minps(auVar37,auVar25);
            lVar18 = lVar18 + (long)puVar16;
            auVar36 = maxps(auVar36,auVar25);
            *(undefined1 (*) [16])pHVar9 = auVar34;
            *(undefined1 (*) [16])(pHVar9 + 0x10) = auVar33;
          }
          else {
            auVar41 = minps(auVar41,auVar34);
            auVar40 = maxps(auVar40,auVar33);
            auVar39 = minps(auVar39,auVar25);
            auVar38 = maxps(auVar38,auVar25);
            puVar16 = (undefined8 *)(ulong)(*(uint *)(pHVar13 + 0xc) >> 0x1b);
            pHVar10 = pHVar9;
            puVar17 = puVar16;
          }
          lVar14 = lVar14 + (long)puVar17;
          pHVar9 = pHVar10;
        }
LAB_00112e78:
        auVar42._8_8_ = lVar18;
        auVar42._0_8_ = lVar14;
        *(ulong *)(param_3 + 0x40) = uVar4;
        lVar14 = (long)pHVar13 - (long)this_00 >> 5;
        *(undefined1 (*) [16])param_3 = auVar41;
        *(long *)(param_3 + 0x48) = lVar14;
        *(long *)(param_3 + 0x50) = lVar14;
        *(undefined1 (*) [16])(param_3 + 0x10) = auVar40;
        *(undefined1 (*) [16])(param_3 + 0x20) = auVar39;
        *(undefined1 (*) [16])(param_3 + 0x30) = auVar38;
        *(long *)(param_4 + 0x40) = lVar14;
        *(ulong *)(param_4 + 0x48) = uVar21;
        *(ulong *)(param_4 + 0x50) = uVar21;
        *(undefined8 *)param_4 = local_d8._0_8_;
        *(undefined8 *)(param_4 + 8) = local_d8._8_8_;
        *(undefined8 *)(param_4 + 0x10) = local_e8._0_8_;
        *(undefined8 *)(param_4 + 0x18) = local_e8._8_8_;
        *(undefined1 (*) [16])(param_4 + 0x20) = auVar37;
        *(undefined1 (*) [16])(param_4 + 0x30) = auVar36;
      }
      else {
        auVar42 = parallel_object_split
                            (this_00,(BinSplit *)param_1,(PrimInfoExtRange *)&local_a8,param_3,
                             param_4);
      }
    }
    else {
      create_spatial_splits
                ((PrimInfoExtRange *)this,(SpatialBinSplit *)&local_a8,(SpatialBinMapping *)param_1)
      ;
      uVar21 = local_60;
      if (local_60 - local_68 < 0xc00) {
        auVar42 = sequential_spatial_split
                            (*(HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
                               **)this,(SpatialBinSplit *)param_1,(PrimInfoExtRange *)&local_a8,
                             param_3,param_4);
        uVar23 = local_58;
      }
      else {
        auVar42 = parallel_spatial_split
                            (*(HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
                               **)this,(SpatialBinSplit *)param_1,(PrimInfoExtRange *)&local_a8,
                             param_3,param_4);
        uVar23 = local_58;
      }
    }
    if (uVar21 != uVar23) {
LAB_00113226:
      setExtentedRanges((PrimInfoExtRange *)&local_a8,param_3,param_4,auVar42._0_8_,auVar42._8_8_);
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        moveExtentedRange((PrimInfoExtRange *)this,param_3,param_4);
        return;
      }
      goto LAB_0011337d;
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0011337d:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >&,
   embree::FastAllocator::CachedAllocator, bool) */

undefined8
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)#1},embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1}>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
::recurse(ulong *param_1,long *param_2,char param_3)

{
  undefined8 *puVar1;
  PrimInfoExtRange *pPVar2;
  undefined8 *puVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  long lVar6;
  ulong uVar7;
  long lVar8;
  undefined8 *puVar9;
  undefined8 uVar10;
  float *pfVar11;
  MutexSys *pMVar12;
  undefined8 uVar13;
  ulong uVar14;
  long lVar15;
  long *plVar16;
  undefined8 *puVar17;
  ulong uVar18;
  MutexSys *pMVar19;
  long *plVar20;
  long in_FS_OFFSET;
  float fVar21;
  float fVar23;
  double dVar22;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  long in_stack_00000008;
  MutexSys *in_stack_00000010;
  MutexSys *in_stack_00000018;
  long local_a68;
  long *local_a60;
  ulong local_a50;
  MutexSys *local_a48;
  long *local_a40;
  MutexSys *pMStack_a28;
  long local_a20;
  undefined8 uStack_a18;
  undefined8 local_a10;
  undefined8 uStack_a08;
  undefined8 local_a00;
  undefined8 uStack_9f8;
  undefined8 local_9f0;
  undefined8 uStack_9e8;
  long local_9e0;
  long local_9d8;
  undefined8 local_9d0;
  undefined8 local_9c0;
  undefined8 uStack_9b8;
  undefined8 local_9b0;
  undefined8 uStack_9a8;
  undefined8 local_9a0;
  undefined8 uStack_998;
  undefined4 local_990;
  undefined4 uStack_98c;
  undefined4 uStack_988;
  undefined4 uStack_984;
  undefined8 local_980;
  undefined8 local_978;
  undefined8 local_970;
  MutexSys *local_960;
  undefined1 local_958;
  undefined4 local_950;
  undefined4 uStack_94c;
  undefined4 uStack_948;
  undefined4 uStack_944;
  float local_940;
  float fStack_93c;
  float fStack_938;
  float fStack_934;
  undefined4 local_930;
  undefined4 uStack_92c;
  undefined4 uStack_928;
  undefined4 uStack_924;
  float local_920;
  float fStack_91c;
  float fStack_918;
  float fStack_914;
  long local_910;
  long lStack_908;
  long local_900;
  MutexSys *local_8f0;
  long *local_8e8;
  undefined8 local_8e0;
  undefined4 uStack_8d8;
  undefined4 uStack_8d4;
  float local_8d0;
  float fStack_8cc;
  float fStack_8c8;
  float fStack_8c4;
  undefined4 local_8c0;
  undefined4 uStack_8bc;
  undefined4 uStack_8b8;
  undefined4 uStack_8b4;
  float local_8b0;
  float fStack_8ac;
  float fStack_8a8;
  float fStack_8a4;
  long local_8a0;
  long lStack_898;
  long local_890;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  local_880 [84];
  float local_82c;
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
  local_800 [176];
  long local_750;
  undefined1 local_748 [8];
  long local_740 [4];
  undefined8 local_720;
  undefined8 uStack_718;
  undefined8 local_710;
  undefined8 uStack_708;
  long local_700;
  long local_6f8;
  undefined8 local_6f0;
  long local_6e0;
  undefined1 local_6d8;
  undefined8 local_6d0;
  undefined8 uStack_6c8;
  undefined8 local_6c0;
  undefined8 uStack_6b8;
  undefined8 local_6b0;
  undefined8 uStack_6a8;
  undefined4 local_6a0;
  undefined4 uStack_69c;
  undefined4 uStack_698;
  undefined4 uStack_694;
  undefined8 local_690;
  undefined8 local_688;
  undefined8 local_680;
  long local_670 [196];
  long lStack_50;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  if (in_stack_00000008 == 0) {
    lVar8 = **(long **)param_1[10];
    pMVar12 = *(MutexSys **)(in_FS_OFFSET + lRam0000000000113ab1);
    lVar15 = lVar8 + 0x18;
    if (pMVar12 == (MutexSys *)0x0) {
      pMVar12 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
      embree::MutexSys::MutexSys(pMVar12);
      lVar6 = lRam0000000000113e08;
      *(undefined8 *)(pMVar12 + 8) = 0;
      *(MutexSys **)(pMVar12 + 0x40) = pMVar12;
      *(undefined8 *)(pMVar12 + 0x48) = 0;
      *(undefined8 *)(pMVar12 + 0x50) = 0;
      *(undefined8 *)(pMVar12 + 0x58) = 0;
      *(undefined8 *)(pMVar12 + 0x60) = 0;
      *(undefined8 *)(pMVar12 + 0x68) = 0;
      *(undefined8 *)(pMVar12 + 0x70) = 0;
      *(MutexSys **)(pMVar12 + 0x80) = pMVar12;
      *(undefined8 *)(pMVar12 + 0x88) = 0;
      *(undefined8 *)(pMVar12 + 0x90) = 0;
      *(undefined8 *)(pMVar12 + 0x98) = 0;
      *(undefined8 *)(pMVar12 + 0xa0) = 0;
      *(undefined8 *)(pMVar12 + 0xa8) = 0;
      *(undefined8 *)(pMVar12 + 0xb0) = 0;
      *(MutexSys **)(in_FS_OFFSET + lVar6) = pMVar12;
      embree::MutexSys::lock();
      local_8f0 = pMVar12;
      if (_vtable == _vtable) {
        std::
        vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
        ::
        _M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
                  ((vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
                    *)&FastAllocator::s_thread_local_allocators,_vtable,&local_8f0);
        pMVar19 = local_8f0;
        if (local_8f0 != (MutexSys *)0x0) {
          embree::MutexSys::~MutexSys(local_8f0);
          embree::alignedFree(pMVar19);
        }
      }
      else {
        *_vtable = pMVar12;
        _vtable = _vtable + 1;
      }
      embree::MutexSys::unlock();
    }
    in_stack_00000010 = pMVar12 + 0x40;
    in_stack_00000008 = lVar15;
    in_stack_00000018 = in_stack_00000010;
    if (*(char *)(lVar8 + 0x122) == '\0') {
      in_stack_00000018 = pMVar12 + 0x80;
    }
  }
  if (((param_3 != '\0') && (uVar7 = param_2[0xb] - param_2[10], uVar7 <= param_1[6])) &&
     (puVar1 = (undefined8 *)param_1[0x10], *(long *)*puVar1 != 0)) {
    plVar16 = (long *)puVar1[1];
    LOCK();
    lVar15 = *plVar16;
    *plVar16 = *plVar16 + uVar7;
    UNLOCK();
    dVar22 = (double)(lVar15 + uVar7) / (double)*(ulong *)puVar1[2];
    if (_LC64 <= dVar22) {
      dVar22 = _LC64;
    }
    (**(code **)*puVar1)(dVar22,*(undefined8 *)puVar1[3]);
  }
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
  ::find(local_880,(PrimInfoExtRange *)param_1[9],(ulong)(param_2 + 2));
  lVar15 = param_2[10];
  uVar7 = param_2[0xb] - lVar15;
  if (((uVar7 <= param_1[3]) || (param_1[1] <= *param_2 + 8U)) ||
     ((uVar7 <= param_1[4] &&
      (fVar23 = *(float *)((long)param_2 + 0x24) - *(float *)((long)param_2 + 0x14),
      fVar23 = (*(float *)(param_2 + 4) - *(float *)(param_2 + 2)) *
               (fVar23 + (*(float *)(param_2 + 5) - *(float *)(param_2 + 3))) +
               fVar23 * (*(float *)(param_2 + 5) - *(float *)(param_2 + 3)),
      (float)((uVar7 - 1) + (1L << ((byte)param_1[2] & 0x3f)) >> ((byte)param_1[2] & 0x3f)) * fVar23
      * *(float *)((long)param_1 + 0x2c) <=
      fVar23 * *(float *)(param_1 + 5) + *(float *)((long)param_1 + 0x2c) * local_82c)))) {
    lVar8 = param_2[0xb] * 0x20;
    puVar1 = (undefined8 *)(*(long *)param_1[9] + lVar8);
    puVar9 = (undefined8 *)(*(long *)param_1[9] + lVar15 * 0x20);
    if (puVar1 != puVar9) {
      lVar8 = lVar8 + lVar15 * -0x20;
      uVar7 = lVar8 >> 5;
      if (uVar7 == 0) {
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar9,puVar1,0xfffffffffffffffe);
      }
      else {
        lVar15 = 0x3f;
        if (uVar7 != 0) {
          for (; uVar7 >> lVar15 == 0; lVar15 = lVar15 + -1) {
          }
        }
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar9,puVar1,(long)(int)lVar15 * 2);
        if (0x200 < lVar8) {
          puVar17 = puVar9 + 0x40;
          std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar9,puVar17);
          for (; puVar1 != puVar17; puVar17 = puVar17 + 4) {
            while( true ) {
              uVar10 = puVar17[2];
              uVar13 = puVar17[3];
              uVar4 = *puVar17;
              uVar5 = puVar17[1];
              uVar7 = CONCAT44(*(undefined4 *)((long)puVar17 + 0x1c),
                               *(undefined4 *)((long)puVar17 + 0xc));
              puVar9 = puVar17;
              if (CONCAT44(*(undefined4 *)((long)puVar17 + -4),
                           *(undefined4 *)((long)puVar17 + -0x14)) <= uVar7) break;
              do {
                puVar3 = puVar9;
                puVar9 = puVar3 + -4;
                *puVar3 = *puVar9;
                puVar3[1] = puVar3[-3];
                *(undefined4 *)(puVar3 + 2) = *(undefined4 *)(puVar3 + -2);
                *(undefined4 *)((long)puVar3 + 0x14) = *(undefined4 *)((long)puVar3 + -0xc);
                *(undefined4 *)(puVar3 + 3) = *(undefined4 *)(puVar3 + -1);
                *(undefined4 *)((long)puVar3 + 0x1c) = *(undefined4 *)((long)puVar3 + -4);
              } while (uVar7 < CONCAT44(*(undefined4 *)((long)puVar3 + -0x24),
                                        *(undefined4 *)((long)puVar3 + -0x34)));
              puVar17 = puVar17 + 4;
              *puVar9 = uVar4;
              puVar3[-3] = uVar5;
              puVar3[-2] = uVar10;
              puVar3[-1] = uVar13;
              if (puVar1 == puVar17) goto LAB_00113540;
            }
            *puVar17 = uVar4;
            puVar17[1] = uVar5;
            puVar17[2] = uVar10;
            puVar17[3] = uVar13;
          }
          goto LAB_00113540;
        }
      }
      std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar9,puVar1);
    }
LAB_00113540:
    uVar10 = createLargeLeaf(param_1,param_2);
    goto LAB_00113575;
  }
  HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
  ::split((HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
           *)param_1[9],(Split2 *)local_880,(PrimInfoExtRange *)(param_2 + 2),
          (PrimInfoExtRange *)&local_a20,(PrimInfoExtRange *)&local_9c0);
  local_748[0] = 0;
  local_6d8 = 0;
  local_750 = *param_2 + 1;
  local_740[0] = local_a20;
  local_740[1] = uStack_a18;
  local_740[2] = local_a10;
  local_740[3] = uStack_a08;
  local_690 = local_980;
  local_720 = local_a00;
  uStack_718 = uStack_9f8;
  local_688 = local_978;
  local_710 = local_9f0;
  uStack_708 = uStack_9e8;
  local_6d0 = local_9c0;
  uStack_6c8 = uStack_9b8;
  local_700 = local_9e0;
  local_6f8 = local_9d8;
  local_6f0 = local_9d0;
  local_6c0 = local_9b0;
  uStack_6b8 = uStack_9a8;
  local_6b0 = local_9a0;
  uStack_6a8 = uStack_998;
  local_6a0 = local_990;
  uStack_69c = uStack_98c;
  uStack_698 = uStack_988;
  uStack_694 = uStack_984;
  local_680 = local_970;
  local_6e0 = local_750;
  if (*param_1 < 3) {
    uVar7 = param_1[7];
    local_a50 = 2;
    if (uVar7 < (ulong)(param_2[0xb] - param_2[10])) {
      lVar15 = 0xe0;
      local_a68 = 0x10;
      uVar18 = 2;
      goto LAB_00113f30;
    }
    uVar18 = 2;
    local_a68 = 0x10;
    plVar16 = local_670;
LAB_00113b3a:
    local_a40 = &local_750;
    uVar7 = ((long)plVar16 - (long)local_a40 >> 4) * 0x6db6db6db6db6db7;
    if (uVar7 == 0) {
      std::
      __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                (local_a40,plVar16,0xfffffffffffffffe);
    }
    else {
      lVar15 = 0x3f;
      if (uVar7 != 0) {
        for (; uVar7 >> lVar15 == 0; lVar15 = lVar15 + -1) {
        }
      }
      std::
      __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                (local_a40,plVar16,(long)(int)lVar15 * 2);
      if (0x700 < (long)plVar16 - (long)local_a40) {
        plVar20 = &lStack_50;
        std::
        __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                  (local_a40,plVar20);
        for (; plVar16 != plVar20; plVar20 = plVar20 + 0xe) {
          std::
          __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                    (plVar20);
        }
        goto LAB_00113bb1;
      }
    }
    std::
    __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
              (local_a40,plVar16);
  }
  else {
    uVar18 = 2;
    plVar16 = local_670;
    uVar24 = _LC1;
    uVar25 = _LC1;
    uVar26 = _LC1;
    do {
      uVar14 = 0;
      uVar7 = 0xffffffffffffffff;
      pfVar11 = (float *)local_740;
      lVar15 = local_6f8;
      lVar8 = local_700;
      fVar23 = _LC3;
      while( true ) {
        if ((param_1[3] < (ulong)(lVar15 - lVar8)) &&
           (fVar21 = (pfVar11[4] - *pfVar11) *
                     ((pfVar11[5] - pfVar11[1]) + (pfVar11[6] - pfVar11[2])) +
                     (pfVar11[5] - pfVar11[1]) * (pfVar11[6] - pfVar11[2]), fVar23 < fVar21)) {
          uVar7 = uVar14;
          fVar23 = fVar21;
        }
        uVar14 = uVar14 + 1;
        if (uVar14 == uVar18) break;
        lVar15 = *(long *)(pfVar11 + 0x2e);
        lVar8 = *(long *)(pfVar11 + 0x2c);
        pfVar11 = pfVar11 + 0x1c;
      }
      if (uVar7 == 0xffffffffffffffff) {
        lVar15 = (long)plVar16 - (long)&local_750;
        goto LAB_00113b14;
      }
      local_950 = _LC1;
      uVar18 = uVar18 + 1;
      local_930 = _LC1;
      local_960 = (MutexSys *)(*param_2 + 1);
      local_8e0 = (ulong *)CONCAT44(uVar24,_LC1);
      local_8c0 = _LC1;
      local_940 = _LC3;
      fStack_93c = _LC3;
      fStack_938 = _LC3;
      fStack_934 = _LC3;
      local_920 = _LC3;
      fStack_91c = _LC3;
      fStack_918 = _LC3;
      fStack_914 = _LC3;
      local_8d0 = _LC3;
      fStack_8cc = _LC3;
      fStack_8c8 = _LC3;
      fStack_8c4 = _LC3;
      pPVar2 = (PrimInfoExtRange *)(&local_750 + uVar7 * 0xe + 2);
      local_8b0 = _LC3;
      fStack_8ac = _LC3;
      fStack_8a8 = _LC3;
      fStack_8a4 = _LC3;
      local_958 = 0;
      local_910 = 0;
      lStack_908 = 0;
      local_900 = 0;
      local_8e8 = (long *)((ulong)local_8e8 & 0xffffffffffffff00);
      local_8a0 = 0;
      lStack_898 = 0;
      local_890 = 0;
      uStack_94c = uVar24;
      uStack_948 = uVar25;
      uStack_944 = uVar26;
      uStack_92c = uVar24;
      uStack_928 = uVar25;
      uStack_924 = uVar26;
      local_8f0 = local_960;
      uStack_8d8 = uVar25;
      uStack_8d4 = uVar26;
      uStack_8bc = uVar24;
      uStack_8b8 = uVar25;
      uStack_8b4 = uVar26;
      HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
      ::find(local_800,(PrimInfoExtRange *)param_1[9],(ulong)pPVar2);
      HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>
      ::split((HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>
               *)param_1[9],(Split2 *)local_800,pPVar2,(PrimInfoExtRange *)&local_950,
              (PrimInfoExtRange *)&local_8e0);
      *(MutexSys **)(local_748 + uVar7 * 0x70 + -8) = local_960;
      local_748[uVar7 * 0x70] = local_958;
      local_740[uVar7 * 0xe] = CONCAT44(uStack_94c,local_950);
      local_740[uVar7 * 0xe + 1] = CONCAT44(uStack_944,uStack_948);
      local_740[uVar7 * 0xe + 10] = local_900;
      local_740[uVar7 * 0xe + 2] = CONCAT44(fStack_93c,local_940);
      local_740[uVar7 * 0xe + 3] = CONCAT44(fStack_934,fStack_938);
      local_740[uVar7 * 0xe + 4] = CONCAT44(uStack_92c,local_930);
      local_740[uVar7 * 0xe + 5] = CONCAT44(uStack_924,uStack_928);
      local_740[uVar7 * 0xe + 6] = CONCAT44(fStack_91c,local_920);
      local_740[uVar7 * 0xe + 7] = CONCAT44(fStack_914,fStack_918);
      local_740[uVar7 * 0xe + 8] = local_910;
      local_740[uVar7 * 0xe + 9] = lStack_908;
      *plVar16 = (long)local_8f0;
      plVar16[2] = (long)local_8e0;
      plVar16[3] = CONCAT44(uStack_8d4,uStack_8d8);
      *(undefined1 *)(plVar16 + 1) = local_8e8._0_1_;
      plVar16[4] = CONCAT44(fStack_8cc,local_8d0);
      plVar16[5] = CONCAT44(fStack_8c4,fStack_8c8);
      *(undefined4 *)(plVar16 + 6) = local_8c0;
      *(undefined4 *)((long)plVar16 + 0x34) = uStack_8bc;
      *(undefined4 *)(plVar16 + 7) = uStack_8b8;
      *(undefined4 *)((long)plVar16 + 0x3c) = uStack_8b4;
      plVar16[8] = CONCAT44(fStack_8ac,local_8b0);
      plVar16[9] = CONCAT44(fStack_8a4,fStack_8a8);
      plVar16[10] = local_8a0;
      plVar16[0xb] = lStack_898;
      plVar16[0xc] = local_890;
      plVar16 = plVar16 + 0xe;
      uVar24 = _UNK_00122f34;
      uVar25 = _UNK_00122f38;
      uVar26 = _UNK_00122f3c;
    } while (uVar18 < *param_1);
    lVar15 = uVar18 * 0x70;
LAB_00113b14:
    local_a50 = uVar18 & 0xffffffff;
    local_a68 = uVar18 * 8;
    uVar7 = param_1[7];
    if (uVar7 < (ulong)(param_2[0xb] - param_2[10])) {
LAB_00113f30:
      local_a40 = &local_750;
      plVar16 = local_a40 + (local_a68 - uVar18) * 2;
      do {
        *(bool *)(local_a40 + 1) = (ulong)(local_a40[0xb] - local_a40[10]) <= uVar7;
        local_a40 = local_a40 + 0xe;
      } while (plVar16 != local_a40);
    }
    plVar16 = (long *)(local_748 + lVar15 + -8);
    if (lVar15 != 0) goto LAB_00113b3a;
  }
LAB_00113bb1:
  local_a40 = &local_750;
  local_a48 = (MutexSys *)local_800;
  local_a60 = local_740;
  puVar1 = (undefined8 *)param_1[0xb];
  uVar10 = (**(code **)*puVar1)(&stack0x00000008,local_a50,*(undefined8 *)puVar1[1]);
  pMVar12 = local_a48;
  do {
    *(long **)pMVar12 = local_a60;
    pMVar12 = pMVar12 + 8;
    local_a60 = local_a60 + 0xe;
  } while (local_a48 + local_a68 != pMVar12);
  (**(code **)puVar1[2])(uVar10,local_a48,local_a50,*(undefined8 *)puVar1[1]);
  if (param_1[6] < (ulong)(param_2[0xb] - param_2[10])) {
    local_8f0 = local_a48;
    pMStack_a28 = (MutexSys *)0x0;
    local_8e8 = local_a40;
    local_8e0 = param_1;
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
              (0,uVar18,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_8f0,
               (TaskGroupContext *)&pMStack_a28);
    embree::TaskScheduler::wait();
    if (pMStack_a28 != (MutexSys *)0x0) {
      local_960 = pMStack_a28;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_960);
    }
  }
  else {
    pMVar12 = local_a48;
    do {
      pMVar19 = pMVar12 + 8;
      uVar13 = recurse(param_1,local_a40,0);
      *(undefined8 *)pMVar12 = uVar13;
      pMVar12 = pMVar19;
      local_a40 = local_a40 + 0xe;
    } while (local_a48 + local_a68 != pMVar19);
  }
  (*(code *)**(undefined8 **)param_1[0xc])
            (uVar10,local_a48,local_a50,*(undefined8 *)((undefined8 *)param_1[0xc])[1]);
LAB_00113575:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar10;
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long> const&)#1}
   const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBu...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBu___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  undefined8 uVar2;
  ulong uVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  
  uVar6 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar6 - uVar3) {
    uVar6 = uVar6 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
              (uVar3,uVar6,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
              (uVar6,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    embree::TaskScheduler::wait();
    return;
  }
  if (uVar3 < uVar6) {
    lVar5 = uVar3 * 0x70;
    do {
      lVar1 = *(long *)(this + 0x20);
      lVar4 = *(long *)(this + 0x28) + lVar5;
      lVar5 = lVar5 + 0x70;
      uVar2 = sse2::GeneralBVHBuilder::
              BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)#1},embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1}>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
              ::recurse(*(undefined8 *)(this + 0x30),lVar4,1);
      *(undefined8 *)(lVar1 + uVar3 * 8) = uVar2;
      uVar3 = uVar3 + 1;
    } while (uVar3 < uVar6);
  }
  return;
}



/* void* embree::sse2::GeneralBVHBuilder::build<void*,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>&, embree::PrimRef*,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}> const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned long)#1} const&,
   embree::sse2::GeneralBVHBuilder::Settings const&) [clone .constprop.0] */

void * embree::sse2::GeneralBVHBuilder::
       build<void*,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                 (undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
                 undefined8 param_5,undefined8 param_6)

{
  void *pvVar1;
  long in_FS_OFFSET;
  undefined8 in_stack_00000020;
  undefined8 in_stack_00000028;
  ulong *in_stack_00000030;
  undefined8 local_148;
  undefined8 local_140;
  undefined8 local_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 local_108;
  undefined1 local_100;
  undefined4 local_f8;
  undefined4 uStack_f4;
  undefined4 uStack_f0;
  undefined4 uStack_ec;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined8 local_b8;
  undefined8 local_b0;
  undefined8 local_a8;
  ulong local_98;
  ulong uStack_90;
  ulong local_88;
  ulong uStack_80;
  ulong local_78;
  ulong uStack_70;
  ulong local_68;
  ulong uStack_60;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  undefined1 *local_38;
  undefined8 local_30;
  undefined8 *local_28;
  undefined8 *local_20;
  undefined8 local_18;
  long local_10;
  
  local_38 = (undefined1 *)&local_148;
  local_98 = *in_stack_00000030;
  uStack_90 = in_stack_00000030[1];
  local_88 = in_stack_00000030[2];
  uStack_80 = in_stack_00000030[3];
  local_78 = in_stack_00000030[4];
  uStack_70 = in_stack_00000030[5];
  local_68 = in_stack_00000030[6];
  uStack_60 = in_stack_00000030[7];
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = &local_130;
  local_20 = &local_108;
  local_40 = &stack0x00000008;
  local_30 = in_stack_00000020;
  local_28 = &local_128;
  local_18 = in_stack_00000028;
  local_148 = param_5;
  local_140 = param_6;
  local_130 = param_4;
  local_58 = param_2;
  local_50 = param_1;
  if (0x10 < *in_stack_00000030) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  local_b8 = *(undefined8 *)(param_3 + 0x10);
  local_f8 = *param_3;
  uStack_f4 = param_3[1];
  uStack_f0 = param_3[2];
  uStack_ec = param_3[3];
  local_100 = 0;
  local_e8 = param_3[4];
  uStack_e4 = param_3[5];
  uStack_e0 = param_3[6];
  uStack_dc = param_3[7];
  local_d8 = param_3[8];
  uStack_d4 = param_3[9];
  uStack_d0 = param_3[10];
  uStack_cc = param_3[0xb];
  local_108 = 1;
  local_c8 = param_3[0xc];
  uStack_c4 = param_3[0xd];
  uStack_c0 = param_3[0xe];
  uStack_bc = param_3[0xf];
  local_b0 = *(undefined8 *)(param_3 + 0x12);
  local_a8 = *(undefined8 *)(param_3 + 0x14);
  local_128 = 0;
  uStack_120 = 0;
  local_118 = 0;
  local_38 = (undefined1 *)&local_148;
  pvVar1 = (void *)BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)#1},embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1}>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
                   ::recurse(&local_98,local_20,1);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return pvVar1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011440c:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00122ef0;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011440c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  _lambda_embree__range<unsigned_long>_const___1_ *p_Stack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  p_Stack_30 = param_4;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011459c:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00122f08;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = p_Stack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011459c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*) */

undefined8 embree::sse2::rtcBuildBVHMorton(RTCBuildArguments *param_1)

{
  long *plVar1;
  long *plVar2;
  long lVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  long lVar6;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  long lVar9;
  long *plVar10;
  undefined8 *puVar11;
  ulong uVar12;
  ulong uVar13;
  _lambda_embree__range<unsigned_long>__1_ *in_R9;
  ulong uVar14;
  long in_FS_OFFSET;
  float fVar15;
  float fVar17;
  float fVar18;
  undefined1 in_XMM3 [16];
  undefined1 auVar16 [16];
  float fVar19;
  TaskGroupContext *pTVar20;
  long local_228;
  float *local_220;
  ulong local_218;
  undefined8 local_210;
  undefined8 local_208;
  undefined8 local_200;
  undefined8 local_1f8;
  undefined8 local_1f0;
  undefined8 local_1e8;
  undefined8 local_1e0;
  float *local_1d8;
  long *local_1d0;
  float **local_1c8;
  undefined4 local_1c0;
  undefined4 local_1bc;
  undefined8 *local_1b8;
  undefined8 *local_1b0;
  undefined8 *local_1a8;
  undefined8 *local_1a0;
  undefined8 *local_198;
  float **local_188;
  undefined8 uStack_180;
  undefined8 local_178;
  undefined1 local_168 [8];
  float fStack_160;
  float fStack_15c;
  undefined1 local_158 [8];
  float fStack_150;
  float fStack_14c;
  TaskGroupContext *local_148;
  code *local_140;
  float ***local_138;
  undefined8 *local_130;
  undefined1 local_128 [16];
  undefined1 local_118 [16];
  undefined8 *local_108;
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  long **local_a0;
  undefined8 **local_98;
  undefined8 **local_90;
  TaskGroupContext *local_88;
  float ***local_80;
  TaskGroupContext **local_78;
  BuildPrim *local_70;
  float local_68;
  float fStack_64;
  float fStack_60;
  float fStack_5c;
  uint local_58;
  uint uStack_54;
  uint uStack_50;
  uint uStack_4c;
  long local_40;
  
  local_210 = *(undefined8 *)(param_1 + 0x50);
  lVar3 = *(long *)(param_1 + 0x30);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar13 = *(ulong *)(param_1 + 0x40);
  local_220 = *(float **)(param_1 + 0x38);
  local_208 = *(undefined8 *)(param_1 + 0x58);
  local_200 = *(undefined8 *)(param_1 + 0x60);
  local_1f8 = *(undefined8 *)(param_1 + 0x68);
  local_1f0 = *(undefined8 *)(param_1 + 0x78);
  local_1e8 = *(undefined8 *)(param_1 + 0x80);
  uVar14 = *(ulong *)(lVar3 + 0x1a8);
  local_1e0 = 0;
  local_228 = lVar3;
  local_218 = uVar13;
  local_1d8 = local_220;
  if (uVar14 < uVar13) {
    puVar4 = *(undefined8 **)(lVar3 + 0x1b0);
    if (uVar14 == 0) {
      uVar14 = uVar13;
      if (uVar13 < *(ulong *)(lVar3 + 0x1a0)) {
        *(ulong *)(lVar3 + 0x1a0) = uVar13;
      }
    }
    else {
      do {
        uVar14 = uVar14 * 2;
        if (uVar14 == 0) {
          uVar14 = 1;
        }
      } while (uVar14 < uVar13);
      if (uVar13 < *(ulong *)(lVar3 + 0x1a0)) {
        *(ulong *)(lVar3 + 0x1a0) = uVar13;
      }
    }
    uVar12 = uVar14 * 8;
    (**(code **)**(undefined8 **)(lVar3 + 400))(*(undefined8 **)(lVar3 + 400),uVar12,0);
    if (uVar12 < 0x1c00000) {
      lVar9 = embree::alignedMalloc(uVar12,8);
    }
    else {
      lVar9 = embree::os_malloc(uVar12,(bool *)(lVar3 + 0x198));
    }
    *(long *)(lVar3 + 0x1b0) = lVar9;
    if (*(long *)(lVar3 + 0x1a0) != 0) {
      uVar12 = 0;
      puVar11 = puVar4;
      while( true ) {
        uVar5 = *puVar11;
        puVar11 = puVar11 + 1;
        *(undefined8 *)(lVar9 + uVar12 * 8) = uVar5;
        uVar12 = uVar12 + 1;
        if (*(ulong *)(lVar3 + 0x1a0) <= uVar12) break;
        lVar9 = *(long *)(lVar3 + 0x1b0);
      }
    }
    lVar9 = *(long *)(lVar3 + 0x1a8);
    if (puVar4 != (undefined8 *)0x0) {
      if ((ulong)(lVar9 * 8) < 0x1c00000) {
        embree::alignedFree(puVar4);
      }
      else {
        embree::os_free(puVar4,lVar9 * 8,*(bool *)(lVar3 + 0x198));
      }
    }
    if (lVar9 != 0) {
      (**(code **)**(undefined8 **)(lVar3 + 400))(*(undefined8 **)(lVar3 + 400),lVar9 * -8,1);
    }
    *(ulong *)(lVar3 + 0x1a0) = uVar13;
    *(ulong *)(lVar3 + 0x1a8) = uVar14;
    uVar14 = *(ulong *)(lVar3 + 0x1d0);
    if (local_218 <= uVar14) {
LAB_00114e7d:
      *(ulong *)(lVar3 + 0x1c8) = local_218;
      goto LAB_001148d4;
    }
  }
  else {
    uVar14 = *(ulong *)(lVar3 + 0x1d0);
    *(ulong *)(lVar3 + 0x1a0) = uVar13;
    if (uVar13 <= uVar14) goto LAB_00114e7d;
  }
  uVar13 = local_218;
  puVar4 = *(undefined8 **)(lVar3 + 0x1d8);
  if (uVar14 == 0) {
    uVar14 = local_218;
    if (local_218 < *(ulong *)(lVar3 + 0x1c8)) {
      *(ulong *)(lVar3 + 0x1c8) = local_218;
    }
  }
  else {
    do {
      uVar14 = uVar14 * 2;
      if (uVar14 == 0) {
        uVar14 = 1;
      }
    } while (uVar14 < local_218);
    if (local_218 < *(ulong *)(lVar3 + 0x1c8)) {
      *(ulong *)(lVar3 + 0x1c8) = local_218;
    }
  }
  uVar12 = uVar14 * 8;
  (**(code **)**(undefined8 **)(lVar3 + 0x1b8))(*(undefined8 **)(lVar3 + 0x1b8),uVar12,0);
  if (uVar12 < 0x1c00000) {
    lVar9 = embree::alignedMalloc(uVar12,8);
  }
  else {
    lVar9 = embree::os_malloc(uVar12,(bool *)(lVar3 + 0x1c0));
  }
  *(long *)(lVar3 + 0x1d8) = lVar9;
  if (*(long *)(lVar3 + 0x1c8) != 0) {
    uVar12 = 0;
    puVar11 = puVar4;
    while( true ) {
      uVar5 = *puVar11;
      puVar11 = puVar11 + 1;
      *(undefined8 *)(lVar9 + uVar12 * 8) = uVar5;
      uVar12 = uVar12 + 1;
      if (*(ulong *)(lVar3 + 0x1c8) <= uVar12) break;
      lVar9 = *(long *)(lVar3 + 0x1d8);
    }
  }
  lVar9 = *(long *)(lVar3 + 0x1d0);
  if (puVar4 != (undefined8 *)0x0) {
    if ((ulong)(lVar9 * 8) < 0x1c00000) {
      embree::alignedFree(puVar4);
    }
    else {
      embree::os_free(puVar4,lVar9 * 8,*(bool *)(lVar3 + 0x1c0));
    }
  }
  if (lVar9 != 0) {
    (**(code **)**(undefined8 **)(lVar3 + 0x1b8))(*(undefined8 **)(lVar3 + 0x1b8),lVar9 * -8,1);
  }
  *(ulong *)(lVar3 + 0x1d0) = uVar14;
  *(ulong *)(lVar3 + 0x1c8) = uVar13;
LAB_001148d4:
  uVar13 = local_218;
  pTVar20 = (TaskGroupContext *)local_128;
  local_128._4_4_ = _LC1;
  local_128._0_4_ = _LC1;
  local_128._8_4_ = _LC1;
  local_128._12_4_ = _LC1;
  local_118._4_4_ = _LC3;
  local_118._0_4_ = _LC3;
  local_118._8_4_ = _LC3;
  local_118._12_4_ = _LC3;
  local_140 = BBox<embree::Vec3fa>::merge;
  local_138 = &local_188;
  local_188 = &local_1d8;
  local_148 = pTVar20;
  if (local_218 == 1) {
    auVar16._4_4_ = local_1d8[5] + local_1d8[1];
    auVar16._0_4_ = local_1d8[4] + *local_1d8;
    auVar16._8_4_ = local_1d8[6] + local_1d8[2];
    auVar16._12_4_ = local_1d8[7] + local_1d8[3];
    local_e8 = maxps(local_118,auVar16);
    auVar7._4_4_ = local_1d8[5] + local_1d8[1];
    auVar7._0_4_ = local_1d8[4] + *local_1d8;
    auVar7._8_4_ = local_1d8[6] + local_1d8[2];
    auVar7._12_4_ = local_1d8[7] + local_1d8[3];
    local_f8 = minps(local_128,auVar7);
    _local_168 = local_128;
    _local_158 = local_118;
    BBox<embree::Vec3fa>::merge
              ((BBox<embree::Vec3fa> *)&local_c8,(BBox_conflict *)local_168,
               (BBox_conflict *)local_f8);
    fStack_160 = (float)uStack_c0;
    local_168 = (undefined1  [8])local_c8;
    fStack_15c = uStack_c0._4_4_;
    fStack_150 = (float)uStack_b0;
    local_158 = (undefined1  [8])local_b8;
    fStack_14c = uStack_b0._4_4_;
  }
  else {
    parallel_reduce_internal<unsigned_long,embree::BBox<embree::Vec3fa>,embree::parallel_reduce<unsigned_long,embree::BBox<embree::Vec3fa>,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_,embree::BBox<embree::Vec3fa>const(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&)>(unsigned_long,unsigned_long,embree::BBox<embree::Vec3fa>const&,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::BBox<embree::Vec3fa>const(const&)(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&))::_lambda(embree::range<unsigned_long>)_1_,embree::BBox<embree::Vec3fa>const(embree::BBox<embree::Vec3fa>const&,embree::BBox<embree::Vec3fa>const&)>
              ((ulong)local_168,local_218,local_218,(ulong)pTVar20,(BBox_conflict *)&local_148,in_R9
               ,(_func_BBox_BBox_ptr_BBox_ptr_conflict *)pTVar20);
    uVar13 = local_218;
    local_b8._0_4_ = (float)local_158._0_4_;
    local_b8._4_4_ = (float)local_158._4_4_;
    uStack_b0._0_4_ = fStack_150;
    uStack_b0._4_4_ = fStack_14c;
    local_c8._0_4_ = (float)local_168._0_4_;
    local_c8._4_4_ = (float)local_168._4_4_;
    uStack_c0._0_4_ = fStack_160;
    uStack_c0._4_4_ = fStack_15c;
  }
  local_b8._0_4_ = (float)local_b8 - (float)local_c8;
  local_b8._4_4_ = local_b8._4_4_ - local_c8._4_4_;
  uStack_b0._0_4_ = (float)uStack_b0 - (float)uStack_c0;
  uStack_b0._4_4_ = uStack_b0._4_4_ - uStack_c0._4_4_;
  auVar8._4_4_ = local_b8._4_4_;
  auVar8._0_4_ = (float)local_b8;
  auVar8._8_4_ = (float)uStack_b0;
  auVar8._12_4_ = uStack_b0._4_4_;
  auVar16 = rcpps(in_XMM3,auVar8);
  local_128._0_8_ = 0;
  fVar15 = auVar16._0_4_;
  fVar17 = auVar16._4_4_;
  fVar18 = auVar16._8_4_;
  fVar19 = auVar16._12_4_;
  local_58 = (uint)(((_LC37 - (float)local_b8 * fVar15) * fVar15 + fVar15) * _LC39) &
             -(uint)(_LC35 < (float)local_b8);
  uStack_54 = (uint)(((_LC37 - local_b8._4_4_ * fVar17) * fVar17 + fVar17) * _LC39) &
              -(uint)(_LC35 < local_b8._4_4_);
  uStack_50 = (uint)(((_LC37 - (float)uStack_b0 * fVar18) * fVar18 + fVar18) * _LC39) &
              -(uint)(_LC35 < (float)uStack_b0);
  uStack_4c = (uint)(((_LC37 - uStack_b0._4_4_ * fVar19) * fVar19 + fVar19) * _LC39) &
              -(uint)(_LC35 < uStack_b0._4_4_);
  local_68 = (float)local_c8;
  fStack_64 = local_c8._4_4_;
  local_c8 = &local_68;
  fStack_5c = uStack_c0._4_4_;
  fStack_60 = (float)uStack_c0;
  uStack_c0 = lVar3 + 400;
  local_b8 = &local_1d8;
  TaskScheduler::
  spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
            (0,uVar13,1,(_lambda_embree__range<unsigned_long>_const___2_ *)&local_c8,pTVar20);
  embree::TaskScheduler::wait();
  uVar13 = local_218;
  if (local_128._0_8_ != 0) {
    local_f8._0_8_ = local_128._0_8_;
    std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
    std::rethrow_exception(local_f8);
  }
  uVar14 = *(ulong *)param_1;
  if (uVar14 < 0x15) {
    local_b8 = (float **)0x1;
    uStack_b0 = 7;
    uStack_c0 = 0x20;
    local_c8 = (float *)0x2;
  }
  else {
    local_c8 = (float *)(ulong)*(uint *)(param_1 + 0x10);
    if (uVar14 < 0x19) {
      local_b8 = (float **)0x1;
      uStack_b0 = 7;
      uStack_c0 = 0x20;
    }
    else {
      uStack_c0 = (ulong)*(uint *)(param_1 + 0x14);
      if (uVar14 < 0x21) {
        local_b8 = (float **)0x1;
        uStack_b0 = 7;
      }
      else {
        local_b8 = (float **)(ulong)*(uint *)(param_1 + 0x1c);
        if (uVar14 < 0x25) {
          uStack_b0 = 7;
          if (7 < local_b8) {
            local_b8 = (float **)0x7;
          }
        }
        else {
          uStack_b0 = (ulong)*(uint *)(param_1 + 0x20);
          if (uStack_b0 < local_b8) {
            local_b8 = (float **)uStack_b0;
          }
        }
      }
    }
  }
  local_1d0 = &local_228;
  local_1a8 = &local_200;
  local_1b8 = &local_210;
  local_1b0 = &local_1e8;
  local_70 = *(BuildPrim **)(lVar3 + 0x1b0);
  local_a0 = &local_1d0;
  local_198 = &local_208;
  local_98 = &local_1b8;
  local_90 = &local_1a8;
  local_118._8_8_ = &local_1f8;
  local_118._0_8_ = &local_220;
  local_148 = (TaskGroupContext *)&local_1f0;
  local_140 = (code *)&local_1e0;
  local_80 = &local_1c8;
  local_138 = (float ***)&local_218;
  local_78 = &local_148;
  local_128._8_8_ = &local_1d8;
  local_128._0_8_ = lVar3 + 400;
  local_a8 = 0x400;
  local_1c8 = &local_1d8;
  local_1a0 = local_1b0;
  local_130 = local_1b0;
  local_108 = local_1b0;
  local_88 = pTVar20;
  radix_sort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>
            (local_70,*(BuildPrim **)(lVar3 + 0x1d8),local_218,0x400);
  local_1bc = (undefined4)uVar13;
  local_1c0 = 0;
  local_188 = (float **)0x0;
  uStack_180 = 0;
  local_178 = 0;
  BVHBuilderMorton::
  BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
  ::recurse(local_f8,(_lambda_embree__range<unsigned_long>_const___2_ *)&local_c8,1,&local_1c0,1);
  lVar9 = local_228;
  lVar3 = local_228 + 0x18;
  plVar10 = (long *)(local_228 + 0xd0);
  plVar1 = (long *)(local_228 + 0x110);
  do {
    while (*plVar10 != 0) {
      lVar6 = *(long *)(*plVar10 + 0x18);
      *(long *)(*plVar10 + 0x18) = *plVar1;
      LOCK();
      *plVar1 = *plVar10;
      UNLOCK();
      LOCK();
      *plVar10 = lVar6;
      UNLOCK();
    }
    LOCK();
    *plVar10 = 0;
    UNLOCK();
    plVar10 = plVar10 + 1;
  } while (plVar1 != plVar10);
  plVar10 = *(long **)(local_228 + 0x148);
  plVar1 = *(long **)(local_228 + 0x150);
  if (plVar1 != plVar10) {
    do {
      while( true ) {
        lVar6 = *plVar10;
        if (lVar3 != *(long *)(lVar6 + 8)) break;
        embree::MutexSys::lock();
        if (lVar3 == *(long *)(lVar6 + 8)) {
          LOCK();
          plVar2 = (long *)(*(long *)(lVar6 + 8) + 0x118);
          *plVar2 = *plVar2 + *(long *)(lVar6 + 0xa8) + *(long *)(lVar6 + 0x68);
          UNLOCK();
          LOCK();
          plVar2 = (long *)(*(long *)(lVar6 + 8) + 0x120);
          *plVar2 = *plVar2 + (((*(long *)(lVar6 + 0x98) + *(long *)(lVar6 + 0x58)) -
                               *(long *)(lVar6 + 0x50)) - *(long *)(lVar6 + 0x90));
          UNLOCK();
          LOCK();
          plVar2 = (long *)(*(long *)(lVar6 + 8) + 0x128);
          *plVar2 = *plVar2 + *(long *)(lVar6 + 0xb0) + *(long *)(lVar6 + 0x70);
          UNLOCK();
          *(undefined8 *)(lVar6 + 0x48) = 0;
          *(undefined8 *)(lVar6 + 0x58) = 0;
          *(undefined8 *)(lVar6 + 0x50) = 0;
          *(undefined8 *)(lVar6 + 0x68) = 0;
          *(undefined8 *)(lVar6 + 0x70) = 0;
          *(undefined8 *)(lVar6 + 0x60) = 0;
          *(undefined8 *)(lVar6 + 0x88) = 0;
          *(undefined8 *)(lVar6 + 0x98) = 0;
          *(undefined8 *)(lVar6 + 0x90) = 0;
          *(undefined8 *)(lVar6 + 0xa8) = 0;
          *(undefined8 *)(lVar6 + 0xb0) = 0;
          *(undefined8 *)(lVar6 + 0xa0) = 0;
          LOCK();
          *(undefined8 *)(lVar6 + 8) = 0;
          UNLOCK();
        }
        plVar10 = plVar10 + 1;
        embree::MutexSys::unlock();
        if (plVar1 == plVar10) goto LAB_00114def;
      }
      plVar10 = plVar10 + 1;
    } while (plVar1 != plVar10);
LAB_00114def:
    if (*(long *)(lVar9 + 0x148) != *(long *)(lVar9 + 0x150)) {
      *(long *)(lVar9 + 0x150) = *(long *)(lVar9 + 0x148);
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return local_f8._0_8_;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>::find(embree::sse2::PrimInfoRange
   const&, unsigned long) [clone .isra.0] */

PrimInfoRange *
embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::find
          (PrimInfoRange *param_1,ulong param_2)

{
  ulong uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  long lVar9;
  long lVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  uint in_ECX;
  embree *peVar15;
  undefined1 (*pauVar16) [16];
  undefined1 (*pauVar17) [16];
  BinInfoT_conflict *pBVar18;
  BinInfoT_conflict *pBVar19;
  float *pfVar20;
  long in_RDX;
  ulong uVar21;
  long lVar22;
  BinInfoT_conflict *pBVar23;
  uint uVar24;
  ulong uVar25;
  embree *peVar26;
  embree *peVar27;
  long lVar28;
  ulong uVar29;
  undefined1 (*pauVar30) [16];
  ulong uVar31;
  ulong uVar32;
  long in_FS_OFFSET;
  byte bVar33;
  undefined1 auVar34 [16];
  uint uVar35;
  int iVar36;
  uint uVar37;
  int iVar38;
  float fVar39;
  uint uVar40;
  int iVar41;
  float fVar42;
  float fVar43;
  int iVar44;
  float fVar45;
  uint uVar46;
  uint uVar49;
  uint uVar50;
  undefined1 auVar47 [16];
  undefined1 auVar48 [16];
  uint uVar55;
  uint uVar56;
  undefined1 auVar51 [16];
  undefined1 auVar52 [16];
  undefined1 auVar53 [16];
  uint uVar57;
  undefined1 auVar54 [16];
  float fVar58;
  float fVar59;
  float fVar60;
  float fVar62;
  float fVar63;
  float fVar64;
  float fVar65;
  uint uVar66;
  undefined1 auVar61 [16];
  float fVar69;
  float fVar70;
  undefined1 auVar67 [16];
  undefined1 auVar68 [16];
  undefined1 auVar71 [16];
  undefined1 auVar72 [16];
  uint uVar76;
  uint uVar77;
  undefined1 auVar73 [16];
  undefined1 auVar74 [16];
  undefined1 auVar75 [16];
  undefined1 auVar78 [16];
  undefined1 auVar79 [16];
  undefined1 auVar80 [16];
  undefined1 auVar81 [16];
  undefined1 auVar82 [16];
  uint local_1f70;
  uint uStack_1f6c;
  uint uStack_1f68;
  uint uStack_1f64;
  undefined1 local_1f50 [16];
  undefined1 local_1f40 [16];
  undefined1 local_1f30 [16];
  undefined1 local_1f20 [8];
  float fStack_1f18;
  float fStack_1f14;
  undefined1 local_1f10 [16];
  uint local_1f00;
  uint uStack_1efc;
  uint uStack_1ef8;
  uint uStack_1ef4;
  ulong local_1ef0;
  ulong *local_1ee8;
  ulong *local_1ee0;
  ulong *local_1ed8;
  undefined1 local_1ed0 [16];
  undefined1 local_1ec0 [16];
  ulong local_1eb0 [2];
  float local_1ea0;
  float fStack_1e9c;
  float fStack_1e98;
  float fStack_1e94;
  float local_1e90 [3];
  uint uStack_1e84;
  float local_1e80 [104];
  BinInfoT_conflict aBStack_1ce0 [80];
  int aiStack_1c90 [4];
  BinInfoT_conflict local_1c80 [4];
  int aiStack_1c7c [763];
  BinInfoT_conflict local_1090 [4];
  BinInfoT_conflict aBStack_108c [4];
  BinInfoT_conflict aBStack_1088 [4];
  BinInfoT_conflict aBStack_1084 [4];
  BinInfoT_conflict local_1080 [4];
  undefined4 auStack_107c [103];
  embree aeStack_ee0 [80];
  embree aeStack_e90 [4];
  int iStack_e8c;
  embree aeStack_e88 [4];
  embree aeStack_e84 [4];
  embree local_e80 [4];
  int aiStack_e7c [3];
  int local_e70 [4];
  undefined1 local_e60 [16];
  undefined1 local_e50 [16];
  undefined1 local_e40 [16];
  undefined1 local_e30 [2976];
  embree local_290 [4];
  embree aeStack_28c [4];
  embree aeStack_288 [4];
  embree aeStack_284 [4];
  embree local_280 [4];
  int aiStack_27c [141];
  long local_48;
  
  bVar33 = 0;
  uVar31 = *(ulong *)(in_RDX + 0x48);
  uVar21 = *(ulong *)(in_RDX + 0x40);
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  uVar32 = uVar31 - uVar21;
  local_1f00._0_1_ = (byte)in_ECX;
  if (0xbff < uVar32) {
    pBVar19 = local_1c80;
    pBVar23 = local_1080;
    do {
      *(float *)(pBVar19 + 0x40) = _LC1;
      *(float *)(pBVar19 + 0x44) = _LC1;
      *(float *)(pBVar19 + 0x48) = _LC1;
      *(float *)(pBVar19 + 0x4c) = _LC1;
      pBVar18 = pBVar19 + 0x60;
      *(undefined4 *)(pBVar19 + 0x50) = _LC3;
      *(undefined4 *)(pBVar19 + 0x54) = _LC3;
      *(undefined4 *)(pBVar19 + 0x58) = _LC3;
      *(undefined4 *)(pBVar19 + 0x5c) = _LC3;
      *(float *)(pBVar19 + 0x20) = _LC1;
      *(float *)(pBVar19 + 0x24) = _LC1;
      *(float *)(pBVar19 + 0x28) = _LC1;
      *(float *)(pBVar19 + 0x2c) = _LC1;
      *(undefined4 *)(pBVar19 + 0x30) = _LC3;
      *(undefined4 *)(pBVar19 + 0x34) = _LC3;
      *(undefined4 *)(pBVar19 + 0x38) = _LC3;
      *(undefined4 *)(pBVar19 + 0x3c) = _LC3;
      *(float *)pBVar19 = _LC1;
      *(float *)(pBVar19 + 4) = _LC1;
      *(float *)(pBVar19 + 8) = _LC1;
      *(float *)(pBVar19 + 0xc) = _LC1;
      *(undefined4 *)(pBVar19 + 0x10) = _LC3;
      *(undefined4 *)(pBVar19 + 0x14) = _LC3;
      *(undefined4 *)(pBVar19 + 0x18) = _LC3;
      *(undefined4 *)(pBVar19 + 0x1c) = _LC3;
      *(undefined1 (*) [16])pBVar23 = (undefined1  [16])0x0;
      pBVar19 = pBVar18;
      pBVar23 = pBVar23 + 0x10;
    } while (local_1080 != pBVar18);
    fVar45 = (float)uVar32 * __LC13 + __LC14;
    if (__LC15 <= fVar45) {
      local_1eb0[0] = (long)(fVar45 - __LC15) ^ 0x8000000000000000;
    }
    else {
      local_1eb0[0] = (ulong)fVar45;
    }
    local_1ea0 = *(float *)(in_RDX + 0x20);
    fStack_1e9c = *(float *)(in_RDX + 0x24);
    fStack_1e98 = *(float *)(in_RDX + 0x28);
    fStack_1e94 = *(float *)(in_RDX + 0x2c);
    local_1ee8 = local_1eb0;
    auVar48._0_4_ = *(float *)(in_RDX + 0x30) - local_1ea0;
    auVar48._4_4_ = *(float *)(in_RDX + 0x34) - fStack_1e9c;
    auVar48._8_4_ = *(float *)(in_RDX + 0x38) - fStack_1e98;
    auVar48._12_4_ = *(float *)(in_RDX + 0x3c) - fStack_1e94;
    if (0x20 < local_1eb0[0]) {
      local_1eb0[0] = 0x20;
    }
    auVar68._4_4_ = _LC17;
    auVar68._0_4_ = _LC17;
    auVar68._8_4_ = _LC17;
    auVar68._12_4_ = _LC17;
    local_1f30._4_4_ = _LC3;
    local_1f30._0_4_ = _LC3;
    local_1f30._8_4_ = _LC3;
    local_1f30._12_4_ = _LC3;
    auVar81 = local_1f30;
    auVar68 = maxps(auVar68,auVar48);
    local_1f20._4_4_ = _LC1;
    local_1f20._0_4_ = _LC1;
    fStack_1f18 = _LC1;
    fStack_1f14 = _LC1;
    auVar48 = _local_1f20;
    auVar52._0_4_ = (float)(long)local_1eb0[0] * _LC18;
    local_1ee0 = &local_1ef0;
    auVar52._4_4_ = auVar52._0_4_;
    auVar52._8_4_ = auVar52._0_4_;
    auVar52._12_4_ = auVar52._0_4_;
    auVar52 = divps(auVar52,auVar68);
    local_1e90[0] = (float)(auVar52._0_4_ & -(uint)(_LC17 < auVar68._0_4_));
    local_1e90[1] = (float)(auVar52._4_4_ & -(uint)(_LC17 < auVar68._4_4_));
    local_1e90[2] = (float)(auVar52._8_4_ & -(uint)(_LC17 < auVar68._8_4_));
    uStack_1e84 = auVar52._12_4_ & -(uint)(_LC17 < auVar68._12_4_);
    local_1ef0 = param_2;
    local_1ed8 = local_1ee8;
    parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&)_2_>
              (local_e80,uVar32 + 0x3ff >> 10,uVar21,uVar31,0x400,local_1c80,
               (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1ee0,
               (_lambda_embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_1ee8);
    pBVar19 = local_1c80;
    peVar26 = local_e80;
    do {
      lVar28 = 0;
      do {
        uVar6 = *(undefined8 *)(peVar26 + lVar28 + 8);
        uVar7 = *(undefined8 *)(peVar26 + lVar28 + 0x10);
        uVar8 = *(undefined8 *)(peVar26 + lVar28 + 0x10 + 8);
        *(undefined8 *)(pBVar19 + lVar28) = *(undefined8 *)(peVar26 + lVar28);
        *(undefined8 *)(pBVar19 + lVar28 + 8) = uVar6;
        *(undefined8 *)(pBVar19 + lVar28 + 0x10) = uVar7;
        *(undefined8 *)(pBVar19 + lVar28 + 0x10 + 8) = uVar8;
        lVar28 = lVar28 + 0x20;
      } while (lVar28 != 0x60);
      peVar26 = peVar26 + 0x60;
      pBVar19 = pBVar19 + 0x60;
    } while (peVar26 != local_280);
    pBVar19 = local_1080;
    for (lVar28 = 0x40; lVar28 != 0; lVar28 = lVar28 + -1) {
      *(undefined8 *)pBVar19 = *(undefined8 *)peVar26;
      peVar26 = peVar26 + (ulong)bVar33 * -0x10 + 8;
      pBVar19 = pBVar19 + (ulong)bVar33 * -0x10 + 8;
    }
    if (local_1eb0[0] == 1) {
      local_1ed0 = _local_1f20;
      local_1ec0 = (undefined1  [16])0x0;
    }
    else {
      iVar36 = 0;
      iVar38 = 0;
      iVar41 = 0;
      iVar44 = 0;
      pfVar20 = local_1e90 + local_1eb0[0] * 4;
      pBVar19 = aBStack_1ce0 + local_1eb0[0] * 0x60;
      auVar52 = _local_1f20;
      auVar68 = _local_1f20;
      auVar72 = local_1f30;
      auVar73 = _local_1f20;
      auVar75 = local_1f30;
      lVar28 = local_1eb0[0] * 0x10;
      do {
        lVar22 = lVar28 + -0x10;
        local_1f30 = maxps(local_1f30,*(undefined1 (*) [16])(pBVar19 + 0x10));
        auVar52 = minps(auVar52,*(undefined1 (*) [16])pBVar19);
        pBVar23 = pBVar19 + -0x60;
        iVar2 = *(int *)(local_1080 + lVar22);
        iVar3 = *(int *)((long)auStack_107c + lVar28 + -0x10);
        iVar4 = *(int *)(local_1090 + lVar28 + 8);
        iVar5 = *(int *)(local_1090 + lVar28 + 0xc);
        auVar72 = maxps(auVar72,*(undefined1 (*) [16])(pBVar19 + 0x30));
        pfVar20[3] = 0.0;
        auVar68 = minps(auVar68,*(undefined1 (*) [16])(pBVar19 + 0x20));
        auVar75 = maxps(auVar75,*(undefined1 (*) [16])(pBVar19 + 0x50));
        iVar36 = iVar2 + iVar36;
        iVar38 = iVar3 + iVar38;
        iVar41 = iVar4 + iVar41;
        iVar44 = iVar5 + iVar44;
        auVar73 = minps(auVar73,*(undefined1 (*) [16])(pBVar19 + 0x40));
        *(int *)(local_e80 + lVar22) = iVar36;
        *(int *)((long)aiStack_e7c + lVar28 + -0x10) = iVar38;
        *(int *)(aeStack_ee0 + lVar28 + 0x58) = iVar41;
        *(int *)(aeStack_ee0 + lVar28 + 0x5c) = iVar44;
        fVar45 = local_1f30._4_4_ - auVar52._4_4_;
        fVar43 = local_1f30._8_4_ - auVar52._8_4_;
        *pfVar20 = (local_1f30._0_4_ - auVar52._0_4_) * (fVar45 + fVar43) + fVar45 * fVar43;
        fVar45 = auVar72._4_4_ - auVar68._4_4_;
        fVar43 = auVar72._8_4_ - auVar68._8_4_;
        pfVar20[1] = (auVar72._0_4_ - auVar68._0_4_) * (fVar45 + fVar43) + fVar45 * fVar43;
        fVar45 = auVar75._4_4_ - auVar73._4_4_;
        fVar43 = auVar75._8_4_ - auVar73._8_4_;
        pfVar20[2] = (auVar75._0_4_ - auVar73._0_4_) * (fVar45 + fVar43) + fVar45 * fVar43;
        pfVar20 = pfVar20 + -4;
        pBVar19 = pBVar23;
        lVar28 = lVar22;
      } while (local_1c80 != pBVar23);
      local_1ed0 = _local_1f20;
      local_1ec0 = (undefined1  [16])0x0;
      iVar36 = (1 << ((byte)local_1f00 & 0x1f)) + -1;
      if (1 < local_1eb0[0]) {
        local_1f50._4_4_ = _UNK_00122f84;
        local_1f50._0_4_ = __LC21;
        local_1f50._12_4_ = _UNK_00122f8c;
        local_1f50._8_4_ = _UNK_00122f88;
        lVar28 = 0x10;
        local_1f10 = (undefined1  [16])0x0;
        local_1f40 = _local_1f20;
        uVar31 = (ulong)in_ECX;
        local_1f30 = _local_1f20;
        _local_1f20 = (undefined1  [16])0x0;
        auVar52 = auVar81;
        auVar68 = auVar48;
        auVar72 = auVar81;
        do {
          auVar72 = maxps(auVar72,*(undefined1 (*) [16])(pBVar23 + 0x50));
          auVar68 = minps(auVar68,*(undefined1 (*) [16])pBVar23);
          local_1f40 = minps(local_1f40,*(undefined1 (*) [16])(pBVar23 + 0x40));
          auVar81 = maxps(auVar81,*(undefined1 (*) [16])(pBVar23 + 0x10));
          local_1f20._0_4_ = local_1f20._0_4_ + *(int *)(local_1090 + lVar28);
          local_1f20._4_4_ = local_1f20._4_4_ + *(int *)(local_1090 + lVar28 + 4);
          fStack_1f18 = (float)((int)fStack_1f18 + *(int *)(local_1090 + lVar28 + 8));
          fStack_1f14 = (float)((int)fStack_1f14 + *(int *)(local_1090 + lVar28 + 0xc));
          auVar52 = maxps(auVar52,*(undefined1 (*) [16])(pBVar23 + 0x30));
          fVar45 = auVar72._4_4_ - local_1f40._4_4_;
          fVar43 = auVar72._8_4_ - local_1f40._8_4_;
          local_1f30 = minps(local_1f30,*(undefined1 (*) [16])(pBVar23 + 0x20));
          fVar60 = auVar81._4_4_ - auVar68._4_4_;
          fVar62 = auVar81._8_4_ - auVar68._8_4_;
          fVar69 = auVar52._4_4_ - local_1f30._4_4_;
          fVar70 = auVar52._8_4_ - local_1f30._8_4_;
          fVar45 = (fVar45 + fVar43) * (auVar72._0_4_ - local_1f40._0_4_) + fVar45 * fVar43;
          uVar66 = (uint)(local_1f20._0_4_ + iVar36) >> uVar31;
          uVar24 = (uint)(local_1f20._4_4_ + iVar36) >> uVar31;
          uVar35 = (uint)((int)fStack_1f18 + iVar36) >> uVar31;
          uVar37 = (uint)((int)fStack_1f14 + iVar36) >> uVar31;
          uVar40 = (uint)(iVar36 + *(int *)(local_e80 + lVar28)) >> uVar31;
          uVar46 = (uint)(iVar36 + *(int *)((long)aiStack_e7c + lVar28)) >> uVar31;
          uVar49 = (uint)(iVar36 + *(int *)((long)aiStack_e7c + lVar28 + 4)) >> uVar31;
          uVar50 = (uint)(iVar36 + *(int *)((long)aiStack_e7c + lVar28 + 8)) >> uVar31;
          local_1f00 = (uint)__LC24;
          uStack_1efc = (uint)((ulong)__LC24 >> 0x20);
          uStack_1ef8 = (uint)_UNK_00122f98;
          uStack_1ef4 = (uint)((ulong)_UNK_00122f98 >> 0x20);
          local_1f70 = (uint)__LC20;
          uStack_1f6c = (uint)((ulong)__LC20 >> 0x20);
          uStack_1f68 = (uint)_UNK_00122fa8;
          uStack_1f64 = (uint)((ulong)_UNK_00122fa8 >> 0x20);
          uVar11 = local_1f50._0_4_;
          uVar12 = local_1f50._4_4_;
          uVar13 = local_1f50._8_4_;
          uVar14 = local_1f50._12_4_;
          pfVar20 = (float *)((long)local_1e80 + lVar28);
          lVar22 = lVar28 + 4;
          lVar9 = lVar28 + 8;
          lVar10 = lVar28 + 0xc;
          lVar28 = lVar28 + 0x10;
          local_1f50._4_4_ = _UNK_00122f84 + local_1f50._4_4_;
          local_1f50._0_4_ = __LC21 + local_1f50._0_4_;
          local_1f50._8_4_ = _UNK_00122f88 + local_1f50._8_4_;
          local_1f50._12_4_ = _UNK_00122f8c + local_1f50._12_4_;
          fVar43 = ((float)(int)(uVar66 & local_1f00) + (float)((int)uVar66 >> 0x1f & local_1f70)) *
                   ((fVar60 + fVar62) * (auVar81._0_4_ - auVar68._0_4_) + fVar60 * fVar62) +
                   ((float)((int)uVar40 >> 0x1f & local_1f70) + (float)(int)(uVar40 & local_1f00)) *
                   *pfVar20;
          fVar69 = ((float)(int)(uVar24 & uStack_1efc) + (float)((int)uVar24 >> 0x1f & uStack_1f6c))
                   * (fVar69 * fVar70 + (fVar69 + fVar70) * (auVar52._0_4_ - local_1f30._0_4_)) +
                   ((float)((int)uVar46 >> 0x1f & uStack_1f6c) + (float)(int)(uVar46 & uStack_1efc))
                   * *(float *)((long)local_1e80 + lVar22);
          fVar70 = ((float)(int)(uVar35 & uStack_1ef8) + (float)((int)uVar35 >> 0x1f & uStack_1f68))
                   * fVar45 +
                   ((float)((int)uVar49 >> 0x1f & uStack_1f68) + (float)(int)(uVar49 & uStack_1ef8))
                   * *(float *)((long)local_1e80 + lVar9);
          fVar45 = ((float)(int)(uVar37 & uStack_1ef4) + (float)((int)uVar37 >> 0x1f & uStack_1f64))
                   * fVar45 +
                   ((float)((int)uVar50 >> 0x1f & uStack_1f64) + (float)(int)(uVar50 & uStack_1ef4))
                   * *(float *)((long)local_1e80 + lVar10);
          uVar66 = -(uint)(fVar43 < auVar48._0_4_);
          uVar24 = -(uint)(fVar69 < auVar48._4_4_);
          uVar35 = -(uint)(fVar70 < auVar48._8_4_);
          uVar37 = -(uint)(fVar45 < auVar48._12_4_);
          local_1f10._0_4_ = uVar11 & uVar66 | ~uVar66 & local_1f10._0_4_;
          local_1f10._4_4_ = uVar12 & uVar24 | ~uVar24 & local_1f10._4_4_;
          local_1f10._8_4_ = uVar13 & uVar35 | ~uVar35 & local_1f10._8_4_;
          local_1f10._12_4_ = uVar14 & uVar37 | ~uVar37 & local_1f10._12_4_;
          auVar73._4_4_ = uVar24 & (uint)fVar69;
          auVar73._0_4_ = uVar66 & (uint)fVar43;
          auVar75._0_4_ = ~uVar66 & (uint)auVar48._0_4_;
          auVar75._4_4_ = ~uVar24 & (uint)auVar48._4_4_;
          auVar75._8_4_ = ~uVar35 & (uint)auVar48._8_4_;
          auVar75._12_4_ = ~uVar37 & (uint)auVar48._12_4_;
          auVar73._8_4_ = uVar35 & (uint)fVar70;
          auVar73._12_4_ = uVar37 & (uint)fVar45;
          auVar48 = auVar73 | auVar75;
          pBVar23 = pBVar23 + 0x60;
        } while (local_1eb0[0] * 0x10 != lVar28);
        local_1ec0._4_4_ = local_1f10._4_4_;
        local_1ec0._0_4_ = local_1f10._0_4_;
        local_1ec0._8_4_ = local_1f10._8_4_;
        local_1ec0._12_4_ = local_1f10._12_4_;
        local_1ed0 = auVar48;
      }
    }
    uVar31 = 0;
    iVar36 = 0;
    uVar21 = 0xffffffff;
    fVar45 = _LC1;
    do {
      if (((local_1e90[uVar31] != 0.0) && (*(float *)(local_1ed0 + uVar31 * 4) < fVar45)) &&
         (*(int *)(local_1ec0 + uVar31 * 4) != 0)) {
        uVar21 = uVar31 & 0xffffffff;
        fVar45 = *(float *)(local_1ed0 + uVar31 * 4);
        iVar36 = *(int *)(local_1ec0 + uVar31 * 4);
      }
      uVar31 = uVar31 + 1;
    } while (uVar31 != 3);
    *(int *)(param_1 + 4) = (int)uVar21;
    *(int *)(param_1 + 8) = iVar36;
    *(ulong *)(param_1 + 0x20) = CONCAT44(fStack_1e9c,local_1ea0);
    *(ulong *)(param_1 + 0x28) = CONCAT44(fStack_1e94,fStack_1e98);
    *(undefined4 *)(param_1 + 0xc) = 0;
    *(ulong *)(param_1 + 0x10) = local_1eb0[0];
    *(float *)param_1 = fVar45;
    *(ulong *)(param_1 + 0x30) = CONCAT44(local_1e90[1],local_1e90[0]);
    *(ulong *)(param_1 + 0x38) = CONCAT44(uStack_1e84,local_1e90[2]);
    goto LAB_001157ef;
  }
  local_1ed0._0_8_ = CONCAT44(_LC1,_LC1);
  local_1ed0._8_4_ = _LC1;
  local_1ed0._12_4_ = _LC1;
  auVar81._0_8_ = CONCAT44(_LC3,_LC3);
  auVar81._8_4_ = _LC3;
  auVar81._12_4_ = _LC3;
  peVar26 = local_e80;
  peVar27 = local_280;
  do {
    *(undefined1 (*) [16])(peVar26 + 0x40) = local_1ed0;
    peVar15 = peVar26 + 0x60;
    *(undefined1 (*) [16])(peVar26 + 0x50) = auVar81;
    *(undefined1 (*) [16])(peVar26 + 0x20) = local_1ed0;
    *(undefined1 (*) [16])(peVar26 + 0x30) = auVar81;
    *(undefined1 (*) [16])peVar26 = local_1ed0;
    *(undefined1 (*) [16])(peVar26 + 0x10) = auVar81;
    *(undefined1 (*) [16])peVar27 = (undefined1  [16])0x0;
    peVar26 = peVar15;
    peVar27 = peVar27 + 0x10;
  } while (local_280 != peVar15);
  fVar45 = (float)(long)uVar32 * __LC13 + __LC14;
  if (__LC15 <= fVar45) {
    uVar31 = (long)(fVar45 - __LC15) ^ 0x8000000000000000;
  }
  else {
    uVar31 = (ulong)fVar45;
  }
  fVar45 = *(float *)(in_RDX + 0x20);
  fVar43 = *(float *)(in_RDX + 0x24);
  fVar69 = *(float *)(in_RDX + 0x28);
  fVar70 = *(float *)(in_RDX + 0x2c);
  auVar72._0_4_ = *(float *)(in_RDX + 0x30) - fVar45;
  auVar72._4_4_ = *(float *)(in_RDX + 0x34) - fVar43;
  auVar72._8_4_ = *(float *)(in_RDX + 0x38) - fVar69;
  auVar72._12_4_ = *(float *)(in_RDX + 0x3c) - fVar70;
  uVar29 = 0x20;
  if (uVar31 < 0x21) {
    uVar29 = uVar31;
  }
  auVar51._4_4_ = _LC17;
  auVar51._0_4_ = _LC17;
  auVar51._8_4_ = _LC17;
  auVar51._12_4_ = _LC17;
  pauVar30 = (undefined1 (*) [16])(param_2 + uVar21 * 0x20);
  auVar52 = maxps(auVar51,auVar72);
  auVar47._0_4_ = (float)(long)uVar29 * _LC18;
  auVar47._4_4_ = auVar47._0_4_;
  auVar47._8_4_ = auVar47._0_4_;
  auVar47._12_4_ = auVar47._0_4_;
  auVar48 = divps(auVar47,auVar52);
  fVar60 = (float)(-(uint)(_LC17 < auVar52._0_4_) & auVar48._0_4_);
  fVar62 = (float)(-(uint)(_LC17 < auVar52._4_4_) & auVar48._4_4_);
  fVar64 = (float)(-(uint)(_LC17 < auVar52._8_4_) & auVar48._8_4_);
  uVar66 = -(uint)(_LC17 < auVar52._12_4_) & auVar48._12_4_;
  local_1e90[0] = fVar60;
  local_1e90[1] = fVar62;
  local_1e90[2] = fVar64;
  if (uVar32 != 0) {
    uVar24 = (int)uVar29 - 1;
    if (uVar32 != 1) {
      pauVar16 = pauVar30;
      do {
        auVar48 = pauVar16[1];
        auVar52 = *pauVar16;
        pauVar17 = pauVar16 + 4;
        auVar68 = pauVar16[2];
        uVar35 = (uint)(((auVar48._0_4_ + auVar52._0_4_) - fVar45) * fVar60 + _LC5);
        uVar37 = (uint)(((auVar48._4_4_ + auVar52._4_4_) - fVar43) * fVar62 + _LC5);
        uVar40 = (uint)(((auVar48._8_4_ + auVar52._8_4_) - fVar69) * fVar64 + _LC5);
        uVar46 = -(uint)((int)uVar35 < (int)uVar24);
        uVar49 = -(uint)((int)uVar37 < (int)uVar24);
        uVar50 = -(uint)((int)uVar40 < (int)uVar24);
        uVar35 = uVar35 & uVar46 | ~uVar46 & uVar24;
        uVar37 = uVar37 & uVar49 | ~uVar49 & uVar24;
        uVar46 = uVar40 & uVar50 | ~uVar50 & uVar24;
        auVar72 = pauVar16[3];
        uVar25 = (ulong)(~-(uint)((int)uVar35 < 0) & uVar35);
        peVar26 = local_e80 + uVar25 * 0x60;
        uVar35 = (uint)(((auVar72._0_4_ + auVar68._0_4_) - fVar45) * fVar60 + _LC5);
        uVar40 = (uint)(((auVar72._4_4_ + auVar68._4_4_) - fVar43) * fVar62 + _LC5);
        uVar49 = (uint)(((auVar72._8_4_ + auVar68._8_4_) - fVar69) * fVar64 + _LC5);
        uVar50 = -(uint)((int)uVar35 < (int)uVar24);
        uVar76 = -(uint)((int)uVar40 < (int)uVar24);
        uVar77 = -(uint)((int)uVar49 < (int)uVar24);
        uVar35 = uVar50 & uVar35 | ~uVar50 & uVar24;
        uVar40 = uVar76 & uVar40 | ~uVar76 & uVar24;
        uVar49 = uVar77 & uVar49 | ~uVar77 & uVar24;
        auVar73 = minps(*(undefined1 (*) [16])peVar26,auVar52);
        *(undefined1 (*) [16])peVar26 = auVar73;
        auVar73 = maxps(*(undefined1 (*) [16])(local_e70 + uVar25 * 0x18),auVar48);
        *(undefined1 (*) [16])(local_e70 + uVar25 * 0x18) = auVar73;
        uVar21 = (ulong)(~-(uint)((int)uVar37 < 0) & uVar37);
        lVar28 = uVar21 * 0x60;
        auVar73 = minps(*(undefined1 (*) [16])(local_e60 + lVar28),auVar52);
        *(undefined1 (*) [16])(local_e60 + lVar28) = auVar73;
        auVar73 = maxps(*(undefined1 (*) [16])(local_e50 + lVar28),auVar48);
        *(undefined1 (*) [16])(local_e50 + lVar28) = auVar73;
        uVar1 = (ulong)(~-(uint)((int)uVar46 < 0) & uVar46);
        lVar28 = uVar1 * 0x60;
        auVar52 = minps(*(undefined1 (*) [16])(local_e40 + lVar28),auVar52);
        *(undefined1 (*) [16])(local_e40 + lVar28) = auVar52;
        auVar48 = maxps(*(undefined1 (*) [16])(local_e30 + lVar28),auVar48);
        *(undefined1 (*) [16])(local_e30 + lVar28) = auVar48;
        *(int *)(local_e80 + (uVar25 + 0xc0) * 0x10) =
             *(int *)(local_e80 + (uVar25 + 0xc0) * 0x10) + 1;
        uVar25 = (ulong)(~-(uint)((int)uVar35 < 0) & uVar35);
        aiStack_27c[uVar21 * 4] = aiStack_27c[uVar21 * 4] + 1;
        aiStack_27c[uVar1 * 4 + 1] = aiStack_27c[uVar1 * 4 + 1] + 1;
        peVar26 = local_e80 + uVar25 * 0x60;
        auVar48 = minps(*(undefined1 (*) [16])peVar26,auVar68);
        *(undefined1 (*) [16])peVar26 = auVar48;
        auVar48 = maxps(*(undefined1 (*) [16])(local_e70 + uVar25 * 0x18),auVar72);
        *(undefined1 (*) [16])(local_e70 + uVar25 * 0x18) = auVar48;
        uVar21 = (ulong)(~-(uint)((int)uVar40 < 0) & uVar40);
        lVar28 = uVar21 * 0x60;
        auVar48 = minps(*(undefined1 (*) [16])(local_e60 + lVar28),auVar68);
        *(undefined1 (*) [16])(local_e60 + lVar28) = auVar48;
        auVar48 = maxps(*(undefined1 (*) [16])(local_e50 + lVar28),auVar72);
        *(undefined1 (*) [16])(local_e50 + lVar28) = auVar48;
        uVar1 = (ulong)(~-(uint)((int)uVar49 < 0) & uVar49);
        lVar28 = uVar1 * 0x60;
        auVar48 = minps(*(undefined1 (*) [16])(local_e40 + lVar28),auVar68);
        *(undefined1 (*) [16])(local_e40 + lVar28) = auVar48;
        auVar48 = maxps(*(undefined1 (*) [16])(local_e30 + lVar28),auVar72);
        *(undefined1 (*) [16])(local_e30 + lVar28) = auVar48;
        *(int *)(local_e80 + (uVar25 + 0xc0) * 0x10) =
             *(int *)(local_e80 + (uVar25 + 0xc0) * 0x10) + 1;
        aiStack_27c[uVar21 * 4] = aiStack_27c[uVar21 * 4] + 1;
        aiStack_27c[uVar1 * 4 + 1] = aiStack_27c[uVar1 * 4 + 1] + 1;
        pauVar16 = pauVar17;
      } while (pauVar30 + (uVar32 - 2 >> 1) * 4 + 4 != pauVar17);
      uVar21 = (uVar32 - 2 & 0xfffffffffffffffe) + 2;
      if (uVar32 <= uVar21) goto LAB_00115365;
      pauVar30 = pauVar30 + uVar21 * 2;
    }
    auVar48 = pauVar30[1];
    auVar52 = *pauVar30;
    uVar35 = (uint)(((auVar48._0_4_ + auVar52._0_4_) - fVar45) * fVar60 + _LC5);
    uVar37 = (uint)(((auVar48._4_4_ + auVar52._4_4_) - fVar43) * fVar62 + _LC5);
    uVar40 = (uint)(((auVar48._8_4_ + auVar52._8_4_) - fVar69) * fVar64 + _LC5);
    uVar46 = -(uint)((int)uVar35 < (int)uVar24);
    uVar49 = -(uint)((int)uVar37 < (int)uVar24);
    uVar50 = -(uint)((int)uVar40 < (int)uVar24);
    uVar35 = uVar46 & uVar35 | ~uVar46 & uVar24;
    uVar37 = uVar49 & uVar37 | ~uVar49 & uVar24;
    uVar24 = uVar50 & uVar40 | ~uVar50 & uVar24;
    lVar28 = (long)(int)(~-(uint)((int)uVar35 < 0) & uVar35);
    peVar26 = local_e80 + lVar28 * 0x60;
    *(int *)(local_e80 + (lVar28 + 0xc0) * 0x10) = *(int *)(local_e80 + (lVar28 + 0xc0) * 0x10) + 1;
    auVar68 = minps(*(undefined1 (*) [16])peVar26,auVar52);
    *(undefined1 (*) [16])peVar26 = auVar68;
    auVar68 = maxps(*(undefined1 (*) [16])(local_e70 + lVar28 * 0x18),auVar48);
    *(undefined1 (*) [16])(local_e70 + lVar28 * 0x18) = auVar68;
    lVar28 = (long)(int)(~-(uint)((int)uVar37 < 0) & uVar37);
    lVar22 = lVar28 * 0x60;
    aiStack_27c[lVar28 * 4] = aiStack_27c[lVar28 * 4] + 1;
    auVar68 = minps(*(undefined1 (*) [16])(local_e60 + lVar22),auVar52);
    *(undefined1 (*) [16])(local_e60 + lVar22) = auVar68;
    auVar68 = maxps(*(undefined1 (*) [16])(local_e50 + lVar22),auVar48);
    *(undefined1 (*) [16])(local_e50 + lVar22) = auVar68;
    lVar28 = (long)(int)(~-(uint)((int)uVar24 < 0) & uVar24);
    lVar22 = lVar28 * 0x60;
    aiStack_27c[lVar28 * 4 + 1] = aiStack_27c[lVar28 * 4 + 1] + 1;
    auVar52 = minps(*(undefined1 (*) [16])(local_e40 + lVar22),auVar52);
    *(undefined1 (*) [16])(local_e40 + lVar22) = auVar52;
    auVar48 = maxps(*(undefined1 (*) [16])(local_e30 + lVar22),auVar48);
    *(undefined1 (*) [16])(local_e30 + lVar22) = auVar48;
  }
LAB_00115365:
  uStack_1e84 = uVar66;
  if (uVar31 != 1) {
    auVar78._8_4_ = _LC3;
    auVar78._0_8_ = auVar81._0_8_;
    auVar78._12_4_ = _LC3;
    auVar74._8_4_ = _LC1;
    auVar74._0_8_ = local_1ed0._0_8_;
    auVar74._12_4_ = _LC1;
    auVar71._8_4_ = _LC3;
    auVar71._0_8_ = auVar81._0_8_;
    auVar71._12_4_ = _LC3;
    auVar67._8_4_ = _LC1;
    auVar67._0_8_ = local_1ed0._0_8_;
    auVar67._12_4_ = _LC1;
    auVar61._8_4_ = _LC3;
    auVar61._0_8_ = auVar81._0_8_;
    auVar61._12_4_ = _LC3;
    auVar53._8_4_ = _LC1;
    auVar53._0_8_ = local_1ed0._0_8_;
    auVar53._12_4_ = _LC1;
    iVar36 = 0;
    iVar38 = 0;
    iVar41 = 0;
    iVar44 = 0;
    pfVar20 = local_1e90 + uVar29 * 4;
    peVar26 = aeStack_ee0 + uVar29 * 0x60;
    lVar28 = uVar29 * 0x10;
    do {
      auVar61 = maxps(auVar61,*(undefined1 (*) [16])(peVar26 + 0x10));
      auVar53 = minps(auVar53,*(undefined1 (*) [16])peVar26);
      peVar27 = peVar26 + -0x60;
      iVar2 = *(int *)(local_280 + -0x10 + lVar28);
      iVar3 = *(int *)(local_290 + lVar28 + 4);
      iVar4 = *(int *)(local_290 + lVar28 + 8);
      iVar5 = *(int *)(local_290 + lVar28 + 0xc);
      auVar71 = maxps(auVar71,*(undefined1 (*) [16])(peVar26 + 0x30));
      pfVar20[3] = 0.0;
      auVar67 = minps(auVar67,*(undefined1 (*) [16])(peVar26 + 0x20));
      auVar78 = maxps(auVar78,*(undefined1 (*) [16])(peVar26 + 0x50));
      iVar36 = iVar2 + iVar36;
      iVar38 = iVar3 + iVar38;
      iVar41 = iVar4 + iVar41;
      iVar44 = iVar5 + iVar44;
      auVar74 = minps(auVar74,*(undefined1 (*) [16])(peVar26 + 0x40));
      *(int *)((long)aiStack_1c90 + lVar28) = iVar36;
      *(int *)((long)aiStack_1c90 + lVar28 + 4) = iVar38;
      *(int *)((long)aiStack_1c90 + lVar28 + 8) = iVar41;
      *(int *)((long)aiStack_1c90 + lVar28 + 0xc) = iVar44;
      fVar39 = auVar61._4_4_ - auVar53._4_4_;
      fVar42 = auVar61._8_4_ - auVar53._8_4_;
      *pfVar20 = (auVar61._0_4_ - auVar53._0_4_) * (fVar39 + fVar42) + fVar39 * fVar42;
      fVar39 = auVar71._4_4_ - auVar67._4_4_;
      fVar42 = auVar71._8_4_ - auVar67._8_4_;
      pfVar20[1] = (auVar71._0_4_ - auVar67._0_4_) * (fVar39 + fVar42) + fVar39 * fVar42;
      fVar39 = auVar78._4_4_ - auVar74._4_4_;
      fVar42 = auVar78._8_4_ - auVar74._8_4_;
      pfVar20[2] = (auVar78._0_4_ - auVar74._0_4_) * (fVar39 + fVar42) + fVar39 * fVar42;
      pfVar20 = pfVar20 + -4;
      peVar26 = peVar27;
      lVar28 = lVar28 + -0x10;
    } while (local_e80 != peVar27);
  }
  local_1ec0 = (undefined1  [16])0x0;
  iVar36 = (1 << ((byte)local_1f00 & 0x1f)) + -1;
  if (1 < uVar31) {
    lVar28 = 0x10;
    local_1f10 = (undefined1  [16])0x0;
    auVar82._8_4_ = _LC3;
    auVar82._0_8_ = auVar81._0_8_;
    auVar82._12_4_ = _LC3;
    _local_1f20 = (undefined1  [16])0x0;
    auVar79._8_4_ = _LC3;
    auVar79._0_8_ = auVar81._0_8_;
    auVar79._12_4_ = _LC3;
    auVar80._8_4_ = _LC3;
    auVar80._0_8_ = auVar81._0_8_;
    auVar80._12_4_ = _LC3;
    uVar31 = 1;
    peVar26 = local_e80;
    uVar24 = __LC21;
    uVar35 = _UNK_00122f84;
    uVar37 = _UNK_00122f88;
    uVar40 = _UNK_00122f8c;
    local_1f50 = local_1ed0;
    local_1f40 = local_1ed0;
    local_1f30 = local_1ed0;
    do {
      auVar82 = maxps(auVar82,*(undefined1 (*) [16])(peVar26 + 0x50));
      uVar31 = uVar31 + 1;
      local_1f50 = minps(local_1f50,*(undefined1 (*) [16])(peVar26 + 0x40));
      auVar80 = maxps(auVar80,*(undefined1 (*) [16])(peVar26 + 0x10));
      local_1f20._0_4_ = local_1f20._0_4_ + *(int *)(local_290 + lVar28);
      local_1f20._4_4_ = local_1f20._4_4_ + *(int *)(local_290 + lVar28 + 4);
      fStack_1f18 = (float)((int)fStack_1f18 + *(int *)(local_290 + lVar28 + 8));
      fStack_1f14 = (float)((int)fStack_1f14 + *(int *)(local_290 + lVar28 + 0xc));
      local_1f30 = minps(local_1f30,*(undefined1 (*) [16])peVar26);
      auVar79 = maxps(auVar79,*(undefined1 (*) [16])(peVar26 + 0x30));
      fVar39 = auVar82._4_4_ - local_1f50._4_4_;
      fVar42 = auVar82._8_4_ - local_1f50._8_4_;
      fVar63 = auVar80._4_4_ - local_1f30._4_4_;
      fVar65 = auVar80._8_4_ - local_1f30._8_4_;
      local_1f40 = minps(local_1f40,*(undefined1 (*) [16])(peVar26 + 0x20));
      fVar58 = auVar79._4_4_ - local_1f40._4_4_;
      fVar59 = auVar79._8_4_ - local_1f40._8_4_;
      fVar39 = (fVar39 + fVar42) * (auVar82._0_4_ - local_1f50._0_4_) + fVar39 * fVar42;
      uVar77 = (uint)(local_1f20._0_4_ + iVar36) >> in_ECX;
      uVar55 = (uint)(local_1f20._4_4_ + iVar36) >> in_ECX;
      uVar56 = (uint)((int)fStack_1f18 + iVar36) >> in_ECX;
      uVar57 = (uint)((int)fStack_1f14 + iVar36) >> in_ECX;
      local_1f00 = (uint)__LC24;
      uStack_1efc = (uint)((ulong)__LC24 >> 0x20);
      uStack_1ef8 = (uint)_UNK_00122f98;
      uStack_1ef4 = (uint)((ulong)_UNK_00122f98 >> 0x20);
      uVar46 = (uint)(*(int *)(local_1c80 + lVar28) + iVar36) >> in_ECX;
      uVar49 = (uint)(*(int *)((long)aiStack_1c7c + lVar28) + iVar36) >> in_ECX;
      uVar50 = (uint)(*(int *)((long)aiStack_1c7c + lVar28 + 4) + iVar36) >> in_ECX;
      uVar76 = (uint)(*(int *)((long)aiStack_1c7c + lVar28 + 8) + iVar36) >> in_ECX;
      local_1f70 = (uint)__LC20;
      uStack_1f6c = (uint)((ulong)__LC20 >> 0x20);
      uStack_1f68 = (uint)_UNK_00122fa8;
      uStack_1f64 = (uint)((ulong)_UNK_00122fa8 >> 0x20);
      pfVar20 = (float *)((long)local_1e80 + lVar28);
      lVar22 = lVar28 + 4;
      lVar9 = lVar28 + 8;
      lVar10 = lVar28 + 0xc;
      lVar28 = lVar28 + 0x10;
      fVar42 = ((float)(int)(uVar77 & local_1f00) + (float)((int)uVar77 >> 0x1f & local_1f70)) *
               ((fVar63 + fVar65) * (auVar80._0_4_ - local_1f30._0_4_) + fVar63 * fVar65) +
               ((float)(int)(uVar46 & local_1f00) + (float)((int)uVar46 >> 0x1f & local_1f70)) *
               *pfVar20;
      fVar58 = ((float)(int)(uVar55 & uStack_1efc) + (float)((int)uVar55 >> 0x1f & uStack_1f6c)) *
               ((fVar58 + fVar59) * (auVar79._0_4_ - local_1f40._0_4_) + fVar58 * fVar59) +
               ((float)(int)(uVar49 & uStack_1efc) + (float)((int)uVar49 >> 0x1f & uStack_1f6c)) *
               *(float *)((long)local_1e80 + lVar22);
      fVar59 = ((float)(int)(uVar56 & uStack_1ef8) + (float)((int)uVar56 >> 0x1f & uStack_1f68)) *
               fVar39 + ((float)(int)(uVar50 & uStack_1ef8) +
                        (float)((int)uVar50 >> 0x1f & uStack_1f68)) *
                        *(float *)((long)local_1e80 + lVar9);
      fVar39 = ((float)(int)(uVar57 & uStack_1ef4) + (float)((int)uVar57 >> 0x1f & uStack_1f64)) *
               fVar39 + ((float)(int)(uVar76 & uStack_1ef4) +
                        (float)((int)uVar76 >> 0x1f & uStack_1f64)) *
                        *(float *)((long)local_1e80 + lVar10);
      uVar46 = -(uint)(fVar42 < local_1ed0._0_4_);
      uVar49 = -(uint)(fVar58 < local_1ed0._4_4_);
      uVar50 = -(uint)(fVar59 < local_1ed0._8_4_);
      uVar76 = -(uint)(fVar39 < local_1ed0._12_4_);
      auVar34._4_4_ = uVar49 & (uint)fVar58;
      auVar34._0_4_ = uVar46 & (uint)fVar42;
      auVar54._0_4_ = ~uVar46 & (uint)local_1ed0._0_4_;
      auVar54._4_4_ = ~uVar49 & (uint)local_1ed0._4_4_;
      auVar54._8_4_ = ~uVar50 & (uint)local_1ed0._8_4_;
      auVar54._12_4_ = ~uVar76 & (uint)local_1ed0._12_4_;
      auVar34._8_4_ = uVar50 & (uint)fVar59;
      auVar34._12_4_ = uVar76 & (uint)fVar39;
      local_1f10._4_4_ = uVar35 & uVar49 | ~uVar49 & local_1f10._4_4_;
      local_1f10._0_4_ = uVar24 & uVar46 | ~uVar46 & local_1f10._0_4_;
      local_1f10._8_4_ = uVar37 & uVar50 | ~uVar50 & local_1f10._8_4_;
      local_1f10._12_4_ = uVar40 & uVar76 | ~uVar76 & local_1f10._12_4_;
      local_1ed0 = auVar34 | auVar54;
      peVar26 = peVar26 + 0x60;
      uVar24 = uVar24 + __LC21;
      uVar35 = uVar35 + _UNK_00122f84;
      uVar37 = uVar37 + _UNK_00122f88;
      uVar40 = uVar40 + _UNK_00122f8c;
    } while (uVar31 < uVar29);
    local_1ec0._8_8_ = local_1f10._8_8_;
    local_1ec0._0_8_ = local_1f10._0_8_;
  }
  uVar31 = 0;
  iVar36 = 0;
  uVar21 = 0xffffffff;
  fVar39 = _LC1;
  do {
    if (((local_1e90[uVar31] != 0.0) && (*(float *)(local_1ed0 + uVar31 * 4) < fVar39)) &&
       (*(int *)(local_1ec0 + uVar31 * 4) != 0)) {
      uVar21 = uVar31 & 0xffffffff;
      fVar39 = *(float *)(local_1ed0 + uVar31 * 4);
      iVar36 = *(int *)(local_1ec0 + uVar31 * 4);
    }
    uVar31 = uVar31 + 1;
  } while (uVar31 != 3);
  *(int *)(param_1 + 4) = (int)uVar21;
  *(int *)(param_1 + 8) = iVar36;
  *(undefined4 *)(param_1 + 0xc) = 0;
  *(ulong *)(param_1 + 0x10) = uVar29;
  *(float *)param_1 = fVar39;
  *(float *)(param_1 + 0x20) = fVar45;
  *(float *)(param_1 + 0x24) = fVar43;
  *(float *)(param_1 + 0x28) = fVar69;
  *(float *)(param_1 + 0x2c) = fVar70;
  *(float *)(param_1 + 0x30) = fVar60;
  *(float *)(param_1 + 0x34) = fVar62;
  *(float *)(param_1 + 0x38) = fVar64;
  *(uint *)(param_1 + 0x3c) = uVar66;
LAB_001157ef:
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator, bool) */

undefined8
embree::sse2::GeneralBVHBuilder::
BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
::recurse(ulong *param_1,long *param_2,char param_3)

{
  undefined8 *puVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined8 *puVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  MutexSys *this;
  ulong uVar11;
  undefined8 uVar12;
  float *pfVar13;
  undefined1 (*pauVar14) [16];
  undefined1 (*pauVar15) [16];
  PrimInfoRange *pPVar16;
  undefined8 uVar17;
  undefined1 (*pauVar18) [16];
  MutexSys *this_00;
  ulong *puVar19;
  int iVar20;
  ulong *puVar21;
  ulong uVar22;
  long lVar23;
  ulong uVar24;
  ulong uVar25;
  long lVar26;
  ulong uVar27;
  PrimInfoRange *pPVar28;
  long lVar29;
  undefined8 *puVar30;
  long lVar31;
  long *plVar32;
  undefined8 *puVar33;
  long *plVar34;
  long in_FS_OFFSET;
  double dVar35;
  float fVar38;
  float fVar39;
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  undefined4 uVar43;
  undefined4 uVar50;
  undefined4 uVar51;
  undefined1 auVar44 [16];
  undefined1 auVar45 [16];
  undefined1 auVar46 [16];
  undefined4 uVar52;
  undefined1 auVar47 [16];
  undefined1 auVar48 [16];
  undefined1 auVar49 [16];
  undefined1 auVar53 [16];
  undefined1 auVar54 [16];
  undefined1 auVar55 [16];
  undefined1 auVar56 [16];
  undefined1 auVar57 [16];
  undefined1 auVar58 [16];
  undefined1 auVar59 [16];
  undefined1 auVar60 [16];
  undefined1 auVar61 [16];
  undefined1 auVar62 [16];
  undefined1 auVar63 [16];
  undefined1 auVar64 [16];
  undefined1 auVar65 [16];
  long in_stack_00000008;
  MutexSys *in_stack_00000010;
  MutexSys *in_stack_00000018;
  undefined1 local_898 [8];
  float fStack_890;
  float fStack_88c;
  undefined1 local_888 [16];
  undefined1 local_878 [16];
  undefined1 local_868 [16];
  long *local_828;
  PrimInfoRange *local_818;
  undefined1 *local_800;
  _lambda_embree__CentGeom<embree::BBox<embree::Vec3fa>_>__embree__CentGeom<embree::BBox<embree::Vec3fa>_>_const___4_
  local_7cb;
  _lambda_embree__CentGeom<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___3_ local_7ca;
  EmptyTy local_7c9;
  PrimInfoRange *local_7c8;
  PrimInfoRange *local_7c0;
  long *local_7b8;
  undefined4 local_7a8;
  undefined4 uStack_7a4;
  undefined4 uStack_7a0;
  undefined4 uStack_79c;
  float local_798;
  float fStack_794;
  float fStack_790;
  float fStack_78c;
  undefined4 local_788;
  undefined4 uStack_784;
  undefined4 uStack_780;
  undefined4 uStack_77c;
  float local_778;
  float fStack_774;
  float fStack_770;
  float fStack_76c;
  undefined8 local_768;
  undefined8 uStack_760;
  float local_758;
  float fStack_754;
  float fStack_750;
  float fStack_74c;
  undefined4 local_748;
  undefined4 uStack_744;
  undefined4 uStack_740;
  undefined4 uStack_73c;
  float local_738;
  float fStack_734;
  float fStack_730;
  float fStack_72c;
  int local_728;
  int iStack_724;
  int iStack_720;
  int iStack_71c;
  long local_718;
  undefined8 uStack_710;
  float local_708;
  int local_704;
  int local_700;
  float local_6e8;
  float fStack_6e4;
  float fStack_6e0;
  float fStack_6dc;
  float local_6d8;
  float fStack_6d4;
  float fStack_6d0;
  float fStack_6cc;
  PrimInfoRange local_6c8 [4];
  int iStack_6c4;
  int iStack_6c0;
  float local_6a8;
  float fStack_6a4;
  float fStack_6a0;
  float fStack_69c;
  float local_698;
  float fStack_694;
  float fStack_690;
  float fStack_68c;
  long local_648;
  ulong uStack_640;
  undefined1 local_638 [16];
  undefined1 local_628 [16];
  undefined1 local_618 [16];
  undefined1 local_608 [16];
  ulong local_5f8 [3];
  undefined1 local_5e0;
  undefined8 local_5d8;
  undefined8 uStack_5d0;
  undefined8 local_5c8;
  undefined8 uStack_5c0;
  undefined1 local_5b8 [16];
  undefined1 local_5a8 [16];
  ulong local_598;
  ulong local_590;
  long local_588 [168];
  long lStack_48;
  long local_40;
  
  lVar26 = lRam0000000000116e4b;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (in_stack_00000008 == 0) {
    this_00 = *(MutexSys **)(in_FS_OFFSET + lRam0000000000116e4b);
    lVar23 = **(long **)param_1[10];
    lVar31 = lVar23 + 0x18;
    if (this_00 == (MutexSys *)0x0) {
      this_00 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
      embree::MutexSys::MutexSys(this_00);
      *(undefined8 *)(this_00 + 8) = 0;
      *(MutexSys **)(this_00 + 0x40) = this_00;
      *(undefined8 *)(this_00 + 0x48) = 0;
      *(undefined8 *)(this_00 + 0x50) = 0;
      *(undefined8 *)(this_00 + 0x58) = 0;
      *(undefined8 *)(this_00 + 0x60) = 0;
      *(undefined8 *)(this_00 + 0x68) = 0;
      *(undefined8 *)(this_00 + 0x70) = 0;
      *(MutexSys **)(this_00 + 0x80) = this_00;
      *(undefined8 *)(this_00 + 0x88) = 0;
      *(undefined8 *)(this_00 + 0x90) = 0;
      *(undefined8 *)(this_00 + 0x98) = 0;
      *(undefined8 *)(this_00 + 0xa0) = 0;
      *(undefined8 *)(this_00 + 0xa8) = 0;
      *(undefined8 *)(this_00 + 0xb0) = 0;
      *(MutexSys **)(in_FS_OFFSET + lVar26) = this_00;
      embree::MutexSys::lock();
      local_768._0_4_ = SUB84(this_00,0);
      local_768._4_4_ = (undefined4)((ulong)this_00 >> 0x20);
      if (_vtable == _vtable) {
        std::
        vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
        ::
        _M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
                  ((vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
                    *)&FastAllocator::s_thread_local_allocators,_vtable,&local_768);
        this = (MutexSys *)CONCAT44(local_768._4_4_,(undefined4)local_768);
        if (this != (MutexSys *)0x0) {
          embree::MutexSys::~MutexSys(this);
          embree::alignedFree(this);
        }
      }
      else {
        *_vtable = this_00;
        _vtable = _vtable + 1;
      }
      embree::MutexSys::unlock();
    }
    in_stack_00000010 = this_00 + 0x40;
    in_stack_00000008 = lVar31;
    in_stack_00000018 = in_stack_00000010;
    if (*(char *)(lVar23 + 0x122) == '\0') {
      in_stack_00000018 = this_00 + 0x80;
    }
  }
  if (((param_3 != '\0') && (uVar11 = param_2[0xb] - param_2[10], uVar11 <= param_1[6])) &&
     (puVar1 = (undefined8 *)param_1[0x10], *(long *)*puVar1 != 0)) {
    plVar34 = (long *)puVar1[1];
    LOCK();
    lVar26 = *plVar34;
    *plVar34 = *plVar34 + uVar11;
    UNLOCK();
    dVar35 = (double)(lVar26 + uVar11) / (double)*(ulong *)puVar1[2];
    if (_LC64 <= dVar35) {
      dVar35 = _LC64;
    }
    (**(code **)*puVar1)(dVar35,*(undefined8 *)puVar1[3]);
  }
  HeuristicArrayBinningSAH<embree::PrimRef,32ul>::find
            ((PrimInfoRange *)&local_708,*(ulong *)param_1[9]);
  uVar11 = param_2[0xb];
  uVar27 = param_2[10];
  auVar36 = *(undefined1 (*) [16])(param_2 + 2);
  uVar22 = uVar11 - uVar27;
  if (((uVar22 <= param_1[3]) || (lVar26 = *param_2, param_1[1] <= lVar26 + 8U)) ||
     ((uVar22 <= param_1[4] &&
      (fVar38 = *(float *)((long)param_2 + 0x24) - auVar36._4_4_,
      fVar39 = *(float *)(param_2 + 5) - auVar36._8_4_,
      fVar38 = (fVar38 + fVar39) * (*(float *)(param_2 + 4) - auVar36._0_4_) + fVar38 * fVar39,
      (float)((uVar22 - 1) + (1L << ((byte)param_1[2] & 0x3f)) >> ((byte)param_1[2] & 0x3f)) *
      fVar38 * *(float *)((long)param_1 + 0x2c) <=
      *(float *)(param_1 + 5) * fVar38 + *(float *)((long)param_1 + 0x2c) * local_708)))) {
    puVar1 = (undefined8 *)(*(long *)param_1[9] + uVar11 * 0x20);
    puVar33 = (undefined8 *)(*(long *)param_1[9] + uVar27 * 0x20);
    if (puVar1 != puVar33) {
      lVar26 = uVar11 * 0x20 + uVar27 * -0x20;
      uVar11 = lVar26 >> 5;
      if (uVar11 == 0) {
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar33,puVar1,0xfffffffffffffffe);
      }
      else {
        lVar31 = 0x3f;
        if (uVar11 != 0) {
          for (; uVar11 >> lVar31 == 0; lVar31 = lVar31 + -1) {
          }
        }
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar33,puVar1,(long)(int)lVar31 * 2);
        if (0x200 < lVar26) {
          puVar30 = puVar33 + 0x40;
          std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar33,puVar30)
          ;
          for (; puVar1 != puVar30; puVar30 = puVar30 + 4) {
            while( true ) {
              uVar12 = puVar30[2];
              uVar17 = puVar30[3];
              uVar9 = *puVar30;
              uVar10 = puVar30[1];
              uVar11 = CONCAT44(*(undefined4 *)((long)puVar30 + 0x1c),
                                *(undefined4 *)((long)puVar30 + 0xc));
              puVar33 = puVar30;
              if (CONCAT44(*(undefined4 *)((long)puVar30 + -4),
                           *(undefined4 *)((long)puVar30 + -0x14)) <= uVar11) break;
              do {
                puVar4 = puVar33;
                puVar33 = puVar4 + -4;
                *puVar4 = *puVar33;
                puVar4[1] = puVar4[-3];
                *(undefined1 (*) [16])(puVar4 + 2) = *(undefined1 (*) [16])(puVar4 + -2);
              } while (uVar11 < CONCAT44(*(undefined4 *)((long)puVar4 + -0x24),
                                         *(undefined4 *)((long)puVar4 + -0x34)));
              puVar30 = puVar30 + 4;
              *puVar33 = uVar9;
              puVar4[-3] = uVar10;
              puVar4[-2] = uVar12;
              puVar4[-1] = uVar17;
              if (puVar1 == puVar30) goto LAB_00116150;
            }
            *puVar30 = uVar9;
            puVar30[1] = uVar10;
            puVar30[2] = uVar12;
            puVar30[3] = uVar17;
          }
          goto LAB_00116150;
        }
      }
      std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar33,puVar1);
    }
LAB_00116150:
    uVar12 = createLargeLeaf(param_1,param_2);
    goto LAB_00116185;
  }
  plVar34 = (long *)param_1[9];
  if (uVar22 < 0xc00) {
    lVar31 = *plVar34;
    lVar23 = uVar11 * 0x20;
    pauVar18 = (undefined1 (*) [16])(lVar31 + uVar27 * 0x20);
    if (local_704 == -1) {
      pauVar14 = (undefined1 (*) [16])(lVar31 + lVar23);
      if (pauVar14 != pauVar18) {
        lVar23 = lVar23 + uVar27 * -0x20;
        uVar11 = lVar23 >> 5;
        if (uVar11 == 0) {
          std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                    (pauVar18,pauVar14,0xfffffffffffffffe);
LAB_001177bd:
          std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
                    (pauVar18,pauVar14);
        }
        else {
          lVar26 = 0x3f;
          if (uVar11 != 0) {
            for (; uVar11 >> lVar26 == 0; lVar26 = lVar26 + -1) {
            }
          }
          std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                    (pauVar18,pauVar14,(long)(int)lVar26 * 2);
          if (lVar23 < 0x201) goto LAB_001177bd;
          pauVar15 = pauVar18 + 0x20;
          std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
                    (pauVar18,pauVar15);
          for (; pauVar14 != pauVar15; pauVar15 = pauVar15 + 2) {
            uVar43 = *(undefined4 *)(pauVar15[1] + 0xc);
            uVar50 = *(undefined4 *)(*pauVar15 + 0xc);
            uVar12 = *(undefined8 *)pauVar15[1];
            uVar17 = *(undefined8 *)(pauVar15[1] + 8);
            uVar9 = *(undefined8 *)*pauVar15;
            uVar10 = *(undefined8 *)(*pauVar15 + 8);
            uVar11 = CONCAT44(*(undefined4 *)(pauVar15[-1] + 0xc),
                              *(undefined4 *)(pauVar15[-2] + 0xc));
            pauVar18 = pauVar15;
            while (CONCAT44(uVar43,uVar50) < uVar11) {
              uVar51 = *(undefined4 *)pauVar18[-1];
              uVar52 = *(undefined4 *)(pauVar18[-1] + 4);
              uVar2 = *(undefined4 *)(pauVar18[-1] + 8);
              uVar3 = *(undefined4 *)(pauVar18[-1] + 0xc);
              *pauVar18 = pauVar18[-2];
              *(undefined4 *)pauVar18[1] = uVar51;
              *(undefined4 *)(pauVar18[1] + 4) = uVar52;
              *(undefined4 *)(pauVar18[1] + 8) = uVar2;
              *(undefined4 *)(pauVar18[1] + 0xc) = uVar3;
              uVar11 = CONCAT44(*(undefined4 *)(pauVar18[-3] + 0xc),
                                *(undefined4 *)(pauVar18[-4] + 0xc));
              pauVar18 = pauVar18 + -2;
            }
            *(undefined8 *)*pauVar18 = uVar9;
            *(undefined8 *)(*pauVar18 + 8) = uVar10;
            *(undefined8 *)pauVar18[1] = uVar12;
            *(undefined8 *)(pauVar18[1] + 8) = uVar17;
          }
        }
        lVar31 = *plVar34;
        uVar27 = param_2[10];
        uVar11 = param_2[0xb];
        lVar26 = *param_2;
      }
      local_5f8[1] = uVar27 + uVar11 >> 1;
      if (uVar27 < local_5f8[1]) {
        local_608._8_4_ = _LC3;
        local_608._0_8_ = CONCAT44(_LC3,_LC3);
        local_608._12_4_ = _LC3;
        local_618._8_4_ = _LC1;
        local_618._0_8_ = CONCAT44(_LC1,_LC1);
        local_618._12_4_ = _LC1;
        local_628._8_4_ = _LC3;
        local_628._0_8_ = CONCAT44(_LC3,_LC3);
        local_628._12_4_ = _LC3;
        local_638._8_4_ = _LC1;
        local_638._0_8_ = CONCAT44(_LC1,_LC1);
        local_638._12_4_ = _LC1;
        pauVar18 = (undefined1 (*) [16])(uVar27 * 0x20 + lVar31);
        do {
          auVar48._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
          auVar48._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
          auVar48._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
          auVar48._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
          pauVar14 = pauVar18 + 2;
          local_638 = minps(local_638,*pauVar18);
          local_628 = maxps(local_628,pauVar18[1]);
          local_618 = minps(local_618,auVar48);
          local_608 = maxps(local_608,auVar48);
          pauVar18 = pauVar14;
        } while ((undefined1 (*) [16])(local_5f8[1] * 0x20 + lVar31) != pauVar14);
      }
      else {
        local_608._8_4_ = _LC3;
        local_608._0_8_ = CONCAT44(_LC3,_LC3);
        local_608._12_4_ = _LC3;
        local_618._8_4_ = _LC1;
        local_618._0_8_ = CONCAT44(_LC1,_LC1);
        local_618._12_4_ = _LC1;
        local_628._8_4_ = _LC3;
        local_628._0_8_ = CONCAT44(_LC3,_LC3);
        local_628._12_4_ = _LC3;
        local_638._8_4_ = _LC1;
        local_638._0_8_ = CONCAT44(_LC1,_LC1);
        local_638._12_4_ = _LC1;
      }
      local_898._4_4_ = _LC3;
      local_898._0_4_ = _LC3;
      auVar36._4_4_ = _LC1;
      auVar36._0_4_ = _LC1;
      fStack_890 = _LC3;
      auVar36._8_4_ = _LC1;
      fStack_88c = _LC3;
      auVar36._12_4_ = _LC1;
      local_5a8 = _local_898;
      local_5b8 = auVar36;
      local_878 = _local_898;
      local_868 = auVar36;
      if (local_5f8[1] < uVar11) {
        pauVar18 = (undefined1 (*) [16])(local_5f8[1] * 0x20 + lVar31);
        do {
          auVar59._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
          auVar59._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
          auVar59._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
          auVar59._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
          pauVar14 = pauVar18 + 2;
          local_868 = minps(local_868,*pauVar18);
          local_878 = maxps(local_878,pauVar18[1]);
          local_5b8 = minps(local_5b8,auVar59);
          local_5a8 = maxps(local_5a8,auVar59);
          pauVar18 = pauVar14;
        } while ((undefined1 (*) [16])(lVar31 + uVar11 * 0x20) != pauVar14);
      }
    }
    else {
      uVar22 = (ulong)(uint)(1 << ((byte)local_704 & 0x1f));
      iVar20 = 0x126020;
      local_898 = (undefined1  [8])CONCAT44(_LC3,_LC3);
      fStack_890 = _LC3;
      fStack_88c = _LC3;
      local_5a8._8_4_ = _LC3;
      local_5a8._0_8_ = local_898;
      local_5a8._12_4_ = _LC3;
      uVar12 = (&mm_lookupmask_ps)[uVar22 * 2];
      uVar17 = *(undefined8 *)(embree::TaskScheduler::thread + uVar22 * 0x10);
      auVar36._0_8_ = CONCAT44(_LC1,_LC1);
      auVar36._8_4_ = _LC1;
      auVar36._12_4_ = _LC1;
      local_5b8._8_4_ = _LC1;
      local_5b8._0_8_ = auVar36._0_8_;
      local_5b8._12_4_ = _LC1;
      local_608._8_4_ = _LC3;
      local_608._0_8_ = local_898;
      local_608._12_4_ = _LC3;
      local_618._8_4_ = _LC1;
      local_618._0_8_ = auVar36._0_8_;
      local_618._12_4_ = _LC1;
      local_628._8_4_ = _LC3;
      local_628._0_8_ = local_898;
      local_628._12_4_ = _LC3;
      local_638._8_4_ = _LC1;
      local_638._0_8_ = auVar36._0_8_;
      local_638._12_4_ = _LC1;
      pauVar14 = (undefined1 (*) [16])(lVar31 + -0x20 + lVar23);
      local_878 = _local_898;
      local_868 = auVar36;
      for (; pauVar18 <= pauVar14; pauVar18 = pauVar18 + 2) {
        auVar60 = pauVar18[1];
        auVar49 = *pauVar18;
        auVar40._0_4_ = auVar60._0_4_ + auVar49._0_4_;
        auVar40._4_4_ = auVar60._4_4_ + auVar49._4_4_;
        auVar40._8_4_ = auVar60._8_4_ + auVar49._8_4_;
        auVar40._12_4_ = auVar60._12_4_ + auVar49._12_4_;
        local_888._0_4_ = (undefined4)uVar12;
        local_888._4_4_ = (undefined4)((ulong)uVar12 >> 0x20);
        local_888._8_4_ = (undefined4)uVar17;
        local_888._12_4_ = (undefined4)((ulong)uVar17 >> 0x20);
        auVar44._0_4_ =
             -(uint)((int)((auVar40._0_4_ - local_6e8) * local_6d8 + _LC5) < local_700) &
             local_888._0_4_;
        auVar44._4_4_ =
             -(uint)((int)((auVar40._4_4_ - fStack_6e4) * fStack_6d4 + _UNK_00122f54) < local_700) &
             local_888._4_4_;
        auVar44._8_4_ =
             -(uint)((int)((auVar40._8_4_ - fStack_6e0) * fStack_6d0 + _UNK_00122f58) < local_700) &
             local_888._8_4_;
        auVar44._12_4_ =
             -(uint)((int)((auVar40._12_4_ - fStack_6dc) * fStack_6cc + _UNK_00122f5c) < local_700)
             & local_888._12_4_;
        iVar20 = movmskps(iVar20,auVar44);
        if (iVar20 == 0) {
          while( true ) {
            auVar48 = pauVar14[1];
            auVar59 = *pauVar14;
            pauVar15 = pauVar14 + -2;
            auVar47._0_4_ = auVar48._0_4_ + auVar59._0_4_;
            auVar47._4_4_ = auVar48._4_4_ + auVar59._4_4_;
            auVar47._8_4_ = auVar48._8_4_ + auVar59._8_4_;
            auVar47._12_4_ = auVar48._12_4_ + auVar59._12_4_;
            auVar42._0_4_ =
                 -(uint)((int)((auVar47._0_4_ - local_6e8) * local_6d8 + _LC5) < local_700) &
                 local_888._0_4_;
            auVar42._4_4_ =
                 -(uint)((int)((auVar47._4_4_ - fStack_6e4) * fStack_6d4 + _UNK_00122f54) <
                        local_700) & local_888._4_4_;
            auVar42._8_4_ =
                 -(uint)((int)((auVar47._8_4_ - fStack_6e0) * fStack_6d0 + _UNK_00122f58) <
                        local_700) & local_888._8_4_;
            auVar42._12_4_ =
                 -(uint)((int)((auVar47._12_4_ - fStack_6dc) * fStack_6cc + _UNK_00122f5c) <
                        local_700) & local_888._12_4_;
            iVar20 = movmskps(0,auVar42);
            if (iVar20 != 0) break;
            local_868 = minps(local_868,auVar59);
            local_878 = maxps(local_878,auVar48);
            local_5b8 = minps(local_5b8,auVar47);
            local_5a8 = maxps(local_5a8,auVar47);
            pauVar14 = pauVar15;
            if (pauVar15 < pauVar18) goto LAB_00116344;
          }
          *pauVar18 = auVar59;
          local_638 = minps(local_638,auVar59);
          uVar9 = *(undefined8 *)(pauVar14[1] + 8);
          local_868 = minps(local_868,auVar49);
          local_878 = maxps(local_878,auVar60);
          *(undefined8 *)pauVar18[1] = *(undefined8 *)pauVar14[1];
          *(undefined8 *)(pauVar18[1] + 8) = uVar9;
          local_628 = maxps(local_628,auVar48);
          local_618 = minps(local_618,auVar47);
          local_608 = maxps(local_608,auVar47);
          local_5b8 = minps(local_5b8,auVar40);
          *pauVar14 = auVar49;
          local_5a8 = maxps(local_5a8,auVar40);
          pauVar14[1] = auVar60;
        }
        else {
          local_638 = minps(local_638,auVar49);
          local_628 = maxps(local_628,auVar60);
          local_618 = minps(local_618,auVar40);
          local_608 = maxps(local_608,auVar40);
          pauVar15 = pauVar14;
        }
        pauVar14 = pauVar15;
      }
LAB_00116344:
      local_5f8[1] = (long)pauVar18 - lVar31 >> 5;
      lVar26 = *param_2;
    }
  }
  else {
    if (local_704 != -1) {
      uVar22 = (ulong)(uint)(1 << ((byte)local_704 & 0x1f));
      iStack_6c4 = local_700;
      local_6c8 = local_700;
      iStack_6c0 = local_700;
      register0x0000128c = local_700;
      local_648 = (&mm_lookupmask_ps)[uVar22 * 2];
      uStack_640 = *(ulong *)(embree::TaskScheduler::thread + uVar22 * 0x10);
      local_7c0 = local_6c8;
      local_7a8 = _LC1;
      uStack_7a4 = _LC1;
      uStack_7a0 = _LC1;
      uStack_79c = _LC1;
      local_7b8 = &local_648;
      local_798 = _LC3;
      fStack_794 = _LC3;
      fStack_790 = _LC3;
      fStack_78c = _LC3;
      local_788 = _LC1;
      uStack_784 = _LC1;
      uStack_780 = _LC1;
      uStack_77c = _LC1;
      local_778 = _LC3;
      fStack_774 = _LC3;
      fStack_770 = _LC3;
      fStack_76c = _LC3;
      local_768._0_4_ = _LC1;
      local_768._4_4_ = _LC1;
      uStack_760._0_4_ = _LC1;
      uStack_760._4_4_ = _LC1;
      local_758 = _LC3;
      fStack_754 = _LC3;
      fStack_750 = _LC3;
      fStack_74c = _LC3;
      local_748 = _LC1;
      uStack_744 = _LC1;
      uStack_740 = _LC1;
      uStack_73c = _LC1;
      local_888._4_4_ = _LC1;
      local_888._0_4_ = _LC1;
      local_888._8_4_ = _LC1;
      local_888._12_4_ = _LC1;
      local_738 = _LC3;
      fStack_734 = _LC3;
      fStack_730 = _LC3;
      fStack_72c = _LC3;
      local_898._4_4_ = _LC3;
      local_898._0_4_ = _LC3;
      fStack_890 = _LC3;
      fStack_88c = _LC3;
      local_7c8 = (PrimInfoRange *)&local_708;
      local_5f8[1] = parallel_partitioning<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)_4_>
                               ((PrimRef *)*plVar34,uVar27,uVar11,&local_7c9,
                                (CentGeom_conflict *)&local_7a8,(CentGeom_conflict *)&local_768,
                                (_lambda_embree__PrimRef_const___1_ *)&local_7c8,&local_7ca,
                                &local_7cb,0x80);
      local_868._4_4_ = local_768._4_4_;
      local_868._0_4_ = (undefined4)local_768;
      local_868._8_4_ = (undefined4)uStack_760;
      local_868._12_4_ = uStack_760._4_4_;
      local_878._4_4_ = fStack_754;
      local_878._0_4_ = local_758;
      local_878._12_4_ = fStack_74c;
      local_878._8_4_ = fStack_750;
      local_638._4_4_ = uStack_7a4;
      local_638._0_4_ = local_7a8;
      local_638._8_4_ = uStack_7a0;
      local_638._12_4_ = uStack_79c;
      local_628._4_4_ = fStack_794;
      local_628._0_4_ = local_798;
      local_628._8_4_ = fStack_790;
      local_628._12_4_ = fStack_78c;
      local_618._4_4_ = uStack_784;
      local_618._0_4_ = local_788;
      local_618._8_4_ = uStack_780;
      local_618._12_4_ = uStack_77c;
      local_608._4_4_ = fStack_774;
      local_608._0_4_ = local_778;
      local_608._8_4_ = fStack_770;
      local_608._12_4_ = fStack_76c;
      lVar26 = *param_2;
      local_5b8._4_4_ = uStack_744;
      local_5b8._0_4_ = local_748;
      local_5b8._8_4_ = uStack_740;
      local_5b8._12_4_ = uStack_73c;
      local_5a8._4_4_ = fStack_734;
      local_5a8._0_4_ = local_738;
      local_5a8._8_4_ = fStack_730;
      local_5a8._12_4_ = fStack_72c;
      auVar36 = local_888;
      goto LAB_00116373;
    }
    lVar31 = *plVar34;
    puVar1 = (undefined8 *)(lVar31 + uVar11 * 0x20);
    puVar33 = (undefined8 *)(lVar31 + uVar27 * 0x20);
    if (puVar1 != puVar33) {
      lVar26 = uVar11 * 0x20 + uVar27 * -0x20;
      uVar11 = lVar26 >> 5;
      if (uVar11 == 0) {
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar33,puVar1,0xfffffffffffffffe);
LAB_001179db:
        std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar33,puVar1);
      }
      else {
        lVar31 = 0x3f;
        if (uVar11 != 0) {
          for (; uVar11 >> lVar31 == 0; lVar31 = lVar31 + -1) {
          }
        }
        std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (puVar33,puVar1,(long)(int)lVar31 * 2);
        if (lVar26 < 0x201) goto LAB_001179db;
        puVar30 = puVar33 + 0x40;
        std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>(puVar33,puVar30);
        for (; puVar1 != puVar30; puVar30 = puVar30 + 4) {
          uVar43 = *(undefined4 *)((long)puVar30 + 0x1c);
          uVar50 = *(undefined4 *)((long)puVar30 + 0xc);
          uVar12 = puVar30[2];
          uVar17 = puVar30[3];
          uVar9 = *puVar30;
          uVar10 = puVar30[1];
          uVar11 = CONCAT44(*(undefined4 *)((long)puVar30 + -4),
                            *(undefined4 *)((long)puVar30 + -0x14));
          puVar33 = puVar30;
          while (CONCAT44(uVar43,uVar50) < uVar11) {
            *puVar33 = puVar33[-4];
            puVar33[1] = puVar33[-3];
            *(undefined4 *)(puVar33 + 2) = *(undefined4 *)(puVar33 + -2);
            *(undefined4 *)((long)puVar33 + 0x14) = *(undefined4 *)((long)puVar33 + -0xc);
            *(undefined4 *)(puVar33 + 3) = *(undefined4 *)(puVar33 + -1);
            *(undefined4 *)((long)puVar33 + 0x1c) = *(undefined4 *)((long)puVar33 + -4);
            uVar11 = CONCAT44(*(undefined4 *)((long)puVar33 + -0x24),
                              *(undefined4 *)((long)puVar33 + -0x34));
            puVar33 = puVar33 + -4;
          }
          *puVar33 = uVar9;
          puVar33[1] = uVar10;
          puVar33[2] = uVar12;
          puVar33[3] = uVar17;
        }
      }
      lVar31 = *plVar34;
      uVar27 = param_2[10];
      uVar11 = param_2[0xb];
      lVar26 = *param_2;
    }
    local_5f8[1] = uVar11 + uVar27 >> 1;
    if (uVar27 < local_5f8[1]) {
      local_608._8_4_ = _LC3;
      local_608._0_8_ = CONCAT44(_LC3,_LC3);
      local_608._12_4_ = _LC3;
      local_618._8_4_ = _LC1;
      local_618._0_8_ = CONCAT44(_LC1,_LC1);
      local_618._12_4_ = _LC1;
      local_628._8_4_ = _LC3;
      local_628._0_8_ = CONCAT44(_LC3,_LC3);
      local_628._12_4_ = _LC3;
      local_638._8_4_ = _LC1;
      local_638._0_8_ = CONCAT44(_LC1,_LC1);
      local_638._12_4_ = _LC1;
      pauVar18 = (undefined1 (*) [16])(uVar27 * 0x20 + lVar31);
      do {
        auVar60._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
        auVar60._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
        auVar60._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
        auVar60._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
        pauVar14 = pauVar18 + 2;
        local_638 = minps(local_638,*pauVar18);
        local_628 = maxps(local_628,pauVar18[1]);
        local_618 = minps(local_618,auVar60);
        local_608 = maxps(local_608,auVar60);
        pauVar18 = pauVar14;
      } while ((undefined1 (*) [16])(local_5f8[1] * 0x20 + lVar31) != pauVar14);
    }
    else {
      local_608._8_4_ = _LC3;
      local_608._0_8_ = CONCAT44(_LC3,_LC3);
      local_608._12_4_ = _LC3;
      local_618._8_4_ = _LC1;
      local_618._0_8_ = CONCAT44(_LC1,_LC1);
      local_618._12_4_ = _LC1;
      local_628._8_4_ = _LC3;
      local_628._0_8_ = CONCAT44(_LC3,_LC3);
      local_628._12_4_ = _LC3;
      local_638._8_4_ = _LC1;
      local_638._0_8_ = CONCAT44(_LC1,_LC1);
      local_638._12_4_ = _LC1;
    }
    local_898._4_4_ = _LC3;
    local_898._0_4_ = _LC3;
    auVar36._4_4_ = _LC1;
    auVar36._0_4_ = _LC1;
    fStack_890 = _LC3;
    auVar36._8_4_ = _LC1;
    fStack_88c = _LC3;
    auVar36._12_4_ = _LC1;
    local_5a8 = _local_898;
    local_5b8 = auVar36;
    local_878 = _local_898;
    local_868 = auVar36;
    if (local_5f8[1] < uVar11) {
      pauVar18 = (undefined1 (*) [16])(local_5f8[1] * 0x20 + lVar31);
      do {
        auVar49._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
        auVar49._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
        auVar49._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
        auVar49._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
        pauVar14 = pauVar18 + 2;
        local_868 = minps(local_868,*pauVar18);
        local_878 = maxps(local_878,pauVar18[1]);
        local_5b8 = minps(local_5b8,auVar49);
        local_5a8 = maxps(local_5a8,auVar49);
        pauVar18 = pauVar14;
      } while ((undefined1 (*) [16])(lVar31 + uVar11 * 0x20) != pauVar14);
    }
  }
LAB_00116373:
  local_828 = &local_648;
  local_818 = local_6c8;
  local_648 = lVar26 + 1;
  uStack_640 = uStack_640 & 0xffffffffffffff00;
  local_5d8 = local_868._0_8_;
  uStack_5d0 = local_868._8_8_;
  local_5f8[0] = uVar27;
  local_5f8[2] = local_648;
  local_5e0 = 0;
  local_598 = local_5f8[1];
  local_590 = uVar11;
  local_5c8 = local_878._0_8_;
  uStack_5c0 = local_878._8_8_;
  if (*param_1 < 3) {
    uVar11 = param_1[7];
    uVar43 = 2;
    if (uVar11 < (ulong)(param_2[0xb] - param_2[10])) {
      lVar31 = 0xc0;
      uVar27 = 2;
      lVar26 = 4;
      uVar43 = 2;
      goto LAB_00117650;
    }
    plVar34 = local_588;
    uVar27 = 2;
LAB_0011699f:
    uVar11 = ((long)plVar34 - (long)local_828 >> 5) * -0x5555555555555555;
    if (uVar11 == 0) {
      std::
      __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                (local_828,plVar34,0xfffffffffffffffe);
    }
    else {
      lVar26 = 0x3f;
      if (uVar11 != 0) {
        for (; uVar11 >> lVar26 == 0; lVar26 = lVar26 + -1) {
        }
      }
      std::
      __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                (local_828,plVar34,(long)(int)lVar26 * 2);
      if (0x600 < (long)plVar34 - (long)local_828) {
        plVar32 = &lStack_48;
        std::
        __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                  (local_828,plVar32);
        for (; plVar34 != plVar32; plVar32 = plVar32 + 0xc) {
          std::
          __unguarded_linear_insert<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Val_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                    (plVar32);
        }
        goto LAB_00116a13;
      }
    }
    std::
    __insertion_sort<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
              (local_828,plVar34);
  }
  else {
    uVar27 = 2;
    plVar34 = local_588;
    do {
      uVar24 = 0;
      uVar25 = 0xffffffffffffffff;
      pfVar13 = (float *)local_638;
      uVar11 = local_5f8[1];
      uVar22 = local_5f8[0];
      fVar38 = _LC3;
      while( true ) {
        if ((param_1[3] < uVar11 - uVar22) &&
           (fVar39 = (pfVar13[4] - *pfVar13) *
                     ((pfVar13[5] - pfVar13[1]) + (pfVar13[6] - pfVar13[2])) +
                     (pfVar13[5] - pfVar13[1]) * (pfVar13[6] - pfVar13[2]), fVar38 < fVar39)) {
          uVar25 = uVar24;
          fVar38 = fVar39;
        }
        uVar24 = uVar24 + 1;
        if (uVar24 == uVar27) break;
        uVar11 = *(ulong *)(pfVar13 + 0x2a);
        uVar22 = *(ulong *)(pfVar13 + 0x28);
        pfVar13 = pfVar13 + 0x18;
      }
      if (uVar25 == 0xffffffffffffffff) break;
      lVar26 = *param_2;
      lVar31 = uVar25 * 0x60;
      HeuristicArrayBinningSAH<embree::PrimRef,32ul>::find(local_818,*(ulong *)param_1[9]);
      plVar32 = (long *)param_1[9];
      uVar11 = local_5f8[uVar25 * 0xc + 1];
      uVar22 = local_5f8[uVar25 * 0xc];
      uVar43 = auVar36._0_4_;
      uVar50 = auVar36._4_4_;
      uVar51 = auVar36._8_4_;
      uVar52 = auVar36._12_4_;
      auVar37 = auVar36;
      local_878 = _local_898;
      auVar60 = auVar36;
      auVar61 = _local_898;
      auVar62 = auVar36;
      auVar63 = _local_898;
      auVar64 = auVar36;
      auVar65 = _local_898;
      if (uVar11 - uVar22 < 0xc00) {
        lVar23 = *plVar32;
        lVar29 = uVar11 * 0x20;
        pauVar18 = (undefined1 (*) [16])(lVar23 + uVar22 * 0x20);
        if (iStack_6c4 == -1) {
          pauVar14 = (undefined1 (*) [16])(lVar23 + lVar29);
          if (pauVar14 != pauVar18) {
            lVar29 = lVar29 + uVar22 * -0x20;
            uVar11 = lVar29 >> 5;
            if (uVar11 == 0) {
              std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (pauVar18,pauVar14,0xfffffffffffffffe);
            }
            else {
              lVar23 = 0x3f;
              if (uVar11 != 0) {
                for (; uVar11 >> lVar23 == 0; lVar23 = lVar23 + -1) {
                }
              }
              std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (pauVar18,pauVar14,(long)(int)lVar23 * 2);
              if (0x200 < lVar29) {
                pauVar15 = pauVar18 + 0x20;
                std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
                          (pauVar18,pauVar15);
                for (; pauVar14 != pauVar15; pauVar15 = pauVar15 + 2) {
                  uVar2 = *(undefined4 *)(pauVar15[1] + 0xc);
                  uVar3 = *(undefined4 *)(*pauVar15 + 0xc);
                  uVar12 = *(undefined8 *)pauVar15[1];
                  uVar17 = *(undefined8 *)(pauVar15[1] + 8);
                  auVar49 = *pauVar15;
                  uVar11 = CONCAT44(*(undefined4 *)(pauVar15[-1] + 0xc),
                                    *(undefined4 *)(pauVar15[-2] + 0xc));
                  pauVar18 = pauVar15;
                  while (CONCAT44(uVar2,uVar3) < uVar11) {
                    uVar5 = *(undefined4 *)pauVar18[-1];
                    uVar6 = *(undefined4 *)(pauVar18[-1] + 4);
                    uVar7 = *(undefined4 *)(pauVar18[-1] + 8);
                    uVar8 = *(undefined4 *)(pauVar18[-1] + 0xc);
                    *pauVar18 = pauVar18[-2];
                    *(undefined4 *)pauVar18[1] = uVar5;
                    *(undefined4 *)(pauVar18[1] + 4) = uVar6;
                    *(undefined4 *)(pauVar18[1] + 8) = uVar7;
                    *(undefined4 *)(pauVar18[1] + 0xc) = uVar8;
                    uVar11 = CONCAT44(*(undefined4 *)(pauVar18[-3] + 0xc),
                                      *(undefined4 *)(pauVar18[-4] + 0xc));
                    pauVar18 = pauVar18 + -2;
                  }
                  *pauVar18 = auVar49;
                  *(undefined8 *)pauVar18[1] = uVar12;
                  *(undefined8 *)(pauVar18[1] + 8) = uVar17;
                }
                lVar23 = *plVar32;
                uVar22 = local_5f8[uVar25 * 0xc];
                uVar11 = local_5f8[uVar25 * 0xc + 1];
                goto LAB_00116c14;
              }
            }
            std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
                      (pauVar18,pauVar14);
            uVar22 = local_5f8[uVar25 * 0xc];
            lVar23 = *plVar32;
            uVar11 = local_5f8[uVar25 * 0xc + 1];
          }
LAB_00116c14:
          uVar24 = uVar22 + uVar11 >> 1;
          if (uVar22 < uVar24) {
            pauVar18 = (undefined1 (*) [16])(uVar22 * 0x20 + lVar23);
            do {
              auVar55._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
              auVar55._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
              auVar55._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
              auVar55._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
              pauVar14 = pauVar18 + 2;
              auVar37 = minps(auVar37,*pauVar18);
              auVar65 = maxps(auVar65,pauVar18[1]);
              auVar64 = minps(auVar64,auVar55);
              auVar63 = maxps(auVar63,auVar55);
              pauVar18 = pauVar14;
            } while ((undefined1 (*) [16])(uVar24 * 0x20 + lVar23) != pauVar14);
          }
          if (uVar24 < uVar11) {
            pauVar18 = (undefined1 (*) [16])(uVar24 * 0x20 + lVar23);
            do {
              auVar56._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
              auVar56._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
              auVar56._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
              auVar56._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
              pauVar14 = pauVar18 + 2;
              auVar60 = minps(auVar60,*pauVar18);
              local_878 = maxps(local_878,pauVar18[1]);
              auVar62 = minps(auVar62,auVar56);
              auVar61 = maxps(auVar61,auVar56);
              pauVar18 = pauVar14;
            } while ((undefined1 (*) [16])(uVar11 * 0x20 + lVar23) != pauVar14);
LAB_00116cd1:
            uVar43 = auVar60._0_4_;
            uVar50 = auVar60._4_4_;
            uVar51 = auVar60._8_4_;
            uVar52 = auVar60._12_4_;
          }
        }
        else {
          iVar20 = 0x126020;
          auVar60 = *(undefined1 (*) [16])
                     (&mm_lookupmask_ps + (ulong)(uint)(1 << (SUB161(_local_6c8,4) & 0x1f)) * 2);
          pauVar14 = (undefined1 (*) [16])(lVar23 + -0x20 + lVar29);
          for (; pauVar18 <= pauVar14; pauVar18 = pauVar18 + 2) {
            auVar49 = pauVar18[1];
            auVar48 = *pauVar18;
            auVar45._0_4_ = auVar49._0_4_ + auVar48._0_4_;
            auVar45._4_4_ = auVar49._4_4_ + auVar48._4_4_;
            auVar45._8_4_ = auVar49._8_4_ + auVar48._8_4_;
            auVar45._12_4_ = auVar49._12_4_ + auVar48._12_4_;
            local_888._0_4_ = auVar60._0_4_;
            local_888._4_4_ = auVar60._4_4_;
            local_888._8_4_ = auVar60._8_4_;
            local_888._12_4_ = auVar60._12_4_;
            auVar53._0_4_ =
                 -(uint)((int)((auVar45._0_4_ - local_6a8) * local_698 + _LC5) < iStack_6c0) &
                 local_888._0_4_;
            auVar53._4_4_ =
                 -(uint)((int)((auVar45._4_4_ - fStack_6a4) * fStack_694 + _UNK_00122f54) <
                        iStack_6c0) & local_888._4_4_;
            auVar53._8_4_ =
                 -(uint)((int)((auVar45._8_4_ - fStack_6a0) * fStack_690 + _UNK_00122f58) <
                        iStack_6c0) & local_888._8_4_;
            auVar53._12_4_ =
                 -(uint)((int)((auVar45._12_4_ - fStack_69c) * fStack_68c + _UNK_00122f5c) <
                        iStack_6c0) & local_888._12_4_;
            iVar20 = movmskps(iVar20,auVar53);
            if (iVar20 == 0) {
              auVar46._4_4_ = uVar50;
              auVar46._0_4_ = uVar43;
              auVar46._8_4_ = uVar51;
              auVar46._12_4_ = uVar52;
              pauVar15 = pauVar14;
              while( true ) {
                auVar59 = pauVar15[1];
                auVar40 = *pauVar15;
                pauVar14 = pauVar15 + -2;
                auVar54._0_4_ = auVar59._0_4_ + auVar40._0_4_;
                auVar54._4_4_ = auVar59._4_4_ + auVar40._4_4_;
                auVar54._8_4_ = auVar59._8_4_ + auVar40._8_4_;
                auVar54._12_4_ = auVar59._12_4_ + auVar40._12_4_;
                auVar41._0_4_ =
                     -(uint)((int)((auVar54._0_4_ - local_6a8) * local_698 + _LC5) < iStack_6c0) &
                     local_888._0_4_;
                auVar41._4_4_ =
                     -(uint)((int)((auVar54._4_4_ - fStack_6a4) * fStack_694 + _UNK_00122f54) <
                            iStack_6c0) & local_888._4_4_;
                auVar41._8_4_ =
                     -(uint)((int)((auVar54._8_4_ - fStack_6a0) * fStack_690 + _UNK_00122f58) <
                            iStack_6c0) & local_888._8_4_;
                auVar41._12_4_ =
                     -(uint)((int)((auVar54._12_4_ - fStack_69c) * fStack_68c + _UNK_00122f5c) <
                            iStack_6c0) & local_888._12_4_;
                iVar20 = movmskps(0,auVar41);
                if (iVar20 != 0) break;
                auVar46 = minps(auVar46,auVar40);
                local_878 = maxps(local_878,auVar59);
                auVar62 = minps(auVar62,auVar54);
                auVar61 = maxps(auVar61,auVar54);
                pauVar15 = pauVar14;
                if (pauVar14 < pauVar18) {
                  uVar43 = auVar46._0_4_;
                  uVar50 = auVar46._4_4_;
                  uVar51 = auVar46._8_4_;
                  uVar52 = auVar46._12_4_;
                  goto LAB_0011662c;
                }
              }
              *pauVar18 = auVar40;
              auVar65 = maxps(auVar65,auVar59);
              auVar64 = minps(auVar64,auVar54);
              auVar59 = minps(auVar46,auVar48);
              local_878 = maxps(local_878,auVar49);
              auVar37 = minps(auVar37,auVar40);
              auVar63 = maxps(auVar63,auVar54);
              auVar62 = minps(auVar62,auVar45);
              auVar61 = maxps(auVar61,auVar45);
              pauVar18[1] = pauVar15[1];
              uVar43 = auVar59._0_4_;
              uVar50 = auVar59._4_4_;
              uVar51 = auVar59._8_4_;
              uVar52 = auVar59._12_4_;
              *pauVar15 = auVar48;
              pauVar15[1] = auVar49;
            }
            else {
              auVar37 = minps(auVar37,auVar48);
              auVar65 = maxps(auVar65,auVar49);
              auVar64 = minps(auVar64,auVar45);
              auVar63 = maxps(auVar63,auVar45);
            }
          }
LAB_0011662c:
          uVar24 = (long)pauVar18 - lVar23 >> 5;
        }
      }
      else if (iStack_6c4 == -1) {
        lVar23 = *plVar32;
        pauVar18 = (undefined1 (*) [16])(lVar23 + uVar11 * 0x20);
        pauVar14 = (undefined1 (*) [16])(lVar23 + uVar22 * 0x20);
        if (pauVar18 != pauVar14) {
          lVar23 = uVar11 * 0x20 + uVar22 * -0x20;
          uVar11 = lVar23 >> 5;
          if (uVar11 == 0) {
            std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                      (pauVar14,pauVar18,0xfffffffffffffffe);
          }
          else {
            lVar29 = 0x3f;
            if (uVar11 != 0) {
              for (; uVar11 >> lVar29 == 0; lVar29 = lVar29 + -1) {
              }
            }
            std::__introsort_loop<embree::PrimRef*,long,__gnu_cxx::__ops::_Iter_less_iter>
                      (pauVar14,pauVar18,(long)(int)lVar29 * 2);
            if (0x200 < lVar23) {
              pauVar15 = pauVar14 + 0x20;
              std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
                        (pauVar14,pauVar15);
              for (; pauVar18 != pauVar15; pauVar15 = pauVar15 + 2) {
                uVar2 = *(undefined4 *)(pauVar15[1] + 0xc);
                uVar3 = *(undefined4 *)(*pauVar15 + 0xc);
                uVar12 = *(undefined8 *)pauVar15[1];
                uVar17 = *(undefined8 *)(pauVar15[1] + 8);
                auVar49 = *pauVar15;
                uVar11 = CONCAT44(*(undefined4 *)(pauVar15[-1] + 0xc),
                                  *(undefined4 *)(pauVar15[-2] + 0xc));
                pauVar14 = pauVar15;
                while (CONCAT44(uVar2,uVar3) < uVar11) {
                  uVar9 = *(undefined8 *)(pauVar14[-2] + 8);
                  *(undefined8 *)*pauVar14 = *(undefined8 *)pauVar14[-2];
                  *(undefined8 *)(*pauVar14 + 8) = uVar9;
                  uVar5 = *(undefined4 *)(pauVar14[-1] + 4);
                  uVar6 = *(undefined4 *)(pauVar14[-1] + 8);
                  uVar7 = *(undefined4 *)(pauVar14[-1] + 0xc);
                  *(undefined4 *)pauVar14[1] = *(undefined4 *)pauVar14[-1];
                  *(undefined4 *)(pauVar14[1] + 4) = uVar5;
                  *(undefined4 *)(pauVar14[1] + 8) = uVar6;
                  *(undefined4 *)(pauVar14[1] + 0xc) = uVar7;
                  uVar11 = CONCAT44(*(undefined4 *)(pauVar14[-3] + 0xc),
                                    *(undefined4 *)(pauVar14[-4] + 0xc));
                  pauVar14 = pauVar14 + -2;
                }
                *pauVar14 = auVar49;
                *(undefined8 *)pauVar14[1] = uVar12;
                *(undefined8 *)(pauVar14[1] + 8) = uVar17;
              }
              lVar23 = *plVar32;
              uVar22 = local_5f8[uVar25 * 0xc];
              uVar11 = local_5f8[uVar25 * 0xc + 1];
              goto LAB_001172e5;
            }
          }
          std::__insertion_sort<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
                    (pauVar14,pauVar18);
          uVar22 = local_5f8[uVar25 * 0xc];
          lVar23 = *plVar32;
          uVar11 = local_5f8[uVar25 * 0xc + 1];
        }
LAB_001172e5:
        uVar24 = uVar22 + uVar11 >> 1;
        if (uVar22 < uVar24) {
          pauVar18 = (undefined1 (*) [16])(uVar22 * 0x20 + lVar23);
          do {
            auVar57._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
            auVar57._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
            auVar57._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
            auVar57._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
            pauVar14 = pauVar18 + 2;
            auVar37 = minps(auVar37,*pauVar18);
            auVar65 = maxps(auVar65,pauVar18[1]);
            auVar64 = minps(auVar64,auVar57);
            auVar63 = maxps(auVar63,auVar57);
            pauVar18 = pauVar14;
          } while ((undefined1 (*) [16])(uVar24 * 0x20 + lVar23) != pauVar14);
        }
        if (uVar24 < uVar11) {
          pauVar18 = (undefined1 (*) [16])(uVar24 * 0x20 + lVar23);
          do {
            auVar58._0_4_ = *(float *)pauVar18[1] + *(float *)*pauVar18;
            auVar58._4_4_ = *(float *)(pauVar18[1] + 4) + *(float *)(*pauVar18 + 4);
            auVar58._8_4_ = *(float *)(pauVar18[1] + 8) + *(float *)(*pauVar18 + 8);
            auVar58._12_4_ = *(float *)(pauVar18[1] + 0xc) + *(float *)(*pauVar18 + 0xc);
            pauVar14 = pauVar18 + 2;
            auVar60 = minps(auVar60,*pauVar18);
            local_878 = maxps(local_878,pauVar18[1]);
            auVar62 = minps(auVar62,auVar58);
            auVar61 = maxps(auVar61,auVar58);
            pauVar18 = pauVar14;
          } while ((undefined1 (*) [16])(lVar23 + uVar11 * 0x20) != pauVar14);
          goto LAB_00116cd1;
        }
      }
      else {
        uVar24 = (ulong)(uint)(1 << (SUB161(_local_6c8,4) & 0x1f));
        local_718 = (&mm_lookupmask_ps)[uVar24 * 2];
        uStack_710 = *(undefined8 *)(embree::TaskScheduler::thread + uVar24 * 0x10);
        local_798 = SUB164(_local_898,0);
        fStack_794 = SUB164(_local_898,4);
        fStack_790 = SUB164(_local_898,8);
        fStack_78c = SUB164(_local_898,0xc);
        local_7c8 = local_818;
        local_7c0 = (PrimInfoRange *)&local_728;
        local_7b8 = &local_718;
        local_728 = iStack_6c0;
        iStack_724 = iStack_6c0;
        iStack_720 = iStack_6c0;
        iStack_71c = iStack_6c0;
        local_7a8 = uVar43;
        uStack_7a4 = uVar50;
        uStack_7a0 = uVar51;
        uStack_79c = uVar52;
        local_788 = uVar43;
        uStack_784 = uVar50;
        uStack_780 = uVar51;
        uStack_77c = uVar52;
        local_778 = local_798;
        fStack_774 = fStack_794;
        fStack_770 = fStack_790;
        fStack_76c = fStack_78c;
        local_768._0_4_ = uVar43;
        local_768._4_4_ = uVar50;
        uStack_760._0_4_ = uVar51;
        uStack_760._4_4_ = uVar52;
        local_758 = local_798;
        fStack_754 = fStack_794;
        fStack_750 = fStack_790;
        fStack_74c = fStack_78c;
        local_748 = uVar43;
        uStack_744 = uVar50;
        uStack_740 = uVar51;
        uStack_73c = uVar52;
        local_738 = local_798;
        fStack_734 = fStack_794;
        fStack_730 = fStack_790;
        fStack_72c = fStack_78c;
        uVar24 = parallel_partitioning<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)_4_>
                           ((PrimRef *)*plVar32,uVar22,uVar11,&local_7c9,
                            (CentGeom_conflict *)&local_7a8,(CentGeom_conflict *)&local_768,
                            (_lambda_embree__PrimRef_const___1_ *)&local_7c8,&local_7ca,&local_7cb,
                            0x80);
        auVar37._4_4_ = uStack_7a4;
        auVar37._0_4_ = local_7a8;
        auVar37._8_4_ = uStack_7a0;
        auVar37._12_4_ = uStack_79c;
        auVar65._4_4_ = fStack_794;
        auVar65._0_4_ = local_798;
        auVar65._8_4_ = fStack_790;
        auVar65._12_4_ = fStack_78c;
        auVar64._4_4_ = uStack_784;
        auVar64._0_4_ = local_788;
        auVar64._8_4_ = uStack_780;
        auVar64._12_4_ = uStack_77c;
        auVar63._4_4_ = fStack_774;
        auVar63._0_4_ = local_778;
        auVar63._8_4_ = fStack_770;
        auVar63._12_4_ = fStack_76c;
        local_878._4_4_ = fStack_754;
        local_878._0_4_ = local_758;
        local_878._8_4_ = fStack_750;
        local_878._12_4_ = fStack_74c;
        auVar62._4_4_ = uStack_744;
        auVar62._0_4_ = local_748;
        auVar62._8_4_ = uStack_740;
        auVar62._12_4_ = uStack_73c;
        auVar61._4_4_ = fStack_734;
        auVar61._0_4_ = local_738;
        auVar61._8_4_ = fStack_730;
        auVar61._12_4_ = fStack_72c;
        uVar43 = (undefined4)local_768;
        uVar50 = local_768._4_4_;
        uVar51 = (undefined4)uStack_760;
        uVar52 = uStack_760._4_4_;
      }
      uVar27 = uVar27 + 1;
      local_638[uVar25 * 0x60 + -8] = 0;
      (&local_648)[uVar25 * 0xc] = lVar26 + 1;
      local_5f8[uVar25 * 0xc] = uVar22;
      local_5f8[uVar25 * 0xc + 1] = uVar24;
      *(undefined1 (*) [16])(local_638 + lVar31) = auVar37;
      *(undefined1 (*) [16])(local_628 + lVar31) = auVar65;
      *(undefined1 (*) [16])(local_618 + lVar31) = auVar64;
      *(undefined1 (*) [16])(local_608 + lVar31) = auVar63;
      *plVar34 = lVar26 + 1;
      *(undefined1 *)(plVar34 + 1) = 0;
      *(undefined4 *)(plVar34 + 2) = uVar43;
      *(undefined4 *)((long)plVar34 + 0x14) = uVar50;
      *(undefined4 *)(plVar34 + 3) = uVar51;
      *(undefined4 *)((long)plVar34 + 0x1c) = uVar52;
      *(undefined1 (*) [16])(plVar34 + 4) = local_878;
      *(undefined1 (*) [16])(plVar34 + 6) = auVar62;
      *(undefined1 (*) [16])(plVar34 + 8) = auVar61;
      plVar34[10] = uVar24;
      plVar34[0xb] = uVar11;
      plVar34 = plVar34 + 0xc;
    } while (uVar27 < *param_1);
    lVar26 = uVar27 * 2;
    uVar11 = param_1[7];
    uVar43 = (undefined4)uVar27;
    lVar31 = uVar27 * 0x60;
    if (uVar11 < (ulong)(param_2[0xb] - param_2[10])) {
LAB_00117650:
      puVar19 = &uStack_640;
      puVar21 = puVar19 + (lVar26 + uVar27) * 4;
      do {
        *(bool *)puVar19 = puVar19[10] - puVar19[9] <= uVar11;
        puVar19 = puVar19 + 0xc;
      } while (puVar21 != puVar19);
    }
    plVar34 = (long *)((long)local_828 + lVar31);
    if (lVar31 != 0) goto LAB_0011699f;
  }
LAB_00116a13:
  local_800 = local_638;
  puVar1 = (undefined8 *)param_1[0xb];
  uVar12 = (**(code **)*puVar1)(&stack0x00000008,uVar43,*(undefined8 *)puVar1[1]);
  pPVar16 = local_818;
  do {
    *(undefined1 **)pPVar16 = local_800;
    pPVar16 = pPVar16 + 8;
    local_800 = local_800 + 0x60;
  } while (local_818 + uVar27 * 8 != pPVar16);
  (**(code **)puVar1[2])(uVar12,local_818,uVar43,*(undefined8 *)puVar1[1]);
  if (param_1[6] < (ulong)(param_2[0xb] - param_2[10])) {
    local_758 = SUB84(param_1,0);
    fStack_754 = (float)((ulong)param_1 >> 0x20);
    local_7c8 = (PrimInfoRange *)0x0;
    local_768 = local_818;
    uStack_760 = local_828;
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (0,uVar27,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_768,
               (TaskGroupContext *)&local_7c8);
    embree::TaskScheduler::wait();
    if (local_7c8 != (PrimInfoRange *)0x0) {
      local_7a8 = SUB84(local_7c8,0);
      uStack_7a4 = (undefined4)((ulong)local_7c8 >> 0x20);
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_7a8);
    }
  }
  else {
    pPVar16 = local_818;
    do {
      pPVar28 = pPVar16 + 8;
      uVar17 = recurse(param_1,local_828,0);
      *(undefined8 *)pPVar16 = uVar17;
      pPVar16 = pPVar28;
      local_828 = local_828 + 0xc;
    } while (local_818 + uVar27 * 8 != pPVar28);
  }
  (*(code *)**(undefined8 **)param_1[0xc])
            (uVar12,local_818,uVar43,*(undefined8 *)((undefined8 *)param_1[0xc])[1]);
LAB_00116185:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar12;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)#1},embree...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  long lVar1;
  undefined8 uVar2;
  ulong uVar3;
  ulong uVar4;
  
  uVar4 = *(ulong *)(this + 8);
  uVar3 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < uVar4 - uVar3) {
    uVar4 = uVar4 + uVar3 >> 1;
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,uVar4,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar4,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    embree::TaskScheduler::wait();
    return;
  }
  for (; uVar3 < uVar4; uVar3 = uVar3 + 1) {
    lVar1 = *(long *)(this + 0x20);
    uVar2 = sse2::GeneralBVHBuilder::
            BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
            ::recurse(*(undefined8 *)(this + 0x30),uVar3 * 0x60 + *(long *)(this + 0x28),1);
    *(undefined8 *)(lVar1 + uVar3 * 8) = uVar2;
  }
  return;
}



/* void* embree::sse2::GeneralBVHBuilder::build<void*,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>, embree::sse2::PrimInfoRange,
   embree::PrimRef, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>&, embree::PrimRef*,
   embree::sse2::PrimInfoRange const&, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(unsigned long)#1} const&,
   embree::sse2::GeneralBVHBuilder::Settings const&) [clone .constprop.0] */

void * embree::sse2::GeneralBVHBuilder::
       build<void*,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                 (undefined8 param_1,undefined8 param_2,undefined4 *param_3,undefined8 param_4,
                 undefined8 param_5,undefined8 param_6)

{
  void *pvVar1;
  long in_FS_OFFSET;
  undefined8 in_stack_00000020;
  undefined8 in_stack_00000028;
  ulong *in_stack_00000030;
  undefined8 local_138;
  undefined8 local_130;
  undefined8 local_120;
  undefined8 local_118;
  undefined8 uStack_110;
  undefined8 local_108;
  undefined8 local_f8;
  undefined1 local_f0;
  undefined4 local_e8;
  undefined4 uStack_e4;
  undefined4 uStack_e0;
  undefined4 uStack_dc;
  undefined4 local_d8;
  undefined4 uStack_d4;
  undefined4 uStack_d0;
  undefined4 uStack_cc;
  undefined4 local_c8;
  undefined4 uStack_c4;
  undefined4 uStack_c0;
  undefined4 uStack_bc;
  undefined4 local_b8;
  undefined4 uStack_b4;
  undefined4 uStack_b0;
  undefined4 uStack_ac;
  undefined8 local_a8;
  undefined8 local_a0;
  ulong local_98;
  ulong uStack_90;
  ulong local_88;
  ulong uStack_80;
  ulong local_78;
  ulong uStack_70;
  ulong local_68;
  ulong uStack_60;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 *local_48;
  undefined1 *local_40;
  undefined1 *local_38;
  undefined8 local_30;
  undefined8 *local_28;
  undefined8 *local_20;
  undefined8 local_18;
  long local_10;
  
  local_38 = (undefined1 *)&local_138;
  local_98 = *in_stack_00000030;
  uStack_90 = in_stack_00000030[1];
  local_88 = in_stack_00000030[2];
  uStack_80 = in_stack_00000030[3];
  local_78 = in_stack_00000030[4];
  uStack_70 = in_stack_00000030[5];
  local_68 = in_stack_00000030[6];
  uStack_60 = in_stack_00000030[7];
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_48 = &local_120;
  local_20 = &local_f8;
  local_40 = &stack0x00000008;
  local_30 = in_stack_00000020;
  local_28 = &local_118;
  local_18 = in_stack_00000028;
  local_138 = param_5;
  local_130 = param_6;
  local_120 = param_4;
  local_58 = param_2;
  local_50 = param_1;
  if (0x10 < *in_stack_00000030) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  local_a8 = *(undefined8 *)(param_3 + 0x10);
  local_e8 = *param_3;
  uStack_e4 = param_3[1];
  uStack_e0 = param_3[2];
  uStack_dc = param_3[3];
  local_f0 = 0;
  local_d8 = param_3[4];
  uStack_d4 = param_3[5];
  uStack_d0 = param_3[6];
  uStack_cc = param_3[7];
  local_c8 = param_3[8];
  uStack_c4 = param_3[9];
  uStack_c0 = param_3[10];
  uStack_bc = param_3[0xb];
  local_f8 = 1;
  local_b8 = param_3[0xc];
  uStack_b4 = param_3[0xd];
  uStack_b0 = param_3[0xe];
  uStack_ac = param_3[0xf];
  local_a0 = *(undefined8 *)(param_3 + 0x12);
  local_118 = 0;
  uStack_110 = 0;
  local_108 = 0;
  local_38 = (undefined1 *)&local_138;
  pvVar1 = (void *)BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
                   ::recurse(&local_98,local_20,1);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return pvVar1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*) */

void * embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments *param_1)

{
  long lVar1;
  long *plVar2;
  long *plVar3;
  long lVar4;
  uint uVar5;
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  long lVar10;
  undefined1 (*pauVar11) [16];
  void *pvVar12;
  long *plVar13;
  ulong uVar14;
  undefined1 (*pauVar15) [16];
  ulong uVar16;
  _lambda_embree__range<unsigned_long>_const___1_ *in_R9;
  long in_FS_OFFSET;
  float fVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  _func_CentGeom_CentGeom_ptr_CentGeom_ptr *in_stack_fffffffffffffe28;
  long local_1c8;
  undefined1 (*local_1c0) [16];
  ulong local_1b8;
  undefined8 local_1b0;
  undefined8 local_1a8;
  undefined8 local_1a0;
  undefined8 local_198;
  undefined8 local_190;
  undefined8 local_188;
  undefined8 local_180;
  undefined1 (**local_178) [16];
  undefined1 (*pauStack_170) [16];
  undefined8 *puStack_168;
  undefined8 *puStack_160;
  undefined8 *puStack_158;
  undefined8 *puStack_150;
  undefined8 *puStack_148;
  undefined8 *puStack_138;
  undefined8 *puStack_130;
  ulong *puStack_128;
  undefined8 *puStack_120;
  undefined1 local_118 [16];
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  ulong local_d8;
  ulong local_d0;
  ulong local_c8;
  ulong uStack_c0;
  ulong local_b8;
  undefined8 local_b0;
  undefined8 local_a8;
  undefined8 local_a0;
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined8 uStack_58;
  ulong uStack_50;
  long local_40;
  
  local_1b8 = *(ulong *)(param_1 + 0x40);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_1c8 = *(long *)(param_1 + 0x30);
  local_1c0 = *(undefined1 (**) [16])(param_1 + 0x38);
  local_1b0 = *(undefined8 *)(param_1 + 0x50);
  local_1a8 = *(undefined8 *)(param_1 + 0x58);
  local_1a0 = *(undefined8 *)(param_1 + 0x60);
  local_198 = *(undefined8 *)(param_1 + 0x68);
  local_190 = *(undefined8 *)(param_1 + 0x78);
  local_188 = *(undefined8 *)(param_1 + 0x80);
  local_180 = 0;
  local_178 = &local_1c0;
  local_98._0_8_ = CONCAT44(_LC1,_LC1);
  local_98._8_4_ = _LC1;
  local_98._12_4_ = _LC1;
  local_88._0_8_ = CONCAT44(_LC3,_LC3);
  local_88._8_4_ = _LC3;
  local_88._12_4_ = _LC3;
  if (local_1b8 < 0x400) {
    uStack_50 = local_1b8;
    if (local_1b8 == 0) {
      auVar21._8_4_ = _LC3;
      auVar21._0_8_ = local_88._0_8_;
      auVar21._12_4_ = _LC3;
      auVar22._8_4_ = _LC1;
      auVar22._0_8_ = local_98._0_8_;
      auVar22._12_4_ = _LC1;
      local_118 = local_98;
      local_108 = local_88;
      local_f8 = local_98;
      local_e8 = local_88;
    }
    else {
      auVar21._8_4_ = _LC3;
      auVar21._0_8_ = local_88._0_8_;
      auVar21._12_4_ = _LC3;
      auVar22._8_4_ = _LC1;
      auVar22._0_8_ = local_98._0_8_;
      auVar22._12_4_ = _LC1;
      pauVar15 = local_1c0;
      do {
        fVar17 = *(float *)*pauVar15 + *(float *)pauVar15[1];
        fVar18 = *(float *)(*pauVar15 + 4) + *(float *)(pauVar15[1] + 4);
        fVar19 = *(float *)(*pauVar15 + 8) + *(float *)(pauVar15[1] + 8);
        fVar20 = *(float *)(*pauVar15 + 0xc) + *(float *)(pauVar15[1] + 0xc);
        pauVar11 = pauVar15 + 2;
        auVar22 = minps(auVar22,*pauVar15);
        auVar21 = maxps(auVar21,pauVar15[1]);
        auVar6._4_4_ = fVar18;
        auVar6._0_4_ = fVar17;
        auVar6._8_4_ = fVar19;
        auVar6._12_4_ = fVar20;
        local_98 = minps(local_98,auVar6);
        auVar7._4_4_ = fVar18;
        auVar7._0_4_ = fVar17;
        auVar7._8_4_ = fVar19;
        auVar7._12_4_ = fVar20;
        local_88 = maxps(local_88,auVar7);
        pauVar15 = pauVar11;
        local_118 = auVar22;
        local_108 = auVar21;
        local_f8 = local_98;
        local_e8 = local_88;
      } while (pauVar11 != local_1c0 + local_1b8 * 2);
    }
  }
  else {
    uVar14 = local_1b8 + 0x3ff >> 10;
    if (uVar14 == 1) {
      auVar21._8_4_ = _LC3;
      auVar21._0_8_ = local_88._0_8_;
      auVar21._12_4_ = _LC3;
      auVar22._8_4_ = _LC1;
      auVar22._0_8_ = local_98._0_8_;
      auVar22._12_4_ = _LC1;
      pauVar15 = local_1c0;
      do {
        fVar17 = *(float *)*pauVar15 + *(float *)pauVar15[1];
        fVar18 = *(float *)(*pauVar15 + 4) + *(float *)(pauVar15[1] + 4);
        fVar19 = *(float *)(*pauVar15 + 8) + *(float *)(pauVar15[1] + 8);
        fVar20 = *(float *)(*pauVar15 + 0xc) + *(float *)(pauVar15[1] + 0xc);
        pauVar11 = pauVar15 + 2;
        auVar22 = minps(auVar22,*pauVar15);
        auVar21 = maxps(auVar21,pauVar15[1]);
        auVar8._4_4_ = fVar18;
        auVar8._0_4_ = fVar17;
        auVar8._8_4_ = fVar19;
        auVar8._12_4_ = fVar20;
        local_98 = minps(local_98,auVar8);
        auVar9._4_4_ = fVar18;
        auVar9._0_4_ = fVar17;
        auVar9._8_4_ = fVar19;
        auVar9._12_4_ = fVar20;
        local_88 = maxps(local_88,auVar9);
        pauVar15 = pauVar11;
      } while (local_1c0 + 0x800 != pauVar11);
      uStack_50 = 0x400;
      local_118 = auVar22;
      local_108 = auVar21;
      local_f8 = local_98;
      local_e8 = local_88;
    }
    else {
      local_78 = local_98;
      local_68 = local_88;
      parallel_reduce_internal<unsigned_long,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_,embree::CentGeom<embree::BBox<embree::Vec3fa>>const(embree::CentGeom<embree::BBox<embree::Vec3fa>>const&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)>
                ((ulong)local_118,uVar14,local_1b8,(ulong)local_98,(CentGeom_conflict *)&local_178,
                 in_R9,in_stack_fffffffffffffe28);
      uStack_50 = local_1b8;
      auVar21 = local_108;
      auVar22 = local_118;
    }
  }
  local_d8 = 2;
  local_b0 = 0x3f8000003f800000;
  uVar14 = *(ulong *)param_1;
  local_d0 = 0x20;
  local_c8 = 0;
  local_b8 = 7;
  local_a8 = 0x400;
  local_a0 = 0xffffffffffffffff;
  if (((0x14 < uVar14) && (local_d8 = (ulong)*(uint *)(param_1 + 0x10), 0x18 < uVar14)) &&
     (local_d0 = (ulong)*(uint *)(param_1 + 0x14), 0x1c < uVar14)) {
    uVar5 = 0x1f;
    if (*(uint *)(param_1 + 0x18) != 0) {
      for (; *(uint *)(param_1 + 0x18) >> uVar5 == 0; uVar5 = uVar5 - 1) {
      }
    }
    local_c8 = (ulong)uVar5;
    if (0x20 < uVar14) {
      uVar16 = (ulong)*(uint *)(param_1 + 0x1c);
      if (uVar14 < 0x25) {
        uStack_c0 = 7;
        if (uVar16 < 8) {
          uStack_c0 = uVar16;
        }
      }
      else {
        local_b8 = (ulong)*(uint *)(param_1 + 0x20);
        if (0x28 < uVar14) {
          local_b0 = CONCAT44(0x3f800000,*(undefined4 *)(param_1 + 0x24));
          if (0x2c < uVar14) {
            local_b0 = CONCAT44(*(undefined4 *)(param_1 + 0x28),*(undefined4 *)(param_1 + 0x24));
          }
        }
        uStack_c0 = local_b8;
        if (uVar16 <= local_b8) {
          uStack_c0 = uVar16;
        }
      }
      goto LAB_00117f48;
    }
  }
  uStack_c0 = 1;
LAB_00117f48:
  puStack_160 = &local_188;
  puStack_138 = &local_190;
  puStack_130 = &local_180;
  puStack_128 = &local_1b8;
  puStack_168 = &local_198;
  puStack_158 = &local_1b0;
  puStack_148 = &local_1a0;
  uStack_58 = 0;
  pauStack_170 = local_1c0;
  puStack_150 = puStack_160;
  puStack_120 = puStack_160;
  local_98 = auVar22;
  local_88 = auVar21;
  local_78 = local_f8;
  local_68 = local_e8;
  pvVar12 = GeneralBVHBuilder::
            build<void*,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                      (&pauStack_170,local_1c0,local_98,&local_1c8,&local_1a8,puStack_160,
                       puStack_158,puStack_160,puStack_148,&puStack_168,&puStack_138,&local_d8);
  lVar10 = local_1c8;
  lVar1 = local_1c8 + 0x18;
  plVar13 = (long *)(local_1c8 + 0xd0);
  plVar2 = (long *)(local_1c8 + 0x110);
  do {
    while (*plVar13 != 0) {
      lVar4 = *(long *)(*plVar13 + 0x18);
      *(long *)(*plVar13 + 0x18) = *plVar2;
      LOCK();
      *plVar2 = *plVar13;
      UNLOCK();
      LOCK();
      *plVar13 = lVar4;
      UNLOCK();
    }
    LOCK();
    *plVar13 = 0;
    UNLOCK();
    plVar13 = plVar13 + 1;
  } while (plVar13 != plVar2);
  plVar13 = *(long **)(local_1c8 + 0x148);
  plVar2 = *(long **)(local_1c8 + 0x150);
  if (plVar2 != plVar13) {
    do {
      while( true ) {
        lVar4 = *plVar13;
        if (lVar1 != *(long *)(lVar4 + 8)) break;
        embree::MutexSys::lock();
        if (lVar1 == *(long *)(lVar4 + 8)) {
          LOCK();
          plVar3 = (long *)(*(long *)(lVar4 + 8) + 0x118);
          *plVar3 = *plVar3 + *(long *)(lVar4 + 0xa8) + *(long *)(lVar4 + 0x68);
          UNLOCK();
          LOCK();
          plVar3 = (long *)(*(long *)(lVar4 + 8) + 0x120);
          *plVar3 = *plVar3 + (((*(long *)(lVar4 + 0x98) + *(long *)(lVar4 + 0x58)) -
                               *(long *)(lVar4 + 0x50)) - *(long *)(lVar4 + 0x90));
          UNLOCK();
          LOCK();
          plVar3 = (long *)(*(long *)(lVar4 + 8) + 0x128);
          *plVar3 = *plVar3 + *(long *)(lVar4 + 0xb0) + *(long *)(lVar4 + 0x70);
          UNLOCK();
          *(undefined8 *)(lVar4 + 0x48) = 0;
          *(undefined8 *)(lVar4 + 0x58) = 0;
          *(undefined8 *)(lVar4 + 0x50) = 0;
          *(undefined8 *)(lVar4 + 0x68) = 0;
          *(undefined8 *)(lVar4 + 0x70) = 0;
          *(undefined8 *)(lVar4 + 0x60) = 0;
          *(undefined8 *)(lVar4 + 0x88) = 0;
          *(undefined8 *)(lVar4 + 0x98) = 0;
          *(undefined8 *)(lVar4 + 0x90) = 0;
          *(undefined8 *)(lVar4 + 0xa8) = 0;
          *(undefined8 *)(lVar4 + 0xb0) = 0;
          *(undefined8 *)(lVar4 + 0xa0) = 0;
          LOCK();
          *(undefined8 *)(lVar4 + 8) = 0;
          UNLOCK();
        }
        plVar13 = plVar13 + 1;
        embree::MutexSys::unlock();
        if (plVar2 == plVar13) goto LAB_001181bf;
      }
      plVar13 = plVar13 + 1;
    } while (plVar2 != plVar13);
LAB_001181bf:
    if (*(long *)(lVar10 + 0x148) != *(long *)(lVar10 + 0x150)) {
      *(long *)(lVar10 + 0x150) = *(long *)(lVar10 + 0x148);
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return pvVar12;
}



/* embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*) */

void * embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments *param_1)

{
  long lVar1;
  long *plVar2;
  long *plVar3;
  undefined8 uVar4;
  long lVar5;
  uint uVar6;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  double dVar11;
  long lVar12;
  float *pfVar13;
  void *pvVar14;
  long *plVar15;
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  ulong uVar18;
  TaskGroupContext *pTVar19;
  _lambda_embree__range<unsigned_long>_const___1_ *in_R9;
  undefined1 *puVar20;
  undefined1 (**ppauVar21) [16];
  long in_FS_OFFSET;
  float fVar22;
  float fVar23;
  float fVar24;
  float fVar25;
  _func_pair_pair_ptr_pair_ptr *in_stack_fffffffffffffd58;
  undefined4 uStack_280;
  float fStack_27c;
  long local_278;
  undefined1 (*local_270) [16];
  ulong local_268;
  undefined8 local_260;
  undefined8 local_258;
  undefined8 local_250;
  undefined8 local_248;
  undefined8 local_240;
  undefined8 local_238;
  undefined8 local_230;
  undefined8 local_228;
  undefined1 (**local_220) [16];
  undefined1 (*pauStack_218) [16];
  undefined1 (**ppauStack_210) [16];
  undefined8 *puStack_208;
  undefined8 *puStack_200;
  undefined8 *puStack_1f8;
  undefined8 *puStack_1f0;
  undefined8 *puStack_1e8;
  undefined8 *puStack_1e0;
  undefined8 *puStack_1d8;
  undefined1 (*pauStack_1c8) [16];
  undefined8 **ppuStack_1c0;
  undefined1 *puStack_1b8;
  undefined8 *puStack_1a8;
  undefined8 *puStack_1a0;
  ulong *puStack_198;
  undefined8 *puStack_190;
  ulong local_188;
  ulong local_180;
  ulong local_178;
  ulong uStack_170;
  ulong local_168;
  undefined8 local_160;
  undefined8 local_158;
  undefined8 local_150;
  undefined1 local_148 [16];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined1 local_118 [16];
  uint local_108;
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  undefined1 local_c8 [16];
  long local_b8;
  ulong local_b0;
  undefined1 local_a8 [16];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  ulong local_68;
  long lStack_60;
  undefined8 uStack_58;
  long local_40;
  
  local_260 = *(undefined8 *)(param_1 + 0x50);
  local_268 = *(ulong *)(param_1 + 0x40);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_278 = *(long *)(param_1 + 0x30);
  local_258 = *(undefined8 *)(param_1 + 0x58);
  local_250 = *(undefined8 *)(param_1 + 0x60);
  local_248 = *(undefined8 *)(param_1 + 0x68);
  local_270 = *(undefined1 (**) [16])(param_1 + 0x38);
  local_240 = *(undefined8 *)(param_1 + 0x70);
  local_238 = *(undefined8 *)(param_1 + 0x78);
  local_228 = 0;
  local_230 = *(undefined8 *)(param_1 + 0x80);
  local_a8._0_8_ = CONCAT44(_LC1,_LC1);
  local_a8._8_4_ = _LC1;
  local_a8._12_4_ = _LC1;
  local_98._0_8_ = CONCAT44(_LC3,_LC3);
  local_98._8_4_ = _LC3;
  local_98._12_4_ = _LC3;
  local_68 = local_68 & 0xffffffff00000000;
  local_220 = &local_270;
  local_88 = local_a8;
  local_78 = local_98;
  if (local_268 < 0x400) {
    if (local_268 == 0) {
      local_108 = 0;
      local_138._8_4_ = _LC3;
      local_138._0_8_ = local_98._0_8_;
      local_138._12_4_ = _LC3;
      local_148._8_4_ = _LC1;
      local_148._0_8_ = local_a8._0_8_;
      local_148._12_4_ = _LC1;
      local_128 = local_a8;
      local_118 = local_98;
    }
    else {
      local_138._8_4_ = _LC3;
      local_138._0_8_ = local_98._0_8_;
      local_138._12_4_ = _LC3;
      local_148._8_4_ = _LC1;
      local_148._0_8_ = local_a8._0_8_;
      local_148._12_4_ = _LC1;
      local_108 = 0;
      pauVar16 = local_270;
      local_118 = local_98;
      local_128 = local_a8;
      do {
        fVar22 = *(float *)*pauVar16 + *(float *)pauVar16[1];
        fVar23 = *(float *)(*pauVar16 + 4) + *(float *)(pauVar16[1] + 4);
        fVar24 = *(float *)(*pauVar16 + 8) + *(float *)(pauVar16[1] + 8);
        fVar25 = *(float *)(*pauVar16 + 0xc) + *(float *)(pauVar16[1] + 0xc);
        local_148 = minps(local_148,*pauVar16);
        local_138 = maxps(local_138,pauVar16[1]);
        if (local_108 < *(uint *)(*pauVar16 + 0xc)) {
          local_108 = *(uint *)(*pauVar16 + 0xc);
        }
        pauVar16 = pauVar16 + 2;
        auVar7._4_4_ = fVar23;
        auVar7._0_4_ = fVar22;
        auVar7._8_4_ = fVar24;
        auVar7._12_4_ = fVar25;
        local_128 = minps(local_128,auVar7);
        auVar8._4_4_ = fVar23;
        auVar8._0_4_ = fVar22;
        auVar8._8_4_ = fVar24;
        auVar8._12_4_ = fVar25;
        local_118 = maxps(local_118,auVar8);
      } while (local_270 + local_268 * 2 != pauVar16);
    }
  }
  else {
    uVar18 = local_268 + 0x3ff >> 10;
    if (uVar18 == 1) {
      local_138._8_4_ = _LC3;
      local_138._0_8_ = local_98._0_8_;
      local_138._12_4_ = _LC3;
      local_148._8_4_ = _LC1;
      local_148._0_8_ = local_a8._0_8_;
      local_148._12_4_ = _LC1;
      local_108 = 0;
      pauVar16 = local_270;
      local_118 = local_98;
      local_128 = local_a8;
      do {
        fVar22 = *(float *)*pauVar16 + *(float *)pauVar16[1];
        fVar23 = *(float *)(*pauVar16 + 4) + *(float *)(pauVar16[1] + 4);
        fVar24 = *(float *)(*pauVar16 + 8) + *(float *)(pauVar16[1] + 8);
        fVar25 = *(float *)(*pauVar16 + 0xc) + *(float *)(pauVar16[1] + 0xc);
        local_148 = minps(local_148,*pauVar16);
        local_138 = maxps(local_138,pauVar16[1]);
        if (local_108 < *(uint *)(*pauVar16 + 0xc)) {
          local_108 = *(uint *)(*pauVar16 + 0xc);
        }
        pauVar16 = pauVar16 + 2;
        auVar9._4_4_ = fVar23;
        auVar9._0_4_ = fVar22;
        auVar9._8_4_ = fVar24;
        auVar9._12_4_ = fVar25;
        local_128 = minps(local_128,auVar9);
        auVar10._4_4_ = fVar23;
        auVar10._0_4_ = fVar22;
        auVar10._8_4_ = fVar24;
        auVar10._12_4_ = fVar25;
        local_118 = maxps(local_118,auVar10);
      } while (pauVar16 != local_270 + 0x800);
    }
    else {
      parallel_reduce_internal<unsigned_long,std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_1_,std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>const(std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>const&,std::pair<embree::CentGeom<embree::BBox<embree::Vec3fa>>,unsigned_int>const&)>
                ((ulong)local_148,uVar18,local_268,(ulong)local_a8,(pair *)&local_220,in_R9,
                 in_stack_fffffffffffffd58);
    }
  }
  if (0x7ffffff < local_108) {
    pvVar14 = (void *)rtcBuildBVHBinnedSAH(param_1);
    goto LAB_001189d6;
  }
  local_b8 = 0;
  local_160 = 0x3f8000003f800000;
  uVar18 = *(ulong *)param_1;
  local_b0 = local_268;
  local_188 = 2;
  local_180 = 0x20;
  local_178 = 0;
  local_168 = 7;
  local_158 = 0x400;
  local_150 = 0xffffffffffffffff;
  if (((uVar18 < 0x15) || (local_188 = (ulong)*(uint *)(param_1 + 0x10), uVar18 < 0x19)) ||
     (local_180 = (ulong)*(uint *)(param_1 + 0x14), uVar18 < 0x1d)) {
LAB_001185a0:
    uStack_170 = 1;
  }
  else {
    uVar6 = 0x1f;
    if (*(uint *)(param_1 + 0x18) != 0) {
      for (; *(uint *)(param_1 + 0x18) >> uVar6 == 0; uVar6 = uVar6 - 1) {
      }
    }
    local_178 = (ulong)uVar6;
    if (uVar18 < 0x21) goto LAB_001185a0;
    uVar17 = (ulong)*(uint *)(param_1 + 0x1c);
    if (uVar18 < 0x25) {
      uStack_170 = 7;
      if (uVar17 < 8) {
        uStack_170 = uVar17;
      }
    }
    else {
      local_168 = (ulong)*(uint *)(param_1 + 0x20);
      if (0x28 < uVar18) {
        local_160 = CONCAT44(0x3f800000,*(undefined4 *)(param_1 + 0x24));
        if (0x2c < uVar18) {
          local_160 = CONCAT44(*(undefined4 *)(param_1 + 0x28),*(undefined4 *)(param_1 + 0x24));
        }
      }
      uStack_170 = local_168;
      if (uVar17 <= local_168) {
        uStack_170 = uVar17;
      }
    }
  }
  puStack_1e8 = &local_260;
  puVar20 = local_f8;
  puStack_1d8 = &local_250;
  uVar4 = *(undefined8 *)(param_1 + 0x48);
  ppauVar21 = &pauStack_218;
  puStack_208 = &local_240;
  puStack_1a8 = &local_238;
  puStack_1a0 = &local_228;
  pTVar19 = (TaskGroupContext *)&ppauStack_210;
  puStack_198 = &local_268;
  ppuStack_1c0 = &puStack_208;
  pfVar13 = &fStack_27c;
  pauStack_218 = local_270;
  pauStack_1c8 = local_270;
  puStack_1f8 = (undefined8 *)0x0;
  local_a8._8_8_ = pfVar13;
  local_a8._0_8_ = &puStack_1f8;
  local_98._0_8_ = pTVar19;
  puStack_200 = &local_230;
  puStack_1e0 = &local_230;
  puStack_1b8 = puVar20;
  puStack_190 = &local_230;
  local_f8 = local_148;
  local_e8 = local_138;
  local_d8 = local_128;
  local_c8 = local_118;
  if (local_268 == 1) {
    fVar22 = *(float *)(local_270[1] + 4) - *(float *)(*local_270 + 4);
    fVar23 = *(float *)(local_270[1] + 8) - *(float *)(*local_270 + 8);
    fVar22 = (fVar22 + fVar23) * (*(float *)local_270[1] - *(float *)*local_270) + fVar22 * fVar23;
    dVar11 = (double)(fVar22 + fVar22) + 0.0;
    uVar18 = 1;
  }
  else {
    ppauStack_210 = ppauVar21;
    dVar11 = (double)_ZN6embree24parallel_reduce_internalImdZNS_15parallel_reduceImdZNS_4sse230BVHBuilderBinnedFastSpatialSAH5buildIPvZNS2_21rtcBuildBVHSpatialSAHEPK17RTCBuildArgumentsEUlvE_ZNS2_21rtcBuildBVHSpatialSAHES8_EUlPNS2_17GeneralBVHBuilder12BuildRecordTINS2_16PrimInfoExtRangeENS2_6Split2INS2_8BinSplitILm32EEENS2_15SpatialBinSplitILm16EEEEEEEmRKNS_13FastAllocator15CachedAllocatorEE_ZNS2_21rtcBuildBVHSpatialSAHES8_EUlRKSJ_PSQ_S5_PS5_mE_ZNS2_21rtcBuildBVHSpatialSAHES8_EUlPKNS_7PrimRefERKNS_5rangeImEESO_E_ZNS2_21rtcBuildBVHSpatialSAHES8_EUlRSW_E_ZNS2_21rtcBuildBVHSpatialSAHES8_EUlmE_EET_T0_T1_T2_RKT3_T4_T5_PSV_mRKNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEERKNSA_8SettingsEEUlS11_E_St4plusIdEEES17_S16_S16_RKS17_RKS18_RKS19_EUlSZ_E_S1S_EES17_S16_S16_S16_S16_S1U_S1W_S1Y__constprop_0
                               (local_268,local_268,&puStack_1f8,local_a8,pTVar19,puVar20,ppauVar21,
                                puVar20,pTVar19,pfVar13);
    uVar18 = local_b0 - local_b8;
  }
  local_a8._8_8_ = &uStack_280;
  fStack_27c = _LC37 / (float)dVar11;
  uStack_280 = 0x41200000;
  ppauStack_210 = (undefined1 (**) [16])0x0;
  local_a8._0_8_ = ppauVar21;
  local_98._0_8_ = puVar20;
  local_98._8_8_ = pfVar13;
  TaskScheduler::
  spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
            (0,uVar18,1,(_lambda_embree__range<unsigned_long>_const___2_ *)local_a8,pTVar19);
  embree::TaskScheduler::wait();
  if (ppauStack_210 != (undefined1 (**) [16])0x0) {
    puStack_1f8 = ppauStack_210;
    std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
    std::rethrow_exception(&puStack_1f8);
  }
  puStack_1f8 = &local_248;
  local_a8 = local_f8;
  lStack_60 = local_b0 - local_b8;
  local_68 = 0;
  local_98 = local_e8;
  local_88 = local_d8;
  local_78 = local_c8;
  puStack_1f0 = &local_230;
  uStack_58 = uVar4;
  pvVar14 = GeneralBVHBuilder::
            build<void*,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                      (&pauStack_1c8,pauStack_218,
                       (_lambda_embree__range<unsigned_long>_const___2_ *)local_a8,&local_278,
                       &local_258,&local_230,puStack_1e8,puStack_1e0,puStack_1d8,&puStack_1f8,
                       &puStack_1a8,&local_188);
  lVar12 = local_278;
  lVar1 = local_278 + 0x18;
  plVar15 = (long *)(local_278 + 0xd0);
  plVar2 = (long *)(local_278 + 0x110);
  do {
    while (*plVar15 != 0) {
      lVar5 = *(long *)(*plVar15 + 0x18);
      *(long *)(*plVar15 + 0x18) = *plVar2;
      LOCK();
      *plVar2 = *plVar15;
      UNLOCK();
      LOCK();
      *plVar15 = lVar5;
      UNLOCK();
    }
    LOCK();
    *plVar15 = 0;
    UNLOCK();
    plVar15 = plVar15 + 1;
  } while (plVar15 != plVar2);
  plVar15 = *(long **)(local_278 + 0x148);
  plVar2 = *(long **)(local_278 + 0x150);
  if (plVar2 != plVar15) {
    do {
      while( true ) {
        lVar5 = *plVar15;
        if (lVar1 != *(long *)(lVar5 + 8)) break;
        embree::MutexSys::lock();
        if (lVar1 == *(long *)(lVar5 + 8)) {
          LOCK();
          plVar3 = (long *)(*(long *)(lVar5 + 8) + 0x118);
          *plVar3 = *plVar3 + *(long *)(lVar5 + 0xa8) + *(long *)(lVar5 + 0x68);
          UNLOCK();
          LOCK();
          plVar3 = (long *)(*(long *)(lVar5 + 8) + 0x120);
          *plVar3 = *plVar3 + (((*(long *)(lVar5 + 0x98) + *(long *)(lVar5 + 0x58)) -
                               *(long *)(lVar5 + 0x50)) - *(long *)(lVar5 + 0x90));
          UNLOCK();
          LOCK();
          plVar3 = (long *)(*(long *)(lVar5 + 8) + 0x128);
          *plVar3 = *plVar3 + *(long *)(lVar5 + 0xb0) + *(long *)(lVar5 + 0x70);
          UNLOCK();
          *(undefined8 *)(lVar5 + 0x48) = 0;
          *(undefined8 *)(lVar5 + 0x58) = 0;
          *(undefined8 *)(lVar5 + 0x50) = 0;
          *(undefined8 *)(lVar5 + 0x68) = 0;
          *(undefined8 *)(lVar5 + 0x70) = 0;
          *(undefined8 *)(lVar5 + 0x60) = 0;
          *(undefined8 *)(lVar5 + 0x88) = 0;
          *(undefined8 *)(lVar5 + 0x98) = 0;
          *(undefined8 *)(lVar5 + 0x90) = 0;
          *(undefined8 *)(lVar5 + 0xa8) = 0;
          *(undefined8 *)(lVar5 + 0xb0) = 0;
          *(undefined8 *)(lVar5 + 0xa0) = 0;
          LOCK();
          *(undefined8 *)(lVar5 + 8) = 0;
          UNLOCK();
        }
        plVar15 = plVar15 + 1;
        embree::MutexSys::unlock();
        if (plVar2 == plVar15) goto LAB_001189bf;
      }
      plVar15 = plVar15 + 1;
    } while (plVar2 != plVar15);
LAB_001189bf:
    if (*(long *)(lVar12 + 0x150) != *(long *)(lVar12 + 0x148)) {
      *(long *)(lVar12 + 0x150) = *(long *)(lVar12 + 0x148);
    }
  }
LAB_001189d6:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return pvVar14;
}



void rtcBuildBVH(RTCBuildArguments *param_1)

{
  int iVar1;
  FastAllocator *this;
  
  if (((((*(long *)(param_1 + 0x30) != 0) && (param_1 != (RTCBuildArguments *)0x0)) &&
       (*(long *)(param_1 + 0x50) != 0)) &&
      ((*(long *)(param_1 + 0x58) != 0 && (*(long *)(param_1 + 0x60) != 0)))) &&
     ((*(long *)(param_1 + 0x68) != 0 && (*(ulong *)(param_1 + 0x40) <= *(ulong *)(param_1 + 0x48)))
     )) {
    this = (FastAllocator *)(*(long *)(param_1 + 0x30) + 0x18);
    embree::FastAllocator::init_estimate(this,*(ulong *)(param_1 + 0x40) << 5);
    embree::FastAllocator::reset(this);
    iVar1 = *(int *)(param_1 + 8);
    if (iVar1 == 0) {
      embree::sse2::rtcBuildBVHMorton(param_1);
      return;
    }
    if (iVar1 != 1) {
      if (iVar1 != 2) goto rtcBuildBVH_cold;
      if ((*(long *)(param_1 + 0x70) != 0) &&
         (*(ulong *)(param_1 + 0x40) < *(ulong *)(param_1 + 0x48))) {
        embree::sse2::rtcBuildBVHSpatialSAH(param_1);
        return;
      }
    }
    embree::sse2::rtcBuildBVHBinnedSAH(param_1);
    return;
  }
rtcBuildBVH_cold:
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::BBox<embree::Vec3fa>::merge(embree::BBox<embree::Vec3fa> const&,
   embree::BBox<embree::Vec3fa> const&) */

BBox<embree::Vec3fa> * __thiscall
embree::BBox<embree::Vec3fa>::merge
          (BBox<embree::Vec3fa> *this,BBox_conflict *param_1,BBox_conflict *param_2)

{
  undefined1 auVar1 [16];
  undefined1 auVar2 [16];
  
  auVar1 = maxps(*(undefined1 (*) [16])(param_1 + 0x10),*(undefined1 (*) [16])(param_2 + 0x10));
  auVar2 = minps(*(undefined1 (*) [16])param_1,*(undefined1 (*) [16])param_2);
  *(undefined1 (*) [16])(this + 0x10) = auVar1;
  *(undefined1 (*) [16])this = auVar2;
  return this;
}



/* embree::CentGeom<embree::BBox<embree::Vec3fa>
   >::merge2(embree::CentGeom<embree::BBox<embree::Vec3fa> > const&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> > const&) */

CentGeom<embree::BBox<embree::Vec3fa>> * __thiscall
embree::CentGeom<embree::BBox<embree::Vec3fa>>::merge2
          (CentGeom<embree::BBox<embree::Vec3fa>> *this,CentGeom_conflict *param_1,
          CentGeom_conflict *param_2)

{
  undefined1 auVar1 [16];
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  
  auVar4 = *(undefined1 (*) [16])param_1;
  *(undefined1 (*) [16])this = auVar4;
  auVar1 = *(undefined1 (*) [16])(param_1 + 0x10);
  *(undefined1 (*) [16])(this + 0x10) = auVar1;
  auVar2 = *(undefined1 (*) [16])(param_1 + 0x20);
  *(undefined1 (*) [16])(this + 0x20) = auVar2;
  auVar3 = *(undefined1 (*) [16])(param_1 + 0x30);
  *(undefined1 (*) [16])(this + 0x30) = auVar3;
  auVar4 = minps(auVar4,*(undefined1 (*) [16])param_2);
  *(undefined1 (*) [16])this = auVar4;
  auVar4 = maxps(auVar1,*(undefined1 (*) [16])(param_2 + 0x10));
  *(undefined1 (*) [16])(this + 0x10) = auVar4;
  auVar4 = minps(auVar2,*(undefined1 (*) [16])(param_2 + 0x20));
  *(undefined1 (*) [16])(this + 0x20) = auVar4;
  auVar4 = maxps(auVar3,*(undefined1 (*) [16])(param_2 + 0x30));
  *(undefined1 (*) [16])(this + 0x30) = auVar4;
  return this;
}



/* bool embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::compare<embree::sse2::BVHBuilderMorton::BuildPrim>(embree::sse2::BVHBuilderMorton::BuildPrim
   const&, embree::sse2::BVHBuilderMorton::BuildPrim const&) */

bool embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::
     compare<embree::sse2::BVHBuilderMorton::BuildPrim>(BuildPrim *param_1,BuildPrim *param_2)

{
  return *(uint *)param_1 < *(uint *)param_2;
}



/* embree::RefCount::refInc() */

RefCount * __thiscall embree::RefCount::refInc(RefCount *this)

{
  LOCK();
  *(long *)(this + 8) = *(long *)(this + 8) + 1;
  UNLOCK();
  return this;
}



/* embree::RefCount::refDec() */

void __thiscall embree::RefCount::refDec(RefCount *this)

{
  RefCount *pRVar1;
  
  LOCK();
  pRVar1 = this + 8;
  *(long *)pRVar1 = *(long *)pRVar1 + -1;
  UNLOCK();
  if ((this != (RefCount *)0x0) && (*(long *)pRVar1 == 0)) {
                    /* WARNING: Could not recover jumptable at 0x00118cc9. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    (**(code **)(*(long *)this + 8))();
    return;
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, long,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, long, long,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >) [clone .isra.0] */

void std::
     __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
               (long param_1,long param_2,ulong param_3,undefined8 *param_4)

{
  undefined1 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 *puVar12;
  long lVar13;
  long lVar14;
  undefined8 *puVar15;
  long lVar16;
  long lVar17;
  long lVar18;
  
  lVar16 = (long)(param_3 - 1) / 2;
  lVar17 = param_2;
  if (param_2 < lVar16) {
    do {
      lVar13 = (lVar17 + 1) * 2;
      lVar14 = (lVar17 + 1) * 0xc0;
      puVar12 = (undefined8 *)(param_1 + lVar14);
      if ((ulong)(*(long *)(param_1 + -8 + lVar14) - *(long *)(param_1 + -0x10 + lVar14)) <
          (ulong)(puVar12[0xb] - puVar12[10])) {
        lVar13 = lVar13 + -1;
        puVar12 = (undefined8 *)(lVar13 * 0x60 + param_1);
      }
      puVar15 = (undefined8 *)(lVar17 * 0x60 + param_1);
      *puVar15 = *puVar12;
      *(undefined1 *)(puVar15 + 1) = *(undefined1 *)(puVar12 + 1);
      uVar2 = puVar12[3];
      puVar15[2] = puVar12[2];
      puVar15[3] = uVar2;
      uVar2 = puVar12[5];
      puVar15[4] = puVar12[4];
      puVar15[5] = uVar2;
      uVar2 = puVar12[7];
      puVar15[6] = puVar12[6];
      puVar15[7] = uVar2;
      uVar2 = puVar12[9];
      puVar15[8] = puVar12[8];
      puVar15[9] = uVar2;
      uVar2 = puVar12[0xb];
      puVar15[10] = puVar12[10];
      puVar15[0xb] = uVar2;
      lVar17 = lVar13;
    } while (lVar13 < lVar16);
  }
  else {
    puVar12 = (undefined8 *)(param_2 * 0x60 + param_1);
    lVar13 = param_2;
  }
  if (((param_3 & 1) == 0) && ((long)(param_3 - 2) / 2 == lVar13)) {
    puVar15 = (undefined8 *)(param_1 + -0x60 + (lVar13 + 1) * 0xc0);
    *puVar12 = *puVar15;
    *(undefined1 *)(puVar12 + 1) = *(undefined1 *)(puVar15 + 1);
    uVar2 = puVar15[3];
    lVar13 = (lVar13 + 1) * 2 + -1;
    puVar12[2] = puVar15[2];
    puVar12[3] = uVar2;
    uVar2 = puVar15[5];
    puVar12[4] = puVar15[4];
    puVar12[5] = uVar2;
    uVar2 = puVar15[7];
    puVar12[6] = puVar15[6];
    puVar12[7] = uVar2;
    uVar2 = puVar15[9];
    puVar12[8] = puVar15[8];
    puVar12[9] = uVar2;
    uVar2 = puVar15[0xb];
    puVar12[10] = puVar15[10];
    puVar12[0xb] = uVar2;
    puVar12 = (undefined8 *)(lVar13 * 0x60 + param_1);
  }
  uVar2 = *param_4;
  uVar1 = *(undefined1 *)(param_4 + 1);
  uVar3 = param_4[2];
  uVar4 = param_4[3];
  uVar5 = param_4[4];
  uVar6 = param_4[5];
  uVar7 = param_4[6];
  uVar8 = param_4[7];
  uVar9 = param_4[8];
  uVar10 = param_4[9];
  lVar14 = (lVar13 + -1) - (lVar13 + -1 >> 0x3f);
  lVar17 = param_4[10];
  lVar16 = param_4[0xb];
  if (param_2 < lVar13) {
    do {
      lVar18 = lVar14 >> 1;
      puVar15 = (undefined8 *)(lVar18 * 0x60 + param_1);
      puVar12 = (undefined8 *)(lVar13 * 0x60 + param_1);
      if ((ulong)(puVar15[0xb] - puVar15[10]) <= (ulong)(lVar16 - lVar17)) break;
      *puVar12 = *puVar15;
      *(undefined1 *)(puVar12 + 1) = *(undefined1 *)(puVar15 + 1);
      uVar11 = puVar15[3];
      puVar12[2] = puVar15[2];
      puVar12[3] = uVar11;
      uVar11 = puVar15[5];
      puVar12[4] = puVar15[4];
      puVar12[5] = uVar11;
      uVar11 = puVar15[7];
      puVar12[6] = puVar15[6];
      puVar12[7] = uVar11;
      uVar11 = puVar15[9];
      puVar12[8] = puVar15[8];
      puVar12[9] = uVar11;
      uVar11 = puVar15[0xb];
      puVar12[10] = puVar15[10];
      puVar12[0xb] = uVar11;
      lVar14 = (lVar18 + -1) - (lVar18 + -1 >> 0x3f);
      puVar12 = puVar15;
      lVar13 = lVar18;
    } while (param_2 < lVar18);
  }
  *puVar12 = uVar2;
  *(undefined1 *)(puVar12 + 1) = uVar1;
  puVar12[10] = lVar17;
  puVar12[0xb] = lVar16;
  puVar12[2] = uVar3;
  puVar12[3] = uVar4;
  puVar12[4] = uVar5;
  puVar12[5] = uVar6;
  puVar12[6] = uVar7;
  puVar12[7] = uVar8;
  puVar12[8] = uVar9;
  puVar12[9] = uVar10;
  return;
}



/* embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration1(unsigned int, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long, unsigned long) [clone .isra.0] */

void embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::
     tbbRadixIteration1(uint param_1,BuildPrim *param_2,BuildPrim *param_3,ulong param_4,
                       ulong param_5)

{
  undefined8 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  ulong uVar6;
  uint *puVar7;
  uint *puVar8;
  uint *puVar9;
  long lVar10;
  uint uVar11;
  int *piVar12;
  int *piVar13;
  undefined4 in_register_0000003c;
  int *piVar14;
  long in_R9;
  long in_FS_OFFSET;
  ulong in_stack_00000008;
  uint local_880 [526];
  long local_48;
  
  piVar13 = (int *)CONCAT44(in_register_0000003c,param_1);
  puVar8 = local_880;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = (ulong)(in_R9 * (long)param_2) / in_stack_00000008;
  puVar9 = local_880;
  for (lVar10 = 0x80; lVar10 != 0; lVar10 = lVar10 + -1) {
    *(undefined8 *)puVar9 = 0;
    puVar9 = (uint *)((long)puVar9 + 8);
  }
  if (in_stack_00000008 != 0) {
    puVar9 = local_880;
    piVar12 = piVar13;
    piVar14 = piVar13;
    do {
      do {
        iVar2 = piVar12[1];
        iVar3 = piVar12[2];
        iVar4 = piVar12[3];
        puVar7 = puVar9 + 4;
        *puVar9 = *puVar9 + *piVar12;
        puVar9[1] = puVar9[1] + iVar2;
        puVar9[2] = puVar9[2] + iVar3;
        puVar9[3] = puVar9[3] + iVar4;
        puVar9 = puVar7;
        piVar12 = piVar12 + 4;
      } while (local_880 + 0x100 != puVar7);
      piVar12 = piVar14 + 0x100;
      puVar9 = local_880;
      piVar14 = piVar12;
    } while (piVar13 + in_stack_00000008 * 0x100 != piVar12);
  }
  local_880[0x100] = 0;
  uVar11 = 0;
  puVar9 = local_880 + 0x101;
  while( true ) {
    uVar11 = uVar11 + *puVar8;
    puVar8 = puVar8 + 1;
    *puVar9 = uVar11;
    if (local_880 + 0xff == puVar8) break;
    puVar9 = puVar9 + 1;
  }
  if (in_R9 != 0) {
    piVar14 = piVar13 + in_R9 * 0x100;
    puVar9 = local_880 + 0x100;
    piVar12 = piVar13;
    do {
      do {
        iVar2 = *piVar13;
        iVar3 = piVar13[1];
        iVar4 = piVar13[2];
        iVar5 = piVar13[3];
        puVar8 = puVar9 + 4;
        piVar13 = piVar13 + 4;
        *puVar9 = *puVar9 + iVar2;
        puVar9[1] = puVar9[1] + iVar3;
        puVar9[2] = puVar9[2] + iVar4;
        puVar9[3] = puVar9[3] + iVar5;
        puVar9 = puVar8;
      } while (local_880 + 0x200 != puVar8);
      piVar13 = piVar12 + 0x100;
      puVar9 = local_880 + 0x100;
      piVar12 = piVar13;
    } while (piVar14 != piVar13);
  }
  if (uVar6 < (ulong)(param_2 + in_R9 * (long)param_2) / in_stack_00000008) {
    puVar9 = (uint *)(param_4 + uVar6 * 8);
    do {
      uVar11 = *puVar9;
      uVar1 = *(undefined8 *)puVar9;
      puVar9 = puVar9 + 2;
      uVar6 = (ulong)(byte)(uVar11 >> ((byte)param_3 & 0x3f));
      uVar11 = local_880[uVar6 + 0x100];
      *(undefined8 *)(param_5 + (ulong)uVar11 * 8) = uVar1;
      local_880[uVar6 + 0x100] = uVar11 + 1;
    } while ((uint *)(param_4 + ((ulong)(param_2 + in_R9 * (long)param_2) / in_stack_00000008) * 8)
             != puVar9);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::createLargeLeaf(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator) [clone .cold] */

void embree::sse2::BVHBuilderMorton::
     BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)#1},embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
     ::createLargeLeaf(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::createLargeLeaf(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&, embree::FastAllocator::CachedAllocator) [clone .cold] */

void embree::sse2::GeneralBVHBuilder::
     BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)#1},embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
     ::createLargeLeaf(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned int,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#2}>(unsigned int, unsigned int, unsigned int,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recreateMortonCodes(embree::range<unsigned int> const&)
   const::{lambda(embree::range<unsigned int> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_int,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recreateMortonCodes(embree::range<unsigned_int>const&)const::_lambda(embree::range<unsigned_int>const&)_2_>
               (uint param_1,uint param_2,uint param_3,
               _lambda_embree__range<unsigned_int>_const___2_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul> const&,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_spatial_split(embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree:___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::PrimInfoT<embree::BBox<embree::Vec3fa>
   >, embree::EmptyTy,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#1},
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::parallel_object_split(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&,
   embree::sse2::PrimInfoExtRange&)::{lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&)#1}>::partition(embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&,
   embree::PrimInfoT<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::PrimInfoT<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::parallel_object_split(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::PrimInfoT<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_1_,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildB___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange const&, embree::sse2::PrimInfoExtRange
   const&, embree::sse2::PrimInfoExtRange&)::{lambda(embree::range<unsigned long> const&)#2} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::moveExtentedRange(embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange_const&,embree::sse2::PrimInfoExtRange&)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::createLargeLeaf(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::FastAllocator::CachedAllocator) [clone .cold] */

void embree::sse2::GeneralBVHBuilder::
     BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const&)#1},embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda()#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)#1},embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)#1},embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)#1}>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoExtRange>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::{lambda(unsigned_long)#1}>
     ::createLargeLeaf(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}, embree::PrimRef*, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::sse2::GeneralBVHBuilder::Settings const&)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const*, embree::range<unsigned long> const&,
   embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}, embree::PrimRef*, unsigned long, embree::PrimInfoT<embree::BBox<embree::Vec3fa> >
   const&, embree::sse2::GeneralBVHBuilder::Settings const&)::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHBuilderBinnedFastSpatialSAH::build<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree:___&,embree::sse2::GeneralBVHBuilder::Settings_const&)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&, embree::sse2::SpatialBinSplit<16ul>
   const&, embree::sse2::SpatialBinMapping<16ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul,
   16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&, embree::sse2::SpatialBinSplit<16ul>
   const&, embree::sse2::SpatialBinMapping<16ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*) [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>::create_spatial_splits(embree::sse2::PrimInfoExtRange&,embree::sse2::SpatialBinSplit<16ul>const&,embree::sse2::SpatialBinMapping<16ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recurse(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*, embree::BBox<embree::Vec3fa> >,
   embree::FastAllocator::CachedAllocator, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::FastAllocator::CachedAllocator const&, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(void*, std::pair<void*,
   embree::BBox<embree::Vec3fa> > const*, unsigned long)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned int>
   const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments
   const*)::{lambda(embree::sse2::BVHBuilderMorton::BuildPrim const&)#1},
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>::recurse(unsigned long, embree::range<unsigned int> const&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long> const&)#1}
   const&, embree::TaskScheduler::TaskGroupContext*) [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::BVHBuilderMorton::BuilderT<std::pair<void*,embree::BBox<embree::Vec3fa>>,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::FastAllocator::CachedAllocator_const&,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(void*,std::pair<void*,embree::BBox<embree::Vec3fa>>const*,unsigned_long)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::sse2::BVHBuilderMorton::BuildPrim_const&)_1_,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(unsigned_long,embree::range<unsigned_int>const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoExtRange>, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >&,
   embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long> const&)#1}
   const&, embree::TaskScheduler::TaskGroupContext*) [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoE___ul>>>__embree__FastAllocator__CachedAllocator_bool____lambda_embree__range<unsigned_long>const___1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#2}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::rtcBuildBVHMorton(RTCBuildArguments const*)::{lambda(embree::range<unsigned long>
   const&)#2} const&, embree::TaskScheduler::TaskGroupContext*) [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::rtcBuildBVHMorton(RTCBuildArguments_const*)::_lambda(embree::range<unsigned_long>const&)_2_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___2_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, 
   embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>,
   embree::sse2::PrimInfoRange, embree::PrimRef, void*, embree::FastAllocator::CachedAllocator,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>,
   embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,
   embree::sse2::PrimInfoRange>, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(unsigned
   long)#1}>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >&, embree::FastAllocator::CachedAllocator,
   bool)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::GeneralBVHBuilder::BuilderT<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,void*,embree::FastAllocator::CachedAllocator,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::GeneralBVHBuilder::DefaultCanCreateLeafSplitFunc<embree::PrimRef,embree::sse2::PrimInfoRange>,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>::recurse(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */

void rtcNewBVH_cold(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */

void rtcMakeStaticBVH_cold(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



void rtcRetainBVH_cold(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



void rtcReleaseBVH_cold(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void* embree::sse2::GeneralBVHBuilder::build<void*,
   embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>,
   embree::sse2::PrimInfoExtRange, embree::PrimRef,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}>,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::PrimRef const&)#1}, embree::PrimRef, 32ul, 16ul>&, embree::PrimRef*,
   embree::sse2::PrimInfoExtRange const&, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   unsigned long, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const&, embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >
   const*, void*, void**, unsigned long)#1},
   embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1}> const&,
   embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments const*)::{lambda(unsigned long)#1} const&,
   embree::sse2::GeneralBVHBuilder::Settings const&) [clone .constprop.0] [clone .cold] */

void * embree::sse2::GeneralBVHBuilder::
       build<void*,embree::sse2::HeuristicArraySpatialSAH<embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const&)_1_,embree::PrimRef,32ul,16ul>,embree::sse2::PrimInfoExtRange,embree::PrimRef,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>const*,void*,void**,unsigned_long)_1_,embree::sse2::BVHBuilderBinnedFastSpatialSAH::CreateLeafExt<void*,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_>,embree::sse2::rtcBuildBVHSpatialSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                 (void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) [clone .isra.0] [clone .cold] */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void* embree::sse2::GeneralBVHBuilder::build<void*,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>, embree::sse2::PrimInfoRange,
   embree::PrimRef, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda()#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(unsigned
   long)#1}>(embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef, 32ul>&, embree::PrimRef*,
   embree::sse2::PrimInfoRange const&, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda()#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, unsigned long, embree::FastAllocator::CachedAllocator
   const&)#1}, embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments
   const*)::{lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const&,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > const*, void*, void**, unsigned long)#1},
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(embree::PrimRef const*,
   embree::range<unsigned long> const&, embree::FastAllocator::CachedAllocator const&)#1} const&,
   embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments const*)::{lambda(unsigned long)#1} const&,
   embree::sse2::GeneralBVHBuilder::Settings const&) [clone .constprop.0] [clone .cold] */

void * embree::sse2::GeneralBVHBuilder::
       build<void*,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>,embree::sse2::PrimInfoRange,embree::PrimRef,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda()_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,unsigned_long,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const&,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>const*,void*,void**,unsigned_long)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(embree::PrimRef_const*,embree::range<unsigned_long>const&,embree::FastAllocator::CachedAllocator_const&)_1_,embree::sse2::rtcBuildBVHBinnedSAH(RTCBuildArguments_const*)::_lambda(unsigned_long)_1_>
                 (void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */

void rtcBuildBVH_cold(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::FastAllocator::~FastAllocator() */

void __thiscall embree::FastAllocator::~FastAllocator(FastAllocator *this)

{
  long *plVar1;
  FastAllocator FVar2;
  long *plVar3;
  long lVar4;
  ulong uVar5;
  void *pvVar6;
  FastAllocator *pFVar7;
  ulong uVar8;
  FastAllocator *pFVar9;
  MutexSys *this_00;
  MutexSys *pMVar10;
  ulong *puVar11;
  ulong *puVar12;
  long *plVar13;
  
  pFVar9 = this + 0xf8;
  pFVar7 = this + 0xb8;
  do {
    while (*(long *)pFVar7 != 0) {
      lVar4 = *(long *)(*(long *)pFVar7 + 0x18);
      *(long *)(*(long *)pFVar7 + 0x18) = *(long *)pFVar9;
      LOCK();
      *(long *)pFVar9 = *(long *)pFVar7;
      UNLOCK();
      LOCK();
      *(long *)pFVar7 = lVar4;
      UNLOCK();
    }
    LOCK();
    *(long *)pFVar7 = 0;
    UNLOCK();
    pFVar7 = pFVar7 + 8;
  } while (pFVar7 != pFVar9);
  plVar13 = *(long **)(this + 0x130);
  plVar3 = *(long **)(this + 0x138);
  if (plVar3 != plVar13) {
    do {
      while( true ) {
        lVar4 = *plVar13;
        if (this != *(FastAllocator **)(lVar4 + 8)) break;
        embree::MutexSys::lock();
        if (this == *(FastAllocator **)(lVar4 + 8)) {
          LOCK();
          plVar1 = (long *)(*(long *)(lVar4 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(lVar4 + 0xa8) + *(long *)(lVar4 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar4 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(lVar4 + 0x98) + *(long *)(lVar4 + 0x58)) -
                               *(long *)(lVar4 + 0x50)) - *(long *)(lVar4 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar4 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(lVar4 + 0xb0) + *(long *)(lVar4 + 0x70);
          UNLOCK();
          *(undefined8 *)(lVar4 + 0x48) = 0;
          *(undefined8 *)(lVar4 + 0x58) = 0;
          *(undefined8 *)(lVar4 + 0x50) = 0;
          *(undefined8 *)(lVar4 + 0x68) = 0;
          *(undefined8 *)(lVar4 + 0x70) = 0;
          *(undefined8 *)(lVar4 + 0x60) = 0;
          *(undefined8 *)(lVar4 + 0x88) = 0;
          *(undefined8 *)(lVar4 + 0x98) = 0;
          *(undefined8 *)(lVar4 + 0x90) = 0;
          *(undefined8 *)(lVar4 + 0xa8) = 0;
          *(undefined8 *)(lVar4 + 0xb0) = 0;
          *(undefined8 *)(lVar4 + 0xa0) = 0;
          LOCK();
          *(undefined8 *)(lVar4 + 8) = 0;
          UNLOCK();
        }
        plVar13 = plVar13 + 1;
        embree::MutexSys::unlock();
        if (plVar3 == plVar13) goto LAB_00119318;
      }
      plVar13 = plVar13 + 1;
    } while (plVar3 != plVar13);
LAB_00119318:
    if (*(long *)(this + 0x138) != *(long *)(this + 0x130)) {
      *(long *)(this + 0x138) = *(long *)(this + 0x130);
    }
  }
  LOCK();
  *(undefined8 *)(this + 0x118) = 0;
  UNLOCK();
  LOCK();
  *(undefined8 *)(this + 0x120) = 0;
  UNLOCK();
  LOCK();
  *(undefined8 *)(this + 0x128) = 0;
  UNLOCK();
  if (*(long *)(this + 0xf8) != 0) {
    puVar11 = *(ulong **)(this + 0xf8);
    FVar2 = this[0x108];
    plVar13 = *(long **)this;
LAB_00119380:
    puVar12 = puVar11;
    if (puVar11 != (ulong *)0x0) {
      do {
        puVar11 = (ulong *)puVar12[3];
        uVar5 = puVar12[4];
        uVar8 = *puVar12;
        if (*puVar12 < puVar12[1]) {
          uVar8 = puVar12[1];
        }
        if (puVar12[2] < uVar8) {
          uVar8 = puVar12[2];
        }
        if ((int)puVar12[5] == 0) {
          if (FVar2 == (FastAllocator)0x0) {
            embree::alignedFree(puVar12);
          }
          else {
            (**(code **)(*plVar13 + 0x40))(plVar13,puVar12);
          }
        }
        else {
          if ((int)puVar12[5] != 1) goto LAB_00119380;
          embree::os_free(puVar12,puVar12[2] + 0x40,*(bool *)((long)puVar12 + 0x2c));
        }
        if (plVar13 == (long *)0x0) goto LAB_00119380;
        (**(code **)(*plVar13 + 0x20))(plVar13,-(uVar5 + 0x40 + uVar8),1);
        puVar12 = puVar11;
        if (puVar11 == (ulong *)0x0) break;
      } while( true );
    }
  }
  LOCK();
  *(long *)pFVar9 = 0;
  UNLOCK();
  if (*(long *)(this + 0x100) != 0) {
    puVar11 = *(ulong **)(this + 0x100);
    FVar2 = this[0x108];
    plVar13 = *(long **)this;
LAB_00119430:
    puVar12 = puVar11;
    if (puVar11 != (ulong *)0x0) {
      do {
        puVar11 = (ulong *)puVar12[3];
        uVar5 = puVar12[4];
        uVar8 = *puVar12;
        if (*puVar12 < puVar12[1]) {
          uVar8 = puVar12[1];
        }
        if (puVar12[2] < uVar8) {
          uVar8 = puVar12[2];
        }
        if ((int)puVar12[5] == 0) {
          if (FVar2 == (FastAllocator)0x0) {
            embree::alignedFree(puVar12);
          }
          else {
            (**(code **)(*plVar13 + 0x40))(plVar13,puVar12);
          }
        }
        else {
          if ((int)puVar12[5] != 1) goto LAB_00119430;
          embree::os_free(puVar12,puVar12[2] + 0x40,*(bool *)((long)puVar12 + 0x2c));
        }
        if (plVar13 == (long *)0x0) goto LAB_00119430;
        (**(code **)(*plVar13 + 0x20))(plVar13,-(uVar5 + 0x40 + uVar8),1);
        puVar12 = puVar11;
        if (puVar11 == (ulong *)0x0) break;
      } while( true );
    }
  }
  LOCK();
  *(undefined8 *)(this + 0x100) = 0;
  UNLOCK();
  pFVar9 = this + 0x78;
  do {
    LOCK();
    *(long *)pFVar9 = 0;
    UNLOCK();
    LOCK();
    *(long *)(pFVar9 + 0x40) = 0;
    UNLOCK();
    pFVar9 = pFVar9 + 8;
  } while (pFVar9 != this + 0xb8);
  pvVar6 = *(void **)(this + 0x170);
  lVar4 = *(long *)(this + 0x168);
  if (pvVar6 != (void *)0x0) {
    if ((ulong)(lVar4 << 5) < 0x1c00000) {
      embree::alignedFree(pvVar6);
    }
    else {
      embree::os_free(pvVar6,lVar4 << 5,(bool)this[0x158]);
    }
  }
  if (lVar4 != 0) {
    (**(code **)**(undefined8 **)(this + 0x150))(*(undefined8 **)(this + 0x150),lVar4 * -0x20,1);
  }
  pvVar6 = *(void **)(this + 0x130);
  if (pvVar6 != (void *)0x0) {
    operator_delete(pvVar6,*(long *)(this + 0x140) - (long)pvVar6);
  }
  this_00 = (MutexSys *)(this + 0x70);
  if (this != (FastAllocator *)0xffffffffffffffc8) {
    do {
      pMVar10 = this_00 + -8;
      embree::MutexSys::~MutexSys(this_00);
      this_00 = pMVar10;
    } while ((MutexSys *)(this + 0x30) != pMVar10);
  }
  embree::MutexSys::~MutexSys((MutexSys *)(this + 0x30));
  return;
}



/* embree::sse2::BVH::~BVH() */

void __thiscall embree::sse2::BVH::~BVH(BVH *this)

{
  long *plVar1;
  long *plVar2;
  void *pvVar3;
  long lVar4;
  
  *(undefined ***)this = &PTR__BVH_00122cb0;
  plVar2 = *(long **)(this + 0x10);
  if (*(code **)(*plVar2 + 0x18) == RefCount::refDec) {
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if ((plVar2 != (long *)0x0) && (*plVar1 == 0)) {
      (**(code **)(*plVar2 + 8))();
    }
  }
  else {
    (**(code **)(*plVar2 + 0x18))();
  }
  pvVar3 = *(void **)(this + 0x1d8);
  lVar4 = *(long *)(this + 0x1d0);
  if (pvVar3 != (void *)0x0) {
    if ((ulong)(lVar4 * 8) < 0x1c00000) {
      embree::alignedFree(pvVar3);
    }
    else {
      embree::os_free(pvVar3,lVar4 * 8,(bool)this[0x1c0]);
    }
  }
  if (lVar4 != 0) {
    (**(code **)**(undefined8 **)(this + 0x1b8))(*(undefined8 **)(this + 0x1b8),lVar4 * -8,1);
  }
  pvVar3 = *(void **)(this + 0x1b0);
  lVar4 = *(long *)(this + 0x1a8);
  if (pvVar3 != (void *)0x0) {
    if ((ulong)(lVar4 * 8) < 0x1c00000) {
      embree::alignedFree(pvVar3);
    }
    else {
      embree::os_free(pvVar3,lVar4 * 8,(bool)this[0x198]);
    }
  }
  if (lVar4 != 0) {
    (**(code **)**(undefined8 **)(this + 400))(*(undefined8 **)(this + 400),lVar4 * -8,1);
  }
  FastAllocator::~FastAllocator((FastAllocator *)(this + 0x18));
  return;
}



/* embree::sse2::BVH::~BVH() */

void __thiscall embree::sse2::BVH::~BVH(BVH *this)

{
  long *plVar1;
  long *plVar2;
  void *pvVar3;
  long lVar4;
  
  *(undefined ***)this = &PTR__BVH_00122cb0;
  plVar2 = *(long **)(this + 0x10);
  if (*(code **)(*plVar2 + 0x18) == RefCount::refDec) {
    LOCK();
    plVar1 = plVar2 + 1;
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if ((plVar2 != (long *)0x0) && (*plVar1 == 0)) {
      (**(code **)(*plVar2 + 8))();
    }
  }
  else {
    (**(code **)(*plVar2 + 0x18))();
  }
  pvVar3 = *(void **)(this + 0x1d8);
  lVar4 = *(long *)(this + 0x1d0);
  if (pvVar3 != (void *)0x0) {
    if ((ulong)(lVar4 * 8) < 0x1c00000) {
      embree::alignedFree(pvVar3);
    }
    else {
      embree::os_free(pvVar3,lVar4 * 8,(bool)this[0x1c0]);
    }
  }
  if (lVar4 != 0) {
    (**(code **)**(undefined8 **)(this + 0x1b8))(*(undefined8 **)(this + 0x1b8),lVar4 * -8,1);
  }
  pvVar3 = *(void **)(this + 0x1b0);
  lVar4 = *(long *)(this + 0x1a8);
  if (pvVar3 != (void *)0x0) {
    if ((ulong)(lVar4 * 8) < 0x1c00000) {
      embree::alignedFree(pvVar3);
    }
    else {
      embree::os_free(pvVar3,lVar4 * 8,(bool)this[0x198]);
    }
  }
  if (lVar4 != 0) {
    (**(code **)**(undefined8 **)(this + 400))(*(undefined8 **)(this + 400),lVar4 * -8,1);
  }
  FastAllocator::~FastAllocator((FastAllocator *)(this + 0x18));
  operator_delete(this,0x1e0);
  return;
}



/* embree::FastAllocator::reset() */

void __thiscall embree::FastAllocator::reset(FastAllocator *this)

{
  long *plVar1;
  ulong *puVar2;
  long *plVar3;
  FastAllocator *pFVar4;
  long lVar5;
  FastAllocator *pFVar6;
  ulong uVar7;
  long *plVar8;
  long in_FS_OFFSET;
  long local_48;
  long local_40;
  
  pFVar6 = this + 0xf8;
  plVar8 = &local_48;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  pFVar4 = this + 0xb8;
  do {
    while (*(long *)pFVar4 != 0) {
      lVar5 = *(long *)(*(long *)pFVar4 + 0x18);
      *(long *)(*(long *)pFVar4 + 0x18) = *(long *)pFVar6;
      LOCK();
      *(long *)pFVar6 = *(long *)pFVar4;
      UNLOCK();
      LOCK();
      *(long *)pFVar4 = lVar5;
      UNLOCK();
    }
    LOCK();
    *(long *)pFVar4 = 0;
    UNLOCK();
    pFVar4 = pFVar4 + 8;
  } while (pFVar4 != pFVar6);
  LOCK();
  *(undefined8 *)(this + 0x118) = 0;
  UNLOCK();
  LOCK();
  *(undefined8 *)(this + 0x120) = 0;
  UNLOCK();
  LOCK();
  *(undefined8 *)(this + 0x128) = 0;
  UNLOCK();
  pFVar4 = this + 0x100;
  while (*(long *)pFVar6 != 0) {
    puVar2 = *(ulong **)pFVar6;
    uVar7 = *puVar2;
    if (*puVar2 < puVar2[1]) {
      uVar7 = puVar2[1];
    }
    LOCK();
    puVar2[1] = uVar7;
    UNLOCK();
    LOCK();
    *puVar2 = 0;
    UNLOCK();
    lVar5 = *(long *)(*(long *)pFVar6 + 0x18);
    *(long *)(*(long *)pFVar6 + 0x18) = *(long *)pFVar4;
    LOCK();
    *(long *)pFVar4 = *(long *)pFVar6;
    UNLOCK();
    LOCK();
    *(long *)pFVar6 = lVar5;
    UNLOCK();
  }
  lVar5 = *(long *)(this + 0x100);
  local_48 = lVar5;
  for (; lVar5 != 0; lVar5 = *(long *)(lVar5 + 0x18)) {
    while (*(int *)(lVar5 + 0x28) != 2) {
      plVar8 = (long *)(lVar5 + 0x18);
      lVar5 = *(long *)(lVar5 + 0x18);
      if (lVar5 == 0) goto LAB_00119977;
    }
    *plVar8 = *(undefined8 *)(lVar5 + 0x18);
  }
LAB_00119977:
  LOCK();
  *(long *)pFVar4 = local_48;
  UNLOCK();
  pFVar6 = this + 0x78;
  do {
    LOCK();
    *(long *)pFVar6 = 0;
    UNLOCK();
    LOCK();
    *(long *)(pFVar6 + 0x40) = 0;
    UNLOCK();
    pFVar6 = pFVar6 + 8;
  } while (pFVar6 != this + 0xb8);
  plVar8 = *(long **)(this + 0x130);
  plVar3 = *(long **)(this + 0x138);
  if (plVar3 != plVar8) {
    do {
      while( true ) {
        lVar5 = *plVar8;
        if (this != *(FastAllocator **)(lVar5 + 8)) break;
        embree::MutexSys::lock();
        if (this == *(FastAllocator **)(lVar5 + 8)) {
          LOCK();
          plVar1 = (long *)(*(long *)(lVar5 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(lVar5 + 0xa8) + *(long *)(lVar5 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar5 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(lVar5 + 0x98) + *(long *)(lVar5 + 0x58)) -
                               *(long *)(lVar5 + 0x50)) - *(long *)(lVar5 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar5 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(lVar5 + 0xb0) + *(long *)(lVar5 + 0x70);
          UNLOCK();
          *(undefined8 *)(lVar5 + 0x48) = 0;
          *(undefined8 *)(lVar5 + 0x58) = 0;
          *(undefined8 *)(lVar5 + 0x50) = 0;
          *(undefined8 *)(lVar5 + 0x68) = 0;
          *(undefined8 *)(lVar5 + 0x70) = 0;
          *(undefined8 *)(lVar5 + 0x60) = 0;
          *(undefined8 *)(lVar5 + 0x88) = 0;
          *(undefined8 *)(lVar5 + 0x98) = 0;
          *(undefined8 *)(lVar5 + 0x90) = 0;
          *(undefined8 *)(lVar5 + 0xa8) = 0;
          *(undefined8 *)(lVar5 + 0xb0) = 0;
          *(undefined8 *)(lVar5 + 0xa0) = 0;
          LOCK();
          *(undefined8 *)(lVar5 + 8) = 0;
          UNLOCK();
        }
        plVar8 = plVar8 + 1;
        embree::MutexSys::unlock();
        if (plVar3 == plVar8) goto LAB_00119ac8;
      }
      plVar8 = plVar8 + 1;
    } while (plVar3 != plVar8);
LAB_00119ac8:
    if (*(long *)(this + 0x130) != *(long *)(this + 0x138)) {
      *(long *)(this + 0x138) = *(long *)(this + 0x130);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::FastAllocator::init_estimate(unsigned long) */

void __thiscall embree::FastAllocator::init_estimate(FastAllocator *this,ulong param_1)

{
  FastAllocator *pFVar1;
  long lVar2;
  FastAllocator *pFVar3;
  ulong uVar4;
  ulong uVar5;
  ulong uVar6;
  
  pFVar3 = this + 0xb8;
  pFVar1 = this + 0xf8;
  do {
    while (*(long *)pFVar3 != 0) {
      lVar2 = *(long *)(*(long *)pFVar3 + 0x18);
      *(long *)(*(long *)pFVar3 + 0x18) = *(long *)pFVar1;
      LOCK();
      *(long *)pFVar1 = *(long *)pFVar3;
      UNLOCK();
      LOCK();
      *(long *)pFVar3 = lVar2;
      UNLOCK();
    }
    LOCK();
    *(long *)pFVar3 = 0;
    UNLOCK();
    pFVar3 = pFVar3 + 8;
  } while (pFVar1 != pFVar3);
  if ((*(long *)(this + 0xf8) != 0) || (*(long *)(this + 0x100) != 0)) {
    reset(this);
    return;
  }
  *(ulong *)(this + 0x18) = param_1;
  uVar6 = 3;
  this[0x10a] = (FastAllocator)0x0;
  uVar5 = param_1 / 0x14 + 0x7f & 0xffffffffffffff80;
  uVar4 = 0x1fffc0;
  if (uVar5 < 0x1fffc1) {
    uVar4 = uVar5;
  }
  if (uVar4 < 0x400) {
    uVar4 = 0x400;
  }
  *(ulong *)(this + 0x28) = uVar4;
  *(ulong *)(this + 0x20) = uVar4;
  if (param_1 <= uVar4 * 0x50) {
    uVar6 = (ulong)(uVar4 * 0x28 < param_1);
  }
  *(ulong *)(this + 8) = uVar6;
  if (uVar4 * 0xa0 < param_1) {
    *(undefined8 *)(this + 8) = 7;
    if (uVar4 * 0x140 < param_1) {
LAB_00119cb5:
      *(undefined8 *)(this + 0x10) = 0x1040;
      *(ulong *)(this + 0x20) = uVar4 * 2;
      goto LAB_00119c21;
    }
  }
  else {
    if (uVar4 * 0x140 < param_1) goto LAB_00119cb5;
    if (0x1040 < uVar5) {
      uVar5 = 0x1040;
    }
    if (uVar5 < 0x400) {
      uVar5 = 0x400;
    }
    *(ulong *)(this + 0x10) = uVar5;
    if (param_1 != 0) goto LAB_00119c21;
    *(undefined8 *)(this + 0x28) = 0x1fffc0;
  }
  *(undefined8 *)(this + 0x10) = 0x1040;
LAB_00119c21:
  LOCK();
  *(undefined8 *)(this + 0x110) = 0;
  UNLOCK();
  lVar2 = *(long *)this;
  if (*(long *)(lVar2 + 0x4e0) != 0) {
    *(long *)(this + 0x20) = *(long *)(lVar2 + 0x4e0);
  }
  if ((((0 < *(int *)(lVar2 + 0x4e8)) &&
       (*(undefined8 *)(this + 8) = 0, 1 < *(int *)(lVar2 + 0x4e8))) &&
      (*(undefined8 *)(this + 8) = 1, 3 < *(int *)(lVar2 + 0x4e8))) &&
     (*(undefined8 *)(this + 8) = 3, 7 < *(int *)(lVar2 + 0x4e8))) {
    *(undefined8 *)(this + 8) = 7;
  }
  if (*(long *)(lVar2 + 0x4f0) != 0) {
    *(long *)(this + 0x10) = *(long *)(lVar2 + 0x4f0);
  }
  if (*(int *)(lVar2 + 0x4f8) != -1) {
    this[0x10a] = (FastAllocator)(*(int *)(lVar2 + 0x4f8) != 0);
  }
  return;
}



/* embree::FastAllocator::Block::create(embree::Device*, bool, unsigned long, unsigned long,
   embree::FastAllocator::Block*, embree::FastAllocator::AllocationType) */

undefined8 *
embree::FastAllocator::Block::create
          (long *param_1,char param_2,ulong param_3,long param_4,undefined8 param_5,int param_6)

{
  undefined8 *puVar1;
  ulong uVar2;
  void *pvVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  bool local_31;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_6 == 1) {
    if (0x1fffbf < param_3) {
      uVar2 = param_3 + 0x103f & 0xfffffffffffff000;
      if (param_1 != (long *)0x0) {
        (**(code **)(*param_1 + 0x20))(param_1,uVar2,0);
      }
      uVar4 = param_4 + 0x103fU & 0xfffffffffffff000;
      puVar1 = (undefined8 *)embree::os_malloc(uVar4,&local_31);
      *puVar1 = 0;
      puVar1[1] = uVar2 - 0x40;
      puVar1[2] = uVar4 - 0x40;
      puVar1[3] = param_5;
      puVar1[4] = 0;
      *(undefined4 *)(puVar1 + 5) = 1;
      *(bool *)((long)puVar1 + 0x2c) = local_31;
      goto LAB_00119da0;
    }
  }
  else {
    puVar1 = (undefined8 *)0x0;
    if (param_6 != 0) goto LAB_00119da0;
    if (param_3 == 0x3fffc0) {
      if (param_1 != (long *)0x0) {
        (**(code **)(*param_1 + 0x20))(param_1,0x400040,0);
      }
      if (param_2 == '\0') {
        puVar1 = (undefined8 *)embree::alignedMalloc(0x400000,0x40);
      }
      else {
        puVar1 = (undefined8 *)(**(code **)(*param_1 + 0x38))(param_1,0x400000,0x40);
      }
      pvVar3 = (void *)((ulong)puVar1 & 0xffffffffffe00000);
      embree::os_advise(pvVar3,0x200000);
      embree::os_advise((void *)((long)pvVar3 + 0x200000),0x200000);
      embree::os_advise((void *)((long)pvVar3 + 0x400000),0x200000);
      *puVar1 = 0;
      puVar1[1] = 0x3fffc0;
      puVar1[2] = 0x3fffc0;
      puVar1[3] = param_5;
      puVar1[4] = 0x40;
      *(undefined4 *)(puVar1 + 5) = 0;
      *(undefined1 *)((long)puVar1 + 0x2c) = 0;
      goto LAB_00119da0;
    }
  }
  if (param_1 != (long *)0x0) {
    (**(code **)(*param_1 + 0x20))(param_1,param_3 + 0x80,0);
  }
  if (param_2 == '\0') {
    puVar1 = (undefined8 *)embree::alignedMalloc(param_3 + 0x40,0x40);
  }
  else {
    puVar1 = (undefined8 *)(**(code **)(*param_1 + 0x38))(param_1,param_3 + 0x40,0x40);
  }
  *puVar1 = 0;
  puVar1[1] = param_3;
  puVar1[2] = param_3;
  puVar1[3] = param_5;
  puVar1[4] = 0x40;
  *(undefined4 *)(puVar1 + 5) = 0;
  *(undefined1 *)((long)puVar1 + 0x2c) = 0;
LAB_00119da0:
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return puVar1;
}



/* embree::FastAllocator::malloc(unsigned long&, unsigned long, bool) */

void __thiscall
embree::FastAllocator::malloc(FastAllocator *this,ulong *param_1,ulong param_2,bool param_3)

{
  FastAllocator *pFVar1;
  long lVar2;
  ulong *puVar3;
  ulong uVar4;
  ulong uVar5;
  ulong uVar6;
  undefined8 uVar7;
  FastAllocator *pFVar8;
  undefined8 *puVar9;
  undefined4 uVar10;
  
  do {
    uVar4 = embree::TaskScheduler::threadID();
    lVar2 = (uVar4 & *(ulong *)(this + 8)) * 8;
    pFVar1 = this + lVar2 + 0x78;
    puVar3 = *(ulong **)pFVar1;
    if (puVar3 != (ulong *)0x0) {
      puVar9 = *(undefined8 **)this;
      if (puVar9 != (undefined8 *)0x0) {
        puVar9 = puVar9 + 0xa9;
      }
      uVar4 = -param_2 & (param_2 - 1) + *param_1;
      if (puVar3[2] < *puVar3 + uVar4) {
        if (param_3) {
          LOCK();
          uVar6 = *puVar3;
          *puVar3 = *puVar3 + uVar4;
          UNLOCK();
          goto LAB_00119fea;
        }
      }
      else {
        LOCK();
        uVar6 = *puVar3;
        *puVar3 = *puVar3 + uVar4;
        UNLOCK();
        if ((uVar4 + uVar6 <= puVar3[2]) || (param_3)) {
LAB_00119fea:
          if (uVar6 <= puVar3[2]) {
            uVar5 = puVar3[2] - uVar6;
            if (uVar4 < puVar3[2] - uVar6) {
              uVar5 = uVar4;
            }
            *param_1 = uVar5;
            if ((puVar9 != (undefined8 *)0x0) && (puVar3[1] < uVar5 + uVar6)) {
              uVar4 = puVar3[1];
              if (puVar3[1] <= uVar6) {
                uVar4 = uVar6;
              }
              (**(code **)*puVar9)(puVar9,(uVar5 + uVar6) - uVar4,1);
            }
            if ((long)puVar3 + uVar6 + 0x40 != 0) {
              return;
            }
          }
        }
      }
      if (this[0x109] == (FastAllocator)0x0) {
LAB_0011a1fa:
                    /* WARNING: Subroutine does not return */
        abort();
      }
    }
    if (0x1fffc0 < *param_1) goto LAB_0011a1fa;
    if (*(long *)(this + 0x100) == 0) {
      embree::MutexSys::lock();
      if (puVar3 == *(ulong **)pFVar1) {
        pFVar8 = this + lVar2 + 0xb8;
        uVar10 = *(undefined4 *)(this + 0x148);
        uVar4 = (param_2 - 1) + *param_1 & -param_2;
        uVar6 = *(ulong *)(this + 0x28);
        if (*(ulong *)(this + 0x20) < *(ulong *)(this + 0x28)) {
          uVar6 = *(ulong *)(this + 0x20);
        }
        uVar7 = *(undefined8 *)pFVar8;
        if (uVar4 < uVar6) {
          uVar4 = uVar6;
        }
LAB_0011a0c4:
        uVar7 = Block::create(*(undefined8 *)this,this[0x108],uVar4,uVar4,uVar7,uVar10);
        LOCK();
        *(undefined8 *)pFVar1 = uVar7;
        UNLOCK();
        LOCK();
        *(undefined8 *)pFVar8 = uVar7;
        UNLOCK();
      }
    }
    else {
      embree::MutexSys::lock();
      if (puVar3 == *(ulong **)pFVar1) {
        if (*(long *)(this + 0x100) == 0) {
          LOCK();
          pFVar8 = this + 0x110;
          lVar2 = *(long *)pFVar8;
          *(long *)pFVar8 = *(long *)pFVar8 + 1;
          UNLOCK();
          uVar10 = *(undefined4 *)(this + 0x148);
          uVar7 = *(undefined8 *)(this + 0xf8);
          pFVar8 = this + 0xf8;
          uVar4 = 0x10;
          if (lVar2 + 1U < 0x11) {
            uVar4 = lVar2 + 1U;
          }
          uVar4 = *(long *)(this + 0x20) << ((byte)uVar4 & 0x3f);
          if (*(ulong *)(this + 0x28) < uVar4) {
            uVar4 = *(ulong *)(this + 0x28);
          }
          goto LAB_0011a0c4;
        }
        uVar7 = *(undefined8 *)(*(long *)(this + 0x100) + 0x18);
        *(undefined8 *)(*(long *)(this + 0x100) + 0x18) = *(undefined8 *)(this + 0xf8);
        LOCK();
        *(undefined8 *)(this + 0xf8) = *(undefined8 *)(this + 0x100);
        UNLOCK();
        LOCK();
        *(undefined8 *)pFVar1 = *(undefined8 *)(this + 0x100);
        UNLOCK();
        LOCK();
        *(undefined8 *)(this + 0x100) = uVar7;
        UNLOCK();
      }
    }
    embree::MutexSys::unlock();
  } while( true );
}



/* WARNING: Control flow encountered bad instruction data */
/* void std::vector<embree::FastAllocator::ThreadLocal2*,
   std::allocator<embree::FastAllocator::ThreadLocal2*>
   >::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*
   const&>(__gnu_cxx::__normal_iterator<embree::FastAllocator::ThreadLocal2**,
   std::vector<embree::FastAllocator::ThreadLocal2*,
   std::allocator<embree::FastAllocator::ThreadLocal2*> > >, embree::FastAllocator::ThreadLocal2*
   const&) */

void __thiscall
std::
vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>::
_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
          (vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
           *this,void *param_2,undefined8 *param_3)

{
  void *__src;
  ulong uVar1;
  void *pvVar2;
  void *__dest;
  size_t __n;
  long lVar3;
  ulong uVar4;
  size_t __n_00;
  
  pvVar2 = *(void **)(this + 8);
  __src = *(void **)this;
  uVar1 = (long)pvVar2 - (long)__src >> 3;
  if (uVar1 == 0xfffffffffffffff) {
    std::__throw_length_error("vector::_M_realloc_insert");
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  __n = (long)param_2 - (long)__src;
  if (__src == pvVar2) {
    if (0xfffffffffffffffe < uVar1) goto LAB_0011a300;
    uVar4 = 0xfffffffffffffff;
    if (uVar1 + 1 < 0x1000000000000000) {
      uVar4 = uVar1 + 1;
    }
    uVar4 = uVar4 << 3;
  }
  else {
    uVar4 = uVar1 * 2;
    if (uVar4 < uVar1) {
LAB_0011a300:
      uVar4 = 0x7ffffffffffffff8;
    }
    else {
      if (uVar4 == 0) {
        lVar3 = 0;
        __dest = (void *)0x0;
        goto LAB_0011a289;
      }
      if (0xfffffffffffffff < uVar4) {
        uVar4 = 0xfffffffffffffff;
      }
      uVar4 = uVar4 * 8;
    }
  }
  __dest = operator_new(uVar4);
  lVar3 = uVar4 + (long)__dest;
LAB_0011a289:
  *(undefined8 *)((long)__dest + __n) = *param_3;
  if (0 < (long)__n) {
    memmove(__dest,__src,__n);
  }
  __n_00 = (long)pvVar2 - (long)param_2;
  pvVar2 = (void *)((long)__dest + __n + 8);
  if (0 < (long)__n_00) {
    pvVar2 = memmove(pvVar2,param_2,__n_00);
  }
  if (__src != (void *)0x0) {
    operator_delete(__src,*(long *)(this + 0x10) - (long)__src);
  }
  *(void **)this = __dest;
  *(size_t *)(this + 8) = __n_00 + (long)pvVar2;
  *(long *)(this + 0x10) = lVar3;
  return;
}



/* WARNING: Control flow encountered bad instruction data */
/* void std::vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >,
   std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> > >
   >::_M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >
   >(__gnu_cxx::__normal_iterator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >*,
   std::vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >,
   std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> > > > >,
   std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >&&) */

void __thiscall
std::
vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
::
_M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
          (vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
           *this,undefined8 *param_2,undefined8 *param_3)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  ulong uVar8;
  undefined8 *puVar9;
  long lVar10;
  
  puVar5 = *(undefined8 **)(this + 8);
  puVar1 = *(undefined8 **)this;
  uVar3 = (long)puVar5 - (long)puVar1 >> 3;
  if (uVar3 == 0xfffffffffffffff) {
    std::__throw_length_error("vector::_M_realloc_insert");
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  if (puVar1 == puVar5) {
    if (0xfffffffffffffffe < uVar3) goto LAB_0011a490;
    uVar8 = 0xfffffffffffffff;
    if (uVar3 + 1 < 0x1000000000000000) {
      uVar8 = uVar3 + 1;
    }
    uVar8 = uVar8 << 3;
LAB_0011a49a:
    puVar7 = (undefined8 *)operator_new(uVar8);
    lVar10 = uVar8 + (long)puVar7;
    *(undefined8 *)((long)puVar7 + ((long)param_2 - (long)puVar1)) = *param_3;
    puVar4 = puVar7 + 1;
    *param_3 = 0;
    if (param_2 != puVar1) {
LAB_0011a401:
      puVar4 = puVar1;
      puVar9 = puVar7;
      do {
        uVar2 = *puVar4;
        puVar4 = puVar4 + 1;
        *puVar9 = uVar2;
        puVar9 = puVar9 + 1;
      } while (puVar4 != param_2);
      puVar4 = (undefined8 *)((long)puVar7 + (long)param_2 + (8 - (long)puVar1));
    }
    if (param_2 == puVar5) goto LAB_0011a454;
  }
  else {
    uVar8 = uVar3 * 2;
    if (uVar8 < uVar3) {
LAB_0011a490:
      uVar8 = 0x7ffffffffffffff8;
      goto LAB_0011a49a;
    }
    if (uVar8 != 0) {
      if (0xfffffffffffffff < uVar8) {
        uVar8 = 0xfffffffffffffff;
      }
      uVar8 = uVar8 * 8;
      goto LAB_0011a49a;
    }
    lVar10 = 0;
    puVar7 = (undefined8 *)0x0;
    *(undefined8 *)((long)param_2 - (long)puVar1) = *param_3;
    puVar4 = (undefined8 *)&DAT_00000008;
    *param_3 = 0;
    if (param_2 != puVar1) goto LAB_0011a401;
  }
  puVar9 = (undefined8 *)(((long)puVar5 - (long)param_2) + (long)puVar4);
  puVar5 = puVar4;
  do {
    uVar2 = *param_2;
    puVar6 = puVar5 + 1;
    param_2 = param_2 + 1;
    *puVar5 = uVar2;
    puVar5 = puVar6;
    puVar4 = puVar9;
  } while (puVar6 != puVar9);
LAB_0011a454:
  if (puVar1 != (undefined8 *)0x0) {
    operator_delete(puVar1,*(long *)(this + 0x10) - (long)puVar1);
  }
  *(undefined8 **)this = puVar7;
  *(undefined8 **)(this + 8) = puVar4;
  *(long *)(this + 0x10) = lVar10;
  return;
}



/* embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::
bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)
::{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined1 auVar1 [16];
  int *piVar2;
  ulong uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  float fVar6;
  uint uVar7;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var8;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var9;
  long lVar10;
  long *in_RDX;
  undefined1 (*pauVar11) [16];
  ulong uVar12;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var13;
  ulong uVar14;
  ulong uVar15;
  undefined1 (*pauVar16) [16];
  bool bVar17;
  uint uVar18;
  uint uVar19;
  uint uVar20;
  uint uVar21;
  uint uVar25;
  uint uVar26;
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar27 [16];
  uint uVar28;
  uint uVar29;
  
  uVar5 = _LC3;
  uVar4 = _LC1;
  p_Var9 = this;
  p_Var13 = this + 0xc00;
  do {
    *(undefined4 *)(p_Var9 + 0x40) = uVar4;
    *(undefined4 *)(p_Var9 + 0x44) = uVar4;
    *(undefined4 *)(p_Var9 + 0x48) = uVar4;
    *(undefined4 *)(p_Var9 + 0x4c) = uVar4;
    p_Var8 = p_Var9 + 0x60;
    *(undefined4 *)(p_Var9 + 0x50) = uVar5;
    *(undefined4 *)(p_Var9 + 0x54) = uVar5;
    *(undefined4 *)(p_Var9 + 0x58) = uVar5;
    *(undefined4 *)(p_Var9 + 0x5c) = uVar5;
    *(undefined4 *)(p_Var9 + 0x20) = uVar4;
    *(undefined4 *)(p_Var9 + 0x24) = uVar4;
    *(undefined4 *)(p_Var9 + 0x28) = uVar4;
    *(undefined4 *)(p_Var9 + 0x2c) = uVar4;
    *(undefined4 *)(p_Var9 + 0x30) = uVar5;
    *(undefined4 *)(p_Var9 + 0x34) = uVar5;
    *(undefined4 *)(p_Var9 + 0x38) = uVar5;
    *(undefined4 *)(p_Var9 + 0x3c) = uVar5;
    *(undefined4 *)p_Var9 = uVar4;
    *(undefined4 *)(p_Var9 + 4) = uVar4;
    *(undefined4 *)(p_Var9 + 8) = uVar4;
    *(undefined4 *)(p_Var9 + 0xc) = uVar4;
    *(undefined4 *)(p_Var9 + 0x10) = uVar5;
    *(undefined4 *)(p_Var9 + 0x14) = uVar5;
    *(undefined4 *)(p_Var9 + 0x18) = uVar5;
    *(undefined4 *)(p_Var9 + 0x1c) = uVar5;
    *(undefined1 (*) [16])p_Var13 = (undefined1  [16])0x0;
    fVar6 = _LC5;
    p_Var9 = p_Var8;
    p_Var13 = p_Var13 + 0x10;
  } while (this + 0xc00 != p_Var8);
  piVar2 = *(int **)(param_1 + 8);
  pauVar16 = (undefined1 (*) [16])(*in_RDX * 0x20 + **(long **)param_1);
  uVar15 = in_RDX[1] - *in_RDX;
  if (uVar15 == 0) {
    return this;
  }
  if (uVar15 != 1) {
    pauVar11 = pauVar16;
    do {
      auVar23 = pauVar11[1];
      auVar22 = *pauVar11;
      auVar24 = pauVar11[3];
      auVar1 = pauVar11[2];
      uVar7 = *piVar2 - 1;
      uVar18 = (uint)(((auVar23._0_4_ + auVar22._0_4_) - (float)piVar2[4]) * (float)piVar2[8] +
                     fVar6);
      uVar19 = (uint)(((auVar23._4_4_ + auVar22._4_4_) - (float)piVar2[5]) * (float)piVar2[9] +
                     fVar6);
      uVar20 = (uint)(((auVar23._8_4_ + auVar22._8_4_) - (float)piVar2[6]) * (float)piVar2[10] +
                     fVar6);
      uVar21 = -(uint)((int)uVar18 < (int)uVar7);
      uVar25 = -(uint)((int)uVar19 < (int)uVar7);
      uVar26 = -(uint)((int)uVar20 < (int)uVar7);
      uVar18 = uVar18 & uVar21 | ~uVar21 & uVar7;
      uVar19 = uVar19 & uVar25 | ~uVar25 & uVar7;
      uVar21 = uVar20 & uVar26 | ~uVar26 & uVar7;
      uVar12 = (ulong)(~-(uint)((int)uVar18 < 0) & uVar18);
      p_Var9 = this + uVar12 * 0x60;
      uVar18 = (uint)(((auVar24._0_4_ + auVar1._0_4_) - (float)piVar2[4]) * (float)piVar2[8] + fVar6
                     );
      uVar20 = (uint)(((auVar24._4_4_ + auVar1._4_4_) - (float)piVar2[5]) * (float)piVar2[9] + fVar6
                     );
      uVar25 = (uint)(((auVar24._8_4_ + auVar1._8_4_) - (float)piVar2[6]) * (float)piVar2[10] +
                     fVar6);
      uVar26 = -(uint)((int)uVar18 < (int)uVar7);
      uVar28 = -(uint)((int)uVar20 < (int)uVar7);
      uVar29 = -(uint)((int)uVar25 < (int)uVar7);
      uVar18 = uVar26 & uVar18 | ~uVar26 & uVar7;
      uVar20 = uVar28 & uVar20 | ~uVar28 & uVar7;
      uVar7 = uVar29 & uVar25 | ~uVar29 & uVar7;
      auVar27 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
      *(undefined1 (*) [16])p_Var9 = auVar27;
      auVar27 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar27;
      uVar14 = (ulong)(~-(uint)((int)uVar19 < 0) & uVar19);
      p_Var9 = this + uVar14 * 0x60 + 0x20;
      auVar27 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
      *(undefined1 (*) [16])p_Var9 = auVar27;
      auVar27 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar27;
      uVar3 = (ulong)(~-(uint)((int)uVar21 < 0) & uVar21);
      p_Var9 = this + uVar3 * 0x60 + 0x40;
      auVar22 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
      *(undefined1 (*) [16])p_Var9 = auVar22;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      *(int *)(this + uVar12 * 0x10 + 0xc00) = *(int *)(this + uVar12 * 0x10 + 0xc00) + 1;
      uVar12 = (ulong)(~-(uint)((int)uVar18 < 0) & uVar18);
      *(int *)(this + uVar14 * 0x10 + 0xc04) = *(int *)(this + uVar14 * 0x10 + 0xc04) + 1;
      *(int *)(this + uVar3 * 0x10 + 0xc08) = *(int *)(this + uVar3 * 0x10 + 0xc08) + 1;
      p_Var9 = this + uVar12 * 0x60;
      auVar23 = minps(*(undefined1 (*) [16])p_Var9,auVar1);
      *(undefined1 (*) [16])p_Var9 = auVar23;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      uVar14 = (ulong)(~-(uint)((int)uVar20 < 0) & uVar20);
      p_Var9 = this + uVar14 * 0x60 + 0x20;
      auVar23 = minps(*(undefined1 (*) [16])p_Var9,auVar1);
      *(undefined1 (*) [16])p_Var9 = auVar23;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      uVar3 = (ulong)(~-(uint)((int)uVar7 < 0) & uVar7);
      p_Var9 = this + uVar3 * 0x60 + 0x40;
      auVar23 = minps(*(undefined1 (*) [16])p_Var9,auVar1);
      *(undefined1 (*) [16])p_Var9 = auVar23;
      auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar24);
      *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
      *(int *)(this + uVar12 * 0x10 + 0xc00) = *(int *)(this + uVar12 * 0x10 + 0xc00) + 1;
      *(int *)(this + uVar14 * 0x10 + 0xc04) = *(int *)(this + uVar14 * 0x10 + 0xc04) + 1;
      *(int *)(this + uVar3 * 0x10 + 0xc08) = *(int *)(this + uVar3 * 0x10 + 0xc08) + 1;
      bVar17 = pauVar16 + (uVar15 - 2 >> 1) * 4 != pauVar11;
      pauVar11 = pauVar11 + 4;
    } while (bVar17);
    uVar14 = (uVar15 - 2 & 0xfffffffffffffffe) + 2;
    if (uVar15 <= uVar14) {
      return this;
    }
    pauVar16 = pauVar16 + uVar14 * 2;
  }
  auVar23 = pauVar16[1];
  auVar22 = *pauVar16;
  uVar7 = (int)*(undefined8 *)piVar2 - 1;
  uVar18 = (uint)(((auVar23._0_4_ + auVar22._0_4_) - (float)piVar2[4]) * (float)piVar2[8] + fVar6);
  uVar19 = (uint)(((auVar23._4_4_ + auVar22._4_4_) - (float)piVar2[5]) * (float)piVar2[9] + fVar6);
  uVar20 = (uint)(((auVar23._8_4_ + auVar22._8_4_) - (float)piVar2[6]) * (float)piVar2[10] + fVar6);
  uVar21 = -(uint)((int)uVar18 < (int)uVar7);
  uVar25 = -(uint)((int)uVar19 < (int)uVar7);
  uVar26 = -(uint)((int)uVar20 < (int)uVar7);
  uVar18 = uVar21 & uVar18 | ~uVar21 & uVar7;
  uVar19 = uVar25 & uVar19 | ~uVar25 & uVar7;
  uVar7 = uVar26 & uVar20 | ~uVar26 & uVar7;
  lVar10 = (long)(int)(~-(uint)((int)uVar18 < 0) & uVar18);
  p_Var9 = this + lVar10 * 0x60;
  *(int *)(this + lVar10 * 0x10 + 0xc00) = *(int *)(this + lVar10 * 0x10 + 0xc00) + 1;
  auVar24 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
  *(undefined1 (*) [16])p_Var9 = auVar24;
  auVar24 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
  *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar24;
  lVar10 = (long)(int)(~-(uint)((int)uVar19 < 0) & uVar19);
  p_Var9 = this + lVar10 * 0x60 + 0x20;
  *(int *)(this + lVar10 * 0x10 + 0xc04) = *(int *)(this + lVar10 * 0x10 + 0xc04) + 1;
  auVar24 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
  *(undefined1 (*) [16])p_Var9 = auVar24;
  auVar24 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
  *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar24;
  lVar10 = (long)(int)(~-(uint)((int)uVar7 < 0) & uVar7);
  p_Var9 = this + lVar10 * 0x60 + 0x40;
  *(int *)(this + lVar10 * 0x10 + 0xc08) = *(int *)(this + lVar10 * 0x10 + 0xc08) + 1;
  auVar22 = minps(*(undefined1 (*) [16])p_Var9,auVar22);
  *(undefined1 (*) [16])p_Var9 = auVar22;
  auVar23 = maxps(*(undefined1 (*) [16])(p_Var9 + 0x10),auVar23);
  *(undefined1 (*) [16])(p_Var9 + 0x10) = auVar23;
  return this;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, long,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> >*, long,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,
   embree::sse2::BinSplit<32ul> > > >) */

void std::
     __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
               (undefined8 *param_1,undefined8 *param_2,long param_3)

{
  long *plVar1;
  long *plVar2;
  undefined1 uVar3;
  undefined8 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined8 uVar21;
  long lVar22;
  ulong uVar23;
  undefined8 *puVar24;
  undefined8 *puVar25;
  ulong uVar26;
  long lVar27;
  long lVar28;
  long lVar29;
  undefined8 *puVar30;
  ulong uVar31;
  undefined8 *puVar32;
  long in_FS_OFFSET;
  undefined8 local_98;
  undefined1 local_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined4 local_68;
  undefined4 uStack_64;
  undefined4 uStack_60;
  undefined4 uStack_5c;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined8 local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  lVar22 = (long)param_2 - (long)param_1;
  if (0x600 < lVar22) {
    puVar32 = param_1 + 0xc;
    puVar30 = param_2;
    if (param_3 != 0) {
      do {
        uVar4 = *param_1;
        param_3 = param_3 + -1;
        uVar23 = (lVar22 >> 5) * -0x5555555555555555;
        uVar3 = *(undefined1 *)(param_1 + 1);
        uVar26 = param_1[0x17] - param_1[0x16];
        uVar5 = *(undefined4 *)(param_1 + 2);
        uVar6 = *(undefined4 *)((long)param_1 + 0x14);
        uVar7 = *(undefined4 *)(param_1 + 3);
        uVar8 = *(undefined4 *)((long)param_1 + 0x1c);
        uVar9 = *(undefined4 *)(param_1 + 4);
        uVar10 = *(undefined4 *)((long)param_1 + 0x24);
        uVar11 = *(undefined4 *)(param_1 + 5);
        uVar12 = *(undefined4 *)((long)param_1 + 0x2c);
        uVar13 = *(undefined4 *)(param_1 + 6);
        uVar14 = *(undefined4 *)((long)param_1 + 0x34);
        uVar15 = *(undefined4 *)(param_1 + 7);
        uVar16 = *(undefined4 *)((long)param_1 + 0x3c);
        lVar22 = param_1[10];
        lVar28 = param_1[0xb];
        uVar17 = *(undefined4 *)(param_1 + 8);
        uVar18 = *(undefined4 *)((long)param_1 + 0x44);
        uVar19 = *(undefined4 *)(param_1 + 9);
        uVar20 = *(undefined4 *)((long)param_1 + 0x4c);
        uVar31 = puVar30[-1] - puVar30[-2];
        puVar25 = param_1 + ((uVar23 & 0xfffffffffffffffe) + ((long)uVar23 >> 1)) * 4;
        uVar23 = puVar25[0xb] - puVar25[10];
        puVar24 = puVar30;
        param_2 = puVar32;
        if (uVar23 < uVar26) {
          if (uVar31 < uVar23) {
            *param_1 = *puVar25;
            *(undefined1 *)(param_1 + 1) = *(undefined1 *)(puVar25 + 1);
            uVar21 = puVar25[3];
            param_1[2] = puVar25[2];
            param_1[3] = uVar21;
            uVar21 = puVar25[5];
            param_1[4] = puVar25[4];
            param_1[5] = uVar21;
            uVar21 = puVar25[7];
            param_1[6] = puVar25[6];
            param_1[7] = uVar21;
            uVar21 = puVar25[9];
            param_1[8] = puVar25[8];
            param_1[9] = uVar21;
            uVar21 = puVar25[0xb];
            param_1[10] = puVar25[10];
            param_1[0xb] = uVar21;
LAB_0011abec:
            *puVar25 = uVar4;
            *(undefined1 *)(puVar25 + 1) = uVar3;
            puVar25[10] = lVar22;
            puVar25[0xb] = lVar28;
            *(undefined4 *)(puVar25 + 2) = uVar5;
            *(undefined4 *)((long)puVar25 + 0x14) = uVar6;
            *(undefined4 *)(puVar25 + 3) = uVar7;
            *(undefined4 *)((long)puVar25 + 0x1c) = uVar8;
            *(undefined4 *)(puVar25 + 4) = uVar9;
            *(undefined4 *)((long)puVar25 + 0x24) = uVar10;
            *(undefined4 *)(puVar25 + 5) = uVar11;
            *(undefined4 *)((long)puVar25 + 0x2c) = uVar12;
            *(undefined4 *)(puVar25 + 6) = uVar13;
            *(undefined4 *)((long)puVar25 + 0x34) = uVar14;
            *(undefined4 *)(puVar25 + 7) = uVar15;
            *(undefined4 *)((long)puVar25 + 0x3c) = uVar16;
            *(undefined4 *)(puVar25 + 8) = uVar17;
            *(undefined4 *)((long)puVar25 + 0x44) = uVar18;
            *(undefined4 *)(puVar25 + 9) = uVar19;
            *(undefined4 *)((long)puVar25 + 0x4c) = uVar20;
            lVar29 = param_1[0x17];
            lVar27 = param_1[0x16];
            lVar28 = puVar30[-1];
            lVar22 = puVar30[-2];
          }
          else {
            if (uVar26 <= uVar31) {
              *param_1 = param_1[0xc];
              param_1[2] = param_1[0xe];
              param_1[3] = param_1[0xf];
              param_1[4] = param_1[0x10];
              param_1[5] = param_1[0x11];
              *(undefined1 *)(param_1 + 1) = *(undefined1 *)(param_1 + 0xd);
              param_1[6] = param_1[0x12];
              param_1[7] = param_1[0x13];
              param_1[8] = param_1[0x14];
              param_1[9] = param_1[0x15];
              param_1[10] = param_1[0x16];
              param_1[0xb] = param_1[0x17];
              goto LAB_0011aa3e;
            }
LAB_0011ac26:
            *param_1 = puVar30[-0xc];
            *(undefined1 *)(param_1 + 1) = *(undefined1 *)(puVar30 + -0xb);
            uVar21 = puVar30[-9];
            param_1[2] = puVar30[-10];
            param_1[3] = uVar21;
            uVar21 = puVar30[-7];
            param_1[4] = puVar30[-8];
            param_1[5] = uVar21;
            uVar21 = puVar30[-5];
            param_1[6] = puVar30[-6];
            param_1[7] = uVar21;
            uVar21 = puVar30[-3];
            param_1[8] = puVar30[-4];
            param_1[9] = uVar21;
            uVar21 = puVar30[-1];
            param_1[10] = puVar30[-2];
            param_1[0xb] = uVar21;
            *(undefined1 *)(puVar30 + -0xb) = uVar3;
            puVar30[-0xc] = uVar4;
            puVar30[-2] = lVar22;
            puVar30[-1] = lVar28;
            *(undefined4 *)(puVar30 + -10) = uVar5;
            *(undefined4 *)((long)puVar30 + -0x4c) = uVar6;
            *(undefined4 *)(puVar30 + -9) = uVar7;
            *(undefined4 *)((long)puVar30 + -0x44) = uVar8;
            *(undefined4 *)(puVar30 + -8) = uVar9;
            *(undefined4 *)((long)puVar30 + -0x3c) = uVar10;
            *(undefined4 *)(puVar30 + -7) = uVar11;
            *(undefined4 *)((long)puVar30 + -0x34) = uVar12;
            *(undefined4 *)(puVar30 + -6) = uVar13;
            *(undefined4 *)((long)puVar30 + -0x2c) = uVar14;
            *(undefined4 *)(puVar30 + -5) = uVar15;
            *(undefined4 *)((long)puVar30 + -0x24) = uVar16;
            *(undefined4 *)(puVar30 + -4) = uVar17;
            *(undefined4 *)((long)puVar30 + -0x1c) = uVar18;
            *(undefined4 *)(puVar30 + -3) = uVar19;
            *(undefined4 *)((long)puVar30 + -0x14) = uVar20;
            lVar27 = param_1[0x16];
            lVar29 = param_1[0x17];
          }
        }
        else {
          if (uVar26 <= uVar31) {
            if (uVar31 < uVar23) goto LAB_0011ac26;
            *param_1 = *puVar25;
            *(undefined1 *)(param_1 + 1) = *(undefined1 *)(puVar25 + 1);
            uVar21 = puVar25[3];
            param_1[2] = puVar25[2];
            param_1[3] = uVar21;
            uVar21 = puVar25[5];
            param_1[4] = puVar25[4];
            param_1[5] = uVar21;
            uVar21 = puVar25[7];
            param_1[6] = puVar25[6];
            param_1[7] = uVar21;
            uVar21 = puVar25[9];
            param_1[8] = puVar25[8];
            param_1[9] = uVar21;
            uVar21 = puVar25[0xb];
            param_1[10] = puVar25[10];
            param_1[0xb] = uVar21;
            goto LAB_0011abec;
          }
          *param_1 = param_1[0xc];
          param_1[2] = param_1[0xe];
          param_1[3] = param_1[0xf];
          param_1[4] = param_1[0x10];
          param_1[5] = param_1[0x11];
          *(undefined1 *)(param_1 + 1) = *(undefined1 *)(param_1 + 0xd);
          param_1[6] = param_1[0x12];
          param_1[7] = param_1[0x13];
          param_1[8] = param_1[0x14];
          param_1[9] = param_1[0x15];
          param_1[10] = param_1[0x16];
          param_1[0xb] = param_1[0x17];
LAB_0011aa3e:
          param_1[0xc] = uVar4;
          *(undefined1 *)(param_1 + 0xd) = uVar3;
          param_1[0x16] = lVar22;
          param_1[0x17] = lVar28;
          *(undefined4 *)(param_1 + 0xe) = uVar5;
          *(undefined4 *)((long)param_1 + 0x74) = uVar6;
          *(undefined4 *)(param_1 + 0xf) = uVar7;
          *(undefined4 *)((long)param_1 + 0x7c) = uVar8;
          *(undefined4 *)(param_1 + 0x10) = uVar9;
          *(undefined4 *)((long)param_1 + 0x84) = uVar10;
          *(undefined4 *)(param_1 + 0x11) = uVar11;
          *(undefined4 *)((long)param_1 + 0x8c) = uVar12;
          *(undefined4 *)(param_1 + 0x12) = uVar13;
          *(undefined4 *)((long)param_1 + 0x94) = uVar14;
          *(undefined4 *)(param_1 + 0x13) = uVar15;
          *(undefined4 *)((long)param_1 + 0x9c) = uVar16;
          *(undefined4 *)(param_1 + 0x14) = uVar17;
          *(undefined4 *)((long)param_1 + 0xa4) = uVar18;
          *(undefined4 *)(param_1 + 0x15) = uVar19;
          *(undefined4 *)((long)param_1 + 0xac) = uVar20;
          lVar27 = lVar22;
          lVar29 = lVar28;
          lVar28 = puVar30[-1];
          lVar22 = puVar30[-2];
        }
        while( true ) {
          uVar23 = lVar29 - lVar27;
          while ((ulong)(param_1[0xb] - param_1[10]) < uVar23) {
            lVar29 = param_2[0x17];
            lVar27 = param_2[0x16];
            param_2 = param_2 + 0xc;
            uVar23 = lVar29 - lVar27;
          }
          uVar23 = lVar28 - lVar22;
          puVar25 = puVar24;
          while (puVar24 = puVar25 + -0xc, uVar23 < (ulong)(param_1[0xb] - param_1[10])) {
            uVar23 = puVar25[-0xd] - puVar25[-0xe];
            puVar25 = puVar24;
          }
          if (puVar24 <= param_2) break;
          uVar4 = *param_2;
          uVar3 = *(undefined1 *)(param_2 + 1);
          uVar5 = *(undefined4 *)(param_2 + 2);
          uVar6 = *(undefined4 *)((long)param_2 + 0x14);
          uVar7 = *(undefined4 *)(param_2 + 3);
          uVar8 = *(undefined4 *)((long)param_2 + 0x1c);
          uVar9 = *(undefined4 *)(param_2 + 4);
          uVar10 = *(undefined4 *)((long)param_2 + 0x24);
          uVar11 = *(undefined4 *)(param_2 + 5);
          uVar12 = *(undefined4 *)((long)param_2 + 0x2c);
          uVar13 = *(undefined4 *)(param_2 + 6);
          uVar14 = *(undefined4 *)((long)param_2 + 0x34);
          uVar15 = *(undefined4 *)(param_2 + 7);
          uVar16 = *(undefined4 *)((long)param_2 + 0x3c);
          *param_2 = *puVar24;
          uVar17 = *(undefined4 *)(param_2 + 8);
          uVar18 = *(undefined4 *)((long)param_2 + 0x44);
          uVar19 = *(undefined4 *)(param_2 + 9);
          uVar20 = *(undefined4 *)((long)param_2 + 0x4c);
          *(undefined1 *)(param_2 + 1) = *(undefined1 *)(puVar25 + -0xb);
          uVar21 = puVar25[-9];
          param_2[2] = puVar25[-10];
          param_2[3] = uVar21;
          uVar21 = puVar25[-7];
          param_2[4] = puVar25[-8];
          param_2[5] = uVar21;
          uVar21 = puVar25[-5];
          param_2[6] = puVar25[-6];
          param_2[7] = uVar21;
          uVar21 = puVar25[-3];
          param_2[8] = puVar25[-4];
          param_2[9] = uVar21;
          uVar21 = puVar25[-1];
          param_2[10] = puVar25[-2];
          param_2[0xb] = uVar21;
          *puVar24 = uVar4;
          *(undefined1 *)(puVar25 + -0xb) = uVar3;
          puVar25[-2] = lVar27;
          puVar25[-1] = lVar29;
          *(undefined4 *)(puVar25 + -10) = uVar5;
          *(undefined4 *)((long)puVar25 + -0x4c) = uVar6;
          *(undefined4 *)(puVar25 + -9) = uVar7;
          *(undefined4 *)((long)puVar25 + -0x44) = uVar8;
          *(undefined4 *)(puVar25 + -8) = uVar9;
          *(undefined4 *)((long)puVar25 + -0x3c) = uVar10;
          *(undefined4 *)(puVar25 + -7) = uVar11;
          *(undefined4 *)((long)puVar25 + -0x34) = uVar12;
          *(undefined4 *)(puVar25 + -6) = uVar13;
          *(undefined4 *)((long)puVar25 + -0x2c) = uVar14;
          *(undefined4 *)(puVar25 + -5) = uVar15;
          *(undefined4 *)((long)puVar25 + -0x24) = uVar16;
          *(undefined4 *)(puVar25 + -4) = uVar17;
          *(undefined4 *)((long)puVar25 + -0x1c) = uVar18;
          *(undefined4 *)(puVar25 + -3) = uVar19;
          *(undefined4 *)((long)puVar25 + -0x14) = uVar20;
          plVar1 = param_2 + 0x16;
          plVar2 = param_2 + 0x17;
          param_2 = param_2 + 0xc;
          lVar27 = *plVar1;
          lVar29 = *plVar2;
          lVar28 = puVar25[-0xd];
          lVar22 = puVar25[-0xe];
        }
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                  (param_2,puVar30,param_3);
        lVar22 = (long)param_2 - (long)param_1;
        if (lVar22 < 0x601) goto LAB_0011ae18;
        puVar30 = param_2;
      } while (param_3 != 0);
    }
    lVar22 = (lVar22 >> 5) * -0x5555555555555555;
    uVar23 = lVar22 - 2;
    lVar28 = (long)uVar23 >> 1;
    puVar32 = param_1 + ((uVar23 & 0xfffffffffffffffe) + lVar28) * 4;
    while( true ) {
      local_88 = puVar32[2];
      uStack_80 = puVar32[3];
      local_98 = *puVar32;
      local_90 = *(undefined1 *)(puVar32 + 1);
      local_48 = puVar32[10];
      local_40 = puVar32[0xb];
      local_68 = *(undefined4 *)(puVar32 + 6);
      uStack_64 = *(undefined4 *)((long)puVar32 + 0x34);
      uStack_60 = *(undefined4 *)(puVar32 + 7);
      uStack_5c = *(undefined4 *)((long)puVar32 + 0x3c);
      local_78 = puVar32[4];
      uStack_70 = puVar32[5];
      local_58 = *(undefined4 *)(puVar32 + 8);
      uStack_54 = *(undefined4 *)((long)puVar32 + 0x44);
      uStack_50 = *(undefined4 *)(puVar32 + 9);
      uStack_4c = *(undefined4 *)((long)puVar32 + 0x4c);
      __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                (param_1,lVar28,lVar22,&local_98);
      if (lVar28 == 0) break;
      lVar28 = lVar28 + -1;
      puVar32 = puVar32 + -0xc;
    }
    do {
      local_98 = param_2[-0xc];
      puVar32 = param_2 + -0xc;
      local_90 = *(undefined1 *)(param_2 + -0xb);
      local_88 = param_2[-10];
      uStack_80 = param_2[-9];
      local_48 = param_2[-2];
      local_78 = param_2[-8];
      uStack_70 = param_2[-7];
      *puVar32 = *param_1;
      local_68 = *(undefined4 *)(param_2 + -6);
      uStack_64 = *(undefined4 *)((long)param_2 + -0x2c);
      uStack_60 = *(undefined4 *)(param_2 + -5);
      uStack_5c = *(undefined4 *)((long)param_2 + -0x24);
      local_58 = *(undefined4 *)(param_2 + -4);
      uStack_54 = *(undefined4 *)((long)param_2 + -0x1c);
      uStack_50 = *(undefined4 *)(param_2 + -3);
      uStack_4c = *(undefined4 *)((long)param_2 + -0x14);
      local_40 = param_2[-1];
      *(undefined1 *)(param_2 + -0xb) = *(undefined1 *)(param_1 + 1);
      uVar4 = param_1[3];
      param_2[-10] = param_1[2];
      param_2[-9] = uVar4;
      uVar4 = param_1[5];
      param_2[-8] = param_1[4];
      param_2[-7] = uVar4;
      uVar4 = param_1[7];
      param_2[-6] = param_1[6];
      param_2[-5] = uVar4;
      uVar4 = param_1[9];
      param_2[-4] = param_1[8];
      param_2[-3] = uVar4;
      uVar4 = param_1[0xb];
      param_2[-2] = param_1[10];
      param_2[-1] = uVar4;
      __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoRange,embree::sse2::BinSplit<32ul>>>>>
                (param_1,0,((long)puVar32 - (long)param_1 >> 5) * -0x5555555555555555,&local_98);
      param_2 = puVar32;
    } while (0x60 < (long)puVar32 - (long)param_1);
  }
LAB_0011ae18:
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#3},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)#4}>
::
partition(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined4 *puVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  long *plVar5;
  long *plVar6;
  long lVar7;
  int *piVar8;
  uint *puVar9;
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined8 uVar13;
  ulong uVar14;
  undefined1 (*pauVar15) [16];
  undefined1 (*pauVar16) [16];
  undefined1 (*pauVar17) [16];
  ulong uVar18;
  int iVar19;
  long lVar20;
  undefined1 auVar21 [16];
  float fVar22;
  float fVar23;
  float fVar24;
  float fVar25;
  undefined4 uVar26;
  undefined4 uVar29;
  undefined4 uVar30;
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined4 uVar31;
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 local_48 [16];
  undefined1 local_38 [8];
  undefined8 uStack_30;
  
  plVar5 = *(long **)this;
  auVar34._0_8_ = CONCAT44(_LC3,_LC3);
  auVar34._8_4_ = _LC3;
  auVar34._12_4_ = _LC3;
  auVar36._8_4_ = _LC3;
  auVar36._0_8_ = auVar34._0_8_;
  auVar36._12_4_ = _LC3;
  auVar35._0_8_ = CONCAT44(_LC1,_LC1);
  auVar35._8_4_ = _LC1;
  auVar35._12_4_ = _LC1;
  plVar6 = (long *)plVar5[2];
  lVar20 = *plVar5;
  auVar21._8_4_ = _LC1;
  auVar21._0_8_ = auVar35._0_8_;
  auVar21._12_4_ = _LC1;
  auVar37._8_4_ = _LC1;
  auVar37._0_8_ = auVar35._0_8_;
  auVar37._12_4_ = _LC1;
  uVar18 = plVar5[1] * param_1;
  uVar14 = uVar18 / (ulong)plVar5[6];
  pauVar17 = (undefined1 (*) [16])(uVar14 * 0x20 + lVar20);
  pauVar15 = (undefined1 (*) [16])
             (lVar20 + -0x20 + ((plVar5[1] + uVar18) / (ulong)plVar5[6]) * 0x20);
  uVar26 = _LC1;
  uVar29 = _LC1;
  uVar30 = _LC1;
  uVar31 = _LC1;
  local_48 = auVar34;
  _local_38 = auVar34;
  do {
    auVar33 = _local_38;
    if (pauVar15 < pauVar17) {
LAB_0011afe5:
      *(ulong *)(*(long *)this + 0x40 + param_1 * 8) = uVar14;
      *(ulong *)(*(long *)this + 0x280 + param_1 * 8) = ((long)pauVar17 - lVar20 >> 5) - uVar14;
      lVar20 = (param_1 + 0x33) * 0x40;
      pauVar15 = (undefined1 (*) [16])(*(long *)this + lVar20);
      pauVar15[2] = auVar21;
      *pauVar15 = auVar37;
      pauVar15[1] = auVar36;
      *(undefined8 *)pauVar15[3] = local_48._0_8_;
      *(undefined8 *)(pauVar15[3] + 8) = local_48._8_8_;
      puVar1 = (undefined4 *)(*(long *)this + 0x1000 + lVar20);
      *puVar1 = uVar26;
      puVar1[1] = uVar29;
      puVar1[2] = uVar30;
      puVar1[3] = uVar31;
      *(undefined1 (*) [8])(puVar1 + 4) = local_38;
      *(undefined8 *)(puVar1 + 6) = uStack_30;
      *(undefined1 (*) [16])(puVar1 + 8) = auVar35;
      *(undefined1 (*) [16])(puVar1 + 0xc) = auVar34;
      return;
    }
    auVar2 = pauVar17[1];
    auVar3 = *pauVar17;
    lVar7 = *plVar6;
    fVar22 = auVar2._0_4_ + auVar3._0_4_;
    fVar23 = auVar2._4_4_ + auVar3._4_4_;
    fVar24 = auVar2._8_4_ + auVar3._8_4_;
    fVar25 = auVar2._12_4_ + auVar3._12_4_;
    piVar8 = (int *)plVar6[1];
    puVar9 = (uint *)plVar6[2];
    auVar28._0_4_ =
         -(uint)((int)((fVar22 - *(float *)(lVar7 + 0x20)) * *(float *)(lVar7 + 0x30) + _LC5) <
                *piVar8) & *puVar9;
    auVar28._4_4_ =
         -(uint)((int)((fVar23 - *(float *)(lVar7 + 0x24)) * *(float *)(lVar7 + 0x34) +
                      _UNK_00122f54) < piVar8[1]) & puVar9[1];
    auVar28._8_4_ =
         -(uint)((int)((fVar24 - *(float *)(lVar7 + 0x28)) * *(float *)(lVar7 + 0x38) +
                      _UNK_00122f58) < piVar8[2]) & puVar9[2];
    auVar28._12_4_ =
         -(uint)((int)((fVar25 - *(float *)(lVar7 + 0x2c)) * *(float *)(lVar7 + 0x3c) +
                      _UNK_00122f5c) < piVar8[3]) & puVar9[3];
    iVar19 = movmskps((int)puVar9,auVar28);
    if (iVar19 == 0) {
      auVar32._4_4_ = uVar29;
      auVar32._0_4_ = uVar26;
      auVar32._8_4_ = uVar30;
      auVar32._12_4_ = uVar31;
      local_38._4_4_ = fVar23;
      local_38._0_4_ = fVar22;
      uStack_30._0_4_ = fVar24;
      uStack_30._4_4_ = fVar25;
      pauVar16 = pauVar15;
      while( true ) {
        auVar28 = pauVar16[1];
        auVar4 = *pauVar16;
        pauVar15 = pauVar16 + -2;
        fVar22 = auVar28._0_4_ + auVar4._0_4_;
        fVar23 = auVar28._4_4_ + auVar4._4_4_;
        fVar24 = auVar28._8_4_ + auVar4._8_4_;
        fVar25 = auVar28._12_4_ + auVar4._12_4_;
        auVar27._0_4_ =
             -(uint)((int)((fVar22 - *(float *)(lVar7 + 0x20)) * *(float *)(lVar7 + 0x30) + _LC5) <
                    *piVar8) & *puVar9;
        auVar27._4_4_ =
             -(uint)((int)((fVar23 - *(float *)(lVar7 + 0x24)) * *(float *)(lVar7 + 0x34) +
                          _UNK_00122f54) < piVar8[1]) & puVar9[1];
        auVar27._8_4_ =
             -(uint)((int)((fVar24 - *(float *)(lVar7 + 0x28)) * *(float *)(lVar7 + 0x38) +
                          _UNK_00122f58) < piVar8[2]) & puVar9[2];
        auVar27._12_4_ =
             -(uint)((int)((fVar25 - *(float *)(lVar7 + 0x2c)) * *(float *)(lVar7 + 0x3c) +
                          _UNK_00122f5c) < piVar8[3]) & puVar9[3];
        iVar19 = movmskps(0,auVar27);
        if (iVar19 != 0) break;
        auVar32 = minps(auVar32,auVar4);
        auVar33 = maxps(auVar33,auVar28);
        auVar11._4_4_ = fVar23;
        auVar11._0_4_ = fVar22;
        auVar11._8_4_ = fVar24;
        auVar11._12_4_ = fVar25;
        auVar35 = minps(auVar35,auVar11);
        auVar12._4_4_ = fVar23;
        auVar12._0_4_ = fVar22;
        auVar12._8_4_ = fVar24;
        auVar12._12_4_ = fVar25;
        auVar34 = maxps(auVar34,auVar12);
        pauVar16 = pauVar15;
        if (pauVar15 < pauVar17) {
          uVar26 = auVar32._0_4_;
          uVar29 = auVar32._4_4_;
          uVar30 = auVar32._8_4_;
          uVar31 = auVar32._12_4_;
          _local_38 = auVar33;
          goto LAB_0011afe5;
        }
      }
      *pauVar17 = auVar4;
      auVar37 = minps(auVar37,auVar4);
      auVar4._4_4_ = fVar23;
      auVar4._0_4_ = fVar22;
      auVar4._8_4_ = fVar24;
      auVar4._12_4_ = fVar25;
      auVar21 = minps(auVar21,auVar4);
      auVar10._4_4_ = fVar23;
      auVar10._0_4_ = fVar22;
      auVar10._8_4_ = fVar24;
      auVar10._12_4_ = fVar25;
      local_48 = maxps(local_48,auVar10);
      uVar13 = *(undefined8 *)(pauVar16[1] + 8);
      auVar36 = maxps(auVar36,auVar28);
      auVar28 = minps(auVar32,auVar3);
      auVar33 = maxps(auVar33,auVar2);
      *(undefined8 *)pauVar17[1] = *(undefined8 *)pauVar16[1];
      *(undefined8 *)(pauVar17[1] + 8) = uVar13;
      auVar35 = minps(auVar35,_local_38);
      auVar34 = maxps(auVar34,_local_38);
      uVar26 = auVar28._0_4_;
      uVar29 = auVar28._4_4_;
      uVar30 = auVar28._8_4_;
      uVar31 = auVar28._12_4_;
      *pauVar16 = auVar3;
      pauVar16[1] = auVar2;
      _local_38 = auVar33;
    }
    else {
      auVar37 = minps(auVar37,auVar3);
      auVar36 = maxps(auVar36,auVar2);
      auVar33._4_4_ = fVar23;
      auVar33._0_4_ = fVar22;
      auVar33._8_4_ = fVar24;
      auVar33._12_4_ = fVar25;
      auVar21 = minps(auVar21,auVar33);
      auVar2._4_4_ = fVar23;
      auVar2._0_4_ = fVar22;
      auVar2._8_4_ = fVar24;
      auVar2._12_4_ = fVar25;
      local_48 = maxps(local_48,auVar2);
    }
    pauVar17 = pauVar17 + 2;
  } while( true );
}



/* embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#2}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#3},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)#4}>
::
partition(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#2}::operator()(_lambda_unsigned_long__2_ *this,ulong param_1)

{
  long *plVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  long *plVar7;
  ulong uVar8;
  undefined8 *puVar9;
  undefined8 *puVar10;
  long *plVar11;
  ulong uVar12;
  ulong uVar13;
  ulong uVar14;
  ulong uVar15;
  ulong uVar16;
  long lVar17;
  undefined8 *puVar18;
  long lVar19;
  undefined8 *puVar20;
  long *plVar21;
  
  plVar1 = *(long **)(this + 8);
  lVar17 = plVar1[0x98];
  uVar12 = param_1 * **(long **)this;
  uVar16 = plVar1[0x99] - lVar17;
  uVar8 = uVar12 / (ulong)plVar1[6];
  uVar14 = uVar8;
  if (uVar8 < uVar16) {
    plVar11 = plVar1 + 0x98;
  }
  else {
    plVar21 = plVar1 + 0x9a;
    do {
      plVar11 = plVar21;
      lVar17 = *plVar11;
      uVar14 = uVar14 - uVar16;
      uVar16 = plVar11[1] - lVar17;
      plVar21 = plVar11 + 2;
    } while (uVar16 <= uVar14);
  }
  lVar19 = plVar1[0x118];
  uVar15 = plVar1[0x119] - lVar19;
  uVar13 = uVar8;
  if (uVar8 < uVar15) {
    plVar21 = plVar1 + 0x118;
  }
  else {
    plVar7 = plVar1 + 0x11a;
    do {
      plVar21 = plVar7;
      lVar19 = *plVar21;
      uVar13 = uVar13 - uVar15;
      uVar15 = plVar21[1] - lVar19;
      plVar7 = plVar21 + 2;
    } while (uVar15 <= uVar13);
  }
  uVar16 = uVar16 - uVar14;
  uVar8 = (**(long **)this + uVar12) / (ulong)plVar1[6] - uVar8;
  uVar15 = uVar15 - uVar13;
  puVar18 = (undefined8 *)((lVar17 + uVar14) * 0x20 + *plVar1);
  puVar20 = (undefined8 *)((lVar19 + uVar13) * 0x20 + *plVar1);
  uVar14 = uVar8;
  if (uVar16 <= uVar8) {
    uVar14 = uVar16;
  }
  if (uVar15 < uVar14) {
    uVar14 = uVar15;
  }
  if (uVar8 == 0) {
    return;
  }
  do {
    if (uVar15 == 0) {
      uVar15 = plVar21[3] - plVar21[2];
      puVar20 = (undefined8 *)(plVar21[2] * 0x20 + *plVar1);
      uVar14 = uVar8;
      if (uVar15 <= uVar8) {
        uVar14 = uVar15;
      }
      if (uVar16 < uVar14) {
        uVar14 = uVar16;
      }
      plVar21 = plVar21 + 2;
    }
    uVar8 = uVar8 - uVar14;
    uVar16 = uVar16 - uVar14;
    uVar15 = uVar15 - uVar14;
    puVar9 = puVar18;
    puVar10 = puVar20;
    uVar12 = uVar14;
    if (uVar14 != 0) {
      do {
        uVar2 = puVar10[1];
        uVar3 = *puVar9;
        uVar4 = puVar9[1];
        uVar5 = puVar9[2];
        uVar6 = puVar9[3];
        *puVar9 = *puVar10;
        puVar9[1] = uVar2;
        uVar2 = puVar10[3];
        puVar9[2] = puVar10[2];
        puVar9[3] = uVar2;
        *puVar10 = uVar3;
        puVar10[1] = uVar4;
        puVar10[2] = uVar5;
        puVar10[3] = uVar6;
        uVar12 = uVar12 - 1;
        puVar9 = puVar9 + 4;
        puVar10 = puVar10 + 4;
      } while (uVar12 != 0);
      puVar20 = puVar20 + uVar14 * 4;
      puVar18 = puVar18 + uVar14 * 4;
      if (uVar8 == 0) {
        return;
      }
    }
    if (uVar16 == 0) {
      uVar16 = plVar11[3] - plVar11[2];
      puVar18 = (undefined8 *)(plVar11[2] * 0x20 + *plVar1);
      uVar14 = uVar15;
      if (uVar8 <= uVar15) {
        uVar14 = uVar8;
      }
      if (uVar16 < uVar14) {
        uVar14 = uVar16;
      }
      plVar11 = plVar11 + 2;
    }
    else {
      uVar14 = 0;
    }
  } while( true );
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::SpatialBinInfo<16ul, embree::PrimRef>::best(embree::sse2::SpatialBinMapping<16ul>
   const&, unsigned long) const */

SpatialBinMapping *
embree::sse2::SpatialBinInfo<16ul,embree::PrimRef>::best(SpatialBinMapping *param_1,ulong param_2)

{
  int *piVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined1 auVar6 [16];
  undefined1 (*pauVar7) [16];
  undefined1 (*pauVar8) [16];
  undefined1 (*pauVar9) [16];
  ulong uVar10;
  uint in_ECX;
  ulong uVar11;
  undefined8 *in_RDX;
  float *pfVar12;
  undefined4 uVar13;
  long lVar14;
  undefined4 uVar15;
  long in_FS_OFFSET;
  undefined1 auVar16 [16];
  int iVar17;
  int iVar19;
  int iVar20;
  int iVar21;
  undefined1 auVar18 [16];
  uint uVar22;
  float fVar24;
  float fVar25;
  uint uVar26;
  float fVar27;
  float fVar28;
  uint uVar29;
  uint uVar30;
  undefined1 auVar23 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined8 uVar33;
  undefined1 auVar34 [16];
  uint uVar35;
  uint uVar37;
  uint uVar38;
  undefined1 auVar36 [16];
  uint uVar39;
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  float fVar43;
  float fVar44;
  undefined1 auVar42 [16];
  undefined1 auVar45 [16];
  undefined1 auVar46 [16];
  undefined1 local_2f8 [16];
  undefined1 local_2e8 [16];
  undefined1 local_2d8 [16];
  undefined1 local_2c8 [8];
  float fStack_2c0;
  float fStack_2bc;
  int local_2b8;
  int iStack_2b4;
  int iStack_2b0;
  int iStack_2ac;
  undefined1 local_2a8 [16];
  undefined1 local_298 [16];
  undefined1 local_288 [16];
  undefined1 local_278 [16];
  undefined1 local_258 [16];
  undefined1 local_248 [16];
  undefined1 local_238 [16];
  undefined1 local_228 [16];
  float local_218 [60];
  float local_128 [4];
  int local_118 [66];
  long local_10;
  
  iVar17 = 0;
  iVar19 = 0;
  iVar20 = 0;
  iVar21 = 0;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  lVar14 = 0xf0;
  local_2c8 = CONCAT44(_LC1,_LC1);
  fStack_2c0 = _LC1;
  fStack_2bc = _LC1;
  uVar33 = CONCAT44(_LC3,_LC3);
  auVar42._8_4_ = _LC1;
  auVar42._0_8_ = local_2c8;
  auVar42._12_4_ = _LC1;
  auVar41._8_4_ = _LC1;
  auVar41._0_8_ = local_2c8;
  auVar41._12_4_ = _LC1;
  auVar40._8_4_ = _LC3;
  auVar40._0_8_ = uVar33;
  auVar40._12_4_ = _LC3;
  auVar36._8_4_ = _LC1;
  auVar36._0_8_ = local_2c8;
  auVar36._12_4_ = _LC1;
  auVar34._8_4_ = _LC3;
  auVar34._0_8_ = uVar33;
  auVar34._12_4_ = _LC3;
  auVar31._8_4_ = _LC3;
  auVar31._0_8_ = uVar33;
  auVar31._12_4_ = _LC3;
  pauVar8 = (undefined1 (*) [16])(param_2 + 0x5a0);
  pfVar12 = local_128;
  do {
    pauVar7 = pauVar8;
    auVar40 = maxps(auVar40,pauVar7[1]);
    auVar36 = minps(auVar36,*pauVar7);
    pauVar8 = pauVar7 + -6;
    piVar1 = (int *)(param_2 + 0x700 + lVar14);
    iVar2 = *piVar1;
    iVar3 = piVar1[1];
    iVar4 = piVar1[2];
    iVar5 = piVar1[3];
    auVar31 = maxps(auVar31,pauVar7[3]);
    pfVar12[3] = 0.0;
    auVar41 = minps(auVar41,pauVar7[2]);
    auVar34 = maxps(auVar34,pauVar7[5]);
    iVar17 = iVar2 + iVar17;
    iVar19 = iVar3 + iVar19;
    iVar20 = iVar4 + iVar20;
    iVar21 = iVar5 + iVar21;
    auVar42 = minps(auVar42,pauVar7[4]);
    fVar24 = auVar40._4_4_ - auVar36._4_4_;
    fVar27 = auVar40._8_4_ - auVar36._8_4_;
    *(int *)((long)local_118 + lVar14) = iVar17;
    *(int *)((long)local_118 + lVar14 + 4) = iVar19;
    *(int *)((long)local_118 + lVar14 + 8) = iVar20;
    *(int *)((long)local_118 + lVar14 + 0xc) = iVar21;
    lVar14 = lVar14 + -0x10;
    fVar25 = auVar31._4_4_ - auVar41._4_4_;
    fVar28 = auVar31._8_4_ - auVar41._8_4_;
    *pfVar12 = (fVar24 + fVar27) * (auVar40._0_4_ - auVar36._0_4_) + fVar24 * fVar27;
    fVar24 = auVar34._4_4_ - auVar42._4_4_;
    fVar27 = auVar34._8_4_ - auVar42._8_4_;
    pfVar12[1] = (fVar25 + fVar28) * (auVar31._0_4_ - auVar41._0_4_) + fVar25 * fVar28;
    pfVar12[2] = (fVar24 + fVar27) * (auVar34._0_4_ - auVar42._0_4_) + fVar24 * fVar27;
    pfVar12 = pfVar12 + -4;
  } while ((undefined1 (*) [16])param_2 != pauVar8);
  lVar14 = 0x10;
  auVar46._8_4_ = _LC3;
  auVar46._0_8_ = uVar33;
  auVar46._12_4_ = _LC3;
  auVar45._8_4_ = _LC3;
  auVar45._0_8_ = uVar33;
  auVar45._12_4_ = _LC3;
  iVar17 = (1 << ((byte)in_ECX & 0x1f)) + -1;
  uVar10 = (ulong)in_ECX;
  auVar16._8_4_ = _LC3;
  auVar16._0_8_ = uVar33;
  auVar16._12_4_ = _LC3;
  local_2d8 = (undefined1  [16])0x0;
  local_2e8 = (undefined1  [16])0x0;
  local_2f8 = (undefined1  [16])0x0;
  local_2b8 = __LC21;
  iStack_2b4 = _UNK_00122f84;
  iStack_2b0 = _UNK_00122f88;
  iStack_2ac = _UNK_00122f8c;
  local_278 = (undefined1  [16])0x0;
  local_2a8 = _local_2c8;
  local_298 = _local_2c8;
  local_288 = _local_2c8;
  do {
    auVar46 = maxps(auVar46,pauVar8[5]);
    pauVar9 = pauVar8 + 6;
    local_2a8 = minps(local_2a8,pauVar8[4]);
    auVar45 = maxps(auVar45,pauVar8[1]);
    auVar16 = maxps(auVar16,pauVar8[3]);
    local_288 = minps(local_288,*pauVar8);
    fVar24 = auVar46._4_4_ - local_2a8._4_4_;
    fVar25 = auVar46._8_4_ - local_2a8._8_4_;
    local_298 = minps(local_298,pauVar8[2]);
    piVar1 = (int *)(param_2 + 0x5f0 + lVar14);
    local_278._0_4_ = local_278._0_4_ + *piVar1;
    local_278._4_4_ = local_278._4_4_ + piVar1[1];
    local_278._8_4_ = local_278._8_4_ + piVar1[2];
    local_278._12_4_ = local_278._12_4_ + piVar1[3];
    fVar43 = auVar45._4_4_ - local_288._4_4_;
    fVar44 = auVar45._8_4_ - local_288._8_4_;
    fVar27 = auVar16._4_4_ - local_298._4_4_;
    fVar28 = auVar16._8_4_ - local_298._8_4_;
    fVar24 = (fVar24 + fVar25) * (auVar46._0_4_ - local_2a8._0_4_) + fVar24 * fVar25;
    uVar35 = (uint)(iVar17 + local_278._0_4_) >> uVar10;
    uVar37 = (uint)(iVar17 + local_278._4_4_) >> uVar10;
    uVar38 = (uint)(iVar17 + local_278._8_4_) >> uVar10;
    uVar39 = (uint)(iVar17 + local_278._12_4_) >> uVar10;
    uVar22 = (uint)(iVar17 + *(int *)((long)local_118 + lVar14)) >> uVar10;
    uVar26 = (uint)(iVar17 + *(int *)((long)local_118 + lVar14 + 4)) >> uVar10;
    uVar29 = (uint)(iVar17 + *(int *)((long)local_118 + lVar14 + 8)) >> uVar10;
    uVar30 = (uint)(iVar17 + *(int *)((long)local_118 + lVar14 + 0xc)) >> uVar10;
    auVar6._4_4_ = iStack_2b4;
    auVar6._0_4_ = local_2b8;
    auVar6._8_4_ = iStack_2b0;
    auVar6._12_4_ = iStack_2ac;
    fVar25 = ((fVar43 + fVar44) * (auVar45._0_4_ - local_288._0_4_) + fVar43 * fVar44) *
             ((float)(int)(uVar35 & _LC24) + (float)((int)uVar35 >> 0x1f & __LC20)) +
             ((float)(int)(uVar22 & _LC24) + (float)((int)uVar22 >> 0x1f & __LC20)) *
             *(float *)((long)local_218 + lVar14);
    fVar27 = ((fVar27 + fVar28) * (auVar16._0_4_ - local_298._0_4_) + fVar27 * fVar28) *
             ((float)(int)(uVar37 & _UNK_00122f94) + (float)((int)uVar37 >> 0x1f & _UNK_00122fa4)) +
             ((float)(int)(uVar26 & _UNK_00122f94) + (float)((int)uVar26 >> 0x1f & _UNK_00122fa4)) *
             *(float *)((long)local_218 + lVar14 + 4);
    fVar28 = fVar24 * ((float)(int)(uVar38 & _UNK_00122f98) +
                      (float)((int)uVar38 >> 0x1f & _UNK_00122fa8)) +
             ((float)(int)(uVar29 & _UNK_00122f98) + (float)((int)uVar29 >> 0x1f & _UNK_00122fa8)) *
             *(float *)((long)local_218 + lVar14 + 8);
    fVar24 = fVar24 * ((float)(int)(uVar39 & _UNK_00122f9c) +
                      (float)((int)uVar39 >> 0x1f & _UNK_00122fac)) +
             ((float)(int)(uVar30 & _UNK_00122f9c) + (float)((int)uVar30 >> 0x1f & _UNK_00122fac)) *
             *(float *)((long)local_218 + lVar14 + 0xc);
    uVar22 = -(uint)(fVar25 < (float)local_2c8._0_4_);
    uVar26 = -(uint)(fVar27 < (float)local_2c8._4_4_);
    uVar29 = -(uint)(fVar28 < fStack_2c0);
    uVar30 = -(uint)(fVar24 < fStack_2bc);
    auVar18._4_4_ = uVar26;
    auVar18._0_4_ = uVar22;
    auVar18._8_4_ = uVar29;
    auVar18._12_4_ = uVar30;
    auVar32._0_4_ = (uint)fVar25 & uVar22;
    auVar32._4_4_ = (uint)fVar27 & uVar26;
    auVar32._8_4_ = (uint)fVar28 & uVar29;
    auVar32._12_4_ = (uint)fVar24 & uVar30;
    local_2d8 = auVar6 & auVar18 | ~auVar18 & local_2d8;
    auVar23._0_4_ = ~uVar22 & local_2c8._0_4_;
    auVar23._4_4_ = ~uVar26 & local_2c8._4_4_;
    auVar23._8_4_ = ~uVar29 & (uint)fStack_2c0;
    auVar23._12_4_ = ~uVar30 & (uint)fStack_2bc;
    _local_2c8 = auVar32 | auVar23;
    local_2e8 = local_278 & auVar18 | ~auVar18 & local_2e8;
    pauVar8 = (undefined1 (*) [16])((long)local_118 + lVar14);
    lVar14 = lVar14 + 0x10;
    local_2f8 = auVar18 & *pauVar8 | ~auVar18 & local_2f8;
    local_2b8 = local_2b8 + __LC21;
    iStack_2b4 = iStack_2b4 + _UNK_00122f84;
    iStack_2b0 = iStack_2b0 + _UNK_00122f88;
    iStack_2ac = iStack_2ac + _UNK_00122f8c;
    pauVar8 = pauVar9;
  } while (pauVar7 + 0x54 != pauVar9);
  local_228 = local_2f8;
  uVar10 = 0;
  uVar13 = 0;
  uVar15 = 0;
  iVar17 = 0;
  local_248 = local_2d8;
  uVar11 = 0xffffffff;
  local_258 = _local_2c8;
  local_238 = local_2e8;
  fVar24 = _LC1;
  do {
    if (((*(float *)((long)in_RDX + uVar10 * 4 + 0x10) != 0.0) &&
        (*(float *)(local_258 + uVar10 * 4) < fVar24)) && (*(int *)(local_248 + uVar10 * 4) != 0)) {
      uVar15 = *(undefined4 *)(local_238 + uVar10 * 4);
      uVar11 = uVar10 & 0xffffffff;
      uVar13 = *(undefined4 *)(local_228 + uVar10 * 4);
      fVar24 = *(float *)(local_258 + uVar10 * 4);
      iVar17 = *(int *)(local_248 + uVar10 * 4);
    }
    uVar10 = uVar10 + 1;
  } while (uVar10 != 3);
  if ((int)uVar11 == -1) {
    *(undefined8 *)param_1 = 0xffffffff7f800000;
    *(undefined8 *)(param_1 + 8) = 0xffffffff00000000;
    *(undefined8 *)(param_1 + 0x10) = 0x3f800000ffffffff;
  }
  else {
    *(int *)(param_1 + 4) = (int)uVar11;
    *(int *)(param_1 + 8) = iVar17;
    *(undefined4 *)(param_1 + 0xc) = uVar15;
    *(undefined4 *)(param_1 + 0x10) = uVar13;
    *(undefined4 *)(param_1 + 0x14) = 0x3f800000;
    *(float *)param_1 = fVar24;
  }
  uVar33 = in_RDX[1];
  *(undefined8 *)(param_1 + 0x20) = *in_RDX;
  *(undefined8 *)(param_1 + 0x28) = uVar33;
  uVar33 = in_RDX[3];
  *(undefined8 *)(param_1 + 0x30) = in_RDX[2];
  *(undefined8 *)(param_1 + 0x38) = uVar33;
  uVar33 = in_RDX[5];
  *(undefined8 *)(param_1 + 0x40) = in_RDX[4];
  *(undefined8 *)(param_1 + 0x48) = uVar33;
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1},
   embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long, unsigned long, unsigned long, unsigned
   long, embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> > const&,
   embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::{lambda(embree::range<unsigned_long>const&)#1},embree::bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::{lambda(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const...a>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&)#2}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  _lambda_embree__range<unsigned_long>const___1_ *p_Var1;
  undefined4 *puVar2;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  long lVar11;
  ulong uVar12;
  long lVar13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  long lVar15;
  undefined8 *puVar16;
  long in_FS_OFFSET;
  byte bVar17;
  _lambda_embree__range<unsigned_long>const___1_ local_e80 [3072];
  _lambda_embree__range<unsigned_long>const___1_ local_280 [504];
  undefined8 local_88;
  long local_48;
  
  bVar17 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  p_Var14 = local_e80;
  bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)
  ::{lambda(embree::range<unsigned_long>const&)#1}::operator()(p_Var14,*(range **)(this + 0x20));
  lVar15 = param_1 * 0xe00 + *(long *)(*(long *)(this + 0x18) + 0x1c00);
  lVar13 = lVar15;
  do {
    lVar11 = 0;
    do {
      p_Var1 = p_Var14 + lVar11;
      uVar4 = *(undefined4 *)(p_Var1 + 4);
      uVar5 = *(undefined4 *)(p_Var1 + 8);
      uVar6 = *(undefined4 *)(p_Var1 + 0xc);
      p_Var3 = p_Var14 + lVar11 + 0x10;
      uVar7 = *(undefined4 *)p_Var3;
      uVar8 = *(undefined4 *)(p_Var3 + 4);
      uVar9 = *(undefined4 *)(p_Var3 + 8);
      uVar10 = *(undefined4 *)(p_Var3 + 0xc);
      puVar2 = (undefined4 *)(lVar13 + lVar11);
      *puVar2 = *(undefined4 *)p_Var1;
      puVar2[1] = uVar4;
      puVar2[2] = uVar5;
      puVar2[3] = uVar6;
      puVar2 = (undefined4 *)(lVar13 + 0x10 + lVar11);
      *puVar2 = uVar7;
      puVar2[1] = uVar8;
      puVar2[2] = uVar9;
      puVar2[3] = uVar10;
      lVar11 = lVar11 + 0x20;
    } while (lVar11 != 0x60);
    p_Var14 = p_Var14 + 0x60;
    lVar13 = lVar13 + 0x60;
  } while (p_Var14 != local_280);
  *(undefined8 *)(lVar15 + 0xc00) = *(undefined8 *)p_Var14;
  *(undefined8 *)(lVar15 + 0xdf8) = local_88;
  puVar16 = (undefined8 *)(lVar15 + 0xc08U & 0xfffffffffffffff8);
  lVar13 = (lVar15 + 0xc00) - (long)puVar16;
  p_Var14 = p_Var14 + -lVar13;
  for (uVar12 = (ulong)((int)lVar13 + 0x200U >> 3); uVar12 != 0; uVar12 = uVar12 - 1) {
    *puVar16 = *(undefined8 *)p_Var14;
    p_Var14 = p_Var14 + ((ulong)bVar17 * -2 + 1) * 8;
    puVar16 = puVar16 + (ulong)bVar17 * -2 + 1;
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,
   __gnu_cxx::__ops::_Iter_comp_iter<bool (*)(embree::sse2::BVHBuilderMorton::BuildPrim const&,
   embree::sse2::BVHBuilderMorton::BuildPrim const&)> >(embree::sse2::BVHBuilderMorton::BuildPrim*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, __gnu_cxx::__ops::_Iter_comp_iter<bool
   (*)(embree::sse2::BVHBuilderMorton::BuildPrim const&, embree::sse2::BVHBuilderMorton::BuildPrim
   const&)>) */

void std::
     __insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
               (undefined8 *param_1,undefined8 *param_2,code *param_3)

{
  undefined8 uVar1;
  char cVar2;
  size_t __n;
  undefined8 *puVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  long in_FS_OFFSET;
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 != param_2) {
    puVar4 = param_1 + 1;
    while (param_2 != puVar4) {
      while( true ) {
        cVar2 = (*param_3)(puVar4,param_1);
        puVar5 = puVar4 + 1;
        if (cVar2 != '\0') break;
        local_48 = *puVar4;
        while( true ) {
          puVar3 = puVar4 + -1;
          cVar2 = (*param_3)(&local_48,puVar3);
          if (cVar2 == '\0') break;
          *puVar4 = *puVar3;
          puVar4 = puVar3;
        }
        *puVar4 = local_48;
        puVar4 = puVar5;
        if (param_2 == puVar5) goto LAB_0011ba15;
      }
      uVar1 = *puVar4;
      __n = (long)puVar4 - (long)param_1;
      if ((long)__n < 9) {
        if (__n == 8) {
          *puVar4 = *param_1;
        }
      }
      else {
        memmove((void *)((long)puVar4 + (8 - __n)),param_1,__n);
      }
      *param_1 = uVar1;
      puVar4 = puVar5;
    }
  }
LAB_0011ba15:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__heap_select<embree::PrimRef*, __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRef*,
   embree::PrimRef*, embree::PrimRef*, __gnu_cxx::__ops::_Iter_less_iter) */

void std::__heap_select<embree::PrimRef*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined4 *param_1,undefined4 *param_2,undefined4 *param_3)

{
  long lVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  long lVar5;
  undefined4 *puVar6;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (0x20 < (long)param_2 - (long)param_1) {
    for (lVar5 = (((long)param_2 - (long)param_1 >> 5) + -2) / 2;
        __adjust_heap<embree::PrimRef*,long,embree::PrimRef,__gnu_cxx::__ops::_Iter_less_iter>(),
        lVar5 != 0; lVar5 = lVar5 + -1) {
    }
  }
  if (param_2 < param_3) {
    do {
      while (CONCAT44(param_1[7],param_1[3]) <= CONCAT44(param_2[7],param_2[3])) {
        param_2 = param_2 + 8;
        if (param_3 <= param_2) goto LAB_0011bb6e;
      }
      uVar2 = param_1[1];
      uVar3 = param_1[2];
      uVar4 = param_1[3];
      puVar6 = param_2 + 8;
      *param_2 = *param_1;
      param_2[1] = uVar2;
      param_2[2] = uVar3;
      param_2[3] = uVar4;
      uVar2 = param_1[5];
      uVar3 = param_1[6];
      uVar4 = param_1[7];
      param_2[4] = param_1[4];
      param_2[5] = uVar2;
      param_2[6] = uVar3;
      param_2[7] = uVar4;
      __adjust_heap<embree::PrimRef*,long,embree::PrimRef,__gnu_cxx::__ops::_Iter_less_iter>();
      param_2 = puVar6;
    } while (puVar6 < param_3);
  }
LAB_0011bb6e:
  if (lVar1 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >&)
    */

void std::
     __make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
               (BuildRecordT *param_1,BuildRecordT *param_2,_Iter_comp_iter *param_3)

{
  long lVar1;
  long lVar2;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (0x70 < (long)param_2 - (long)param_1) {
    lVar2 = (((long)param_2 - (long)param_1 >> 4) * 0x6db6db6db6db6db7 + -2) / 2;
    while( true ) {
      __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                ();
      if (lVar2 == 0) break;
      lVar2 = lVar2 + -1;
    }
  }
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void 
   std::__introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   long, 
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >
   >(embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > >*,
   long, 
   __gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,
   embree::sse2::Split2<embree::sse2::BinSplit<32ul>, embree::sse2::SpatialBinSplit<16ul> > > > >)
    */

void std::
     __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
               (BuildRecordT *param_1,BuildRecordT *param_2,long param_3)

{
  BuildRecordT *pBVar1;
  BuildRecordT *pBVar2;
  BuildRecordT BVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined8 uVar22;
  long lVar23;
  BuildRecordT *pBVar24;
  BuildRecordT *pBVar25;
  ulong uVar26;
  ulong uVar27;
  BuildRecordT *pBVar28;
  long lVar29;
  ulong uVar30;
  long lVar31;
  long lVar32;
  BuildRecordT *pBVar33;
  long in_FS_OFFSET;
  undefined8 local_b8;
  BuildRecordT local_b0;
  undefined4 local_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined8 local_68;
  undefined8 local_60;
  undefined8 local_58;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar23 = (long)param_2 - (long)param_1;
  if (0x700 < lVar23) {
    pBVar28 = param_1 + 0x70;
    pBVar33 = param_2;
    if (param_3 == 0) {
      __make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                (param_1,param_2,(_Iter_comp_iter *)&local_b8);
    }
    else {
      do {
        uVar4 = *(undefined8 *)param_1;
        param_3 = param_3 + -1;
        BVar3 = param_1[8];
        uVar26 = *(long *)(param_1 + 200) - *(long *)(param_1 + 0xc0);
        uVar6 = *(undefined4 *)(param_1 + 0x10);
        uVar7 = *(undefined4 *)(param_1 + 0x14);
        uVar8 = *(undefined4 *)(param_1 + 0x18);
        uVar9 = *(undefined4 *)(param_1 + 0x1c);
        uVar10 = *(undefined4 *)(param_1 + 0x20);
        uVar11 = *(undefined4 *)(param_1 + 0x24);
        uVar12 = *(undefined4 *)(param_1 + 0x28);
        uVar13 = *(undefined4 *)(param_1 + 0x2c);
        uVar14 = *(undefined4 *)(param_1 + 0x30);
        uVar15 = *(undefined4 *)(param_1 + 0x34);
        uVar16 = *(undefined4 *)(param_1 + 0x38);
        uVar17 = *(undefined4 *)(param_1 + 0x3c);
        uVar18 = *(undefined4 *)(param_1 + 0x40);
        uVar19 = *(undefined4 *)(param_1 + 0x44);
        uVar20 = *(undefined4 *)(param_1 + 0x48);
        uVar21 = *(undefined4 *)(param_1 + 0x4c);
        lVar32 = *(long *)(param_1 + 0x50);
        lVar31 = *(long *)(param_1 + 0x58);
        uVar5 = *(undefined8 *)(param_1 + 0x60);
        uVar30 = *(long *)(pBVar33 + -0x18) - *(long *)(pBVar33 + -0x20);
        pBVar24 = param_1 + ((lVar23 >> 4) * 0x6db6db6db6db6db7 >> 1) * 0x70;
        uVar27 = *(long *)(pBVar24 + 0x58) - *(long *)(pBVar24 + 0x50);
        pBVar25 = pBVar33;
        param_2 = pBVar28;
        if (uVar27 < uVar26) {
          if (uVar30 < uVar27) {
            *(undefined8 *)param_1 = *(undefined8 *)pBVar24;
            param_1[8] = pBVar24[8];
            uVar22 = *(undefined8 *)(pBVar24 + 0x18);
            *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(pBVar24 + 0x10);
            *(undefined8 *)(param_1 + 0x18) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x28);
            *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(pBVar24 + 0x20);
            *(undefined8 *)(param_1 + 0x28) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x38);
            *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(pBVar24 + 0x30);
            *(undefined8 *)(param_1 + 0x38) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x48);
            *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(pBVar24 + 0x40);
            *(undefined8 *)(param_1 + 0x48) = uVar22;
LAB_0011bfae:
            uVar22 = *(undefined8 *)(pBVar24 + 0x58);
            *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(pBVar24 + 0x50);
            *(undefined8 *)(param_1 + 0x58) = uVar22;
            *(undefined8 *)(param_1 + 0x60) = *(undefined8 *)(pBVar24 + 0x60);
            *(undefined8 *)pBVar24 = uVar4;
            pBVar24[8] = BVar3;
            *(long *)(pBVar24 + 0x50) = lVar32;
            *(long *)(pBVar24 + 0x58) = lVar31;
            *(undefined8 *)(pBVar24 + 0x60) = uVar5;
            *(undefined4 *)(pBVar24 + 0x10) = uVar6;
            *(undefined4 *)(pBVar24 + 0x14) = uVar7;
            *(undefined4 *)(pBVar24 + 0x18) = uVar8;
            *(undefined4 *)(pBVar24 + 0x1c) = uVar9;
            *(undefined4 *)(pBVar24 + 0x20) = uVar10;
            *(undefined4 *)(pBVar24 + 0x24) = uVar11;
            *(undefined4 *)(pBVar24 + 0x28) = uVar12;
            *(undefined4 *)(pBVar24 + 0x2c) = uVar13;
            *(undefined4 *)(pBVar24 + 0x30) = uVar14;
            *(undefined4 *)(pBVar24 + 0x34) = uVar15;
            *(undefined4 *)(pBVar24 + 0x38) = uVar16;
            *(undefined4 *)(pBVar24 + 0x3c) = uVar17;
            *(undefined4 *)(pBVar24 + 0x40) = uVar18;
            *(undefined4 *)(pBVar24 + 0x44) = uVar19;
            *(undefined4 *)(pBVar24 + 0x48) = uVar20;
            *(undefined4 *)(pBVar24 + 0x4c) = uVar21;
            lVar29 = *(long *)(param_1 + 200);
            lVar23 = *(long *)(param_1 + 0xc0);
            lVar31 = *(long *)(pBVar33 + -0x18);
            lVar32 = *(long *)(pBVar33 + -0x20);
          }
          else {
            if (uVar26 <= uVar30) {
              *(undefined8 *)param_1 = *(undefined8 *)(param_1 + 0x70);
              *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_1 + 0x80);
              *(undefined8 *)(param_1 + 0x18) = *(undefined8 *)(param_1 + 0x88);
              *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_1 + 0x90);
              *(undefined8 *)(param_1 + 0x28) = *(undefined8 *)(param_1 + 0x98);
              param_1[8] = param_1[0x78];
              *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_1 + 0xa0);
              *(undefined8 *)(param_1 + 0x38) = *(undefined8 *)(param_1 + 0xa8);
              *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_1 + 0xb0);
              *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_1 + 0xb8);
              *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(param_1 + 0xc0);
              *(undefined8 *)(param_1 + 0x58) = *(undefined8 *)(param_1 + 200);
              goto LAB_0011bdde;
            }
LAB_0011bffe:
            *(undefined8 *)param_1 = *(undefined8 *)(pBVar33 + -0x70);
            param_1[8] = pBVar33[-0x68];
            uVar22 = *(undefined8 *)(pBVar33 + -0x58);
            *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(pBVar33 + -0x60);
            *(undefined8 *)(param_1 + 0x18) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x48);
            *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(pBVar33 + -0x50);
            *(undefined8 *)(param_1 + 0x28) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x38);
            *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(pBVar33 + -0x40);
            *(undefined8 *)(param_1 + 0x38) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x28);
            *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(pBVar33 + -0x30);
            *(undefined8 *)(param_1 + 0x48) = uVar22;
            uVar22 = *(undefined8 *)(pBVar33 + -0x18);
            *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(pBVar33 + -0x20);
            *(undefined8 *)(param_1 + 0x58) = uVar22;
            *(undefined8 *)(param_1 + 0x60) = *(undefined8 *)(pBVar33 + -0x10);
            *(undefined8 *)(pBVar33 + -0x10) = uVar5;
            *(undefined8 *)(pBVar33 + -0x70) = uVar4;
            pBVar33[-0x68] = BVar3;
            *(long *)(pBVar33 + -0x20) = lVar32;
            *(long *)(pBVar33 + -0x18) = lVar31;
            *(undefined4 *)(pBVar33 + -0x60) = uVar6;
            *(undefined4 *)(pBVar33 + -0x5c) = uVar7;
            *(undefined4 *)(pBVar33 + -0x58) = uVar8;
            *(undefined4 *)(pBVar33 + -0x54) = uVar9;
            *(undefined4 *)(pBVar33 + -0x50) = uVar10;
            *(undefined4 *)(pBVar33 + -0x4c) = uVar11;
            *(undefined4 *)(pBVar33 + -0x48) = uVar12;
            *(undefined4 *)(pBVar33 + -0x44) = uVar13;
            *(undefined4 *)(pBVar33 + -0x40) = uVar14;
            *(undefined4 *)(pBVar33 + -0x3c) = uVar15;
            *(undefined4 *)(pBVar33 + -0x38) = uVar16;
            *(undefined4 *)(pBVar33 + -0x34) = uVar17;
            *(undefined4 *)(pBVar33 + -0x30) = uVar18;
            *(undefined4 *)(pBVar33 + -0x2c) = uVar19;
            *(undefined4 *)(pBVar33 + -0x28) = uVar20;
            *(undefined4 *)(pBVar33 + -0x24) = uVar21;
            lVar23 = *(long *)(param_1 + 0xc0);
            lVar29 = *(long *)(param_1 + 200);
          }
        }
        else {
          if (uVar26 <= uVar30) {
            if (uVar30 < uVar27) goto LAB_0011bffe;
            *(undefined8 *)param_1 = *(undefined8 *)pBVar24;
            param_1[8] = pBVar24[8];
            uVar22 = *(undefined8 *)(pBVar24 + 0x18);
            *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(pBVar24 + 0x10);
            *(undefined8 *)(param_1 + 0x18) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x28);
            *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(pBVar24 + 0x20);
            *(undefined8 *)(param_1 + 0x28) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x38);
            *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(pBVar24 + 0x30);
            *(undefined8 *)(param_1 + 0x38) = uVar22;
            uVar22 = *(undefined8 *)(pBVar24 + 0x48);
            *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(pBVar24 + 0x40);
            *(undefined8 *)(param_1 + 0x48) = uVar22;
            goto LAB_0011bfae;
          }
          *(undefined8 *)param_1 = *(undefined8 *)(param_1 + 0x70);
          *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_1 + 0x80);
          *(undefined8 *)(param_1 + 0x18) = *(undefined8 *)(param_1 + 0x88);
          *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_1 + 0x90);
          *(undefined8 *)(param_1 + 0x28) = *(undefined8 *)(param_1 + 0x98);
          param_1[8] = param_1[0x78];
          *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_1 + 0xa0);
          *(undefined8 *)(param_1 + 0x38) = *(undefined8 *)(param_1 + 0xa8);
          *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_1 + 0xb0);
          *(undefined8 *)(param_1 + 0x48) = *(undefined8 *)(param_1 + 0xb8);
          *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(param_1 + 0xc0);
          *(undefined8 *)(param_1 + 0x58) = *(undefined8 *)(param_1 + 200);
LAB_0011bdde:
          *(undefined8 *)(param_1 + 0x70) = uVar4;
          param_1[0x78] = BVar3;
          *(undefined8 *)(param_1 + 0x60) = *(undefined8 *)(param_1 + 0xd0);
          *(long *)(param_1 + 0xc0) = lVar32;
          *(long *)(param_1 + 200) = lVar31;
          *(undefined8 *)(param_1 + 0xd0) = uVar5;
          *(undefined4 *)(param_1 + 0x80) = uVar6;
          *(undefined4 *)(param_1 + 0x84) = uVar7;
          *(undefined4 *)(param_1 + 0x88) = uVar8;
          *(undefined4 *)(param_1 + 0x8c) = uVar9;
          *(undefined4 *)(param_1 + 0x90) = uVar10;
          *(undefined4 *)(param_1 + 0x94) = uVar11;
          *(undefined4 *)(param_1 + 0x98) = uVar12;
          *(undefined4 *)(param_1 + 0x9c) = uVar13;
          *(undefined4 *)(param_1 + 0xa0) = uVar14;
          *(undefined4 *)(param_1 + 0xa4) = uVar15;
          *(undefined4 *)(param_1 + 0xa8) = uVar16;
          *(undefined4 *)(param_1 + 0xac) = uVar17;
          *(undefined4 *)(param_1 + 0xb0) = uVar18;
          *(undefined4 *)(param_1 + 0xb4) = uVar19;
          *(undefined4 *)(param_1 + 0xb8) = uVar20;
          *(undefined4 *)(param_1 + 0xbc) = uVar21;
          lVar23 = lVar32;
          lVar29 = lVar31;
          lVar31 = *(long *)(pBVar33 + -0x18);
          lVar32 = *(long *)(pBVar33 + -0x20);
        }
        while( true ) {
          uVar26 = lVar29 - lVar23;
          while ((ulong)(*(long *)(param_1 + 0x58) - *(long *)(param_1 + 0x50)) < uVar26) {
            lVar29 = *(long *)(param_2 + 200);
            lVar23 = *(long *)(param_2 + 0xc0);
            param_2 = param_2 + 0x70;
            uVar26 = lVar29 - lVar23;
          }
          uVar26 = lVar31 - lVar32;
          pBVar24 = pBVar25;
          while (pBVar25 = pBVar24 + -0x70,
                uVar26 < (ulong)(*(long *)(param_1 + 0x58) - *(long *)(param_1 + 0x50))) {
            uVar26 = *(long *)(pBVar24 + -0x88) - *(long *)(pBVar24 + -0x90);
            pBVar24 = pBVar25;
          }
          if (pBVar25 <= param_2) break;
          uVar4 = *(undefined8 *)param_2;
          BVar3 = param_2[8];
          uVar6 = *(undefined4 *)(param_2 + 0x10);
          uVar7 = *(undefined4 *)(param_2 + 0x14);
          uVar8 = *(undefined4 *)(param_2 + 0x18);
          uVar9 = *(undefined4 *)(param_2 + 0x1c);
          uVar10 = *(undefined4 *)(param_2 + 0x20);
          uVar11 = *(undefined4 *)(param_2 + 0x24);
          uVar12 = *(undefined4 *)(param_2 + 0x28);
          uVar13 = *(undefined4 *)(param_2 + 0x2c);
          uVar14 = *(undefined4 *)(param_2 + 0x30);
          uVar15 = *(undefined4 *)(param_2 + 0x34);
          uVar16 = *(undefined4 *)(param_2 + 0x38);
          uVar17 = *(undefined4 *)(param_2 + 0x3c);
          *(undefined8 *)param_2 = *(undefined8 *)pBVar25;
          uVar18 = *(undefined4 *)(param_2 + 0x40);
          uVar19 = *(undefined4 *)(param_2 + 0x44);
          uVar20 = *(undefined4 *)(param_2 + 0x48);
          uVar21 = *(undefined4 *)(param_2 + 0x4c);
          uVar5 = *(undefined8 *)(param_2 + 0x60);
          param_2[8] = pBVar24[-0x68];
          uVar22 = *(undefined8 *)(pBVar24 + -0x58);
          *(undefined8 *)(param_2 + 0x10) = *(undefined8 *)(pBVar24 + -0x60);
          *(undefined8 *)(param_2 + 0x18) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x48);
          *(undefined8 *)(param_2 + 0x20) = *(undefined8 *)(pBVar24 + -0x50);
          *(undefined8 *)(param_2 + 0x28) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x38);
          *(undefined8 *)(param_2 + 0x30) = *(undefined8 *)(pBVar24 + -0x40);
          *(undefined8 *)(param_2 + 0x38) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x28);
          *(undefined8 *)(param_2 + 0x40) = *(undefined8 *)(pBVar24 + -0x30);
          *(undefined8 *)(param_2 + 0x48) = uVar22;
          uVar22 = *(undefined8 *)(pBVar24 + -0x18);
          *(undefined8 *)(param_2 + 0x50) = *(undefined8 *)(pBVar24 + -0x20);
          *(undefined8 *)(param_2 + 0x58) = uVar22;
          *(undefined8 *)(param_2 + 0x60) = *(undefined8 *)(pBVar24 + -0x10);
          *(long *)(pBVar24 + -0x20) = lVar23;
          *(long *)(pBVar24 + -0x18) = lVar29;
          *(undefined8 *)pBVar25 = uVar4;
          pBVar24[-0x68] = BVar3;
          *(undefined8 *)(pBVar24 + -0x10) = uVar5;
          *(undefined4 *)(pBVar24 + -0x60) = uVar6;
          *(undefined4 *)(pBVar24 + -0x5c) = uVar7;
          *(undefined4 *)(pBVar24 + -0x58) = uVar8;
          *(undefined4 *)(pBVar24 + -0x54) = uVar9;
          *(undefined4 *)(pBVar24 + -0x50) = uVar10;
          *(undefined4 *)(pBVar24 + -0x4c) = uVar11;
          *(undefined4 *)(pBVar24 + -0x48) = uVar12;
          *(undefined4 *)(pBVar24 + -0x44) = uVar13;
          *(undefined4 *)(pBVar24 + -0x40) = uVar14;
          *(undefined4 *)(pBVar24 + -0x3c) = uVar15;
          *(undefined4 *)(pBVar24 + -0x38) = uVar16;
          *(undefined4 *)(pBVar24 + -0x34) = uVar17;
          *(undefined4 *)(pBVar24 + -0x30) = uVar18;
          *(undefined4 *)(pBVar24 + -0x2c) = uVar19;
          *(undefined4 *)(pBVar24 + -0x28) = uVar20;
          *(undefined4 *)(pBVar24 + -0x24) = uVar21;
          pBVar1 = param_2 + 200;
          pBVar2 = param_2 + 0xc0;
          param_2 = param_2 + 0x70;
          lVar23 = *(long *)pBVar2;
          lVar29 = *(long *)pBVar1;
          lVar31 = *(long *)(pBVar24 + -0x88);
          lVar32 = *(long *)(pBVar24 + -0x90);
        }
        __introsort_loop<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,long,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                  (param_2,pBVar33,param_3);
        lVar23 = (long)param_2 - (long)param_1;
        if (lVar23 < 0x701) goto LAB_0011c172;
        pBVar33 = param_2;
      } while (param_3 != 0);
      __make_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                (param_1,param_2,(_Iter_comp_iter *)&local_b8);
    }
    do {
      local_b8 = *(undefined8 *)(param_2 + -0x70);
      pBVar28 = param_2 + -0x70;
      local_b0 = param_2[-0x68];
      local_a8 = *(undefined4 *)(param_2 + -0x60);
      uStack_a4 = *(undefined4 *)(param_2 + -0x5c);
      uStack_a0 = *(undefined4 *)(param_2 + -0x58);
      uStack_9c = *(undefined4 *)(param_2 + -0x54);
      local_98 = *(undefined4 *)(param_2 + -0x50);
      uStack_94 = *(undefined4 *)(param_2 + -0x4c);
      uStack_90 = *(undefined4 *)(param_2 + -0x48);
      uStack_8c = *(undefined4 *)(param_2 + -0x44);
      local_88 = *(undefined4 *)(param_2 + -0x40);
      uStack_84 = *(undefined4 *)(param_2 + -0x3c);
      uStack_80 = *(undefined4 *)(param_2 + -0x38);
      uStack_7c = *(undefined4 *)(param_2 + -0x34);
      *(undefined8 *)pBVar28 = *(undefined8 *)param_1;
      local_78 = *(undefined4 *)(param_2 + -0x30);
      uStack_74 = *(undefined4 *)(param_2 + -0x2c);
      uStack_70 = *(undefined4 *)(param_2 + -0x28);
      uStack_6c = *(undefined4 *)(param_2 + -0x24);
      local_68 = *(undefined8 *)(param_2 + -0x20);
      local_60 = *(undefined8 *)(param_2 + -0x18);
      param_2[-0x68] = param_1[8];
      uVar4 = *(undefined8 *)(param_1 + 0x18);
      local_58 = *(undefined8 *)(param_2 + -0x10);
      *(undefined8 *)(param_2 + -0x60) = *(undefined8 *)(param_1 + 0x10);
      *(undefined8 *)(param_2 + -0x58) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x28);
      *(undefined8 *)(param_2 + -0x50) = *(undefined8 *)(param_1 + 0x20);
      *(undefined8 *)(param_2 + -0x48) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x38);
      *(undefined8 *)(param_2 + -0x40) = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(param_2 + -0x38) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x48);
      *(undefined8 *)(param_2 + -0x30) = *(undefined8 *)(param_1 + 0x40);
      *(undefined8 *)(param_2 + -0x28) = uVar4;
      uVar4 = *(undefined8 *)(param_1 + 0x58);
      *(undefined8 *)(param_2 + -0x20) = *(undefined8 *)(param_1 + 0x50);
      *(undefined8 *)(param_2 + -0x18) = uVar4;
      *(undefined8 *)(param_2 + -0x10) = *(undefined8 *)(param_1 + 0x60);
      __adjust_heap<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>*,long,embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>,__gnu_cxx::__ops::_Iter_comp_iter<std::greater<embree::sse2::GeneralBVHBuilder::BuildRecordT<embree::sse2::PrimInfoExtRange,embree::sse2::Split2<embree::sse2::BinSplit<32ul>,embree::sse2::SpatialBinSplit<16ul>>>>>>
                (param_1,0,((long)pBVar28 - (long)param_1 >> 4) * 0x6db6db6db6db6db7,&local_b8);
      param_2 = pBVar28;
    } while (0x70 < (long)pBVar28 - (long)param_1);
  }
LAB_0011c172:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011c615) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  char cVar12;
  long lVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar13 = embree::TaskScheduler::allocThreadIndex();
  pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar14 = lVar13;
  pTVar18 = pTVar14 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar15 = pTVar16 + 0x80;
    *(undefined4 *)(pTVar16 + 0x40) = 0;
    pTVar16 = pTVar15;
  } while (pTVar14 + 0x40040 != pTVar15);
  *(undefined8 *)(pTVar14 + 0x40040) = 0;
  *(undefined8 *)(pTVar14 + 0x40080) = 0;
  *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar14 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar14 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar13 * 8) = pTVar14;
  UNLOCK();
  local_48 = pTVar14;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
  if (*(ulong *)(pTVar14 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
      pTVar15 = pTVar14 + uVar3 + 0x40090;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar15 = &PTR_execute_00122ec0;
      uVar5 = *(undefined8 *)(param_1 + 0x20);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar15 + 8) = uVar8;
      *(undefined8 *)(pTVar15 + 0x10) = uVar9;
      *(undefined8 *)(pTVar15 + 0x28) = uVar5;
      *(undefined8 *)(pTVar15 + 0x18) = uVar10;
      *(undefined8 *)(pTVar15 + 0x20) = uVar11;
      lVar17 = *(long *)(pTVar14 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar14 + 0xc0100);
      pTVar14[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar14 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar14 + lVar17 + 0x50) = pTVar15;
      *(long *)(pTVar14 + lVar17 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar14 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar14 + lVar17 + 0x68) = lVar4;
      *(ulong *)(pTVar14 + lVar17 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
        LOCK();
        *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar15 = local_48 + 8;
            *(long *)pTVar15 = *(long *)pTVar15 + -1;
            UNLOCK();
            if (*(long *)pTVar15 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar12 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar14);
      } while (cVar12 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar13 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar14 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar14 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar14);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011c8b3:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00122ec0;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011c8b3;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#3},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::B...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::B___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#3},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)#4}>
  ::
  partition(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#1}::operator()(*(_lambda_unsigned_long__1_ **)(this + 0x20),uVar1);
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011cd65) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  char cVar12;
  long lVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar13 = embree::TaskScheduler::allocThreadIndex();
  pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar14 = lVar13;
  pTVar18 = pTVar14 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar15 = pTVar16 + 0x80;
    *(undefined4 *)(pTVar16 + 0x40) = 0;
    pTVar16 = pTVar15;
  } while (pTVar14 + 0x40040 != pTVar15);
  *(undefined8 *)(pTVar14 + 0x40040) = 0;
  *(undefined8 *)(pTVar14 + 0x40080) = 0;
  *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar14 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar14 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar13 * 8) = pTVar14;
  UNLOCK();
  local_48 = pTVar14;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
  if (*(ulong *)(pTVar14 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
      pTVar15 = pTVar14 + uVar3 + 0x40090;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar15 = &PTR_execute_00122ed8;
      uVar5 = *(undefined8 *)(param_1 + 0x20);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar15 + 8) = uVar8;
      *(undefined8 *)(pTVar15 + 0x10) = uVar9;
      *(undefined8 *)(pTVar15 + 0x28) = uVar5;
      *(undefined8 *)(pTVar15 + 0x18) = uVar10;
      *(undefined8 *)(pTVar15 + 0x20) = uVar11;
      lVar17 = *(long *)(pTVar14 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar14 + 0xc0100);
      pTVar14[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar14 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar14 + lVar17 + 0x50) = pTVar15;
      *(long *)(pTVar14 + lVar17 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar14 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar14 + lVar17 + 0x68) = lVar4;
      *(ulong *)(pTVar14 + lVar17 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
        LOCK();
        *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar15 = local_48 + 8;
            *(long *)pTVar15 = *(long *)pTVar15 + -1;
            UNLOCK();
            if (*(long *)pTVar15 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar12 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar14);
      } while (cVar12 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar13 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar14 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar14 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar14);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long, embree::parallel_for<unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___1_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_48;
  ulong uStack_40;
  ulong local_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)param_4;
  local_48 = param_2;
  uStack_40 = param_1;
  local_38 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embre___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_48,param_5,param_2 - param_1,true);
LAB_0011d003:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_00122ed8;
      puVar3[1] = local_48;
      puVar3[2] = uStack_40;
      puVar3[5] = local_28;
      puVar3[3] = local_38;
      puVar3[4] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0011d003;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRef, embree::CentGeom<embree::BBox<embree::Vec3fa> >,
   embree::EmptyTy, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >
   const&)#4}>::partition(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#3},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::B...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::B___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  ulong uVar2;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar2 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar2,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar2,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___1_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef_const&)#1},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)#3},embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)#4}>
  ::
  partition(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>&)
  ::{lambda(unsigned_long)#2}::operator()(*(_lambda_unsigned_long__2_ **)(this + 0x20),uVar1);
  return;
}



/* unsigned long embree::parallel_partitioning<embree::PrimRef,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3}, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> > const&)#4}>(embree::PrimRef*, unsigned long,
   unsigned long, embree::EmptyTy const&, embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&, embree::sse2::PrimInfoRange&)::{lambda(embree::PrimRef
   const&)#1} const&, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const&)#3} const&, embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,
   32ul>::split_template<true>(embree::sse2::BinSplit<32ul> const&, embree::sse2::PrimInfoRange
   const&, embree::sse2::PrimInfoRange&,
   embree::sse2::PrimInfoRange&)::{lambda(embree::CentGeom<embree::BBox<embree::Vec3fa> >&,
   embree::CentGeom<embree::BBox<embree::Vec3fa> > const&)#4} const&, unsigned long) */

ulong embree::
      parallel_partitioning<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embree::BBox<embree::Vec3fa>>const&)_4_>
                (PrimRef *param_1,ulong param_2,ulong param_3,EmptyTy *param_4,
                CentGeom_conflict *param_5,CentGeom_conflict *param_6,
                _lambda_embree__PrimRef_const___1_ *param_7,
                _lambda_embree__CentGeom<embree::BBox<embree::Vec3fa>_>__embree__PrimRef_const___3_
                *param_8,_lambda_embree__CentGeom<embree::BBox<embree::Vec3fa>_>__embree__CentGeom<embree::BBox<embree::Vec3fa>_>_const___4_
                         *param_9,ulong param_10)

{
  int *piVar1;
  uint *puVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  bool bVar8;
  bool bVar9;
  float fVar10;
  undefined8 ****ppppuVar11;
  undefined8 ***pppuVar12;
  undefined1 (*pauVar13) [16];
  undefined8 ****ppppuVar14;
  int iVar15;
  PrimRef *pPVar16;
  undefined8 ****ppppuVar17;
  PrimRef *pPVar18;
  PrimRef *pPVar19;
  undefined8 ****ppppuVar20;
  uint uVar21;
  ulong uVar22;
  undefined8 ****ppppuVar23;
  long lVar24;
  long lVar25;
  long lVar26;
  long lVar27;
  undefined8 ***pppuVar28;
  long in_FS_OFFSET;
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  int iVar32;
  int iVar35;
  int iVar36;
  int iVar37;
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar38 [16];
  uint uVar39;
  uint uVar40;
  uint uVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  float fVar52;
  float fVar53;
  long local_98;
  long local_90;
  undefined8 **local_88;
  long local_80;
  undefined8 ***local_78;
  undefined8 ***pppuStack_70;
  undefined8 ***local_68;
  undefined8 ***pppuStack_60;
  long *local_58;
  long *local_50;
  long local_40;
  
  fVar10 = _LC5;
  pppuVar28 = (undefined8 ***)(param_3 - param_2);
  uVar22 = param_2 * 0x20;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  pPVar16 = param_1 + uVar22;
  if (pppuVar28 < param_10) {
    pPVar18 = param_1 + param_3 * 0x20 + -0x20;
    for (; pPVar16 <= pPVar18; pPVar16 = pPVar16 + 0x20) {
      auVar29 = *(undefined1 (*) [16])(pPVar16 + 0x10);
      auVar30 = *(undefined1 (*) [16])pPVar16;
      lVar24 = *(long *)param_7;
      fVar50 = auVar29._0_4_ + auVar30._0_4_;
      fVar51 = auVar29._4_4_ + auVar30._4_4_;
      fVar52 = auVar29._8_4_ + auVar30._8_4_;
      fVar53 = auVar29._12_4_ + auVar30._12_4_;
      fVar46 = *(float *)(lVar24 + 0x20);
      fVar47 = *(float *)(lVar24 + 0x24);
      fVar48 = *(float *)(lVar24 + 0x28);
      fVar49 = *(float *)(lVar24 + 0x2c);
      fVar42 = *(float *)(lVar24 + 0x30);
      fVar43 = *(float *)(lVar24 + 0x34);
      fVar44 = *(float *)(lVar24 + 0x38);
      fVar45 = *(float *)(lVar24 + 0x3c);
      piVar1 = *(int **)(param_7 + 8);
      iVar32 = *piVar1;
      iVar35 = piVar1[1];
      iVar36 = piVar1[2];
      iVar37 = piVar1[3];
      puVar2 = *(uint **)(param_7 + 0x10);
      uVar21 = *puVar2;
      uVar39 = puVar2[1];
      uVar40 = puVar2[2];
      uVar41 = puVar2[3];
      auVar34._0_4_ = -(uint)((int)((fVar50 - fVar46) * fVar42 + fVar10) < iVar32) & uVar21;
      auVar34._4_4_ = -(uint)((int)((fVar51 - fVar47) * fVar43 + fVar10) < iVar35) & uVar39;
      auVar34._8_4_ = -(uint)((int)((fVar52 - fVar48) * fVar44 + fVar10) < iVar36) & uVar40;
      auVar34._12_4_ = -(uint)((int)((fVar53 - fVar49) * fVar45 + fVar10) < iVar37) & uVar41;
      iVar15 = movmskps((int)puVar2,auVar34);
      pPVar19 = pPVar18;
      if (iVar15 == 0) {
        while( true ) {
          auVar29 = *(undefined1 (*) [16])(pPVar19 + 0x10);
          auVar30 = *(undefined1 (*) [16])pPVar19;
          pPVar18 = pPVar19 + -0x20;
          auVar38._0_4_ = auVar29._0_4_ + auVar30._0_4_;
          auVar38._4_4_ = auVar29._4_4_ + auVar30._4_4_;
          auVar38._8_4_ = auVar29._8_4_ + auVar30._8_4_;
          auVar38._12_4_ = auVar29._12_4_ + auVar30._12_4_;
          auVar33._0_4_ =
               -(uint)((int)((auVar38._0_4_ - fVar46) * fVar42 + fVar10) < iVar32) & uVar21;
          auVar33._4_4_ =
               -(uint)((int)((auVar38._4_4_ - fVar47) * fVar43 + fVar10) < iVar35) & uVar39;
          auVar33._8_4_ =
               -(uint)((int)((auVar38._8_4_ - fVar48) * fVar44 + fVar10) < iVar36) & uVar40;
          auVar33._12_4_ =
               -(uint)((int)((auVar38._12_4_ - fVar49) * fVar45 + fVar10) < iVar37) & uVar41;
          uVar21 = movmskps((int)uVar22,auVar33);
          uVar22 = (ulong)uVar21;
          if (uVar21 != 0) break;
          auVar30 = minps(*(undefined1 (*) [16])param_6,auVar30);
          *(undefined1 (*) [16])param_6 = auVar30;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar29);
          *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
          auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
          auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
          if (pPVar18 < pPVar16) goto LAB_0011d5bf;
          lVar24 = *(long *)param_7;
          fVar46 = *(float *)(lVar24 + 0x20);
          fVar47 = *(float *)(lVar24 + 0x24);
          fVar48 = *(float *)(lVar24 + 0x28);
          fVar49 = *(float *)(lVar24 + 0x2c);
          fVar42 = *(float *)(lVar24 + 0x30);
          fVar43 = *(float *)(lVar24 + 0x34);
          fVar44 = *(float *)(lVar24 + 0x38);
          fVar45 = *(float *)(lVar24 + 0x3c);
          piVar1 = *(int **)(param_7 + 8);
          iVar32 = *piVar1;
          iVar35 = piVar1[1];
          iVar36 = piVar1[2];
          iVar37 = piVar1[3];
          puVar2 = *(uint **)(param_7 + 0x10);
          uVar21 = *puVar2;
          uVar39 = puVar2[1];
          uVar40 = puVar2[2];
          uVar41 = puVar2[3];
          pPVar19 = pPVar18;
        }
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
        auVar29 = *(undefined1 (*) [16])pPVar16;
        auVar30 = *(undefined1 (*) [16])(pPVar16 + 0x10);
        auVar34 = minps(*(undefined1 (*) [16])param_6,auVar29);
        *(undefined1 (*) [16])param_6 = auVar34;
        auVar34 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar30);
        auVar31._0_4_ = auVar30._0_4_ + auVar29._0_4_;
        auVar31._4_4_ = auVar30._4_4_ + auVar29._4_4_;
        auVar31._8_4_ = auVar30._8_4_ + auVar29._8_4_;
        auVar31._12_4_ = auVar30._12_4_ + auVar29._12_4_;
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar34;
        auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
        auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar31);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
        uVar3 = *(undefined8 *)(pPVar19 + 8);
        uVar4 = *(undefined8 *)pPVar16;
        uVar5 = *(undefined8 *)(pPVar16 + 8);
        uVar6 = *(undefined8 *)(pPVar16 + 0x10);
        uVar7 = *(undefined8 *)(pPVar16 + 0x18);
        *(undefined8 *)pPVar16 = *(undefined8 *)pPVar19;
        *(undefined8 *)(pPVar16 + 8) = uVar3;
        uVar3 = *(undefined8 *)(pPVar19 + 0x18);
        *(undefined8 *)(pPVar16 + 0x10) = *(undefined8 *)(pPVar19 + 0x10);
        *(undefined8 *)(pPVar16 + 0x18) = uVar3;
        *(undefined8 *)pPVar19 = uVar4;
        *(undefined8 *)(pPVar19 + 8) = uVar5;
        *(undefined8 *)(pPVar19 + 0x10) = uVar6;
        *(undefined8 *)(pPVar19 + 0x18) = uVar7;
      }
      else {
        auVar30 = minps(*(undefined1 (*) [16])param_5,auVar30);
        *(undefined1 (*) [16])param_5 = auVar30;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
        auVar29._4_4_ = fVar51;
        auVar29._0_4_ = fVar50;
        auVar29._8_4_ = fVar52;
        auVar29._12_4_ = fVar53;
        auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar29);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
        auVar30._4_4_ = fVar51;
        auVar30._0_4_ = fVar50;
        auVar30._8_4_ = fVar52;
        auVar30._12_4_ = fVar53;
        auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar30);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
      }
    }
LAB_0011d5bf:
    uVar22 = (long)pPVar16 - (long)param_1 >> 5;
    goto LAB_0011d205;
  }
  ppppuVar11 = (undefined8 ****)embree::alignedMalloc(0x2cc0,0x40);
  ppppuVar11[1] = pppuVar28;
  *ppppuVar11 = (undefined8 ***)pPVar16;
  ppppuVar11[2] = (undefined8 ***)param_7;
  ppppuVar11[3] = (undefined8 ***)param_8;
  ppppuVar11[4] = (undefined8 ***)param_9;
  ppppuVar11[5] = (undefined8 ***)param_4;
  pppuVar12 = (undefined8 ***)embree::TaskScheduler::threadCount();
  pppuVar28 = (undefined8 ***)(((long)pppuVar28 + (param_10 - 1)) / param_10);
  if ((undefined8 ***)0x40 < pppuVar28) {
    pppuVar28 = (undefined8 ***)0x40;
  }
  if (pppuVar28 <= pppuVar12) {
    pppuVar12 = pppuVar28;
  }
  ppppuVar11[6] = pppuVar12;
  local_68 = ppppuVar11;
  if (pppuVar12 == (undefined8 ***)0x0) {
    ppppuVar11[0x50] = (undefined8 ***)0x0;
    ppppuVar11[8] = ppppuVar11[1];
LAB_0011d1e6:
    ppppuVar17 = (undefined8 ****)ppppuVar11[0x50];
  }
  else {
    local_80 = 0;
    local_78 = &local_68;
    TaskScheduler::
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (0,(ulong)pppuVar12,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_78,
               (TaskGroupContext *)&local_80);
    embree::TaskScheduler::wait();
    if (local_80 != 0) goto LAB_0011d4e7;
    pppuVar28 = ppppuVar11[6];
    pppuVar12 = ppppuVar11[1];
    ppppuVar11[(long)(pppuVar28 + 10)] = (undefined8 ***)0x0;
    ppppuVar11[(long)(pppuVar28 + 1)] = pppuVar12;
    if (pppuVar28 == (undefined8 ***)0x0) goto LAB_0011d1e6;
    pppuVar28 = (undefined8 ***)0x0;
    pauVar13 = (undefined1 (*) [16])(ppppuVar11 + 0x198);
    do {
      auVar29 = minps(*(undefined1 (*) [16])param_5,*pauVar13);
      pppuVar28 = (undefined8 ***)((long)pppuVar28 + 1);
      *(undefined1 (*) [16])param_5 = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),pauVar13[1]);
      *(undefined1 (*) [16])(param_5 + 0x10) = auVar29;
      auVar29 = minps(*(undefined1 (*) [16])(param_5 + 0x20),pauVar13[2]);
      *(undefined1 (*) [16])(param_5 + 0x20) = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),pauVar13[3]);
      *(undefined1 (*) [16])(param_5 + 0x30) = auVar29;
      auVar29 = minps(*(undefined1 (*) [16])param_6,pauVar13[0x100]);
      *(undefined1 (*) [16])param_6 = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),pauVar13[0x101]);
      *(undefined1 (*) [16])(param_6 + 0x10) = auVar29;
      auVar29 = minps(*(undefined1 (*) [16])(param_6 + 0x20),pauVar13[0x102]);
      *(undefined1 (*) [16])(param_6 + 0x20) = auVar29;
      auVar29 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),pauVar13[0x103]);
      *(undefined1 (*) [16])(param_6 + 0x30) = auVar29;
      pppuVar12 = ppppuVar11[6];
      pauVar13 = pauVar13 + 4;
    } while (pppuVar28 < pppuVar12);
    ppppuVar17 = (undefined8 ****)ppppuVar11[0x50];
    ppppuVar20 = ppppuVar17;
    if (pppuVar12 < (undefined8 ***)0x2) {
      ppppuVar14 = (undefined8 ****)ppppuVar11[1];
      local_98 = 0;
      local_90 = 0;
      local_88 = (undefined8 ***)0x0;
      if (pppuVar12 == (undefined8 ***)0x0) goto LAB_0011d1f0;
    }
    else {
      ppppuVar14 = ppppuVar11 + 0x51;
      do {
        ppppuVar20 = (undefined8 ****)((long)ppppuVar20 + (long)*ppppuVar14);
        ppppuVar14 = ppppuVar14 + 1;
      } while (ppppuVar11 + (long)(pppuVar12 + 10) != ppppuVar14);
      ppppuVar14 = (undefined8 ****)ppppuVar11[1];
    }
    local_88 = (undefined8 ***)0x0;
    local_90 = 0;
    local_98 = 0;
    bVar9 = false;
    bVar8 = false;
    pppuVar28 = (undefined8 ***)0x0;
    ppppuVar23 = ppppuVar11 + 8;
    lVar24 = 0;
    lVar26 = 0;
    while( true ) {
      local_68 = *ppppuVar23;
      pppuStack_60 = (undefined8 ***)((long)ppppuVar17 + (long)local_68);
      pppuStack_70 = ppppuVar23[1];
      if ((long)ppppuVar20 <= (long)ppppuVar23[1]) {
        pppuStack_70 = ppppuVar20;
      }
      local_78 = (undefined8 ****)0x0;
      if (-1 < (long)pppuStack_60) {
        local_78 = pppuStack_60;
      }
      if ((long)ppppuVar14 < (long)pppuStack_60) {
        pppuStack_60 = ppppuVar14;
      }
      if ((long)local_68 < (long)ppppuVar20) {
        local_68 = ppppuVar20;
      }
      lVar25 = lVar24;
      if ((long)local_78 < (long)pppuStack_70) {
        bVar9 = true;
        pppuVar28 = (undefined8 ***)((long)pppuStack_70 + ((long)pppuVar28 - (long)local_78));
        lVar25 = lVar24 + 1;
        ppppuVar11[lVar24 * 2 + 0x98] = local_78;
        (ppppuVar11 + lVar24 * 2 + 0x98)[1] = pppuStack_70;
      }
      lVar27 = lVar26;
      if ((long)local_68 < (long)pppuStack_60) {
        lVar27 = lVar26 + 1;
        bVar8 = true;
        ppppuVar11[lVar26 * 2 + 0x118] = local_68;
        (ppppuVar11 + lVar26 * 2 + 0x118)[1] = pppuStack_60;
      }
      if (ppppuVar11 + 8 + (long)pppuVar12 == ppppuVar23 + 1) break;
      ppppuVar17 = (undefined8 ****)ppppuVar23[0x49];
      ppppuVar23 = ppppuVar23 + 1;
      lVar24 = lVar25;
      lVar26 = lVar27;
    }
    if (bVar8) {
      local_90 = lVar27;
    }
    ppppuVar17 = ppppuVar20;
    if ((bVar9) && (local_98 = lVar25, local_88 = pppuVar28, pppuVar28 != (undefined8 ***)0x0)) {
      local_68 = &local_88;
      local_58 = &local_98;
      local_50 = &local_90;
      local_80 = 0;
      local_78 = &local_68;
      pppuStack_60 = ppppuVar11;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRef,embree::CentGeom<embree::BBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::PrimRef_const&)_1_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const&)_3_,embree::sse2::HeuristicArrayBinningSAH<embree::PrimRef,32ul>::split_template<true>(embree::sse2::BinSplit<32ul>const&,embree::sse2::PrimInfoRange_const&,embree::sse2::PrimInfoRange&,embree::sse2::PrimInfoRange&)::_lambda(embree::CentGeom<embree::BBox<embree::Vec3fa>>&,embree::CentGeom<embr___mbree::Vec3fa>>&)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,(ulong)pppuVar12,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_78,
                 (TaskGroupContext *)&local_80);
      embree::TaskScheduler::wait();
      if (local_80 != 0) {
LAB_0011d4e7:
        local_78 = (undefined8 ***)local_80;
        std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
        std::rethrow_exception((_lambda_embree__range<unsigned_long>_const___1_ *)&local_78);
      }
    }
  }
LAB_0011d1f0:
  if (ppppuVar11 != (undefined8 ****)0x0) {
    embree::alignedFree(ppppuVar11);
  }
  uVar22 = param_2 + (long)ppppuVar17;
LAB_0011d205:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar22;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*, long,
   embree::sse2::BVHBuilderMorton::BuildPrim, __gnu_cxx::__ops::_Iter_comp_iter<bool
   (*)(embree::sse2::BVHBuilderMorton::BuildPrim const&, embree::sse2::BVHBuilderMorton::BuildPrim
   const&)> >(embree::sse2::BVHBuilderMorton::BuildPrim*, long, long,
   embree::sse2::BVHBuilderMorton::BuildPrim, __gnu_cxx::__ops::_Iter_comp_iter<bool
   (*)(embree::sse2::BVHBuilderMorton::BuildPrim const&, embree::sse2::BVHBuilderMorton::BuildPrim
   const&)>) */

void std::
     __adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*,long,embree::sse2::BVHBuilderMorton::BuildPrim,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
               (long param_1,long param_2,ulong param_3,undefined8 param_4,code *param_5)

{
  undefined8 *puVar1;
  char cVar2;
  long lVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  undefined8 *puVar7;
  long in_FS_OFFSET;
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar5 = (long)(param_3 - 1) / 2;
  lVar6 = param_2;
  local_48 = param_4;
  if (param_2 < lVar5) {
    do {
      lVar4 = (lVar6 + 1) * 2;
      lVar3 = (lVar6 + 1) * 0x10;
      puVar7 = (undefined8 *)(param_1 + lVar3);
      cVar2 = (*param_5)(puVar7,param_1 + -8 + lVar3);
      if (cVar2 != '\0') {
        lVar4 = lVar4 + -1;
        puVar7 = (undefined8 *)(param_1 + lVar4 * 8);
      }
      *(undefined8 *)(param_1 + lVar6 * 8) = *puVar7;
      lVar6 = lVar4;
    } while (lVar4 < lVar5);
    if ((param_3 & 1) == 0) goto LAB_0011d898;
  }
  else {
    puVar7 = (undefined8 *)(param_1 + param_2 * 8);
    lVar4 = param_2;
    if ((param_3 & 1) != 0) goto LAB_0011d84f;
LAB_0011d898:
    if ((long)(param_3 - 2) / 2 == lVar4) {
      lVar6 = lVar4 * 2;
      lVar4 = lVar6 + 1;
      *puVar7 = *(undefined8 *)(param_1 + -8 + (lVar6 + 2) * 8);
      puVar7 = (undefined8 *)(param_1 + lVar4 * 8);
    }
  }
  lVar6 = (lVar4 + -1) - (lVar4 + -1 >> 0x3f);
  if (param_2 < lVar4) {
    do {
      lVar5 = lVar6 >> 1;
      puVar1 = (undefined8 *)(param_1 + lVar5 * 8);
      puVar7 = (undefined8 *)(param_1 + lVar4 * 8);
      cVar2 = (*param_5)(puVar1,&local_48);
      if (cVar2 == '\0') break;
      *puVar7 = *puVar1;
      lVar6 = (lVar5 + -1) - (lVar5 + -1 >> 0x3f);
      lVar4 = lVar5;
      puVar7 = puVar1;
    } while (param_2 < lVar5);
  }
LAB_0011d84f:
  *puVar7 = local_48;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*, long,
   __gnu_cxx::__ops::_Iter_comp_iter<bool (*)(embree::sse2::BVHBuilderMorton::BuildPrim const&,
   embree::sse2::BVHBuilderMorton::BuildPrim const&)> >(embree::sse2::BVHBuilderMorton::BuildPrim*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, long, __gnu_cxx::__ops::_Iter_comp_iter<bool
   (*)(embree::sse2::BVHBuilderMorton::BuildPrim const&, embree::sse2::BVHBuilderMorton::BuildPrim
   const&)>) */

void std::
     __introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*,long,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
               (undefined8 *param_1,undefined8 *param_2,long param_3,code *param_4)

{
  undefined8 *puVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  undefined8 uVar4;
  char cVar5;
  long lVar6;
  undefined8 uVar7;
  undefined8 *puVar8;
  undefined8 *puVar9;
  long lVar10;
  
  lVar6 = (long)param_2 - (long)param_1;
  if (lVar6 < 0x81) {
    return;
  }
  if (param_3 != 0) {
    puVar3 = param_1 + 1;
    puVar9 = param_2;
    do {
      puVar1 = puVar9 + -1;
      param_3 = param_3 + -1;
      puVar2 = param_1 + (lVar6 >> 4);
      cVar5 = (*param_4)(puVar3,puVar2);
      param_2 = puVar3;
      puVar8 = puVar9;
      if (cVar5 == '\0') {
        cVar5 = (*param_4)(puVar3,puVar1);
        if (cVar5 == '\0') {
          cVar5 = (*param_4)(puVar2,puVar1);
          uVar7 = *param_1;
          if (cVar5 != '\0') goto LAB_0011da3e;
          *param_1 = *puVar2;
          *puVar2 = uVar7;
        }
        else {
          uVar7 = *param_1;
LAB_0011da18:
          uVar4 = param_1[1];
          param_1[1] = uVar7;
          *param_1 = uVar4;
        }
      }
      else {
        cVar5 = (*param_4)(puVar2);
        if (cVar5 == '\0') {
          cVar5 = (*param_4)(puVar3,puVar1);
          uVar7 = *param_1;
          if (cVar5 == '\0') goto LAB_0011da18;
LAB_0011da3e:
          *param_1 = puVar9[-1];
          puVar9[-1] = uVar7;
        }
        else {
          uVar7 = *param_1;
          *param_1 = *puVar2;
          *puVar2 = uVar7;
        }
      }
      while( true ) {
        while (cVar5 = (*param_4)(param_2,param_1), cVar5 != '\0') {
          param_2 = param_2 + 1;
        }
        do {
          puVar8 = puVar8 + -1;
          cVar5 = (*param_4)(param_1,puVar8);
        } while (cVar5 != '\0');
        if (puVar8 <= param_2) break;
        uVar7 = *param_2;
        *param_2 = *puVar8;
        *puVar8 = uVar7;
        param_2 = param_2 + 1;
      }
      __introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*,long,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
                (param_2,puVar9,param_3,param_4);
      lVar6 = (long)param_2 - (long)param_1;
      if (lVar6 < 0x81) {
        return;
      }
      puVar9 = param_2;
    } while (param_3 != 0);
  }
  for (lVar10 = (lVar6 >> 3) + -2 >> 1;
      __adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*,long,embree::sse2::BVHBuilderMorton::BuildPrim,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
                (param_1,lVar10,lVar6 >> 3,param_1[lVar10],param_4), lVar10 != 0;
      lVar10 = lVar10 + -1) {
  }
  do {
    param_2 = param_2 + -1;
    uVar7 = *param_2;
    *param_2 = *param_1;
    __adjust_heap<embree::sse2::BVHBuilderMorton::BuildPrim*,long,embree::sse2::BVHBuilderMorton::BuildPrim,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
              (param_1,0,(long)param_2 - (long)param_1 >> 3,uVar7,param_4);
  } while (8 < (long)param_2 - (long)param_1);
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011deb5) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  char cVar12;
  long lVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar13 = embree::TaskScheduler::allocThreadIndex();
  pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar14 = lVar13;
  pTVar18 = pTVar14 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar15 = pTVar16 + 0x80;
    *(undefined4 *)(pTVar16 + 0x40) = 0;
    pTVar16 = pTVar15;
  } while (pTVar14 + 0x40040 != pTVar15);
  *(undefined8 *)(pTVar14 + 0x40040) = 0;
  *(undefined8 *)(pTVar14 + 0x40080) = 0;
  *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar14 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar14 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar13 * 8) = pTVar14;
  UNLOCK();
  local_48 = pTVar14;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
  if (*(ulong *)(pTVar14 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
      pTVar15 = pTVar14 + uVar3 + 0x40090;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar15 = &PTR_execute_00122ef0;
      uVar5 = *(undefined8 *)(param_1 + 0x20);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar15 + 8) = uVar8;
      *(undefined8 *)(pTVar15 + 0x10) = uVar9;
      *(undefined8 *)(pTVar15 + 0x28) = uVar5;
      *(undefined8 *)(pTVar15 + 0x18) = uVar10;
      *(undefined8 *)(pTVar15 + 0x20) = uVar11;
      lVar17 = *(long *)(pTVar14 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar14 + 0xc0100);
      pTVar14[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar14 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar14 + lVar17 + 0x50) = pTVar15;
      *(long *)(pTVar14 + lVar17 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar14 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar14 + lVar17 + 0x68) = lVar4;
      *(ulong *)(pTVar14 + lVar17 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
        LOCK();
        *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar15 = local_48 + 8;
            *(long *)pTVar15 = *(long *)pTVar15 + -1;
            UNLOCK();
            if (*(long *)pTVar15 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar12 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar14);
      } while (cVar12 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar13 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar14 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar14 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar14);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#1}>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#1}const&)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#1}>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#1}const&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  int *piVar1;
  long lVar2;
  undefined4 uVar3;
  uint uVar4;
  ulong uVar5;
  undefined8 *puVar6;
  long *plVar7;
  long lVar8;
  long lVar9;
  uint *puVar10;
  ulong uVar11;
  ulong uVar12;
  
  uVar5 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar5) {
    uVar12 = *(long *)(this + 8) + uVar5 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar5,uVar12,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar12,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  puVar6 = *(undefined8 **)(this + 0x20);
  plVar7 = (long *)puVar6[4];
  uVar11 = uVar5 * plVar7[3];
  lVar8 = *(long *)puVar6[1];
  uVar3 = *(undefined4 *)*puVar6;
  uVar12 = uVar11 / *(ulong *)puVar6[3];
  uVar11 = (plVar7[3] + uVar11) / *(ulong *)puVar6[3];
  lVar9 = 0;
  do {
    lVar2 = lVar9 * 4;
    lVar9 = lVar9 + 1;
    *(undefined4 *)(lVar2 + *plVar7 + uVar5 * 0x400) = 0;
  } while (lVar9 != 0x100);
  lVar9 = *plVar7;
  if (uVar12 < uVar11) {
    puVar10 = (uint *)(lVar8 + uVar12 * 8);
    do {
      uVar4 = *puVar10;
      puVar10 = puVar10 + 2;
      piVar1 = (int *)(lVar9 + uVar5 * 0x400 + (ulong)(byte)(uVar4 >> ((byte)uVar3 & 0x3f)) * 4);
      *piVar1 = *piVar1 + 1;
    } while ((uint *)(lVar8 + uVar11 * 8) != puVar10);
  }
  return;
}



/* WARNING: Removing unreachable block (ram,0x0011e4e5) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  char cVar12;
  long lVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar13 = embree::TaskScheduler::allocThreadIndex();
  pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar14 = lVar13;
  pTVar18 = pTVar14 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar15 = pTVar16 + 0x80;
    *(undefined4 *)(pTVar16 + 0x40) = 0;
    pTVar16 = pTVar15;
  } while (pTVar14 + 0x40040 != pTVar15);
  *(undefined8 *)(pTVar14 + 0x40040) = 0;
  *(undefined8 *)(pTVar14 + 0x40080) = 0;
  *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar14 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar14 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar13 * 8) = pTVar14;
  UNLOCK();
  local_48 = pTVar14;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
  if (*(ulong *)(pTVar14 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
      pTVar15 = pTVar14 + uVar3 + 0x40090;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar15 = &PTR_execute_00122f08;
      uVar5 = *(undefined8 *)(param_1 + 0x20);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar15 + 8) = uVar8;
      *(undefined8 *)(pTVar15 + 0x10) = uVar9;
      *(undefined8 *)(pTVar15 + 0x28) = uVar5;
      *(undefined8 *)(pTVar15 + 0x18) = uVar10;
      *(undefined8 *)(pTVar15 + 0x20) = uVar11;
      lVar17 = *(long *)(pTVar14 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar14 + 0xc0100);
      pTVar14[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar14 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar14 + lVar17 + 0x50) = pTVar15;
      *(long *)(pTVar14 + lVar17 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar14 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar14 + lVar17 + 0x68) = lVar4;
      *(ulong *)(pTVar14 + lVar17 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
        LOCK();
        *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar15 = local_48 + 8;
            *(long *)pTVar15 = *(long *)pTVar15 + -1;
            UNLOCK();
            if (*(long *)pTVar15 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar12 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar14);
      } while (cVar12 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar13 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar14 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar14 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar14);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar18;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long,
   embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}>(unsigned
   long, embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>::tbbRadixIteration(unsigned int, bool, embree::sse2::BVHBuilderMorton::BuildPrim const*,
   embree::sse2::BVHBuilderMorton::BuildPrim*, unsigned long)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#2}>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#2}const&)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#2}>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::{lambda(unsigned_long)#2}const&)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  ulong uVar1;
  undefined8 *puVar2;
  ulong uVar3;
  
  uVar1 = *(ulong *)(this + 0x10);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar1) {
    uVar3 = *(long *)(this + 8) + uVar1 >> 1;
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar1,uVar3,*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
              (uVar3,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               *(_lambda_embree__range<unsigned_long>_const___1_ **)(this + 0x20),
               *(TaskGroupContext **)(this + 0x28));
    embree::TaskScheduler::wait();
    return;
  }
  puVar2 = *(undefined8 **)(this + 0x20);
  ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration1
            ((uint)*(undefined8 *)puVar2[4],(BuildPrim *)((undefined8 *)puVar2[4])[3],
             (BuildPrim *)(ulong)*(uint *)*puVar2,*(ulong *)puVar2[1],*(ulong *)puVar2[2]);
  return;
}



/* void embree::radix_sort<embree::sse2::BVHBuilderMorton::BuildPrim, unsigned
   int>(embree::sse2::BVHBuilderMorton::BuildPrim*, embree::sse2::BVHBuilderMorton::BuildPrim*,
   unsigned long, unsigned long) */

void embree::radix_sort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>
               (BuildPrim *param_1,BuildPrim *param_2,ulong param_3,ulong param_4)

{
  BuildPrim *pBVar1;
  long lVar2;
  bool bVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  BuildPrim *pBVar7;
  BuildPrim *pBVar8;
  long in_FS_OFFSET;
  undefined4 local_b4;
  BuildPrim *local_b0;
  BuildPrim *local_a8;
  ulong local_a0;
  long local_98;
  long local_90;
  void *local_88;
  BuildPrim *local_80;
  BuildPrim *local_78;
  ulong local_70;
  undefined4 *local_68;
  BuildPrim **local_60;
  BuildPrim **local_58;
  ulong *local_50;
  void **local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = (void *)0x0;
  local_80 = param_1;
  local_78 = param_2;
  local_70 = param_3;
  if (param_4 < param_3) {
    uVar4 = embree::TaskScheduler::threadCount();
    uVar5 = ((param_4 - 1) + local_70) / param_4;
    if (uVar5 <= uVar4) {
      uVar4 = uVar5;
    }
    uVar5 = 0x40;
    if (uVar4 < 0x41) {
      uVar5 = uVar4;
    }
    local_88 = (void *)embree::alignedMalloc(0x10000,0x40);
    local_b4 = 0;
    local_b0 = local_80;
    local_a8 = local_78;
    if (uVar4 != 0) {
      local_98 = 0;
      local_a0 = uVar5;
      local_68 = &local_b4;
      local_60 = &local_b0;
      local_58 = &local_a8;
      local_50 = &local_a0;
      local_48 = &local_88;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar5,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                 (TaskGroupContext *)&local_98);
      embree::TaskScheduler::wait();
      local_90 = local_98;
      if (local_98 != 0) goto LAB_0011ecc4;
      if (local_a0 != 0) {
        local_68 = &local_b4;
        local_60 = &local_b0;
        local_58 = &local_a8;
        local_50 = &local_a0;
        local_48 = &local_88;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,local_a0,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                   (TaskGroupContext *)&local_98);
        embree::TaskScheduler::wait();
        local_90 = local_98;
        if (local_98 != 0) goto LAB_0011ecc4;
      }
    }
    local_b4 = 8;
    if (uVar4 != 0) {
      local_98 = 0;
      local_b0 = local_78;
      local_a8 = local_80;
      local_a0 = uVar5;
      local_68 = &local_b4;
      local_60 = &local_b0;
      local_58 = &local_a8;
      local_50 = &local_a0;
      local_48 = &local_88;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar5,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                 (TaskGroupContext *)&local_98);
      embree::TaskScheduler::wait();
      local_90 = local_98;
      if (local_98 != 0) goto LAB_0011ecc4;
      if (local_a0 != 0) {
        local_68 = &local_b4;
        local_60 = &local_b0;
        local_58 = &local_a8;
        local_50 = &local_a0;
        local_48 = &local_88;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,local_a0,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                   (TaskGroupContext *)&local_98);
        embree::TaskScheduler::wait();
        local_90 = local_98;
        if (local_98 != 0) goto LAB_0011ecc4;
      }
    }
    local_b4 = 0x10;
    if (uVar4 != 0) {
      local_98 = 0;
      local_b0 = local_80;
      local_a8 = local_78;
      local_a0 = uVar5;
      local_68 = &local_b4;
      local_60 = &local_b0;
      local_58 = &local_a8;
      local_50 = &local_a0;
      local_48 = &local_88;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar5,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                 (TaskGroupContext *)&local_98);
      embree::TaskScheduler::wait();
      local_90 = local_98;
      if (local_98 != 0) goto LAB_0011ecc4;
      if (local_a0 != 0) {
        local_68 = &local_b4;
        local_60 = &local_b0;
        local_58 = &local_a8;
        local_50 = &local_a0;
        local_48 = &local_88;
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,local_a0,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                   (TaskGroupContext *)&local_98);
        embree::TaskScheduler::wait();
        local_90 = local_98;
        if (local_98 != 0) goto LAB_0011ecc4;
      }
    }
    local_b4 = 0x18;
    local_b0 = local_78;
    local_a8 = local_80;
    local_a0 = uVar5;
    local_68 = &local_b4;
    local_60 = &local_b0;
    local_58 = &local_a8;
    local_50 = &local_a0;
    local_48 = &local_88;
    if (uVar4 != 0) {
      local_98 = 0;
      TaskScheduler::
      spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_1_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                (0,uVar5,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                 (TaskGroupContext *)&local_98);
      embree::TaskScheduler::wait();
      local_90 = local_98;
      if (local_98 != 0) {
LAB_0011ecc4:
        local_98 = local_90;
        std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
        std::rethrow_exception(&local_90);
      }
      local_68 = &local_b4;
      local_60 = &local_b0;
      local_58 = &local_a8;
      local_50 = &local_a0;
      local_48 = &local_88;
      if (local_a0 != 0) {
        TaskScheduler::
        spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_>(unsigned_long,embree::ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::tbbRadixIteration(unsigned_int,bool,embree::sse2::BVHBuilderMorton::BuildPrim_const*,embree::sse2::BVHBuilderMorton::BuildPrim*,unsigned_long)::_lambda(unsigned_long)_2_const&)::_lambda(embree::range<unsigned_long>const&)_1_>
                  (0,local_a0,1,(_lambda_embree__range<unsigned_long>_const___1_ *)&local_68,
                   (TaskGroupContext *)&local_98);
        embree::TaskScheduler::wait();
        if (local_98 != 0) {
          local_90 = local_98;
          goto LAB_0011ecc4;
        }
      }
    }
  }
  else {
    lVar2 = param_3 * 8;
    pBVar1 = param_1 + lVar2;
    if (param_1 != pBVar1) {
      lVar6 = -2;
      uVar4 = lVar2 >> 3;
      if (uVar4 != 0) {
        lVar6 = 0x3f;
        if (uVar4 != 0) {
          for (; uVar4 >> lVar6 == 0; lVar6 = lVar6 + -1) {
          }
        }
        lVar6 = (long)(int)lVar6 * 2;
      }
      std::
      __introsort_loop<embree::sse2::BVHBuilderMorton::BuildPrim*,long,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
                (param_1,pBVar1,lVar6,
                 ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::
                 compare<embree::sse2::BVHBuilderMorton::BuildPrim>);
      if (lVar2 < 0x81) {
        std::
        __insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
                  (param_1,pBVar1,
                   ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::
                   compare<embree::sse2::BVHBuilderMorton::BuildPrim>);
      }
      else {
        pBVar8 = param_1 + 0x78;
        std::
        __insertion_sort<embree::sse2::BVHBuilderMorton::BuildPrim*,__gnu_cxx::__ops::_Iter_comp_iter<bool(*)(embree::sse2::BVHBuilderMorton::BuildPrim_const&,embree::sse2::BVHBuilderMorton::BuildPrim_const&)>>
                  (param_1,param_1 + 0x80,
                   ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>::
                   compare<embree::sse2::BVHBuilderMorton::BuildPrim>);
        if (pBVar1 != param_1 + 0x80) {
          do {
            local_68 = *(undefined4 **)(pBVar8 + 8);
            pBVar7 = pBVar8;
            while (bVar3 = ParallelRadixSort<embree::sse2::BVHBuilderMorton::BuildPrim,unsigned_int>
                           ::compare<embree::sse2::BVHBuilderMorton::BuildPrim>
                                     ((BuildPrim *)&local_68,pBVar7), bVar3) {
              *(undefined8 *)(pBVar7 + 8) = *(undefined8 *)pBVar7;
              pBVar7 = pBVar7 + -8;
            }
            pBVar8 = pBVar8 + 8;
            *(undefined4 **)(pBVar7 + 8) = local_68;
          } while (pBVar8 != pBVar1 + -8);
        }
      }
    }
  }
  embree::alignedFree(local_88);
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >
   embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul,
   embree::PrimRef, embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1},
   embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long, unsigned long, unsigned long, unsigned
   long, embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> > const&,
   embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::bin_serial_or_parallel<true, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRef>(embree::sse2::BinInfoT<32ul, embree::PrimRef, embree::BBox<embree::Vec3fa> >&,
   embree::PrimRef const*, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRef,
   embree::BBox<embree::Vec3fa> > const&)#2} const&) */

embree * __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::bin_serial_or_parallel<true,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRef>(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>&,embree::PrimRef_const*,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>>const&)_2_>
          (embree *this,ulong param_1,ulong param_2,ulong param_3,ulong param_4,
          BinInfoT_conflict *param_5,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::PrimRef,embree::BBox<embree::Vec3fa>_>_const___2_
          *param_7)

{
  BinInfoT_conflict *pBVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  ulong uVar12;
  embree *peVar13;
  undefined8 *puVar14;
  undefined1 (*pauVar15) [16];
  embree *peVar16;
  undefined8 *puVar17;
  undefined8 *puVar18;
  long lVar19;
  undefined1 (*pauVar20) [16];
  undefined1 (*pauVar21) [16];
  ulong uVar22;
  BinInfoT_conflict *pBVar23;
  embree *peVar24;
  undefined1 (*pauVar25) [16];
  undefined1 (*pauVar26) [16];
  undefined8 *puVar27;
  undefined1 (*pauVar28) [16];
  undefined1 (*pauVar29) [16];
  long in_FS_OFFSET;
  byte bVar30;
  undefined1 auVar31 [16];
  undefined1 (*local_2b38) [16];
  ulong local_2b18;
  ulong local_2b10;
  ulong local_2b08;
  undefined8 **local_2b00;
  ulong **local_2af8;
  ulong *local_2af0;
  ulong *local_2ae8;
  ulong *local_2ae0;
  undefined1 (*local_2ad8) [16];
  _lambda_embree__range<unsigned_long>_const___1_ *local_2ad0;
  undefined1 local_2ac0 [96];
  undefined8 local_2a60 [372];
  undefined8 local_1ec0;
  int aiStack_1eb8 [22];
  undefined8 local_1e60 [51];
  undefined8 local_1cc8;
  undefined1 local_1cc0 [7168];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  bVar30 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2b18 = param_3;
  local_2b10 = param_2;
  local_2b08 = param_1;
  uVar12 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2b08) {
    local_2b08 = 0x200;
  }
  if (uVar12 < local_2b08) {
    local_2b08 = uVar12;
  }
  local_b8 = local_2b08;
  if (local_2b08 * 0xe00 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_1cc0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2b08 * 0xe00,0x40);
  }
  local_2b38 = (undefined1 (*) [16])local_1cc0;
  local_2af0 = &local_2b10;
  local_2ad0 = param_6;
  local_2ae8 = &local_2b18;
  local_2ae0 = &local_2b08;
  local_2ad8 = local_2b38;
  if (local_2b08 != 0) {
    local_2af8 = &local_2af0;
    local_2b00 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse28BinInfoTILm32ENS_7PrimRefENS_4BBoxINS_6Vec3faEEEEEZNS_22bin_serial_or_parallelILb1ESA_NS4_10BinMappingILm32EEES6_EEvRT0_PKT2_mmmRKT1_EUlRKNS_5rangeImEEE_ZNSB_ILb1ESA_SD_S6_EEvSF_SI_mmmSL_EUlRKSA_SS_E0_EESE_T_SU_SU_SU_RKSE_SL_RSH_EUlmE_EEvSU_SW_EUlSP_E_EEvSU_SU_SU_SW_PNS0_16TaskGroupContextE
              (0,local_2b08,1,&local_2af8,&local_2b00);
    embree::TaskScheduler::wait();
    if (local_2b00 != (ulong **)0x0) {
      local_2af8 = local_2b00;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_2af8);
    }
  }
  uVar12 = local_2b08;
  peVar16 = this + 0x60;
  pBVar1 = param_5 + 0xc00;
  do {
    peVar24 = peVar16 + -0x60;
    pBVar23 = param_5;
    do {
      peVar13 = peVar24;
      uVar8 = *(undefined8 *)(pBVar23 + 8);
      *(undefined8 *)peVar13 = *(undefined8 *)pBVar23;
      *(undefined8 *)(peVar13 + 8) = uVar8;
      uVar8 = *(undefined8 *)(pBVar23 + 0x18);
      *(undefined8 *)(peVar13 + 0x10) = *(undefined8 *)(pBVar23 + 0x10);
      *(undefined8 *)(peVar13 + 0x18) = uVar8;
      peVar24 = peVar13 + 0x20;
      pBVar23 = pBVar23 + 0x20;
    } while (peVar13 + 0x20 != peVar16);
    param_5 = param_5 + 0x60;
    peVar16 = peVar13 + 0x80;
  } while (param_5 != pBVar1);
  puVar14 = (undefined8 *)memmove(this + 0xc00,param_5,0x200);
  if (uVar12 != 0) {
    puVar27 = local_2a60;
    peVar16 = this;
    pauVar29 = local_c0;
    do {
      do {
        puVar17 = puVar27 + -0xc;
        peVar24 = peVar16;
        do {
          uVar8 = *(undefined8 *)peVar24;
          uVar9 = *(undefined8 *)(peVar24 + 8);
          uVar10 = *(undefined8 *)(peVar24 + 0x10);
          uVar11 = *(undefined8 *)(peVar24 + 0x18);
          puVar18 = puVar17 + 4;
          peVar24 = peVar24 + 0x20;
          *puVar17 = uVar8;
          puVar17[1] = uVar9;
          puVar17[2] = uVar10;
          puVar17[3] = uVar11;
          puVar17 = puVar18;
        } while (puVar27 != puVar18);
        puVar27 = puVar27 + 0xc;
        peVar16 = peVar16 + 0x60;
      } while (local_1e60 != puVar27);
      puVar27 = puVar14;
      pauVar21 = (undefined1 (*) [16])&local_1ec0;
      for (lVar19 = 0x40; lVar19 != 0; lVar19 = lVar19 + -1) {
        *(undefined8 *)*pauVar21 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        pauVar21 = (undefined1 (*) [16])(pauVar21[-(ulong)bVar30] + 8);
      }
      lVar19 = **(long **)param_7;
      pauVar21 = (undefined1 (*) [16])local_2ac0;
      peVar16 = this;
      if (lVar19 != 0) {
        pauVar15 = (undefined1 (*) [16])local_2ac0;
        pauVar20 = pauVar29;
        pauVar25 = pauVar29;
        pauVar28 = (undefined1 (*) [16])&local_1ec0;
        do {
          iVar2 = *(int *)(*pauVar28 + 4);
          iVar3 = *(int *)(*pauVar28 + 8);
          iVar4 = *(int *)(*pauVar28 + 0xc);
          pauVar26 = pauVar25 + 1;
          iVar5 = *(int *)(pauVar25[0xc0] + 4);
          iVar6 = *(int *)(pauVar25[0xc0] + 8);
          iVar7 = *(int *)(pauVar25[0xc0] + 0xc);
          *(int *)*pauVar28 = *(int *)*pauVar28 + *(int *)pauVar25[0xc0];
          *(int *)(*pauVar28 + 4) = iVar2 + iVar5;
          *(int *)(*pauVar28 + 8) = iVar3 + iVar6;
          *(int *)(*pauVar28 + 0xc) = iVar4 + iVar7;
          auVar31 = minps(*pauVar15,*pauVar20);
          *pauVar15 = auVar31;
          auVar31 = maxps(pauVar15[1],pauVar20[1]);
          pauVar15[1] = auVar31;
          auVar31 = minps(pauVar15[2],pauVar20[2]);
          pauVar15[2] = auVar31;
          auVar31 = maxps(pauVar15[3],pauVar20[3]);
          pauVar15[3] = auVar31;
          auVar31 = minps(pauVar15[4],pauVar20[4]);
          pauVar15[4] = auVar31;
          auVar31 = maxps(pauVar15[5],pauVar20[5]);
          pauVar15[5] = auVar31;
          pauVar15 = pauVar15 + 6;
          pauVar20 = pauVar20 + 6;
          pauVar25 = pauVar26;
          pauVar28 = pauVar28 + 1;
        } while (pauVar26 != pauVar29 + lVar19);
      }
      do {
        lVar19 = 0;
        do {
          uVar8 = *(undefined8 *)((long)(*pauVar21 + lVar19) + 8);
          uVar9 = *(undefined8 *)(pauVar21[1] + lVar19);
          uVar10 = *(undefined8 *)((long)(pauVar21[1] + lVar19) + 8);
          *(undefined8 *)(peVar16 + lVar19) = *(undefined8 *)(*pauVar21 + lVar19);
          *(undefined8 *)(peVar16 + lVar19 + 8) = uVar8;
          *(undefined8 *)(peVar16 + lVar19 + 0x10) = uVar9;
          *(undefined8 *)(peVar16 + lVar19 + 0x10 + 8) = uVar10;
          lVar19 = lVar19 + 0x20;
        } while (lVar19 != 0x60);
        pauVar21 = pauVar21 + 6;
        peVar16 = peVar16 + 0x60;
      } while (pauVar21 != (undefined1 (*) [16])&local_1ec0);
      pauVar29 = pauVar29 + 0xe0;
      *puVar14 = local_1ec0;
      *(undefined8 *)(this + 0xdf8) = local_1cc8;
      lVar19 = (long)puVar14 - (long)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      puVar27 = (undefined8 *)((long)&local_1ec0 - lVar19);
      puVar17 = (undefined8 *)((ulong)(this + 0xc08) & 0xfffffffffffffff8);
      for (uVar22 = (ulong)((int)lVar19 + 0x200U >> 3); uVar22 != 0; uVar22 = uVar22 - 1) {
        *puVar17 = *puVar27;
        puVar27 = puVar27 + (ulong)bVar30 * -2 + 1;
        puVar17 = puVar17 + (ulong)bVar30 * -2 + 1;
      }
      puVar27 = local_2a60;
      peVar16 = this;
    } while (local_c0 + uVar12 * 0xe0 != pauVar29);
  }
  if (local_c0 != local_2b38) {
    embree::alignedFree(local_c0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVH::~BVH() */

void __thiscall embree::sse2::BVH::~BVH(BVH *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::FastAllocator::~FastAllocator() */

void __thiscall embree::FastAllocator::~FastAllocator(FastAllocator *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


