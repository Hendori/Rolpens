
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::beep() const */

void __thiscall DisplayServerX11::beep(DisplayServerX11 *this)

{
                    /* WARNING: Could not recover jumptable at 0x0010000d. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (*_XBell_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
  return;
}



/* DisplayServerX11::mouse_get_mode() const */

undefined4 __thiscall DisplayServerX11::mouse_get_mode(DisplayServerX11 *this)

{
  return *(undefined4 *)(this + 0x550);
}



/* DisplayServerX11::mouse_get_mode_override() const */

undefined4 __thiscall DisplayServerX11::mouse_get_mode_override(DisplayServerX11 *this)

{
  return *(undefined4 *)(this + 0x558);
}



/* DisplayServerX11::mouse_is_mode_override_enabled() const */

DisplayServerX11 __thiscall DisplayServerX11::mouse_is_mode_override_enabled(DisplayServerX11 *this)

{
  return this[0x55c];
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::mouse_get_position() const */

undefined8 __thiscall DisplayServerX11::mouse_get_position(DisplayServerX11 *this)

{
  code *pcVar1;
  int iVar2;
  int iVar3;
  undefined8 uVar4;
  int iVar5;
  long in_FS_OFFSET;
  int local_ec;
  int local_e8;
  undefined1 local_e4 [4];
  undefined1 local_e0 [4];
  undefined1 local_dc [4];
  undefined8 local_d8;
  undefined1 local_d0 [8];
  undefined1 local_c8 [136];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar2 = (*_XScreenCount_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  if (0 < iVar2) {
    iVar5 = 0;
    do {
      pcVar1 = _XQueryPointer_dylibloader_wrapper_xlib;
      uVar4 = (*_XRootWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),iVar5);
      iVar3 = (*pcVar1)(*(undefined8 *)(this + 0x360),uVar4,&local_d8,local_d0,&local_ec,&local_e8,
                        local_e4,local_e0,local_dc);
      if (iVar3 != 0) {
        (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),local_d8,local_c8);
        uVar4 = CONCAT44(local_e8 + SUB84(local_c8._0_8_,4),local_ec + (int)local_c8._0_8_);
        goto LAB_0010017a;
      }
      iVar5 = iVar5 + 1;
    } while (iVar2 != iVar5);
  }
  uVar4 = 0;
LAB_0010017a:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar4;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::mouse_get_button_state() const */

uint __thiscall DisplayServerX11::mouse_get_button_state(DisplayServerX11 *this)

{
  code *pcVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  undefined8 uVar5;
  uint uVar6;
  int iVar7;
  long in_FS_OFFSET;
  undefined1 local_64 [4];
  undefined1 local_60 [4];
  undefined1 local_5c [4];
  undefined1 local_58 [4];
  uint local_54;
  undefined1 local_50 [8];
  undefined1 local_48 [8];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar2 = (*_XScreenCount_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  if (0 < iVar2) {
    iVar7 = 0;
    do {
      pcVar1 = _XQueryPointer_dylibloader_wrapper_xlib;
      uVar5 = (*_XRootWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),iVar7);
      iVar3 = (*pcVar1)(*(undefined8 *)(this + 0x360),uVar5,local_50,local_48,local_64,local_60,
                        local_5c,local_58,&local_54);
      if (iVar3 != 0) {
        uVar4 = local_54 >> 8 & 1;
        uVar6 = uVar4 | 4;
        if ((local_54 & 0x200) == 0) {
          uVar6 = uVar4;
        }
        if ((local_54 & 0x400) != 0) {
          uVar6 = uVar6 | 2;
        }
        if ((local_54 & 0x800) != 0) {
          uVar6 = uVar6 | 0x80;
        }
        uVar4 = (uint)CONCAT11(1,(char)uVar6);
        if ((local_54 & 0x1000) == 0) {
          uVar4 = uVar6;
        }
        goto LAB_001002da;
      }
      iVar7 = iVar7 + 1;
    } while (iVar2 != iVar7);
  }
  uVar4 = 0;
LAB_001002da:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar4;
}



/* DisplayServerX11::_predicate_clipboard_selection(_XDisplay*, _XEvent*, char*) */

bool DisplayServerX11::_predicate_clipboard_selection
               (_XDisplay *param_1,_XEvent *param_2,char *param_3)

{
  bool bVar1;
  
  bVar1 = false;
  if (*(int *)param_2 == 0x1f) {
    bVar1 = *(long *)(param_2 + 0x20) == *(long *)param_3;
  }
  return bVar1;
}



/* DisplayServerX11::_predicate_clipboard_incr(_XDisplay*, _XEvent*, char*) */

bool DisplayServerX11::_predicate_clipboard_incr(_XDisplay *param_1,_XEvent *param_2,char *param_3)

{
  bool bVar1;
  
  bVar1 = false;
  if ((*(int *)param_2 == 0x1c) && (*(int *)(param_2 + 0x38) == 0)) {
    bVar1 = *(long *)(param_2 + 0x28) == *(long *)param_3;
  }
  return bVar1;
}



/* DisplayServerX11::_predicate_clipboard_save_targets(_XDisplay*, _XEvent*, char*) */

bool DisplayServerX11::_predicate_clipboard_save_targets
               (_XDisplay *param_1,_XEvent *param_2,char *param_3)

{
  if (*(long *)(param_2 + 0x20) != *(long *)param_3) {
    return false;
  }
  return *(int *)param_2 - 0x1eU < 2;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::get_primary_screen() const */

undefined8 __thiscall DisplayServerX11::get_primary_screen(DisplayServerX11 *this)

{
  int iVar1;
  undefined8 uVar2;
  long in_FS_OFFSET;
  undefined1 auStack_18 [4];
  undefined1 local_14 [4];
  long local_10;
  
  uVar2 = *(undefined8 *)(this + 0x360);
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (this[0x6f1] != (DisplayServerX11)0x0) {
    iVar1 = (*_XineramaQueryExtension_dylibloader_wrapper_xinerama)(uVar2,auStack_18,local_14);
    if (iVar1 != 0) {
      uVar2 = 0;
      goto LAB_001003ab;
    }
    uVar2 = *(undefined8 *)(this + 0x360);
  }
  uVar2 = (*_XDefaultScreen_dylibloader_wrapper_xlib)(uVar2);
LAB_001003ab:
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* get_image_errorhandler(_XDisplay*, XErrorEvent*) */

undefined8 get_image_errorhandler(_XDisplay *param_1,XErrorEvent *param_2)

{
  return 0;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::screen_get_pixel(Vector2i const&) const */

undefined1  [16] __thiscall
DisplayServerX11::screen_get_pixel(DisplayServerX11 *this,Vector2i *param_1)

{
  int iVar1;
  int iVar2;
  code *pcVar3;
  int iVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  long lVar7;
  int iVar8;
  long in_FS_OFFSET;
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  float fVar11;
  undefined1 auVar12 [16];
  undefined8 local_d8;
  ushort local_d0;
  ushort local_ce;
  ushort local_cc;
  int local_c8;
  int local_c4;
  int local_c0;
  int local_bc;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (this[0x6f3] == (DisplayServerX11)0x0) {
    iVar1 = *(int *)(param_1 + 4);
    iVar2 = *(int *)param_1;
    uVar5 = (*_XSetErrorHandler_dylibloader_wrapper_xlib)(get_image_errorhandler);
    iVar4 = (*_XScreenCount_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
    if (0 < iVar4) {
      iVar8 = 0;
      do {
        uVar6 = (*_XRootWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),iVar8);
        (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),uVar6,&local_c8);
        if ((local_c8 <= iVar2) && (iVar2 <= local_c8 + local_c0)) {
          if ((local_c4 <= iVar1) && (iVar1 <= local_c4 + local_bc)) {
            lVar7 = (*_XGetImage_dylibloader_wrapper_xlib)
                              (*(undefined8 *)(this + 0x360),uVar6,iVar2,iVar1,1,1,
                               0xffffffffffffffff,1);
            if (lVar7 != 0) {
              local_d8 = (**(code **)(lVar7 + 0x68))(lVar7,0,0);
              (**(code **)(lVar7 + 0x60))(lVar7);
              pcVar3 = _XQueryColor_dylibloader_wrapper_xlib;
              uVar6 = (*_XDefaultColormap_dylibloader_wrapper_xlib)
                                (*(undefined8 *)(this + 0x360),iVar8);
              (*pcVar3)(*(undefined8 *)(this + 0x360),uVar6,&local_d8);
              fVar11 = (float)local_cc / __LC1;
              auVar9._0_4_ = (float)local_d0;
              auVar9._4_4_ = (float)local_ce;
              auVar9._8_8_ = 0;
              auVar10._4_12_ = _UNK_0012da04;
              auVar10._0_4_ = __LC1;
              auVar10 = divps(auVar9,auVar10);
              uVar6 = auVar10._0_8_;
              goto LAB_001004f3;
            }
          }
        }
        iVar8 = iVar8 + 1;
      } while (iVar4 != iVar8);
    }
    uVar6 = 0;
    fVar11 = 0.0;
LAB_001004f3:
    (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar5);
  }
  else {
    uVar6 = 0;
    fVar11 = 0.0;
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    auVar12._8_8_ = (ulong)(uint)fVar11 | 0x3f80000000000000;
    auVar12._0_8_ = uVar6;
    return auVar12;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::screen_is_kept_on() const */

DisplayServerX11 __thiscall DisplayServerX11::screen_is_kept_on(DisplayServerX11 *this)

{
  return this[0x2a8];
}



/* DisplayServerX11::get_focused_window() const */

undefined4 __thiscall DisplayServerX11::get_focused_window(DisplayServerX11 *this)

{
  return *(undefined4 *)(this + 0x33c);
}



/* DisplayServerX11::window_can_draw(int) const */

bool DisplayServerX11::window_can_draw(int param_1)

{
  int iVar1;
  undefined4 in_register_0000003c;
  
  iVar1 = (**(code **)(*(long *)CONCAT44(in_register_0000003c,param_1) + 0x5a0))();
  return iVar1 != 1;
}



/* DisplayServerX11::ime_get_selection() const */

undefined8 __thiscall DisplayServerX11::ime_get_selection(DisplayServerX11 *this)

{
  return *(undefined8 *)(this + 0x2c8);
}



/* DisplayServerX11::cursor_get_shape() const */

undefined4 __thiscall DisplayServerX11::cursor_get_shape(DisplayServerX11 *this)

{
  return *(undefined4 *)(this + 0x698);
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::keyboard_get_layout_count() const */

ulong __thiscall DisplayServerX11::keyboard_get_layout_count(DisplayServerX11 *this)

{
  undefined8 uVar1;
  undefined8 *puVar2;
  ulong uVar3;
  
  uVar3 = 0;
  puVar2 = (undefined8 *)(*_XkbAllocKeyboard_dylibloader_wrapper_xlib)();
  if (puVar2 != (undefined8 *)0x0) {
    uVar1 = *(undefined8 *)(this + 0x360);
    *puVar2 = uVar1;
    (*_XkbGetControls_dylibloader_wrapper_xlib)(uVar1,0xf8001fff,puVar2);
    (*_XkbGetNames_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),4,puVar2);
    if (puVar2[2] == 0) {
      uVar3 = 0;
      do {
        if (*(long *)(puVar2[6] + 0x1a8 + uVar3 * 8) == 0) {
          uVar3 = uVar3 & 0xffffffff;
          goto LAB_0010069b;
        }
        uVar3 = uVar3 + 1;
      } while (uVar3 != 4);
      uVar3 = 4;
    }
    else {
      uVar3 = (ulong)*(byte *)(puVar2[2] + 1);
    }
LAB_0010069b:
    (*_XkbFreeKeyboard_dylibloader_wrapper_xlib)(puVar2,0,1);
  }
  return uVar3;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::keyboard_get_current_layout() const */

undefined1 __thiscall DisplayServerX11::keyboard_get_current_layout(DisplayServerX11 *this)

{
  long in_FS_OFFSET;
  undefined1 local_28 [24];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  (*_XkbGetState_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0x100,local_28);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_28[0];
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::_xim_preedit_caret_callback(_XIM*, char*, _XIMPreeditCaretCallbackStruct*) */

void DisplayServerX11::_xim_preedit_caret_callback
               (_XIM *param_1,char *param_2,_XIMPreeditCaretCallbackStruct *param_3)

{
  return;
}



/* DisplayServerX11::_predicate_all_events(_XDisplay*, _XEvent*, char*) */

undefined8
DisplayServerX11::_predicate_all_events(_XDisplay *param_1,_XEvent *param_2,char *param_3)

{
  return 1;
}



/* DisplayServerX11::window_get_active_popup() const */

undefined4 __thiscall DisplayServerX11::window_get_active_popup(DisplayServerX11 *this)

{
  undefined4 *puVar1;
  
  if ((*(long *)(this + 0x330) != 0) &&
     (puVar1 = *(undefined4 **)(*(long *)(this + 0x330) + 8), puVar1 != (undefined4 *)0x0)) {
    return *puVar1;
  }
  return 0xffffffff;
}



/* set_icon_errorhandler(_XDisplay*, XErrorEvent*) */

undefined8 set_icon_errorhandler(_XDisplay *param_1,XErrorEvent *param_2)

{
  g_set_icon_error = 1;
  return 0;
}



/* DisplayServerX11::has_feature(DisplayServer::Feature) const */

ulong __thiscall DisplayServerX11::has_feature(DisplayServerX11 *this,int param_2)

{
  long *plVar1;
  ulong uVar2;
  
  if (param_2 == 0) {
    plVar1 = *(long **)(this + 0x2b8);
    if (plVar1 != (long *)0x0) {
                    /* WARNING: Could not recover jumptable at 0x001007f8. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      uVar2 = (**(code **)(*plVar1 + 0x150))(plVar1,0);
      return uVar2;
    }
  }
  else if (param_2 - 1U < 0x1e) {
    uVar2 = 1L << ((byte)param_2 & 0x3f);
    if ((uVar2 & 0x280f2dbe) != 0) {
      return 1;
    }
    if ((uVar2 & 0x46000000) != 0) {
      if ((*(long *)(this + 0x2c0) != 0) && (*(char *)(*(long *)(this + 0x2c0) + 0x171) == '\0')) {
        uVar2 = FreeDesktopPortalDesktop::is_file_chooser_supported();
        return uVar2;
      }
      return 0;
    }
    if (param_2 == 0x15) {
      return (ulong)((byte)this[0x6f3] ^ 1);
    }
  }
  return 0;
}



/* DisplayServerX11::set_native_icon(String const&) */

void DisplayServerX11::set_native_icon(String *param_1)

{
  _err_print_error("set_native_icon","platform/linuxbsd/x11/display_server_x11.cpp",0x1574,
                   "Native icon not supported by this display server.",0,1);
  return;
}



/* DisplayServerX11::_xim_destroy_callback(_XIM*, char*, char*) */

void DisplayServerX11::_xim_destroy_callback(_XIM *param_1,char *param_2,char *param_3)

{
  undefined8 *puVar1;
  
  _err_print_error("_xim_destroy_callback","platform/linuxbsd/x11/display_server_x11.cpp",0x1032,
                   "Input method stopped",0,1);
  puVar1 = *(undefined8 **)(param_2 + 0x308);
  param_2[0x388] = '\0';
  param_2[0x389] = '\0';
  param_2[0x38a] = '\0';
  param_2[0x38b] = '\0';
  param_2[0x38c] = '\0';
  param_2[0x38d] = '\0';
  param_2[0x38e] = '\0';
  param_2[0x38f] = '\0';
  for (; puVar1 != (undefined8 *)0x0; puVar1 = (undefined8 *)*puVar1) {
    puVar1[6] = 0;
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::keyboard_set_current_layout(int) */

void __thiscall DisplayServerX11::keyboard_set_current_layout(DisplayServerX11 *this,int param_1)

{
  int iVar1;
  long lVar2;
  
  lVar2 = *(long *)this;
  if (-1 < param_1) {
    iVar1 = (**(code **)(lVar2 + 0x6e8))();
    if (param_1 < iVar1) {
                    /* WARNING: Could not recover jumptable at 0x00100917. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (*_XkbLockGroup_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0x100,param_1);
      return;
    }
    lVar2 = *(long *)this;
  }
  iVar1 = (**(code **)(lVar2 + 0x6e8))(this);
  _err_print_index_error
            ("keyboard_set_current_layout","platform/linuxbsd/x11/display_server_x11.cpp",0xd42,
             (long)param_1,(long)iVar1,"p_index","keyboard_get_layout_count()","",false,false);
  return;
}



/* DisplayServerX11::tts_get_voices() const */

void DisplayServerX11::tts_get_voices(void)

{
  char cVar1;
  long in_RSI;
  Array *in_RDI;
  long in_FS_OFFSET;
  Array aAStack_58 [8];
  long local_50;
  undefined8 local_48;
  undefined1 local_40 [16];
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)(in_RSI + 0x2b0) == 0) {
    _err_print_error("tts_get_voices","platform/linuxbsd/x11/display_server_x11.cpp",0x160,
                     "Parameter \"tts\" is null.",
                     "Enable the \"audio/general/text_to_speech\" project setting to use text-to-speech."
                     ,0,0);
    Array::Array(in_RDI);
    local_48 = 0;
    local_50 = 0;
    local_40 = (undefined1  [16])0x0;
    Array::set_typed((uint)in_RDI,(StringName *)0x1b,(Variant *)&local_50);
    if ((StringName::configured != '\0') && (local_50 != 0)) {
      StringName::unref();
    }
    if (Variant::needs_deinit[(int)local_48] != '\0') {
      Variant::_clear_internal();
    }
  }
  else {
    TTS_Linux::get_voices();
    Array::Array(in_RDI);
    local_48 = 0;
    local_50 = 0;
    local_40 = (undefined1  [16])0x0;
    Array::set_typed((uint)in_RDI,(StringName *)0x1b,(Variant *)&local_50);
    if ((StringName::configured != '\0') && (local_50 != 0)) {
      StringName::unref();
    }
    if (Variant::needs_deinit[(int)local_48] != '\0') {
      Variant::_clear_internal();
    }
    cVar1 = Array::is_same_typed(in_RDI);
    if (cVar1 == '\0') {
      Array::assign(in_RDI);
    }
    else {
      Array::_ref(in_RDI);
    }
    Array::~Array(aAStack_58);
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::is_dark_mode_supported() const */

undefined8 __thiscall DisplayServerX11::is_dark_mode_supported(DisplayServerX11 *this)

{
  undefined8 uVar1;
  
  if ((*(long *)(this + 0x2c0) != 0) && (*(char *)(*(long *)(this + 0x2c0) + 0x171) == '\0')) {
    uVar1 = FreeDesktopPortalDesktop::is_settings_supported();
    return uVar1;
  }
  return 0;
}



/* DisplayServerX11::set_system_theme_change_callback(Callable const&) */

void __thiscall
DisplayServerX11::set_system_theme_change_callback(DisplayServerX11 *this,Callable *param_1)

{
  Callable::operator=((Callable *)(*(long *)(this + 0x2c0) + 0x1e0),param_1);
  return;
}



/* DisplayServerX11::gl_window_make_current(int) */

void DisplayServerX11::gl_window_make_current(int param_1)

{
  long lVar1;
  undefined4 in_register_0000003c;
  
  lVar1 = *(long *)(CONCAT44(in_register_0000003c,param_1) + 0x280);
  if (lVar1 != 0) {
    GLManager_X11::window_make_current((int)lVar1);
  }
  lVar1 = *(long *)(CONCAT44(in_register_0000003c,param_1) + 0x288);
  if (lVar1 != 0) {
    EGLManager::window_make_current((int)lVar1);
    return;
  }
  return;
}



/* DisplayServerX11::release_rendering_thread() */

void __thiscall DisplayServerX11::release_rendering_thread(DisplayServerX11 *this)

{
  if (*(long *)(this + 0x280) != 0) {
    GLManager_X11::release_current();
  }
  if (*(long *)(this + 0x288) != 0) {
    EGLManager::release_current();
    return;
  }
  return;
}



/* DisplayServerX11::swap_buffers() */

void __thiscall DisplayServerX11::swap_buffers(DisplayServerX11 *this)

{
  if (*(long *)(this + 0x280) != 0) {
    GLManager_X11::swap_buffers();
  }
  if (*(long *)(this + 0x288) != 0) {
    EGLManager::swap_buffers();
    return;
  }
  return;
}



/* DisplayServerX11::tts_is_speaking() const */

undefined8 __thiscall DisplayServerX11::tts_is_speaking(DisplayServerX11 *this)

{
  undefined8 uVar1;
  
  if (*(long *)(this + 0x2b0) != 0) {
    uVar1 = TTS_Linux::is_speaking();
    return uVar1;
  }
  _err_print_error("tts_is_speaking","platform/linuxbsd/x11/display_server_x11.cpp",0x156,
                   "Parameter \"tts\" is null.",
                   "Enable the \"audio/general/text_to_speech\" project setting to use text-to-speech."
                   ,0,0);
  return 0;
}



/* DisplayServerX11::tts_is_paused() const */

undefined8 __thiscall DisplayServerX11::tts_is_paused(DisplayServerX11 *this)

{
  undefined8 uVar1;
  
  if (*(long *)(this + 0x2b0) != 0) {
    uVar1 = TTS_Linux::is_paused();
    return uVar1;
  }
  _err_print_error("tts_is_paused","platform/linuxbsd/x11/display_server_x11.cpp",0x15b,
                   "Parameter \"tts\" is null.",
                   "Enable the \"audio/general/text_to_speech\" project setting to use text-to-speech."
                   ,0,0);
  return 0;
}



/* DisplayServerX11::tts_speak(String const&, String const&, int, float, float, int, bool) */

void DisplayServerX11::tts_speak
               (String *param_1,String *param_2,int param_3,float param_4,float param_5,int param_6,
               bool param_7)

{
  if (*(String **)(param_1 + 0x2b0) != (String *)0x0) {
    TTS_Linux::speak(*(String **)(param_1 + 0x2b0),param_2,param_3,param_4,param_5,param_6,param_7);
    return;
  }
  _err_print_error("tts_speak","platform/linuxbsd/x11/display_server_x11.cpp",0x165,
                   "Parameter \"tts\" is null.",
                   "Enable the \"audio/general/text_to_speech\" project setting to use text-to-speech."
                   ,0,0);
  return;
}



/* DisplayServerX11::tts_pause() */

void __thiscall DisplayServerX11::tts_pause(DisplayServerX11 *this)

{
  if (*(long *)(this + 0x2b0) != 0) {
    TTS_Linux::pause();
    return;
  }
  _err_print_error("tts_pause","platform/linuxbsd/x11/display_server_x11.cpp",0x16a,
                   "Parameter \"tts\" is null.",
                   "Enable the \"audio/general/text_to_speech\" project setting to use text-to-speech."
                   ,0,0);
  return;
}



/* DisplayServerX11::tts_resume() */

void __thiscall DisplayServerX11::tts_resume(DisplayServerX11 *this)

{
  if (*(long *)(this + 0x2b0) != 0) {
    TTS_Linux::resume();
    return;
  }
  _err_print_error("tts_resume","platform/linuxbsd/x11/display_server_x11.cpp",0x16f,
                   "Parameter \"tts\" is null.",
                   "Enable the \"audio/general/text_to_speech\" project setting to use text-to-speech."
                   ,0,0);
  return;
}



/* DisplayServerX11::tts_stop() */

void __thiscall DisplayServerX11::tts_stop(DisplayServerX11 *this)

{
  if (*(long *)(this + 0x2b0) != 0) {
    TTS_Linux::stop();
    return;
  }
  _err_print_error("tts_stop","platform/linuxbsd/x11/display_server_x11.cpp",0x174,
                   "Parameter \"tts\" is null.",
                   "Enable the \"audio/general/text_to_speech\" project setting to use text-to-speech."
                   ,0,0);
  return;
}



/* CowData<int>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<int>::_copy_on_write(CowData<int> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 4;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* HashMap<int, DisplayServerX11::WindowData, HashMapHasherDefault, HashMapComparatorDefault<int>,
   DefaultTypedAllocator<HashMapElement<int, DisplayServerX11::WindowData> > >::_lookup_pos(int
   const&, unsigned int&) const [clone .isra.0] */

undefined8 __thiscall
HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
::_lookup_pos(HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              *this,int *param_1,uint *param_2)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  
  if ((*(long *)(this + 8) == 0) || (*(int *)(this + 0x2c) == 0)) {
    return 0;
  }
  uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
  uVar10 = ((uint)((ulong)param_1 >> 0x10) & 0xffff ^ (uint)param_1) * -0x7a143595;
  uVar10 = (uVar10 ^ uVar10 >> 0xd) * -0x3d4d51cb;
  uVar14 = uVar10 ^ uVar10 >> 0x10;
  if (uVar10 == uVar10 >> 0x10) {
    uVar14 = 1;
    uVar12 = uVar1;
  }
  else {
    uVar12 = uVar14 * uVar1;
  }
  uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4));
  auVar2._8_8_ = 0;
  auVar2._0_8_ = uVar15;
  auVar6._8_8_ = 0;
  auVar6._0_8_ = uVar12;
  lVar13 = SUB168(auVar2 * auVar6,8);
  uVar10 = *(uint *)(*(long *)(this + 0x10) + lVar13 * 4);
  uVar11 = SUB164(auVar2 * auVar6,8);
  if (uVar10 != 0) {
    uVar16 = 0;
    do {
      if ((uVar14 == uVar10) &&
         (*(uint *)(*(long *)(*(long *)(this + 8) + lVar13 * 8) + 0x10) == (uint)param_1)) {
        *param_2 = uVar11;
        return 1;
      }
      uVar16 = uVar16 + 1;
      auVar3._8_8_ = 0;
      auVar3._0_8_ = (uVar11 + 1) * uVar1;
      auVar7._8_8_ = 0;
      auVar7._0_8_ = uVar15;
      lVar13 = SUB168(auVar3 * auVar7,8);
      uVar10 = *(uint *)(*(long *)(this + 0x10) + lVar13 * 4);
      uVar11 = SUB164(auVar3 * auVar7,8);
    } while ((uVar10 != 0) &&
            (auVar4._8_8_ = 0, auVar4._0_8_ = uVar10 * uVar1, auVar8._8_8_ = 0,
            auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
            auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4) +
                            uVar11) - SUB164(auVar4 * auVar8,8)) * uVar1, auVar9._8_8_ = 0,
            auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
  }
  return 0;
}



/* HashMap<int, Vector2, HashMapHasherDefault, HashMapComparatorDefault<int>,
   DefaultTypedAllocator<HashMapElement<int, Vector2> > >::_lookup_pos(int const&, unsigned int&)
   const [clone .isra.0] */

undefined8 __thiscall
HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
::_lookup_pos(HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
              *this,int *param_1,uint *param_2)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  
  if ((*(long *)(this + 8) == 0) || (*(int *)(this + 0x2c) == 0)) {
    return 0;
  }
  uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
  uVar10 = ((uint)((ulong)param_1 >> 0x10) & 0xffff ^ (uint)param_1) * -0x7a143595;
  uVar10 = (uVar10 ^ uVar10 >> 0xd) * -0x3d4d51cb;
  uVar14 = uVar10 ^ uVar10 >> 0x10;
  if (uVar10 == uVar10 >> 0x10) {
    uVar14 = 1;
    uVar12 = uVar1;
  }
  else {
    uVar12 = uVar14 * uVar1;
  }
  uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4));
  auVar2._8_8_ = 0;
  auVar2._0_8_ = uVar15;
  auVar6._8_8_ = 0;
  auVar6._0_8_ = uVar12;
  lVar13 = SUB168(auVar2 * auVar6,8);
  uVar10 = *(uint *)(*(long *)(this + 0x10) + lVar13 * 4);
  uVar11 = SUB164(auVar2 * auVar6,8);
  if (uVar10 != 0) {
    uVar16 = 0;
    do {
      if ((uVar14 == uVar10) &&
         (*(uint *)(*(long *)(*(long *)(this + 8) + lVar13 * 8) + 0x10) == (uint)param_1)) {
        *param_2 = uVar11;
        return 1;
      }
      uVar16 = uVar16 + 1;
      auVar3._8_8_ = 0;
      auVar3._0_8_ = (uVar11 + 1) * uVar1;
      auVar7._8_8_ = 0;
      auVar7._0_8_ = uVar15;
      lVar13 = SUB168(auVar3 * auVar7,8);
      uVar10 = *(uint *)(*(long *)(this + 0x10) + lVar13 * 4);
      uVar11 = SUB164(auVar3 * auVar7,8);
    } while ((uVar10 != 0) &&
            (auVar4._8_8_ = 0, auVar4._0_8_ = uVar10 * uVar1, auVar8._8_8_ = 0,
            auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
            auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4) +
                            uVar11) - SUB164(auVar4 * auVar8,8)) * uVar1, auVar9._8_8_ = 0,
            auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
  }
  return 0;
}



/* Variant Callable::call<Ref<InputEvent> >(Ref<InputEvent>) const [clone .isra.0] */

CallError * Callable::call<Ref<InputEvent>>(CallError *param_1,Variant **param_2,Object *param_3)

{
  char cVar1;
  long in_FS_OFFSET;
  Variant *local_78 [2];
  int local_68 [6];
  int local_50 [8];
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant((Variant *)local_68,param_3);
  Variant::Variant((Variant *)local_50,0);
  *(undefined4 *)param_1 = 0;
  *(undefined1 (*) [16])(param_1 + 8) = (undefined1  [16])0x0;
  local_78[0] = (Variant *)local_68;
  Callable::callp(param_2,(int)local_78,(Variant *)0x1,param_1);
  if (Variant::needs_deinit[local_50[0]] == '\0') {
    cVar1 = Variant::needs_deinit[local_68[0]];
  }
  else {
    Variant::_clear_internal();
    cVar1 = Variant::needs_deinit[local_68[0]];
  }
  if (cVar1 != '\0') {
    Variant::_clear_internal();
  }
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* DisplayServerX11::screen_set_keep_on(bool) */

void __thiscall DisplayServerX11::screen_set_keep_on(DisplayServerX11 *this,bool param_1)

{
  DisplayServerX11 DVar1;
  
  if (*(code **)(*(long *)this + 0x488) == screen_is_kept_on) {
    DVar1 = this[0x2a8];
  }
  else {
    DVar1 = (DisplayServerX11)(**(code **)(*(long *)this + 0x488))();
  }
  if (DVar1 != (DisplayServerX11)param_1) {
    if (param_1) {
      FreeDesktopScreenSaver::inhibit();
    }
    else {
      FreeDesktopScreenSaver::uninhibit();
    }
    this[0x2a8] = (DisplayServerX11)param_1;
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* get_atom_name(_XDisplay*, unsigned long) */

_XDisplay * get_atom_name(_XDisplay *param_1,ulong param_2)

{
  long lVar1;
  long in_FS_OFFSET;
  undefined8 local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  lVar1 = (*_XGetAtomName_dylibloader_wrapper_xlib)(param_2);
  if (lVar1 == 0) {
    _err_print_error("get_atom_name","platform/linuxbsd/x11/display_server_x11.cpp",0x71,
                     "Parameter \"name\" is null.","Atom is invalid.",0,0);
    *(undefined8 *)param_1 = 0;
  }
  else {
    local_28 = 0;
    String::parse_utf8((char *)&local_28,(int)lVar1,true);
    (*_XFree_dylibloader_wrapper_xlib)(lVar1);
    *(undefined8 *)param_1 = local_28;
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::is_dark_mode() const */

bool __thiscall DisplayServerX11::is_dark_mode(DisplayServerX11 *this)

{
  char cVar1;
  int iVar2;
  
  if (*(code **)(*(long *)this + 0x340) == is_dark_mode_supported) {
    if (*(long *)(this + 0x2c0) == 0) {
      return false;
    }
    if (*(char *)(*(long *)(this + 0x2c0) + 0x171) != '\0') {
      return false;
    }
    cVar1 = FreeDesktopPortalDesktop::is_settings_supported();
  }
  else {
    cVar1 = (**(code **)(*(long *)this + 0x340))();
  }
  if (cVar1 == '\0') {
    return false;
  }
  iVar2 = FreeDesktopPortalDesktop::get_appearance_color_scheme();
  return iVar2 == 1;
}



/* DisplayServerX11::get_window_at_screen_position(Vector2i const&) const */

undefined4 __thiscall
DisplayServerX11::get_window_at_screen_position(DisplayServerX11 *this,Vector2i *param_1)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  long *plVar8;
  uint uVar9;
  int local_54;
  undefined4 local_50;
  uint local_4c;
  
  plVar8 = *(long **)(this + 0x308);
  if (plVar8 == (long *)0x0) {
    return 0xffffffff;
  }
  local_4c = 0;
  local_54 = -1;
  local_50 = 0xffffffff;
  do {
    while (iVar2 = local_54, uVar3 = local_50, uVar4 = local_4c, (int)plVar8[0x26] == 0) {
LAB_00101498:
      local_4c = uVar4;
      local_50 = uVar3;
      local_54 = iVar2;
      plVar8 = (long *)*plVar8;
      if (plVar8 == (long *)0x0) {
        return local_50;
      }
    }
    uVar1 = (undefined4)plVar8[2];
    uVar6 = (**(code **)(*(long *)this + 0x588))(this,uVar1);
    uVar7 = (**(code **)(*(long *)this + 0x538))(this,uVar1);
    uVar9 = (uint)((ulong)uVar6 >> 0x20);
    if ((int)((uint)uVar6 | uVar9) < 0) {
      _err_print_error("has_point","./core/math/rect2i.h",0x7f,
                       "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                       ,0,0);
    }
    if (*(int *)param_1 < (int)uVar7) goto LAB_00101498;
    iVar5 = (int)((ulong)uVar7 >> 0x20);
    if (((*(int *)(param_1 + 4) < iVar5) || ((int)((uint)uVar6 + (int)uVar7) <= *(int *)param_1)) ||
       ((int)(iVar5 + uVar9) <= *(int *)(param_1 + 4))) goto LAB_00101498;
    uVar9 = *(uint *)(plVar8 + 0x26);
    iVar2 = (int)plVar8[0x19];
    uVar3 = uVar1;
    uVar4 = uVar9;
    if (((int)plVar8[0x19] != local_54) ||
       (iVar2 = local_54, uVar3 = local_50, uVar4 = local_4c, uVar9 <= local_4c)) goto LAB_00101498;
    plVar8 = (long *)*plVar8;
    local_50 = uVar1;
    local_4c = uVar9;
    if (plVar8 == (long *)0x0) {
      return uVar1;
    }
  } while( true );
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::keyboard_get_keycode_from_physical(Key) const */

uint __thiscall
DisplayServerX11::keyboard_get_keycode_from_physical(DisplayServerX11 *this,uint param_2)

{
  code *pcVar1;
  undefined1 uVar2;
  uint uVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  byte local_48 [24];
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  uVar2 = KeyMappingX11::get_xlibcode(param_2 & 0x7fffff);
  pcVar1 = _XkbKeycodeToKeysym_dylibloader_wrapper_xlib;
  if (*(code **)(*(long *)this + 0x6f0) == keyboard_get_current_layout) {
    (*_XkbGetState_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0x100,local_48);
    uVar3 = (uint)local_48[0];
  }
  else {
    uVar3 = (**(code **)(*(long *)this + 0x6f0))(this);
  }
  uVar4 = (*pcVar1)(*(undefined8 *)(this + 0x360),uVar2,uVar3,0);
  if ((int)uVar4 - 0x61U < 0x1a) {
    uVar4 = uVar4 - 0x20;
  }
  uVar3 = KeyMappingX11::get_keycode(uVar4);
  if (uVar3 != 0) {
    param_2 = param_2 & 0x7f000000 | uVar3;
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CowData<Vector2>::_ref(CowData<Vector2> const&) [clone .part.0] */

void __thiscall CowData<Vector2>::_ref(CowData<Vector2> *this,CowData *param_1)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  bool bVar4;
  
  if (*(long *)this != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)this + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
    else {
      *(undefined8 *)this = 0;
    }
  }
  plVar1 = (long *)(*(long *)param_1 + -0x10);
  if (*(long *)param_1 != 0) {
    do {
      lVar2 = *plVar1;
      if (lVar2 == 0) {
        return;
      }
      LOCK();
      lVar3 = *plVar1;
      bVar4 = lVar2 == lVar3;
      if (bVar4) {
        *plVar1 = lVar2 + 1;
        lVar3 = lVar2;
      }
      UNLOCK();
    } while (!bVar4);
    if (lVar3 != -1) {
      *(undefined8 *)this = *(undefined8 *)param_1;
    }
  }
  return;
}



/* DisplayServerX11::get_name() const */

DisplayServerX11 * __thiscall DisplayServerX11::get_name(DisplayServerX11 *this)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)this = 0;
  String::parse_latin1((StrRange *)this);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* void Ref<InputEvent>::TEMPNAMEPLACEHOLDERVALUE(Ref<InputEventScreenTouch> const&) [clone .isra.0]
    */

void __thiscall Ref<InputEvent>::operator=(Ref<InputEvent> *this,Ref *param_1)

{
  Object *pOVar1;
  char cVar2;
  Object *pOVar3;
  
  pOVar1 = *(Object **)this;
  if (param_1 == (Ref *)0x0) {
    if (pOVar1 == (Object *)0x0) {
      return;
    }
    *(undefined8 *)this = 0;
  }
  else {
    pOVar3 = (Object *)__dynamic_cast(param_1,&Object::typeinfo,&InputEvent::typeinfo,0);
    if (pOVar3 == pOVar1) {
      return;
    }
    *(Object **)this = pOVar3;
    if ((pOVar3 != (Object *)0x0) && (cVar2 = RefCounted::reference(), cVar2 == '\0')) {
      *(undefined8 *)this = 0;
    }
    if (pOVar1 == (Object *)0x0) {
      return;
    }
  }
  cVar2 = RefCounted::unreference();
  if ((cVar2 != '\0') && (cVar2 = predelete_handler(pOVar1), cVar2 != '\0')) {
    (**(code **)(*(long *)pOVar1 + 0x140))(pOVar1);
    Memory::free_static(pOVar1,false);
    return;
  }
  return;
}



/* DisplayServerX11::can_any_window_draw() const */

undefined8 __thiscall DisplayServerX11::can_any_window_draw(DisplayServerX11 *this)

{
  pthread_mutex_t *__mutex;
  undefined8 *puVar1;
  int iVar2;
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  iVar2 = pthread_mutex_lock(__mutex);
  if (iVar2 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar2);
  }
  puVar1 = *(undefined8 **)(this + 0x308);
  while( true ) {
    if (puVar1 == (undefined8 *)0x0) {
      pthread_mutex_unlock(__mutex);
      return 0;
    }
    iVar2 = (**(code **)(*(long *)this + 0x5a0))(this,*(undefined4 *)(puVar1 + 2));
    if (iVar2 != 1) break;
    puVar1 = (undefined8 *)*puVar1;
  }
  pthread_mutex_unlock(__mutex);
  return 1;
}



/* DisplayServerX11::window_set_vsync_mode(DisplayServer::VSyncMode, int) */

void __thiscall
DisplayServerX11::window_set_vsync_mode
          (DisplayServerX11 *this,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 == 0) {
    if (*(long *)(this + 0x290) != 0) {
      RenderingContextDriver::window_set_vsync_mode(*(long *)(this + 0x290),param_3,param_2);
    }
    if (*(long *)(this + 0x280) != 0) {
      GLManager_X11::set_use_vsync(SUB81(*(long *)(this + 0x280),0));
    }
    if (*(long *)(this + 0x288) != 0) {
      EGLManager::set_use_vsync(SUB81(*(long *)(this + 0x288),0));
    }
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* DisplayServerX11::window_get_vsync_mode(int) const */

uint DisplayServerX11::window_get_vsync_mode(int param_1)

{
  pthread_mutex_t *__mutex;
  byte bVar1;
  int iVar2;
  uint uVar3;
  undefined4 in_register_0000003c;
  long lVar4;
  
  lVar4 = CONCAT44(in_register_0000003c,param_1);
  __mutex = (pthread_mutex_t *)(lVar4 + 0x200);
  iVar2 = pthread_mutex_lock(__mutex);
  if (iVar2 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar2);
  }
  if (*(long *)(lVar4 + 0x290) == 0) {
    if (*(long *)(lVar4 + 0x280) != 0) {
      bVar1 = GLManager_X11::is_using_vsync();
      pthread_mutex_unlock(__mutex);
      return (uint)bVar1;
    }
    uVar3 = 1;
    if (*(long *)(lVar4 + 0x288) != 0) {
      bVar1 = EGLManager::is_using_vsync();
      pthread_mutex_unlock(__mutex);
      return (uint)bVar1;
    }
  }
  else {
    uVar3 = RenderingContextDriver::window_get_vsync_mode((int)*(long *)(lVar4 + 0x290));
  }
  pthread_mutex_unlock(__mutex);
  return uVar3;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::get_screen_count() const */

int __thiscall DisplayServerX11::get_screen_count(DisplayServerX11 *this)

{
  int iVar1;
  undefined8 uVar2;
  long in_FS_OFFSET;
  int local_2c;
  undefined1 local_28 [4];
  undefined1 local_24 [4];
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar1);
  }
  local_2c = 0;
  uVar2 = *(undefined8 *)(this + 0x360);
  if (this[0x6f1] != (DisplayServerX11)0x0) {
    iVar1 = (*_XineramaQueryExtension_dylibloader_wrapper_xinerama)(uVar2,local_28,local_24);
    if (iVar1 != 0) {
      uVar2 = (*_XineramaQueryScreens_dylibloader_wrapper_xinerama)
                        (*(undefined8 *)(this + 0x360),&local_2c);
      (*_XFree_dylibloader_wrapper_xlib)(uVar2);
    }
    if (local_2c != 0) goto LAB_00101a5c;
    uVar2 = *(undefined8 *)(this + 0x360);
  }
  local_2c = (*_XScreenCount_dylibloader_wrapper_xlib)(uVar2);
LAB_00101a5c:
  iVar1 = local_2c;
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return iVar1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::cursor_set_shape(DisplayServer::CursorShape) */

void __thiscall DisplayServerX11::cursor_set_shape(DisplayServerX11 *this,uint param_2)

{
  int iVar1;
  long lVar2;
  long *plVar3;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar1);
  }
  if (param_2 < 0x11) {
    if (*(uint *)(this + 0x698) != param_2) {
      if ((*(int *)(this + 0x550) == 0) || (*(int *)(this + 0x550) == 3)) {
        lVar2 = *(long *)(this + ((long)(int)param_2 + 0xc0) * 8 + 8);
        if (lVar2 == 0) {
          lVar2 = *(long *)(this + 0x608);
          if ((lVar2 != 0) && (plVar3 = *(long **)(this + 0x308), plVar3 != (long *)0x0)) {
            while( true ) {
              (*_XDefineCursor_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),plVar3[3],lVar2);
              plVar3 = (long *)*plVar3;
              if (plVar3 == (long *)0x0) break;
              lVar2 = *(long *)(this + 0x608);
            }
          }
        }
        else {
          plVar3 = *(long **)(this + 0x308);
          if (plVar3 != (long *)0x0) {
            while( true ) {
              (*_XDefineCursor_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),plVar3[3],lVar2);
              plVar3 = (long *)*plVar3;
              if (plVar3 == (long *)0x0) break;
              lVar2 = *(long *)(this + ((long)(int)param_2 + 0xc0) * 8 + 8);
            }
          }
        }
      }
      *(uint *)(this + 0x698) = param_2;
    }
  }
  else {
    _err_print_index_error
              ("cursor_set_shape","platform/linuxbsd/x11/display_server_x11.cpp",0xcc2,
               (ulong)param_2,0x11,"p_shape","CURSOR_MAX","",false,false);
  }
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return;
}



/* CowData<long>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<long>::_copy_on_write(CowData<long> *this)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  size_t __n;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar5 = 0x10;
  __n = lVar2 * 8;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = lVar2;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* DisplayServerX11::window_get_attached_instance_id(int) const */

undefined8 __thiscall
DisplayServerX11::window_get_attached_instance_id(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  uint uVar20;
  uint uVar21;
  uint uVar22;
  long lVar23;
  long lVar24;
  uint uVar25;
  ulong uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar28 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar20 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar20 = (uVar20 ^ uVar20 >> 0xd) * -0x3d4d51cb;
    uVar29 = uVar20 ^ uVar20 >> 0x10;
    if (uVar20 == uVar20 >> 0x10) {
      uVar29 = 1;
      uVar26 = uVar3;
    }
    else {
      uVar26 = uVar29 * uVar3;
    }
    lVar4 = *(long *)(this + 0x300);
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar28;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar26;
    lVar23 = SUB168(auVar5 * auVar12,8);
    uVar20 = *(uint *)(lVar4 + lVar23 * 4);
    uVar21 = SUB164(auVar5 * auVar12,8);
    if (uVar20 != 0) {
      uVar25 = 0;
      lVar24 = lVar23;
      uVar27 = uVar20;
      uVar22 = uVar21;
      do {
        if ((uVar29 == uVar27) && (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) == param_1)) {
          uVar27 = 0;
          do {
            if ((uVar29 == uVar20) && (*(int *)(*(long *)(lVar2 + lVar23 * 8) + 0x10) == param_1)) {
              return *(undefined8 *)(*(long *)(lVar2 + (ulong)uVar21 * 8) + 0xf8);
            }
            uVar27 = uVar27 + 1;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (uVar21 + 1) * uVar3;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = uVar28;
            lVar23 = SUB168(auVar9 * auVar16,8);
            uVar20 = *(uint *)(lVar4 + lVar23 * 4);
            uVar21 = SUB164(auVar9 * auVar16,8);
          } while ((uVar20 != 0) &&
                  (auVar10._8_8_ = 0, auVar10._0_8_ = uVar20 * uVar3, auVar17._8_8_ = 0,
                  auVar17._0_8_ = uVar28, auVar11._8_8_ = 0,
                  auVar11._0_8_ = ((uVar1 + uVar21) - SUB164(auVar10 * auVar17,8)) * uVar3,
                  auVar18._8_8_ = 0, auVar18._0_8_ = uVar28, uVar27 <= SUB164(auVar11 * auVar18,8)))
          ;
          _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                           "FATAL: Condition \"!exists\" is true.",0,0);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar19 = (code *)invalidInstructionException();
          (*pcVar19)();
        }
        uVar25 = uVar25 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (uVar22 + 1) * uVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar28;
        lVar24 = SUB168(auVar6 * auVar13,8);
        uVar27 = *(uint *)(lVar4 + lVar24 * 4);
        uVar22 = SUB164(auVar6 * auVar13,8);
      } while ((uVar27 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = uVar27 * uVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar28, auVar8._8_8_ = 0,
              auVar8._0_8_ = ((uVar1 + uVar22) - SUB164(auVar7 * auVar14,8)) * uVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar28, uVar25 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  _err_print_error("window_get_attached_instance_id","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x7ca,"Condition \"!windows.has(p_window)\" is true. Returning: ObjectID()",0,0);
  return 0;
}



/* CowData<char32_t>::_ref(CowData<char32_t> const&) [clone .part.0] */

void __thiscall CowData<char32_t>::_ref(CowData<char32_t> *this,CowData *param_1)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  bool bVar4;
  
  if (*(long *)this != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)this + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
    else {
      *(undefined8 *)this = 0;
    }
  }
  plVar1 = (long *)(*(long *)param_1 + -0x10);
  if (*(long *)param_1 != 0) {
    do {
      lVar2 = *plVar1;
      if (lVar2 == 0) {
        return;
      }
      LOCK();
      lVar3 = *plVar1;
      bVar4 = lVar2 == lVar3;
      if (bVar4) {
        *plVar1 = lVar2 + 1;
        lVar3 = lVar2;
      }
      UNLOCK();
    } while (!bVar4);
    if (lVar3 != -1) {
      *(undefined8 *)this = *(undefined8 *)param_1;
    }
  }
  return;
}



/* DisplayServerX11::ime_get_text() const */

void DisplayServerX11::ime_get_text(void)

{
  long in_RSI;
  CowData<char32_t> *in_RDI;
  
  *(undefined8 *)in_RDI = 0;
  if (*(long *)(in_RSI + 0x2d0) != 0) {
    CowData<char32_t>::_ref(in_RDI,(CowData *)(in_RSI + 0x2d0));
  }
  return;
}



/* DisplayServerX11::window_is_focused(int) const */

undefined1 __thiscall DisplayServerX11::window_is_focused(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined1 uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  
  iVar20 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar20 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar20);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar21 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar21 = (uVar21 ^ uVar21 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar21 ^ uVar21 >> 0x10;
    if (uVar21 == uVar21 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    lVar4 = *(long *)(this + 0x300);
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar30;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar28;
    lVar24 = SUB168(auVar5 * auVar12,8);
    uVar21 = *(uint *)(lVar4 + lVar24 * 4);
    uVar22 = SUB164(auVar5 * auVar12,8);
    if (uVar21 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar29 = uVar21;
      uVar23 = uVar22;
      do {
        if ((uVar31 == uVar29) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar29 = 0;
          while ((uVar31 != uVar21 || (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_1)))
          {
            uVar29 = uVar29 + 1;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (uVar22 + 1) * uVar3;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = uVar30;
            lVar24 = SUB168(auVar9 * auVar16,8);
            uVar21 = *(uint *)(lVar4 + lVar24 * 4);
            uVar22 = SUB164(auVar9 * auVar16,8);
            if ((uVar21 == 0) ||
               (auVar10._8_8_ = 0, auVar10._0_8_ = uVar21 * uVar3, auVar17._8_8_ = 0,
               auVar17._0_8_ = uVar30, auVar11._8_8_ = 0,
               auVar11._0_8_ = ((uVar1 + uVar22) - SUB164(auVar10 * auVar17,8)) * uVar3,
               auVar18._8_8_ = 0, auVar18._0_8_ = uVar30, SUB164(auVar11 * auVar18,8) < uVar29)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar19 = (code *)invalidInstructionException();
              (*pcVar19)();
            }
          }
          uVar26 = *(undefined1 *)(*(long *)(lVar2 + (ulong)uVar22 * 8) + 0x110);
          goto LAB_001021a0;
        }
        uVar27 = uVar27 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (uVar23 + 1) * uVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar30;
        lVar25 = SUB168(auVar6 * auVar13,8);
        uVar29 = *(uint *)(lVar4 + lVar25 * 4);
        uVar23 = SUB164(auVar6 * auVar13,8);
      } while ((uVar29 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = uVar29 * uVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar30, auVar8._8_8_ = 0,
              auVar8._0_8_ = ((uVar1 + uVar23) - SUB164(auVar7 * auVar14,8)) * uVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar30, uVar27 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  uVar26 = 0;
  _err_print_error("window_is_focused","platform/linuxbsd/x11/display_server_x11.cpp",0xc5d,
                   "Condition \"!windows.has(p_window)\" is true. Returning: false",0,0);
LAB_001021a0:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return uVar26;
}



/* DisplayServerX11::window_get_min_size(int) const */

undefined8 __thiscall DisplayServerX11::window_get_min_size(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  
  iVar20 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar20 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar20);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar21 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar21 = (uVar21 ^ uVar21 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar21 ^ uVar21 >> 0x10;
    if (uVar21 == uVar21 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    lVar4 = *(long *)(this + 0x300);
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar30;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar28;
    lVar24 = SUB168(auVar5 * auVar12,8);
    uVar21 = *(uint *)(lVar4 + lVar24 * 4);
    uVar22 = SUB164(auVar5 * auVar12,8);
    if (uVar21 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar29 = uVar21;
      uVar23 = uVar22;
      do {
        if ((uVar31 == uVar29) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar29 = 0;
          while ((uVar31 != uVar21 || (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_1)))
          {
            uVar29 = uVar29 + 1;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (uVar22 + 1) * uVar3;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = uVar30;
            lVar24 = SUB168(auVar9 * auVar16,8);
            uVar21 = *(uint *)(lVar4 + lVar24 * 4);
            uVar22 = SUB164(auVar9 * auVar16,8);
            if ((uVar21 == 0) ||
               (auVar10._8_8_ = 0, auVar10._0_8_ = uVar21 * uVar3, auVar17._8_8_ = 0,
               auVar17._0_8_ = uVar30, auVar11._8_8_ = 0,
               auVar11._0_8_ = ((uVar1 + uVar22) - SUB164(auVar10 * auVar17,8)) * uVar3,
               auVar18._8_8_ = 0, auVar18._0_8_ = uVar30, SUB164(auVar11 * auVar18,8) < uVar29)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar19 = (code *)invalidInstructionException();
              (*pcVar19)();
            }
          }
          uVar26 = *(undefined8 *)(*(long *)(lVar2 + (ulong)uVar22 * 8) + 0x48);
          goto LAB_001023fd;
        }
        uVar27 = uVar27 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (uVar23 + 1) * uVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar30;
        lVar25 = SUB168(auVar6 * auVar13,8);
        uVar29 = *(uint *)(lVar4 + lVar25 * 4);
        uVar23 = SUB164(auVar6 * auVar13,8);
      } while ((uVar29 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = uVar29 * uVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar30, auVar8._8_8_ = 0,
              auVar8._0_8_ = ((uVar1 + uVar23) - SUB164(auVar7 * auVar14,8)) * uVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar30, uVar27 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  uVar26 = 0;
  _err_print_error("window_get_min_size","platform/linuxbsd/x11/display_server_x11.cpp",0x975,
                   "Condition \"!windows.has(p_window)\" is true. Returning: Size2i()",0,0);
LAB_001023fd:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return uVar26;
}



/* DisplayServerX11::window_get_size(int) const */

undefined8 __thiscall DisplayServerX11::window_get_size(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  
  iVar20 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar20 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar20);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar21 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar21 = (uVar21 ^ uVar21 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar21 ^ uVar21 >> 0x10;
    if (uVar21 == uVar21 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    lVar4 = *(long *)(this + 0x300);
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar30;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar28;
    lVar24 = SUB168(auVar5 * auVar12,8);
    uVar21 = *(uint *)(lVar4 + lVar24 * 4);
    uVar22 = SUB164(auVar5 * auVar12,8);
    if (uVar21 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar29 = uVar21;
      uVar23 = uVar22;
      do {
        if ((uVar31 == uVar29) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar29 = 0;
          while ((uVar31 != uVar21 || (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_1)))
          {
            uVar29 = uVar29 + 1;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (uVar22 + 1) * uVar3;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = uVar30;
            lVar24 = SUB168(auVar9 * auVar16,8);
            uVar21 = *(uint *)(lVar4 + lVar24 * 4);
            uVar22 = SUB164(auVar9 * auVar16,8);
            if ((uVar21 == 0) ||
               (auVar10._8_8_ = 0, auVar10._0_8_ = uVar21 * uVar3, auVar17._8_8_ = 0,
               auVar17._0_8_ = uVar30, auVar11._8_8_ = 0,
               auVar11._0_8_ = ((uVar1 + uVar22) - SUB164(auVar10 * auVar17,8)) * uVar3,
               auVar18._8_8_ = 0, auVar18._0_8_ = uVar30, SUB164(auVar11 * auVar18,8) < uVar29)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar19 = (code *)invalidInstructionException();
              (*pcVar19)();
            }
          }
          uVar26 = *(undefined8 *)(*(long *)(lVar2 + (ulong)uVar22 * 8) + 0x60);
          goto LAB_0010265d;
        }
        uVar27 = uVar27 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (uVar23 + 1) * uVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar30;
        lVar25 = SUB168(auVar6 * auVar13,8);
        uVar29 = *(uint *)(lVar4 + lVar25 * 4);
        uVar23 = SUB164(auVar6 * auVar13,8);
      } while ((uVar29 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = uVar29 * uVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar30, auVar8._8_8_ = 0,
              auVar8._0_8_ = ((uVar1 + uVar23) - SUB164(auVar7 * auVar14,8)) * uVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar30, uVar27 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  uVar26 = 0;
  _err_print_error("window_get_size","platform/linuxbsd/x11/display_server_x11.cpp",0x9bb,
                   "Condition \"!windows.has(p_window)\" is true. Returning: Size2i()",0,0);
LAB_0010265d:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return uVar26;
}



/* DisplayServerX11::window_get_max_size(int) const */

undefined8 __thiscall DisplayServerX11::window_get_max_size(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  
  iVar20 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar20 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar20);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar21 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar21 = (uVar21 ^ uVar21 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar21 ^ uVar21 >> 0x10;
    if (uVar21 == uVar21 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    lVar4 = *(long *)(this + 0x300);
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar30;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar28;
    lVar24 = SUB168(auVar5 * auVar12,8);
    uVar21 = *(uint *)(lVar4 + lVar24 * 4);
    uVar22 = SUB164(auVar5 * auVar12,8);
    if (uVar21 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar29 = uVar21;
      uVar23 = uVar22;
      do {
        if ((uVar31 == uVar29) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar29 = 0;
          while ((uVar31 != uVar21 || (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_1)))
          {
            uVar29 = uVar29 + 1;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (uVar22 + 1) * uVar3;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = uVar30;
            lVar24 = SUB168(auVar9 * auVar16,8);
            uVar21 = *(uint *)(lVar4 + lVar24 * 4);
            uVar22 = SUB164(auVar9 * auVar16,8);
            if ((uVar21 == 0) ||
               (auVar10._8_8_ = 0, auVar10._0_8_ = uVar21 * uVar3, auVar17._8_8_ = 0,
               auVar17._0_8_ = uVar30, auVar11._8_8_ = 0,
               auVar11._0_8_ = ((uVar1 + uVar22) - SUB164(auVar10 * auVar17,8)) * uVar3,
               auVar18._8_8_ = 0, auVar18._0_8_ = uVar30, SUB164(auVar11 * auVar18,8) < uVar29)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar19 = (code *)invalidInstructionException();
              (*pcVar19)();
            }
          }
          uVar26 = *(undefined8 *)(*(long *)(lVar2 + (ulong)uVar22 * 8) + 0x50);
          goto LAB_001028bd;
        }
        uVar27 = uVar27 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (uVar23 + 1) * uVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar30;
        lVar25 = SUB168(auVar6 * auVar13,8);
        uVar29 = *(uint *)(lVar4 + lVar25 * 4);
        uVar23 = SUB164(auVar6 * auVar13,8);
      } while ((uVar29 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = uVar29 * uVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar30, auVar8._8_8_ = 0,
              auVar8._0_8_ = ((uVar1 + uVar23) - SUB164(auVar7 * auVar14,8)) * uVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar30, uVar27 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  uVar26 = 0;
  _err_print_error("window_get_max_size","platform/linuxbsd/x11/display_server_x11.cpp",0x957,
                   "Condition \"!windows.has(p_window)\" is true. Returning: Size2i()",0,0);
LAB_001028bd:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return uVar26;
}



/* DisplayServerX11::window_get_position(int) const */

undefined8 __thiscall DisplayServerX11::window_get_position(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  
  iVar20 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar20 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar20);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar21 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar21 = (uVar21 ^ uVar21 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar21 ^ uVar21 >> 0x10;
    if (uVar21 == uVar21 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    lVar4 = *(long *)(this + 0x300);
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar30;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar28;
    lVar24 = SUB168(auVar5 * auVar12,8);
    uVar21 = *(uint *)(lVar4 + lVar24 * 4);
    uVar22 = SUB164(auVar5 * auVar12,8);
    if (uVar21 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar29 = uVar21;
      uVar23 = uVar22;
      do {
        if ((uVar31 == uVar29) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar29 = 0;
          while ((uVar31 != uVar21 || (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_1)))
          {
            uVar29 = uVar29 + 1;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (uVar22 + 1) * uVar3;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = uVar30;
            lVar24 = SUB168(auVar9 * auVar16,8);
            uVar21 = *(uint *)(lVar4 + lVar24 * 4);
            uVar22 = SUB164(auVar9 * auVar16,8);
            if ((uVar21 == 0) ||
               (auVar10._8_8_ = 0, auVar10._0_8_ = uVar21 * uVar3, auVar17._8_8_ = 0,
               auVar17._0_8_ = uVar30, auVar11._8_8_ = 0,
               auVar11._0_8_ = ((uVar1 + uVar22) - SUB164(auVar10 * auVar17,8)) * uVar3,
               auVar18._8_8_ = 0, auVar18._0_8_ = uVar30, SUB164(auVar11 * auVar18,8) < uVar29)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar19 = (code *)invalidInstructionException();
              (*pcVar19)();
            }
          }
          uVar26 = *(undefined8 *)(*(long *)(lVar2 + (ulong)uVar22 * 8) + 0x58);
          goto LAB_00102b1d;
        }
        uVar27 = uVar27 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (uVar23 + 1) * uVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar30;
        lVar25 = SUB168(auVar6 * auVar13,8);
        uVar29 = *(uint *)(lVar4 + lVar25 * 4);
        uVar23 = SUB164(auVar6 * auVar13,8);
      } while ((uVar29 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = uVar29 * uVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar30, auVar8._8_8_ = 0,
              auVar8._0_8_ = ((uVar1 + uVar23) - SUB164(auVar7 * auVar14,8)) * uVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar30, uVar27 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  uVar26 = 0;
  _err_print_error("window_get_position","platform/linuxbsd/x11/display_server_x11.cpp",0x8f2,
                   "Condition \"!windows.has(p_window)\" is true. Returning: Point2i()",0,0);
LAB_00102b1d:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return uVar26;
}



/* DisplayServerX11::window_get_popup_safe_rect(int) const */

undefined1  [16] __thiscall
DisplayServerX11::window_get_popup_safe_rect(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  undefined8 uVar28;
  ulong uVar29;
  uint uVar30;
  ulong uVar31;
  uint uVar32;
  undefined1 auVar33 [16];
  
  iVar20 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar20 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar20);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar31 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar21 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar21 = (uVar21 ^ uVar21 >> 0xd) * -0x3d4d51cb;
    uVar32 = uVar21 ^ uVar21 >> 0x10;
    if (uVar21 == uVar21 >> 0x10) {
      uVar32 = 1;
      uVar29 = uVar3;
    }
    else {
      uVar29 = uVar32 * uVar3;
    }
    lVar4 = *(long *)(this + 0x300);
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar31;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar29;
    lVar24 = SUB168(auVar5 * auVar12,8);
    uVar21 = *(uint *)(lVar4 + lVar24 * 4);
    uVar22 = SUB164(auVar5 * auVar12,8);
    if (uVar21 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar30 = uVar21;
      uVar23 = uVar22;
      do {
        if ((uVar32 == uVar30) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar30 = 0;
          while ((uVar32 != uVar21 || (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_1)))
          {
            uVar30 = uVar30 + 1;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (uVar22 + 1) * uVar3;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = uVar31;
            lVar24 = SUB168(auVar9 * auVar16,8);
            uVar21 = *(uint *)(lVar4 + lVar24 * 4);
            uVar22 = SUB164(auVar9 * auVar16,8);
            if ((uVar21 == 0) ||
               (auVar10._8_8_ = 0, auVar10._0_8_ = uVar21 * uVar3, auVar17._8_8_ = 0,
               auVar17._0_8_ = uVar31, auVar11._8_8_ = 0,
               auVar11._0_8_ = ((uVar1 + uVar22) - SUB164(auVar10 * auVar17,8)) * uVar3,
               auVar18._8_8_ = 0, auVar18._0_8_ = uVar31, SUB164(auVar11 * auVar18,8) < uVar30)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar19 = (code *)invalidInstructionException();
              (*pcVar19)();
            }
          }
          lVar2 = *(long *)(lVar2 + (ulong)uVar22 * 8);
          uVar28 = *(undefined8 *)(lVar2 + 0x120);
          uVar26 = *(undefined8 *)(lVar2 + 0x128);
          goto LAB_00102d8b;
        }
        uVar27 = uVar27 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (uVar23 + 1) * uVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar31;
        lVar25 = SUB168(auVar6 * auVar13,8);
        uVar30 = *(uint *)(lVar4 + lVar25 * 4);
        uVar23 = SUB164(auVar6 * auVar13,8);
      } while ((uVar30 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = uVar30 * uVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar31, auVar8._8_8_ = 0,
              auVar8._0_8_ = ((uVar1 + uVar23) - SUB164(auVar7 * auVar14,8)) * uVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar31, uVar27 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  uVar28 = 0;
  uVar26 = 0;
  _err_print_error("window_get_popup_safe_rect","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x112b,"Condition \"!windows.has(p_window)\" is true. Returning: Rect2i()",0,0);
LAB_00102d8b:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  auVar33._8_8_ = uVar26;
  auVar33._0_8_ = uVar28;
  return auVar33;
}



/* DisplayServerX11::remove_embedded_process(long) */

undefined8 __thiscall DisplayServerX11::remove_embedded_process(DisplayServerX11 *this,long param_1)

{
  uint *puVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  long *plVar4;
  uint uVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  void *pvVar9;
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  code *pcVar42;
  int iVar43;
  ulong uVar44;
  uint uVar45;
  long lVar46;
  long lVar47;
  ulong uVar48;
  undefined8 uVar49;
  uint uVar50;
  ulong uVar51;
  uint uVar52;
  ulong uVar53;
  long *plVar54;
  ulong uVar55;
  uint uVar56;
  uint uVar57;
  uint uVar58;
  uint *puVar59;
  
  iVar43 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar43 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar43);
  }
  lVar6 = *(long *)(this + 0x758);
  if ((lVar6 != 0) && (*(int *)(this + 0x77c) != 0)) {
    lVar7 = *(long *)(this + 0x760);
    uVar5 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x778) * 4);
    uVar55 = CONCAT44(0,uVar5);
    lVar8 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x778) * 8);
    uVar44 = param_1 * 0x3ffff - 1;
    uVar44 = (uVar44 ^ uVar44 >> 0x1f) * 0x15;
    uVar44 = (uVar44 ^ uVar44 >> 0xb) * 0x41;
    uVar44 = uVar44 >> 0x16 ^ uVar44;
    uVar51 = uVar44 & 0xffffffff;
    if ((int)uVar44 == 0) {
      uVar51 = 1;
    }
    uVar50 = (uint)uVar51;
    auVar10._8_8_ = 0;
    auVar10._0_8_ = uVar51 * lVar8;
    auVar26._8_8_ = 0;
    auVar26._0_8_ = uVar55;
    lVar46 = SUB168(auVar10 * auVar26,8);
    uVar58 = *(uint *)(lVar7 + lVar46 * 4);
    uVar56 = SUB164(auVar10 * auVar26,8);
    if (uVar58 != 0) {
      uVar57 = 0;
      lVar47 = lVar46;
      uVar52 = uVar58;
      uVar45 = uVar56;
      while ((uVar50 != uVar52 || (*(long *)(*(long *)(lVar6 + lVar47 * 8) + 0x10) != param_1))) {
        uVar57 = uVar57 + 1;
        auVar11._8_8_ = 0;
        auVar11._0_8_ = (ulong)(uVar45 + 1) * lVar8;
        auVar27._8_8_ = 0;
        auVar27._0_8_ = uVar55;
        lVar47 = SUB168(auVar11 * auVar27,8);
        uVar52 = *(uint *)(lVar7 + lVar47 * 4);
        uVar45 = SUB164(auVar11 * auVar27,8);
        if ((uVar52 == 0) ||
           (auVar12._8_8_ = 0, auVar12._0_8_ = (ulong)uVar52 * lVar8, auVar28._8_8_ = 0,
           auVar28._0_8_ = uVar55, auVar13._8_8_ = 0,
           auVar13._0_8_ = (ulong)((uVar5 + uVar45) - SUB164(auVar12 * auVar28,8)) * lVar8,
           auVar29._8_8_ = 0, auVar29._0_8_ = uVar55, SUB164(auVar13 * auVar29,8) < uVar57))
        goto LAB_00103230;
      }
      uVar52 = 0;
      while ((uVar50 != uVar58 || (*(long *)(*(long *)(lVar6 + lVar46 * 8) + 0x10) != param_1))) {
        uVar52 = uVar52 + 1;
        auVar14._8_8_ = 0;
        auVar14._0_8_ = (ulong)(uVar56 + 1) * lVar8;
        auVar30._8_8_ = 0;
        auVar30._0_8_ = uVar55;
        lVar46 = SUB168(auVar14 * auVar30,8);
        uVar58 = *(uint *)(lVar7 + lVar46 * 4);
        uVar56 = SUB164(auVar14 * auVar30,8);
        if ((uVar58 == 0) ||
           (auVar15._8_8_ = 0, auVar15._0_8_ = (ulong)uVar58 * lVar8, auVar31._8_8_ = 0,
           auVar31._0_8_ = uVar55, auVar16._8_8_ = 0,
           auVar16._0_8_ = (ulong)((uVar5 + uVar56) - SUB164(auVar15 * auVar31,8)) * lVar8,
           auVar32._8_8_ = 0, auVar32._0_8_ = uVar55, SUB164(auVar16 * auVar32,8) < uVar52)) {
          _err_print_error(&_LC60,"./core/templates/hash_map.h",0x140,
                           "FATAL: Condition \"!exists\" is true.","HashMap key not found.",0,0);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar42 = (code *)invalidInstructionException();
          (*pcVar42)();
        }
      }
      pvVar9 = *(void **)(*(long *)(lVar6 + (ulong)uVar56 * 8) + 0x18);
      (**(code **)(*(long *)this + 0x6a8))(this);
      lVar6 = *(long *)(this + 0x758);
      if ((lVar6 != 0) && (*(int *)(this + 0x77c) != 0)) {
        lVar7 = *(long *)(this + 0x760);
        lVar8 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x778) * 8);
        uVar5 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x778) * 4);
        uVar55 = CONCAT44(0,uVar5);
        auVar17._8_8_ = 0;
        auVar17._0_8_ = uVar51 * lVar8;
        auVar33._8_8_ = 0;
        auVar33._0_8_ = uVar55;
        uVar44 = SUB168(auVar17 * auVar33,8);
        uVar58 = *(uint *)(lVar7 + uVar44 * 4);
        uVar51 = (ulong)SUB164(auVar17 * auVar33,8);
        if (uVar58 != 0) {
          uVar56 = 0;
          do {
            auVar20._8_8_ = 0;
            auVar20._0_8_ = (ulong)((int)uVar51 + 1) * lVar8;
            auVar36._8_8_ = 0;
            auVar36._0_8_ = uVar55;
            uVar48 = SUB168(auVar20 * auVar36,8);
            uVar52 = SUB164(auVar20 * auVar36,8);
            if ((uVar50 == uVar58) && (*(long *)(*(long *)(lVar6 + uVar44 * 8) + 0x10) == param_1))
            {
              puVar59 = (uint *)(lVar7 + uVar48 * 4);
              uVar58 = *puVar59;
              if ((uVar58 != 0) &&
                 (auVar21._8_8_ = 0, auVar21._0_8_ = (ulong)uVar58 * lVar8, auVar37._8_8_ = 0,
                 auVar37._0_8_ = uVar55, auVar22._8_8_ = 0,
                 auVar22._0_8_ = (ulong)((uVar52 + uVar5) - SUB164(auVar21 * auVar37,8)) * lVar8,
                 auVar38._8_8_ = 0, auVar38._0_8_ = uVar55, uVar44 = (ulong)uVar52, uVar53 = uVar51,
                 SUB164(auVar22 * auVar38,8) != 0)) {
                while( true ) {
                  uVar51 = uVar44;
                  puVar1 = (uint *)(lVar7 + uVar53 * 4);
                  *puVar59 = *puVar1;
                  puVar2 = (undefined8 *)(lVar6 + uVar48 * 8);
                  *puVar1 = uVar58;
                  puVar3 = (undefined8 *)(lVar6 + uVar53 * 8);
                  uVar49 = *puVar2;
                  *puVar2 = *puVar3;
                  *puVar3 = uVar49;
                  auVar25._8_8_ = 0;
                  auVar25._0_8_ = (ulong)((int)uVar51 + 1) * lVar8;
                  auVar41._8_8_ = 0;
                  auVar41._0_8_ = uVar55;
                  uVar48 = SUB168(auVar25 * auVar41,8);
                  puVar59 = (uint *)(lVar7 + uVar48 * 4);
                  uVar58 = *puVar59;
                  if ((uVar58 == 0) ||
                     (auVar23._8_8_ = 0, auVar23._0_8_ = (ulong)uVar58 * lVar8, auVar39._8_8_ = 0,
                     auVar39._0_8_ = uVar55, auVar24._8_8_ = 0,
                     auVar24._0_8_ =
                          (ulong)((SUB164(auVar25 * auVar41,8) + uVar5) -
                                 SUB164(auVar23 * auVar39,8)) * lVar8, auVar40._8_8_ = 0,
                     auVar40._0_8_ = uVar55, SUB164(auVar24 * auVar40,8) == 0)) break;
                  uVar44 = uVar48 & 0xffffffff;
                  uVar53 = uVar51;
                }
              }
              plVar4 = (long *)(lVar6 + uVar51 * 8);
              *(undefined4 *)(lVar7 + uVar51 * 4) = 0;
              plVar54 = (long *)*plVar4;
              if (*(long **)(this + 0x768) == plVar54) {
                *(long *)(this + 0x768) = *plVar54;
                plVar54 = (long *)*plVar4;
              }
              if (*(long **)(this + 0x770) == plVar54) {
                *(long *)(this + 0x770) = plVar54[1];
                plVar54 = (long *)*plVar4;
              }
              if ((long *)plVar54[1] != (long *)0x0) {
                *(long *)plVar54[1] = *plVar54;
                plVar54 = (long *)*plVar4;
              }
              if (*plVar54 != 0) {
                *(long *)(*plVar54 + 8) = plVar54[1];
                plVar54 = (long *)*plVar4;
              }
              Memory::free_static(plVar54,false);
              *(undefined8 *)(*(long *)(this + 0x758) + uVar51 * 8) = 0;
              *(int *)(this + 0x77c) = *(int *)(this + 0x77c) + -1;
              break;
            }
            uVar58 = *(uint *)(lVar7 + uVar48 * 4);
            uVar51 = uVar48 & 0xffffffff;
            uVar56 = uVar56 + 1;
          } while ((uVar58 != 0) &&
                  (auVar18._8_8_ = 0, auVar18._0_8_ = (ulong)uVar58 * lVar8, auVar34._8_8_ = 0,
                  auVar34._0_8_ = uVar55, auVar19._8_8_ = 0,
                  auVar19._0_8_ = (ulong)((uVar5 + uVar52) - SUB164(auVar18 * auVar34,8)) * lVar8,
                  auVar35._8_8_ = 0, auVar35._0_8_ = uVar55, uVar44 = uVar48,
                  uVar56 <= SUB164(auVar19 * auVar35,8)));
        }
      }
      uVar49 = 0;
      Memory::free_static(pvVar9,false);
      goto LAB_00103235;
    }
  }
LAB_00103230:
  uVar49 = 0x21;
LAB_00103235:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return uVar49;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::request_close_embedded_process(long) */

undefined8 __thiscall
DisplayServerX11::request_close_embedded_process(DisplayServerX11 *this,long param_1)

{
  uint uVar1;
  long lVar2;
  long lVar3;
  undefined8 *puVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  int iVar20;
  uint uVar21;
  ulong uVar22;
  undefined8 uVar23;
  long lVar24;
  uint uVar25;
  uint uVar26;
  uint uVar27;
  long lVar28;
  long lVar29;
  undefined8 uVar30;
  uint uVar31;
  undefined8 *puVar32;
  ulong uVar33;
  uint uVar34;
  long in_FS_OFFSET;
  byte bVar35;
  undefined1 local_198 [144];
  undefined4 local_108;
  undefined1 local_104 [28];
  undefined8 local_e8;
  undefined8 local_e0;
  undefined4 local_d8;
  undefined8 local_d0;
  undefined8 local_c8;
  undefined8 local_50;
  long local_40;
  
  bVar35 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar20 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar20 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar20);
  }
  lVar24 = *(long *)(this + 0x758);
  if ((lVar24 != 0) && (*(int *)(this + 0x77c) != 0)) {
    lVar2 = *(long *)(this + 0x760);
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x778) * 4);
    uVar33 = CONCAT44(0,uVar1);
    lVar3 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x778) * 8);
    uVar22 = param_1 * 0x3ffff - 1;
    uVar22 = (uVar22 ^ uVar22 >> 0x1f) * 0x15;
    uVar22 = (uVar22 ^ uVar22 >> 0xb) * 0x41;
    uVar21 = (uint)(uVar22 >> 0x16) ^ (uint)uVar22;
    uVar25 = 1;
    if (uVar21 != 0) {
      uVar25 = uVar21;
    }
    auVar5._8_8_ = 0;
    auVar5._0_8_ = (ulong)uVar25 * lVar3;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar33;
    lVar28 = SUB168(auVar5 * auVar12,8);
    uVar21 = *(uint *)(lVar2 + lVar28 * 4);
    uVar26 = SUB164(auVar5 * auVar12,8);
    if (uVar21 != 0) {
      uVar34 = 0;
      lVar29 = lVar28;
      uVar31 = uVar21;
      uVar27 = uVar26;
      do {
        if ((uVar25 == uVar31) && (*(long *)(*(long *)(lVar24 + lVar29 * 8) + 0x10) == param_1)) {
          uVar31 = 0;
          goto LAB_001034b7;
        }
        uVar34 = uVar34 + 1;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = (ulong)(uVar27 + 1) * lVar3;
        auVar13._8_8_ = 0;
        auVar13._0_8_ = uVar33;
        lVar29 = SUB168(auVar6 * auVar13,8);
        uVar31 = *(uint *)(lVar2 + lVar29 * 4);
        uVar27 = SUB164(auVar6 * auVar13,8);
      } while ((uVar31 != 0) &&
              (auVar7._8_8_ = 0, auVar7._0_8_ = (ulong)uVar31 * lVar3, auVar14._8_8_ = 0,
              auVar14._0_8_ = uVar33, auVar8._8_8_ = 0,
              auVar8._0_8_ = (ulong)((uVar1 + uVar27) - SUB164(auVar7 * auVar14,8)) * lVar3,
              auVar15._8_8_ = 0, auVar15._0_8_ = uVar33, uVar34 <= SUB164(auVar8 * auVar15,8)));
    }
  }
  uVar30 = 0x21;
LAB_00103515:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar30;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
  while( true ) {
    auVar10._8_8_ = 0;
    auVar10._0_8_ = (ulong)uVar21 * lVar3;
    auVar17._8_8_ = 0;
    auVar17._0_8_ = uVar33;
    auVar11._8_8_ = 0;
    auVar11._0_8_ = (ulong)((uVar1 + uVar26) - SUB164(auVar10 * auVar17,8)) * lVar3;
    auVar18._8_8_ = 0;
    auVar18._0_8_ = uVar33;
    if (SUB164(auVar11 * auVar18,8) < uVar31) break;
LAB_001034b7:
    if ((uVar21 == uVar25) && (*(long *)(*(long *)(lVar24 + lVar28 * 8) + 0x10) == param_1)) {
      puVar4 = *(undefined8 **)(*(long *)(lVar24 + (ulong)uVar26 * 8) + 0x18);
      uVar23 = (*_XSetErrorHandler_dylibloader_wrapper_xlib)(bad_window_error_handler);
      iVar20 = (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),*puVar4,local_198);
      if (iVar20 != 0) {
        local_104._0_8_ = 0;
        local_50 = 0;
        puVar32 = (undefined8 *)(local_104 + 4);
        for (lVar24 = 0x17; lVar24 != 0; lVar24 = lVar24 + -1) {
          *puVar32 = 0;
          puVar32 = puVar32 + (ulong)bVar35 * -2 + 1;
        }
        local_108 = 0x21;
        local_e8 = *puVar4;
        local_e0 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"WM_PROTOCOLS",1);
        local_d8 = 0x20;
        local_d0 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"WM_DELETE_WINDOW",0);
        local_c8 = 0;
        (*_XSendEvent_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*puVar4,0,0,&local_108);
      }
      uVar30 = 0;
      (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar23);
      goto LAB_00103515;
    }
    uVar31 = uVar31 + 1;
    auVar9._8_8_ = 0;
    auVar9._0_8_ = (ulong)(uVar26 + 1) * lVar3;
    auVar16._8_8_ = 0;
    auVar16._0_8_ = uVar33;
    lVar28 = SUB168(auVar9 * auVar16,8);
    uVar21 = *(uint *)(lVar2 + lVar28 * 4);
    uVar26 = SUB164(auVar9 * auVar16,8);
    if (uVar21 == 0) break;
  }
  _err_print_error(&_LC60,"./core/templates/hash_map.h",0x140,
                   "FATAL: Condition \"!exists\" is true.","HashMap key not found.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar19 = (code *)invalidInstructionException();
  (*pcVar19)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_get_flag(DisplayServer::WindowFlags, int) const */

undefined1 __thiscall
DisplayServerX11::window_get_flag(DisplayServerX11 *this,undefined4 param_2,uint param_3)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  code *pcVar18;
  int iVar19;
  uint uVar20;
  long lVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  uint uVar26;
  ulong uVar27;
  uint uVar28;
  ulong uVar29;
  uint uVar30;
  long in_FS_OFFSET;
  undefined1 uVar31;
  int local_64;
  undefined1 local_60 [8];
  ulong local_58;
  undefined1 local_50 [8];
  long local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar19 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar19 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar19);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar29 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar20 = (param_3 >> 0x10 ^ param_3) * -0x7a143595;
    uVar20 = (uVar20 ^ uVar20 >> 0xd) * -0x3d4d51cb;
    uVar30 = uVar20 ^ uVar20 >> 0x10;
    if (uVar20 == uVar20 >> 0x10) {
      uVar30 = 1;
      uVar27 = uVar3;
    }
    else {
      uVar27 = uVar30 * uVar3;
    }
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar29;
    auVar11._8_8_ = 0;
    auVar11._0_8_ = uVar27;
    lVar24 = SUB168(auVar4 * auVar11,8);
    lVar21 = *(long *)(this + 0x300);
    uVar20 = *(uint *)(lVar21 + lVar24 * 4);
    uVar22 = SUB164(auVar4 * auVar11,8);
    if (uVar20 != 0) {
      uVar26 = 0;
      lVar25 = lVar24;
      uVar28 = uVar20;
      uVar23 = uVar22;
      do {
        if ((uVar28 == uVar30) && (*(uint *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_3)) {
          uVar28 = 0;
          while ((uVar30 != uVar20 || (*(uint *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_3)))
          {
            uVar28 = uVar28 + 1;
            auVar8._8_8_ = 0;
            auVar8._0_8_ = (uVar22 + 1) * uVar3;
            auVar15._8_8_ = 0;
            auVar15._0_8_ = uVar29;
            lVar24 = SUB168(auVar8 * auVar15,8);
            uVar20 = *(uint *)(lVar21 + lVar24 * 4);
            uVar22 = SUB164(auVar8 * auVar15,8);
            if ((uVar20 == 0) ||
               (auVar9._8_8_ = 0, auVar9._0_8_ = uVar20 * uVar3, auVar16._8_8_ = 0,
               auVar16._0_8_ = uVar29, auVar10._8_8_ = 0,
               auVar10._0_8_ = ((uVar1 + uVar22) - SUB164(auVar9 * auVar16,8)) * uVar3,
               auVar17._8_8_ = 0, auVar17._0_8_ = uVar29, SUB164(auVar10 * auVar17,8) < uVar28)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar18 = (code *)invalidInstructionException();
              (*pcVar18)();
            }
          }
          lVar2 = *(long *)(lVar2 + (ulong)uVar22 * 8);
          switch(param_2) {
          case 0:
            uVar31 = *(undefined1 *)(lVar2 + 0x105);
            break;
          case 1:
            uVar31 = *(undefined1 *)(lVar2 + 0x104);
            lVar21 = (*_XInternAtom_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),"_MOTIF_WM_HINTS",1);
            if (lVar21 != 0) {
              local_48 = 0;
              iVar19 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                                 (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar2 + 0x18),lVar21
                                  ,0,0x28,0,0,local_60,&local_64,&local_58,local_50,&local_48);
              if ((iVar19 == 0) && (local_48 != 0)) {
                if ((local_64 == 0x20) && (4 < local_58)) {
                  uVar31 = *(long *)(local_48 + 0x10) == 0;
                }
                (*_XFree_dylibloader_wrapper_xlib)();
              }
            }
            break;
          case 2:
            uVar31 = *(undefined1 *)(lVar2 + 0x103);
            break;
          case 3:
            uVar31 = *(undefined1 *)(lVar2 + 0x114);
            break;
          case 4:
            uVar31 = *(undefined1 *)(lVar2 + 0x100);
            break;
          case 5:
            uVar31 = *(undefined1 *)(lVar2 + 0x113);
            break;
          default:
            goto switchD_00103859_caseD_6;
          case 7:
            uVar31 = *(undefined1 *)(lVar2 + 0x115);
          }
          goto LAB_00103870;
        }
        uVar26 = uVar26 + 1;
        auVar5._8_8_ = 0;
        auVar5._0_8_ = (uVar23 + 1) * uVar3;
        auVar12._8_8_ = 0;
        auVar12._0_8_ = uVar29;
        lVar25 = SUB168(auVar5 * auVar12,8);
        uVar28 = *(uint *)(lVar21 + lVar25 * 4);
        uVar23 = SUB164(auVar5 * auVar12,8);
      } while ((uVar28 != 0) &&
              (auVar6._8_8_ = 0, auVar6._0_8_ = uVar28 * uVar3, auVar13._8_8_ = 0,
              auVar13._0_8_ = uVar29, auVar7._8_8_ = 0,
              auVar7._0_8_ = ((uVar1 + uVar23) - SUB164(auVar6 * auVar13,8)) * uVar3,
              auVar14._8_8_ = 0, auVar14._0_8_ = uVar29, uVar26 <= SUB164(auVar7 * auVar14,8)));
    }
  }
  _err_print_error("window_get_flag","platform/linuxbsd/x11/display_server_x11.cpp",0xbf6,
                   "Condition \"!windows.has(p_window)\" is true. Returning: false",0,0);
switchD_00103859_caseD_6:
  uVar31 = 0;
LAB_00103870:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar31;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_get_position_with_decorations(int) const */

undefined8 __thiscall
DisplayServerX11::window_get_position_with_decorations(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  code *pcVar18;
  int iVar19;
  uint uVar20;
  long lVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  uint uVar26;
  undefined8 uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  long in_FS_OFFSET;
  int local_ec;
  undefined1 local_e8 [8];
  long local_e0;
  undefined1 local_d8 [8];
  int *local_d0;
  undefined1 local_c8 [136];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar19 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar19 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar19);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar20 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar20 = (uVar20 ^ uVar20 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar20 ^ uVar20 >> 0x10;
    if (uVar20 == uVar20 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar30;
    auVar11._8_8_ = 0;
    auVar11._0_8_ = uVar28;
    lVar24 = SUB168(auVar4 * auVar11,8);
    lVar21 = *(long *)(this + 0x300);
    uVar20 = *(uint *)(lVar21 + lVar24 * 4);
    uVar22 = SUB164(auVar4 * auVar11,8);
    if (uVar20 != 0) {
      uVar26 = 0;
      lVar25 = lVar24;
      uVar29 = uVar20;
      uVar23 = uVar22;
      do {
        if ((uVar31 == uVar29) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar29 = 0;
          goto LAB_00103bf7;
        }
        uVar26 = uVar26 + 1;
        auVar5._8_8_ = 0;
        auVar5._0_8_ = (uVar23 + 1) * uVar3;
        auVar12._8_8_ = 0;
        auVar12._0_8_ = uVar30;
        lVar25 = SUB168(auVar5 * auVar12,8);
        uVar29 = *(uint *)(lVar21 + lVar25 * 4);
        uVar23 = SUB164(auVar5 * auVar12,8);
      } while ((uVar29 != 0) &&
              (auVar6._8_8_ = 0, auVar6._0_8_ = uVar29 * uVar3, auVar13._8_8_ = 0,
              auVar13._0_8_ = uVar30, auVar7._8_8_ = 0,
              auVar7._0_8_ = ((uVar1 + uVar23) - SUB164(auVar6 * auVar13,8)) * uVar3,
              auVar14._8_8_ = 0, auVar14._0_8_ = uVar30, uVar26 <= SUB164(auVar7 * auVar14,8)));
    }
  }
  uVar27 = 0;
  _err_print_error("window_get_position_with_decorations",
                   "platform/linuxbsd/x11/display_server_x11.cpp",0x8fb,
                   "Condition \"!windows.has(p_window)\" is true. Returning: Size2i()",0,0);
LAB_00103c1b:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar27;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
  while( true ) {
    auVar9._8_8_ = 0;
    auVar9._0_8_ = uVar20 * uVar3;
    auVar16._8_8_ = 0;
    auVar16._0_8_ = uVar30;
    auVar10._8_8_ = 0;
    auVar10._0_8_ = ((uVar1 + uVar22) - SUB164(auVar9 * auVar16,8)) * uVar3;
    auVar17._8_8_ = 0;
    auVar17._0_8_ = uVar30;
    if (SUB164(auVar10 * auVar17,8) < uVar29) break;
LAB_00103bf7:
    if ((uVar31 == uVar20) && (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) == param_1)) {
      lVar2 = *(long *)(lVar2 + (ulong)uVar22 * 8);
      if (*(char *)(lVar2 + 0x101) == '\0') {
        (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
        (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar2 + 0x18),local_c8);
        uVar27 = *(undefined8 *)(lVar2 + 0x58);
        lVar21 = (*_XInternAtom_dylibloader_wrapper_xlib)
                           (*(undefined8 *)(this + 0x360),"_NET_FRAME_EXTENTS",1);
        if (lVar21 != 0) {
          local_d0 = (int *)0x0;
          iVar19 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar2 + 0x18),lVar21,0,4
                              ,0,0,local_e8,&local_ec,&local_e0,local_d8,&local_d0);
          if (iVar19 == 0) {
            if (((local_ec == 0x20) && (local_e0 == 4)) && (local_d0 != (int *)0x0)) {
              uVar27 = CONCAT44((int)((ulong)uVar27 >> 0x20) - local_d0[4],(int)uVar27 - *local_d0);
            }
            (*_XFree_dylibloader_wrapper_xlib)();
          }
        }
      }
      else {
        uVar27 = *(undefined8 *)(lVar2 + 0x58);
      }
      goto LAB_00103c1b;
    }
    uVar29 = uVar29 + 1;
    auVar8._8_8_ = 0;
    auVar8._0_8_ = (uVar22 + 1) * uVar3;
    auVar15._8_8_ = 0;
    auVar15._0_8_ = uVar30;
    lVar24 = SUB168(auVar8 * auVar15,8);
    uVar20 = *(uint *)(lVar21 + lVar24 * 4);
    uVar22 = SUB164(auVar8 * auVar15,8);
    if (uVar20 == 0) break;
  }
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar18 = (code *)invalidInstructionException();
  (*pcVar18)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_get_size_with_decorations(int) const */

undefined8 __thiscall
DisplayServerX11::window_get_size_with_decorations(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  code *pcVar18;
  int iVar19;
  uint uVar20;
  long lVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  long in_FS_OFFSET;
  int local_ec;
  undefined1 local_e8 [8];
  long local_e0;
  undefined1 local_d8 [8];
  int *local_d0;
  undefined1 local_c8 [8];
  undefined8 local_c0;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar19 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar19 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar19);
  }
  lVar2 = *(long *)(this + 0x2f8);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar20 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar20 = (uVar20 ^ uVar20 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar20 ^ uVar20 >> 0x10;
    if (uVar20 == uVar20 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar30;
    auVar11._8_8_ = 0;
    auVar11._0_8_ = uVar28;
    lVar24 = SUB168(auVar4 * auVar11,8);
    lVar21 = *(long *)(this + 0x300);
    uVar20 = *(uint *)(lVar21 + lVar24 * 4);
    uVar22 = SUB164(auVar4 * auVar11,8);
    if (uVar20 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar29 = uVar20;
      uVar23 = uVar22;
      do {
        if ((uVar31 == uVar29) && (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) == param_1)) {
          uVar29 = 0;
          goto LAB_00103f87;
        }
        uVar27 = uVar27 + 1;
        auVar5._8_8_ = 0;
        auVar5._0_8_ = (uVar23 + 1) * uVar3;
        auVar12._8_8_ = 0;
        auVar12._0_8_ = uVar30;
        lVar25 = SUB168(auVar5 * auVar12,8);
        uVar29 = *(uint *)(lVar21 + lVar25 * 4);
        uVar23 = SUB164(auVar5 * auVar12,8);
      } while ((uVar29 != 0) &&
              (auVar6._8_8_ = 0, auVar6._0_8_ = uVar29 * uVar3, auVar13._8_8_ = 0,
              auVar13._0_8_ = uVar30, auVar7._8_8_ = 0,
              auVar7._0_8_ = ((uVar1 + uVar23) - SUB164(auVar6 * auVar13,8)) * uVar3,
              auVar14._8_8_ = 0, auVar14._0_8_ = uVar30, uVar27 <= SUB164(auVar7 * auVar14,8)));
    }
  }
  uVar26 = 0;
  _err_print_error("window_get_size_with_decorations","platform/linuxbsd/x11/display_server_x11.cpp"
                   ,0x9c3,"Condition \"!windows.has(p_window)\" is true. Returning: Size2i()",0,0);
LAB_00103fab:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar26;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
  while( true ) {
    auVar9._8_8_ = 0;
    auVar9._0_8_ = uVar20 * uVar3;
    auVar16._8_8_ = 0;
    auVar16._0_8_ = uVar30;
    auVar10._8_8_ = 0;
    auVar10._0_8_ = ((uVar1 + uVar22) - SUB164(auVar9 * auVar16,8)) * uVar3;
    auVar17._8_8_ = 0;
    auVar17._0_8_ = uVar30;
    if (SUB164(auVar10 * auVar17,8) < uVar29) break;
LAB_00103f87:
    if ((uVar31 == uVar20) && (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) == param_1)) {
      lVar2 = *(long *)(lVar2 + (ulong)uVar22 * 8);
      if (*(char *)(lVar2 + 0x101) == '\0') {
        (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
        (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar2 + 0x18),local_c8);
        lVar21 = (*_XInternAtom_dylibloader_wrapper_xlib)
                           (*(undefined8 *)(this + 0x360),"_NET_FRAME_EXTENTS",1);
        uVar26 = local_c0;
        if (lVar21 != 0) {
          local_d0 = (int *)0x0;
          iVar19 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar2 + 0x18),lVar21,0,4
                              ,0,0,local_e8,&local_ec,&local_e0,local_d8,&local_d0);
          if (iVar19 == 0) {
            if (((local_ec == 0x20) && (local_e0 == 4)) && (local_d0 != (int *)0x0)) {
              uVar26 = CONCAT44((int)((ulong)local_c0 >> 0x20) + local_d0[6] + local_d0[4],
                                (int)local_c0 + local_d0[2] + *local_d0);
            }
            (*_XFree_dylibloader_wrapper_xlib)();
          }
        }
      }
      else {
        uVar26 = *(undefined8 *)(lVar2 + 0x60);
      }
      goto LAB_00103fab;
    }
    uVar29 = uVar29 + 1;
    auVar8._8_8_ = 0;
    auVar8._0_8_ = (uVar22 + 1) * uVar3;
    auVar15._8_8_ = 0;
    auVar15._0_8_ = uVar30;
    lVar24 = SUB168(auVar8 * auVar15,8);
    uVar20 = *(uint *)(lVar21 + lVar24 * 4);
    uVar22 = SUB164(auVar8 * auVar15,8);
    if (uVar20 == 0) break;
  }
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar18 = (code *)invalidInstructionException();
  (*pcVar18)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::keyboard_get_label_from_physical(Key) const */

uint __thiscall
DisplayServerX11::keyboard_get_label_from_physical(DisplayServerX11 *this,uint param_2)

{
  long *plVar1;
  long lVar2;
  code *pcVar3;
  undefined4 *puVar4;
  undefined1 uVar5;
  uint uVar6;
  undefined4 uVar7;
  uint uVar8;
  ulong uVar9;
  long in_FS_OFFSET;
  undefined4 *local_48 [3];
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  uVar5 = KeyMappingX11::get_xlibcode(param_2 & 0x7fffff);
  pcVar3 = _XkbKeycodeToKeysym_dylibloader_wrapper_xlib;
  if (*(code **)(*(long *)this + 0x6f0) == keyboard_get_current_layout) {
    (*_XkbGetState_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0x100,local_48);
    uVar9 = (ulong)local_48[0] & 0xff;
  }
  else {
    uVar6 = (**(code **)(*(long *)this + 0x6f0))(this);
    uVar9 = (ulong)uVar6;
  }
  uVar9 = (*pcVar3)(*(undefined8 *)(this + 0x360),uVar5,uVar9);
  if ((int)uVar9 - 0x61U < 0x1a) {
    uVar9 = uVar9 - 0x20;
  }
  uVar6 = KeyMappingX11::get_keycode(uVar9);
  pcVar3 = _xkb_keysym_to_utf32_dylibloader_wrapper_xkbcommon;
  if (this[0x2d9] != (DisplayServerX11)0x0) {
    uVar7 = (*_xkb_keysym_to_upper_dylibloader_wrapper_xkbcommon)(uVar9 & 0xffffffff);
    (*pcVar3)(uVar7);
    String::chr((wchar32)local_48);
    KeyMappingX11::get_keycode(uVar9);
    if ((local_48[0] == (undefined4 *)0x0) || (lVar2 = *(long *)(local_48[0] + -2), lVar2 == 0)) {
      uVar7 = 0;
    }
    else {
      if (lVar2 < 1) {
        _err_print_index_error
                  ("get","./core/templates/cowdata.h",0xdb,0,lVar2,"p_index","size()","",false,true)
        ;
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar3 = (code *)invalidInstructionException();
        (*pcVar3)();
      }
      uVar7 = *local_48[0];
    }
    uVar6 = fix_key_label(uVar7);
    puVar4 = local_48[0];
    if (local_48[0] != (undefined4 *)0x0) {
      LOCK();
      plVar1 = (long *)(local_48[0] + -4);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48[0] = (undefined4 *)0x0;
        Memory::free_static(puVar4 + -4,false);
      }
    }
  }
  uVar8 = param_2 & 0x7f000000 | uVar6;
  if (uVar6 == 0) {
    uVar8 = param_2;
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar8;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CowData<char>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<char>::_copy_on_write(CowData<char> *this)

{
  long *plVar1;
  size_t __n;
  long lVar2;
  code *pcVar3;
  undefined8 *puVar4;
  ulong uVar5;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar3 = (code *)invalidInstructionException();
    (*pcVar3)();
  }
  __n = *(size_t *)(*(long *)this + -8);
  uVar5 = 0x10;
  if (__n != 0) {
    uVar5 = __n - 1 | __n - 1 >> 1;
    uVar5 = uVar5 | uVar5 >> 2;
    uVar5 = uVar5 | uVar5 >> 4;
    uVar5 = uVar5 | uVar5 >> 8;
    uVar5 = uVar5 | uVar5 >> 0x10;
    uVar5 = (uVar5 | uVar5 >> 0x20) + 0x11;
  }
  puVar4 = (undefined8 *)Memory::alloc_static(uVar5,false);
  if (puVar4 != (undefined8 *)0x0) {
    *puVar4 = 1;
    puVar4[1] = __n;
    memcpy(puVar4 + 2,*(void **)this,__n);
    if (*(long *)this != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)this + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(undefined8 **)this = puVar4 + 2;
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_update_real_mouse_position(DisplayServerX11::WindowData const&) */

void __thiscall
DisplayServerX11::_update_real_mouse_position(DisplayServerX11 *this,WindowData *param_1)

{
  int iVar1;
  Vector2 *pVVar2;
  long in_FS_OFFSET;
  undefined1 local_4c [4];
  undefined1 local_48 [4];
  int local_44;
  int local_40;
  undefined1 local_3c [4];
  undefined1 local_38 [8];
  undefined1 local_30 [8];
  undefined8 local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  iVar1 = (*_XQueryPointer_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),*(undefined8 *)param_1,local_38,local_30,local_4c
                     ,local_48,&local_44,&local_40,local_3c);
  if ((iVar1 != 0) && (0 < local_44)) {
    if ((0 < local_40) &&
       ((local_44 <= *(int *)(param_1 + 0x48) && (local_40 <= *(int *)(param_1 + 0x4c))))) {
      this[0x3a0] = (DisplayServerX11)0x1;
      *(ulong *)(this + 0x398) = CONCAT44(local_40,local_44);
      pVVar2 = (Vector2 *)Input::get_singleton();
      local_28 = Vector2i::operator_cast_to_Vector2((Vector2i *)(this + 0x398));
      Input::set_mouse_position(pVVar2);
    }
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_flush_mouse_motion() */

void __thiscall DisplayServerX11::_flush_mouse_motion(DisplayServerX11 *this)

{
  undefined8 *puVar1;
  long lVar2;
  undefined8 uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  undefined8 *puVar8;
  long lVar9;
  uint uVar10;
  int *piVar11;
  ulong uVar7;
  
  iVar4 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x700));
  if (iVar4 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar4);
  }
  uVar10 = 0;
  if (*(int *)(this + 0x740) != 0) {
    do {
      lVar9 = (ulong)uVar10 * 0xc0;
      piVar11 = (int *)(*(long *)(this + 0x748) + lVar9);
      iVar4 = (*_XGetEventData_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),piVar11);
      if (((iVar4 == 0) || (*piVar11 != 0x23)) || (piVar11[8] != *(int *)(this + 0x3c8))) {
        uVar5 = *(uint *)(this + 0x740);
        uVar10 = uVar10 + 1;
      }
      else {
        if (*(int *)(*(long *)(piVar11 + 0xc) + 0x24) != 0x11) {
          (*_XFreeEventData_dylibloader_wrapper_xlib)();
          break;
        }
        (*_XFreeEventData_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),piVar11);
        uVar5 = *(uint *)(this + 0x740);
        if (uVar10 < uVar5) {
          *(uint *)(this + 0x740) = uVar5 - 1;
          if (uVar5 - 1 <= uVar10) break;
          uVar7 = (ulong)uVar10;
          do {
            uVar6 = (int)uVar7 + 1;
            uVar7 = (ulong)uVar6;
            lVar2 = *(long *)(this + 0x748);
            puVar8 = (undefined8 *)(uVar7 * 0xc0 + lVar2);
            uVar3 = puVar8[1];
            *(undefined8 *)(lVar2 + lVar9) = *puVar8;
            ((undefined8 *)(lVar2 + lVar9))[1] = uVar3;
            uVar3 = puVar8[3];
            puVar1 = (undefined8 *)(lVar2 + 0x10 + lVar9);
            *puVar1 = puVar8[2];
            puVar1[1] = uVar3;
            uVar3 = puVar8[5];
            puVar1 = (undefined8 *)(lVar2 + 0x20 + lVar9);
            *puVar1 = puVar8[4];
            puVar1[1] = uVar3;
            uVar3 = puVar8[7];
            puVar1 = (undefined8 *)(lVar2 + 0x30 + lVar9);
            *puVar1 = puVar8[6];
            puVar1[1] = uVar3;
            uVar3 = puVar8[9];
            puVar1 = (undefined8 *)(lVar2 + 0x40 + lVar9);
            *puVar1 = puVar8[8];
            puVar1[1] = uVar3;
            uVar3 = puVar8[0xb];
            puVar1 = (undefined8 *)(lVar2 + 0x50 + lVar9);
            *puVar1 = puVar8[10];
            puVar1[1] = uVar3;
            uVar3 = puVar8[0xd];
            puVar1 = (undefined8 *)(lVar2 + 0x60 + lVar9);
            *puVar1 = puVar8[0xc];
            puVar1[1] = uVar3;
            uVar3 = puVar8[0xf];
            puVar1 = (undefined8 *)(lVar2 + 0x70 + lVar9);
            *puVar1 = puVar8[0xe];
            puVar1[1] = uVar3;
            uVar3 = puVar8[0x11];
            puVar1 = (undefined8 *)(lVar2 + 0x80 + lVar9);
            *puVar1 = puVar8[0x10];
            puVar1[1] = uVar3;
            uVar3 = puVar8[0x13];
            puVar1 = (undefined8 *)(lVar2 + 0x90 + lVar9);
            *puVar1 = puVar8[0x12];
            puVar1[1] = uVar3;
            uVar3 = puVar8[0x15];
            puVar1 = (undefined8 *)(lVar2 + 0xa0 + lVar9);
            *puVar1 = puVar8[0x14];
            puVar1[1] = uVar3;
            uVar3 = puVar8[0x17];
            puVar1 = (undefined8 *)(lVar2 + 0xb0 + lVar9);
            *puVar1 = puVar8[0x16];
            puVar1[1] = uVar3;
            uVar5 = *(uint *)(this + 0x740);
            lVar9 = lVar9 + 0xc0;
          } while (uVar6 < uVar5);
        }
        else {
          _err_print_index_error
                    ("remove_at","./core/templates/local_vector.h",0x4c,(ulong)uVar10,(ulong)uVar5,
                     "p_index","count","",false,false);
          uVar5 = *(uint *)(this + 0x740);
        }
      }
    } while (uVar10 < uVar5);
  }
  *(undefined8 *)(this + 0x52c) = 0;
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x700));
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_clipboard_get_image_target(unsigned long, unsigned long) const */

long __thiscall
DisplayServerX11::_clipboard_get_image_target(DisplayServerX11 *this,ulong param_1,ulong param_2)

{
  pthread_mutex_t *__mutex;
  char cVar1;
  int iVar2;
  undefined8 uVar3;
  long lVar4;
  ulong uVar5;
  long lVar6;
  long in_FS_OFFSET;
  long *plVar7;
  ulong local_160;
  undefined1 local_154 [4];
  long local_150;
  long local_148;
  long local_140;
  ulong local_138;
  undefined1 local_130 [8];
  int local_128 [8];
  undefined1 local_108 [200];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_160 = param_2;
  uVar3 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"TARGETS",0);
  lVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"image/png",0);
  local_150 = 0;
  uVar5 = (*_XGetSelectionOwner_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),param_1);
  if ((uVar5 != 0) && (local_160 != uVar5)) {
    __mutex = (pthread_mutex_t *)(this + 0x700);
    iVar2 = pthread_mutex_lock(__mutex);
    if (iVar2 != 0) {
                    /* WARNING: Subroutine does not return */
      std::__throw_system_error(iVar2);
    }
    (*_XConvertSelection_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),param_1,uVar3,1,local_160,0);
    (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
    (*_XIfEvent_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),local_108,_predicate_clipboard_selection,&local_160);
    plVar7 = &local_140;
    (*_XGetWindowProperty_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),local_160,1,0,0,0,4,&local_148,local_154,plVar7,
               &local_138,&local_150,plVar7);
    if (local_150 != 0) {
      (*_XFree_dylibloader_wrapper_xlib)();
      local_150 = 0;
    }
    if ((local_148 == 4) && (local_138 != 0)) {
      iVar2 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),local_160,1,0,local_138 >> 2,0,4,&local_148,
                         local_154,plVar7,local_130,&local_150);
      if (iVar2 == 0) {
        pthread_mutex_unlock(__mutex);
        if (local_140 != 0) {
          lVar6 = 0;
          do {
            if (lVar4 == *(long *)(local_150 + lVar6 * 8)) {
              (*_XFree_dylibloader_wrapper_xlib)();
              goto LAB_0010496a;
            }
            lVar6 = lVar6 + 1;
          } while (local_140 != lVar6);
        }
        (*_XFree_dylibloader_wrapper_xlib)(local_150);
        goto LAB_00104968;
      }
      cVar1 = is_print_verbose_enabled();
      if (cVar1 != '\0') {
        Variant::Variant((Variant *)local_128,"Failed to get selection data.");
        print_line((Variant *)local_128);
        if (Variant::needs_deinit[local_128[0]] != '\0') {
          Variant::_clear_internal();
        }
      }
    }
    pthread_mutex_unlock(__mutex);
  }
LAB_00104968:
  lVar4 = 0;
LAB_0010496a:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar4;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::clipboard_has_image() const */

bool __thiscall DisplayServerX11::clipboard_has_image(DisplayServerX11 *this)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  code *pcVar10;
  ulong uVar11;
  long lVar12;
  uint uVar13;
  long lVar14;
  uint uVar15;
  uint uVar16;
  
  lVar12 = *(long *)(this + 0x2f8);
  if ((lVar12 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar11 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar11;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar1;
    lVar14 = SUB168(auVar2 * auVar6,8);
    uVar15 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
    uVar13 = SUB164(auVar2 * auVar6,8);
    if (uVar15 != 0) {
      uVar16 = 0;
      do {
        if ((uVar15 == 1) && (*(int *)(*(long *)(lVar12 + lVar14 * 8) + 0x10) == 0)) {
          uVar1 = *(ulong *)(*(long *)(lVar12 + (ulong)uVar13 * 8) + 0x18);
          uVar11 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"CLIPBOARD",0);
          lVar12 = _clipboard_get_image_target(this,uVar11,uVar1);
          return lVar12 != 0;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (uVar13 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar11;
        lVar14 = SUB168(auVar3 * auVar7,8);
        uVar15 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
        uVar13 = SUB164(auVar3 * auVar7,8);
      } while ((uVar15 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar15 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar11, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + uVar13) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar11, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar10 = (code *)invalidInstructionException();
  (*pcVar10)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_window_maximize_check(int, char const*) const */

byte __thiscall
DisplayServerX11::_window_maximize_check(DisplayServerX11 *this,int param_1,char *param_2)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  code *pcVar19;
  uint uVar20;
  int iVar21;
  long lVar22;
  uint uVar23;
  uint uVar24;
  long lVar25;
  long lVar26;
  uint uVar27;
  byte bVar28;
  byte bVar29;
  ulong uVar30;
  byte bVar31;
  uint uVar32;
  ulong uVar33;
  uint uVar34;
  long in_FS_OFFSET;
  undefined1 local_64 [4];
  undefined1 local_60 [8];
  long local_58;
  undefined1 local_50 [8];
  long local_48;
  long local_40;
  
  lVar2 = *(long *)(this + 0x2f8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar33 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar20 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar20 = (uVar20 ^ uVar20 >> 0xd) * -0x3d4d51cb;
    uVar34 = uVar20 ^ uVar20 >> 0x10;
    if (uVar20 == uVar20 >> 0x10) {
      uVar34 = 1;
      uVar30 = uVar3;
    }
    else {
      uVar30 = uVar34 * uVar3;
    }
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar33;
    auVar12._8_8_ = 0;
    auVar12._0_8_ = uVar30;
    lVar25 = SUB168(auVar5 * auVar12,8);
    lVar22 = *(long *)(this + 0x300);
    uVar20 = *(uint *)(lVar22 + lVar25 * 4);
    uVar23 = SUB164(auVar5 * auVar12,8);
    if (uVar20 != 0) {
      uVar27 = 0;
      lVar26 = lVar25;
      uVar32 = uVar20;
      uVar24 = uVar23;
LAB_00104c39:
      if ((uVar34 != uVar32) || (*(int *)(*(long *)(lVar2 + lVar26 * 8) + 0x10) != param_1))
      goto LAB_00104bf0;
      uVar32 = 0;
      while ((uVar34 != uVar20 || (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) != param_1))) {
        uVar32 = uVar32 + 1;
        auVar9._8_8_ = 0;
        auVar9._0_8_ = (uVar23 + 1) * uVar3;
        auVar16._8_8_ = 0;
        auVar16._0_8_ = uVar33;
        lVar25 = SUB168(auVar9 * auVar16,8);
        uVar20 = *(uint *)(lVar22 + lVar25 * 4);
        uVar23 = SUB164(auVar9 * auVar16,8);
        if ((uVar20 == 0) ||
           (auVar10._8_8_ = 0, auVar10._0_8_ = uVar20 * uVar3, auVar17._8_8_ = 0,
           auVar17._0_8_ = uVar33, auVar11._8_8_ = 0,
           auVar11._0_8_ = ((uVar1 + uVar23) - SUB164(auVar10 * auVar17,8)) * uVar3,
           auVar18._8_8_ = 0, auVar18._0_8_ = uVar33, SUB164(auVar11 * auVar18,8) < uVar32)) {
          _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                           "FATAL: Condition \"!exists\" is true.",0,0);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar19 = (code *)invalidInstructionException();
          (*pcVar19)();
        }
      }
      lVar2 = *(long *)(lVar2 + (ulong)uVar23 * 8);
      lVar22 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),param_2,0);
      local_48 = 0;
      if (((lVar22 != 0) &&
          (iVar21 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                              (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar2 + 0x18),lVar22,0,
                               0x400,0,4,local_60,local_64,&local_58,local_50,&local_48),
          lVar2 = local_48, iVar21 == 0)) && (local_48 != 0)) {
        iVar21 = strcmp(param_2,"_NET_WM_STATE");
        if (iVar21 == 0) {
          lVar22 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_MAXIMIZED_HORZ");
          lVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_MAXIMIZED_VERT",0);
        }
        else {
          lVar22 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_ACTION_MAXIMIZE_HORZ",0);
          lVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_ACTION_MAXIMIZE_VERT",0);
        }
        if (local_58 == 0) {
LAB_00104e98:
          bVar29 = 0;
        }
        else {
          lVar26 = 0;
          bVar31 = 0;
          bVar28 = 0;
          while (lVar4 = *(long *)(lVar2 + lVar26 * 8), lVar4 != lVar22) {
            if (lVar4 == lVar25) {
              if (iVar21 != 0) goto LAB_00104e08;
              bVar31 = 1;
              bVar29 = bVar28;
LAB_00104dc6:
              if (bVar29 != 0) goto LAB_00104e0d;
            }
            else {
              if (iVar21 == 0) {
                bVar29 = bVar28 & bVar31;
                goto LAB_00104dc6;
              }
              bVar29 = bVar28 | bVar31;
              if (bVar29 != 0) goto LAB_00104e0d;
              bVar31 = 0;
              bVar28 = bVar29;
            }
            lVar26 = lVar26 + 1;
            if (lVar26 == local_58) goto LAB_00104e98;
          }
          if ((lVar22 != lVar25) && (iVar21 == 0)) {
            bVar28 = 1;
            bVar29 = bVar31;
            goto LAB_00104dc6;
          }
LAB_00104e08:
          bVar29 = 1;
        }
LAB_00104e0d:
        (*_XFree_dylibloader_wrapper_xlib)(local_48);
        goto LAB_00104e18;
      }
      goto LAB_00104e68;
    }
  }
LAB_00104e40:
  _err_print_error("_window_maximize_check","platform/linuxbsd/x11/display_server_x11.cpp",0x9e5,
                   "Condition \"!windows.has(p_window)\" is true. Returning: false",0,0);
LAB_00104e68:
  bVar29 = 0;
LAB_00104e18:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return bVar29;
LAB_00104bf0:
  uVar27 = uVar27 + 1;
  auVar6._8_8_ = 0;
  auVar6._0_8_ = (uVar24 + 1) * uVar3;
  auVar13._8_8_ = 0;
  auVar13._0_8_ = uVar33;
  lVar26 = SUB168(auVar6 * auVar13,8);
  uVar32 = *(uint *)(lVar22 + lVar26 * 4);
  uVar24 = SUB164(auVar6 * auVar13,8);
  if ((uVar32 == 0) ||
     (auVar7._8_8_ = 0, auVar7._0_8_ = uVar32 * uVar3, auVar14._8_8_ = 0, auVar14._0_8_ = uVar33,
     auVar8._8_8_ = 0, auVar8._0_8_ = ((uVar1 + uVar24) - SUB164(auVar7 * auVar14,8)) * uVar3,
     auVar15._8_8_ = 0, auVar15._0_8_ = uVar33, SUB164(auVar8 * auVar15,8) < uVar27))
  goto LAB_00104e40;
  goto LAB_00104c39;
}



/* DisplayServerX11::window_is_maximize_allowed(int) const */

undefined4 __thiscall
DisplayServerX11::window_is_maximize_allowed(DisplayServerX11 *this,int param_1)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 == 0) {
    uVar2 = _window_maximize_check(this,param_1,"_NET_WM_ALLOWED_ACTIONS");
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return uVar2;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_window_minimize_check(int) const */

undefined8 __thiscall DisplayServerX11::_window_minimize_check(DisplayServerX11 *this,int param_1)

{
  long lVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  code *pcVar10;
  uint uVar11;
  int iVar12;
  long lVar13;
  ulong uVar14;
  undefined8 uVar15;
  uint uVar16;
  ulong uVar17;
  long lVar18;
  uint uVar19;
  uint uVar20;
  ulong uVar21;
  long in_FS_OFFSET;
  undefined1 local_64 [4];
  undefined1 local_60 [8];
  ulong local_58;
  undefined1 local_50 [8];
  long local_48;
  long local_40;
  
  lVar1 = *(long *)(this + 0x2f8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((lVar1 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar21 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    uVar14 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar19 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar19 = 1;
      uVar17 = uVar14;
    }
    else {
      uVar17 = uVar19 * uVar14;
    }
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar21;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar17;
    lVar18 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar18 * 4);
    uVar16 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar20 = 0;
      do {
        if ((uVar19 == uVar11) && (*(int *)(*(long *)(lVar1 + lVar18 * 8) + 0x10) == param_1)) {
          lVar1 = *(long *)(lVar1 + (ulong)uVar16 * 8);
          lVar18 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE",1);
          lVar13 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_HIDDEN",1);
          if ((lVar18 == 0) || (lVar13 == 0)) goto LAB_0010510e;
          local_48 = 0;
          iVar12 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar1 + 0x18),lVar18,0,
                              0x20,0,4,local_60,local_64,&local_58,local_50,&local_48);
          if ((iVar12 != 0) || (local_48 == 0)) goto LAB_0010510e;
          if (local_58 == 0) goto LAB_00105188;
          uVar14 = 0;
          goto LAB_00105163;
        }
        uVar20 = uVar20 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (uVar16 + 1) * uVar14;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar21;
        lVar18 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar18 * 4);
        uVar16 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar14, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar21, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + uVar16) - SUB164(auVar4 * auVar8,8)) * uVar14,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar21, uVar20 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar10 = (code *)invalidInstructionException();
  (*pcVar10)();
  while (uVar14 = (ulong)((int)uVar14 + 1), uVar14 < local_58) {
LAB_00105163:
    if (*(long *)(local_48 + uVar14 * 8) == lVar13) {
      (*_XFree_dylibloader_wrapper_xlib)();
      uVar15 = 1;
      goto LAB_00105110;
    }
  }
LAB_00105188:
  (*_XFree_dylibloader_wrapper_xlib)();
LAB_0010510e:
  uVar15 = 0;
LAB_00105110:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar15;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::window_get_mode(int) const */

uint __thiscall DisplayServerX11::window_get_mode(DisplayServerX11 *this,int param_1)

{
  long lVar1;
  ulong uVar2;
  long lVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  code *pcVar18;
  char cVar19;
  byte bVar20;
  int iVar21;
  uint uVar22;
  uint uVar23;
  uint uVar24;
  long lVar25;
  long lVar26;
  uint uVar27;
  uint uVar28;
  ulong uVar29;
  uint uVar30;
  ulong uVar31;
  uint uVar32;
  
  iVar21 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar21 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar21);
  }
  lVar1 = *(long *)(this + 0x2f8);
  if ((lVar1 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar27 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar31 = CONCAT44(0,uVar27);
    uVar2 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar22 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar22 = (uVar22 ^ uVar22 >> 0xd) * -0x3d4d51cb;
    uVar32 = uVar22 ^ uVar22 >> 0x10;
    if (uVar22 == uVar22 >> 0x10) {
      uVar32 = 1;
      uVar29 = uVar2;
    }
    else {
      uVar29 = uVar32 * uVar2;
    }
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar31;
    auVar11._8_8_ = 0;
    auVar11._0_8_ = uVar29;
    lVar25 = SUB168(auVar4 * auVar11,8);
    lVar3 = *(long *)(this + 0x300);
    uVar22 = *(uint *)(lVar3 + lVar25 * 4);
    uVar23 = SUB164(auVar4 * auVar11,8);
    if (uVar22 != 0) {
      uVar28 = 0;
      lVar26 = lVar25;
      uVar30 = uVar22;
      uVar24 = uVar23;
      do {
        if ((uVar32 == uVar30) && (*(int *)(*(long *)(lVar1 + lVar26 * 8) + 0x10) == param_1)) {
          uVar30 = 0;
          while ((uVar22 != uVar32 || (*(int *)(*(long *)(lVar1 + lVar25 * 8) + 0x10) != param_1)))
          {
            uVar30 = uVar30 + 1;
            auVar8._8_8_ = 0;
            auVar8._0_8_ = (uVar23 + 1) * uVar2;
            auVar15._8_8_ = 0;
            auVar15._0_8_ = uVar31;
            lVar25 = SUB168(auVar8 * auVar15,8);
            uVar22 = *(uint *)(lVar3 + lVar25 * 4);
            uVar23 = SUB164(auVar8 * auVar15,8);
            if ((uVar22 == 0) ||
               (auVar9._8_8_ = 0, auVar9._0_8_ = uVar22 * uVar2, auVar16._8_8_ = 0,
               auVar16._0_8_ = uVar31, auVar10._8_8_ = 0,
               auVar10._0_8_ = ((uVar27 + uVar23) - SUB164(auVar9 * auVar16,8)) * uVar2,
               auVar17._8_8_ = 0, auVar17._0_8_ = uVar31, SUB164(auVar10 * auVar17,8) < uVar30)) {
              _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                               "FATAL: Condition \"!exists\" is true.",0,0);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar18 = (code *)invalidInstructionException();
              (*pcVar18)();
            }
          }
          lVar1 = *(long *)(lVar1 + (ulong)uVar23 * 8);
          if (*(char *)(lVar1 + 0x101) == '\0') {
            uVar27 = 2;
            cVar19 = _window_maximize_check(this,param_1,"_NET_WM_STATE");
            if (cVar19 == '\0') {
              bVar20 = _window_minimize_check(this,param_1);
              uVar27 = (uint)bVar20;
            }
          }
          else {
            uVar27 = *(byte *)(lVar1 + 0x102) + 3;
          }
          goto LAB_001053b1;
        }
        uVar28 = uVar28 + 1;
        auVar5._8_8_ = 0;
        auVar5._0_8_ = (uVar24 + 1) * uVar2;
        auVar12._8_8_ = 0;
        auVar12._0_8_ = uVar31;
        lVar26 = SUB168(auVar5 * auVar12,8);
        uVar30 = *(uint *)(lVar3 + lVar26 * 4);
        uVar24 = SUB164(auVar5 * auVar12,8);
      } while ((uVar30 != 0) &&
              (auVar6._8_8_ = 0, auVar6._0_8_ = uVar30 * uVar2, auVar13._8_8_ = 0,
              auVar13._0_8_ = uVar31, auVar7._8_8_ = 0,
              auVar7._0_8_ = ((uVar27 + uVar24) - SUB164(auVar6 * auVar13,8)) * uVar2,
              auVar14._8_8_ = 0, auVar14._0_8_ = uVar31, uVar28 <= SUB164(auVar7 * auVar14,8)));
    }
  }
  uVar27 = 0;
  _err_print_error("window_get_mode","platform/linuxbsd/x11/display_server_x11.cpp",0xb79,
                   "Condition \"!windows.has(p_window)\" is true. Returning: WINDOW_MODE_WINDOWED",0
                   ,0);
LAB_001053b1:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return uVar27;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_window_fullscreen_check(int) const */

undefined8 __thiscall DisplayServerX11::_window_fullscreen_check(DisplayServerX11 *this,int param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  code *pcVar18;
  uint uVar19;
  int iVar20;
  long lVar21;
  uint uVar22;
  uint uVar23;
  long lVar24;
  long lVar25;
  undefined8 uVar26;
  uint uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  uint uVar31;
  long in_FS_OFFSET;
  undefined1 local_64 [4];
  undefined1 local_60 [8];
  long local_58;
  undefined1 local_50 [8];
  long local_48;
  long local_40;
  
  lVar2 = *(long *)(this + 0x2f8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((lVar2 != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
    uVar30 = CONCAT44(0,uVar1);
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar19 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar19 = (uVar19 ^ uVar19 >> 0xd) * -0x3d4d51cb;
    uVar31 = uVar19 ^ uVar19 >> 0x10;
    if (uVar19 == uVar19 >> 0x10) {
      uVar31 = 1;
      uVar28 = uVar3;
    }
    else {
      uVar28 = uVar31 * uVar3;
    }
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar30;
    auVar11._8_8_ = 0;
    auVar11._0_8_ = uVar28;
    lVar24 = SUB168(auVar4 * auVar11,8);
    lVar21 = *(long *)(this + 0x300);
    uVar19 = *(uint *)(lVar21 + lVar24 * 4);
    uVar22 = SUB164(auVar4 * auVar11,8);
    if (uVar19 != 0) {
      uVar27 = 0;
      lVar25 = lVar24;
      uVar29 = uVar19;
      uVar23 = uVar22;
LAB_001055b1:
      if ((uVar31 != uVar29) || (*(int *)(*(long *)(lVar2 + lVar25 * 8) + 0x10) != param_1))
      goto LAB_00105568;
      uVar29 = 0;
      while ((uVar31 != uVar19 || (*(int *)(*(long *)(lVar2 + lVar24 * 8) + 0x10) != param_1))) {
        uVar29 = uVar29 + 1;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = (uVar22 + 1) * uVar3;
        auVar15._8_8_ = 0;
        auVar15._0_8_ = uVar30;
        lVar24 = SUB168(auVar8 * auVar15,8);
        uVar19 = *(uint *)(lVar21 + lVar24 * 4);
        uVar22 = SUB164(auVar8 * auVar15,8);
        if ((uVar19 == 0) ||
           (auVar9._8_8_ = 0, auVar9._0_8_ = uVar19 * uVar3, auVar16._8_8_ = 0,
           auVar16._0_8_ = uVar30, auVar10._8_8_ = 0,
           auVar10._0_8_ = ((uVar1 + uVar22) - SUB164(auVar9 * auVar16,8)) * uVar3,
           auVar17._8_8_ = 0, auVar17._0_8_ = uVar30, SUB164(auVar10 * auVar17,8) < uVar29)) {
          _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                           "FATAL: Condition \"!exists\" is true.",0,0);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar18 = (code *)invalidInstructionException();
          (*pcVar18)();
        }
      }
      lVar2 = *(long *)(lVar2 + (ulong)uVar22 * 8);
      lVar21 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
      local_48 = 0;
      if (lVar21 != 0) {
        iVar20 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                           (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar2 + 0x18),lVar21,0,
                            0x400,0,4,local_60,local_64,&local_58,local_50,&local_48);
        lVar2 = local_48;
        if (iVar20 == 0) {
          lVar21 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_FULLSCREEN",0);
          if (local_58 == 0) {
LAB_00105778:
            uVar26 = 0;
          }
          else {
            lVar24 = 0;
            while (*(long *)(lVar2 + lVar24 * 8) != lVar21) {
              lVar24 = lVar24 + 1;
              if (lVar24 == local_58) goto LAB_00105778;
            }
            uVar26 = 1;
          }
          (*_XFree_dylibloader_wrapper_xlib)(local_48);
          goto LAB_0010570f;
        }
      }
      goto LAB_00105770;
    }
  }
LAB_00105748:
  _err_print_error("_window_fullscreen_check","platform/linuxbsd/x11/display_server_x11.cpp",0xa58,
                   "Condition \"!windows.has(p_window)\" is true. Returning: false",0,0);
LAB_00105770:
  uVar26 = 0;
LAB_0010570f:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar26;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
LAB_00105568:
  uVar27 = uVar27 + 1;
  auVar5._8_8_ = 0;
  auVar5._0_8_ = (uVar23 + 1) * uVar3;
  auVar12._8_8_ = 0;
  auVar12._0_8_ = uVar30;
  lVar25 = SUB168(auVar5 * auVar12,8);
  uVar29 = *(uint *)(lVar21 + lVar25 * 4);
  uVar23 = SUB164(auVar5 * auVar12,8);
  if ((uVar29 == 0) ||
     (auVar6._8_8_ = 0, auVar6._0_8_ = uVar29 * uVar3, auVar13._8_8_ = 0, auVar13._0_8_ = uVar30,
     auVar7._8_8_ = 0, auVar7._0_8_ = ((uVar1 + uVar23) - SUB164(auVar6 * auVar13,8)) * uVar3,
     auVar14._8_8_ = 0, auVar14._0_8_ = uVar30, SUB164(auVar7 * auVar14,8) < uVar27))
  goto LAB_00105748;
  goto LAB_001055b1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_read_property(_XDisplay*, unsigned long, unsigned long) */

void __thiscall
DisplayServerX11::_read_property
          (DisplayServerX11 *this,_XDisplay *param_1,ulong param_2,ulong param_3)

{
  int iVar1;
  long lVar2;
  long in_FS_OFFSET;
  undefined4 local_64;
  undefined8 local_60;
  undefined8 local_58;
  long local_50;
  long local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_58._0_4_ = 0;
  local_64 = 0;
  local_60 = 0;
  local_58 = 0;
  local_50 = 0;
  local_48 = 0;
  if (param_3 != 0) {
    iVar1 = 0x400;
    while( true ) {
      lVar2 = (long)iVar1;
      iVar1 = iVar1 * 2;
      (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                (param_1,param_2,param_3,0,lVar2,0,0,&local_60,&local_64,&local_58,&local_50,
                 &local_48);
      if (local_50 == 0) break;
      if (local_48 != 0) {
        (*_XFree_dylibloader_wrapper_xlib)();
      }
    }
  }
  *(long *)this = local_48;
  *(undefined4 *)(this + 8) = local_64;
  *(undefined4 *)(this + 0xc) = (undefined4)local_58;
  *(undefined8 *)(this + 0x10) = local_60;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* DisplayServerX11::_get_key_modifier_state(unsigned int, Ref<InputEventWithModifiers>) */

void __thiscall
DisplayServerX11::_get_key_modifier_state(undefined8 param_1,undefined8 param_2,undefined8 *param_3)

{
  InputEventWithModifiers::set_shift_pressed(SUB81(*param_3,0));
  InputEventWithModifiers::set_ctrl_pressed(SUB81(*param_3,0));
  InputEventWithModifiers::set_alt_pressed(SUB81(*param_3,0));
  InputEventWithModifiers::set_meta_pressed(SUB81(*param_3,0));
  return;
}



/* DisplayServerX11::_get_focused_window_or_popup() const */

undefined4 __thiscall DisplayServerX11::_get_focused_window_or_popup(DisplayServerX11 *this)

{
  undefined4 *puVar1;
  
  if ((*(long *)(this + 0x330) != 0) &&
     (puVar1 = *(undefined4 **)(*(long *)(this + 0x330) + 8), puVar1 != (undefined4 *)0x0)) {
    return *puVar1;
  }
  return *(undefined4 *)(this + 0x33c);
}



/* DisplayServerX11::_send_window_event(DisplayServerX11::WindowData const&,
   DisplayServer::WindowEvent) */

void __thiscall DisplayServerX11::_send_window_event(undefined8 param_1_00,long param_1,int param_3)

{
  char cVar1;
  long in_FS_OFFSET;
  Variant *local_e8 [2];
  int local_d8 [8];
  int local_b8 [8];
  int local_98 [2];
  undefined1 local_90 [16];
  int local_78 [6];
  int local_60 [8];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  cVar1 = Callable::is_valid();
  if (cVar1 != '\0') {
    Variant::Variant((Variant *)local_d8,param_3);
    Variant::Variant((Variant *)local_b8,(Variant *)local_d8);
    Variant::Variant((Variant *)local_78,(Variant *)local_b8);
    Variant::Variant((Variant *)local_60,0);
    local_98[0] = 0;
    local_90 = (undefined1  [16])0x0;
    local_e8[0] = (Variant *)local_78;
    Callable::callp((Variant **)(param_1 + 0x60),(int)local_e8,(Variant *)0x1,(CallError *)local_98)
    ;
    if (Variant::needs_deinit[local_60[0]] != '\0') {
      Variant::_clear_internal();
    }
    if (Variant::needs_deinit[local_78[0]] != '\0') {
      Variant::_clear_internal();
    }
    if (Variant::needs_deinit[local_98[0]] != '\0') {
      Variant::_clear_internal();
    }
    if (Variant::needs_deinit[local_b8[0]] != '\0') {
      Variant::_clear_internal();
    }
    if (Variant::needs_deinit[local_d8[0]] != '\0') {
      Variant::_clear_internal();
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_set_input_focus(unsigned long, int) */

void __thiscall DisplayServerX11::_set_input_focus(DisplayServerX11 *this,ulong param_1,int param_2)

{
  long in_FS_OFFSET;
  undefined1 local_2c [4];
  ulong local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  (*_XGetInputFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),&local_28,local_2c);
  if (local_28 != param_1) {
    (*_XSetInputFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),param_1,param_2,0);
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_window_focus_check() */

char __thiscall DisplayServerX11::_window_focus_check(DisplayServerX11 *this)

{
  undefined8 *puVar1;
  char cVar2;
  long in_FS_OFFSET;
  undefined1 local_1c [4];
  long local_18;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  (*_XGetInputFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),&local_18,local_1c);
  puVar1 = *(undefined8 **)(this + 0x308);
  do {
    if (puVar1 == (undefined8 *)0x0) {
      cVar2 = '\0';
LAB_00105c18:
      if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
        return cVar2;
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    if (puVar1[3] == local_18) {
      cVar2 = '\x01';
      goto LAB_00105c18;
    }
    if (((puVar1[6] != 0) && (cVar2 = *(char *)(puVar1 + 7), cVar2 != '\0')) &&
       (local_18 == puVar1[4])) goto LAB_00105c18;
    puVar1 = (undefined8 *)*puVar1;
  } while( true );
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* get_window_pid(_XDisplay*, unsigned long) */

undefined4 get_window_pid(_XDisplay *param_1,ulong param_2)

{
  int iVar1;
  undefined8 uVar2;
  undefined4 uVar3;
  long in_FS_OFFSET;
  undefined1 local_44 [4];
  undefined1 local_40 [8];
  long local_38;
  undefined1 local_30 [8];
  undefined4 *local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uVar2 = (*_XInternAtom_dylibloader_wrapper_xlib)(param_1,"_NET_WM_PID",0);
  uVar3 = 0;
  local_28 = (undefined4 *)0x0;
  iVar1 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                    (param_1,param_2,uVar2,0,4,0,0,local_40,local_44,&local_38,local_30,&local_28);
  if ((iVar1 == 0) && (uVar3 = 0, local_38 != 0)) {
    uVar3 = *local_28;
    (*_XFree_dylibloader_wrapper_xlib)();
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar3;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::get_focused_process_id() */

long __thiscall DisplayServerX11::get_focused_process_id(DisplayServerX11 *this)

{
  int iVar1;
  long lVar2;
  long in_FS_OFFSET;
  undefined4 local_1c;
  ulong local_18;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_18 = 0;
  local_1c = 0;
  (*_XGetInputFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),&local_18,&local_1c);
  lVar2 = 0;
  if (local_18 != 0) {
    iVar1 = get_window_pid(*(_XDisplay **)(this + 0x360),local_18);
    lVar2 = (long)iVar1;
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return lVar2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* find_window_from_process_id_internal(_XDisplay*, int, unsigned long) */

long find_window_from_process_id_internal(_XDisplay *param_1,int param_2,ulong param_3)

{
  int iVar1;
  long lVar2;
  long lVar3;
  long in_FS_OFFSET;
  uint local_34;
  undefined1 local_30 [8];
  long local_28;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  iVar1 = (*_XQueryTree_dylibloader_wrapper_xlib)
                    (param_1,param_3,local_30,local_30,&local_28,&local_34);
  if (iVar1 != 0) {
    lVar2 = 0;
    if (local_34 != 0) {
      do {
        iVar1 = get_window_pid(param_1,*(ulong *)(local_28 + lVar2 * 8));
        if (param_2 == iVar1) {
          lVar2 = *(long *)(local_28 + lVar2 * 8);
          goto LAB_00105e03;
        }
        lVar2 = lVar2 + 1;
      } while ((uint)lVar2 < local_34);
      if (local_34 != 0) {
        lVar3 = 0;
        do {
          lVar2 = find_window_from_process_id_internal
                            (param_1,param_2,*(ulong *)(local_28 + lVar3 * 8));
          if (lVar2 != 0) goto LAB_00105e03;
          lVar3 = lVar3 + 1;
        } while ((uint)lVar3 < local_34);
      }
    }
    if (local_28 != 0) {
      (*_XFree_dylibloader_wrapper_xlib)();
    }
  }
  lVar2 = 0;
LAB_00105e03:
  if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar2;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* find_window_from_process_id(_XDisplay*, int) */

long find_window_from_process_id(_XDisplay *param_1,int param_2)

{
  int iVar1;
  undefined8 uVar2;
  long lVar3;
  long lVar4;
  
  uVar2 = (*_XSetErrorHandler_dylibloader_wrapper_xlib)(bad_window_error_handler);
  iVar1 = (*_XScreenCount_dylibloader_wrapper_xlib)(param_1);
  if (0 < iVar1) {
    lVar4 = 0;
    do {
      lVar3 = find_window_from_process_id_internal
                        (param_1,param_2,*(ulong *)(*(long *)(param_1 + 0xe8) + 0x10 + lVar4));
      if (lVar3 != 0) goto LAB_00105ed8;
      lVar4 = lVar4 + 0x80;
    } while (lVar4 != (long)iVar1 * 0x80);
  }
  lVar3 = 0;
LAB_00105ed8:
  (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar2);
  return lVar3;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_get_window_position(unsigned long) const */

undefined8 __thiscall DisplayServerX11::_get_window_position(DisplayServerX11 *this,ulong param_1)

{
  long lVar1;
  long in_FS_OFFSET;
  undefined4 local_20;
  undefined4 local_1c;
  undefined1 local_18 [8];
  long local_10;
  
  lVar1 = *(long *)(this + 0x360);
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_20 = 0;
  local_1c = 0;
  (*_XTranslateCoordinates_dylibloader_wrapper_xlib)
            (lVar1,param_1,
             *(undefined8 *)((long)*(int *)(lVar1 + 0xe0) * 0x80 + *(long *)(lVar1 + 0xe8) + 0x10),0
             ,0,&local_20,&local_1c,local_18);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return CONCAT44(local_1c,local_20);
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_get_window_rect(unsigned long) const */

undefined8 __thiscall DisplayServerX11::_get_window_rect(DisplayServerX11 *this,ulong param_1)

{
  long in_FS_OFFSET;
  undefined8 local_98 [17];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  (*_XGetWindowAttributes_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),param_1,local_98);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_98[0];
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_set_window_taskbar_pager_enabled(unsigned long, bool) */

void __thiscall
DisplayServerX11::_set_window_taskbar_pager_enabled
          (DisplayServerX11 *this,ulong param_1,bool param_2)

{
  undefined8 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  long lVar4;
  undefined8 *puVar5;
  long in_FS_OFFSET;
  byte bVar6;
  undefined4 local_98;
  undefined1 local_94 [28];
  ulong local_78;
  undefined8 local_70;
  undefined4 local_68;
  ulong local_60;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 local_40;
  long local_30;
  
  bVar6 = 0;
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  uVar1 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
  uVar2 = (*_XInternAtom_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_SKIP_TASKBAR",0);
  uVar3 = (*_XInternAtom_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_SKIP_PAGER",0);
  local_94._0_8_ = 0;
  local_40 = 0;
  puVar5 = (undefined8 *)(local_94 + 4);
  for (lVar4 = 0xb; lVar4 != 0; lVar4 = lVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + (ulong)bVar6 * -2 + 1;
  }
  lVar4 = *(long *)(this + 0x360);
  local_98 = 0x21;
  local_68 = 0x20;
  local_78 = param_1;
  local_70 = uVar1;
  local_60 = (ulong)(param_2 ^ 1);
  local_58 = uVar2;
  local_50 = uVar3;
  (*_XSendEvent_dylibloader_wrapper_xlib)
            (lVar4,*(undefined8 *)
                    ((long)*(int *)(lVar4 + 0xe0) * 0x80 + *(long *)(lVar4 + 0xe8) + 0x10),0,
             0x180000,&local_98);
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::register_x11_driver() */

void DisplayServerX11::register_x11_driver(void)

{
  DisplayServer::register_create_function("x11",create_func,get_rendering_drivers_func);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::screen_get_dpi(int) const */

int __thiscall DisplayServerX11::screen_get_dpi(DisplayServerX11 *this,int param_1)

{
  int iVar1;
  int iVar2;
  undefined8 uVar3;
  undefined8 *puVar4;
  long lVar5;
  code *pcVar6;
  int iVar7;
  ulong uVar8;
  int iVar9;
  long in_FS_OFFSET;
  double dVar10;
  double dVar11;
  double dVar12;
  int local_70 [2];
  undefined8 local_68;
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  uVar8 = (ulong)param_1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar2 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar2);
  }
  lVar5 = *(long *)this;
  if (param_1 == -2) {
    iVar2 = (**(code **)(lVar5 + 0x400))(this);
    uVar8 = (ulong)iVar2;
    goto LAB_001061cc;
  }
  if (param_1 < -1) {
    if (param_1 == -4) {
      local_68 = (**(code **)(lVar5 + 0x3a0))(this);
      local_60 = _LC72;
      pcVar6 = *(code **)(*(long *)this + 0x410);
      local_58 = Rect2i::operator_cast_to_Rect2((Rect2i *)&local_68);
      iVar2 = (*pcVar6)(this,local_58);
      uVar8 = (ulong)iVar2;
LAB_001061cc:
      lVar5 = *(long *)this;
      pcVar6 = *(code **)(lVar5 + 0x3f8);
      if (-1 < (int)uVar8) goto LAB_001061df;
    }
    else if (param_1 == -3) {
      iVar2 = (**(code **)(lVar5 + 0x408))(this);
      uVar8 = (ulong)iVar2;
      goto LAB_001061cc;
    }
  }
  else {
    if (param_1 == -1) {
      iVar2 = (**(code **)(lVar5 + 0x528))(this,0);
      uVar8 = (ulong)iVar2;
      goto LAB_001061cc;
    }
    pcVar6 = *(code **)(lVar5 + 0x3f8);
LAB_001061df:
    iVar2 = (*pcVar6)(this);
    iVar7 = (int)uVar8;
    lVar5 = *(long *)this;
    if (iVar7 < iVar2) {
      uVar3 = (**(code **)(lVar5 + 0x420))(this,uVar8 & 0xffffffff);
      iVar9 = (int)((ulong)uVar3 >> 0x20);
      iVar2 = (int)uVar3;
      if (this[0x6f0] == (DisplayServerX11)0x0) {
LAB_0010626b:
        lVar5 = *(long *)(this + 0x360);
      }
      else {
        pcVar6 = *(code **)(this + 0x6d8);
        local_70[0] = 0;
        if (pcVar6 != (code *)0x0) {
          local_70[1] = 0;
          puVar4 = (undefined8 *)
                   HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),local_70 + 1);
          lVar5 = (*pcVar6)(*(undefined8 *)(this + 0x360),*puVar4,1,local_70);
          if (iVar7 < local_70[0]) {
            lVar5 = lVar5 + uVar8 * 0x38;
            dVar10 = ((double)iVar2 / (double)*(int *)(lVar5 + 0x24)) * _LC107;
            dVar12 = ((double)iVar9 / (double)*(int *)(lVar5 + 0x28)) * _LC107;
            (**(code **)(this + 0x6e0))();
            iVar2 = (int)((dVar10 + dVar12) * __LC108);
            goto LAB_001062cf;
          }
          (**(code **)(this + 0x6e0))();
          goto LAB_0010626b;
        }
        lVar5 = *(long *)(this + 0x360);
        if (iVar7 == 0) {
          lVar5 = (*_XRRSizes_dylibloader_wrapper_xrandr)(lVar5,0,local_70);
          if (lVar5 != 0) {
            iVar2 = (int)((((double)iVar2 / (double)*(int *)(lVar5 + 8)) * _LC107 +
                          ((double)iVar9 / (double)*(int *)(lVar5 + 0xc)) * _LC107) * __LC108);
            goto LAB_001062cf;
          }
          goto LAB_0010626b;
        }
      }
      lVar5 = uVar8 * 0x80 + *(long *)(lVar5 + 0xe8);
      iVar7 = *(int *)(lVar5 + 0x20);
      iVar1 = *(int *)(lVar5 + 0x24);
      if (iVar7 == 0) {
        if (iVar1 == 0) {
LAB_001064d0:
          iVar2 = 0x60;
          goto LAB_001062cf;
        }
        dVar10 = ((double)iVar9 / (double)iVar1) * _LC107;
LAB_001062b0:
        iVar2 = 0x60;
        if (dVar10 == 0.0) goto LAB_001062cf;
        dVar11 = dVar10 + 0.0;
      }
      else {
        dVar10 = ((double)iVar2 / (double)iVar7) * _LC107;
        if (iVar1 == 0) goto LAB_001062b0;
        dVar12 = ((double)iVar9 / (double)iVar1) * _LC107;
        if ((dVar12 == 0.0) && (dVar10 == 0.0)) goto LAB_001064d0;
        dVar11 = dVar10 + dVar12;
        if ((dVar12 != 0.0) && (dVar10 != 0.0)) {
          dVar11 = dVar11 * __LC108;
        }
      }
      iVar2 = (int)dVar11;
      goto LAB_001062cf;
    }
  }
  iVar2 = (**(code **)(lVar5 + 0x3f8))(this);
  _err_print_index_error
            ("screen_get_dpi","platform/linuxbsd/x11/display_server_x11.cpp",0x618,(long)(int)uVar8,
             (long)iVar2,"p_screen","get_screen_count()","",false,false);
  iVar2 = 0;
LAB_001062cf:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return iVar2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::screen_get_refresh_rate(int) const */

void __thiscall DisplayServerX11::screen_get_refresh_rate(DisplayServerX11 *this,int param_1)

{
  int iVar1;
  undefined8 *puVar2;
  long lVar3;
  long lVar4;
  long *plVar5;
  long *plVar6;
  int iVar7;
  code *pcVar8;
  int iVar9;
  long lVar10;
  long lVar11;
  long in_FS_OFFSET;
  char *pcVar12;
  int local_70 [2];
  undefined8 local_68;
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  lVar10 = (long)param_1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar1);
  }
  lVar3 = *(long *)this;
  if (param_1 == -2) {
    iVar1 = (**(code **)(lVar3 + 0x400))(this);
    lVar10 = (long)iVar1;
    goto LAB_001065f4;
  }
  if (param_1 < -1) {
    if (param_1 == -4) {
      local_68 = (**(code **)(lVar3 + 0x3a0))(this);
      local_60 = _LC72;
      pcVar8 = *(code **)(*(long *)this + 0x410);
      local_58 = Rect2i::operator_cast_to_Rect2((Rect2i *)&local_68);
      iVar1 = (*pcVar8)(this,local_58);
      lVar10 = (long)iVar1;
LAB_001065f4:
      lVar3 = *(long *)this;
      pcVar8 = *(code **)(lVar3 + 0x3f8);
      if (-1 < (int)lVar10) goto LAB_00106606;
    }
    else if (param_1 == -3) {
      iVar1 = (**(code **)(lVar3 + 0x408))(this);
      lVar10 = (long)iVar1;
      goto LAB_001065f4;
    }
LAB_00106793:
    iVar1 = (**(code **)(lVar3 + 0x3f8))(this);
    iVar9 = (int)lVar10;
    iVar7 = 0x6da;
    pcVar12 = "get_screen_count()";
  }
  else {
    if (param_1 == -1) {
      iVar1 = (**(code **)(lVar3 + 0x528))(this,0);
      lVar10 = (long)iVar1;
      goto LAB_001065f4;
    }
    pcVar8 = *(code **)(lVar3 + 0x3f8);
LAB_00106606:
    iVar1 = (*pcVar8)(this);
    pcVar8 = _XRRGetScreenResourcesCurrent_dylibloader_wrapper_xrandr;
    iVar9 = (int)lVar10;
    if (iVar1 <= iVar9) {
      lVar3 = *(long *)this;
      goto LAB_00106793;
    }
    if (this[0x6f0] == (DisplayServerX11)0x0) {
      _err_print_error("screen_get_refresh_rate","platform/linuxbsd/x11/display_server_x11.cpp",
                       0x70b,"An error occurred while trying to get the screen refresh rate.",0,0);
      goto LAB_00106750;
    }
    local_70[1] = 0;
    puVar2 = (undefined8 *)
             HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),local_70 + 1);
    lVar3 = (*pcVar8)(*(undefined8 *)(this + 0x360),*puVar2);
    if (lVar3 == 0) {
      _err_print_error("screen_get_refresh_rate","platform/linuxbsd/x11/display_server_x11.cpp",
                       0x707,"An error occurred while trying to get the screen refresh rate.",0,0);
      goto LAB_00106750;
    }
    pcVar8 = *(code **)(this + 0x6d8);
    if (pcVar8 == (code *)0x0) {
      _err_print_error("screen_get_refresh_rate","platform/linuxbsd/x11/display_server_x11.cpp",
                       0x6e8,"An error occurred while trying to get the screen refresh rate.",0,0);
      goto LAB_00106750;
    }
    local_70[0] = 0;
    local_70[1] = 0;
    puVar2 = (undefined8 *)
             HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),local_70 + 1);
    lVar4 = (*pcVar8)(*(undefined8 *)(this + 0x360),*puVar2,1,local_70);
    if (iVar9 < local_70[0]) {
      if (0 < *(int *)(lVar3 + 0x10)) {
        lVar11 = 0;
        lVar4 = lVar4 + lVar10 * 0x38;
        do {
          lVar10 = (*_XRRGetCrtcInfo_dylibloader_wrapper_xrandr)
                             (*(undefined8 *)(this + 0x360),lVar3,
                              *(undefined8 *)(*(long *)(lVar3 + 0x18) + lVar11 * 8));
          if (((*(int *)(lVar10 + 8) == *(int *)(lVar4 + 0x14)) &&
              (*(int *)(lVar10 + 0xc) == *(int *)(lVar4 + 0x18))) && (*(long *)(lVar10 + 0x18) != 0)
             ) {
            if (0 < *(int *)(lVar3 + 0x30)) {
              plVar5 = *(long **)(lVar3 + 0x38);
              plVar6 = plVar5 + (long)*(int *)(lVar3 + 0x30) * 10;
              goto LAB_00106865;
            }
            break;
          }
          lVar11 = lVar11 + 1;
        } while ((int)lVar11 < *(int *)(lVar3 + 0x10));
      }
      goto LAB_0010671b;
    }
    iVar7 = 0x6e6;
    pcVar12 = "count";
    iVar1 = local_70[0];
  }
  _err_print_index_error
            ("screen_get_refresh_rate","platform/linuxbsd/x11/display_server_x11.cpp",iVar7,
             (long)iVar9,(long)iVar1,"p_screen",pcVar12,"",false,false);
LAB_00106750:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
  while (plVar5 = plVar5 + 10, plVar6 != plVar5) {
LAB_00106865:
    if (*plVar5 == *(long *)(lVar10 + 0x18)) {
      Math::snapped((double)((float)(ulong)plVar5[2] /
                            ((float)*(uint *)(plVar5 + 4) * (float)*(uint *)(plVar5 + 6))),_LC112);
      goto LAB_00106750;
    }
  }
LAB_0010671b:
  _err_print_error("screen_get_refresh_rate","platform/linuxbsd/x11/display_server_x11.cpp",0x704,
                   "An error occurred while trying to get the screen refresh rate.",0,0);
  goto LAB_00106750;
}



/* DisplayServerX11::window_get_native_handle(DisplayServer::HandleType, int) const */

undefined8 __thiscall
DisplayServerX11::window_get_native_handle(DisplayServerX11 *this,undefined4 param_2,uint param_3)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  undefined8 uVar11;
  undefined8 *puVar12;
  int iVar13;
  ulong uVar14;
  long lVar15;
  uint uVar16;
  ulong uVar17;
  uint uVar18;
  uint local_3c [3];
  
  local_3c[0] = param_3;
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar10 = (param_3 >> 0x10 ^ param_3) * -0x7a143595;
    uVar10 = (uVar10 ^ uVar10 >> 0xd) * -0x3d4d51cb;
    uVar16 = uVar10 ^ uVar10 >> 0x10;
    if (uVar10 == uVar10 >> 0x10) {
      uVar16 = 1;
      uVar14 = uVar1;
    }
    else {
      uVar14 = uVar16 * uVar1;
    }
    uVar17 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar17;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar14;
    lVar15 = SUB168(auVar2 * auVar6,8);
    uVar10 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
    iVar13 = SUB164(auVar2 * auVar6,8);
    if (uVar10 != 0) {
      uVar18 = 0;
      do {
        if ((uVar16 == uVar10) &&
           (param_3 == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar15 * 8) + 0x10))) {
          switch(param_2) {
          case 0:
            return *(undefined8 *)(this + 0x360);
          case 1:
            puVar12 = (undefined8 *)
                      HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                      ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                    *)(this + 0x2f0),(int *)local_3c);
            return *puVar12;
          default:
            goto switchD_00106b1c_caseD_2;
          case 3:
            if (*(long *)(this + 0x280) == 0) {
              if (*(long *)(this + 0x288) == 0) {
                return 0;
              }
              uVar11 = EGLManager::get_context((int)*(long *)(this + 0x288));
            }
            else {
              uVar11 = GLManager_X11::get_glx_context((int)*(long *)(this + 0x280));
            }
            break;
          case 4:
            if (*(long *)(this + 0x288) == 0) {
              return 0;
            }
            uVar11 = EGLManager::get_display((int)*(long *)(this + 0x288));
            break;
          case 5:
            if (*(long *)(this + 0x288) == 0) {
              return 0;
            }
            uVar11 = EGLManager::get_config((int)*(long *)(this + 0x288));
          }
          return uVar11;
        }
        uVar18 = uVar18 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar13 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar17;
        lVar15 = SUB168(auVar3 * auVar7,8);
        uVar10 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
        iVar13 = SUB164(auVar3 * auVar7,8);
      } while ((uVar10 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar10 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar17, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar13) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar17, uVar18 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_get_native_handle","platform/linuxbsd/x11/display_server_x11.cpp",0x79a,
                   "Condition \"!windows.has(p_window)\" is true. Returning: 0",0,0);
switchD_00106b1c_caseD_2:
  return 0;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_wait_for_events() const */

undefined8 __thiscall DisplayServerX11::_wait_for_events(DisplayServerX11 *this)

{
  int iVar1;
  undefined8 uVar2;
  long lVar3;
  fd_set *pfVar4;
  long in_FS_OFFSET;
  byte bVar5;
  CowData<char32_t> aCStack_c8 [8];
  CowData<char32_t> local_c0 [8];
  timeval local_b8;
  fd_set local_a8;
  long local_20;
  
  bVar5 = 0;
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  iVar1 = *(int *)(*(long *)(this + 0x360) + 0x10);
  (*_XFlush_dylibloader_wrapper_xlib)();
  pfVar4 = &local_a8;
  for (lVar3 = 0x10; lVar3 != 0; lVar3 = lVar3 + -1) {
    pfVar4->fds_bits[0] = 0;
    pfVar4 = (fd_set *)((long)pfVar4 + ((ulong)bVar5 * -2 + 1) * 8);
  }
  lVar3 = __fdelt_chk((long)iVar1);
  local_a8.fds_bits[lVar3] = local_a8.fds_bits[lVar3] | 1L << ((byte)iVar1 & 0x3f);
  local_b8.tv_sec = __LC117;
  local_b8.tv_usec = _UNK_0012da18;
  iVar1 = select(iVar1 + 1,&local_a8,(fd_set *)0x0,(fd_set *)0x0,&local_b8);
  uVar2 = 1;
  if (iVar1 < 1) {
    if (iVar1 == 0) {
      uVar2 = 0;
    }
    else {
      __errno_location();
      itos((long)aCStack_c8);
      operator+((char *)local_c0,(String *)"_wait_for_events: select error: ");
      _err_print_error("_wait_for_events","platform/linuxbsd/x11/display_server_x11.cpp",0x10ea,
                       local_c0,0,0);
      CowData<char32_t>::_unref(local_c0);
      CowData<char32_t>::_unref(aCStack_c8);
      uVar2 = 0;
    }
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_screen_get_rect(int) const */

undefined1  [16] __thiscall DisplayServerX11::_screen_get_rect(DisplayServerX11 *this,int param_1)

{
  long lVar1;
  code *pcVar2;
  int iVar3;
  int iVar4;
  long lVar5;
  undefined8 uVar6;
  ulong uVar7;
  long in_FS_OFFSET;
  undefined1 local_128 [16];
  undefined1 local_10c [4];
  undefined1 local_108 [4];
  int local_104;
  undefined8 local_100;
  char *local_f8;
  undefined8 uStack_f0;
  undefined8 local_68;
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  uVar7 = (ulong)param_1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 == -2) {
    iVar3 = (**(code **)(*(long *)this + 0x400))();
    uVar7 = (ulong)iVar3;
    goto LAB_00106dd0;
  }
  if (param_1 < -1) {
    if (param_1 == -4) {
      local_68 = (**(code **)(*(long *)this + 0x3a0))();
      local_60 = _LC72;
      pcVar2 = *(code **)(*(long *)this + 0x410);
      local_58 = Rect2i::operator_cast_to_Rect2((Rect2i *)&local_68);
      iVar3 = (*pcVar2)(this,local_58);
      uVar7 = (ulong)iVar3;
LAB_00106dd0:
      if (-1 < (int)uVar7) goto LAB_00106dd8;
    }
    else if (param_1 == -3) {
      iVar3 = (**(code **)(*(long *)this + 0x408))();
      uVar7 = (ulong)iVar3;
      goto LAB_00106dd0;
    }
    _err_print_error("_screen_get_rect","platform/linuxbsd/x11/display_server_x11.cpp",0x48e,
                     "Condition \"p_screen < 0\" is true. Returning: rect",0,0);
    local_128 = (undefined1  [16])0x0;
    goto LAB_00106ecd;
  }
  if (param_1 == -1) {
    iVar3 = (**(code **)(*(long *)this + 0x528))(this,0);
    uVar7 = (ulong)iVar3;
    goto LAB_00106dd0;
  }
LAB_00106dd8:
  uVar6 = *(undefined8 *)(this + 0x360);
  iVar3 = (int)uVar7;
  if (this[0x6f1] != (DisplayServerX11)0x0) {
    iVar4 = (*_XineramaQueryExtension_dylibloader_wrapper_xinerama)(uVar6,local_10c,local_108);
    if (iVar4 != 0) {
      lVar5 = (*_XineramaQueryScreens_dylibloader_wrapper_xinerama)
                        (*(undefined8 *)(this + 0x360),&local_104);
      if (lVar5 != 0) {
        if (0 < local_104) {
          if (iVar3 < local_104) {
            lVar1 = lVar5 + uVar7 * 0xc;
            local_128._4_4_ = (int)*(short *)(lVar1 + 6);
            local_128._0_4_ = (int)*(short *)(lVar1 + 4);
            local_128._12_4_ = (int)*(short *)(lVar1 + 10);
            local_128._8_4_ = (int)*(short *)(lVar1 + 8);
            (*_XFree_dylibloader_wrapper_xlib)(lVar5);
            goto LAB_00106ecd;
          }
          local_100 = 0;
          uStack_f0 = 0x25;
          local_f8 = "Invalid screen index: %d (count: %d).";
          String::parse_latin1((StrRange *)&local_100);
          vformat<int,int>((String *)&local_f8,(int)(StrRange *)&local_100,iVar3);
          _err_print_error("_screen_get_rect","platform/linuxbsd/x11/display_server_x11.cpp",0x4a0,
                           (String *)&local_f8,0,0);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_f8);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_100);
        }
        (*_XFree_dylibloader_wrapper_xlib)(lVar5);
        uVar6 = *(undefined8 *)(this + 0x360);
        goto LAB_00106e94;
      }
    }
    uVar6 = *(undefined8 *)(this + 0x360);
  }
LAB_00106e94:
  iVar4 = (*_XScreenCount_dylibloader_wrapper_xlib)(uVar6);
  if (iVar3 < iVar4) {
    uVar6 = (*_XRootWindow_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),uVar7 & 0xffffffff);
    (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),uVar6,(String *)&local_f8);
    local_128._8_8_ = uStack_f0;
    local_128._0_8_ = local_f8;
  }
  else {
    local_100 = 0;
    local_f8 = "Invalid screen index: %d (count: %d).";
    uStack_f0 = 0x25;
    String::parse_latin1((StrRange *)&local_100);
    vformat<int,int>((String *)&local_f8,(int)(StrRange *)&local_100,iVar3);
    _err_print_error("_screen_get_rect","platform/linuxbsd/x11/display_server_x11.cpp",0x4b2,
                     (String *)&local_f8,0,0);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_f8);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_100);
    local_128 = (undefined1  [16])0x0;
  }
LAB_00106ecd:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return local_128;
}



/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::get_keyboard_focus_screen() const */

int __thiscall DisplayServerX11::get_keyboard_focus_screen(DisplayServerX11 *this)

{
  long lVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  uint uVar8;
  int iVar9;
  int iVar10;
  long in_FS_OFFSET;
  undefined1 auVar11 [16];
  undefined4 local_124;
  undefined4 local_120;
  undefined4 local_11c;
  long local_118 [2];
  undefined1 local_108 [8];
  undefined8 local_100;
  undefined4 local_80;
  int local_7c;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined1 local_68 [16];
  undefined8 local_58;
  undefined8 uStack_50;
  long local_40;
  
  iVar3 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar2 = (**(code **)(*(long *)this + 0x3f8))();
  if (1 < iVar2) {
    local_118[0] = 0;
    local_124 = 0;
    (*_XGetInputFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),local_118,&local_124);
    if (local_118[0] == 0) {
      iVar3 = (**(code **)(*(long *)this + 0x400))(this);
    }
    else {
      lVar1 = *(long *)(this + 0x360);
      iVar10 = 0;
      local_118[1] = 0;
      iVar9 = 0;
      local_120 = 0;
      local_11c = 0;
      (*_XTranslateCoordinates_dylibloader_wrapper_xlib)
                (lVar1,local_118[0],
                 *(undefined8 *)
                  ((long)*(int *)(lVar1 + 0xe0) * 0x80 + *(long *)(lVar1 + 0xe8) + 0x10),0,0,
                 &local_120,&local_11c,local_118 + 1);
      (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),local_118[0],local_108);
      local_78 = CONCAT44(local_11c,local_120);
      uStack_70 = local_100;
      do {
        auVar11 = _screen_get_rect(this,iVar10);
        local_68._8_4_ = auVar11._8_4_;
        local_68._12_4_ = auVar11._12_4_;
        local_58 = local_78;
        uStack_50 = uStack_70;
        if (((int)(local_68._8_4_ | local_68._12_4_) < 0) ||
           (uStack_50._0_4_ = (uint)uStack_70, uStack_50._4_4_ = (uint)((ulong)uStack_70 >> 0x20),
           uVar8 = (uint)uStack_50 | uStack_50._4_4_, uVar5 = (uint)uStack_50, (int)uVar8 < 0)) {
          local_68 = auVar11;
          _err_print_error("intersects","./core/math/rect2i.h",0x38,
                           "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                           ,0,0);
          uVar5 = (uint)uStack_50;
          auVar11 = local_68;
        }
        local_68._0_4_ = auVar11._0_4_;
        local_68 = auVar11;
        if (((int)local_68._0_4_ < (int)(uVar5 + (int)local_58)) &&
           (local_68._8_4_ = auVar11._8_4_, (int)local_58 < (int)(local_68._8_4_ + local_68._0_4_)))
        {
          local_68._4_4_ = auVar11._4_4_;
          if (((int)(uStack_50._4_4_ + local_58._4_4_) <= (int)local_68._4_4_) ||
             (local_68._12_4_ = auVar11._12_4_,
             (int)(local_68._12_4_ + local_68._4_4_) <= local_58._4_4_)) goto LAB_00107389;
          if ((int)local_68._4_4_ < local_78._4_4_) {
            local_68._4_4_ = local_78._4_4_;
          }
          iVar4 = (int)local_78;
          if ((int)local_78 < (int)local_68._0_4_) {
            iVar4 = local_68._0_4_;
          }
          local_58 = CONCAT44(local_68._4_4_,iVar4);
          uVar6 = Vector2i::operator+((Vector2i *)&local_78,(Vector2i *)&uStack_70);
          uVar7 = Vector2i::operator+((Vector2i *)local_68,(Vector2i *)(local_68 + 8));
          local_7c = (int)((ulong)uVar7 >> 0x20);
          iVar4 = (int)((ulong)uVar6 >> 0x20);
          if (iVar4 < local_7c) {
            local_7c = iVar4;
          }
          if ((int)uVar6 < (int)uVar7) {
            uVar7 = uVar6;
          }
          local_80 = (undefined4)uVar7;
          uVar7 = Vector2i::operator-((Vector2i *)&local_80,(Vector2i *)&local_58);
          uStack_50 = uVar7;
        }
        else {
LAB_00107389:
          uVar7 = 0;
        }
        iVar4 = (int)uVar7 * (int)((ulong)uVar7 >> 0x20);
        if (iVar9 < iVar4) {
          iVar9 = iVar4;
          iVar3 = iVar10;
        }
        iVar10 = iVar10 + 1;
      } while (iVar2 != iVar10);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return iVar3;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::_screens_get_full_rect() const */

undefined1  [16] __thiscall DisplayServerX11::_screens_get_full_rect(DisplayServerX11 *this)

{
  int iVar1;
  int iVar2;
  ulong uVar3;
  int iVar4;
  int iVar5;
  ulong uVar6;
  ulong uVar7;
  ulong uVar8;
  undefined1 auVar9 [16];
  
  iVar1 = (**(code **)(*(long *)this + 0x3f8))();
  if (iVar1 < 1) {
    uVar6 = 0;
    uVar8 = 0;
    uVar3 = 0;
    uVar7 = 0;
  }
  else {
    auVar9 = _screen_get_rect(this,0);
    iVar5 = 1;
    uVar7 = auVar9._0_8_ & 0xffffffff;
    uVar8 = auVar9._8_8_ & 0xffffffff;
    uVar3 = auVar9._0_8_ >> 0x20;
    uVar6 = auVar9._8_8_ >> 0x20;
    if (iVar1 != 1) {
      do {
        auVar9 = _screen_get_rect(this,iVar5);
        iVar2 = auVar9._0_4_;
        if (iVar2 < (int)uVar7) {
          uVar8 = (ulong)(uint)((int)uVar8 + ((int)uVar7 - iVar2));
          uVar7 = auVar9._0_8_ & 0xffffffff;
        }
        iVar4 = auVar9._4_4_;
        if (iVar4 < (int)uVar3) {
          uVar6 = (ulong)(uint)((int)uVar6 + ((int)uVar3 - iVar4));
          uVar3 = (long)auVar9._0_8_ >> 0x20 & 0xffffffff;
        }
        iVar2 = iVar2 + auVar9._8_4_;
        if ((int)uVar7 + (int)uVar8 < iVar2) {
          uVar8 = (ulong)(uint)(iVar2 - (int)uVar7);
        }
        iVar4 = iVar4 + auVar9._12_4_;
        if ((int)uVar3 + (int)uVar6 < iVar4) {
          uVar6 = (ulong)(uint)(iVar4 - (int)uVar3);
        }
        iVar5 = iVar5 + 1;
      } while (iVar1 != iVar5);
    }
  }
  auVar9._0_8_ = uVar7 | uVar3 << 0x20;
  auVar9._8_8_ = uVar8 | uVar6 << 0x20;
  return auVar9;
}



/* DisplayServerX11::screen_get_position(int) const */

undefined8 __thiscall DisplayServerX11::screen_get_position(DisplayServerX11 *this,int param_1)

{
  int iVar1;
  undefined8 uVar2;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 == 0) {
    uVar2 = _screen_get_rect(this,param_1);
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return uVar2;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* DisplayServerX11::screen_get_size(int) const */

undefined8 __thiscall DisplayServerX11::screen_get_size(DisplayServerX11 *this,int param_1)

{
  int iVar1;
  undefined8 extraout_RDX;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 == 0) {
    _screen_get_rect(this,param_1);
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return extraout_RDX;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::screen_get_usable_rect(int) const */

undefined1  [16] DisplayServerX11::screen_get_usable_rect(int param_1)

{
  byte *pbVar1;
  int iVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  bool bVar7;
  undefined1 auVar8 [16];
  undefined4 uVar9;
  int iVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  long lVar14;
  long lVar15;
  undefined8 uVar16;
  int extraout_var;
  int iVar17;
  long extraout_RDX;
  long extraout_RDX_00;
  undefined8 extraout_RDX_01;
  long extraout_RDX_02;
  ulong uVar18;
  undefined4 in_register_0000003c;
  DisplayServerX11 *this;
  int iVar19;
  int iVar20;
  uint uVar21;
  uint uVar22;
  ulong uVar23;
  long in_FS_OFFSET;
  undefined1 auVar24 [16];
  int local_190;
  int local_188;
  int local_170;
  int local_164;
  int local_138;
  int local_ec;
  undefined1 local_e8 [8];
  undefined8 local_e0;
  ulong local_d8;
  long local_d0;
  ulong local_c8;
  byte *local_c0;
  undefined1 local_b8 [16];
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined1 local_68 [40];
  long local_40;
  
  this = (DisplayServerX11 *)CONCAT44(in_register_0000003c,param_1);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar10 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  iVar10 = DisplayServer::_get_screen_index(param_1);
  iVar11 = (**(code **)(*(long *)this + 0x3f8))(this);
  if (iVar11 <= iVar10 || iVar10 < 0) {
    _err_print_index_error
              ("screen_get_usable_rect","platform/linuxbsd/x11/display_server_x11.cpp",0x4e8,
               (long)iVar10,(long)iVar11,"p_screen","screen_count","",false,false);
    auVar24._8_8_ = local_b8._8_8_;
    auVar24._0_8_ = local_b8._0_8_;
    auVar8 = ZEXT816(0);
    goto LAB_0010780e;
  }
  local_b8 = _screen_get_rect(this,iVar10);
  lVar15 = *(long *)(this + 0x360);
  lVar14 = *(long *)(lVar15 + 0xe8);
  if (iVar10 < *(int *)(lVar15 + 0xe4)) {
    lVar14 = lVar14 + (long)iVar10 * 0x80;
  }
  uVar3 = *(undefined8 *)(lVar14 + 0x10);
  local_ec = 0;
  local_e0 = 0;
  lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)(lVar15,"_NET_CURRENT_DESKTOP",1);
  uVar21 = 0;
  if (lVar15 != 0) {
    local_c8 = 0;
    local_c0 = (byte *)0x0;
    iVar10 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                       (*(undefined8 *)(this + 0x360),uVar3,lVar15,0,0x7fffffffffffffff,0,6,local_e8
                        ,&local_ec,&local_c8,&local_e0,&local_c0);
    uVar21 = 0;
    if (iVar10 == 0) {
      if ((local_ec == 0x20) && (local_c8 != 0)) {
        if (local_c0 != (byte *)0x0) {
          uVar22 = (uint)*local_c0;
LAB_001076d4:
          (*_XFree_dylibloader_wrapper_xlib)();
          uVar21 = uVar22;
        }
      }
      else {
        uVar22 = 0;
        uVar21 = 0;
        if (local_c0 != (byte *)0x0) goto LAB_001076d4;
      }
    }
  }
  uVar16 = *(undefined8 *)(this + 0x360);
  if (iVar11 < 2) goto LAB_001077e8;
  lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)(uVar16,"_GTK_WORKAREAS",0);
  if (lVar15 != 0) {
    __snprintf_chk(local_68,0x20,2,0x20,"_GTK_WORKAREAS_D%d",uVar21);
    lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),local_68,1);
    if (lVar15 != 0) {
      local_c8 = 0;
      local_c0 = (byte *)0x0;
      iVar10 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),uVar3,lVar15,0,0x7fffffffffffffff,0,6,
                          local_e8,&local_ec,&local_c8,&local_e0,&local_c0);
      pbVar1 = local_c0;
      if (((iVar10 == 0) && (local_ec == 0x20)) &&
         (uVar18 = (ulong)((uint)local_c8 & 3), (local_c8 & 3) == 0)) {
        if (local_c0 != (byte *)0x0) {
          if (local_c8 != 0) {
            uVar23 = 0;
            do {
              iVar20 = (int)uVar23;
              uVar9 = local_b8._4_4_;
              iVar10 = local_b8._0_4_ + 1;
              uVar22 = (uint)*(undefined8 *)(pbVar1 + (ulong)(iVar20 + 2) * 8);
              iVar17 = (int)*(undefined8 *)(pbVar1 + uVar18 * 8);
              local_78 = CONCAT44((int)*(undefined8 *)(pbVar1 + (ulong)(iVar20 + 1) * 8),iVar17);
              uStack_70 = CONCAT44((uint)*(undefined8 *)(pbVar1 + (ulong)(iVar20 + 3) * 8),uVar22);
              iVar2 = local_b8._8_4_ + -2;
              iVar12 = local_b8._12_4_ + -2;
              if ((iVar12 < 0 || iVar2 < 0) ||
                 ((int)((uint)*(undefined8 *)(pbVar1 + (ulong)(iVar20 + 3) * 8) | uVar22) < 0)) {
                _err_print_error("intersects","./core/math/rect2i.h",0x38,
                                 "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                                 ,0,0);
                iVar17 = (int)local_78;
                uVar22 = (uint)uStack_70;
              }
              if ((iVar10 < (int)(uVar22 + iVar17)) && (iVar17 < iVar10 + iVar2)) {
                if ((uVar9 + 1 < uStack_70._4_4_ + local_78._4_4_) &&
                   (local_78._4_4_ < uVar9 + 1 + iVar12)) {
                  auVar24 = Rect2i::intersection((Rect2i *)local_b8,(Rect2i *)&local_78);
                  local_b8 = auVar24;
                  (*_XFree_dylibloader_wrapper_xlib)(local_c0);
                  auVar24 = local_b8;
                  auVar8 = local_b8;
                  goto LAB_0010780e;
                }
              }
              uVar18 = (ulong)(iVar20 + 4);
              uVar23 = uVar18;
            } while (uVar18 < local_c8);
            goto LAB_00107de0;
          }
          goto LAB_00107de9;
        }
      }
      else {
LAB_00107de0:
        if (local_c0 != (byte *)0x0) {
LAB_00107de9:
          (*_XFree_dylibloader_wrapper_xlib)(local_c0);
        }
      }
    }
  }
  lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)
                     (*(undefined8 *)(this + 0x360),"_NET_CLIENT_LIST",1);
  if (lVar15 == 0) {
LAB_00107968:
    uVar16 = *(undefined8 *)(this + 0x360);
  }
  else {
    local_d8 = 0;
    local_d0 = 0;
    iVar10 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                       (*(undefined8 *)(this + 0x360),uVar3,lVar15,0,0x7fffffffffffffff,0,0x21,
                        local_e8,&local_ec,&local_d8,&local_e0,&local_d0);
    lVar15 = local_d0;
    if (iVar10 != 0) goto LAB_00107d50;
    if ((local_ec == 0x20) && (local_d8 != 0)) {
      uVar16 = *(undefined8 *)(this + 0x360);
      if (local_d0 != 0) {
        lVar14 = (*_XInternAtom_dylibloader_wrapper_xlib)(uVar16,"_NET_DESKTOP_GEOMETRY",1);
        if (lVar14 != 0) {
          local_c8 = 0;
          local_c0 = (byte *)0x0;
          iVar10 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),uVar3,lVar14,0,0x7fffffffffffffff,0,6,
                              local_e8,&local_ec,&local_c8,&local_e0,&local_c0);
          if (((iVar10 == 0) && (local_ec == 0x20)) && (1 < local_c8)) {
            if (local_c0 != (byte *)0x0) {
              iVar10 = *(int *)local_c0;
              iVar2 = *(int *)(local_c0 + 8);
              (*_XFree_dylibloader_wrapper_xlib)();
              lVar14 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                 (*(undefined8 *)(this + 0x360),"_NET_DESKTOP_VIEWPORT",1);
              local_164 = 0;
              if (lVar14 == 0) {
                local_170 = 0;
              }
              else {
                local_c8 = 0;
                local_c0 = (byte *)0x0;
                iVar12 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                                   (*(undefined8 *)(this + 0x360),uVar3,lVar14,0,0x7fffffffffffffff,
                                    0,6,local_e8,&local_ec,&local_c8,&local_e0,&local_c0);
                if (((iVar12 == 0) && (local_ec == 0x20)) && (1 < local_c8)) {
                  if (local_c0 == (byte *)0x0) {
                    local_164 = 0;
                    local_170 = 0;
                  }
                  else {
                    local_164 = *(int *)(local_c0 + 8);
                    iVar12 = *(int *)local_c0;
LAB_001082cb:
                    (*_XFree_dylibloader_wrapper_xlib)();
                    local_170 = local_164;
                    local_164 = iVar12;
                  }
                }
                else {
                  local_170 = 0;
                  if (local_c0 != (byte *)0x0) {
                    iVar12 = 0;
                    local_164 = 0;
                    goto LAB_001082cb;
                  }
                }
              }
              uVar16 = (*_XSetErrorHandler_dylibloader_wrapper_xlib)(bad_window_error_handler);
              if (local_d8 != 0) {
                uVar18 = 0;
                bVar7 = true;
                do {
                  g_bad_window = '\0';
                  local_c8 = 0;
                  local_c0 = (byte *)0x0;
                  lVar14 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                     (*(undefined8 *)(this + 0x360),"_NET_WM_STRUT_PARTIAL",1);
                  if (lVar14 == 0) {
LAB_00108046:
                    if (g_bad_window == '\0') {
                      lVar14 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                         (*(undefined8 *)(this + 0x360),"_NET_WM_STRUT",1);
                      if (lVar14 != 0) {
                        iVar12 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                                           (*(undefined8 *)(this + 0x360),
                                            *(undefined8 *)(lVar15 + uVar18 * 8),lVar14,0,
                                            0x7fffffffffffffff,0,6,local_e8,&local_ec,&local_c8,
                                            &local_e0,&local_c0);
                        if (iVar12 == 0) goto LAB_00107fc0;
                      }
                    }
LAB_00107fe8:
                    if (local_c0 != (byte *)0x0) {
                      (*_XFree_dylibloader_wrapper_xlib)();
                    }
                  }
                  else {
                    iVar12 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                                       (*(undefined8 *)(this + 0x360),
                                        *(undefined8 *)(lVar15 + uVar18 * 8),lVar14,0,
                                        0x7fffffffffffffff,0,6,local_e8,&local_ec,&local_c8,
                                        &local_e0,&local_c0);
                    if (iVar12 != 0) goto LAB_00108046;
LAB_00107fc0:
                    if (((g_bad_window != '\0') || (local_ec != 0x20)) || (local_c8 < 4))
                    goto LAB_00107fe8;
                    if (local_c0 != (byte *)0x0) {
                      uVar4 = *(undefined8 *)(local_c0 + 0x10);
                      uVar5 = *(undefined8 *)(local_c0 + 8);
                      uVar6 = *(undefined8 *)(local_c0 + 0x18);
                      if (local_c8 < 0xc) {
                        iVar20 = 0;
                        iVar12 = 0;
                        local_188 = 0;
                        iVar17 = 0;
                        iVar13 = iVar2;
                        iVar19 = iVar2;
                        local_190 = iVar10;
                        local_138 = iVar10;
                      }
                      else {
                        iVar12 = (int)*(undefined8 *)(local_c0 + 0x20);
                        iVar20 = (int)*(undefined8 *)(local_c0 + 0x30);
                        iVar17 = (int)*(undefined8 *)(local_c0 + 0x40);
                        local_188 = (int)*(undefined8 *)(local_c0 + 0x50);
                        iVar13 = (int)*(undefined8 *)(local_c0 + 0x28);
                        iVar19 = (int)*(undefined8 *)(local_c0 + 0x38);
                        local_190 = (int)*(undefined8 *)(local_c0 + 0x48);
                        local_138 = (int)*(undefined8 *)(local_c0 + 0x58);
                      }
                      uStack_a0 = CONCAT44(iVar13 - iVar12,(int)*(undefined8 *)local_c0);
                      local_a8 = CONCAT44(local_170 + iVar12,local_164);
                      if (0 < (int)*(undefined8 *)local_c0) {
                        Rect2i::intersection((Rect2i *)local_b8,(Rect2i *)&local_a8);
                        auVar24 = local_b8;
                        iVar12 = (int)extraout_RDX;
                        if (((0 < iVar12) &&
                            ((int)((ulong)extraout_RDX >> 0x20) != 0 && -1 < extraout_RDX)) &&
                           (iVar12 < (int)local_b8._8_4_)) {
                          local_b8._8_4_ = local_b8._8_4_ - iVar12;
                          local_b8._4_4_ = auVar24._4_4_;
                          local_b8._0_4_ = (undefined4)uStack_a0;
                        }
                      }
                      iVar12 = (int)uVar5;
                      uStack_90 = CONCAT44(iVar19 - iVar20,iVar12);
                      local_98 = CONCAT44(local_170 + iVar20,(iVar10 + local_164) - iVar12);
                      if (0 < iVar12) {
                        iVar12 = Rect2i::intersection((Rect2i *)local_b8,(Rect2i *)&local_98);
                        uVar5 = local_b8._0_8_;
                        if ((0 < (int)extraout_RDX_01) &&
                           (0 < (int)((ulong)extraout_RDX_01 >> 0x20))) {
                          if ((int)uStack_90 < (int)local_b8._8_4_) {
                            local_b8._8_4_ = iVar12 - local_b8._0_4_;
                            local_b8._0_8_ = uVar5;
                          }
                        }
                      }
                      local_88 = CONCAT44(local_170,local_164 + iVar17);
                      uStack_80 = CONCAT44((int)uVar4,local_190 - iVar17);
                      if (0 < (int)uVar4) {
                        Rect2i::intersection((Rect2i *)local_b8,(Rect2i *)&local_88);
                        auVar24 = local_b8;
                        if (((0 < (int)extraout_RDX_00) &&
                            (iVar12 = (int)((ulong)extraout_RDX_00 >> 0x20),
                            iVar12 != 0 && -1 < extraout_RDX_00)) && (iVar12 < (int)local_b8._12_4_)
                           ) {
                          local_b8._12_4_ = local_b8._12_4_ - iVar12;
                          local_b8._0_4_ = auVar24._0_4_;
                          local_b8._4_4_ = uStack_80._4_4_;
                        }
                      }
                      iVar12 = (int)uVar6;
                      uStack_70 = CONCAT44(iVar12,local_138 - local_188);
                      local_78 = CONCAT44((iVar2 + local_170) - iVar12,local_164 + local_188);
                      if (0 < iVar12) {
                        Rect2i::intersection((Rect2i *)local_b8,(Rect2i *)&local_78);
                        uVar4 = local_b8._0_8_;
                        if ((0 < (int)extraout_RDX_02) &&
                           ((int)((ulong)extraout_RDX_02 >> 0x20) != 0 && -1 < extraout_RDX_02)) {
                          if (uStack_90._4_4_ < (int)local_b8._12_4_) {
                            local_b8._12_4_ = extraout_var - local_b8._4_4_;
                            local_b8._0_8_ = uVar4;
                          }
                        }
                      }
                      bVar7 = false;
                      goto LAB_00107fe8;
                    }
                  }
                  uVar18 = uVar18 + 1;
                } while (uVar18 < local_d8);
                (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar16);
                auVar24 = local_b8;
                if (local_d0 != 0) {
                  (*_XFree_dylibloader_wrapper_xlib)();
                  auVar24 = local_b8;
                }
                local_b8 = auVar24;
                auVar8 = auVar24;
                if (!bVar7) goto LAB_0010780e;
                goto LAB_00107968;
              }
              (*_XSetErrorHandler_dylibloader_wrapper_xlib)();
            }
          }
          else if (local_c0 != (byte *)0x0) {
            (*_XFree_dylibloader_wrapper_xlib)();
          }
        }
LAB_00107d50:
        if (local_d0 == 0) goto LAB_00107968;
        (*_XFree_dylibloader_wrapper_xlib)();
        uVar16 = *(undefined8 *)(this + 0x360);
      }
    }
    else {
      if (local_d0 == 0) goto LAB_00107968;
      (*_XFree_dylibloader_wrapper_xlib)(local_d0);
      uVar16 = *(undefined8 *)(this + 0x360);
    }
  }
LAB_001077e8:
  lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)(uVar16,"_NET_WORKAREA",1);
  auVar24 = local_b8;
  auVar8 = local_b8;
  if (lVar15 == 0) goto LAB_0010780e;
  local_c8 = 0;
  local_c0 = (byte *)0x0;
  iVar10 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                     (*(undefined8 *)(this + 0x360),uVar3,lVar15,0,0x7fffffffffffffff,0,6,local_e8,
                      &local_ec,&local_c8,&local_e0,&local_c0);
  auVar24 = local_b8;
  if (((iVar10 == 0) && (local_ec == 0x20)) && (uVar21 * 4 + 4 <= local_c8)) {
    auVar8 = local_b8;
    if (local_c0 == (byte *)0x0) goto LAB_0010780e;
    pbVar1 = local_c0 + (ulong)(uVar21 * 4) * 8;
    uVar21 = *(uint *)(pbVar1 + 0x10);
    local_78 = CONCAT44(*(undefined4 *)(pbVar1 + 8),*(int *)pbVar1);
    uStack_70 = CONCAT44(*(uint *)(pbVar1 + 0x18),uVar21);
    if (1 < iVar11) {
      iVar10 = *(int *)pbVar1;
      if ((int)(local_b8._8_4_ | local_b8._12_4_ | *(uint *)(pbVar1 + 0x18) | uVar21) < 0) {
        _err_print_error("intersects","./core/math/rect2i.h",0x38,
                         "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                         ,0,0);
        uVar21 = (uint)uStack_70;
        iVar10 = (int)local_78;
        auVar24 = local_b8;
      }
      local_b8._0_4_ = auVar24._0_4_;
      if (((int)local_b8._0_4_ < (int)(uVar21 + iVar10)) &&
         (local_b8._8_4_ = auVar24._8_4_, iVar10 < (int)(local_b8._0_4_ + local_b8._8_4_))) {
        local_b8._4_4_ = auVar24._4_4_;
        if (((int)local_b8._4_4_ < uStack_70._4_4_ + local_78._4_4_) &&
           (local_b8._12_4_ = auVar24._12_4_,
           local_78._4_4_ < (int)(local_b8._4_4_ + local_b8._12_4_))) {
          local_b8 = auVar24;
          auVar24 = Rect2i::intersection((Rect2i *)local_b8,(Rect2i *)&local_78);
        }
      }
      goto LAB_00107a20;
    }
    auVar24._8_8_ = uStack_70;
    auVar24._0_8_ = local_78;
  }
  else {
LAB_00107a20:
    auVar8 = auVar24;
    if (local_c0 == (byte *)0x0) goto LAB_0010780e;
  }
  local_b8 = auVar24;
  (*_XFree_dylibloader_wrapper_xlib)();
  auVar24 = local_b8;
  auVar8 = local_b8;
LAB_0010780e:
  local_b8 = auVar24;
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return auVar8;
}



/* DisplayServerX11::window_get_current_screen(int) const */

int __thiscall DisplayServerX11::window_get_current_screen(DisplayServerX11 *this,int param_1)

{
  long lVar1;
  ulong uVar2;
  long lVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  code *pcVar17;
  int iVar18;
  uint uVar19;
  int iVar20;
  uint uVar21;
  undefined8 uVar22;
  undefined8 uVar23;
  uint uVar24;
  uint uVar25;
  long lVar26;
  long lVar27;
  int iVar28;
  ulong uVar29;
  uint uVar30;
  ulong uVar31;
  uint uVar32;
  uint uVar33;
  int iVar34;
  long in_FS_OFFSET;
  undefined1 auVar35 [16];
  int local_b0;
  undefined4 local_80;
  int local_7c;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined1 local_68 [16];
  undefined8 local_58;
  undefined8 uStack_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar18 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar18 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar18);
  }
  iVar18 = (**(code **)(*(long *)this + 0x3f8))(this);
  local_b0 = 0;
  if (1 < iVar18) {
    lVar1 = *(long *)(this + 0x2f8);
    if ((lVar1 != 0) && (*(int *)(this + 0x31c) != 0)) {
      uVar21 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
      uVar2 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
      uVar19 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
      uVar19 = (uVar19 ^ uVar19 >> 0xd) * -0x3d4d51cb;
      uVar33 = uVar19 ^ uVar19 >> 0x10;
      if (uVar19 == uVar19 >> 0x10) {
        uVar33 = 1;
        uVar29 = uVar2;
      }
      else {
        uVar29 = uVar33 * uVar2;
      }
      uVar31 = CONCAT44(0,uVar21);
      lVar3 = *(long *)(this + 0x300);
      auVar35._8_8_ = 0;
      auVar35._0_8_ = uVar31;
      auVar10._8_8_ = 0;
      auVar10._0_8_ = uVar29;
      lVar26 = SUB168(auVar35 * auVar10,8);
      uVar19 = *(uint *)(lVar3 + lVar26 * 4);
      uVar24 = SUB164(auVar35 * auVar10,8);
      if (uVar19 != 0) {
        uVar32 = 0;
        lVar27 = lVar26;
        uVar30 = uVar19;
        uVar25 = uVar24;
        do {
          if ((uVar30 == uVar33) && (*(int *)(*(long *)(lVar1 + lVar27 * 8) + 0x10) == param_1)) {
            uVar30 = 0;
            while ((uVar19 != uVar33 || (*(int *)(*(long *)(lVar1 + lVar26 * 8) + 0x10) != param_1))
                  ) {
              uVar30 = uVar30 + 1;
              auVar7._8_8_ = 0;
              auVar7._0_8_ = (uVar24 + 1) * uVar2;
              auVar14._8_8_ = 0;
              auVar14._0_8_ = uVar31;
              lVar26 = SUB168(auVar7 * auVar14,8);
              uVar19 = *(uint *)(lVar3 + lVar26 * 4);
              uVar24 = SUB164(auVar7 * auVar14,8);
              if ((uVar19 == 0) ||
                 (auVar8._8_8_ = 0, auVar8._0_8_ = uVar19 * uVar2, auVar15._8_8_ = 0,
                 auVar15._0_8_ = uVar31, auVar9._8_8_ = 0,
                 auVar9._0_8_ = ((uVar21 + uVar24) - SUB164(auVar8 * auVar15,8)) * uVar2,
                 auVar16._8_8_ = 0, auVar16._0_8_ = uVar31, SUB164(auVar9 * auVar16,8) < uVar30)) {
                _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                                 "FATAL: Condition \"!exists\" is true.",0,0);
                _err_flush_stdout();
                    /* WARNING: Does not return */
                pcVar17 = (code *)invalidInstructionException();
                (*pcVar17)();
              }
            }
            iVar34 = 0;
            lVar1 = *(long *)(lVar1 + (ulong)uVar24 * 8);
            iVar28 = 0;
            local_78 = *(undefined8 *)(lVar1 + 0x58);
            uStack_70 = *(undefined8 *)(lVar1 + 0x60);
            do {
              auVar35 = _screen_get_rect(this,iVar34);
              local_68._8_4_ = auVar35._8_4_;
              local_68._12_4_ = auVar35._12_4_;
              local_58 = local_78;
              uStack_50 = uStack_70;
              if (((int)(local_68._8_4_ | local_68._12_4_) < 0) ||
                 (uStack_50._0_4_ = (uint)uStack_70,
                 uStack_50._4_4_ = (uint)((ulong)uStack_70 >> 0x20),
                 uVar19 = (uint)uStack_50 | uStack_50._4_4_, uVar21 = (uint)uStack_50,
                 (int)uVar19 < 0)) {
                local_68 = auVar35;
                _err_print_error("intersects","./core/math/rect2i.h",0x38,
                                 "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                                 ,0,0);
                uVar21 = (uint)uStack_50;
                auVar35 = local_68;
              }
              local_68._0_4_ = auVar35._0_4_;
              local_68 = auVar35;
              if (((int)local_68._0_4_ < (int)(uVar21 + (int)local_58)) &&
                 (local_68._8_4_ = auVar35._8_4_,
                 (int)local_58 < (int)(local_68._8_4_ + local_68._0_4_))) {
                local_68._4_4_ = auVar35._4_4_;
                if (((int)(uStack_50._4_4_ + local_58._4_4_) <= (int)local_68._4_4_) ||
                   (local_68._12_4_ = auVar35._12_4_,
                   (int)(local_68._12_4_ + local_68._4_4_) <= local_58._4_4_)) goto LAB_00108876;
                if ((int)local_68._4_4_ < local_78._4_4_) {
                  local_68._4_4_ = local_78._4_4_;
                }
                iVar20 = (int)local_78;
                if ((int)local_78 < (int)local_68._0_4_) {
                  iVar20 = local_68._0_4_;
                }
                local_58 = CONCAT44(local_68._4_4_,iVar20);
                uVar22 = Vector2i::operator+((Vector2i *)&local_78,(Vector2i *)&uStack_70);
                uVar23 = Vector2i::operator+((Vector2i *)local_68,(Vector2i *)(local_68 + 8));
                local_7c = (int)((ulong)uVar23 >> 0x20);
                iVar20 = (int)((ulong)uVar22 >> 0x20);
                if (iVar20 < local_7c) {
                  local_7c = iVar20;
                }
                if ((int)uVar22 < (int)uVar23) {
                  uVar23 = uVar22;
                }
                local_80 = (undefined4)uVar23;
                uVar23 = Vector2i::operator-((Vector2i *)&local_80,(Vector2i *)&local_58);
                uStack_50 = uVar23;
              }
              else {
LAB_00108876:
                uVar23 = 0;
              }
              iVar20 = (int)uVar23 * (int)((ulong)uVar23 >> 0x20);
              if (iVar28 < iVar20) {
                iVar28 = iVar20;
                local_b0 = iVar34;
              }
              iVar34 = iVar34 + 1;
            } while (iVar18 != iVar34);
            goto LAB_001088a8;
          }
          uVar32 = uVar32 + 1;
          auVar4._8_8_ = 0;
          auVar4._0_8_ = (uVar25 + 1) * uVar2;
          auVar11._8_8_ = 0;
          auVar11._0_8_ = uVar31;
          lVar27 = SUB168(auVar4 * auVar11,8);
          uVar30 = *(uint *)(lVar3 + lVar27 * 4);
          uVar25 = SUB164(auVar4 * auVar11,8);
        } while ((uVar30 != 0) &&
                (auVar5._8_8_ = 0, auVar5._0_8_ = uVar30 * uVar2, auVar12._8_8_ = 0,
                auVar12._0_8_ = uVar31, auVar6._8_8_ = 0,
                auVar6._0_8_ = ((uVar21 + uVar25) - SUB164(auVar5 * auVar12,8)) * uVar2,
                auVar13._8_8_ = 0, auVar13._0_8_ = uVar31, uVar32 <= SUB164(auVar6 * auVar13,8)));
      }
    }
    _err_print_error("window_get_current_screen","platform/linuxbsd/x11/display_server_x11.cpp",
                     0x851,"Condition \"!windows.has(p_window)\" is true. Returning: 0",0,0);
  }
LAB_001088a8:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_b0;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* default_window_error_handler(_XDisplay*, XErrorEvent*) */

undefined8 default_window_error_handler(_XDisplay *param_1,XErrorEvent *param_2)

{
  long *plVar1;
  XErrorEvent XVar2;
  XErrorEvent XVar3;
  undefined8 uVar4;
  long lVar5;
  char *pcVar6;
  long in_FS_OFFSET;
  long local_68;
  long local_60;
  char *local_58;
  undefined8 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  (*_XGetErrorText_dylibloader_wrapper_xlib)
            (param_1,param_2[0x20],default_window_error_handler(_XDisplay*,XErrorEvent*)::message,
             0x400);
  uVar4 = *(undefined8 *)(param_2 + 0x18);
  XVar2 = param_2[0x22];
  XVar3 = param_2[0x21];
  String::utf8((char *)&local_68,0x120da0);
  local_58 = 
  "Unhandled XServer error: %s\n   Major opcode of failed request: %d\n   Serial number of failed request: %d\n   Current serial number in output stream: %d"
  ;
  local_60 = 0;
  local_50 = 0x96;
  String::parse_latin1((StrRange *)&local_60);
  vformat<String,unsigned_long,unsigned_long,unsigned_long>
            (&local_58,(StrRange *)&local_60,&local_68,XVar3,XVar2,uVar4);
  _err_print_error("default_window_error_handler","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x4cf,&local_58,0,0);
  pcVar6 = local_58;
  if (local_58 != (char *)0x0) {
    LOCK();
    plVar1 = (long *)(local_58 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_58 = (char *)0x0;
      Memory::free_static(pcVar6 + -0x10,false);
    }
  }
  lVar5 = local_60;
  if (local_60 != 0) {
    LOCK();
    plVar1 = (long *)(local_60 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_60 = 0;
      Memory::free_static((void *)(lVar5 + -0x10),false);
    }
  }
  lVar5 = local_68;
  if (local_68 != 0) {
    LOCK();
    plVar1 = (long *)(local_68 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_68 = 0;
      Memory::free_static((void *)(lVar5 + -0x10),false);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return 0;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* bad_window_error_handler(_XDisplay*, XErrorEvent*) */

undefined8 bad_window_error_handler(_XDisplay *param_1,XErrorEvent *param_2)

{
  undefined8 uVar1;
  
  if (param_2[0x20] == (XErrorEvent)0x3) {
    g_bad_window = 1;
    return 0;
  }
  uVar1 = default_window_error_handler(param_1,param_2);
  return uVar1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::is_window_transparency_available() const */

undefined1 __thiscall DisplayServerX11::is_window_transparency_available(DisplayServerX11 *this)

{
  long *plVar1;
  code *pcVar2;
  char *pcVar3;
  char cVar4;
  undefined8 uVar5;
  long lVar6;
  undefined1 uVar7;
  long in_FS_OFFSET;
  long local_58;
  long local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  (*_XDefaultScreen_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  local_50 = 0;
  local_40 = 0xe;
  local_48 = "_NET_WM_CM_S%d";
  String::parse_latin1((StrRange *)&local_50);
  vformat<int>((String *)&local_48,(int)(StrRange *)&local_50);
  String::ascii(SUB81(&local_58,0));
  pcVar3 = local_48;
  if (local_48 != (char *)0x0) {
    LOCK();
    plVar1 = (long *)(local_48 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_48 = (char *)0x0;
      Memory::free_static(pcVar3 + -0x10,false);
    }
  }
  lVar6 = local_50;
  if (local_50 != 0) {
    LOCK();
    plVar1 = (long *)(local_50 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_50 = 0;
      Memory::free_static((void *)(lVar6 + -0x10),false);
    }
  }
  pcVar2 = _XInternAtom_dylibloader_wrapper_xlib;
  uVar5 = CharString::get_data();
  lVar6 = (*pcVar2)(*(undefined8 *)(this + 0x360),uVar5,0);
  if (((lVar6 == 0) ||
      (lVar6 = (*_XGetSelectionOwner_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360)),
      lVar6 == 0)) ||
     ((*(long *)(this + 0x298) != 0 &&
      (cVar4 = RenderingDevice::is_composite_alpha_supported(), cVar4 == '\0')))) {
    uVar7 = 0;
    lVar6 = local_58;
  }
  else {
    lVar6 = OS::get_singleton();
    uVar7 = *(undefined1 *)(lVar6 + 0x3d);
    lVar6 = local_58;
  }
  local_58 = lVar6;
  if (lVar6 != 0) {
    LOCK();
    plVar1 = (long *)(lVar6 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_58 = 0;
      Memory::free_static((void *)(lVar6 + -0x10),false);
    }
  }
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar7;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_process_selection_request_target(unsigned long, unsigned long, unsigned long,
   unsigned long) const */

ulong __thiscall
DisplayServerX11::_process_selection_request_target
          (DisplayServerX11 *this,ulong param_1,ulong param_2,ulong param_3,ulong param_4)

{
  long *plVar1;
  code *pcVar2;
  char cVar3;
  ulong uVar4;
  long lVar5;
  undefined8 uVar6;
  int iVar7;
  long in_FS_OFFSET;
  long local_98;
  long local_90;
  undefined8 local_88;
  undefined8 local_80;
  undefined8 local_78;
  undefined8 local_70;
  undefined8 local_68;
  undefined8 local_60;
  undefined8 local_58;
  undefined8 local_50;
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"TARGETS",0);
  if (uVar4 == param_1) {
    local_88 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"TARGETS",0);
    local_80 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),"SAVE_TARGETS",0);
    local_78 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"MULTIPLE",0);
    local_70 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),"UTF8_STRING",0);
    local_68 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),"COMPOUND_TEXT",0);
    local_60 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),&_LC148,0);
    local_58 = 0x1f;
    local_50 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),"text/plain;charset=utf-8",0);
    local_48 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),"text/plain",0);
    (*_XChangeProperty_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),param_2,param_3,4,0x20,0,&local_88,9);
  }
  else {
    uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"SAVE_TARGETS");
    pcVar2 = _XChangeProperty_dylibloader_wrapper_xlib;
    if (uVar4 == param_1) {
      uVar6 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),&_LC151,0);
      (*pcVar2)(*(undefined8 *)(this + 0x360),param_2,param_3,uVar6,0x20,0,0,0);
    }
    else {
      uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),"UTF8_STRING",0);
      if ((((uVar4 == param_1) ||
           (uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)
                              (*(undefined8 *)(this + 0x360),"COMPOUND_TEXT",0), uVar4 == param_1))
          || (uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                (*(undefined8 *)(this + 0x360),&_LC148,0), param_1 == 0x1f)) ||
         (((uVar4 == param_1 ||
           (uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)
                              (*(undefined8 *)(this + 0x360),"text/plain;charset=utf-8",0),
           uVar4 == param_1)) ||
          (uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"text/plain",0), uVar4 == param_1)))) {
        local_98 = 0;
        if (param_4 != 0) {
          get_atom_name((_XDisplay *)&local_90,*(ulong *)(this + 0x360));
          String::operator==((String *)&local_90,"PRIMARY");
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_90);
        }
        String::utf8();
        lVar5 = local_90;
        if (local_98 == local_90) {
          if (local_98 != 0) {
            LOCK();
            plVar1 = (long *)(local_98 + -0x10);
            *plVar1 = *plVar1 + -1;
            UNLOCK();
            if (*plVar1 == 0) {
              local_90 = 0;
              Memory::free_static((void *)(lVar5 + -0x10),false);
            }
          }
        }
        else {
          CowData<char>::_unref((CowData<char> *)&local_98);
          local_98 = local_90;
        }
        pcVar2 = _XChangeProperty_dylibloader_wrapper_xlib;
        if (local_98 == 0) {
          iVar7 = 0;
        }
        else {
          iVar7 = (int)*(undefined8 *)(local_98 + -8);
          iVar7 = iVar7 + -1 + (uint)(iVar7 == 0);
        }
        uVar6 = CharString::get_data();
        (*pcVar2)(*(undefined8 *)(this + 0x360),param_2,param_3,param_1,8,0,uVar6,iVar7);
        lVar5 = local_98;
        if (local_98 != 0) {
          LOCK();
          plVar1 = (long *)(local_98 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            local_98 = 0;
            Memory::free_static((void *)(lVar5 + -0x10),false);
          }
        }
      }
      else {
        lVar5 = (*_XGetAtomName_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),param_1);
        cVar3 = is_print_verbose_enabled();
        if (cVar3 != '\0') {
          local_98 = 0;
          String::parse_latin1((String *)&local_98,"Target \'%s\' not supported.");
          vformat<char*>((String *)&local_90,(char *)&local_98);
          Variant::Variant((Variant *)&local_88,(String *)&local_90);
          print_line((Variant *)&local_88);
          if (Variant::needs_deinit[(int)local_88] != '\0') {
            Variant::_clear_internal();
          }
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_90);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_98);
        }
        if (lVar5 != 0) {
          (*_XFree_dylibloader_wrapper_xlib)(lVar5);
        }
        param_3 = 0;
      }
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_3;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_handle_selection_request_event(XSelectionRequestEvent*) const */

void __thiscall
DisplayServerX11::_handle_selection_request_event
          (DisplayServerX11 *this,XSelectionRequestEvent *param_1)

{
  long lVar1;
  int iVar2;
  long lVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  ulong uVar6;
  long in_FS_OFFSET;
  undefined1 local_11c [4];
  undefined1 local_118 [8];
  ulong local_110;
  undefined1 local_108 [8];
  long local_100;
  undefined4 local_f8 [6];
  undefined8 local_e0;
  undefined8 local_d8;
  undefined8 uStack_d0;
  undefined8 local_c8;
  undefined8 local_c0;
  undefined8 local_b8;
  long local_30;
  
  lVar1 = *(long *)(param_1 + 0x38);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  lVar3 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"MULTIPLE",0);
  if (lVar1 == lVar3) {
    uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"ATOM_PAIR",0);
    local_c0 = 0;
    local_100 = 0;
    iVar2 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),*(undefined8 *)(param_1 + 0x28),
                       *(undefined8 *)(param_1 + 0x40),0,0x7fffffffffffffff,0,uVar4,local_118,
                       local_11c,&local_110,local_108,&local_100);
    lVar1 = local_100;
    if (iVar2 == 0) {
      if ((1 < local_110) && (local_100 != 0)) {
        uVar6 = 0;
        do {
          uVar5 = _process_selection_request_target
                            (this,*(ulong *)(lVar1 + uVar6 * 8),*(ulong *)(param_1 + 0x28),
                             *(ulong *)(lVar1 + 8 + uVar6 * 8),*(ulong *)(param_1 + 0x30));
          *(undefined8 *)(lVar1 + 8 + uVar6 * 8) = uVar5;
          uVar6 = uVar6 + 2;
        } while (uVar6 < local_110);
        (*_XChangeProperty_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*(undefined8 *)(param_1 + 0x28),
                   *(undefined8 *)(param_1 + 0x40),uVar4,0x20,0,lVar1);
        local_c0 = *(undefined8 *)(param_1 + 0x40);
      }
      (*_XFree_dylibloader_wrapper_xlib)(local_100);
    }
  }
  else {
    local_c0 = _process_selection_request_target
                         (this,*(ulong *)(param_1 + 0x38),*(ulong *)(param_1 + 0x28),
                          *(ulong *)(param_1 + 0x40),*(ulong *)(param_1 + 0x30));
  }
  local_e0 = *(undefined8 *)(param_1 + 0x18);
  local_d8 = *(undefined8 *)(param_1 + 0x28);
  uStack_d0 = *(undefined8 *)(param_1 + 0x30);
  local_f8[0] = 0x1f;
  local_c8 = *(undefined8 *)(param_1 + 0x38);
  local_b8 = *(undefined8 *)(param_1 + 0x48);
  (*_XSendEvent_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),local_d8,1,0,local_f8);
  (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_check_pending_events(LocalVector<_XEvent, unsigned int, false, false>&) */

void __thiscall DisplayServerX11::_check_pending_events(DisplayServerX11 *this,LocalVector *param_1)

{
  uint uVar1;
  code *pcVar2;
  int iVar3;
  undefined8 *puVar4;
  ulong uVar5;
  void *pvVar6;
  long lVar7;
  int *piVar8;
  long in_FS_OFFSET;
  byte bVar9;
  int local_1b8;
  undefined4 uStack_1b4;
  undefined8 uStack_1b0;
  undefined8 local_1a8;
  undefined8 uStack_1a0;
  undefined8 local_198;
  undefined8 uStack_190;
  undefined8 local_188;
  undefined8 uStack_180;
  undefined8 local_178;
  undefined8 uStack_170;
  undefined8 local_168;
  undefined8 uStack_160;
  undefined8 local_158;
  undefined8 uStack_150;
  undefined8 local_148;
  undefined8 uStack_140;
  undefined8 local_138;
  undefined8 uStack_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 uStack_110;
  undefined8 local_108;
  undefined8 uStack_100;
  undefined8 local_f8;
  undefined8 uStack_f0;
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined8 local_d8;
  undefined8 uStack_d0;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  long local_30;
  
  bVar9 = 0;
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  piVar8 = &local_1b8;
  for (lVar7 = 0x18; lVar7 != 0; lVar7 = lVar7 + -1) {
    *(undefined8 *)piVar8 = 0;
    piVar8 = (int *)((long)piVar8 + ((ulong)bVar9 * -2 + 1) * 8);
  }
  do {
    while( true ) {
      do {
        iVar3 = (*_XCheckIfEvent_dylibloader_wrapper_xlib)
                          (*(undefined8 *)(this + 0x360),&local_1b8,_predicate_all_events,0);
        if (iVar3 == 0) {
          if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        iVar3 = (*_XFilterEvent_dylibloader_wrapper_xlib)(&local_1b8,0);
      } while (iVar3 != 0);
      if (local_1b8 != 0x1e) break;
      _handle_selection_request_event(this,(XSelectionRequestEvent *)&local_1b8);
    }
    local_f8 = CONCAT44(uStack_1b4,local_1b8);
    uStack_f0 = uStack_1b0;
    uVar1 = *(uint *)param_1;
    local_e8 = local_1a8;
    uStack_e0 = uStack_1a0;
    local_d8 = local_198;
    uStack_d0 = uStack_190;
    local_c8 = local_188;
    uStack_c0 = uStack_180;
    pvVar6 = *(void **)(param_1 + 8);
    local_b8 = local_178;
    uStack_b0 = uStack_170;
    local_a8 = local_168;
    uStack_a0 = uStack_160;
    local_98 = local_158;
    uStack_90 = uStack_150;
    local_88 = local_148;
    uStack_80 = uStack_140;
    local_78 = local_138;
    uStack_70 = uStack_130;
    local_68 = local_128;
    uStack_60 = uStack_120;
    local_58 = local_118;
    uStack_50 = uStack_110;
    local_48 = local_108;
    uStack_40 = uStack_100;
    if (uVar1 == *(uint *)(param_1 + 4)) {
      uVar5 = (ulong)(uVar1 * 2);
      if (uVar1 * 2 == 0) {
        uVar5 = 1;
      }
      *(int *)(param_1 + 4) = (int)uVar5;
      pvVar6 = (void *)Memory::realloc_static(pvVar6,uVar5 * 0xc0,false);
      *(void **)(param_1 + 8) = pvVar6;
      if (pvVar6 == (void *)0x0) {
        _err_print_error("push_back","./core/templates/local_vector.h",0x41,
                         "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar2 = (code *)invalidInstructionException();
        (*pcVar2)();
      }
      uVar1 = *(uint *)param_1;
    }
    *(uint *)param_1 = uVar1 + 1;
    puVar4 = (undefined8 *)((ulong)uVar1 * 0xc0 + (long)pvVar6);
    *puVar4 = local_f8;
    puVar4[1] = uStack_f0;
    puVar4[2] = local_e8;
    puVar4[3] = uStack_e0;
    puVar4[4] = local_d8;
    puVar4[5] = uStack_d0;
    puVar4[6] = local_c8;
    puVar4[7] = uStack_c0;
    puVar4[8] = local_b8;
    puVar4[9] = uStack_b0;
    puVar4[10] = local_a8;
    puVar4[0xb] = uStack_a0;
    puVar4[0xc] = local_98;
    puVar4[0xd] = uStack_90;
    puVar4[0xe] = local_88;
    puVar4[0xf] = uStack_80;
    puVar4[0x10] = local_78;
    puVar4[0x11] = uStack_70;
    puVar4[0x12] = local_68;
    puVar4[0x13] = uStack_60;
    puVar4[0x14] = local_58;
    puVar4[0x15] = uStack_50;
    puVar4[0x16] = local_48;
    puVar4[0x17] = uStack_40;
  } while( true );
}



/* DisplayServerX11::_poll_events() */

void __thiscall DisplayServerX11::_poll_events(DisplayServerX11 *this)

{
  int iVar1;
  
  while( true ) {
    if (this[0x738] != (DisplayServerX11)0x0) {
      return;
    }
    _wait_for_events(this);
    iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x700));
    if (iVar1 != 0) break;
    _check_pending_events(this,(LocalVector *)(this + 0x740));
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x700));
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* DisplayServerX11::_poll_events_thread(void*) */

void DisplayServerX11::_poll_events_thread(void *param_1)

{
  _poll_events((DisplayServerX11 *)param_1);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_clipboard_transfer_ownership(unsigned long, unsigned long) const */

void __thiscall
DisplayServerX11::_clipboard_transfer_ownership(DisplayServerX11 *this,ulong param_1,ulong param_2)

{
  pthread_mutex_t *__mutex;
  pthread_mutex_t *__mutex_00;
  char cVar1;
  int iVar2;
  ulong uVar3;
  undefined8 uVar4;
  long lVar5;
  long in_FS_OFFSET;
  ulong local_110;
  int local_108 [12];
  long local_d8;
  long local_40;
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_110 = param_2;
  iVar2 = pthread_mutex_lock(__mutex);
  if (iVar2 == 0) {
    uVar3 = (*_XGetSelectionOwner_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),param_1);
    if (local_110 == uVar3) {
      __mutex_00 = (pthread_mutex_t *)(this + 0x700);
      iVar2 = pthread_mutex_lock(__mutex_00);
      if (iVar2 != 0) goto LAB_00109848;
      uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),"CLIPBOARD_MANAGER",0);
      lVar5 = (*_XInternAtom_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),"SAVE_TARGETS",0);
      (*_XConvertSelection_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),uVar4,lVar5,0,local_110,0);
      while( true ) {
        cVar1 = _wait_for_events(this);
        if (cVar1 == '\0') break;
        while( true ) {
          iVar2 = (*_XCheckIfEvent_dylibloader_wrapper_xlib)
                            (*(undefined8 *)(this + 0x360),(XSelectionRequestEvent *)local_108,
                             _predicate_clipboard_save_targets,&local_110);
          if (iVar2 == 0) break;
          if (local_108[0] == 0x1e) {
            _handle_selection_request_event(this,(XSelectionRequestEvent *)local_108);
          }
          else if ((local_108[0] == 0x1f) && (local_d8 == lVar5)) {
            pthread_mutex_unlock(__mutex_00);
            goto LAB_00109721;
          }
        }
      }
      pthread_mutex_unlock(__mutex_00);
      pthread_mutex_unlock(__mutex);
    }
    else {
LAB_00109721:
      pthread_mutex_unlock(__mutex);
    }
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
LAB_00109848:
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar2);
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_update_context(DisplayServerX11::WindowData&) */

void __thiscall DisplayServerX11::_update_context(DisplayServerX11 *this,WindowData *param_1)

{
  undefined8 uVar1;
  undefined8 uVar2;
  long lVar3;
  int iVar4;
  long *plVar5;
  long in_FS_OFFSET;
  long local_78;
  long local_70;
  long local_68;
  long local_60;
  int local_58 [6];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  plVar5 = (long *)(*_XAllocClassHint_dylibloader_wrapper_xlib)();
  if (plVar5 == (long *)0x0) goto LAB_00109a1e;
  local_78 = 0;
  iVar4 = *(int *)(this + 0x6f8);
  if (iVar4 == 1) {
    CharString::operator=((CharString *)&local_78,"Godot_ProjectList");
    iVar4 = *(int *)(this + 0x6f8);
LAB_001098cd:
    local_70 = 0;
    if (iVar4 != 2) goto LAB_00109a56;
    ProjectSettings::get_singleton();
    StringName::StringName((StringName *)&local_60,"application/config/name",false);
    ProjectSettings::get_setting_with_override((StringName *)local_58);
    Variant::operator_cast_to_String((Variant *)&local_68);
    if (Variant::needs_deinit[local_58[0]] != '\0') {
      Variant::_clear_internal();
    }
    if ((StringName::configured != '\0') && (local_60 != 0)) {
      StringName::unref();
    }
    if ((local_68 == 0) || (*(uint *)(local_68 + -8) < 2)) {
      CharString::operator=((CharString *)&local_70,"Godot_Engine");
    }
    else {
      String::utf8();
      if (local_70 != local_60) {
        CowData<char>::_unref((CowData<char> *)&local_70);
        local_70 = local_60;
        local_60 = 0;
      }
      CowData<char>::_unref((CowData<char> *)&local_60);
    }
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_68);
  }
  else {
    if (iVar4 == 2) {
      CharString::operator=((CharString *)&local_78,"Godot_Engine");
      iVar4 = *(int *)(this + 0x6f8);
      goto LAB_001098cd;
    }
    if (iVar4 == 0) {
      CharString::operator=((CharString *)&local_78,"Godot_Editor");
      iVar4 = *(int *)(this + 0x6f8);
      goto LAB_001098cd;
    }
LAB_00109a56:
    local_70 = 0;
    CharString::operator=((CharString *)&local_70,"Godot");
  }
  CowData<char>::_copy_on_write((CowData<char> *)&local_70);
  plVar5[1] = local_70;
  CowData<char>::_copy_on_write((CowData<char> *)&local_78);
  uVar1 = *(undefined8 *)param_1;
  uVar2 = *(undefined8 *)(this + 0x360);
  *plVar5 = local_78;
  (*_XSetClassHint_dylibloader_wrapper_xlib)(uVar2,uVar1,plVar5);
  (*_XFree_dylibloader_wrapper_xlib)(plVar5);
  lVar3 = local_70;
  if (local_70 != 0) {
    LOCK();
    plVar5 = (long *)(local_70 + -0x10);
    *plVar5 = *plVar5 + -1;
    UNLOCK();
    if (*plVar5 == 0) {
      local_70 = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
    }
  }
  lVar3 = local_78;
  if (local_78 != 0) {
    LOCK();
    plVar5 = (long *)(local_78 + -0x10);
    *plVar5 = *plVar5 + -1;
    UNLOCK();
    if (*plVar5 == 0) {
      local_78 = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
    }
  }
LAB_00109a1e:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* DisplayServerX11::set_context(DisplayServer::Context) */

void __thiscall DisplayServerX11::set_context(DisplayServerX11 *this,undefined4 param_2)

{
  undefined8 *puVar1;
  int iVar2;
  
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar2 == 0) {
    *(undefined4 *)(this + 0x6f8) = param_2;
    for (puVar1 = *(undefined8 **)(this + 0x308); puVar1 != (undefined8 *)0x0;
        puVar1 = (undefined8 *)*puVar1) {
      _update_context(this,(WindowData *)(puVar1 + 3));
    }
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar2);
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::keyboard_get_layout_name(int) const */

CowData<char32_t> * DisplayServerX11::keyboard_get_layout_name(int param_1)

{
  undefined8 uVar1;
  uint uVar2;
  undefined8 *puVar3;
  uint in_EDX;
  long in_RSI;
  long lVar4;
  undefined4 in_register_0000003c;
  CowData<char32_t> *this;
  long in_FS_OFFSET;
  CowData<char32_t> local_90 [8];
  CowData<char32_t> local_88 [8];
  undefined8 local_80;
  String local_78 [8];
  CowData<char32_t> local_70 [8];
  String local_68 [8];
  undefined8 local_60;
  char *local_58;
  undefined8 local_50;
  long local_40;
  
  this = (CowData<char32_t> *)CONCAT44(in_register_0000003c,param_1);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)this = 0;
  puVar3 = (undefined8 *)(*_XkbAllocKeyboard_dylibloader_wrapper_xlib)();
  if (puVar3 == (undefined8 *)0x0) goto LAB_00109c83;
  uVar1 = *(undefined8 *)(in_RSI + 0x360);
  *puVar3 = uVar1;
  (*_XkbGetControls_dylibloader_wrapper_xlib)(uVar1,0xf8001fff,puVar3);
  (*_XkbGetNames_dylibloader_wrapper_xlib)(*(undefined8 *)(in_RSI + 0x360),4,puVar3);
  (*_XkbGetNames_dylibloader_wrapper_xlib)(*(undefined8 *)(in_RSI + 0x360),0x1000,puVar3);
  if (puVar3[2] == 0) {
    lVar4 = 0;
    do {
      if (*(long *)(puVar3[6] + 0x1a8 + lVar4 * 8) == 0) {
        uVar2 = (uint)lVar4;
        goto LAB_00109c25;
      }
      lVar4 = lVar4 + 1;
    } while (lVar4 != 4);
    if (3 < in_EDX) goto LAB_00109ce0;
LAB_00109c2e:
    get_atom_name((_XDisplay *)&local_58,*(ulong *)(in_RSI + 0x360));
    if (*(char **)this != local_58) {
      CowData<char32_t>::_unref(this);
      *(char **)this = local_58;
      local_58 = (char *)0x0;
    }
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_58);
  }
  else {
    uVar2 = (uint)*(byte *)(puVar3[2] + 1);
LAB_00109c25:
    if (in_EDX < uVar2) goto LAB_00109c2e;
LAB_00109ce0:
    local_60 = 0;
    local_58 = ").";
    local_50 = 2;
    String::parse_latin1((StrRange *)&local_60);
    itos((long)local_70);
    local_58 = "is out of bounds (";
    local_80 = 0;
    local_50 = 0x12;
    String::parse_latin1((StrRange *)&local_80);
    itos((long)local_90);
    operator+((char *)local_88,(String *)"Index ");
    String::operator+(local_78,(String *)local_88);
    String::operator+(local_68,local_78);
    String::operator+((String *)&local_58,local_68);
    _err_print_error("keyboard_get_layout_name","platform/linuxbsd/x11/display_server_x11.cpp",0xd81
                     ,(String *)&local_58,0,0);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_58);
    CowData<char32_t>::_unref((CowData<char32_t> *)local_68);
    CowData<char32_t>::_unref((CowData<char32_t> *)local_78);
    CowData<char32_t>::_unref(local_88);
    CowData<char32_t>::_unref(local_90);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_80);
    CowData<char32_t>::_unref(local_70);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_60);
  }
  (*_XkbFreeKeyboard_dylibloader_wrapper_xlib)(puVar3,0,1);
LAB_00109c83:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_clipboard_get_impl(unsigned long, unsigned long, unsigned long) const */

ulong DisplayServerX11::_clipboard_get_impl(ulong param_1,ulong param_2,ulong param_3)

{
  code *pcVar1;
  undefined8 uVar2;
  char cVar3;
  int iVar4;
  uint uVar5;
  long lVar6;
  uint uVar7;
  long in_RCX;
  ulong uVar8;
  size_t __n;
  void *pvVar9;
  long in_FS_OFFSET;
  uint local_25c;
  long local_240;
  undefined1 local_234 [4];
  undefined8 local_230;
  undefined8 local_228;
  long local_220;
  int local_218;
  undefined4 uStack_214;
  long local_210;
  undefined8 *local_208;
  Variant local_200 [8];
  undefined8 local_1f8;
  void *local_1f0;
  int local_1e8 [8];
  undefined1 local_1c8 [192];
  int local_108 [50];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_230 = 0;
  local_240 = in_RCX;
  lVar6 = (*_XGetSelectionOwner_dylibloader_wrapper_xlib)(*(undefined8 *)(param_2 + 0x360),param_3);
  if (local_240 == lVar6) {
    if (param_3 != 0) {
      get_atom_name((_XDisplay *)&local_1f8,*(ulong *)(param_2 + 0x360));
      cVar3 = String::operator==((String *)&local_1f8,"PRIMARY");
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_1f8);
      if (cVar3 != '\0') {
        *(undefined8 *)param_1 = 0;
        CowData<char32_t>::_ref((CowData<char32_t> *)param_1,(CowData *)(param_2 + 0x350));
        goto LAB_00109ecf;
      }
    }
    *(undefined8 *)param_1 = 0;
    if (*(long *)(param_2 + 0x348) != 0) {
      CowData<char32_t>::_ref((CowData<char32_t> *)param_1,(CowData *)(param_2 + 0x348));
    }
  }
  else {
    if (lVar6 != 0) {
      iVar4 = pthread_mutex_lock((pthread_mutex_t *)(param_2 + 0x700));
      if (iVar4 != 0) {
                    /* WARNING: Subroutine does not return */
        std::__throw_system_error(iVar4);
      }
      local_228 = 1;
      (*_XConvertSelection_dylibloader_wrapper_xlib)(*(undefined8 *)(param_2 + 0x360),param_3);
      (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(param_2 + 0x360));
      (*_XIfEvent_dylibloader_wrapper_xlib)
                (*(undefined8 *)(param_2 + 0x360),local_1c8,_predicate_clipboard_selection,
                 &local_240);
      (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                (*(undefined8 *)(param_2 + 0x360),local_240,local_228,0,0,0,0,&local_220,local_234,
                 &local_218,&local_210,&local_208);
      if (local_208 != (undefined8 *)0x0) {
        (*_XFree_dylibloader_wrapper_xlib)();
      }
      lVar6 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(param_2 + 0x360),&_LC172,0);
      if (lVar6 == local_220) {
        local_1f8 = 0;
        local_1f0 = (void *)0x0;
        (*_XDeleteProperty_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(param_2 + 0x360),local_240,lVar6);
        local_25c = 0;
        while (cVar3 = _wait_for_events((DisplayServerX11 *)param_2), pvVar9 = local_1f0,
              cVar3 != '\0') {
          while (iVar4 = (*_XCheckIfEvent_dylibloader_wrapper_xlib)
                                   (*(undefined8 *)(param_2 + 0x360),local_108,
                                    _predicate_clipboard_incr,&local_228), iVar4 != 0) {
            iVar4 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                              (*(undefined8 *)(param_2 + 0x360),local_240,local_228,0,
                               0x7fffffffffffffff,1,0,&local_220,local_234,&local_218,&local_210,
                               &local_208);
            if (iVar4 != 0) {
              cVar3 = is_print_verbose_enabled();
              if (cVar3 != '\0') {
                Variant::Variant((Variant *)local_1e8,"Failed to get selection data chunk.");
                stringify_variants(local_200);
                __print_line((String *)local_200);
                CowData<char32_t>::_unref((CowData<char32_t> *)local_200);
                if (Variant::needs_deinit[local_1e8[0]] != '\0') {
                  Variant::_clear_internal();
                }
              }
              pvVar9 = local_1f0;
              if (local_208 != (undefined8 *)0x0) {
                (*_XFree_dylibloader_wrapper_xlib)();
                pvVar9 = local_1f0;
              }
              goto LAB_0010a1f6;
            }
            if (local_208 == (undefined8 *)0x0) {
LAB_0010a296:
              pvVar9 = local_1f0;
              if (local_25c != 0) {
                String::parse_utf8((char *)&local_230,(int)local_1f0,SUB41(local_25c,0));
              }
              goto LAB_0010a1f6;
            }
            __n = CONCAT44(uStack_214,local_218);
            if (__n == 0) {
              (*_XFree_dylibloader_wrapper_xlib)();
              goto LAB_0010a296;
            }
            if ((uint)local_1f8 == 0) {
              uVar7 = (uint)*local_208;
              if (uVar7 != 0) {
                if (local_1f8._4_4_ < uVar7) {
                  uVar5 = uVar7 - 1 >> 1 | uVar7 - 1;
                  uVar5 = uVar5 | uVar5 >> 2;
                  uVar5 = uVar5 | uVar5 >> 4;
                  uVar5 = uVar5 | uVar5 >> 8;
                  uVar5 = (uVar5 | uVar5 >> 0x10) + 1;
                  local_1f8 = (ulong)uVar5 << 0x20;
                  local_1f0 = (void *)Memory::realloc_static(local_1f0,(ulong)uVar5,false);
                  if (local_1f0 == (void *)0x0) {
LAB_0010a4da:
                    _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                                     "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
                    _err_flush_stdout();
                    /* WARNING: Does not return */
                    pcVar1 = (code *)invalidInstructionException();
                    (*pcVar1)();
                  }
                  local_1f8 = CONCAT44(local_1f8._4_4_,uVar7);
                  goto LAB_0010a281;
                }
                local_1f8 = CONCAT44(local_1f8._4_4_,uVar7);
              }
              goto LAB_0010a170;
            }
            uVar8 = __n + local_25c;
            if (uVar8 < (local_1f8 & 0xffffffff)) {
              uVar8 = local_1f8 & 0xffffffff;
            }
            uVar7 = (uint)uVar8;
            if (uVar7 < (uint)local_1f8) {
LAB_0010a25f:
              local_1f8 = CONCAT44(local_1f8._4_4_,uVar7);
            }
            else if ((uint)local_1f8 < uVar7) {
              if (local_1f8._4_4_ < uVar7) {
                uVar5 = uVar7 - 1 | uVar7 - 1 >> 1;
                uVar5 = uVar5 | uVar5 >> 2;
                uVar5 = uVar5 | uVar5 >> 4;
                uVar5 = uVar5 | uVar5 >> 8;
                uVar5 = (uVar5 | uVar5 >> 0x10) + 1;
                local_1f8 = CONCAT44(uVar5,(uint)local_1f8);
                local_1f0 = (void *)Memory::realloc_static(local_1f0,(ulong)uVar5,false);
                if (local_1f0 == (void *)0x0) goto LAB_0010a4da;
                __n = CONCAT44(uStack_214,local_218);
              }
              goto LAB_0010a25f;
            }
            memcpy((void *)((long)local_1f0 + (ulong)local_25c),local_208,__n);
            local_25c = local_25c + local_218;
LAB_0010a281:
            if (local_208 != (undefined8 *)0x0) {
LAB_0010a170:
              (*_XFree_dylibloader_wrapper_xlib)();
            }
          }
        }
LAB_0010a1f6:
        if ((pvVar9 != (void *)0x0) &&
           (LocalVector<unsigned_char,unsigned_int,false,false>::resize
                      ((LocalVector<unsigned_char,unsigned_int,false,false> *)&local_1f8,0),
           local_1f0 != (void *)0x0)) {
          Memory::free_static(local_1f0,false);
        }
      }
      else if (local_210 != 0) {
        iVar4 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                          (*(undefined8 *)(param_2 + 0x360),local_240,local_228,0,local_210,0,0,
                           &local_220,local_234,&local_218,&local_1f8,&local_208);
        if (iVar4 == 0) {
          String::parse_utf8((char *)&local_230,(int)local_208,true);
        }
        else {
          cVar3 = is_print_verbose_enabled();
          if (cVar3 != '\0') {
            Variant::Variant((Variant *)local_108,"Failed to get selection data.");
            print_line((Variant *)local_108);
            if (Variant::needs_deinit[local_108[0]] != '\0') {
              Variant::_clear_internal();
            }
          }
        }
        if (local_208 != (undefined8 *)0x0) {
          (*_XFree_dylibloader_wrapper_xlib)();
        }
      }
      pthread_mutex_unlock((pthread_mutex_t *)(param_2 + 0x700));
    }
    uVar2 = local_230;
    local_230 = 0;
    *(undefined8 *)param_1 = uVar2;
  }
LAB_00109ecf:
  CowData<char32_t>::_unref((CowData<char32_t> *)&local_230);
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_clipboard_get(unsigned long, unsigned long) const */

DisplayServerX11 * __thiscall
DisplayServerX11::_clipboard_get(DisplayServerX11 *this,ulong param_1,ulong param_2)

{
  long *plVar1;
  long lVar2;
  long in_FS_OFFSET;
  long local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)this = 0;
  lVar2 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(param_1 + 0x360),"UTF8_STRING",1)
  ;
  if (lVar2 == 0) {
LAB_0010a577:
    lVar2 = *(long *)this;
LAB_0010a57a:
    if ((lVar2 != 0) && (1 < *(uint *)(lVar2 + -8))) goto LAB_0010a5c5;
  }
  else {
    _clipboard_get_impl((ulong)&local_48,param_1,param_2);
    lVar2 = local_48;
    if (*(long *)this != local_48) {
      CowData<char32_t>::_unref((CowData<char32_t> *)this);
      *(long *)this = lVar2;
      goto LAB_0010a57a;
    }
    if (local_48 != 0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        Memory::free_static((void *)(local_48 + -0x10),false);
      }
      goto LAB_0010a577;
    }
  }
  _clipboard_get_impl((ulong)&local_48,param_1,param_2);
  lVar2 = *(long *)this;
  if (lVar2 == local_48) {
    if (lVar2 != 0) {
      LOCK();
      plVar1 = (long *)(lVar2 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        Memory::free_static((void *)(local_48 + -0x10),false);
      }
    }
  }
  else {
    if (lVar2 != 0) {
      LOCK();
      plVar1 = (long *)(lVar2 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)this;
        *(undefined8 *)this = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    *(long *)this = local_48;
  }
LAB_0010a5c5:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::clipboard_get() const */

void DisplayServerX11::clipboard_get(void)

{
  long *plVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  code *pcVar18;
  int iVar19;
  ulong uVar20;
  long lVar21;
  long lVar22;
  ulong in_RSI;
  uint uVar23;
  CowData<char32_t> *in_RDI;
  ulong uVar24;
  uint uVar25;
  long in_FS_OFFSET;
  long local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar19 = pthread_mutex_lock((pthread_mutex_t *)(in_RSI + 0x200));
  if (iVar19 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar19);
  }
  lVar22 = *(long *)(in_RSI + 0x2f8);
  *(undefined8 *)in_RDI = 0;
  if ((lVar22 != 0) && (*(int *)(in_RSI + 0x31c) != 0)) {
    uVar24 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 0x318) * 4));
    uVar20 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 0x318) * 8);
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar24;
    auVar10._8_8_ = 0;
    auVar10._0_8_ = uVar20;
    lVar21 = SUB168(auVar2 * auVar10,8);
    uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar21 * 4);
    iVar19 = SUB164(auVar2 * auVar10,8);
    if (uVar23 != 0) {
      uVar25 = 0;
      while ((uVar23 != 1 || (*(int *)(*(long *)(lVar22 + lVar21 * 8) + 0x10) != 0))) {
        uVar25 = uVar25 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar19 + 1) * uVar20;
        auVar11._8_8_ = 0;
        auVar11._0_8_ = uVar24;
        lVar21 = SUB168(auVar3 * auVar11,8);
        uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar21 * 4);
        iVar19 = SUB164(auVar3 * auVar11,8);
        if ((uVar23 == 0) ||
           (auVar4._8_8_ = 0, auVar4._0_8_ = uVar23 * uVar20, auVar12._8_8_ = 0,
           auVar12._0_8_ = uVar24, auVar5._8_8_ = 0,
           auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 0x318) * 4)
                           + iVar19) - SUB164(auVar4 * auVar12,8)) * uVar20, auVar13._8_8_ = 0,
           auVar13._0_8_ = uVar24, SUB164(auVar5 * auVar13,8) < uVar25)) goto LAB_0010a930;
      }
      uVar20 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(in_RSI + 0x360),"CLIPBOARD",0);
      _clipboard_get((DisplayServerX11 *)&local_48,in_RSI,uVar20);
      lVar22 = local_48;
      if (*(long *)in_RDI == local_48) {
        if (local_48 != 0) {
          LOCK();
          plVar1 = (long *)(local_48 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            Memory::free_static((void *)(local_48 + -0x10),false);
            lVar22 = *(long *)in_RDI;
          }
          else {
            lVar22 = *(long *)in_RDI;
          }
          goto LAB_0010a802;
        }
      }
      else {
        CowData<char32_t>::_unref(in_RDI);
        *(long *)in_RDI = lVar22;
LAB_0010a802:
        if ((lVar22 != 0) && (1 < *(uint *)(lVar22 + -8))) goto LAB_0010a8ff;
      }
      if ((*(long *)(in_RSI + 0x2f8) != 0) && (*(int *)(in_RSI + 0x31c) != 0)) {
        uVar24 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 0x318) * 4)
                         );
        uVar20 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 0x318) * 8);
        auVar6._8_8_ = 0;
        auVar6._0_8_ = uVar24;
        auVar14._8_8_ = 0;
        auVar14._0_8_ = uVar20;
        lVar22 = SUB168(auVar6 * auVar14,8);
        uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar22 * 4);
        iVar19 = SUB164(auVar6 * auVar14,8);
        if (uVar23 != 0) {
          uVar25 = 0;
          do {
            if ((uVar23 == 1) &&
               (*(int *)(*(long *)(*(long *)(in_RSI + 0x2f8) + lVar22 * 8) + 0x10) == 0)) {
              _clipboard_get((DisplayServerX11 *)&local_48,in_RSI,1);
              if (*(long *)in_RDI == local_48) {
                if (local_48 != 0) {
                  LOCK();
                  plVar1 = (long *)(local_48 + -0x10);
                  *plVar1 = *plVar1 + -1;
                  UNLOCK();
                  if (*plVar1 == 0) {
                    Memory::free_static((void *)(local_48 + -0x10),false);
                  }
                }
              }
              else {
                CowData<char32_t>::_unref(in_RDI);
                *(long *)in_RDI = local_48;
              }
LAB_0010a8ff:
              pthread_mutex_unlock((pthread_mutex_t *)(in_RSI + 0x200));
              if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                return;
              }
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            uVar25 = uVar25 + 1;
            auVar7._8_8_ = 0;
            auVar7._0_8_ = (iVar19 + 1) * uVar20;
            auVar15._8_8_ = 0;
            auVar15._0_8_ = uVar24;
            lVar22 = SUB168(auVar7 * auVar15,8);
            uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar22 * 4);
            iVar19 = SUB164(auVar7 * auVar15,8);
          } while ((uVar23 != 0) &&
                  (auVar8._8_8_ = 0, auVar8._0_8_ = uVar23 * uVar20, auVar16._8_8_ = 0,
                  auVar16._0_8_ = uVar24, auVar9._8_8_ = 0,
                  auVar9._0_8_ = ((*(uint *)(hash_table_size_primes +
                                            (ulong)*(uint *)(in_RSI + 0x318) * 4) + iVar19) -
                                 SUB164(auVar8 * auVar16,8)) * uVar20, auVar17._8_8_ = 0,
                  auVar17._0_8_ = uVar24, uVar25 <= SUB164(auVar9 * auVar17,8)));
        }
      }
    }
  }
LAB_0010a930:
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar18 = (code *)invalidInstructionException();
  (*pcVar18)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::clipboard_get_primary() const */

void DisplayServerX11::clipboard_get_primary(void)

{
  long *plVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  code *pcVar18;
  int iVar19;
  ulong uVar20;
  long lVar21;
  long lVar22;
  ulong in_RSI;
  uint uVar23;
  CowData<char32_t> *in_RDI;
  ulong uVar24;
  uint uVar25;
  long in_FS_OFFSET;
  long local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar19 = pthread_mutex_lock((pthread_mutex_t *)(in_RSI + 0x200));
  if (iVar19 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar19);
  }
  lVar22 = *(long *)(in_RSI + 0x2f8);
  *(undefined8 *)in_RDI = 0;
  if ((lVar22 != 0) && (*(int *)(in_RSI + 0x31c) != 0)) {
    uVar24 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 0x318) * 4));
    uVar20 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 0x318) * 8);
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar24;
    auVar10._8_8_ = 0;
    auVar10._0_8_ = uVar20;
    lVar21 = SUB168(auVar2 * auVar10,8);
    uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar21 * 4);
    iVar19 = SUB164(auVar2 * auVar10,8);
    if (uVar23 != 0) {
      uVar25 = 0;
      while ((uVar23 != 1 || (*(int *)(*(long *)(lVar22 + lVar21 * 8) + 0x10) != 0))) {
        uVar25 = uVar25 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar19 + 1) * uVar20;
        auVar11._8_8_ = 0;
        auVar11._0_8_ = uVar24;
        lVar21 = SUB168(auVar3 * auVar11,8);
        uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar21 * 4);
        iVar19 = SUB164(auVar3 * auVar11,8);
        if ((uVar23 == 0) ||
           (auVar4._8_8_ = 0, auVar4._0_8_ = uVar23 * uVar20, auVar12._8_8_ = 0,
           auVar12._0_8_ = uVar24, auVar5._8_8_ = 0,
           auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 0x318) * 4)
                           + iVar19) - SUB164(auVar4 * auVar12,8)) * uVar20, auVar13._8_8_ = 0,
           auVar13._0_8_ = uVar24, SUB164(auVar5 * auVar13,8) < uVar25)) goto LAB_0010ac70;
      }
      uVar20 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(in_RSI + 0x360),"PRIMARY",0)
      ;
      _clipboard_get((DisplayServerX11 *)&local_48,in_RSI,uVar20);
      lVar22 = local_48;
      if (*(long *)in_RDI == local_48) {
        if (local_48 != 0) {
          LOCK();
          plVar1 = (long *)(local_48 + -0x10);
          *plVar1 = *plVar1 + -1;
          UNLOCK();
          if (*plVar1 == 0) {
            Memory::free_static((void *)(local_48 + -0x10),false);
            lVar22 = *(long *)in_RDI;
          }
          else {
            lVar22 = *(long *)in_RDI;
          }
          goto LAB_0010ab42;
        }
      }
      else {
        CowData<char32_t>::_unref(in_RDI);
        *(long *)in_RDI = lVar22;
LAB_0010ab42:
        if ((lVar22 != 0) && (1 < *(uint *)(lVar22 + -8))) goto LAB_0010ac3f;
      }
      if ((*(long *)(in_RSI + 0x2f8) != 0) && (*(int *)(in_RSI + 0x31c) != 0)) {
        uVar24 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 0x318) * 4)
                         );
        uVar20 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 0x318) * 8);
        auVar6._8_8_ = 0;
        auVar6._0_8_ = uVar24;
        auVar14._8_8_ = 0;
        auVar14._0_8_ = uVar20;
        lVar22 = SUB168(auVar6 * auVar14,8);
        uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar22 * 4);
        iVar19 = SUB164(auVar6 * auVar14,8);
        if (uVar23 != 0) {
          uVar25 = 0;
          do {
            if ((uVar23 == 1) &&
               (*(int *)(*(long *)(*(long *)(in_RSI + 0x2f8) + lVar22 * 8) + 0x10) == 0)) {
              _clipboard_get((DisplayServerX11 *)&local_48,in_RSI,1);
              if (*(long *)in_RDI == local_48) {
                if (local_48 != 0) {
                  LOCK();
                  plVar1 = (long *)(local_48 + -0x10);
                  *plVar1 = *plVar1 + -1;
                  UNLOCK();
                  if (*plVar1 == 0) {
                    Memory::free_static((void *)(local_48 + -0x10),false);
                  }
                }
              }
              else {
                CowData<char32_t>::_unref(in_RDI);
                *(long *)in_RDI = local_48;
              }
LAB_0010ac3f:
              pthread_mutex_unlock((pthread_mutex_t *)(in_RSI + 0x200));
              if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                return;
              }
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            uVar25 = uVar25 + 1;
            auVar7._8_8_ = 0;
            auVar7._0_8_ = (iVar19 + 1) * uVar20;
            auVar15._8_8_ = 0;
            auVar15._0_8_ = uVar24;
            lVar22 = SUB168(auVar7 * auVar15,8);
            uVar23 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar22 * 4);
            iVar19 = SUB164(auVar7 * auVar15,8);
          } while ((uVar23 != 0) &&
                  (auVar8._8_8_ = 0, auVar8._0_8_ = uVar23 * uVar20, auVar16._8_8_ = 0,
                  auVar16._0_8_ = uVar24, auVar9._8_8_ = 0,
                  auVar9._0_8_ = ((*(uint *)(hash_table_size_primes +
                                            (ulong)*(uint *)(in_RSI + 0x318) * 4) + iVar19) -
                                 SUB164(auVar8 * auVar16,8)) * uVar20, auVar17._8_8_ = 0,
                  auVar17._0_8_ = uVar24, uVar25 <= SUB164(auVar9 * auVar17,8)));
        }
      }
    }
  }
LAB_0010ac70:
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar18 = (code *)invalidInstructionException();
  (*pcVar18)();
}



/* HashMap<DisplayServer::CursorShape, Vector<Variant>, HashMapHasherDefault,
   HashMapComparatorDefault<DisplayServer::CursorShape>,
   DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape, Vector<Variant> > >
   >::erase(DisplayServer::CursorShape const&) [clone .isra.0] */

void __thiscall
HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
::erase(HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
        *this,CursorShape *param_1)

{
  uint *puVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  long *plVar4;
  uint uVar5;
  long lVar6;
  ulong uVar7;
  long lVar8;
  undefined8 uVar9;
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  uint uVar28;
  uint uVar29;
  ulong uVar30;
  ulong uVar31;
  uint uVar32;
  uint uVar33;
  long *plVar34;
  ulong uVar35;
  ulong uVar36;
  uint uVar37;
  uint *puVar38;
  ulong uVar39;
  
  lVar6 = *(long *)(this + 8);
  if ((lVar6 != 0) && (*(int *)(this + 0x2c) != 0)) {
    uVar33 = *(uint *)param_1;
    uVar5 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    uVar39 = CONCAT44(0,uVar5);
    uVar7 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
    uVar28 = (uVar33 >> 0x10 ^ uVar33) * -0x7a143595;
    uVar28 = (uVar28 ^ uVar28 >> 0xd) * -0x3d4d51cb;
    uVar32 = uVar28 ^ uVar28 >> 0x10;
    if (uVar28 == uVar28 >> 0x10) {
      uVar32 = 1;
      uVar30 = uVar7;
    }
    else {
      uVar30 = uVar32 * uVar7;
    }
    lVar8 = *(long *)(this + 0x10);
    auVar10._8_8_ = 0;
    auVar10._0_8_ = uVar39;
    auVar19._8_8_ = 0;
    auVar19._0_8_ = uVar30;
    uVar30 = SUB168(auVar10 * auVar19,8);
    uVar28 = *(uint *)(lVar8 + uVar30 * 4);
    uVar35 = (ulong)SUB164(auVar10 * auVar19,8);
    if (uVar28 != 0) {
      uVar37 = 0;
      do {
        auVar13._8_8_ = 0;
        auVar13._0_8_ = ((int)uVar35 + 1) * uVar7;
        auVar22._8_8_ = 0;
        auVar22._0_8_ = uVar39;
        uVar31 = SUB168(auVar13 * auVar22,8);
        uVar29 = SUB164(auVar13 * auVar22,8);
        if ((uVar32 == uVar28) && (uVar33 == *(uint *)(*(long *)(lVar6 + uVar30 * 8) + 0x10))) {
          puVar38 = (uint *)(lVar8 + uVar31 * 4);
          uVar33 = *puVar38;
          if ((uVar33 != 0) &&
             (auVar14._8_8_ = 0, auVar14._0_8_ = uVar33 * uVar7, auVar23._8_8_ = 0,
             auVar23._0_8_ = uVar39, auVar15._8_8_ = 0,
             auVar15._0_8_ = ((uVar29 + uVar5) - SUB164(auVar14 * auVar23,8)) * uVar7,
             auVar24._8_8_ = 0, auVar24._0_8_ = uVar39, uVar30 = (ulong)uVar29, uVar36 = uVar35,
             SUB164(auVar15 * auVar24,8) != 0)) {
            while( true ) {
              uVar35 = uVar30;
              puVar1 = (uint *)(lVar8 + uVar36 * 4);
              *puVar38 = *puVar1;
              puVar2 = (undefined8 *)(lVar6 + uVar31 * 8);
              *puVar1 = uVar33;
              puVar3 = (undefined8 *)(lVar6 + uVar36 * 8);
              uVar9 = *puVar2;
              *puVar2 = *puVar3;
              *puVar3 = uVar9;
              auVar18._8_8_ = 0;
              auVar18._0_8_ = ((int)uVar35 + 1) * uVar7;
              auVar27._8_8_ = 0;
              auVar27._0_8_ = uVar39;
              uVar31 = SUB168(auVar18 * auVar27,8);
              puVar38 = (uint *)(lVar8 + uVar31 * 4);
              uVar33 = *puVar38;
              if ((uVar33 == 0) ||
                 (auVar16._8_8_ = 0, auVar16._0_8_ = uVar33 * uVar7, auVar25._8_8_ = 0,
                 auVar25._0_8_ = uVar39, auVar17._8_8_ = 0,
                 auVar17._0_8_ =
                      ((SUB164(auVar18 * auVar27,8) + uVar5) - SUB164(auVar16 * auVar25,8)) * uVar7,
                 auVar26._8_8_ = 0, auVar26._0_8_ = uVar39, SUB164(auVar17 * auVar26,8) == 0))
              break;
              uVar30 = uVar31 & 0xffffffff;
              uVar36 = uVar35;
            }
          }
          plVar4 = (long *)(lVar6 + uVar35 * 8);
          *(undefined4 *)(lVar8 + uVar35 * 4) = 0;
          plVar34 = (long *)*plVar4;
          if (*(long **)(this + 0x18) == plVar34) {
            *(long *)(this + 0x18) = *plVar34;
            plVar34 = (long *)*plVar4;
          }
          if (*(long **)(this + 0x20) == plVar34) {
            *(long *)(this + 0x20) = plVar34[1];
            plVar34 = (long *)*plVar4;
          }
          if ((long *)plVar34[1] != (long *)0x0) {
            *(long *)plVar34[1] = *plVar34;
            plVar34 = (long *)*plVar4;
          }
          if (*plVar34 != 0) {
            *(long *)(*plVar34 + 8) = plVar34[1];
            plVar34 = (long *)*plVar4;
          }
          CowData<Variant>::_unref((CowData<Variant> *)(plVar34 + 4));
          Memory::free_static(plVar34,false);
          *(undefined8 *)(*(long *)(this + 8) + uVar35 * 8) = 0;
          *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + -1;
          return;
        }
        uVar28 = *(uint *)(lVar8 + uVar31 * 4);
        uVar35 = uVar31 & 0xffffffff;
        uVar37 = uVar37 + 1;
      } while ((uVar28 != 0) &&
              (auVar11._8_8_ = 0, auVar11._0_8_ = uVar28 * uVar7, auVar20._8_8_ = 0,
              auVar20._0_8_ = uVar39, auVar12._8_8_ = 0,
              auVar12._0_8_ = ((uVar5 + uVar29) - SUB164(auVar11 * auVar20,8)) * uVar7,
              auVar21._8_8_ = 0, auVar21._0_8_ = uVar39, uVar30 = uVar31,
              uVar37 <= SUB164(auVar12 * auVar21,8)));
    }
  }
  return;
}



/* CowData<Variant>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<Variant>::_copy_on_write(CowData<Variant> *this)

{
  Variant *this_00;
  long lVar1;
  code *pcVar2;
  undefined8 *puVar3;
  long lVar4;
  Variant *pVVar5;
  ulong uVar6;
  long lVar7;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar2 = (code *)invalidInstructionException();
    (*pcVar2)();
  }
  lVar1 = *(long *)(*(long *)this + -8);
  uVar6 = 0x10;
  if (lVar1 * 0x18 != 0) {
    uVar6 = lVar1 * 0x18 - 1;
    uVar6 = uVar6 | uVar6 >> 1;
    uVar6 = uVar6 | uVar6 >> 2;
    uVar6 = uVar6 | uVar6 >> 4;
    uVar6 = uVar6 | uVar6 >> 8;
    uVar6 = uVar6 | uVar6 >> 0x10;
    uVar6 = (uVar6 | uVar6 >> 0x20) + 0x11;
  }
  puVar3 = (undefined8 *)Memory::alloc_static(uVar6,false);
  if (puVar3 == (undefined8 *)0x0) {
    _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                     "Parameter \"mem_new\" is null.",0,0);
    return;
  }
  lVar4 = 0;
  lVar7 = 0;
  *puVar3 = 1;
  puVar3[1] = lVar1;
  if (lVar1 != 0) {
    do {
      this_00 = (Variant *)((long)(puVar3 + 2) + lVar4);
      lVar7 = lVar7 + 1;
      pVVar5 = (Variant *)(*(long *)this + lVar4);
      lVar4 = lVar4 + 0x18;
      Variant::Variant(this_00,pVVar5);
    } while (lVar1 != lVar7);
  }
  _unref(this);
  *(undefined8 **)this = puVar3 + 2;
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::keyboard_get_layout_language(int) const */

undefined8 DisplayServerX11::keyboard_get_layout_language(int param_1)

{
  long *plVar1;
  undefined8 uVar2;
  long lVar3;
  undefined8 *puVar4;
  long lVar5;
  uint in_EDX;
  int iVar6;
  long in_RSI;
  undefined4 in_register_0000003c;
  uint uVar7;
  long in_FS_OFFSET;
  long local_a8;
  CowData<char32_t> local_a0 [8];
  CowData<char32_t> local_98 [8];
  undefined8 local_90;
  String local_88 [8];
  CowData<char32_t> local_80 [8];
  String local_78 [8];
  undefined8 local_70;
  char local_68 [8];
  long local_60;
  char *local_58;
  undefined8 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar6 = (int)&local_a8;
  local_a8 = 0;
  puVar4 = (undefined8 *)(*_XkbAllocKeyboard_dylibloader_wrapper_xlib)();
  if (puVar4 != (undefined8 *)0x0) {
    uVar2 = *(undefined8 *)(in_RSI + 0x360);
    *puVar4 = uVar2;
    (*_XkbGetControls_dylibloader_wrapper_xlib)(uVar2,0xf8001fff,puVar4);
    (*_XkbGetNames_dylibloader_wrapper_xlib)(*(undefined8 *)(in_RSI + 0x360),4,puVar4);
    (*_XkbGetNames_dylibloader_wrapper_xlib)(*(undefined8 *)(in_RSI + 0x360),0x1000,puVar4);
    lVar3 = puVar4[6];
    if (puVar4[2] == 0) {
      lVar5 = 0;
      do {
        if (*(long *)(lVar3 + 0x1a8 + lVar5 * 8) == 0) {
          uVar7 = (uint)lVar5;
          goto LAB_0010b147;
        }
        lVar5 = lVar5 + 1;
      } while (lVar5 != 4);
      lVar3 = *(long *)(lVar3 + 0x10);
      uVar7 = 4;
    }
    else {
      uVar7 = (uint)*(byte *)(puVar4[2] + 1);
LAB_0010b147:
      lVar3 = *(long *)(lVar3 + 0x10);
    }
    if (lVar3 != 0) {
      get_atom_name((_XDisplay *)&local_58,*(ulong *)(in_RSI + 0x360));
      String::split(local_68,SUB81((_XDisplay *)&local_58,0),0x12375a);
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_58);
      if (in_EDX < uVar7) {
        if ((local_60 == 0) || (*(long *)(local_60 + -8) <= (long)(int)(in_EDX + 1))) {
          local_50 = 2;
          local_58 = "en";
          String::parse_latin1((StrRange *)&local_a8);
        }
        else {
          CowData<char32_t>::_ref
                    ((CowData<char32_t> *)&local_a8,
                     (CowData *)(local_60 + (long)(int)(in_EDX + 1) * 8));
        }
      }
      else {
        local_70 = 0;
        local_58 = ").";
        local_50 = 2;
        String::parse_latin1((StrRange *)&local_70);
        itos((long)local_80);
        local_58 = "is out of bounds (";
        local_90 = 0;
        local_50 = 0x12;
        String::parse_latin1((StrRange *)&local_90);
        itos((long)local_a0);
        operator+((char *)local_98,(String *)"Index ");
        String::operator+(local_88,(String *)local_98);
        String::operator+(local_78,local_88);
        String::operator+((String *)&local_58,local_78);
        _err_print_error("keyboard_get_layout_language",
                         "platform/linuxbsd/x11/display_server_x11.cpp",0xd63,(_XDisplay *)&local_58
                         ,0,0);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_58);
        CowData<char32_t>::_unref((CowData<char32_t> *)local_78);
        CowData<char32_t>::_unref((CowData<char32_t> *)local_88);
        CowData<char32_t>::_unref(local_98);
        CowData<char32_t>::_unref(local_a0);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_90);
        CowData<char32_t>::_unref(local_80);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_70);
      }
      CowData<String>::_unref((CowData<String> *)&local_60);
    }
    iVar6 = (int)&local_a8;
    (*_XkbFreeKeyboard_dylibloader_wrapper_xlib)(puVar4,0,1);
  }
  String::substr(param_1,iVar6);
  lVar3 = local_a8;
  if (local_a8 != 0) {
    LOCK();
    plVar1 = (long *)(local_a8 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_a8 = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return CONCAT44(in_register_0000003c,param_1);
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CowData<String>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<String>::_copy_on_write(CowData<String> *this)

{
  CowData *pCVar1;
  long lVar2;
  long lVar3;
  code *pcVar4;
  undefined8 *puVar5;
  long lVar6;
  ulong uVar7;
  CowData<char32_t> *this_00;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar4 = (code *)invalidInstructionException();
    (*pcVar4)();
  }
  lVar2 = *(long *)(*(long *)this + -8);
  uVar7 = 0x10;
  if (lVar2 * 8 != 0) {
    uVar7 = lVar2 * 8 - 1;
    uVar7 = uVar7 | uVar7 >> 1;
    uVar7 = uVar7 | uVar7 >> 2;
    uVar7 = uVar7 | uVar7 >> 4;
    uVar7 = uVar7 | uVar7 >> 8;
    uVar7 = uVar7 | uVar7 >> 0x10;
    uVar7 = (uVar7 | uVar7 >> 0x20) + 0x11;
  }
  puVar5 = (undefined8 *)Memory::alloc_static(uVar7,false);
  if (puVar5 != (undefined8 *)0x0) {
    lVar6 = 0;
    *puVar5 = 1;
    puVar5[1] = lVar2;
    this_00 = (CowData<char32_t> *)(puVar5 + 2);
    if (lVar2 != 0) {
      do {
        lVar3 = *(long *)this;
        *(undefined8 *)this_00 = 0;
        pCVar1 = (CowData *)(lVar3 + lVar6 * 8);
        if (*(long *)pCVar1 != 0) {
          CowData<char32_t>::_ref(this_00,pCVar1);
        }
        lVar6 = lVar6 + 1;
        this_00 = this_00 + 8;
      } while (lVar2 != lVar6);
    }
    _unref(this);
    *(CowData<char32_t> **)this = (CowData<char32_t> *)(puVar5 + 2);
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* Vector<String>::push_back(String) [clone .isra.0] */

void __thiscall Vector<String>::push_back(Vector<String> *this,CowData *param_2)

{
  CowData<char32_t> *this_00;
  int iVar1;
  long lVar2;
  long lVar3;
  
  if (*(long *)(this + 8) == 0) {
    lVar2 = 1;
  }
  else {
    lVar2 = *(long *)(*(long *)(this + 8) + -8) + 1;
  }
  iVar1 = CowData<String>::resize<false>((CowData<String> *)(this + 8),lVar2);
  if (iVar1 == 0) {
    if (*(long *)(this + 8) == 0) {
      lVar3 = -1;
      lVar2 = 0;
    }
    else {
      lVar2 = *(long *)(*(long *)(this + 8) + -8);
      lVar3 = lVar2 + -1;
      if (-1 < lVar3) {
        CowData<String>::_copy_on_write((CowData<String> *)(this + 8));
        this_00 = (CowData<char32_t> *)(*(long *)(this + 8) + lVar3 * 8);
        if (*(long *)this_00 == *(long *)param_2) {
          return;
        }
        CowData<char32_t>::_ref(this_00,param_2);
        return;
      }
    }
    _err_print_index_error
              ("set","./core/templates/cowdata.h",0xcf,lVar3,lVar2,"p_index","size()","",false,false
              );
    return;
  }
  _err_print_error("push_back","./core/templates/vector.h",0x142,
                   "Condition \"err\" is true. Returning: true",0,0);
  return;
}



/* DisplayServerX11::get_rendering_drivers_func() */

DisplayServerX11 * __thiscall DisplayServerX11::get_rendering_drivers_func(DisplayServerX11 *this)

{
  long *plVar1;
  long lVar2;
  long in_FS_OFFSET;
  long local_40;
  char *local_38;
  undefined8 local_30;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)(this + 8) = 0;
  local_40 = 0;
  local_38 = "vulkan";
  local_30 = 6;
  String::parse_latin1((StrRange *)&local_40);
  Vector<String>::push_back((Vector<String> *)this);
  lVar2 = local_40;
  if (local_40 != 0) {
    LOCK();
    plVar1 = (long *)(local_40 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_40 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  local_40 = 0;
  local_38 = "opengl3";
  local_30 = 7;
  String::parse_latin1((StrRange *)&local_40);
  Vector<String>::push_back((Vector<String> *)this);
  lVar2 = local_40;
  if (local_40 != 0) {
    LOCK();
    plVar1 = (long *)(local_40 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_40 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  local_40 = 0;
  local_38 = "opengl3_es";
  local_30 = 10;
  String::parse_latin1((StrRange *)&local_40);
  Vector<String>::push_back((Vector<String> *)this);
  lVar2 = local_40;
  if (local_40 != 0) {
    LOCK();
    plVar1 = (long *)(local_40 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_40 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* Vector<Variant>::push_back(Variant) [clone .isra.0] */

void __thiscall Vector<Variant>::push_back(Vector<Variant> *this,Variant *param_2)

{
  int iVar1;
  long lVar2;
  long lVar3;
  
  if (*(long *)(this + 8) == 0) {
    lVar2 = 1;
  }
  else {
    lVar2 = *(long *)(*(long *)(this + 8) + -8) + 1;
  }
  iVar1 = CowData<Variant>::resize<false>((CowData<Variant> *)(this + 8),lVar2);
  if (iVar1 == 0) {
    if (*(long *)(this + 8) == 0) {
      lVar3 = -1;
      lVar2 = 0;
    }
    else {
      lVar2 = *(long *)(*(long *)(this + 8) + -8);
      lVar3 = lVar2 + -1;
      if (-1 < lVar3) {
        CowData<Variant>::_copy_on_write((CowData<Variant> *)(this + 8));
        Variant::operator=((Variant *)(*(long *)(this + 8) + lVar3 * 0x18),param_2);
        return;
      }
    }
    _err_print_index_error
              ("set","./core/templates/cowdata.h",0xcf,lVar3,lVar2,"p_index","size()","",false,false
              );
    return;
  }
  _err_print_error("push_back","./core/templates/vector.h",0x142,
                   "Condition \"err\" is true. Returning: true",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::cursor_set_custom_image(Ref<Resource> const&, DisplayServer::CursorShape,
   Vector2 const&) */

void DisplayServerX11::cursor_set_custom_image
               (undefined8 param_1_00,undefined8 param_2,long *param_1,Vector2 *param_4,uint param_5
               ,Vector2 *param_6)

{
  Variant *this;
  undefined8 *puVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  code *pcVar10;
  uint uVar11;
  char cVar12;
  int iVar13;
  uint uVar14;
  undefined4 uVar15;
  ulong uVar16;
  undefined4 *puVar17;
  long lVar18;
  uint uVar19;
  ulong uVar20;
  long lVar21;
  uint uVar22;
  ulong uVar23;
  uint uVar24;
  long in_FS_OFFSET;
  uint local_9c;
  Image *local_98;
  CursorShape local_90 [8];
  Vector<Variant> local_88 [8];
  undefined8 local_80;
  int local_78 [8];
  undefined8 local_58;
  undefined8 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_9c = param_5;
  iVar13 = pthread_mutex_lock((pthread_mutex_t *)(param_1 + 0x40));
  uVar11 = local_9c;
  if (iVar13 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar13);
  }
  if (local_9c < 0x11) {
    if (*(Object **)param_4 == (Object *)0x0) {
      lVar18 = (long)(int)local_9c;
      if (param_1[lVar18 + 0xb0] != 0) {
        lVar21 = (*_XcursorImageLoadCursor_dylibloader_wrapper_xcursor)(param_1[0x6c]);
        param_1[lVar18 + 0xc1] = lVar21;
      }
      HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
      ::erase((HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
               *)(param_1 + 0xd4),(CursorShape *)&local_9c);
      lVar18 = param_1[0xd3];
      *(undefined4 *)(param_1 + 0xd3) = 0x11;
      (**(code **)(*param_1 + 0x678))(param_1,(int)lVar18);
    }
    else {
      lVar18 = param_1[0xd5];
      if ((lVar18 != 0) && (*(int *)((long)param_1 + 0x6cc) != 0)) {
        uVar23 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_1 + 0xd9) * 4)
                         );
        uVar16 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(param_1 + 0xd9) * 8);
        uVar14 = (local_9c * -0x7a143595 ^ local_9c * -0x7a143595 >> 0xd) * -0x3d4d51cb;
        uVar24 = uVar14 ^ uVar14 >> 0x10;
        if (uVar14 == uVar14 >> 0x10) {
          uVar24 = 1;
          uVar20 = uVar16;
        }
        else {
          uVar20 = uVar24 * uVar16;
        }
        auVar2._8_8_ = 0;
        auVar2._0_8_ = uVar23;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = uVar20;
        lVar21 = SUB168(auVar2 * auVar6,8);
        uVar14 = *(uint *)(param_1[0xd6] + lVar21 * 4);
        uVar19 = SUB164(auVar2 * auVar6,8);
        if (uVar14 != 0) {
          uVar22 = 0;
          while ((uVar14 != uVar24 || (local_9c != *(uint *)(*(long *)(lVar18 + lVar21 * 8) + 0x10))
                 )) {
            uVar22 = uVar22 + 1;
            auVar3._8_8_ = 0;
            auVar3._0_8_ = (uVar19 + 1) * uVar16;
            auVar7._8_8_ = 0;
            auVar7._0_8_ = uVar23;
            lVar21 = SUB168(auVar3 * auVar7,8);
            uVar14 = *(uint *)(param_1[0xd6] + lVar21 * 4);
            uVar19 = SUB164(auVar3 * auVar7,8);
            if ((uVar14 == 0) ||
               (auVar4._8_8_ = 0, auVar4._0_8_ = uVar14 * uVar16, auVar8._8_8_ = 0,
               auVar8._0_8_ = uVar23, auVar5._8_8_ = 0,
               auVar5._0_8_ = ((*(uint *)(hash_table_size_primes +
                                         (ulong)*(uint *)(param_1 + 0xd9) * 4) + uVar19) -
                              SUB164(auVar4 * auVar8,8)) * uVar16, auVar9._8_8_ = 0,
               auVar9._0_8_ = uVar23, SUB164(auVar5 * auVar9,8) < uVar22)) goto LAB_0010bb14;
          }
          lVar18 = *(long *)(lVar18 + (ulong)uVar19 * 8);
          if (lVar18 != 0) {
            Variant::Variant((Variant *)local_78,*(Object **)param_4);
            this = *(Variant **)(lVar18 + 0x20);
            if (this == (Variant *)0x0) {
              lVar21 = 0;
LAB_0010bed4:
              lVar18 = 0;
LAB_0010bef1:
              _err_print_index_error
                        ("get","./core/templates/cowdata.h",0xdb,lVar18,lVar21,"p_index","size()",""
                         ,false,true);
              _err_flush_stdout();
                    /* WARNING: Does not return */
              pcVar10 = (code *)invalidInstructionException();
              (*pcVar10)();
            }
            lVar21 = *(long *)(this + -8);
            if (lVar21 < 1) goto LAB_0010bed4;
            cVar12 = Variant::operator==(this,(Variant *)local_78);
            if (cVar12 != '\0') {
              Variant::Variant((Variant *)&local_58,param_6);
              lVar18 = *(long *)(lVar18 + 0x20);
              if (lVar18 == 0) {
                lVar21 = 0;
              }
              else {
                lVar21 = *(long *)(lVar18 + -8);
                if (1 < lVar21) {
                  cVar12 = Variant::operator==((Variant *)(lVar18 + 0x18),(Variant *)&local_58);
                  if (Variant::needs_deinit[(int)local_58] != '\0') {
                    Variant::_clear_internal();
                  }
                  if (Variant::needs_deinit[local_78[0]] != '\0') {
                    Variant::_clear_internal();
                  }
                  if (cVar12 == '\0') goto LAB_0010bb05;
                  (**(code **)(*param_1 + 0x678))(param_1,uVar11);
                  goto LAB_0010bd65;
                }
              }
              lVar18 = 1;
              goto LAB_0010bef1;
            }
            if (Variant::needs_deinit[local_78[0]] != '\0') {
              Variant::_clear_internal();
            }
LAB_0010bb05:
            HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
            ::erase((HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
                     *)(param_1 + 0xd4),(CursorShape *)&local_9c);
          }
        }
      }
LAB_0010bb14:
      DisplayServer::_get_cursor_image_from_resource((Ref *)&local_98,param_4);
      if (local_98 == (Image *)0x0) {
        _err_print_error("cursor_set_custom_image","platform/linuxbsd/x11/display_server_x11.cpp",
                         0xced,"Condition \"image.is_null()\" is true.",0,0);
      }
      else {
        uVar16 = Image::get_size();
        uVar14 = (int)(uVar16 >> 0x20) * (int)uVar16;
        puVar17 = (undefined4 *)
                  (*_XcursorImageCreate_dylibloader_wrapper_xcursor)(uVar16 & 0xffffffff);
        *puVar17 = 1;
        puVar17[1] = uVar14 * 4;
        puVar17[4] = (int)(long)*(float *)param_6;
        puVar17[5] = (int)(long)*(float *)(param_6 + 4);
        lVar18 = Memory::alloc_static((ulong)(uVar14 * 4),false);
        *(long *)(puVar17 + 8) = lVar18;
        if (uVar14 != 0) {
          uVar23 = 0;
          do {
            local_58 = Image::get_pixel((int)local_98,
                                        (int)((uVar23 & 0xffffffff) % (uVar16 & 0xffffffff)));
            lVar21 = *(long *)(puVar17 + 8);
            lVar18 = uVar23 * 4;
            uVar23 = uVar23 + 1;
            local_50 = param_2;
            uVar15 = Color::to_argb32();
            *(undefined4 *)(lVar21 + lVar18) = uVar15;
          } while (uVar23 != uVar14);
          lVar18 = *(long *)(puVar17 + 8);
        }
        if (lVar18 == 0) {
          _err_print_error("cursor_set_custom_image","platform/linuxbsd/x11/display_server_x11.cpp",
                           0xd04,"Parameter \"cursor_image->pixels\" is null.",0,0);
        }
        else {
          lVar18 = (*_XcursorImageLoadCursor_dylibloader_wrapper_xcursor)(param_1[0x6c],puVar17);
          param_1[(long)(int)uVar11 + 0xc1] = lVar18;
          local_80 = 0;
          Variant::Variant((Variant *)&local_58,*(Object **)param_4);
          Vector<Variant>::push_back(local_88,(Variant *)&local_58);
          if (Variant::needs_deinit[(int)local_58] != '\0') {
            Variant::_clear_internal();
          }
          Variant::Variant((Variant *)&local_58,param_6);
          Vector<Variant>::push_back(local_88,(Variant *)&local_58);
          if (Variant::needs_deinit[(int)local_58] != '\0') {
            Variant::_clear_internal();
          }
          HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
          ::insert(local_90,(Vector *)(param_1 + 0xd4),SUB81(&local_9c,0));
          if ((uVar11 == *(uint *)(param_1 + 0xd3)) &&
             (((int)param_1[0xaa] == 0 || ((int)param_1[0xaa] == 3)))) {
            for (puVar1 = (undefined8 *)param_1[0x61]; puVar1 != (undefined8 *)0x0;
                puVar1 = (undefined8 *)*puVar1) {
              (*_XDefineCursor_dylibloader_wrapper_xlib)
                        (param_1[0x6c],puVar1[3],param_1[(long)(int)uVar11 + 0xc1]);
            }
          }
          Memory::free_static(*(void **)(puVar17 + 8),false);
          (*_XcursorImageDestroy_dylibloader_wrapper_xcursor)(puVar17);
          CowData<Variant>::_unref((CowData<Variant> *)&local_80);
        }
      }
      if ((local_98 != (Image *)0x0) && (cVar12 = RefCounted::unreference(), cVar12 != '\0')) {
        memdelete<Image>(local_98);
      }
    }
  }
  else {
    _err_print_index_error
              ("cursor_set_custom_image","platform/linuxbsd/x11/display_server_x11.cpp",0xcde,
               (ulong)local_9c,0x11,"p_shape","CURSOR_MAX","",false,false);
  }
LAB_0010bd65:
  pthread_mutex_unlock((pthread_mutex_t *)(param_1 + 0x40));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* Vector<int>::push_back(int) [clone .isra.0] */

void __thiscall Vector<int>::push_back(Vector<int> *this,int param_1)

{
  int iVar1;
  long lVar2;
  long lVar3;
  
  if (*(long *)(this + 8) == 0) {
    lVar2 = 1;
  }
  else {
    lVar2 = *(long *)(*(long *)(this + 8) + -8) + 1;
  }
  iVar1 = CowData<int>::resize<false>((CowData<int> *)(this + 8),lVar2);
  if (iVar1 == 0) {
    if (*(long *)(this + 8) == 0) {
      lVar3 = -1;
      lVar2 = 0;
    }
    else {
      lVar2 = *(long *)(*(long *)(this + 8) + -8);
      lVar3 = lVar2 + -1;
      if (-1 < lVar3) {
        CowData<int>::_copy_on_write((CowData<int> *)(this + 8));
        *(int *)(*(long *)(this + 8) + lVar3 * 4) = param_1;
        return;
      }
    }
    _err_print_index_error
              ("set","./core/templates/cowdata.h",0xcf,lVar3,lVar2,"p_index","size()","",false,false
              );
    return;
  }
  _err_print_error("push_back","./core/templates/vector.h",0x142,
                   "Condition \"err\" is true. Returning: true",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_refresh_device_info() */

undefined8 __thiscall DisplayServerX11::_refresh_device_info(DisplayServerX11 *this)

{
  long *plVar1;
  uint uVar2;
  int iVar3;
  int *piVar4;
  char *pcVar5;
  bool bVar6;
  bool bVar7;
  char cVar8;
  int iVar9;
  int *piVar10;
  undefined8 *puVar11;
  undefined8 *puVar12;
  size_t sVar13;
  undefined8 uVar14;
  long lVar15;
  int iVar16;
  int *piVar17;
  int iVar18;
  long in_FS_OFFSET;
  double dVar19;
  undefined1 auVar20 [16];
  double dVar21;
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  double dVar24;
  double dVar25;
  Variant *local_120;
  undefined1 local_118 [16];
  undefined1 local_108 [16];
  undefined1 local_f8 [108];
  undefined1 local_8c [4];
  undefined1 local_88 [4];
  int local_84;
  int local_80;
  int local_7c;
  undefined8 local_78;
  undefined8 local_70;
  char *local_68;
  size_t local_60;
  int local_58 [6];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  cVar8 = is_print_verbose_enabled();
  if (cVar8 != '\0') {
    Variant::Variant((Variant *)local_58,"XInput: Refreshing devices.");
    stringify_variants((Variant *)&local_68);
    __print_line((String *)&local_68);
    pcVar5 = local_68;
    if (local_68 != (char *)0x0) {
      LOCK();
      plVar1 = (long *)(local_68 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_68 = (char *)0x0;
        Memory::free_static(pcVar5 + -0x10,false);
      }
    }
    if (Variant::needs_deinit[local_58[0]] != '\0') {
      Variant::_clear_internal();
    }
  }
  iVar9 = (*_XQueryExtension_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),"XInputExtension",this + 0x3c8,local_8c,local_88)
  ;
  if (iVar9 == 0) {
    cVar8 = is_print_verbose_enabled();
    if (cVar8 != '\0') {
      Variant::Variant((Variant *)local_58,
                       "XInput extension not available. Please upgrade your distribution.");
      print_line((Variant *)local_58);
      if (Variant::needs_deinit[local_58[0]] != '\0') {
        Variant::_clear_internal();
        uVar14 = 0;
        goto LAB_0010c5c1;
      }
    }
    uVar14 = 0;
  }
  else {
    local_84 = 2;
    local_80 = 2;
    iVar9 = (*_XIQueryVersion_dylibloader_wrapper_xinput2)
                      (*(undefined8 *)(this + 0x360),&local_84,&local_80);
    if (iVar9 == 0) {
      if (((local_84 < 2) || ((local_84 == 2 && (local_80 < 2)))) &&
         (cVar8 = is_print_verbose_enabled(), iVar9 = local_84, cVar8 != '\0')) {
        local_70 = 0;
        local_68 = "XInput %d.%d not available (server supports %d.%d). Touch input unavailable.";
        local_60 = 0x4c;
        String::parse_latin1((StrRange *)&local_70);
        vformat<int,int,int,int>((String *)&local_68,(int)(StrRange *)&local_70,2,2,iVar9);
        Variant::Variant((Variant *)local_58,(String *)&local_68);
        print_line((Variant *)local_58);
        if (Variant::needs_deinit[local_58[0]] != '\0') {
          Variant::_clear_internal();
        }
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_68);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_70);
      }
      if ((*(long *)(this + 1000) != 0) && (*(int *)(this + 0x40c) != 0)) {
        uVar2 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x408) * 4);
        if (uVar2 != 0) {
          lVar15 = 0;
          do {
            if (*(int *)(*(long *)(this + 0x3f0) + lVar15) != 0) {
              *(int *)(*(long *)(this + 0x3f0) + lVar15) = 0;
              Memory::free_static(*(void **)(*(long *)(this + 1000) + lVar15 * 2),false);
              *(undefined8 *)(*(long *)(this + 1000) + lVar15 * 2) = 0;
            }
            lVar15 = lVar15 + 4;
          } while (lVar15 != (ulong)uVar2 << 2);
        }
        *(undefined4 *)(this + 0x40c) = 0;
        *(undefined1 (*) [16])(this + 0x3f8) = (undefined1  [16])0x0;
      }
      CowData<int>::resize<false>((CowData<int> *)(this + 0x3d8),0);
      if ((*(long *)(this + 0x4a8) != 0) && (*(int *)(this + 0x4cc) != 0)) {
        uVar2 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x4c8) * 4);
        if (uVar2 != 0) {
          lVar15 = 0;
          do {
            if (*(int *)(*(long *)(this + 0x4b0) + lVar15) != 0) {
              *(int *)(*(long *)(this + 0x4b0) + lVar15) = 0;
              Memory::free_static(*(void **)(*(long *)(this + 0x4a8) + lVar15 * 2),false);
              *(undefined8 *)(*(long *)(this + 0x4a8) + lVar15 * 2) = 0;
            }
            lVar15 = lVar15 + 4;
          } while (lVar15 != (ulong)uVar2 << 2);
        }
        *(undefined4 *)(this + 0x4cc) = 0;
        *(undefined1 (*) [16])(this + 0x4b8) = (undefined1  [16])0x0;
      }
      *(undefined8 *)(this + 0x548) = 0;
      piVar10 = (int *)(*_XIQueryDevice_dylibloader_wrapper_xinput2)
                                 (*(undefined8 *)(this + 0x360),0,&local_7c);
      if (0 < local_7c) {
        iVar9 = 0;
        piVar17 = piVar10;
        do {
          while ((piVar17[6] == 0 || ((piVar17[4] - 3U & 0xfffffffd) != 0))) {
            iVar9 = iVar9 + 1;
            piVar17 = piVar17 + 10;
            if (local_7c <= iVar9) goto LAB_0010c593;
          }
          if (piVar17[7] < 1) {
            local_f8._0_16_ = (undefined1  [16])0x0;
            local_108 = (undefined1  [16])0x0;
            local_118 = (undefined1  [16])0x0;
          }
          else {
            puVar11 = *(undefined8 **)(piVar17 + 8);
            dVar21 = 0.0;
            iVar16 = 0;
            iVar18 = 0;
            local_f8._0_16_ = (undefined1  [16])0x0;
            auVar23 = ZEXT816(0);
            dVar19 = 0.0;
            puVar12 = puVar11 + piVar17[7];
            local_108 = (undefined1  [16])0x0;
            dVar24 = 0.0;
            bVar7 = false;
            local_118 = (undefined1  [16])0x0;
            bVar6 = false;
            do {
              while( true ) {
                dVar25 = auVar23._0_8_;
                piVar4 = (int *)*puVar11;
                if (*piVar4 != 8) break;
                if (piVar4[2] == 1) {
                  bVar6 = true;
                }
                puVar11 = puVar11 + 1;
                if (puVar11 == puVar12) goto LAB_0010c411;
              }
              if (*piVar4 == 2) {
                iVar3 = piVar4[2];
                if (iVar3 == 0) {
                  if (piVar4[0xd] == 1) {
                    iVar18 = piVar4[0xc];
                    dVar24 = *(double *)(piVar4 + 6);
                    bVar7 = true;
                    dVar19 = *(double *)(piVar4 + 8);
                  }
                }
                else if (iVar3 == 1) {
                  if (piVar4[0xd] == 1) {
                    iVar16 = piVar4[0xc];
                    auVar23._8_8_ = 0;
                    auVar23._0_8_ = *(ulong *)(piVar4 + 6);
                    bVar7 = true;
                    dVar21 = *(double *)(piVar4 + 8);
                  }
                }
                else if (iVar3 == 2) {
                  if (piVar4[0xd] == 1) {
                    local_118 = *(undefined1 (*) [16])(piVar4 + 6);
                  }
                }
                else if (iVar3 == 3) {
                  if (piVar4[0xd] == 1) {
                    local_108 = *(undefined1 (*) [16])(piVar4 + 6);
                  }
                }
                else if ((iVar3 == 4) && (piVar4[0xd] == 1)) {
                  local_f8._0_16_ = *(undefined1 (*) [16])(piVar4 + 6);
                }
              }
              dVar25 = auVar23._0_8_;
              puVar11 = puVar11 + 1;
            } while (puVar11 != puVar12);
LAB_0010c411:
            if (bVar6) {
              Vector<int>::push_back((Vector<int> *)(this + 0x3d0),*piVar17);
              cVar8 = is_print_verbose_enabled();
              if (cVar8 != '\0') {
                pcVar5 = *(char **)(piVar17 + 2);
                sVar13 = 0;
                local_70 = 0;
                if (pcVar5 != (char *)0x0) {
                  sVar13 = strlen(pcVar5);
                }
                local_68 = pcVar5;
                local_60 = sVar13;
                String::parse_latin1((StrRange *)&local_70);
                operator+((char *)&local_68,(String *)"XInput: Using touch device: ");
                Variant::Variant((Variant *)local_58,(String *)&local_68);
                print_line((Variant *)local_58);
                if (Variant::needs_deinit[local_58[0]] != '\0') {
                  Variant::_clear_internal();
                }
                local_120 = (Variant *)&local_68;
                CowData<char32_t>::_unref((CowData<char32_t> *)local_120);
                CowData<char32_t>::_unref((CowData<char32_t> *)&local_70);
              }
            }
            local_120 = (Variant *)&local_68;
            if (bVar7) {
              if (iVar18 < 1) {
                iVar18 = (int)((dVar19 - dVar24) * __LC197);
              }
              if (iVar16 < 1) {
                iVar16 = (int)((dVar21 - dVar25) * __LC197);
              }
              auVar22._8_8_ = _LC199;
              auVar22._0_8_ = _LC199;
              auVar20._0_8_ = (double)iVar18;
              auVar20._8_8_ = (double)iVar16;
              auVar23 = divpd(auVar22,auVar20);
              puVar12 = (undefined8 *)
                        HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                        ::operator[]((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                      *)(this + 0x3e0),piVar17);
              *puVar12 = CONCAT44((float)auVar23._8_8_,(float)auVar23._0_8_);
              cVar8 = is_print_verbose_enabled();
              if (cVar8 != '\0') {
                pcVar5 = *(char **)(piVar17 + 2);
                sVar13 = 0;
                local_78 = 0;
                if (pcVar5 != (char *)0x0) {
                  sVar13 = strlen(pcVar5);
                }
                local_68 = pcVar5;
                local_60 = sVar13;
                String::parse_latin1((StrRange *)&local_78);
                operator+((char *)&local_70,(String *)"XInput: Absolute pointing device: ");
                Variant::Variant((Variant *)local_58,(String *)&local_70);
                stringify_variants(local_120);
                __print_line((String *)local_120);
                pcVar5 = local_68;
                if (local_68 != (char *)0x0) {
                  LOCK();
                  plVar1 = (long *)(local_68 + -0x10);
                  *plVar1 = *plVar1 + -1;
                  UNLOCK();
                  if (*plVar1 == 0) {
                    local_68 = (char *)0x0;
                    Memory::free_static(pcVar5 + -0x10,false);
                  }
                }
                if (Variant::needs_deinit[local_58[0]] != '\0') {
                  Variant::_clear_internal();
                }
                CowData<char32_t>::_unref((CowData<char32_t> *)&local_70);
                CowData<char32_t>::_unref((CowData<char32_t> *)&local_78);
              }
            }
          }
          *(undefined8 *)(this + 0x510) = 0;
          puVar12 = (undefined8 *)
                    HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                    ::operator[]((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                  *)(this + 0x410),piVar17);
          *puVar12 = CONCAT44((float)(double)local_118._8_8_,(float)(double)local_118._0_8_);
          puVar12 = (undefined8 *)
                    HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                    ::operator[]((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                  *)(this + 0x440),piVar17);
          *puVar12 = CONCAT44((float)(double)local_108._8_8_,(float)(double)local_108._0_8_);
          puVar12 = (undefined8 *)
                    HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                    ::operator[]((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                  *)(this + 0x470),piVar17);
          pcVar5 = *(char **)(piVar17 + 2);
          *puVar12 = CONCAT44((float)(double)local_f8._8_8_,(float)(double)local_f8._0_8_);
          sVar13 = 0;
          local_70 = 0;
          if (pcVar5 != (char *)0x0) {
            sVar13 = strlen(pcVar5);
          }
          local_68 = pcVar5;
          local_60 = sVar13;
          String::parse_latin1((StrRange *)&local_70);
          iVar18 = String::findn((char *)&local_70,0x123815);
          uVar14 = HashMap<int,bool,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,bool>>>
                   ::operator[]((HashMap<int,bool,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,bool>>>
                                 *)(this + 0x4a0),piVar17);
          *(bool *)uVar14 = 0 < iVar18;
          iVar9 = iVar9 + 1;
          piVar17 = piVar17 + 10;
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_70);
        } while (iVar9 < local_7c);
      }
LAB_0010c593:
      (*_XIFreeDeviceInfo_dylibloader_wrapper_xinput2)(piVar10);
      if (((*(long *)(this + 0x3d8) == 0) || (*(long *)(*(long *)(this + 0x3d8) + -8) == 0)) &&
         (cVar8 = is_print_verbose_enabled(), cVar8 != '\0')) {
        Variant::Variant((Variant *)local_58,"XInput: No touch devices found.");
        print_line((Variant *)local_58);
        if (Variant::needs_deinit[local_58[0]] != '\0') {
          Variant::_clear_internal();
        }
      }
      uVar14 = 1;
    }
    else {
      cVar8 = is_print_verbose_enabled();
      iVar9 = local_84;
      if (cVar8 != '\0') {
        local_70 = 0;
        String::parse_latin1((String *)&local_70,"XInput 2 not available (server supports %d.%d).");
        vformat<int,int>((String *)&local_68,(int)(String *)&local_70,iVar9);
        Variant::Variant((Variant *)local_58,(String *)&local_68);
        print_line((Variant *)local_58);
        if (Variant::needs_deinit[local_58[0]] != '\0') {
          Variant::_clear_internal();
        }
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_68);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_70);
      }
      *(undefined4 *)(this + 0x3c8) = 0;
      uVar14 = 0;
    }
  }
LAB_0010c5c1:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar14;
}



/* DisplayServerX11::get_window_list() const */

void DisplayServerX11::get_window_list(void)

{
  undefined8 *puVar1;
  int iVar2;
  long in_RSI;
  Vector<int> *in_RDI;
  
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)(in_RSI + 0x200));
  if (iVar2 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar2);
  }
  puVar1 = *(undefined8 **)(in_RSI + 0x308);
  *(undefined8 *)(in_RDI + 8) = 0;
  for (; puVar1 != (undefined8 *)0x0; puVar1 = (undefined8 *)*puVar1) {
    Vector<int>::push_back(in_RDI,*(int *)(puVar1 + 2));
  }
  pthread_mutex_unlock((pthread_mutex_t *)(in_RSI + 0x200));
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::clipboard_get_image() const */

Ref<Image> * DisplayServerX11::clipboard_get_image(void)

{
  undefined1 auVar1 [16];
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  code *pcVar9;
  void *pvVar10;
  char cVar11;
  int iVar12;
  ulong uVar13;
  long lVar14;
  ulong uVar15;
  void *pvVar16;
  uint uVar17;
  uint uVar18;
  long lVar19;
  size_t __n;
  uint uVar20;
  DisplayServerX11 *in_RSI;
  Ref<Image> *in_RDI;
  ulong uVar21;
  long in_FS_OFFSET;
  uint local_264;
  int local_244;
  ulong local_240;
  undefined8 local_238;
  long local_230;
  int local_228;
  undefined4 uStack_224;
  long local_220;
  uint *local_218;
  long local_210;
  pthread_mutex_t *local_208;
  undefined1 local_200;
  undefined8 local_1f8;
  void *local_1f0;
  int local_1e8 [8];
  undefined1 local_1c8 [192];
  int local_108 [50];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar12 = pthread_mutex_lock((pthread_mutex_t *)(in_RSI + 0x200));
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  uVar13 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(in_RSI + 0x360),"CLIPBOARD",0);
  lVar14 = *(long *)(in_RSI + 0x2f8);
  if ((lVar14 != 0) && (*(int *)(in_RSI + 0x31c) != 0)) {
    uVar21 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 0x318) * 4));
    uVar15 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 0x318) * 8);
    auVar1._8_8_ = 0;
    auVar1._0_8_ = uVar21;
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar15;
    lVar19 = SUB168(auVar1 * auVar5,8);
    uVar17 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar19 * 4);
    uVar18 = SUB164(auVar1 * auVar5,8);
    if (uVar17 != 0) {
      uVar20 = 0;
      do {
        if ((uVar17 == 1) && (*(int *)(*(long *)(lVar14 + lVar19 * 8) + 0x10) == 0)) {
          local_240 = *(ulong *)(*(long *)(lVar14 + (ulong)uVar18 * 8) + 0x18);
          *(undefined8 *)in_RDI = 0;
          lVar14 = _clipboard_get_image_target(in_RSI,uVar13,local_240);
          if ((lVar14 == 0) ||
             ((uVar15 = (*_XGetSelectionOwner_dylibloader_wrapper_xlib)
                                  (*(undefined8 *)(in_RSI + 0x360),uVar13), uVar15 == 0 ||
              (local_240 == uVar15)))) goto LAB_0010ce76;
          local_200 = 0;
          local_208 = (pthread_mutex_t *)(in_RSI + 0x700);
          std::unique_lock<std::recursive_mutex>::lock
                    ((unique_lock<std::recursive_mutex> *)&local_208);
          local_200 = 1;
          local_238 = 1;
          (*_XConvertSelection_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(in_RSI + 0x360),uVar13,lVar14,1,local_240,0);
          (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(in_RSI + 0x360));
          (*_XIfEvent_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(in_RSI + 0x360),local_1c8,_predicate_clipboard_selection,
                     &local_240);
          (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(in_RSI + 0x360),local_240,local_238,0,1,0,0,&local_230,
                     &local_244,&local_228,&local_220,&local_218);
          lVar14 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(in_RSI + 0x360),&_LC172,0);
          if (lVar14 != local_230) {
            if (local_220 != 0) {
              if (local_218 != (uint *)0x0) {
                (*_XFree_dylibloader_wrapper_xlib)();
                local_218 = (uint *)0x0;
              }
              iVar12 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                                 (*(undefined8 *)(in_RSI + 0x360),local_240,local_238,0,
                                  local_220 + 4,0,0,&local_230,&local_244,&local_228,&local_210,
                                  &local_218);
              if (iVar12 == 0) {
                Ref<Image>::instantiate<>(in_RDI);
                local_1f8 = (Image *)0x0;
                if ((*(Image **)in_RDI != (Image *)0x0) &&
                   (local_1f8 = *(Image **)in_RDI, cVar11 = RefCounted::reference(), cVar11 == '\0')
                   ) {
                  local_1f8 = (Image *)0x0;
                }
                PNGDriverCommon::png_to_image(local_218,local_220,0,&local_1f8);
                if ((local_1f8 != (Image *)0x0) &&
                   (cVar11 = RefCounted::unreference(), cVar11 != '\0')) {
                  memdelete<Image>(local_1f8);
                }
              }
              else {
                cVar11 = is_print_verbose_enabled();
                if (cVar11 != '\0') {
                  Variant::Variant((Variant *)local_108,"Failed to get selection data.");
                  print_line((Variant *)local_108);
                  if (Variant::needs_deinit[local_108[0]] != '\0') {
                    Variant::_clear_internal();
                  }
                }
              }
              if (local_218 != (uint *)0x0) {
                (*_XFree_dylibloader_wrapper_xlib)();
              }
            }
            goto LAB_0010d0a8;
          }
          if (CONCAT44(uStack_224,local_228) == 1) {
            local_1f8 = (Image *)0x0;
            local_1f0 = (void *)0x0;
            LocalVector<unsigned_char,unsigned_int,false,false>::resize
                      ((LocalVector<unsigned_char,unsigned_int,false,false> *)&local_1f8,*local_218)
            ;
            (*_XFree_dylibloader_wrapper_xlib)(local_218);
            local_218 = (uint *)0x0;
            (*_XDeleteProperty_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(in_RSI + 0x360),local_240,local_238);
            local_264 = 0;
            while (cVar11 = _wait_for_events(in_RSI), cVar11 != '\0') {
              while (iVar12 = (*_XCheckIfEvent_dylibloader_wrapper_xlib)
                                        (*(undefined8 *)(in_RSI + 0x360),local_108,
                                         _predicate_clipboard_incr,&local_238), iVar12 != 0) {
                iVar12 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                                   (*(undefined8 *)(in_RSI + 0x360),local_240,local_238,0,
                                    0x7fffffffffffffff,1,0,&local_230,&local_244,&local_228,
                                    &local_220,&local_218);
                if (iVar12 != 0) {
                  cVar11 = is_print_verbose_enabled();
                  if (cVar11 == '\0') {
                    cVar11 = '\0';
                    if (local_218 == (uint *)0x0) {
                      cVar11 = '\0';
                      goto LAB_0010d250;
                    }
                  }
                  else {
                    Variant::Variant((Variant *)local_1e8,"Failed to get selection data chunk.");
                    stringify_variants((Variant *)&local_210);
                    __print_line((String *)&local_210);
                    CowData<char32_t>::_unref((CowData<char32_t> *)&local_210);
                    if (Variant::needs_deinit[local_1e8[0]] != '\0') {
                      Variant::_clear_internal();
                    }
                    cVar11 = '\0';
                    if (local_218 == (uint *)0x0) {
                      cVar11 = '\0';
                      goto LAB_0010d250;
                    }
                  }
LAB_0010d22f:
                  (*_XFree_dylibloader_wrapper_xlib)();
                  local_218 = (uint *)0x0;
                  goto LAB_0010d250;
                }
                if (local_218 == (uint *)0x0) {
                  if ((local_244 != 0) || (CONCAT44(uStack_224,local_228) != 0)) goto LAB_0010d250;
                }
                else {
                  __n = CONCAT44(uStack_224,local_228);
                  if (__n == 0) {
                    if (local_244 != 0) goto LAB_0010d22f;
                    goto LAB_0010d3f2;
                  }
                  uVar13 = __n + local_264;
                  if (uVar13 < ((ulong)local_1f8 & 0xffffffff)) {
                    uVar13 = (ulong)local_1f8 & 0xffffffff;
                  }
                  uVar17 = (uint)uVar13;
                  if (uVar17 < (uint)local_1f8) {
LAB_0010d3c7:
                    local_1f8 = (Image *)CONCAT44(local_1f8._4_4_,uVar17);
                  }
                  else if ((uint)local_1f8 < uVar17) {
                    if (local_1f8._4_4_ < uVar17) {
                      uVar18 = uVar17 - 1 >> 1 | uVar17 - 1;
                      uVar18 = uVar18 | uVar18 >> 2;
                      uVar18 = uVar18 | uVar18 >> 4;
                      uVar18 = uVar18 >> 8 | uVar18;
                      uVar18 = (uVar18 >> 0x10 | uVar18) + 1;
                      local_1f8 = (Image *)CONCAT44(uVar18,(uint)local_1f8);
                      pvVar16 = (void *)Memory::realloc_static(local_1f0,(ulong)uVar18,false);
                      if (pvVar16 == (void *)0x0) {
                        pvVar10 = local_1f0;
                        local_1f0 = pvVar16;
                        _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                                         "FATAL: Condition \"!data\" is true.","Out of memory",0,0,
                                         pvVar10);
                        _err_flush_stdout();
                    /* WARNING: Does not return */
                        pcVar9 = (code *)invalidInstructionException();
                        (*pcVar9)();
                      }
                      __n = CONCAT44(uStack_224,local_228);
                      local_1f0 = pvVar16;
                    }
                    goto LAB_0010d3c7;
                  }
                  memcpy((void *)((long)local_1f0 + (ulong)local_264),local_218,__n);
                  local_264 = local_264 + local_228;
                  if (local_218 != (uint *)0x0) {
LAB_0010d3f2:
                    (*_XFree_dylibloader_wrapper_xlib)();
                    local_218 = (uint *)0x0;
                  }
                }
              }
            }
LAB_0010d250:
            pvVar16 = local_1f0;
            if ((local_264 != 0) && (cVar11 != '\0')) {
              Ref<Image>::instantiate<>(in_RDI);
              local_210 = 0;
              if ((*(long *)in_RDI != 0) &&
                 (local_210 = *(long *)in_RDI, cVar11 = RefCounted::reference(), cVar11 == '\0')) {
                local_210 = 0;
              }
              PNGDriverCommon::png_to_image
                        (pvVar16,(ulong)local_1f8 & 0xffffffff,0,(Ref<Image> *)&local_210);
              Ref<Image>::unref((Ref<Image> *)&local_210);
            }
            if ((pvVar16 != (void *)0x0) &&
               (LocalVector<unsigned_char,unsigned_int,false,false>::resize
                          ((LocalVector<unsigned_char,unsigned_int,false,false> *)&local_1f8,0),
               local_1f0 != (void *)0x0)) {
              Memory::free_static(local_1f0,false);
            }
LAB_0010d0a8:
            if (local_208 != (pthread_mutex_t *)0x0) {
LAB_0010d0b9:
              pthread_mutex_unlock(local_208);
            }
LAB_0010ce76:
            pthread_mutex_unlock((pthread_mutex_t *)(in_RSI + 0x200));
            if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            return in_RDI;
          }
          _err_print_error("clipboard_get_image","platform/linuxbsd/x11/display_server_x11.cpp",
                           0x3ab,"Condition \"len != 1\" is true. Returning: ret",
                           "Incremental transfer initial value was not length.",0,0);
          if (local_208 == (pthread_mutex_t *)0x0) goto LAB_0010ce76;
          goto LAB_0010d0b9;
        }
        uVar20 = uVar20 + 1;
        auVar2._8_8_ = 0;
        auVar2._0_8_ = (uVar18 + 1) * uVar15;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = uVar21;
        lVar19 = SUB168(auVar2 * auVar6,8);
        uVar17 = *(uint *)(*(long *)(in_RSI + 0x300) + lVar19 * 4);
        uVar18 = SUB164(auVar2 * auVar6,8);
      } while ((uVar17 != 0) &&
              (auVar3._8_8_ = 0, auVar3._0_8_ = uVar17 * uVar15, auVar7._8_8_ = 0,
              auVar7._0_8_ = uVar21, auVar4._8_8_ = 0,
              auVar4._0_8_ = ((*(uint *)(hash_table_size_primes +
                                        (ulong)*(uint *)(in_RSI + 0x318) * 4) + uVar18) -
                             SUB164(auVar3 * auVar7,8)) * uVar15, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar21, uVar20 <= SUB164(auVar4 * auVar8,8)));
    }
  }
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar9 = (code *)invalidInstructionException();
  (*pcVar9)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::screen_get_image(int) const */

undefined8 * DisplayServerX11::screen_get_image(int param_1)

{
  long lVar1;
  undefined1 uVar2;
  ulong uVar3;
  size_t __n;
  code *pcVar4;
  Image *pIVar5;
  char cVar6;
  int iVar7;
  undefined8 uVar8;
  long lVar9;
  undefined8 uVar10;
  int *piVar11;
  undefined8 *puVar12;
  undefined1 *puVar13;
  int in_EDX;
  int iVar14;
  undefined1 *puVar15;
  undefined1 *puVar16;
  long *in_RSI;
  undefined4 in_register_0000003c;
  undefined8 *puVar17;
  ulong uVar18;
  int iVar19;
  int iVar20;
  long in_FS_OFFSET;
  undefined1 local_e8 [4];
  undefined1 local_e4 [4];
  int local_e0 [2];
  undefined8 local_d8;
  undefined8 *local_d0;
  undefined8 local_c8;
  undefined8 local_c0;
  long local_40;
  
  puVar17 = (undefined8 *)CONCAT44(in_register_0000003c,param_1);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar9 = *in_RSI;
  if (-1 < in_EDX) {
    iVar7 = (**(code **)(lVar9 + 0x3f8))();
    if (in_EDX < iVar7) {
      if (*(char *)((long)in_RSI + 0x6f3) == '\0') {
        uVar8 = (*_XSetErrorHandler_dylibloader_wrapper_xlib)(get_image_errorhandler);
        if (((*(char *)((long)in_RSI + 0x6f1) != '\0') &&
            (iVar7 = (*_XineramaQueryExtension_dylibloader_wrapper_xinerama)
                               (in_RSI[0x6c],local_e8,local_e4), iVar7 != 0)) &&
           (lVar9 = (*_XineramaQueryScreens_dylibloader_wrapper_xinerama)(in_RSI[0x6c],local_e0),
           lVar9 != 0)) {
          if (local_e0[0] < 1) {
            (*_XFree_dylibloader_wrapper_xlib)(lVar9);
          }
          else if (in_EDX < local_e0[0]) {
            iVar7 = (*_XScreenCount_dylibloader_wrapper_xlib)(in_RSI[0x6c]);
            if (0 < iVar7) {
              iVar20 = 0;
              lVar1 = lVar9 + (long)in_EDX * 0xc;
              do {
                uVar10 = (*_XRootWindow_dylibloader_wrapper_xlib)(in_RSI[0x6c],iVar20);
                (*_XGetWindowAttributes_dylibloader_wrapper_xlib)(in_RSI[0x6c],uVar10,&local_c8);
                iVar14 = (int)*(short *)(lVar1 + 4);
                if (((int)local_c8 <= iVar14) && (iVar14 <= (int)local_c8 + (int)local_c0)) {
                  iVar14 = (int)*(short *)(lVar1 + 6);
                  if ((local_c8._4_4_ <= iVar14) && (iVar14 <= local_c8._4_4_ + local_c0._4_4_)) {
                    piVar11 = (int *)(*_XGetImage_dylibloader_wrapper_xlib)(in_RSI[0x6c]);
                    (*_XFree_dylibloader_wrapper_xlib)(lVar9);
                    goto LAB_0010d7dd;
                  }
                }
                iVar20 = iVar20 + 1;
              } while (iVar7 != iVar20);
            }
            (*_XFree_dylibloader_wrapper_xlib)(lVar9);
          }
          else {
            local_d8 = 0;
            String::parse_latin1((String *)&local_d8,"Invalid screen index: %d (count: %d).");
            vformat<int,int>((String *)&local_c8,(int)(String *)&local_d8,in_EDX);
            _err_print_error("screen_get_image","platform/linuxbsd/x11/display_server_x11.cpp",0x68e
                             ,(String *)&local_c8,0,0);
            CowData<char32_t>::_unref((CowData<char32_t> *)&local_c8);
            CowData<char32_t>::_unref((CowData<char32_t> *)&local_d8);
            (*_XFree_dylibloader_wrapper_xlib)(lVar9);
          }
        }
        iVar7 = (*_XScreenCount_dylibloader_wrapper_xlib)(in_RSI[0x6c]);
        if (iVar7 <= in_EDX) {
          local_d8 = 0;
          String::parse_latin1((String *)&local_d8,"Invalid screen index: %d (count: %d).");
          vformat<int,int>((String *)&local_c8,(int)(String *)&local_d8,in_EDX);
          _err_print_error("screen_get_image","platform/linuxbsd/x11/display_server_x11.cpp",0x69e,
                           (String *)&local_c8,0,0);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_c8);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_d8);
          (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar8);
          *puVar17 = 0;
          goto LAB_0010d5ff;
        }
        uVar10 = (*_XRootWindow_dylibloader_wrapper_xlib)(in_RSI[0x6c],in_EDX);
        (*_XGetWindowAttributes_dylibloader_wrapper_xlib)(in_RSI[0x6c],uVar10,(String *)&local_c8);
        piVar11 = (int *)(*_XGetImage_dylibloader_wrapper_xlib)
                                   (in_RSI[0x6c],uVar10,(ulong)local_c8 & 0xffffffff,local_c8._4_4_,
                                    local_c0 & 0xffffffff,local_c0._4_4_,0xffffffffffffffff,2);
LAB_0010d7dd:
        (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar8);
        if (piVar11 != (int *)0x0) {
          iVar7 = *piVar11;
          iVar20 = piVar11[1];
          local_d0 = (undefined8 *)0x0;
          lVar9 = (long)(iVar7 * iVar20 * 4);
          if (lVar9 < 0) {
            _err_print_error("resize","./core/templates/cowdata.h",0x157,
                             "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,
                             0);
LAB_0010dd0d:
            lVar9 = *(long *)(piVar11 + 4);
            if (local_d0 != (undefined8 *)0x0) {
LAB_0010d87e:
              if (1 < (ulong)local_d0[-2]) {
                if (local_d0 == (undefined8 *)0x0) {
                    /* WARNING: Does not return */
                  pcVar4 = (code *)invalidInstructionException();
                  (*pcVar4)();
                }
                __n = local_d0[-1];
                uVar18 = 0x10;
                if (__n != 0) {
                  uVar18 = __n - 1 | __n - 1 >> 1;
                  uVar18 = uVar18 | uVar18 >> 2;
                  uVar18 = uVar18 | uVar18 >> 4;
                  uVar18 = uVar18 | uVar18 >> 8;
                  uVar18 = uVar18 | uVar18 >> 0x10;
                  uVar18 = (uVar18 | uVar18 >> 0x20) + 0x11;
                }
                puVar12 = (undefined8 *)Memory::alloc_static(uVar18,false);
                if (puVar12 == (undefined8 *)0x0) {
                  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                                   "Parameter \"mem_new\" is null.",0,0);
                }
                else {
                  *puVar12 = 1;
                  puVar12[1] = __n;
                  memcpy(puVar12 + 2,local_d0,__n);
                  CowData<unsigned_char>::_unref((CowData<unsigned_char> *)&local_d0);
                  local_d0 = puVar12 + 2;
                }
              }
            }
          }
          else {
            if (lVar9 != 0) {
              uVar18 = lVar9 - 1U | lVar9 - 1U >> 1;
              uVar18 = uVar18 | uVar18 >> 2;
              uVar18 = uVar18 | uVar18 >> 4;
              uVar18 = uVar18 | uVar18 >> 8;
              puVar12 = (undefined8 *)Memory::alloc_static((uVar18 | uVar18 >> 0x10) + 0x11,false);
              if (puVar12 == (undefined8 *)0x0) {
                _err_print_error("resize","./core/templates/cowdata.h",0x171,
                                 "Parameter \"mem_new\" is null.",0,0);
                goto LAB_0010dd0d;
              }
              local_d0 = puVar12 + 2;
              *puVar12 = 1;
              puVar12[1] = lVar9;
              lVar9 = *(long *)(piVar11 + 4);
              goto LAB_0010d87e;
            }
            lVar9 = *(long *)(piVar11 + 4);
          }
          uVar18 = *(ulong *)(piVar11 + 0xe);
          uVar3 = *(ulong *)(piVar11 + 0x10);
          lVar1 = *(long *)(piVar11 + 0x12);
          if (piVar11[0xc] == 0x18) {
            if (uVar18 == 0xff0000) {
              if ((uVar3 == 0xff00) && (lVar1 == 0xff)) {
                if (0 < iVar20) {
                  iVar14 = 0;
                  iVar19 = 0;
LAB_0010dc70:
                  if (iVar7 < 1) goto LAB_0010de78;
                  do {
                    puVar13 = (undefined1 *)((long)(iVar14 * 4) + (long)local_d0);
                    puVar15 = (undefined1 *)(iVar14 * 3 + lVar9);
                    do {
                      puVar16 = puVar15 + 3;
                      *puVar13 = puVar15[2];
                      puVar13[1] = puVar15[1];
                      uVar2 = *puVar15;
                      puVar13[3] = 0xff;
                      puVar13[2] = uVar2;
                      puVar13 = puVar13 + 4;
                      puVar15 = puVar16;
                    } while ((undefined1 *)(((long)iVar14 + (long)iVar7) * 3 + lVar9) != puVar16);
                    iVar19 = iVar19 + 1;
                    iVar14 = iVar14 + iVar7;
                  } while (iVar20 != iVar19);
                }
                goto LAB_0010dafd;
              }
            }
            else if (((uVar18 == 0xff) && (uVar3 == 0xff00)) && (lVar1 == 0xff0000)) {
              if (0 < iVar20) {
                iVar14 = 0;
                iVar19 = 0;
LAB_0010da8e:
                if (iVar7 < 1) goto LAB_0010de8d;
                do {
                  puVar13 = (undefined1 *)((long)(iVar14 * 4) + (long)local_d0);
                  puVar15 = (undefined1 *)(iVar14 * 3 + lVar9);
                  do {
                    puVar16 = puVar15 + 3;
                    *puVar13 = puVar15[2];
                    puVar13[1] = puVar15[1];
                    uVar2 = *puVar15;
                    puVar13[3] = 0xff;
                    puVar13[2] = uVar2;
                    puVar13 = puVar13 + 4;
                    puVar15 = puVar16;
                  } while ((undefined1 *)(((long)iVar14 + (long)iVar7) * 3 + lVar9) != puVar16);
                  iVar19 = iVar19 + 1;
                  iVar14 = iVar14 + iVar7;
                } while (iVar20 != iVar19);
              }
LAB_0010dafd:
              Image::create_from_data((String *)&local_c8,iVar7,iVar20,0,5,&local_d8);
              pIVar5 = (Image *)local_c8;
              if (((Image *)local_c8 != (Image *)0x0) &&
                 (cVar6 = RefCounted::reference(), cVar6 != '\0')) {
                Ref<Image>::unref((Ref<Image> *)&local_c8);
                (**(code **)(piVar11 + 0x18))(piVar11);
                CowData<unsigned_char>::_unref((CowData<unsigned_char> *)&local_d0);
                *puVar17 = pIVar5;
                cVar6 = RefCounted::reference();
                if (cVar6 == '\0') {
                  *puVar17 = 0;
                }
                cVar6 = RefCounted::unreference();
                if (cVar6 != '\0') {
                  memdelete<Image>(pIVar5);
                }
                goto LAB_0010d5ff;
              }
              Ref<Image>::unref((Ref<Image> *)&local_c8);
              (**(code **)(piVar11 + 0x18))(piVar11);
              CowData<unsigned_char>::_unref((CowData<unsigned_char> *)&local_d0);
              goto LAB_0010d5f7;
            }
          }
          else if (((piVar11[0xc] == 0x20) && (uVar18 == 0xff0000)) &&
                  ((uVar3 == 0xff00 && (lVar1 == 0xff)))) {
            if (0 < iVar20) {
              iVar14 = 0;
              iVar19 = 0;
LAB_0010dbd8:
              if (iVar7 < 1) goto LAB_0010de63;
              do {
                puVar13 = (undefined1 *)((long)(iVar14 * 4) + (long)local_d0);
                puVar15 = (undefined1 *)(lVar9 + iVar14 * 4);
                do {
                  puVar16 = puVar15 + 4;
                  *puVar13 = puVar15[2];
                  puVar13[1] = puVar15[1];
                  uVar2 = *puVar15;
                  puVar13[3] = 0xff;
                  puVar13[2] = uVar2;
                  puVar13 = puVar13 + 4;
                  puVar15 = puVar16;
                } while ((undefined1 *)(lVar9 + ((long)iVar14 + (long)iVar7) * 4) != puVar16);
                iVar19 = iVar19 + 1;
                iVar14 = iVar14 + iVar7;
              } while (iVar20 != iVar19);
            }
            goto LAB_0010dafd;
          }
          local_c8 = "XImage with RGB mask %x %x %x and depth %d is not supported.";
          local_e0[0] = 0;
          local_e0[1] = 0;
          local_c0 = 0x3c;
          String::parse_latin1((StrRange *)local_e0);
          vformat<unsigned_long,unsigned_long,unsigned_long,long>
                    ((String *)&local_c8,(ulong)local_e0,uVar18,uVar3,lVar1);
          CowData<char32_t>::_unref((CowData<char32_t> *)local_e0);
          (**(code **)(piVar11 + 0x18))(piVar11);
          _err_print_error("screen_get_image","platform/linuxbsd/x11/display_server_x11.cpp",0x6cd,
                           "Method/function failed. Returning: Ref<Image>()",(String *)&local_c8,0,0
                          );
          *puVar17 = 0;
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_c8);
          CowData<unsigned_char>::_unref((CowData<unsigned_char> *)&local_d0);
          goto LAB_0010d5ff;
        }
      }
LAB_0010d5f7:
      *puVar17 = 0;
      goto LAB_0010d5ff;
    }
    lVar9 = *in_RSI;
  }
  iVar7 = (**(code **)(lVar9 + 0x3f8))();
  _err_print_index_error
            ("screen_get_image","platform/linuxbsd/x11/display_server_x11.cpp",0x663,(long)in_EDX,
             (long)iVar7,"p_screen","get_screen_count()","",false,false);
  *puVar17 = 0;
LAB_0010d5ff:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return puVar17;
LAB_0010de78:
  iVar19 = iVar19 + 1;
  iVar14 = iVar14 + iVar7;
  if (iVar20 == iVar19) goto LAB_0010dafd;
  goto LAB_0010dc70;
LAB_0010de8d:
  iVar19 = iVar19 + 1;
  iVar14 = iVar14 + iVar7;
  if (iVar20 == iVar19) goto LAB_0010dafd;
  goto LAB_0010da8e;
LAB_0010de63:
  iVar19 = iVar19 + 1;
  iVar14 = iVar14 + iVar7;
  if (iVar20 == iVar19) goto LAB_0010dafd;
  goto LAB_0010dbd8;
}



/* CowData<Callable>::_copy_on_write() [clone .isra.0] */

void __thiscall CowData<Callable>::_copy_on_write(CowData<Callable> *this)

{
  long lVar1;
  code *pcVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  Callable *this_00;
  
  if ((*(long *)this == 0) || (*(ulong *)(*(long *)this + -0x10) < 2)) {
    return;
  }
  if (*(long *)this == 0) {
                    /* WARNING: Does not return */
    pcVar2 = (code *)invalidInstructionException();
    (*pcVar2)();
  }
  lVar1 = *(long *)(*(long *)this + -8);
  uVar6 = 0x10;
  if (lVar1 * 0x10 != 0) {
    uVar6 = lVar1 * 0x10 - 1;
    uVar6 = uVar6 | uVar6 >> 1;
    uVar6 = uVar6 | uVar6 >> 2;
    uVar6 = uVar6 | uVar6 >> 4;
    uVar6 = uVar6 | uVar6 >> 8;
    uVar6 = uVar6 | uVar6 >> 0x10;
    uVar6 = (uVar6 | uVar6 >> 0x20) + 0x11;
  }
  puVar3 = (undefined8 *)Memory::alloc_static(uVar6,false);
  if (puVar3 != (undefined8 *)0x0) {
    *puVar3 = 1;
    puVar3[1] = lVar1;
    lVar4 = 0;
    this_00 = (Callable *)(puVar3 + 2);
    if (lVar1 != 0) {
      do {
        lVar5 = lVar4 + 1;
        Callable::Callable(this_00,(Callable *)(lVar4 * 0x10 + *(long *)this));
        lVar4 = lVar5;
        this_00 = this_00 + 0x10;
      } while (lVar1 != lVar5);
    }
    _unref(this);
    *(Callable **)this = (Callable *)(puVar3 + 2);
    return;
  }
  _err_print_error("_copy_on_write","./core/templates/cowdata.h",0x13a,
                   "Parameter \"mem_new\" is null.",0,0);
  return;
}



/* DisplayServerX11::file_dialog_show(String const&, String const&, String const&, bool,
   DisplayServer::FileDialogMode, Vector<String> const&, Callable const&) */

undefined4 __thiscall
DisplayServerX11::file_dialog_show
          (DisplayServerX11 *this,undefined8 param_1,undefined8 param_2,undefined8 param_3,
          undefined8 param_5,undefined4 param_6,undefined8 param_7,undefined8 param_8)

{
  long *plVar1;
  ulong uVar2;
  undefined8 uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  char *pcVar12;
  uint uVar13;
  undefined4 uVar14;
  int iVar15;
  ulong uVar16;
  long lVar17;
  uint uVar18;
  ulong uVar19;
  uint uVar20;
  long in_FS_OFFSET;
  uint local_7c;
  long local_78;
  long local_70;
  char *local_68;
  undefined8 local_60;
  undefined8 local_58;
  undefined1 local_50 [16];
  long local_40;
  
  local_7c = *(uint *)(this + 0x33c);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar2 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar13 = (local_7c >> 0x10 ^ local_7c) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar18 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar18 = 1;
      uVar16 = uVar2;
    }
    else {
      uVar16 = uVar18 * uVar2;
    }
    uVar19 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar19;
    auVar8._8_8_ = 0;
    auVar8._0_8_ = uVar16;
    lVar17 = SUB168(auVar4 * auVar8,8);
    uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
    iVar15 = SUB164(auVar4 * auVar8,8);
    if (uVar13 != 0) {
      uVar20 = 0;
      do {
        if ((uVar13 == uVar18) &&
           (local_7c == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar17 * 8) + 0x10)))
        goto LAB_0010e1c8;
        uVar20 = uVar20 + 1;
        auVar5._8_8_ = 0;
        auVar5._0_8_ = (iVar15 + 1) * uVar2;
        auVar9._8_8_ = 0;
        auVar9._0_8_ = uVar19;
        lVar17 = SUB168(auVar5 * auVar9,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
        iVar15 = SUB164(auVar5 * auVar9,8);
      } while ((uVar13 != 0) &&
              (auVar6._8_8_ = 0, auVar6._0_8_ = uVar13 * uVar2, auVar10._8_8_ = 0,
              auVar10._0_8_ = uVar19, auVar7._8_8_ = 0,
              auVar7._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar15) - SUB164(auVar6 * auVar10,8)) * uVar2,
              auVar11._8_8_ = 0, auVar11._0_8_ = uVar19, uVar20 <= SUB164(auVar7 * auVar11,8)));
    }
  }
  local_7c = 0;
LAB_0010e1c8:
  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
  ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                *)(this + 0x2f0),(int *)&local_7c);
  local_70 = 0;
  local_68 = "x11:%x";
  local_60 = 6;
  String::parse_latin1((StrRange *)&local_70);
  vformat<unsigned_long>((String *)&local_78,(ulong)&local_70);
  lVar17 = local_70;
  if (local_70 != 0) {
    LOCK();
    plVar1 = (long *)(local_70 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_70 = 0;
      Memory::free_static((void *)(lVar17 + -0x10),false);
    }
  }
  uVar3 = *(undefined8 *)(this + 0x2c0);
  Array::Array((Array *)&local_70);
  local_58 = 0;
  local_68 = (char *)0x0;
  local_50 = (undefined1  [16])0x0;
  Array::set_typed((uint)(StrRange *)&local_70,(StringName *)0x1b,(Variant *)&local_68);
  if ((StringName::configured != '\0') && (local_68 != (char *)0x0)) {
    StringName::unref();
  }
  if (Variant::needs_deinit[(int)local_58] != '\0') {
    Variant::_clear_internal();
  }
  local_68 = (char *)0x0;
  uVar14 = FreeDesktopPortalDesktop::file_dialog_show
                     (uVar3,*(undefined4 *)(this + 0x33c),(String *)&local_78,param_1,param_2,
                      &local_68,param_3,param_6,param_7,(StrRange *)&local_70,param_8,0);
  pcVar12 = local_68;
  if (local_68 != (char *)0x0) {
    LOCK();
    plVar1 = (long *)(local_68 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_68 = (char *)0x0;
      Memory::free_static(pcVar12 + -0x10,false);
    }
  }
  Array::~Array((Array *)&local_70);
  lVar17 = local_78;
  if (local_78 != 0) {
    LOCK();
    plVar1 = (long *)(local_78 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_78 = 0;
      Memory::free_static((void *)(lVar17 + -0x10),false);
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar14;
}



/* DisplayServerX11::file_dialog_with_options_show(String const&, String const&, String const&,
   String const&, bool, DisplayServer::FileDialogMode, Vector<String> const&, TypedArray<Dictionary>
   const&, Callable const&) */

undefined4 __thiscall
DisplayServerX11::file_dialog_with_options_show
          (DisplayServerX11 *this,undefined8 param_1,undefined8 param_2,undefined8 param_3,
          undefined8 param_4,undefined8 param_6,undefined4 param_7,undefined8 param_8,
          undefined8 param_9,undefined8 param_10)

{
  long *plVar1;
  ulong uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  char *pcVar11;
  uint uVar12;
  undefined4 uVar13;
  int iVar14;
  ulong uVar15;
  long lVar16;
  uint uVar17;
  ulong uVar18;
  uint uVar19;
  long in_FS_OFFSET;
  uint local_64;
  long local_60;
  char *local_58;
  undefined8 local_50;
  long local_40;
  
  local_64 = *(uint *)(this + 0x33c);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar2 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar12 = (local_64 >> 0x10 ^ local_64) * -0x7a143595;
    uVar12 = (uVar12 ^ uVar12 >> 0xd) * -0x3d4d51cb;
    uVar17 = uVar12 ^ uVar12 >> 0x10;
    if (uVar12 == uVar12 >> 0x10) {
      uVar17 = 1;
      uVar15 = uVar2;
    }
    else {
      uVar15 = uVar17 * uVar2;
    }
    uVar18 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar3._8_8_ = 0;
    auVar3._0_8_ = uVar18;
    auVar7._8_8_ = 0;
    auVar7._0_8_ = uVar15;
    lVar16 = SUB168(auVar3 * auVar7,8);
    uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar16 * 4);
    iVar14 = SUB164(auVar3 * auVar7,8);
    if (uVar12 != 0) {
      uVar19 = 0;
      do {
        if ((uVar12 == uVar17) &&
           (local_64 == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar16 * 8) + 0x10)))
        goto LAB_0010e550;
        uVar19 = uVar19 + 1;
        auVar4._8_8_ = 0;
        auVar4._0_8_ = (iVar14 + 1) * uVar2;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = uVar18;
        lVar16 = SUB168(auVar4 * auVar8,8);
        uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar16 * 4);
        iVar14 = SUB164(auVar4 * auVar8,8);
      } while ((uVar12 != 0) &&
              (auVar5._8_8_ = 0, auVar5._0_8_ = uVar12 * uVar2, auVar9._8_8_ = 0,
              auVar9._0_8_ = uVar18, auVar6._8_8_ = 0,
              auVar6._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar14) - SUB164(auVar5 * auVar9,8)) * uVar2,
              auVar10._8_8_ = 0, auVar10._0_8_ = uVar18, uVar19 <= SUB164(auVar6 * auVar10,8)));
    }
  }
  local_64 = 0;
LAB_0010e550:
  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
  ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                *)(this + 0x2f0),(int *)&local_64);
  local_60 = 0;
  local_58 = "x11:%x";
  local_50 = 6;
  String::parse_latin1((StrRange *)&local_60);
  vformat<unsigned_long>((String *)&local_58,(ulong)&local_60);
  lVar16 = local_60;
  if (local_60 != 0) {
    LOCK();
    plVar1 = (long *)(local_60 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_60 = 0;
      Memory::free_static((void *)(lVar16 + -0x10),false);
    }
  }
  uVar13 = FreeDesktopPortalDesktop::file_dialog_show
                     (*(undefined8 *)(this + 0x2c0),*(undefined4 *)(this + 0x33c),
                      (String *)&local_58,param_1,param_2,param_3,param_4,param_7,param_8,param_9,
                      param_10,1);
  pcVar11 = local_58;
  if (local_58 != (char *)0x0) {
    LOCK();
    plVar1 = (long *)(local_58 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_58 = (char *)0x0;
      Memory::free_static(pcVar11 + -0x10,false);
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar13;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_mouse_update_mode() */

void __thiscall DisplayServerX11::_mouse_update_mode(DisplayServerX11 *this)

{
  code *pcVar1;
  uint *puVar2;
  ulong uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  int iVar12;
  uint uVar13;
  undefined8 uVar14;
  undefined8 *puVar15;
  Vector2 *pVVar16;
  int iVar17;
  ulong uVar18;
  long lVar19;
  ulong uVar20;
  uint uVar21;
  uint uVar22;
  long *plVar23;
  long in_FS_OFFSET;
  uint local_4c;
  undefined8 local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar12 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  iVar12 = *(int *)(this + 0x550);
  iVar17 = *(int *)(this + 0x558);
  if (this[0x55c] == (DisplayServerX11)0x0) {
    iVar17 = *(int *)(this + 0x554);
  }
  if (iVar12 != iVar17) {
    if (iVar12 - 2U < 3) {
      (*_XUngrabPointer_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
      iVar12 = *(int *)(this + 0x550);
    }
    if ((iVar12 != 0 && iVar12 != 3) && (iVar17 == 0 || iVar17 == 3)) {
      pcVar1 = *(code **)(*(long *)this + 0x4d0);
      local_48 = (**(code **)(*(long *)this + 0x3a0))(this);
      uVar13 = (*pcVar1)(this,&local_48);
      local_4c = uVar13;
      if ((uVar13 != 0xffffffff) && (uVar13 != *(uint *)(this + 0x338))) {
        if (*(uint *)(this + 0x338) != 0xffffffff) {
          uVar14 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)(this + 0x338));
          _send_window_event(this,uVar14,1);
        }
        *(uint *)(this + 0x338) = uVar13;
        uVar14 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                 ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                               *)(this + 0x2f0),(int *)&local_4c);
        _send_window_event(this,uVar14,0);
      }
    }
    plVar23 = *(long **)(this + 0x308);
    if (plVar23 != (long *)0x0) {
      lVar19 = plVar23[3];
      uVar14 = *(undefined8 *)(this + 0x360);
      if (iVar17 == 0 || iVar17 == 3) {
        while( true ) {
          (*_XDefineCursor_dylibloader_wrapper_xlib)
                    (uVar14,lVar19,*(undefined8 *)(this + (long)*(int *)(this + 0x698) * 8 + 0x608))
          ;
          plVar23 = (long *)*plVar23;
          if (plVar23 == (long *)0x0) break;
          lVar19 = plVar23[3];
          uVar14 = *(undefined8 *)(this + 0x360);
        }
      }
      else {
        while( true ) {
          (*_XDefineCursor_dylibloader_wrapper_xlib)(uVar14,lVar19,*(undefined8 *)(this + 0x690));
          plVar23 = (long *)*plVar23;
          if (plVar23 == (long *)0x0) break;
          lVar19 = plVar23[3];
          uVar14 = *(undefined8 *)(this + 0x360);
        }
      }
    }
    *(int *)(this + 0x550) = iVar17;
    if (iVar17 - 2U < 3) {
      _flush_mouse_motion(this);
      if ((*(long *)(this + 0x330) == 0) ||
         (puVar2 = *(uint **)(*(long *)(this + 0x330) + 8), puVar2 == (uint *)0x0)) {
        local_4c = *(uint *)(this + 0x33c);
      }
      else {
        local_4c = *puVar2;
      }
      if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
        uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
        uVar13 = (local_4c >> 0x10 ^ local_4c) * -0x7a143595;
        uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
        uVar22 = uVar13 ^ uVar13 >> 0x10;
        if (uVar13 == uVar13 >> 0x10) {
          uVar22 = 1;
          uVar18 = uVar3;
        }
        else {
          uVar18 = uVar22 * uVar3;
        }
        uVar20 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
        auVar4._8_8_ = 0;
        auVar4._0_8_ = uVar20;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = uVar18;
        lVar19 = SUB168(auVar4 * auVar8,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
        iVar12 = SUB164(auVar4 * auVar8,8);
        if (uVar13 != 0) {
          uVar21 = 0;
          do {
            if ((uVar13 == uVar22) &&
               (local_4c == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar19 * 8) + 0x10)))
            goto LAB_0010ea0d;
            uVar21 = uVar21 + 1;
            auVar5._8_8_ = 0;
            auVar5._0_8_ = (iVar12 + 1) * uVar3;
            auVar9._8_8_ = 0;
            auVar9._0_8_ = uVar20;
            lVar19 = SUB168(auVar5 * auVar9,8);
            uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
            iVar12 = SUB164(auVar5 * auVar9,8);
          } while ((uVar13 != 0) &&
                  (auVar6._8_8_ = 0, auVar6._0_8_ = uVar13 * uVar3, auVar10._8_8_ = 0,
                  auVar10._0_8_ = uVar20, auVar7._8_8_ = 0,
                  auVar7._0_8_ = ((*(uint *)(hash_table_size_primes +
                                            (ulong)*(uint *)(this + 0x318) * 4) + iVar12) -
                                 SUB164(auVar6 * auVar10,8)) * uVar3, auVar11._8_8_ = 0,
                  auVar11._0_8_ = uVar20, uVar21 <= SUB164(auVar7 * auVar11,8)));
        }
      }
      local_4c = 0;
LAB_0010ea0d:
      puVar15 = (undefined8 *)
                HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                              *)(this + 0x2f0),(int *)&local_4c);
      iVar12 = (*_XGrabPointer_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),*puVar15,1,0x4c,1,1,*puVar15,0,0);
      if (iVar12 != 0) {
        _err_print_error("_mouse_update_mode","platform/linuxbsd/x11/display_server_x11.cpp",0x1e5,
                         "NO GRAB",0,0);
      }
      if (*(int *)(this + 0x550) == 2) {
        iVar12 = *(int *)(puVar15 + 9);
        uVar14 = *puVar15;
        *(int *)(this + 0x560) = iVar12 / 2;
        iVar17 = *(int *)((long)puVar15 + 0x4c) / 2;
        *(int *)(this + 0x564) = iVar17;
        (*_XWarpPointer_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),0,uVar14,0,0,0,0,iVar12 / 2,iVar17);
        pVVar16 = (Vector2 *)Input::get_singleton();
        local_48 = Vector2i::operator_cast_to_Vector2((Vector2i *)(this + 0x560));
        Input::set_mouse_position(pVVar16);
      }
    }
    else {
      this[0x568] = (DisplayServerX11)0x0;
    }
    (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return;
}



/* DisplayServerX11::mouse_set_mode(DisplayServer::MouseMode) */

void __thiscall DisplayServerX11::mouse_set_mode(DisplayServerX11 *this,uint param_2)

{
  if (4 < param_2) {
    _err_print_index_error
              ("mouse_set_mode","platform/linuxbsd/x11/display_server_x11.cpp",0x1f9,(ulong)param_2,
               5,"p_mode","MouseMode::MOUSE_MODE_MAX","",false,false);
    return;
  }
  if (*(uint *)(this + 0x554) != param_2) {
    *(uint *)(this + 0x554) = param_2;
    _mouse_update_mode(this);
    return;
  }
  return;
}



/* DisplayServerX11::mouse_set_mode_override(DisplayServer::MouseMode) */

void __thiscall DisplayServerX11::mouse_set_mode_override(DisplayServerX11 *this,uint param_2)

{
  if (4 < param_2) {
    _err_print_index_error
              ("mouse_set_mode_override","platform/linuxbsd/x11/display_server_x11.cpp",0x206,
               (ulong)param_2,5,"p_mode","MouseMode::MOUSE_MODE_MAX","",false,false);
    return;
  }
  if (*(uint *)(this + 0x558) != param_2) {
    *(uint *)(this + 0x558) = param_2;
    _mouse_update_mode(this);
    return;
  }
  return;
}



/* DisplayServerX11::mouse_set_mode_override_enabled(bool) */

void __thiscall
DisplayServerX11::mouse_set_mode_override_enabled(DisplayServerX11 *this,bool param_1)

{
  if (this[0x55c] != (DisplayServerX11)param_1) {
    this[0x55c] = (DisplayServerX11)param_1;
    _mouse_update_mode(this);
    return;
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::warp_mouse(Vector2i const&) */

void __thiscall DisplayServerX11::warp_mouse(DisplayServerX11 *this,Vector2i *param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  uint *puVar3;
  ulong uVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  code *pcVar13;
  int iVar14;
  uint uVar15;
  undefined8 *puVar16;
  ulong uVar17;
  long lVar18;
  uint uVar19;
  ulong uVar20;
  uint uVar21;
  long in_FS_OFFSET;
  uint local_44;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar14 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  pcVar13 = _XWarpPointer_dylibloader_wrapper_xlib;
  if (iVar14 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar14);
  }
  if (*(int *)(this + 0x550) == 2) {
    *(undefined8 *)(this + 0x398) = *(undefined8 *)param_1;
  }
  else {
    if ((*(long *)(this + 0x330) == 0) ||
       (puVar3 = *(uint **)(*(long *)(this + 0x330) + 8), puVar3 == (uint *)0x0)) {
      local_44 = *(uint *)(this + 0x33c);
    }
    else {
      local_44 = *puVar3;
    }
    if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
      uVar4 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
      uVar15 = (local_44 >> 0x10 ^ local_44) * -0x7a143595;
      uVar15 = (uVar15 ^ uVar15 >> 0xd) * -0x3d4d51cb;
      uVar19 = uVar15 ^ uVar15 >> 0x10;
      if (uVar15 == uVar15 >> 0x10) {
        uVar19 = 1;
        uVar17 = uVar4;
      }
      else {
        uVar17 = uVar19 * uVar4;
      }
      uVar20 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
      auVar5._8_8_ = 0;
      auVar5._0_8_ = uVar20;
      auVar9._8_8_ = 0;
      auVar9._0_8_ = uVar17;
      lVar18 = SUB168(auVar5 * auVar9,8);
      uVar15 = *(uint *)(*(long *)(this + 0x300) + lVar18 * 4);
      iVar14 = SUB164(auVar5 * auVar9,8);
      if (uVar15 != 0) {
        uVar21 = 0;
        do {
          if ((uVar19 == uVar15) &&
             (local_44 == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar18 * 8) + 0x10)))
          goto LAB_0010ee1d;
          uVar21 = uVar21 + 1;
          auVar6._8_8_ = 0;
          auVar6._0_8_ = (iVar14 + 1) * uVar4;
          auVar10._8_8_ = 0;
          auVar10._0_8_ = uVar20;
          lVar18 = SUB168(auVar6 * auVar10,8);
          uVar15 = *(uint *)(*(long *)(this + 0x300) + lVar18 * 4);
          iVar14 = SUB164(auVar6 * auVar10,8);
        } while ((uVar15 != 0) &&
                (auVar7._8_8_ = 0, auVar7._0_8_ = uVar15 * uVar4, auVar11._8_8_ = 0,
                auVar11._0_8_ = uVar20, auVar8._8_8_ = 0,
                auVar8._0_8_ = ((*(uint *)(hash_table_size_primes +
                                          (ulong)*(uint *)(this + 0x318) * 4) + iVar14) -
                               SUB164(auVar7 * auVar11,8)) * uVar4, auVar12._8_8_ = 0,
                auVar12._0_8_ = uVar20, uVar21 <= SUB164(auVar8 * auVar12,8)));
      }
    }
    local_44 = 0;
LAB_0010ee1d:
    uVar1 = *(undefined4 *)(param_1 + 4);
    uVar2 = *(undefined4 *)param_1;
    puVar16 = (undefined8 *)
              HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                            *)(this + 0x2f0),(int *)&local_44);
    (*pcVar13)(*(undefined8 *)(this + 0x360),0,*puVar16,0,0,0,0,uVar2,uVar1);
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::clipboard_set(String const&) */

void __thiscall DisplayServerX11::clipboard_set(DisplayServerX11 *this,String *param_1)

{
  undefined8 uVar1;
  code *pcVar2;
  int iVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  long in_FS_OFFSET;
  int local_34;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar3 == 0) {
    iVar3 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x700));
    if (iVar3 == 0) {
      if (*(long *)(this + 0x348) != *(long *)param_1) {
        CowData<char32_t>::_ref((CowData<char32_t> *)(this + 0x348),(CowData *)param_1);
      }
      pthread_mutex_unlock((pthread_mutex_t *)(this + 0x700));
      pcVar2 = _XSetSelectionOwner_dylibloader_wrapper_xlib;
      local_34 = 0;
      puVar4 = (undefined8 *)
               HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),&local_34);
      (*pcVar2)(*(undefined8 *)(this + 0x360),1,*puVar4,0);
      pcVar2 = _XSetSelectionOwner_dylibloader_wrapper_xlib;
      local_34 = 0;
      puVar4 = (undefined8 *)
               HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),&local_34);
      uVar1 = *puVar4;
      uVar5 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"CLIPBOARD",0);
      (*pcVar2)(*(undefined8 *)(this + 0x360),uVar5,uVar1,0);
      if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
        pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
        return;
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar3);
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::clipboard_set_primary(String const&) */

void __thiscall DisplayServerX11::clipboard_set_primary(DisplayServerX11 *this,String *param_1)

{
  undefined8 uVar1;
  code *pcVar2;
  int iVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  long in_FS_OFFSET;
  int local_34;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar3 == 0) {
    if ((*(long *)param_1 != 0) && (1 < *(uint *)(*(long *)param_1 + -8))) {
      iVar3 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x700));
      if (iVar3 != 0) goto LAB_0010f0e7;
      if (*(long *)(this + 0x350) != *(long *)param_1) {
        CowData<char32_t>::_ref((CowData<char32_t> *)(this + 0x350),(CowData *)param_1);
      }
      pthread_mutex_unlock((pthread_mutex_t *)(this + 0x700));
      pcVar2 = _XSetSelectionOwner_dylibloader_wrapper_xlib;
      local_34 = 0;
      puVar4 = (undefined8 *)
               HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),&local_34);
      (*pcVar2)(*(undefined8 *)(this + 0x360),1,*puVar4,0);
      pcVar2 = _XSetSelectionOwner_dylibloader_wrapper_xlib;
      local_34 = 0;
      puVar4 = (undefined8 *)
               HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),&local_34);
      uVar1 = *puVar4;
      uVar5 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"PRIMARY",0);
      (*pcVar2)(*(undefined8 *)(this + 0x360),uVar5,uVar1,0);
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
      return;
    }
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
LAB_0010f0e7:
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar3);
}



/* DisplayServerX11::window_attach_instance_id(ObjectID, int) */

void __thiscall
DisplayServerX11::window_attach_instance_id(DisplayServerX11 *this,undefined8 param_2,uint param_3)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  int iVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  uint local_3c [3];
  
  local_3c[0] = param_3;
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar10 = (param_3 >> 0x10 ^ param_3) * -0x7a143595;
    uVar10 = (uVar10 ^ uVar10 >> 0xd) * -0x3d4d51cb;
    uVar14 = uVar10 ^ uVar10 >> 0x10;
    if (uVar10 == uVar10 >> 0x10) {
      uVar14 = 1;
      uVar12 = uVar1;
    }
    else {
      uVar12 = uVar14 * uVar1;
    }
    uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar15;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar12;
    lVar13 = SUB168(auVar2 * auVar6,8);
    uVar10 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
    iVar11 = SUB164(auVar2 * auVar6,8);
    if (uVar10 != 0) {
      uVar16 = 0;
      do {
        if ((uVar14 == uVar10) &&
           (param_3 == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar13 * 8) + 0x10))) {
          lVar13 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          *(undefined8 *)(lVar13 + 0xe0) = param_2;
          return;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar11 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar15;
        lVar13 = SUB168(auVar3 * auVar7,8);
        uVar10 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
        iVar11 = SUB164(auVar3 * auVar7,8);
      } while ((uVar10 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar10 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar11) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_attach_instance_id","platform/linuxbsd/x11/display_server_x11.cpp",0x7c3,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_title(String const&, int) */

void __thiscall
DisplayServerX11::window_set_title(DisplayServerX11 *this,String *param_1,int param_2)

{
  long *plVar1;
  ulong uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  code *pcVar11;
  int iVar12;
  uint uVar13;
  undefined8 *puVar14;
  undefined8 uVar15;
  long lVar16;
  ulong uVar17;
  int iVar18;
  long lVar19;
  uint uVar20;
  ulong uVar21;
  uint uVar22;
  long in_FS_OFFSET;
  pthread_mutex_t *__mutex;
  uint local_4c;
  long local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_4c = param_2;
  iVar12 = pthread_mutex_lock(__mutex);
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar2 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar13 = (local_4c >> 0x10 ^ local_4c) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar20 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar20 = 1;
      uVar17 = uVar2;
    }
    else {
      uVar17 = uVar20 * uVar2;
    }
    uVar21 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar3._8_8_ = 0;
    auVar3._0_8_ = uVar21;
    auVar7._8_8_ = 0;
    auVar7._0_8_ = uVar17;
    lVar19 = SUB168(auVar3 * auVar7,8);
    uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
    iVar18 = SUB164(auVar3 * auVar7,8);
    if (uVar13 != 0) {
      uVar22 = 0;
      do {
        if ((uVar13 == uVar20) &&
           (local_4c == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar19 * 8) + 0x10))) {
          puVar14 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)&local_4c);
          pcVar11 = _XStoreName_dylibloader_wrapper_xlib;
          String::utf8();
          uVar15 = CharString::get_data();
          (*pcVar11)(*(undefined8 *)(this + 0x360),*puVar14,uVar15);
          lVar19 = local_48;
          if (local_48 != 0) {
            LOCK();
            plVar1 = (long *)(local_48 + -0x10);
            *plVar1 = *plVar1 + -1;
            UNLOCK();
            if (*plVar1 == 0) {
              local_48 = 0;
              Memory::free_static((void *)(lVar19 + -0x10),false);
            }
          }
          lVar19 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_NAME",0);
          lVar16 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"UTF8_STRING",0);
          if ((lVar19 != 0) && (lVar16 != 0)) {
            String::utf8();
            pcVar11 = _XChangeProperty_dylibloader_wrapper_xlib;
            if (local_48 != 0) {
              iVar12 = (int)*(undefined8 *)(local_48 + -8);
              iVar12 = iVar12 + -1 + (uint)(iVar12 == 0);
            }
            uVar15 = CharString::get_data();
            (*pcVar11)(*(undefined8 *)(this + 0x360),*puVar14,lVar19,lVar16,8,0,uVar15,iVar12);
            lVar19 = local_48;
            if (local_48 != 0) {
              LOCK();
              plVar1 = (long *)(local_48 + -0x10);
              *plVar1 = *plVar1 + -1;
              UNLOCK();
              if (*plVar1 == 0) {
                local_48 = 0;
                Memory::free_static((void *)(lVar19 + -0x10),false);
              }
            }
          }
          pthread_mutex_unlock(__mutex);
          goto LAB_0010f4f2;
        }
        uVar22 = uVar22 + 1;
        auVar4._8_8_ = 0;
        auVar4._0_8_ = (iVar18 + 1) * uVar2;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = uVar21;
        lVar19 = SUB168(auVar4 * auVar8,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
        iVar18 = SUB164(auVar4 * auVar8,8);
      } while ((uVar13 != 0) &&
              (auVar5._8_8_ = 0, auVar5._0_8_ = uVar13 * uVar2, auVar9._8_8_ = 0,
              auVar9._0_8_ = uVar21, auVar6._8_8_ = 0,
              auVar6._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar18) - SUB164(auVar5 * auVar9,8)) * uVar2,
              auVar10._8_8_ = 0, auVar10._0_8_ = uVar21, uVar22 <= SUB164(auVar6 * auVar10,8)));
    }
  }
  _err_print_error("window_set_title","platform/linuxbsd/x11/display_server_x11.cpp",0x7ee,
                   "Condition \"!windows.has(p_window)\" is true.",0,0,param_1,__mutex,
                   (HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    *)(this + 0x2f0),0);
  pthread_mutex_unlock(__mutex);
LAB_0010f4f2:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_update_window_mouse_passthrough(int) */

void __thiscall
DisplayServerX11::_update_window_mouse_passthrough(DisplayServerX11 *this,int param_1)

{
  long *plVar1;
  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
  *this_00;
  ulong uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  code *pcVar11;
  uint uVar12;
  int iVar13;
  long lVar14;
  void *pvVar15;
  long lVar16;
  undefined8 uVar17;
  undefined8 *puVar18;
  ulong uVar19;
  long lVar20;
  uint uVar21;
  ulong uVar22;
  uint uVar23;
  long in_FS_OFFSET;
  bool bVar24;
  int local_4c;
  undefined1 local_48 [4];
  undefined1 local_44 [4];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  this_00 = (HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             *)(this + 0x2f0);
  local_4c = param_1;
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar2 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar12 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar12 = (uVar12 ^ uVar12 >> 0xd) * -0x3d4d51cb;
    uVar21 = uVar12 ^ uVar12 >> 0x10;
    if (uVar12 == uVar12 >> 0x10) {
      uVar21 = 1;
      uVar19 = uVar2;
    }
    else {
      uVar19 = uVar21 * uVar2;
    }
    uVar22 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar3._8_8_ = 0;
    auVar3._0_8_ = uVar22;
    auVar7._8_8_ = 0;
    auVar7._0_8_ = uVar19;
    lVar20 = SUB168(auVar3 * auVar7,8);
    uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar20 * 4);
    iVar13 = SUB164(auVar3 * auVar7,8);
    if (uVar12 != 0) {
      uVar23 = 0;
      do {
        if ((uVar21 == uVar12) &&
           (param_1 == *(int *)(*(long *)(*(long *)(this + 0x2f8) + lVar20 * 8) + 0x10))) {
          if (this[0x6f2] == (DisplayServerX11)0x0) {
            _err_print_error("_update_window_mouse_passthrough",
                             "platform/linuxbsd/x11/display_server_x11.cpp",0x805,
                             "Condition \"!xshaped_ext_ok\" is true.",0,0);
            goto LAB_0010f735;
          }
          lVar20 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[](this_00,&local_4c);
          if (*(long *)(lVar20 + 0xa8) == 0) goto LAB_0010f760;
          plVar1 = (long *)(*(long *)(lVar20 + 0xa8) + -0x10);
          goto LAB_0010f6dc;
        }
        uVar23 = uVar23 + 1;
        auVar4._8_8_ = 0;
        auVar4._0_8_ = (iVar13 + 1) * uVar2;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = uVar22;
        lVar20 = SUB168(auVar4 * auVar8,8);
        uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar20 * 4);
        iVar13 = SUB164(auVar4 * auVar8,8);
      } while ((uVar12 != 0) &&
              (auVar5._8_8_ = 0, auVar5._0_8_ = uVar12 * uVar2, auVar9._8_8_ = 0,
              auVar9._0_8_ = uVar22, auVar6._8_8_ = 0,
              auVar6._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar13) - SUB164(auVar5 * auVar9,8)) * uVar2,
              auVar10._8_8_ = 0, auVar10._0_8_ = uVar22, uVar23 <= SUB164(auVar6 * auVar10,8)));
    }
  }
  _err_print_error("_update_window_mouse_passthrough","platform/linuxbsd/x11/display_server_x11.cpp"
                   ,0x804,"Condition \"!windows.has(p_window)\" is true.",0,0);
  goto LAB_0010f735;
LAB_0010f760:
  uVar17 = *(undefined8 *)(this + 0x360);
LAB_0010f76e:
  iVar13 = (*_XShapeQueryExtension_dylibloader_wrapper_xext)(uVar17,local_48,local_44);
  if (iVar13 == 0) goto LAB_0010f735;
  lVar20 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
           ::operator[](this_00,&local_4c);
  if (*(char *)(lVar20 + 0xfd) == '\0') {
LAB_0010f852:
    lVar20 = 0;
LAB_0010f858:
    pcVar11 = _XShapeCombineMask_dylibloader_wrapper_xext;
    puVar18 = (undefined8 *)
              HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::operator[](this_00,&local_4c);
    (*pcVar11)(*(undefined8 *)(this + 0x360),*puVar18,2,0,0,0,0);
  }
  else {
    lVar20 = 0;
LAB_0010f799:
    uVar17 = (*_XCreateRegion_dylibloader_wrapper_xlib)();
    pcVar11 = _XShapeCombineRegion_dylibloader_wrapper_xext;
    puVar18 = (undefined8 *)
              HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::operator[](this_00,&local_4c);
    (*pcVar11)(*(undefined8 *)(this + 0x360),*puVar18,2,0,0,uVar17,0);
    (*_XDestroyRegion_dylibloader_wrapper_xlib)(uVar17);
  }
LAB_0010f71e:
  if (lVar20 == 0) goto LAB_0010f735;
  goto LAB_0010f723;
  while( true ) {
    LOCK();
    lVar16 = *plVar1;
    bVar24 = lVar14 == lVar16;
    if (bVar24) {
      *plVar1 = lVar14 + 1;
      lVar16 = lVar14;
    }
    UNLOCK();
    if (bVar24) break;
LAB_0010f6dc:
    lVar14 = *plVar1;
    if (lVar14 == 0) goto LAB_0010f760;
  }
  uVar17 = *(undefined8 *)(this + 0x360);
  if (lVar16 == -1) goto LAB_0010f76e;
  lVar20 = *(long *)(lVar20 + 0xa8);
  iVar13 = (*_XShapeQueryExtension_dylibloader_wrapper_xext)(uVar17,local_48,local_44);
  if (iVar13 == 0) goto LAB_0010f71e;
  lVar14 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
           ::operator[](this_00,&local_4c);
  if (*(char *)(lVar14 + 0xfd) != '\0') goto LAB_0010f799;
  if (lVar20 == 0) goto LAB_0010f852;
  if (*(long *)(lVar20 + -8) == 0) goto LAB_0010f858;
  pvVar15 = (void *)Memory::alloc_static(*(long *)(lVar20 + -8) * 4,false);
  lVar14 = *(long *)(lVar20 + -8);
  lVar16 = 0;
  if (0 < lVar14) {
    do {
      *(short *)((long)pvVar15 + lVar16) = (short)(int)*(float *)(lVar20 + lVar16 * 2);
      *(short *)((long)pvVar15 + lVar16 + 2) = (short)(int)*(float *)(lVar20 + 4 + lVar16 * 2);
      lVar16 = lVar16 + 4;
    } while (lVar16 != lVar14 * 4);
  }
  uVar17 = (*_XPolygonRegion_dylibloader_wrapper_xlib)(pvVar15,lVar14,0);
  Memory::free_static(pvVar15,false);
  pcVar11 = _XShapeCombineRegion_dylibloader_wrapper_xext;
  puVar18 = (undefined8 *)
            HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
            ::operator[](this_00,&local_4c);
  (*pcVar11)(*(undefined8 *)(this + 0x360),*puVar18,2,0,0,uVar17,0);
  (*_XDestroyRegion_dylibloader_wrapper_xlib)(uVar17);
LAB_0010f723:
  plVar1 = (long *)(lVar20 + -0x10);
  LOCK();
  *plVar1 = *plVar1 + -1;
  UNLOCK();
  if (*plVar1 == 0) {
    Memory::free_static(plVar1,false);
  }
LAB_0010f735:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* DisplayServerX11::window_set_mouse_passthrough(Vector<Vector2> const&, int) */

void __thiscall
DisplayServerX11::window_set_mouse_passthrough(DisplayServerX11 *this,Vector *param_1,int param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  int iVar11;
  uint uVar12;
  ulong uVar13;
  long lVar14;
  uint uVar15;
  ulong uVar16;
  uint uVar17;
  uint local_3c [3];
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_3c[0] = param_2;
  iVar11 = pthread_mutex_lock(__mutex);
  uVar10 = local_3c[0];
  if (iVar11 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar11);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar12 = (local_3c[0] >> 0x10 ^ local_3c[0]) * -0x7a143595;
    uVar12 = (uVar12 ^ uVar12 >> 0xd) * -0x3d4d51cb;
    uVar15 = uVar12 ^ uVar12 >> 0x10;
    if (uVar12 == uVar12 >> 0x10) {
      uVar15 = 1;
      uVar13 = uVar1;
    }
    else {
      uVar13 = uVar15 * uVar1;
    }
    uVar16 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar16;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar13;
    lVar14 = SUB168(auVar2 * auVar6,8);
    uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
    iVar11 = SUB164(auVar2 * auVar6,8);
    if (uVar12 != 0) {
      uVar17 = 0;
      do {
        if ((uVar15 == uVar12) &&
           (local_3c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar14 * 8) + 0x10))) {
          lVar14 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          if (*(long *)(lVar14 + 0xa8) != *(long *)(param_1 + 8)) {
            CowData<Vector2>::_ref((CowData<Vector2> *)(lVar14 + 0xa8),(CowData *)(param_1 + 8));
          }
          _update_window_mouse_passthrough(this,uVar10);
          pthread_mutex_unlock(__mutex);
          return;
        }
        uVar17 = uVar17 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar11 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar16;
        lVar14 = SUB168(auVar3 * auVar7,8);
        uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
        iVar11 = SUB164(auVar3 * auVar7,8);
      } while ((uVar12 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar12 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar16, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar11) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar16, uVar17 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_mouse_passthrough","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x7fe,"Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
  return;
}



/* DisplayServerX11::window_set_rect_changed_callback(Callable const&, int) */

void __thiscall
DisplayServerX11::window_set_rect_changed_callback
          (DisplayServerX11 *this,Callable *param_1,int param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  uint local_3c [3];
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_3c[0] = param_2;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_3c[0] >> 0x10 ^ local_3c[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar14 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar14 = 1;
      uVar12 = uVar1;
    }
    else {
      uVar12 = uVar14 * uVar1;
    }
    uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar15;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar12;
    lVar13 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar16 = 0;
      do {
        if ((uVar14 == uVar11) &&
           (local_3c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar13 * 8) + 0x10))) {
          lVar13 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          Callable::operator=((Callable *)(lVar13 + 0x50),param_1);
          pthread_mutex_unlock(__mutex);
          return;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar15;
        lVar13 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_rect_changed_callback","platform/linuxbsd/x11/display_server_x11.cpp"
                   ,0x823,"Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
  return;
}



/* DisplayServerX11::window_set_window_event_callback(Callable const&, int) */

void __thiscall
DisplayServerX11::window_set_window_event_callback
          (DisplayServerX11 *this,Callable *param_1,int param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  uint local_3c [3];
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_3c[0] = param_2;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_3c[0] >> 0x10 ^ local_3c[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar14 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar14 = 1;
      uVar12 = uVar1;
    }
    else {
      uVar12 = uVar14 * uVar1;
    }
    uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar15;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar12;
    lVar13 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar16 = 0;
      do {
        if ((uVar14 == uVar11) &&
           (local_3c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar13 * 8) + 0x10))) {
          lVar13 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          Callable::operator=((Callable *)(lVar13 + 0x60),param_1);
          pthread_mutex_unlock(__mutex);
          return;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar15;
        lVar13 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_window_event_callback","platform/linuxbsd/x11/display_server_x11.cpp"
                   ,0x82b,"Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
  return;
}



/* DisplayServerX11::window_set_input_event_callback(Callable const&, int) */

void __thiscall
DisplayServerX11::window_set_input_event_callback
          (DisplayServerX11 *this,Callable *param_1,int param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  uint local_3c [3];
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_3c[0] = param_2;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_3c[0] >> 0x10 ^ local_3c[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar14 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar14 = 1;
      uVar12 = uVar1;
    }
    else {
      uVar12 = uVar14 * uVar1;
    }
    uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar15;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar12;
    lVar13 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar16 = 0;
      do {
        if ((uVar14 == uVar11) &&
           (local_3c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar13 * 8) + 0x10))) {
          lVar13 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          Callable::operator=((Callable *)(lVar13 + 0x70),param_1);
          pthread_mutex_unlock(__mutex);
          return;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar15;
        lVar13 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_input_event_callback","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x833,"Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
  return;
}



/* DisplayServerX11::window_set_input_text_callback(Callable const&, int) */

void __thiscall
DisplayServerX11::window_set_input_text_callback
          (DisplayServerX11 *this,Callable *param_1,int param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  uint local_3c [3];
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_3c[0] = param_2;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_3c[0] >> 0x10 ^ local_3c[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar14 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar14 = 1;
      uVar12 = uVar1;
    }
    else {
      uVar12 = uVar14 * uVar1;
    }
    uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar15;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar12;
    lVar13 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar16 = 0;
      do {
        if ((uVar14 == uVar11) &&
           (local_3c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar13 * 8) + 0x10))) {
          lVar13 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          Callable::operator=((Callable *)(lVar13 + 0x80),param_1);
          pthread_mutex_unlock(__mutex);
          return;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar15;
        lVar13 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_input_text_callback","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x83b,"Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
  return;
}



/* DisplayServerX11::window_set_drop_files_callback(Callable const&, int) */

void __thiscall
DisplayServerX11::window_set_drop_files_callback
          (DisplayServerX11 *this,Callable *param_1,int param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  uint local_3c [3];
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_3c[0] = param_2;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_3c[0] >> 0x10 ^ local_3c[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar14 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar14 = 1;
      uVar12 = uVar1;
    }
    else {
      uVar12 = uVar14 * uVar1;
    }
    uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar15;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar12;
    lVar13 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar16 = 0;
      do {
        if ((uVar14 == uVar11) &&
           (local_3c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar13 * 8) + 0x10))) {
          lVar13 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          Callable::operator=((Callable *)(lVar13 + 0x90),param_1);
          pthread_mutex_unlock(__mutex);
          return;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar15;
        lVar13 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_drop_files_callback","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x843,"Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_current_screen(int, int) */

void DisplayServerX11::window_set_current_screen(int param_1,int param_2)

{
  undefined1 auVar1 [16];
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  char cVar9;
  int iVar10;
  uint uVar11;
  undefined4 uVar12;
  undefined8 *puVar13;
  ulong uVar14;
  ulong uVar15;
  uint in_EDX;
  long lVar16;
  code *pcVar17;
  undefined4 in_register_0000003c;
  long *plVar18;
  ulong uVar19;
  uint uVar20;
  uint uVar21;
  long in_FS_OFFSET;
  undefined8 in_XMM1_Qa;
  uint local_8c;
  undefined8 local_88;
  undefined8 local_80;
  undefined8 local_78;
  undefined8 local_70;
  undefined1 local_68 [16];
  undefined8 local_58;
  undefined8 local_50 [2];
  long local_40;
  
  plVar18 = (long *)CONCAT44(in_register_0000003c,param_1);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_8c = in_EDX;
  iVar10 = pthread_mutex_lock((pthread_mutex_t *)(plVar18 + 0x40));
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((plVar18[0x5f] != 0) && (*(int *)((long)plVar18 + 0x31c) != 0)) {
    uVar14 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(plVar18 + 99) * 8);
    uVar11 = (local_8c >> 0x10 ^ local_8c) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar21 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar21 = 1;
      uVar15 = uVar14;
    }
    else {
      uVar15 = uVar21 * uVar14;
    }
    uVar19 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(plVar18 + 99) * 4));
    auVar1._8_8_ = 0;
    auVar1._0_8_ = uVar19;
    auVar5._8_8_ = 0;
    auVar5._0_8_ = uVar15;
    lVar16 = SUB168(auVar1 * auVar5,8);
    uVar11 = *(uint *)(plVar18[0x60] + lVar16 * 4);
    iVar10 = SUB164(auVar1 * auVar5,8);
    if (uVar11 != 0) {
      uVar20 = 0;
      do {
        if ((uVar11 == uVar21) &&
           (local_8c == *(uint *)(*(long *)(plVar18[0x5f] + lVar16 * 8) + 0x10))) {
          puVar13 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(plVar18 + 0x5e),(int *)&local_8c);
          if (param_2 == -2) {
            param_2 = (**(code **)(*plVar18 + 0x400))(plVar18);
            goto LAB_00110573;
          }
          lVar16 = *plVar18;
          if (param_2 < -1) {
            if (param_2 == -4) {
              local_68._0_8_ = (**(code **)(lVar16 + 0x3a0))(plVar18);
              local_68._8_8_ = _LC72;
              pcVar17 = *(code **)(*plVar18 + 0x410);
              local_58 = Rect2i::operator_cast_to_Rect2((Rect2i *)local_68);
              local_50[0] = in_XMM1_Qa;
              param_2 = (*pcVar17)(plVar18,&local_58);
LAB_00110573:
              lVar16 = *plVar18;
              pcVar17 = *(code **)(lVar16 + 0x3f8);
              if (-1 < param_2) goto LAB_00110586;
            }
            else if (param_2 == -3) {
              param_2 = (**(code **)(lVar16 + 0x408))(plVar18);
              goto LAB_00110573;
            }
          }
          else {
            if (param_2 == -1) {
              param_2 = (**(code **)(lVar16 + 0x528))(plVar18,0);
              goto LAB_00110573;
            }
            pcVar17 = *(code **)(lVar16 + 0x3f8);
LAB_00110586:
            iVar10 = (*pcVar17)(plVar18);
            lVar16 = *plVar18;
            if (param_2 < iVar10) {
              iVar10 = (**(code **)(lVar16 + 0x528))(plVar18,local_8c);
              if (iVar10 != param_2) {
                if (puVar13[0x20] == 0) {
                  iVar10 = (**(code **)(*plVar18 + 0x5a0))(plVar18,local_8c);
                  if ((iVar10 == 3) ||
                     (iVar10 = (**(code **)(*plVar18 + 0x5a0))(plVar18,local_8c), iVar10 == 2)) {
                    uVar14 = (**(code **)(*plVar18 + 0x418))(plVar18,param_2);
                    uVar15 = (**(code **)(*plVar18 + 0x420))(plVar18,param_2);
                    (*_XMoveResizeWindow_dylibloader_wrapper_xlib)
                              (plVar18[0x6c],*puVar13,uVar14 & 0xffffffff,uVar14 >> 0x20,uVar15,
                               uVar15 >> 0x20);
                  }
                  else {
                    local_68 = (**(code **)(*plVar18 + 0x428))(plVar18,param_2);
                    pcVar17 = *(code **)(*plVar18 + 0x418);
                    uVar12 = (**(code **)(*plVar18 + 0x528))(plVar18,local_8c);
                    local_58 = (*pcVar17)(plVar18,uVar12);
                    local_70 = (**(code **)(*plVar18 + 0x538))(plVar18,local_8c);
                    local_88 = Vector2i::operator-((Vector2i *)&local_70,(Vector2i *)&local_58);
                    local_80 = (**(code **)(*plVar18 + 0x588))(plVar18,local_8c);
                    Vector2i::operator+=((Vector2i *)&local_88,(Vector2i *)local_68);
                    local_58 = 0;
                    local_50[0] = 0;
                    cVar9 = Vector2i::operator!=((Vector2i *)local_68,(Vector2i *)&local_58);
                    if (cVar9 == '\0') {
                      cVar9 = Vector2i::operator!=((Vector2i *)(local_68 + 8),(Vector2i *)local_50);
                      if (cVar9 != '\0') goto LAB_001106b3;
                    }
                    else {
LAB_001106b3:
                      local_70 = Vector2i::operator/((Vector2i *)&local_80,3);
                      local_78 = Vector2i::operator+((Vector2i *)local_68,(Vector2i *)(local_68 + 8)
                                                    );
                      local_58 = Vector2i::operator-((Vector2i *)&local_78,(Vector2i *)&local_70);
                      local_88 = Vector2i::clamp((Vector2i *)&local_88,(Vector2i *)local_68);
                    }
                    (**(code **)(*plVar18 + 0x548))(plVar18,(Vector2i *)&local_88,local_8c);
                  }
                }
                else {
                  Variant::Variant((Variant *)&local_58,
                                   "Embedded window can\'t be moved to another screen.");
                  print_line((Variant *)&local_58);
                  if (Variant::needs_deinit[(int)local_58] != '\0') {
                    Variant::_clear_internal();
                  }
                }
              }
              goto LAB_00110710;
            }
          }
          iVar10 = (**(code **)(lVar16 + 0x3f8))(plVar18);
          _err_print_index_error
                    ("window_set_current_screen","platform/linuxbsd/x11/display_server_x11.cpp",
                     0x878,(long)param_2,(long)iVar10,"p_screen","get_screen_count()","",false,false
                    );
          goto LAB_00110710;
        }
        uVar20 = uVar20 + 1;
        auVar2._8_8_ = 0;
        auVar2._0_8_ = (iVar10 + 1) * uVar14;
        auVar6._8_8_ = 0;
        auVar6._0_8_ = uVar19;
        lVar16 = SUB168(auVar2 * auVar6,8);
        uVar11 = *(uint *)(plVar18[0x60] + lVar16 * 4);
        iVar10 = SUB164(auVar2 * auVar6,8);
      } while ((uVar11 != 0) &&
              (auVar3._8_8_ = 0, auVar3._0_8_ = uVar11 * uVar14, auVar7._8_8_ = 0,
              auVar7._0_8_ = uVar19, auVar4._8_8_ = 0,
              auVar4._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(plVar18 + 99) * 4
                                        ) + iVar10) - SUB164(auVar3 * auVar7,8)) * uVar14,
              auVar8._8_8_ = 0, auVar8._0_8_ = uVar19, uVar20 <= SUB164(auVar4 * auVar8,8)));
    }
  }
  _err_print_error("window_set_current_screen","platform/linuxbsd/x11/display_server_x11.cpp",0x874,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_00110710:
  pthread_mutex_unlock((pthread_mutex_t *)(plVar18 + 0x40));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_transient(int, int) */

void __thiscall
DisplayServerX11::window_set_transient(DisplayServerX11 *this,int param_1,int param_2)

{
  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
  *this_00;
  uint *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  uint *puVar4;
  undefined4 uVar5;
  ulong uVar6;
  ulong uVar7;
  ulong uVar8;
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  undefined1 auVar43 [16];
  undefined1 auVar44 [16];
  char cVar45;
  int iVar46;
  uint uVar47;
  uint uVar48;
  uint uVar49;
  undefined8 *puVar50;
  ulong *puVar51;
  undefined8 *puVar52;
  uint uVar53;
  long lVar54;
  uint *puVar55;
  long lVar56;
  ulong uVar57;
  ulong uVar58;
  ulong uVar59;
  uint uVar60;
  uint uVar61;
  uint *puVar62;
  ulong uVar63;
  ulong uVar64;
  uint *puVar65;
  uint uVar66;
  uint uVar67;
  ulong uVar68;
  long in_FS_OFFSET;
  uint local_e0;
  uint local_dc [4];
  uint local_cc;
  uint local_c8 [23];
  int local_6c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_e0 = param_2;
  local_dc[0] = param_1;
  iVar46 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  uVar49 = local_dc[0];
  uVar48 = local_e0;
  if (iVar46 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar46);
  }
  if (local_dc[0] == local_e0) {
    _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp",0x897,
                     "Condition \"p_window == p_parent\" is true.",0,0);
  }
  else {
    this_00 = (HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               *)(this + 0x2f0);
    if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
      uVar6 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
      uVar47 = (local_dc[0] >> 0x10 ^ local_dc[0]) * -0x7a143595;
      uVar53 = (uVar47 ^ uVar47 >> 0xd) * -0x3d4d51cb;
      uVar60 = uVar53 >> 0x10;
      uVar47 = uVar53 ^ uVar60;
      if (uVar53 == uVar60) {
        uVar61 = 1;
        uVar59 = uVar6;
      }
      else {
        uVar59 = uVar47 * uVar6;
        uVar61 = uVar47;
      }
      uVar57 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
      auVar9._8_8_ = 0;
      auVar9._0_8_ = uVar57;
      auVar27._8_8_ = 0;
      auVar27._0_8_ = uVar59;
      lVar56 = SUB168(auVar9 * auVar27,8);
      iVar46 = SUB164(auVar9 * auVar27,8);
      uVar66 = *(uint *)(*(long *)(this + 0x300) + lVar56 * 4);
      if (uVar66 != 0) {
        uVar67 = 0;
        do {
          if ((uVar61 == uVar66) &&
             (local_dc[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar56 * 8) + 0x10))) {
            puVar50 = (undefined8 *)
                      HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                      ::operator[](this_00,(int *)local_dc);
            local_cc = *(uint *)(puVar50 + 0x16);
            if (uVar48 == local_cc) {
              _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp"
                               ,0x89d,"Condition \"prev_parent == p_parent\" is true.",0,0);
              goto LAB_00110e00;
            }
            if (*(char *)((long)puVar50 + 0xeb) != '\0') {
              _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp"
                               ,0x8a1,"Condition \"wd_window.on_top\" is true.",
                               "Windows with the \'on top\' can\'t become transient.",0,0);
              goto LAB_00110e00;
            }
            if (uVar48 != 0xffffffff) {
              if ((*(long *)(this + 0x2f8) == 0) || (*(int *)(this + 0x31c) == 0))
              goto LAB_00111060;
              uVar6 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
              uVar49 = (uVar48 >> 0x10 ^ uVar48) * -0x7a143595;
              uVar49 = (uVar49 ^ uVar49 >> 0xd) * -0x3d4d51cb;
              uVar47 = uVar49 ^ uVar49 >> 0x10;
              if (uVar49 == uVar49 >> 0x10) {
                uVar47 = 1;
                uVar59 = uVar6;
              }
              else {
                uVar59 = uVar47 * uVar6;
              }
              uVar57 = CONCAT44(0,*(uint *)(hash_table_size_primes +
                                           (ulong)*(uint *)(this + 0x318) * 4));
              auVar23._8_8_ = 0;
              auVar23._0_8_ = uVar57;
              auVar41._8_8_ = 0;
              auVar41._0_8_ = uVar59;
              lVar56 = SUB168(auVar23 * auVar41,8);
              iVar46 = SUB164(auVar23 * auVar41,8);
              uVar49 = *(uint *)(*(long *)(this + 0x300) + lVar56 * 4);
              if (uVar49 == 0) goto LAB_00111060;
              uVar53 = 0;
              goto LAB_00110f2a;
            }
            if (local_cc == 0xffffffff) {
              _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp"
                               ,0x8a5,"Condition \"prev_parent == INVALID_WINDOW_ID\" is true.",0,0)
              ;
              goto LAB_00110e00;
            }
            cVar45 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                     ::_lookup_pos(this_00,(int *)(ulong)local_cc,local_c8);
            if (cVar45 == '\0') {
              _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp"
                               ,0x8a6,"Condition \"!windows.has(prev_parent)\" is true.",0,0);
              goto LAB_00110e00;
            }
            puVar51 = (ulong *)HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                               ::operator[](this_00,(int *)&local_cc);
            *(undefined4 *)(puVar50 + 0x16) = 0xffffffff;
            uVar6 = puVar51[0x17];
            if ((uVar6 == 0) || (*(int *)((long)puVar51 + 0xdc) == 0)) goto LAB_00110d5f;
            uVar48 = *(uint *)(hash_table_size_primes + (ulong)(uint)puVar51[0x1b] * 4);
            uVar68 = CONCAT44(0,uVar48);
            uVar59 = *(ulong *)(hash_table_size_primes_inv + (ulong)(uint)puVar51[0x1b] * 8);
            uVar57 = uVar59;
            if (uVar53 != uVar60) {
              uVar57 = uVar47 * uVar59;
            }
            auVar13._8_8_ = 0;
            auVar13._0_8_ = uVar68;
            auVar31._8_8_ = 0;
            auVar31._0_8_ = uVar57;
            lVar56 = SUB168(auVar13 * auVar31,8);
            uVar57 = puVar51[0x1a];
            uVar47 = *(uint *)(uVar57 + lVar56 * 4);
            iVar46 = SUB164(auVar13 * auVar31,8);
            if (uVar47 == 0) goto LAB_00110d5f;
            uVar53 = 0;
            goto LAB_00110bf4;
          }
          uVar67 = uVar67 + 1;
          auVar10._8_8_ = 0;
          auVar10._0_8_ = (iVar46 + 1) * uVar6;
          auVar28._8_8_ = 0;
          auVar28._0_8_ = uVar57;
          lVar56 = SUB168(auVar10 * auVar28,8);
          uVar66 = *(uint *)(*(long *)(this + 0x300) + lVar56 * 4);
          iVar46 = SUB164(auVar10 * auVar28,8);
        } while ((uVar66 != 0) &&
                (auVar11._8_8_ = 0, auVar11._0_8_ = uVar66 * uVar6, auVar29._8_8_ = 0,
                auVar29._0_8_ = uVar57, auVar12._8_8_ = 0,
                auVar12._0_8_ =
                     ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4) +
                      iVar46) - SUB164(auVar11 * auVar29,8)) * uVar6, auVar30._8_8_ = 0,
                auVar30._0_8_ = uVar57, uVar67 <= SUB164(auVar12 * auVar30,8)));
      }
    }
    _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp",0x899,
                     "Condition \"!windows.has(p_window)\" is true.",0,0);
  }
  goto LAB_00110e00;
LAB_00110bf4:
  if (uVar61 == uVar47) {
    uVar7 = puVar51[0x18];
    uVar47 = *(uint *)(uVar7 + lVar56 * 4);
    if (uVar49 == *(uint *)(uVar6 + (ulong)uVar47 * 4)) {
      lVar56 = (ulong)uVar47 * 4;
      uVar8 = puVar51[0x19];
      puVar1 = (uint *)(uVar8 + lVar56);
      uVar49 = *puVar1;
      uVar63 = (ulong)uVar49;
      auVar17._8_8_ = 0;
      auVar17._0_8_ = (uVar49 + 1) * uVar59;
      auVar35._8_8_ = 0;
      auVar35._0_8_ = uVar68;
      lVar54 = SUB168(auVar17 * auVar35,8) * 4;
      uVar49 = SUB164(auVar17 * auVar35,8);
      puVar62 = (uint *)(uVar57 + lVar54);
      if ((*puVar62 != 0) &&
         (auVar18._8_8_ = 0, auVar18._0_8_ = *puVar62 * uVar59, auVar36._8_8_ = 0,
         auVar36._0_8_ = uVar68, auVar19._8_8_ = 0,
         auVar19._0_8_ = ((uVar49 + uVar48) - SUB164(auVar18 * auVar36,8)) * uVar59,
         auVar37._8_8_ = 0, auVar37._0_8_ = uVar68, uVar58 = (ulong)uVar49, uVar64 = uVar63,
         SUB164(auVar19 * auVar37,8) != 0)) {
        while( true ) {
          uVar63 = uVar58;
          puVar55 = (uint *)(lVar54 + uVar7);
          puVar4 = (uint *)(uVar7 + uVar64 * 4);
          puVar65 = (uint *)(uVar64 * 4 + uVar57);
          puVar2 = (undefined4 *)(uVar8 + (ulong)*puVar55 * 4);
          puVar3 = (undefined4 *)(uVar8 + (ulong)*puVar4 * 4);
          uVar5 = *puVar3;
          *puVar3 = *puVar2;
          *puVar2 = uVar5;
          uVar49 = *puVar62;
          *puVar62 = *puVar65;
          *puVar65 = uVar49;
          uVar49 = *puVar55;
          *puVar55 = *puVar4;
          *puVar4 = uVar49;
          auVar22._8_8_ = 0;
          auVar22._0_8_ = ((int)uVar63 + 1) * uVar59;
          auVar40._8_8_ = 0;
          auVar40._0_8_ = uVar68;
          uVar58 = SUB168(auVar22 * auVar40,8);
          lVar54 = uVar58 * 4;
          puVar62 = (uint *)(uVar57 + lVar54);
          if ((*puVar62 == 0) ||
             (auVar20._8_8_ = 0, auVar20._0_8_ = *puVar62 * uVar59, auVar38._8_8_ = 0,
             auVar38._0_8_ = uVar68, auVar21._8_8_ = 0,
             auVar21._0_8_ =
                  ((SUB164(auVar22 * auVar40,8) + uVar48) - SUB164(auVar20 * auVar38,8)) * uVar59,
             auVar39._8_8_ = 0, auVar39._0_8_ = uVar68, SUB164(auVar21 * auVar39,8) == 0)) break;
          uVar58 = uVar58 & 0xffffffff;
          uVar64 = uVar63;
        }
      }
      *(undefined4 *)(uVar57 + uVar63 * 4) = 0;
      uVar48 = *(int *)((long)puVar51 + 0xdc) - 1;
      *(uint *)((long)puVar51 + 0xdc) = uVar48;
      if (uVar47 < uVar48) {
        *(undefined4 *)(uVar6 + lVar56) = *(undefined4 *)(uVar6 + (ulong)uVar48 * 4);
        *puVar1 = *(uint *)(uVar8 + (ulong)*(uint *)((long)puVar51 + 0xdc) * 4);
        *(uint *)(uVar7 + (ulong)*(uint *)(uVar8 + (ulong)*(uint *)((long)puVar51 + 0xdc) * 4) * 4)
             = uVar47;
      }
LAB_00110d5f:
      (*_XSetTransientForHint_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar50,0);
      (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
      (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*puVar51,local_c8);
      if ((*(char *)(puVar50 + 0x1d) == '\0') &&
         ((((*(char *)((long)puVar50 + 0xfb) == '\0' && (*(char *)(puVar50 + 0x1f) != '\0')) &&
           (local_6c == 2)) &&
          (((char)puVar51[0x1d] == '\0' && (cVar45 = _window_focus_check(this), cVar45 != '\0'))))))
      {
        _set_input_focus(this,*puVar51,1);
      }
      goto LAB_00110e00;
    }
  }
  uVar53 = uVar53 + 1;
  auVar14._8_8_ = 0;
  auVar14._0_8_ = (iVar46 + 1) * uVar59;
  auVar32._8_8_ = 0;
  auVar32._0_8_ = uVar68;
  lVar56 = SUB168(auVar14 * auVar32,8);
  uVar47 = *(uint *)(uVar57 + lVar56 * 4);
  iVar46 = SUB164(auVar14 * auVar32,8);
  if ((uVar47 == 0) ||
     (auVar15._8_8_ = 0, auVar15._0_8_ = uVar47 * uVar59, auVar33._8_8_ = 0, auVar33._0_8_ = uVar68,
     auVar16._8_8_ = 0, auVar16._0_8_ = ((uVar48 + iVar46) - SUB164(auVar15 * auVar33,8)) * uVar59,
     auVar34._8_8_ = 0, auVar34._0_8_ = uVar68, SUB164(auVar16 * auVar34,8) < uVar53))
  goto LAB_00110d5f;
  goto LAB_00110bf4;
  while( true ) {
    uVar53 = uVar53 + 1;
    auVar24._8_8_ = 0;
    auVar24._0_8_ = (iVar46 + 1) * uVar6;
    auVar42._8_8_ = 0;
    auVar42._0_8_ = uVar57;
    lVar56 = SUB168(auVar24 * auVar42,8);
    uVar49 = *(uint *)(*(long *)(this + 0x300) + lVar56 * 4);
    iVar46 = SUB164(auVar24 * auVar42,8);
    if ((uVar49 == 0) ||
       (auVar25._8_8_ = 0, auVar25._0_8_ = uVar49 * uVar6, auVar43._8_8_ = 0, auVar43._0_8_ = uVar57
       , auVar26._8_8_ = 0,
       auVar26._0_8_ =
            ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4) + iVar46) -
            SUB164(auVar25 * auVar43,8)) * uVar6, auVar44._8_8_ = 0, auVar44._0_8_ = uVar57,
       SUB164(auVar26 * auVar44,8) < uVar53)) break;
LAB_00110f2a:
    if ((uVar47 == uVar49) &&
       (uVar48 == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar56 * 8) + 0x10))) {
      if (local_cc == 0xffffffff) {
        puVar52 = (undefined8 *)
                  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                  ::operator[](this_00,(int *)&local_e0);
        *(uint *)(puVar50 + 0x16) = uVar48;
        HashSet<int,HashMapHasherDefault,HashMapComparatorDefault<int>>::insert((int *)local_c8);
        (*_XSetTransientForHint_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*puVar50,*puVar52);
      }
      else {
        _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp",0x8bd
                         ,"Condition \"prev_parent != INVALID_WINDOW_ID\" is true.",
                         "Window already has a transient parent",0,0);
      }
      goto LAB_00110e00;
    }
  }
LAB_00111060:
  _err_print_error("window_set_transient","platform/linuxbsd/x11/display_server_x11.cpp",0x8bc,
                   "Condition \"!windows.has(p_parent)\" is true.",0,0);
LAB_00110e00:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_update_size_hints(int) */

void __thiscall DisplayServerX11::_update_size_hints(DisplayServerX11 *this,int param_1)

{
  ulong uVar1;
  ulong uVar2;
  int iVar3;
  char cVar4;
  int iVar5;
  undefined8 *puVar6;
  ulong *puVar7;
  long in_FS_OFFSET;
  int local_3c;
  undefined8 local_38;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  local_3c = param_1;
  puVar6 = (undefined8 *)
           HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
           ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                         *)(this + 0x2f0),&local_3c);
  iVar3 = local_3c;
  iVar5 = (**(code **)(*(long *)this + 0x5a0))(this,local_3c);
  puVar7 = (ulong *)(*_XAllocSizeHints_dylibloader_wrapper_xlib)();
  uVar1 = puVar6[8];
  uVar2 = puVar6[9];
  *puVar7 = *puVar7 | 0xc;
  puVar7[1] = uVar1;
  puVar7[2] = uVar2;
  if (1 < iVar5 - 3U) {
    cVar4 = (**(code **)(*(long *)this + 0x5c8))(this,0,iVar3);
    if (cVar4 == '\0') {
      local_38 = 0;
      cVar4 = Vector2i::operator!=((Vector2i *)(puVar6 + 6),(Vector2i *)&local_38);
      if (cVar4 != '\0') {
        uVar1 = puVar6[6];
        *puVar7 = *puVar7 | 0x10;
        puVar7[3] = uVar1;
      }
      local_38 = 0;
      cVar4 = Vector2i::operator!=((Vector2i *)(puVar6 + 7),(Vector2i *)&local_38);
      if (cVar4 != '\0') {
        uVar1 = puVar6[7];
        *puVar7 = *puVar7 | 0x20;
        puVar7[4] = uVar1;
      }
    }
    else {
      uVar1 = puVar6[9];
      *puVar7 = *puVar7 | 0x30;
      puVar7[3] = uVar1;
      puVar7[4] = uVar1;
    }
  }
  (*_XSetWMNormalHints_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar6,puVar7);
  (*_XFree_dylibloader_wrapper_xlib)(puVar7);
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_position(Vector2i const&, int) */

void __thiscall
DisplayServerX11::window_set_position(DisplayServerX11 *this,Vector2i *param_1,int param_2)

{
  long *plVar1;
  pthread_mutex_t *__mutex;
  ulong uVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  uint uVar11;
  int *piVar12;
  char cVar13;
  int iVar14;
  uint uVar15;
  int iVar16;
  WindowData *pWVar17;
  ulong uVar18;
  long lVar19;
  uint uVar20;
  ulong uVar21;
  uint uVar22;
  long in_FS_OFFSET;
  int local_90;
  uint local_8c [4];
  int local_7c;
  undefined1 local_78 [8];
  long local_70;
  undefined1 local_68 [8];
  int *local_60;
  int local_58 [6];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_8c[0] = param_2;
  iVar14 = pthread_mutex_lock(__mutex);
  uVar11 = local_8c[0];
  if (iVar14 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar14);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar2 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar15 = (local_8c[0] >> 0x10 ^ local_8c[0]) * -0x7a143595;
    uVar15 = (uVar15 ^ uVar15 >> 0xd) * -0x3d4d51cb;
    uVar20 = uVar15 ^ uVar15 >> 0x10;
    if (uVar15 == uVar15 >> 0x10) {
      uVar20 = 1;
      uVar18 = uVar2;
    }
    else {
      uVar18 = uVar20 * uVar2;
    }
    uVar21 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar3._8_8_ = 0;
    auVar3._0_8_ = uVar21;
    auVar7._8_8_ = 0;
    auVar7._0_8_ = uVar18;
    lVar19 = SUB168(auVar3 * auVar7,8);
    uVar15 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
    iVar14 = SUB164(auVar3 * auVar7,8);
    if (uVar15 != 0) {
      uVar22 = 0;
      do {
        if ((uVar20 == uVar15) &&
           (local_8c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar19 * 8) + 0x10))) {
          pWVar17 = (WindowData *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)local_8c);
          if (*(long *)(pWVar17 + 0x100) != 0) {
            Variant::Variant((Variant *)local_58,"Embedded window can\'t be moved.");
            stringify_variants((Variant *)&local_60);
            __print_line((String *)&local_60);
            piVar12 = local_60;
            if (local_60 != (int *)0x0) {
              LOCK();
              plVar1 = (long *)(local_60 + -4);
              *plVar1 = *plVar1 + -1;
              UNLOCK();
              if (*plVar1 == 0) {
                local_60 = (int *)0x0;
                Memory::free_static(piVar12 + -4,false);
              }
            }
            if (Variant::needs_deinit[local_58[0]] != '\0') {
              Variant::_clear_internal();
            }
            goto LAB_001115a1;
          }
          cVar13 = (**(code **)(*(long *)this + 0x5c8))(this,1,uVar11);
          local_90 = 0;
          if (cVar13 == '\0') {
            (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
            lVar19 = (*_XInternAtom_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),"_NET_FRAME_EXTENTS",1);
            if (lVar19 == 0) goto LAB_00111448;
            iVar14 = 0;
            local_60 = (int *)0x0;
            iVar16 = (*_XGetWindowProperty_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar17,lVar19,0,4,0,0,
                                local_78,&local_7c,&local_70,local_68,&local_60);
            if (iVar16 == 0) {
              local_90 = 0;
              if (((local_7c == 0x20) && (local_70 == 4)) && (local_60 != (int *)0x0)) {
                local_90 = *local_60;
                iVar14 = local_60[4];
              }
              (*_XFree_dylibloader_wrapper_xlib)();
            }
          }
          else {
LAB_00111448:
            iVar14 = 0;
          }
          (*_XMoveWindow_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar17,*(int *)param_1 - local_90
                     ,*(int *)(param_1 + 4) - iVar14);
          _update_real_mouse_position(this,pWVar17);
          pthread_mutex_unlock(__mutex);
          goto LAB_00111487;
        }
        uVar22 = uVar22 + 1;
        auVar4._8_8_ = 0;
        auVar4._0_8_ = (iVar14 + 1) * uVar2;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = uVar21;
        lVar19 = SUB168(auVar4 * auVar8,8);
        uVar15 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
        iVar14 = SUB164(auVar4 * auVar8,8);
      } while ((uVar15 != 0) &&
              (auVar5._8_8_ = 0, auVar5._0_8_ = uVar15 * uVar2, auVar9._8_8_ = 0,
              auVar9._0_8_ = uVar21, auVar6._8_8_ = 0,
              auVar6._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar14) - SUB164(auVar5 * auVar9,8)) * uVar2,
              auVar10._8_8_ = 0, auVar10._0_8_ = uVar21, uVar22 <= SUB164(auVar6 * auVar10,8)));
    }
  }
  _err_print_error("window_set_position","platform/linuxbsd/x11/display_server_x11.cpp",0x91d,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_001115a1:
  pthread_mutex_unlock(__mutex);
LAB_00111487:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_max_size(Vector2i, int) */

void __thiscall
DisplayServerX11::window_set_max_size(DisplayServerX11 *this,undefined8 param_2,uint param_3)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  char cVar11;
  int iVar12;
  uint uVar13;
  ulong uVar14;
  long lVar15;
  uint uVar16;
  ulong uVar17;
  uint uVar18;
  long in_FS_OFFSET;
  uint local_74;
  undefined8 local_70;
  Variant local_60 [8];
  int local_58 [6];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_74 = param_3;
  local_70 = param_2;
  iVar12 = pthread_mutex_lock(__mutex);
  uVar10 = local_74;
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar13 = (local_74 >> 0x10 ^ local_74) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar16 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar16 = 1;
      uVar14 = uVar1;
    }
    else {
      uVar14 = uVar16 * uVar1;
    }
    uVar17 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar17;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar14;
    lVar15 = SUB168(auVar2 * auVar6,8);
    uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
    iVar12 = SUB164(auVar2 * auVar6,8);
    if (uVar13 != 0) {
      uVar18 = 0;
      do {
        if ((uVar13 == uVar16) &&
           (local_74 == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar15 * 8) + 0x10))) {
          lVar15 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)&local_74);
          if (*(long *)(lVar15 + 0x100) != 0) {
            Variant::Variant((Variant *)local_58,"Embedded windows can\'t have a maximum size.");
            stringify_variants(local_60);
            __print_line((String *)local_60);
            CowData<char32_t>::_unref((CowData<char32_t> *)local_60);
            if (Variant::needs_deinit[local_58[0]] != '\0') {
              Variant::_clear_internal();
            }
            goto LAB_0011181d;
          }
          local_58[0] = 0;
          local_58[1] = 0;
          cVar11 = Vector2i::operator!=((Vector2i *)&local_70,(Vector2i *)local_58);
          if ((cVar11 == '\0') ||
             ((*(int *)(lVar15 + 0x30) <= (int)local_70 &&
              (*(int *)(lVar15 + 0x34) <= local_70._4_4_)))) {
            *(undefined8 *)(lVar15 + 0x38) = local_70;
            _update_size_hints(this,uVar10);
            (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
            pthread_mutex_unlock(__mutex);
            goto LAB_001117d0;
          }
          _err_print_error("window_set_max_size","platform/linuxbsd/x11/display_server_x11.cpp",
                           0x94b,"Maximum window size can\'t be smaller than minimum window size!",0
                           ,0);
          goto LAB_0011181d;
        }
        uVar18 = uVar18 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar12 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar17;
        lVar15 = SUB168(auVar3 * auVar7,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
        iVar12 = SUB164(auVar3 * auVar7,8);
      } while ((uVar13 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar13 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar17, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar12) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar17, uVar18 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_max_size","platform/linuxbsd/x11/display_server_x11.cpp",0x942,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_0011181d:
  pthread_mutex_unlock(__mutex);
LAB_001117d0:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_min_size(Vector2i, int) */

void __thiscall
DisplayServerX11::window_set_min_size(DisplayServerX11 *this,undefined8 param_2,uint param_3)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  char cVar11;
  int iVar12;
  uint uVar13;
  ulong uVar14;
  long lVar15;
  uint uVar16;
  ulong uVar17;
  uint uVar18;
  long in_FS_OFFSET;
  uint local_74;
  undefined8 local_70;
  Variant local_68 [8];
  undefined8 local_60;
  int local_58 [6];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_74 = param_3;
  local_70 = param_2;
  iVar12 = pthread_mutex_lock(__mutex);
  uVar10 = local_74;
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar13 = (local_74 >> 0x10 ^ local_74) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar16 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar16 = 1;
      uVar14 = uVar1;
    }
    else {
      uVar14 = uVar16 * uVar1;
    }
    uVar17 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar17;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar14;
    lVar15 = SUB168(auVar2 * auVar6,8);
    uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
    iVar12 = SUB164(auVar2 * auVar6,8);
    if (uVar13 != 0) {
      uVar18 = 0;
      do {
        if ((uVar13 == uVar16) &&
           (local_74 == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar15 * 8) + 0x10))) {
          lVar15 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)&local_74);
          if (*(long *)(lVar15 + 0x100) != 0) {
            Variant::Variant((Variant *)local_58,"Embedded windows can\'t have a minimum size.");
            stringify_variants(local_68);
            __print_line((String *)local_68);
            CowData<char32_t>::_unref((CowData<char32_t> *)local_68);
            if (Variant::needs_deinit[local_58[0]] != '\0') {
              Variant::_clear_internal();
            }
            goto LAB_00111b0a;
          }
          local_60 = 0;
          cVar11 = Vector2i::operator!=((Vector2i *)&local_70,(Vector2i *)&local_60);
          if (cVar11 != '\0') {
            local_58[0] = 0;
            local_58[1] = 0;
            cVar11 = Vector2i::operator!=((Vector2i *)(lVar15 + 0x38),(Vector2i *)local_58);
            if ((cVar11 != '\0') &&
               ((*(int *)(lVar15 + 0x38) < (int)local_70 ||
                (*(int *)(lVar15 + 0x3c) < local_70._4_4_)))) {
              _err_print_error("window_set_min_size","platform/linuxbsd/x11/display_server_x11.cpp",
                               0x969,
                               "Minimum window size can\'t be larger than maximum window size!",0,0)
              ;
              goto LAB_00111b0a;
            }
          }
          *(undefined8 *)(lVar15 + 0x30) = local_70;
          _update_size_hints(this,uVar10);
          (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
          pthread_mutex_unlock(__mutex);
          goto LAB_00111a9d;
        }
        uVar18 = uVar18 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar12 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar17;
        lVar15 = SUB168(auVar3 * auVar7,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
        iVar12 = SUB164(auVar3 * auVar7,8);
      } while ((uVar13 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar13 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar17, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar12) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar17, uVar18 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_min_size","platform/linuxbsd/x11/display_server_x11.cpp",0x960,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_00111b0a:
  pthread_mutex_unlock(__mutex);
LAB_00111a9d:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_size(Vector2i, int) */

void __thiscall DisplayServerX11::window_set_size(DisplayServerX11 *this,long param_2,uint param_3)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  int iVar11;
  int iVar12;
  uint uVar13;
  undefined8 *puVar14;
  long *plVar15;
  ulong uVar16;
  long lVar17;
  uint uVar18;
  uint uVar19;
  ulong uVar20;
  int iVar21;
  int iVar22;
  long in_FS_OFFSET;
  int iStack_10c;
  uint local_ec;
  long local_e8;
  uint local_e0;
  int local_dc;
  int local_58 [6];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_ec = param_3;
  iVar12 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  uVar10 = local_ec;
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  iStack_10c = (int)((ulong)param_2 >> 0x20);
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar13 = (local_ec >> 0x10 ^ local_ec) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar19 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar19 = 1;
      uVar16 = uVar1;
    }
    else {
      uVar16 = uVar19 * uVar1;
    }
    uVar20 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar20;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar16;
    lVar17 = SUB168(auVar2 * auVar6,8);
    uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
    iVar12 = SUB164(auVar2 * auVar6,8);
    if (uVar13 != 0) {
      uVar18 = 0;
      do {
        if ((uVar13 == uVar19) &&
           (local_ec == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar17 * 8) + 0x10))) {
          iVar12 = 1;
          if (iStack_10c != 0 && -1 < param_2) {
            iVar12 = iStack_10c;
          }
          iVar21 = 1;
          if (0 < (int)param_2) {
            iVar21 = (int)param_2;
          }
          puVar14 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)&local_ec);
          if (puVar14[0x20] == 0) {
            if ((*(int *)(puVar14 + 9) == iVar21) && (*(int *)((long)puVar14 + 0x4c) == iVar12))
            goto LAB_00111e61;
            (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
            (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),*puVar14,&local_e8);
            iVar11 = local_dc;
            uVar13 = local_e0;
            *(int *)(puVar14 + 9) = iVar21;
            *(int *)((long)puVar14 + 0x4c) = iVar12;
            _update_size_hints(this,uVar10);
            iVar22 = 0x32;
            (*_XResizeWindow_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),*puVar14,iVar21,iVar12);
            goto LAB_00111dfb;
          }
          Variant::Variant((Variant *)local_58,"Embedded window can\'t be resized.");
          stringify_variants((Variant *)&local_e8);
          __print_line((String *)&local_e8);
          lVar17 = local_e8;
          if (local_e8 != 0) {
            LOCK();
            plVar15 = (long *)(local_e8 + -0x10);
            *plVar15 = *plVar15 + -1;
            UNLOCK();
            if (*plVar15 == 0) {
              local_e8 = 0;
              Memory::free_static((void *)(lVar17 + -0x10),false);
            }
          }
          if (Variant::needs_deinit[local_58[0]] != '\0') {
            Variant::_clear_internal();
          }
          goto LAB_00111e61;
        }
        uVar18 = uVar18 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar12 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar20;
        lVar17 = SUB168(auVar3 * auVar7,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
        iVar12 = SUB164(auVar3 * auVar7,8);
      } while ((uVar13 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar13 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar20, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar12) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar20, uVar18 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_size","platform/linuxbsd/x11/display_server_x11.cpp",0x97e,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
  goto LAB_00111e61;
  while( true ) {
    plVar15 = (long *)OS::get_singleton();
    (**(code **)(*plVar15 + 0x1f8))(plVar15);
    iVar22 = iVar22 + -1;
    if (iVar22 == 0) break;
LAB_00111dfb:
    (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
    (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),*puVar14,&local_e8);
    if ((local_e0 != uVar13) || (local_dc != iVar11)) break;
  }
  if (*(long *)(this + 0x290) != 0) {
    RenderingContextDriver::window_set_size((int)*(long *)(this + 0x290),uVar10,local_e0);
  }
  if (*(long *)(this + 0x280) != 0) {
    GLManager_X11::window_resize((int)*(long *)(this + 0x280),uVar10,local_e0);
  }
LAB_00111e61:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_set_wm_maximized(int, bool) */

void __thiscall DisplayServerX11::_set_wm_maximized(DisplayServerX11 *this,int param_1,bool param_2)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  char cVar10;
  uint uVar11;
  int iVar12;
  int iVar13;
  undefined8 *puVar14;
  undefined8 uVar15;
  undefined8 uVar16;
  long *plVar17;
  ulong uVar18;
  long lVar19;
  undefined8 *puVar20;
  ulong uVar21;
  uint uVar22;
  uint uVar23;
  long in_FS_OFFSET;
  byte bVar24;
  int local_10c [3];
  undefined1 auStack_100 [24];
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined4 local_d8;
  ulong local_d0;
  undefined8 local_c8;
  undefined8 local_c0;
  undefined8 local_50;
  long local_40;
  
  bVar24 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_10c[0] = param_1;
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar23 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar23 = 1;
      uVar18 = uVar1;
    }
    else {
      uVar18 = uVar23 * uVar1;
    }
    uVar21 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar21;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar18;
    lVar19 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
    iVar12 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar22 = 0;
      do {
        if ((uVar23 == uVar11) &&
           (param_1 == *(int *)(*(long *)(*(long *)(this + 0x2f8) + lVar19 * 8) + 0x10))) {
          puVar14 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),local_10c);
          uVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
          uVar16 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_MAXIMIZED_HORZ",0);
          local_c0 = (*_XInternAtom_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_MAXIMIZED_VERT",0);
          stack0xfffffffffffffefc = 0;
          local_50 = 0;
          puVar20 = (undefined8 *)auStack_100;
          for (lVar19 = 0x17; lVar19 != 0; lVar19 = lVar19 + -1) {
            *puVar20 = 0;
            puVar20 = puVar20 + (ulong)bVar24 * -2 + 1;
          }
          local_10c[1] = 0x21;
          lVar19 = *(long *)(this + 0x360);
          local_e8 = *puVar14;
          local_d0 = (ulong)param_2;
          local_d8 = 0x20;
          uStack_e0 = uVar15;
          local_c8 = uVar16;
          (*_XSendEvent_dylibloader_wrapper_xlib)
                    (lVar19,*(undefined8 *)
                             ((long)*(int *)(lVar19 + 0xe0) * 0x80 + *(long *)(lVar19 + 0xe8) + 0x10
                             ),0,0x180000,local_10c + 1);
          if (param_2) {
            if (*(code **)(*(long *)this + 0x5b8) == window_is_maximize_allowed) {
              iVar12 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
              if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
                std::__throw_system_error(iVar12);
              }
              cVar10 = _window_maximize_check(this,param_1,"_NET_WM_ALLOWED_ACTIONS");
              pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
            }
            else {
              cVar10 = (**(code **)(*(long *)this + 0x5b8))(this,param_1);
            }
            if (cVar10 != '\0') {
              for (iVar12 = 0;
                  (iVar13 = (**(code **)(*(long *)this + 0x5a0))(this,param_1), iVar13 != 2 &&
                  (iVar12 != 0x32)); iVar12 = iVar12 + 1) {
                plVar17 = (long *)OS::get_singleton();
                (**(code **)(*plVar17 + 0x1f8))(plVar17,10000);
              }
            }
          }
          *(bool *)((long)puVar14 + 0xfa) = param_2;
          goto LAB_00112244;
        }
        uVar22 = uVar22 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar12 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar21;
        lVar19 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar19 * 4);
        iVar12 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar21, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar12) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar21, uVar22 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("_set_wm_maximized","platform/linuxbsd/x11/display_server_x11.cpp",0xaa7,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_00112244:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_set_wm_minimized(int, bool) */

void __thiscall DisplayServerX11::_set_wm_minimized(DisplayServerX11 *this,int param_1,bool param_2)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  long lVar4;
  undefined8 *puVar5;
  long in_FS_OFFSET;
  byte bVar6;
  int local_10c [3];
  undefined1 auStack_100 [24];
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined4 local_d8;
  ulong local_d0;
  undefined8 local_c8;
  undefined8 local_50;
  long local_40;
  
  bVar6 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_10c[0] = param_1;
  puVar1 = (undefined8 *)
           HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
           ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                         *)(this + 0x2f0),local_10c);
  uVar2 = (*_XInternAtom_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),"WM_CHANGE_STATE",0);
  stack0xfffffffffffffefc = 0;
  local_50 = 0;
  puVar5 = (undefined8 *)auStack_100;
  for (lVar4 = 0x17; lVar4 != 0; lVar4 = lVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + (ulong)bVar6 * -2 + 1;
  }
  local_10c[1] = 0x21;
  lVar4 = *(long *)(this + 0x360);
  local_d0 = (-(ulong)!param_2 & 0xfffffffffffffffe) + 3;
  local_e8 = *puVar1;
  local_d8 = 0x20;
  uStack_e0 = uVar2;
  (*_XSendEvent_dylibloader_wrapper_xlib)
            (lVar4,*(undefined8 *)
                    ((long)*(int *)(lVar4 + 0xe0) * 0x80 + *(long *)(lVar4 + 0xe8) + 0x10),0,
             0x180000,local_10c + 1);
  uVar2 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
  uVar3 = (*_XInternAtom_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_HIDDEN",0);
  stack0xfffffffffffffefc = 0;
  local_50 = 0;
  puVar5 = (undefined8 *)auStack_100;
  for (lVar4 = 0x17; lVar4 != 0; lVar4 = lVar4 + -1) {
    *puVar5 = 0;
    puVar5 = puVar5 + (ulong)bVar6 * -2 + 1;
  }
  local_d0 = (ulong)param_2;
  local_10c[1] = 0x21;
  lVar4 = *(long *)(this + 0x360);
  local_e8 = *puVar1;
  local_d8 = 0x20;
  uStack_e0 = uVar2;
  local_c8 = uVar3;
  (*_XSendEvent_dylibloader_wrapper_xlib)
            (lVar4,*(undefined8 *)
                    ((long)*(int *)(lVar4 + 0xe0) * 0x80 + *(long *)(lVar4 + 0xe8) + 0x10),0,
             0x180000,local_10c + 1);
  *(bool *)((long)puVar1 + 0xf9) = param_2;
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_set_wm_fullscreen(int, bool, bool) */

void __thiscall
DisplayServerX11::_set_wm_fullscreen(DisplayServerX11 *this,int param_1,bool param_2,bool param_3)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  char cVar10;
  uint uVar11;
  undefined8 *puVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  int iVar15;
  ulong uVar16;
  long lVar17;
  undefined8 *puVar18;
  ulong uVar19;
  uint uVar20;
  uint uVar21;
  long in_FS_OFFSET;
  byte bVar22;
  int local_14c [3];
  long local_140;
  undefined8 local_138;
  undefined8 uStack_130;
  ulong local_128;
  undefined8 local_120;
  undefined8 local_118;
  undefined4 local_108;
  undefined1 local_104 [28];
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined4 local_d8;
  ulong local_d0;
  undefined8 local_c8;
  undefined8 local_50;
  long local_40;
  
  bVar22 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_14c[0] = param_1;
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = ((uint)param_1 >> 0x10 ^ param_1) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar21 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar21 = 1;
      uVar16 = uVar1;
    }
    else {
      uVar16 = uVar21 * uVar1;
    }
    uVar19 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar19;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar16;
    lVar17 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
    iVar15 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar20 = 0;
      do {
        if ((uVar21 == uVar11) &&
           (param_1 == *(int *)(*(long *)(*(long *)(this + 0x2f8) + lVar17 * 8) + 0x10))) {
          puVar12 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),local_14c);
          if (param_2) {
            cVar10 = (**(code **)(*(long *)this + 0x5c8))(this,1,param_1);
            if (cVar10 == '\0') {
              local_128 = 0;
              local_120 = 0;
              local_118 = 0;
              local_138 = _LC211;
              uStack_130 = _UNK_0012da28;
              lVar17 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                 (*(undefined8 *)(this + 0x360),"_MOTIF_WM_HINTS",1);
              if (lVar17 != 0) {
                (*_XChangeProperty_dylibloader_wrapper_xlib)
                          (*(undefined8 *)(this + 0x360),*puVar12,lVar17,lVar17,0x20,0,&local_138,5)
                ;
              }
            }
            _update_size_hints(this,param_1);
          }
          uVar13 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
          uVar14 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_FULLSCREEN",0);
          local_104._0_8_ = 0;
          local_50 = 0;
          puVar18 = (undefined8 *)(local_104 + 4);
          for (lVar17 = 0x17; lVar17 != 0; lVar17 = lVar17 + -1) {
            *puVar18 = 0;
            puVar18 = puVar18 + (ulong)bVar22 * -2 + 1;
          }
          local_108 = 0x21;
          lVar17 = *(long *)(this + 0x360);
          local_e8 = *puVar12;
          local_d8 = 0x20;
          local_d0 = (ulong)param_2;
          uStack_e0 = uVar13;
          local_c8 = uVar14;
          (*_XSendEvent_dylibloader_wrapper_xlib)
                    (lVar17,*(undefined8 *)
                             ((long)*(int *)(lVar17 + 0xe0) * 0x80 + *(long *)(lVar17 + 0xe8) + 0x10
                             ),0,0x180000,&local_108);
          lVar17 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_BYPASS_COMPOSITOR",0);
          local_140 = 0;
          if (param_2) {
            local_140 = 2 - (ulong)param_3;
            if (lVar17 == 0) {
              (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
            }
            else {
              (*_XChangeProperty_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),*puVar12,lVar17,6,0x20,0,&local_140);
              (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
            }
          }
          else {
            if (lVar17 == 0) {
              (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
            }
            else {
              (*_XChangeProperty_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),*puVar12,lVar17,6,0x20,0,&local_140,1);
              (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
            }
            _update_size_hints(this,param_1);
            local_120 = 0;
            local_138 = _LC211;
            uStack_130 = _UNK_0012da28;
            local_118 = 0;
            local_128 = (ulong)(*(byte *)((long)puVar12 + 0xec) ^ 1);
            lVar17 = (*_XInternAtom_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),"_MOTIF_WM_HINTS",1);
            if (lVar17 != 0) {
              (*_XChangeProperty_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),*puVar12,lVar17,lVar17,0x20,0,&local_138,5);
            }
          }
          goto LAB_001127b4;
        }
        uVar20 = uVar20 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar15 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar19;
        lVar17 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
        iVar15 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar19, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar15) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar19, uVar20 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("_set_wm_fullscreen","platform/linuxbsd/x11/display_server_x11.cpp",0xae5,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_001127b4:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_validate_mode_on_map(int) */

void __thiscall DisplayServerX11::_validate_mode_on_map(DisplayServerX11 *this,int param_1)

{
  int iVar1;
  char cVar2;
  undefined8 *puVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  long lVar6;
  undefined8 *puVar7;
  long in_FS_OFFSET;
  byte bVar8;
  int local_8c [3];
  undefined1 auStack_80 [24];
  undefined8 local_68;
  undefined8 uStack_60;
  undefined4 local_58;
  undefined8 local_50;
  undefined8 local_48;
  undefined8 local_38;
  undefined8 local_30;
  long local_20;
  
  bVar8 = 0;
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_8c[0] = param_1;
  puVar3 = (undefined8 *)
           HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
           ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                         *)(this + 0x2f0),local_8c);
  iVar1 = local_8c[0];
  if (*(char *)((long)puVar3 + 0xe9) != '\0') {
    cVar2 = _window_fullscreen_check(this,local_8c[0]);
    if (cVar2 == '\0') {
      _set_wm_fullscreen(this,iVar1,true,*(bool *)((long)puVar3 + 0xea));
      goto LAB_0011299e;
    }
  }
  iVar1 = local_8c[0];
  if (*(char *)((long)puVar3 + 0xfa) != '\0') {
    cVar2 = _window_maximize_check(this,local_8c[0],"_NET_WM_STATE");
    if (cVar2 == '\0') {
      _set_wm_maximized(this,iVar1,true);
      goto LAB_0011299e;
    }
  }
  iVar1 = local_8c[0];
  if (*(char *)((long)puVar3 + 0xf9) != '\0') {
    cVar2 = _window_minimize_check(this,local_8c[0]);
    if (cVar2 == '\0') {
      _set_wm_minimized(this,iVar1,true);
    }
  }
LAB_0011299e:
  if (*(char *)((long)puVar3 + 0xeb) != '\0') {
    uVar4 = (*_XInternAtom_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
    uVar5 = (*_XInternAtom_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_ABOVE",0);
    stack0xffffffffffffff7c = 0;
    local_30 = 0;
    puVar7 = (undefined8 *)auStack_80;
    for (lVar6 = 0xb; lVar6 != 0; lVar6 = lVar6 + -1) {
      *puVar7 = 0;
      puVar7 = puVar7 + (ulong)bVar8 * -2 + 1;
    }
    local_8c[1] = 0x21;
    lVar6 = *(long *)(this + 0x360);
    local_68 = *puVar3;
    local_50 = 1;
    local_58 = 0x20;
    local_38 = 1;
    uStack_60 = uVar4;
    local_48 = uVar5;
    (*_XSendEvent_dylibloader_wrapper_xlib)
              (lVar6,*(undefined8 *)
                      ((long)*(int *)(lVar6 + 0xe0) * 0x80 + *(long *)(lVar6 + 0xe8) + 0x10),0,
               0x180000,local_8c + 1);
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::window_set_mode(DisplayServer::WindowMode, int) */

void __thiscall DisplayServerX11::window_set_mode(DisplayServerX11 *this,uint param_2,uint param_3)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  uint uVar10;
  char cVar11;
  int iVar12;
  uint uVar13;
  ulong uVar14;
  long lVar15;
  ulong uVar16;
  uint uVar17;
  uint uVar18;
  long in_FS_OFFSET;
  uint local_5c;
  int local_58 [6];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_5c = param_3;
  iVar12 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  uVar10 = local_5c;
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar13 = (local_5c >> 0x10 ^ local_5c) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar18 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar18 = 1;
      uVar14 = uVar1;
    }
    else {
      uVar14 = uVar18 * uVar1;
    }
    uVar16 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar16;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar14;
    lVar15 = SUB168(auVar2 * auVar6,8);
    uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
    iVar12 = SUB164(auVar2 * auVar6,8);
    if (uVar13 != 0) {
      uVar17 = 0;
      do {
        if ((uVar13 == uVar18) &&
           (local_5c == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar15 * 8) + 0x10))) {
          lVar15 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)&local_5c);
          uVar13 = (**(code **)(*(long *)this + 0x5a0))(this,uVar10);
          if (uVar13 == param_2) goto LAB_00112d00;
          if (param_2 == 0) {
            if (uVar13 != 2) {
              if (uVar13 < 3) {
                if (uVar13 == 1) {
                  _set_wm_minimized(this,uVar10,false);
                }
                goto LAB_00112d00;
              }
              if (1 < uVar13 - 3) goto LAB_00112d00;
              *(undefined2 *)(lVar15 + 0xe9) = 0;
              _set_wm_fullscreen(this,uVar10,false,false);
              cVar11 = (**(code **)(*(long *)this + 0x5c8))(this,2,uVar10);
              (**(code **)(*(long *)this + 0x548))(this,lVar15 + 0xf0,uVar10);
              if (cVar11 == '\0') goto LAB_00112d00;
            }
            _set_wm_maximized(this,uVar10,false);
            goto LAB_00112d00;
          }
          if (*(long *)(lVar15 + 0x100) != 0) {
            Variant::Variant((Variant *)local_58,"Embedded window only supports Windowed mode.");
            print_line((Variant *)local_58);
            if (Variant::needs_deinit[local_58[0]] != '\0') {
              Variant::_clear_internal();
            }
            goto LAB_00112d00;
          }
          if (uVar13 == 2) {
            _set_wm_maximized(this,uVar10,false);
joined_r0x00112f51:
            if (param_2 != 2) {
              if (param_2 < 3) {
LAB_00112eb6:
                _set_wm_minimized(this,uVar10,true);
              }
              else {
LAB_00112e30:
                if (param_2 - 3 < 2) {
                  *(undefined8 *)(lVar15 + 0xf0) = *(undefined8 *)(lVar15 + 0x40);
                  cVar11 = (**(code **)(*(long *)this + 0x5c8))(this,2,uVar10);
                  if (cVar11 != '\0') {
                    _set_wm_maximized(this,uVar10,true);
                  }
                  *(undefined1 *)(lVar15 + 0xe9) = 1;
                  if (param_2 == 4) {
                    *(undefined1 *)(lVar15 + 0xea) = 1;
                    _set_wm_fullscreen(this,uVar10,true,true);
                  }
                  else {
                    *(undefined1 *)(lVar15 + 0xea) = 0;
                    _set_wm_fullscreen(this,uVar10,true,false);
                  }
                }
              }
              goto LAB_00112d00;
            }
          }
          else {
            if (2 < uVar13) {
              if (uVar13 - 3 < 2) {
                *(undefined2 *)(lVar15 + 0xe9) = 0;
                _set_wm_fullscreen(this,uVar10,false,false);
                cVar11 = (**(code **)(*(long *)this + 0x5c8))(this,2,uVar10);
                (**(code **)(*(long *)this + 0x548))(this,lVar15 + 0xf0,uVar10);
                if (cVar11 != '\0') {
                  _set_wm_maximized(this,uVar10,false);
                  goto LAB_00112cdf;
                }
              }
              goto joined_r0x00112f51;
            }
            if (uVar13 != 1) goto joined_r0x00112f51;
            _set_wm_minimized(this,uVar10,false);
LAB_00112cdf:
            if (param_2 != 2) {
              if (2 < param_2) goto LAB_00112e30;
              if (param_2 == 1) goto LAB_00112eb6;
              goto LAB_00112d00;
            }
          }
          _set_wm_maximized(this,uVar10,true);
          goto LAB_00112d00;
        }
        uVar17 = uVar17 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar12 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar16;
        lVar15 = SUB168(auVar3 * auVar7,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
        iVar12 = SUB164(auVar3 * auVar7,8);
      } while ((uVar13 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar13 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar16, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar12) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar16, uVar17 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_mode","platform/linuxbsd/x11/display_server_x11.cpp",0xb2c,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_00112d00:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_flag(DisplayServer::WindowFlags, bool, int) */

void __thiscall
DisplayServerX11::window_set_flag
          (DisplayServerX11 *this,undefined4 param_2,byte param_3,uint param_4)

{
  ulong uVar1;
  code *pcVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  uint uVar11;
  int iVar12;
  uint uVar13;
  undefined8 *puVar14;
  undefined8 uVar15;
  ulong uVar16;
  long lVar17;
  char *pcVar18;
  undefined8 *puVar19;
  ulong uVar20;
  uint uVar21;
  uint uVar22;
  long in_FS_OFFSET;
  byte bVar23;
  uint local_13c;
  undefined8 local_138;
  undefined8 uStack_130;
  ulong local_128;
  undefined8 local_120;
  undefined8 local_118;
  int local_dc;
  int local_a8 [2];
  undefined8 auStack_a0 [3];
  undefined8 local_88;
  undefined8 uStack_80;
  undefined4 local_78;
  ulong local_70;
  undefined8 local_68;
  undefined8 local_58;
  undefined8 local_50;
  long local_40;
  
  bVar23 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_13c = param_4;
  iVar12 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  uVar11 = local_13c;
  if (iVar12 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar12);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar13 = (local_13c >> 0x10 ^ local_13c) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar22 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar22 = 1;
      uVar16 = uVar1;
    }
    else {
      uVar16 = uVar22 * uVar1;
    }
    uVar20 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar3._8_8_ = 0;
    auVar3._0_8_ = uVar20;
    auVar7._8_8_ = 0;
    auVar7._0_8_ = uVar16;
    lVar17 = SUB168(auVar3 * auVar7,8);
    uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
    iVar12 = SUB164(auVar3 * auVar7,8);
    if (uVar13 != 0) {
      uVar21 = 0;
      do {
        if ((uVar13 == uVar22) &&
           (local_13c == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar17 * 8) + 0x10))) {
          puVar14 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)&local_13c);
          switch(param_2) {
          case 0:
            if ((param_3 == 0) || (puVar14[0x20] == 0)) {
              *(byte *)((long)puVar14 + 0xed) = param_3;
              _update_size_hints(this,uVar11);
              (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
              goto switchD_00113145_caseD_6;
            }
            pcVar18 = "Embedded window resize can\'t be disabled.";
            break;
          case 1:
            local_120 = 0;
            local_118 = 0;
            local_138 = _LC211;
            uStack_130 = _UNK_0012da28;
            local_128 = (ulong)(param_3 ^ 1);
            lVar17 = (*_XInternAtom_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),"_MOTIF_WM_HINTS",1);
            if (lVar17 != 0) {
              (*_XChangeProperty_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),*puVar14,lVar17,lVar17,0x20,0,&local_138,5);
            }
            if (puVar14[0x20] == 0) {
              pcVar2 = *(code **)(*(long *)this + 0x580);
              uVar15 = (**(code **)(*(long *)this + 0x588))(this,uVar11);
              (*pcVar2)(this,uVar15,uVar11);
            }
            *(byte *)((long)puVar14 + 0xec) = param_3;
            _update_window_mouse_passthrough(this,uVar11);
            goto switchD_00113145_caseD_6;
          case 2:
            if (*(int *)(puVar14 + 0x16) == -1) {
              if (param_3 != 0) {
                if (puVar14[0x20] != 0) {
                  pcVar18 = "Embedded window can\'t become on top.";
                  break;
                }
                if (*(char *)((long)puVar14 + 0xe9) != '\0') {
                  _set_wm_maximized(this,uVar11,true);
                }
              }
              uVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                 (*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
              local_68 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                   (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_ABOVE",0);
              stack0xffffffffffffff5c = 0;
              local_50 = 0;
              puVar19 = auStack_a0;
              for (lVar17 = 0xb; lVar17 != 0; lVar17 = lVar17 + -1) {
                *puVar19 = 0;
                puVar19 = puVar19 + (ulong)bVar23 * -2 + 1;
              }
              local_a8[0] = 0x21;
              lVar17 = *(long *)(this + 0x360);
              local_88 = *puVar14;
              local_58 = 1;
              local_70 = (ulong)param_3;
              local_78 = 0x20;
              uStack_80 = uVar15;
              (*_XSendEvent_dylibloader_wrapper_xlib)
                        (lVar17,*(undefined8 *)
                                 ((long)*(int *)(lVar17 + 0xe0) * 0x80 + *(long *)(lVar17 + 0xe8) +
                                 0x10),0,0x180000,local_a8);
              if ((param_3 == 0) && (*(char *)((long)puVar14 + 0xe9) == '\0')) {
                _set_wm_maximized(this,uVar11,false);
              }
              *(byte *)((long)puVar14 + 0xeb) = param_3;
            }
            else {
              _err_print_error("window_set_flag","platform/linuxbsd/x11/display_server_x11.cpp",
                               0xbba,
                               "Condition \"wd.transient_parent != INVALID_WINDOW_ID\" is true.",
                               "Can\'t make a window transient if the \'on top\' flag is active.",0,
                               0);
            }
            goto switchD_00113145_caseD_6;
          case 3:
            *(byte *)((long)puVar14 + 0xfc) = param_3;
            goto switchD_00113145_caseD_6;
          case 4:
            *(byte *)(puVar14 + 0x1d) = param_3;
            goto switchD_00113145_caseD_6;
          case 5:
            (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
            (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),*puVar14,&local_138);
            if (uVar11 == 0) {
              _err_print_error("window_set_flag","platform/linuxbsd/x11/display_server_x11.cpp",
                               0xbe6,"Condition \"p_window == MAIN_WINDOW_ID\" is true.",
                               "Main window can\'t be popup.",0,0);
              goto switchD_00113145_caseD_6;
            }
            if ((local_dc == 2) && (*(byte *)((long)puVar14 + 0xfb) != param_3)) {
              _err_print_error("window_set_flag","platform/linuxbsd/x11/display_server_x11.cpp",
                               0xbe7,
                               "Condition \"(xwa.map_state == 2) && (wd.is_popup != p_enabled)\" is true."
                               ,"Popup flag can\'t changed while window is opened.",0,0);
              goto switchD_00113145_caseD_6;
            }
            if ((param_3 == 0) || (puVar14[0x20] == 0)) {
              *(byte *)((long)puVar14 + 0xfb) = param_3;
              goto switchD_00113145_caseD_6;
            }
            pcVar18 = "Embedded window can\'t be popup.";
            break;
          default:
            goto switchD_00113145_caseD_6;
          case 7:
            *(byte *)((long)puVar14 + 0xfd) = param_3;
            _update_window_mouse_passthrough(this,uVar11);
            goto switchD_00113145_caseD_6;
          }
          Variant::Variant((Variant *)local_a8,pcVar18);
          print_line((Variant *)local_a8);
          if (Variant::needs_deinit[local_a8[0]] != '\0') {
            Variant::_clear_internal();
          }
          goto switchD_00113145_caseD_6;
        }
        uVar21 = uVar21 + 1;
        auVar4._8_8_ = 0;
        auVar4._0_8_ = (iVar12 + 1) * uVar1;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = uVar20;
        lVar17 = SUB168(auVar4 * auVar8,8);
        uVar13 = *(uint *)(*(long *)(this + 0x300) + lVar17 * 4);
        iVar12 = SUB164(auVar4 * auVar8,8);
      } while ((uVar13 != 0) &&
              (auVar5._8_8_ = 0, auVar5._0_8_ = uVar13 * uVar1, auVar9._8_8_ = 0,
              auVar9._0_8_ = uVar20, auVar6._8_8_ = 0,
              auVar6._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar12) - SUB164(auVar5 * auVar9,8)) * uVar1,
              auVar10._8_8_ = 0, auVar10._0_8_ = uVar20, uVar21 <= SUB164(auVar6 * auVar10,8)));
    }
  }
  _err_print_error("window_set_flag","platform/linuxbsd/x11/display_server_x11.cpp",0xb98,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
switchD_00113145_caseD_6:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_request_attention(int) */

void __thiscall DisplayServerX11::window_request_attention(DisplayServerX11 *this,int param_1)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  undefined8 *puVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  ulong uVar15;
  long lVar16;
  uint uVar17;
  undefined8 *puVar18;
  ulong uVar19;
  uint uVar20;
  long in_FS_OFFSET;
  byte bVar21;
  uint local_10c [3];
  undefined1 auStack_100 [24];
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined4 local_d8;
  undefined8 local_d0;
  undefined8 local_c8;
  undefined8 local_50;
  long local_40;
  
  bVar21 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_10c[0] = param_1;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_10c[0] >> 0x10 ^ local_10c[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar17 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar17 = 1;
      uVar15 = uVar1;
    }
    else {
      uVar15 = uVar17 * uVar1;
    }
    uVar19 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar19;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar15;
    lVar16 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar16 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar20 = 0;
      do {
        if ((uVar17 == uVar11) &&
           (local_10c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar16 * 8) + 0x10))) {
          puVar12 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)local_10c);
          uVar13 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE",0);
          uVar14 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_WM_STATE_DEMANDS_ATTENTION",0);
          stack0xfffffffffffffefc = 0;
          local_50 = 0;
          puVar18 = (undefined8 *)auStack_100;
          for (lVar16 = 0x17; lVar16 != 0; lVar16 = lVar16 + -1) {
            *puVar18 = 0;
            puVar18 = puVar18 + (ulong)bVar21 * -2 + 1;
          }
          local_10c[1] = 0x21;
          lVar16 = *(long *)(this + 0x360);
          local_e8 = *puVar12;
          local_d8 = 0x20;
          local_d0 = 1;
          uStack_e0 = uVar13;
          local_c8 = uVar14;
          (*_XSendEvent_dylibloader_wrapper_xlib)
                    (lVar16,*(undefined8 *)
                             ((long)*(int *)(lVar16 + 0xe0) * 0x80 + *(long *)(lVar16 + 0xe8) + 0x10
                             ),0,0x180000,local_10c + 1);
          (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
          pthread_mutex_unlock(__mutex);
          goto LAB_00113827;
        }
        uVar20 = uVar20 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar19;
        lVar16 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar16 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar19, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar19, uVar20 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_request_attention","platform/linuxbsd/x11/display_server_x11.cpp",0xc2a,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
LAB_00113827:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Type propagation algorithm not settling */
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_move_to_foreground(int) */

void __thiscall DisplayServerX11::window_move_to_foreground(DisplayServerX11 *this,int param_1)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  undefined8 *puVar12;
  undefined8 uVar13;
  ulong uVar14;
  long lVar15;
  uint uVar16;
  undefined8 *puVar17;
  ulong uVar18;
  uint uVar19;
  long in_FS_OFFSET;
  byte bVar20;
  uint local_10c [3];
  undefined1 auStack_100 [24];
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined4 local_d8;
  undefined8 local_d0;
  undefined8 local_50;
  long local_40;
  
  bVar20 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_10c[0] = param_1;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_10c[0] >> 0x10 ^ local_10c[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar16 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar16 = 1;
      uVar14 = uVar1;
    }
    else {
      uVar14 = uVar16 * uVar1;
    }
    uVar18 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar18;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar14;
    lVar15 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar19 = 0;
      do {
        if ((uVar16 == uVar11) &&
           (local_10c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar15 * 8) + 0x10))) {
          puVar12 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)local_10c);
          uVar13 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"_NET_ACTIVE_WINDOW",0);
          stack0xfffffffffffffefc = 0;
          local_50 = 0;
          puVar17 = (undefined8 *)auStack_100;
          for (lVar15 = 0x17; lVar15 != 0; lVar15 = lVar15 + -1) {
            *puVar17 = 0;
            puVar17 = puVar17 + (ulong)bVar20 * -2 + 1;
          }
          local_10c[1] = 0x21;
          lVar15 = *(long *)(this + 0x360);
          local_e8 = *puVar12;
          local_d8 = 0x20;
          local_d0 = 1;
          uStack_e0 = uVar13;
          (*_XSendEvent_dylibloader_wrapper_xlib)
                    (lVar15,*(undefined8 *)
                             ((long)*(int *)(lVar15 + 0xe0) * 0x80 + *(long *)(lVar15 + 0xe8) + 0x10
                             ),0,0x180000,local_10c + 1);
          (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
          pthread_mutex_unlock(__mutex);
          goto LAB_00113aa5;
        }
        uVar19 = uVar19 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar18;
        lVar15 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar15 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar18, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar18, uVar19 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_move_to_foreground","platform/linuxbsd/x11/display_server_x11.cpp",0xc44,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
LAB_00113aa5:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_ime_active(bool, int) */

void __thiscall
DisplayServerX11::window_set_ime_active(DisplayServerX11 *this,bool param_1,int param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined8 uVar2;
  long lVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  char cVar12;
  int iVar13;
  uint uVar14;
  ulong uVar15;
  long lVar16;
  uint uVar17;
  ulong uVar18;
  uint uVar19;
  long in_FS_OFFSET;
  uint local_cc;
  undefined8 local_c8 [11];
  int local_6c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_cc = param_2;
  iVar13 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar13 != 0) {
LAB_00113e6d:
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar13);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar14 = (local_cc >> 0x10 ^ local_cc) * -0x7a143595;
    uVar14 = (uVar14 ^ uVar14 >> 0xd) * -0x3d4d51cb;
    uVar17 = uVar14 ^ uVar14 >> 0x10;
    if (uVar14 == uVar14 >> 0x10) {
      uVar17 = 1;
      uVar15 = uVar1;
    }
    else {
      uVar15 = uVar17 * uVar1;
    }
    uVar18 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar18;
    auVar8._8_8_ = 0;
    auVar8._0_8_ = uVar15;
    lVar16 = SUB168(auVar4 * auVar8,8);
    uVar14 = *(uint *)(*(long *)(this + 0x300) + lVar16 * 4);
    iVar13 = SUB164(auVar4 * auVar8,8);
    if (uVar14 != 0) {
      uVar19 = 0;
      do {
        if ((uVar17 == uVar14) &&
           (local_cc == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar16 * 8) + 0x10))) {
          lVar16 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)&local_cc);
          if (*(long *)(lVar16 + 0x18) == 0) goto LAB_00113d12;
          if (*(char *)(lVar16 + 0xf8) == '\0') {
            lVar3 = *(long *)(this + 0x2d0);
            *(undefined1 *)(lVar16 + 0x20) = 0;
            local_c8[0] = 0;
            if (lVar3 != 0) {
              CowData<char32_t>::_unref((CowData<char32_t> *)(this + 0x2d0));
              *(undefined8 *)(this + 0x2d0) = 0;
            }
            CowData<char32_t>::_unref((CowData<char32_t> *)local_c8);
            *(undefined8 *)(this + 0x2c8) = 0;
          }
          else {
            __mutex = (pthread_mutex_t *)(this + 0x700);
            if (param_1) {
              iVar13 = pthread_mutex_lock(__mutex);
              if (iVar13 != 0) goto LAB_00113e6d;
              uVar2 = *(undefined8 *)(this + 0x360);
              *(undefined1 *)(lVar16 + 0x20) = 1;
              (*_XMapWindow_dylibloader_wrapper_xlib)(uVar2,*(undefined8 *)(lVar16 + 8));
              (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
              (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar16 + 8),local_c8);
              if (local_6c == 2) {
                cVar12 = _window_focus_check(this);
                if (cVar12 != '\0') {
                  _set_input_focus(this,*(ulong *)(lVar16 + 8),2);
                }
              }
              (*_XSetICFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(lVar16 + 0x18));
              pthread_mutex_unlock(__mutex);
            }
            else {
              iVar13 = pthread_mutex_lock(__mutex);
              if (iVar13 != 0) goto LAB_00113e6d;
              (*_XUnsetICFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(lVar16 + 0x18));
              (*_XUnmapWindow_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar16 + 8));
              lVar3 = *(long *)(this + 0x2d0);
              *(undefined1 *)(lVar16 + 0x20) = 0;
              local_c8[0] = 0;
              if (lVar3 != 0) {
                CowData<char32_t>::_unref((CowData<char32_t> *)(this + 0x2d0));
                *(undefined8 *)(this + 0x2d0) = 0;
              }
              CowData<char32_t>::_unref((CowData<char32_t> *)local_c8);
              *(undefined8 *)(this + 0x2c8) = 0;
              pthread_mutex_unlock(__mutex);
            }
          }
          goto LAB_00113d12;
        }
        uVar19 = uVar19 + 1;
        auVar5._8_8_ = 0;
        auVar5._0_8_ = (iVar13 + 1) * uVar1;
        auVar9._8_8_ = 0;
        auVar9._0_8_ = uVar18;
        lVar16 = SUB168(auVar5 * auVar9,8);
        uVar14 = *(uint *)(*(long *)(this + 0x300) + lVar16 * 4);
        iVar13 = SUB164(auVar5 * auVar9,8);
      } while ((uVar14 != 0) &&
              (auVar6._8_8_ = 0, auVar6._0_8_ = uVar14 * uVar1, auVar10._8_8_ = 0,
              auVar10._0_8_ = uVar18, auVar7._8_8_ = 0,
              auVar7._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar13) - SUB164(auVar6 * auVar10,8)) * uVar1,
              auVar11._8_8_ = 0, auVar11._0_8_ = uVar18, uVar19 <= SUB164(auVar7 * auVar11,8)));
    }
  }
  _err_print_error("window_set_ime_active","platform/linuxbsd/x11/display_server_x11.cpp",0xc78,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_00113d12:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_set_ime_position(Vector2i const&, int) */

void __thiscall
DisplayServerX11::window_set_ime_position(DisplayServerX11 *this,Vector2i *param_1,int param_2)

{
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  ulong uVar12;
  long lVar13;
  uint uVar14;
  ulong uVar15;
  uint uVar16;
  long in_FS_OFFSET;
  uint local_cc;
  undefined1 local_c8 [92];
  int local_6c;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_cc = param_2;
  iVar10 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_cc >> 0x10 ^ local_cc) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar14 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar14 = 1;
      uVar12 = uVar1;
    }
    else {
      uVar12 = uVar14 * uVar1;
    }
    uVar15 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar15;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar12;
    lVar13 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar16 = 0;
      do {
        if ((uVar14 == uVar11) &&
           (local_cc == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar13 * 8) + 0x10))) {
          lVar13 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)&local_cc);
          if ((*(long *)(lVar13 + 0x18) != 0) &&
             ((*(char *)(lVar13 + 0xf8) != '\0' && (*(char *)(lVar13 + 0x20) != '\0')))) {
            (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
            (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar13 + 8),local_c8);
            if (local_6c == 2) {
              (*_XMoveWindow_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar13 + 8),
                         *(undefined4 *)param_1,*(undefined4 *)(param_1 + 4));
            }
          }
          goto LAB_00114028;
        }
        uVar16 = uVar16 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar15;
        lVar13 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar13 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar15, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar15, uVar16 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_ime_position","platform/linuxbsd/x11/display_server_x11.cpp",0xca3,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_00114028:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* DisplayServerX11::_xim_preedit_start_callback(_XIM*, char*, char*) */

undefined8 DisplayServerX11::_xim_preedit_start_callback(_XIM *param_1,char *param_2,char *param_3)

{
  int *piVar1;
  long lVar2;
  long in_FS_OFFSET;
  int local_14;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(param_2 + 0x330) == 0) ||
     (piVar1 = *(int **)(*(long *)(param_2 + 0x330) + 8), piVar1 == (int *)0x0)) {
    local_14 = *(int *)(param_2 + 0x33c);
  }
  else {
    local_14 = *piVar1;
  }
  lVar2 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
          ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                        *)(param_2 + 0x2f0),&local_14);
  if (*(char *)(lVar2 + 0x20) != '\0') {
    *(undefined1 *)(lVar2 + 0x21) = 1;
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return 0xffffffff;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::_xim_preedit_done_callback(_XIM*, char*, char*) */

void DisplayServerX11::_xim_preedit_done_callback(_XIM *param_1,char *param_2,char *param_3)

{
  int *piVar1;
  long lVar2;
  long in_FS_OFFSET;
  int local_14;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(param_2 + 0x330) == 0) ||
     (piVar1 = *(int **)(*(long *)(param_2 + 0x330) + 8), piVar1 == (int *)0x0)) {
    local_14 = *(int *)(param_2 + 0x33c);
  }
  else {
    local_14 = *piVar1;
  }
  lVar2 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
          ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                        *)(param_2 + 0x2f0),&local_14);
  if (*(char *)(lVar2 + 0x20) != '\0') {
    *(undefined2 *)(lVar2 + 0x21) = 0x100;
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::_xim_preedit_draw_callback(_XIM*, char*, _XIMPreeditDrawCallbackStruct*) */

void DisplayServerX11::_xim_preedit_draw_callback
               (_XIM *param_1,char *param_2,_XIMPreeditDrawCallbackStruct *param_3)

{
  Variant *pVVar1;
  int *piVar2;
  ushort uVar3;
  int *piVar4;
  ushort *puVar5;
  undefined8 uVar6;
  long lVar7;
  ulong uVar8;
  long *plVar9;
  CallableCustom *this;
  int *piVar10;
  int iVar11;
  Variant *pVVar12;
  int iVar13;
  ulong uVar14;
  long in_FS_OFFSET;
  int local_dc;
  long local_d8;
  String local_d0 [8];
  String local_c8 [8];
  long local_c0;
  int *local_b8;
  long local_b0;
  Variant *local_a8;
  Variant *pVStack_a0;
  Variant local_88 [24];
  Variant local_70 [24];
  Variant local_58 [24];
  long local_40 [2];
  
  local_40[0] = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(param_2 + 0x330) == 0) ||
     (piVar4 = *(int **)(*(long *)(param_2 + 0x330) + 8), piVar4 == (int *)0x0)) {
    local_dc = *(int *)(param_2 + 0x33c);
  }
  else {
    local_dc = *piVar4;
  }
  lVar7 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
          ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                        *)(param_2 + 0x2f0),&local_dc);
  if (*(char *)(lVar7 + 0x20) == '\0') goto LAB_0011450c;
  puVar5 = *(ushort **)(param_3 + 0x10);
  if (puVar5 == (ushort *)0x0) {
    local_b8 = (int *)0x0;
    if (*(long *)(param_2 + 0x2d0) != 0) {
      CowData<char32_t>::_unref((CowData<char32_t> *)(param_2 + 0x2d0));
      param_2[0x2d0] = '\0';
      param_2[0x2d1] = '\0';
      param_2[0x2d2] = '\0';
      param_2[0x2d3] = '\0';
      param_2[0x2d4] = '\0';
      param_2[0x2d5] = '\0';
      param_2[0x2d6] = '\0';
      param_2[0x2d7] = '\0';
    }
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_b8);
    param_2[0x2c8] = '\0';
    param_2[0x2c9] = '\0';
    param_2[0x2ca] = '\0';
    param_2[0x2cb] = '\0';
    param_2[0x2cc] = '\0';
    param_2[0x2cd] = '\0';
    param_2[0x2ce] = '\0';
    param_2[0x2cf] = '\0';
  }
  else {
    piVar4 = *(int **)(puVar5 + 0xc);
    local_d8 = 0;
    if (*(int *)(puVar5 + 8) == 0) {
      String::parse_utf8((char *)&local_d8,(int)piVar4,true);
      if (*(int *)(param_3 + 8) < 0) goto LAB_001145df;
LAB_00114290:
      iVar11 = (int)(CowData<char32_t> *)(param_2 + 0x2d0);
      String::substr((int)(CowData<char32_t> *)&local_c0,iVar11);
      String::substr((int)local_d0,iVar11);
      String::operator+(local_c8,local_d0);
      String::operator+((String *)&local_b8,local_c8);
      if (*(int **)(param_2 + 0x2d0) != local_b8) {
        CowData<char32_t>::_unref((CowData<char32_t> *)(param_2 + 0x2d0));
        piVar4 = local_b8;
        local_b8 = (int *)0x0;
        *(int **)(param_2 + 0x2d0) = piVar4;
      }
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_b8);
      CowData<char32_t>::_unref((CowData<char32_t> *)local_c8);
      CowData<char32_t>::_unref((CowData<char32_t> *)local_d0);
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_c0);
    }
    else {
      local_c0 = 0;
      local_b0 = 0;
      if ((piVar4 != (int *)0x0) && (piVar10 = piVar4, *piVar4 != 0)) {
        do {
          piVar2 = piVar10 + 1;
          piVar10 = piVar10 + 1;
        } while (*piVar2 != 0);
        local_b0 = (long)piVar10 - (long)piVar4 >> 2;
      }
      local_b8 = piVar4;
      String::parse_utf32((StrRange *)&local_c0);
      if (local_d8 != local_c0) {
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_d8);
        local_d8 = local_c0;
        local_c0 = 0;
      }
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_c0);
      if (-1 < *(int *)(param_3 + 8)) goto LAB_00114290;
LAB_001145df:
      String::substr((int)(CowData<char32_t> *)&local_c0,(int)(CowData<char32_t> *)(param_2 + 0x2d0)
                    );
      String::operator+((String *)&local_b8,(String *)&local_c0);
      if (*(int **)(param_2 + 0x2d0) != local_b8) {
        CowData<char32_t>::_unref((CowData<char32_t> *)(param_2 + 0x2d0));
        piVar4 = local_b8;
        local_b8 = (int *)0x0;
        *(int **)(param_2 + 0x2d0) = piVar4;
      }
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_b8);
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_c0);
    }
    uVar3 = *puVar5;
    if (uVar3 == 0) {
LAB_00114658:
      iVar13 = *(int *)param_3;
      iVar11 = 0;
    }
    else {
      uVar8 = 0;
      iVar11 = 0;
      uVar14 = 0;
      do {
        while( true ) {
          iVar13 = (int)uVar14;
          if ((*(byte *)(*(long *)(puVar5 + 4) + uVar8 * 8) & 1) != 0) break;
LAB_00114367:
          iVar13 = (int)uVar14;
          uVar8 = uVar8 + 1;
          if ((int)(uint)uVar3 <= (int)uVar8) goto LAB_00114384;
        }
        if (iVar11 == 0) {
          uVar14 = uVar8 & 0xffffffff;
          iVar11 = 1;
          goto LAB_00114367;
        }
        uVar8 = uVar8 + 1;
        iVar11 = iVar11 + 1;
      } while ((int)uVar8 < (int)(uint)uVar3);
LAB_00114384:
      if (iVar11 < 1) goto LAB_00114658;
      iVar13 = iVar13 + *(int *)(param_3 + 4);
    }
    *(int *)(param_2 + 0x2c8) = iVar13;
    *(int *)(param_2 + 0x2cc) = iVar11;
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_d8);
  }
  plVar9 = (long *)OS::get_singleton();
  lVar7 = (**(code **)(*plVar9 + 0x1d0))(plVar9);
  this = (CallableCustom *)operator_new(0x48,"");
  CallableCustom::CallableCustom(this);
  *(undefined **)(this + 0x20) = &_LC12;
  *(undefined1 (*) [16])(this + 0x30) = (undefined1  [16])0x0;
  *(undefined ***)this = &PTR_hash_0012d5a8;
  *(undefined8 *)(this + 0x40) = 0;
  uVar6 = *(undefined8 *)(lVar7 + 0x60);
  *(long *)(this + 0x28) = lVar7;
  *(undefined8 *)(this + 0x30) = uVar6;
  *(undefined8 *)(this + 0x10) = 0;
  *(code **)(this + 0x38) = Object::notification;
  CallableCustomMethodPointerBase::_setup((uint *)this,(int)this + 0x28);
  *(char **)(this + 0x20) = "Object::notification";
  Callable::Callable((Callable *)&local_b8,this);
  Variant::Variant(local_88,0x7dd);
  Variant::Variant(local_70,false);
  Variant::Variant(local_58,0);
  pVVar12 = (Variant *)local_40;
  local_a8 = local_88;
  pVStack_a0 = local_70;
  Callable::call_deferredp((Variant **)&local_b8,(int)&local_a8);
  do {
    pVVar1 = pVVar12 + -0x18;
    pVVar12 = pVVar12 + -0x18;
    if (Variant::needs_deinit[*(int *)pVVar1] != '\0') {
      Variant::_clear_internal();
    }
  } while (pVVar12 != local_88);
  Callable::~Callable((Callable *)&local_b8);
LAB_0011450c:
  if (local_40[0] != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_window_changed(_XEvent*) */

void __thiscall DisplayServerX11::_window_changed(DisplayServerX11 *this,_XEvent *param_1)

{
  long lVar1;
  uint uVar2;
  undefined1 uVar3;
  byte bVar4;
  char cVar5;
  int iVar6;
  long *plVar7;
  long in_FS_OFFSET;
  uint local_f0;
  undefined1 local_ec [4];
  undefined4 local_e8;
  undefined4 local_e4;
  undefined1 local_e0 [8];
  long local_d8;
  undefined8 local_d0;
  undefined4 local_c8;
  undefined8 local_c4;
  long local_b8;
  long lStack_b0;
  long local_a8;
  long lStack_a0;
  Variant *local_98 [2];
  int local_88 [2];
  undefined1 local_80 [16];
  long local_68;
  long local_60 [2];
  int local_50 [8];
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  plVar7 = *(long **)(this + 0x308);
  local_f0 = 0;
  if (plVar7 != (long *)0x0) {
    do {
      if (*(long *)(param_1 + 0x20) == plVar7[3]) {
        local_f0 = *(uint *)(plVar7 + 2);
        break;
      }
      plVar7 = (long *)*plVar7;
    } while (plVar7 != (long *)0x0);
  }
  local_b8 = 0;
  lStack_b0 = 0;
  plVar7 = (long *)HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)&local_f0);
  uVar2 = local_f0;
  if (*plVar7 == *(long *)(param_1 + 0x20)) {
    uVar3 = _window_fullscreen_check(this,local_f0);
    *(undefined1 *)((long)plVar7 + 0xe9) = uVar3;
    bVar4 = _window_maximize_check(this,uVar2,"_NET_WM_STATE");
    if (bVar4 != 0) {
      bVar4 = *(byte *)((long)plVar7 + 0xe9) ^ 1;
    }
    *(byte *)((long)plVar7 + 0xfa) = bVar4;
    bVar4 = _window_minimize_check(this,uVar2);
    if ((bVar4 != 0) && (bVar4 = 0, *(char *)((long)plVar7 + 0xe9) == '\0')) {
      bVar4 = *(byte *)((long)plVar7 + 0xfa) ^ 1;
    }
    *(byte *)((long)plVar7 + 0xf9) = bVar4;
    iVar6 = (*_XQueryTree_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),*plVar7,local_e0,&local_d8,&local_d0,local_ec);
    if (((iVar6 != 0) && (plVar7[2] != local_d8)) && (plVar7[2] = local_d8, plVar7[0x20] == 0)) {
      (**(code **)(*(long *)this + 0x548))(this,plVar7 + 8,uVar2);
    }
    (*_XFree_dylibloader_wrapper_xlib)(local_d0);
    lVar1 = *(long *)(this + 0x360);
    local_e8 = 0;
    local_e4 = 0;
    (*_XTranslateCoordinates_dylibloader_wrapper_xlib)
              (lVar1,*plVar7,
               *(undefined8 *)((long)*(int *)(lVar1 + 0xe0) * 0x80 + *(long *)(lVar1 + 0xe8) + 0x10)
               ,0,0,&local_e8,&local_e4,&local_c8);
    local_68 = plVar7[8];
    local_b8 = CONCAT44(local_e4,local_e8);
    lStack_b0 = *(long *)(param_1 + 0x38);
    local_60[0] = plVar7[9];
    cVar5 = Vector2i::operator==((Vector2i *)&local_b8,(Vector2i *)&local_68);
    if ((cVar5 == '\0') ||
       (cVar5 = Vector2i::operator==((Vector2i *)&lStack_b0,(Vector2i *)local_60), cVar5 == '\0')) {
      lVar1 = *(long *)(this + 0x290);
      plVar7[8] = local_b8;
      plVar7[9] = lStack_b0;
      if (lVar1 != 0) {
        RenderingContextDriver::window_set_size((int)lVar1,uVar2,*(uint *)(plVar7 + 9));
      }
      if (*(long *)(this + 0x280) != 0) {
        GLManager_X11::window_resize((int)*(long *)(this + 0x280),uVar2,(int)plVar7[9]);
      }
      cVar5 = Callable::is_valid();
      if (cVar5 != '\0') {
        local_a8 = local_b8;
        lStack_a0 = lStack_b0;
        Variant::Variant((Variant *)&local_68,(Rect2i *)&local_a8);
        Variant::Variant((Variant *)local_50,0);
        local_88[0] = 0;
        local_c8 = 0;
        local_c4 = 0;
        local_80 = (undefined1  [16])0x0;
        local_98[0] = (Variant *)&local_68;
        Callable::callp((Variant **)(plVar7 + 10),(int)local_98,(Variant *)0x1,(CallError *)local_88
                       );
        if (Variant::needs_deinit[local_50[0]] != '\0') {
          Variant::_clear_internal();
        }
        if (Variant::needs_deinit[(int)local_68] != '\0') {
          Variant::_clear_internal();
        }
        if (Variant::needs_deinit[local_88[0]] != '\0') {
          Variant::_clear_internal();
        }
      }
    }
  }
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* DisplayServerX11::window_set_popup_safe_rect(int, Rect2i const&) */

void __thiscall
DisplayServerX11::window_set_popup_safe_rect(DisplayServerX11 *this,int param_1,Rect2i *param_2)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined8 uVar10;
  int iVar11;
  uint uVar12;
  ulong uVar13;
  long lVar14;
  uint uVar15;
  ulong uVar16;
  uint uVar17;
  uint local_3c [3];
  
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_3c[0] = param_1;
  iVar11 = pthread_mutex_lock(__mutex);
  if (iVar11 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar11);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar12 = (local_3c[0] >> 0x10 ^ local_3c[0]) * -0x7a143595;
    uVar12 = (uVar12 ^ uVar12 >> 0xd) * -0x3d4d51cb;
    uVar15 = uVar12 ^ uVar12 >> 0x10;
    if (uVar12 == uVar12 >> 0x10) {
      uVar15 = 1;
      uVar13 = uVar1;
    }
    else {
      uVar13 = uVar15 * uVar1;
    }
    uVar16 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar16;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar13;
    lVar14 = SUB168(auVar2 * auVar6,8);
    uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
    iVar11 = SUB164(auVar2 * auVar6,8);
    if (uVar12 != 0) {
      uVar17 = 0;
      do {
        if ((uVar15 == uVar12) &&
           (local_3c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar14 * 8) + 0x10))) {
          lVar14 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                 *)(this + 0x2f0),(int *)local_3c);
          uVar10 = *(undefined8 *)(param_2 + 8);
          *(undefined8 *)(lVar14 + 0x108) = *(undefined8 *)param_2;
          *(undefined8 *)(lVar14 + 0x110) = uVar10;
          pthread_mutex_unlock(__mutex);
          return;
        }
        uVar17 = uVar17 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar11 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar16;
        lVar14 = SUB168(auVar3 * auVar7,8);
        uVar12 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
        iVar11 = SUB164(auVar3 * auVar7,8);
      } while ((uVar12 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar12 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar16, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar11) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar16, uVar17 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_set_popup_safe_rect","platform/linuxbsd/x11/display_server_x11.cpp",
                   0x1123,"Condition \"!windows.has(p_window)\" is true.",0,0);
  pthread_mutex_unlock(__mutex);
  return;
}



/* DisplayServerX11::popup_open(int) */

void __thiscall DisplayServerX11::popup_open(DisplayServerX11 *this,int param_1)

{
  int *piVar1;
  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
  *this_00;
  long *plVar2;
  int iVar3;
  char cVar4;
  int iVar5;
  long lVar6;
  undefined8 uVar7;
  int *piVar8;
  undefined1 (*pauVar9) [16];
  int *piVar10;
  char cVar11;
  long in_FS_OFFSET;
  int local_4c;
  int local_48;
  int local_44;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_4c = param_1;
  iVar5 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  iVar3 = local_4c;
  if (iVar5 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar5);
  }
  this_00 = (HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             *)(this + 0x2f0);
  local_48 = local_4c;
  do {
    lVar6 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
            ::operator[](this_00,&local_48);
    local_44 = *(int *)(lVar6 + 0xb0);
    if (local_44 == -1) {
      cVar11 = '\0';
      break;
    }
    local_48 = local_44;
    lVar6 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
            ::operator[](this_00,&local_44);
    cVar11 = *(char *)(lVar6 + 0xfb);
  } while (cVar11 == '\0');
  cVar4 = (**(code **)(*(long *)this + 0x5c8))(this,4,iVar3);
  if (cVar4 != '\0') {
    cVar4 = (**(code **)(*(long *)this + 0x5c8))(this,7,iVar3);
  }
  lVar6 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
          ::operator[](this_00,&local_4c);
  if ((*(char *)(lVar6 + 0xfb) != '\0') || ((cVar4 != '\x01' && (cVar11 != '\0')))) {
    if ((*(long *)(this + 0x330) != 0) &&
       (piVar8 = *(int **)(*(long *)(this + 0x330) + 8), piVar8 != (int *)0x0)) {
      piVar10 = (int *)0x0;
      do {
        if ((*piVar8 == *(int *)(lVar6 + 0xb0)) && (*(int *)(lVar6 + 0xb0) != -1)) {
          if (piVar10 == (int *)0x0) goto LAB_00114cec;
          break;
        }
        piVar1 = piVar8 + 4;
        piVar10 = piVar8;
        piVar8 = *(int **)piVar1;
      } while (*(int **)piVar1 != (int *)0x0);
      uVar7 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::operator[](this_00,piVar10);
      _send_window_event(this,uVar7,4);
    }
LAB_00114cec:
    OS::get_singleton();
    uVar7 = OS::get_ticks_msec();
    *(undefined8 *)(this + 0x328) = uVar7;
    if (*(long *)(this + 0x330) == 0) {
      pauVar9 = (undefined1 (*) [16])operator_new(0x18,DefaultAllocator::alloc);
      *(undefined1 (**) [16])(this + 0x330) = pauVar9;
      *(undefined4 *)pauVar9[1] = 0;
      *pauVar9 = (undefined1  [16])0x0;
    }
    piVar8 = (int *)operator_new(0x20,DefaultAllocator::alloc);
    plVar2 = *(long **)(this + 0x330);
    piVar8[2] = 0;
    piVar8[3] = 0;
    lVar6 = plVar2[1];
    *piVar8 = iVar3;
    *(long **)(piVar8 + 6) = plVar2;
    *(long *)(piVar8 + 4) = lVar6;
    if (lVar6 != 0) {
      *(int **)(lVar6 + 8) = piVar8;
    }
    plVar2[1] = (long)piVar8;
    if (*plVar2 == 0) {
      *plVar2 = (long)piVar8;
    }
    *(int *)(plVar2 + 2) = (int)plVar2[2] + 1;
  }
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::show_window(int) */

void __thiscall DisplayServerX11::show_window(DisplayServerX11 *this,int param_1)

{
  undefined8 *puVar1;
  int iVar2;
  int local_2c [3];
  
  local_2c[0] = param_1;
  iVar2 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar2 == 0) {
    puVar1 = (undefined8 *)
             HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),local_2c);
    iVar2 = local_2c[0];
    popup_open(this,local_2c[0]);
    (*_XMapWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar1);
    (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
    _validate_mode_on_map(this,iVar2);
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar2);
}



/* DisplayServerX11::popup_close(int) */

void __thiscall DisplayServerX11::popup_close(DisplayServerX11 *this,int param_1)

{
  int *piVar1;
  long lVar2;
  int iVar3;
  undefined8 uVar4;
  int *piVar5;
  undefined8 *puVar6;
  int *piVar7;
  long in_FS_OFFSET;
  int local_44;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar3 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar3 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar3);
  }
  puVar6 = *(undefined8 **)(this + 0x330);
  if (puVar6 != (undefined8 *)0x0) {
    for (piVar7 = (int *)*puVar6; piVar7 != (int *)0x0; piVar7 = *(int **)(piVar7 + 2)) {
      if (*piVar7 == param_1) {
        while( true ) {
          iVar3 = *piVar7;
          piVar1 = *(int **)(piVar7 + 2);
          local_44 = iVar3;
          if (puVar6 != (undefined8 *)0x0) {
            if (puVar6 == *(undefined8 **)(piVar7 + 6)) {
              if (piVar7 == (int *)*puVar6) {
                *puVar6 = piVar1;
              }
              lVar2 = *(long *)(piVar7 + 4);
              if (piVar7 == (int *)puVar6[1]) {
                puVar6[1] = lVar2;
              }
              piVar5 = piVar1;
              if (lVar2 != 0) {
                *(int **)(lVar2 + 8) = piVar1;
                piVar5 = *(int **)(piVar7 + 2);
              }
              if (piVar5 != (int *)0x0) {
                *(long *)(piVar5 + 4) = lVar2;
              }
              Memory::free_static(piVar7,false);
              *(int *)(puVar6 + 2) = *(int *)(puVar6 + 2) + -1;
            }
            else {
              _err_print_error("erase","./core/templates/list.h",0xe7,
                               "Condition \"p_I->data != this\" is true. Returning: false",0,0);
            }
            if (*(int *)((long)*(void **)(this + 0x330) + 0x10) == 0) {
              Memory::free_static(*(void **)(this + 0x330),false);
              *(undefined8 *)(this + 0x330) = 0;
            }
          }
          if (iVar3 != param_1) {
            uVar4 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),&local_44);
            _send_window_event(this,uVar4,4);
          }
          if (piVar1 == (int *)0x0) break;
          puVar6 = *(undefined8 **)(this + 0x330);
          piVar7 = piVar1;
        }
        break;
      }
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::delete_sub_window(int) */

void __thiscall DisplayServerX11::delete_sub_window(DisplayServerX11 *this,int param_1)

{
  undefined8 *puVar1;
  long *plVar2;
  uint *puVar3;
  ulong uVar4;
  long lVar5;
  void *pvVar6;
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  uint uVar33;
  int iVar34;
  uint uVar35;
  undefined8 *puVar36;
  undefined8 uVar37;
  uint uVar38;
  ulong uVar39;
  long lVar40;
  ulong uVar41;
  ulong uVar42;
  uint uVar43;
  long *plVar44;
  uint uVar45;
  uint uVar46;
  ulong uVar47;
  uint uVar48;
  uint *puVar49;
  long in_FS_OFFSET;
  uint local_5c;
  undefined8 local_58;
  undefined8 local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_5c = param_1;
  iVar34 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  uVar33 = local_5c;
  if (iVar34 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar34);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar41 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    uVar4 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar35 = (local_5c >> 0x10 ^ local_5c) * -0x7a143595;
    uVar45 = (uVar35 ^ uVar35 >> 0xd) * -0x3d4d51cb;
    uVar38 = uVar45 >> 0x10;
    uVar35 = uVar45 ^ uVar38;
    if (uVar45 == uVar38) {
      uVar43 = 1;
      uVar39 = uVar4;
    }
    else {
      uVar39 = uVar35 * uVar4;
      uVar43 = uVar35;
    }
    auVar7._8_8_ = 0;
    auVar7._0_8_ = uVar41;
    auVar20._8_8_ = 0;
    auVar20._0_8_ = uVar39;
    lVar40 = SUB168(auVar7 * auVar20,8);
    uVar46 = *(uint *)(*(long *)(this + 0x300) + lVar40 * 4);
    iVar34 = SUB164(auVar7 * auVar20,8);
    if (uVar46 != 0) {
      uVar48 = 0;
      while ((uVar46 != uVar43 ||
             (local_5c != *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar40 * 8) + 0x10)))) {
        uVar48 = uVar48 + 1;
        auVar8._8_8_ = 0;
        auVar8._0_8_ = (iVar34 + 1) * uVar4;
        auVar21._8_8_ = 0;
        auVar21._0_8_ = uVar41;
        lVar40 = SUB168(auVar8 * auVar21,8);
        uVar46 = *(uint *)(*(long *)(this + 0x300) + lVar40 * 4);
        iVar34 = SUB164(auVar8 * auVar21,8);
        if ((uVar46 == 0) ||
           (auVar9._8_8_ = 0, auVar9._0_8_ = uVar46 * uVar4, auVar22._8_8_ = 0,
           auVar22._0_8_ = uVar41, auVar10._8_8_ = 0,
           auVar10._0_8_ =
                ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4) + iVar34) -
                SUB164(auVar9 * auVar22,8)) * uVar4, auVar23._8_8_ = 0, auVar23._0_8_ = uVar41,
           SUB164(auVar10 * auVar23,8) < uVar48)) goto LAB_001157a0;
      }
      if (local_5c == 0) {
        _err_print_error("delete_sub_window","platform/linuxbsd/x11/display_server_x11.cpp",0x754,
                         "Condition \"p_id == MAIN_WINDOW_ID\" is true.",
                         "Main window can\'t be deleted",0,0);
        goto LAB_001156d7;
      }
      popup_close(this,local_5c);
      puVar36 = (undefined8 *)
                HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                              *)(this + 0x2f0),(int *)&local_5c);
      if (*(uint *)(this + 0x338) == uVar33) {
        *(undefined4 *)(this + 0x338) = 0xffffffff;
        uVar37 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                 ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                               *)(this + 0x2f0),(int *)&local_5c);
        _send_window_event(this,uVar37,1);
      }
      while (*(int *)((long)puVar36 + 0xdc) != 0) {
        (**(code **)(*(long *)this + 0x550))(this,*(undefined4 *)puVar36[0x17],0xffffffff);
      }
      if (*(int *)(puVar36 + 0x16) != -1) {
        (**(code **)(*(long *)this + 0x550))(this,uVar33,0xffffffff);
      }
      if (*(long *)(this + 0x298) != 0) {
        RenderingDevice::screen_free((int)*(long *)(this + 0x298));
      }
      if (*(long *)(this + 0x290) != 0) {
        RenderingContextDriver::window_destroy((int)*(long *)(this + 0x290));
      }
      if (*(long *)(this + 0x280) != 0) {
        GLManager_X11::window_destroy((int)*(long *)(this + 0x280));
      }
      if (*(long *)(this + 0x288) != 0) {
        EGLManager::window_destroy((int)*(long *)(this + 0x288));
      }
      if (puVar36[3] != 0) {
        (*_XDestroyIC_dylibloader_wrapper_xlib)();
        puVar36[3] = 0;
      }
      (*_XDestroyWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),puVar36[1]);
      if ((this[0x2d8] != (DisplayServerX11)0x0) && (puVar36[5] != 0)) {
        (*_xkb_compose_state_unref_dylibloader_wrapper_xkbcommon)();
        puVar36[5] = 0;
      }
      (*_XUnmapWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar36);
      (*_XDestroyWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar36);
      local_58 = 0;
      local_50 = 0;
      (**(code **)(*(long *)this + 0x4e8))(this,(Callable *)&local_58,uVar33);
      Callable::~Callable((Callable *)&local_58);
      local_58 = 0;
      local_50 = 0;
      (**(code **)(*(long *)this + 0x4f0))(this,(Callable *)&local_58,uVar33);
      Callable::~Callable((Callable *)&local_58);
      local_58 = 0;
      local_50 = 0;
      (**(code **)(*(long *)this + 0x4f8))(this,(Callable *)&local_58,uVar33);
      Callable::~Callable((Callable *)&local_58);
      local_58 = 0;
      local_50 = 0;
      (**(code **)(*(long *)this + 0x500))(this,(Callable *)&local_58,uVar33);
      Callable::~Callable((Callable *)&local_58);
      local_58 = 0;
      local_50 = 0;
      (**(code **)(*(long *)this + 0x508))(this,(Callable *)&local_58,uVar33);
      Callable::~Callable((Callable *)&local_58);
      lVar40 = *(long *)(this + 0x2f8);
      if ((lVar40 != 0) && (*(int *)(this + 0x31c) != 0)) {
        uVar46 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
        uVar4 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
        uVar41 = uVar4;
        if (uVar45 != uVar38) {
          uVar41 = uVar35 * uVar4;
        }
        uVar39 = CONCAT44(0,uVar46);
        lVar5 = *(long *)(this + 0x300);
        auVar11._8_8_ = 0;
        auVar11._0_8_ = uVar39;
        auVar24._8_8_ = 0;
        auVar24._0_8_ = uVar41;
        uVar41 = SUB168(auVar11 * auVar24,8);
        uVar35 = *(uint *)(lVar5 + uVar41 * 4);
        uVar47 = (ulong)SUB164(auVar11 * auVar24,8);
        if (uVar35 != 0) {
          uVar38 = 0;
          do {
            auVar14._8_8_ = 0;
            auVar14._0_8_ = ((int)uVar47 + 1) * uVar4;
            auVar27._8_8_ = 0;
            auVar27._0_8_ = uVar39;
            uVar42 = SUB168(auVar14 * auVar27,8);
            uVar45 = SUB164(auVar14 * auVar27,8);
            if ((uVar43 == uVar35) && (uVar33 == *(uint *)(*(long *)(lVar40 + uVar41 * 8) + 0x10)))
            {
              puVar49 = (uint *)(lVar5 + uVar42 * 4);
              uVar41 = (ulong)uVar45;
              uVar35 = *puVar49;
              if ((uVar35 != 0) &&
                 (auVar15._8_8_ = 0, auVar15._0_8_ = uVar35 * uVar4, auVar28._8_8_ = 0,
                 auVar28._0_8_ = uVar39, auVar16._8_8_ = 0,
                 auVar16._0_8_ = ((uVar45 + uVar46) - SUB164(auVar15 * auVar28,8)) * uVar4,
                 auVar29._8_8_ = 0, auVar29._0_8_ = uVar39, SUB164(auVar16 * auVar29,8) != 0)) {
                while( true ) {
                  puVar3 = (uint *)(lVar5 + uVar47 * 4);
                  *puVar49 = *puVar3;
                  puVar36 = (undefined8 *)(lVar40 + uVar42 * 8);
                  *puVar3 = uVar35;
                  puVar1 = (undefined8 *)(lVar40 + uVar47 * 8);
                  uVar37 = *puVar36;
                  *puVar36 = *puVar1;
                  *puVar1 = uVar37;
                  auVar19._8_8_ = 0;
                  auVar19._0_8_ = ((int)uVar41 + 1) * uVar4;
                  auVar32._8_8_ = 0;
                  auVar32._0_8_ = uVar39;
                  uVar42 = SUB168(auVar19 * auVar32,8);
                  puVar49 = (uint *)(lVar5 + uVar42 * 4);
                  uVar35 = *puVar49;
                  uVar47 = uVar41;
                  if ((uVar35 == 0) ||
                     (auVar17._8_8_ = 0, auVar17._0_8_ = uVar35 * uVar4, auVar30._8_8_ = 0,
                     auVar30._0_8_ = uVar39, auVar18._8_8_ = 0,
                     auVar18._0_8_ =
                          ((SUB164(auVar19 * auVar32,8) + uVar46) - SUB164(auVar17 * auVar30,8)) *
                          uVar4, auVar31._8_8_ = 0, auVar31._0_8_ = uVar39,
                     SUB164(auVar18 * auVar31,8) == 0)) break;
                  uVar41 = uVar42 & 0xffffffff;
                }
              }
              *(undefined4 *)(lVar5 + uVar47 * 4) = 0;
              plVar2 = (long *)(lVar40 + uVar47 * 8);
              plVar44 = (long *)*plVar2;
              if (*(long **)(this + 0x308) == plVar44) {
                *(long *)(this + 0x308) = *plVar44;
                plVar44 = (long *)*plVar2;
              }
              if (*(long **)(this + 0x310) == plVar44) {
                *(long *)(this + 0x310) = plVar44[1];
                plVar44 = (long *)*plVar2;
              }
              if ((long *)plVar44[1] != (long *)0x0) {
                *(long *)plVar44[1] = *plVar44;
                plVar44 = (long *)*plVar2;
              }
              if (*plVar44 != 0) {
                *(long *)(*plVar44 + 8) = plVar44[1];
                plVar44 = (long *)*plVar2;
              }
              pvVar6 = (void *)plVar44[0x1a];
              if (pvVar6 != (void *)0x0) {
                if (*(int *)((long)plVar44 + 0xf4) != 0) {
                  if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(plVar44 + 0x1e) * 4) != 0)
                  {
                    memset((void *)plVar44[0x1d],0,
                           (ulong)*(uint *)(hash_table_size_primes +
                                           (ulong)*(uint *)(plVar44 + 0x1e) * 4) * 4);
                  }
                  *(undefined4 *)((long)plVar44 + 0xf4) = 0;
                }
                Memory::free_static(pvVar6,false);
                Memory::free_static((void *)plVar44[0x1c],false);
                Memory::free_static((void *)plVar44[0x1b],false);
                Memory::free_static((void *)plVar44[0x1d],false);
              }
              if (plVar44[0x18] != 0) {
                LOCK();
                plVar2 = (long *)(plVar44[0x18] + -0x10);
                *plVar2 = *plVar2 + -1;
                UNLOCK();
                if (*plVar2 == 0) {
                  lVar40 = plVar44[0x18];
                  plVar44[0x18] = 0;
                  Memory::free_static((void *)(lVar40 + -0x10),false);
                }
              }
              Callable::~Callable((Callable *)(plVar44 + 0x15));
              Callable::~Callable((Callable *)(plVar44 + 0x13));
              Callable::~Callable((Callable *)(plVar44 + 0x11));
              Callable::~Callable((Callable *)(plVar44 + 0xf));
              Callable::~Callable((Callable *)(plVar44 + 0xd));
              Memory::free_static(plVar44,false);
              *(undefined8 *)(*(long *)(this + 0x2f8) + uVar47 * 8) = 0;
              *(int *)(this + 0x31c) = *(int *)(this + 0x31c) + -1;
              break;
            }
            uVar35 = *(uint *)(lVar5 + uVar42 * 4);
            uVar47 = uVar42 & 0xffffffff;
            uVar38 = uVar38 + 1;
          } while ((uVar35 != 0) &&
                  (auVar12._8_8_ = 0, auVar12._0_8_ = uVar35 * uVar4, auVar25._8_8_ = 0,
                  auVar25._0_8_ = uVar39, auVar13._8_8_ = 0,
                  auVar13._0_8_ = ((uVar46 + uVar45) - SUB164(auVar12 * auVar25,8)) * uVar4,
                  auVar26._8_8_ = 0, auVar26._0_8_ = uVar39, uVar41 = uVar42,
                  uVar38 <= SUB164(auVar13 * auVar26,8)));
        }
      }
      if (*(uint *)(this + 0x33c) == uVar33) {
        *(undefined4 *)(this + 0x33c) = 0xffffffff;
      }
      goto LAB_001156d7;
    }
  }
LAB_001157a0:
  _err_print_error("delete_sub_window","platform/linuxbsd/x11/display_server_x11.cpp",0x753,
                   "Condition \"!windows.has(p_id)\" is true.",0,0);
LAB_001156d7:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::mouse_process_popups() */

undefined1 __thiscall DisplayServerX11::mouse_process_popups(DisplayServerX11 *this)

{
  int *piVar1;
  code *pcVar2;
  char cVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  long lVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  int iVar11;
  int iVar12;
  int *piVar13;
  long in_FS_OFFSET;
  undefined1 auVar14 [16];
  int *local_190;
  undefined1 local_155;
  int local_11c;
  int local_118;
  undefined1 local_114 [4];
  undefined1 local_110 [4];
  uint local_10c;
  undefined8 local_108;
  undefined1 local_100 [8];
  int local_f8;
  int local_f4;
  undefined1 local_68 [16];
  undefined8 local_58;
  undefined8 local_50 [2];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar4 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar4 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar4);
  }
  if ((*(long *)(this + 0x330) != 0) && (*(int *)(*(long *)(this + 0x330) + 0x10) != 0)) {
    OS::get_singleton();
    lVar8 = OS::get_ticks_msec();
    if (0xf9 < (ulong)(lVar8 - *(long *)(this + 0x328))) {
      iVar4 = (*_XScreenCount_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
      if (0 < iVar4) {
        local_155 = 0;
        iVar11 = 0;
        do {
          pcVar2 = _XQueryPointer_dylibloader_wrapper_xlib;
          uVar9 = (*_XRootWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),iVar11);
          iVar5 = (*pcVar2)(*(undefined8 *)(this + 0x360),uVar9,&local_108,local_100,&local_11c,
                            &local_118,local_114,local_110,&local_10c);
          if (iVar5 != 0) {
            (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),local_108,&local_f8);
            if ((((*(uint *)(this + 800) != local_10c) && ((local_10c & 0x1f00) != 0)) &&
                (*(long *)(this + 0x330) != 0)) &&
               (piVar1 = *(int **)(*(long *)(this + 0x330) + 8), piVar1 != (int *)0x0)) {
              iVar5 = local_118 + local_f4;
              iVar6 = local_11c + local_f8;
              local_190 = (int *)0x0;
              do {
                piVar13 = piVar1;
                uVar9 = (**(code **)(*(long *)this + 0x590))(this,*piVar13);
                uVar10 = (**(code **)(*(long *)this + 0x540))(this,*piVar13);
                auVar14 = (**(code **)(*(long *)this + 0x4c0))(this,*piVar13);
                uVar7 = (uint)((ulong)uVar9 >> 0x20);
                local_68 = auVar14;
                if ((int)(uVar7 | (uint)uVar9) < 0) {
                  _err_print_error("has_point","./core/math/rect2i.h",0x7f,
                                   "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                                   ,0,0);
                }
                if ((((int)uVar10 <= iVar6) &&
                    (iVar12 = (int)((ulong)uVar10 >> 0x20), iVar12 <= iVar5)) &&
                   ((iVar6 < (int)((int)uVar10 + (uint)uVar9) && (iVar5 < (int)(uVar7 + iVar12)))))
                {
LAB_00115aef:
                  if (local_190 == (int *)0x0) goto LAB_001159a9;
                  break;
                }
                local_58 = 0;
                local_50[0] = 0;
                cVar3 = Vector2i::operator!=((Vector2i *)local_68,(Vector2i *)&local_58);
                if (cVar3 == '\0') {
                  cVar3 = Vector2i::operator!=((Vector2i *)(local_68 + 8),(Vector2i *)local_50);
                  if (cVar3 != '\0') {
                    uVar7 = local_68._8_4_ | local_68._12_4_;
                    goto joined_r0x00115be7;
                  }
                }
                else {
                  uVar7 = local_68._8_4_ | local_68._12_4_;
joined_r0x00115be7:
                  if ((int)uVar7 < 0) {
                    _err_print_error("has_point","./core/math/rect2i.h",0x7f,
                                     "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                                     ,0,0);
                  }
                  if ((((int)local_68._0_4_ <= iVar6) && ((int)local_68._4_4_ <= iVar5)) &&
                     ((iVar6 < (int)(local_68._0_4_ + local_68._8_4_) &&
                      (iVar5 < (int)(local_68._4_4_ + local_68._12_4_))))) goto LAB_00115aef;
                }
                piVar1 = *(int **)(piVar13 + 4);
                local_190 = piVar13;
              } while (*(int **)(piVar13 + 4) != (int *)0x0);
              uVar9 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                      ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                    *)(this + 0x2f0),local_190);
              _send_window_event(this,uVar9,4);
              local_155 = 1;
            }
LAB_001159a9:
            *(uint *)(this + 800) = local_10c;
          }
          iVar11 = iVar11 + 1;
        } while (iVar4 != iVar11);
        goto LAB_001159cd;
      }
    }
  }
  local_155 = 0;
LAB_001159cd:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_155;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_start_drag(int) */

void __thiscall DisplayServerX11::window_start_drag(DisplayServerX11 *this,int param_1)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  undefined8 *puVar12;
  ulong uVar13;
  long lVar14;
  uint uVar15;
  undefined8 *puVar16;
  ulong uVar17;
  uint uVar18;
  long in_FS_OFFSET;
  byte bVar19;
  uint local_dc [4];
  int local_cc;
  int local_c8;
  undefined1 local_c4 [4];
  undefined1 local_c0 [4];
  undefined1 local_bc [4];
  undefined1 local_b8 [8];
  undefined1 local_b0 [8];
  undefined4 local_a8 [8];
  undefined8 local_88;
  undefined8 local_80;
  undefined4 local_78;
  long local_70;
  long local_68;
  undefined8 local_60;
  undefined8 local_58;
  undefined8 local_50;
  long local_40;
  
  bVar19 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_dc[0] = param_1;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar11 = (local_dc[0] >> 0x10 ^ local_dc[0]) * -0x7a143595;
    uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
    uVar15 = uVar11 ^ uVar11 >> 0x10;
    if (uVar11 == uVar11 >> 0x10) {
      uVar15 = 1;
      uVar13 = uVar1;
    }
    else {
      uVar13 = uVar15 * uVar1;
    }
    uVar17 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar2._8_8_ = 0;
    auVar2._0_8_ = uVar17;
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar13;
    lVar14 = SUB168(auVar2 * auVar6,8);
    uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
    iVar10 = SUB164(auVar2 * auVar6,8);
    if (uVar11 != 0) {
      uVar18 = 0;
      do {
        if ((uVar15 == uVar11) &&
           (local_dc[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar14 * 8) + 0x10))) {
          puVar12 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)local_dc);
          if (puVar12[0x20] == 0) {
            puVar16 = (undefined8 *)local_a8;
            for (lVar14 = 0xc; lVar14 != 0; lVar14 = lVar14 + -1) {
              *puVar16 = 0;
              puVar16 = puVar16 + (ulong)bVar19 * -2 + 1;
            }
            (*_XUngrabPointer_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
            iVar10 = (*_XQueryPointer_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),*puVar12,local_b8,local_b0,&local_cc,
                                &local_c8,local_c4,local_c0,local_bc);
            local_a8[0] = 0x21;
            local_88 = *puVar12;
            local_80 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                 (*(undefined8 *)(this + 0x360),"_NET_WM_MOVERESIZE",1);
            local_78 = 0x20;
            if (iVar10 != 0) {
              local_70 = (long)local_cc;
              local_58 = 1;
              local_68 = (long)local_c8;
            }
            lVar14 = *(long *)(this + 0x360);
            local_60 = 8;
            local_50 = 1;
            (*_XSendEvent_dylibloader_wrapper_xlib)
                      (lVar14,*(undefined8 *)
                               ((long)*(int *)(lVar14 + 0xe0) * 0x80 + *(long *)(lVar14 + 0xe8) +
                               0x10),0,0x180000,local_a8);
            (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
            pthread_mutex_unlock(__mutex);
            goto LAB_00115f40;
          }
          goto LAB_00115f90;
        }
        uVar18 = uVar18 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar10 + 1) * uVar1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = uVar17;
        lVar14 = SUB168(auVar3 * auVar7,8);
        uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
        iVar10 = SUB164(auVar3 * auVar7,8);
      } while ((uVar11 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
              auVar8._0_8_ = uVar17, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar10) - SUB164(auVar4 * auVar8,8)) * uVar1,
              auVar9._8_8_ = 0, auVar9._0_8_ = uVar17, uVar18 <= SUB164(auVar5 * auVar9,8)));
    }
  }
  _err_print_error("window_start_drag","platform/linuxbsd/x11/display_server_x11.cpp",0x15f5,
                   "Condition \"!windows.has(p_window)\" is true.",0,0);
LAB_00115f90:
  pthread_mutex_unlock(__mutex);
LAB_00115f40:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::window_start_resize(DisplayServer::WindowResizeEdge, int) */

void __thiscall
DisplayServerX11::window_start_resize(DisplayServerX11 *this,uint param_2,uint param_3)

{
  pthread_mutex_t *__mutex;
  ulong uVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  int iVar10;
  uint uVar11;
  undefined8 *puVar12;
  ulong uVar13;
  long lVar14;
  uint uVar15;
  undefined8 *puVar16;
  ulong uVar17;
  uint uVar18;
  long in_FS_OFFSET;
  byte bVar19;
  uint local_dc [4];
  int local_cc;
  int local_c8;
  undefined1 local_c4 [4];
  undefined1 local_c0 [4];
  undefined1 local_bc [4];
  undefined1 local_b8 [8];
  undefined1 local_b0 [8];
  undefined4 local_a8 [8];
  undefined8 local_88;
  undefined8 local_80;
  undefined4 local_78;
  long local_70;
  long local_68;
  undefined8 local_60;
  undefined8 local_58;
  undefined8 local_50;
  long local_40;
  
  bVar19 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  __mutex = (pthread_mutex_t *)(this + 0x200);
  local_dc[0] = param_3;
  iVar10 = pthread_mutex_lock(__mutex);
  if (iVar10 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar10);
  }
  if (param_2 < 8) {
    if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
      uVar1 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
      uVar11 = (local_dc[0] >> 0x10 ^ local_dc[0]) * -0x7a143595;
      uVar11 = (uVar11 ^ uVar11 >> 0xd) * -0x3d4d51cb;
      uVar15 = uVar11 ^ uVar11 >> 0x10;
      if (uVar11 == uVar11 >> 0x10) {
        uVar15 = 1;
        uVar13 = uVar1;
      }
      else {
        uVar13 = uVar15 * uVar1;
      }
      uVar17 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
      auVar2._8_8_ = 0;
      auVar2._0_8_ = uVar17;
      auVar6._8_8_ = 0;
      auVar6._0_8_ = uVar13;
      lVar14 = SUB168(auVar2 * auVar6,8);
      uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
      iVar10 = SUB164(auVar2 * auVar6,8);
      if (uVar11 != 0) {
        uVar18 = 0;
        do {
          if ((uVar11 == uVar15) &&
             (local_dc[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar14 * 8) + 0x10))) {
            puVar12 = (undefined8 *)
                      HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                      ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                    *)(this + 0x2f0),(int *)local_dc);
            if (puVar12[0x20] == 0) {
              puVar16 = (undefined8 *)local_a8;
              for (lVar14 = 0xc; lVar14 != 0; lVar14 = lVar14 + -1) {
                *puVar16 = 0;
                puVar16 = puVar16 + (ulong)bVar19 * -2 + 1;
              }
              (*_XUngrabPointer_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
              iVar10 = (*_XQueryPointer_dylibloader_wrapper_xlib)
                                 (*(undefined8 *)(this + 0x360),*puVar12,local_b8,local_b0,&local_cc
                                  ,&local_c8,local_c4,local_c0,local_bc);
              local_a8[0] = 0x21;
              local_88 = *puVar12;
              local_80 = (*_XInternAtom_dylibloader_wrapper_xlib)
                                   (*(undefined8 *)(this + 0x360),"_NET_WM_MOVERESIZE",1);
              local_78 = 0x20;
              if (iVar10 != 0) {
                local_70 = (long)local_cc;
                local_58 = 1;
                local_68 = (long)local_c8;
              }
              switch(param_2) {
              default:
                local_60 = 0;
                break;
              case 1:
                local_60 = 1;
                break;
              case 2:
                local_60 = 2;
                break;
              case 3:
                local_60 = 7;
                break;
              case 4:
                local_60 = 3;
                break;
              case 5:
                local_60 = 6;
                break;
              case 6:
                local_60 = 5;
                break;
              case 7:
                local_60 = 4;
              }
              lVar14 = *(long *)(this + 0x360);
              local_50 = 1;
              (*_XSendEvent_dylibloader_wrapper_xlib)
                        (lVar14,*(undefined8 *)
                                 ((long)*(int *)(lVar14 + 0xe0) * 0x80 + *(long *)(lVar14 + 0xe8) +
                                 0x10),0,0x180000,local_a8);
              (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
              pthread_mutex_unlock(__mutex);
              goto LAB_00116252;
            }
            goto LAB_00116248;
          }
          uVar18 = uVar18 + 1;
          auVar3._8_8_ = 0;
          auVar3._0_8_ = (iVar10 + 1) * uVar1;
          auVar7._8_8_ = 0;
          auVar7._0_8_ = uVar17;
          lVar14 = SUB168(auVar3 * auVar7,8);
          uVar11 = *(uint *)(*(long *)(this + 0x300) + lVar14 * 4);
          iVar10 = SUB164(auVar3 * auVar7,8);
        } while ((uVar11 != 0) &&
                (auVar4._8_8_ = 0, auVar4._0_8_ = uVar11 * uVar1, auVar8._8_8_ = 0,
                auVar8._0_8_ = uVar17, auVar5._8_8_ = 0,
                auVar5._0_8_ = ((*(uint *)(hash_table_size_primes +
                                          (ulong)*(uint *)(this + 0x318) * 4) + iVar10) -
                               SUB164(auVar4 * auVar8,8)) * uVar1, auVar9._8_8_ = 0,
                auVar9._0_8_ = uVar17, uVar18 <= SUB164(auVar5 * auVar9,8)));
      }
    }
    _err_print_error("window_start_resize","platform/linuxbsd/x11/display_server_x11.cpp",0x161d,
                     "Condition \"!windows.has(p_window)\" is true.",0,0);
  }
  else {
    _err_print_index_error
              ("window_start_resize","platform/linuxbsd/x11/display_server_x11.cpp",0x161b,
               (long)(int)param_2,8,"int(p_edge)","WINDOW_EDGE_MAX","",false,false);
  }
LAB_00116248:
  pthread_mutex_unlock(__mutex);
LAB_00116252:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_create_window(DisplayServer::WindowMode, DisplayServer::VSyncMode, unsigned
   int, Rect2i const&, unsigned long) */

uint __thiscall
DisplayServerX11::_create_window
          (DisplayServerX11 *this,int param_2,undefined4 param_3,uint param_4,Rect2i *param_5,
          long param_6)

{
  code *pcVar1;
  bool bVar2;
  char cVar3;
  int iVar4;
  void *pvVar5;
  undefined8 *puVar6;
  long lVar7;
  WindowData *pWVar8;
  undefined8 uVar9;
  long *plVar10;
  undefined8 uVar11;
  ulong uVar12;
  ulong uVar13;
  undefined8 *puVar14;
  long lVar15;
  char *pcVar16;
  uint uVar17;
  uint uVar18;
  int iVar19;
  uint uVar20;
  long in_FS_OFFSET;
  byte bVar21;
  undefined1 auVar22 [16];
  undefined1 *local_2c8;
  undefined4 local_2a4;
  ulong local_2a0;
  int *local_298;
  uint local_274;
  undefined8 local_270;
  pthread_mutex_t *local_268;
  undefined1 local_260;
  DisplayServerX11 *local_258;
  code *local_250;
  DisplayServerX11 *local_248;
  code *local_240;
  DisplayServerX11 *local_238;
  code *local_230;
  undefined8 local_228 [2];
  int local_218;
  undefined4 local_214;
  undefined1 local_1e8 [16];
  undefined8 local_1d8;
  undefined4 local_1a8;
  undefined8 local_1a0;
  undefined4 local_190;
  undefined8 local_188;
  int local_178 [18];
  undefined8 local_130;
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  undefined8 local_c0;
  ulong local_78;
  undefined8 local_70;
  undefined8 local_68;
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  bVar21 = 0;
  lVar15 = *(long *)(this + 0x360);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(Error **)(this + 0x280) == (Error *)0x0) {
    pvVar5 = *(void **)(this + 0x288);
    bVar2 = false;
    if (pvVar5 == (void *)0x0) {
LAB_001164da:
      local_298 = local_178;
      local_2c8 = local_108;
      local_f8._4_12_ = SUB1612((undefined1  [16])0x0,4);
      local_f8._0_4_ = *(undefined4 *)(lVar15 + 0xe0);
      local_108 = (undefined1  [16])0x0;
      local_e8 = (undefined1  [16])0x0;
      local_d8 = (undefined1  [16])0x0;
      puVar6 = (undefined8 *)
               (*_XGetVisualInfo_dylibloader_wrapper_xlib)(lVar15,2,local_2c8,local_298);
      if (puVar6 != (undefined8 *)0x0) {
        uVar9 = *puVar6;
        lVar15 = (long)*(int *)(puVar6 + 2);
        local_2a4 = *(undefined4 *)((long)puVar6 + 0x14);
        lVar7 = OS::get_singleton();
        if ((*(char *)(lVar7 + 0x3d) != '\0') && (0 < local_178[0])) {
          iVar4 = 0;
          puVar14 = puVar6;
          do {
            lVar7 = (*_XRenderFindVisualFormat_dylibloader_wrapper_xrender)
                              (*(undefined8 *)(this + 0x360),*puVar14);
            if (lVar7 != 0) {
              uVar9 = *puVar14;
              lVar15 = (long)*(int *)(puVar14 + 2);
              local_2a4 = *(undefined4 *)((long)puVar14 + 0x14);
              if (0 < *(short *)(lVar7 + 0x1e)) break;
            }
            iVar4 = iVar4 + 1;
            puVar14 = puVar14 + 8;
          } while (iVar4 < local_178[0]);
        }
        (*_XFree_dylibloader_wrapper_xlib)(puVar6);
        goto LAB_00116558;
      }
      _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x17c6,
                       "Parameter \"vi_list\" is null.",0,0);
    }
    else {
LAB_0011644d:
      iVar4 = EGLManager::display_get_native_visual_id(pvVar5);
      if (iVar4 < 0) {
        _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x17b2,
                         "Condition \"visual_id < 0\" is true. Returning: INVALID_WINDOW_ID",
                         "Unable to get a visual id.",0,0);
      }
      else {
        local_108._8_8_ = (long)iVar4;
        local_178[0] = 0;
        puVar6 = (undefined8 *)
                 (*_XGetVisualInfo_dylibloader_wrapper_xlib)
                           (*(undefined8 *)(this + 0x360),1,local_108);
        if (0 < local_178[0]) {
          uVar9 = *puVar6;
          lVar15 = (long)*(int *)(puVar6 + 2);
          local_2a4 = *(undefined4 *)((long)puVar6 + 0x14);
          (*_XFree_dylibloader_wrapper_xlib)(puVar6);
          if (bVar2) goto LAB_00116558;
          lVar15 = *(long *)(this + 0x360);
          goto LAB_001164da;
        }
        _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x17b8,
                         "Condition \"number_of_visuals <= 0\" is true. Returning: INVALID_WINDOW_ID"
                         ,0,0);
      }
    }
LAB_001170c8:
    uVar20 = 0xffffffff;
  }
  else {
    GLManager_X11::get_vi((_XDisplay *)local_228,*(Error **)(this + 0x280));
    lVar15 = (long)local_218;
    local_2a4 = local_214;
    if (local_108._0_4_ != 0) {
      _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x17ac,
                       "Condition \"err != OK\" is true. Returning: INVALID_WINDOW_ID",
                       "Can\'t acquire visual info from display.",0,0);
      goto LAB_001170c8;
    }
    pvVar5 = *(void **)(this + 0x288);
    uVar9 = local_228[0];
    if (pvVar5 != (void *)0x0) {
      bVar2 = true;
      goto LAB_0011644d;
    }
LAB_00116558:
    local_298 = local_178;
    local_2c8 = local_108;
    lVar15 = lVar15 * 0x80;
    local_188 = (*_XCreateColormap_dylibloader_wrapper_xlib)
                          (*(long *)(this + 0x360),
                           *(undefined8 *)
                            (*(long *)(*(long *)(this + 0x360) + 0xe8) + 0x10 + lVar15),uVar9,0);
    puVar6 = (undefined8 *)local_1e8;
    for (lVar7 = 0xe; lVar7 != 0; lVar7 = lVar7 + -1) {
      *puVar6 = 0;
      puVar6 = puVar6 + (ulong)bVar21 * -2 + 1;
    }
    local_1e8._8_8_ = 0xffffffff;
    local_1a0 = 0x28003;
    lVar7 = OS::get_singleton();
    local_2a0 = 0x2808;
    if (*(char *)(lVar7 + 0x3d) != '\0') {
      local_1d8 = 0;
      local_2a0 = 0x280a;
      local_1e8 = (undefined1  [16])0x0;
    }
    uVar20 = *(uint *)(this + 0x340);
    *(uint *)(this + 0x340) = uVar20 + 1;
    local_274 = uVar20;
    pWVar8 = (WindowData *)
             HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),(int *)&local_274);
    if ((param_4 & 0x10) == 0) {
      if ((param_4 & 0x20) != 0) {
        pWVar8[0xfb] = (WindowData)0x1;
      }
      if (pWVar8[0xe8] != (WindowData)0x0) goto LAB_00116639;
    }
    else {
      pWVar8[0xe8] = (WindowData)0x1;
      if ((param_4 & 0x20) != 0) {
        pWVar8[0xfb] = (WindowData)0x1;
      }
LAB_00116639:
      local_2a0 = local_2a0 | 0x600;
      local_190 = 1;
      local_1a8 = 1;
    }
    pcVar1 = *(code **)(*(long *)this + 0x410);
    local_58 = Rect2i::operator_cast_to_Rect2(param_5);
    iVar4 = (*pcVar1)(this,(Vector2i *)local_58);
    if (iVar4 < 0) {
      iVar4 = (**(code **)(*(long *)this + 0x400))(this);
    }
    uVar18 = *(uint *)(param_5 + 8);
    uVar13 = (ulong)*(uint *)param_5;
    uVar12 = (ulong)*(uint *)(param_5 + 4);
    iVar19 = *(int *)(param_5 + 0xc);
    if (param_6 == 0) {
      if (param_2 - 3U < 2) {
        uVar11 = (**(code **)(*(long *)this + 0x420))(this);
        uVar12 = (**(code **)(*(long *)this + 0x418))(this,iVar4);
        uVar18 = (uint)uVar11;
        iVar19 = (int)((ulong)uVar11 >> 0x20);
        uVar13 = uVar12 & 0xffffffff;
        uVar12 = uVar12 >> 0x20;
      }
      else {
        auVar22 = (**(code **)(*(long *)this + 0x428))(this);
        local_78 = *(ulong *)param_5;
        local_58 = auVar22;
        local_68 = Vector2i::operator/((Vector2i *)(param_5 + 8),3);
        local_70 = Vector2i::operator+((Vector2i *)local_58,(Vector2i *)(local_58 + 8));
        local_60 = Vector2i::operator-((Vector2i *)&local_70,(Vector2i *)&local_68);
        local_78 = Vector2i::clamp((Vector2i *)&local_78,(Vector2i *)local_58);
        uVar13 = local_78 & 0xffffffff;
        uVar12 = local_78 >> 0x20;
      }
    }
    lVar7 = *(long *)(this + 0x360);
    uVar11 = *(undefined8 *)(*(long *)(lVar7 + 0xe8) + 0x10 + lVar15);
    *(ulong *)(pWVar8 + 0x40) = CONCAT44((int)uVar12,(int)uVar13);
    *(ulong *)(pWVar8 + 0x48) = CONCAT44(iVar19,uVar18);
    iVar4 = 1;
    if (0 < iVar19) {
      iVar4 = iVar19;
    }
    uVar17 = 1;
    if (0 < (int)uVar18) {
      uVar17 = uVar18;
    }
    uVar9 = (*_XCreateWindow_dylibloader_wrapper_xlib)
                      (lVar7,uVar11,uVar13,uVar12,uVar17,iVar4,0,local_2a4,1,uVar9,local_2a0,
                       local_1e8);
    lVar7 = *(long *)(this + 0x360);
    *(undefined8 *)pWVar8 = uVar9;
    *(undefined8 *)(pWVar8 + 0x10) = *(undefined8 *)(*(long *)(lVar7 + 0xe8) + 0x10 + lVar15);
    if (param_6 != 0) {
      *(long *)(pWVar8 + 0x100) = param_6;
      (*_XSetTransientForHint_dylibloader_wrapper_xlib)(lVar7,uVar9,param_6);
      uVar9 = *(undefined8 *)pWVar8;
      lVar7 = *(long *)(this + 0x360);
    }
    for (lVar15 = 0xe; lVar15 != 0; lVar15 = lVar15 + -1) {
      local_298[0] = 0;
      local_298[1] = 0;
      local_298 = local_298 + ((ulong)bVar21 * -2 + 1) * 2;
    }
    local_130 = 0x28003;
    uVar9 = (*_XCreateWindow_dylibloader_wrapper_xlib)(lVar7,uVar9,0,0,1,1,0,0,2,0,0x800,local_178);
    lVar15 = *(long *)(this + 0x2e8);
    *(undefined8 *)(pWVar8 + 8) = uVar9;
    if ((lVar15 != 0) && (this[0x2d8] != (DisplayServerX11)0x0)) {
      uVar9 = (*_xkb_compose_state_new_dylibloader_wrapper_xkbcommon)(lVar15,0);
      *(undefined8 *)(pWVar8 + 0x28) = uVar9;
    }
    if ((pWVar8[0xe8] == (WindowData)0x0) && (pWVar8[0xfb] == (WindowData)0x0)) {
      (*_XSelectInput_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,0x20000);
    }
    plVar10 = (long *)OS::get_singleton();
    iVar4 = (**(code **)(*plVar10 + 0x130))(plVar10);
    local_108._0_8_ = (long)iVar4;
    lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"_NET_WM_PID",0)
    ;
    if (lVar15 != 0) {
      (*_XChangeProperty_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,lVar15,6,0x20,0,local_2c8,1);
    }
    local_270 = 0;
    local_c0 = 0x1fbff7f;
    (*_XChangeWindowAttributes_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,0x800,local_2c8);
    _create_window(DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Rect2i_const&,unsigned_long)
    ::all_mask_data._1_1_ =
         _create_window(DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Rect2i_const&,unsigned_long)
         ::all_mask_data._1_1_ | 8;
    local_238 = _LC299;
    local_230 = (code *)&_create_window(DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Rect2i_const&,unsigned_long)
                         ::all_mask_data;
    if ((*(long *)(this + 0x3d8) != 0) && (*(long *)(*(long *)(this + 0x3d8) + -8) != 0)) {
      _create_window(DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Rect2i_const&,unsigned_long)
      ::all_mask_data._2_1_ =
           _create_window(DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Rect2i_const&,unsigned_long)
           ::all_mask_data._2_1_ | 0x3c;
    }
    (*_XISelectEvents_dylibloader_wrapper_xinput2)
              (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,(CowData<char32_t> *)&local_238,1
              );
    (*_XStoreName_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,"Godot");
    (*_XSetWMProtocols_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,this + 0x228,1);
    if (*(long *)(this + 0x268) != 0) {
      (*_XChangeProperty_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,*(long *)(this + 0x268),4,0x20,
                 0,this + 0x278,1);
    }
    if ((*(long *)(this + 0x388) == 0) || (*(long *)(this + 0x390) == 0)) {
      *(undefined8 *)(pWVar8 + 0x18) = 0;
      _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x18ac,
                       "XCreateIC couldn\'t create wd.xic",0,1);
    }
    else {
      local_268 = (pthread_mutex_t *)(this + 0x700);
      local_260 = 0;
      std::unique_lock<std::recursive_mutex>::lock((unique_lock<std::recursive_mutex> *)&local_268);
      uVar12 = *(ulong *)(this + 0x390);
      local_260 = 1;
      if ((uVar12 & 4) == 0) {
        if ((uVar12 & 2) != 0) goto LAB_00116f87;
        uVar9 = (*_XCreateIC_dylibloader_wrapper_xlib)
                          (*(undefined8 *)(this + 0x388),"inputStyle",uVar12,"clientWindow",
                           *(undefined8 *)(pWVar8 + 8),"focusWindow",*(undefined8 *)(pWVar8 + 8),0);
        *(undefined8 *)(pWVar8 + 0x18) = uVar9;
      }
      else {
        *(ulong *)(this + 0x390) = uVar12 & 0xfffffffffffffffb | 2;
LAB_00116f87:
        local_250 = _xim_preedit_start_callback;
        local_240 = _xim_preedit_done_callback;
        local_230 = _xim_preedit_draw_callback;
        local_108._8_8_ = _xim_preedit_caret_callback;
        local_108._0_8_ = this;
        local_258 = this;
        local_248 = this;
        local_238 = this;
        uVar9 = (*_XVaCreateNestedList_dylibloader_wrapper_xlib)
                          (0,"preeditStartCallback",&local_258,"preeditDoneCallback",&local_248,
                           "preeditDrawCallback",(CowData<char32_t> *)&local_238,
                           "preeditCaretCallback",local_2c8,0);
        uVar11 = (*_XCreateIC_dylibloader_wrapper_xlib)
                           (*(undefined8 *)(this + 0x388),"inputStyle",*(undefined8 *)(this + 0x390)
                            ,"clientWindow",*(undefined8 *)(pWVar8 + 8),"focusWindow",
                            *(undefined8 *)(pWVar8 + 8),"preeditAttributes",uVar9,0);
        *(undefined8 *)(pWVar8 + 0x18) = uVar11;
        (*_XFree_dylibloader_wrapper_xlib)(uVar9);
        uVar9 = *(undefined8 *)(pWVar8 + 0x18);
      }
      lVar15 = (*_XGetICValues_dylibloader_wrapper_xlib)(uVar9,"filterEvents",&local_270,0);
      if (lVar15 == 0) {
        if (*(long *)(pWVar8 + 0x18) == 0) goto LAB_00116ebe;
        (*_XUnsetICFocus_dylibloader_wrapper_xlib)();
      }
      else {
        _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x18a1,
                         "XGetICValues couldn\'t obtain XNFilterEvents value",0,1);
        (*_XDestroyIC_dylibloader_wrapper_xlib)(*(undefined8 *)(pWVar8 + 0x18));
        *(undefined8 *)(pWVar8 + 0x18) = 0;
LAB_00116ebe:
        _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x18a8,
                         "XCreateIC couldn\'t create wd.xic",0,1);
      }
      if (local_268 != (pthread_mutex_t *)0x0) {
        pthread_mutex_unlock(local_268);
      }
    }
    _update_context(this,pWVar8);
    if ((param_4 & 2) != 0) {
      local_f8 = ZEXT816(0);
      auVar22._8_8_ = 0;
      auVar22._0_8_ = local_e8._8_8_;
      local_e8 = auVar22 << 0x40;
      local_108._8_8_ = _UNK_0012da28;
      local_108._0_8_ = _LC211;
      lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)
                         (*(undefined8 *)(this + 0x360),"_MOTIF_WM_HINTS",1);
      if (lVar15 != 0) {
        (*_XChangeProperty_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,lVar15,lVar15,0x20,0,
                   local_2c8,5);
      }
    }
    if (((pWVar8[0xfb] == (WindowData)0x0) && (pWVar8[0xe8] == (WindowData)0x0)) &&
       ((*(long *)(pWVar8 + 0x100) == 0 || (this[0x6f4] != (DisplayServerX11)0x0)))) {
      uVar9 = *(undefined8 *)(this + 0x360);
      pcVar16 = "_NET_WM_WINDOW_TYPE_NORMAL";
    }
    else {
      uVar9 = *(undefined8 *)(this + 0x360);
      pcVar16 = "_NET_WM_WINDOW_TYPE_UTILITY";
    }
    uVar9 = (*_XInternAtom_dylibloader_wrapper_xlib)(uVar9,pcVar16,0);
    local_108._0_8_ = uVar9;
    lVar15 = (*_XInternAtom_dylibloader_wrapper_xlib)
                       (*(undefined8 *)(this + 0x360),"_NET_WM_WINDOW_TYPE",0);
    if ((lVar15 != 0) && (local_108._0_8_ != 0)) {
      (*_XChangeProperty_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,lVar15,4,0x20,0,local_2c8,1);
    }
    if (param_6 != 0) {
      _set_window_taskbar_pager_enabled(this,*(ulong *)pWVar8,false);
    }
    _update_size_hints(this,uVar20);
    if (*(long *)(this + 0x290) != 0) {
      cVar3 = String::operator==((String *)(this + 0x6d0),"vulkan");
      if (cVar3 != '\0') {
        local_108._8_8_ = *(undefined8 *)(this + 0x360);
        local_108._0_8_ = *(undefined8 *)pWVar8;
      }
      iVar4 = RenderingContextDriver::window_create
                        ((int)*(undefined8 *)(this + 0x290),(void *)(ulong)uVar20);
      if (iVar4 != 0) {
        local_248 = (DisplayServerX11 *)0x0;
        if (*(long *)(this + 0x6d0) != 0) {
          CowData<char32_t>::_ref((CowData<char32_t> *)&local_248,(CowData *)(this + 0x6d0));
        }
        local_258 = (DisplayServerX11 *)0x0;
        String::parse_latin1((String *)&local_258,"Can\'t create a %s window");
        vformat<String>((CowData<char32_t> *)&local_238,(String *)&local_258,
                        (CowData<char32_t> *)&local_248);
        _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x18e1,
                         "Condition \"err != OK\" is true. Returning: INVALID_WINDOW_ID",
                         (CowData<char32_t> *)&local_238,0,0);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_238);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_258);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_248);
        goto LAB_001170c8;
      }
      RenderingContextDriver::window_set_size((int)*(undefined8 *)(this + 0x290),uVar20,uVar18);
      RenderingContextDriver::window_set_vsync_mode(*(undefined8 *)(this + 0x290),uVar20,param_3);
    }
    if (*(long *)(this + 0x280) != 0) {
      iVar4 = GLManager_X11::window_create
                        ((int)*(long *)(this + 0x280),(ulong)uVar20,*(_XDisplay **)pWVar8,
                         (int)*(undefined8 *)(this + 0x360),uVar18);
      if (iVar4 != 0) {
        _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x18ea,
                         "Condition \"err != OK\" is true. Returning: INVALID_WINDOW_ID",
                         "Can\'t create an OpenGL window",0,0);
        goto LAB_001170c8;
      }
    }
    if (*(long *)(this + 0x288) != 0) {
      iVar4 = EGLManager::window_create
                        ((int)*(long *)(this + 0x288),(void *)(ulong)uVar20,*(void **)(this + 0x360)
                         ,(int)pWVar8,uVar18);
      if (iVar4 != 0) {
        _err_print_error("_create_window","platform/linuxbsd/x11/display_server_x11.cpp",0x18ee,
                         "Condition \"err != OK\" is true. Returning: INVALID_WINDOW_ID",
                         "Failed to create an OpenGLES window.",0,0);
        goto LAB_001170c8;
      }
    }
    (**(code **)(*(long *)this + 0x5a8))(this,param_3,uVar20);
    (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
    (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
    (**(code **)(*(long *)this + 0x598))(this,param_2,uVar20);
    (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
    (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8,local_2c8);
    lVar15 = *(long *)(this + (long)*(int *)(this + 0x698) * 8 + 0x608);
    *(undefined8 *)(pWVar8 + 0x40) = local_108._0_8_;
    *(undefined8 *)(pWVar8 + 0x48) = local_108._8_8_;
    if (lVar15 != 0) {
      (*_XDefineCursor_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*(undefined8 *)pWVar8);
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar20;
}



/* DisplayServerX11::create_sub_window(DisplayServer::WindowMode, DisplayServer::VSyncMode, unsigned
   int, Rect2i const&, bool, int) */

undefined4 __thiscall
DisplayServerX11::create_sub_window
          (DisplayServerX11 *this,undefined4 param_2,undefined4 param_3,uint param_4,
          undefined8 param_5,undefined8 param_6,int param_7)

{
  int iVar1;
  undefined4 uVar2;
  
  iVar1 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar1 == 0) {
    uVar2 = _create_window(this,param_2,param_3,param_4,param_5,0);
    iVar1 = 0;
    do {
      if ((1 << ((byte)iVar1 & 0x1f) & param_4) != 0) {
        (**(code **)(*(long *)this + 0x5c0))(this,iVar1,1,uVar2);
      }
      iVar1 = iVar1 + 1;
    } while (iVar1 != 10);
    if (*(long *)(this + 0x298) != 0) {
      RenderingDevice::screen_create((int)*(long *)(this + 0x298));
    }
    if (param_7 != -1) {
      (**(code **)(*(long *)this + 0x550))(this,uVar2,param_7);
    }
    pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
    return uVar2;
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(iVar1);
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::DisplayServerX11(String const&, DisplayServer::WindowMode,
   DisplayServer::VSyncMode, unsigned int, Vector2i const*, Vector2i const&, int,
   DisplayServer::Context, long, Error&) */

void __thiscall
DisplayServerX11::DisplayServerX11
          (DisplayServerX11 *this,CowData *param_1,undefined4 param_3,undefined4 param_4,
          uint param_5,undefined8 *param_6,Vector2i *param_7,undefined8 param_8,undefined4 param_9,
          undefined8 param_10,undefined4 *param_11)

{
  ulong *puVar1;
  CowData<char32_t> *this_00;
  ushort uVar2;
  code *pcVar3;
  ulong uVar4;
  char *pcVar5;
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  int iVar14;
  ulong *puVar15;
  DisplayServerX11 DVar16;
  char cVar17;
  int iVar18;
  int iVar19;
  undefined4 uVar20;
  long *plVar21;
  Object *pOVar22;
  long lVar23;
  char *pcVar24;
  undefined8 uVar25;
  _func_void_Ref_ptr *p_Var26;
  ulong *puVar27;
  RenderingDevice *this_01;
  RenderingContextDriverVulkanX11 *this_02;
  TTS_Linux *this_03;
  undefined8 uVar28;
  undefined8 uVar29;
  WindowData *pWVar30;
  FreeDesktopScreenSaver *this_04;
  FreeDesktopPortalDesktop *this_05;
  GLManager_X11 *pGVar31;
  EGLManager *pEVar32;
  ulong uVar33;
  ulong *puVar34;
  undefined8 extraout_RDX;
  undefined8 *puVar35;
  ulong uVar36;
  long lVar37;
  uint uVar38;
  long in_FS_OFFSET;
  bool bVar39;
  byte bVar40;
  char local_20a;
  int local_200;
  uint local_1fc;
  undefined1 local_1f8 [4];
  undefined1 local_1f4 [4];
  long local_1f0;
  undefined8 local_1e8;
  String local_1e0 [8];
  undefined8 local_1d8;
  undefined8 local_1d0;
  undefined1 local_1c8 [16];
  undefined8 local_1b8;
  code *local_1b0 [16];
  undefined8 local_130;
  undefined8 local_128 [4];
  undefined1 local_108 [12] [16];
  long local_40;
  
  local_1c8._8_8_ = local_1c8._0_8_;
  bVar40 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  DisplayServer::DisplayServer((DisplayServer *)this);
  uVar25 = _LC211;
  *(undefined ***)this = &PTR__initialize_classv_0012cdd8;
  *(undefined1 (*) [16])(this + 0x210) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x200) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x280) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x290) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x2b0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x2e0) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x2f8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x308) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x348) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x378) = (undefined1  [16])0x0;
  *(undefined2 *)(this + 0x2d8) = 0;
  *(undefined8 *)(this + 0x318) = uVar25;
  *(undefined8 *)(this + 0x220) = 0;
  *(undefined4 *)(this + 0x210) = 1;
  *(undefined8 *)(this + 0x270) = 0;
  *(undefined4 *)(this + 0x278) = 5;
  *(undefined8 *)(this + 0x2a0) = 0;
  this[0x2a8] = (DisplayServerX11)0x0;
  *(undefined8 *)(this + 0x2c0) = 0;
  *(undefined8 *)(this + 0x2c8) = 0;
  *(undefined8 *)(this + 0x2d0) = 0;
  *(undefined4 *)(this + 800) = 0;
  *(undefined8 *)(this + 0x328) = 0;
  *(undefined8 *)(this + 0x330) = 0;
  *(undefined8 *)(this + 0x338) = 0xffffffffffffffff;
  *(undefined4 *)(this + 0x340) = 0;
  *(undefined8 *)(this + 0x358) = 0;
  *(undefined8 *)(this + 0x368) = 0;
  *(undefined4 *)(this + 0x370) = 0;
  *(undefined8 *)(this + 0x398) = 0;
  this[0x3a0] = (DisplayServerX11)0x0;
  uVar28 = _LC334;
  *(undefined1 (*) [16])(this + 1000) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x3f8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x418) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x428) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x448) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x458) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x478) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x488) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x4a8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x4b8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x4e8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x4f8) = (undefined1  [16])0x0;
  *(undefined8 *)(this + 0x3a4) = uVar28;
  *(undefined8 *)(this + 0x408) = uVar25;
  *(undefined8 *)(this + 0x438) = uVar25;
  *(undefined8 *)(this + 0x468) = uVar25;
  *(undefined8 *)(this + 0x498) = uVar25;
  *(undefined8 *)(this + 0x4c8) = uVar25;
  *(undefined8 *)(this + 0x508) = uVar25;
  *(undefined8 *)(this + 0x3b0) = 0;
  *(undefined4 *)(this + 0x3b8) = 0;
  this[0x3bc] = (DisplayServerX11)0x0;
  *(undefined8 *)(this + 0x3c0) = 0;
  *(undefined8 *)(this + 0x3d8) = 0;
  *(undefined8 *)(this + 0x51c) = 0;
  *(undefined8 *)(this + 0x524) = 0;
  *(undefined8 *)(this + 0x52c) = 0;
  *(undefined8 *)(this + 0x534) = 0;
  *(undefined8 *)(this + 0x53c) = 0;
  *(undefined8 *)(this + 0x550) = 0;
  *(undefined4 *)(this + 0x558) = 0;
  this[0x55c] = (DisplayServerX11)0x0;
  *(undefined1 (*) [16])(this + 0x710) = (undefined1  [16])0x0;
  *(undefined8 *)(this + 0x6c8) = uVar25;
  *(undefined8 *)(this + 0x560) = 0;
  this[0x568] = (DisplayServerX11)0x0;
  *(undefined8 *)(this + 0x570) = 0;
  *(undefined4 *)(this + 0x578) = 0;
  *(undefined4 *)(this + 0x698) = 0;
  *(undefined8 *)(this + 0x6d0) = 0;
  *(undefined8 *)(this + 0x6e8) = 0;
  *(undefined4 *)(this + 0x6f0) = 0x10101;
  this[0x6f4] = (DisplayServerX11)0x0;
  *(undefined4 *)(this + 0x6f8) = 2;
  *(undefined8 *)(this + 0x720) = 0;
  *(undefined4 *)(this + 0x710) = 1;
  *(undefined1 (*) [16])(this + 0x700) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x6a8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x6b8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x6d8) = (undefined1  [16])0x0;
  Thread::Thread((Thread *)(this + 0x728));
  this[0x738] = (DisplayServerX11)0x0;
  *(undefined8 *)(this + 0x778) = uVar25;
  *(undefined8 *)(this + 0x740) = 0;
  *(undefined8 *)(this + 0x748) = 0;
  *(undefined1 (*) [16])(this + 0x758) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 0x768) = (undefined1  [16])0x0;
  KeyMappingX11::initialize();
  plVar21 = (long *)OS::get_singleton();
  pcVar3 = *(code **)(*plVar21 + 0x170);
  auVar11._8_8_ = 0;
  auVar11._0_8_ = local_1c8._8_8_;
  local_1c8 = auVar11 << 0x40;
  local_1b8 = "XDG_SESSION_TYPE";
  local_1b0[0] = (code *)0x10;
  String::parse_latin1((StrRange *)local_1c8);
  (*pcVar3)((CowData<char32_t> *)&local_1b8,plVar21,(StrRange *)local_1c8);
  String::to_lower();
  DVar16 = (DisplayServerX11)String::operator==((String *)&local_1d0,"wayland");
  this[0x6f3] = DVar16;
  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d0);
  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
  CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
  plVar21 = (long *)OS::get_singleton();
  pcVar3 = *(code **)(*plVar21 + 0x170);
  local_1d0 = 0;
  local_1b0[0] = (code *)0x13;
  local_1b8 = "XDG_CURRENT_DESKTOP";
  String::parse_latin1((StrRange *)&local_1d0);
  (*pcVar3)((CowData<char32_t> *)&local_1d8,plVar21,(String *)&local_1d0);
  String::to_lower();
  cVar17 = String::operator==(local_1e0,"kde");
  if (cVar17 == '\0') {
    this[0x6f4] = (DisplayServerX11)0x0;
  }
  else {
    plVar21 = (long *)OS::get_singleton();
    pcVar3 = *(code **)(*plVar21 + 0x170);
    local_1b8 = (char *)0x0;
    String::parse_latin1((String *)&local_1b8,"KDE_SESSION_VERSION");
    (*pcVar3)((StrRange *)local_1c8,plVar21,(CowData<char32_t> *)&local_1b8);
    DVar16 = (DisplayServerX11)String::operator==((String *)local_1c8,"5");
    this[0x6f4] = DVar16;
    CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
  }
  CowData<char32_t>::_unref((CowData<char32_t> *)local_1e0);
  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d8);
  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d0);
  pOVar22 = (Object *)operator_new(0x178,"");
  Object::Object(pOVar22);
  *(code **)pOVar22 = Object::~Object;
  NativeMenu::singleton = pOVar22;
  postinitialize_handler(pOVar22);
  *(Object **)(this + 0x2b8) = pOVar22;
  *(undefined4 *)(this + 0x6f8) = param_9;
  iVar18 = initialize_xlib(1);
  if (iVar18 != 0) {
    *param_11 = 2;
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      pcVar24 = "Can\'t load Xlib dynamically.";
      uVar25 = 0x195b;
LAB_001183d2:
      _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",uVar25,
                       "Method/function failed.",pcVar24,0);
      return;
    }
    goto LAB_00119d54;
  }
  iVar18 = initialize_xcursor(1);
  if (iVar18 != 0) {
    *param_11 = 2;
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      pcVar24 = "Can\'t load XCursor dynamically.";
      uVar25 = 0x1960;
      goto LAB_001183d2;
    }
    goto LAB_00119d54;
  }
  iVar18 = initialize_xkbcommon(1);
  bVar39 = _xkb_context_new_dylibloader_wrapper_xkbcommon == (code *)0x0;
  this[0x2d8] = (DisplayServerX11)(iVar18 == 0);
  if ((((((bVar39) ||
         (_xkb_compose_table_new_from_locale_dylibloader_wrapper_xkbcommon == (code *)0x0)) ||
        (_xkb_compose_table_unref_dylibloader_wrapper_xkbcommon == 0)) ||
       ((_xkb_context_unref_dylibloader_wrapper_xkbcommon == 0 ||
        (_xkb_compose_state_feed_dylibloader_wrapper_xkbcommon == 0)))) ||
      (_xkb_compose_state_unref_dylibloader_wrapper_xkbcommon == 0)) ||
     (((_xkb_compose_state_new_dylibloader_wrapper_xkbcommon == 0 ||
       (_xkb_compose_state_get_status_dylibloader_wrapper_xkbcommon == 0)) ||
      (_xkb_compose_state_get_utf8_dylibloader_wrapper_xkbcommon == 0)))) {
    this[0x2d8] = (DisplayServerX11)0x0;
    cVar17 = is_print_verbose_enabled();
    if (cVar17 != '\0') {
      Variant::Variant((Variant *)local_108,
                       "Detected XKBcommon library version older than 0.5, dead key composition and Unicode key labels disabled."
                      );
      print_line((Variant *)local_108);
      if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
        Variant::_clear_internal();
      }
    }
  }
  bVar39 = _xkb_keysym_to_utf32_dylibloader_wrapper_xkbcommon == 0;
  this[0x2d9] = (DisplayServerX11)(iVar18 == 0);
  if ((bVar39) || (_xkb_keysym_to_upper_dylibloader_wrapper_xkbcommon == 0)) {
    this[0x2d9] = (DisplayServerX11)0x0;
    cVar17 = is_print_verbose_enabled();
    if (cVar17 != '\0') {
      Variant::Variant((Variant *)local_108,
                       "Detected XKBcommon library version older than 0.8, Unicode key labels disabled."
                      );
      print_line((Variant *)local_108);
      if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
        Variant::_clear_internal();
      }
    }
  }
  iVar19 = initialize_xext(1);
  if (iVar19 != 0) {
    *param_11 = 2;
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      pcVar24 = "Can\'t load Xext dynamically.";
      uVar25 = 0x1971;
      goto LAB_001183d2;
    }
    goto LAB_00119d54;
  }
  iVar19 = initialize_xinerama(1);
  if (iVar19 != 0) {
    this[0x6f1] = (DisplayServerX11)0x0;
  }
  iVar19 = initialize_xrandr(1);
  if (iVar19 != 0) {
    this[0x6f0] = (DisplayServerX11)0x0;
  }
  iVar19 = initialize_xrender(1);
  if (iVar19 != 0) {
    *param_11 = 2;
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      pcVar24 = "Can\'t load Xrender dynamically.";
      uVar25 = 0x197e;
      goto LAB_001183d2;
    }
    goto LAB_00119d54;
  }
  iVar19 = initialize_xinput2(1);
  if (iVar19 != 0) {
    *param_11 = 2;
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      pcVar24 = "Can\'t load Xinput2 dynamically.";
      uVar25 = 0x1983;
      goto LAB_001183d2;
    }
    goto LAB_00119d54;
  }
  if (iVar18 == 0) {
    lVar23 = (*_xkb_context_new_dylibloader_wrapper_xkbcommon)(0);
    *(long *)(this + 0x2e0) = lVar23;
    if (lVar23 != 0) {
      pcVar24 = getenv("LC_ALL");
      if ((((pcVar24 == (char *)0x0) || (*pcVar24 == '\0')) &&
          ((pcVar24 = getenv("LC_CTYPE"), pcVar24 == (char *)0x0 || (*pcVar24 == '\0')))) &&
         ((pcVar24 = getenv("LANG"), pcVar24 == (char *)0x0 || (*pcVar24 == '\0')))) {
        pcVar24 = "C";
      }
      uVar25 = (*_xkb_compose_table_new_from_locale_dylibloader_wrapper_xkbcommon)
                         (*(undefined8 *)(this + 0x2e0),pcVar24,0);
      *(undefined8 *)(this + 0x2e8) = uVar25;
    }
  }
  p_Var26 = (_func_void_Ref_ptr *)Input::get_singleton();
  Input::set_event_dispatch_function(p_Var26);
  bVar39 = _XcursorImageCreate_dylibloader_wrapper_xcursor == 0;
  *param_11 = 0;
  if ((((bVar39) || (_XcursorImageLoadCursor_dylibloader_wrapper_xcursor == (code *)0x0)) ||
      (_XcursorImageDestroy_dylibloader_wrapper_xcursor == 0)) ||
     (((_XcursorGetDefaultSize_dylibloader_wrapper_xcursor == (code *)0x0 ||
       (_XcursorGetTheme_dylibloader_wrapper_xcursor == (code *)0x0)) ||
      (_XcursorLibraryLoadImage_dylibloader_wrapper_xcursor == (code *)0x0)))) {
    uVar25 = 0x19a8;
    pcVar24 = "Unsupported Xcursor library version.";
  }
  else {
    *(undefined8 *)(this + 0x580) = 0;
    *(undefined8 *)(this + 0x688) = 0;
    puVar35 = (undefined8 *)((ulong)(this + 0x588) & 0xfffffffffffffff8);
    for (uVar33 = (ulong)(((int)this -
                          (int)(undefined8 *)((ulong)(this + 0x588) & 0xfffffffffffffff8)) + 0x690U
                         >> 3); uVar33 != 0; uVar33 = uVar33 - 1) {
      *puVar35 = 0;
      puVar35 = puVar35 + (ulong)bVar40 * -2 + 1;
    }
    (*_XInitThreads_dylibloader_wrapper_xlib)();
    lVar23 = (*_XOpenDisplay_dylibloader_wrapper_xlib)(0);
    *(long *)(this + 0x360) = lVar23;
    if (lVar23 != 0) {
      iVar18 = (int)(CowData<char32_t> *)&local_1b8;
      if (this[0x6f2] != (DisplayServerX11)0x0) {
        local_1d8 = local_1d8 & 0xffffffff00000000;
        local_1d0 = local_1d0 & 0xffffffff00000000;
        iVar19 = (*_XShapeQueryVersion_dylibloader_wrapper_xext)
                           (lVar23,(CowData<char32_t> *)&local_1d8,(String *)&local_1d0);
        cVar17 = is_print_verbose_enabled();
        if (cVar17 != '\0') {
          iVar14 = (int)local_1d8;
          local_1b8 = (char *)0x0;
          String::parse_latin1((String *)&local_1b8,"Xshape %d.%d detected.");
          vformat<int,int>((String *)local_1c8,iVar18,iVar14);
          Variant::Variant((Variant *)local_108,(String *)local_1c8);
          print_line((Variant *)local_108);
          if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
            Variant::_clear_internal();
          }
          CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
        }
        if ((iVar19 != 1) || ((int)local_1d8 < 1)) {
          this[0x6f2] = (DisplayServerX11)0x0;
          cVar17 = is_print_verbose_enabled();
          if (cVar17 != '\0') {
            Variant::Variant((Variant *)local_108,"Unsupported Xshape library version.");
            print_line((Variant *)local_108);
            if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
              Variant::_clear_internal();
            }
          }
        }
        lVar23 = *(long *)(this + 0x360);
      }
      if (this[0x6f1] != (DisplayServerX11)0x0) {
        local_1d8 = local_1d8 & 0xffffffff00000000;
        local_1d0 = local_1d0 & 0xffffffff00000000;
        iVar19 = (*_XineramaQueryVersion_dylibloader_wrapper_xinerama)
                           (lVar23,(CowData<char32_t> *)&local_1d8,(String *)&local_1d0);
        cVar17 = is_print_verbose_enabled();
        if (cVar17 != '\0') {
          iVar14 = (int)local_1d8;
          local_1b8 = (char *)0x0;
          String::parse_latin1((String *)&local_1b8,"Xinerama %d.%d detected.");
          vformat<int,int>((String *)local_1c8,iVar18,iVar14);
          Variant::Variant((Variant *)local_108,(String *)local_1c8);
          print_line((Variant *)local_108);
          if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
            Variant::_clear_internal();
          }
          CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
        }
        if ((iVar19 != 1) || ((int)local_1d8 < 1)) {
          this[0x6f1] = (DisplayServerX11)0x0;
          cVar17 = is_print_verbose_enabled();
          if (cVar17 != '\0') {
            Variant::Variant((Variant *)local_108,"Unsupported Xinerama library version.");
            print_line((Variant *)local_108);
            if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
              Variant::_clear_internal();
            }
          }
        }
        lVar23 = *(long *)(this + 0x360);
      }
      if (this[0x6f0] != (DisplayServerX11)0x0) {
        local_1d8 = local_1d8 & 0xffffffff00000000;
        local_1d0 = local_1d0 & 0xffffffff00000000;
        iVar19 = (*_XRRQueryVersion_dylibloader_wrapper_xrandr)
                           (lVar23,(CowData<char32_t> *)&local_1d8,(String *)&local_1d0);
        cVar17 = is_print_verbose_enabled();
        if (cVar17 != '\0') {
          iVar14 = (int)local_1d8;
          local_1b8 = (char *)0x0;
          String::parse_latin1((String *)&local_1b8,"Xrandr %d.%d detected.");
          vformat<int,int>((String *)local_1c8,iVar18,iVar14);
          Variant::Variant((Variant *)local_108,(String *)local_1c8);
          print_line((Variant *)local_108);
          if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
            Variant::_clear_internal();
          }
          CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
        }
        if (iVar19 == 1) {
          if ((int)local_1d8 == 1) {
            if ((int)local_1d0 < 3) goto LAB_00117cf7;
          }
          else if ((int)local_1d8 < 1) goto LAB_00117cf7;
        }
        else {
LAB_00117cf7:
          this[0x6f0] = (DisplayServerX11)0x0;
          cVar17 = is_print_verbose_enabled();
          if (cVar17 != '\0') {
            Variant::Variant((Variant *)local_108,"Unsupported Xrandr library version.");
            print_line((Variant *)local_108);
            if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
              Variant::_clear_internal();
            }
          }
        }
        lVar23 = *(long *)(this + 0x360);
      }
      local_1d8 = (ulong)local_1d8._4_4_ << 0x20;
      local_1d0 = (ulong)local_1d0._4_4_ << 0x20;
      iVar19 = (*_XRenderQueryVersion_dylibloader_wrapper_xrender)
                         (lVar23,(CowData<char32_t> *)&local_1d8,(String *)&local_1d0);
      cVar17 = is_print_verbose_enabled();
      if (cVar17 != '\0') {
        iVar14 = (int)local_1d8;
        local_1b8 = (char *)0x0;
        String::parse_latin1((String *)&local_1b8,"Xrender %d.%d detected.");
        vformat<int,int>((String *)local_1c8,iVar18,iVar14);
        Variant::Variant((Variant *)local_108,(String *)local_1c8);
        print_line((Variant *)local_108);
        if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
          Variant::_clear_internal();
        }
        CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
      }
      if ((iVar19 == 1) && (((int)local_1d8 != 0 || (10 < (int)local_1d0)))) {
        local_1d8 = CONCAT44(local_1d8._4_4_,2);
        local_1d0 = CONCAT44(local_1d0._4_4_,2);
        iVar19 = (*_XIQueryVersion_dylibloader_wrapper_xinput2)
                           (*(undefined8 *)(this + 0x360),(CowData<char32_t> *)&local_1d8,
                            (String *)&local_1d0);
        cVar17 = is_print_verbose_enabled();
        if (cVar17 != '\0') {
          local_1b8 = (char *)0x0;
          iVar14 = (int)local_1d8;
          String::parse_latin1((String *)&local_1b8,"Xinput %d.%d detected.");
          vformat<int,int>((String *)local_1c8,iVar18,iVar14);
          Variant::Variant((Variant *)local_108,(String *)local_1c8);
          print_line((Variant *)local_108);
          if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
            Variant::_clear_internal();
          }
          CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
        }
        if ((iVar19 == 0) && (1 < (int)local_1d8)) {
          (*_XAutoRepeatOn_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
          iVar18 = (*_XkbSetDetectableAutoRepeat_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),1,0);
          if ((iVar18 != 1) ||
             (lVar23 = (*_XSetLocaleModifiers_dylibloader_wrapper_xlib)(&_LC12), lVar23 == 0)) {
            OS::get_singleton();
            cVar17 = OS::is_stdout_verbose();
            if (cVar17 != '\0') {
              _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                               0x1a0a,"IME is disabled",0,1);
            }
            (*_XSetLocaleModifiers_dylibloader_wrapper_xlib)("@im=none");
            _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                             0x1a0d,"Error setting locale modifiers");
          }
          local_200 = 0;
          local_1fc = 0;
          iVar18 = (*_XRRQueryExtension_dylibloader_wrapper_xrandr)
                             (*(undefined8 *)(this + 0x360),local_1f8,local_1f4);
          this[0x6f0] = (DisplayServerX11)(iVar18 != 0);
          lVar23 = dlopen("libXrandr.so.2",1);
          *(long *)(this + 0x6e8) = lVar23;
          if (lVar23 == 0) {
            uVar25 = dlerror();
            lVar23 = dlopen("libXrandr.so.3",1);
            *(long *)(this + 0x6e8) = lVar23;
            if ((lVar23 != 0) ||
               (__fprintf_chk(_stderr,2,"could not load libXrandr.so.2, Error: %s\n",uVar25),
               *(long *)(this + 0x6e8) != 0)) goto LAB_00117e58;
          }
          else {
LAB_00117e58:
            (*_XRRQueryVersion_dylibloader_wrapper_xrandr)
                      (*(undefined8 *)(this + 0x360),&local_200,&local_1fc);
            if (0x104 < (int)(local_200 << 8 | local_1fc)) {
              lVar23 = dlsym(*(undefined8 *)(this + 0x6e8),"XRRGetMonitors");
              *(long *)(this + 0x6d8) = lVar23;
              if (lVar23 == 0) {
                uVar25 = dlerror();
                __fprintf_chk(_stderr,2,"could not find symbol XRRGetMonitors\nError: %s\n",uVar25);
              }
              else {
                lVar23 = dlsym(*(undefined8 *)(this + 0x6e8),"XRRFreeMonitors");
                *(long *)(this + 0x6e0) = lVar23;
                if (lVar23 == 0) {
                  uVar25 = dlerror();
                  __fprintf_chk(_stderr,2,"could not find XRRFreeMonitors\nError: %s\n",uVar25);
                  *(undefined8 *)(this + 0x6d8) = 0;
                }
              }
            }
          }
          local_20a = _refresh_device_info(this);
          if (local_20a == '\0') {
            plVar21 = (long *)OS::get_singleton();
            pcVar3 = *(code **)(*plVar21 + 0xa8);
            local_1b8 = (char *)0x0;
            String::parse_latin1((String *)&local_1b8,"Unable to initialize XInput");
            auVar6._8_8_ = 0;
            auVar6._0_8_ = local_1c8._8_8_;
            local_1c8 = auVar6 << 0x40;
            String::parse_latin1
                      ((String *)local_1c8,
                       "Your system does not support XInput 2.\nPlease upgrade your distribution.");
            (*pcVar3)(plVar21,(StrRange *)local_1c8,(CowData<char32_t> *)&local_1b8);
            CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
            CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
            *param_11 = 2;
            goto LAB_00118637;
          }
          lVar23 = (*_XOpenIM_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0,0,0);
          *(long *)(this + 0x388) = lVar23;
          if (lVar23 == 0) {
            _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                             0x1a3d,"XOpenIM failed");
            *(undefined8 *)(this + 0x390) = 0;
          }
          else {
            local_1b0[0] = _xim_destroy_callback;
            local_1b8 = (char *)this;
            lVar23 = (*_XSetIMValues_dylibloader_wrapper_xlib)
                               (lVar23,"destroyCallback",(CowData<char32_t> *)&local_1b8,0);
            if (lVar23 != 0) {
              _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                               0x1a45,"Error setting XIM destroy callback");
            }
            auVar12._8_8_ = 0;
            auVar12._0_8_ = local_1c8._8_8_;
            local_1c8 = auVar12 << 0x40;
            *(undefined8 *)(this + 0x390) = 0;
            lVar23 = (*_XGetIMValues_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x388),"queryInputStyle",
                                (StrRange *)local_1c8,0);
            if ((lVar23 == 0) && ((ushort *)local_1c8._0_8_ != (ushort *)0x0)) {
LAB_00117f91:
              *(undefined8 *)(this + 0x390) = 0;
              uVar2 = *(ushort *)local_1c8._0_8_;
              if (uVar2 != 0) {
                puVar1 = *(ulong **)(local_1c8._0_8_ + 8) + 1;
                puVar15 = puVar1;
                puVar34 = *(ulong **)(local_1c8._0_8_ + 8);
                do {
                  puVar27 = puVar15;
                  uVar33 = *puVar34;
                  if (((uVar33 & 0x1e) != 0) && ((uVar33 & 0xc00) != 0)) {
                    uVar4 = *(ulong *)(this + 0x390);
                    if (uVar4 != 0) {
                      uVar38 = (uint)uVar4 & 0x1f;
                      uVar36 = uVar33 | uVar4;
                      if (uVar38 == ((uint)uVar33 & 0x1f)) {
                        uVar38 = (uint)uVar4 & 0xf00;
                        if ((uVar36 & 0x200) == 0) {
                          if ((uVar36 & 0x100) == 0) {
                            if (((uVar36 & 0x400) == 0) || (uVar38 == 0x400)) {
LAB_00118024:
                              uVar33 = uVar4;
                            }
                          }
                          else if (uVar38 == 0x100) {
                            uVar33 = uVar4;
                          }
                        }
                        else if (uVar38 == 0x200) {
                          uVar33 = uVar4;
                        }
                      }
                      else if ((uVar36 & 2) == 0) {
                        if ((uVar36 & 4) == 0) {
                          if ((uVar36 & 1) == 0) {
                            if (((uVar36 & 8) == 0) || (uVar38 == 8)) goto LAB_00118024;
                          }
                          else if (uVar38 == 1) {
                            uVar33 = uVar4;
                          }
                        }
                        else if (uVar38 == 4) {
                          uVar33 = uVar4;
                        }
                      }
                      else if (uVar38 == 2) {
                        uVar33 = uVar4;
                      }
                    }
                    *(ulong *)(this + 0x390) = uVar33;
                  }
                  if (puVar1 + (uVar2 - 1) == puVar27) break;
                  puVar15 = puVar27 + 1;
                  puVar34 = puVar27;
                } while( true );
              }
              (*_XFree_dylibloader_wrapper_xlib)();
            }
            else {
              fwrite("Input method doesn\'t support any styles\n",1,0x28,_stderr);
              if ((ushort *)local_1c8._0_8_ != (ushort *)0x0) goto LAB_00117f91;
            }
            (*_XFree_dylibloader_wrapper_xlib)(lVar23);
          }
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"WM_DELETE_WINDOW",1);
          *(undefined8 *)(this + 0x228) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndAware",0);
          *(undefined8 *)(this + 0x268) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndEnter",0);
          *(undefined8 *)(this + 0x230) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndPosition",0);
          *(undefined8 *)(this + 0x238) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndStatus",0);
          *(undefined8 *)(this + 0x240) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndActionCopy",0);
          *(undefined8 *)(this + 0x248) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndDrop",0);
          *(undefined8 *)(this + 0x250) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndFinished",0);
          *(undefined8 *)(this + 600) = uVar25;
          uVar25 = (*_XInternAtom_dylibloader_wrapper_xlib)
                             (*(undefined8 *)(this + 0x360),"XdndSelection",0);
          *(undefined8 *)(this + 0x260) = uVar25;
          ProjectSettings::get_singleton();
          StringName::StringName((StringName *)&local_1b8,"audio/general/text_to_speech",false);
          ProjectSettings::get_setting_with_override((StringName *)local_108);
          bVar39 = Variant::operator_cast_to_bool((Variant *)local_108);
          if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
            Variant::_clear_internal();
          }
          if ((StringName::configured != '\0') &&
             ((DisplayServerX11 *)local_1b8 != (DisplayServerX11 *)0x0)) {
            StringName::unref();
          }
          if (bVar39) {
            this_03 = (TTS_Linux *)operator_new(0x230,"");
            TTS_Linux::TTS_Linux(this_03);
            postinitialize_handler((Object *)this_03);
            *(TTS_Linux **)(this + 0x2b0) = this_03;
          }
          this_00 = (CowData<char32_t> *)(this + 0x6d0);
          if (*(long *)(this + 0x6d0) != *(long *)param_1) {
            CowData<char32_t>::_ref(this_00,param_1);
          }
          plVar21 = (long *)OS::get_singleton();
          (**(code **)(*plVar21 + 0x100))((CowData<char32_t> *)&local_1b8,plVar21);
          String::get_file();
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
          cVar17 = String::operator==((String *)this_00,"vulkan");
          if (cVar17 == '\0') {
            this_02 = *(RenderingContextDriverVulkanX11 **)(this + 0x290);
            if (this_02 != (RenderingContextDriverVulkanX11 *)0x0) goto LAB_0011825b;
            local_20a = '\0';
LAB_00118278:
            cVar17 = String::operator==((String *)this_00,"opengl3");
            if (((cVar17 != '\0') ||
                (cVar17 = String::operator==((String *)this_00,"opengl3_es"), cVar17 != '\0')) &&
               (pcVar24 = getenv("DRI_PRIME"), pcVar24 == (char *)0x0)) {
              pcVar24 = getenv("PRIMUS_DISPLAY");
              if ((((pcVar24 == (char *)0x0) &&
                   (pcVar24 = getenv("PRIMUS_libGLd"), pcVar24 == (char *)0x0)) &&
                  ((pcVar24 = getenv("PRIMUS_libGLa"), pcVar24 == (char *)0x0 &&
                   ((pcVar24 = getenv("PRIMUS_libGL"), pcVar24 == (char *)0x0 &&
                    (pcVar24 = getenv("PRIMUS_LOAD_GLOBAL"), pcVar24 == (char *)0x0)))))) &&
                 (pcVar24 = getenv("BUMBLEBEE_SOCKET"), pcVar24 == (char *)0x0)) {
                pcVar24 = getenv("LD_LIBRARY_PATH");
                if ((pcVar24 == (char *)0x0) ||
                   (pcVar24 = getenv("STEAM_RUNTIME_LIBRARY_PATH"), pcVar24 != (char *)0x0)) {
LAB_00119cac:
                  cVar17 = is_print_verbose_enabled();
                  if (cVar17 != '\0') {
                    Variant::Variant((Variant *)local_108,
                                     "Detecting GPUs, set DRI_PRIME in the environment to override GPU detection logic."
                                    );
                    print_line((StringName *)local_108);
                    if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                      Variant::_clear_internal();
                    }
                  }
                  iVar18 = DetectPrimeX11::detect_prime();
                }
                else {
                  pcVar24 = getenv("LD_LIBRARY_PATH");
                  local_1e8 = 0;
                  String::parse_latin1((String *)&local_1e8,pcVar24);
                  String::split((char *)&local_1b8,SUB81((String *)&local_1e8,0),0x124080);
                  iVar18 = -1;
                  for (lVar23 = 0;
                      (local_1b0[0] != (code *)0x0 && (lVar23 < *(long *)(local_1b0[0] + -8)));
                      lVar23 = lVar23 + 1) {
                    local_1d8 = 0;
                    String::parse_latin1((String *)&local_1d8,"/libGL.so.1");
                    if (local_1b0[0] == (code *)0x0) {
LAB_0011a066:
                      lVar37 = 0;
LAB_0011a028:
                      _err_print_index_error
                                ("get","./core/templates/cowdata.h",0xdb,lVar23,lVar37,"p_index",
                                 "size()","",false,true);
                      _err_flush_stdout();
                    /* WARNING: Does not return */
                      pcVar3 = (code *)invalidInstructionException();
                      (*pcVar3)();
                    }
                    lVar37 = *(long *)(local_1b0[0] + -8);
                    if (lVar37 <= lVar23) goto LAB_0011a028;
                    String::operator+(local_1e0,(String *)(local_1b0[0] + lVar23 * 8));
                    cVar17 = FileAccess::exists(local_1e0);
                    if (cVar17 == '\0') {
                      auVar10._8_8_ = 0;
                      auVar10._0_8_ = local_1c8._8_8_;
                      local_1c8 = auVar10 << 0x40;
                      String::parse_latin1((String *)local_1c8,"/libGL.so");
                      if (local_1b0[0] == (code *)0x0) goto LAB_0011a066;
                      lVar37 = *(long *)(local_1b0[0] + -8);
                      if (lVar37 <= lVar23) goto LAB_0011a028;
                      String::operator+((String *)&local_1d0,(String *)(local_1b0[0] + lVar23 * 8));
                      cVar17 = FileAccess::exists((String *)&local_1d0);
                      CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d0);
                      CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
                      CowData<char32_t>::_unref((CowData<char32_t> *)local_1e0);
                      CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d8);
                      if (cVar17 != '\0') goto LAB_00119e98;
                    }
                    else {
                      CowData<char32_t>::_unref((CowData<char32_t> *)local_1e0);
                      CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d8);
LAB_00119e98:
                      cVar17 = is_print_verbose_enabled();
                      if (cVar17 != '\0') {
                        Variant::Variant((Variant *)local_108,
                                         "Custom libGL override detected. Skipping GPU detection");
                        print_line((StringName *)local_108);
                        if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                          Variant::_clear_internal();
                        }
                      }
                      iVar18 = 0;
                    }
                  }
                  CowData<String>::_unref((CowData<String> *)local_1b0);
                  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1e8);
                  if (iVar18 == -1) goto LAB_00119cac;
                }
                if (iVar18 != 0) {
                  Variant::Variant((Variant *)local_108,
                                   "Found discrete GPU, setting DRI_PRIME=1 to use it.");
                  print_line((StringName *)local_108);
                  if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                    Variant::_clear_internal();
                  }
                  Variant::Variant((Variant *)local_108,
                                   "Note: Set DRI_PRIME=0 in the environment to disable Godot from using the discrete GPU."
                                  );
                  print_line((StringName *)local_108);
                  if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                    Variant::_clear_internal();
                  }
                  setenv("DRI_PRIME","1",1);
                }
              }
              else {
                cVar17 = is_print_verbose_enabled();
                if (cVar17 != '\0') {
                  Variant::Variant((Variant *)local_108,
                                   "Optirun/primusrun detected. Skipping GPU detection");
                  print_line((StringName *)local_108);
                  if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                    Variant::_clear_internal();
                  }
                }
              }
            }
            cVar17 = String::operator==((String *)this_00,"opengl3");
            if (cVar17 == '\0') {
LAB_001182d6:
              cVar17 = String::operator==((String *)this_00,"opengl3_es");
              if (cVar17 != '\0') goto LAB_00119520;
              if (local_20a == '\0') {
                *param_11 = 2;
                _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                                 0x1b06,"Method/function failed.","Video driver not found.",0,0);
                goto LAB_001196a8;
              }
            }
            else {
              pGVar31 = (GLManager_X11 *)operator_new(0x50,"");
              GLManager_X11::GLManager_X11(pGVar31,param_7,0);
              *(GLManager_X11 **)(this + 0x280) = pGVar31;
              iVar18 = GLManager_X11::initialize((_XDisplay *)pGVar31);
              if ((iVar18 != 0) ||
                 (iVar18 = GLManager_X11::open_display(*(_XDisplay **)(this + 0x280)), iVar18 != 0))
              {
                pGVar31 = *(GLManager_X11 **)(this + 0x280);
                GLManager_X11::~GLManager_X11(pGVar31);
                Memory::free_static(pGVar31,false);
                *(undefined8 *)(this + 0x280) = 0;
                ProjectSettings::get_singleton();
                StringName::StringName
                          ((StringName *)&local_1b8,"rendering/gl_compatibility/fallback_to_gles",
                           false);
                ProjectSettings::get_setting_with_override((StringName *)local_108);
                bVar39 = Variant::operator_cast_to_bool((Variant *)local_108);
                if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                  Variant::_clear_internal();
                }
                if ((StringName::configured != '\0') &&
                   ((DisplayServerX11 *)local_1b8 != (DisplayServerX11 *)0x0)) {
                  StringName::unref();
                }
                if (!bVar39) {
                  *param_11 = 2;
                  plVar21 = (long *)OS::get_singleton();
                  pcVar3 = *(code **)(*plVar21 + 0xa8);
                  local_1b8 = (char *)0x0;
                  String::parse_latin1
                            ((String *)&local_1b8,"Unable to initialize OpenGL video driver");
                  auVar8._8_8_ = 0;
                  auVar8._0_8_ = local_1c8._8_8_;
                  local_1c8 = auVar8 << 0x40;
                  if (local_1f0 != 0) {
                    CowData<char32_t>::_ref((CowData<char32_t> *)local_1c8,(CowData *)&local_1f0);
                  }
                  local_1d0 = 0;
                  String::parse_latin1
                            ((String *)&local_1d0,
                             "Your video card drivers seem not to support the required OpenGL 3.3 version.\n\nIf possible, consider updating your video card drivers or using the Vulkan driver.\n\nYou can enable the Vulkan driver by starting the engine from the\ncommand line with the command:\n\n    \"%s\" --rendering-driver vulkan\n\nIf you recently updated your video card drivers, try rebooting."
                            );
                  vformat<String>((CowData<char32_t> *)&local_1d8,(String *)&local_1d0,
                                  (StrRange *)local_1c8);
                  (*pcVar3)(plVar21,(CowData<char32_t> *)&local_1d8,(CowData<char32_t> *)&local_1b8)
                  ;
                  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d8);
                  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d0);
                  CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
                  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
                  _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp"
                                   ,0x1ae7,"Method/function failed.","Could not initialize OpenGL.",
                                   0,0,(CowData<char32_t> *)&local_1b8);
                  goto LAB_001196a8;
                }
                _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                                 0x1ad8,
                                 "Your video card drivers seem not to support the required OpenGL version, switching to OpenGLES."
                                 ,0,1);
                String::parse_latin1((String *)this_00,"opengl3_es");
                lVar23 = OS::get_singleton();
                CowData<char32_t>::_ref((CowData<char32_t> *)(lVar23 + 0x60),(CowData *)this_00);
                goto LAB_001182d6;
              }
              RasterizerGLES3::make_current(true);
              cVar17 = String::operator==((String *)this_00,"opengl3_es");
              if (cVar17 == '\0') goto LAB_001182f6;
LAB_00119520:
              pEVar32 = (EGLManager *)operator_new(0x38,"");
              EGLManager::EGLManager(pEVar32);
              *(code **)pEVar32 = operator_new;
              *(EGLManager **)(this + 0x288) = pEVar32;
              iVar18 = EGLManager::initialize(pEVar32);
              if ((iVar18 != 0) ||
                 (iVar18 = EGLManager::open_display(*(void **)(this + 0x288)), iVar18 != 0)) {
                pEVar32 = *(EGLManager **)(this + 0x288);
                if (*(code **)(*(long *)pEVar32 + 0x28) == GLManagerEGL_X11::~GLManagerEGL_X11) {
                  *(code **)pEVar32 = operator_new;
                  EGLManager::~EGLManager(pEVar32);
                }
                else {
                  (**(code **)(*(long *)pEVar32 + 0x28))(pEVar32);
                }
                Memory::free_static(pEVar32,false);
                *(undefined8 *)(this + 0x288) = 0;
                *param_11 = 2;
                plVar21 = (long *)OS::get_singleton();
                pcVar3 = *(code **)(*plVar21 + 0xa8);
                local_1b8 = (char *)0x0;
                String::parse_latin1
                          ((String *)&local_1b8,"Unable to initialize OpenGL ES video driver");
                auVar7._8_8_ = 0;
                auVar7._0_8_ = local_1c8._8_8_;
                local_1c8 = auVar7 << 0x40;
                String::parse_latin1
                          ((String *)local_1c8,
                           "Your video card drivers seem not to support the required OpenGL ES 3.0 version.\n\nIf possible, consider updating your video card drivers.\n\nIf you recently updated your video card drivers, try rebooting."
                          );
                (*pcVar3)(plVar21,(StrRange *)local_1c8,(CowData<char32_t> *)&local_1b8);
                CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
                CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
                _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                                 0x1afc,"Method/function failed.","Could not initialize OpenGL ES.",
                                 0,0);
                goto LAB_001196a8;
              }
              RasterizerGLES3::make_current(false);
            }
LAB_001182f6:
            if (param_6 == (undefined8 *)0x0) {
              local_108[0] = screen_get_usable_rect((int)this);
              local_128[0] = Vector2i::operator-((Vector2i *)(local_108[0] + 8),param_7);
              local_130 = Vector2i::operator/((Vector2i *)local_128,2);
              uVar25 = Vector2i::operator+((Vector2i *)local_108,(Vector2i *)&local_130);
            }
            else {
              uVar25 = *param_6;
            }
            local_108[0]._8_8_ = *(undefined8 *)param_7;
            local_108[0]._0_8_ = uVar25;
            iVar19 = _create_window(this,param_3,param_4,param_5,(StringName *)local_108,param_10);
            iVar18 = 0;
            if (iVar19 == -1) {
              *param_11 = 0x14;
            }
            else {
              do {
                if ((1 << ((byte)iVar18 & 0x1f) & param_5) != 0) {
                  window_set_flag(this,iVar18,1);
                }
                iVar18 = iVar18 + 1;
              } while (iVar18 != 10);
              show_window(this,iVar19);
              if (*(long *)(this + 0x290) == 0) {
LAB_00118bde:
                lVar23 = *(long *)(this + 0x360);
                DisplayServerX11(String_const&,DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Vector2i_const*,Vector2i_const&,int,DisplayServer::Context,long,Error&)
                ::all_master_mask_data._0_1_ =
                     (byte)DisplayServerX11(String_const&,DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Vector2i_const*,Vector2i_const&,int,DisplayServer::Context,long,Error&)
                           ::all_master_mask_data | 2;
                local_1b8 = (char *)_LC425;
                local_1b0[0] = (code *)&DisplayServerX11(String_const&,DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Vector2i_const*,Vector2i_const&,int,DisplayServer::Context,long,Error&)
                                        ::all_master_mask_data;
                DisplayServerX11(String_const&,DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Vector2i_const*,Vector2i_const&,int,DisplayServer::Context,long,Error&)
                ::all_master_mask_data._2_1_ =
                     DisplayServerX11(String_const&,DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Vector2i_const*,Vector2i_const&,int,DisplayServer::Context,long,Error&)
                     ::all_master_mask_data._2_1_ | 2;
                (*_XISelectEvents_dylibloader_wrapper_xinput2)
                          (lVar23,*(undefined8 *)
                                   ((long)*(int *)(lVar23 + 0xe0) * 0x80 + *(long *)(lVar23 + 0xe8)
                                   + 0x10),(CowData<char32_t> *)&local_1b8,1);
                uVar20 = (*_XcursorGetDefaultSize_dylibloader_wrapper_xcursor)
                                   (*(undefined8 *)(this + 0x360));
                *(undefined4 *)(this + 0x578) = uVar20;
                pcVar24 = (char *)(*_XcursorGetTheme_dylibloader_wrapper_xcursor)
                                            (*(undefined8 *)(this + 0x360));
                *(char **)(this + 0x570) = pcVar24;
                if (pcVar24 == (char *)0x0) {
                  cVar17 = is_print_verbose_enabled();
                  if (cVar17 != '\0') {
                    Variant::Variant((Variant *)local_108,
                                     "XcursorGetTheme could not get cursor theme");
                    print_line((StringName *)local_108);
                    if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                      Variant::_clear_internal();
                    }
                  }
                  pcVar24 = "default";
                  *(char **)(this + 0x570) = "default";
                }
                uVar33 = 0;
                do {
                  pcVar5 = (&DisplayServerX11(String_const&,DisplayServer::WindowMode,DisplayServer::VSyncMode,unsigned_int,Vector2i_const*,Vector2i_const&,int,DisplayServer::Context,long,Error&)
                             ::cursor_file)[uVar33];
                  lVar23 = (*_XcursorLibraryLoadImage_dylibloader_wrapper_xcursor)
                                     (pcVar5,pcVar24,*(undefined4 *)(this + 0x578));
                  *(long *)(this + uVar33 * 8 + 0x580) = lVar23;
                  if (lVar23 == 0) {
                    switch(uVar33 & 0xffffffff) {
                    default:
                      goto switchD_00118ce6_caseD_0;
                    case 2:
                      pcVar24 = "pointer";
                      break;
                    case 3:
                      pcVar24 = "crosshair";
                      break;
                    case 4:
                      pcVar24 = "wait";
                      break;
                    case 5:
                      pcVar24 = "progress";
                      break;
                    case 6:
                      pcVar24 = "grabbing";
                      break;
                    case 7:
                      pcVar24 = "hand1";
                      break;
                    case 8:
                      pcVar24 = "forbidden";
                      break;
                    case 9:
                      pcVar24 = "ns-resize";
                      break;
                    case 10:
                      pcVar24 = "ew-resize";
                      break;
                    case 0xb:
                      pcVar24 = "fd_double_arrow";
                      break;
                    case 0xc:
                      pcVar24 = "bd_double_arrow";
                      break;
                    case 0xd:
                      lVar23 = *(long *)(this + 0x5b0);
                      *(long *)(this + 0x5e8) = lVar23;
                      goto LAB_00118d0c;
                    case 0xe:
                      pcVar24 = "sb_v_double_arrow";
                      break;
                    case 0xf:
                      pcVar24 = "sb_h_double_arrow";
                      break;
                    case 0x10:
                      pcVar24 = "help";
                    }
                    lVar23 = (*_XcursorLibraryLoadImage_dylibloader_wrapper_xcursor)
                                       (pcVar24,*(undefined8 *)(this + 0x570),
                                        *(undefined4 *)(this + 0x578));
                    *(long *)(this + uVar33 * 8 + 0x580) = lVar23;
LAB_00118d0c:
                    if (lVar23 != 0) goto LAB_00118c80;
switchD_00118ce6_caseD_0:
                    cVar17 = is_print_verbose_enabled();
                    if (cVar17 != '\0') {
                      local_1b8 = (char *)0x0;
                      String::parse_latin1((String *)&local_1b8,pcVar5);
                      operator+((char *)local_1c8,(String *)"Failed loading custom cursor: ");
                      Variant::Variant((Variant *)local_108,(String *)local_1c8);
                      print_line((StringName *)local_108);
                      if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
                        Variant::_clear_internal();
                      }
                      CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
                      CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
                    }
                  }
                  else {
LAB_00118c80:
                    uVar25 = (*_XcursorImageLoadCursor_dylibloader_wrapper_xcursor)
                                       (*(undefined8 *)(this + 0x360),lVar23);
                    *(undefined8 *)(this + uVar33 * 8 + 0x608) = uVar25;
                  }
                  uVar33 = uVar33 + 1;
                  if (uVar33 == 0x11) goto LAB_00118eb1;
                  pcVar24 = *(char **)(this + 0x570);
                } while( true );
              }
              this_01 = (RenderingDevice *)operator_new(0xf28,"");
              RenderingDevice::RenderingDevice(this_01);
              postinitialize_handler((Object *)this_01);
              *(RenderingDevice **)(this + 0x298) = this_01;
              iVar18 = RenderingDevice::initialize
                                 ((RenderingContextDriver *)this_01,
                                  (int)*(undefined8 *)(this + 0x290));
              if (iVar18 == 0) {
                RenderingDevice::screen_create((int)*(undefined8 *)(this + 0x298));
                RendererCompositor::low_end._0_1_ = 0;
                RendererCompositor::_create_func = RendererCompositorRD::_create_current;
                goto LAB_00118bde;
              }
              pOVar22 = *(Object **)(this + 0x298);
              cVar17 = predelete_handler(pOVar22);
              if (cVar17 != '\0') {
                (**(code **)(*(long *)pOVar22 + 0x140))(pOVar22);
                Memory::free_static(pOVar22,false);
              }
              *(undefined8 *)(this + 0x298) = 0;
              memdelete<RenderingContextDriver>(*(RenderingContextDriver **)(this + 0x290));
              *(undefined8 *)(this + 0x290) = 0;
              *param_11 = 2;
            }
          }
          else {
            this_02 = (RenderingContextDriverVulkanX11 *)operator_new(0x178,"");
            RenderingContextDriverVulkanX11::RenderingContextDriverVulkanX11(this_02);
            *(RenderingContextDriverVulkanX11 **)(this + 0x290) = this_02;
LAB_0011825b:
            iVar18 = (**(code **)(*(long *)this_02 + 0x10))(this_02);
            if (iVar18 == 0) goto LAB_00118278;
            memdelete<RenderingContextDriver>(*(RenderingContextDriver **)(this + 0x290));
            *(undefined8 *)(this + 0x290) = 0;
            ProjectSettings::get_singleton();
            StringName::StringName
                      ((StringName *)&local_1b8,"rendering/rendering_device/fallback_to_opengl3",
                       false);
            ProjectSettings::get_setting_with_override((StringName *)local_108);
            bVar39 = Variant::operator_cast_to_bool((Variant *)local_108);
            if (Variant::needs_deinit[(int)local_108[0]._0_4_] != '\0') {
              Variant::_clear_internal();
            }
            if ((StringName::configured != '\0') &&
               ((DisplayServerX11 *)local_1b8 != (DisplayServerX11 *)0x0)) {
              StringName::unref();
            }
            if ((bVar39) &&
               (cVar17 = String::operator!=((String *)this_00,"opengl3"), cVar17 != '\0')) {
              _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                               0x1a8b,
                               "Your video card drivers seem not to support the required Vulkan version, switching to OpenGL 3."
                               ,0,1);
              String::parse_latin1((String *)this_00,"opengl3");
              lVar23 = OS::get_singleton();
              local_1b8 = (char *)0x0;
              String::parse_latin1((String *)&local_1b8,"gl_compatibility");
              CowData<char32_t>::_ref((CowData<char32_t> *)(lVar23 + 0x68),(CowData *)&local_1b8);
              CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
              lVar23 = OS::get_singleton();
              CowData<char32_t>::_ref((CowData<char32_t> *)(lVar23 + 0x60),(CowData *)this_00);
              goto LAB_00118278;
            }
            *param_11 = 0x14;
            cVar17 = String::operator==((String *)param_1,"vulkan");
            if (cVar17 != '\0') {
              plVar21 = (long *)OS::get_singleton();
              pcVar3 = *(code **)(*plVar21 + 0xa8);
              local_1b8 = (char *)0x0;
              String::parse_latin1((String *)&local_1b8,"Unable to initialize Vulkan video driver");
              auVar9._8_8_ = 0;
              auVar9._0_8_ = local_1c8._8_8_;
              local_1c8 = auVar9 << 0x40;
              if (local_1f0 != 0) {
                CowData<char32_t>::_ref((CowData<char32_t> *)local_1c8,(CowData *)&local_1f0);
              }
              local_1d0 = 0;
              String::parse_latin1
                        ((String *)&local_1d0,
                         "Your video card drivers seem not to support the required Vulkan version.\n\nIf possible, consider updating your video card drivers or using the OpenGL 3 driver.\n\nYou can enable the OpenGL 3 driver by starting the engine from the\ncommand line with the command:\n\n    \"%s\" --rendering-driver opengl3\n\nIf you recently updated your video card drivers, try rebooting."
                        );
              vformat<String>((CowData<char32_t> *)&local_1d8,(String *)&local_1d0,
                              (StrRange *)local_1c8);
              (*pcVar3)(plVar21,(CowData<char32_t> *)&local_1d8,(CowData<char32_t> *)&local_1b8);
              CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d8);
              CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d0);
              CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
              CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
            }
            local_1b8 = (char *)0x0;
            if (*(long *)(this + 0x6d0) != 0) {
              CowData<char32_t>::_ref((CowData<char32_t> *)&local_1b8,(CowData *)this_00);
            }
            auVar13._8_8_ = 0;
            auVar13._0_8_ = local_1c8._8_8_;
            local_1c8 = auVar13 << 0x40;
            String::parse_latin1((String *)local_1c8,"Could not initialize %s");
            vformat<String>((String *)&local_1d0,(StrRange *)local_1c8,
                            (CowData<char32_t> *)&local_1b8);
            _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",
                             0x1a9f,"Method/function failed.",(String *)&local_1d0,0,0);
            CowData<char32_t>::_unref((CowData<char32_t> *)&local_1d0);
            CowData<char32_t>::_unref((CowData<char32_t> *)local_1c8);
            CowData<char32_t>::_unref((CowData<char32_t> *)&local_1b8);
          }
LAB_001196a8:
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_1f0);
          goto LAB_00118637;
        }
        uVar25 = 0x19f3;
        pcVar24 = "Unsupported Xinput2 library version.";
      }
      else {
        uVar25 = 0x19e6;
        pcVar24 = "Unsupported Xrender library version.";
      }
      _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",uVar25,
                       pcVar24,0,0);
      uVar25 = *(undefined8 *)(this + 0x360);
      *param_11 = 2;
      (*_XCloseDisplay_dylibloader_wrapper_xlib)(uVar25);
      goto LAB_00118637;
    }
    uVar25 = 0x19ba;
    pcVar24 = "X11 Display is not available";
  }
  _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",uVar25,pcVar24,
                   0,0);
  *param_11 = 2;
  goto LAB_00118637;
LAB_00118eb1:
  lVar23 = *(long *)(this + 0x360);
  uVar28 = (*_XCreatePixmap_dylibloader_wrapper_xlib)
                     (lVar23,*(undefined8 *)
                              ((long)*(int *)(lVar23 + 0xe0) * 0x80 + *(long *)(lVar23 + 0xe8) +
                              0x10),1,1,1);
  local_1b8 = (char *)((ulong)local_1b8 & 0xffffffff00000000);
  uVar25 = 0x118f0c;
  uVar29 = (*_XCreateGC_dylibloader_wrapper_xlib)
                     (*(undefined8 *)(this + 0x360),uVar28,1,(CowData<char32_t> *)&local_1b8);
  uVar33 = 0;
  (*_XFillRectangle_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),uVar28,uVar29,0,0,1,1);
  local_1c8 = (undefined1  [16])0x0;
  lVar23 = (*_XCreatePixmapCursor_dylibloader_wrapper_xlib)
                     (*(undefined8 *)(this + 0x360),uVar28,uVar28,(StrRange *)local_1c8,
                      (StrRange *)local_1c8,0,uVar33 & 0xffffffff00000000);
  (*_XFreePixmap_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),uVar28);
  (*_XFreeGC_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),uVar29);
  if (lVar23 == 0) {
    _err_print_error("DisplayServerX11","platform/linuxbsd/x11/display_server_x11.cpp",0x1bb1,
                     "FAILED CREATING CURSOR",0,0);
    uVar25 = extraout_RDX;
  }
  *(long *)(this + 0x690) = lVar23;
  cursor_set_shape(this,5,uVar25);
  while (iVar18 = (*_XCheckTypedEvent_dylibloader_wrapper_xlib)
                            (*(undefined8 *)(this + 0x360),0x16,(StringName *)local_108),
        iVar18 != 0) {
    _window_changed(this,(_XEvent *)local_108);
  }
  local_1b8._0_4_ = 1;
  Thread::start((_func_void_void_ptr *)(this + 0x728),_poll_events_thread,(Settings *)this);
  local_1b8 = (char *)((ulong)local_1b8._4_4_ << 0x20);
  pWVar30 = (WindowData *)
            HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
            ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                          *)(this + 0x2f0),(int *)&local_1b8);
  _update_real_mouse_position(this,pWVar30);
  this_04 = (FreeDesktopScreenSaver *)operator_new(8,"");
  FreeDesktopScreenSaver::FreeDesktopScreenSaver(this_04);
  *(FreeDesktopScreenSaver **)(this + 0x2a0) = this_04;
  ProjectSettings::get_singleton();
  StringName::StringName
            ((StringName *)&local_1b8,"display/window/energy_saving/keep_screen_on",false);
  ProjectSettings::get_setting_with_override((StringName *)local_128);
  bVar39 = Variant::operator_cast_to_bool((Variant *)local_128);
  screen_set_keep_on(this,bVar39);
  if (Variant::needs_deinit[(int)local_128[0]] != '\0') {
    Variant::_clear_internal();
  }
  if ((StringName::configured != '\0') && ((DisplayServerX11 *)local_1b8 != (DisplayServerX11 *)0x0)
     ) {
    StringName::unref();
  }
  this_05 = (FreeDesktopPortalDesktop *)operator_new(0x1f0,"");
  FreeDesktopPortalDesktop::FreeDesktopPortalDesktop(this_05);
  postinitialize_handler((Object *)this_05);
  *(FreeDesktopPortalDesktop **)(this + 0x2c0) = this_05;
  (*_XSetErrorHandler_dylibloader_wrapper_xlib)(default_window_error_handler);
  *param_11 = 0;
  CowData<char32_t>::_unref((CowData<char32_t> *)&local_1f0);
LAB_00118637:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00119d54:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::create_func(String const&, DisplayServer::WindowMode, DisplayServer::VSyncMode,
   unsigned int, Vector2i const*, Vector2i const&, int, DisplayServer::Context, long, Error&) */

Object * DisplayServerX11::create_func
                   (undefined8 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4,
                   undefined8 param_5,undefined8 param_6,undefined4 param_7,undefined4 param_8,
                   undefined8 param_9,undefined8 param_10)

{
  Object *pOVar1;
  
  pOVar1 = (Object *)operator_new(0x780,"");
  DisplayServerX11((DisplayServerX11 *)pOVar1,param_1,param_2,param_3,param_4,param_5,param_6,
                   param_7,param_8,param_9,param_10);
  postinitialize_handler(pOVar1);
  return pOVar1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::~DisplayServerX11() */

void __thiscall DisplayServerX11::~DisplayServerX11(DisplayServerX11 *this)

{
  uint uVar1;
  ulong uVar2;
  Object *pOVar3;
  undefined8 *puVar4;
  GLManager_X11 *this_00;
  EGLManager *this_01;
  long lVar5;
  void *pvVar6;
  char cVar7;
  ulong *puVar8;
  ulong uVar9;
  DisplayServerX11 *pDVar10;
  long lVar11;
  long *plVar12;
  void *pvVar13;
  long in_FS_OFFSET;
  int local_44;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_44 = 0;
  *(undefined ***)this = &PTR__initialize_classv_0012cdd8;
  puVar8 = (ulong *)HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),&local_44);
  uVar2 = *puVar8;
  _clipboard_transfer_ownership(this,1,uVar2);
  uVar9 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"CLIPBOARD",0);
  _clipboard_transfer_ownership(this,uVar9,uVar2);
  this[0x738] = (DisplayServerX11)0x1;
  Thread::wait_to_finish();
  pOVar3 = *(Object **)(this + 0x2b8);
  if (pOVar3 != (Object *)0x0) {
    cVar7 = predelete_handler(pOVar3);
    if (cVar7 != '\0') {
      if (*(code **)(*(long *)pOVar3 + 0x140) == NativeMenu::~NativeMenu) {
        *(code **)pOVar3 = Object::~Object;
        NativeMenu::singleton = 0;
        Object::~Object(pOVar3);
      }
      else {
        (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
      }
      Memory::free_static(pOVar3,false);
    }
    *(undefined8 *)(this + 0x2b8) = 0;
  }
  for (puVar4 = *(undefined8 **)(this + 0x308); puVar4 != (undefined8 *)0x0;
      puVar4 = (undefined8 *)*puVar4) {
    if (*(long *)(this + 0x298) != 0) {
      RenderingDevice::screen_free((int)*(long *)(this + 0x298));
    }
    if (*(long *)(this + 0x290) != 0) {
      RenderingContextDriver::window_destroy((int)*(long *)(this + 0x290));
    }
    if (*(long *)(this + 0x280) != 0) {
      GLManager_X11::window_destroy((int)*(long *)(this + 0x280));
    }
    if (*(long *)(this + 0x288) != 0) {
      EGLManager::window_destroy((int)*(long *)(this + 0x288));
    }
    if (puVar4[6] != 0) {
      (*_XDestroyIC_dylibloader_wrapper_xlib)();
      puVar4[6] = 0;
    }
    (*_XDestroyWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),puVar4[4]);
    if ((this[0x2d8] != (DisplayServerX11)0x0) && (puVar4[8] != 0)) {
      (*_xkb_compose_state_unref_dylibloader_wrapper_xkbcommon)();
      puVar4[8] = 0;
    }
    (*_XUnmapWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),puVar4[3]);
    (*_XDestroyWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  }
  if (this[0x2d8] != (DisplayServerX11)0x0) {
    if (*(long *)(this + 0x2e8) != 0) {
      (*_xkb_compose_table_unref_dylibloader_wrapper_xkbcommon)();
    }
    if (*(long *)(this + 0x2e0) != 0) {
      (*_xkb_context_unref_dylibloader_wrapper_xkbcommon)();
    }
  }
  pOVar3 = *(Object **)(this + 0x298);
  if (pOVar3 != (Object *)0x0) {
    cVar7 = predelete_handler(pOVar3);
    if (cVar7 != '\0') {
      (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
      Memory::free_static(pOVar3,false);
    }
    *(undefined8 *)(this + 0x298) = 0;
  }
  puVar4 = *(undefined8 **)(this + 0x290);
  if (puVar4 != (undefined8 *)0x0) {
    (**(code **)*puVar4)(puVar4);
    Memory::free_static(puVar4,false);
    *(undefined8 *)(this + 0x290) = 0;
  }
  this_00 = *(GLManager_X11 **)(this + 0x280);
  if (this_00 != (GLManager_X11 *)0x0) {
    GLManager_X11::~GLManager_X11(this_00);
    Memory::free_static(this_00,false);
    *(undefined8 *)(this + 0x280) = 0;
  }
  this_01 = *(EGLManager **)(this + 0x288);
  if (this_01 != (EGLManager *)0x0) {
    if (*(code **)(*(long *)this_01 + 0x28) == GLManagerEGL_X11::~GLManagerEGL_X11) {
      *(code **)this_01 = operator_new;
      EGLManager::~EGLManager(this_01);
    }
    else {
      (**(code **)(*(long *)this_01 + 0x28))(this_01);
    }
    Memory::free_static(this_01,false);
    *(undefined8 *)(this + 0x288) = 0;
  }
  if (*(long *)(this + 0x6e8) != 0) {
    dlclose();
  }
  pDVar10 = this + 0x580;
  do {
    if (*(long *)(pDVar10 + 0x88) != 0) {
      (*_XFreeCursor_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
    }
    if (*(long *)pDVar10 != 0) {
      (*_XcursorImageDestroy_dylibloader_wrapper_xcursor)();
    }
    pDVar10 = pDVar10 + 8;
  } while (this + 0x608 != pDVar10);
  if (*(long *)(this + 0x388) != 0) {
    (*_XCloseIM_dylibloader_wrapper_xlib)();
  }
  (*_XCloseDisplay_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  if (*(void **)(this + 0x368) != (void *)0x0) {
    Memory::free_static(*(void **)(this + 0x368),false);
  }
  pOVar3 = *(Object **)(this + 0x2b0);
  if ((pOVar3 != (Object *)0x0) && (cVar7 = predelete_handler(pOVar3), cVar7 != '\0')) {
    (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
    Memory::free_static(pOVar3,false);
  }
  Memory::free_static(*(void **)(this + 0x2a0),false);
  pOVar3 = *(Object **)(this + 0x2c0);
  cVar7 = predelete_handler(pOVar3);
  if (cVar7 != '\0') {
    (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
    Memory::free_static(pOVar3,false);
  }
  pvVar13 = *(void **)(this + 0x758);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x77c) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x778) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x77c) = 0;
        *(undefined1 (*) [16])(this + 0x768) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x760) + lVar11) != 0) {
            *(int *)(*(long *)(this + 0x760) + lVar11) = 0;
            Memory::free_static(*(void **)((long)pvVar13 + lVar11 * 2),false);
            pvVar13 = *(void **)(this + 0x758);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while (lVar11 != (ulong)uVar1 << 2);
        *(undefined4 *)(this + 0x77c) = 0;
        *(undefined1 (*) [16])(this + 0x768) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a569;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x760),false);
  }
LAB_0011a569:
  if (*(void **)(this + 0x748) != (void *)0x0) {
    if (*(int *)(this + 0x740) != 0) {
      *(undefined4 *)(this + 0x740) = 0;
    }
    Memory::free_static(*(void **)(this + 0x748),false);
  }
  Thread::~Thread((Thread *)(this + 0x728));
  CowData<char32_t>::_unref((CowData<char32_t> *)(this + 0x6d0));
  pvVar13 = *(void **)(this + 0x6a8);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x6cc) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x6c8) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x6cc) = 0;
        *(undefined1 (*) [16])(this + 0x6b8) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x6b0) + lVar11) != 0) {
            pvVar13 = *(void **)((long)pvVar13 + lVar11 * 2);
            *(int *)(*(long *)(this + 0x6b0) + lVar11) = 0;
            CowData<Variant>::_unref((CowData<Variant> *)((long)pvVar13 + 0x20));
            Memory::free_static(pvVar13,false);
            pvVar13 = *(void **)(this + 0x6a8);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while ((ulong)uVar1 << 2 != lVar11);
        *(undefined4 *)(this + 0x6cc) = 0;
        *(undefined1 (*) [16])(this + 0x6b8) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a645;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x6b0),false);
  }
LAB_0011a645:
  pvVar13 = *(void **)(this + 0x4e8);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x50c) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x508) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x50c) = 0;
        *(undefined1 (*) [16])(this + 0x4f8) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x4f0) + lVar11) != 0) {
            *(int *)(*(long *)(this + 0x4f0) + lVar11) = 0;
            Memory::free_static(*(void **)((long)pvVar13 + lVar11 * 2),false);
            pvVar13 = *(void **)(this + 0x4e8);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while ((ulong)uVar1 << 2 != lVar11);
        *(undefined4 *)(this + 0x50c) = 0;
        *(undefined1 (*) [16])(this + 0x4f8) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a6df;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x4f0),false);
  }
LAB_0011a6df:
  pvVar13 = *(void **)(this + 0x4a8);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x4cc) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x4c8) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x4cc) = 0;
        *(undefined1 (*) [16])(this + 0x4b8) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x4b0) + lVar11) != 0) {
            *(int *)(*(long *)(this + 0x4b0) + lVar11) = 0;
            Memory::free_static(*(void **)((long)pvVar13 + lVar11 * 2),false);
            pvVar13 = *(void **)(this + 0x4a8);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while ((ulong)uVar1 << 2 != lVar11);
        *(undefined4 *)(this + 0x4cc) = 0;
        *(undefined1 (*) [16])(this + 0x4b8) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a777;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x4b0),false);
  }
LAB_0011a777:
  pvVar13 = *(void **)(this + 0x478);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x49c) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x498) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x49c) = 0;
        *(undefined1 (*) [16])(this + 0x488) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x480) + lVar11) != 0) {
            *(int *)(*(long *)(this + 0x480) + lVar11) = 0;
            Memory::free_static(*(void **)((long)pvVar13 + lVar11 * 2),false);
            pvVar13 = *(void **)(this + 0x478);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while ((ulong)uVar1 << 2 != lVar11);
        *(undefined4 *)(this + 0x49c) = 0;
        *(undefined1 (*) [16])(this + 0x488) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a811;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x480),false);
  }
LAB_0011a811:
  pvVar13 = *(void **)(this + 0x448);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x46c) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x468) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x46c) = 0;
        *(undefined1 (*) [16])(this + 0x458) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x450) + lVar11) != 0) {
            *(int *)(*(long *)(this + 0x450) + lVar11) = 0;
            Memory::free_static(*(void **)((long)pvVar13 + lVar11 * 2),false);
            pvVar13 = *(void **)(this + 0x448);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while (lVar11 != (ulong)uVar1 << 2);
        *(undefined4 *)(this + 0x46c) = 0;
        *(undefined1 (*) [16])(this + 0x458) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a8b1;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x450),false);
  }
LAB_0011a8b1:
  pvVar13 = *(void **)(this + 0x418);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x43c) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x438) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x43c) = 0;
        *(undefined1 (*) [16])(this + 0x428) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x420) + lVar11) != 0) {
            *(int *)(*(long *)(this + 0x420) + lVar11) = 0;
            Memory::free_static(*(void **)((long)pvVar13 + lVar11 * 2),false);
            pvVar13 = *(void **)(this + 0x418);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while ((ulong)uVar1 << 2 != lVar11);
        *(undefined4 *)(this + 0x43c) = 0;
        *(undefined1 (*) [16])(this + 0x428) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a951;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x420),false);
  }
LAB_0011a951:
  pvVar13 = *(void **)(this + 1000);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x40c) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x408) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x40c) = 0;
        *(undefined1 (*) [16])(this + 0x3f8) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x3f0) + lVar11) != 0) {
            *(int *)(*(long *)(this + 0x3f0) + lVar11) = 0;
            Memory::free_static(*(void **)((long)pvVar13 + lVar11 * 2),false);
            pvVar13 = *(void **)(this + 1000);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while (lVar11 != (ulong)uVar1 << 2);
        *(undefined4 *)(this + 0x40c) = 0;
        *(undefined1 (*) [16])(this + 0x3f8) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011a9f1;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x3f0),false);
  }
LAB_0011a9f1:
  if (*(long *)(this + 0x3d8) != 0) {
    LOCK();
    plVar12 = (long *)(*(long *)(this + 0x3d8) + -0x10);
    *plVar12 = *plVar12 + -1;
    UNLOCK();
    if (*plVar12 == 0) {
      lVar11 = *(long *)(this + 0x3d8);
      *(undefined8 *)(this + 0x3d8) = 0;
      Memory::free_static((void *)(lVar11 + -0x10),false);
    }
  }
  CowData<char32_t>::_unref((CowData<char32_t> *)(this + 0x350));
  CowData<char32_t>::_unref((CowData<char32_t> *)(this + 0x348));
  plVar12 = *(long **)(this + 0x330);
  if (plVar12 != (long *)0x0) {
    do {
      pvVar13 = (void *)*plVar12;
      if (pvVar13 == (void *)0x0) {
        if ((int)plVar12[2] != 0) {
          _err_print_error("~List","./core/templates/list.h",0x316,
                           "Condition \"_data->size_cache\" is true.",0,0);
          goto LAB_0011aa93;
        }
        break;
      }
      if (plVar12 == *(long **)((long)pvVar13 + 0x18)) {
        lVar11 = *(long *)((long)pvVar13 + 8);
        lVar5 = *(long *)((long)pvVar13 + 0x10);
        *plVar12 = lVar11;
        if (pvVar13 == (void *)plVar12[1]) {
          plVar12[1] = lVar5;
        }
        if (lVar5 != 0) {
          *(long *)(lVar5 + 8) = lVar11;
          lVar11 = *(long *)((long)pvVar13 + 8);
        }
        if (lVar11 != 0) {
          *(long *)(lVar11 + 0x10) = lVar5;
        }
        Memory::free_static(pvVar13,false);
        *(int *)(plVar12 + 2) = (int)plVar12[2] + -1;
      }
      else {
        _err_print_error("erase","./core/templates/list.h",0xe7,
                         "Condition \"p_I->data != this\" is true. Returning: false",0,0);
      }
      plVar12 = *(long **)(this + 0x330);
    } while ((int)plVar12[2] != 0);
    Memory::free_static(plVar12,false);
  }
LAB_0011aa93:
  pvVar13 = *(void **)(this + 0x2f8);
  if (pvVar13 != (void *)0x0) {
    if (*(int *)(this + 0x31c) != 0) {
      uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4);
      if (uVar1 == 0) {
        *(undefined4 *)(this + 0x31c) = 0;
        *(undefined1 (*) [16])(this + 0x308) = (undefined1  [16])0x0;
      }
      else {
        lVar11 = 0;
        do {
          if (*(int *)(*(long *)(this + 0x300) + lVar11) != 0) {
            pvVar13 = *(void **)((long)pvVar13 + lVar11 * 2);
            *(int *)(*(long *)(this + 0x300) + lVar11) = 0;
            pvVar6 = *(void **)((long)pvVar13 + 0xd0);
            if (pvVar6 != (void *)0x0) {
              if (*(int *)((long)pvVar13 + 0xf4) != 0) {
                if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)((long)pvVar13 + 0xf0) * 4)
                    != 0) {
                  memset(*(void **)((long)pvVar13 + 0xe8),0,
                         (ulong)*(uint *)(hash_table_size_primes +
                                         (ulong)*(uint *)((long)pvVar13 + 0xf0) * 4) * 4);
                }
                *(undefined4 *)((long)pvVar13 + 0xf4) = 0;
              }
              Memory::free_static(pvVar6,false);
              Memory::free_static(*(void **)((long)pvVar13 + 0xe0),false);
              Memory::free_static(*(void **)((long)pvVar13 + 0xd8),false);
              Memory::free_static(*(void **)((long)pvVar13 + 0xe8),false);
            }
            if (*(long *)((long)pvVar13 + 0xc0) != 0) {
              LOCK();
              plVar12 = (long *)(*(long *)((long)pvVar13 + 0xc0) + -0x10);
              *plVar12 = *plVar12 + -1;
              UNLOCK();
              if (*plVar12 == 0) {
                lVar5 = *(long *)((long)pvVar13 + 0xc0);
                *(undefined8 *)((long)pvVar13 + 0xc0) = 0;
                Memory::free_static((void *)(lVar5 + -0x10),false);
              }
            }
            Callable::~Callable((Callable *)((long)pvVar13 + 0xa8));
            Callable::~Callable((Callable *)((long)pvVar13 + 0x98));
            Callable::~Callable((Callable *)((long)pvVar13 + 0x88));
            Callable::~Callable((Callable *)((long)pvVar13 + 0x78));
            Callable::~Callable((Callable *)((long)pvVar13 + 0x68));
            Memory::free_static(pvVar13,false);
            pvVar13 = *(void **)(this + 0x2f8);
            *(undefined8 *)((long)pvVar13 + lVar11 * 2) = 0;
          }
          lVar11 = lVar11 + 4;
        } while (lVar11 != (ulong)uVar1 << 2);
        *(undefined4 *)(this + 0x31c) = 0;
        *(undefined1 (*) [16])(this + 0x308) = (undefined1  [16])0x0;
        if (pvVar13 == (void *)0x0) goto LAB_0011ac27;
      }
    }
    Memory::free_static(pvVar13,false);
    Memory::free_static(*(void **)(this + 0x300),false);
  }
LAB_0011ac27:
  CowData<char32_t>::_unref((CowData<char32_t> *)(this + 0x2d0));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  DisplayServer::~DisplayServer((DisplayServer *)this);
  return;
}



/* DisplayServerX11::~DisplayServerX11() */

void __thiscall DisplayServerX11::~DisplayServerX11(DisplayServerX11 *this)

{
  ~DisplayServerX11(this);
  operator_delete(this,0x780);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::_handle_key_event(int, XKeyEvent*, LocalVector<_XEvent, unsigned int, false,
   false>&, unsigned int&, bool) */

void DisplayServerX11::_handle_key_event
               (int param_1,XKeyEvent *param_2,LocalVector *param_3,uint *param_4,bool param_5)

{
  ulong uVar1;
  ulong uVar2;
  code *pcVar3;
  uint uVar4;
  char cVar5;
  char cVar6;
  bool bVar7;
  undefined4 uVar8;
  int iVar9;
  int iVar10;
  undefined4 uVar11;
  int iVar12;
  int iVar13;
  long lVar14;
  Object *pOVar15;
  undefined8 uVar16;
  Ref *pRVar17;
  Object *pOVar18;
  ulong uVar19;
  wchar32 wVar20;
  undefined4 in_register_0000003c;
  DisplayServerX11 *pDVar21;
  undefined7 in_register_00000081;
  int *piVar22;
  long lVar23;
  LocalVector *pLVar24;
  long in_FS_OFFSET;
  Ref *local_338;
  Object **local_330;
  wchar32 local_2fc;
  uint local_2ec [4];
  int local_2dc;
  Object *local_2d8;
  ulong local_2d0;
  Object *local_2c8;
  long local_2c0;
  Object *local_2b8;
  Object *local_2b0;
  undefined8 local_2a8;
  undefined8 uStack_2a0;
  undefined8 local_298;
  undefined8 uStack_290;
  undefined8 local_288;
  undefined8 uStack_280;
  undefined8 local_278;
  undefined8 uStack_270;
  undefined8 local_268;
  undefined8 uStack_260;
  ulong local_258;
  undefined8 uStack_250;
  undefined1 local_248 [16];
  undefined1 local_238 [16];
  undefined1 local_228 [16];
  undefined1 local_218 [16];
  undefined1 local_208 [16];
  undefined1 local_1f8 [16];
  undefined1 local_1e8 [16];
  undefined1 local_1d8 [16];
  undefined1 local_1c8 [16];
  undefined1 local_1b8 [16];
  undefined1 local_1a8 [16];
  undefined1 local_198 [16];
  undefined1 local_188 [16];
  undefined1 local_178 [16];
  undefined1 local_168 [16];
  undefined1 local_158 [16];
  undefined1 local_148 [16];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined1 local_118 [16];
  undefined1 local_108 [16];
  undefined1 local_f8 [16];
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  undefined1 local_c8 [16];
  undefined1 local_b8 [16];
  undefined1 local_a8 [16];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  long local_40;
  
  piVar22 = (int *)CONCAT71(in_register_00000081,param_5);
  pDVar21 = (DisplayServerX11 *)CONCAT44(in_register_0000003c,param_1);
  local_2ec[0] = (uint)param_2;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar14 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
           ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                         *)(pDVar21 + 0x2f0),(int *)local_2ec);
  if ((*(char *)(lVar14 + 0x21) != '\0') ||
     ((*(char *)(lVar14 + 0x22) != '\0' &&
      (iVar9 = *(int *)param_3, *(undefined1 *)(lVar14 + 0x22) = 0, iVar9 != 2))))
  goto LAB_0011b419;
  local_2a8 = *(undefined8 *)param_3;
  uStack_2a0 = *(undefined8 *)(param_3 + 8);
  local_298 = *(undefined8 *)(param_3 + 0x10);
  uStack_290 = *(undefined8 *)(param_3 + 0x18);
  local_288 = *(undefined8 *)(param_3 + 0x20);
  uStack_280 = *(undefined8 *)(param_3 + 0x28);
  local_278 = *(undefined8 *)(param_3 + 0x30);
  uStack_270 = *(undefined8 *)(param_3 + 0x38);
  local_268 = *(undefined8 *)(param_3 + 0x40);
  uStack_260 = *(undefined8 *)(param_3 + 0x48);
  uStack_250 = *(undefined8 *)(param_3 + 0x58);
  local_248 = (undefined1  [16])0x0;
  local_238 = (undefined1  [16])0x0;
  local_228 = (undefined1  [16])0x0;
  local_218 = (undefined1  [16])0x0;
  local_208 = (undefined1  [16])0x0;
  local_1f8 = (undefined1  [16])0x0;
  local_1e8 = (undefined1  [16])0x0;
  local_1d8 = (undefined1  [16])0x0;
  local_1c8 = (undefined1  [16])0x0;
  local_1b8 = (undefined1  [16])0x0;
  local_1a8 = (undefined1  [16])0x0;
  local_198 = (undefined1  [16])0x0;
  local_188 = (undefined1  [16])0x0;
  local_178 = (undefined1  [16])0x0;
  local_168 = (undefined1  [16])0x0;
  local_158 = (undefined1  [16])0x0;
  local_258 = *(ulong *)(param_3 + 0x50) & 0xffffffff0000ff00;
  local_2d8 = (Object *)0x0;
  local_2d0 = 0;
  (*_XLookupString_dylibloader_wrapper_xlib)(param_3,local_248,0xff,&local_2d0);
  (*_XLookupString_dylibloader_wrapper_xlib)(&local_2a8,0,0);
  local_2c8 = (Object *)0x0;
  if (pDVar21[0x2d9] != (DisplayServerX11)0x0) {
    local_2b8 = (Object *)0x0;
    (*_XLookupString_dylibloader_wrapper_xlib)(&local_2a8,0,0);
    pcVar3 = _xkb_keysym_to_utf32_dylibloader_wrapper_xkbcommon;
    uVar8 = (*_xkb_keysym_to_upper_dylibloader_wrapper_xkbcommon)((ulong)local_2b8 & 0xffffffff);
    (*pcVar3)(uVar8);
    String::chr((wchar32)(CowData<char32_t> *)&local_2b0);
    if (local_2b0 != (Object *)0x0) {
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_2c8);
      local_2c8 = local_2b0;
      local_2b0 = (Object *)0x0;
    }
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_2b0);
  }
  if (*(long *)(pDVar21 + 0x368) == 0) {
    uVar16 = Memory::alloc_static(8,false);
    *(undefined4 *)(pDVar21 + 0x370) = 8;
    *(undefined8 *)(pDVar21 + 0x368) = uVar16;
  }
  if (*(int *)param_3 == 2) {
    if (*(long *)(lVar14 + 0x18) == 0) {
      if ((((*(long *)(lVar14 + 0x28) == 0) || (pDVar21[0x2d8] == (DisplayServerX11)0x0)) ||
          (iVar9 = (*_xkb_compose_state_feed_dylibloader_wrapper_xkbcommon)
                             (*(long *)(lVar14 + 0x28),local_2d0 & 0xffffffff), iVar9 != 1)) ||
         (iVar9 = (*_xkb_compose_state_get_status_dylibloader_wrapper_xkbcommon)
                            (*(undefined8 *)(lVar14 + 0x28)), iVar9 != 2)) goto LAB_0011b163;
      iVar9 = *(int *)param_3;
      iVar10 = KeyMappingX11::get_scancode(*(uint *)(param_3 + 0x54));
      uVar8 = KeyMappingX11::get_location(*(uint *)(param_3 + 0x54));
      cVar5 = KeyMappingX11::is_sym_numpad(local_2d0);
      if ((cVar5 == '\0') || (iVar12 = KeyMappingX11::get_keycode(local_2d0), iVar12 == 0)) {
        iVar12 = KeyMappingX11::get_keycode((ulong)local_2d8);
      }
      local_148 = (undefined1  [16])0x0;
      if (iVar12 - 0x61U < 0x1a) {
        iVar12 = iVar12 + -0x20;
      }
      local_138 = (undefined1  [16])0x0;
      local_128 = (undefined1  [16])0x0;
      local_118 = (undefined1  [16])0x0;
      local_108 = (undefined1  [16])0x0;
      local_f8 = (undefined1  [16])0x0;
      local_e8 = (undefined1  [16])0x0;
      local_d8 = (undefined1  [16])0x0;
      local_c8 = (undefined1  [16])0x0;
      local_b8 = (undefined1  [16])0x0;
      local_a8 = (undefined1  [16])0x0;
      local_98 = (undefined1  [16])0x0;
      local_88 = (undefined1  [16])0x0;
      local_78 = (undefined1  [16])0x0;
      local_68 = (undefined1  [16])0x0;
      local_58 = (undefined1  [16])0x0;
      bVar7 = (bool)(*_xkb_compose_state_get_utf8_dylibloader_wrapper_xkbcommon)
                              (*(undefined8 *)(lVar14 + 0x28),local_148,0xff);
      local_2c0 = 0;
      String::parse_utf8((char *)&local_2c0,(int)local_148,bVar7);
      for (lVar14 = 0;
          ((local_2c0 != 0 && (iVar13 = (int)*(undefined8 *)(local_2c0 + -8), iVar13 != 0)) &&
          ((int)lVar14 < iVar13 + -1)); lVar14 = lVar14 + 1) {
        local_2b8 = (Object *)0x0;
        Ref<InputEventKey>::instantiate<>((Ref<InputEventKey> *)&local_2b8);
        pOVar18 = local_2b8;
        if (iVar10 == 0) {
          if (iVar12 != 0) goto LAB_0011b860;
          if (local_2c0 == 0) {
            if (lVar14 == 0) goto LAB_0011b9fb;
LAB_0011c13a:
            lVar23 = 0;
            goto LAB_0011bbfd;
          }
          lVar23 = *(long *)(local_2c0 + -8);
          if (lVar14 != lVar23) {
            if (lVar23 <= lVar14) goto LAB_0011bbfd;
            if (*(int *)(local_2c0 + lVar14 * 4) != 0) goto LAB_0011b860;
          }
        }
        else {
          if (iVar12 == 0) {
            iVar12 = iVar10;
          }
LAB_0011b860:
          local_2b0 = (Object *)0x0;
          if (((local_2b8 != (Object *)0x0) &&
              (pOVar15 = (Object *)
                         __dynamic_cast(local_2b8,&Object::typeinfo,
                                        &InputEventWithModifiers::typeinfo),
              pOVar15 != (Object *)0x0)) &&
             (local_2b0 = pOVar15, cVar5 = RefCounted::reference(), cVar5 == '\0')) {
            local_2b0 = (Object *)0x0;
          }
          _get_key_modifier_state
                    (pDVar21,*(undefined4 *)(param_3 + 0x50),
                     (Ref<InputEventWithModifiers> *)&local_2b0);
          Ref<InputEventWithModifiers>::unref((Ref<InputEventWithModifiers> *)&local_2b0);
          InputEventFromWindow::set_window_id((long)pOVar18);
          bVar7 = SUB81(pOVar18,0);
          InputEventKey::set_pressed(bVar7);
          InputEventKey::set_keycode(pOVar18,iVar12);
          InputEventKey::set_physical_keycode(pOVar18,iVar10);
          if ((local_2c8 == (Object *)0x0) || (lVar23 = *(long *)(local_2c8 + -8), (uint)lVar23 < 2)
             ) {
            InputEventKey::set_key_label(pOVar18,iVar12);
          }
          else {
            if (lVar23 < 1) goto LAB_0011bbe0;
            uVar11 = fix_key_label(*(undefined4 *)local_2c8,iVar12);
            InputEventKey::set_key_label(pOVar18,uVar11);
          }
          if (iVar9 == 2) {
            if (local_2c0 == 0) {
              if (lVar14 != 0) goto LAB_0011c13a;
LAB_0011c160:
              wVar20 = L'\0';
            }
            else {
              lVar23 = *(long *)(local_2c0 + -8);
              if (lVar14 == lVar23) goto LAB_0011c160;
              if (lVar23 <= lVar14) goto LAB_0011bbfd;
              wVar20 = *(wchar32 *)(local_2c0 + lVar14 * 4);
            }
            fix_unicode(wVar20);
            InputEventKey::set_unicode((wchar32)pOVar18);
          }
          InputEventKey::set_location(pOVar18,uVar8);
          InputEventKey::set_echo(bVar7);
          iVar13 = InputEventKey::get_keycode();
          if (iVar13 == 0x400003) {
            InputEventKey::set_keycode(pOVar18,0x400002);
            InputEventKey::set_physical_keycode(pOVar18,0x400002);
            InputEventWithModifiers::set_shift_pressed(bVar7);
            local_338 = (Ref *)Input::get_singleton();
          }
          else {
            local_338 = (Ref *)Input::get_singleton();
          }
          local_2b0 = (Object *)0x0;
          pOVar18 = (Object *)__dynamic_cast(pOVar18,&Object::typeinfo,&InputEvent::typeinfo);
          if ((pOVar18 != (Object *)0x0) &&
             (local_2b0 = pOVar18, cVar5 = RefCounted::reference(), cVar5 == '\0')) {
            local_2b0 = (Object *)0x0;
          }
          Input::parse_input_event(local_338);
          Ref<InputEvent>::unref((Ref<InputEvent> *)&local_2b0);
        }
LAB_0011b9fb:
        Ref<InputEventKey>::unref((Ref<InputEventKey> *)&local_2b8);
      }
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_2c0);
    }
    else {
      local_330 = (Object **)Memory::alloc_static(8,false);
      iVar9 = (*_Xutf8LookupString_dylibloader_wrapper_xlib)
                        (*(undefined8 *)(lVar14 + 0x18),param_3,local_330,7,&local_2d0,&local_2dc);
      if (local_2dc == -1) {
        local_330 = (Object **)Memory::realloc_static(local_330,(long)(iVar9 + 1),false);
        iVar9 = (*_Xutf8LookupString_dylibloader_wrapper_xlib)
                          (*(undefined8 *)(lVar14 + 0x18),param_3,local_330,iVar9,&local_2d0,
                           &local_2dc);
      }
      *(undefined1 *)((long)local_330 + (long)iVar9) = 0;
      if (local_2dc != 2) {
        Memory::free_static(local_330,false);
        goto LAB_0011b163;
      }
      iVar10 = *(int *)param_3;
      cVar5 = KeyMappingX11::is_sym_numpad(local_2d0);
      if ((cVar5 == '\0') || (iVar12 = KeyMappingX11::get_keycode(local_2d0), iVar12 == 0)) {
        iVar12 = KeyMappingX11::get_keycode((ulong)local_2d8);
      }
      iVar13 = KeyMappingX11::get_scancode(*(uint *)(param_3 + 0x54));
      local_2c0 = 0;
      if (iVar12 - 0x61U < 0x1a) {
        iVar12 = iVar12 + -0x20;
      }
      String::parse_utf8((char *)&local_2c0,(int)local_330,SUB41(iVar9,0));
      for (lVar14 = 0;
          ((local_2c0 != 0 && (iVar9 = (int)*(undefined8 *)(local_2c0 + -8), iVar9 != 0)) &&
          ((int)lVar14 < iVar9 + -1)); lVar14 = lVar14 + 1) {
        local_2b8 = (Object *)0x0;
        Ref<InputEventKey>::instantiate<>((Ref<InputEventKey> *)&local_2b8);
        pOVar18 = local_2b8;
        if (iVar13 == 0) {
          if (iVar12 != 0) goto LAB_0011bd08;
          if (local_2c0 == 0) {
            if (lVar14 == 0) goto LAB_0011c038;
LAB_0011c08f:
            lVar23 = 0;
            goto LAB_0011bbfd;
          }
          lVar23 = *(long *)(local_2c0 + -8);
          if (lVar14 != lVar23) {
            if (lVar23 <= lVar14) goto LAB_0011bbfd;
            if (*(int *)(local_2c0 + lVar14 * 4) != 0) goto LAB_0011bd08;
          }
LAB_0011c038:
          Ref<InputEventKey>::unref((Ref<InputEventKey> *)&local_2b8);
        }
        else {
          if (iVar12 == 0) {
            iVar12 = iVar13;
          }
LAB_0011bd08:
          local_2b0 = (Object *)0x0;
          if ((local_2b8 == (Object *)0x0) ||
             (pOVar15 = (Object *)
                        __dynamic_cast(local_2b8,&Object::typeinfo,
                                       &InputEventWithModifiers::typeinfo), pOVar15 == (Object *)0x0
             )) {
LAB_0011bd65:
            _get_key_modifier_state(pDVar21,*(undefined4 *)(param_3 + 0x50),&local_2b0);
          }
          else {
            local_2b0 = pOVar15;
            cVar5 = RefCounted::reference();
            if (cVar5 == '\0') {
              local_2b0 = (Object *)0x0;
              goto LAB_0011bd65;
            }
            _get_key_modifier_state(pDVar21,*(undefined4 *)(param_3 + 0x50),&local_2b0);
            cVar5 = RefCounted::unreference();
            if ((cVar5 != '\0') && (cVar5 = predelete_handler(pOVar15), cVar5 != '\0')) {
              (**(code **)(*(long *)pOVar15 + 0x140))(pOVar15);
              Memory::free_static(pOVar15,false);
            }
          }
          InputEventFromWindow::set_window_id((long)pOVar18);
          bVar7 = SUB81(pOVar18,0);
          InputEventKey::set_pressed(bVar7);
          InputEventKey::set_keycode(pOVar18,iVar12);
          InputEventKey::set_physical_keycode(pOVar18,iVar13);
          if ((local_2c8 == (Object *)0x0) || (lVar23 = *(long *)(local_2c8 + -8), (uint)lVar23 < 2)
             ) {
            InputEventKey::set_key_label(pOVar18,iVar12);
          }
          else {
            if (lVar23 < 1) goto LAB_0011bbe0;
            uVar8 = fix_key_label(*(undefined4 *)local_2c8,iVar12);
            InputEventKey::set_key_label(pOVar18,uVar8);
          }
          if (iVar10 == 2) {
            if (local_2c0 == 0) {
              if (lVar14 != 0) goto LAB_0011c08f;
LAB_0011c0ec:
              wVar20 = L'\0';
            }
            else {
              lVar23 = *(long *)(local_2c0 + -8);
              if (lVar14 == lVar23) goto LAB_0011c0ec;
              if (lVar23 <= lVar14) goto LAB_0011bbfd;
              wVar20 = *(wchar32 *)(local_2c0 + lVar14 * 4);
            }
            fix_unicode(wVar20);
            InputEventKey::set_unicode((wchar32)pOVar18);
          }
          InputEventKey::set_echo(bVar7);
          iVar9 = InputEventKey::get_keycode();
          if (iVar9 == 0x400003) {
            InputEventKey::set_keycode(pOVar18,0x400002);
            InputEventKey::set_physical_keycode(pOVar18,0x400002);
            InputEventWithModifiers::set_shift_pressed(bVar7);
            pRVar17 = (Ref *)Input::get_singleton();
          }
          else {
            pRVar17 = (Ref *)Input::get_singleton();
          }
          local_2b0 = (Object *)0x0;
          pOVar15 = (Object *)__dynamic_cast(pOVar18,&Object::typeinfo,&InputEvent::typeinfo);
          if ((pOVar15 != (Object *)0x0) &&
             (local_2b0 = pOVar15, cVar5 = RefCounted::reference(), cVar5 == '\0')) {
            local_2b0 = (Object *)0x0;
          }
          Input::parse_input_event(pRVar17);
          Ref<InputEvent>::unref((Ref<InputEvent> *)&local_2b0);
          cVar5 = RefCounted::unreference();
          if ((cVar5 != '\0') && (cVar5 = predelete_handler(pOVar18), cVar5 != '\0')) {
            (**(code **)(*(long *)pOVar18 + 0x140))(pOVar18);
            Memory::free_static(pOVar18,false);
          }
        }
      }
      Memory::free_static(local_330,false);
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_2c0);
    }
  }
  else {
LAB_0011b163:
    cVar5 = KeyMappingX11::is_sym_numpad(local_2d0);
    if (((cVar5 == '\0') && (cVar5 = KeyMappingX11::is_sym_numpad((ulong)local_2d8), cVar5 == '\0'))
       || (iVar9 = KeyMappingX11::get_keycode(local_2d0), iVar9 == 0)) {
      iVar9 = KeyMappingX11::get_keycode((ulong)local_2d8);
    }
    iVar10 = KeyMappingX11::get_scancode(*(uint *)(param_3 + 0x54));
    uVar8 = KeyMappingX11::get_location(*(uint *)(param_3 + 0x54));
    if (local_2d0 == 0) {
      iVar12 = *(int *)param_3;
      if (iVar10 == 0) {
        if (iVar9 == 0) goto LAB_0011b40c;
        local_2fc = L'\0';
      }
      else {
        local_2fc = L'\0';
LAB_0011b1db:
        if (iVar9 == 0) {
          iVar9 = iVar10;
        }
      }
LAB_0011b1e4:
      local_2b8 = (Object *)0x0;
      Ref<InputEventKey>::instantiate<>((Ref<InputEventKey> *)&local_2b8);
      pOVar18 = local_2b8;
      uVar4 = local_2ec[0];
      InputEventFromWindow::set_window_id((long)local_2b8);
      local_2b0 = (Object *)0x0;
      if ((pOVar18 == (Object *)0x0) ||
         (pOVar15 = (Object *)
                    __dynamic_cast(pOVar18,&Object::typeinfo,&InputEventWithModifiers::typeinfo),
         pOVar15 == (Object *)0x0)) {
LAB_0011b273:
        _get_key_modifier_state(pDVar21,*(undefined4 *)(param_3 + 0x50),&local_2b0);
      }
      else {
        local_2b0 = pOVar15;
        cVar5 = RefCounted::reference();
        if (cVar5 == '\0') {
          local_2b0 = (Object *)0x0;
          goto LAB_0011b273;
        }
        _get_key_modifier_state(pDVar21,*(undefined4 *)(param_3 + 0x50),&local_2b0);
        cVar5 = RefCounted::unreference();
        if ((cVar5 != '\0') && (cVar5 = predelete_handler(pOVar15), cVar5 != '\0')) {
          (**(code **)(*(long *)pOVar15 + 0x140))(pOVar15);
          Memory::free_static(pOVar15,false);
        }
      }
      local_330 = &local_2b0;
      if ((*(int *)param_3 != 2) && (*piVar22 + 1U < *param_4)) {
        uVar1 = *(ulong *)(param_3 + 0x38);
        pLVar24 = (LocalVector *)((ulong)(*piVar22 + 1U) * 0xc0 + *(long *)(param_4 + 2));
        uVar2 = *(ulong *)(pLVar24 + 0x38);
        uVar19 = uVar2 - uVar1;
        if (uVar2 < uVar1) {
          uVar19 = uVar1 - uVar2;
        }
        if (((*(int *)pLVar24 == 2) && (uVar19 < 5)) &&
           ((*_XLookupString_dylibloader_wrapper_xlib)(pLVar24,local_248,0x100,local_330,0),
           local_2b0 == local_2d8)) {
          *piVar22 = *piVar22 + 1;
          _handle_key_event(param_1,(XKeyEvent *)(ulong)uVar4,pLVar24,param_4,param_5);
          Ref<InputEventKey>::unref((Ref<InputEventKey> *)&local_2b8);
          goto LAB_0011b40c;
        }
      }
      bVar7 = SUB81(pOVar18,0);
      InputEventKey::set_pressed(bVar7);
      if (iVar9 - 0x61U < 0x1a) {
        iVar9 = iVar9 + -0x20;
      }
      InputEventKey::set_keycode(pOVar18,iVar9);
      InputEventKey::set_physical_keycode(pOVar18,iVar10);
      if ((local_2c8 == (Object *)0x0) || (lVar23 = *(long *)(local_2c8 + -8), (uint)lVar23 < 2)) {
        InputEventKey::set_key_label(pOVar18,iVar9);
      }
      else {
        if (lVar23 < 1) {
LAB_0011bbe0:
          lVar14 = 0;
LAB_0011bbfd:
          _err_print_index_error
                    ("get","./core/templates/cowdata.h",0xdb,lVar14,lVar23,"p_index","size()","",
                     false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar3 = (code *)invalidInstructionException();
          (*pcVar3)();
        }
        uVar11 = fix_key_label(*(undefined4 *)local_2c8,iVar9);
        InputEventKey::set_key_label(pOVar18,uVar11);
      }
      if (iVar12 == 2) {
        fix_unicode(local_2fc);
        InputEventKey::set_unicode((wchar32)pOVar18);
      }
      InputEventKey::set_location(pOVar18,uVar8);
      InputEventKey::set_echo(bVar7);
      iVar9 = InputEventKey::get_keycode();
      if (iVar9 == 0x400003) {
        InputEventKey::set_keycode(pOVar18,0x400002);
        InputEventKey::set_physical_keycode(pOVar18,0x400002);
        InputEventWithModifiers::set_shift_pressed(bVar7);
      }
      cVar5 = InputEvent::is_pressed();
      if (cVar5 == '\0') {
        iVar9 = InputEventKey::get_keycode();
        if (iVar9 == 0x400015) {
          InputEventWithModifiers::set_shift_pressed(bVar7);
        }
        else {
          iVar9 = InputEventKey::get_keycode();
          if (iVar9 == 0x400016) {
            InputEventWithModifiers::set_ctrl_pressed(bVar7);
          }
          else {
            iVar9 = InputEventKey::get_keycode();
            if (iVar9 == 0x400018) {
              InputEventWithModifiers::set_alt_pressed(bVar7);
            }
            else {
              iVar9 = InputEventKey::get_keycode();
              if (iVar9 == 0x400017) {
                InputEventWithModifiers::set_meta_pressed(bVar7);
              }
            }
          }
        }
      }
      uVar16 = Input::get_singleton();
      uVar8 = InputEventKey::get_keycode();
      cVar5 = Input::is_key_pressed(uVar16,uVar8);
      cVar6 = InputEvent::is_pressed();
      if ((cVar6 == '\0') || (cVar5 == '\0')) {
        pRVar17 = (Ref *)Input::get_singleton();
      }
      else {
        InputEventKey::set_echo(bVar7);
        pRVar17 = (Ref *)Input::get_singleton();
      }
      local_2b0 = (Object *)0x0;
      pOVar15 = (Object *)__dynamic_cast(pOVar18,&Object::typeinfo,&InputEvent::typeinfo,0);
      if ((pOVar15 != (Object *)0x0) &&
         (local_2b0 = pOVar15, cVar5 = RefCounted::reference(), cVar5 == '\0')) {
        local_2b0 = (Object *)0x0;
      }
      Input::parse_input_event(pRVar17);
      if (((local_2b0 != (Object *)0x0) &&
          (cVar5 = RefCounted::unreference(), pOVar15 = local_2b0, cVar5 != '\0')) &&
         (cVar5 = predelete_handler(local_2b0), cVar5 != '\0')) {
        (**(code **)(*(long *)pOVar15 + 0x140))(pOVar15);
        Memory::free_static(pOVar15,false);
      }
      cVar5 = RefCounted::unreference();
      if ((cVar5 != '\0') && (cVar5 = predelete_handler(pOVar18), cVar5 != '\0')) {
        (**(code **)(*(long *)pOVar18 + 0x140))(pOVar18);
        Memory::free_static(pOVar18,false);
      }
    }
    else {
      local_2fc = KeyMappingX11::get_unicode_from_keysym(local_2d0);
      iVar12 = *(int *)param_3;
      if (iVar10 != 0) goto LAB_0011b1db;
      if ((iVar9 != 0) || (local_2fc != L'\0')) goto LAB_0011b1e4;
    }
  }
LAB_0011b40c:
  CowData<char32_t>::_unref((CowData<char32_t> *)&local_2c8);
LAB_0011b419:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::process_events() */

void __thiscall DisplayServerX11::process_events(DisplayServerX11 *this)

{
  pthread_mutex_t *__mutex;
  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
  *pHVar1;
  Object *pOVar2;
  undefined8 *puVar3;
  uint *puVar4;
  float fVar5;
  DisplayServerX11 DVar6;
  int iVar7;
  byte *pbVar8;
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  bool bVar36;
  char cVar37;
  undefined1 uVar38;
  char cVar39;
  int iVar40;
  uint uVar41;
  undefined4 uVar42;
  uint uVar43;
  uint uVar44;
  undefined8 uVar45;
  Resource *this_00;
  Ref *pRVar46;
  pthread_mutex_t *ppVar47;
  long lVar48;
  int *piVar49;
  pthread_mutex_t *ppVar50;
  undefined8 *puVar51;
  long lVar52;
  long *plVar53;
  Vector2 *pVVar54;
  code *pcVar55;
  ulong uVar56;
  ulong uVar57;
  ulong *puVar58;
  undefined8 uVar59;
  byte bVar60;
  ulong uVar61;
  uint uVar62;
  long lVar63;
  Vector2 *pVVar64;
  uint uVar65;
  uint *puVar66;
  long *plVar67;
  double *pdVar68;
  LocalVector *pLVar69;
  uint uVar70;
  CowData<char32_t> *this_01;
  long in_FS_OFFSET;
  byte bVar71;
  float fVar72;
  double dVar73;
  undefined8 extraout_XMM0_Qa;
  double extraout_XMM0_Qa_00;
  double extraout_XMM0_Qa_01;
  double extraout_XMM0_Qa_02;
  undefined8 extraout_XMM1_Qa;
  double dVar74;
  Ref<InputEvent> *local_210;
  Ref<InputEvent> *local_208;
  Vector2i *local_1d0;
  ulong local_1c8;
  uint local_1b8;
  uint local_1b4;
  Callable local_1b0 [8];
  ulong local_1a8;
  undefined4 local_1a0 [2];
  uint local_198;
  undefined4 uStack_194;
  undefined4 uStack_190;
  undefined8 local_188;
  void *local_180;
  Vector2 *local_178;
  long local_170;
  undefined8 local_168;
  undefined1 local_160;
  int local_15c;
  int local_10c;
  undefined8 local_d8;
  Variant *local_d0;
  undefined8 local_c8 [4];
  float local_a8;
  float fStack_a4;
  undefined4 uStack_a0;
  undefined1 auStack_9c [12];
  undefined8 local_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined4 local_78;
  undefined1 local_70 [16];
  undefined1 local_60 [16];
  undefined8 local_50;
  long local_40;
  
  bVar71 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (_GLOBAL_OFFSET_TABLE_ != (undefined *)0x0) {
    Thread::caller_id();
  }
  if (*(long *)(in_FS_OFFSET + lRam000000000011c1c1) != 1) {
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      _err_print_error("process_events","platform/linuxbsd/x11/display_server_x11.cpp",0x11b2,
                       "Condition \"!Thread::is_main_thread()\" is true.",0,0);
      return;
    }
    goto LAB_0011f49a;
  }
  iVar40 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar40 != 0) {
LAB_0011f2ea:
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar40);
  }
  cVar37 = mouse_process_popups(this);
  if (this[0x3bc] != (DisplayServerX11)0x0) {
    for (puVar51 = *(undefined8 **)(this + 0x308); puVar51 != (undefined8 *)0x0;
        puVar51 = (undefined8 *)*puVar51) {
      if (*(char *)(puVar51 + 0x22) != '\0') {
        OS::get_singleton();
        uVar45 = OS::get_ticks_msec();
        *(undefined8 *)(this + 0x3c0) = uVar45;
        goto LAB_0011c239;
      }
    }
    OS::get_singleton();
    lVar52 = OS::get_ticks_msec();
    if (0xfa < (ulong)(lVar52 - *(long *)(this + 0x3c0))) {
      plVar53 = (long *)OS::get_singleton();
      lVar52 = (**(code **)(*plVar53 + 0x1d0))(plVar53);
      if (lVar52 != 0) {
        plVar53 = (long *)OS::get_singleton();
        iVar40 = (**(code **)(*plVar53 + 0x1d0))(plVar53);
        Object::notification(iVar40,true);
      }
      this[0x3bc] = (DisplayServerX11)0x0;
    }
  }
LAB_0011c239:
  this[0x568] = (DisplayServerX11)0x0;
  *(undefined8 *)(this + 0x510) = 0;
  uVar41 = *(int *)(this + 0x550) - 2;
  *(undefined8 *)(this + 0x51c) = 0;
  this[0x518] = (DisplayServerX11)0x0;
  __mutex = (pthread_mutex_t *)(this + 0x700);
  local_188 = 0;
  local_180 = (void *)0x0;
  iVar40 = pthread_mutex_lock(__mutex);
  if (iVar40 != 0) goto LAB_0011f2ea;
  uVar65 = *(uint *)(this + 0x740);
  if (uVar65 < (uint)local_188) {
    local_188 = CONCAT44(local_188._4_4_,uVar65);
LAB_0011d267:
    if (uVar65 != 0) goto LAB_0011c2d3;
  }
  else {
    if (uVar65 <= (uint)local_188) goto LAB_0011d267;
    if (local_188._4_4_ < uVar65) {
      uVar62 = uVar65 - 1 >> 1 | uVar65 - 1;
      uVar62 = uVar62 | uVar62 >> 2;
      uVar62 = uVar62 >> 4 | uVar62;
      uVar62 = uVar62 | uVar62 >> 8;
      local_188._4_4_ = (uVar62 | uVar62 >> 0x10) + 1;
      local_180 = (void *)Memory::realloc_static(local_180,(ulong)local_188._4_4_ * 0xc0,false);
      if (local_180 == (void *)0x0) {
        _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                         "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar55 = (code *)invalidInstructionException();
        (*pcVar55)();
      }
      local_188 = CONCAT44(local_188._4_4_,uVar65);
      uVar65 = *(uint *)(this + 0x740);
      goto LAB_0011d267;
    }
    local_188 = CONCAT44(local_188._4_4_,uVar65);
LAB_0011c2d3:
    lVar52 = 0;
    uVar65 = 0;
    do {
      lVar48 = *(long *)(this + 0x748);
      uVar65 = uVar65 + 1;
      uVar45 = ((undefined8 *)(lVar48 + lVar52))[1];
      *(undefined8 *)((long)local_180 + lVar52) = *(undefined8 *)(lVar48 + lVar52);
      ((undefined8 *)((long)local_180 + lVar52))[1] = uVar45;
      puVar51 = (undefined8 *)(lVar48 + 0x10 + lVar52);
      uVar45 = puVar51[1];
      puVar3 = (undefined8 *)((long)local_180 + lVar52 + 0x10);
      *puVar3 = *puVar51;
      puVar3[1] = uVar45;
      puVar51 = (undefined8 *)(lVar48 + 0x20 + lVar52);
      uVar45 = puVar51[1];
      puVar3 = (undefined8 *)((long)local_180 + lVar52 + 0x20);
      *puVar3 = *puVar51;
      puVar3[1] = uVar45;
      puVar51 = (undefined8 *)(lVar48 + 0x30 + lVar52);
      uVar45 = puVar51[1];
      puVar3 = (undefined8 *)((long)local_180 + lVar52 + 0x30);
      *puVar3 = *puVar51;
      puVar3[1] = uVar45;
      puVar51 = (undefined8 *)(lVar48 + 0x40 + lVar52);
      uVar45 = puVar51[1];
      puVar3 = (undefined8 *)((long)local_180 + lVar52 + 0x40);
      *puVar3 = *puVar51;
      puVar3[1] = uVar45;
      *(undefined1 (*) [16])((long)local_180 + lVar52 + 0x50) =
           *(undefined1 (*) [16])(lVar48 + 0x50 + lVar52);
      *(undefined1 (*) [16])((long)local_180 + lVar52 + 0x60) =
           *(undefined1 (*) [16])(lVar48 + 0x60 + lVar52);
      puVar51 = (undefined8 *)(lVar48 + 0x70 + lVar52);
      uVar45 = puVar51[1];
      puVar3 = (undefined8 *)((long)local_180 + lVar52 + 0x70);
      *puVar3 = *puVar51;
      puVar3[1] = uVar45;
      puVar51 = (undefined8 *)(lVar48 + 0x80 + lVar52);
      uVar45 = puVar51[1];
      puVar3 = (undefined8 *)((long)local_180 + lVar52 + 0x80);
      *puVar3 = *puVar51;
      puVar3[1] = uVar45;
      *(undefined1 (*) [16])((long)local_180 + lVar52 + 0x90) =
           *(undefined1 (*) [16])(lVar48 + 0x90 + lVar52);
      *(undefined1 (*) [16])((long)local_180 + lVar52 + 0xa0) =
           *(undefined1 (*) [16])(lVar48 + 0xa0 + lVar52);
      puVar51 = (undefined8 *)(lVar48 + 0xb0 + lVar52);
      uVar45 = puVar51[1];
      puVar3 = (undefined8 *)((long)local_180 + lVar52 + 0xb0);
      *puVar3 = *puVar51;
      puVar3[1] = uVar45;
      lVar52 = lVar52 + 0xc0;
    } while (uVar65 < *(uint *)(this + 0x740));
    if (*(uint *)(this + 0x740) != 0) {
      *(undefined4 *)(this + 0x740) = 0;
    }
  }
  _check_pending_events(this,(LocalVector *)&local_188);
  pthread_mutex_unlock(__mutex);
  local_1b8 = 0;
  if ((uint)local_188 != 0) {
    uVar45 = *(undefined8 *)(this + 0x360);
LAB_0011c3f8:
    plVar53 = *(long **)(this + 0x308);
    local_1b4 = 0;
    pLVar69 = (LocalVector *)((ulong)local_1b8 * 0xc0 + (long)local_180);
    if (plVar53 != (long *)0x0) {
      do {
        if (*(long *)(pLVar69 + 0x20) == plVar53[3]) {
          local_1b4 = *(uint *)(plVar53 + 2);
          break;
        }
        if (*(long *)(pLVar69 + 0x20) == plVar53[4]) {
          local_1b4 = *(uint *)(plVar53 + 2);
          bVar36 = true;
          goto LAB_0011c449;
        }
        plVar53 = (long *)*plVar53;
      } while (plVar53 != (long *)0x0);
    }
    bVar36 = false;
LAB_0011c449:
    iVar40 = (*_XGetEventData_dylibloader_wrapper_xlib)(uVar45,pLVar69);
    if (((iVar40 == 0) || (*(int *)pLVar69 != 0x23)) ||
       (*(int *)(pLVar69 + 0x20) != *(int *)(this + 0x3c8))) goto switchD_0011d2c1_caseD_0;
    lVar52 = *(long *)(pLVar69 + 0x30);
    iVar40 = *(int *)(lVar52 + 0x24);
    switch(iVar40) {
    case 1:
    case 0xb:
      _refresh_device_info(this);
      break;
    case 0x11:
      if ((!bVar36) && (cVar37 == '\0')) {
        uVar65 = *(uint *)(lVar52 + 0x34);
        pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib;
        if (0 < *(int *)(lVar52 + 0x40)) {
          pbVar8 = *(byte **)(lVar52 + 0x48);
          pdVar68 = *(double **)(lVar52 + 0x58);
          dVar73 = 0.0;
          bVar60 = *pbVar8;
          if ((bVar60 & 1) != 0) {
            dVar73 = *pdVar68;
            pdVar68 = pdVar68 + 1;
          }
          dVar74 = 0.0;
          if ((bVar60 & 2) != 0) {
            dVar74 = *pdVar68;
            pdVar68 = pdVar68 + 1;
          }
          if ((bVar60 & 4) != 0) {
            local_168 = (pthread_mutex_t *)((ulong)local_168._4_4_ << 0x20);
            cVar39 = HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                     ::_lookup_pos((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                    *)(this + 0x410),(int *)(ulong)uVar65,(uint *)&local_168);
            if ((cVar39 != '\0') &&
               (lVar48 = *(long *)(*(long *)(this + 0x418) + ((ulong)local_168 & 0xffffffff) * 8),
               lVar48 != 0)) {
              fVar72 = *(float *)(lVar48 + 0x18);
              fVar5 = *(float *)(lVar48 + 0x14);
              if ((fVar72 != 0.0) || (fVar5 != 0.0)) {
                dVar73 = *pdVar68;
                this[0x518] = (DisplayServerX11)0x1;
                *(double *)(this + 0x510) = (dVar73 - (double)fVar5) / (double)(fVar72 - fVar5);
                bVar60 = *pbVar8;
              }
            }
            pdVar68 = pdVar68 + 1;
            dVar73 = extraout_XMM0_Qa_02;
          }
          if ((bVar60 & 8) != 0) {
            local_168 = (pthread_mutex_t *)((ulong)local_168 & 0xffffffff00000000);
            cVar39 = HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                     ::_lookup_pos((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                    *)(this + 0x440),(int *)(ulong)uVar65,(uint *)&local_168);
            if ((cVar39 != '\0') &&
               (lVar48 = *(long *)(*(long *)(this + 0x448) + ((ulong)local_168 & 0xffffffff) * 8),
               lVar48 != 0)) {
              if ((*(float *)(lVar48 + 0x14) == 0.0) || (0.0 <= *pdVar68)) {
                if (*(float *)(lVar48 + 0x18) != 0.0) {
                  *(float *)(this + 0x51c) = (float)(*pdVar68 / (double)*(float *)(lVar48 + 0x18));
                  bVar60 = *pbVar8;
                }
              }
              else {
                *(float *)(this + 0x51c) =
                     (float)(*pdVar68 / (double)(float)((uint)*(float *)(lVar48 + 0x14) ^ __LC435));
                bVar60 = *pbVar8;
              }
            }
            pdVar68 = pdVar68 + 1;
            dVar73 = extraout_XMM0_Qa_01;
          }
          if ((bVar60 & 0x10) != 0) {
            local_168 = (pthread_mutex_t *)((ulong)local_168 & 0xffffffff00000000);
            cVar39 = HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                     ::_lookup_pos((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                    *)(this + 0x470),(int *)(ulong)uVar65,(uint *)&local_168);
            dVar73 = extraout_XMM0_Qa_00;
            if ((cVar39 != '\0') &&
               (lVar48 = *(long *)(*(long *)(this + 0x478) + ((ulong)local_168 & 0xffffffff) * 8),
               lVar48 != 0)) {
              if ((*(float *)(lVar48 + 0x14) == 0.0) || (0.0 <= *pdVar68)) {
                if (*(float *)(lVar48 + 0x18) != 0.0) {
                  *(float *)(this + 0x520) = (float)(*pdVar68 / (double)*(float *)(lVar48 + 0x18));
                }
              }
              else {
                *(float *)(this + 0x520) =
                     (float)(*pdVar68 / (double)(float)((uint)*(float *)(lVar48 + 0x14) ^ __LC435));
              }
            }
          }
          lVar48 = *(long *)(this + 0x4a8);
          if ((lVar48 != 0) && (*(int *)(this + 0x4cc) != 0)) {
            uVar57 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x4c8) * 8);
            uVar62 = (uVar65 >> 0x10 ^ uVar65) * -0x7a143595;
            uVar62 = (uVar62 ^ uVar62 >> 0xd) * -0x3d4d51cb;
            local_208._0_4_ = uVar62 ^ uVar62 >> 0x10;
            if (uVar62 == uVar62 >> 0x10) {
              local_208._0_4_ = 1;
              uVar56 = uVar57;
            }
            else {
              uVar56 = (uint)local_208 * uVar57;
            }
            uVar61 = CONCAT44(0,*(uint *)(hash_table_size_primes +
                                         (ulong)*(uint *)(this + 0x4c8) * 4));
            auVar9._8_8_ = 0;
            auVar9._0_8_ = uVar61;
            auVar22._8_8_ = 0;
            auVar22._0_8_ = uVar56;
            lVar63 = SUB168(auVar9 * auVar22,8);
            uVar62 = *(uint *)(*(long *)(this + 0x4b0) + lVar63 * 4);
            uVar43 = SUB164(auVar9 * auVar22,8);
            if (uVar62 != 0) {
              uVar44 = 0;
              while (((uint)local_208 != uVar62 ||
                     (uVar65 != *(uint *)(*(long *)(lVar48 + lVar63 * 8) + 0x10)))) {
                uVar44 = uVar44 + 1;
                auVar10._8_8_ = 0;
                auVar10._0_8_ = (uVar43 + 1) * uVar57;
                auVar23._8_8_ = 0;
                auVar23._0_8_ = uVar61;
                lVar63 = SUB168(auVar10 * auVar23,8);
                uVar62 = *(uint *)(*(long *)(this + 0x4b0) + lVar63 * 4);
                uVar43 = SUB164(auVar10 * auVar23,8);
                if ((uVar62 == 0) ||
                   (auVar11._8_8_ = 0, auVar11._0_8_ = uVar62 * uVar57, auVar24._8_8_ = 0,
                   auVar24._0_8_ = uVar61, auVar12._8_8_ = 0,
                   auVar12._0_8_ =
                        ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x4c8) * 4) +
                         uVar43) - SUB164(auVar11 * auVar24,8)) * uVar57, auVar25._8_8_ = 0,
                   auVar25._0_8_ = uVar61, SUB164(auVar12 * auVar25,8) < uVar44)) goto LAB_0011dcf8;
              }
              lVar48 = *(long *)(lVar48 + (ulong)uVar43 * 8);
              if (lVar48 != 0) {
                this[0x519] = *(DisplayServerX11 *)(lVar48 + 0x14);
              }
            }
          }
LAB_0011dcf8:
          lVar52 = *(long *)(lVar52 + 0x28);
          if (((lVar52 != *(long *)(this + 0x548)) || ((double)*(float *)(this + 0x52c) != dVar73))
             || (pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib,
                (double)*(float *)(this + 0x530) != dVar74)) {
            uVar59 = *(undefined8 *)(this + 0x534);
            uVar45 = *(undefined8 *)(this + 0x534);
            local_168 = (pthread_mutex_t *)((ulong)local_168 & 0xffffffff00000000);
            *(ulong *)(this + 0x534) = CONCAT44((float)dVar74,(float)dVar73);
            *(undefined8 *)(this + 0x53c) = uVar59;
            cVar39 = HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                     ::_lookup_pos((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                    *)(this + 0x3e0),(int *)(ulong)uVar65,(uint *)&local_168);
            uVar59 = extraout_XMM1_Qa;
            if ((cVar39 != '\0') &&
               (lVar48 = *(long *)(*(long *)(this + 1000) + ((ulong)local_168 & 0xffffffff) * 8),
               lVar48 != 0)) {
              uVar59 = *(undefined8 *)(lVar48 + 0x14);
              uVar59 = CONCAT44((float)((ulong)*(undefined8 *)(this + 0x52c) >> 0x20) +
                                (float)((ulong)uVar59 >> 0x20) *
                                ((float)((ulong)extraout_XMM1_Qa >> 0x20) -
                                (float)((ulong)uVar45 >> 0x20)),
                                (float)*(undefined8 *)(this + 0x52c) +
                                (float)uVar59 * ((float)extraout_XMM1_Qa - (float)uVar45));
            }
            *(long *)(this + 0x548) = lVar52;
            pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib;
            *(undefined8 *)(this + 0x52c) = uVar59;
          }
        }
        goto LAB_0011dddf;
      }
      (*_XFreeEventData_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
      switch(*(undefined4 *)pLVar69) {
      case 2:
      case 3:
        goto switchD_0011c487_caseD_2;
      case 7:
        goto switchD_0011c487_caseD_7;
      case 8:
        goto switchD_0011c487_caseD_8;
      case 9:
        goto switchD_0011c487_caseD_9;
      case 10:
        goto switchD_0011c487_caseD_a;
      case 0xc:
        goto switchD_0011c487_caseD_c;
      case 0xe:
        goto switchD_0011c487_caseD_e;
      case 0xf:
        goto switchD_0011c487_caseD_f;
      case 0x13:
        goto switchD_0011c487_caseD_13;
      case 0x16:
        goto switchD_0011c487_caseD_16;
      case 0x1f:
        goto switchD_0011c487_caseD_1f;
      case 0x21:
        goto switchD_0011c487_caseD_21;
      }
      goto switchD_0011c487_caseD_0;
    case 0x12:
    case 0x14:
      if ((bVar36) || (cVar37 != '\0')) break;
      uVar65 = *(uint *)(lVar52 + 0x38);
      local_178 = (Vector2 *)0x0;
      local_a8 = (float)*(double *)(lVar52 + 0x68);
      fStack_a4 = (float)*(double *)(lVar52 + 0x70);
      local_198 = uVar65;
      Ref<InputEventScreenTouch>::instantiate<>((Ref<InputEventScreenTouch> *)&local_178);
      pVVar64 = local_178;
      InputEventFromWindow::set_window_id((long)local_178);
      InputEventScreenTouch::set_index((int)pVVar64);
      InputEventScreenTouch::set_position(pVVar64);
      InputEventScreenTouch::set_pressed(SUB81(pVVar64,0));
      if (iVar40 == 0x12) {
        cVar39 = HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                 ::_lookup_pos((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                *)(this + 0x4e0),(int *)(ulong)uVar65,(uint *)&local_168);
        if (cVar39 != '\0') goto LAB_0011d986;
        puVar51 = (undefined8 *)
                  HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                  ::operator[]((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                *)(this + 0x4e0),(int *)&local_198);
        iVar40 = *(int *)(this + 0x50c);
        *puVar51 = CONCAT44(fStack_a4,local_a8);
        if (iVar40 == 1) {
          *(ulong *)(this + 0x524) = CONCAT44(fStack_a4,local_a8);
        }
      }
      else {
        cVar39 = HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                 ::_lookup_pos((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                *)(this + 0x4e0),(int *)(ulong)uVar65,(uint *)&local_168);
        if (cVar39 == '\0') {
LAB_0011d986:
          Ref<InputEventScreenTouch>::unref((Ref<InputEventScreenTouch> *)&local_178);
          break;
        }
        lVar52 = *(long *)(this + 0x4e8);
        if ((lVar52 != 0) && (*(int *)(this + 0x50c) != 0)) {
          lVar48 = *(long *)(this + 0x4f0);
          uVar62 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x508) * 4);
          uVar57 = CONCAT44(0,uVar62);
          lVar63 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x508) * 8);
          uVar43 = (uVar65 >> 0x10 ^ uVar65) * -0x7a143595;
          uVar44 = (uVar43 ^ uVar43 >> 0xd) * -0x3d4d51cb;
          uVar43 = 1;
          if (uVar44 != uVar44 >> 0x10) {
            uVar43 = uVar44 ^ uVar44 >> 0x10;
          }
          auVar13._8_8_ = 0;
          auVar13._0_8_ = (ulong)uVar43 * lVar63;
          auVar26._8_8_ = 0;
          auVar26._0_8_ = uVar57;
          uVar56 = SUB168(auVar13 * auVar26,8);
          uVar44 = *(uint *)(lVar48 + uVar56 * 4);
          if (uVar44 != 0) {
            uVar70 = 0;
            do {
              uVar61 = uVar56 & 0xffffffff;
              auVar16._8_8_ = 0;
              auVar16._0_8_ = (ulong)((int)uVar56 + 1) * lVar63;
              auVar29._8_8_ = 0;
              auVar29._0_8_ = uVar57;
              local_1c8 = SUB168(auVar16 * auVar29,8);
              iVar40 = SUB164(auVar16 * auVar29,8);
              if ((uVar43 == uVar44) && (uVar65 == *(uint *)(*(long *)(lVar52 + uVar56 * 8) + 0x10))
                 ) {
                puVar66 = (uint *)(lVar48 + local_1c8 * 4);
                uVar65 = *puVar66;
                if ((uVar65 == 0) ||
                   (auVar17._8_8_ = 0, auVar17._0_8_ = (ulong)uVar65 * lVar63, auVar30._8_8_ = 0,
                   auVar30._0_8_ = uVar57, auVar18._8_8_ = 0,
                   auVar18._0_8_ = (ulong)((iVar40 + uVar62) - SUB164(auVar17 * auVar30,8)) * lVar63
                   , auVar31._8_8_ = 0, auVar31._0_8_ = uVar57, uVar56 = uVar61,
                   SUB164(auVar18 * auVar31,8) == 0)) goto LAB_0011f19e;
                goto LAB_0011f147;
              }
              uVar70 = uVar70 + 1;
              uVar44 = *(uint *)(lVar48 + local_1c8 * 4);
            } while ((uVar44 != 0) &&
                    (auVar14._8_8_ = 0, auVar14._0_8_ = (ulong)uVar44 * lVar63, auVar27._8_8_ = 0,
                    auVar27._0_8_ = uVar57, auVar15._8_8_ = 0,
                    auVar15._0_8_ =
                         (ulong)((uVar62 + iVar40) - SUB164(auVar14 * auVar27,8)) * lVar63,
                    auVar28._8_8_ = 0, auVar28._0_8_ = uVar57, uVar56 = local_1c8,
                    uVar70 <= SUB164(auVar15 * auVar28,8)));
          }
        }
      }
      goto LAB_0011e717;
    case 0x13:
      if ((!bVar36) && (cVar37 == '\0')) {
        local_c8[0] = CONCAT44((float)*(double *)(lVar52 + 0x70),(float)*(double *)(lVar52 + 0x68));
        local_168 = (pthread_mutex_t *)((ulong)local_168._4_4_ << 0x20);
        cVar39 = HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                 ::_lookup_pos((HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
                                *)(this + 0x4e0),(int *)(ulong)*(uint *)(lVar52 + 0x38),
                               (uint *)&local_168);
        if ((cVar39 != '\0') &&
           (lVar52 = *(long *)(*(long *)(this + 0x4e8) + ((ulong)local_168 & 0xffffffff) * 8),
           lVar52 != 0)) {
          if (((float)extraout_XMM0_Qa != *(float *)(lVar52 + 0x14)) ||
             (pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib,
             (float)((ulong)extraout_XMM0_Qa >> 0x20) != *(float *)(lVar52 + 0x18))) {
            local_198 = 0;
            uStack_194 = 0;
            Ref<InputEventScreenDrag>::instantiate<>((Ref<InputEventScreenDrag> *)&local_198);
            uVar65 = local_198;
            pVVar64 = (Vector2 *)CONCAT44(uStack_194,local_198);
            InputEventFromWindow::set_window_id((long)pVVar64);
            InputEventScreenDrag::set_index(uVar65);
            InputEventScreenDrag::set_position(pVVar64);
            local_a8 = (float)local_c8[0] - (float)*(undefined8 *)(lVar52 + 0x14);
            fStack_a4 = (float)((ulong)local_c8[0] >> 0x20) -
                        (float)((ulong)*(undefined8 *)(lVar52 + 0x14) >> 0x20);
            InputEventScreenDrag::set_relative(pVVar64);
            uVar45 = InputEventScreenDrag::get_relative();
            local_a8 = (float)uVar45;
            fStack_a4 = (float)((ulong)uVar45 >> 0x20);
            InputEventScreenDrag::set_relative_screen_position(pVVar64);
            pRVar46 = (Ref *)Input::get_singleton();
            local_178 = (Vector2 *)0x0;
            pVVar54 = (Vector2 *)__dynamic_cast(pVVar64,&Object::typeinfo,&InputEvent::typeinfo,0);
            if (pVVar54 != (Vector2 *)0x0) {
              local_168 = (pthread_mutex_t *)0x0;
              local_178 = pVVar54;
              cVar39 = RefCounted::reference();
              if (cVar39 == '\0') {
                local_178 = (Vector2 *)0x0;
              }
              Ref<InputEvent>::unref((Ref<InputEvent> *)&local_168);
            }
            Input::parse_input_event(pRVar46);
            Ref<InputEvent>::unref((Ref<InputEvent> *)&local_178);
            *(undefined8 *)(lVar52 + 0x14) = local_c8[0];
            cVar39 = RefCounted::unreference();
            pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib;
            if ((cVar39 != '\0') &&
               (cVar39 = predelete_handler((Object *)pVVar64),
               pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib, cVar39 != '\0')) {
              (**(code **)(*(long *)pVVar64 + 0x140))(pVVar64);
              Memory::free_static(pVVar64,false);
              pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib;
            }
          }
          goto LAB_0011dddf;
        }
      }
    }
switchD_0011d2c1_caseD_0:
    (*_XFreeEventData_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
    switch(*(undefined4 *)pLVar69) {
    case 2:
    case 3:
switchD_0011c487_caseD_2:
      if (cVar37 != '\0') break;
      goto switchD_0011de06_caseD_2;
    case 4:
    case 5:
      if ((bVar36) || (cVar37 != '\0')) break;
      goto switchD_0011de06_caseD_4;
    case 6:
      if (bVar36 || cVar37 != '\0') break;
      goto switchD_0011de06_caseD_6;
    case 7:
      goto switchD_0011c487_caseD_7;
    case 8:
      goto switchD_0011c487_caseD_8;
    case 9:
switchD_0011c487_caseD_9:
      if (bVar36) break;
      goto switchD_0011de06_caseD_9;
    case 10:
      goto switchD_0011c487_caseD_a;
    case 0xc:
switchD_0011c487_caseD_c:
      if (bVar36) break;
      goto switchD_0011de06_caseD_c;
    case 0xe:
switchD_0011c487_caseD_e:
      if (bVar36) break;
      goto switchD_0011de06_caseD_e;
    case 0xf:
switchD_0011c487_caseD_f:
      if (bVar36) break;
      goto switchD_0011de06_caseD_f;
    case 0x13:
switchD_0011c487_caseD_13:
      if (bVar36) break;
      goto switchD_0011de06_caseD_13;
    case 0x16:
      goto switchD_0011c487_caseD_16;
    case 0x1f:
      goto switchD_0011c487_caseD_1f;
    case 0x21:
switchD_0011c487_caseD_21:
      if (bVar36) break;
      goto switchD_0011de06_caseD_21;
    }
    goto switchD_0011c487_caseD_0;
  }
  uVar45 = *(undefined8 *)(this + 0x360);
LAB_0011c73f:
  (*_XFlush_dylibloader_wrapper_xlib)(uVar45);
  pcVar55 = _XWarpPointer_dylibloader_wrapper_xlib;
  if (this[0x568] != (DisplayServerX11)0x0) {
    pHVar1 = (HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              *)(this + 0x2f0);
    local_168 = (pthread_mutex_t *)((ulong)local_168 & 0xffffffff00000000);
    lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[](pHVar1,(int *)&local_168);
    iVar40 = *(int *)(lVar52 + 0x4c);
    local_178 = (Vector2 *)((ulong)local_178 & 0xffffffff00000000);
    lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[](pHVar1,(int *)&local_178);
    iVar7 = *(int *)(lVar52 + 0x48);
    local_198 = 0;
    puVar51 = (undefined8 *)
              HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::operator[](pHVar1,(int *)&local_198);
    (*pcVar55)(*(undefined8 *)(this + 0x360),0,*puVar51,0,0,0,0,iVar7 / 2,iVar40 / 2);
  }
  if (*(long *)(this + 0x2c0) != 0) {
    FreeDesktopPortalDesktop::process_file_dialog_callbacks();
  }
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  Input::get_singleton();
  Input::flush_buffered_events();
  if (local_180 != (void *)0x0) {
    if ((uint)local_188 != 0) {
      local_188 = local_188 & 0xffffffff00000000;
    }
    Memory::free_static(local_180,false);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_0011f49a:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
  while (auVar19._8_8_ = 0, auVar19._0_8_ = (ulong)uVar65 * lVar63, auVar32._8_8_ = 0,
        auVar32._0_8_ = uVar57, auVar20._8_8_ = 0,
        auVar20._0_8_ =
             (ulong)((SUB164(auVar21 * auVar34,8) + uVar62) - SUB164(auVar19 * auVar32,8)) * lVar63,
        auVar33._8_8_ = 0, auVar33._0_8_ = uVar57, uVar56 = uVar61, SUB164(auVar20 * auVar33,8) != 0
        ) {
LAB_0011f147:
    puVar4 = (uint *)(lVar48 + uVar56 * 4);
    uVar61 = local_1c8 & 0xffffffff;
    *puVar66 = *puVar4;
    *puVar4 = uVar65;
    puVar51 = (undefined8 *)(lVar52 + uVar56 * 8);
    puVar3 = (undefined8 *)(lVar52 + local_1c8 * 8);
    uVar45 = *puVar3;
    *puVar3 = *puVar51;
    *puVar51 = uVar45;
    auVar21._8_8_ = 0;
    auVar21._0_8_ = (ulong)((int)local_1c8 + 1) * lVar63;
    auVar34._8_8_ = 0;
    auVar34._0_8_ = uVar57;
    local_1c8 = SUB168(auVar21 * auVar34,8);
    puVar66 = (uint *)(lVar48 + local_1c8 * 4);
    uVar65 = *puVar66;
    if (uVar65 == 0) break;
  }
LAB_0011f19e:
  *(undefined4 *)(lVar48 + uVar61 * 4) = 0;
  plVar53 = (long *)(lVar52 + uVar61 * 8);
  plVar67 = (long *)*plVar53;
  if (*(long **)(this + 0x4f8) == plVar67) {
    *(long *)(this + 0x4f8) = *plVar67;
    plVar67 = (long *)*plVar53;
  }
  if (plVar67 == *(long **)(this + 0x500)) {
    *(long *)(this + 0x500) = plVar67[1];
    plVar67 = (long *)*plVar53;
  }
  if ((long *)plVar67[1] != (long *)0x0) {
    *(long *)plVar67[1] = *plVar67;
    plVar67 = (long *)*plVar53;
  }
  if (*plVar67 != 0) {
    *(long *)(*plVar67 + 8) = plVar67[1];
    plVar67 = (long *)*plVar53;
  }
  Memory::free_static(plVar67,false);
  *(undefined8 *)(*(long *)(this + 0x4e8) + uVar61 * 8) = 0;
  *(int *)(this + 0x50c) = *(int *)(this + 0x50c) + -1;
LAB_0011e717:
  local_208 = (Ref<InputEvent> *)&local_168;
  pRVar46 = (Ref *)Input::get_singleton();
  local_168 = (pthread_mutex_t *)0x0;
  Ref<InputEvent>::operator=(local_208,pVVar64);
  Input::parse_input_event(pRVar46);
  Ref<InputEvent>::unref(local_208);
  Ref<InputEventScreenTouch>::unref((Ref<InputEventScreenTouch> *)&local_178);
  pcVar55 = _XFreeEventData_dylibloader_wrapper_xlib;
LAB_0011dddf:
  (*pcVar55)(*(undefined8 *)(this + 0x360));
  switch(*(undefined4 *)pLVar69) {
  case 2:
  case 3:
switchD_0011de06_caseD_2:
    *(undefined8 *)(this + 0x378) = *(undefined8 *)(pLVar69 + 0x38);
    _handle_key_event((int)this,(XKeyEvent *)(ulong)local_1b4,pLVar69,(uint *)&local_188,
                      SUB81(&local_1b8,0));
    uVar45 = *(undefined8 *)(this + 0x360);
    goto LAB_0011c727;
  case 4:
  case 5:
switchD_0011de06_caseD_4:
    *(undefined8 *)(this + 0x378) = *(undefined8 *)(pLVar69 + 0x38);
    if (*(int *)(this + 0x550) == 2) {
      *(undefined4 *)(pLVar69 + 0x40) = *(undefined4 *)(this + 0x398);
      *(undefined4 *)(pLVar69 + 0x44) = *(undefined4 *)(this + 0x39c);
    }
    this_00 = (Resource *)operator_new(0x280,"");
    Resource::Resource(this_00);
    this_00[0x254] = (Resource)0x0;
    *(undefined2 *)(this_00 + 0x244) = 0;
    *(code **)this_00 = InputEventMouseButton::get_button_index;
    *(undefined4 *)(this_00 + 0x240) = 0;
    *(undefined8 *)(this_00 + 0x248) = 0;
    *(undefined4 *)(this_00 + 0x250) = 0;
    *(undefined8 *)(this_00 + 600) = 0;
    *(undefined8 *)(this_00 + 0x260) = 0;
    *(undefined8 *)(this_00 + 0x268) = 0;
    *(undefined8 *)(this_00 + 0x270) = 0x3f800000;
    this_00[0x278] = (Resource)0x0;
    postinitialize_handler((Object *)this_00);
    cVar39 = RefCounted::init_ref();
    uVar65 = local_1b4;
    if (cVar39 == '\0') {
LAB_0011c572:
      InputEventFromWindow::set_window_id(0);
LAB_0011c588:
      local_168 = (pthread_mutex_t *)0x0;
      pVVar64 = (Vector2 *)0x0;
      _get_key_modifier_state(this,*(undefined4 *)(pLVar69 + 0x50),&local_168);
    }
    else {
      cVar39 = RefCounted::reference();
      if (cVar39 == '\0') {
        cVar39 = RefCounted::unreference();
        if ((cVar39 == '\0') || (cVar39 = predelete_handler((Object *)this_00), cVar39 == '\0'))
        goto LAB_0011c572;
        pVVar64 = (Vector2 *)0x0;
LAB_0011d494:
        (**(code **)(*(long *)this_00 + 0x140))(this_00);
        Memory::free_static(this_00,false);
        InputEventFromWindow::set_window_id((long)pVVar64);
        if (pVVar64 != (Vector2 *)0x0) goto LAB_0011d2fe;
        goto LAB_0011c588;
      }
      cVar39 = RefCounted::unreference();
      pVVar64 = (Vector2 *)this_00;
      if (cVar39 == '\0') {
        InputEventFromWindow::set_window_id((long)this_00);
      }
      else {
        cVar39 = predelete_handler((Object *)this_00);
        if (cVar39 != '\0') goto LAB_0011d494;
        InputEventFromWindow::set_window_id((long)this_00);
      }
LAB_0011d2fe:
      local_168 = (pthread_mutex_t *)0x0;
      ppVar50 = (pthread_mutex_t *)
                __dynamic_cast(pVVar64,&Object::typeinfo,&InputEventWithModifiers::typeinfo,0);
      ppVar47 = local_168;
      if (ppVar50 == (pthread_mutex_t *)0x0) {
        _get_key_modifier_state(this,*(undefined4 *)(pLVar69 + 0x50),&local_168);
        if (ppVar47 != (pthread_mutex_t *)0x0) goto LAB_0011e225;
      }
      else {
        local_168 = ppVar50;
        cVar39 = RefCounted::reference();
        if (cVar39 == '\0') {
          local_168 = (pthread_mutex_t *)0x0;
          _get_key_modifier_state(this,*(undefined4 *)(pLVar69 + 0x50),&local_168);
        }
        else {
          _get_key_modifier_state(this,*(undefined4 *)(pLVar69 + 0x50),&local_168);
          ppVar47 = ppVar50;
LAB_0011e225:
          cVar39 = RefCounted::unreference();
          if ((cVar39 != '\0') &&
             (cVar39 = predelete_handler((Object *)&ppVar47->__data), cVar39 != '\0')) {
            (**(code **)(ppVar47->__align + 0x140))(ppVar47);
            Memory::free_static(ppVar47,false);
          }
        }
      }
    }
    local_208 = (Ref<InputEvent> *)&local_168;
    InputEventMouseButton::set_button_index(pVVar64,*(undefined4 *)(pLVar69 + 0x54));
    iVar40 = InputEventMouseButton::get_button_index();
    if (iVar40 == 2) {
      InputEventMouseButton::set_button_index(pVVar64,3);
    }
    else {
      iVar40 = InputEventMouseButton::get_button_index();
      if (iVar40 == 3) {
        InputEventMouseButton::set_button_index(pVVar64,2);
      }
    }
    local_a8 = (float)(int)*(undefined8 *)(pLVar69 + 0x40);
    fStack_a4 = (float)(int)((ulong)*(undefined8 *)(pLVar69 + 0x40) >> 0x20);
    InputEventMouse::set_position(pVVar64);
    uVar45 = InputEventMouse::get_position();
    local_a8 = (float)uVar45;
    fStack_a4 = (float)((ulong)uVar45 >> 0x20);
    InputEventMouse::set_global_position(pVVar64);
    InputEventMouseButton::set_pressed(SUB81(pVVar64,0));
    cVar39 = InputEvent::is_pressed();
    if (((cVar39 == '\0') || (iVar40 = InputEventMouseButton::get_button_index(), iVar40 < 4)) ||
       (iVar40 = InputEventMouseButton::get_button_index(), 7 < iVar40)) {
      uVar45 = (**(code **)(*(long *)this + 0x3a8))(this);
      InputEventMouse::set_button_mask(pVVar64,uVar45);
    }
    else {
      iVar40 = InputEventMouseButton::get_button_index();
      if (iVar40 == 0) {
        _err_print_error("mouse_button_to_mask","./core/input/input_enums.h",0x88);
        uVar57 = 0;
      }
      else {
        uVar57 = (ulong)(1 << ((char)iVar40 - 1U & 0x1f));
      }
      uVar56 = (**(code **)(*(long *)this + 0x3a8))(this);
      InputEventMouse::set_button_mask(pVVar64,uVar56 | uVar57);
    }
    puVar58 = (ulong *)HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                       ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                     *)(this + 0x2f0),(int *)&local_1b4);
    if (*(int *)pLVar69 == 4) {
      if (((char)puVar58[0x1d] == '\0') && (*(char *)((long)puVar58 + 0xfb) == '\0')) {
        _set_input_focus(this,*puVar58,1);
      }
      plVar53 = (long *)OS::get_singleton();
      uVar57 = (**(code **)(*plVar53 + 0x208))(plVar53);
      uVar57 = uVar57 / 1000 - *(long *)(this + 0x3b0);
      iVar40 = InputEventMouseButton::get_button_index();
      if (iVar40 == *(int *)(this + 0x3b8)) {
        if (uVar57 < 400) {
          uVar45 = Vector2i::operator_cast_to_Vector2((Vector2i *)(this + 0x3a4));
          local_a8 = (float)uVar45;
          fStack_a4 = (float)((ulong)uVar45 >> 0x20);
          local_c8[0] = CONCAT44((float)(int)((ulong)*(undefined8 *)(pLVar69 + 0x40) >> 0x20),
                                 (float)(int)*(undefined8 *)(pLVar69 + 0x40));
          fVar72 = (float)Vector2::distance_to((Vector2 *)&local_a8);
          uVar45 = _LC334;
          if (fVar72 < _LC439) {
            *(undefined8 *)(this + 0x3b0) = 0;
            *(undefined4 *)(this + 0x3b8) = 0;
            *(undefined8 *)(this + 0x3a4) = uVar45;
            InputEventMouseButton::set_double_click(SUB81(pVVar64,0));
          }
        }
      }
      else {
        iVar40 = InputEventMouseButton::get_button_index();
        if ((iVar40 < 4) || (iVar40 = InputEventMouseButton::get_button_index(), 7 < iVar40)) {
          uVar42 = InputEventMouseButton::get_button_index();
          *(undefined4 *)(this + 0x3b8) = uVar42;
        }
      }
      cVar39 = InputEventMouseButton::is_double_click();
      if (cVar39 == '\0') {
        *(ulong *)(this + 0x3b0) = *(long *)(this + 0x3b0) + uVar57;
        *(undefined8 *)(this + 0x3a4) = *(undefined8 *)(pLVar69 + 0x40);
      }
    }
    else if ((char)puVar58[0x1f] == '\0') {
      for (puVar51 = *(undefined8 **)(this + 0x308); puVar51 != (undefined8 *)0x0;
          puVar51 = (undefined8 *)*puVar51) {
        if (*(char *)(puVar51 + 0x22) != '\0') {
          if ((*(uint *)(puVar51 + 2) != uVar65) && (*(uint *)(puVar51 + 2) != 0xffffffff)) {
            (*_XTranslateCoordinates_dylibloader_wrapper_xlib)
                      (*(undefined8 *)(this + 0x360),*puVar58,puVar51[3]);
            InputEventFromWindow::set_window_id((long)pVVar64);
            local_a8 = (float)(int)local_198;
            fStack_a4 = (float)(int)local_178;
            InputEventMouse::set_position(pVVar64);
            uVar45 = InputEventMouse::get_position();
            local_a8 = (float)uVar45;
            fStack_a4 = (float)((ulong)uVar45 >> 0x20);
            InputEventMouse::set_global_position(pVVar64);
            pRVar46 = (Ref *)Input::get_singleton();
            goto LAB_0011c6a7;
          }
          break;
        }
      }
    }
    pRVar46 = (Ref *)Input::get_singleton();
LAB_0011c6a7:
    local_210 = (Ref<InputEvent> *)&local_178;
    local_178 = (Vector2 *)0x0;
    pVVar54 = (Vector2 *)__dynamic_cast(pVVar64,&Object::typeinfo,&InputEvent::typeinfo,0);
    if (pVVar54 != (Vector2 *)0x0) {
      local_168 = (pthread_mutex_t *)0x0;
      local_178 = pVVar54;
      cVar39 = RefCounted::reference();
      if (cVar39 == '\0') {
        local_178 = (Vector2 *)0x0;
      }
      Ref<InputEvent>::unref(local_208);
    }
    Input::parse_input_event(pRVar46);
    Ref<InputEvent>::unref(local_210);
    cVar39 = RefCounted::unreference();
    goto joined_r0x0011d871;
  case 6:
switchD_0011de06_caseD_6:
    if ((*(long *)(this + 0x330) == 0) ||
       (puVar66 = *(uint **)(*(long *)(this + 0x330) + 8), puVar66 == (uint *)0x0)) {
      uVar65 = *(uint *)(this + 0x33c);
    }
    else {
      uVar65 = *puVar66;
    }
    pHVar1 = (HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              *)(this + 0x2f0);
    local_1a8 = CONCAT44(local_1a8._4_4_,uVar65);
    cVar39 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::_lookup_pos(pHVar1,(int *)(ulong)uVar65,(uint *)&local_168);
    if (cVar39 == '\0') {
      local_1a8 = local_1a8 & 0xffffffff00000000;
    }
    while (((*(int *)(this + 0x550) != 2 ||
            (iVar40 = *(int *)(pLVar69 + 0x40),
            lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                     ::operator[](pHVar1,(int *)&local_1a8), iVar40 != *(int *)(lVar52 + 0x48) / 2))
           || (iVar40 = *(int *)(pLVar69 + 0x44),
              lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                       ::operator[](pHVar1,(int *)&local_1a8), iVar40 != *(int *)(lVar52 + 0x4c) / 2
              ))) {
      uVar65 = local_1b8 + 1;
      if (((uint)local_188 <= uVar65) ||
         (piVar49 = (int *)((ulong)uVar65 * 0xc0 + (long)local_180), *piVar49 != 6))
      goto LAB_0011d4ec;
      uVar45 = *(undefined8 *)(piVar49 + 2);
      *(undefined8 *)pLVar69 = *(undefined8 *)piVar49;
      *(undefined8 *)(pLVar69 + 8) = uVar45;
      uVar45 = *(undefined8 *)(piVar49 + 6);
      *(undefined8 *)(pLVar69 + 0x10) = *(undefined8 *)(piVar49 + 4);
      *(undefined8 *)(pLVar69 + 0x18) = uVar45;
      uVar45 = *(undefined8 *)(piVar49 + 10);
      *(undefined8 *)(pLVar69 + 0x20) = *(undefined8 *)(piVar49 + 8);
      *(undefined8 *)(pLVar69 + 0x28) = uVar45;
      uVar45 = *(undefined8 *)(piVar49 + 0xe);
      *(undefined8 *)(pLVar69 + 0x30) = *(undefined8 *)(piVar49 + 0xc);
      *(undefined8 *)(pLVar69 + 0x38) = uVar45;
      *(undefined1 (*) [16])(pLVar69 + 0x40) = *(undefined1 (*) [16])(piVar49 + 0x10);
      uVar45 = *(undefined8 *)(piVar49 + 0x16);
      *(undefined8 *)(pLVar69 + 0x50) = *(undefined8 *)(piVar49 + 0x14);
      *(undefined8 *)(pLVar69 + 0x58) = uVar45;
      uVar45 = *(undefined8 *)(piVar49 + 0x1a);
      *(undefined8 *)(pLVar69 + 0x60) = *(undefined8 *)(piVar49 + 0x18);
      *(undefined8 *)(pLVar69 + 0x68) = uVar45;
      uVar45 = *(undefined8 *)(piVar49 + 0x1e);
      *(undefined8 *)(pLVar69 + 0x70) = *(undefined8 *)(piVar49 + 0x1c);
      *(undefined8 *)(pLVar69 + 0x78) = uVar45;
      *(undefined1 (*) [16])(pLVar69 + 0x80) = *(undefined1 (*) [16])(piVar49 + 0x20);
      *(undefined1 (*) [16])(pLVar69 + 0x90) = *(undefined1 (*) [16])(piVar49 + 0x24);
      *(undefined1 (*) [16])(pLVar69 + 0xa0) = *(undefined1 (*) [16])(piVar49 + 0x28);
      uVar45 = *(undefined8 *)(piVar49 + 0x2e);
      *(undefined8 *)(pLVar69 + 0xb0) = *(undefined8 *)(piVar49 + 0x2c);
      *(undefined8 *)(pLVar69 + 0xb8) = uVar45;
      local_1b8 = uVar65;
    }
    local_a8 = (float)(int)*(undefined8 *)(pLVar69 + 0x40);
    fStack_a4 = (float)(int)((ulong)*(undefined8 *)(pLVar69 + 0x40) >> 0x20);
    uVar45 = Vector2::operator_cast_to_Vector2i((Vector2 *)&local_a8);
    *(undefined8 *)(this + 0x560) = uVar45;
LAB_0011d4ec:
    *(undefined8 *)(this + 0x378) = *(undefined8 *)(pLVar69 + 0x38);
    local_d8 = *(undefined8 *)(pLVar69 + 0x40);
    if (*(int *)(this + 0x50c) != 0) {
      uVar45 = Vector2i::operator_cast_to_Vector2((Vector2i *)&local_d8);
      local_a8 = (float)uVar45;
      fStack_a4 = (float)((ulong)uVar45 >> 0x20);
      fVar72 = (float)Vector2::distance_squared_to((Vector2 *)&local_a8);
      if (fVar72 < _LC441) {
        uVar45 = *(undefined8 *)(this + 0x360);
        *(undefined8 *)(this + 0x524) = _LC440;
        goto LAB_0011c727;
      }
    }
    *(undefined8 *)(this + 0x524) = _LC440;
    puVar51 = (undefined8 *)
              HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::operator[](pHVar1,(int *)&local_1b4);
    uVar45 = local_d8;
    DVar6 = *(DisplayServerX11 *)(puVar51 + 0x1f);
    if (*(int *)(this + 0x550) == 2) {
      if ((*(float *)(this + 0x52c) == 0.0) && (*(float *)(this + 0x530) == 0.0)) break;
      uVar59 = Vector2::operator_cast_to_Vector2i((Vector2 *)(this + 0x52c));
      local_a8 = (float)uVar59;
      fStack_a4 = (float)((ulong)uVar59 >> 0x20);
      local_d8 = Vector2i::operator+((Vector2i *)(this + 0x398),(Vector2i *)&local_a8);
      *(undefined8 *)(this + 0x560) = uVar45;
      this[0x568] = DVar6;
      if (this[0x3a0] == (DisplayServerX11)0x0) {
        *(undefined8 *)(this + 0x398) = local_d8;
        this[0x3a0] = (DisplayServerX11)0x1;
      }
      local_c8[0] = 0;
      if (*(int *)(this + 0x550) != 2) goto LAB_0011d592;
      local_c8[0] = Vector2::operator_cast_to_Vector2i((Vector2 *)(this + 0x52c));
    }
    else {
      if (this[0x3a0] == (DisplayServerX11)0x0) {
        this[0x3a0] = (DisplayServerX11)0x1;
        *(undefined8 *)(this + 0x398) = local_d8;
      }
LAB_0011d592:
      local_c8[0] = 0;
      local_c8[0] = Vector2i::operator-((Vector2i *)&local_d8,(Vector2i *)(this + 0x398));
    }
    local_1d0 = (Vector2i *)&local_d8;
    *(undefined8 *)(this + 0x52c) = 0;
    if (*(int *)(this + 0x550) == 2) {
      lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[](pHVar1,(int *)&local_1a8);
      iVar40 = *(int *)(lVar52 + 0x4c);
      lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[](pHVar1,(int *)&local_1a8);
      local_d8 = CONCAT44(iVar40 / 2,*(int *)(lVar52 + 0x48) / 2);
    }
    uVar65 = *(uint *)(pLVar69 + 0x50);
    local_198 = 0;
    uStack_194 = 0;
    uVar62 = uVar65 >> 8 & 1;
    if ((uVar65 & 0x200) != 0) {
      uVar62 = uVar62 | 4;
    }
    if ((uVar65 & 0x400) != 0) {
      uVar62 = uVar62 | 2;
    }
    if ((uVar65 & 0x800) != 0) {
      uVar62 = uVar62 | 0x80;
    }
    if ((uVar65 & 0x1000) != 0) {
      uVar62 = (uint)CONCAT11(1,(char)uVar62);
    }
    Ref<InputEventMouseMotion>::instantiate<>((Ref<InputEventMouseMotion> *)&local_198);
    uVar65 = local_198;
    pVVar64 = (Vector2 *)CONCAT44(uStack_194,local_198);
    InputEventFromWindow::set_window_id((long)pVVar64);
    if (this[0x518] == (DisplayServerX11)0x0) {
      fVar72 = 0.0;
      if ((uVar62 & 1) != 0) {
        fVar72 = _LC17;
      }
      InputEventMouseMotion::set_pressure(fVar72);
    }
    else {
      InputEventMouseMotion::set_pressure((float)*(double *)(this + 0x510));
    }
    InputEventMouseMotion::set_tilt(pVVar64);
    InputEventMouseMotion::set_pen_inverted(SUB41(uVar65,0));
    local_178 = (Vector2 *)0x0;
    pVVar54 = (Vector2 *)
              __dynamic_cast(pVVar64,&Object::typeinfo,&InputEventWithModifiers::typeinfo,0);
    if (pVVar54 != (Vector2 *)0x0) {
      local_168 = (pthread_mutex_t *)0x0;
      local_178 = pVVar54;
      cVar39 = RefCounted::reference();
      if (cVar39 == '\0') {
        local_178 = (Vector2 *)0x0;
      }
      Ref<InputEventWithModifiers>::unref((Ref<InputEventWithModifiers> *)&local_168);
    }
    _get_key_modifier_state
              (this,*(undefined4 *)(pLVar69 + 0x50),(Ref<InputEventWithModifiers> *)&local_178);
    Ref<InputEventWithModifiers>::unref((Ref<InputEventWithModifiers> *)&local_178);
    InputEventMouse::set_button_mask(pVVar64,uVar62);
    uVar45 = Vector2i::operator_cast_to_Vector2(local_1d0);
    local_a8 = (float)uVar45;
    fStack_a4 = (float)((ulong)uVar45 >> 0x20);
    InputEventMouse::set_position(pVVar64);
    uVar45 = Vector2i::operator_cast_to_Vector2(local_1d0);
    local_a8 = (float)uVar45;
    fStack_a4 = (float)((ulong)uVar45 >> 0x20);
    InputEventMouse::set_global_position(pVVar64);
    Input::get_singleton();
    uVar45 = Input::get_last_mouse_velocity();
    local_a8 = (float)uVar45;
    fStack_a4 = (float)((ulong)uVar45 >> 0x20);
    InputEventMouseMotion::set_velocity(pVVar64);
    uVar45 = InputEventMouseMotion::get_velocity();
    local_a8 = (float)uVar45;
    fStack_a4 = (float)((ulong)uVar45 >> 0x20);
    InputEventMouseMotion::set_screen_velocity(pVVar64);
    uVar45 = Vector2i::operator_cast_to_Vector2((Vector2i *)local_c8);
    local_a8 = (float)uVar45;
    fStack_a4 = (float)((ulong)uVar45 >> 0x20);
    InputEventMouseMotion::set_relative(pVVar64);
    uVar45 = Vector2i::operator_cast_to_Vector2((Vector2i *)local_c8);
    local_a8 = (float)uVar45;
    fStack_a4 = (float)((ulong)uVar45 >> 0x20);
    InputEventMouseMotion::set_relative_screen_position(pVVar64);
    *(undefined8 *)(this + 0x398) = local_d8;
    if (DVar6 == (DisplayServerX11)0x0) {
      for (puVar3 = *(undefined8 **)(this + 0x308); puVar3 != (undefined8 *)0x0;
          puVar3 = (undefined8 *)*puVar3) {
        if (*(char *)(puVar3 + 0x22) != '\0') {
          (*_XTranslateCoordinates_dylibloader_wrapper_xlib)
                    (*(undefined8 *)(this + 0x360),*puVar51,puVar3[3],
                     *(undefined4 *)(pLVar69 + 0x40),*(undefined4 *)(pLVar69 + 0x44),local_1a0,
                     (Ref<InputEventWithModifiers> *)&local_178,
                     (Ref<InputEventWithModifiers> *)&local_168);
          local_d0 = (Variant *)CONCAT44((int)local_178,local_1a0[0]);
          InputEventFromWindow::set_window_id((long)pVVar64);
          uVar45 = Vector2i::operator_cast_to_Vector2((Vector2i *)&local_d0);
          local_a8 = (float)uVar45;
          fStack_a4 = (float)((ulong)uVar45 >> 0x20);
          InputEventMouse::set_position(pVVar64);
          uVar45 = Vector2i::operator_cast_to_Vector2((Vector2i *)&local_d0);
          local_a8 = (float)uVar45;
          fStack_a4 = (float)((ulong)uVar45 >> 0x20);
          InputEventMouse::set_global_position(pVVar64);
          Input::get_singleton();
          uVar45 = Input::get_last_mouse_velocity();
          local_a8 = (float)uVar45;
          fStack_a4 = (float)((ulong)uVar45 >> 0x20);
          InputEventMouseMotion::set_velocity(pVVar64);
          pRVar46 = (Ref *)Input::get_singleton();
          goto LAB_0011d806;
        }
      }
    }
    pRVar46 = (Ref *)Input::get_singleton();
LAB_0011d806:
    local_178 = (Vector2 *)0x0;
    pVVar54 = (Vector2 *)__dynamic_cast(pVVar64,&Object::typeinfo,&InputEvent::typeinfo,0);
    if (pVVar54 != (Vector2 *)0x0) {
      local_168 = (pthread_mutex_t *)0x0;
      local_178 = pVVar54;
      cVar39 = RefCounted::reference();
      if (cVar39 == '\0') {
        local_178 = (Vector2 *)0x0;
      }
      Ref<InputEvent>::unref((Ref<InputEvent> *)&local_168);
    }
    Input::parse_input_event(pRVar46);
    Ref<InputEvent>::unref((Ref<InputEvent> *)&local_178);
    cVar39 = RefCounted::unreference();
joined_r0x0011d871:
    if ((cVar39 != '\0') && (cVar39 = predelete_handler((Object *)pVVar64), cVar39 != '\0')) {
      (**(code **)(*(long *)pVVar64 + 0x140))(pVVar64);
      Memory::free_static(pVVar64,false);
      uVar45 = *(undefined8 *)(this + 0x360);
      goto LAB_0011c727;
    }
    break;
  case 7:
switchD_0011c487_caseD_7:
    uVar65 = local_1b4;
    if (((2 < uVar41) && (!bVar36)) && (*(uint *)(this + 0x338) != local_1b4)) {
      if (*(uint *)(this + 0x338) != 0xffffffff) {
        uVar45 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                 ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                               *)(this + 0x2f0),(int *)(this + 0x338));
        _send_window_event(this,uVar45,1);
      }
      *(uint *)(this + 0x338) = uVar65;
      uVar45 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),(int *)&local_1b4);
      _send_window_event(this,uVar45,0);
      uVar45 = *(undefined8 *)(this + 0x360);
      goto LAB_0011c727;
    }
    break;
  case 8:
switchD_0011c487_caseD_8:
    if (((2 < uVar41) && (!bVar36)) && (*(uint *)(this + 0x338) == local_1b4)) {
      *(undefined4 *)(this + 0x338) = 0xffffffff;
      uVar45 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),(int *)&local_1b4);
      _send_window_event(this,uVar45,1);
      uVar45 = *(undefined8 *)(this + 0x360);
      goto LAB_0011c727;
    }
    break;
  case 9:
switchD_0011de06_caseD_9:
    if (*(int *)(pLVar69 + 0x2c) != 2) {
      lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),(int *)&local_1b4);
      *(uint *)(this + 0x33c) = local_1b4;
      *(undefined1 *)(lVar52 + 0xf8) = 1;
      process_events()::focus_order = process_events()::focus_order + 1;
      *(int *)(lVar52 + 0x118) = process_events()::focus_order;
      _send_window_event(this,lVar52,2);
      if (uVar41 < 3) {
        for (puVar51 = *(undefined8 **)(this + 0x308); puVar51 != (undefined8 *)0x0;
            puVar51 = (undefined8 *)*puVar51) {
          uVar59 = puVar51[3];
          uVar45 = *(undefined8 *)(this + 0x360);
          if (*(int *)(this + 0x550) == 3) {
            (*_XUndefineCursor_dylibloader_wrapper_xlib)();
            uVar45 = *(undefined8 *)(this + 0x360);
            uVar59 = puVar51[3];
          }
          else if ((*(int *)(this + 0x550) - 2U & 0xfffffffd) == 0) {
            (*_XDefineCursor_dylibloader_wrapper_xlib)(uVar45,uVar59,*(undefined8 *)(this + 0x690));
            uVar45 = *(undefined8 *)(this + 0x360);
            uVar59 = puVar51[3];
          }
          (*_XGrabPointer_dylibloader_wrapper_xlib)(uVar45,uVar59,1);
        }
      }
      if (this[0x3bc] == (DisplayServerX11)0x0) {
        plVar53 = (long *)OS::get_singleton();
        lVar52 = (**(code **)(*plVar53 + 0x1d0))(plVar53);
        if (lVar52 != 0) {
          plVar53 = (long *)OS::get_singleton();
          iVar40 = (**(code **)(*plVar53 + 0x1d0))(plVar53);
          Object::notification(iVar40,true);
        }
        this[0x3bc] = (DisplayServerX11)0x1;
        uVar45 = *(undefined8 *)(this + 0x360);
        goto LAB_0011c727;
      }
    }
    break;
  case 10:
switchD_0011c487_caseD_a:
    lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),(int *)&local_1b4);
    if ((!bVar36) && (*(int *)(pLVar69 + 0x2c) != 2)) {
      if (*(char *)(lVar52 + 0x20) != '\0') {
        local_160 = 0;
        local_168 = __mutex;
        std::unique_lock<std::recursive_mutex>::lock
                  ((unique_lock<std::recursive_mutex> *)&local_168);
        local_160 = 1;
        (*_XUnsetICFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(lVar52 + 0x18));
        (*_XUnmapWindow_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*(undefined8 *)(lVar52 + 8));
        lVar48 = *(long *)(this + 0x2d0);
        *(undefined1 *)(lVar52 + 0x20) = 0;
        local_178 = (Vector2 *)0x0;
        if (lVar48 != 0) {
          CowData<char32_t>::_unref((CowData<char32_t> *)(this + 0x2d0));
          *(undefined8 *)(this + 0x2d0) = 0;
        }
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_178);
        *(undefined8 *)(this + 0x2c8) = 0;
        plVar53 = (long *)OS::get_singleton();
        iVar40 = (**(code **)(*plVar53 + 0x1d0))(plVar53);
        Object::notification(iVar40,true);
        if (local_168 != (pthread_mutex_t *)0x0) {
          pthread_mutex_unlock(local_168);
        }
      }
      *(undefined1 *)(lVar52 + 0xf8) = 0;
      Input::get_singleton();
      Input::release_pressed_events();
      _send_window_event(this,lVar52,3);
      if (uVar41 < 3) {
        for (puVar51 = *(undefined8 **)(this + 0x308); puVar51 != (undefined8 *)0x0;
            puVar51 = (undefined8 *)*puVar51) {
          if (*(int *)(this + 0x550) == 2) {
            (*_XUndefineCursor_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
          }
        }
        (*_XUngrabPointer_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
      }
      plVar53 = *(long **)(this + 0x4f8);
      if (plVar53 != (long *)0x0) {
        do {
          while( true ) {
            local_178 = (Vector2 *)0x0;
            Ref<InputEventScreenTouch>::instantiate<>((Ref<InputEventScreenTouch> *)&local_178);
            pVVar64 = local_178;
            InputEventScreenTouch::set_index((int)local_178);
            InputEventFromWindow::set_window_id((long)pVVar64);
            InputEventScreenTouch::set_position(pVVar64);
            pRVar46 = (Ref *)Input::get_singleton();
            local_168 = (pthread_mutex_t *)0x0;
            ppVar47 = (pthread_mutex_t *)
                      __dynamic_cast(pVVar64,&Object::typeinfo,&InputEvent::typeinfo,0);
            if ((ppVar47 != (pthread_mutex_t *)0x0) &&
               (local_168 = ppVar47, cVar39 = RefCounted::reference(), cVar39 == '\0')) {
              local_168 = (pthread_mutex_t *)0x0;
            }
            Input::parse_input_event(pRVar46);
            if (((local_168 != (pthread_mutex_t *)0x0) &&
                (cVar39 = RefCounted::unreference(), ppVar47 = local_168, cVar39 != '\0')) &&
               (cVar39 = predelete_handler((Object *)&local_168->__data), cVar39 != '\0')) break;
            cVar39 = RefCounted::unreference();
            if (cVar39 != '\0') goto LAB_0011caa2;
LAB_0011c9a0:
            plVar53 = (long *)*plVar53;
            if (plVar53 == (long *)0x0) goto LAB_0011cad9;
          }
          (**(code **)(ppVar47->__align + 0x140))(ppVar47);
          Memory::free_static(ppVar47,false);
          cVar39 = RefCounted::unreference();
          if (cVar39 == '\0') goto LAB_0011c9a0;
LAB_0011caa2:
          cVar39 = predelete_handler((Object *)pVVar64);
          if (cVar39 == '\0') goto LAB_0011c9a0;
          (**(code **)(*(long *)pVVar64 + 0x140))(pVVar64);
          Memory::free_static(pVVar64,false);
          plVar53 = (long *)*plVar53;
        } while (plVar53 != (long *)0x0);
      }
LAB_0011cad9:
      if ((*(long *)(this + 0x4e8) != 0) && (*(int *)(this + 0x50c) != 0)) {
        lVar52 = 0;
        uVar65 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x508) * 4);
        if (uVar65 != 0) {
          do {
            if (*(int *)(*(long *)(this + 0x4f0) + lVar52) != 0) {
              *(int *)(*(long *)(this + 0x4f0) + lVar52) = 0;
              Memory::free_static(*(void **)(*(long *)(this + 0x4e8) + lVar52 * 2),false);
              *(undefined8 *)(*(long *)(this + 0x4e8) + lVar52 * 2) = 0;
            }
            lVar52 = lVar52 + 4;
          } while (lVar52 != (ulong)uVar65 << 2);
        }
        uVar45 = *(undefined8 *)(this + 0x360);
        *(undefined4 *)(this + 0x50c) = 0;
        *(undefined1 (*) [16])(this + 0x4f8) = (undefined1  [16])0x0;
        goto LAB_0011c727;
      }
    }
    break;
  case 0xc:
switchD_0011de06_caseD_c:
    uVar38 = _window_fullscreen_check(this,local_1b4);
    lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),(int *)&local_1b4);
    *(undefined1 *)(lVar52 + 0xe9) = uVar38;
    Main::force_redraw();
    uVar45 = *(undefined8 *)(this + 0x360);
    goto LAB_0011c727;
  case 0xe:
switchD_0011de06_caseD_e:
    lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),(int *)&local_1b4);
    uVar45 = *(undefined8 *)(this + 0x360);
    *(undefined1 *)(lVar52 + 0xf9) = 1;
    goto LAB_0011c727;
  case 0xf:
switchD_0011de06_caseD_f:
    uVar38 = _window_minimize_check(this,local_1b4);
    lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),(int *)&local_1b4);
    uVar45 = *(undefined8 *)(this + 0x360);
    *(undefined1 *)(lVar52 + 0xf9) = uVar38;
    goto LAB_0011c727;
  case 0x13:
switchD_0011de06_caseD_13:
    puVar58 = (ulong *)HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                       ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                     *)(this + 0x2f0),(int *)&local_1b4);
    (*_XSync_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),0);
    (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),*puVar58,&local_168);
    if ((((local_10c == 2) && ((char)puVar58[0x1d] == '\0')) &&
        (*(char *)((long)puVar58 + 0xfb) == '\0')) &&
       (cVar39 = _window_focus_check(this), cVar39 != '\0')) {
      _set_input_focus(this,*puVar58,1);
    }
    _validate_mode_on_map(this,local_1b4);
    if (puVar58[0x20] != 0) {
      (*_XMapWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
      uVar45 = *(undefined8 *)(this + 0x360);
      goto LAB_0011c727;
    }
    break;
  case 0x16:
switchD_0011c487_caseD_16:
    lVar52 = *(long *)(pLVar69 + 0x28);
    lVar48 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),(int *)&local_1b4);
    if (lVar52 != *(long *)(lVar48 + 8)) {
      _window_changed(this,(_XEvent *)pLVar69);
      uVar45 = *(undefined8 *)(this + 0x360);
      goto LAB_0011c727;
    }
    break;
  case 0x1f:
switchD_0011c487_caseD_1f:
    uVar45 = *(undefined8 *)(this + 0x360);
    if ((!bVar36) && (*(long *)(pLVar69 + 0x30) == *(long *)(this + 0x270))) {
      uVar57 = (*_XInternAtom_dylibloader_wrapper_xlib)(uVar45,"PRIMARY",0);
      pHVar1 = (HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                *)(this + 0x2f0);
      puVar58 = (ulong *)HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                         ::operator[](pHVar1,(int *)&local_1b4);
      _read_property((DisplayServerX11 *)&local_168,*(_XDisplay **)(this + 0x360),*puVar58,uVar57);
      ppVar47 = local_168;
      local_198 = 0;
      uStack_194 = 0;
      String::parse_latin1((String *)&local_198,local_168->__size);
      String::split((char *)&local_178,SUB81((String *)&local_198,0),0x12412b);
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_198);
      (*_XFree_dylibloader_wrapper_xlib)(ppVar47);
      for (lVar52 = 0; (local_170 != 0 && (lVar52 < *(long *)(local_170 + -8))); lVar52 = lVar52 + 1
          ) {
        String::replace((char *)local_1a0,(char *)(local_170 + lVar52 * 8));
        String::uri_decode();
        if (local_170 == 0) {
          lVar48 = 0;
LAB_0011cf2f:
          _err_print_index_error
                    ("operator[]","./core/templates/vector.h",0x38,lVar52,lVar48,"p_index",
                     "((Vector<T> *)(this))->_cowdata.size()","",false,true);
          _err_flush_stdout();
                    /* WARNING: Does not return */
          pcVar55 = (code *)invalidInstructionException();
          (*pcVar55)();
        }
        lVar48 = *(long *)(local_170 + -8);
        if (lVar48 <= lVar52) goto LAB_0011cf2f;
        CowData<String>::_copy_on_write((CowData<String> *)&local_170);
        this_01 = (CowData<char32_t> *)(lVar52 * 8 + local_170);
        if (*(long *)this_01 != CONCAT44(uStack_194,local_198)) {
          CowData<char32_t>::_unref(this_01);
          *(ulong *)this_01 = CONCAT44(uStack_194,local_198);
          local_198 = 0;
          uStack_194 = 0;
        }
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_198);
        CowData<char32_t>::_unref((CowData<char32_t> *)local_1a0);
      }
      local_208 = (Ref<InputEvent> *)&local_170;
      HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
      ::operator[](pHVar1,(int *)&local_1b4);
      cVar39 = Callable::is_valid();
      if (cVar39 != '\0') {
        Variant::Variant((Variant *)local_c8,(Vector *)&local_178);
        uStack_a0 = 0;
        auStack_9c = SUB1612((undefined1  [16])0x0,4);
        local_a8 = 0.0;
        fStack_a4 = 0.0;
        local_198 = 0;
        uStack_194 = 0;
        uStack_190 = 0;
        local_d0 = (Variant *)local_c8;
        lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                 ::operator[](pHVar1,(int *)&local_1b4);
        Callable::callp((Variant **)(lVar52 + 0x90),(int)&local_d0,(Variant *)0x1,
                        (CallError *)&local_a8);
        if (local_198 != 0) {
          lVar52 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                   ::operator[](pHVar1,(int *)&local_1b4);
          Variant::get_callable_error_text
                    (local_1b0,(Variant **)(lVar52 + 0x90),(int)&local_d0,(CallError *)0x1);
          local_1a8 = 0;
          String::parse_latin1((String *)&local_1a8,"Failed to execute drop files callback: %s.");
          vformat<String>((CowData<char32_t> *)local_1a0,(String *)&local_1a8,local_1b0);
          _err_print_error("process_events","platform/linuxbsd/x11/display_server_x11.cpp",0x14a9,
                           (CowData<char32_t> *)local_1a0,0);
          CowData<char32_t>::_unref((CowData<char32_t> *)local_1a0);
          CowData<char32_t>::_unref((CowData<char32_t> *)&local_1a8);
          CowData<char32_t>::_unref((CowData<char32_t> *)local_1b0);
        }
        if (Variant::needs_deinit[(int)local_a8] != '\0') {
          Variant::_clear_internal();
        }
        if (Variant::needs_deinit[(int)local_c8[0]] != '\0') {
          Variant::_clear_internal();
        }
      }
      fStack_a4 = 0.0;
      uStack_a0 = 0;
      local_50 = 0;
      puVar51 = (undefined8 *)&uStack_a0;
      for (lVar52 = 0xb; lVar52 != 0; lVar52 = lVar52 + -1) {
        *puVar51 = 0;
        puVar51 = puVar51 + (ulong)bVar71 * -2 + 1;
      }
      local_a8 = 4.62428e-44;
      local_78 = 0x20;
      local_88 = *(undefined8 *)(this + 0x358);
      local_90 = *(undefined8 *)(this + 0x360);
      uStack_80 = *(undefined8 *)(this + 600);
      puVar51 = (undefined8 *)
                HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                ::operator[](pHVar1,(int *)&local_1b4);
      local_70._8_8_ = 1;
      local_70._0_8_ = *puVar51;
      local_60._0_8_ = *(undefined8 *)(this + 0x248);
      (*_XSendEvent_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*(undefined8 *)(this + 0x358),0,0);
      CowData<String>::_unref((CowData<String> *)local_208);
      uVar45 = *(undefined8 *)(this + 0x360);
    }
    goto LAB_0011c727;
  case 0x21:
switchD_0011de06_caseD_21:
    if (*(int *)(this + 0x228) == (int)*(undefined8 *)(pLVar69 + 0x38)) {
      uVar45 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
               ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),(int *)&local_1b4);
      _send_window_event(this,uVar45,4);
      uVar45 = *(undefined8 *)(this + 0x360);
      goto LAB_0011c727;
    }
    iVar40 = (int)*(undefined8 *)(pLVar69 + 0x28);
    if (*(int *)(this + 0x230) != iVar40) {
      if (*(int *)(this + 0x238) == iVar40) {
        fStack_a4 = 0.0;
        uStack_a0 = 0;
        local_50 = 0;
        puVar51 = (undefined8 *)&uStack_a0;
        for (lVar52 = 0xb; lVar52 != 0; lVar52 = lVar52 + -1) {
          *puVar51 = 0;
          puVar51 = puVar51 + (ulong)bVar71 * -2 + 1;
        }
        local_a8 = 4.62428e-44;
        local_90 = *(undefined8 *)(pLVar69 + 0x18);
        local_88 = *(undefined8 *)(pLVar69 + 0x38);
        local_78 = 0x20;
        uStack_80 = *(undefined8 *)(this + 0x240);
        puVar51 = (undefined8 *)
                  HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                  ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                *)(this + 0x2f0),(int *)&local_1b4);
        local_50 = *(undefined8 *)(this + 0x248);
        local_70[8] = *(long *)(this + 0x270) != 0;
        local_70._0_8_ = *puVar51;
        local_70._9_7_ = 0;
        local_60 = (undefined1  [16])0x0;
        (*_XSendEvent_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*(undefined8 *)(pLVar69 + 0x38),0,0);
        (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
        uVar45 = *(undefined8 *)(this + 0x360);
        goto LAB_0011c727;
      }
      if (*(int *)(this + 0x250) == iVar40) {
        if (*(long *)(this + 0x270) != 0) {
          *(undefined8 *)(this + 0x358) = *(undefined8 *)(pLVar69 + 0x38);
          pcVar55 = _XConvertSelection_dylibloader_wrapper_xlib;
          if (*(int *)(this + 0x278) < 1) {
            HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
            ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                          *)(this + 0x2f0),(int *)&local_1b4);
            uVar45 = (*_XInternAtom_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),"PRIMARY",0);
            (*pcVar55)(*(undefined8 *)(this + 0x360),*(undefined8 *)(this + 0x260),
                       *(undefined8 *)(this + 0x270),uVar45);
            uVar45 = *(undefined8 *)(this + 0x360);
          }
          else {
            HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
            ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                          *)(this + 0x2f0),(int *)&local_1b4);
            uVar45 = (*_XInternAtom_dylibloader_wrapper_xlib)
                               (*(undefined8 *)(this + 0x360),"PRIMARY",0);
            (*pcVar55)(*(undefined8 *)(this + 0x360),*(undefined8 *)(this + 0x260),
                       *(undefined8 *)(this + 0x270),uVar45);
            uVar45 = *(undefined8 *)(this + 0x360);
          }
          goto LAB_0011c727;
        }
        fStack_a4 = 0.0;
        uStack_a0 = 0;
        local_50 = 0;
        puVar51 = (undefined8 *)&uStack_a0;
        for (lVar52 = 0xb; lVar52 != 0; lVar52 = lVar52 + -1) {
          *puVar51 = 0;
          puVar51 = puVar51 + (ulong)bVar71 * -2 + 1;
        }
        local_a8 = 4.62428e-44;
        local_90 = *(undefined8 *)(pLVar69 + 0x18);
        local_88 = *(undefined8 *)(pLVar69 + 0x38);
        local_78 = 0x20;
        uStack_80 = *(undefined8 *)(this + 600);
        puVar58 = (ulong *)HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                         *)(this + 0x2f0),(int *)&local_1b4);
        auVar35._8_8_ = 0;
        auVar35._0_8_ = local_60._8_8_;
        local_60 = auVar35 << 0x40;
        local_70._8_8_ = 0;
        local_70._0_8_ = *puVar58;
        (*_XSendEvent_dylibloader_wrapper_xlib)
                  (*(undefined8 *)(this + 0x360),*(undefined8 *)(pLVar69 + 0x38),0,0);
      }
      break;
    }
    uVar57 = *(ulong *)(this + 0x360);
    *(int *)(this + 0x278) = (int)((ulong)*(undefined8 *)(pLVar69 + 0x40) >> 0x18);
    uVar56 = *(ulong *)(pLVar69 + 0x38);
    if (((byte)pLVar69[0x40] & 1) != 0) {
      uVar57 = (*_XInternAtom_dylibloader_wrapper_xlib)(uVar57,"XdndTypeList",0);
      _read_property((DisplayServerX11 *)&local_168,*(_XDisplay **)(this + 0x360),uVar56,uVar57);
      ppVar47 = local_168;
      uVar57 = *(ulong *)(this + 0x360);
      if (0 < local_15c) {
        pOVar2 = (Object *)((long)local_168 + (long)local_15c * 8);
        ppVar50 = local_168;
        do {
          lVar52 = ppVar50->__align;
          if (lVar52 != 0) {
            get_atom_name((_XDisplay *)&local_178,uVar57);
            cVar39 = String::operator==((String *)&local_178,"text/uri-list");
            CowData<char32_t>::_unref((CowData<char32_t> *)&local_178);
            if (cVar39 != '\0') goto LAB_0011e1ed;
          }
          ppVar50 = (pthread_mutex_t *)&(ppVar50->__data).__owner;
        } while (ppVar50 != (pthread_mutex_t *)pOVar2);
      }
      lVar52 = 0;
LAB_0011e1ed:
      *(long *)(this + 0x270) = lVar52;
      (*_XFree_dylibloader_wrapper_xlib)(ppVar47);
      uVar45 = *(undefined8 *)(this + 0x360);
      goto LAB_0011c727;
    }
    lVar52 = *(long *)(pLVar69 + 0x58);
    lVar48 = *(long *)(pLVar69 + 0x50);
    lVar63 = *(long *)(pLVar69 + 0x48);
    if (lVar63 == 0) {
LAB_0011e799:
      if (lVar48 != 0) {
        get_atom_name((_XDisplay *)&local_168,uVar57);
        cVar39 = String::operator==((String *)&local_168,"text/uri-list");
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_168);
        lVar63 = lVar48;
        if (cVar39 != '\0') goto LAB_0011e7b4;
      }
      if (lVar52 != 0) {
        get_atom_name((_XDisplay *)&local_168,uVar57);
        cVar39 = String::operator==((String *)&local_168,"text/uri-list");
        CowData<char32_t>::_unref((CowData<char32_t> *)&local_168);
        lVar63 = lVar52;
        if (cVar39 != '\0') goto LAB_0011e7b4;
      }
      lVar63 = 0;
    }
    else {
      get_atom_name((_XDisplay *)&local_168,uVar57);
      cVar39 = String::operator==((String *)&local_168,"text/uri-list");
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_168);
      if (cVar39 == '\0') goto LAB_0011e799;
    }
LAB_0011e7b4:
    *(long *)(this + 0x270) = lVar63;
    uVar45 = *(undefined8 *)(this + 0x360);
    goto LAB_0011c727;
  }
switchD_0011c487_caseD_0:
  uVar45 = *(undefined8 *)(this + 0x360);
LAB_0011c727:
  local_1b8 = local_1b8 + 1;
  if ((uint)local_188 <= local_1b8) goto LAB_0011c73f;
  goto LAB_0011c3f8;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::set_icon(Ref<Image> const&) */

void __thiscall DisplayServerX11::set_icon(DisplayServerX11 *this,Ref *param_1)

{
  long *plVar1;
  code *pcVar2;
  Object *pOVar3;
  byte *pbVar4;
  char cVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  undefined8 *puVar9;
  undefined8 uVar10;
  long lVar11;
  Image *pIVar12;
  undefined8 *puVar13;
  long *plVar14;
  byte *pbVar15;
  byte *pbVar16;
  ulong uVar17;
  long lVar18;
  int iVar19;
  long in_FS_OFFSET;
  undefined8 local_68;
  long *local_60;
  undefined8 local_58;
  byte *local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar6 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar6 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar6);
  }
  local_58 = (char *)((ulong)local_58._4_4_ << 0x20);
  puVar9 = (undefined8 *)
           HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
           ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                         *)(this + 0x2f0),(int *)&local_58);
  uVar10 = (*_XSetErrorHandler_dylibloader_wrapper_xlib)(set_icon_errorhandler);
  lVar11 = (*_XInternAtom_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),"_NET_WM_ICON",0);
  if (*(long *)param_1 == 0) {
    (*_XDeleteProperty_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar9,lVar11);
  }
  else {
    iVar6 = Image::get_width();
    if ((iVar6 < 1) || (iVar6 = Image::get_height(), iVar6 < 1)) {
      _err_print_error("set_icon","platform/linuxbsd/x11/display_server_x11.cpp",0x1587,
                       "Condition \"p_icon->get_width() <= 0 || p_icon->get_height() <= 0\" is true."
                       ,0,0);
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) goto LAB_0011fa89;
      goto LAB_0011f9e3;
    }
    (**(code **)(**(long **)param_1 + 0x198))((String *)&local_58,*(long **)param_1,0);
    if ((Object *)local_58 == (Object *)0x0) {
      pIVar12 = (Image *)0x0;
    }
    else {
      pIVar12 = (Image *)__dynamic_cast(local_58,&Object::typeinfo,&Image::typeinfo);
      if (pIVar12 != (Image *)0x0) {
        cVar5 = RefCounted::reference();
        if (cVar5 == '\0') {
          pIVar12 = (Image *)0x0;
        }
        if ((Object *)local_58 == (Object *)0x0) goto LAB_0011f62f;
      }
      cVar5 = RefCounted::unreference();
      pOVar3 = (Object *)local_58;
      if ((cVar5 != '\0') && (cVar5 = predelete_handler((Object *)local_58), cVar5 != '\0')) {
        (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
        Memory::free_static(pOVar3,false);
      }
    }
LAB_0011f62f:
    Image::convert(pIVar12);
LAB_0011f64b:
    iVar7 = Image::get_width();
    iVar8 = Image::get_height();
    iVar6 = iVar7;
    if (g_set_icon_error != '\0') {
      g_set_icon_error = '\0';
      local_58 = "Icon too large (%dx%d), attempting to downscale icon.";
      local_68 = 0;
      local_50 = &DAT_00000035;
      String::parse_latin1((StrRange *)&local_68);
      vformat<int,int>((String *)&local_58,(int)(StrRange *)&local_68,iVar7);
      _err_print_error("set_icon","platform/linuxbsd/x11/display_server_x11.cpp",0x1593,
                       (String *)&local_58,0,1);
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_58);
      CowData<char32_t>::_unref((CowData<char32_t> *)&local_68);
      if (iVar8 < iVar7) {
        iVar6 = iVar7 / 2;
        uVar17 = (long)(iVar8 * iVar6) / (long)iVar7 & 0xffffffff;
      }
      else {
        iVar6 = (iVar7 * (iVar8 / 2)) / iVar8;
        uVar17 = (ulong)(uint)(iVar8 / 2);
      }
      iVar8 = (int)uVar17;
      if ((iVar6 == 0) || (iVar8 == 0)) {
        _err_print_error("set_icon","platform/linuxbsd/x11/display_server_x11.cpp",0x15a2,
                         "Unable to set icon.",0,1);
        goto LAB_0011fb48;
      }
      Image::resize(pIVar12,iVar6,uVar17);
    }
    local_60 = (long *)0x0;
    iVar19 = iVar6 * iVar8;
    iVar7 = iVar19 + 2;
    if (iVar7 < 0) {
      _err_print_error("resize","./core/templates/cowdata.h",0x157,
                       "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
LAB_0011fab5:
      lVar18 = 0;
LAB_0011f960:
      lVar11 = 0;
LAB_0011f97d:
      _err_print_index_error
                ("operator[]","./core/templates/vector.h",0x38,lVar11,lVar18,"p_index",
                 "((Vector<T> *)(this))->_cowdata.size()","",false,true);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar2 = (code *)invalidInstructionException();
      (*pcVar2)();
    }
    if (iVar7 == 0) goto LAB_0011fab5;
    CowData<long>::_copy_on_write((CowData<long> *)&local_60);
    uVar17 = (long)iVar7 * 8 - 1;
    uVar17 = uVar17 | uVar17 >> 1;
    uVar17 = uVar17 | uVar17 >> 2;
    uVar17 = uVar17 | uVar17 >> 4;
    uVar17 = uVar17 | uVar17 >> 8;
    uVar17 = uVar17 | uVar17 >> 0x10;
    puVar13 = (undefined8 *)Memory::alloc_static((uVar17 | uVar17 >> 0x20) + 0x11,false);
    if (puVar13 == (undefined8 *)0x0) {
      _err_print_error("resize","./core/templates/cowdata.h",0x171,"Parameter \"mem_new\" is null.",
                       0,0);
      if (local_60 == (long *)0x0) goto LAB_0011fab5;
      lVar18 = local_60[-1];
      if (0 < lVar18) goto LAB_0011f7d8;
      goto LAB_0011f960;
    }
    local_60 = puVar13 + 2;
    *puVar13 = 1;
    puVar13[1] = (long)iVar7;
LAB_0011f7d8:
    CowData<long>::_copy_on_write((CowData<long> *)&local_60);
    lVar18 = local_60[-1];
    *local_60 = (long)iVar6;
    if (lVar18 < 2) {
      lVar11 = 1;
      goto LAB_0011f97d;
    }
    CowData<long>::_copy_on_write((CowData<long> *)&local_60);
    plVar1 = local_60;
    local_60[1] = (long)iVar8;
    Image::get_data();
    pbVar4 = local_50;
    if (local_50 != (byte *)0x0) {
      LOCK();
      pbVar15 = local_50 + -0x10;
      *(long *)pbVar15 = *(long *)pbVar15 + -1;
      UNLOCK();
      if (*(long *)pbVar15 == 0) {
        local_50 = (byte *)0x0;
        Memory::free_static(pbVar4 + -0x10,false);
      }
    }
    lVar18 = plVar1[-1];
    if (lVar18 < 3) {
      lVar11 = 2;
      goto LAB_0011f97d;
    }
    CowData<long>::_copy_on_write((CowData<long> *)&local_60);
    plVar1 = local_60;
    plVar14 = local_60 + 2;
    pbVar15 = pbVar4;
    if (0 < iVar19) {
      do {
        pbVar16 = pbVar15 + 4;
        *plVar14 = (long)(int)((uint)pbVar15[3] << 0x18 | (uint)*pbVar15 << 0x10 | (uint)pbVar15[2]
                              | (uint)pbVar15[1] << 8);
        plVar14 = plVar14 + 1;
        pbVar15 = pbVar16;
      } while (pbVar4 + (long)iVar19 * 4 != pbVar16);
    }
    if (lVar11 != 0) {
      (*_XChangeProperty_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar9,lVar11);
    }
    if (g_set_icon_error != '\0') {
      if (plVar1 != (long *)0x0) {
        LOCK();
        plVar1 = plVar1 + -2;
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          Memory::free_static(local_60 + -2,false);
        }
      }
      goto LAB_0011f64b;
    }
    if (plVar1 != (long *)0x0) {
      LOCK();
      plVar1 = plVar1 + -2;
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        Memory::free_static(local_60 + -2,false);
      }
    }
LAB_0011fb48:
    cVar5 = RefCounted::unreference();
    if (cVar5 != '\0') {
      memdelete<Image>(pIVar12);
    }
  }
  (*_XFlush_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360));
  (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar10);
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
LAB_0011fa89:
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
LAB_0011f9e3:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* DisplayServerX11::embed_process(int, long, Rect2i const&, bool, bool) */

undefined8 __thiscall
DisplayServerX11::embed_process
          (DisplayServerX11 *this,int param_1,long param_2,Rect2i *param_3,bool param_4,bool param_5
          )

{
  long lVar1;
  long lVar2;
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  code *pcVar24;
  char cVar25;
  int iVar26;
  uint uVar27;
  uint uVar28;
  int iVar29;
  int iVar30;
  undefined8 *puVar31;
  ulong uVar32;
  ulong *puVar33;
  undefined8 uVar34;
  undefined8 uVar35;
  undefined8 uVar36;
  undefined8 uVar37;
  int iVar38;
  uint uVar39;
  ulong uVar40;
  long lVar41;
  long lVar42;
  long lVar43;
  uint uVar44;
  uint uVar45;
  int iVar46;
  int iVar47;
  ulong uVar48;
  uint uVar49;
  long in_FS_OFFSET;
  undefined1 auVar50 [16];
  int local_1a0;
  long local_158;
  uint local_150;
  uint local_14c [4];
  undefined4 local_13c;
  ulong *local_138;
  ulong local_130;
  ulong local_128;
  ulong uStack_120;
  int local_cc;
  undefined4 local_a0;
  int local_9c;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined8 local_58;
  undefined8 uStack_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_158 = param_2;
  local_14c[0] = param_1;
  iVar26 = pthread_mutex_lock((pthread_mutex_t *)(this + 0x200));
  if (iVar26 != 0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar26);
  }
  if ((*(long *)(this + 0x2f8) != 0) && (*(int *)(this + 0x31c) != 0)) {
    uVar32 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x318) * 8);
    uVar27 = (local_14c[0] >> 0x10 ^ local_14c[0]) * -0x7a143595;
    uVar27 = (uVar27 ^ uVar27 >> 0xd) * -0x3d4d51cb;
    uVar44 = uVar27 ^ uVar27 >> 0x10;
    if (uVar27 == uVar27 >> 0x10) {
      uVar44 = 1;
      uVar40 = uVar32;
    }
    else {
      uVar40 = uVar44 * uVar32;
    }
    uVar48 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4));
    auVar50._8_8_ = 0;
    auVar50._0_8_ = uVar48;
    auVar13._8_8_ = 0;
    auVar13._0_8_ = uVar40;
    lVar41 = SUB168(auVar50 * auVar13,8);
    uVar27 = *(uint *)(*(long *)(this + 0x300) + lVar41 * 4);
    iVar26 = SUB164(auVar50 * auVar13,8);
    if (uVar27 != 0) {
      uVar28 = 0;
      do {
        if ((uVar27 == uVar44) &&
           (local_14c[0] == *(uint *)(*(long *)(*(long *)(this + 0x2f8) + lVar41 * 8) + 0x10))) {
          puVar31 = (undefined8 *)
                    HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                    ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                                  *)(this + 0x2f0),(int *)local_14c);
          local_138 = (ulong *)0x0;
          lVar41 = *(long *)(this + 0x758);
          if ((lVar41 == 0) || (*(int *)(this + 0x77c) == 0)) goto LAB_0011ff10;
          lVar1 = *(long *)(this + 0x760);
          uVar27 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x778) * 4);
          uVar40 = CONCAT44(0,uVar27);
          lVar2 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x778) * 8);
          uVar32 = local_158 * 0x3ffff - 1;
          uVar32 = (uVar32 ^ uVar32 >> 0x1f) * 0x15;
          uVar32 = (uVar32 ^ uVar32 >> 0xb) * 0x41;
          uVar28 = (uint)(uVar32 >> 0x16) ^ (uint)uVar32;
          uVar44 = 1;
          if (uVar28 != 0) {
            uVar44 = uVar28;
          }
          auVar6._8_8_ = 0;
          auVar6._0_8_ = (ulong)uVar44 * lVar2;
          auVar17._8_8_ = 0;
          auVar17._0_8_ = uVar40;
          lVar42 = SUB168(auVar6 * auVar17,8);
          uVar28 = *(uint *)(lVar1 + lVar42 * 4);
          if (uVar28 == 0) goto LAB_0011ff10;
          local_150 = SUB164(auVar6 * auVar17,8);
          uVar49 = 0;
          lVar43 = lVar42;
          uVar39 = uVar28;
          uVar45 = local_150;
          goto LAB_0011fe69;
        }
        uVar28 = uVar28 + 1;
        auVar3._8_8_ = 0;
        auVar3._0_8_ = (iVar26 + 1) * uVar32;
        auVar14._8_8_ = 0;
        auVar14._0_8_ = uVar48;
        lVar41 = SUB168(auVar3 * auVar14,8);
        uVar27 = *(uint *)(*(long *)(this + 0x300) + lVar41 * 4);
        iVar26 = SUB164(auVar3 * auVar14,8);
      } while ((uVar27 != 0) &&
              (auVar4._8_8_ = 0, auVar4._0_8_ = uVar27 * uVar32, auVar15._8_8_ = 0,
              auVar15._0_8_ = uVar48, auVar5._8_8_ = 0,
              auVar5._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x318) * 4
                                        ) + iVar26) - SUB164(auVar4 * auVar15,8)) * uVar32,
              auVar16._8_8_ = 0, auVar16._0_8_ = uVar48, uVar28 <= SUB164(auVar5 * auVar16,8)));
    }
  }
  uVar35 = 1;
  _err_print_error("embed_process","platform/linuxbsd/x11/display_server_x11.cpp",0x16cb,
                   "Condition \"!windows.has(p_window)\" is true. Returning: FAILED",0,0);
  goto LAB_0011ffd4;
LAB_0011fe69:
  if ((uVar44 != uVar39) || (local_158 != *(long *)(*(long *)(lVar41 + lVar43 * 8) + 0x10)))
  goto LAB_0011fe20;
  uVar45 = 0;
  uVar39 = local_150;
  while ((uVar28 != uVar44 || (local_158 != *(long *)(*(long *)(lVar41 + lVar42 * 8) + 0x10)))) {
    uVar45 = uVar45 + 1;
    auVar10._8_8_ = 0;
    auVar10._0_8_ = (ulong)(uVar39 + 1) * lVar2;
    auVar21._8_8_ = 0;
    auVar21._0_8_ = uVar40;
    lVar42 = SUB168(auVar10 * auVar21,8);
    uVar28 = *(uint *)(lVar1 + lVar42 * 4);
    uVar39 = SUB164(auVar10 * auVar21,8);
    if ((uVar28 == 0) ||
       (auVar11._8_8_ = 0, auVar11._0_8_ = (ulong)uVar28 * lVar2, auVar22._8_8_ = 0,
       auVar22._0_8_ = uVar40, auVar12._8_8_ = 0,
       auVar12._0_8_ = (ulong)((uVar27 + uVar39) - SUB164(auVar11 * auVar22,8)) * lVar2,
       auVar23._8_8_ = 0, auVar23._0_8_ = uVar40, SUB164(auVar12 * auVar23,8) < uVar45)) {
      _err_print_error(&_LC60,"./core/templates/hash_map.h",0x140,
                       "FATAL: Condition \"!exists\" is true.","HashMap key not found.",0,0);
      _err_flush_stdout();
                    /* WARNING: Does not return */
      pcVar24 = (code *)invalidInstructionException();
      (*pcVar24)();
    }
  }
  puVar33 = *(ulong **)(*(long *)(lVar41 + (ulong)uVar39 * 8) + 0x18);
  local_138 = puVar33;
  goto LAB_0011ff97;
LAB_0011fe20:
  uVar49 = uVar49 + 1;
  auVar7._8_8_ = 0;
  auVar7._0_8_ = (ulong)(uVar45 + 1) * lVar2;
  auVar18._8_8_ = 0;
  auVar18._0_8_ = uVar40;
  lVar43 = SUB168(auVar7 * auVar18,8);
  uVar39 = *(uint *)(lVar1 + lVar43 * 4);
  uVar45 = SUB164(auVar7 * auVar18,8);
  if ((uVar39 == 0) ||
     (auVar8._8_8_ = 0, auVar8._0_8_ = (ulong)uVar39 * lVar2, auVar19._8_8_ = 0,
     auVar19._0_8_ = uVar40, auVar9._8_8_ = 0,
     auVar9._0_8_ = (ulong)((uVar27 + uVar45) - SUB164(auVar8 * auVar19,8)) * lVar2,
     auVar20._8_8_ = 0, auVar20._0_8_ = uVar40, SUB164(auVar9 * auVar20,8) < uVar49))
  goto LAB_0011ff10;
  goto LAB_0011fe69;
LAB_0011ff10:
  local_1a0 = (int)local_158;
  uVar35 = 0x21;
  uVar32 = find_window_from_process_id(*(_XDisplay **)(this + 0x360),local_1a0);
  if (uVar32 == 0) goto LAB_0011ffd4;
  puVar33 = (ulong *)operator_new(0x10,"");
  uVar35 = *(undefined8 *)(this + 0x360);
  *puVar33 = uVar32;
  *(undefined1 *)(puVar33 + 1) = 1;
  local_138 = puVar33;
  (*_XSetTransientForHint_dylibloader_wrapper_xlib)(uVar35,uVar32,*puVar31);
  _set_window_taskbar_pager_enabled(this,uVar32,false);
  HashMap<long,DisplayServerX11::EmbeddedProcessData*,HashMapHasherDefault,HashMapComparatorDefault<long>,DefaultTypedAllocator<HashMapElement<long,DisplayServerX11::EmbeddedProcessData*>>>
  ::insert((long *)&local_128,(EmbeddedProcessData **)(this + 0x750),SUB81(&local_158,0));
LAB_0011ff97:
  uVar34 = (*_XSetErrorHandler_dylibloader_wrapper_xlib)(bad_window_error_handler);
  if (param_4) {
    local_98 = *(ulong *)param_3;
    uStack_90 = *(ulong *)(param_3 + 8);
    local_88 = _screens_get_full_rect(this);
    uVar35 = Vector2i::operator+((Vector2i *)local_88,(Vector2i *)(local_88 + 8));
    iVar30 = (int)local_98;
    iVar26 = (int)uStack_90;
    if ((int)local_98 < (int)local_88._0_4_) {
      iVar26 = (int)local_98 + (int)uStack_90;
      local_98 = CONCAT44(local_98._4_4_,local_88._0_4_);
      iVar26 = iVar26 - local_88._0_4_;
      if (iVar26 < 0) {
        iVar26 = 0;
      }
      uStack_90 = CONCAT44(uStack_90._4_4_,iVar26);
      iVar30 = local_88._0_4_;
    }
    if ((int)uVar35 < iVar26 + iVar30) {
      iVar26 = (int)uVar35 - iVar30;
      if (iVar26 < 0) {
        iVar26 = 0;
      }
      uStack_90 = CONCAT44(uStack_90._4_4_,iVar26);
    }
    iVar30 = local_98._4_4_;
    iVar29 = uStack_90._4_4_;
    if (local_98._4_4_ < (int)local_88._4_4_) {
      local_98 = CONCAT44(local_88._4_4_,(int)local_98);
      iVar29 = uStack_90._4_4_ - (local_88._4_4_ - iVar30);
      if (iVar29 < 0) {
        iVar29 = 0;
      }
      uStack_90 = CONCAT44(iVar29,(int)uStack_90);
      iVar30 = local_88._4_4_;
    }
    iVar46 = (int)((ulong)uVar35 >> 0x20);
    if (iVar46 < iVar30 + iVar29) {
      iVar46 = iVar46 - iVar30;
      iVar29 = 0;
      if (-1 < iVar46) {
        iVar29 = iVar46;
      }
      uStack_90 = CONCAT44(iVar29,(int)uStack_90);
    }
    iVar30 = (**(code **)(*(long *)this + 0x3f8))(this);
    if (0 < iVar30) {
      iVar46 = 0;
      do {
        auVar50 = _screen_get_rect(this,iVar46);
        local_78._8_4_ = auVar50._8_4_;
        local_78._12_4_ = auVar50._12_4_;
        local_58 = local_98;
        uStack_50 = uStack_90;
        if ((int)(local_78._8_4_ | local_78._12_4_) < 0) {
LAB_00120570:
          local_78 = auVar50;
          _err_print_error("intersects","./core/math/rect2i.h",0x38,
                           "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                           ,0,0);
          uVar27 = (uint)uStack_50;
          auVar50 = local_78;
        }
        else {
          uStack_50._0_4_ = (uint)uStack_90;
          uStack_50._4_4_ = (uint)(uStack_90 >> 0x20);
          uVar44 = (uint)uStack_50 | uStack_50._4_4_;
          uVar27 = (uint)uStack_50;
          if ((int)uVar44 < 0) goto LAB_00120570;
        }
        local_78._0_4_ = auVar50._0_4_;
        local_78 = auVar50;
        if (((int)local_78._0_4_ < (int)(uVar27 + (int)local_58)) &&
           (local_78._8_4_ = auVar50._8_4_, (int)local_58 < (int)(local_78._8_4_ + local_78._0_4_)))
        {
          local_78._4_4_ = auVar50._4_4_;
          if (((int)(uStack_50._4_4_ + local_58._4_4_) <= (int)local_78._4_4_) ||
             (local_78._12_4_ = auVar50._12_4_,
             (int)(local_78._12_4_ + local_78._4_4_) <= local_58._4_4_)) goto LAB_00120519;
          if ((int)local_78._4_4_ < local_98._4_4_) {
            local_78._4_4_ = local_98._4_4_;
          }
          iVar38 = (int)local_98;
          if ((int)local_98 < (int)local_78._0_4_) {
            iVar38 = local_78._0_4_;
          }
          local_58 = CONCAT44(local_78._4_4_,iVar38);
          uVar36 = Vector2i::operator+((Vector2i *)&local_98,(Vector2i *)&uStack_90);
          uVar35 = Vector2i::operator+((Vector2i *)local_78,(Vector2i *)(local_78 + 8));
          local_68._4_4_ = (undefined4)((ulong)uVar35 >> 0x20);
          iVar38 = (int)((ulong)uVar36 >> 0x20);
          if (iVar38 < (int)local_68._4_4_) {
            local_68._4_4_ = iVar38;
          }
          if ((int)uVar36 < (int)uVar35) {
            uVar35 = uVar36;
          }
          local_68._0_4_ = (int)uVar35;
          uVar32 = Vector2i::operator-((Vector2i *)local_68,(Vector2i *)&local_58);
          uStack_50 = uVar32;
        }
        else {
LAB_00120519:
          uVar32 = 0;
        }
        if ((int)uVar32 * (int)(uVar32 >> 0x20) != 0) {
          auVar50 = (**(code **)(*(long *)this + 0x428))(this,iVar46);
          local_68._8_4_ = auVar50._8_4_;
          local_68._12_4_ = auVar50._12_4_;
          local_58 = local_98;
          uStack_50 = uStack_90;
          if ((int)(local_68._8_4_ | local_68._12_4_) < 0) {
LAB_001205a8:
            local_68 = auVar50;
            _err_print_error("intersects","./core/math/rect2i.h",0x38,
                             "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                             ,0,0);
            uVar27 = (uint)uStack_50;
            auVar50 = local_68;
          }
          else {
            uStack_50._0_4_ = (uint)uStack_90;
            uStack_50._4_4_ = (uint)(uStack_90 >> 0x20);
            uVar44 = (uint)uStack_50 | uStack_50._4_4_;
            uVar27 = (uint)uStack_50;
            if ((int)uVar44 < 0) goto LAB_001205a8;
          }
          local_68._0_4_ = auVar50._0_4_;
          if (((int)local_68._0_4_ < (int)(uVar27 + (int)local_58)) &&
             (local_68._8_4_ = auVar50._8_4_, (int)local_58 < (int)(local_68._8_4_ + local_68._0_4_)
             )) {
            local_68._4_4_ = auVar50._4_4_;
            if (((int)(uStack_50._4_4_ + local_58._4_4_) <= (int)local_68._4_4_) ||
               (local_68._12_4_ = auVar50._12_4_,
               (int)(local_68._12_4_ + local_68._4_4_) <= local_58._4_4_)) goto LAB_00120560;
            if ((int)local_68._4_4_ < local_98._4_4_) {
              local_68._4_4_ = local_98._4_4_;
            }
            iVar38 = (int)local_98;
            if ((int)local_98 < (int)local_68._0_4_) {
              iVar38 = local_68._0_4_;
            }
            local_58 = CONCAT44(local_68._4_4_,iVar38);
            local_68 = auVar50;
            uVar36 = Vector2i::operator+((Vector2i *)&local_98,(Vector2i *)&uStack_90);
            uVar35 = Vector2i::operator+((Vector2i *)local_68,(Vector2i *)(local_68 + 8));
            local_9c = (int)((ulong)uVar35 >> 0x20);
            iVar38 = (int)((ulong)uVar36 >> 0x20);
            if (iVar38 < local_9c) {
              local_9c = iVar38;
            }
            if ((int)uVar36 < (int)uVar35) {
              uVar35 = uVar36;
            }
            local_a0 = (undefined4)uVar35;
            uVar32 = Vector2i::operator-((Vector2i *)&local_a0,(Vector2i *)&local_58);
            uStack_50 = uVar32;
            auVar50 = local_68;
          }
          else {
LAB_00120560:
            uVar32 = 0;
          }
          local_68 = auVar50;
          if (iVar26 * iVar29 != (int)uVar32 * (int)(uVar32 >> 0x20)) {
            iVar38 = (int)local_98;
            if (((int)local_78._0_4_ <= (int)local_98) &&
               (local_68._0_4_ = auVar50._0_4_, (int)local_98 < (int)local_68._0_4_)) {
              local_98 = CONCAT44(local_98._4_4_,local_68._0_4_);
              iVar38 = (int)uStack_90 - (local_68._0_4_ - iVar38);
              if (iVar38 < 0) {
                iVar38 = 0;
              }
              uStack_90 = CONCAT44(uStack_90._4_4_,iVar38);
            }
            iVar38 = local_98._4_4_;
            if (((int)local_78._4_4_ <= local_98._4_4_) &&
               (local_68._4_4_ = auVar50._4_4_, local_98._4_4_ < (int)local_68._4_4_)) {
              local_98 = CONCAT44(local_68._4_4_,(int)local_98);
              iVar38 = uStack_90._4_4_ - (local_68._4_4_ - iVar38);
              if (iVar38 < 0) {
                iVar38 = 0;
              }
              uStack_90 = CONCAT44(iVar38,(int)uStack_90);
            }
            uVar35 = Vector2i::operator+((Vector2i *)&local_98,(Vector2i *)&uStack_90);
            uVar36 = Vector2i::operator+((Vector2i *)local_78,(Vector2i *)(local_78 + 8));
            uVar37 = Vector2i::operator+((Vector2i *)local_68,(Vector2i *)(local_68 + 8));
            iVar38 = (int)uVar35;
            if ((iVar38 <= (int)uVar36) && ((int)uVar37 < iVar38)) {
              iVar38 = (int)uStack_90 - (iVar38 - (int)uVar37);
              if (iVar38 < 0) {
                iVar38 = 0;
              }
              uStack_90 = CONCAT44(uStack_90._4_4_,iVar38);
            }
            iVar38 = (int)((ulong)uVar35 >> 0x20);
            if ((iVar38 <= (int)((ulong)uVar36 >> 0x20)) &&
               (iVar47 = (int)((ulong)uVar37 >> 0x20), iVar47 < iVar38)) {
              iVar38 = uStack_90._4_4_ - (iVar38 - iVar47);
              if (iVar38 < 0) {
                iVar38 = 0;
              }
              uStack_90 = CONCAT44(iVar38,(int)uStack_90);
            }
          }
        }
        iVar46 = iVar46 + 1;
      } while (iVar30 != iVar46);
    }
    if (((int)uStack_90 < 0x65) || (uStack_90._4_4_ < 0x65)) goto LAB_0011ffae;
    (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
              (*(undefined8 *)(this + 0x360),*puVar33,&local_128);
    local_58 = local_128;
    uStack_50 = uStack_120;
    cVar25 = Vector2i::operator!=((Vector2i *)&local_58,(Vector2i *)&local_98);
    if (cVar25 == '\0') {
      cVar25 = Vector2i::operator!=((Vector2i *)&uStack_50,(Vector2i *)&uStack_90);
      if (cVar25 != '\0') goto LAB_00120650;
    }
    else {
LAB_00120650:
      (*_XMoveResizeWindow_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),*puVar33,local_98 & 0xffffffff,local_98._4_4_,
                 uStack_90 & 0xffffffff,uStack_90._4_4_);
    }
    if ((char)puVar33[1] == '\0') {
      (*_XMapWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar33);
      *(undefined1 *)(puVar33 + 1) = 1;
    }
    if (param_5) {
      local_13c = 0;
      local_130 = 0;
      (*_XGetInputFocus_dylibloader_wrapper_xlib)
                (*(undefined8 *)(this + 0x360),&local_130,&local_13c);
      if (*puVar33 != local_130) {
        iVar26 = (*_XGetWindowAttributes_dylibloader_wrapper_xlib)
                           (*(undefined8 *)(this + 0x360),*puVar33,&local_128);
        if ((iVar26 != 0) && (local_cc == 2)) {
          (*_XSetInputFocus_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar33,2,0);
        }
      }
    }
  }
  else {
LAB_0011ffae:
    if ((char)puVar33[1] != '\0') {
      (*_XUnmapWindow_dylibloader_wrapper_xlib)(*(undefined8 *)(this + 0x360),*puVar33);
      *(undefined1 *)(puVar33 + 1) = 0;
    }
  }
  uVar35 = 0;
  (*_XSetErrorHandler_dylibloader_wrapper_xlib)(uVar34);
LAB_0011ffd4:
  pthread_mutex_unlock((pthread_mutex_t *)(this + 0x200));
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar35;
}



/* DisplayServerX11::_dispatch_input_event(Ref<InputEvent> const&) */

void __thiscall DisplayServerX11::_dispatch_input_event(DisplayServerX11 *this,Ref *param_1)

{
  uint *puVar1;
  Object *pOVar2;
  char cVar3;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  long lVar7;
  undefined8 *puVar8;
  long lVar9;
  long in_FS_OFFSET;
  Object *local_90;
  long local_80;
  long local_78 [2];
  Callable local_68 [16];
  int local_58 [6];
  long local_40;
  
  lVar9 = *(long *)param_1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((*(long *)(this + 0x330) == 0) ||
     (puVar1 = *(uint **)(*(long *)(this + 0x330) + 8), puVar1 == (uint *)0x0)) {
    if (lVar9 == 0) {
LAB_00120860:
      local_90 = (Object *)0x0;
LAB_00120869:
      puVar8 = *(undefined8 **)(this + 0x308);
      local_80 = 0;
      for (; puVar8 != (undefined8 *)0x0; puVar8 = (undefined8 *)*puVar8) {
        while( true ) {
          Callable::Callable((Callable *)local_78,(Callable *)(puVar8 + 0x11));
          cVar3 = Callable::is_valid();
          if (cVar3 == '\0') break;
          Callable::Callable(local_68,(Callable *)local_78);
          if (local_80 == 0) {
            lVar9 = 1;
          }
          else {
            lVar9 = *(long *)(local_80 + -8) + 1;
          }
          iVar4 = CowData<Callable>::resize<false>((CowData<Callable> *)&local_80,lVar9);
          if (iVar4 == 0) {
            if (local_80 == 0) {
              lVar7 = -1;
              lVar9 = 0;
            }
            else {
              lVar9 = *(long *)(local_80 + -8);
              lVar7 = lVar9 + -1;
              if (-1 < lVar7) {
                CowData<Callable>::_copy_on_write((CowData<Callable> *)&local_80);
                Callable::operator=((Callable *)(lVar7 * 0x10 + local_80),local_68);
                goto LAB_00120933;
              }
            }
            _err_print_index_error
                      ("set","./core/templates/cowdata.h",0xcf,lVar7,lVar9,"p_index","size()","",
                       false,false);
          }
          else {
            _err_print_error("push_back","./core/templates/vector.h",0x142,
                             "Condition \"err\" is true. Returning: true",0,0);
          }
LAB_00120933:
          Callable::~Callable(local_68);
          Callable::~Callable((Callable *)local_78);
          puVar8 = (undefined8 *)*puVar8;
          if (puVar8 == (undefined8 *)0x0) goto LAB_0012094f;
        }
        Callable::~Callable((Callable *)local_78);
      }
LAB_0012094f:
      CowData<Callable>::_copy_on_write((CowData<Callable> *)&local_80);
      lVar9 = local_80;
      CowData<Callable>::_copy_on_write((CowData<Callable> *)&local_80);
      lVar7 = local_80;
      if (local_80 != 0) {
        lVar7 = local_80 + *(long *)(local_80 + -8) * 0x10;
      }
      for (; lVar9 != lVar7; lVar9 = lVar9 + 0x10) {
        while ((pOVar2 = *(Object **)param_1, pOVar2 == (Object *)0x0 ||
               (cVar3 = RefCounted::reference(), cVar3 == '\0'))) {
          Callable::call<Ref<InputEvent>>(local_58,lVar9,0);
          if (Variant::needs_deinit[local_58[0]] == '\0') goto LAB_001209c7;
          lVar9 = lVar9 + 0x10;
          Variant::_clear_internal();
          if (lVar7 == lVar9) goto LAB_00120a18;
        }
        Callable::call<Ref<InputEvent>>(local_58,lVar9,pOVar2);
        if (Variant::needs_deinit[local_58[0]] != '\0') {
          Variant::_clear_internal();
        }
        cVar3 = RefCounted::unreference();
        if ((cVar3 != '\0') && (cVar3 = predelete_handler(pOVar2), cVar3 != '\0')) {
          (**(code **)(*(long *)pOVar2 + 0x140))(pOVar2);
          Memory::free_static(pOVar2,false);
        }
LAB_001209c7:
      }
LAB_00120a18:
      CowData<Callable>::_unref((CowData<Callable> *)&local_80);
      if (local_90 == (Object *)0x0) goto LAB_00120a28;
    }
    else {
LAB_0012082f:
      local_90 = (Object *)__dynamic_cast(lVar9,&Object::typeinfo,&InputEventFromWindow::typeinfo,0)
      ;
      if ((local_90 == (Object *)0x0) || (cVar3 = RefCounted::reference(), cVar3 == '\0'))
      goto LAB_00120860;
      lVar9 = InputEventFromWindow::get_window_id();
      if (lVar9 == -1) goto LAB_00120869;
      uVar5 = InputEventFromWindow::get_window_id();
      cVar3 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::_lookup_pos((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                             *)(this + 0x2f0),(int *)(ulong)uVar5,(uint *)local_68);
      if (cVar3 != '\0') {
        uVar6 = InputEventFromWindow::get_window_id();
        local_78[0] = CONCAT44(local_78[0]._4_4_,uVar6);
        lVar9 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                              *)(this + 0x2f0),(int *)local_78);
        Callable::Callable(local_68,(Callable *)(lVar9 + 0x70));
        cVar3 = Callable::is_valid();
        if (cVar3 != '\0') {
          lVar9 = *(long *)param_1;
          if ((lVar9 == 0) || (local_78[0] = lVar9, cVar3 = RefCounted::reference(), cVar3 == '\0'))
          {
            local_78[0] = 0;
            lVar9 = 0;
          }
          Callable::call<Ref<InputEvent>>(local_58,local_68,lVar9);
          if (Variant::needs_deinit[local_58[0]] != '\0') {
            Variant::_clear_internal();
          }
          Ref<InputEvent>::unref((Ref<InputEvent> *)local_78);
        }
        Callable::~Callable(local_68);
      }
    }
    cVar3 = RefCounted::unreference();
    if ((cVar3 != '\0') && (cVar3 = predelete_handler(local_90), cVar3 != '\0')) {
      (**(code **)(*(long *)local_90 + 0x140))(local_90);
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        Memory::free_static(local_90,false);
        return;
      }
      goto LAB_00120d40;
    }
  }
  else {
    if (lVar9 == 0) goto LAB_00120860;
    lVar7 = __dynamic_cast(lVar9,&Object::typeinfo,&InputEventKey::typeinfo,0);
    if (lVar7 == 0) goto LAB_0012082f;
    cVar3 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
            ::_lookup_pos((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                           *)(this + 0x2f0),(int *)(ulong)*puVar1,(uint *)local_68);
    if (cVar3 != '\0') {
      lVar9 = HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
              ::operator[]((HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
                            *)(this + 0x2f0),(int *)puVar1);
      Callable::Callable(local_68,(Callable *)(lVar9 + 0x70));
      cVar3 = Callable::is_valid();
      if (cVar3 != '\0') {
        lVar9 = *(long *)param_1;
        if ((lVar9 == 0) || (local_78[0] = lVar9, cVar3 = RefCounted::reference(), cVar3 == '\0')) {
          local_78[0] = 0;
          lVar9 = 0;
        }
        Callable::call<Ref<InputEvent>>(local_58,local_68,lVar9);
        if (Variant::needs_deinit[local_58[0]] != '\0') {
          Variant::_clear_internal();
        }
        Ref<InputEvent>::unref((Ref<InputEvent> *)local_78);
      }
      Callable::~Callable(local_68);
    }
  }
LAB_00120a28:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00120d40:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServerX11::_dispatch_input_events(Ref<InputEvent> const&) */

void DisplayServerX11::_dispatch_input_events(Ref *param_1)

{
  _dispatch_input_event(DisplayServer::singleton,param_1);
  return;
}



/* DefaultAllocator::alloc(unsigned long) */

void DefaultAllocator::alloc(ulong param_1)

{
  Memory::alloc_static(param_1,false);
  return;
}



/* StringName::~StringName() */

void __thiscall StringName::~StringName(StringName *this)

{
  if ((configured != '\0') && (*(long *)this != 0)) {
    StringName::unref();
    return;
  }
  return;
}



/* Object::get_save_class() const */

void Object::get_save_class(void)

{
  long lVar1;
  long *in_RSI;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  (**(code **)(*in_RSI + 0x48))();
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServer::is_class_ptr(void*) const */

uint __thiscall DisplayServer::is_class_ptr(DisplayServer *this,void *param_1)

{
  return (uint)CONCAT71(0x12d8,(undefined4 *)param_1 == &Object::get_class_ptr_static()::ptr) |
         (uint)CONCAT71(0x12d8,(undefined4 *)param_1 == &get_class_ptr_static()::ptr);
}



/* DisplayServer::_getv(StringName const&, Variant&) const */

undefined8 DisplayServer::_getv(StringName *param_1,Variant *param_2)

{
  return 0;
}



/* DisplayServer::_setv(StringName const&, Variant const&) */

undefined8 DisplayServer::_setv(StringName *param_1,Variant *param_2)

{
  return 0;
}



/* DisplayServer::_validate_propertyv(PropertyInfo&) const */

void DisplayServer::_validate_propertyv(PropertyInfo *param_1)

{
  return;
}



/* DisplayServer::_property_can_revertv(StringName const&) const */

undefined8 DisplayServer::_property_can_revertv(StringName *param_1)

{
  return 0;
}



/* DisplayServer::_property_get_revertv(StringName const&, Variant&) const */

undefined8 DisplayServer::_property_get_revertv(StringName *param_1,Variant *param_2)

{
  return 0;
}



/* DisplayServer::_notificationv(int, bool) */

void DisplayServer::_notificationv(int param_1,bool param_2)

{
  return;
}



/* DisplayServer::get_accent_color() const */

undefined1  [16] DisplayServer::get_accent_color(void)

{
  return ZEXT816(0);
}



/* DisplayServer::get_base_color() const */

undefined1  [16] DisplayServer::get_base_color(void)

{
  return ZEXT816(0);
}



/* DisplayServer::get_display_safe_area() const */

void __thiscall DisplayServer::get_display_safe_area(DisplayServer *this)

{
                    /* WARNING: Could not recover jumptable at 0x001212e3. Too many branches */
                    /* WARNING: Treating indirect jump as call */
  (**(code **)(*(long *)this + 0x428))(this,0xffffffff);
  return;
}



/* DisplayServer::screen_get_image_rect(Rect2i const&) const */

Rect2i * DisplayServer::screen_get_image_rect(Rect2i *param_1)

{
  *(undefined8 *)param_1 = 0;
  return param_1;
}



/* DisplayServer::window_get_title_size(String const&, int) const */

undefined8 DisplayServer::window_get_title_size(String *param_1,int param_2)

{
  return 0;
}



/* DisplayServer::window_set_window_buttons_offset(Vector2i const&, int) */

void DisplayServer::window_set_window_buttons_offset(Vector2i *param_1,int param_2)

{
  return;
}



/* DisplayServer::window_get_safe_title_margins(int) const */

undefined1  [16] DisplayServer::window_get_safe_title_margins(int param_1)

{
  long in_FS_OFFSET;
  
  if (*(long *)(in_FS_OFFSET + 0x28) == *(long *)(in_FS_OFFSET + 0x28)) {
    return ZEXT816(0);
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServer::window_maximize_on_title_dbl_click() const */

undefined8 DisplayServer::window_maximize_on_title_dbl_click(void)

{
  return 0;
}



/* DisplayServer::window_minimize_on_title_dbl_click() const */

undefined8 DisplayServer::window_minimize_on_title_dbl_click(void)

{
  return 0;
}



/* DisplayServer::tablet_get_driver_count() const */

undefined8 DisplayServer::tablet_get_driver_count(void)

{
  return 1;
}



/* DisplayServer::tablet_set_current_driver(String const&) */

void DisplayServer::tablet_set_current_driver(String *param_1)

{
  return;
}



/* CallableCustomMethodPointer<Object, void, int, bool>::~CallableCustomMethodPointer() */

void __thiscall
CallableCustomMethodPointer<Object,void,int,bool>::~CallableCustomMethodPointer
          (CallableCustomMethodPointer<Object,void,int,bool> *this)

{
  return;
}



/* CallableCustomMethodPointer<Object, void, int, bool>::get_argument_count(bool&) const */

undefined8 __thiscall
CallableCustomMethodPointer<Object,void,int,bool>::get_argument_count
          (CallableCustomMethodPointer<Object,void,int,bool> *this,bool *param_1)

{
  *param_1 = true;
  return 2;
}



/* DisplayServer::get_display_cutouts() const */

DisplayServer * __thiscall DisplayServer::get_display_cutouts(DisplayServer *this)

{
  long in_FS_OFFSET;
  long local_40;
  undefined8 local_38;
  undefined1 local_30 [16];
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  Array::Array((Array *)this);
  local_38 = 0;
  local_40 = 0;
  local_30 = (undefined1  [16])0x0;
  Array::set_typed((uint)this,(StringName *)0x7,(Variant *)&local_40);
  if ((StringName::configured != '\0') && (local_40 != 0)) {
    StringName::unref();
  }
  if (Variant::needs_deinit[(int)local_38] != '\0') {
    Variant::_clear_internal();
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CallableCustomMethodPointer<Object, void, int, bool>::~CallableCustomMethodPointer() */

void __thiscall
CallableCustomMethodPointer<Object,void,int,bool>::~CallableCustomMethodPointer
          (CallableCustomMethodPointer<Object,void,int,bool> *this)

{
  operator_delete(this,0x48);
  return;
}



/* CallableCustomMethodPointerBase::get_method() const */

void CallableCustomMethodPointerBase::get_method(void)

{
  long in_RSI;
  StringName *in_RDI;
  
  StringName::StringName(in_RDI,*(char **)(in_RSI + 0x20),false);
  return;
}



/* GLManagerEGL_X11::~GLManagerEGL_X11() */

void __thiscall GLManagerEGL_X11::~GLManagerEGL_X11(GLManagerEGL_X11 *this)

{
  *(code **)this = operator_new;
  EGLManager::~EGLManager((EGLManager *)this);
  return;
}



/* RasterizerGLES3::_create_current() */

RasterizerGLES3 * RasterizerGLES3::_create_current(void)

{
  RasterizerGLES3 *this;
  
  this = (RasterizerGLES3 *)operator_new(0xb0,"");
  RasterizerGLES3::RasterizerGLES3(this);
  return this;
}



/* RendererCompositorRD::_create_current() */

RendererCompositorRD * RendererCompositorRD::_create_current(void)

{
  RendererCompositorRD *this;
  
  this = (RendererCompositorRD *)operator_new(0x2b0,"");
  RendererCompositorRD::RendererCompositorRD(this);
  return this;
}



/* NativeMenu::~NativeMenu() */

void __thiscall NativeMenu::~NativeMenu(NativeMenu *this)

{
  *(code **)this = Object::~Object;
  singleton = 0;
  Object::~Object((Object *)this);
  return;
}



/* DisplayServer::screen_get_max_scale() const */

float __thiscall DisplayServer::screen_get_max_scale(DisplayServer *this)

{
  int iVar1;
  int iVar2;
  int iVar3;
  float __x;
  float __y;
  
  iVar1 = (**(code **)(*(long *)this + 0x3f8))();
  if (0 < iVar1) {
    __y = _LC17;
    iVar2 = 0;
    do {
      iVar3 = iVar2 + 1;
      __x = (float)(**(code **)(*(long *)this + 0x438))(this,iVar2);
      __y = fmaxf(__x,__y);
      iVar2 = iVar3;
    } while (iVar1 != iVar3);
    return __y;
  }
  return _LC17;
}



/* HashMap<unsigned long, Key, KeyMappingX11::HashMapHasherKeys, HashMapComparatorDefault<unsigned
   long>, DefaultTypedAllocator<HashMapElement<unsigned long, Key> > >::~HashMap() */

void __thiscall
HashMap<unsigned_long,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,Key>>>
::~HashMap(HashMap<unsigned_long,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,Key>>>
           *this)

{
  uint uVar1;
  long lVar2;
  void *pvVar3;
  
  pvVar3 = *(void **)(this + 8);
  if (pvVar3 == (void *)0x0) {
    return;
  }
  if (*(int *)(this + 0x2c) != 0) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    if (uVar1 == 0) {
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
    }
    else {
      lVar2 = 0;
      do {
        if (*(int *)(*(long *)(this + 0x10) + lVar2) != 0) {
          *(int *)(*(long *)(this + 0x10) + lVar2) = 0;
          Memory::free_static(*(void **)((long)pvVar3 + lVar2 * 2),false);
          pvVar3 = *(void **)(this + 8);
          *(undefined8 *)((long)pvVar3 + lVar2 * 2) = 0;
        }
        lVar2 = lVar2 + 4;
      } while (lVar2 != (ulong)uVar1 << 2);
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
      if (pvVar3 == (void *)0x0) {
        return;
      }
    }
  }
  Memory::free_static(pvVar3,false);
  Memory::free_static(*(void **)(this + 0x10),false);
  return;
}



/* HashMap<unsigned int, Key, KeyMappingX11::HashMapHasherKeys, HashMapComparatorDefault<unsigned
   int>, DefaultTypedAllocator<HashMapElement<unsigned int, Key> > >::~HashMap() */

void __thiscall
HashMap<unsigned_int,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,Key>>>
::~HashMap(HashMap<unsigned_int,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,Key>>>
           *this)

{
  uint uVar1;
  long lVar2;
  void *pvVar3;
  
  pvVar3 = *(void **)(this + 8);
  if (pvVar3 == (void *)0x0) {
    return;
  }
  if (*(int *)(this + 0x2c) != 0) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    if (uVar1 == 0) {
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
    }
    else {
      lVar2 = 0;
      do {
        if (*(int *)(*(long *)(this + 0x10) + lVar2) != 0) {
          *(int *)(*(long *)(this + 0x10) + lVar2) = 0;
          Memory::free_static(*(void **)((long)pvVar3 + lVar2 * 2),false);
          pvVar3 = *(void **)(this + 8);
          *(undefined8 *)((long)pvVar3 + lVar2 * 2) = 0;
        }
        lVar2 = lVar2 + 4;
      } while (lVar2 != (ulong)uVar1 << 2);
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
      if (pvVar3 == (void *)0x0) {
        return;
      }
    }
  }
  Memory::free_static(pvVar3,false);
  Memory::free_static(*(void **)(this + 0x10),false);
  return;
}



/* HashMap<Key, unsigned int, KeyMappingX11::HashMapHasherKeys, HashMapComparatorDefault<Key>,
   DefaultTypedAllocator<HashMapElement<Key, unsigned int> > >::~HashMap() */

void __thiscall
HashMap<Key,unsigned_int,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<Key>,DefaultTypedAllocator<HashMapElement<Key,unsigned_int>>>
::~HashMap(HashMap<Key,unsigned_int,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<Key>,DefaultTypedAllocator<HashMapElement<Key,unsigned_int>>>
           *this)

{
  uint uVar1;
  long lVar2;
  void *pvVar3;
  
  pvVar3 = *(void **)(this + 8);
  if (pvVar3 == (void *)0x0) {
    return;
  }
  if (*(int *)(this + 0x2c) != 0) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    if (uVar1 == 0) {
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
    }
    else {
      lVar2 = 0;
      do {
        if (*(int *)(*(long *)(this + 0x10) + lVar2) != 0) {
          *(int *)(*(long *)(this + 0x10) + lVar2) = 0;
          Memory::free_static(*(void **)((long)pvVar3 + lVar2 * 2),false);
          pvVar3 = *(void **)(this + 8);
          *(undefined8 *)((long)pvVar3 + lVar2 * 2) = 0;
        }
        lVar2 = lVar2 + 4;
      } while (lVar2 != (ulong)uVar1 << 2);
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
      if (pvVar3 == (void *)0x0) {
        return;
      }
    }
  }
  Memory::free_static(pvVar3,false);
  Memory::free_static(*(void **)(this + 0x10),false);
  return;
}



/* HashMap<unsigned long, char32_t, KeyMappingX11::HashMapHasherKeys,
   HashMapComparatorDefault<unsigned long>, DefaultTypedAllocator<HashMapElement<unsigned long,
   char32_t> > >::~HashMap() */

void __thiscall
HashMap<unsigned_long,char32_t,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,char32_t>>>
::~HashMap(HashMap<unsigned_long,char32_t,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,char32_t>>>
           *this)

{
  uint uVar1;
  long lVar2;
  void *pvVar3;
  
  pvVar3 = *(void **)(this + 8);
  if (pvVar3 == (void *)0x0) {
    return;
  }
  if (*(int *)(this + 0x2c) != 0) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    if (uVar1 == 0) {
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
    }
    else {
      lVar2 = 0;
      do {
        if (*(int *)(*(long *)(this + 0x10) + lVar2) != 0) {
          *(int *)(*(long *)(this + 0x10) + lVar2) = 0;
          Memory::free_static(*(void **)((long)pvVar3 + lVar2 * 2),false);
          pvVar3 = *(void **)(this + 8);
          *(undefined8 *)((long)pvVar3 + lVar2 * 2) = 0;
        }
        lVar2 = lVar2 + 4;
      } while (lVar2 != (ulong)uVar1 << 2);
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
      if (pvVar3 == (void *)0x0) {
        return;
      }
    }
  }
  Memory::free_static(pvVar3,false);
  Memory::free_static(*(void **)(this + 0x10),false);
  return;
}



/* HashMap<unsigned int, KeyLocation, KeyMappingX11::HashMapHasherKeys,
   HashMapComparatorDefault<unsigned int>, DefaultTypedAllocator<HashMapElement<unsigned int,
   KeyLocation> > >::~HashMap() */

void __thiscall
HashMap<unsigned_int,KeyLocation,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,KeyLocation>>>
::~HashMap(HashMap<unsigned_int,KeyLocation,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,KeyLocation>>>
           *this)

{
  uint uVar1;
  long lVar2;
  void *pvVar3;
  
  pvVar3 = *(void **)(this + 8);
  if (pvVar3 == (void *)0x0) {
    return;
  }
  if (*(int *)(this + 0x2c) != 0) {
    uVar1 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    if (uVar1 == 0) {
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
    }
    else {
      lVar2 = 0;
      do {
        if (*(int *)(*(long *)(this + 0x10) + lVar2) != 0) {
          *(int *)(*(long *)(this + 0x10) + lVar2) = 0;
          Memory::free_static(*(void **)((long)pvVar3 + lVar2 * 2),false);
          pvVar3 = *(void **)(this + 8);
          *(undefined8 *)((long)pvVar3 + lVar2 * 2) = 0;
        }
        lVar2 = lVar2 + 4;
      } while (lVar2 != (ulong)uVar1 << 2);
      *(undefined4 *)(this + 0x2c) = 0;
      *(undefined1 (*) [16])(this + 0x18) = (undefined1  [16])0x0;
      if (pvVar3 == (void *)0x0) {
        return;
      }
    }
  }
  Memory::free_static(pvVar3,false);
  Memory::free_static(*(void **)(this + 0x10),false);
  return;
}



/* CowData<int>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<int>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<long>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<long>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<char>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<char>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<Variant>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<Variant>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<String>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<String>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* DisplayServerX11::screen_get_image(int) const [clone .cold] */

void DisplayServerX11::screen_get_image(int param_1)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CowData<Callable>::_copy_on_write() [clone .isra.0] [clone .cold] */

void CowData<Callable>::_copy_on_write(void)

{
  code *pcVar1;
  
                    /* WARNING: Does not return */
  pcVar1 = (code *)invalidInstructionException();
  (*pcVar1)();
}



/* CallableCustomMethodPointer<Object, void, int, bool>::get_object() const */

undefined8 __thiscall
CallableCustomMethodPointer<Object,void,int,bool>::get_object
          (CallableCustomMethodPointer<Object,void,int,bool> *this)

{
  long lVar1;
  undefined8 uVar2;
  uint uVar3;
  ulong *puVar4;
  long in_FS_OFFSET;
  bool bVar5;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  uVar3 = (uint)*(ulong *)(this + 0x30) & 0xffffff;
  if (uVar3 < (uint)ObjectDB::slot_max) {
    while( true ) {
      LOCK();
      bVar5 = (char)ObjectDB::spin_lock == '\0';
      if (bVar5) {
        ObjectDB::spin_lock._0_1_ = '\x01';
      }
      UNLOCK();
      if (bVar5) break;
      do {
      } while ((char)ObjectDB::spin_lock != '\0');
    }
    puVar4 = (ulong *)((ulong)uVar3 * 0x10 + ObjectDB::object_slots);
    if ((*(ulong *)(this + 0x30) >> 0x18 & 0x7fffffffff) != (*puVar4 & 0x7fffffffff)) {
      uVar2 = 0;
      ObjectDB::spin_lock._0_1_ = '\0';
      goto LAB_0012490d;
    }
    ObjectDB::spin_lock._0_1_ = '\0';
    if (puVar4[1] != 0) {
      uVar2 = *(undefined8 *)(*(long *)(this + 0x28) + 0x60);
      goto LAB_0012490d;
    }
  }
  else {
    _err_print_error("get_instance","./core/object/object.h",0x418,
                     "Condition \"slot >= slot_max\" is true. Returning: nullptr",0,0);
  }
  uVar2 = 0;
LAB_0012490d:
  if (lVar1 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar2;
}



/* DisplayServer::tablet_get_driver_name(int) const */

undefined8 DisplayServer::tablet_get_driver_name(int param_1)

{
  long lVar1;
  undefined4 in_register_0000003c;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)CONCAT44(in_register_0000003c,param_1) = 0;
  String::parse_latin1((StrRange *)CONCAT44(in_register_0000003c,param_1));
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return CONCAT44(in_register_0000003c,param_1);
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServer::tablet_get_current_driver() const */

DisplayServer * __thiscall DisplayServer::tablet_get_current_driver(DisplayServer *this)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)this = 0;
  String::parse_latin1((StrRange *)this);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CallableCustomMethodPointerBase::get_as_text() const */

void CallableCustomMethodPointerBase::get_as_text(void)

{
  char *__s;
  long lVar1;
  long in_RSI;
  StrRange *in_RDI;
  long in_FS_OFFSET;
  
  __s = *(char **)(in_RSI + 0x20);
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined8 *)in_RDI = 0;
  if (__s != (char *)0x0) {
    strlen(__s);
  }
  String::parse_latin1(in_RDI);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServer::_get_class_namev() const */

undefined8 * DisplayServer::_get_class_namev(void)

{
  int iVar1;
  
  if ((_get_class_namev()::_class_name_static == '\0') &&
     (iVar1 = __cxa_guard_acquire(&_get_class_namev()::_class_name_static), iVar1 != 0)) {
    _get_class_namev()::_class_name_static = 0;
    __cxa_atexit(StringName::~StringName,&_get_class_namev()::_class_name_static,&__dso_handle);
    __cxa_guard_release(&_get_class_namev()::_class_name_static);
  }
  if (_get_class_namev()::_class_name_static != 0) {
    if (*(long *)(_get_class_namev()::_class_name_static + 8) != 0) {
LAB_00124b03:
      return &_get_class_namev()::_class_name_static;
    }
    if (*(long *)(_get_class_namev()::_class_name_static + 0x10) != 0) {
      if (1 < *(uint *)(*(long *)(_get_class_namev()::_class_name_static + 0x10) + -8))
      goto LAB_00124b03;
      StringName::assign_static_unique_class_name
                ((StringName *)&_get_class_namev()::_class_name_static,"DisplayServer");
      goto LAB_00124b6e;
    }
  }
  StringName::assign_static_unique_class_name
            ((StringName *)&_get_class_namev()::_class_name_static,"DisplayServer");
LAB_00124b6e:
  return &_get_class_namev()::_class_name_static;
}



/* Image::~Image() */

void __thiscall Image::~Image(Image *this)

{
  long *plVar1;
  long lVar2;
  
  *(undefined **)this = &XDefineCursor_dylibloader_wrapper_xlib;
  if (*(long *)(this + 0x250) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0x250) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(this + 0x250);
      *(undefined8 *)(this + 0x250) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
      Resource::~Resource((Resource *)this);
      return;
    }
  }
  Resource::~Resource((Resource *)this);
  return;
}



/* DisplayServer::get_class() const */

void DisplayServer::get_class(void)

{
  long lVar1;
  long lVar2;
  char *__s;
  long in_RSI;
  StrRange *in_RDI;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)(in_RSI + 8) == 0) {
    *(undefined8 *)in_RDI = 0;
    String::parse_latin1(in_RDI);
  }
  else {
    lVar2 = *(long *)(*(long *)(in_RSI + 8) + 0x20);
    if (lVar2 == 0) {
      *(undefined8 *)in_RDI = 0;
    }
    else {
      __s = *(char **)(lVar2 + 8);
      *(undefined8 *)in_RDI = 0;
      if (__s == (char *)0x0) {
        if (*(long *)(lVar2 + 0x10) != 0) {
          CowData<char32_t>::_ref((CowData<char32_t> *)in_RDI,(CowData *)(lVar2 + 0x10));
        }
      }
      else {
        strlen(__s);
        String::parse_latin1(in_RDI);
      }
    }
  }
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServer::_initialize_classv() */

void DisplayServer::_initialize_classv(void)

{
  long *plVar1;
  long lVar2;
  long in_FS_OFFSET;
  long local_50;
  long local_48;
  long local_40;
  char *local_38;
  undefined8 local_30;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if (initialize_class()::initialized == '\0') {
    Object::initialize_class();
    local_48 = 0;
    local_38 = "Object";
    local_30 = 6;
    String::parse_latin1((StrRange *)&local_48);
    StringName::StringName((StringName *)&local_40,(String *)&local_48,false);
    local_38 = "DisplayServer";
    local_50 = 0;
    local_30 = 0xd;
    String::parse_latin1((StrRange *)&local_50);
    StringName::StringName((StringName *)&local_38,(String *)&local_50,false);
    ClassDB::_add_class2((StringName *)&local_38,(StringName *)&local_40);
    if ((StringName::configured != '\0') && (local_38 != (char *)0x0)) {
      StringName::unref();
    }
    lVar2 = local_50;
    if (local_50 != 0) {
      LOCK();
      plVar1 = (long *)(local_50 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_50 = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    if ((StringName::configured != '\0') && (local_40 != 0)) {
      StringName::unref();
    }
    lVar2 = local_48;
    if (local_48 != 0) {
      LOCK();
      plVar1 = (long *)(local_48 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_48 = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    if ((code *)PTR__bind_methods_00135008 != Object::_bind_methods) {
      DisplayServer::_bind_methods();
    }
    initialize_class()::initialized = '\x01';
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServer::_get_property_listv(List<PropertyInfo, DefaultAllocator>*, bool) const */

void DisplayServer::_get_property_listv(List *param_1,bool param_2)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  undefined1 (*pauVar4) [16];
  undefined4 *puVar5;
  undefined7 in_register_00000031;
  List *pLVar6;
  long in_FS_OFFSET;
  long local_98;
  long local_90;
  long local_88;
  long local_80;
  char *local_78;
  long local_70;
  long local_68;
  int local_60;
  long local_58;
  undefined4 local_50;
  long local_40;
  
  pLVar6 = (List *)CONCAT71(in_register_00000031,param_2);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = 0;
  local_90 = 0;
  local_78 = "DisplayServer";
  local_70 = 0xd;
  String::parse_latin1((StrRange *)&local_90);
  local_78 = "DisplayServer";
  local_98 = 0;
  local_70 = 0xd;
  String::parse_latin1((StrRange *)&local_98);
  local_78 = (char *)((ulong)local_78 & 0xffffffff00000000);
  local_70 = 0;
  if (local_98 != 0) {
    CowData<char32_t>::_ref((CowData<char32_t> *)&local_70,(CowData *)&local_98);
  }
  local_68 = 0;
  local_60 = 0;
  local_58 = 0;
  if (local_90 == 0) {
LAB_00125298:
    local_50 = 0x80;
    StringName::operator=((StringName *)&local_68,(StringName *)&local_88);
  }
  else {
    CowData<char32_t>::_ref((CowData<char32_t> *)&local_58,(CowData *)&local_90);
    local_50 = 0x80;
    if (local_60 != 0x11) goto LAB_00125298;
    StringName::StringName((StringName *)&local_80,(String *)&local_58,false);
    if (local_68 != local_80) {
      StringName::unref();
      lVar2 = *(long *)pLVar6;
      local_68 = local_80;
      goto joined_r0x001252b6;
    }
    if ((StringName::configured != '\0') && (local_80 != 0)) {
      StringName::unref();
    }
  }
  lVar2 = *(long *)pLVar6;
joined_r0x001252b6:
  if (lVar2 == 0) {
    pauVar4 = (undefined1 (*) [16])operator_new(0x18,DefaultAllocator::alloc);
    *(undefined1 (**) [16])pLVar6 = pauVar4;
    *(undefined4 *)pauVar4[1] = 0;
    *pauVar4 = (undefined1  [16])0x0;
  }
  puVar5 = (undefined4 *)operator_new(0x48,DefaultAllocator::alloc);
  *(undefined8 *)(puVar5 + 8) = 0;
  *(undefined1 (*) [16])(puVar5 + 2) = (undefined1  [16])0x0;
  *puVar5 = 0;
  puVar5[6] = 0;
  puVar5[10] = 6;
  *(undefined8 *)(puVar5 + 0x10) = 0;
  *(undefined1 (*) [16])(puVar5 + 0xc) = (undefined1  [16])0x0;
  *puVar5 = local_78._0_4_;
  if (local_70 != 0) {
    CowData<char32_t>::_ref((CowData<char32_t> *)(puVar5 + 2),(CowData *)&local_70);
  }
  StringName::operator=((StringName *)(puVar5 + 4),(StringName *)&local_68);
  puVar5[6] = local_60;
  if (*(long *)(puVar5 + 8) != local_58) {
    CowData<char32_t>::_ref((CowData<char32_t> *)(puVar5 + 8),(CowData *)&local_58);
  }
  lVar3 = local_58;
  puVar5[10] = local_50;
  plVar1 = *(long **)pLVar6;
  lVar2 = plVar1[1];
  *(undefined8 *)(puVar5 + 0xc) = 0;
  *(long **)(puVar5 + 0x10) = plVar1;
  *(long *)(puVar5 + 0xe) = lVar2;
  if (lVar2 != 0) {
    *(undefined4 **)(lVar2 + 0x30) = puVar5;
  }
  plVar1[1] = (long)puVar5;
  if (*plVar1 == 0) {
    *plVar1 = (long)puVar5;
  }
  *(int *)(plVar1 + 2) = (int)plVar1[2] + 1;
  if (local_58 != 0) {
    LOCK();
    plVar1 = (long *)(local_58 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_58 = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
    }
  }
  if ((StringName::configured != '\0') && (local_68 != 0)) {
    StringName::unref();
  }
  lVar2 = local_70;
  if (local_70 != 0) {
    LOCK();
    plVar1 = (long *)(local_70 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_70 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  lVar2 = local_98;
  if (local_98 != 0) {
    LOCK();
    plVar1 = (long *)(local_98 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_98 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  lVar2 = local_90;
  if (local_90 != 0) {
    LOCK();
    plVar1 = (long *)(local_90 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_90 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if ((StringName::configured != '\0') && (local_88 != 0)) {
    StringName::unref();
  }
  StringName::StringName((StringName *)&local_78,"DisplayServer",false);
  ClassDB::get_property_list((StringName *)&local_78,pLVar6,true,(Object *)param_1);
  if ((StringName::configured != '\0') && (local_78 != (char *)0x0)) {
    StringName::unref();
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* DisplayServer::is_class(String const&) const */

undefined8 __thiscall DisplayServer::is_class(DisplayServer *this,String *param_1)

{
  long *plVar1;
  long lVar2;
  char *pcVar3;
  long lVar4;
  long lVar5;
  char cVar6;
  undefined8 uVar7;
  long lVar8;
  long in_FS_OFFSET;
  bool bVar9;
  long local_60;
  char *local_58;
  size_t local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  for (lVar2 = *(long *)(this + 8); lVar2 != 0; lVar2 = *(long *)(lVar2 + 8)) {
    lVar4 = *(long *)(lVar2 + 0x20);
    if (lVar4 == 0) {
      local_60 = 0;
    }
    else {
      pcVar3 = *(char **)(lVar4 + 8);
      local_60 = 0;
      if (pcVar3 == (char *)0x0) {
        plVar1 = (long *)(*(long *)(lVar4 + 0x10) + -0x10);
        if (*(long *)(lVar4 + 0x10) != 0) {
          do {
            lVar5 = *plVar1;
            if (lVar5 == 0) goto LAB_0012558f;
            LOCK();
            lVar8 = *plVar1;
            bVar9 = lVar5 == lVar8;
            if (bVar9) {
              *plVar1 = lVar5 + 1;
              lVar8 = lVar5;
            }
            UNLOCK();
          } while (!bVar9);
          if (lVar8 != -1) {
            local_60 = *(long *)(lVar4 + 0x10);
          }
        }
      }
      else {
        local_50 = strlen(pcVar3);
        local_58 = pcVar3;
        String::parse_latin1((StrRange *)&local_60);
      }
    }
LAB_0012558f:
    cVar6 = String::operator==(param_1,(String *)&local_60);
    lVar4 = local_60;
    if (local_60 != 0) {
      LOCK();
      plVar1 = (long *)(local_60 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_60 = 0;
        Memory::free_static((void *)(lVar4 + -0x10),false);
      }
    }
    if (cVar6 != '\0') goto LAB_00125643;
  }
  cVar6 = String::operator==(param_1,"DisplayServer");
  if (cVar6 == '\0') {
    for (lVar2 = *(long *)(this + 8); lVar2 != 0; lVar2 = *(long *)(lVar2 + 8)) {
      lVar4 = *(long *)(lVar2 + 0x20);
      if (lVar4 == 0) {
        local_60 = 0;
      }
      else {
        pcVar3 = *(char **)(lVar4 + 8);
        local_60 = 0;
        if (pcVar3 == (char *)0x0) {
          plVar1 = (long *)(*(long *)(lVar4 + 0x10) + -0x10);
          if (*(long *)(lVar4 + 0x10) != 0) {
            do {
              lVar5 = *plVar1;
              if (lVar5 == 0) goto LAB_001256f3;
              LOCK();
              lVar8 = *plVar1;
              bVar9 = lVar5 == lVar8;
              if (bVar9) {
                *plVar1 = lVar5 + 1;
                lVar8 = lVar5;
              }
              UNLOCK();
            } while (!bVar9);
            if (lVar8 != -1) {
              local_60 = *(long *)(lVar4 + 0x10);
            }
          }
        }
        else {
          local_50 = strlen(pcVar3);
          local_58 = pcVar3;
          String::parse_latin1((StrRange *)&local_60);
        }
      }
LAB_001256f3:
      cVar6 = String::operator==(param_1,(String *)&local_60);
      lVar4 = local_60;
      if (local_60 != 0) {
        LOCK();
        plVar1 = (long *)(local_60 + -0x10);
        *plVar1 = *plVar1 + -1;
        UNLOCK();
        if (*plVar1 == 0) {
          local_60 = 0;
          Memory::free_static((void *)(lVar4 + -0x10),false);
        }
      }
      if (cVar6 != '\0') goto LAB_00125643;
    }
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      uVar7 = String::operator==(param_1,"Object");
      return uVar7;
    }
  }
  else {
LAB_00125643:
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      return 1;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* String::parse_latin1(char const*) */

void __thiscall String::parse_latin1(String *this,char *param_1)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 != (char *)0x0) {
    strlen(param_1);
  }
  String::parse_latin1((StrRange *)this);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* Rect2i::intersection(Rect2i const&) const */

undefined8 __thiscall Rect2i::intersection(Rect2i *this,Rect2i *param_1)

{
  int iVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  int iVar4;
  int iVar5;
  long in_FS_OFFSET;
  undefined4 local_40;
  int local_3c;
  undefined8 local_38;
  undefined8 uStack_30;
  long local_20;
  
  local_38 = *(undefined8 *)param_1;
  uVar3 = *(undefined8 *)(param_1 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if (((*(int *)(this + 8) < 0) || (*(int *)(this + 0xc) < 0)) ||
     (uStack_30._0_4_ = (uint)uVar3, uStack_30._4_4_ = (uint)((ulong)uVar3 >> 0x20),
     (int)((uint)uStack_30 | uStack_30._4_4_) < 0)) {
    uStack_30 = uVar3;
    _err_print_error("intersects","./core/math/rect2i.h",0x38,
                     "Rect2i size is negative, this is not supported. Use Rect2i.abs() to get a Rect2i with a positive size."
                     ,0,0);
    uVar3 = uStack_30;
  }
  uStack_30 = uVar3;
  iVar5 = *(int *)this;
  iVar1 = (uint)uStack_30 + (int)local_38;
  if ((iVar5 < iVar1) && ((int)local_38 < *(int *)(this + 8) + iVar5)) {
    iVar1 = *(int *)(this + 4);
    if ((iVar1 < (int)(uStack_30._4_4_ + local_38._4_4_)) &&
       (local_38._4_4_ < *(int *)(this + 0xc) + iVar1)) {
      if (iVar1 < *(int *)(param_1 + 4)) {
        iVar1 = *(int *)(param_1 + 4);
      }
      iVar4 = *(int *)param_1;
      if (*(int *)param_1 < iVar5) {
        iVar4 = iVar5;
      }
      local_38 = CONCAT44(iVar1,iVar4);
      uVar2 = Vector2i::operator+((Vector2i *)param_1,(Vector2i *)(param_1 + 8));
      uVar3 = Vector2i::operator+((Vector2i *)this,(Vector2i *)(this + 8));
      local_3c = (int)((ulong)uVar3 >> 0x20);
      iVar5 = (int)((ulong)uVar2 >> 0x20);
      if (iVar5 < local_3c) {
        local_3c = iVar5;
      }
      if ((int)uVar2 < (int)uVar3) {
        uVar3 = uVar2;
      }
      local_40 = (undefined4)uVar3;
      uStack_30 = Vector2i::operator-((Vector2i *)&local_40,(Vector2i *)&local_38);
      uVar3 = local_38;
      goto LAB_00125924;
    }
  }
  uVar3 = 0;
LAB_00125924:
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar3;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* print_line(Variant const&) */

void print_line(Variant *param_1)

{
  long *plVar1;
  long lVar2;
  long in_FS_OFFSET;
  long local_18;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  stringify_variants((Variant *)&local_18);
  __print_line((String *)&local_18);
  lVar2 = local_18;
  if (local_18 != 0) {
    LOCK();
    plVar1 = (long *)(local_18 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_18 = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* Image::~Image() */

void __thiscall Image::~Image(Image *this)

{
  long *plVar1;
  long lVar2;
  
  *(undefined **)this = &XDefineCursor_dylibloader_wrapper_xlib;
  if (*(long *)(this + 0x250) != 0) {
    LOCK();
    plVar1 = (long *)(*(long *)(this + 0x250) + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      lVar2 = *(long *)(this + 0x250);
      *(undefined8 *)(this + 0x250) = 0;
      Memory::free_static((void *)(lVar2 + -0x10),false);
    }
  }
  Resource::~Resource((Resource *)this);
  operator_delete(this,0x268);
  return;
}



/* NativeMenu::~NativeMenu() */

void __thiscall NativeMenu::~NativeMenu(NativeMenu *this)

{
  *(code **)this = Object::~Object;
  singleton = 0;
  Object::~Object((Object *)this);
  operator_delete(this,0x178);
  return;
}



/* DisplayServer::_get_screen_index(int) const */

ulong DisplayServer::_get_screen_index(int param_1)

{
  code *pcVar1;
  ulong uVar2;
  uint in_ESI;
  undefined4 in_register_0000003c;
  long *plVar3;
  long in_FS_OFFSET;
  undefined8 local_48;
  undefined8 local_40;
  undefined8 local_38 [3];
  long local_20;
  
  plVar3 = (long *)CONCAT44(in_register_0000003c,param_1);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if (in_ESI == 0xfffffffe) {
    if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00125b6b. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      uVar2 = (**(code **)(*plVar3 + 0x400))(plVar3);
      return uVar2;
    }
    goto LAB_00125bb6;
  }
  if ((int)in_ESI < -1) {
    if (in_ESI != 0xfffffffc) {
      if (in_ESI == 0xfffffffd) {
        if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00125af0. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          uVar2 = (**(code **)(*plVar3 + 0x408))(plVar3);
          return uVar2;
        }
        goto LAB_00125bb6;
      }
      goto LAB_00125b28;
    }
    local_48 = (**(code **)(*plVar3 + 0x3a0))();
    local_40 = _LC72;
    pcVar1 = *(code **)(*plVar3 + 0x410);
    local_38[0] = Rect2i::operator_cast_to_Rect2((Rect2i *)&local_48);
    uVar2 = (*pcVar1)(plVar3,local_38);
  }
  else {
    if (in_ESI == 0xffffffff) {
      if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00125b20. Too many branches */
                    /* WARNING: Treating indirect jump as call */
        uVar2 = (**(code **)(*plVar3 + 0x528))(plVar3,0);
        return uVar2;
      }
      goto LAB_00125bb6;
    }
LAB_00125b28:
    uVar2 = (ulong)in_ESI;
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar2;
  }
LAB_00125bb6:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* GLManagerEGL_X11::~GLManagerEGL_X11() */

void __thiscall GLManagerEGL_X11::~GLManagerEGL_X11(GLManagerEGL_X11 *this)

{
  *(code **)this = operator_new;
  EGLManager::~EGLManager((EGLManager *)this);
  operator_delete(this,0x38);
  return;
}



/* RasterizerGLES3::make_current(bool) */

void RasterizerGLES3::make_current(bool param_1)

{
  long lVar1;
  
  gles_over_gl._0_1_ = param_1;
  lVar1 = OS::get_singleton();
  RendererCompositor::low_end._0_1_ = 1;
  *(undefined1 *)(lVar1 + 0x70) = (undefined1)gles_over_gl;
  RendererCompositor::_create_func = _create_current;
  return;
}



/* CowData<char32_t>::_ref(CowData<char32_t> const&) */

void __thiscall CowData<char32_t>::_ref(CowData<char32_t> *this,CowData *param_1)

{
  if (*(long *)this != *(long *)param_1) {
    _ref(this,param_1);
    return;
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashMap<int, Vector2, HashMapHasherDefault, HashMapComparatorDefault<int>,
   DefaultTypedAllocator<HashMapElement<int, Vector2> > >::operator[](int const&) */

undefined1 * __thiscall
HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
::operator[](HashMap<int,Vector2,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,Vector2>>>
             *this,int *param_1)

{
  uint *puVar1;
  undefined8 *puVar2;
  long lVar3;
  void *pvVar4;
  void *__s;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 (*pauVar37) [16];
  uint uVar38;
  uint uVar39;
  uint uVar40;
  ulong uVar41;
  undefined8 uVar42;
  void *__s_00;
  undefined1 (*pauVar43) [16];
  int iVar44;
  ulong uVar45;
  long lVar46;
  ulong uVar47;
  long lVar48;
  long lVar49;
  ulong uVar50;
  undefined8 uVar51;
  uint uVar52;
  ulong uVar53;
  uint uVar54;
  uint uVar55;
  long lVar56;
  undefined1 (*pauVar57) [16];
  long in_FS_OFFSET;
  void *local_a8;
  
  local_a8 = *(void **)(this + 8);
  uVar40 = *param_1;
  lVar3 = *(long *)(in_FS_OFFSET + 0x28);
  uVar41 = (ulong)*(uint *)(this + 0x28);
  uVar39 = *(uint *)(hash_table_size_primes + uVar41 * 4);
  uVar53 = CONCAT44(0,uVar39);
  if (local_a8 == (void *)0x0) {
    uVar41 = uVar53 * 4;
    uVar50 = uVar53 * 8;
    uVar42 = Memory::alloc_static(uVar41,false);
    *(undefined8 *)(this + 0x10) = uVar42;
    local_a8 = (void *)Memory::alloc_static(uVar50,false);
    *(void **)(this + 8) = local_a8;
    if (uVar39 == 0) {
      iVar44 = *(int *)(this + 0x2c);
      uVar40 = *param_1;
      if (local_a8 == (void *)0x0) goto LAB_00125f43;
    }
    else {
      pvVar4 = *(void **)(this + 0x10);
      if ((pvVar4 < (void *)((long)local_a8 + uVar50)) &&
         (local_a8 < (void *)((long)pvVar4 + uVar41))) {
        uVar41 = 0;
        do {
          *(undefined4 *)((long)pvVar4 + uVar41 * 4) = 0;
          *(undefined8 *)((long)local_a8 + uVar41 * 8) = 0;
          uVar41 = uVar41 + 1;
        } while (uVar53 != uVar41);
        iVar44 = *(int *)(this + 0x2c);
        uVar40 = *param_1;
      }
      else {
        memset(pvVar4,0,uVar41);
        memset(local_a8,0,uVar50);
        iVar44 = *(int *)(this + 0x2c);
        uVar40 = *param_1;
      }
    }
    if (iVar44 != 0) {
      uVar41 = (ulong)*(uint *)(this + 0x28);
      lVar56 = *(long *)(this + 0x10);
      goto LAB_00125e5c;
    }
  }
  else {
    iVar44 = *(int *)(this + 0x2c);
    if (iVar44 != 0) {
      uVar50 = *(ulong *)(hash_table_size_primes_inv + uVar41 * 8);
      uVar38 = (uVar40 >> 0x10 ^ uVar40) * -0x7a143595;
      uVar38 = (uVar38 ^ uVar38 >> 0xd) * -0x3d4d51cb;
      uVar54 = uVar38 ^ uVar38 >> 0x10;
      if (uVar38 == uVar38 >> 0x10) {
        uVar54 = 1;
        uVar45 = uVar50;
      }
      else {
        uVar45 = uVar54 * uVar50;
      }
      lVar56 = *(long *)(this + 0x10);
      auVar5._8_8_ = 0;
      auVar5._0_8_ = uVar53;
      auVar21._8_8_ = 0;
      auVar21._0_8_ = uVar45;
      lVar46 = SUB168(auVar5 * auVar21,8);
      uVar38 = *(uint *)(lVar56 + lVar46 * 4);
      uVar55 = SUB164(auVar5 * auVar21,8);
      if (uVar38 != 0) {
        uVar52 = 0;
        do {
          if ((uVar54 == uVar38) &&
             (uVar40 == *(uint *)(*(long *)((long)local_a8 + lVar46 * 8) + 0x10))) {
            pauVar43 = *(undefined1 (**) [16])((long)local_a8 + (ulong)uVar55 * 8);
            goto LAB_00125e22;
          }
          uVar52 = uVar52 + 1;
          auVar6._8_8_ = 0;
          auVar6._0_8_ = (uVar55 + 1) * uVar50;
          auVar22._8_8_ = 0;
          auVar22._0_8_ = uVar53;
          lVar46 = SUB168(auVar6 * auVar22,8);
          uVar38 = *(uint *)(lVar56 + lVar46 * 4);
          uVar55 = SUB164(auVar6 * auVar22,8);
        } while ((uVar38 != 0) &&
                (auVar7._8_8_ = 0, auVar7._0_8_ = uVar38 * uVar50, auVar23._8_8_ = 0,
                auVar23._0_8_ = uVar53, auVar8._8_8_ = 0,
                auVar8._0_8_ = ((uVar55 + uVar39) - SUB164(auVar7 * auVar23,8)) * uVar50,
                auVar24._8_8_ = 0, auVar24._0_8_ = uVar53, uVar52 <= SUB164(auVar8 * auVar24,8)));
      }
LAB_00125e5c:
      uVar45 = CONCAT44(0,*(uint *)(hash_table_size_primes + uVar41 * 4));
      uVar50 = *(ulong *)(hash_table_size_primes_inv + uVar41 * 8);
      uVar39 = (uVar40 >> 0x10 ^ uVar40) * -0x7a143595;
      uVar39 = (uVar39 ^ uVar39 >> 0xd) * -0x3d4d51cb;
      uVar38 = uVar39 ^ uVar39 >> 0x10;
      if (uVar39 == uVar39 >> 0x10) {
        uVar38 = 1;
        uVar47 = uVar50;
      }
      else {
        uVar47 = uVar38 * uVar50;
      }
      auVar9._8_8_ = 0;
      auVar9._0_8_ = uVar45;
      auVar25._8_8_ = 0;
      auVar25._0_8_ = uVar47;
      lVar46 = SUB168(auVar9 * auVar25,8);
      uVar39 = *(uint *)(lVar56 + lVar46 * 4);
      uVar54 = SUB164(auVar9 * auVar25,8);
      if (uVar39 != 0) {
        uVar55 = 0;
        do {
          if ((uVar38 == uVar39) &&
             (*(uint *)(*(long *)((long)local_a8 + lVar46 * 8) + 0x10) == uVar40)) {
            pauVar43 = *(undefined1 (**) [16])((long)local_a8 + (ulong)uVar54 * 8);
            *(undefined8 *)(pauVar43[1] + 4) = 0;
            goto LAB_00125e22;
          }
          uVar55 = uVar55 + 1;
          auVar10._8_8_ = 0;
          auVar10._0_8_ = (uVar54 + 1) * uVar50;
          auVar26._8_8_ = 0;
          auVar26._0_8_ = uVar45;
          lVar46 = SUB168(auVar10 * auVar26,8);
          uVar39 = *(uint *)(lVar56 + lVar46 * 4);
          uVar54 = SUB164(auVar10 * auVar26,8);
        } while ((uVar39 != 0) &&
                (auVar11._8_8_ = 0, auVar11._0_8_ = uVar39 * uVar50, auVar27._8_8_ = 0,
                auVar27._0_8_ = uVar45, auVar12._8_8_ = 0,
                auVar12._0_8_ =
                     ((*(uint *)(hash_table_size_primes + uVar41 * 4) + uVar54) -
                     SUB164(auVar11 * auVar27,8)) * uVar50, auVar28._8_8_ = 0,
                auVar28._0_8_ = uVar45, uVar55 <= SUB164(auVar12 * auVar28,8)));
      }
    }
  }
LAB_00125f43:
  if ((float)uVar53 * __LC96 < (float)(iVar44 + 1)) {
    uVar40 = *(uint *)(this + 0x28);
    if (uVar40 == 0x1c) {
      pauVar43 = (undefined1 (*) [16])0x0;
      _err_print_error("_insert","./core/templates/hash_map.h",0xdd,
                       "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: nullptr"
                       ,"Hash table maximum capacity reached, aborting insertion.",0,0);
      goto LAB_00125e22;
    }
    uVar41 = (ulong)(uVar40 + 1);
    *(undefined4 *)(this + 0x2c) = 0;
    uVar39 = *(uint *)(hash_table_size_primes + (ulong)uVar40 * 4);
    if (uVar40 + 1 < 2) {
      uVar41 = 2;
    }
    uVar40 = *(uint *)(hash_table_size_primes + uVar41 * 4);
    uVar50 = (ulong)uVar40;
    *(int *)(this + 0x28) = (int)uVar41;
    pvVar4 = *(void **)(this + 0x10);
    uVar41 = uVar50 * 4;
    uVar53 = uVar50 * 8;
    uVar42 = Memory::alloc_static(uVar41,false);
    *(undefined8 *)(this + 0x10) = uVar42;
    __s_00 = (void *)Memory::alloc_static(uVar53,false);
    *(void **)(this + 8) = __s_00;
    if (uVar40 != 0) {
      __s = *(void **)(this + 0x10);
      if ((__s < (void *)((long)__s_00 + uVar53)) && (__s_00 < (void *)((long)__s + uVar41))) {
        uVar41 = 0;
        do {
          *(undefined4 *)((long)__s + uVar41 * 4) = 0;
          *(undefined8 *)((long)__s_00 + uVar41 * 8) = 0;
          uVar41 = uVar41 + 1;
        } while (uVar41 != uVar50);
      }
      else {
        memset(__s,0,uVar41);
        memset(__s_00,0,uVar53);
      }
    }
    if (uVar39 != 0) {
      uVar41 = 0;
      do {
        uVar40 = *(uint *)((long)pvVar4 + uVar41 * 4);
        if (uVar40 != 0) {
          lVar56 = *(long *)(this + 0x10);
          uVar55 = 0;
          uVar38 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
          uVar53 = CONCAT44(0,uVar38);
          lVar46 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
          auVar13._8_8_ = 0;
          auVar13._0_8_ = (ulong)uVar40 * lVar46;
          auVar29._8_8_ = 0;
          auVar29._0_8_ = uVar53;
          lVar48 = SUB168(auVar13 * auVar29,8);
          puVar1 = (uint *)(lVar56 + lVar48 * 4);
          iVar44 = SUB164(auVar13 * auVar29,8);
          uVar54 = *puVar1;
          uVar42 = *(undefined8 *)((long)local_a8 + uVar41 * 8);
          while (uVar54 != 0) {
            auVar14._8_8_ = 0;
            auVar14._0_8_ = (ulong)uVar54 * lVar46;
            auVar30._8_8_ = 0;
            auVar30._0_8_ = uVar53;
            auVar15._8_8_ = 0;
            auVar15._0_8_ = (ulong)((uVar38 + iVar44) - SUB164(auVar14 * auVar30,8)) * lVar46;
            auVar31._8_8_ = 0;
            auVar31._0_8_ = uVar53;
            uVar52 = SUB164(auVar15 * auVar31,8);
            uVar51 = uVar42;
            if (uVar52 < uVar55) {
              *puVar1 = uVar40;
              puVar2 = (undefined8 *)((long)__s_00 + lVar48 * 8);
              uVar51 = *puVar2;
              *puVar2 = uVar42;
              uVar40 = uVar54;
              uVar55 = uVar52;
            }
            uVar55 = uVar55 + 1;
            auVar16._8_8_ = 0;
            auVar16._0_8_ = (ulong)(iVar44 + 1) * lVar46;
            auVar32._8_8_ = 0;
            auVar32._0_8_ = uVar53;
            lVar48 = SUB168(auVar16 * auVar32,8);
            puVar1 = (uint *)(lVar56 + lVar48 * 4);
            iVar44 = SUB164(auVar16 * auVar32,8);
            uVar42 = uVar51;
            uVar54 = *puVar1;
          }
          *(undefined8 *)((long)__s_00 + lVar48 * 8) = uVar42;
          *puVar1 = uVar40;
          *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
        }
        uVar41 = uVar41 + 1;
      } while (uVar39 != uVar41);
      Memory::free_static(local_a8,false);
      Memory::free_static(pvVar4,false);
    }
  }
  iVar44 = *param_1;
  pauVar43 = (undefined1 (*) [16])operator_new(0x20,"");
  *pauVar43 = (undefined1  [16])0x0;
  *(int *)pauVar43[1] = iVar44;
  *(undefined8 *)(pauVar43[1] + 4) = 0;
  puVar2 = *(undefined8 **)(this + 0x20);
  if (puVar2 == (undefined8 *)0x0) {
    *(undefined1 (**) [16])(this + 0x18) = pauVar43;
  }
  else {
    *puVar2 = pauVar43;
    *(undefined8 **)(*pauVar43 + 8) = puVar2;
  }
  *(undefined1 (**) [16])(this + 0x20) = pauVar43;
  uVar40 = ((uint)*param_1 >> 0x10 ^ *param_1) * -0x7a143595;
  uVar39 = (uVar40 ^ uVar40 >> 0xd) * -0x3d4d51cb;
  uVar40 = uVar39 ^ uVar39 >> 0x10;
  if (uVar39 == uVar39 >> 0x10) {
    uVar41 = 1;
    uVar40 = 1;
  }
  else {
    uVar41 = (ulong)uVar40;
  }
  uVar54 = 0;
  lVar56 = *(long *)(this + 0x10);
  lVar46 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
  uVar39 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
  uVar53 = CONCAT44(0,uVar39);
  auVar17._8_8_ = 0;
  auVar17._0_8_ = uVar41 * lVar46;
  auVar33._8_8_ = 0;
  auVar33._0_8_ = uVar53;
  lVar49 = SUB168(auVar17 * auVar33,8);
  lVar48 = *(long *)(this + 8);
  puVar1 = (uint *)(lVar56 + lVar49 * 4);
  iVar44 = SUB164(auVar17 * auVar33,8);
  uVar38 = *puVar1;
  pauVar37 = pauVar43;
  while (uVar38 != 0) {
    auVar18._8_8_ = 0;
    auVar18._0_8_ = (ulong)uVar38 * lVar46;
    auVar34._8_8_ = 0;
    auVar34._0_8_ = uVar53;
    auVar19._8_8_ = 0;
    auVar19._0_8_ = (ulong)((uVar39 + iVar44) - SUB164(auVar18 * auVar34,8)) * lVar46;
    auVar35._8_8_ = 0;
    auVar35._0_8_ = uVar53;
    uVar55 = SUB164(auVar19 * auVar35,8);
    pauVar57 = pauVar37;
    if (uVar55 < uVar54) {
      *puVar1 = uVar40;
      puVar2 = (undefined8 *)(lVar48 + lVar49 * 8);
      pauVar57 = (undefined1 (*) [16])*puVar2;
      *puVar2 = pauVar37;
      uVar40 = uVar38;
      uVar54 = uVar55;
    }
    uVar54 = uVar54 + 1;
    auVar20._8_8_ = 0;
    auVar20._0_8_ = (ulong)(iVar44 + 1) * lVar46;
    auVar36._8_8_ = 0;
    auVar36._0_8_ = uVar53;
    lVar49 = SUB168(auVar20 * auVar36,8);
    puVar1 = (uint *)(lVar56 + lVar49 * 4);
    iVar44 = SUB164(auVar20 * auVar36,8);
    pauVar37 = pauVar57;
    uVar38 = *puVar1;
  }
  *(undefined1 (**) [16])(lVar48 + lVar49 * 8) = pauVar37;
  *puVar1 = uVar40;
  *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
LAB_00125e22:
  if (lVar3 == *(long *)(in_FS_OFFSET + 0x28)) {
    return pauVar43[1] + 4;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashMap<int, bool, HashMapHasherDefault, HashMapComparatorDefault<int>,
   DefaultTypedAllocator<HashMapElement<int, bool> > >::operator[](int const&) */

undefined1  [16] __thiscall
HashMap<int,bool,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,bool>>>
::operator[](HashMap<int,bool,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,bool>>>
             *this,int *param_1)

{
  uint *puVar1;
  undefined8 *puVar2;
  void *pvVar3;
  void *__s;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 (*pauVar36) [16];
  uint uVar37;
  uint uVar38;
  uint uVar39;
  ulong uVar40;
  undefined8 uVar41;
  void *__s_00;
  undefined1 (*pauVar42) [16];
  ulong uVar43;
  int iVar44;
  ulong uVar45;
  long lVar46;
  long lVar47;
  ulong uVar48;
  undefined8 uVar49;
  uint uVar50;
  ulong uVar51;
  long lVar52;
  uint uVar53;
  uint uVar54;
  undefined1 (*pauVar55) [16];
  undefined1 auVar56 [16];
  undefined1 auVar57 [16];
  long lStack_90;
  void *local_70;
  
  local_70 = *(void **)(this + 8);
  uVar40 = (ulong)*(uint *)(this + 0x28);
  uVar38 = *param_1;
  uVar39 = *(uint *)(hash_table_size_primes + uVar40 * 4);
  uVar51 = CONCAT44(0,uVar39);
  if (local_70 == (void *)0x0) {
    uVar40 = uVar51 * 4;
    uVar48 = uVar51 * 8;
    uVar41 = Memory::alloc_static(uVar40,false);
    *(undefined8 *)(this + 0x10) = uVar41;
    lStack_90 = 0x126a5b;
    local_70 = (void *)Memory::alloc_static(uVar48,false);
    *(void **)(this + 8) = local_70;
    if (uVar39 == 0) {
      iVar44 = *(int *)(this + 0x2c);
      uVar38 = *param_1;
      if (local_70 == (void *)0x0) goto LAB_001265c3;
    }
    else {
      pvVar3 = *(void **)(this + 0x10);
      if ((pvVar3 < (void *)((long)local_70 + uVar48)) &&
         (local_70 < (void *)((long)pvVar3 + uVar40))) {
        uVar40 = 0;
        do {
          *(undefined4 *)((long)pvVar3 + uVar40 * 4) = 0;
          *(undefined8 *)((long)local_70 + uVar40 * 8) = 0;
          uVar40 = uVar40 + 1;
        } while (uVar51 != uVar40);
        iVar44 = *(int *)(this + 0x2c);
        uVar38 = *param_1;
      }
      else {
        memset(pvVar3,0,uVar40);
        lStack_90 = 0x126aa4;
        memset(local_70,0,uVar48);
        iVar44 = *(int *)(this + 0x2c);
        uVar38 = *param_1;
      }
    }
    if (iVar44 != 0) {
      uVar40 = (ulong)*(uint *)(this + 0x28);
      lVar52 = *(long *)(this + 0x10);
      goto LAB_00126943;
    }
  }
  else {
    iVar44 = *(int *)(this + 0x2c);
    if (iVar44 != 0) {
      uVar48 = *(ulong *)(hash_table_size_primes_inv + uVar40 * 8);
      uVar37 = (uVar38 >> 0x10 ^ uVar38) * -0x7a143595;
      uVar37 = (uVar37 ^ uVar37 >> 0xd) * -0x3d4d51cb;
      uVar53 = uVar37 ^ uVar37 >> 0x10;
      if (uVar37 == uVar37 >> 0x10) {
        uVar53 = 1;
        uVar45 = uVar48;
      }
      else {
        uVar45 = uVar53 * uVar48;
      }
      lVar52 = *(long *)(this + 0x10);
      auVar4._8_8_ = 0;
      auVar4._0_8_ = uVar51;
      auVar20._8_8_ = 0;
      auVar20._0_8_ = uVar45;
      lVar46 = SUB168(auVar4 * auVar20,8);
      uVar37 = *(uint *)(lVar52 + lVar46 * 4);
      uVar54 = SUB164(auVar4 * auVar20,8);
      if (uVar37 != 0) {
        uVar50 = 0;
        lVar47 = lVar46;
        do {
          if ((uVar53 == uVar37) &&
             (uVar38 == *(uint *)(*(long *)((long)local_70 + lVar46 * 8) + 0x10))) {
            auVar56._0_8_ = *(long *)((long)local_70 + (ulong)uVar54 * 8) + 0x14;
            auVar56._8_8_ = lVar47;
            return auVar56;
          }
          uVar50 = uVar50 + 1;
          auVar5._8_8_ = 0;
          auVar5._0_8_ = (uVar54 + 1) * uVar48;
          auVar21._8_8_ = 0;
          auVar21._0_8_ = uVar51;
          lVar46 = SUB168(auVar5 * auVar21,8);
          uVar37 = *(uint *)(lVar52 + lVar46 * 4);
          uVar54 = SUB164(auVar5 * auVar21,8);
        } while ((uVar37 != 0) &&
                (auVar6._8_8_ = 0, auVar6._0_8_ = uVar37 * uVar48, auVar22._8_8_ = 0,
                auVar22._0_8_ = uVar51, auVar7._8_8_ = 0,
                auVar7._0_8_ = ((uVar54 + uVar39) - SUB164(auVar6 * auVar22,8)) * uVar48,
                auVar23._8_8_ = 0, auVar23._0_8_ = uVar51, lVar47 = SUB168(auVar7 * auVar23,8),
                uVar50 <= SUB164(auVar7 * auVar23,8)));
      }
LAB_00126943:
      uVar45 = CONCAT44(0,*(uint *)(hash_table_size_primes + uVar40 * 4));
      uVar48 = *(ulong *)(hash_table_size_primes_inv + uVar40 * 8);
      uVar39 = (uVar38 >> 0x10 ^ uVar38) * -0x7a143595;
      uVar39 = (uVar39 ^ uVar39 >> 0xd) * -0x3d4d51cb;
      uVar37 = uVar39 ^ uVar39 >> 0x10;
      if (uVar39 == uVar39 >> 0x10) {
        uVar37 = 1;
        uVar43 = uVar48;
      }
      else {
        uVar43 = uVar37 * uVar48;
      }
      auVar16._8_8_ = 0;
      auVar16._0_8_ = uVar45;
      auVar32._8_8_ = 0;
      auVar32._0_8_ = uVar43;
      lVar46 = SUB168(auVar16 * auVar32,8);
      uVar39 = *(uint *)(lVar52 + lVar46 * 4);
      uVar53 = SUB164(auVar16 * auVar32,8);
      if (uVar39 != 0) {
        uVar54 = 0;
        lVar47 = lVar46;
        do {
          if ((uVar37 == uVar39) &&
             (*(uint *)(*(long *)((long)local_70 + lVar46 * 8) + 0x10) == uVar38)) {
            pauVar42 = *(undefined1 (**) [16])((long)local_70 + (ulong)uVar53 * 8);
            pauVar42[1][4] = 0;
            lStack_90 = lVar47;
            goto LAB_00126924;
          }
          uVar54 = uVar54 + 1;
          auVar17._8_8_ = 0;
          auVar17._0_8_ = (uVar53 + 1) * uVar48;
          auVar33._8_8_ = 0;
          auVar33._0_8_ = uVar45;
          lVar46 = SUB168(auVar17 * auVar33,8);
          uVar39 = *(uint *)(lVar52 + lVar46 * 4);
          uVar53 = SUB164(auVar17 * auVar33,8);
        } while ((uVar39 != 0) &&
                (auVar18._8_8_ = 0, auVar18._0_8_ = uVar39 * uVar48, auVar34._8_8_ = 0,
                auVar34._0_8_ = uVar45, auVar19._8_8_ = 0,
                auVar19._0_8_ =
                     ((*(uint *)(hash_table_size_primes + uVar40 * 4) + uVar53) -
                     SUB164(auVar18 * auVar34,8)) * uVar48, auVar35._8_8_ = 0,
                auVar35._0_8_ = uVar45, lVar47 = SUB168(auVar19 * auVar35,8),
                uVar54 <= SUB164(auVar19 * auVar35,8)));
      }
    }
  }
LAB_001265c3:
  if ((float)uVar51 * __LC96 < (float)(iVar44 + 1)) {
    uVar38 = *(uint *)(this + 0x28);
    if (uVar38 == 0x1c) {
      pauVar42 = (undefined1 (*) [16])0x0;
      _err_print_error("_insert","./core/templates/hash_map.h",0xdd,
                       "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: nullptr"
                       ,"Hash table maximum capacity reached, aborting insertion.",0,0);
      goto LAB_00126924;
    }
    uVar40 = (ulong)(uVar38 + 1);
    *(undefined4 *)(this + 0x2c) = 0;
    uVar39 = *(uint *)(hash_table_size_primes + (ulong)uVar38 * 4);
    if (uVar38 + 1 < 2) {
      uVar40 = 2;
    }
    uVar38 = *(uint *)(hash_table_size_primes + uVar40 * 4);
    uVar48 = (ulong)uVar38;
    *(int *)(this + 0x28) = (int)uVar40;
    pvVar3 = *(void **)(this + 0x10);
    uVar40 = uVar48 * 4;
    uVar51 = uVar48 * 8;
    uVar41 = Memory::alloc_static(uVar40,false);
    *(undefined8 *)(this + 0x10) = uVar41;
    __s_00 = (void *)Memory::alloc_static(uVar51,false);
    *(void **)(this + 8) = __s_00;
    if (uVar38 != 0) {
      __s = *(void **)(this + 0x10);
      if ((__s < (void *)((long)__s_00 + uVar51)) && (__s_00 < (void *)((long)__s + uVar40))) {
        uVar40 = 0;
        do {
          *(undefined4 *)((long)__s + uVar40 * 4) = 0;
          *(undefined8 *)((long)__s_00 + uVar40 * 8) = 0;
          uVar40 = uVar40 + 1;
        } while (uVar40 != uVar48);
      }
      else {
        memset(__s,0,uVar40);
        memset(__s_00,0,uVar51);
      }
    }
    if (uVar39 != 0) {
      uVar40 = 0;
      do {
        uVar38 = *(uint *)((long)pvVar3 + uVar40 * 4);
        if (uVar38 != 0) {
          lVar52 = *(long *)(this + 0x10);
          uVar54 = 0;
          uVar37 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
          uVar51 = CONCAT44(0,uVar37);
          lVar46 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
          auVar8._8_8_ = 0;
          auVar8._0_8_ = (ulong)uVar38 * lVar46;
          auVar24._8_8_ = 0;
          auVar24._0_8_ = uVar51;
          lVar47 = SUB168(auVar8 * auVar24,8);
          puVar1 = (uint *)(lVar52 + lVar47 * 4);
          iVar44 = SUB164(auVar8 * auVar24,8);
          uVar53 = *puVar1;
          uVar41 = *(undefined8 *)((long)local_70 + uVar40 * 8);
          while (uVar53 != 0) {
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (ulong)uVar53 * lVar46;
            auVar25._8_8_ = 0;
            auVar25._0_8_ = uVar51;
            auVar10._8_8_ = 0;
            auVar10._0_8_ = (ulong)((uVar37 + iVar44) - SUB164(auVar9 * auVar25,8)) * lVar46;
            auVar26._8_8_ = 0;
            auVar26._0_8_ = uVar51;
            uVar50 = SUB164(auVar10 * auVar26,8);
            uVar49 = uVar41;
            if (uVar50 < uVar54) {
              *puVar1 = uVar38;
              puVar2 = (undefined8 *)((long)__s_00 + lVar47 * 8);
              uVar49 = *puVar2;
              *puVar2 = uVar41;
              uVar38 = uVar53;
              uVar54 = uVar50;
            }
            uVar54 = uVar54 + 1;
            auVar11._8_8_ = 0;
            auVar11._0_8_ = (ulong)(iVar44 + 1) * lVar46;
            auVar27._8_8_ = 0;
            auVar27._0_8_ = uVar51;
            lVar47 = SUB168(auVar11 * auVar27,8);
            puVar1 = (uint *)(lVar52 + lVar47 * 4);
            iVar44 = SUB164(auVar11 * auVar27,8);
            uVar41 = uVar49;
            uVar53 = *puVar1;
          }
          *(undefined8 *)((long)__s_00 + lVar47 * 8) = uVar41;
          *puVar1 = uVar38;
          *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
        }
        uVar40 = uVar40 + 1;
      } while (uVar39 != uVar40);
      Memory::free_static(local_70,false);
      Memory::free_static(pvVar3,false);
    }
  }
  iVar44 = *param_1;
  pauVar42 = (undefined1 (*) [16])operator_new(0x18,"");
  *(int *)pauVar42[1] = iVar44;
  pauVar42[1][4] = 0;
  *pauVar42 = (undefined1  [16])0x0;
  puVar2 = *(undefined8 **)(this + 0x20);
  if (puVar2 == (undefined8 *)0x0) {
    *(undefined1 (**) [16])(this + 0x18) = pauVar42;
  }
  else {
    *puVar2 = pauVar42;
    *(undefined8 **)(*pauVar42 + 8) = puVar2;
  }
  *(undefined1 (**) [16])(this + 0x20) = pauVar42;
  uVar38 = ((uint)*param_1 >> 0x10 ^ *param_1) * -0x7a143595;
  uVar39 = (uVar38 ^ uVar38 >> 0xd) * -0x3d4d51cb;
  uVar38 = uVar39 ^ uVar39 >> 0x10;
  if (uVar39 == uVar39 >> 0x10) {
    uVar40 = 1;
    uVar38 = 1;
  }
  else {
    uVar40 = (ulong)uVar38;
  }
  uVar53 = 0;
  lVar52 = *(long *)(this + 0x10);
  lVar46 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
  uVar39 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
  uVar51 = CONCAT44(0,uVar39);
  auVar12._8_8_ = 0;
  auVar12._0_8_ = uVar40 * lVar46;
  auVar28._8_8_ = 0;
  auVar28._0_8_ = uVar51;
  lStack_90 = SUB168(auVar12 * auVar28,8);
  lVar47 = *(long *)(this + 8);
  puVar1 = (uint *)(lVar52 + lStack_90 * 4);
  iVar44 = SUB164(auVar12 * auVar28,8);
  uVar37 = *puVar1;
  pauVar36 = pauVar42;
  while (uVar37 != 0) {
    auVar13._8_8_ = 0;
    auVar13._0_8_ = (ulong)uVar37 * lVar46;
    auVar29._8_8_ = 0;
    auVar29._0_8_ = uVar51;
    auVar14._8_8_ = 0;
    auVar14._0_8_ = (ulong)((uVar39 + iVar44) - SUB164(auVar13 * auVar29,8)) * lVar46;
    auVar30._8_8_ = 0;
    auVar30._0_8_ = uVar51;
    uVar54 = SUB164(auVar14 * auVar30,8);
    pauVar55 = pauVar36;
    if (uVar54 < uVar53) {
      *puVar1 = uVar38;
      puVar2 = (undefined8 *)(lVar47 + lStack_90 * 8);
      pauVar55 = (undefined1 (*) [16])*puVar2;
      *puVar2 = pauVar36;
      uVar38 = uVar37;
      uVar53 = uVar54;
    }
    uVar53 = uVar53 + 1;
    auVar15._8_8_ = 0;
    auVar15._0_8_ = (ulong)(iVar44 + 1) * lVar46;
    auVar31._8_8_ = 0;
    auVar31._0_8_ = uVar51;
    lStack_90 = SUB168(auVar15 * auVar31,8);
    puVar1 = (uint *)(lVar52 + lStack_90 * 4);
    iVar44 = SUB164(auVar15 * auVar31,8);
    pauVar36 = pauVar55;
    uVar37 = *puVar1;
  }
  *(undefined1 (**) [16])(lVar47 + lStack_90 * 8) = pauVar36;
  *puVar1 = uVar38;
  *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
LAB_00126924:
  auVar57._8_8_ = lStack_90;
  auVar57._0_8_ = pauVar42[1] + 4;
  return auVar57;
}



/* LocalVector<unsigned char, unsigned int, false, false>::resize(unsigned int) */

void __thiscall
LocalVector<unsigned_char,unsigned_int,false,false>::resize
          (LocalVector<unsigned_char,unsigned_int,false,false> *this,uint param_1)

{
  code *pcVar1;
  long lVar2;
  uint uVar3;
  
  if (*(uint *)this <= param_1) {
    if (param_1 <= *(uint *)this) {
      return;
    }
    if (*(uint *)(this + 4) < param_1) {
      uVar3 = param_1 - 1 | param_1 - 1 >> 1;
      uVar3 = uVar3 | uVar3 >> 2;
      uVar3 = uVar3 | uVar3 >> 4;
      uVar3 = uVar3 | uVar3 >> 8;
      uVar3 = (uVar3 | uVar3 >> 0x10) + 1;
      *(uint *)(this + 4) = uVar3;
      lVar2 = Memory::realloc_static(*(void **)(this + 8),(ulong)uVar3,false);
      *(long *)(this + 8) = lVar2;
      if (lVar2 == 0) {
        _err_print_error("resize","./core/templates/local_vector.h",0xa3,
                         "FATAL: Condition \"!data\" is true.","Out of memory",0,0);
        _err_flush_stdout();
                    /* WARNING: Does not return */
        pcVar1 = (code *)invalidInstructionException();
        (*pcVar1)();
      }
    }
  }
  *(uint *)this = param_1;
  return;
}



/* HashMap<int, DisplayServerX11::WindowData, HashMapHasherDefault, HashMapComparatorDefault<int>,
   DefaultTypedAllocator<HashMapElement<int, DisplayServerX11::WindowData> > >::operator[](int
   const&) const */

long __thiscall
HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
::operator[](HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             *this,int *param_1)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  code *pcVar12;
  uint uVar13;
  uint uVar14;
  ulong uVar15;
  long lVar16;
  uint uVar17;
  uint uVar18;
  ulong uVar19;
  
  lVar2 = *(long *)(this + 8);
  uVar1 = *param_1;
  if ((lVar2 != 0) && (*(int *)(this + 0x2c) != 0)) {
    uVar19 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4));
    uVar3 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
    uVar13 = (uVar1 >> 0x10 ^ uVar1) * -0x7a143595;
    uVar13 = (uVar13 ^ uVar13 >> 0xd) * -0x3d4d51cb;
    uVar17 = uVar13 ^ uVar13 >> 0x10;
    if (uVar13 == uVar13 >> 0x10) {
      uVar17 = 1;
      uVar15 = uVar3;
    }
    else {
      uVar15 = uVar17 * uVar3;
    }
    auVar4._8_8_ = 0;
    auVar4._0_8_ = uVar19;
    auVar8._8_8_ = 0;
    auVar8._0_8_ = uVar15;
    lVar16 = SUB168(auVar4 * auVar8,8);
    uVar13 = *(uint *)(*(long *)(this + 0x10) + lVar16 * 4);
    uVar14 = SUB164(auVar4 * auVar8,8);
    if (uVar13 != 0) {
      uVar18 = 0;
      do {
        if ((uVar17 == uVar13) && (uVar1 == *(uint *)(*(long *)(lVar2 + lVar16 * 8) + 0x10))) {
          return *(long *)(lVar2 + (ulong)uVar14 * 8) + 0x18;
        }
        uVar18 = uVar18 + 1;
        auVar5._8_8_ = 0;
        auVar5._0_8_ = (uVar14 + 1) * uVar3;
        auVar9._8_8_ = 0;
        auVar9._0_8_ = uVar19;
        lVar16 = SUB168(auVar5 * auVar9,8);
        uVar13 = *(uint *)(*(long *)(this + 0x10) + lVar16 * 4);
        uVar14 = SUB164(auVar5 * auVar9,8);
      } while ((uVar13 != 0) &&
              (auVar6._8_8_ = 0, auVar6._0_8_ = uVar13 * uVar3, auVar10._8_8_ = 0,
              auVar10._0_8_ = uVar19, auVar7._8_8_ = 0,
              auVar7._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4)
                              + uVar14) - SUB164(auVar6 * auVar10,8)) * uVar3, auVar11._8_8_ = 0,
              auVar11._0_8_ = uVar19, uVar18 <= SUB164(auVar7 * auVar11,8)));
    }
  }
  _err_print_error("operator[]","./core/templates/hash_map.h",0x245,
                   "FATAL: Condition \"!exists\" is true.",0,0);
  _err_flush_stdout();
                    /* WARNING: Does not return */
  pcVar12 = (code *)invalidInstructionException();
  (*pcVar12)();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashSet<int, HashMapHasherDefault, HashMapComparatorDefault<int> >::insert(int const&) */

undefined1  [16]
HashSet<int,HashMapHasherDefault,HashMapComparatorDefault<int>>::insert(int *param_1)

{
  void *pvVar1;
  void *pvVar2;
  long lVar3;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  uint uVar29;
  uint uVar30;
  uint uVar31;
  uint uVar32;
  ulong uVar33;
  long lVar34;
  long lVar35;
  long lVar36;
  uint *puVar37;
  int iVar38;
  uint *in_RDX;
  long lVar39;
  ulong uVar40;
  uint uVar41;
  long *in_RSI;
  uint uVar42;
  ulong uVar43;
  undefined4 uVar44;
  ulong uVar45;
  uint uVar46;
  uint *puVar47;
  undefined1 auVar48 [16];
  long *plStack_98;
  
  lVar34 = *in_RSI;
  uVar30 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 4) * 4);
  if (lVar34 == 0) {
    uVar33 = (ulong)uVar30 * 4;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[3] = lVar34;
    lVar34 = Memory::alloc_static(uVar33,false);
    *in_RSI = lVar34;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[2] = lVar34;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[1] = lVar34;
    if (uVar30 != 0) {
      memset((void *)in_RSI[3],0,uVar33);
    }
    uVar31 = *in_RDX;
    uVar42 = *(uint *)((long)in_RSI + 0x24);
    lVar34 = *in_RSI;
    if (lVar34 != 0) goto LAB_00126e9a;
  }
  else {
    uVar31 = *in_RDX;
    uVar42 = *(uint *)((long)in_RSI + 0x24);
LAB_00126e9a:
    if (uVar42 != 0) {
      uVar33 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 4) * 8);
      uVar29 = (uVar31 >> 0x10 ^ uVar31) * -0x7a143595;
      uVar29 = (uVar29 ^ uVar29 >> 0xd) * -0x3d4d51cb;
      uVar41 = uVar29 ^ uVar29 >> 0x10;
      if (uVar29 == uVar29 >> 0x10) {
        uVar41 = 1;
        uVar40 = uVar33;
      }
      else {
        uVar40 = uVar41 * uVar33;
      }
      uVar43 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 4) * 4));
      auVar5._8_8_ = 0;
      auVar5._0_8_ = uVar43;
      auVar17._8_8_ = 0;
      auVar17._0_8_ = uVar40;
      lVar39 = SUB168(auVar5 * auVar17,8);
      iVar38 = SUB164(auVar5 * auVar17,8);
      uVar29 = *(uint *)(in_RSI[3] + lVar39 * 4);
      uVar40 = (ulong)uVar29;
      if (uVar29 != 0) {
        uVar29 = 0;
        do {
          if (uVar41 == (uint)uVar40) {
            uVar32 = *(uint *)(in_RSI[1] + lVar39 * 4);
            plStack_98 = (long *)(ulong)uVar32;
            if (*(uint *)(lVar34 + (long)plStack_98 * 4) == uVar31) goto LAB_00126f8f;
          }
          uVar29 = uVar29 + 1;
          auVar6._8_8_ = 0;
          auVar6._0_8_ = (iVar38 + 1) * uVar33;
          auVar18._8_8_ = 0;
          auVar18._0_8_ = uVar43;
          lVar39 = SUB168(auVar6 * auVar18,8);
          uVar32 = *(uint *)(in_RSI[3] + lVar39 * 4);
          uVar40 = (ulong)uVar32;
          iVar38 = SUB164(auVar6 * auVar18,8);
        } while ((uVar32 != 0) &&
                (auVar7._8_8_ = 0, auVar7._0_8_ = uVar40 * uVar33, auVar19._8_8_ = 0,
                auVar19._0_8_ = uVar43, auVar8._8_8_ = 0,
                auVar8._0_8_ = ((*(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 4) * 4
                                          ) + iVar38) - SUB164(auVar7 * auVar19,8)) * uVar33,
                auVar20._8_8_ = 0, auVar20._0_8_ = uVar43, uVar29 <= SUB164(auVar8 * auVar20,8)));
      }
    }
  }
  if ((float)uVar30 * __LC96 < (float)(uVar42 + 1)) {
    if ((int)in_RSI[4] == 0x1c) {
      plStack_98 = (long *)0x0;
      _err_print_error("_insert","./core/templates/hash_set.h",0xbf,
                       "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: -1"
                       ,"Hash table maximum capacity reached, aborting insertion.",0);
      uVar42 = *(uint *)((long)in_RSI + 0x24);
      lVar34 = *in_RSI;
      uVar32 = 0xffffffff;
      goto LAB_00126f8f;
    }
    uVar30 = (int)in_RSI[4] + 1;
    uVar33 = (ulong)uVar30;
    if (uVar30 < 2) {
      uVar33 = 2;
    }
    uVar30 = *(uint *)(hash_table_size_primes + uVar33 * 4);
    *(int *)(in_RSI + 4) = (int)uVar33;
    pvVar1 = (void *)in_RSI[3];
    uVar33 = (ulong)uVar30 << 2;
    pvVar2 = (void *)in_RSI[2];
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[3] = lVar34;
    lVar34 = Memory::realloc_static((void *)*in_RSI,uVar33,false);
    *in_RSI = lVar34;
    lVar34 = Memory::alloc_static(uVar33,false);
    in_RSI[2] = lVar34;
    lVar34 = Memory::realloc_static((void *)in_RSI[1],uVar33,false);
    in_RSI[1] = lVar34;
    if (uVar30 != 0) {
      memset((void *)in_RSI[3],0,uVar33);
    }
    if (*(int *)((long)in_RSI + 0x24) != 0) {
      uVar33 = 0;
      lVar39 = in_RSI[3];
      lVar3 = in_RSI[2];
      do {
        uVar45 = uVar33 & 0xffffffff;
        uVar44 = (undefined4)uVar33;
        uVar29 = 0;
        uVar30 = *(uint *)((long)pvVar1 + (ulong)*(uint *)((long)pvVar2 + uVar33 * 4) * 4);
        uVar40 = (ulong)uVar30;
        lVar35 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 4) * 8);
        uVar42 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 4) * 4);
        uVar43 = CONCAT44(0,uVar42);
        auVar9._8_8_ = 0;
        auVar9._0_8_ = uVar40 * lVar35;
        auVar21._8_8_ = 0;
        auVar21._0_8_ = uVar43;
        lVar36 = SUB168(auVar9 * auVar21,8) * 4;
        iVar38 = SUB164(auVar9 * auVar21,8);
        puVar47 = (uint *)(lVar39 + lVar36);
        uVar31 = *puVar47;
        if (uVar31 == 0) {
          lVar35 = uVar33 * 4;
        }
        else {
          do {
            auVar10._8_8_ = 0;
            auVar10._0_8_ = (ulong)uVar31 * lVar35;
            auVar22._8_8_ = 0;
            auVar22._0_8_ = uVar43;
            auVar11._8_8_ = 0;
            auVar11._0_8_ = (ulong)((uVar42 + iVar38) - SUB164(auVar10 * auVar22,8)) * lVar35;
            auVar23._8_8_ = 0;
            auVar23._0_8_ = uVar43;
            uVar30 = SUB164(auVar11 * auVar23,8);
            if (uVar30 < uVar29) {
              *(int *)(lVar3 + uVar45 * 4) = iVar38;
              uVar31 = *puVar47;
              *puVar47 = (uint)uVar40;
              uVar29 = *(uint *)(lVar36 + lVar34);
              uVar40 = (ulong)uVar31;
              *(uint *)(lVar36 + lVar34) = (uint)uVar45;
              uVar45 = (ulong)uVar29;
              uVar29 = uVar30;
            }
            uVar44 = (undefined4)uVar45;
            uVar30 = (uint)uVar40;
            uVar29 = uVar29 + 1;
            auVar12._8_8_ = 0;
            auVar12._0_8_ = (ulong)(iVar38 + 1) * lVar35;
            auVar24._8_8_ = 0;
            auVar24._0_8_ = uVar43;
            lVar36 = SUB168(auVar12 * auVar24,8) * 4;
            iVar38 = SUB164(auVar12 * auVar24,8);
            puVar47 = (uint *)(lVar39 + lVar36);
            uVar31 = *puVar47;
          } while (uVar31 != 0);
          lVar35 = uVar45 << 2;
        }
        *puVar47 = uVar30;
        uVar33 = uVar33 + 1;
        *(int *)(lVar3 + lVar35) = iVar38;
        *(undefined4 *)(lVar34 + lVar36) = uVar44;
      } while ((uint)uVar33 < *(uint *)((long)in_RSI + 0x24));
    }
    Memory::free_static(pvVar1,false);
    Memory::free_static(pvVar2,false);
    uVar42 = *(uint *)((long)in_RSI + 0x24);
    lVar34 = *in_RSI;
    uVar31 = *in_RDX;
  }
  uVar30 = (uVar31 >> 0x10 ^ uVar31) * -0x7a143595;
  uVar29 = (uVar30 ^ uVar30 >> 0xd) * -0x3d4d51cb;
  uVar30 = uVar29 ^ uVar29 >> 0x10;
  if (uVar29 == uVar29 >> 0x10) {
    uVar33 = 1;
    uVar30 = 1;
  }
  else {
    uVar33 = (ulong)uVar30;
  }
  uVar41 = 0;
  *(uint *)(lVar34 + (ulong)uVar42 * 4) = uVar31;
  lVar3 = in_RSI[3];
  uVar42 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(in_RSI + 4) * 4);
  uVar40 = CONCAT44(0,uVar42);
  lVar36 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(in_RSI + 4) * 8);
  auVar13._8_8_ = 0;
  auVar13._0_8_ = uVar33 * lVar36;
  auVar25._8_8_ = 0;
  auVar25._0_8_ = uVar40;
  lVar39 = SUB168(auVar13 * auVar25,8) * 4;
  iVar38 = SUB164(auVar13 * auVar25,8);
  lVar35 = in_RSI[2];
  puVar47 = (uint *)(lVar3 + lVar39);
  lVar4 = in_RSI[1];
  uVar31 = *puVar47;
  uVar29 = *(uint *)((long)in_RSI + 0x24);
  plStack_98 = in_RSI;
  while (uVar31 != 0) {
    auVar14._8_8_ = 0;
    auVar14._0_8_ = (ulong)uVar31 * lVar36;
    auVar26._8_8_ = 0;
    auVar26._0_8_ = uVar40;
    auVar15._8_8_ = 0;
    auVar15._0_8_ = (ulong)((uVar42 + iVar38) - SUB164(auVar14 * auVar26,8)) * lVar36;
    auVar27._8_8_ = 0;
    auVar27._0_8_ = uVar40;
    uVar31 = SUB164(auVar15 * auVar27,8);
    uVar32 = uVar30;
    uVar46 = uVar29;
    if (uVar31 < uVar41) {
      puVar37 = (uint *)(lVar39 + lVar4);
      *(int *)(lVar35 + (ulong)uVar29 * 4) = iVar38;
      uVar32 = *puVar47;
      *puVar47 = uVar30;
      uVar46 = *puVar37;
      *puVar37 = uVar29;
      uVar41 = uVar31;
    }
    uVar41 = uVar41 + 1;
    auVar16._8_8_ = 0;
    auVar16._0_8_ = (ulong)(iVar38 + 1) * lVar36;
    auVar28._8_8_ = 0;
    auVar28._0_8_ = uVar40;
    plStack_98 = SUB168(auVar16 * auVar28,8);
    lVar39 = (long)plStack_98 * 4;
    iVar38 = SUB164(auVar16 * auVar28,8);
    puVar47 = (uint *)(lVar3 + lVar39);
    uVar29 = uVar46;
    uVar30 = uVar32;
    uVar31 = *puVar47;
  }
  *puVar47 = uVar30;
  *(int *)(lVar35 + (ulong)uVar29 * 4) = iVar38;
  *(uint *)(lVar4 + lVar39) = uVar29;
  uVar32 = *(uint *)((long)in_RSI + 0x24);
  uVar42 = uVar32 + 1;
  *(uint *)((long)in_RSI + 0x24) = uVar42;
LAB_00126f8f:
  param_1[3] = uVar32;
  *(long *)param_1 = lVar34;
  param_1[2] = uVar42;
  auVar48._8_8_ = plStack_98;
  auVar48._0_8_ = param_1;
  return auVar48;
}



/* void Ref<InputEventKey>::instantiate<>() */

void __thiscall Ref<InputEventKey>::instantiate<>(Ref<InputEventKey> *this)

{
  char cVar1;
  Resource *this_00;
  Object *pOVar2;
  Object *pOVar3;
  
  this_00 = (Resource *)operator_new(0x270,"");
  Resource::Resource(this_00);
  this_00[0x254] = (Resource)0x0;
  *(undefined2 *)(this_00 + 0x244) = 0;
  *(undefined4 *)(this_00 + 0x240) = 0;
  *(undefined8 *)(this_00 + 0x248) = 0;
  *(undefined4 *)(this_00 + 0x250) = 0;
  *(code **)this_00 = RefCounted::init_ref;
  *(undefined8 *)(this_00 + 600) = 0;
  *(undefined8 *)(this_00 + 0x260) = 0;
  *(undefined4 *)(this_00 + 0x268) = 0;
  this_00[0x26c] = (Resource)0x0;
  postinitialize_handler((Object *)this_00);
  cVar1 = RefCounted::init_ref();
  if (cVar1 == '\0') {
    pOVar3 = *(Object **)this;
    if (pOVar3 == (Object *)0x0) {
      return;
    }
    *(undefined8 *)this = 0;
    cVar1 = RefCounted::unreference();
    if (cVar1 == '\0') {
      return;
    }
    this_00 = (Resource *)0x0;
    cVar1 = predelete_handler(pOVar3);
    if (cVar1 == '\0') {
      return;
    }
  }
  else {
    pOVar3 = *(Object **)this;
    pOVar2 = pOVar3;
    if (this_00 == (Resource *)pOVar3) goto LAB_00127555;
    *(Resource **)this = this_00;
    cVar1 = RefCounted::reference();
    if (cVar1 == '\0') {
      *(undefined8 *)this = 0;
    }
    pOVar2 = (Object *)this_00;
    if (((pOVar3 == (Object *)0x0) || (cVar1 = RefCounted::unreference(), cVar1 == '\0')) ||
       (cVar1 = predelete_handler(pOVar3), cVar1 == '\0')) goto LAB_00127555;
  }
  (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
  Memory::free_static(pOVar3,false);
  pOVar2 = (Object *)this_00;
  if (this_00 == (Resource *)0x0) {
    return;
  }
LAB_00127555:
  cVar1 = RefCounted::unreference();
  if ((cVar1 != '\0') && (cVar1 = predelete_handler(pOVar2), cVar1 != '\0')) {
    (**(code **)(*(long *)pOVar2 + 0x140))(pOVar2);
    Memory::free_static(pOVar2,false);
    return;
  }
  return;
}



/* void Ref<InputEventScreenTouch>::instantiate<>() */

void __thiscall Ref<InputEventScreenTouch>::instantiate<>(Ref<InputEventScreenTouch> *this)

{
  char cVar1;
  Resource *this_00;
  Object *pOVar2;
  Object *pOVar3;
  
  this_00 = (Resource *)operator_new(0x260,"");
  Resource::Resource(this_00);
  this_00[0x25c] = (Resource)0x0;
  *(undefined2 *)(this_00 + 0x244) = 0;
  *(undefined4 *)(this_00 + 0x240) = 0;
  *(undefined8 *)(this_00 + 0x248) = 0;
  *(undefined **)this_00 = &InputEventMouseMotion::vtable;
  *(undefined4 *)(this_00 + 0x250) = 0;
  *(undefined8 *)(this_00 + 0x254) = 0;
  postinitialize_handler((Object *)this_00);
  cVar1 = RefCounted::init_ref();
  if (cVar1 == '\0') {
    pOVar3 = *(Object **)this;
    if (pOVar3 == (Object *)0x0) {
      return;
    }
    *(undefined8 *)this = 0;
    cVar1 = RefCounted::unreference();
    if (cVar1 == '\0') {
      return;
    }
    this_00 = (Resource *)0x0;
    cVar1 = predelete_handler(pOVar3);
    if (cVar1 == '\0') {
      return;
    }
  }
  else {
    pOVar3 = *(Object **)this;
    pOVar2 = pOVar3;
    if (this_00 == (Resource *)pOVar3) goto LAB_001276c5;
    *(Resource **)this = this_00;
    cVar1 = RefCounted::reference();
    if (cVar1 == '\0') {
      *(undefined8 *)this = 0;
    }
    pOVar2 = (Object *)this_00;
    if (((pOVar3 == (Object *)0x0) || (cVar1 = RefCounted::unreference(), cVar1 == '\0')) ||
       (cVar1 = predelete_handler(pOVar3), cVar1 == '\0')) goto LAB_001276c5;
  }
  (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
  Memory::free_static(pOVar3,false);
  pOVar2 = (Object *)this_00;
  if (this_00 == (Resource *)0x0) {
    return;
  }
LAB_001276c5:
  cVar1 = RefCounted::unreference();
  if ((cVar1 != '\0') && (cVar1 = predelete_handler(pOVar2), cVar1 != '\0')) {
    (**(code **)(*(long *)pOVar2 + 0x140))(pOVar2);
    Memory::free_static(pOVar2,false);
    return;
  }
  return;
}



/* void Ref<InputEventScreenDrag>::instantiate<>() */

void __thiscall Ref<InputEventScreenDrag>::instantiate<>(Ref<InputEventScreenDrag> *this)

{
  char cVar1;
  Resource *this_00;
  Object *pOVar2;
  Object *pOVar3;
  
  this_00 = (Resource *)operator_new(0x290,"");
  Resource::Resource(this_00);
  this_00[0x288] = (Resource)0x0;
  *(undefined2 *)(this_00 + 0x244) = 0;
  *(undefined4 *)(this_00 + 0x240) = 0;
  *(code **)this_00 = __fdelt_chk;
  *(undefined8 *)(this_00 + 0x248) = 0;
  *(undefined8 *)(this_00 + 0x250) = 0;
  *(undefined8 *)(this_00 + 600) = 0;
  *(undefined8 *)(this_00 + 0x260) = 0;
  *(undefined8 *)(this_00 + 0x268) = 0;
  *(undefined8 *)(this_00 + 0x270) = 0;
  *(undefined8 *)(this_00 + 0x278) = 0;
  *(undefined8 *)(this_00 + 0x280) = 0;
  postinitialize_handler((Object *)this_00);
  cVar1 = RefCounted::init_ref();
  if (cVar1 == '\0') {
    pOVar3 = *(Object **)this;
    if (pOVar3 == (Object *)0x0) {
      return;
    }
    *(undefined8 *)this = 0;
    cVar1 = RefCounted::unreference();
    if (cVar1 == '\0') {
      return;
    }
    this_00 = (Resource *)0x0;
    cVar1 = predelete_handler(pOVar3);
    if (cVar1 == '\0') {
      return;
    }
  }
  else {
    pOVar3 = *(Object **)this;
    pOVar2 = pOVar3;
    if (this_00 == (Resource *)pOVar3) goto LAB_00127875;
    *(Resource **)this = this_00;
    cVar1 = RefCounted::reference();
    if (cVar1 == '\0') {
      *(undefined8 *)this = 0;
    }
    pOVar2 = (Object *)this_00;
    if (((pOVar3 == (Object *)0x0) || (cVar1 = RefCounted::unreference(), cVar1 == '\0')) ||
       (cVar1 = predelete_handler(pOVar3), cVar1 == '\0')) goto LAB_00127875;
  }
  (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
  Memory::free_static(pOVar3,false);
  pOVar2 = (Object *)this_00;
  if (this_00 == (Resource *)0x0) {
    return;
  }
LAB_00127875:
  cVar1 = RefCounted::unreference();
  if ((cVar1 != '\0') && (cVar1 = predelete_handler(pOVar2), cVar1 != '\0')) {
    (**(code **)(*(long *)pOVar2 + 0x140))(pOVar2);
    Memory::free_static(pOVar2,false);
    return;
  }
  return;
}



/* void Ref<InputEventMouseMotion>::instantiate<>() */

void __thiscall Ref<InputEventMouseMotion>::instantiate<>(Ref<InputEventMouseMotion> *this)

{
  char cVar1;
  Resource *this_00;
  Object *pOVar2;
  Object *pOVar3;
  
  this_00 = (Resource *)operator_new(0x2a0,"");
  Resource::Resource(this_00);
  this_00[0x254] = (Resource)0x0;
  *(undefined2 *)(this_00 + 0x244) = 0;
  *(undefined4 *)(this_00 + 0x240) = 0;
  *(undefined8 *)(this_00 + 0x248) = 0;
  *(undefined4 *)(this_00 + 0x250) = 0;
  *(undefined8 *)(this_00 + 600) = 0;
  *(undefined8 *)(this_00 + 0x260) = 0;
  *(undefined8 *)(this_00 + 0x268) = 0;
  *(code **)this_00 = select;
  *(undefined8 *)(this_00 + 0x270) = 0;
  *(undefined4 *)(this_00 + 0x278) = 0;
  *(undefined8 *)(this_00 + 0x27c) = 0;
  *(undefined8 *)(this_00 + 0x284) = 0;
  *(undefined8 *)(this_00 + 0x28c) = 0;
  *(undefined8 *)(this_00 + 0x294) = 0;
  this_00[0x29c] = (Resource)0x0;
  postinitialize_handler((Object *)this_00);
  cVar1 = RefCounted::init_ref();
  if (cVar1 == '\0') {
    pOVar3 = *(Object **)this;
    if (pOVar3 == (Object *)0x0) {
      return;
    }
    *(undefined8 *)this = 0;
    cVar1 = RefCounted::unreference();
    if (cVar1 == '\0') {
      return;
    }
    this_00 = (Resource *)0x0;
    cVar1 = predelete_handler(pOVar3);
    if (cVar1 == '\0') {
      return;
    }
  }
  else {
    pOVar3 = *(Object **)this;
    pOVar2 = pOVar3;
    if (this_00 == (Resource *)pOVar3) goto LAB_00127a45;
    *(Resource **)this = this_00;
    cVar1 = RefCounted::reference();
    if (cVar1 == '\0') {
      *(undefined8 *)this = 0;
    }
    pOVar2 = (Object *)this_00;
    if (((pOVar3 == (Object *)0x0) || (cVar1 = RefCounted::unreference(), cVar1 == '\0')) ||
       (cVar1 = predelete_handler(pOVar3), cVar1 == '\0')) goto LAB_00127a45;
  }
  (**(code **)(*(long *)pOVar3 + 0x140))(pOVar3);
  Memory::free_static(pOVar3,false);
  pOVar2 = (Object *)this_00;
  if (this_00 == (Resource *)0x0) {
    return;
  }
LAB_00127a45:
  cVar1 = RefCounted::unreference();
  if ((cVar1 != '\0') && (cVar1 = predelete_handler(pOVar2), cVar1 != '\0')) {
    (**(code **)(*(long *)pOVar2 + 0x140))(pOVar2);
    Memory::free_static(pOVar2,false);
    return;
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashMap<long, DisplayServerX11::EmbeddedProcessData*, HashMapHasherDefault,
   HashMapComparatorDefault<long>, DefaultTypedAllocator<HashMapElement<long,
   DisplayServerX11::EmbeddedProcessData*> > >::insert(long const&,
   DisplayServerX11::EmbeddedProcessData* const&, bool) */

void HashMap<long,DisplayServerX11::EmbeddedProcessData*,HashMapHasherDefault,HashMapComparatorDefault<long>,DefaultTypedAllocator<HashMapElement<long,DisplayServerX11::EmbeddedProcessData*>>>
     ::insert(long *param_1,EmbeddedProcessData **param_2,bool param_3)

{
  EmbeddedProcessData *pEVar1;
  EmbeddedProcessData *pEVar2;
  undefined8 uVar3;
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  EmbeddedProcessData *pEVar28;
  uint uVar29;
  uint uVar30;
  ulong uVar31;
  EmbeddedProcessData *pEVar32;
  EmbeddedProcessData *pEVar33;
  undefined8 *in_RCX;
  int iVar34;
  undefined7 in_register_00000011;
  long *plVar35;
  long lVar36;
  long lVar37;
  uint uVar38;
  long lVar39;
  undefined8 uVar40;
  ulong uVar41;
  uint uVar42;
  char in_R8B;
  uint uVar43;
  uint uVar44;
  ulong uVar45;
  EmbeddedProcessData *pEVar46;
  EmbeddedProcessData *local_80;
  
  plVar35 = (long *)CONCAT71(in_register_00000011,param_3);
  uVar38 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 5) * 4);
  local_80 = param_2[1];
  if (local_80 == (EmbeddedProcessData *)0x0) {
    uVar45 = (ulong)uVar38;
    uVar31 = uVar45 * 4;
    uVar41 = uVar45 * 8;
    pEVar33 = (EmbeddedProcessData *)Memory::alloc_static(uVar31,false);
    param_2[2] = pEVar33;
    local_80 = (EmbeddedProcessData *)Memory::alloc_static(uVar41,false);
    param_2[1] = local_80;
    if (uVar38 != 0) {
      pEVar33 = param_2[2];
      if ((pEVar33 < local_80 + uVar41) && (local_80 < pEVar33 + uVar31)) {
        uVar31 = 0;
        do {
          *(undefined4 *)(pEVar33 + uVar31 * 4) = 0;
          *(undefined8 *)(local_80 + uVar31 * 8) = 0;
          uVar31 = uVar31 + 1;
        } while (uVar45 != uVar31);
        goto LAB_00127b1b;
      }
      memset(pEVar33,0,uVar31);
      memset(local_80,0,uVar41);
      iVar34 = *(int *)((long)param_2 + 0x2c);
      lVar39 = *plVar35;
      goto LAB_00127b27;
    }
    iVar34 = *(int *)((long)param_2 + 0x2c);
    lVar39 = *plVar35;
    if (local_80 != (EmbeddedProcessData *)0x0) goto LAB_00127b27;
  }
  else {
LAB_00127b1b:
    iVar34 = *(int *)((long)param_2 + 0x2c);
    lVar39 = *plVar35;
LAB_00127b27:
    if (iVar34 != 0) {
      uVar41 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 5) * 4));
      lVar37 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(param_2 + 5) * 8);
      uVar31 = lVar39 * 0x3ffff - 1;
      uVar31 = (uVar31 ^ uVar31 >> 0x1f) * 0x15;
      uVar31 = (uVar31 ^ uVar31 >> 0xb) * 0x41;
      uVar31 = uVar31 >> 0x16 ^ uVar31;
      uVar45 = uVar31 & 0xffffffff;
      if ((int)uVar31 == 0) {
        uVar45 = 1;
      }
      uVar44 = 0;
      auVar4._8_8_ = 0;
      auVar4._0_8_ = uVar45 * lVar37;
      auVar16._8_8_ = 0;
      auVar16._0_8_ = uVar41;
      lVar36 = SUB168(auVar4 * auVar16,8);
      uVar42 = *(uint *)(param_2[2] + lVar36 * 4);
      uVar30 = SUB164(auVar4 * auVar16,8);
      if (uVar42 != 0) {
        do {
          if (((uint)uVar45 == uVar42) &&
             (*(long *)(*(long *)(local_80 + lVar36 * 8) + 0x10) == lVar39)) {
            pEVar33 = *(EmbeddedProcessData **)(local_80 + (ulong)uVar30 * 8);
            *(undefined8 *)(pEVar33 + 0x18) = *in_RCX;
            goto LAB_00127fc1;
          }
          uVar44 = uVar44 + 1;
          auVar5._8_8_ = 0;
          auVar5._0_8_ = (ulong)(uVar30 + 1) * lVar37;
          auVar17._8_8_ = 0;
          auVar17._0_8_ = uVar41;
          lVar36 = SUB168(auVar5 * auVar17,8);
          uVar42 = *(uint *)(param_2[2] + lVar36 * 4);
          uVar30 = SUB164(auVar5 * auVar17,8);
        } while ((uVar42 != 0) &&
                (auVar6._8_8_ = 0, auVar6._0_8_ = (ulong)uVar42 * lVar37, auVar18._8_8_ = 0,
                auVar18._0_8_ = uVar41, auVar7._8_8_ = 0,
                auVar7._0_8_ = (ulong)((*(uint *)(hash_table_size_primes +
                                                 (ulong)*(uint *)(param_2 + 5) * 4) + uVar30) -
                                      SUB164(auVar6 * auVar18,8)) * lVar37, auVar19._8_8_ = 0,
                auVar19._0_8_ = uVar41, uVar44 <= SUB164(auVar7 * auVar19,8)));
      }
    }
  }
  if ((float)uVar38 * __LC96 < (float)(iVar34 + 1)) {
    uVar38 = *(uint *)(param_2 + 5);
    if (uVar38 == 0x1c) {
      _err_print_error("_insert","./core/templates/hash_map.h",0xdd,
                       "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: nullptr"
                       ,"Hash table maximum capacity reached, aborting insertion.",0,0);
      pEVar33 = (EmbeddedProcessData *)0x0;
      goto LAB_00127fc1;
    }
    uVar31 = (ulong)(uVar38 + 1);
    *(undefined4 *)((long)param_2 + 0x2c) = 0;
    uVar42 = *(uint *)(hash_table_size_primes + (ulong)uVar38 * 4);
    if (uVar38 + 1 < 2) {
      uVar31 = 2;
    }
    uVar38 = *(uint *)(hash_table_size_primes + uVar31 * 4);
    uVar45 = (ulong)uVar38;
    *(int *)(param_2 + 5) = (int)uVar31;
    pEVar33 = param_2[2];
    uVar31 = uVar45 * 4;
    uVar41 = uVar45 * 8;
    pEVar32 = (EmbeddedProcessData *)Memory::alloc_static(uVar31,false);
    param_2[2] = pEVar32;
    pEVar32 = (EmbeddedProcessData *)Memory::alloc_static(uVar41,false);
    param_2[1] = pEVar32;
    if (uVar38 != 0) {
      pEVar1 = param_2[2];
      if ((pEVar1 < pEVar32 + uVar41) && (pEVar32 < pEVar1 + uVar31)) {
        uVar31 = 0;
        do {
          *(undefined4 *)(pEVar1 + uVar31 * 4) = 0;
          *(undefined8 *)(pEVar32 + uVar31 * 8) = 0;
          uVar31 = uVar31 + 1;
        } while (uVar45 != uVar31);
      }
      else {
        memset(pEVar1,0,uVar31);
        memset(pEVar32,0,uVar41);
      }
    }
    if (uVar42 != 0) {
      uVar31 = 0;
      do {
        uVar38 = *(uint *)(pEVar33 + uVar31 * 4);
        if (uVar38 != 0) {
          pEVar2 = param_2[2];
          uVar43 = 0;
          uVar30 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 5) * 4);
          uVar41 = CONCAT44(0,uVar30);
          lVar39 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(param_2 + 5) * 8);
          auVar8._8_8_ = 0;
          auVar8._0_8_ = (ulong)uVar38 * lVar39;
          auVar20._8_8_ = 0;
          auVar20._0_8_ = uVar41;
          lVar37 = SUB168(auVar8 * auVar20,8);
          pEVar1 = pEVar2 + lVar37 * 4;
          iVar34 = SUB164(auVar8 * auVar20,8);
          uVar44 = *(uint *)pEVar1;
          uVar3 = *(undefined8 *)(local_80 + uVar31 * 8);
          while (uVar44 != 0) {
            auVar9._8_8_ = 0;
            auVar9._0_8_ = (ulong)uVar44 * lVar39;
            auVar21._8_8_ = 0;
            auVar21._0_8_ = uVar41;
            auVar10._8_8_ = 0;
            auVar10._0_8_ = (ulong)((uVar30 + iVar34) - SUB164(auVar9 * auVar21,8)) * lVar39;
            auVar22._8_8_ = 0;
            auVar22._0_8_ = uVar41;
            uVar29 = SUB164(auVar10 * auVar22,8);
            uVar40 = uVar3;
            if (uVar29 < uVar43) {
              *(uint *)pEVar1 = uVar38;
              uVar40 = *(undefined8 *)(pEVar32 + lVar37 * 8);
              *(undefined8 *)(pEVar32 + lVar37 * 8) = uVar3;
              uVar38 = uVar44;
              uVar43 = uVar29;
            }
            uVar43 = uVar43 + 1;
            auVar11._8_8_ = 0;
            auVar11._0_8_ = (ulong)(iVar34 + 1) * lVar39;
            auVar23._8_8_ = 0;
            auVar23._0_8_ = uVar41;
            lVar37 = SUB168(auVar11 * auVar23,8);
            pEVar1 = pEVar2 + lVar37 * 4;
            iVar34 = SUB164(auVar11 * auVar23,8);
            uVar3 = uVar40;
            uVar44 = *(uint *)pEVar1;
          }
          *(undefined8 *)(pEVar32 + lVar37 * 8) = uVar3;
          *(uint *)pEVar1 = uVar38;
          *(int *)((long)param_2 + 0x2c) = *(int *)((long)param_2 + 0x2c) + 1;
        }
        uVar31 = uVar31 + 1;
      } while (uVar31 != uVar42);
      Memory::free_static(local_80,false);
      Memory::free_static(pEVar33,false);
    }
  }
  lVar39 = *plVar35;
  uVar3 = *in_RCX;
  pEVar33 = (EmbeddedProcessData *)operator_new(0x20,"");
  *(long *)(pEVar33 + 0x10) = lVar39;
  *(undefined8 *)(pEVar33 + 0x18) = uVar3;
  *(undefined1 (*) [16])pEVar33 = (undefined1  [16])0x0;
  pEVar32 = param_2[4];
  if (pEVar32 == (EmbeddedProcessData *)0x0) {
    param_2[3] = pEVar33;
    param_2[4] = pEVar33;
  }
  else if (in_R8B == '\0') {
    *(EmbeddedProcessData **)pEVar32 = pEVar33;
    *(EmbeddedProcessData **)(pEVar33 + 8) = pEVar32;
    param_2[4] = pEVar33;
  }
  else {
    pEVar32 = param_2[3];
    *(EmbeddedProcessData **)(pEVar32 + 8) = pEVar33;
    *(EmbeddedProcessData **)pEVar33 = pEVar32;
    param_2[3] = pEVar33;
  }
  pEVar32 = param_2[2];
  uVar31 = *plVar35 * 0x3ffff - 1;
  uVar31 = (uVar31 ^ uVar31 >> 0x1f) * 0x15;
  uVar31 = (uVar31 ^ uVar31 >> 0xb) * 0x41;
  uVar31 = uVar31 >> 0x16 ^ uVar31;
  uVar41 = uVar31 & 0xffffffff;
  if ((int)uVar31 == 0) {
    uVar41 = 1;
  }
  uVar44 = 0;
  uVar38 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 5) * 4);
  uVar31 = CONCAT44(0,uVar38);
  uVar30 = (uint)uVar41;
  lVar39 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(param_2 + 5) * 8);
  auVar12._8_8_ = 0;
  auVar12._0_8_ = uVar41 * lVar39;
  auVar24._8_8_ = 0;
  auVar24._0_8_ = uVar31;
  lVar37 = SUB168(auVar12 * auVar24,8);
  pEVar2 = param_2[1];
  pEVar1 = pEVar32 + lVar37 * 4;
  iVar34 = SUB164(auVar12 * auVar24,8);
  uVar42 = *(uint *)pEVar1;
  pEVar28 = pEVar33;
  while (uVar42 != 0) {
    auVar13._8_8_ = 0;
    auVar13._0_8_ = (ulong)uVar42 * lVar39;
    auVar25._8_8_ = 0;
    auVar25._0_8_ = uVar31;
    auVar14._8_8_ = 0;
    auVar14._0_8_ = (ulong)((uVar38 + iVar34) - SUB164(auVar13 * auVar25,8)) * lVar39;
    auVar26._8_8_ = 0;
    auVar26._0_8_ = uVar31;
    uVar30 = SUB164(auVar14 * auVar26,8);
    pEVar46 = pEVar28;
    if (uVar30 < uVar44) {
      *(uint *)pEVar1 = (uint)uVar41;
      uVar41 = (ulong)uVar42;
      pEVar1 = pEVar2 + lVar37 * 8;
      pEVar46 = *(EmbeddedProcessData **)pEVar1;
      *(EmbeddedProcessData **)pEVar1 = pEVar28;
      uVar44 = uVar30;
    }
    uVar30 = (uint)uVar41;
    uVar44 = uVar44 + 1;
    auVar15._8_8_ = 0;
    auVar15._0_8_ = (ulong)(iVar34 + 1) * lVar39;
    auVar27._8_8_ = 0;
    auVar27._0_8_ = uVar31;
    lVar37 = SUB168(auVar15 * auVar27,8);
    pEVar1 = pEVar32 + lVar37 * 4;
    iVar34 = SUB164(auVar15 * auVar27,8);
    pEVar28 = pEVar46;
    uVar42 = *(uint *)pEVar1;
  }
  *(EmbeddedProcessData **)(pEVar2 + lVar37 * 8) = pEVar28;
  *(uint *)pEVar1 = uVar30;
  *(int *)((long)param_2 + 0x2c) = *(int *)((long)param_2 + 0x2c) + 1;
LAB_00127fc1:
  *param_1 = (long)pEVar33;
  return;
}



/* void memdelete<RenderingContextDriver>(RenderingContextDriver*) */

void memdelete<RenderingContextDriver>(RenderingContextDriver *param_1)

{
  (*(code *)**(undefined8 **)param_1)();
  Memory::free_static(param_1,false);
  return;
}



/* CowData<char>::_unref() */

void __thiscall CowData<char>::_unref(CowData<char> *this)

{
  long *plVar1;
  long lVar2;
  
  if (*(long *)this == 0) {
    return;
  }
  LOCK();
  plVar1 = (long *)(*(long *)this + -0x10);
  *plVar1 = *plVar1 + -1;
  UNLOCK();
  if (*plVar1 != 0) {
    *(undefined8 *)this = 0;
    return;
  }
  lVar2 = *(long *)this;
  *(undefined8 *)this = 0;
  Memory::free_static((void *)(lVar2 + -0x10),false);
  return;
}



/* CowData<char32_t>::_unref() */

void __thiscall CowData<char32_t>::_unref(CowData<char32_t> *this)

{
  long *plVar1;
  long lVar2;
  
  if (*(long *)this == 0) {
    return;
  }
  LOCK();
  plVar1 = (long *)(*(long *)this + -0x10);
  *plVar1 = *plVar1 + -1;
  UNLOCK();
  if (*plVar1 != 0) {
    *(undefined8 *)this = 0;
    return;
  }
  lVar2 = *(long *)this;
  *(undefined8 *)this = 0;
  Memory::free_static((void *)(lVar2 + -0x10),false);
  return;
}



/* WARNING: Removing unreachable block (ram,0x00128378) */
/* WARNING: Removing unreachable block (ram,0x0012850d) */
/* WARNING: Removing unreachable block (ram,0x00128519) */
/* String vformat<String>(String const&, String const) */

undefined8 * vformat<String>(undefined8 *param_1,bool *param_2,String *param_3)

{
  Variant *this;
  int iVar1;
  long in_FS_OFFSET;
  Array local_c8 [8];
  undefined8 local_c0 [9];
  int local_78 [6];
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant((Variant *)local_78,param_3);
  local_60 = 0;
  local_58 = (undefined1  [16])0x0;
  Array::Array(local_c8);
  iVar1 = (int)local_c8;
  Array::resize(iVar1);
  this = (Variant *)Array::operator[](iVar1);
  Variant::operator=(this,(Variant *)local_78);
  String::sprintf((Array *)local_c0,param_2);
  *param_1 = local_c0[0];
  Array::~Array(local_c8);
  if (Variant::needs_deinit[(int)local_60] != '\0') {
    Variant::_clear_internal();
  }
  if (Variant::needs_deinit[local_78[0]] != '\0') {
    Variant::_clear_internal();
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x001286b0) */
/* WARNING: Removing unreachable block (ram,0x00128845) */
/* WARNING: Removing unreachable block (ram,0x00128851) */
/* String vformat<int, int>(String const&, int const, int const) */

String * vformat<int,int>(String *param_1,int param_2,int param_3)

{
  Variant *pVVar1;
  Variant *pVVar2;
  int in_ECX;
  undefined4 in_register_00000034;
  int iVar3;
  long in_FS_OFFSET;
  Array local_d8 [8];
  undefined8 local_d0 [9];
  Variant local_88 [24];
  Variant local_70 [24];
  undefined8 local_58;
  undefined1 local_50 [16];
  long local_40 [2];
  
  local_40[0] = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant(local_88,param_3);
  Variant::Variant(local_70,in_ECX);
  local_58 = 0;
  local_50 = (undefined1  [16])0x0;
  Array::Array(local_d8);
  iVar3 = (int)local_d8;
  Array::resize(iVar3);
  pVVar2 = (Variant *)Array::operator[](iVar3);
  Variant::operator=(pVVar2,local_88);
  pVVar2 = (Variant *)Array::operator[](iVar3);
  Variant::operator=(pVVar2,local_70);
  String::sprintf((Array *)local_d0,(bool *)CONCAT44(in_register_00000034,param_2));
  *(undefined8 *)param_1 = local_d0[0];
  pVVar2 = (Variant *)local_40;
  Array::~Array(local_d8);
  do {
    pVVar1 = pVVar2 + -0x18;
    pVVar2 = pVVar2 + -0x18;
    if (Variant::needs_deinit[*(int *)pVVar1] != '\0') {
      Variant::_clear_internal();
    }
  } while (pVVar2 != local_88);
  if (local_40[0] != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x001289f8) */
/* WARNING: Removing unreachable block (ram,0x00128b8d) */
/* WARNING: Removing unreachable block (ram,0x00128b99) */
/* String vformat<int, int, int, int>(String const&, int const, int const, int const, int const) */

String * vformat<int,int,int,int>(String *param_1,int param_2,int param_3,int param_4,int param_5)

{
  Variant *pVVar1;
  Variant *pVVar2;
  undefined4 in_register_00000034;
  int iVar3;
  int in_R9D;
  int iVar4;
  long in_FS_OFFSET;
  Array local_108 [8];
  undefined8 local_100 [9];
  Variant local_b8 [24];
  Variant local_a0 [24];
  Variant local_88 [24];
  Variant local_70 [24];
  undefined8 local_58;
  undefined1 local_50 [16];
  long local_40 [2];
  
  local_40[0] = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant(local_b8,param_3);
  Variant::Variant(local_a0,param_4);
  iVar4 = 0;
  Variant::Variant(local_88,param_5);
  Variant::Variant(local_70,in_R9D);
  local_58 = 0;
  local_50 = (undefined1  [16])0x0;
  Array::Array(local_108);
  iVar3 = (int)local_108;
  Array::resize(iVar3);
  pVVar2 = local_b8;
  do {
    iVar4 = iVar4 + 1;
    pVVar1 = (Variant *)Array::operator[](iVar3);
    Variant::operator=(pVVar1,pVVar2);
    pVVar2 = pVVar2 + 0x18;
  } while (iVar4 != 4);
  String::sprintf((Array *)local_100,(bool *)CONCAT44(in_register_00000034,param_2));
  *(undefined8 *)param_1 = local_100[0];
  pVVar2 = (Variant *)local_40;
  Array::~Array(local_108);
  do {
    pVVar1 = pVVar2 + -0x18;
    pVVar2 = pVVar2 + -0x18;
    if (Variant::needs_deinit[*(int *)pVVar1] != '\0') {
      Variant::_clear_internal();
    }
  } while (pVVar2 != local_b8);
  if (local_40[0] != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x00128cf8) */
/* WARNING: Removing unreachable block (ram,0x00128e8d) */
/* WARNING: Removing unreachable block (ram,0x00128e99) */
/* String vformat<unsigned long>(String const&, unsigned long const) */

String * vformat<unsigned_long>(String *param_1,ulong param_2)

{
  Variant *this;
  ulong in_RDX;
  int iVar1;
  long in_FS_OFFSET;
  Array local_c8 [8];
  undefined8 local_c0 [9];
  int local_78 [6];
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant((Variant *)local_78,in_RDX);
  local_60 = 0;
  local_58 = (undefined1  [16])0x0;
  Array::Array(local_c8);
  iVar1 = (int)local_c8;
  Array::resize(iVar1);
  this = (Variant *)Array::operator[](iVar1);
  Variant::operator=(this,(Variant *)local_78);
  String::sprintf((Array *)local_c0,(bool *)param_2);
  *(undefined8 *)param_1 = local_c0[0];
  Array::~Array(local_c8);
  if (Variant::needs_deinit[(int)local_60] != '\0') {
    Variant::_clear_internal();
  }
  if (Variant::needs_deinit[local_78[0]] != '\0') {
    Variant::_clear_internal();
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x00129058) */
/* WARNING: Removing unreachable block (ram,0x001291ed) */
/* WARNING: Removing unreachable block (ram,0x001291f9) */
/* String vformat<String, unsigned long, unsigned long, unsigned long>(String const&, String const,
   unsigned long const, unsigned long const, unsigned long const) */

undefined8 *
vformat<String,unsigned_long,unsigned_long,unsigned_long>
          (undefined8 *param_1,bool *param_2,String *param_3,ulong param_4,ulong param_5,
          ulong param_6)

{
  Variant *pVVar1;
  Variant *pVVar2;
  int iVar3;
  int iVar4;
  long in_FS_OFFSET;
  Array local_108 [8];
  undefined8 local_100 [9];
  Variant local_b8 [24];
  Variant local_a0 [24];
  Variant local_88 [24];
  Variant local_70 [24];
  undefined8 local_58;
  undefined1 local_50 [16];
  long local_40 [2];
  
  local_40[0] = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant(local_b8,param_3);
  Variant::Variant(local_a0,param_4);
  iVar4 = 0;
  Variant::Variant(local_88,param_5);
  Variant::Variant(local_70,param_6);
  local_58 = 0;
  local_50 = (undefined1  [16])0x0;
  Array::Array(local_108);
  iVar3 = (int)local_108;
  Array::resize(iVar3);
  pVVar2 = local_b8;
  do {
    iVar4 = iVar4 + 1;
    pVVar1 = (Variant *)Array::operator[](iVar3);
    Variant::operator=(pVVar1,pVVar2);
    pVVar2 = pVVar2 + 0x18;
  } while (iVar4 != 4);
  String::sprintf((Array *)local_100,param_2);
  *param_1 = local_100[0];
  pVVar2 = (Variant *)local_40;
  Array::~Array(local_108);
  do {
    pVVar1 = pVVar2 + -0x18;
    pVVar2 = pVVar2 + -0x18;
    if (Variant::needs_deinit[*(int *)pVVar1] != '\0') {
      Variant::_clear_internal();
    }
  } while (pVVar2 != local_b8);
  if (local_40[0] != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x001293a8) */
/* WARNING: Removing unreachable block (ram,0x0012953d) */
/* WARNING: Removing unreachable block (ram,0x00129549) */
/* String vformat<unsigned long, unsigned long, unsigned long, long>(String const&, unsigned long
   const, unsigned long const, unsigned long const, long const) */

String * vformat<unsigned_long,unsigned_long,unsigned_long,long>
                   (String *param_1,ulong param_2,ulong param_3,ulong param_4,long param_5)

{
  Variant *pVVar1;
  Variant *pVVar2;
  int iVar3;
  long in_R9;
  int iVar4;
  long in_FS_OFFSET;
  Array local_108 [8];
  undefined8 local_100 [9];
  Variant local_b8 [24];
  Variant local_a0 [24];
  Variant local_88 [24];
  Variant local_70 [24];
  undefined8 local_58;
  undefined1 local_50 [16];
  long local_40 [2];
  
  local_40[0] = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant(local_b8,param_3);
  Variant::Variant(local_a0,param_4);
  iVar4 = 0;
  Variant::Variant(local_88,param_5);
  Variant::Variant(local_70,in_R9);
  local_58 = 0;
  local_50 = (undefined1  [16])0x0;
  Array::Array(local_108);
  iVar3 = (int)local_108;
  Array::resize(iVar3);
  pVVar2 = local_b8;
  do {
    iVar4 = iVar4 + 1;
    pVVar1 = (Variant *)Array::operator[](iVar3);
    Variant::operator=(pVVar1,pVVar2);
    pVVar2 = pVVar2 + 0x18;
  } while (iVar4 != 4);
  String::sprintf((Array *)local_100,(bool *)param_2);
  *(undefined8 *)param_1 = local_100[0];
  pVVar2 = (Variant *)local_40;
  Array::~Array(local_108);
  do {
    pVVar1 = pVVar2 + -0x18;
    pVVar2 = pVVar2 + -0x18;
    if (Variant::needs_deinit[*(int *)pVVar1] != '\0') {
      Variant::_clear_internal();
    }
  } while (pVVar2 != local_b8);
  if (local_40[0] != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x001296a8) */
/* WARNING: Removing unreachable block (ram,0x0012983d) */
/* WARNING: Removing unreachable block (ram,0x00129849) */
/* String vformat<char*>(String const&, char* const) */

String * vformat<char*>(String *param_1,char *param_2)

{
  Variant *this;
  char *in_RDX;
  int iVar1;
  long in_FS_OFFSET;
  Array local_c8 [8];
  undefined8 local_c0 [9];
  int local_78 [6];
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant((Variant *)local_78,in_RDX);
  local_60 = 0;
  local_58 = (undefined1  [16])0x0;
  Array::Array(local_c8);
  iVar1 = (int)local_c8;
  Array::resize(iVar1);
  this = (Variant *)Array::operator[](iVar1);
  Variant::operator=(this,(Variant *)local_78);
  String::sprintf((Array *)local_c0,(bool *)param_2);
  *(undefined8 *)param_1 = local_c0[0];
  Array::~Array(local_c8);
  if (Variant::needs_deinit[(int)local_60] != '\0') {
    Variant::_clear_internal();
  }
  if (Variant::needs_deinit[local_78[0]] != '\0') {
    Variant::_clear_internal();
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Removing unreachable block (ram,0x001299b8) */
/* WARNING: Removing unreachable block (ram,0x00129b4d) */
/* WARNING: Removing unreachable block (ram,0x00129b59) */
/* String vformat<int>(String const&, int const) */

String * vformat<int>(String *param_1,int param_2)

{
  Variant *this;
  int in_EDX;
  undefined4 in_register_00000034;
  int iVar1;
  long in_FS_OFFSET;
  Array local_c8 [8];
  undefined8 local_c0 [9];
  int local_78 [6];
  undefined8 local_60;
  undefined1 local_58 [16];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  Variant::Variant((Variant *)local_78,in_EDX);
  local_60 = 0;
  local_58 = (undefined1  [16])0x0;
  Array::Array(local_c8);
  iVar1 = (int)local_c8;
  Array::resize(iVar1);
  this = (Variant *)Array::operator[](iVar1);
  Variant::operator=(this,(Variant *)local_78);
  String::sprintf((Array *)local_c0,(bool *)CONCAT44(in_register_00000034,param_2));
  *(undefined8 *)param_1 = local_c0[0];
  Array::~Array(local_c8);
  if (Variant::needs_deinit[(int)local_60] != '\0') {
    Variant::_clear_internal();
  }
  if (Variant::needs_deinit[local_78[0]] != '\0') {
    Variant::_clear_internal();
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* CallableCustomMethodPointer<Object, void, int, bool>::call(Variant const**, int, Variant&,
   Callable::CallError&) const */

void __thiscall
CallableCustomMethodPointer<Object,void,int,bool>::call
          (CallableCustomMethodPointer<Object,void,int,bool> *this,Variant **param_1,int param_2,
          Variant *param_3,CallError *param_4)

{
  long lVar1;
  long lVar2;
  ulong uVar3;
  undefined8 uVar4;
  char cVar5;
  int iVar6;
  uint uVar7;
  ulong *puVar8;
  code *UNRECOVERED_JUMPTABLE;
  long in_FS_OFFSET;
  bool bVar9;
  CowData<char32_t> local_60 [8];
  CowData<char32_t> local_58 [8];
  undefined8 local_50;
  char *local_48;
  undefined8 local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  uVar7 = (uint)*(ulong *)(this + 0x30) & 0xffffff;
  if (uVar7 < (uint)ObjectDB::slot_max) {
    while( true ) {
      uVar3 = (ulong)local_48 >> 8;
      local_48 = (char *)(uVar3 << 8);
      LOCK();
      bVar9 = (char)ObjectDB::spin_lock == '\0';
      if (bVar9) {
        ObjectDB::spin_lock._0_1_ = '\x01';
      }
      UNLOCK();
      if (bVar9) break;
      local_48 = (char *)(uVar3 << 8);
      do {
      } while ((char)ObjectDB::spin_lock != '\0');
    }
    puVar8 = (ulong *)((ulong)uVar7 * 0x10 + ObjectDB::object_slots);
    if ((*(ulong *)(this + 0x30) >> 0x18 & 0x7fffffffff) != (*puVar8 & 0x7fffffffff)) {
      ObjectDB::spin_lock._0_1_ = '\0';
      goto LAB_00129e3e;
    }
    ObjectDB::spin_lock._0_1_ = '\0';
    if (puVar8[1] == 0) goto LAB_00129e3e;
    lVar1 = *(long *)(this + 0x28);
    UNRECOVERED_JUMPTABLE = *(code **)(this + 0x38);
    lVar2 = *(long *)(this + 0x40);
    if ((uint)param_2 < 3) {
      if (param_2 == 2) {
        *(undefined4 *)param_4 = 0;
        if (((ulong)UNRECOVERED_JUMPTABLE & 1) != 0) {
          UNRECOVERED_JUMPTABLE = *(code **)(UNRECOVERED_JUMPTABLE + *(long *)(lVar1 + lVar2) + -1);
        }
        cVar5 = Variant::can_convert_strict(*(undefined4 *)param_1[1],1);
        uVar4 = _LC72;
        if (cVar5 == '\0') {
          *(undefined4 *)param_4 = 2;
          *(undefined8 *)(param_4 + 4) = uVar4;
        }
        bVar9 = Variant::operator_cast_to_bool((Variant *)param_1[1]);
        cVar5 = Variant::can_convert_strict(*(undefined4 *)*param_1,2);
        uVar4 = _LC167;
        if (cVar5 == '\0') {
          *(undefined4 *)param_4 = 2;
          *(undefined8 *)(param_4 + 4) = uVar4;
        }
        iVar6 = Variant::operator_cast_to_int((Variant *)*param_1);
        if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x00129e17. Too many branches */
                    /* WARNING: Treating indirect jump as call */
          (*UNRECOVERED_JUMPTABLE)((long *)(lVar1 + lVar2),iVar6,bVar9);
          return;
        }
        goto LAB_00129f00;
      }
      *(undefined4 *)param_4 = 4;
      *(undefined4 *)(param_4 + 8) = 2;
    }
    else {
      *(undefined4 *)param_4 = 3;
      *(undefined4 *)(param_4 + 8) = 2;
    }
  }
  else {
    _err_print_error("get_instance","./core/object/object.h",0x418,
                     "Condition \"slot >= slot_max\" is true. Returning: nullptr",0,0);
LAB_00129e3e:
    local_50 = 0;
    local_48 = "\', can\'t call method.";
    local_40 = 0x15;
    String::parse_latin1((StrRange *)&local_50);
    uitos((ulong)local_60);
    operator+((char *)local_58,(String *)"Invalid Object id \'");
    String::operator+((String *)&local_48,(String *)local_58);
    _err_print_error(&_LC166,"./core/object/callable_method_pointer.h",0x67,
                     "Parameter \"ObjectDB::get_instance(ObjectID(data.object_id))\" is null.",
                     (String *)&local_48,0,0);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_48);
    CowData<char32_t>::_unref(local_58);
    CowData<char32_t>::_unref(local_60);
    CowData<char32_t>::_unref((CowData<char32_t> *)&local_50);
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00129f00:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* Ref<InputEventKey>::unref() */

void __thiscall Ref<InputEventKey>::unref(Ref<InputEventKey> *this)

{
  Object *pOVar1;
  char cVar2;
  
  if (*(long *)this != 0) {
    cVar2 = RefCounted::unreference();
    if (cVar2 != '\0') {
      pOVar1 = *(Object **)this;
      cVar2 = predelete_handler(pOVar1);
      if (cVar2 != '\0') {
        (**(code **)(*(long *)pOVar1 + 0x140))(pOVar1);
        Memory::free_static(pOVar1,false);
        *(undefined8 *)this = 0;
        return;
      }
    }
  }
  *(undefined8 *)this = 0;
  return;
}



/* Ref<InputEventWithModifiers>::unref() */

void __thiscall Ref<InputEventWithModifiers>::unref(Ref<InputEventWithModifiers> *this)

{
  Object *pOVar1;
  char cVar2;
  
  if (*(long *)this != 0) {
    cVar2 = RefCounted::unreference();
    if (cVar2 != '\0') {
      pOVar1 = *(Object **)this;
      cVar2 = predelete_handler(pOVar1);
      if (cVar2 != '\0') {
        (**(code **)(*(long *)pOVar1 + 0x140))(pOVar1);
        Memory::free_static(pOVar1,false);
        *(undefined8 *)this = 0;
        return;
      }
    }
  }
  *(undefined8 *)this = 0;
  return;
}



/* Ref<InputEvent>::unref() */

void __thiscall Ref<InputEvent>::unref(Ref<InputEvent> *this)

{
  Object *pOVar1;
  char cVar2;
  
  if (*(long *)this != 0) {
    cVar2 = RefCounted::unreference();
    if (cVar2 != '\0') {
      pOVar1 = *(Object **)this;
      cVar2 = predelete_handler(pOVar1);
      if (cVar2 != '\0') {
        (**(code **)(*(long *)pOVar1 + 0x140))(pOVar1);
        Memory::free_static(pOVar1,false);
        *(undefined8 *)this = 0;
        return;
      }
    }
  }
  *(undefined8 *)this = 0;
  return;
}



/* Ref<InputEventScreenTouch>::unref() */

void __thiscall Ref<InputEventScreenTouch>::unref(Ref<InputEventScreenTouch> *this)

{
  Object *pOVar1;
  char cVar2;
  
  if (*(long *)this != 0) {
    cVar2 = RefCounted::unreference();
    if (cVar2 != '\0') {
      pOVar1 = *(Object **)this;
      cVar2 = predelete_handler(pOVar1);
      if (cVar2 != '\0') {
        (**(code **)(*(long *)pOVar1 + 0x140))(pOVar1);
        Memory::free_static(pOVar1,false);
        *(undefined8 *)this = 0;
        return;
      }
    }
  }
  *(undefined8 *)this = 0;
  return;
}



/* CowData<Variant>::_unref() */

void __thiscall CowData<Variant>::_unref(CowData<Variant> *this)

{
  long *plVar1;
  int *piVar2;
  long lVar3;
  code *pcVar4;
  int *piVar5;
  long lVar6;
  
  if (*(long *)this == 0) {
    return;
  }
  LOCK();
  plVar1 = (long *)(*(long *)this + -0x10);
  *plVar1 = *plVar1 + -1;
  UNLOCK();
  if (*plVar1 == 0) {
    piVar2 = *(int **)this;
    if (piVar2 != (int *)0x0) {
      lVar3 = *(long *)(piVar2 + -2);
      *(undefined8 *)this = 0;
      if (lVar3 != 0) {
        lVar6 = 0;
        piVar5 = piVar2;
        do {
          if (Variant::needs_deinit[*piVar5] != '\0') {
            Variant::_clear_internal();
          }
          lVar6 = lVar6 + 1;
          piVar5 = piVar5 + 6;
        } while (lVar3 != lVar6);
      }
      Memory::free_static(piVar2 + -4,false);
      return;
    }
                    /* WARNING: Does not return */
    pcVar4 = (code *)invalidInstructionException();
    (*pcVar4)();
  }
  *(undefined8 *)this = 0;
  return;
}



/* CowData<Variant>::_ref(CowData<Variant> const&) [clone .part.0] */

void __thiscall CowData<Variant>::_ref(CowData<Variant> *this,CowData *param_1)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  bool bVar4;
  
  _unref(this);
  if (*(long *)param_1 != 0) {
    plVar1 = (long *)(*(long *)param_1 + -0x10);
    do {
      lVar2 = *plVar1;
      if (lVar2 == 0) {
        return;
      }
      LOCK();
      lVar3 = *plVar1;
      bVar4 = lVar2 == lVar3;
      if (bVar4) {
        *plVar1 = lVar2 + 1;
        lVar3 = lVar2;
      }
      UNLOCK();
    } while (!bVar4);
    if (lVar3 != -1) {
      *(undefined8 *)this = *(undefined8 *)param_1;
    }
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashMap<DisplayServer::CursorShape, Vector<Variant>, HashMapHasherDefault,
   HashMapComparatorDefault<DisplayServer::CursorShape>,
   DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape, Vector<Variant> > >
   >::insert(DisplayServer::CursorShape const&, Vector<Variant> const&, bool) */

CursorShape *
HashMap<DisplayServer::CursorShape,Vector<Variant>,HashMapHasherDefault,HashMapComparatorDefault<DisplayServer::CursorShape>,DefaultTypedAllocator<HashMapElement<DisplayServer::CursorShape,Vector<Variant>>>>
::insert(CursorShape *param_1,Vector *param_2,bool param_3)

{
  uint *puVar1;
  undefined8 *puVar2;
  void *pvVar3;
  void *__s;
  long lVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 (*pauVar29) [16];
  uint uVar30;
  uint uVar31;
  uint uVar32;
  ulong uVar33;
  undefined8 uVar34;
  void *__s_00;
  long in_RCX;
  int iVar35;
  undefined7 in_register_00000011;
  uint *puVar36;
  ulong uVar37;
  long lVar38;
  long lVar39;
  long lVar40;
  ulong uVar41;
  undefined8 uVar42;
  char in_R8B;
  uint uVar43;
  uint uVar44;
  uint uVar45;
  undefined1 (*pauVar46) [16];
  long in_FS_OFFSET;
  undefined1 (*pauStack_b0) [16];
  void *local_a8;
  long local_48;
  long local_40;
  
  puVar36 = (uint *)CONCAT71(in_register_00000011,param_3);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar31 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 0x28) * 4);
  local_a8 = *(void **)(param_2 + 8);
  if (local_a8 == (void *)0x0) {
    uVar41 = (ulong)uVar31;
    uVar33 = uVar41 * 4;
    uVar37 = uVar41 * 8;
    uVar34 = Memory::alloc_static(uVar33,false);
    *(undefined8 *)(param_2 + 0x10) = uVar34;
    local_a8 = (void *)Memory::alloc_static(uVar37,false);
    *(void **)(param_2 + 8) = local_a8;
    if (uVar31 != 0) {
      pvVar3 = *(void **)(param_2 + 0x10);
      if ((pvVar3 < (void *)((long)local_a8 + uVar37)) &&
         (local_a8 < (void *)((long)pvVar3 + uVar33))) {
        uVar33 = 0;
        do {
          *(undefined4 *)((long)pvVar3 + uVar33 * 4) = 0;
          *(undefined8 *)((long)local_a8 + uVar33 * 8) = 0;
          uVar33 = uVar33 + 1;
        } while (uVar41 != uVar33);
        goto LAB_0012a221;
      }
      memset(pvVar3,0,uVar33);
      memset(local_a8,0,uVar37);
      uVar32 = *puVar36;
      iVar35 = *(int *)(param_2 + 0x2c);
      goto LAB_0012a231;
    }
    uVar32 = *puVar36;
    iVar35 = *(int *)(param_2 + 0x2c);
    if (local_a8 != (void *)0x0) goto LAB_0012a231;
  }
  else {
LAB_0012a221:
    uVar32 = *puVar36;
    iVar35 = *(int *)(param_2 + 0x2c);
LAB_0012a231:
    if (iVar35 != 0) {
      uVar33 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(param_2 + 0x28) * 8);
      uVar30 = (uVar32 >> 0x10 ^ uVar32) * -0x7a143595;
      uVar30 = (uVar30 ^ uVar30 >> 0xd) * -0x3d4d51cb;
      uVar45 = uVar30 ^ uVar30 >> 0x10;
      if (uVar30 == uVar30 >> 0x10) {
        uVar45 = 1;
        uVar37 = uVar33;
      }
      else {
        uVar37 = uVar45 * uVar33;
      }
      uVar41 = CONCAT44(0,*(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 0x28) * 4));
      uVar44 = 0;
      auVar5._8_8_ = 0;
      auVar5._0_8_ = uVar41;
      auVar17._8_8_ = 0;
      auVar17._0_8_ = uVar37;
      lVar38 = SUB168(auVar5 * auVar17,8);
      uVar43 = SUB164(auVar5 * auVar17,8);
      uVar30 = *(uint *)(*(long *)(param_2 + 0x10) + lVar38 * 4);
      if (uVar30 != 0) {
        do {
          if ((uVar45 == uVar30) &&
             (*(uint *)(*(long *)((long)local_a8 + lVar38 * 8) + 0x10) == uVar32)) {
            lVar38 = *(long *)((long)local_a8 + (ulong)uVar43 * 8);
            if (*(long *)(lVar38 + 0x20) != *(long *)(in_RCX + 8)) {
              CowData<Variant>::_ref((CowData<Variant> *)(lVar38 + 0x20),(CowData *)(in_RCX + 8));
            }
            pauStack_b0 = *(undefined1 (**) [16])(*(long *)(param_2 + 8) + (ulong)uVar43 * 8);
            goto LAB_0012a760;
          }
          uVar44 = uVar44 + 1;
          auVar6._8_8_ = 0;
          auVar6._0_8_ = (uVar43 + 1) * uVar33;
          auVar18._8_8_ = 0;
          auVar18._0_8_ = uVar41;
          lVar38 = SUB168(auVar6 * auVar18,8);
          uVar30 = *(uint *)(*(long *)(param_2 + 0x10) + lVar38 * 4);
          uVar43 = SUB164(auVar6 * auVar18,8);
        } while ((uVar30 != 0) &&
                (auVar7._8_8_ = 0, auVar7._0_8_ = uVar30 * uVar33, auVar19._8_8_ = 0,
                auVar19._0_8_ = uVar41, auVar8._8_8_ = 0,
                auVar8._0_8_ = ((*(uint *)(hash_table_size_primes +
                                          (ulong)*(uint *)(param_2 + 0x28) * 4) + uVar43) -
                               SUB164(auVar7 * auVar19,8)) * uVar33, auVar20._8_8_ = 0,
                auVar20._0_8_ = uVar41, uVar44 <= SUB164(auVar8 * auVar20,8)));
      }
    }
  }
  if ((float)uVar31 * __LC96 < (float)(iVar35 + 1)) {
    uVar31 = *(uint *)(param_2 + 0x28);
    if (uVar31 == 0x1c) {
      pauStack_b0 = (undefined1 (*) [16])0x0;
      _err_print_error("_insert","./core/templates/hash_map.h",0xdd,
                       "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: nullptr"
                       ,"Hash table maximum capacity reached, aborting insertion.",0,0);
      goto LAB_0012a760;
    }
    uVar33 = (ulong)(uVar31 + 1);
    uVar32 = *(uint *)(hash_table_size_primes + (ulong)uVar31 * 4);
    *(undefined4 *)(param_2 + 0x2c) = 0;
    if (uVar31 + 1 < 2) {
      uVar33 = 2;
    }
    uVar31 = *(uint *)(hash_table_size_primes + uVar33 * 4);
    *(int *)(param_2 + 0x28) = (int)uVar33;
    pvVar3 = *(void **)(param_2 + 0x10);
    uVar41 = (ulong)uVar31;
    uVar33 = uVar41 * 4;
    uVar37 = uVar41 * 8;
    uVar34 = Memory::alloc_static(uVar33,false);
    *(undefined8 *)(param_2 + 0x10) = uVar34;
    __s_00 = (void *)Memory::alloc_static(uVar37,false);
    *(void **)(param_2 + 8) = __s_00;
    if (uVar31 != 0) {
      __s = *(void **)(param_2 + 0x10);
      if ((__s < (void *)((long)__s_00 + uVar37)) && (__s_00 < (void *)((long)__s + uVar33))) {
        uVar33 = 0;
        do {
          *(undefined4 *)((long)__s + uVar33 * 4) = 0;
          *(undefined8 *)((long)__s_00 + uVar33 * 8) = 0;
          uVar33 = uVar33 + 1;
        } while (uVar33 != uVar41);
      }
      else {
        memset(__s,0,uVar33);
        memset(__s_00,0,uVar37);
      }
    }
    uVar33 = 0;
    if (uVar32 != 0) {
      do {
        uVar31 = *(uint *)((long)pvVar3 + uVar33 * 4);
        if (uVar31 != 0) {
          uVar43 = 0;
          lVar38 = *(long *)(param_2 + 0x10);
          uVar30 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 0x28) * 4);
          uVar37 = CONCAT44(0,uVar30);
          lVar4 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(param_2 + 0x28) * 8);
          auVar9._8_8_ = 0;
          auVar9._0_8_ = (ulong)uVar31 * lVar4;
          auVar21._8_8_ = 0;
          auVar21._0_8_ = uVar37;
          lVar39 = SUB168(auVar9 * auVar21,8);
          puVar1 = (uint *)(lVar38 + lVar39 * 4);
          iVar35 = SUB164(auVar9 * auVar21,8);
          uVar45 = *puVar1;
          uVar34 = *(undefined8 *)((long)local_a8 + uVar33 * 8);
          while (uVar45 != 0) {
            auVar10._8_8_ = 0;
            auVar10._0_8_ = (ulong)uVar45 * lVar4;
            auVar22._8_8_ = 0;
            auVar22._0_8_ = uVar37;
            auVar11._8_8_ = 0;
            auVar11._0_8_ = (ulong)((uVar30 + iVar35) - SUB164(auVar10 * auVar22,8)) * lVar4;
            auVar23._8_8_ = 0;
            auVar23._0_8_ = uVar37;
            uVar44 = SUB164(auVar11 * auVar23,8);
            uVar42 = uVar34;
            if (uVar44 < uVar43) {
              *puVar1 = uVar31;
              puVar2 = (undefined8 *)((long)__s_00 + lVar39 * 8);
              uVar42 = *puVar2;
              *puVar2 = uVar34;
              uVar31 = uVar45;
              uVar43 = uVar44;
            }
            uVar43 = uVar43 + 1;
            auVar12._8_8_ = 0;
            auVar12._0_8_ = (ulong)(iVar35 + 1) * lVar4;
            auVar24._8_8_ = 0;
            auVar24._0_8_ = uVar37;
            lVar39 = SUB168(auVar12 * auVar24,8);
            puVar1 = (uint *)(lVar38 + lVar39 * 4);
            iVar35 = SUB164(auVar12 * auVar24,8);
            uVar34 = uVar42;
            uVar45 = *puVar1;
          }
          *(undefined8 *)((long)__s_00 + lVar39 * 8) = uVar34;
          *puVar1 = uVar31;
          *(int *)(param_2 + 0x2c) = *(int *)(param_2 + 0x2c) + 1;
        }
        uVar33 = uVar33 + 1;
      } while (uVar32 != uVar33);
      Memory::free_static(local_a8,false);
      Memory::free_static(pvVar3,false);
    }
  }
  local_48 = 0;
  uVar31 = *puVar36;
  if (*(long *)(in_RCX + 8) == 0) {
    pauStack_b0 = (undefined1 (*) [16])operator_new(0x28,"");
    *(uint *)pauStack_b0[1] = uVar31;
    *(undefined8 *)pauStack_b0[2] = 0;
    *pauStack_b0 = (undefined1  [16])0x0;
  }
  else {
    CowData<Variant>::_ref((CowData<Variant> *)&local_48,(CowData *)(in_RCX + 8));
    lVar38 = local_48;
    pauStack_b0 = (undefined1 (*) [16])operator_new(0x28,"");
    *(uint *)pauStack_b0[1] = uVar31;
    *(undefined8 *)pauStack_b0[2] = 0;
    *(undefined8 *)*pauStack_b0 = 0;
    *(undefined8 *)(*pauStack_b0 + 8) = 0;
    if (lVar38 != 0) {
      CowData<Variant>::_ref((CowData<Variant> *)(pauStack_b0 + 2),(CowData *)&local_48);
    }
  }
  CowData<Variant>::_unref((CowData<Variant> *)&local_48);
  puVar2 = *(undefined8 **)(param_2 + 0x20);
  if (puVar2 == (undefined8 *)0x0) {
    *(undefined1 (**) [16])(param_2 + 0x18) = pauStack_b0;
    *(undefined1 (**) [16])(param_2 + 0x20) = pauStack_b0;
  }
  else if (in_R8B == '\0') {
    *puVar2 = pauStack_b0;
    *(undefined8 **)(*pauStack_b0 + 8) = puVar2;
    *(undefined1 (**) [16])(param_2 + 0x20) = pauStack_b0;
  }
  else {
    lVar38 = *(long *)(param_2 + 0x18);
    *(undefined1 (**) [16])(lVar38 + 8) = pauStack_b0;
    *(long *)*pauStack_b0 = lVar38;
    *(undefined1 (**) [16])(param_2 + 0x18) = pauStack_b0;
  }
  uVar31 = (*puVar36 >> 0x10 ^ *puVar36) * -0x7a143595;
  uVar32 = (uVar31 ^ uVar31 >> 0xd) * -0x3d4d51cb;
  uVar31 = uVar32 ^ uVar32 >> 0x10;
  if (uVar32 == uVar32 >> 0x10) {
    uVar33 = 1;
    uVar31 = 1;
  }
  else {
    uVar33 = (ulong)uVar31;
  }
  uVar45 = 0;
  lVar38 = *(long *)(param_2 + 0x10);
  uVar32 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(param_2 + 0x28) * 4);
  uVar37 = CONCAT44(0,uVar32);
  lVar4 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(param_2 + 0x28) * 8);
  auVar13._8_8_ = 0;
  auVar13._0_8_ = uVar33 * lVar4;
  auVar25._8_8_ = 0;
  auVar25._0_8_ = uVar37;
  lVar40 = SUB168(auVar13 * auVar25,8);
  lVar39 = *(long *)(param_2 + 8);
  puVar36 = (uint *)(lVar38 + lVar40 * 4);
  iVar35 = SUB164(auVar13 * auVar25,8);
  uVar30 = *puVar36;
  pauVar29 = pauStack_b0;
  while (uVar30 != 0) {
    auVar14._8_8_ = 0;
    auVar14._0_8_ = (ulong)uVar30 * lVar4;
    auVar26._8_8_ = 0;
    auVar26._0_8_ = uVar37;
    auVar15._8_8_ = 0;
    auVar15._0_8_ = (ulong)((uVar32 + iVar35) - SUB164(auVar14 * auVar26,8)) * lVar4;
    auVar27._8_8_ = 0;
    auVar27._0_8_ = uVar37;
    uVar43 = SUB164(auVar15 * auVar27,8);
    pauVar46 = pauVar29;
    if (uVar43 < uVar45) {
      *puVar36 = uVar31;
      puVar2 = (undefined8 *)(lVar39 + lVar40 * 8);
      pauVar46 = (undefined1 (*) [16])*puVar2;
      *puVar2 = pauVar29;
      uVar31 = uVar30;
      uVar45 = uVar43;
    }
    uVar45 = uVar45 + 1;
    auVar16._8_8_ = 0;
    auVar16._0_8_ = (ulong)(iVar35 + 1) * lVar4;
    auVar28._8_8_ = 0;
    auVar28._0_8_ = uVar37;
    lVar40 = SUB168(auVar16 * auVar28,8);
    puVar36 = (uint *)(lVar38 + lVar40 * 4);
    iVar35 = SUB164(auVar16 * auVar28,8);
    pauVar29 = pauVar46;
    uVar30 = *puVar36;
  }
  *(undefined1 (**) [16])(lVar39 + lVar40 * 8) = pauVar29;
  *puVar36 = uVar31;
  *(int *)(param_2 + 0x2c) = *(int *)(param_2 + 0x2c) + 1;
LAB_0012a760:
  *(undefined1 (**) [16])param_1 = pauStack_b0;
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CowData<unsigned char>::_unref() */

void __thiscall CowData<unsigned_char>::_unref(CowData<unsigned_char> *this)

{
  long *plVar1;
  long lVar2;
  
  if (*(long *)this == 0) {
    return;
  }
  LOCK();
  plVar1 = (long *)(*(long *)this + -0x10);
  *plVar1 = *plVar1 + -1;
  UNLOCK();
  if (*plVar1 != 0) {
    *(undefined8 *)this = 0;
    return;
  }
  lVar2 = *(long *)this;
  *(undefined8 *)this = 0;
  Memory::free_static((void *)(lVar2 + -0x10),false);
  return;
}



/* CowData<String>::_unref() */

void __thiscall CowData<String>::_unref(CowData<String> *this)

{
  long *plVar1;
  long *plVar2;
  long lVar3;
  long lVar4;
  code *pcVar5;
  long *plVar6;
  long lVar7;
  
  if (*(long *)this == 0) {
    return;
  }
  LOCK();
  plVar1 = (long *)(*(long *)this + -0x10);
  *plVar1 = *plVar1 + -1;
  UNLOCK();
  if (*plVar1 == 0) {
    plVar1 = *(long **)this;
    if (plVar1 != (long *)0x0) {
      lVar3 = plVar1[-1];
      *(undefined8 *)this = 0;
      if (lVar3 != 0) {
        lVar7 = 0;
        plVar6 = plVar1;
        do {
          if (*plVar6 != 0) {
            LOCK();
            plVar2 = (long *)(*plVar6 + -0x10);
            *plVar2 = *plVar2 + -1;
            UNLOCK();
            if (*plVar2 == 0) {
              lVar4 = *plVar6;
              *plVar6 = 0;
              Memory::free_static((void *)(lVar4 + -0x10),false);
            }
          }
          lVar7 = lVar7 + 1;
          plVar6 = plVar6 + 1;
        } while (lVar3 != lVar7);
      }
      Memory::free_static(plVar1 + -2,false);
      return;
    }
                    /* WARNING: Does not return */
    pcVar5 = (code *)invalidInstructionException();
    (*pcVar5)();
  }
  *(undefined8 *)this = 0;
  return;
}



/* CowData<String>::_realloc(long) */

undefined8 __thiscall CowData<String>::_realloc(CowData<String> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<String>::resize<false>(long) */

undefined8 __thiscall CowData<String>::resize<false>(CowData<String> *this,long param_1)

{
  long *plVar1;
  long *plVar2;
  code *pcVar3;
  undefined8 uVar4;
  undefined8 *puVar5;
  long lVar6;
  long lVar7;
  ulong uVar8;
  undefined8 *puVar9;
  long lVar10;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  if (*(long *)this == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar6 = 0;
    lVar7 = 0;
  }
  else {
    lVar6 = *(long *)(*(long *)this + -8);
    if (param_1 == lVar6) {
      return 0;
    }
    if (param_1 == 0) {
      _unref(this);
      return 0;
    }
    _copy_on_write(this);
    lVar7 = lVar6 * 8;
    if (lVar7 != 0) {
      uVar8 = lVar7 - 1U | lVar7 - 1U >> 1;
      uVar8 = uVar8 | uVar8 >> 2;
      uVar8 = uVar8 | uVar8 >> 4;
      uVar8 = uVar8 | uVar8 >> 8;
      uVar8 = uVar8 | uVar8 >> 0x10;
      lVar7 = (uVar8 | uVar8 >> 0x20) + 1;
    }
  }
  if (param_1 * 8 == 0) {
LAB_0012ae10:
    _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                     "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                     ,0,0);
    return 6;
  }
  uVar8 = param_1 * 8 - 1;
  uVar8 = uVar8 >> 1 | uVar8;
  uVar8 = uVar8 | uVar8 >> 2;
  uVar8 = uVar8 | uVar8 >> 4;
  uVar8 = uVar8 | uVar8 >> 8;
  uVar8 = uVar8 | uVar8 >> 0x10;
  uVar8 = uVar8 | uVar8 >> 0x20;
  lVar10 = uVar8 + 1;
  if (lVar10 == 0) goto LAB_0012ae10;
  if (param_1 <= lVar6) {
    lVar6 = *(long *)this;
    uVar8 = param_1;
    while (lVar6 != 0) {
      if (*(ulong *)(lVar6 + -8) <= uVar8) {
LAB_0012ace9:
        if (lVar10 != lVar7) {
          uVar4 = _realloc(this,lVar10);
          if ((int)uVar4 != 0) {
            return uVar4;
          }
          lVar6 = *(long *)this;
          if (lVar6 == 0) {
            _DAT_00000000 = 0;
                    /* WARNING: Does not return */
            pcVar3 = (code *)invalidInstructionException();
            (*pcVar3)();
          }
        }
        *(long *)(lVar6 + -8) = param_1;
        return 0;
      }
      while( true ) {
        plVar2 = (long *)(lVar6 + uVar8 * 8);
        if (*plVar2 != 0) break;
        uVar8 = uVar8 + 1;
        if (*(ulong *)(lVar6 + -8) <= uVar8) goto LAB_0012ace9;
      }
      LOCK();
      plVar1 = (long *)(*plVar2 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar6 = *plVar2;
        *plVar2 = 0;
        Memory::free_static((void *)(lVar6 + -0x10),false);
      }
      uVar8 = uVar8 + 1;
      lVar6 = *(long *)this;
    }
    goto LAB_0012ae66;
  }
  if (lVar10 == lVar7) {
LAB_0012ad8f:
    puVar9 = *(undefined8 **)this;
    if (puVar9 == (undefined8 *)0x0) {
LAB_0012ae66:
                    /* WARNING: Does not return */
      pcVar3 = (code *)invalidInstructionException();
      (*pcVar3)();
    }
    lVar6 = puVar9[-1];
    if (param_1 <= lVar6) goto LAB_0012ad7a;
  }
  else {
    if (lVar6 != 0) {
      uVar4 = _realloc(this,lVar10);
      if ((int)uVar4 != 0) {
        return uVar4;
      }
      goto LAB_0012ad8f;
    }
    puVar5 = (undefined8 *)Memory::alloc_static(uVar8 + 0x11,false);
    if (puVar5 == (undefined8 *)0x0) {
      _err_print_error("resize","./core/templates/cowdata.h",0x171,"Parameter \"mem_new\" is null.",
                       0,0);
      return 6;
    }
    puVar9 = puVar5 + 2;
    *puVar5 = 1;
    puVar5[1] = 0;
    *(undefined8 **)this = puVar9;
    lVar6 = 0;
  }
  memset(puVar9 + lVar6,0,(param_1 - lVar6) * 8);
LAB_0012ad7a:
  puVar9[-1] = param_1;
  return 0;
}



/* CowData<Variant>::_realloc(long) */

undefined8 __thiscall CowData<Variant>::_realloc(CowData<Variant> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<Variant>::resize<false>(long) */

undefined8 __thiscall CowData<Variant>::resize<false>(CowData<Variant> *this,long param_1)

{
  code *pcVar1;
  undefined8 *puVar2;
  long lVar3;
  undefined8 *puVar4;
  undefined8 uVar5;
  undefined4 *puVar6;
  long lVar7;
  ulong uVar8;
  long lVar9;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  if (*(long *)this == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar3 = 0;
    lVar7 = 0;
  }
  else {
    lVar3 = *(long *)(*(long *)this + -8);
    if (param_1 == lVar3) {
      return 0;
    }
    if (param_1 == 0) {
      _unref(this);
      return 0;
    }
    _copy_on_write(this);
    lVar7 = lVar3 * 0x18;
    if (lVar7 != 0) {
      uVar8 = lVar7 - 1U | lVar7 - 1U >> 1;
      uVar8 = uVar8 | uVar8 >> 2;
      uVar8 = uVar8 | uVar8 >> 4;
      uVar8 = uVar8 | uVar8 >> 8;
      uVar8 = uVar8 | uVar8 >> 0x10;
      lVar7 = (uVar8 | uVar8 >> 0x20) + 1;
    }
  }
  if (param_1 * 0x18 == 0) {
LAB_0012b190:
    _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                     "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                     ,0,0);
    return 6;
  }
  uVar8 = param_1 * 0x18 - 1;
  uVar8 = uVar8 >> 1 | uVar8;
  uVar8 = uVar8 | uVar8 >> 2;
  uVar8 = uVar8 | uVar8 >> 4;
  uVar8 = uVar8 | uVar8 >> 8;
  uVar8 = uVar8 | uVar8 >> 0x10;
  uVar8 = uVar8 | uVar8 >> 0x20;
  lVar9 = uVar8 + 1;
  if (lVar9 == 0) goto LAB_0012b190;
  if (param_1 <= lVar3) {
    puVar4 = *(undefined8 **)this;
    uVar8 = param_1;
    while (puVar4 != (undefined8 *)0x0) {
      if ((ulong)puVar4[-1] <= uVar8) {
        if (lVar9 == lVar7) goto LAB_0012b0e9;
        uVar5 = _realloc(this,lVar9);
        if ((int)uVar5 != 0) {
          return uVar5;
        }
        goto LAB_0012b0dc;
      }
      if (Variant::needs_deinit[*(int *)(puVar4 + uVar8 * 3)] != '\0') {
        Variant::_clear_internal();
        puVar4 = *(undefined8 **)this;
      }
      uVar8 = uVar8 + 1;
    }
    goto LAB_0012b1bf;
  }
  if (lVar9 == lVar7) {
LAB_0012b103:
    puVar4 = *(undefined8 **)this;
    if (puVar4 == (undefined8 *)0x0) {
LAB_0012b1bf:
                    /* WARNING: Does not return */
      pcVar1 = (code *)invalidInstructionException();
      (*pcVar1)();
    }
    lVar3 = puVar4[-1];
    if (param_1 <= lVar3) goto LAB_0012b0e9;
  }
  else {
    if (lVar3 != 0) {
      uVar5 = _realloc(this,lVar9);
      if ((int)uVar5 != 0) {
        return uVar5;
      }
      goto LAB_0012b103;
    }
    puVar2 = (undefined8 *)Memory::alloc_static(uVar8 + 0x11,false);
    if (puVar2 == (undefined8 *)0x0) {
      _err_print_error("resize","./core/templates/cowdata.h",0x171,"Parameter \"mem_new\" is null.",
                       0,0);
      return 6;
    }
    puVar4 = puVar2 + 2;
    *puVar2 = 1;
    puVar2[1] = 0;
    *(undefined8 **)this = puVar4;
    lVar3 = 0;
  }
  *(undefined4 *)(puVar4 + lVar3 * 3) = 0;
  *(undefined1 (*) [16])(puVar4 + lVar3 * 3 + 1) = (undefined1  [16])0x0;
  lVar3 = lVar3 + 1;
  if (lVar3 < param_1) {
    lVar7 = lVar3 * 0x18;
    do {
      lVar3 = lVar3 + 1;
      puVar6 = (undefined4 *)(*(long *)this + lVar7);
      lVar7 = lVar7 + 0x18;
      *puVar6 = 0;
      *(undefined1 (*) [16])(puVar6 + 2) = (undefined1  [16])0x0;
    } while (param_1 != lVar3);
  }
LAB_0012b0dc:
  puVar4 = *(undefined8 **)this;
  if (puVar4 == (undefined8 *)0x0) {
    _DAT_00000000 = 0;
                    /* WARNING: Does not return */
    pcVar1 = (code *)invalidInstructionException();
    (*pcVar1)();
  }
LAB_0012b0e9:
  puVar4[-1] = param_1;
  return 0;
}



/* void memdelete<Image>(Image*) */

void memdelete<Image>(Image *param_1)

{
  long *plVar1;
  long lVar2;
  char cVar3;
  
  cVar3 = predelete_handler((Object *)param_1);
  if (cVar3 == '\0') {
    return;
  }
  if (*(code **)(*(long *)param_1 + 0x140) == Image::~Image) {
    *(undefined **)param_1 = &XDefineCursor_dylibloader_wrapper_xlib;
    if (*(long *)(param_1 + 0x250) != 0) {
      LOCK();
      plVar1 = (long *)(*(long *)(param_1 + 0x250) + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        lVar2 = *(long *)(param_1 + 0x250);
        *(undefined8 *)(param_1 + 0x250) = 0;
        Memory::free_static((void *)(lVar2 + -0x10),false);
      }
    }
    Resource::~Resource((Resource *)param_1);
    Memory::free_static(param_1,false);
    return;
  }
  (**(code **)(*(long *)param_1 + 0x140))(param_1);
  Memory::free_static(param_1,false);
  return;
}



/* Ref<Image>::unref() */

void __thiscall Ref<Image>::unref(Ref<Image> *this)

{
  char cVar1;
  
  if (*(long *)this != 0) {
    cVar1 = RefCounted::unreference();
    if (cVar1 != '\0') {
      memdelete<Image>(*(Image **)this);
      *(undefined8 *)this = 0;
      return;
    }
  }
  *(undefined8 *)this = 0;
  return;
}



/* void Ref<Image>::instantiate<>() */

void __thiscall Ref<Image>::instantiate<>(Ref<Image> *this)

{
  Image *pIVar1;
  char cVar2;
  Resource *this_00;
  long lVar3;
  Resource *pRVar4;
  Image *pIVar5;
  byte bVar6;
  
  bVar6 = 0;
  this_00 = (Resource *)operator_new(0x268,"");
  pRVar4 = this_00;
  for (lVar3 = 0x4d; lVar3 != 0; lVar3 = lVar3 + -1) {
    *(undefined8 *)pRVar4 = 0;
    pRVar4 = pRVar4 + (ulong)bVar6 * -0x10 + 8;
  }
  Resource::Resource(this_00);
  this_00[0x260] = (Resource)0x0;
  *(undefined **)this_00 = &XDefineCursor_dylibloader_wrapper_xlib;
  *(undefined4 *)(this_00 + 0x240) = 0;
  *(undefined8 *)(this_00 + 0x250) = 0;
  *(undefined8 *)(this_00 + 600) = 0;
  postinitialize_handler((Object *)this_00);
  cVar2 = RefCounted::init_ref();
  if (cVar2 == '\0') {
    pIVar1 = *(Image **)this;
    if (pIVar1 == (Image *)0x0) {
      return;
    }
    *(undefined8 *)this = 0;
    cVar2 = RefCounted::unreference();
    if (cVar2 == '\0') {
      return;
    }
    memdelete<Image>(pIVar1);
    return;
  }
  pIVar1 = *(Image **)this;
  pIVar5 = pIVar1;
  if (this_00 != (Resource *)pIVar1) {
    *(Resource **)this = this_00;
    cVar2 = RefCounted::reference();
    pIVar5 = (Image *)this_00;
    if (cVar2 == '\0') {
      *(undefined8 *)this = 0;
      if (pIVar1 == (Image *)0x0) goto LAB_0012b3b8;
      cVar2 = RefCounted::unreference();
    }
    else {
      if (pIVar1 == (Image *)0x0) goto LAB_0012b3b8;
      cVar2 = RefCounted::unreference();
    }
    if (cVar2 != '\0') {
      memdelete<Image>(pIVar1);
    }
  }
LAB_0012b3b8:
  cVar2 = RefCounted::unreference();
  if (cVar2 == '\0') {
    return;
  }
  memdelete<Image>(pIVar5);
  return;
}



/* CowData<int>::_realloc(long) */

undefined8 __thiscall CowData<int>::_realloc(CowData<int> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<int>::resize<false>(long) */

undefined8 __thiscall CowData<int>::resize<false>(CowData<int> *this,long param_1)

{
  long *plVar1;
  code *pcVar2;
  long lVar3;
  ulong uVar4;
  undefined8 *puVar5;
  undefined8 uVar6;
  undefined8 *puVar7;
  long lVar8;
  long lVar9;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  lVar3 = *(long *)this;
  if (lVar3 == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar9 = 0;
    lVar3 = 0;
  }
  else {
    lVar9 = *(long *)(lVar3 + -8);
    if (param_1 == lVar9) {
      return 0;
    }
    if (param_1 == 0) {
      LOCK();
      plVar1 = (long *)(lVar3 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 != 0) {
        *(undefined8 *)this = 0;
        return 0;
      }
      lVar3 = *(long *)this;
      *(undefined8 *)this = 0;
      Memory::free_static((void *)(lVar3 + -0x10),false);
      return 0;
    }
    _copy_on_write(this);
    lVar3 = lVar9 * 4;
    if (lVar3 != 0) {
      uVar4 = lVar3 - 1U | lVar3 - 1U >> 1;
      uVar4 = uVar4 | uVar4 >> 2;
      uVar4 = uVar4 | uVar4 >> 4;
      uVar4 = uVar4 | uVar4 >> 8;
      uVar4 = uVar4 | uVar4 >> 0x10;
      lVar3 = (uVar4 | uVar4 >> 0x20) + 1;
    }
  }
  if (param_1 * 4 == 0) {
LAB_0012b690:
    _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                     "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                     ,0,0);
    return 6;
  }
  uVar4 = param_1 * 4 - 1;
  uVar4 = uVar4 | uVar4 >> 1;
  uVar4 = uVar4 | uVar4 >> 2;
  uVar4 = uVar4 | uVar4 >> 4;
  uVar4 = uVar4 | uVar4 >> 8;
  uVar4 = uVar4 | uVar4 >> 0x10;
  uVar4 = uVar4 | uVar4 >> 0x20;
  lVar8 = uVar4 + 1;
  if (lVar8 == 0) goto LAB_0012b690;
  if (lVar9 < param_1) {
    if (lVar8 != lVar3) {
      if (lVar9 == 0) {
        puVar5 = (undefined8 *)Memory::alloc_static(uVar4 + 0x11,false);
        if (puVar5 == (undefined8 *)0x0) {
          _err_print_error("resize","./core/templates/cowdata.h",0x171,
                           "Parameter \"mem_new\" is null.",0,0);
          return 6;
        }
        puVar7 = puVar5 + 2;
        *puVar5 = 1;
        puVar5[1] = 0;
        *(undefined8 **)this = puVar7;
        goto LAB_0012b5a1;
      }
      uVar6 = _realloc(this,lVar8);
      if ((int)uVar6 != 0) {
        return uVar6;
      }
    }
    puVar7 = *(undefined8 **)this;
    if (puVar7 != (undefined8 *)0x0) {
LAB_0012b5a1:
      puVar7[-1] = param_1;
      return 0;
    }
  }
  else {
    if ((lVar8 != lVar3) && (uVar6 = _realloc(this,lVar8), (int)uVar6 != 0)) {
      return uVar6;
    }
    if (*(long *)this != 0) {
      *(long *)(*(long *)this + -8) = param_1;
      return 0;
    }
  }
  _DAT_00000000 = 0;
                    /* WARNING: Does not return */
  pcVar2 = (code *)invalidInstructionException();
  (*pcVar2)();
}



/* std::unique_lock<std::recursive_mutex>::lock() */

void __thiscall
std::unique_lock<std::recursive_mutex>::lock(unique_lock<std::recursive_mutex> *this)

{
  int iVar1;
  
  if (*(pthread_mutex_t **)this == (pthread_mutex_t *)0x0) {
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(1);
  }
  if (this[8] == (unique_lock<std::recursive_mutex>)0x0) {
    iVar1 = pthread_mutex_lock(*(pthread_mutex_t **)this);
    if (iVar1 == 0) {
      this[8] = (unique_lock<std::recursive_mutex>)0x1;
      return;
    }
                    /* WARNING: Subroutine does not return */
    std::__throw_system_error(iVar1);
  }
                    /* WARNING: Subroutine does not return */
  std::__throw_system_error(0x23);
}



/* CowData<unsigned char>::_realloc(long) */

undefined8 __thiscall CowData<unsigned_char>::_realloc(CowData<unsigned_char> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* CowData<Callable>::_unref() */

void __thiscall CowData<Callable>::_unref(CowData<Callable> *this)

{
  long *plVar1;
  Callable *pCVar2;
  long lVar3;
  code *pcVar4;
  long lVar5;
  Callable *this_00;
  
  if (*(long *)this == 0) {
    return;
  }
  LOCK();
  plVar1 = (long *)(*(long *)this + -0x10);
  *plVar1 = *plVar1 + -1;
  UNLOCK();
  if (*plVar1 == 0) {
    pCVar2 = *(Callable **)this;
    if (pCVar2 != (Callable *)0x0) {
      lVar3 = *(long *)(pCVar2 + -8);
      *(undefined8 *)this = 0;
      if (lVar3 != 0) {
        lVar5 = 0;
        this_00 = pCVar2;
        do {
          lVar5 = lVar5 + 1;
          Callable::~Callable(this_00);
          this_00 = this_00 + 0x10;
        } while (lVar3 != lVar5);
      }
      Memory::free_static(pCVar2 + -0x10,false);
      return;
    }
                    /* WARNING: Does not return */
    pcVar4 = (code *)invalidInstructionException();
    (*pcVar4)();
  }
  *(undefined8 *)this = 0;
  return;
}



/* CowData<long>::_realloc(long) */

undefined8 __thiscall CowData<long>::_realloc(CowData<long> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* DisplayServerX11::WindowData::WindowData(DisplayServerX11::WindowData const&) */

void __thiscall DisplayServerX11::WindowData::WindowData(WindowData *this,WindowData *param_1)

{
  undefined4 uVar1;
  uint uVar2;
  long lVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  long lVar10;
  long lVar11;
  ulong uVar12;
  ulong uVar13;
  
  uVar7 = *(undefined8 *)param_1;
  uVar8 = *(undefined8 *)(param_1 + 8);
  *(undefined8 *)(this + 0x10) = *(undefined8 *)(param_1 + 0x10);
  uVar9 = *(undefined8 *)(param_1 + 0x18);
  *(undefined8 *)this = uVar7;
  *(undefined8 *)(this + 8) = uVar8;
  *(undefined8 *)(this + 0x18) = uVar9;
  *(undefined2 *)(this + 0x20) = *(undefined2 *)(param_1 + 0x20);
  this[0x22] = param_1[0x22];
  *(undefined8 *)(this + 0x28) = *(undefined8 *)(param_1 + 0x28);
  *(undefined8 *)(this + 0x30) = *(undefined8 *)(param_1 + 0x30);
  *(undefined8 *)(this + 0x38) = *(undefined8 *)(param_1 + 0x38);
  *(undefined8 *)(this + 0x40) = *(undefined8 *)(param_1 + 0x40);
  *(undefined8 *)(this + 0x48) = *(undefined8 *)(param_1 + 0x48);
  Callable::Callable((Callable *)(this + 0x50),(Callable *)(param_1 + 0x50));
  Callable::Callable((Callable *)(this + 0x60),(Callable *)(param_1 + 0x60));
  Callable::Callable((Callable *)(this + 0x70),(Callable *)(param_1 + 0x70));
  Callable::Callable((Callable *)(this + 0x80),(Callable *)(param_1 + 0x80));
  Callable::Callable((Callable *)(this + 0x90),(Callable *)(param_1 + 0x90));
  *(undefined8 *)(this + 0xa8) = 0;
  if (*(long *)(param_1 + 0xa8) != 0) {
    CowData<Vector2>::_ref((CowData<Vector2> *)(this + 0xa8),(CowData *)(param_1 + 0xa8));
  }
  uVar1 = *(undefined4 *)(param_1 + 0xb0);
  *(undefined8 *)(this + 0xd8) = 0;
  *(undefined1 (*) [16])(this + 0xb8) = (undefined1  [16])0x0;
  *(undefined1 (*) [16])(this + 200) = (undefined1  [16])0x0;
  uVar13 = *(ulong *)(param_1 + 0xd8);
  *(undefined4 *)(this + 0xb0) = uVar1;
  *(ulong *)(this + 0xd8) = uVar13;
  if ((int)(uVar13 >> 0x20) != 0) {
    uVar2 = *(uint *)(hash_table_size_primes + (uVar13 & 0xffffffff) * 4);
    uVar13 = (ulong)uVar2 << 2;
    uVar9 = Memory::alloc_static(uVar13,false);
    *(undefined8 *)(this + 0xd0) = uVar9;
    uVar9 = Memory::alloc_static(uVar13,false);
    *(undefined8 *)(this + 0xb8) = uVar9;
    uVar9 = Memory::alloc_static(uVar13,false);
    *(undefined8 *)(this + 200) = uVar9;
    lVar10 = Memory::alloc_static(uVar13,false);
    *(long *)(this + 0xc0) = lVar10;
    if (*(int *)(this + 0xdc) != 0) {
      lVar3 = *(long *)(this + 0xb8);
      lVar4 = *(long *)(param_1 + 0xb8);
      lVar11 = 0;
      lVar5 = *(long *)(param_1 + 200);
      lVar6 = *(long *)(this + 200);
      do {
        *(undefined4 *)(lVar3 + lVar11 * 4) = *(undefined4 *)(lVar4 + lVar11 * 4);
        *(undefined4 *)(lVar6 + lVar11 * 4) = *(undefined4 *)(lVar5 + lVar11 * 4);
        lVar11 = lVar11 + 1;
      } while ((uint)lVar11 < *(uint *)(this + 0xdc));
    }
    if (uVar2 != 0) {
      lVar3 = *(long *)(param_1 + 0xd0);
      lVar4 = *(long *)(this + 0xd0);
      uVar12 = 0;
      lVar5 = *(long *)(param_1 + 0xc0);
      do {
        *(undefined4 *)(lVar4 + uVar12) = *(undefined4 *)(lVar3 + uVar12);
        *(undefined4 *)(lVar10 + uVar12) = *(undefined4 *)(lVar5 + uVar12);
        uVar12 = uVar12 + 4;
      } while (uVar13 != uVar12);
    }
  }
  uVar9 = *(undefined8 *)(param_1 + 0x108);
  uVar7 = *(undefined8 *)(param_1 + 0x110);
  *(undefined8 *)(this + 0xe0) = *(undefined8 *)(param_1 + 0xe0);
  uVar1 = *(undefined4 *)(param_1 + 0xe8);
  *(undefined8 *)(this + 0x108) = uVar9;
  *(undefined8 *)(this + 0x110) = uVar7;
  *(undefined4 *)(this + 0xe8) = uVar1;
  *(undefined2 *)(this + 0xec) = *(undefined2 *)(param_1 + 0xec);
  *(undefined8 *)(this + 0xf0) = *(undefined8 *)(param_1 + 0xf0);
  *(undefined4 *)(this + 0xf8) = *(undefined4 *)(param_1 + 0xf8);
  *(undefined2 *)(this + 0xfc) = *(undefined2 *)(param_1 + 0xfc);
  *(undefined8 *)(this + 0x100) = *(undefined8 *)(param_1 + 0x100);
  *(undefined4 *)(this + 0x118) = *(undefined4 *)(param_1 + 0x118);
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* HashMap<int, DisplayServerX11::WindowData, HashMapHasherDefault, HashMapComparatorDefault<int>,
   DefaultTypedAllocator<HashMapElement<int, DisplayServerX11::WindowData> > >::operator[](int
   const&) */

WindowData * __thiscall
HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
::operator[](HashMap<int,DisplayServerX11::WindowData,HashMapHasherDefault,HashMapComparatorDefault<int>,DefaultTypedAllocator<HashMapElement<int,DisplayServerX11::WindowData>>>
             *this,int *param_1)

{
  long *plVar1;
  uint *puVar2;
  undefined8 *puVar3;
  long lVar4;
  void *pvVar5;
  void *__s;
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  char cVar30;
  uint uVar31;
  uint uVar32;
  uint uVar33;
  ulong uVar34;
  undefined8 uVar35;
  void *__s_00;
  undefined8 *puVar36;
  long lVar37;
  ulong uVar38;
  void *pvVar39;
  int iVar40;
  long lVar41;
  long lVar42;
  long lVar43;
  ulong uVar44;
  undefined8 uVar45;
  WindowData *pWVar46;
  uint uVar47;
  uint uVar48;
  uint uVar49;
  undefined8 *puVar50;
  long in_FS_OFFSET;
  Callable *local_2f8;
  WindowData *local_2e0;
  uint local_29c;
  undefined8 local_298 [4];
  undefined2 local_278;
  undefined1 local_276;
  undefined8 local_270;
  undefined8 local_268;
  undefined8 local_260;
  undefined8 local_258;
  undefined8 local_250;
  Callable local_248 [16];
  Callable local_238 [16];
  Callable local_228 [16];
  Callable local_218 [16];
  Callable local_208 [24];
  long local_1f0;
  undefined4 local_1e8;
  void *local_1e0;
  void *local_1d8;
  void *local_1d0;
  void *local_1c8;
  undefined8 local_1c0;
  undefined8 local_1b8;
  undefined4 local_1b0;
  undefined2 local_1ac;
  undefined8 local_1a8;
  undefined4 local_1a0;
  undefined2 local_19c;
  undefined8 local_198;
  undefined8 local_190;
  undefined8 uStack_188;
  undefined4 local_180;
  undefined1 local_178 [16];
  uint local_168;
  WindowData local_160 [80];
  Callable local_110 [16];
  Callable local_100 [16];
  Callable local_f0 [16];
  Callable local_e0 [16];
  Callable local_d0 [24];
  long local_b8;
  void *local_a8;
  void *local_a0;
  void *local_98;
  void *local_90;
  uint local_88;
  int local_84;
  long local_40;
  
  lVar4 = *(long *)(this + 8);
  uVar33 = *param_1;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar32 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
  uVar34 = CONCAT44(0,uVar32);
  if ((lVar4 != 0) && (*(int *)(this + 0x2c) != 0)) {
    uVar44 = *(ulong *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
    uVar31 = (uVar33 >> 0x10 ^ uVar33) * -0x7a143595;
    uVar31 = (uVar31 ^ uVar31 >> 0xd) * -0x3d4d51cb;
    uVar49 = uVar31 ^ uVar31 >> 0x10;
    if (uVar31 == uVar31 >> 0x10) {
      uVar49 = 1;
      uVar38 = uVar44;
    }
    else {
      uVar38 = uVar49 * uVar44;
    }
    auVar6._8_8_ = 0;
    auVar6._0_8_ = uVar34;
    auVar18._8_8_ = 0;
    auVar18._0_8_ = uVar38;
    lVar41 = SUB168(auVar6 * auVar18,8);
    uVar31 = *(uint *)(*(long *)(this + 0x10) + lVar41 * 4);
    uVar47 = SUB164(auVar6 * auVar18,8);
    if (uVar31 != 0) {
      uVar48 = 0;
      do {
        if ((uVar49 == uVar31) && (uVar33 == *(uint *)(*(long *)(lVar4 + lVar41 * 8) + 0x10))) {
          local_2e0 = (WindowData *)(*(long *)(lVar4 + (ulong)uVar47 * 8) + 0x18);
          goto LAB_0012bc57;
        }
        uVar48 = uVar48 + 1;
        auVar7._8_8_ = 0;
        auVar7._0_8_ = (uVar47 + 1) * uVar44;
        auVar19._8_8_ = 0;
        auVar19._0_8_ = uVar34;
        lVar41 = SUB168(auVar7 * auVar19,8);
        uVar31 = *(uint *)(*(long *)(this + 0x10) + lVar41 * 4);
        uVar47 = SUB164(auVar7 * auVar19,8);
      } while ((uVar31 != 0) &&
              (auVar8._8_8_ = 0, auVar8._0_8_ = uVar31 * uVar44, auVar20._8_8_ = 0,
              auVar20._0_8_ = uVar34, auVar9._8_8_ = 0,
              auVar9._0_8_ = ((uVar47 + uVar32) - SUB164(auVar8 * auVar20,8)) * uVar44,
              auVar21._8_8_ = 0, auVar21._0_8_ = uVar34, uVar48 <= SUB164(auVar9 * auVar21,8)));
    }
  }
  pWVar46 = (WindowData *)local_298;
  for (lVar41 = 0x24; lVar41 != 0; lVar41 = lVar41 + -1) {
    *(undefined8 *)pWVar46 = 0;
    pWVar46 = pWVar46 + 8;
  }
  local_1a0 = CONCAT31(local_1a0._1_3_,1);
  local_1e8 = 0xffffffff;
  local_1c0 = 2;
  if (lVar4 == 0) {
    uVar44 = uVar34 * 4;
    uVar38 = uVar34 * 8;
    uVar35 = Memory::alloc_static(uVar44,false);
    *(undefined8 *)(this + 0x10) = uVar35;
    pvVar39 = (void *)Memory::alloc_static(uVar38,false);
    *(void **)(this + 8) = pvVar39;
    if (uVar32 != 0) {
      pvVar5 = *(void **)(this + 0x10);
      if ((pvVar5 < (void *)((long)pvVar39 + uVar38)) && (pvVar39 < (void *)((long)pvVar5 + uVar44))
         ) {
        uVar44 = 0;
        do {
          *(undefined4 *)((long)pvVar5 + uVar44 * 4) = 0;
          *(undefined8 *)((long)pvVar39 + uVar44 * 8) = 0;
          uVar44 = uVar44 + 1;
        } while (uVar34 != uVar44);
      }
      else {
        memset(pvVar5,0,uVar44);
        memset(pvVar39,0,uVar38);
      }
    }
    uVar33 = *param_1;
  }
  local_29c = 0;
  cVar30 = _lookup_pos(this,(int *)(ulong)uVar33,&local_29c);
  if (cVar30 == '\0') {
    if ((float)uVar34 * __LC96 < (float)(*(int *)(this + 0x2c) + 1)) {
      uVar32 = *(uint *)(this + 0x28);
      if (uVar32 == 0x1c) {
        _err_print_error("_insert","./core/templates/hash_map.h",0xdd,
                         "Condition \"capacity_index + 1 == HASH_TABLE_SIZE_MAX\" is true. Returning: nullptr"
                         ,"Hash table maximum capacity reached, aborting insertion.",0,0);
        local_2e0 = (WindowData *)0x18;
        pvVar39 = local_1e0;
        goto LAB_0012c1c8;
      }
      uVar34 = (ulong)(uVar32 + 1);
      *(undefined4 *)(this + 0x2c) = 0;
      uVar33 = *(uint *)(hash_table_size_primes + (ulong)uVar32 * 4);
      if (uVar32 + 1 < 2) {
        uVar34 = 2;
      }
      uVar32 = *(uint *)(hash_table_size_primes + uVar34 * 4);
      uVar38 = (ulong)uVar32;
      *(int *)(this + 0x28) = (int)uVar34;
      pvVar39 = *(void **)(this + 8);
      uVar34 = uVar38 * 4;
      uVar44 = uVar38 * 8;
      pvVar5 = *(void **)(this + 0x10);
      uVar35 = Memory::alloc_static(uVar34,false);
      *(undefined8 *)(this + 0x10) = uVar35;
      __s_00 = (void *)Memory::alloc_static(uVar44,false);
      *(void **)(this + 8) = __s_00;
      if (uVar32 != 0) {
        __s = *(void **)(this + 0x10);
        if ((__s < (void *)((long)__s_00 + uVar44)) && (__s_00 < (void *)((long)__s + uVar34))) {
          uVar34 = 0;
          do {
            *(undefined4 *)((long)__s + uVar34 * 4) = 0;
            *(undefined8 *)((long)__s_00 + uVar34 * 8) = 0;
            uVar34 = uVar34 + 1;
          } while (uVar38 != uVar34);
        }
        else {
          memset(__s,0,uVar34);
          memset(__s_00,0,uVar44);
        }
      }
      if (uVar33 == 0) {
        uVar33 = *param_1;
      }
      else {
        uVar34 = 0;
        do {
          uVar32 = *(uint *)((long)pvVar5 + uVar34 * 4);
          if (uVar32 != 0) {
            lVar4 = *(long *)(this + 0x10);
            uVar47 = 0;
            uVar31 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
            uVar44 = CONCAT44(0,uVar31);
            lVar41 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
            auVar10._8_8_ = 0;
            auVar10._0_8_ = (ulong)uVar32 * lVar41;
            auVar22._8_8_ = 0;
            auVar22._0_8_ = uVar44;
            lVar42 = SUB168(auVar10 * auVar22,8);
            puVar2 = (uint *)(lVar4 + lVar42 * 4);
            iVar40 = SUB164(auVar10 * auVar22,8);
            uVar49 = *puVar2;
            uVar35 = *(undefined8 *)((long)pvVar39 + uVar34 * 8);
            while (uVar49 != 0) {
              auVar11._8_8_ = 0;
              auVar11._0_8_ = (ulong)uVar49 * lVar41;
              auVar23._8_8_ = 0;
              auVar23._0_8_ = uVar44;
              auVar12._8_8_ = 0;
              auVar12._0_8_ = (ulong)((uVar31 + iVar40) - SUB164(auVar11 * auVar23,8)) * lVar41;
              auVar24._8_8_ = 0;
              auVar24._0_8_ = uVar44;
              local_2f8._0_4_ = SUB164(auVar12 * auVar24,8);
              uVar45 = uVar35;
              if ((uint)local_2f8 < uVar47) {
                *puVar2 = uVar32;
                puVar36 = (undefined8 *)((long)__s_00 + lVar42 * 8);
                uVar45 = *puVar36;
                *puVar36 = uVar35;
                uVar32 = uVar49;
                uVar47 = (uint)local_2f8;
              }
              uVar47 = uVar47 + 1;
              auVar13._8_8_ = 0;
              auVar13._0_8_ = (ulong)(iVar40 + 1) * lVar41;
              auVar25._8_8_ = 0;
              auVar25._0_8_ = uVar44;
              lVar42 = SUB168(auVar13 * auVar25,8);
              puVar2 = (uint *)(lVar4 + lVar42 * 4);
              iVar40 = SUB164(auVar13 * auVar25,8);
              uVar35 = uVar45;
              uVar49 = *puVar2;
            }
            *(undefined8 *)((long)__s_00 + lVar42 * 8) = uVar35;
            *puVar2 = uVar32;
            *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
          }
          uVar34 = uVar34 + 1;
        } while (uVar34 != uVar33);
        Memory::free_static(pvVar39,false);
        Memory::free_static(pvVar5,false);
        uVar33 = *param_1;
      }
    }
    local_178 = (undefined1  [16])0x0;
    local_168 = uVar33;
    DisplayServerX11::WindowData::WindowData(local_160,(WindowData *)local_298);
    puVar36 = (undefined8 *)operator_new(0x138,"");
    *puVar36 = local_178._0_8_;
    puVar36[1] = local_178._8_8_;
    *(uint *)(puVar36 + 2) = local_168;
    local_2e0 = (WindowData *)(puVar36 + 3);
    DisplayServerX11::WindowData::WindowData(local_2e0,local_160);
    if (local_a8 != (void *)0x0) {
      if (local_84 != 0) {
        if (*(uint *)(hash_table_size_primes + (ulong)local_88 * 4) != 0) {
          memset(local_90,0,(ulong)*(uint *)(hash_table_size_primes + (ulong)local_88 * 4) * 4);
        }
        local_84 = 0;
      }
      Memory::free_static(local_a8,false);
      Memory::free_static(local_98,false);
      Memory::free_static(local_a0,false);
      Memory::free_static(local_90,false);
    }
    lVar4 = local_b8;
    if (local_b8 != 0) {
      LOCK();
      plVar1 = (long *)(local_b8 + -0x10);
      *plVar1 = *plVar1 + -1;
      UNLOCK();
      if (*plVar1 == 0) {
        local_b8 = 0;
        Memory::free_static((void *)(lVar4 + -0x10),false);
      }
    }
    Callable::~Callable(local_d0);
    Callable::~Callable(local_e0);
    Callable::~Callable(local_f0);
    Callable::~Callable(local_100);
    Callable::~Callable(local_110);
    puVar50 = *(undefined8 **)(this + 0x20);
    if (puVar50 == (undefined8 *)0x0) {
      *(undefined8 **)(this + 0x18) = puVar36;
    }
    else {
      *puVar50 = puVar36;
      puVar36[1] = puVar50;
    }
    *(undefined8 **)(this + 0x20) = puVar36;
    uVar32 = ((uint)*param_1 >> 0x10 ^ *param_1) * -0x7a143595;
    uVar33 = (uVar32 ^ uVar32 >> 0xd) * -0x3d4d51cb;
    uVar32 = uVar33 ^ uVar33 >> 0x10;
    if (uVar33 == uVar33 >> 0x10) {
      uVar34 = 1;
      uVar32 = 1;
    }
    else {
      uVar34 = (ulong)uVar32;
    }
    lVar4 = *(long *)(this + 0x10);
    uVar49 = 0;
    uVar33 = *(uint *)(hash_table_size_primes + (ulong)*(uint *)(this + 0x28) * 4);
    uVar44 = CONCAT44(0,uVar33);
    lVar41 = *(long *)(hash_table_size_primes_inv + (ulong)*(uint *)(this + 0x28) * 8);
    auVar14._8_8_ = 0;
    auVar14._0_8_ = uVar34 * lVar41;
    auVar26._8_8_ = 0;
    auVar26._0_8_ = uVar44;
    lVar43 = SUB168(auVar14 * auVar26,8);
    lVar42 = *(long *)(this + 8);
    puVar2 = (uint *)(lVar4 + lVar43 * 4);
    iVar40 = SUB164(auVar14 * auVar26,8);
    uVar31 = *puVar2;
    while (uVar31 != 0) {
      auVar15._8_8_ = 0;
      auVar15._0_8_ = (ulong)uVar31 * lVar41;
      auVar27._8_8_ = 0;
      auVar27._0_8_ = uVar44;
      auVar16._8_8_ = 0;
      auVar16._0_8_ = (ulong)((uVar33 + iVar40) - SUB164(auVar15 * auVar27,8)) * lVar41;
      auVar28._8_8_ = 0;
      auVar28._0_8_ = uVar44;
      local_2f8._0_4_ = SUB164(auVar16 * auVar28,8);
      puVar50 = puVar36;
      if ((uint)local_2f8 < uVar49) {
        *puVar2 = uVar32;
        puVar3 = (undefined8 *)(lVar42 + lVar43 * 8);
        puVar50 = (undefined8 *)*puVar3;
        *puVar3 = puVar36;
        uVar32 = uVar31;
        uVar49 = (uint)local_2f8;
      }
      uVar49 = uVar49 + 1;
      auVar17._8_8_ = 0;
      auVar17._0_8_ = (ulong)(iVar40 + 1) * lVar41;
      auVar29._8_8_ = 0;
      auVar29._0_8_ = uVar44;
      lVar43 = SUB168(auVar17 * auVar29,8);
      puVar2 = (uint *)(lVar4 + lVar43 * 4);
      iVar40 = SUB164(auVar17 * auVar29,8);
      puVar36 = puVar50;
      uVar31 = *puVar2;
    }
    *(undefined8 **)(lVar42 + lVar43 * 8) = puVar36;
    *puVar2 = uVar32;
    *(int *)(this + 0x2c) = *(int *)(this + 0x2c) + 1;
    pvVar39 = local_1e0;
  }
  else {
    uVar34 = (ulong)local_29c;
    lVar4 = *(long *)(*(long *)(this + 8) + uVar34 * 8);
    *(undefined8 *)(lVar4 + 0x28) = local_298[2];
    *(undefined8 *)(lVar4 + 0x18) = local_298[0];
    *(undefined8 *)(lVar4 + 0x20) = local_298[1];
    *(undefined8 *)(lVar4 + 0x30) = local_298[3];
    *(undefined2 *)(lVar4 + 0x38) = local_278;
    *(undefined1 *)(lVar4 + 0x3a) = local_276;
    *(undefined8 *)(lVar4 + 0x40) = local_270;
    *(undefined8 *)(lVar4 + 0x48) = local_268;
    *(undefined8 *)(lVar4 + 0x50) = local_260;
    *(undefined8 *)(lVar4 + 0x58) = local_258;
    *(undefined8 *)(lVar4 + 0x60) = local_250;
    Callable::operator=((Callable *)(lVar4 + 0x68),local_248);
    Callable::operator=((Callable *)(lVar4 + 0x78),local_238);
    Callable::operator=((Callable *)(lVar4 + 0x88),local_228);
    Callable::operator=((Callable *)(lVar4 + 0x98),local_218);
    Callable::operator=((Callable *)(lVar4 + 0xa8),local_208);
    if (*(long *)(lVar4 + 0xc0) != local_1f0) {
      CowData<Vector2>::_ref((CowData<Vector2> *)(lVar4 + 0xc0),(CowData *)&local_1f0);
    }
    *(undefined4 *)(lVar4 + 200) = local_1e8;
    pvVar39 = local_1e0;
    if (&local_1e0 != (void **)(lVar4 + 0xd0)) {
      pvVar39 = *(void **)(lVar4 + 0xd0);
      if (pvVar39 != (void *)0x0) {
        if (*(int *)(lVar4 + 0xf4) != 0) {
          if (*(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar4 + 0xf0) * 4) != 0) {
            memset(*(void **)(lVar4 + 0xe8),0,
                   (ulong)*(uint *)(hash_table_size_primes + (ulong)*(uint *)(lVar4 + 0xf0) * 4) * 4
                  );
          }
          *(undefined4 *)(lVar4 + 0xf4) = 0;
        }
        Memory::free_static(pvVar39,false);
        Memory::free_static(*(void **)(lVar4 + 0xe0),false);
        Memory::free_static(*(void **)(lVar4 + 0xd8),false);
        Memory::free_static(*(void **)(lVar4 + 0xe8),false);
        *(undefined1 (*) [16])(lVar4 + 0xd0) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(lVar4 + 0xe0) = (undefined1  [16])0x0;
      }
      *(ulong *)(lVar4 + 0xf0) = local_1c0;
      pvVar39 = local_1e0;
      if ((int)(local_1c0 >> 0x20) != 0) {
        uVar32 = *(uint *)(hash_table_size_primes + (local_1c0 & 0xffffffff) * 4);
        uVar44 = (ulong)uVar32 << 2;
        uVar35 = Memory::alloc_static(uVar44,false);
        *(undefined8 *)(lVar4 + 0xe8) = uVar35;
        uVar35 = Memory::alloc_static(uVar44,false);
        *(undefined8 *)(lVar4 + 0xd0) = uVar35;
        uVar35 = Memory::alloc_static(uVar44,false);
        *(undefined8 *)(lVar4 + 0xe0) = uVar35;
        lVar41 = Memory::alloc_static(uVar44,false);
        *(long *)(lVar4 + 0xd8) = lVar41;
        if (*(int *)(lVar4 + 0xf4) != 0) {
          lVar42 = *(long *)(lVar4 + 0xd0);
          lVar43 = *(long *)(lVar4 + 0xe0);
          lVar37 = 0;
          do {
            *(undefined4 *)(lVar42 + lVar37 * 4) = *(undefined4 *)((long)local_1e0 + lVar37 * 4);
            *(undefined4 *)(lVar43 + lVar37 * 4) = *(undefined4 *)((long)local_1d0 + lVar37 * 4);
            lVar37 = lVar37 + 1;
          } while ((uint)lVar37 < *(uint *)(lVar4 + 0xf4));
        }
        pvVar39 = local_1e0;
        if (uVar32 != 0) {
          lVar42 = *(long *)(lVar4 + 0xe8);
          uVar38 = 0;
          do {
            *(undefined4 *)(lVar42 + uVar38) = *(undefined4 *)((long)local_1c8 + uVar38);
            *(undefined4 *)(lVar41 + uVar38) = *(undefined4 *)((long)local_1d8 + uVar38);
            uVar38 = uVar38 + 4;
          } while (uVar44 != uVar38);
        }
      }
    }
    *(undefined8 *)(lVar4 + 0xf8) = local_1b8;
    *(undefined8 *)(lVar4 + 0x120) = local_190;
    *(undefined8 *)(lVar4 + 0x128) = uStack_188;
    *(undefined4 *)(lVar4 + 0x100) = local_1b0;
    *(undefined2 *)(lVar4 + 0x104) = local_1ac;
    *(undefined8 *)(lVar4 + 0x108) = local_1a8;
    *(undefined4 *)(lVar4 + 0x110) = local_1a0;
    *(undefined2 *)(lVar4 + 0x114) = local_19c;
    *(undefined8 *)(lVar4 + 0x118) = local_198;
    *(undefined4 *)(lVar4 + 0x130) = local_180;
    local_2e0 = (WindowData *)(*(long *)(*(long *)(this + 8) + uVar34 * 8) + 0x18);
  }
LAB_0012c1c8:
  local_2f8 = local_248;
  if (pvVar39 != (void *)0x0) {
    if (local_1c0._4_4_ != 0) {
      if (*(uint *)(hash_table_size_primes + (local_1c0 & 0xffffffff) * 4) != 0) {
        memset(local_1c8,0,
               (ulong)*(uint *)(hash_table_size_primes + (local_1c0 & 0xffffffff) * 4) * 4);
      }
      local_1c0 = local_1c0 & 0xffffffff;
    }
    Memory::free_static(pvVar39,false);
    Memory::free_static(local_1d0,false);
    Memory::free_static(local_1d8,false);
    Memory::free_static(local_1c8,false);
  }
  lVar4 = local_1f0;
  if (local_1f0 != 0) {
    LOCK();
    plVar1 = (long *)(local_1f0 + -0x10);
    *plVar1 = *plVar1 + -1;
    UNLOCK();
    if (*plVar1 == 0) {
      local_1f0 = 0;
      Memory::free_static((void *)(lVar4 + -0x10),false);
    }
  }
  Callable::~Callable(local_208);
  Callable::~Callable(local_218);
  Callable::~Callable(local_228);
  Callable::~Callable(local_238);
  Callable::~Callable(local_2f8);
LAB_0012bc57:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_2e0;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* CowData<Callable>::_realloc(long) */

undefined8 __thiscall CowData<Callable>::_realloc(CowData<Callable> *this,long param_1)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)
           Memory::realloc_static((void *)(*(long *)this + -0x10),param_1 + 0x10,false);
  if (puVar1 != (undefined8 *)0x0) {
    *puVar1 = 1;
    *(undefined8 **)this = puVar1 + 2;
    return 0;
  }
  _err_print_error("_realloc","./core/templates/cowdata.h",0x1a9,"Parameter \"mem_new\" is null.",0,
                   0);
  return 6;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* Error CowData<Callable>::resize<false>(long) */

undefined8 __thiscall CowData<Callable>::resize<false>(CowData<Callable> *this,long param_1)

{
  code *pcVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  undefined8 uVar4;
  undefined8 *puVar5;
  ulong uVar6;
  long lVar7;
  long lVar8;
  ulong uVar9;
  long lVar10;
  
  if (param_1 < 0) {
    _err_print_error("resize","./core/templates/cowdata.h",0x157,
                     "Condition \"p_size < 0\" is true. Returning: ERR_INVALID_PARAMETER",0,0);
    return 0x1f;
  }
  if (*(long *)this == 0) {
    if (param_1 == 0) {
      return 0;
    }
    _copy_on_write(this);
    lVar7 = 0;
    lVar8 = 0;
  }
  else {
    lVar7 = *(long *)(*(long *)this + -8);
    if (param_1 == lVar7) {
      return 0;
    }
    if (param_1 == 0) {
      _unref(this);
      return 0;
    }
    _copy_on_write(this);
    lVar8 = lVar7 * 0x10;
    if (lVar8 != 0) {
      uVar9 = lVar8 - 1U | lVar8 - 1U >> 1;
      uVar9 = uVar9 | uVar9 >> 2;
      uVar9 = uVar9 | uVar9 >> 4;
      uVar9 = uVar9 | uVar9 >> 8;
      uVar9 = uVar9 | uVar9 >> 0x10;
      lVar8 = (uVar9 | uVar9 >> 0x20) + 1;
    }
  }
  if (param_1 * 0x10 == 0) {
LAB_0012cb00:
    _err_print_error("resize","./core/templates/cowdata.h",0x16a,
                     "Condition \"!_get_alloc_size_checked(p_size, &alloc_size)\" is true. Returning: ERR_OUT_OF_MEMORY"
                     ,0,0);
    return 6;
  }
  uVar9 = param_1 * 0x10 - 1;
  uVar9 = uVar9 >> 1 | uVar9;
  uVar9 = uVar9 | uVar9 >> 2;
  uVar9 = uVar9 | uVar9 >> 4;
  uVar9 = uVar9 | uVar9 >> 8;
  uVar9 = uVar9 | uVar9 >> 0x10;
  uVar9 = uVar9 | uVar9 >> 0x20;
  lVar10 = uVar9 + 1;
  if (lVar10 == 0) goto LAB_0012cb00;
  uVar6 = param_1;
  if (param_1 <= lVar7) {
    while (lVar7 = *(long *)this, lVar7 != 0) {
      if (*(ulong *)(lVar7 + -8) <= uVar6) {
        if (lVar10 != lVar8) {
          uVar4 = _realloc(this,lVar10);
          if ((int)uVar4 != 0) {
            return uVar4;
          }
          lVar7 = *(long *)this;
          if (lVar7 == 0) {
            _DAT_00000000 = 0;
                    /* WARNING: Does not return */
            pcVar1 = (code *)invalidInstructionException();
            (*pcVar1)();
          }
        }
        *(long *)(lVar7 + -8) = param_1;
        return 0;
      }
      Callable::~Callable((Callable *)(lVar7 + uVar6 * 0x10));
      uVar6 = uVar6 + 1;
    }
    goto LAB_0012cb56;
  }
  if (lVar10 == lVar8) {
LAB_0012ca73:
    puVar5 = *(undefined8 **)this;
    if (puVar5 == (undefined8 *)0x0) {
LAB_0012cb56:
                    /* WARNING: Does not return */
      pcVar1 = (code *)invalidInstructionException();
      (*pcVar1)();
    }
    lVar7 = puVar5[-1];
    if (param_1 <= lVar7) goto LAB_0012c9d8;
  }
  else {
    if (lVar7 != 0) {
      uVar4 = _realloc(this,lVar10);
      if ((int)uVar4 != 0) {
        return uVar4;
      }
      goto LAB_0012ca73;
    }
    puVar2 = (undefined8 *)Memory::alloc_static(uVar9 + 0x11,false);
    if (puVar2 == (undefined8 *)0x0) {
      _err_print_error("resize","./core/templates/cowdata.h",0x171,"Parameter \"mem_new\" is null.",
                       0,0);
      return 6;
    }
    puVar5 = puVar2 + 2;
    *puVar2 = 1;
    puVar2[1] = 0;
    *(undefined8 **)this = puVar5;
    lVar7 = 0;
  }
  puVar2 = puVar5 + lVar7 * 2;
  do {
    *puVar2 = 0;
    puVar3 = puVar2 + 2;
    puVar2[1] = 0;
    puVar2 = puVar3;
  } while (puVar3 != puVar5 + param_1 * 2);
LAB_0012c9d8:
  puVar5[-1] = param_1;
  return 0;
}



/* DisplayServerX11::has_feature(DisplayServer::Feature) const */

void DisplayServerX11::_GLOBAL__sub_I_has_feature(void)

{
  if (KeyMappingX11::xkeysym_map == '\0') {
    KeyMappingX11::xkeysym_map = '\x01';
    KeyMappingX11::xkeysym_map._8_16_ = (undefined1  [16])0x0;
    KeyMappingX11::xkeysym_map._24_16_ = (undefined1  [16])0x0;
    KeyMappingX11::xkeysym_map._40_8_ = 2;
    __cxa_atexit(HashMap<unsigned_long,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,Key>>>
                 ::~HashMap,KeyMappingX11::xkeysym_map,&__dso_handle);
  }
  if (KeyMappingX11::scancode_map == '\0') {
    KeyMappingX11::scancode_map = '\x01';
    KeyMappingX11::scancode_map._8_16_ = (undefined1  [16])0x0;
    KeyMappingX11::scancode_map._24_16_ = (undefined1  [16])0x0;
    KeyMappingX11::scancode_map._40_8_ = 2;
    __cxa_atexit(HashMap<unsigned_int,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,Key>>>
                 ::~HashMap,KeyMappingX11::scancode_map,&__dso_handle);
  }
  if (KeyMappingX11::scancode_map_inv == '\0') {
    KeyMappingX11::scancode_map_inv = '\x01';
    KeyMappingX11::scancode_map_inv._8_16_ = (undefined1  [16])0x0;
    KeyMappingX11::scancode_map_inv._24_16_ = (undefined1  [16])0x0;
    KeyMappingX11::scancode_map_inv._40_8_ = 2;
    __cxa_atexit(HashMap<Key,unsigned_int,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<Key>,DefaultTypedAllocator<HashMapElement<Key,unsigned_int>>>
                 ::~HashMap,KeyMappingX11::scancode_map_inv,&__dso_handle);
  }
  if (KeyMappingX11::xkeysym_unicode_map == '\0') {
    KeyMappingX11::xkeysym_unicode_map = '\x01';
    KeyMappingX11::xkeysym_unicode_map._8_16_ = (undefined1  [16])0x0;
    KeyMappingX11::xkeysym_unicode_map._24_16_ = (undefined1  [16])0x0;
    KeyMappingX11::xkeysym_unicode_map._40_8_ = 2;
    __cxa_atexit(HashMap<unsigned_long,char32_t,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,char32_t>>>
                 ::~HashMap,KeyMappingX11::xkeysym_unicode_map,&__dso_handle);
  }
  if (KeyMappingX11::location_map != '\0') {
    return;
  }
  KeyMappingX11::location_map = 1;
  KeyMappingX11::location_map._8_16_ = (undefined1  [16])0x0;
  KeyMappingX11::location_map._40_8_ = 2;
  KeyMappingX11::location_map._24_16_ = (undefined1  [16])0x0;
  __cxa_atexit(HashMap<unsigned_int,KeyLocation,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,KeyLocation>>>
               ::~HashMap,KeyMappingX11::location_map,&__dso_handle);
  return;
}



/* WARNING: Control flow encountered bad instruction data */
/* GLManagerEGL_X11::~GLManagerEGL_X11() */

void __thiscall GLManagerEGL_X11::~GLManagerEGL_X11(GLManagerEGL_X11 *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* CallableCustomMethodPointer<Object, void, int, bool>::~CallableCustomMethodPointer() */

void __thiscall
CallableCustomMethodPointer<Object,void,int,bool>::~CallableCustomMethodPointer
          (CallableCustomMethodPointer<Object,void,int,bool> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* StringName::~StringName() */

void __thiscall StringName::~StringName(StringName *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* DisplayServerX11::WindowData::WindowData(DisplayServerX11::WindowData const&) */

void __thiscall DisplayServerX11::WindowData::WindowData(WindowData *this,WindowData *param_1)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* Image::~Image() */

void __thiscall Image::~Image(Image *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* HashMap<unsigned int, KeyLocation, KeyMappingX11::HashMapHasherKeys,
   HashMapComparatorDefault<unsigned int>, DefaultTypedAllocator<HashMapElement<unsigned int,
   KeyLocation> > >::~HashMap() */

void __thiscall
HashMap<unsigned_int,KeyLocation,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,KeyLocation>>>
::~HashMap(HashMap<unsigned_int,KeyLocation,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,KeyLocation>>>
           *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* HashMap<unsigned long, char32_t, KeyMappingX11::HashMapHasherKeys,
   HashMapComparatorDefault<unsigned long>, DefaultTypedAllocator<HashMapElement<unsigned long,
   char32_t> > >::~HashMap() */

void __thiscall
HashMap<unsigned_long,char32_t,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,char32_t>>>
::~HashMap(HashMap<unsigned_long,char32_t,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,char32_t>>>
           *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* HashMap<Key, unsigned int, KeyMappingX11::HashMapHasherKeys, HashMapComparatorDefault<Key>,
   DefaultTypedAllocator<HashMapElement<Key, unsigned int> > >::~HashMap() */

void __thiscall
HashMap<Key,unsigned_int,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<Key>,DefaultTypedAllocator<HashMapElement<Key,unsigned_int>>>
::~HashMap(HashMap<Key,unsigned_int,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<Key>,DefaultTypedAllocator<HashMapElement<Key,unsigned_int>>>
           *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* HashMap<unsigned int, Key, KeyMappingX11::HashMapHasherKeys, HashMapComparatorDefault<unsigned
   int>, DefaultTypedAllocator<HashMapElement<unsigned int, Key> > >::~HashMap() */

void __thiscall
HashMap<unsigned_int,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,Key>>>
::~HashMap(HashMap<unsigned_int,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_int>,DefaultTypedAllocator<HashMapElement<unsigned_int,Key>>>
           *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* HashMap<unsigned long, Key, KeyMappingX11::HashMapHasherKeys, HashMapComparatorDefault<unsigned
   long>, DefaultTypedAllocator<HashMapElement<unsigned long, Key> > >::~HashMap() */

void __thiscall
HashMap<unsigned_long,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,Key>>>
::~HashMap(HashMap<unsigned_long,Key,KeyMappingX11::HashMapHasherKeys,HashMapComparatorDefault<unsigned_long>,DefaultTypedAllocator<HashMapElement<unsigned_long,Key>>>
           *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* NativeMenu::~NativeMenu() */

void __thiscall NativeMenu::~NativeMenu(NativeMenu *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


