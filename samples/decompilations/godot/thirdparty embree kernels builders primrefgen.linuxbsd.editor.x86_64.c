
/* embree::parallel_for_for_prefix_sum0_<embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2,
   unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long)#1} const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,
   embree::Geometry::GTypeMask, unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned
   long)#1}, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long)#1} const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,
   embree::Geometry::GTypeMask, unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, unsigned long, embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2, unsigned
   long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long)#1} const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,
   embree::Geometry::GTypeMask, unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned long)#1}
   const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long)#1} const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,
   embree::Geometry::GTypeMask, unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_for_for_prefix_sum0_<embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2,unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::BuildProgressMonitor&,embree::BBox<float>)::{lambda(embree::Geometry*,embree::range<unsigned_long>const&,unsigned_long,unsigned_long)#1},embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::BuildProgressMonitor&,embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>>&,embree::Scene::Iterator2&,unsigned_long,e...ee::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#1}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined1 (*pauVar1) [16];
  undefined8 *puVar2;
  long *plVar3;
  float fVar4;
  ulong uVar5;
  ulong uVar6;
  long lVar7;
  long *plVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  ulong uVar12;
  ulong uVar13;
  long lVar14;
  long in_FS_OFFSET;
  float fVar15;
  float fVar16;
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  ulong local_180;
  undefined4 local_f8;
  undefined4 local_f4;
  ulong local_e8;
  ulong local_e0;
  undefined1 local_d8 [16];
  undefined1 local_c8 [16];
  undefined1 local_b8 [16];
  undefined1 local_a8 [16];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  long local_78;
  long local_70;
  long local_68;
  ulong local_60;
  undefined4 local_58;
  undefined4 local_54;
  float local_50;
  float local_4c;
  long local_40;
  
  lVar9 = *(long *)this;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar7 = *(long *)(lVar9 + param_1 * 8);
  uVar12 = *(ulong *)(lVar9 + 0x200 + param_1 * 8);
  uVar13 = param_1 * *(long *)(lVar9 + 0x408);
  uVar5 = uVar13 / **(ulong **)(this + 8);
  uVar13 = (uVar13 + *(long *)(lVar9 + 0x408)) / **(ulong **)(this + 8);
  pauVar1 = *(undefined1 (**) [16])(this + 0x10);
  auVar22 = *pauVar1;
  auVar21 = pauVar1[1];
  auVar20 = pauVar1[2];
  auVar19 = pauVar1[3];
  auVar18 = pauVar1[4];
  auVar17 = pauVar1[5];
  lVar11 = *(long *)pauVar1[6];
  lVar10 = *(long *)(pauVar1[6] + 8);
  lVar14 = *(long *)pauVar1[7];
  local_180 = *(ulong *)(pauVar1[7] + 8);
  fVar16 = *(float *)(pauVar1[8] + 8);
  fVar15 = *(float *)(pauVar1[8] + 0xc);
  local_f4 = *(undefined4 *)pauVar1[8];
  local_f8 = *(undefined4 *)(pauVar1[8] + 4);
  if (uVar5 < uVar13) {
    do {
      plVar3 = (long *)**(long **)(this + 0x18);
      lVar9 = *(long *)(*(long *)(*plVar3 + 0x1e0) + lVar7 * 8);
      if (((lVar9 == 0) || ((*(byte *)(lVar9 + 0x3e) & 0x20) == 0)) ||
         (((long)(1 << (*(byte *)(lVar9 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
        uVar6 = 0;
      }
      else {
        uVar6 = 0;
        if ((*(int *)(lVar9 + 0x24) != 1) == (bool)(char)plVar3[2]) {
          uVar6 = (uVar13 + uVar12) - uVar5;
          if (*(uint *)(lVar9 + 0x20) < uVar6) {
            uVar6 = (ulong)*(uint *)(lVar9 + 0x20);
          }
          if (uVar12 < uVar6) {
            plVar3 = (long *)(*(long **)(this + 0x28))[1];
            puVar2 = (undefined8 *)**(long **)(this + 0x28);
            plVar8 = *(long **)(*(long *)(*plVar3 + 0x1e0) + lVar7 * 8);
            if (plVar8 != (long *)0x0) {
              if (((*(byte *)((long)plVar8 + 0x3e) & 0x20) == 0) ||
                 (((long)(1 << (*(byte *)((long)plVar8 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
                plVar8 = (long *)0x0;
              }
              else if ((*(int *)((long)plVar8 + 0x24) != 1) != (bool)(char)plVar3[2]) {
                plVar8 = (long *)0x0;
              }
            }
            local_e8 = uVar12;
            local_e0 = uVar6;
            (**(code **)(*plVar8 + 0x188))(local_d8,plVar8,*puVar2,puVar2[1],&local_e8,uVar5,lVar7);
            auVar22 = minps(auVar22,local_d8);
            auVar21 = maxps(auVar21,local_c8);
            auVar20 = minps(auVar20,local_b8);
            auVar19 = maxps(auVar19,local_a8);
            auVar18 = minps(auVar18,local_98);
            auVar17 = maxps(auVar17,local_88);
            lVar11 = lVar11 + local_78;
            fVar4 = local_4c;
            if (local_4c <= fVar15) {
              fVar4 = fVar15;
            }
            fVar15 = fVar4;
            lVar10 = lVar10 + local_70;
            lVar14 = lVar14 + local_68;
            if (local_50 <= fVar16) {
              fVar16 = local_50;
            }
            if (local_180 < local_60) {
              local_180 = local_60;
              local_f4 = local_58;
              local_f8 = local_54;
            }
          }
        }
      }
      lVar9 = uVar5 - uVar12;
      lVar7 = lVar7 + 1;
      uVar12 = 0;
      uVar5 = lVar9 + uVar6;
    } while (uVar5 < uVar13);
    lVar9 = *(long *)this;
  }
  lVar7 = param_1 * 0x90;
  pauVar1 = (undefined1 (*) [16])(lVar9 + 0x410 + lVar7);
  plVar3 = (long *)(lVar9 + 0x470 + lVar7);
  *pauVar1 = auVar22;
  pauVar1[1] = auVar21;
  pauVar1[2] = auVar20;
  pauVar1[3] = auVar19;
  pauVar1[4] = auVar18;
  pauVar1[5] = auVar17;
  *plVar3 = lVar11;
  plVar3[1] = lVar10;
  *(long *)(lVar9 + lVar7 + 0x480) = lVar14;
  *(ulong *)(lVar9 + lVar7 + 0x488) = local_180;
  *(undefined4 *)pauVar1[8] = local_f4;
  *(undefined4 *)(pauVar1[8] + 4) = local_f8;
  *(float *)(pauVar1[8] + 8) = fVar16;
  *(float *)(pauVar1[8] + 0xc) = fVar15;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::parallel_for_for_prefix_sum0_<embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2,
   unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned
   long)#1}, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, unsigned long, embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2, unsigned
   long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned long)#1}
   const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#1}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_for_for_prefix_sum0_<embree::parallel_for_for_prefix_sum0<embree::Scene::Iterator2,unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::vector_t<embree::SubGridBuildData,embree::aligned_monitored_allocator<embree::SubGridBuildData,4ul>>&,embree::BuildProgressMonitor&,embree::BBox<float>)::{lambda(embree::Geometry*,embree::range<unsigned_long>const&,unsigned_long,unsigned_long)#1},embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::vector_t<embree::SubGridBuildData,embree::aligned_monitored_allocator<embree::SubGridBuildData,4ul>>&,embree::BuildProgressMonitor&,embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LB...ee::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#1}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined1 (*pauVar1) [16];
  undefined8 *puVar2;
  long *plVar3;
  float fVar4;
  ulong uVar5;
  long lVar6;
  long lVar7;
  ulong uVar8;
  long *plVar9;
  long lVar10;
  long lVar11;
  ulong uVar12;
  ulong uVar13;
  long in_FS_OFFSET;
  float fVar14;
  float fVar15;
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  ulong local_180;
  long local_100;
  undefined4 local_f8;
  undefined4 local_f4;
  ulong local_e8;
  ulong local_e0;
  undefined1 local_d8 [16];
  undefined1 local_c8 [16];
  undefined1 local_b8 [16];
  undefined1 local_a8 [16];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  long local_78;
  long local_70;
  long local_68;
  ulong local_60;
  undefined4 local_58;
  undefined4 local_54;
  float local_50;
  float local_4c;
  long local_40;
  
  lVar7 = *(long *)this;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar11 = *(long *)(lVar7 + param_1 * 8);
  uVar12 = *(ulong *)(lVar7 + 0x200 + param_1 * 8);
  uVar13 = param_1 * *(long *)(lVar7 + 0x408);
  uVar5 = uVar13 / **(ulong **)(this + 8);
  uVar13 = (uVar13 + *(long *)(lVar7 + 0x408)) / **(ulong **)(this + 8);
  pauVar1 = *(undefined1 (**) [16])(this + 0x10);
  local_100 = *(long *)pauVar1[7];
  auVar21 = *pauVar1;
  auVar20 = pauVar1[1];
  auVar19 = pauVar1[2];
  auVar18 = pauVar1[3];
  auVar17 = pauVar1[4];
  auVar16 = pauVar1[5];
  lVar10 = *(long *)pauVar1[6];
  lVar6 = *(long *)(pauVar1[6] + 8);
  local_180 = *(ulong *)(pauVar1[7] + 8);
  fVar15 = *(float *)(pauVar1[8] + 8);
  local_f4 = *(undefined4 *)pauVar1[8];
  fVar14 = *(float *)(pauVar1[8] + 0xc);
  local_f8 = *(undefined4 *)(pauVar1[8] + 4);
  if (uVar5 < uVar13) {
    do {
      plVar3 = (long *)**(long **)(this + 0x18);
      lVar7 = *(long *)(*(long *)(*plVar3 + 0x1e0) + lVar11 * 8);
      if (((lVar7 == 0) || ((*(byte *)(lVar7 + 0x3e) & 0x20) == 0)) ||
         (((long)(1 << (*(byte *)(lVar7 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
        uVar8 = 0;
      }
      else {
        uVar8 = 0;
        if ((*(int *)(lVar7 + 0x24) != 1) == (bool)(char)plVar3[2]) {
          uVar8 = (uVar13 + uVar12) - uVar5;
          if (*(uint *)(lVar7 + 0x20) < uVar8) {
            uVar8 = (ulong)*(uint *)(lVar7 + 0x20);
          }
          if (uVar12 < uVar8) {
            plVar3 = (long *)(*(long **)(this + 0x28))[1];
            puVar2 = (undefined8 *)**(long **)(this + 0x28);
            plVar9 = *(long **)(*(long *)(*plVar3 + 0x1e0) + lVar11 * 8);
            if (plVar9 != (long *)0x0) {
              if (((*(byte *)((long)plVar9 + 0x3e) & 0x20) == 0) ||
                 (((long)(1 << (*(byte *)((long)plVar9 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
                plVar9 = (long *)0x0;
              }
              else if ((*(int *)((long)plVar9 + 0x24) != 1) != (bool)(char)plVar3[2]) {
                plVar9 = (long *)0x0;
              }
            }
            local_e8 = uVar12;
            local_e0 = uVar8;
            (**(code **)(*plVar9 + 400))
                      (local_d8,plVar9,*puVar2,puVar2[1],puVar2[2],&local_e8,uVar5,lVar11);
            auVar21 = minps(auVar21,local_d8);
            auVar20 = maxps(auVar20,local_c8);
            auVar19 = minps(auVar19,local_b8);
            auVar18 = maxps(auVar18,local_a8);
            auVar17 = minps(auVar17,local_98);
            auVar16 = maxps(auVar16,local_88);
            fVar4 = local_4c;
            if (local_4c <= fVar14) {
              fVar4 = fVar14;
            }
            fVar14 = fVar4;
            local_100 = local_100 + local_68;
            lVar10 = lVar10 + local_78;
            if (local_50 <= fVar15) {
              fVar15 = local_50;
            }
            lVar6 = lVar6 + local_70;
            if (local_180 < local_60) {
              local_180 = local_60;
              local_f4 = local_58;
              local_f8 = local_54;
            }
          }
        }
      }
      lVar7 = uVar5 - uVar12;
      lVar11 = lVar11 + 1;
      uVar12 = 0;
      uVar5 = lVar7 + uVar8;
    } while (uVar5 < uVar13);
    lVar7 = *(long *)this;
  }
  lVar11 = param_1 * 0x90;
  pauVar1 = (undefined1 (*) [16])(lVar7 + 0x410 + lVar11);
  plVar3 = (long *)(lVar7 + 0x470 + lVar11);
  *pauVar1 = auVar21;
  pauVar1[1] = auVar20;
  pauVar1[2] = auVar19;
  pauVar1[3] = auVar18;
  pauVar1[4] = auVar17;
  pauVar1[5] = auVar16;
  plVar3[1] = lVar6;
  *plVar3 = lVar10;
  *(long *)(lVar7 + lVar11 + 0x480) = local_100;
  *(ulong *)(lVar7 + lVar11 + 0x488) = local_180;
  *(undefined4 *)pauVar1[8] = local_f4;
  *(undefined4 *)(pauVar1[8] + 4) = local_f8;
  *(float *)(pauVar1[8] + 8) = fVar15;
  *(float *)(pauVar1[8] + 0xc) = fVar14;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::parallel_for_for_prefix_sum1_<embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2,
   unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned
   long)#1}, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, unsigned long, embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2, unsigned
   long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned long)#1}
   const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&,
   embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_for_for_prefix_sum1_<embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2,unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::vector_t<embree::SubGridBuildData,embree::aligned_monitored_allocator<embree::SubGridBuildData,4ul>>&,embree::BuildProgressMonitor&,embree::BBox<float>)::{lambda(embree::Geometry*,embree::range<unsigned_long>const&,unsigned_long,unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#1},embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::vector_t<embree::SubGridBuildData,embree::aligned_monitored_allocator<embree::SubGridBuildData,4ul>>&,embree::BuildProgressMonitor&,emb...ee::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#2}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined1 (*pauVar1) [16];
  undefined8 *puVar2;
  long *plVar3;
  float fVar4;
  ulong uVar5;
  long lVar6;
  long lVar7;
  ulong uVar8;
  long *plVar9;
  long lVar10;
  long lVar11;
  ulong uVar12;
  ulong uVar13;
  long in_FS_OFFSET;
  float fVar14;
  float fVar15;
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  long local_198;
  long local_190;
  ulong local_128;
  long local_118;
  undefined4 local_108;
  undefined4 local_104;
  ulong local_e8;
  ulong local_e0;
  undefined1 local_d8 [16];
  undefined1 local_c8 [16];
  undefined1 local_b8 [16];
  undefined1 local_a8 [16];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  long local_78;
  long local_70;
  long local_68;
  ulong local_60;
  undefined4 local_58;
  undefined4 local_54;
  float local_50;
  float local_4c;
  long local_40;
  
  lVar10 = *(long *)this;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar11 = *(long *)(lVar10 + param_1 * 8);
  uVar12 = *(ulong *)(lVar10 + 0x200 + param_1 * 8);
  uVar13 = param_1 * *(long *)(lVar10 + 0x408);
  uVar5 = uVar13 / **(ulong **)(this + 8);
  uVar13 = (uVar13 + *(long *)(lVar10 + 0x408)) / **(ulong **)(this + 8);
  pauVar1 = *(undefined1 (**) [16])(this + 0x10);
  local_198 = *(long *)(pauVar1[6] + 8);
  auVar21 = *pauVar1;
  auVar20 = pauVar1[1];
  auVar19 = pauVar1[2];
  auVar18 = pauVar1[3];
  auVar17 = pauVar1[4];
  auVar16 = pauVar1[5];
  local_190 = *(long *)pauVar1[6];
  local_118 = *(long *)pauVar1[7];
  local_128 = *(ulong *)(pauVar1[7] + 8);
  fVar15 = *(float *)(pauVar1[8] + 8);
  fVar14 = *(float *)(pauVar1[8] + 0xc);
  local_108 = *(undefined4 *)pauVar1[8];
  local_104 = *(undefined4 *)(pauVar1[8] + 4);
  lVar6 = param_1 * 0x90;
  if (uVar5 < uVar13) {
    do {
      plVar3 = (long *)**(long **)(this + 0x18);
      lVar7 = *(long *)(*(long *)(*plVar3 + 0x1e0) + lVar11 * 8);
      if (((lVar7 == 0) || ((*(byte *)(lVar7 + 0x3e) & 0x20) == 0)) ||
         (((long)(1 << (*(byte *)(lVar7 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
        uVar8 = 0;
      }
      else {
        uVar8 = 0;
        if ((*(int *)(lVar7 + 0x24) != 1) == (bool)(char)plVar3[2]) {
          uVar8 = (uVar13 + uVar12) - uVar5;
          if (*(uint *)(lVar7 + 0x20) < uVar8) {
            uVar8 = (ulong)*(uint *)(lVar7 + 0x20);
          }
          if (uVar12 < uVar8) {
            lVar10 = lVar10 + lVar6 + 0x2810;
            puVar2 = (undefined8 *)**(long **)(this + 0x28);
            plVar3 = (long *)(*(long **)(this + 0x28))[1];
            plVar9 = *(long **)(*(long *)(*plVar3 + 0x1e0) + lVar11 * 8);
            if (plVar9 != (long *)0x0) {
              if (((*(byte *)((long)plVar9 + 0x3e) & 0x20) == 0) ||
                 (((long)(1 << (*(byte *)((long)plVar9 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
                plVar9 = (long *)0x0;
              }
              else if ((*(int *)((long)plVar9 + 0x24) != 1) != (bool)(char)plVar3[2]) {
                plVar9 = (long *)0x0;
              }
            }
            local_e8 = uVar12;
            local_e0 = uVar8;
            (**(code **)(*plVar9 + 400))
                      (local_d8,plVar9,*puVar2,puVar2[1],puVar2[2],&local_e8,
                       ((local_198 - local_190) + *(long *)(lVar10 + 0x68)) -
                       *(long *)(lVar10 + 0x60),lVar11);
            auVar21 = minps(auVar21,local_d8);
            auVar20 = maxps(auVar20,local_c8);
            auVar19 = minps(auVar19,local_b8);
            auVar18 = maxps(auVar18,local_a8);
            auVar17 = minps(auVar17,local_98);
            auVar16 = maxps(auVar16,local_88);
            local_190 = local_190 + local_78;
            local_118 = local_118 + local_68;
            fVar4 = local_4c;
            if (local_4c <= fVar14) {
              fVar4 = fVar14;
            }
            fVar14 = fVar4;
            local_198 = local_198 + local_70;
            if (local_50 <= fVar15) {
              fVar15 = local_50;
            }
            if (local_128 < local_60) {
              local_128 = local_60;
              local_108 = local_58;
              local_104 = local_54;
            }
            lVar10 = *(long *)this;
          }
        }
      }
      lVar7 = uVar5 - uVar12;
      lVar11 = lVar11 + 1;
      uVar12 = 0;
      uVar5 = lVar7 + uVar8;
    } while (uVar5 < uVar13);
  }
  pauVar1 = (undefined1 (*) [16])(lVar10 + 0x410 + lVar6);
  plVar3 = (long *)(lVar10 + 0x470 + lVar6);
  *pauVar1 = auVar21;
  pauVar1[1] = auVar20;
  lVar10 = lVar10 + param_1 * 0x90;
  pauVar1[2] = auVar19;
  pauVar1[3] = auVar18;
  pauVar1[4] = auVar17;
  pauVar1[5] = auVar16;
  *plVar3 = local_190;
  plVar3[1] = local_198;
  *(long *)(lVar10 + 0x480) = local_118;
  *(ulong *)(lVar10 + 0x488) = local_128;
  *(undefined4 *)pauVar1[8] = local_108;
  *(undefined4 *)(pauVar1[8] + 4) = local_104;
  *(float *)(pauVar1[8] + 8) = fVar15;
  *(float *)(pauVar1[8] + 0xc) = fVar14;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::parallel_for_for_prefix_sum1_<embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2,
   unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned
   long)#1}, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, unsigned long, embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2, unsigned
   long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned long)#1}
   const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>)::{lambda(embree::Geometry*,
   embree::range<unsigned long> const&, unsigned long, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1},
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > >&, embree::Scene::Iterator2&, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   > const&, embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask,
   unsigned long, embree::vector_t<embree::PrimRefMB,
   embree::aligned_monitored_allocator<embree::PrimRefMB, 16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::Geometry*, embree::range<unsigned long> const&, unsigned
   long, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned long,
   embree::range<unsigned long> const&, unsigned long,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#1} const&,
   embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&,
   embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_for_for_prefix_sum1_<embree::parallel_for_for_prefix_sum1<embree::Scene::Iterator2,unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::BuildProgressMonitor&,embree::BBox<float>)::{lambda(embree::Geometry*,embree::range<unsigned_long>const&,unsigned_long,unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#1},embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*,embree::Geometry::GTypeMask,unsigned_long,embree::vector_t<embree::PrimRefMB,embree::aligned_monitored_allocator<embree::PrimRefMB,16ul>>&,embree::BuildProgressMonitor&,embree::BBox<float>)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#2}>(embree::ParallelForForPrefixSumState<embree::PrimInfoMBT<embree::LBBox<emb...ee::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#2}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined1 (*pauVar1) [16];
  undefined8 *puVar2;
  long *plVar3;
  float fVar4;
  ulong uVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  ulong uVar9;
  long *plVar10;
  long lVar11;
  long lVar12;
  long lVar13;
  ulong uVar14;
  ulong uVar15;
  long in_FS_OFFSET;
  float fVar16;
  float fVar17;
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  ulong local_198;
  long local_118;
  undefined4 local_108;
  undefined4 local_104;
  ulong local_e8;
  ulong local_e0;
  undefined1 local_d8 [16];
  undefined1 local_c8 [16];
  undefined1 local_b8 [16];
  undefined1 local_a8 [16];
  undefined1 local_98 [16];
  undefined1 local_88 [16];
  long local_78;
  long local_70;
  long local_68;
  ulong local_60;
  undefined4 local_58;
  undefined4 local_54;
  float local_50;
  float local_4c;
  long local_40;
  
  lVar11 = *(long *)this;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar13 = *(long *)(lVar11 + param_1 * 8);
  uVar14 = *(ulong *)(lVar11 + 0x200 + param_1 * 8);
  uVar15 = param_1 * *(long *)(lVar11 + 0x408);
  uVar5 = uVar15 / **(ulong **)(this + 8);
  uVar15 = (uVar15 + *(long *)(lVar11 + 0x408)) / **(ulong **)(this + 8);
  pauVar1 = *(undefined1 (**) [16])(this + 0x10);
  local_118 = *(long *)pauVar1[7];
  auVar23 = *pauVar1;
  auVar22 = pauVar1[1];
  auVar21 = pauVar1[2];
  auVar20 = pauVar1[3];
  auVar19 = pauVar1[4];
  auVar18 = pauVar1[5];
  lVar12 = *(long *)pauVar1[6];
  lVar6 = *(long *)(pauVar1[6] + 8);
  local_198 = *(ulong *)(pauVar1[7] + 8);
  fVar17 = *(float *)(pauVar1[8] + 8);
  local_108 = *(undefined4 *)pauVar1[8];
  fVar16 = *(float *)(pauVar1[8] + 0xc);
  local_104 = *(undefined4 *)(pauVar1[8] + 4);
  lVar7 = param_1 * 0x90;
  if (uVar5 < uVar15) {
    do {
      plVar3 = (long *)**(long **)(this + 0x18);
      lVar8 = *(long *)(*(long *)(*plVar3 + 0x1e0) + lVar13 * 8);
      if (((lVar8 == 0) || ((*(byte *)(lVar8 + 0x3e) & 0x20) == 0)) ||
         (((long)(1 << (*(byte *)(lVar8 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
        uVar9 = 0;
      }
      else {
        uVar9 = 0;
        if ((*(int *)(lVar8 + 0x24) != 1) == (bool)(char)plVar3[2]) {
          uVar9 = (uVar15 + uVar14) - uVar5;
          if (*(uint *)(lVar8 + 0x20) < uVar9) {
            uVar9 = (ulong)*(uint *)(lVar8 + 0x20);
          }
          if (uVar14 < uVar9) {
            plVar3 = (long *)(*(long **)(this + 0x28))[1];
            lVar11 = lVar7 + 0x2810 + lVar11;
            puVar2 = (undefined8 *)**(long **)(this + 0x28);
            plVar10 = *(long **)(*(long *)(*plVar3 + 0x1e0) + lVar13 * 8);
            if (plVar10 != (long *)0x0) {
              if (((*(byte *)((long)plVar10 + 0x3e) & 0x20) == 0) ||
                 (((long)(1 << (*(byte *)((long)plVar10 + 0x3c) & 0x1f)) & plVar3[1]) == 0)) {
                plVar10 = (long *)0x0;
              }
              else if ((*(int *)((long)plVar10 + 0x24) != 1) != (bool)(char)plVar3[2]) {
                plVar10 = (long *)0x0;
              }
            }
            local_e8 = uVar14;
            local_e0 = uVar9;
            (**(code **)(*plVar10 + 0x188))
                      (local_d8,plVar10,*puVar2,puVar2[1],&local_e8,
                       ((lVar6 - lVar12) + *(long *)(lVar11 + 0x68)) - *(long *)(lVar11 + 0x60),
                       lVar13);
            auVar23 = minps(auVar23,local_d8);
            auVar22 = maxps(auVar22,local_c8);
            auVar21 = minps(auVar21,local_b8);
            auVar20 = maxps(auVar20,local_a8);
            auVar19 = minps(auVar19,local_98);
            auVar18 = maxps(auVar18,local_88);
            fVar4 = local_4c;
            if (local_4c <= fVar16) {
              fVar4 = fVar16;
            }
            fVar16 = fVar4;
            local_118 = local_118 + local_68;
            if (local_50 <= fVar17) {
              fVar17 = local_50;
            }
            lVar12 = lVar12 + local_78;
            lVar6 = lVar6 + local_70;
            if (local_198 < local_60) {
              local_198 = local_60;
              local_108 = local_58;
              local_104 = local_54;
            }
            lVar11 = *(long *)this;
          }
        }
      }
      lVar8 = uVar5 - uVar14;
      lVar13 = lVar13 + 1;
      uVar14 = 0;
      uVar5 = lVar8 + uVar9;
    } while (uVar5 < uVar15);
  }
  pauVar1 = (undefined1 (*) [16])(lVar11 + 0x410 + lVar7);
  plVar3 = (long *)(lVar11 + 0x470 + lVar7);
  *pauVar1 = auVar23;
  pauVar1[1] = auVar22;
  lVar11 = lVar11 + param_1 * 0x90;
  pauVar1[2] = auVar21;
  pauVar1[3] = auVar20;
  pauVar1[4] = auVar19;
  pauVar1[5] = auVar18;
  plVar3[1] = lVar6;
  *plVar3 = lVar12;
  *(long *)(lVar11 + 0x480) = local_118;
  *(ulong *)(lVar11 + 0x488) = local_198;
  *(undefined4 *)pauVar1[8] = local_108;
  *(undefined4 *)(pauVar1[8] + 4) = local_104;
  *(float *)(pauVar1[8] + 8) = fVar17;
  *(float *)(pauVar1[8] + 0xc) = fVar16;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::sse2::createPrimRefArray(embree::Geometry*, unsigned int, unsigned long,
   embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef, 32ul> >&,
   embree::BuildProgressMonitor&) */

sse2 * __thiscall
embree::sse2::createPrimRefArray
          (sse2 *this,Geometry *param_1,uint param_2,ulong param_3,vector_t *param_4,
          BuildProgressMonitor *param_5)

{
  int *piVar1;
  undefined8 *puVar2;
  long lVar3;
  ulong uVar4;
  ulong uVar5;
  undefined1 (*pauVar6) [16];
  undefined1 (*pauVar7) [16];
  long lVar8;
  long lVar9;
  undefined8 uVar10;
  long lVar11;
  long in_FS_OFFSET;
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  undefined4 uVar20;
  undefined4 uVar21;
  uint local_2994;
  Geometry *local_2990;
  long local_2988;
  ulong local_2980;
  ulong local_2978;
  ulong local_2970;
  long local_2968;
  ulong local_2960;
  ulong local_2958;
  ulong local_2950;
  Geometry **local_2948;
  vector_t *local_2940;
  uint *local_2938;
  Geometry **local_2928;
  vector_t *local_2920;
  uint *local_2918;
  long *local_2908;
  ulong *local_2900;
  ulong *local_28f8;
  undefined1 (*local_28f0) [16];
  Geometry ***local_28e8;
  long *local_28d8;
  ulong *local_28d0;
  ulong *local_28c8;
  undefined1 (*local_28c0) [16];
  Geometry ***local_28b8;
  ulong local_28a8;
  undefined8 uStack_28a0;
  undefined8 local_2898;
  long **pplStack_2890;
  ulong *local_2888;
  ulong local_2878;
  undefined8 uStack_2870;
  undefined8 local_2868;
  long **pplStack_2860;
  ulong *local_2858;
  undefined1 local_2848 [10248];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_2994 = param_2;
  local_2990 = param_1;
  if ((code *)**(undefined8 **)param_5 == Scene::BuildProgressMonitorInterface::operator()) {
    embree::Scene::progressMonitor(0.0);
  }
  else {
    (*(code *)**(undefined8 **)param_5)(param_5,0);
  }
  local_2988 = 0;
  local_2980 = (ulong)*(uint *)(local_2990 + 0x20);
  local_2948 = &local_2990;
  local_2940 = param_4;
  local_2938 = &local_2994;
  uVar4 = embree::TaskScheduler::threadCount();
  uVar21 = _LC30;
  uVar20 = _LC28;
  uVar5 = (local_2980 + 0x3ff) - local_2988 >> 10;
  if (uVar4 < uVar5) {
    uVar5 = uVar4;
  }
  local_2908 = &local_2988;
  local_2900 = &local_2980;
  local_28f8 = &local_2978;
  uVar4 = 0x40;
  if (uVar5 < 0x41) {
    uVar4 = uVar5;
  }
  local_28e8 = &local_2948;
  local_2978 = uVar4;
  local_28f0 = (undefined1 (*) [16])local_2848;
  if (uVar5 == 0) {
    *(undefined8 *)(this + 0x40) = 0;
    *(undefined8 *)(this + 0x48) = 0;
    *(undefined4 *)this = uVar21;
    *(undefined4 *)(this + 4) = uVar21;
    *(undefined4 *)(this + 8) = uVar21;
    *(undefined4 *)(this + 0xc) = uVar21;
    *(undefined4 *)(this + 0x10) = uVar20;
    *(undefined4 *)(this + 0x14) = uVar20;
    *(undefined4 *)(this + 0x18) = uVar20;
    *(undefined4 *)(this + 0x1c) = uVar20;
    *(undefined4 *)(this + 0x20) = uVar21;
    *(undefined4 *)(this + 0x24) = uVar21;
    *(undefined4 *)(this + 0x28) = uVar21;
    *(undefined4 *)(this + 0x2c) = uVar21;
    *(undefined4 *)(this + 0x30) = uVar20;
    *(undefined4 *)(this + 0x34) = uVar20;
    *(undefined4 *)(this + 0x38) = uVar20;
    *(undefined4 *)(this + 0x3c) = uVar20;
LAB_00108506:
    uVar5 = 0;
  }
  else {
    pplStack_2890 = &local_2908;
    local_2970 = 0;
    uStack_28a0 = 0;
    local_2898 = 1;
    local_28a8 = uVar4;
    local_2888 = &local_2970;
    lVar8 = embree::TaskScheduler::thread();
    if (lVar8 == 0) {
      uVar10 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_19parallel_prefix_sumImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse218createPrimRefArrayEPNS_8GeometryEjmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISE_Lm32EEEEERNS_20BuildProgressMonitorEEUlRKNS_5rangeImEERKS9_E_ZNSA_18createPrimRefArrayESC_jmSI_SK_EUlSQ_SQ_E_EET0_RNS_22ParallelPrefixSumStateIST_EET_SX_SX_RKST_RKT1_RKT2_EUlmE_EEvSX_SZ_EUlSO_E_EEvSX_SX_SX_SZ_PNS0_16TaskGroupContextEEUlvE_EEvRKSX_S19_mb_constprop_0
                (uVar10,&local_28a8,&local_2970);
    }
    else {
      if (0xfff < *(ulong *)(lVar8 + 0x40080)) goto embree_sse2_createPrimRefArray;
      lVar11 = *(long *)(lVar8 + 0xc00c0);
      uVar5 = lVar11 + 0x30 + (ulong)(-(int)lVar11 & 0x3f);
      if (0x80000 < uVar5) goto embree_sse2_createPrimRefArray;
      *(ulong *)(lVar8 + 0xc00c0) = uVar5;
      puVar2 = (undefined8 *)(lVar8 + 0x40090 + uVar5);
      *puVar2 = 0x112a08;
      puVar2[1] = local_28a8;
      puVar2[2] = uStack_28a0;
      puVar2[5] = local_2888;
      puVar2[3] = local_2898;
      puVar2[4] = pplStack_2890;
      lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar8 + 0x40 + lVar9);
      lVar3 = *(long *)(lVar8 + 0xc0100);
      *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
      *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
      lVar9 = lVar9 + lVar8;
      *(undefined8 **)(lVar9 + 0x50) = puVar2;
      *(long *)(lVar9 + 0x58) = lVar3;
      *(ulong **)(lVar9 + 0x60) = &local_2970;
      *(long *)(lVar9 + 0x68) = lVar11;
      *(ulong *)(lVar9 + 0x70) = uVar4;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
        LOCK();
        *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    uVar21 = _LC30;
    if (local_2970 != 0) {
      local_2878 = local_2970;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_2878);
    }
    *(undefined8 *)(this + 0x40) = 0;
    uVar20 = _LC28;
    *(undefined8 *)(this + 0x48) = 0;
    *(undefined4 *)this = uVar21;
    *(undefined4 *)(this + 4) = uVar21;
    *(undefined4 *)(this + 8) = uVar21;
    *(undefined4 *)(this + 0xc) = uVar21;
    *(undefined4 *)(this + 0x20) = uVar21;
    *(undefined4 *)(this + 0x24) = uVar21;
    *(undefined4 *)(this + 0x28) = uVar21;
    *(undefined4 *)(this + 0x2c) = uVar21;
    *(undefined4 *)(this + 0x10) = uVar20;
    *(undefined4 *)(this + 0x14) = uVar20;
    *(undefined4 *)(this + 0x18) = uVar20;
    *(undefined4 *)(this + 0x1c) = uVar20;
    *(undefined4 *)(this + 0x30) = uVar20;
    *(undefined4 *)(this + 0x34) = uVar20;
    *(undefined4 *)(this + 0x38) = uVar20;
    *(undefined4 *)(this + 0x3c) = uVar20;
    if (local_2978 == 0) goto LAB_00108506;
    lVar11 = 0;
    lVar8 = 0;
    auVar12._4_4_ = uVar20;
    auVar12._0_4_ = uVar20;
    auVar12._8_4_ = uVar20;
    auVar12._12_4_ = uVar20;
    auVar14._4_4_ = uVar21;
    auVar14._0_4_ = uVar21;
    auVar14._8_4_ = uVar21;
    auVar14._12_4_ = uVar21;
    auVar16._4_4_ = uVar20;
    auVar16._0_4_ = uVar20;
    auVar16._8_4_ = uVar20;
    auVar16._12_4_ = uVar20;
    auVar18._4_4_ = uVar21;
    auVar18._0_4_ = uVar21;
    auVar18._8_4_ = uVar21;
    auVar18._12_4_ = uVar21;
    pauVar6 = (undefined1 (*) [16])local_2848;
    do {
      *(long *)pauVar6[0x144] = lVar8;
      lVar8 = lVar8 + *(long *)pauVar6[4];
      pauVar7 = pauVar6 + 5;
      pauVar6[0x140] = auVar18;
      auVar18 = minps(auVar18,*pauVar6);
      pauVar6[0x141] = auVar16;
      auVar16 = maxps(auVar16,pauVar6[1]);
      pauVar6[0x142] = auVar14;
      auVar14 = minps(auVar14,pauVar6[2]);
      pauVar6[0x143] = auVar12;
      auVar12 = maxps(auVar12,pauVar6[3]);
      *(long *)(pauVar6[0x144] + 8) = lVar11;
      lVar11 = lVar11 + *(long *)(pauVar6[4] + 8);
      pauVar6 = pauVar7;
    } while ((undefined1 (*) [16])local_2848 + local_2978 * 5 != pauVar7);
    *(long *)(this + 0x40) = lVar8;
    *(long *)(this + 0x48) = lVar11;
    uVar5 = lVar11 - lVar8;
    *(undefined1 (*) [16])this = auVar18;
    *(undefined1 (*) [16])(this + 0x10) = auVar16;
    *(undefined1 (*) [16])(this + 0x20) = auVar14;
    *(undefined1 (*) [16])(this + 0x30) = auVar12;
  }
  if (param_3 == uVar5) goto LAB_00108899;
  if ((code *)**(undefined8 **)param_5 == Scene::BuildProgressMonitorInterface::operator()) {
    embree::Scene::progressMonitor(0.0);
  }
  else {
    (*(code *)**(undefined8 **)param_5)(param_5,0);
  }
  local_2960 = (ulong)*(uint *)(local_2990 + 0x20);
  local_2968 = 0;
  local_2928 = &local_2990;
  local_2920 = param_4;
  local_2918 = &local_2994;
  uVar4 = embree::TaskScheduler::threadCount();
  uVar5 = (local_2960 + 0x3ff) - local_2968 >> 10;
  if (uVar4 < uVar5) {
    uVar5 = uVar4;
  }
  uVar4 = 0x40;
  if (uVar5 < 0x41) {
    uVar4 = uVar5;
  }
  local_28d8 = &local_2968;
  local_28d0 = &local_2960;
  local_28c8 = &local_2958;
  local_28b8 = &local_2928;
  local_2958 = uVar4;
  local_28c0 = (undefined1 (*) [16])local_2848;
  if (uVar5 == 0) {
LAB_00108862:
    lVar8 = 0;
    auVar13._4_4_ = uVar20;
    auVar13._0_4_ = uVar20;
    auVar13._8_4_ = uVar20;
    auVar13._12_4_ = uVar20;
    auVar15._4_4_ = uVar21;
    auVar15._0_4_ = uVar21;
    auVar15._8_4_ = uVar21;
    auVar15._12_4_ = uVar21;
    lVar11 = 0;
    auVar17._4_4_ = uVar20;
    auVar17._0_4_ = uVar20;
    auVar17._8_4_ = uVar20;
    auVar17._12_4_ = uVar20;
    auVar19._4_4_ = uVar21;
    auVar19._0_4_ = uVar21;
    auVar19._8_4_ = uVar21;
    auVar19._12_4_ = uVar21;
  }
  else {
    pplStack_2860 = &local_28d8;
    local_2950 = 0;
    uStack_2870 = 0;
    local_2868 = 1;
    local_2878 = uVar4;
    local_2858 = &local_2950;
    lVar8 = embree::TaskScheduler::thread();
    if (lVar8 == 0) {
      uVar10 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_19parallel_prefix_sumImNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse218createPrimRefArrayEPNS_8GeometryEjmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISE_Lm32EEEEERNS_20BuildProgressMonitorEEUlRKNS_5rangeImEERKS9_E0_ZNSA_18createPrimRefArrayESC_jmSI_SK_EUlSQ_SQ_E0_EET0_RNS_22ParallelPrefixSumStateIST_EET_SX_SX_RKST_RKT1_RKT2_EUlmE_EEvSX_SZ_EUlSO_E_EEvSX_SX_SX_SZ_PNS0_16TaskGroupContextEEUlvE_EEvRKSX_S19_mb_constprop_0
                (uVar10,&local_2878,&local_2950,uVar4);
    }
    else {
      if (0xfff < *(ulong *)(lVar8 + 0x40080)) {
embree_sse2_createPrimRefArray:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar11 = *(long *)(lVar8 + 0xc00c0);
      uVar5 = lVar11 + 0x30 + (ulong)(-(int)lVar11 & 0x3f);
      if (0x80000 < uVar5) goto embree_sse2_createPrimRefArray;
      *(ulong *)(lVar8 + 0xc00c0) = uVar5;
      puVar2 = (undefined8 *)(lVar8 + 0x40090 + uVar5);
      *puVar2 = 0x112a20;
      puVar2[1] = local_2878;
      puVar2[2] = uStack_2870;
      puVar2[3] = local_2868;
      puVar2[4] = pplStack_2860;
      puVar2[5] = local_2858;
      lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar8 + 0x40 + lVar9);
      lVar3 = *(long *)(lVar8 + 0xc0100);
      *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
      *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
      lVar9 = lVar9 + lVar8;
      *(undefined8 **)(lVar9 + 0x50) = puVar2;
      *(long *)(lVar9 + 0x58) = lVar3;
      *(ulong **)(lVar9 + 0x60) = &local_2950;
      *(long *)(lVar9 + 0x68) = lVar11;
      *(ulong *)(lVar9 + 0x70) = uVar4;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
        LOCK();
        *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    auVar15._4_4_ = uVar21;
    auVar15._0_4_ = uVar21;
    auVar15._8_4_ = uVar21;
    auVar15._12_4_ = uVar21;
    auVar13._4_4_ = uVar20;
    auVar13._0_4_ = uVar20;
    auVar13._8_4_ = uVar20;
    auVar13._12_4_ = uVar20;
    if (local_2950 != 0) {
      local_2878 = local_2950;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_2878);
    }
    if (local_2958 == 0) goto LAB_00108862;
    lVar11 = 0;
    lVar8 = 0;
    pauVar6 = (undefined1 (*) [16])local_2848;
    auVar17 = auVar13;
    auVar19 = auVar15;
    do {
      *(long *)pauVar6[0x144] = lVar11;
      lVar11 = lVar11 + *(long *)pauVar6[4];
      pauVar7 = pauVar6 + 5;
      pauVar6[0x140] = auVar19;
      auVar19 = minps(auVar19,*pauVar6);
      pauVar6[0x141] = auVar17;
      auVar17 = maxps(auVar17,pauVar6[1]);
      pauVar6[0x142] = auVar15;
      auVar15 = minps(auVar15,pauVar6[2]);
      pauVar6[0x143] = auVar13;
      auVar13 = maxps(auVar13,pauVar6[3]);
      *(long *)(pauVar6[0x144] + 8) = lVar8;
      lVar8 = lVar8 + *(long *)(pauVar6[4] + 8);
      pauVar6 = pauVar7;
    } while ((undefined1 (*) [16])local_2848 + local_2958 * 5 != pauVar7);
  }
  *(long *)(this + 0x40) = lVar11;
  *(long *)(this + 0x48) = lVar8;
  *(undefined1 (*) [16])this = auVar19;
  *(undefined1 (*) [16])(this + 0x10) = auVar17;
  *(undefined1 (*) [16])(this + 0x20) = auVar15;
  *(undefined1 (*) [16])(this + 0x30) = auVar13;
LAB_00108899:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::createPrimRefArray(embree::Scene*, embree::Geometry::GTypeMask, bool, unsigned
   long, embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef,
   32ul> >&, embree::BuildProgressMonitor&) */

sse2 * __thiscall
embree::sse2::createPrimRefArray
          (sse2 *this,long param_1,ulong param_3,char param_4,long param_5,undefined8 param_6,
          undefined8 *param_7)

{
  long *plVar1;
  int *piVar2;
  long lVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  ulong uVar6;
  long lVar7;
  undefined1 (*pauVar8) [16];
  undefined1 (*pauVar9) [16];
  undefined8 uVar10;
  undefined8 *puVar11;
  ulong uVar12;
  long *plVar13;
  ulong uVar14;
  ulong uVar15;
  long lVar16;
  ulong uVar17;
  ulong uVar18;
  undefined8 *puVar19;
  ulong uVar20;
  long lVar21;
  ulong uVar22;
  long in_FS_OFFSET;
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 local_2d59;
  undefined8 local_2d58;
  undefined8 *local_2d50;
  undefined8 *local_2d48;
  long *local_2d40;
  undefined8 *local_2d38;
  long *local_2d30;
  long local_2d28;
  ulong local_2d20;
  char local_2d18;
  undefined8 *local_2d08;
  long *plStack_2d00;
  undefined8 local_2cf8;
  long **pplStack_2cf0;
  undefined8 **local_2ce8;
  long *local_2cd8;
  undefined8 **local_2cd0;
  undefined1 *local_2cc8;
  long **local_2cc0;
  undefined1 *local_2cb8;
  undefined8 **local_2cb0;
  undefined1 local_2ca8 [16];
  undefined1 local_2c98 [16];
  undefined1 local_2c88 [16];
  undefined1 local_2c78 [16];
  long local_2c68;
  long local_2c60;
  long local_2c58 [64];
  ulong local_2a58 [64];
  undefined8 *local_2858;
  ulong local_2850;
  undefined1 local_2848 [10248];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_2858 = (undefined8 *)0x0;
  local_2d28 = param_1;
  local_2d20 = param_3;
  local_2d18 = param_4;
  if (*(code **)*param_7 == Scene::BuildProgressMonitorInterface::operator()) {
    embree::Scene::progressMonitor(0.0);
  }
  else {
    (**(code **)*param_7)(param_7,0);
  }
  if (*(long *)(local_2d28 + 0x1d0) == 0) {
    local_2850 = 0;
    embree::TaskScheduler::threadCount();
    local_2858 = (undefined8 *)0x1;
LAB_00109420:
    local_2a58[0] = 0;
    local_2c58[0] = 0;
    puVar5 = (undefined8 *)0x1;
  }
  else {
    plVar13 = *(long **)(local_2d28 + 0x1e0);
    uVar20 = 0;
    plVar1 = plVar13 + *(long *)(local_2d28 + 0x1d0);
    do {
      lVar21 = *plVar13;
      if ((((lVar21 != 0) && ((*(byte *)(lVar21 + 0x3e) & 0x20) != 0)) &&
          (((long)(1 << (*(byte *)(lVar21 + 0x3c) & 0x1f)) & local_2d20) != 0)) &&
         ((*(int *)(lVar21 + 0x24) != 1) == (bool)local_2d18)) {
        uVar20 = uVar20 + *(uint *)(lVar21 + 0x20);
      }
      plVar13 = plVar13 + 1;
    } while (plVar1 != plVar13);
    local_2850 = uVar20;
    puVar5 = (undefined8 *)embree::TaskScheduler::threadCount();
    local_2c58[0] = 0;
    local_2a58[0] = 0;
    puVar11 = (undefined8 *)(uVar20 + 0x3ff >> 10);
    if (puVar5 < puVar11) {
      puVar11 = puVar5;
    }
    puVar5 = (undefined8 *)0x40;
    if (puVar11 < (undefined8 *)0x41) {
      puVar5 = puVar11;
    }
    if (puVar5 == (undefined8 *)0x0) {
      puVar5 = (undefined8 *)0x1;
    }
    uVar6 = uVar20 / (ulong)puVar5;
    local_2858 = puVar5;
    if (puVar11 < (undefined8 *)0x2) goto LAB_00109420;
    puVar11 = (undefined8 *)0x1;
    lVar21 = 0;
    uVar14 = 0;
    do {
      lVar16 = *(long *)(*(long *)(local_2d28 + 0x1e0) + lVar21 * 8);
      uVar15 = uVar14;
      if (((((lVar16 != 0) && ((*(byte *)(lVar16 + 0x3e) & 0x20) != 0)) &&
           (((local_2d20 & (long)(1 << (*(byte *)(lVar16 + 0x3c) & 0x1f))) != 0 &&
            (((*(int *)(lVar16 + 0x24) != 1) == (bool)local_2d18 &&
             (uVar22 = (ulong)*(uint *)(lVar16 + 0x20), uVar22 != 0)))))) &&
          (uVar15 = uVar14 + uVar22, puVar11 < puVar5)) && (uVar6 <= uVar15)) {
        uVar12 = 0;
        uVar17 = ((long)puVar11 + 1) * uVar20;
        puVar4 = (undefined8 *)((long)puVar11 + 1);
        puVar19 = puVar11;
        while( true ) {
          puVar11 = puVar4;
          uVar18 = uVar6;
          lVar16 = uVar18 + uVar12;
          local_2c58[(long)puVar19] = lVar21;
          uVar6 = uVar17 / (ulong)puVar5;
          uVar12 = lVar16 - uVar14;
          local_2a58[(long)puVar19] = uVar12;
          if (uVar22 <= uVar12) break;
          uVar17 = uVar17 + uVar20;
          uVar15 = (uVar18 + uVar22 + uVar14) - lVar16;
          if ((uVar15 < uVar6) || (puVar5 <= puVar11)) goto LAB_00108e74;
          puVar4 = (undefined8 *)((long)puVar11 + 1);
          puVar19 = puVar11;
          uVar14 = uVar18;
        }
        uVar15 = (uVar14 + uVar18 + uVar22) - lVar16;
      }
LAB_00108e74:
      lVar21 = lVar21 + 1;
      uVar14 = uVar15;
    } while (puVar11 < puVar5);
  }
  local_2c68 = 0;
  local_2c60 = 0;
  local_2d48 = (undefined8 *)0x0;
  plStack_2d00 = (long *)0x0;
  local_2cf8 = 1;
  local_2ca8._8_8_ = _UNK_00112b98;
  local_2ca8._0_8_ = __LC30;
  local_2c98._8_8_ = _UNK_00112b88;
  local_2c98._0_8_ = __LC28;
  local_2c88._8_8_ = _UNK_00112b98;
  local_2c88._0_8_ = __LC30;
  local_2c78._8_8_ = _UNK_00112b88;
  local_2c78._0_8_ = __LC28;
  local_2d58 = param_6;
  local_2d50 = puVar5;
  local_2d40 = &local_2d28;
  local_2d38 = &local_2d58;
  local_2d30 = &local_2d28;
  local_2d08 = puVar5;
  pplStack_2cf0 = &local_2cd8;
  local_2ce8 = &local_2d48;
  local_2cd8 = local_2c58;
  local_2cd0 = &local_2d50;
  local_2cc8 = local_2ca8;
  local_2cc0 = &local_2d40;
  local_2cb8 = &local_2d59;
  local_2cb0 = &local_2d38;
  lVar21 = embree::TaskScheduler::thread();
  if (lVar21 == 0) {
    uVar10 = embree::TaskScheduler::instance();
    _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum0_IZNS_28parallel_for_for_prefix_sum0INS_5Scene9Iterator2EmNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse218createPrimRefArrayEPS6_NS_8Geometry9GTypeMaskEbmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISI_Lm32EEEEERNS_20BuildProgressMonitorEEUlPSF_RKNS_5rangeImEEmmE_ZNSD_18createPrimRefArrayESE_SG_bmSM_SO_EUlRKSC_SW_E_EET1_RNS_28ParallelForForPrefixSumStateISY_EERT_T0_RKSY_RKT2_RKT3_EUlmE_mSC_ZNS5_IS7_mSC_SU_SX_EESY_S11_S13_S14_S16_S19_S1C_EUlmST_mE_SX_EESY_S11_S14_RKS12_S16_S19_S1C_EUlmE_EEvS12_RKS14_EUlST_E_EEvS12_S12_S12_S1J_PNS0_16TaskGroupContextEEUlvE_EEvS1G_S1M_mb_constprop_0
              (uVar10,&local_2d08,&local_2d48,puVar5);
LAB_001090b3:
    embree::TaskScheduler::wait();
    if (local_2d48 != (undefined8 *)0x0) {
      local_2d08 = local_2d48;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_2d08);
    }
    *(undefined1 (*) [16])this = local_2ca8;
    *(undefined1 (*) [16])(this + 0x10) = local_2c98;
    *(long *)(this + 0x40) = local_2c68;
    *(long *)(this + 0x48) = local_2c60;
    *(undefined1 (*) [16])(this + 0x20) = local_2c88;
    *(undefined1 (*) [16])(this + 0x30) = local_2c78;
    lVar21 = local_2c68;
    lVar16 = local_2c60;
    if (local_2d50 != (undefined8 *)0x0) {
      pauVar9 = (undefined1 (*) [16])local_2848;
      auVar23 = local_2c78;
      auVar24 = local_2c88;
      auVar25 = local_2c98;
      auVar26 = local_2ca8;
      do {
        *(long *)pauVar9[0x144] = lVar21;
        lVar21 = lVar21 + *(long *)pauVar9[4];
        pauVar8 = pauVar9 + 5;
        pauVar9[0x140] = auVar26;
        auVar26 = minps(auVar26,*pauVar9);
        pauVar9[0x141] = auVar25;
        auVar25 = maxps(auVar25,pauVar9[1]);
        pauVar9[0x142] = auVar24;
        auVar24 = minps(auVar24,pauVar9[2]);
        pauVar9[0x143] = auVar23;
        auVar23 = maxps(auVar23,pauVar9[3]);
        *(long *)(pauVar9[0x144] + 8) = lVar16;
        lVar16 = lVar16 + *(long *)(pauVar9[4] + 8);
        pauVar9 = pauVar8;
      } while ((undefined1 (*) [16])local_2848 + (long)local_2d50 * 5 != pauVar8);
      *(long *)(this + 0x40) = lVar21;
      *(long *)(this + 0x48) = lVar16;
      *(undefined1 (*) [16])this = auVar26;
      *(undefined1 (*) [16])(this + 0x10) = auVar25;
      *(undefined1 (*) [16])(this + 0x20) = auVar24;
      *(undefined1 (*) [16])(this + 0x30) = auVar23;
    }
    if (param_5 != lVar16 - lVar21) {
      if (*(code **)*param_7 == Scene::BuildProgressMonitorInterface::operator()) {
        embree::Scene::progressMonitor(0.0);
      }
      else {
        (**(code **)*param_7)(param_7,0);
      }
      local_2ca8._8_8_ = _UNK_00112b98;
      local_2ca8._0_8_ = __LC30;
      local_2c68 = 0;
      local_2c98._8_8_ = _UNK_00112b88;
      local_2c98._0_8_ = __LC28;
      local_2c60 = 0;
      local_2d50 = local_2858;
      local_2cb0 = &local_2d08;
      local_2d08 = &local_2d58;
      plStack_2d00 = &local_2d28;
      local_2c88 = local_2ca8;
      local_2c78 = local_2c98;
      if (local_2858 == (undefined8 *)0x0) {
        lVar21 = 0;
        lVar16 = 0;
        auVar23 = local_2c98;
        auVar24 = local_2ca8;
        auVar25 = local_2c98;
        auVar26 = local_2ca8;
        local_2d58 = param_6;
        local_2d40 = &local_2d28;
        local_2cd8 = local_2c58;
        local_2cd0 = &local_2d50;
        local_2cc8 = local_2ca8;
        local_2cc0 = &local_2d40;
        local_2cb8 = &local_2d59;
      }
      else {
        local_2d48 = (undefined8 *)0x0;
        local_2d58 = param_6;
        local_2d40 = &local_2d28;
        local_2cd8 = local_2c58;
        local_2cd0 = &local_2d50;
        local_2cc8 = local_2ca8;
        local_2cc0 = &local_2d40;
        local_2cb8 = &local_2d59;
        _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum1_IZNS_28parallel_for_for_prefix_sum1INS_5Scene9Iterator2EmNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse218createPrimRefArrayEPS5_NS_8Geometry9GTypeMaskEbmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISH_Lm32EEEEERNS_20BuildProgressMonitorEEUlPSE_RKNS_5rangeImEEmmRKSB_E_ZNSC_18createPrimRefArrayESD_SF_bmSL_SN_EUlSU_SU_E0_EET1_RNS_28ParallelForForPrefixSumStateISX_EERT_T0_RKSX_RKT2_RKT3_EUlmE_mSB_ZNS4_IS6_mSB_SV_SW_EESX_S10_S12_S13_S15_S18_S1B_EUlmSS_mSU_E_SW_EESX_S10_S13_RKS11_S15_S18_S1B_EUlmE_EEvS11_RKS13_EUlSS_E_EEvS11_S11_S11_S1I_PNS0_16TaskGroupContextE_isra_0
                  (0,local_2858,1,&local_2cd8,&local_2d48);
        embree::TaskScheduler::wait();
        if (local_2d48 != (undefined8 *)0x0) {
          local_2d38 = local_2d48;
          std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
          std::rethrow_exception(&local_2d38);
        }
        lVar21 = local_2c60;
        lVar16 = local_2c68;
        auVar23 = local_2c78;
        auVar24 = local_2c88;
        auVar25 = local_2c98;
        auVar26 = local_2ca8;
        if (local_2d50 != (undefined8 *)0x0) {
          pauVar9 = (undefined1 (*) [16])local_2848;
          do {
            *(long *)pauVar9[0x144] = lVar16;
            lVar16 = lVar16 + *(long *)pauVar9[4];
            pauVar8 = pauVar9 + 5;
            pauVar9[0x140] = auVar26;
            auVar26 = minps(auVar26,*pauVar9);
            pauVar9[0x141] = auVar25;
            auVar25 = maxps(auVar25,pauVar9[1]);
            pauVar9[0x142] = auVar24;
            auVar24 = minps(auVar24,pauVar9[2]);
            pauVar9[0x143] = auVar23;
            auVar23 = maxps(auVar23,pauVar9[3]);
            *(long *)(pauVar9[0x144] + 8) = lVar21;
            lVar21 = lVar21 + *(long *)(pauVar9[4] + 8);
            pauVar9 = pauVar8;
          } while ((undefined1 (*) [16])local_2848 + (long)local_2d50 * 5 != pauVar8);
        }
      }
      *(long *)(this + 0x40) = lVar16;
      *(long *)(this + 0x48) = lVar21;
      *(undefined1 (*) [16])this = auVar26;
      *(undefined1 (*) [16])(this + 0x10) = auVar25;
      *(undefined1 (*) [16])(this + 0x20) = auVar24;
      *(undefined1 (*) [16])(this + 0x30) = auVar23;
    }
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return this;
  }
  if (*(ulong *)(lVar21 + 0x40080) < 0x1000) {
    lVar16 = *(long *)(lVar21 + 0xc00c0);
    uVar20 = lVar16 + 0x30 + (ulong)(-(int)lVar16 & 0x3f);
    if (uVar20 < 0x80001) {
      *(ulong *)(lVar21 + 0xc00c0) = uVar20;
      puVar11 = (undefined8 *)(lVar21 + 0x40090 + uVar20);
      *puVar11 = 0x112a38;
      puVar11[1] = local_2d08;
      puVar11[2] = plStack_2d00;
      puVar11[3] = local_2cf8;
      puVar11[4] = pplStack_2cf0;
      puVar11[5] = local_2ce8;
      lVar7 = *(long *)(lVar21 + 0x40080) * 0x40;
      piVar2 = (int *)(lVar21 + 0x40 + lVar7);
      lVar3 = *(long *)(lVar21 + 0xc0100);
      *(undefined4 *)(lVar21 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar21 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar21;
      *(undefined8 **)(lVar7 + 0x50) = puVar11;
      *(long *)(lVar7 + 0x58) = lVar3;
      *(undefined8 ***)(lVar7 + 0x60) = &local_2d48;
      *(long *)(lVar7 + 0x68) = lVar16;
      *(undefined8 **)(lVar7 + 0x70) = puVar5;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar2 == 0) {
        *piVar2 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar21 + 0x40080) = *(long *)(lVar21 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar21 + 0x40080) - 1U <= *(ulong *)(lVar21 + 0x40040)) {
        LOCK();
        *(long *)(lVar21 + 0x40040) = *(long *)(lVar21 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_001090b3;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::createPrimRefArray(embree::Scene*, embree::Geometry::GTypeMask, bool, unsigned
   long, embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef,
   32ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&) */

sse2 * __thiscall
embree::sse2::createPrimRefArray
          (sse2 *this,long param_1,ulong param_3,char param_4,long param_5,undefined8 ****param_6,
          long *param_7,undefined8 *param_8)

{
  long *plVar1;
  int *piVar2;
  undefined8 *puVar3;
  long lVar4;
  undefined8 ****ppppuVar5;
  undefined8 ****ppppuVar6;
  ulong uVar7;
  long lVar8;
  undefined1 (*pauVar9) [16];
  undefined1 (*pauVar10) [16];
  undefined8 uVar11;
  undefined8 ****ppppuVar12;
  ulong uVar13;
  long *plVar14;
  ulong uVar15;
  ulong uVar16;
  long lVar17;
  ulong uVar18;
  ulong uVar19;
  undefined8 ****ppppuVar20;
  ulong uVar21;
  long lVar22;
  ulong uVar23;
  long in_FS_OFFSET;
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 local_2d61;
  undefined8 ***local_2d60;
  undefined8 **local_2d58;
  long *local_2d50;
  undefined8 ***local_2d48;
  long *local_2d40;
  undefined8 ***local_2d38;
  long *local_2d30;
  long local_2d28;
  ulong local_2d20;
  char local_2d18;
  undefined8 ***local_2d08;
  long *plStack_2d00;
  undefined8 local_2cf8;
  long **pplStack_2cf0;
  undefined8 **local_2ce8;
  long *local_2cd8;
  undefined8 ***local_2cd0;
  undefined1 *local_2cc8;
  long **local_2cc0;
  undefined1 *local_2cb8;
  undefined8 ***local_2cb0;
  undefined1 local_2ca8 [16];
  undefined1 local_2c98 [16];
  undefined1 local_2c88 [16];
  undefined1 local_2c78 [16];
  long local_2c68;
  long local_2c60;
  long local_2c58 [64];
  ulong local_2a58 [64];
  undefined8 ***local_2858;
  ulong local_2850;
  undefined1 local_2848 [10248];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_2858 = (undefined8 ***)0x0;
  local_2d28 = param_1;
  local_2d20 = param_3;
  local_2d18 = param_4;
  if (*(code **)*param_8 == Scene::BuildProgressMonitorInterface::operator()) {
    embree::Scene::progressMonitor(0.0);
  }
  else {
    (**(code **)*param_8)(param_8,0);
  }
  if (*(long *)(local_2d28 + 0x1d0) == 0) {
    local_2850 = 0;
    embree::TaskScheduler::threadCount();
    local_2858 = (undefined8 ****)0x1;
LAB_00109d20:
    local_2a58[0] = 0;
    local_2c58[0] = 0;
    ppppuVar6 = (undefined8 ****)0x1;
  }
  else {
    plVar14 = *(long **)(local_2d28 + 0x1e0);
    uVar21 = 0;
    plVar1 = plVar14 + *(long *)(local_2d28 + 0x1d0);
    do {
      lVar22 = *plVar14;
      if ((((lVar22 != 0) && ((*(byte *)(lVar22 + 0x3e) & 0x20) != 0)) &&
          (((long)(1 << (*(byte *)(lVar22 + 0x3c) & 0x1f)) & local_2d20) != 0)) &&
         ((*(int *)(lVar22 + 0x24) != 1) == (bool)local_2d18)) {
        uVar21 = uVar21 + *(uint *)(lVar22 + 0x20);
      }
      plVar14 = plVar14 + 1;
    } while (plVar1 != plVar14);
    local_2850 = uVar21;
    ppppuVar6 = (undefined8 ****)embree::TaskScheduler::threadCount();
    local_2c58[0] = 0;
    local_2a58[0] = 0;
    ppppuVar12 = (undefined8 ****)(uVar21 + 0x3ff >> 10);
    if (ppppuVar6 < ppppuVar12) {
      ppppuVar12 = ppppuVar6;
    }
    ppppuVar6 = (undefined8 ****)0x40;
    if (ppppuVar12 < (undefined8 ****)0x41) {
      ppppuVar6 = ppppuVar12;
    }
    if (ppppuVar6 == (undefined8 ****)0x0) {
      ppppuVar6 = (undefined8 ****)0x1;
    }
    uVar7 = uVar21 / (ulong)ppppuVar6;
    local_2858 = ppppuVar6;
    if (ppppuVar12 < (undefined8 ****)0x2) goto LAB_00109d20;
    ppppuVar12 = (undefined8 ****)0x1;
    lVar22 = 0;
    uVar15 = 0;
    do {
      lVar17 = *(long *)(*(long *)(local_2d28 + 0x1e0) + lVar22 * 8);
      uVar16 = uVar15;
      if (((((lVar17 != 0) && ((*(byte *)(lVar17 + 0x3e) & 0x20) != 0)) &&
           (((local_2d20 & (long)(1 << (*(byte *)(lVar17 + 0x3c) & 0x1f))) != 0 &&
            (((*(int *)(lVar17 + 0x24) != 1) == (bool)local_2d18 &&
             (uVar23 = (ulong)*(uint *)(lVar17 + 0x20), uVar23 != 0)))))) &&
          (uVar16 = uVar15 + uVar23, ppppuVar12 < ppppuVar6)) && (uVar7 <= uVar16)) {
        uVar13 = 0;
        uVar18 = ((long)ppppuVar12 + 1) * uVar21;
        ppppuVar5 = (undefined8 ****)((long)ppppuVar12 + 1);
        ppppuVar20 = ppppuVar12;
        while( true ) {
          ppppuVar12 = ppppuVar5;
          uVar19 = uVar7;
          lVar17 = uVar19 + uVar13;
          local_2c58[(long)ppppuVar20] = lVar22;
          uVar7 = uVar18 / (ulong)ppppuVar6;
          uVar13 = lVar17 - uVar15;
          local_2a58[(long)ppppuVar20] = uVar13;
          if (uVar23 <= uVar13) break;
          uVar18 = uVar18 + uVar21;
          uVar16 = (uVar19 + uVar23 + uVar15) - lVar17;
          if ((uVar16 < uVar7) || (ppppuVar6 <= ppppuVar12)) goto LAB_00109754;
          ppppuVar5 = (undefined8 ****)((long)ppppuVar12 + 1);
          ppppuVar20 = ppppuVar12;
          uVar15 = uVar19;
        }
        uVar16 = (uVar15 + uVar19 + uVar23) - lVar17;
      }
LAB_00109754:
      lVar22 = lVar22 + 1;
      uVar15 = uVar16;
    } while (ppppuVar12 < ppppuVar6);
  }
  local_2c68 = 0;
  local_2ca8._8_8_ = _UNK_00112b98;
  local_2ca8._0_8_ = __LC30;
  local_2d40 = param_7;
  local_2c98._8_8_ = _UNK_00112b88;
  local_2c98._0_8_ = __LC28;
  local_2c88._8_8_ = _UNK_00112b98;
  local_2c88._0_8_ = __LC30;
  local_2c78._8_8_ = _UNK_00112b88;
  local_2c78._0_8_ = __LC28;
  local_2c60 = 0;
  local_2d58 = (undefined8 ***)0x0;
  plStack_2d00 = (long *)0x0;
  local_2cf8 = 1;
  local_2d60 = ppppuVar6;
  local_2d50 = &local_2d28;
  local_2d48 = param_6;
  local_2d38 = &local_2d48;
  local_2d30 = &local_2d28;
  local_2d08 = ppppuVar6;
  pplStack_2cf0 = &local_2cd8;
  local_2ce8 = &local_2d58;
  local_2cd8 = local_2c58;
  local_2cd0 = &local_2d60;
  local_2cc8 = local_2ca8;
  local_2cc0 = &local_2d50;
  local_2cb8 = &local_2d61;
  local_2cb0 = &local_2d38;
  lVar22 = embree::TaskScheduler::thread();
  if (lVar22 == 0) {
    uVar11 = embree::TaskScheduler::instance();
    _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum0_IZNS_28parallel_for_for_prefix_sum0INS_5Scene9Iterator2EmNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse218createPrimRefArrayEPS6_NS_8Geometry9GTypeMaskEbmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISI_Lm32EEEEERNSH_INS_16SubGridBuildDataENSJ_ISN_Lm4EEEEERNS_20BuildProgressMonitorEEUlPSF_RKNS_5rangeImEEmmE_ZNSD_18createPrimRefArrayESE_SG_bmSM_SQ_SS_EUlRKSC_S10_E_EET1_RNS_28ParallelForForPrefixSumStateIS12_EERT_T0_RKS12_RKT2_RKT3_EUlmE_mSC_ZNS5_IS7_mSC_SY_S11_EES12_S15_S17_S18_S1A_S1D_S1G_EUlmSX_mE_S11_EES12_S15_S18_RKS16_S1A_S1D_S1G_EUlmE_EEvS16_RKS18_EUlSX_E_EEvS16_S16_S16_S1N_PNS0_16TaskGroupContextEEUlvE_EEvS1K_S1Q_mb_constprop_0
              (uVar11,&local_2d08,&local_2d58,ppppuVar6);
LAB_0010999c:
    embree::TaskScheduler::wait();
    if ((undefined8 ***)local_2d58 != (undefined8 ***)0x0) {
      local_2d08 = (undefined8 ***)local_2d58;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_2d08);
    }
    *(undefined1 (*) [16])this = local_2ca8;
    *(undefined1 (*) [16])(this + 0x10) = local_2c98;
    *(long *)(this + 0x40) = local_2c68;
    *(long *)(this + 0x48) = local_2c60;
    *(undefined1 (*) [16])(this + 0x20) = local_2c88;
    *(undefined1 (*) [16])(this + 0x30) = local_2c78;
    lVar22 = local_2c68;
    lVar17 = local_2c60;
    if ((undefined8 ****)local_2d60 != (undefined8 ****)0x0) {
      pauVar10 = (undefined1 (*) [16])local_2848;
      auVar24 = local_2c78;
      auVar25 = local_2c88;
      auVar26 = local_2c98;
      auVar27 = local_2ca8;
      do {
        *(long *)pauVar10[0x144] = lVar22;
        lVar22 = lVar22 + *(long *)pauVar10[4];
        pauVar9 = pauVar10 + 5;
        pauVar10[0x140] = auVar27;
        auVar27 = minps(auVar27,*pauVar10);
        pauVar10[0x141] = auVar26;
        auVar26 = maxps(auVar26,pauVar10[1]);
        pauVar10[0x142] = auVar25;
        auVar25 = minps(auVar25,pauVar10[2]);
        pauVar10[0x143] = auVar24;
        auVar24 = maxps(auVar24,pauVar10[3]);
        *(long *)(pauVar10[0x144] + 8) = lVar17;
        lVar17 = lVar17 + *(long *)(pauVar10[4] + 8);
        pauVar10 = pauVar9;
      } while ((undefined1 (*) [16])local_2848 + (long)local_2d60 * 5 != pauVar9);
      *(long *)(this + 0x40) = lVar22;
      *(long *)(this + 0x48) = lVar17;
      *(undefined1 (*) [16])this = auVar27;
      *(undefined1 (*) [16])(this + 0x10) = auVar26;
      *(undefined1 (*) [16])(this + 0x20) = auVar25;
      *(undefined1 (*) [16])(this + 0x30) = auVar24;
    }
    if (param_5 != lVar17 - lVar22) {
      if (*(code **)*param_8 == Scene::BuildProgressMonitorInterface::operator()) {
        embree::Scene::progressMonitor(0.0);
      }
      else {
        (**(code **)*param_8)(param_8,0);
      }
      local_2ca8._8_8_ = _UNK_00112b98;
      local_2ca8._0_8_ = __LC30;
      local_2c68 = 0;
      local_2c98._8_8_ = _UNK_00112b88;
      local_2c98._0_8_ = __LC28;
      local_2c60 = 0;
      local_2d30 = param_7;
      local_2d60 = local_2858;
      local_2cb0 = &local_2d08;
      local_2d38 = param_6;
      local_2d08 = &local_2d38;
      plStack_2d00 = &local_2d28;
      local_2c88 = local_2ca8;
      local_2c78 = local_2c98;
      if ((undefined8 ****)local_2858 == (undefined8 ****)0x0) {
        lVar22 = 0;
        lVar17 = 0;
        auVar24 = local_2c98;
        auVar25 = local_2ca8;
        auVar26 = local_2c98;
        auVar27 = local_2ca8;
        local_2d50 = &local_2d28;
        local_2cd8 = local_2c58;
        local_2cd0 = &local_2d60;
        local_2cc8 = local_2ca8;
        local_2cc0 = &local_2d50;
        local_2cb8 = &local_2d61;
      }
      else {
        local_2d58 = (undefined8 ***)0x0;
        local_2d50 = &local_2d28;
        local_2cd8 = local_2c58;
        local_2cd0 = &local_2d60;
        local_2cc8 = local_2ca8;
        local_2cc0 = &local_2d50;
        local_2cb8 = &local_2d61;
        _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum1_IZNS_28parallel_for_for_prefix_sum1INS_5Scene9Iterator2EmNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse218createPrimRefArrayEPS5_NS_8Geometry9GTypeMaskEbmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISH_Lm32EEEEERNSG_INS_16SubGridBuildDataENSI_ISM_Lm4EEEEERNS_20BuildProgressMonitorEEUlPSE_RKNS_5rangeImEEmmRKSB_E_ZNSC_18createPrimRefArrayESD_SF_bmSL_SP_SR_EUlSY_SY_E0_EET1_RNS_28ParallelForForPrefixSumStateIS11_EERT_T0_RKS11_RKT2_RKT3_EUlmE_mSB_ZNS4_IS6_mSB_SZ_S10_EES11_S14_S16_S17_S19_S1C_S1F_EUlmSW_mSY_E_S10_EES11_S14_S17_RKS15_S19_S1C_S1F_EUlmE_EEvS15_RKS17_EUlSW_E_EEvS15_S15_S15_S1M_PNS0_16TaskGroupContextE_isra_0
                  (0,local_2858,1,&local_2cd8,&local_2d58);
        embree::TaskScheduler::wait();
        if ((undefined8 ***)local_2d58 != (undefined8 ***)0x0) {
          local_2d48 = (undefined8 ***)local_2d58;
          std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
          std::rethrow_exception(&local_2d48);
        }
        lVar22 = local_2c60;
        lVar17 = local_2c68;
        auVar24 = local_2c78;
        auVar25 = local_2c88;
        auVar26 = local_2c98;
        auVar27 = local_2ca8;
        if ((undefined8 ****)local_2d60 != (undefined8 ****)0x0) {
          pauVar10 = (undefined1 (*) [16])local_2848;
          do {
            *(long *)pauVar10[0x144] = lVar17;
            lVar17 = lVar17 + *(long *)pauVar10[4];
            pauVar9 = pauVar10 + 5;
            pauVar10[0x140] = auVar27;
            auVar27 = minps(auVar27,*pauVar10);
            pauVar10[0x141] = auVar26;
            auVar26 = maxps(auVar26,pauVar10[1]);
            pauVar10[0x142] = auVar25;
            auVar25 = minps(auVar25,pauVar10[2]);
            pauVar10[0x143] = auVar24;
            auVar24 = maxps(auVar24,pauVar10[3]);
            *(long *)(pauVar10[0x144] + 8) = lVar22;
            lVar22 = lVar22 + *(long *)(pauVar10[4] + 8);
            pauVar10 = pauVar9;
          } while ((undefined1 (*) [16])local_2848 + (long)local_2d60 * 5 != pauVar9);
        }
      }
      *(long *)(this + 0x40) = lVar17;
      *(long *)(this + 0x48) = lVar22;
      *(undefined1 (*) [16])this = auVar27;
      *(undefined1 (*) [16])(this + 0x10) = auVar26;
      *(undefined1 (*) [16])(this + 0x20) = auVar25;
      *(undefined1 (*) [16])(this + 0x30) = auVar24;
    }
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return this;
  }
  if (*(ulong *)(lVar22 + 0x40080) < 0x1000) {
    lVar17 = *(long *)(lVar22 + 0xc00c0);
    uVar21 = lVar17 + 0x30 + (ulong)(-(int)lVar17 & 0x3f);
    if (uVar21 < 0x80001) {
      *(ulong *)(lVar22 + 0xc00c0) = uVar21;
      puVar3 = (undefined8 *)(lVar22 + 0x40090 + uVar21);
      *puVar3 = 0x112a68;
      puVar3[1] = local_2d08;
      puVar3[2] = plStack_2d00;
      puVar3[3] = local_2cf8;
      puVar3[4] = pplStack_2cf0;
      puVar3[5] = local_2ce8;
      lVar8 = *(long *)(lVar22 + 0x40080) * 0x40;
      piVar2 = (int *)(lVar22 + 0x40 + lVar8);
      lVar4 = *(long *)(lVar22 + 0xc0100);
      *(undefined4 *)(lVar22 + 0x44 + lVar8) = 1;
      *(undefined1 *)(lVar22 + 0x48 + lVar8) = 1;
      lVar8 = lVar8 + lVar22;
      *(undefined8 **)(lVar8 + 0x50) = puVar3;
      *(long *)(lVar8 + 0x58) = lVar4;
      *(undefined8 ****)(lVar8 + 0x60) = &local_2d58;
      *(long *)(lVar8 + 0x68) = lVar17;
      *(undefined8 *****)(lVar8 + 0x70) = ppppuVar6;
      if (lVar4 != 0) {
        LOCK();
        *(int *)(lVar4 + 4) = *(int *)(lVar4 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar2 == 0) {
        *piVar2 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar22 + 0x40080) = *(long *)(lVar22 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar22 + 0x40080) - 1U <= *(ulong *)(lVar22 + 0x40040)) {
        LOCK();
        *(long *)(lVar22 + 0x40040) = *(long *)(lVar22 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0010999c;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::createPrimRefArrayMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned long,
   embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef, 32ul> >&,
   embree::BuildProgressMonitor&, unsigned long) */

undefined1 (*) [16]
embree::sse2::createPrimRefArrayMBlur
          (undefined1 (*param_1) [16],long param_2,ulong param_3,long param_4,undefined8 ****param_5
          ,undefined8 *param_6)

{
  long *plVar1;
  int *piVar2;
  undefined8 *puVar3;
  long lVar4;
  undefined8 ****ppppuVar5;
  undefined8 ****ppppuVar6;
  ulong uVar7;
  long lVar8;
  undefined1 (*pauVar9) [16];
  undefined1 (*pauVar10) [16];
  undefined8 uVar11;
  undefined8 ****ppppuVar12;
  ulong uVar13;
  long *plVar14;
  ulong uVar15;
  ulong uVar16;
  long lVar17;
  ulong uVar18;
  ulong uVar19;
  undefined8 ****ppppuVar20;
  ulong uVar21;
  long lVar22;
  ulong uVar23;
  long in_FS_OFFSET;
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 local_2d61;
  undefined8 ***local_2d60;
  undefined8 **local_2d58;
  long *local_2d50;
  undefined8 ***local_2d48;
  undefined1 *local_2d40;
  undefined8 ***local_2d38;
  long *local_2d30;
  long local_2d28;
  ulong local_2d20;
  char local_2d18;
  undefined8 ***local_2d08;
  long *plStack_2d00;
  undefined8 local_2cf8;
  long **pplStack_2cf0;
  undefined8 **local_2ce8;
  long *local_2cd8;
  undefined8 ***local_2cd0;
  undefined1 *local_2cc8;
  long **local_2cc0;
  undefined1 *local_2cb8;
  undefined8 ***local_2cb0;
  undefined1 local_2ca8 [16];
  undefined1 local_2c98 [16];
  undefined1 local_2c88 [16];
  undefined1 local_2c78 [16];
  long local_2c68;
  long local_2c60;
  long local_2c58 [64];
  ulong local_2a58 [64];
  undefined8 ***local_2858;
  ulong local_2850;
  undefined1 local_2848 [10248];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_2858 = (undefined8 ***)0x0;
  local_2d18 = '\x01';
  local_2d28 = param_2;
  local_2d20 = param_3;
  if (*(code **)*param_6 == Scene::BuildProgressMonitorInterface::operator()) {
    embree::Scene::progressMonitor(0.0);
  }
  else {
    (**(code **)*param_6)(param_6,0);
  }
  if (*(long *)(local_2d28 + 0x1d0) == 0) {
    local_2850 = 0;
    embree::TaskScheduler::threadCount();
    local_2858 = (undefined8 ****)0x1;
LAB_0010a610:
    local_2a58[0] = 0;
    local_2c58[0] = 0;
    ppppuVar6 = (undefined8 ****)0x1;
  }
  else {
    plVar14 = *(long **)(local_2d28 + 0x1e0);
    uVar21 = 0;
    plVar1 = plVar14 + *(long *)(local_2d28 + 0x1d0);
    do {
      lVar22 = *plVar14;
      if ((((lVar22 != 0) && ((*(byte *)(lVar22 + 0x3e) & 0x20) != 0)) &&
          (((long)(1 << (*(byte *)(lVar22 + 0x3c) & 0x1f)) & local_2d20) != 0)) &&
         ((*(int *)(lVar22 + 0x24) != 1) == (bool)local_2d18)) {
        uVar21 = uVar21 + *(uint *)(lVar22 + 0x20);
      }
      plVar14 = plVar14 + 1;
    } while (plVar1 != plVar14);
    local_2850 = uVar21;
    ppppuVar6 = (undefined8 ****)embree::TaskScheduler::threadCount();
    local_2c58[0] = 0;
    local_2a58[0] = 0;
    ppppuVar12 = (undefined8 ****)(uVar21 + 0x3ff >> 10);
    if (ppppuVar6 < ppppuVar12) {
      ppppuVar12 = ppppuVar6;
    }
    ppppuVar6 = (undefined8 ****)0x40;
    if (ppppuVar12 < (undefined8 ****)0x41) {
      ppppuVar6 = ppppuVar12;
    }
    if (ppppuVar6 == (undefined8 ****)0x0) {
      ppppuVar6 = (undefined8 ****)0x1;
    }
    uVar7 = uVar21 / (ulong)ppppuVar6;
    local_2858 = ppppuVar6;
    if (ppppuVar12 < (undefined8 ****)0x2) goto LAB_0010a610;
    ppppuVar12 = (undefined8 ****)0x1;
    lVar22 = 0;
    uVar15 = 0;
    do {
      lVar17 = *(long *)(*(long *)(local_2d28 + 0x1e0) + lVar22 * 8);
      uVar16 = uVar15;
      if (((((lVar17 != 0) && ((*(byte *)(lVar17 + 0x3e) & 0x20) != 0)) &&
           (((local_2d20 & (long)(1 << (*(byte *)(lVar17 + 0x3c) & 0x1f))) != 0 &&
            (((*(int *)(lVar17 + 0x24) != 1) == (bool)local_2d18 &&
             (uVar23 = (ulong)*(uint *)(lVar17 + 0x20), uVar23 != 0)))))) &&
          (uVar16 = uVar15 + uVar23, ppppuVar12 < ppppuVar6)) && (uVar7 <= uVar16)) {
        uVar13 = 0;
        uVar18 = ((long)ppppuVar12 + 1) * uVar21;
        ppppuVar5 = (undefined8 ****)((long)ppppuVar12 + 1);
        ppppuVar20 = ppppuVar12;
        while( true ) {
          ppppuVar12 = ppppuVar5;
          uVar19 = uVar7;
          lVar17 = uVar19 + uVar13;
          local_2c58[(long)ppppuVar20] = lVar22;
          uVar7 = uVar18 / (ulong)ppppuVar6;
          uVar13 = lVar17 - uVar15;
          local_2a58[(long)ppppuVar20] = uVar13;
          if (uVar23 <= uVar13) break;
          uVar18 = uVar18 + uVar21;
          uVar16 = (uVar19 + uVar23 + uVar15) - lVar17;
          if ((uVar16 < uVar7) || (ppppuVar6 <= ppppuVar12)) goto LAB_0010a03c;
          ppppuVar5 = (undefined8 ****)((long)ppppuVar12 + 1);
          ppppuVar20 = ppppuVar12;
          uVar15 = uVar19;
        }
        uVar16 = (uVar15 + uVar19 + uVar23) - lVar17;
      }
LAB_0010a03c:
      lVar22 = lVar22 + 1;
      uVar15 = uVar16;
    } while (ppppuVar12 < ppppuVar6);
  }
  local_2c68 = 0;
  local_2d40 = &stack0x00000008;
  local_2ca8._8_8_ = _UNK_00112b98;
  local_2ca8._0_8_ = __LC30;
  local_2c98._8_8_ = _UNK_00112b88;
  local_2c98._0_8_ = __LC28;
  local_2c88._8_8_ = _UNK_00112b98;
  local_2c88._0_8_ = __LC30;
  local_2c78._8_8_ = _UNK_00112b88;
  local_2c78._0_8_ = __LC28;
  local_2c60 = 0;
  local_2d58 = (undefined8 ***)0x0;
  plStack_2d00 = (long *)0x0;
  local_2cf8 = 1;
  local_2d60 = ppppuVar6;
  local_2d50 = &local_2d28;
  local_2d48 = param_5;
  local_2d38 = &local_2d48;
  local_2d30 = &local_2d28;
  local_2d08 = ppppuVar6;
  pplStack_2cf0 = &local_2cd8;
  local_2ce8 = &local_2d58;
  local_2cd8 = local_2c58;
  local_2cd0 = &local_2d60;
  local_2cc8 = local_2ca8;
  local_2cc0 = &local_2d50;
  local_2cb8 = &local_2d61;
  local_2cb0 = &local_2d38;
  lVar22 = embree::TaskScheduler::thread();
  if (lVar22 == 0) {
    uVar11 = embree::TaskScheduler::instance();
    _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum0_IZNS_28parallel_for_for_prefix_sum0INS_5Scene9Iterator2EmNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse223createPrimRefArrayMBlurEPS6_NS_8Geometry9GTypeMaskEmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISI_Lm32EEEEERNS_20BuildProgressMonitorEmEUlPSF_RKNS_5rangeImEEmmE_ZNSD_23createPrimRefArrayMBlurESE_SG_mSM_SO_mEUlRKSC_SW_E_EET1_RNS_28ParallelForForPrefixSumStateISY_EERT_T0_RKSY_RKT2_RKT3_EUlmE_mSC_ZNS5_IS7_mSC_SU_SX_EESY_S11_S13_S14_S16_S19_S1C_EUlmST_mE_SX_EESY_S11_S14_RKS12_S16_S19_S1C_EUlmE_EEvS12_RKS14_EUlST_E_EEvS12_S12_S12_S1J_PNS0_16TaskGroupContextEEUlvE_EEvS1G_S1M_mb_constprop_0
              (uVar11,&local_2d08,&local_2d58,ppppuVar6);
LAB_0010a288:
    embree::TaskScheduler::wait();
    if ((undefined8 ***)local_2d58 != (undefined8 ***)0x0) {
      local_2d08 = (undefined8 ***)local_2d58;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_2d08);
    }
    *param_1 = local_2ca8;
    param_1[1] = local_2c98;
    *(long *)param_1[4] = local_2c68;
    *(long *)(param_1[4] + 8) = local_2c60;
    param_1[2] = local_2c88;
    param_1[3] = local_2c78;
    lVar22 = local_2c68;
    lVar17 = local_2c60;
    if ((undefined8 ****)local_2d60 != (undefined8 ****)0x0) {
      pauVar10 = (undefined1 (*) [16])local_2848;
      auVar24 = local_2c78;
      auVar25 = local_2c88;
      auVar26 = local_2c98;
      auVar27 = local_2ca8;
      do {
        *(long *)pauVar10[0x144] = lVar22;
        lVar22 = lVar22 + *(long *)pauVar10[4];
        pauVar9 = pauVar10 + 5;
        pauVar10[0x140] = auVar27;
        auVar27 = minps(auVar27,*pauVar10);
        pauVar10[0x141] = auVar26;
        auVar26 = maxps(auVar26,pauVar10[1]);
        pauVar10[0x142] = auVar25;
        auVar25 = minps(auVar25,pauVar10[2]);
        pauVar10[0x143] = auVar24;
        auVar24 = maxps(auVar24,pauVar10[3]);
        *(long *)(pauVar10[0x144] + 8) = lVar17;
        lVar17 = lVar17 + *(long *)(pauVar10[4] + 8);
        pauVar10 = pauVar9;
      } while ((undefined1 (*) [16])local_2848 + (long)local_2d60 * 5 != pauVar9);
      *(long *)param_1[4] = lVar22;
      *(long *)(param_1[4] + 8) = lVar17;
      *param_1 = auVar27;
      param_1[1] = auVar26;
      param_1[2] = auVar25;
      param_1[3] = auVar24;
    }
    if (param_4 != lVar17 - lVar22) {
      if (*(code **)*param_6 == Scene::BuildProgressMonitorInterface::operator()) {
        embree::Scene::progressMonitor(0.0);
      }
      else {
        (**(code **)*param_6)(param_6,0);
      }
      local_2ca8._8_8_ = _UNK_00112b98;
      local_2ca8._0_8_ = __LC30;
      local_2c68 = 0;
      local_2c98._8_8_ = _UNK_00112b88;
      local_2c98._0_8_ = __LC28;
      local_2c60 = 0;
      local_2d30 = (long *)&stack0x00000008;
      local_2d60 = local_2858;
      local_2cb0 = &local_2d08;
      local_2d38 = param_5;
      local_2d08 = &local_2d38;
      plStack_2d00 = &local_2d28;
      local_2c88 = local_2ca8;
      local_2c78 = local_2c98;
      if ((undefined8 ****)local_2858 == (undefined8 ****)0x0) {
        lVar22 = 0;
        lVar17 = 0;
        auVar24 = local_2c98;
        auVar25 = local_2ca8;
        auVar26 = local_2c98;
        auVar27 = local_2ca8;
        local_2d50 = &local_2d28;
        local_2cd8 = local_2c58;
        local_2cd0 = &local_2d60;
        local_2cc8 = local_2ca8;
        local_2cc0 = &local_2d50;
        local_2cb8 = &local_2d61;
      }
      else {
        local_2d58 = (undefined8 ***)0x0;
        local_2d50 = &local_2d28;
        local_2cd8 = local_2c58;
        local_2cd0 = &local_2d60;
        local_2cc8 = local_2ca8;
        local_2cc0 = &local_2d50;
        local_2cb8 = &local_2d61;
        _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum1_IZNS_28parallel_for_for_prefix_sum1INS_5Scene9Iterator2EmNS_9PrimInfoTINS_4BBoxINS_6Vec3faEEEEEZNS_4sse223createPrimRefArrayMBlurEPS5_NS_8Geometry9GTypeMaskEmRNS_8vector_tINS_7PrimRefENS_27aligned_monitored_allocatorISH_Lm32EEEEERNS_20BuildProgressMonitorEmEUlPSE_RKNS_5rangeImEEmmRKSB_E_ZNSC_23createPrimRefArrayMBlurESD_SF_mSL_SN_mEUlSU_SU_E0_EET1_RNS_28ParallelForForPrefixSumStateISX_EERT_T0_RKSX_RKT2_RKT3_EUlmE_mSB_ZNS4_IS6_mSB_SV_SW_EESX_S10_S12_S13_S15_S18_S1B_EUlmSS_mSU_E_SW_EESX_S10_S13_RKS11_S15_S18_S1B_EUlmE_EEvS11_RKS13_EUlSS_E_EEvS11_S11_S11_S1I_PNS0_16TaskGroupContextE_isra_0
                  (0,local_2858,1,&local_2cd8,&local_2d58);
        embree::TaskScheduler::wait();
        if ((undefined8 ***)local_2d58 != (undefined8 ***)0x0) {
          local_2d48 = (undefined8 ***)local_2d58;
          std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
          std::rethrow_exception(&local_2d48);
        }
        lVar22 = local_2c60;
        lVar17 = local_2c68;
        auVar24 = local_2c78;
        auVar25 = local_2c88;
        auVar26 = local_2c98;
        auVar27 = local_2ca8;
        if ((undefined8 ****)local_2d60 != (undefined8 ****)0x0) {
          pauVar10 = (undefined1 (*) [16])local_2848;
          do {
            *(long *)pauVar10[0x144] = lVar17;
            lVar17 = lVar17 + *(long *)pauVar10[4];
            pauVar9 = pauVar10 + 5;
            pauVar10[0x140] = auVar27;
            auVar27 = minps(auVar27,*pauVar10);
            pauVar10[0x141] = auVar26;
            auVar26 = maxps(auVar26,pauVar10[1]);
            pauVar10[0x142] = auVar25;
            auVar25 = minps(auVar25,pauVar10[2]);
            pauVar10[0x143] = auVar24;
            auVar24 = maxps(auVar24,pauVar10[3]);
            *(long *)(pauVar10[0x144] + 8) = lVar22;
            lVar22 = lVar22 + *(long *)(pauVar10[4] + 8);
            pauVar10 = pauVar9;
          } while ((undefined1 (*) [16])local_2848 + (long)local_2d60 * 5 != pauVar9);
        }
      }
      *(long *)param_1[4] = lVar17;
      *(long *)(param_1[4] + 8) = lVar22;
      *param_1 = auVar27;
      param_1[1] = auVar26;
      param_1[2] = auVar25;
      param_1[3] = auVar24;
    }
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return param_1;
  }
  if (*(ulong *)(lVar22 + 0x40080) < 0x1000) {
    lVar17 = *(long *)(lVar22 + 0xc00c0);
    uVar21 = lVar17 + 0x30 + (ulong)(-(int)lVar17 & 0x3f);
    if (uVar21 < 0x80001) {
      *(ulong *)(lVar22 + 0xc00c0) = uVar21;
      puVar3 = (undefined8 *)(lVar22 + 0x40090 + uVar21);
      *puVar3 = 0x112a98;
      puVar3[1] = local_2d08;
      puVar3[2] = plStack_2d00;
      puVar3[3] = local_2cf8;
      puVar3[4] = pplStack_2cf0;
      puVar3[5] = local_2ce8;
      lVar8 = *(long *)(lVar22 + 0x40080) * 0x40;
      piVar2 = (int *)(lVar22 + 0x40 + lVar8);
      lVar4 = *(long *)(lVar22 + 0xc0100);
      *(undefined4 *)(lVar22 + 0x44 + lVar8) = 1;
      *(undefined1 *)(lVar22 + 0x48 + lVar8) = 1;
      lVar8 = lVar8 + lVar22;
      *(undefined8 **)(lVar8 + 0x50) = puVar3;
      *(long *)(lVar8 + 0x58) = lVar4;
      *(undefined8 ****)(lVar8 + 0x60) = &local_2d58;
      *(long *)(lVar8 + 0x68) = lVar17;
      *(undefined8 *****)(lVar8 + 0x70) = ppppuVar6;
      if (lVar4 != 0) {
        LOCK();
        *(int *)(lVar4 + 4) = *(int *)(lVar4 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar2 == 0) {
        *piVar2 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar22 + 0x40080) = *(long *)(lVar22 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar22 + 0x40080) - 1U <= *(ulong *)(lVar22 + 0x40040)) {
        LOCK();
        *(long *)(lVar22 + 0x40040) = *(long *)(lVar22 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0010a288;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>) */

sse2 * __thiscall
embree::sse2::createPrimRefArrayMSMBlur
          (undefined8 param_1_00,sse2 *this,undefined8 param_1,undefined8 param_4,undefined8 param_5
          ,undefined8 param_6,undefined8 *param_7)

{
  long *plVar1;
  int *piVar2;
  undefined1 *puVar3;
  undefined1 *puVar4;
  undefined8 *puVar5;
  code *pcVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  ulong uVar11;
  ulong uVar12;
  long lVar13;
  long lVar14;
  undefined1 (*pauVar15) [16];
  undefined8 uVar16;
  ulong uVar17;
  ulong uVar18;
  long *plVar19;
  ulong uVar20;
  long lVar21;
  undefined1 *puVar22;
  ulong uVar23;
  long lVar24;
  ulong uVar25;
  ulong uVar26;
  ulong uVar27;
  undefined1 (*pauVar28) [16];
  ulong uVar29;
  long lVar30;
  ulong uVar31;
  long in_FS_OFFSET;
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  float fVar38;
  float fVar39;
  float fVar40;
  undefined4 uVar41;
  undefined4 uVar42;
  undefined1 local_4030 [16384];
  
  puVar3 = &stack0xffffffffffffffd0;
  do {
    puVar22 = puVar3;
    *(undefined8 *)(puVar22 + -0x1000) = *(undefined8 *)(puVar22 + -0x1000);
    puVar3 = puVar22 + -0x1000;
  } while (puVar22 + -0x1000 != local_4030);
  *(undefined8 *)(puVar22 + -0x1f28) = param_5;
  *(undefined8 *)(puVar22 + -0x1f30) = param_6;
  *(undefined8 **)(puVar22 + -0x1f20) = param_7;
  *(undefined8 *)(puVar22 + -0x1f10) = param_1_00;
  *(undefined8 *)(puVar22 + 0x2ff0) = *(undefined8 *)(in_FS_OFFSET + 0x28);
  puVar5 = (undefined8 *)*param_7;
  *(undefined8 *)(puVar22 + -0x1e88) = param_1;
  *(undefined8 *)(puVar22 + -0x1828) = 0;
  *(undefined8 *)(puVar22 + -0x1e80) = param_4;
  puVar22[-0x1e78] = 1;
  pcVar6 = (code *)*puVar5;
  if (pcVar6 == Scene::BuildProgressMonitorInterface::operator()) {
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10a730;
    embree::Scene::progressMonitor(0.0);
  }
  else {
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10b31b;
    (*pcVar6)(param_7,0);
  }
  lVar30 = *(long *)(*(long *)(puVar22 + -0x1e88) + 0x1d0);
  if (lVar30 == 0) {
    *(undefined8 *)(puVar22 + -0x1820) = 0;
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10b34d;
    embree::TaskScheduler::threadCount();
    *(undefined8 *)(puVar22 + -0x1828) = 1;
    *(undefined8 *)(puVar22 + -0x1c28) = 0;
    *(undefined8 *)(puVar22 + -0x1a28) = 0;
LAB_0010b371:
    uVar11 = 1;
  }
  else {
    plVar19 = *(long **)(*(long *)(puVar22 + -0x1e88) + 0x1e0);
    uVar29 = 0;
    plVar1 = plVar19 + lVar30;
    do {
      lVar30 = *plVar19;
      if ((((lVar30 != 0) && ((*(byte *)(lVar30 + 0x3e) & 0x20) != 0)) &&
          (((long)(1 << (*(byte *)(lVar30 + 0x3c) & 0x1f)) & *(ulong *)(puVar22 + -0x1e80)) != 0))
         && ((*(int *)(lVar30 + 0x24) != 1) == (bool)puVar22[-0x1e78])) {
        uVar29 = uVar29 + *(uint *)(lVar30 + 0x20);
      }
      plVar19 = plVar19 + 1;
    } while (plVar1 != plVar19);
    *(ulong *)(puVar22 + -0x1820) = uVar29;
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10a7bb;
    uVar11 = embree::TaskScheduler::threadCount();
    *(undefined8 *)(puVar22 + -0x1c28) = 0;
    *(undefined8 *)(puVar22 + -0x1a28) = 0;
    uVar17 = uVar29 + 0x3ff >> 10;
    if (uVar11 < uVar17) {
      uVar17 = uVar11;
    }
    uVar11 = 0x40;
    if (uVar17 < 0x41) {
      uVar11 = uVar17;
    }
    if (uVar11 == 0) {
      uVar11 = 1;
    }
    uVar12 = uVar29 / uVar11;
    *(ulong *)(puVar22 + -0x1828) = uVar11;
    if (uVar17 < 2) goto LAB_0010b371;
    *(sse2 **)(puVar22 + -0x1f18) = this;
    uVar26 = 1;
    lVar30 = 0;
    *(undefined8 *)(puVar22 + -0x1f48) = *(undefined8 *)(puVar22 + -0x1e88);
    *(undefined8 *)(puVar22 + -8000) = *(undefined8 *)(puVar22 + -0x1e80);
    puVar22[-0x1f31] = puVar22[-0x1e78];
    uVar17 = 0;
    do {
      lVar21 = *(long *)(*(long *)(*(long *)(puVar22 + -0x1f48) + 0x1e0) + lVar30 * 8);
      uVar20 = uVar17;
      if (((((lVar21 != 0) && ((*(byte *)(lVar21 + 0x3e) & 0x20) != 0)) &&
           (((*(ulong *)(puVar22 + -8000) & (long)(1 << (*(byte *)(lVar21 + 0x3c) & 0x1f))) != 0 &&
            (((*(int *)(lVar21 + 0x24) != 1) == (bool)puVar22[-0x1f31] &&
             (uVar31 = (ulong)*(uint *)(lVar21 + 0x20), uVar31 != 0)))))) &&
          (uVar20 = uVar31 + uVar17, uVar26 < uVar11)) && (uVar12 <= uVar20)) {
        uVar18 = 0;
        uVar23 = (uVar26 + 1) * uVar29;
        uVar20 = uVar26 + 1;
        uVar27 = uVar26;
        while( true ) {
          uVar26 = uVar20;
          uVar25 = uVar12;
          lVar21 = uVar25 + uVar18;
          *(long *)(puVar22 + uVar27 * 8 + -0x1c28) = lVar30;
          uVar12 = uVar23 / uVar11;
          uVar18 = lVar21 - uVar17;
          *(ulong *)(puVar22 + uVar27 * 8 + -0x1a28) = uVar18;
          if (uVar31 <= uVar18) break;
          uVar23 = uVar23 + uVar29;
          uVar20 = (uVar25 + uVar31 + uVar17) - lVar21;
          if ((uVar20 < uVar12) || (uVar11 <= uVar26)) goto LAB_0010a934;
          uVar20 = uVar26 + 1;
          uVar27 = uVar26;
          uVar17 = uVar25;
        }
        uVar20 = (uVar17 + uVar25 + uVar31) - lVar21;
      }
LAB_0010a934:
      lVar30 = lVar30 + 1;
      uVar17 = uVar20;
    } while (uVar26 < uVar11);
    this = *(sse2 **)(puVar22 + -0x1f18);
  }
  puVar4 = puVar22 + -0x1e88;
  puVar3 = puVar22 + -0x1ef0;
  *(undefined1 **)(puVar22 + -0x1ec0) = puVar22 + -0x1f10;
  *(undefined8 *)(puVar22 + -0x1ec8) = *(undefined8 *)(puVar22 + -0x1f30);
  *(undefined8 *)(puVar22 + -0x1d58) = 0x3f80000000000000;
  *(undefined1 **)(puVar22 + -0x1ea8) = puVar22 + -0x1ec8;
  *(undefined1 **)(puVar22 + -0x1e00) = puVar22 + -0x1ef8;
  *(undefined1 **)(puVar22 + -0x1f48) = puVar22 + -0x1dd8;
  *(undefined1 **)(puVar22 + -0x1df8) = puVar22 + -0x1dd8;
  *(undefined1 **)(puVar22 + -0x1df0) = puVar22 + -0x1ee8;
  *(undefined1 **)(puVar22 + -0x1de8) = puVar22 + -0x1efa;
  *(undefined1 **)(puVar22 + -0x1de0) = puVar22 + -0x1ea8;
  *(undefined4 *)(puVar22 + -0x1dd8) = _LC30;
  *(undefined4 *)(puVar22 + -0x1dd4) = _LC30;
  *(undefined4 *)(puVar22 + -0x1dd0) = _LC30;
  *(undefined4 *)(puVar22 + -0x1dcc) = _LC30;
  *(undefined4 *)(puVar22 + -0x1dc8) = _LC28;
  *(undefined4 *)(puVar22 + -0x1dc4) = _LC28;
  *(undefined4 *)(puVar22 + -0x1dc0) = _LC28;
  *(undefined4 *)(puVar22 + -0x1dbc) = _LC28;
  *(undefined4 *)(puVar22 + -0x1db8) = _LC30;
  *(undefined4 *)(puVar22 + -0x1db4) = _LC30;
  *(undefined4 *)(puVar22 + -0x1db0) = _LC30;
  *(undefined4 *)(puVar22 + -0x1dac) = _LC30;
  *(undefined4 *)(puVar22 + -0x1da8) = _LC28;
  *(undefined4 *)(puVar22 + -0x1da4) = _LC28;
  *(undefined4 *)(puVar22 + -0x1da0) = _LC28;
  *(undefined4 *)(puVar22 + -0x1d9c) = _LC28;
  *(undefined4 *)(puVar22 + -0x1d98) = _LC30;
  *(undefined4 *)(puVar22 + -0x1d94) = _LC30;
  *(undefined4 *)(puVar22 + -0x1d90) = _LC30;
  *(undefined4 *)(puVar22 + -0x1d8c) = _LC30;
  *(undefined4 *)(puVar22 + -0x1d88) = _LC28;
  *(undefined4 *)(puVar22 + -0x1d84) = _LC28;
  *(undefined4 *)(puVar22 + -0x1d80) = _LC28;
  *(undefined4 *)(puVar22 + -0x1d7c) = _LC28;
  *(undefined8 *)(puVar22 + -0x1d78) = 0;
  *(undefined8 *)(puVar22 + -0x1d70) = 0;
  *(undefined8 *)(puVar22 + -0x1d68) = 0;
  *(undefined8 *)(puVar22 + -0x1d60) = 0;
  *(undefined8 *)(puVar22 + -0x1d50) = 0x3f800000;
  *(undefined1 **)(puVar22 + -0x1ea0) = puVar4;
  *(undefined1 **)(puVar22 + -0x1ee8) = puVar4;
  *(ulong *)(puVar22 + -0x1ef8) = uVar11;
  *(undefined1 **)(puVar22 + -0x1e08) = puVar22 + -0x1c28;
  *(undefined8 *)(puVar22 + -0x1ef0) = 0;
  *(ulong *)(puVar22 + -0x1e68) = uVar11;
  *(undefined8 *)(puVar22 + -0x1e60) = 0;
  *(undefined8 *)(puVar22 + -0x1e58) = 1;
  *(undefined1 **)(puVar22 + -0x1e50) = puVar22 + -0x1e08;
  *(undefined1 **)(puVar22 + -0x1e48) = puVar3;
  *(undefined8 *)(puVar22 + -0x1f50) = 0x10aac8;
  lVar30 = embree::TaskScheduler::thread();
  if (lVar30 == 0) {
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10b38d;
    uVar16 = embree::TaskScheduler::instance();
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10b3a3;
    _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum0_IZNS_28parallel_for_for_prefix_sum0INS_5Scene9Iterator2EmNS_11PrimInfoMBTINS_5LBBoxINS_6Vec3faEEEEEZNS_4sse225createPrimRefArrayMSMBlurEPS6_NS_8Geometry9GTypeMaskEmRNS_8vector_tINS_9PrimRefMBENS_27aligned_monitored_allocatorISI_Lm16EEEEERNS_20BuildProgressMonitorENS_4BBoxIfEEEUlPSF_RKNS_5rangeImEEmmE_ZNSD_25createPrimRefArrayMSMBlurESE_SG_mSM_SO_SQ_EUlRKSC_SY_E_EET1_RNS_28ParallelForForPrefixSumStateIS10_EERT_T0_RKS10_RKT2_RKT3_EUlmE_mSC_ZNS5_IS7_mSC_SW_SZ_EES10_S13_S15_S16_S18_S1B_S1E_EUlmSV_mE_SZ_EES10_S13_S16_RKS14_S18_S1B_S1E_EUlmE_EEvS14_RKS16_EUlSV_E_EEvS14_S14_S14_S1L_PNS0_16TaskGroupContextEEUlvE_EEvS1I_S1O_mb_constprop_0
              (uVar16,puVar22 + -0x1e68,puVar3,uVar11);
  }
  else {
    if (0xfff < *(ulong *)(lVar30 + 0x40080)) goto embree_sse2_createPrimRefArrayMSMBlur;
    lVar21 = *(long *)(lVar30 + 0xc00c0);
    uVar29 = lVar21 + 0x30 + (ulong)(-(int)lVar21 & 0x3f);
    if (0x80000 < uVar29) goto embree_sse2_createPrimRefArrayMSMBlur;
    *(ulong *)(lVar30 + 0xc00c0) = uVar29;
    puVar5 = (undefined8 *)(lVar30 + 0x40090 + uVar29);
    uVar7 = *(undefined8 *)(puVar22 + -0x1e68);
    uVar8 = *(undefined8 *)(puVar22 + -0x1e60);
    uVar9 = *(undefined8 *)(puVar22 + -0x1e58);
    uVar10 = *(undefined8 *)(puVar22 + -0x1e50);
    *puVar5 = 0x112ac8;
    uVar16 = *(undefined8 *)(puVar22 + -0x1e48);
    puVar5[1] = uVar7;
    puVar5[2] = uVar8;
    puVar5[5] = uVar16;
    puVar5[3] = uVar9;
    puVar5[4] = uVar10;
    lVar13 = *(long *)(lVar30 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar30 + 0x40 + lVar13);
    lVar24 = *(long *)(lVar30 + 0xc0100);
    *(undefined4 *)(lVar30 + 0x44 + lVar13) = 1;
    *(undefined1 *)(lVar30 + 0x48 + lVar13) = 1;
    lVar13 = lVar13 + lVar30;
    *(undefined8 **)(lVar13 + 0x50) = puVar5;
    *(long *)(lVar13 + 0x58) = lVar24;
    *(undefined1 **)(lVar13 + 0x60) = puVar3;
    *(long *)(lVar13 + 0x68) = lVar21;
    *(ulong *)(lVar13 + 0x70) = uVar11;
    if (lVar24 != 0) {
      LOCK();
      *(int *)(lVar24 + 4) = *(int *)(lVar24 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar30 + 0x40080) = *(long *)(lVar30 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar30 + 0x40080) - 1U <= *(ulong *)(lVar30 + 0x40040)) {
      LOCK();
      *(long *)(lVar30 + 0x40040) = *(long *)(lVar30 + 0x40080) + -1;
      UNLOCK();
    }
  }
  *(undefined8 *)(puVar22 + -0x1f50) = 0x10abcb;
  embree::TaskScheduler::wait();
  if (*(long *)(puVar22 + -0x1ef0) != 0) {
    *(long *)(puVar22 + -0x1cb8) = *(long *)(puVar22 + -0x1ef0);
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10b40f;
    std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
    *(undefined8 *)(puVar22 + -0x1f50) = 0x10b417;
    std::rethrow_exception(puVar22 + -0x1cb8);
  }
  auVar32 = *(undefined1 (*) [16])(puVar22 + -0x1dd8);
  auVar33 = *(undefined1 (*) [16])(puVar22 + -0x1dc8);
  auVar34 = *(undefined1 (*) [16])(puVar22 + -0x1db8);
  *(undefined8 *)(this + 0x80) = *(undefined8 *)(puVar22 + -0x1d58);
  auVar35 = *(undefined1 (*) [16])(puVar22 + -0x1da8);
  auVar36 = *(undefined1 (*) [16])(puVar22 + -0x1d98);
  auVar37 = *(undefined1 (*) [16])(puVar22 + -0x1d88);
  *(undefined1 (*) [16])this = auVar32;
  lVar30 = *(long *)(puVar22 + -0x1d78);
  lVar21 = *(long *)(puVar22 + -0x1d70);
  *(undefined1 (*) [16])(this + 0x10) = auVar33;
  lVar24 = *(long *)(puVar22 + -0x1d68);
  lVar13 = *(long *)(puVar22 + -0x1ef8);
  *(undefined1 (*) [16])(this + 0x20) = auVar34;
  uVar29 = *(ulong *)(puVar22 + -0x1d60);
  uVar16 = *(undefined8 *)(puVar22 + -0x1d50);
  *(long *)(this + 0x60) = lVar30;
  *(long *)(this + 0x68) = lVar21;
  *(long *)(this + 0x70) = lVar24;
  *(ulong *)(this + 0x78) = uVar29;
  *(undefined8 *)(this + 0x88) = uVar16;
  *(undefined1 (*) [16])(this + 0x30) = auVar35;
  *(undefined1 (*) [16])(this + 0x40) = auVar36;
  *(undefined1 (*) [16])(this + 0x50) = auVar37;
  if (lVar13 != 0) {
    pauVar15 = (undefined1 (*) [16])(puVar22 + -0x1818);
    uVar41 = *(undefined4 *)(this + 0x80);
    uVar42 = *(undefined4 *)(this + 0x84);
    fVar38 = *(float *)(this + 0x88);
    pauVar28 = pauVar15 + lVar13 * 9;
    fVar39 = *(float *)(this + 0x8c);
    do {
      uVar17 = *(ulong *)(pauVar15[7] + 8);
      uVar16 = *(undefined8 *)pauVar15[8];
      *(long *)pauVar15[0x247] = lVar24;
      pauVar15[0x240] = auVar32;
      uVar7 = *(undefined8 *)(this + 0x60);
      uVar8 = *(undefined8 *)(this + 0x68);
      auVar32 = minps(auVar32,*pauVar15);
      pauVar15[0x241] = auVar33;
      lVar30 = lVar30 + *(long *)pauVar15[6];
      auVar33 = maxps(auVar33,pauVar15[1]);
      pauVar15[0x242] = auVar34;
      lVar21 = lVar21 + *(long *)(pauVar15[6] + 8);
      auVar34 = minps(auVar34,pauVar15[2]);
      *(undefined8 *)(puVar22 + -0x1c38) = uVar16;
      uVar16 = *(undefined8 *)(pauVar15[8] + 8);
      pauVar15[0x243] = auVar35;
      lVar24 = lVar24 + *(long *)pauVar15[7];
      auVar35 = maxps(auVar35,pauVar15[3]);
      *(undefined8 *)(puVar22 + -0x1c30) = uVar16;
      fVar40 = *(float *)(puVar22 + -0x1c2c);
      pauVar15[0x244] = auVar36;
      auVar36 = minps(auVar36,pauVar15[4]);
      if (fVar40 <= fVar39) {
        fVar40 = fVar39;
      }
      pauVar15[0x245] = auVar37;
      auVar37 = maxps(auVar37,pauVar15[5]);
      *(float *)(pauVar15[0x248] + 8) = fVar38;
      if (*(float *)(puVar22 + -0x1c30) <= fVar38) {
        fVar38 = *(float *)(puVar22 + -0x1c30);
      }
      *(float *)(pauVar15[0x248] + 0xc) = fVar39;
      *(ulong *)(pauVar15[0x247] + 8) = uVar29;
      *(undefined8 *)pauVar15[0x246] = uVar7;
      *(undefined8 *)(pauVar15[0x246] + 8) = uVar8;
      *(undefined4 *)pauVar15[0x248] = uVar41;
      *(undefined4 *)(pauVar15[0x248] + 4) = uVar42;
      if (uVar29 < uVar17) {
        uVar41 = *(undefined4 *)(puVar22 + -0x1c38);
        uVar42 = *(undefined4 *)(puVar22 + -0x1c34);
        uVar29 = uVar17;
      }
      pauVar15 = pauVar15 + 9;
      *(long *)(this + 0x60) = lVar30;
      *(long *)(this + 0x68) = lVar21;
      fVar39 = fVar40;
    } while (pauVar28 != pauVar15);
    *(ulong *)(this + 0x78) = uVar29;
    *(long *)(this + 0x70) = lVar24;
    *(float *)(this + 0x8c) = fVar40;
    *(float *)(this + 0x88) = fVar38;
    *(undefined4 *)(this + 0x84) = uVar42;
    *(undefined4 *)(this + 0x80) = uVar41;
    *(undefined1 (*) [16])(this + 0x50) = auVar37;
    *(undefined1 (*) [16])(this + 0x40) = auVar36;
    *(undefined1 (*) [16])(this + 0x30) = auVar35;
    *(undefined1 (*) [16])(this + 0x20) = auVar34;
    *(undefined1 (*) [16])(this + 0x10) = auVar33;
    *(undefined1 (*) [16])this = auVar32;
  }
  if (*(long *)(puVar22 + -0x1f28) != lVar21 - lVar30) {
    pcVar6 = *(code **)**(undefined8 **)(puVar22 + -0x1f20);
    if (pcVar6 == Scene::BuildProgressMonitorInterface::operator()) {
      *(undefined8 *)(puVar22 + -0x1f50) = 0x10ae3b;
      embree::Scene::progressMonitor(0.0);
    }
    else {
      *(undefined8 *)(puVar22 + -0x1f50) = 0x10b327;
      (*pcVar6)(*(undefined8 **)(puVar22 + -0x1f20));
    }
    lVar30 = *(long *)(puVar22 + -0x1828);
    *(undefined1 **)(puVar22 + -0x1eb0) = puVar22 + -0x1f10;
    *(undefined8 *)(puVar22 + -0x1ce8) = 0;
    *(undefined8 *)(puVar22 + -0x1eb8) = *(undefined8 *)(puVar22 + -0x1f30);
    *(undefined8 *)(puVar22 + -0x1cc8) = 0x3f80000000000000;
    *(undefined1 **)(puVar22 + -0x1e98) = puVar22 + -0x1eb8;
    *(undefined1 **)(puVar22 + -0x1cb0) = puVar22 + -0x1ee0;
    *(undefined1 **)(puVar22 + -0x1ca8) = puVar22 + -0x1d48;
    *(undefined1 **)(puVar22 + -0x1ca0) = puVar22 + -0x1ed0;
    *(undefined1 **)(puVar22 + -0x1c98) = puVar22 + -0x1ef9;
    *(undefined8 *)(puVar22 + -0x1ce0) = 0;
    *(undefined8 *)(puVar22 + -0x1cd8) = 0;
    *(undefined8 *)(puVar22 + -0x1cd0) = 0;
    *(undefined8 *)(puVar22 + -0x1cc0) = 0x3f800000;
    *(undefined1 **)(puVar22 + -0x1e90) = puVar4;
    *(undefined1 **)(puVar22 + -0x1ed0) = puVar4;
    *(long *)(puVar22 + -0x1ee0) = lVar30;
    *(undefined1 **)(puVar22 + -0x1cb8) = puVar22 + -0x1c28;
    *(undefined1 **)(puVar22 + -0x1c90) = puVar22 + -0x1e98;
    *(undefined4 *)(puVar22 + -0x1d48) = _LC30;
    *(undefined4 *)(puVar22 + -0x1d44) = _UNK_00112b94;
    *(undefined4 *)(puVar22 + -0x1d40) = _UNK_00112b98;
    *(undefined4 *)(puVar22 + -0x1d3c) = _UNK_00112b9c;
    *(undefined4 *)(puVar22 + -0x1d38) = _LC28;
    *(undefined4 *)(puVar22 + -0x1d34) = _UNK_00112b84;
    *(undefined4 *)(puVar22 + -0x1d30) = _UNK_00112b88;
    *(undefined4 *)(puVar22 + -0x1d2c) = _UNK_00112b8c;
    *(undefined4 *)(puVar22 + -0x1d28) = _LC30;
    *(undefined4 *)(puVar22 + -0x1d24) = _UNK_00112b94;
    *(undefined4 *)(puVar22 + -0x1d20) = _UNK_00112b98;
    *(undefined4 *)(puVar22 + -0x1d1c) = _UNK_00112b9c;
    *(undefined4 *)(puVar22 + -0x1d18) = _LC28;
    *(undefined4 *)(puVar22 + -0x1d14) = _UNK_00112b84;
    *(undefined4 *)(puVar22 + -0x1d10) = _UNK_00112b88;
    *(undefined4 *)(puVar22 + -0x1d0c) = _UNK_00112b8c;
    *(undefined4 *)(puVar22 + -0x1d08) = _LC30;
    *(undefined4 *)(puVar22 + -0x1d04) = _UNK_00112b94;
    *(undefined4 *)(puVar22 + -0x1d00) = _UNK_00112b98;
    *(undefined4 *)(puVar22 + -0x1cfc) = _UNK_00112b9c;
    *(undefined4 *)(puVar22 + -0x1cf8) = _LC28;
    *(undefined4 *)(puVar22 + -0x1cf4) = _UNK_00112b84;
    *(undefined4 *)(puVar22 + -0x1cf0) = _UNK_00112b88;
    *(undefined4 *)(puVar22 + -0x1cec) = _UNK_00112b8c;
    if (lVar30 == 0) {
      uVar29 = 0;
      lVar24 = 0;
      lVar21 = 0;
      uVar41 = 0;
      auVar37._4_4_ = _UNK_00112b84;
      auVar37._0_4_ = _LC28;
      auVar37._8_4_ = _UNK_00112b88;
      auVar37._12_4_ = _UNK_00112b8c;
      auVar36._4_4_ = _UNK_00112b94;
      auVar36._0_4_ = _LC30;
      auVar36._8_4_ = _UNK_00112b98;
      auVar36._12_4_ = _UNK_00112b9c;
      auVar35._4_4_ = _UNK_00112b84;
      auVar35._0_4_ = _LC28;
      auVar35._8_4_ = _UNK_00112b88;
      auVar35._12_4_ = _UNK_00112b8c;
      auVar34._4_4_ = _UNK_00112b94;
      auVar34._0_4_ = _LC30;
      auVar34._8_4_ = _UNK_00112b98;
      auVar34._12_4_ = _UNK_00112b9c;
      auVar33._4_4_ = _UNK_00112b84;
      auVar33._0_4_ = _LC28;
      auVar33._8_4_ = _UNK_00112b88;
      auVar33._12_4_ = _UNK_00112b8c;
      auVar32._4_4_ = _UNK_00112b94;
      auVar32._0_4_ = _LC30;
      auVar32._8_4_ = _UNK_00112b98;
      auVar32._12_4_ = _UNK_00112b9c;
      lVar30 = 0;
      uVar42 = _LC36;
    }
    else {
      puVar3 = puVar22 + -0x1ed8;
      *(undefined8 *)(puVar22 + -0x1ed8) = 0;
      *(long *)(puVar22 + -0x1e38) = lVar30;
      *(undefined8 *)(puVar22 + -0x1e30) = 0;
      *(undefined8 *)(puVar22 + -0x1e28) = 1;
      *(undefined1 **)(puVar22 + -0x1e20) = puVar22 + -0x1cb8;
      *(undefined1 **)(puVar22 + -0x1e18) = puVar3;
      *(undefined8 *)(puVar22 + -0x1f50) = 0x10b05c;
      lVar21 = embree::TaskScheduler::thread();
      if (lVar21 == 0) {
        *(undefined8 *)(puVar22 + -0x1f50) = 0x10b3c0;
        uVar16 = embree::TaskScheduler::instance();
        *(undefined8 *)(puVar22 + -0x1f50) = 0x10b3d6;
        _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum1_IZNS_28parallel_for_for_prefix_sum1INS_5Scene9Iterator2EmNS_11PrimInfoMBTINS_5LBBoxINS_6Vec3faEEEEEZNS_4sse225createPrimRefArrayMSMBlurEPS6_NS_8Geometry9GTypeMaskEmRNS_8vector_tINS_9PrimRefMBENS_27aligned_monitored_allocatorISI_Lm16EEEEERNS_20BuildProgressMonitorENS_4BBoxIfEEEUlPSF_RKNS_5rangeImEEmmRKSC_E_ZNSD_25createPrimRefArrayMSMBlurESE_SG_mSM_SO_SQ_EUlSX_SX_E0_EET1_RNS_28ParallelForForPrefixSumStateIS10_EERT_T0_RKS10_RKT2_RKT3_EUlmE_mSC_ZNS5_IS7_mSC_SY_SZ_EES10_S13_S15_S16_S18_S1B_S1E_EUlmSV_mSX_E_SZ_EES10_S13_S16_RKS14_S18_S1B_S1E_EUlmE_EEvS14_RKS16_EUlSV_E_EEvS14_S14_S14_S1L_PNS0_16TaskGroupContextEEUlvE_EEvS1I_S1O_mb_constprop_0
                  (uVar16,puVar22 + -0x1e38,puVar3,lVar30);
      }
      else {
        if (0xfff < *(ulong *)(lVar21 + 0x40080)) {
embree_sse2_createPrimRefArrayMSMBlur:
                    /* WARNING: Subroutine does not return */
          *(code **)(puVar22 + -0x1f50) = createPrimRefArrayMSMBlur;
          abort();
        }
        lVar24 = *(long *)(lVar21 + 0xc00c0);
        uVar29 = lVar24 + 0x30 + (ulong)(-(int)lVar24 & 0x3f);
        if (0x80000 < uVar29) goto embree_sse2_createPrimRefArrayMSMBlur;
        *(ulong *)(lVar21 + 0xc00c0) = uVar29;
        puVar5 = (undefined8 *)(lVar21 + 0x40090 + uVar29);
        uVar7 = *(undefined8 *)(puVar22 + -0x1e38);
        uVar8 = *(undefined8 *)(puVar22 + -0x1e30);
        uVar9 = *(undefined8 *)(puVar22 + -0x1e28);
        uVar10 = *(undefined8 *)(puVar22 + -0x1e20);
        *puVar5 = 0x112ae0;
        uVar16 = *(undefined8 *)(puVar22 + -0x1e18);
        puVar5[1] = uVar7;
        puVar5[2] = uVar8;
        puVar5[5] = uVar16;
        puVar5[3] = uVar9;
        puVar5[4] = uVar10;
        lVar14 = *(long *)(lVar21 + 0x40080) * 0x40;
        piVar2 = (int *)(lVar21 + 0x40 + lVar14);
        lVar13 = *(long *)(lVar21 + 0xc0100);
        *(undefined4 *)(lVar21 + 0x44 + lVar14) = 1;
        *(undefined1 *)(lVar21 + 0x48 + lVar14) = 1;
        lVar14 = lVar14 + lVar21;
        *(undefined8 **)(lVar14 + 0x50) = puVar5;
        *(long *)(lVar14 + 0x58) = lVar13;
        *(undefined1 **)(lVar14 + 0x60) = puVar3;
        *(long *)(lVar14 + 0x68) = lVar24;
        *(long *)(lVar14 + 0x70) = lVar30;
        if (lVar13 != 0) {
          LOCK();
          *(int *)(lVar13 + 4) = *(int *)(lVar13 + 4) + 1;
          UNLOCK();
        }
        LOCK();
        if (*piVar2 == 0) {
          *piVar2 = 1;
        }
        UNLOCK();
        LOCK();
        *(long *)(lVar21 + 0x40080) = *(long *)(lVar21 + 0x40080) + 1;
        UNLOCK();
        if (*(long *)(lVar21 + 0x40080) - 1U <= *(ulong *)(lVar21 + 0x40040)) {
          LOCK();
          *(long *)(lVar21 + 0x40040) = *(long *)(lVar21 + 0x40080) + -1;
          UNLOCK();
        }
      }
      *(undefined8 *)(puVar22 + -0x1f50) = 0x10b15f;
      embree::TaskScheduler::wait();
      if (*(long *)(puVar22 + -0x1ed8) != 0) {
        uVar16 = *(undefined8 *)(puVar22 + -0x1f48);
        *(long *)(puVar22 + -0x1dd8) = *(long *)(puVar22 + -0x1ed8);
        *(undefined8 *)(puVar22 + -0x1f50) = 0x10b3ef;
        std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
        *(undefined8 *)(puVar22 + -0x1f50) = 0x10b3f7;
        std::rethrow_exception(uVar16);
      }
      auVar32 = *(undefined1 (*) [16])(puVar22 + -0x1d48);
      auVar33 = *(undefined1 (*) [16])(puVar22 + -0x1d38);
      auVar34 = *(undefined1 (*) [16])(puVar22 + -0x1d28);
      auVar35 = *(undefined1 (*) [16])(puVar22 + -0x1d18);
      auVar36 = *(undefined1 (*) [16])(puVar22 + -0x1d08);
      auVar37 = *(undefined1 (*) [16])(puVar22 + -0x1cf8);
      lVar30 = *(long *)(puVar22 + -0x1ce8);
      lVar21 = *(long *)(puVar22 + -0x1ce0);
      lVar24 = *(long *)(puVar22 + -0x1cd8);
      uVar29 = *(ulong *)(puVar22 + -0x1cd0);
      uVar41 = *(undefined4 *)(puVar22 + -0x1cc8);
      uVar42 = *(undefined4 *)(puVar22 + -0x1cc4);
      fVar38 = *(float *)(puVar22 + -0x1cc0);
      if (*(long *)(puVar22 + -0x1ee0) != 0) {
        pauVar15 = (undefined1 (*) [16])(puVar22 + -0x1818);
        pauVar28 = pauVar15 + *(long *)(puVar22 + -0x1ee0) * 9;
        fVar39 = *(float *)(puVar22 + -0x1cbc);
        do {
          uVar16 = *(undefined8 *)pauVar15[8];
          uVar17 = *(ulong *)(pauVar15[7] + 8);
          *(long *)pauVar15[0x246] = lVar30;
          *(long *)(pauVar15[0x246] + 8) = lVar21;
          lVar30 = lVar30 + *(long *)pauVar15[6];
          *(undefined8 *)(puVar22 + -0x1c38) = uVar16;
          uVar16 = *(undefined8 *)(pauVar15[8] + 8);
          *(long *)pauVar15[0x247] = lVar24;
          lVar21 = lVar21 + *(long *)(pauVar15[6] + 8);
          *(undefined8 *)(puVar22 + -0x1c30) = uVar16;
          lVar24 = lVar24 + *(long *)pauVar15[7];
          fVar40 = *(float *)(puVar22 + -0x1c2c);
          pauVar15[0x240] = auVar32;
          auVar32 = minps(auVar32,*pauVar15);
          pauVar15[0x241] = auVar33;
          auVar33 = maxps(auVar33,pauVar15[1]);
          if (fVar40 <= fVar39) {
            fVar40 = fVar39;
          }
          pauVar15[0x242] = auVar34;
          auVar34 = minps(auVar34,pauVar15[2]);
          pauVar15[0x243] = auVar35;
          auVar35 = maxps(auVar35,pauVar15[3]);
          pauVar15[0x244] = auVar36;
          auVar36 = minps(auVar36,pauVar15[4]);
          pauVar15[0x245] = auVar37;
          auVar37 = maxps(auVar37,pauVar15[5]);
          *(float *)(pauVar15[0x248] + 8) = fVar38;
          if (*(float *)(puVar22 + -0x1c30) <= fVar38) {
            fVar38 = *(float *)(puVar22 + -0x1c30);
          }
          *(float *)(pauVar15[0x248] + 0xc) = fVar39;
          *(ulong *)(pauVar15[0x247] + 8) = uVar29;
          *(undefined4 *)pauVar15[0x248] = uVar41;
          *(undefined4 *)(pauVar15[0x248] + 4) = uVar42;
          if (uVar29 < uVar17) {
            uVar41 = *(undefined4 *)(puVar22 + -0x1c38);
            uVar42 = *(undefined4 *)(puVar22 + -0x1c34);
            uVar29 = uVar17;
          }
          pauVar15 = pauVar15 + 9;
          fVar39 = fVar40;
        } while (pauVar28 != pauVar15);
      }
    }
    *(long *)(this + 0x60) = lVar30;
    *(long *)(this + 0x68) = lVar21;
    *(long *)(this + 0x70) = lVar24;
    *(ulong *)(this + 0x78) = uVar29;
    *(undefined1 (*) [16])this = auVar32;
    *(undefined1 (*) [16])(this + 0x10) = auVar33;
    *(undefined1 (*) [16])(this + 0x20) = auVar34;
    *(undefined1 (*) [16])(this + 0x30) = auVar35;
    *(undefined1 (*) [16])(this + 0x40) = auVar36;
    *(undefined1 (*) [16])(this + 0x50) = auVar37;
    *(undefined4 *)(this + 0x80) = uVar41;
    *(undefined4 *)(this + 0x84) = uVar42;
  }
  *(undefined8 *)(this + 0x88) = *(undefined8 *)(puVar22 + -0x1f10);
  if (*(long *)(puVar22 + 0x2ff0) != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    *(undefined **)(puVar22 + -0x1f50) = &UNK_0010b41c;
    __stack_chk_fail();
  }
  return this;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>) */

undefined1 (*) [16]
embree::sse2::createPrimRefArrayMSMBlur
          (undefined8 param_1_00,undefined1 (*param_1) [16],undefined8 param_3,undefined8 param_4,
          undefined8 param_5,undefined8 param_6,undefined8 param_7)

{
  long *plVar1;
  int *piVar2;
  undefined1 *puVar3;
  undefined1 *puVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  code *pcVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  ulong uVar12;
  ulong uVar13;
  long lVar14;
  long lVar15;
  undefined1 (*pauVar16) [16];
  undefined8 uVar17;
  ulong uVar18;
  ulong uVar19;
  long *plVar20;
  ulong uVar21;
  long lVar22;
  undefined1 *puVar23;
  ulong uVar24;
  long lVar25;
  ulong uVar26;
  ulong uVar27;
  ulong uVar28;
  undefined1 (*pauVar29) [16];
  ulong uVar30;
  long lVar31;
  ulong uVar32;
  long in_FS_OFFSET;
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  float fVar39;
  float fVar40;
  float fVar41;
  undefined4 uVar42;
  undefined4 uVar43;
  undefined1 local_4030 [16384];
  
  puVar3 = &stack0xffffffffffffffd0;
  do {
    puVar23 = puVar3;
    *(undefined8 *)(puVar23 + -0x1000) = *(undefined8 *)(puVar23 + -0x1000);
    puVar3 = puVar23 + -0x1000;
  } while (puVar23 + -0x1000 != local_4030);
  puVar5 = *(undefined8 **)(puVar23 + 0x3038);
  *(undefined8 *)(puVar23 + -0x1f48) = param_5;
  *(undefined8 *)(puVar23 + -0x1f58) = param_6;
  *(undefined8 *)(puVar23 + -0x1f50) = param_7;
  *(undefined8 **)(puVar23 + -8000) = puVar5;
  *(undefined8 *)(puVar23 + -0x1f30) = param_1_00;
  *(undefined8 *)(puVar23 + 0x2ff0) = *(undefined8 *)(in_FS_OFFSET + 0x28);
  puVar6 = (undefined8 *)*puVar5;
  *(undefined8 *)(puVar23 + -0x1ec8) = param_3;
  *(undefined8 *)(puVar23 + -0x1828) = 0;
  *(undefined8 *)(puVar23 + -0x1ec0) = param_4;
  puVar23[-0x1eb8] = 1;
  pcVar7 = (code *)*puVar6;
  if (pcVar7 == Scene::BuildProgressMonitorInterface::operator()) {
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10b4cd;
    embree::Scene::progressMonitor(0.0);
  }
  else {
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10c0e3;
    (*pcVar7)(puVar5,0);
  }
  lVar31 = *(long *)(*(long *)(puVar23 + -0x1ec8) + 0x1d0);
  if (lVar31 == 0) {
    *(undefined8 *)(puVar23 + -0x1820) = 0;
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10c115;
    embree::TaskScheduler::threadCount();
    *(undefined8 *)(puVar23 + -0x1828) = 1;
    *(undefined8 *)(puVar23 + -0x1c28) = 0;
    *(undefined8 *)(puVar23 + -0x1a28) = 0;
LAB_0010c139:
    uVar12 = 1;
  }
  else {
    plVar20 = *(long **)(*(long *)(puVar23 + -0x1ec8) + 0x1e0);
    uVar30 = 0;
    plVar1 = plVar20 + lVar31;
    do {
      lVar31 = *plVar20;
      if ((((lVar31 != 0) && ((*(byte *)(lVar31 + 0x3e) & 0x20) != 0)) &&
          (((long)(1 << (*(byte *)(lVar31 + 0x3c) & 0x1f)) & *(ulong *)(puVar23 + -0x1ec0)) != 0))
         && ((*(int *)(lVar31 + 0x24) != 1) == (bool)puVar23[-0x1eb8])) {
        uVar30 = uVar30 + *(uint *)(lVar31 + 0x20);
      }
      plVar20 = plVar20 + 1;
    } while (plVar1 != plVar20);
    *(ulong *)(puVar23 + -0x1820) = uVar30;
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10b55b;
    uVar12 = embree::TaskScheduler::threadCount();
    *(undefined8 *)(puVar23 + -0x1c28) = 0;
    *(undefined8 *)(puVar23 + -0x1a28) = 0;
    uVar18 = uVar30 + 0x3ff >> 10;
    if (uVar12 < uVar18) {
      uVar18 = uVar12;
    }
    uVar12 = 0x40;
    if (uVar18 < 0x41) {
      uVar12 = uVar18;
    }
    if (uVar12 == 0) {
      uVar12 = 1;
    }
    uVar13 = uVar30 / uVar12;
    *(ulong *)(puVar23 + -0x1828) = uVar12;
    if (uVar18 < 2) goto LAB_0010c139;
    *(undefined1 (**) [16])(puVar23 + -0x1f38) = param_1;
    uVar27 = 1;
    lVar31 = 0;
    *(undefined8 *)(puVar23 + -0x1f70) = *(undefined8 *)(puVar23 + -0x1ec8);
    *(undefined8 *)(puVar23 + -0x1f68) = *(undefined8 *)(puVar23 + -0x1ec0);
    puVar23[-0x1f59] = puVar23[-0x1eb8];
    uVar18 = 0;
    do {
      lVar22 = *(long *)(*(long *)(*(long *)(puVar23 + -0x1f70) + 0x1e0) + lVar31 * 8);
      uVar21 = uVar18;
      if (((((lVar22 != 0) && ((*(byte *)(lVar22 + 0x3e) & 0x20) != 0)) &&
           (((*(ulong *)(puVar23 + -0x1f68) & (long)(1 << (*(byte *)(lVar22 + 0x3c) & 0x1f))) != 0
            && (((*(int *)(lVar22 + 0x24) != 1) == (bool)puVar23[-0x1f59] &&
                (uVar32 = (ulong)*(uint *)(lVar22 + 0x20), uVar32 != 0)))))) &&
          (uVar21 = uVar32 + uVar18, uVar27 < uVar12)) && (uVar13 <= uVar21)) {
        uVar19 = 0;
        uVar24 = (uVar27 + 1) * uVar30;
        uVar21 = uVar27 + 1;
        uVar28 = uVar27;
        while( true ) {
          uVar27 = uVar21;
          uVar26 = uVar13;
          lVar22 = uVar26 + uVar19;
          *(long *)(puVar23 + uVar28 * 8 + -0x1c28) = lVar31;
          uVar13 = uVar24 / uVar12;
          uVar19 = lVar22 - uVar18;
          *(ulong *)(puVar23 + uVar28 * 8 + -0x1a28) = uVar19;
          if (uVar32 <= uVar19) break;
          uVar24 = uVar24 + uVar30;
          uVar21 = (uVar26 + uVar32 + uVar18) - lVar22;
          if ((uVar21 < uVar13) || (uVar12 <= uVar27)) goto LAB_0010b6d4;
          uVar21 = uVar27 + 1;
          uVar28 = uVar27;
          uVar18 = uVar26;
        }
        uVar21 = (uVar18 + uVar26 + uVar32) - lVar22;
      }
LAB_0010b6d4:
      lVar31 = lVar31 + 1;
      uVar18 = uVar21;
    } while (uVar27 < uVar12);
    param_1 = *(undefined1 (**) [16])(puVar23 + -0x1f38);
  }
  puVar4 = puVar23 + -0x1ec8;
  puVar3 = puVar23 + -0x1f10;
  *(undefined1 **)(puVar23 + -0x1e98) = puVar23 + -0x1f30;
  *(undefined8 *)(puVar23 + -0x1ea8) = *(undefined8 *)(puVar23 + -0x1f58);
  *(undefined4 *)(puVar23 + -0x1dd8) = _LC30;
  *(undefined4 *)(puVar23 + -0x1dd4) = _LC30;
  *(undefined4 *)(puVar23 + -0x1dd0) = _LC30;
  *(undefined4 *)(puVar23 + -0x1dcc) = _LC30;
  *(undefined8 *)(puVar23 + -0x1ea0) = *(undefined8 *)(puVar23 + -0x1f50);
  *(undefined8 *)(puVar23 + -0x1d58) = 0x3f80000000000000;
  *(undefined1 **)(puVar23 + -0x1ee8) = puVar23 + -0x1ea8;
  *(undefined1 **)(puVar23 + -0x1e00) = puVar23 + -0x1f18;
  *(undefined1 **)(puVar23 + -0x1f70) = puVar23 + -0x1dd8;
  *(undefined1 **)(puVar23 + -0x1df8) = puVar23 + -0x1dd8;
  *(undefined1 **)(puVar23 + -0x1df0) = puVar23 + -0x1f08;
  *(undefined1 **)(puVar23 + -0x1de8) = puVar23 + -0x1f1a;
  *(undefined1 **)(puVar23 + -0x1de0) = puVar23 + -0x1ee8;
  *(undefined4 *)(puVar23 + -0x1dc8) = _LC28;
  *(undefined4 *)(puVar23 + -0x1dc4) = _LC28;
  *(undefined4 *)(puVar23 + -0x1dc0) = _LC28;
  *(undefined4 *)(puVar23 + -0x1dbc) = _LC28;
  *(undefined4 *)(puVar23 + -0x1db8) = _LC30;
  *(undefined4 *)(puVar23 + -0x1db4) = _LC30;
  *(undefined4 *)(puVar23 + -0x1db0) = _LC30;
  *(undefined4 *)(puVar23 + -0x1dac) = _LC30;
  *(undefined4 *)(puVar23 + -0x1da8) = _LC28;
  *(undefined4 *)(puVar23 + -0x1da4) = _LC28;
  *(undefined4 *)(puVar23 + -0x1da0) = _LC28;
  *(undefined4 *)(puVar23 + -0x1d9c) = _LC28;
  *(undefined4 *)(puVar23 + -0x1d98) = _LC30;
  *(undefined4 *)(puVar23 + -0x1d94) = _LC30;
  *(undefined4 *)(puVar23 + -0x1d90) = _LC30;
  *(undefined4 *)(puVar23 + -0x1d8c) = _LC30;
  *(undefined4 *)(puVar23 + -0x1d88) = _LC28;
  *(undefined4 *)(puVar23 + -0x1d84) = _LC28;
  *(undefined4 *)(puVar23 + -0x1d80) = _LC28;
  *(undefined4 *)(puVar23 + -0x1d7c) = _LC28;
  *(undefined8 *)(puVar23 + -0x1d78) = 0;
  *(undefined8 *)(puVar23 + -0x1d70) = 0;
  *(undefined8 *)(puVar23 + -0x1d68) = 0;
  *(undefined8 *)(puVar23 + -0x1d60) = 0;
  *(undefined8 *)(puVar23 + -0x1d50) = 0x3f800000;
  *(undefined1 **)(puVar23 + -0x1ee0) = puVar4;
  *(undefined1 **)(puVar23 + -0x1f08) = puVar4;
  *(ulong *)(puVar23 + -0x1f18) = uVar12;
  *(undefined1 **)(puVar23 + -0x1e08) = puVar23 + -0x1c28;
  *(undefined8 *)(puVar23 + -0x1f10) = 0;
  *(ulong *)(puVar23 + -0x1e68) = uVar12;
  *(undefined8 *)(puVar23 + -0x1e60) = 0;
  *(undefined8 *)(puVar23 + -0x1e58) = 1;
  *(undefined1 **)(puVar23 + -0x1e50) = puVar23 + -0x1e08;
  *(undefined1 **)(puVar23 + -0x1e48) = puVar3;
  *(undefined8 *)(puVar23 + -0x1f80) = 0x10b876;
  lVar31 = embree::TaskScheduler::thread();
  if (lVar31 == 0) {
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10c155;
    uVar17 = embree::TaskScheduler::instance();
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10c16b;
    _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum0_IZNS_28parallel_for_for_prefix_sum0INS_5Scene9Iterator2EmNS_11PrimInfoMBTINS_5LBBoxINS_6Vec3faEEEEEZNS_4sse225createPrimRefArrayMSMBlurEPS6_NS_8Geometry9GTypeMaskEmRNS_8vector_tINS_9PrimRefMBENS_27aligned_monitored_allocatorISI_Lm16EEEEERNSH_INS_16SubGridBuildDataENSJ_ISN_Lm4EEEEERNS_20BuildProgressMonitorENS_4BBoxIfEEEUlPSF_RKNS_5rangeImEEmmE_ZNSD_25createPrimRefArrayMSMBlurESE_SG_mSM_SQ_SS_SU_EUlRKSC_S12_E_EET1_RNS_28ParallelForForPrefixSumStateIS14_EERT_T0_RKS14_RKT2_RKT3_EUlmE_mSC_ZNS5_IS7_mSC_S10_S13_EES14_S17_S19_S1A_S1C_S1F_S1I_EUlmSZ_mE_S13_EES14_S17_S1A_RKS18_S1C_S1F_S1I_EUlmE_EEvS18_RKS1A_EUlSZ_E_EEvS18_S18_S18_S1P_PNS0_16TaskGroupContextEEUlvE_EEvS1M_S1S_mb_constprop_0
              (uVar17,puVar23 + -0x1e68,puVar3,uVar12);
  }
  else {
    if (0xfff < *(ulong *)(lVar31 + 0x40080)) goto embree_sse2_createPrimRefArrayMSMBlur;
    lVar22 = *(long *)(lVar31 + 0xc00c0);
    uVar30 = lVar22 + 0x30 + (ulong)(-(int)lVar22 & 0x3f);
    if (0x80000 < uVar30) goto embree_sse2_createPrimRefArrayMSMBlur;
    *(ulong *)(lVar31 + 0xc00c0) = uVar30;
    puVar5 = (undefined8 *)(lVar31 + 0x40090 + uVar30);
    uVar8 = *(undefined8 *)(puVar23 + -0x1e68);
    uVar9 = *(undefined8 *)(puVar23 + -0x1e60);
    uVar10 = *(undefined8 *)(puVar23 + -0x1e58);
    uVar11 = *(undefined8 *)(puVar23 + -0x1e50);
    *puVar5 = 0x112af8;
    uVar17 = *(undefined8 *)(puVar23 + -0x1e48);
    puVar5[1] = uVar8;
    puVar5[2] = uVar9;
    puVar5[5] = uVar17;
    puVar5[3] = uVar10;
    puVar5[4] = uVar11;
    lVar14 = *(long *)(lVar31 + 0x40080) * 0x40;
    piVar2 = (int *)(lVar31 + 0x40 + lVar14);
    lVar25 = *(long *)(lVar31 + 0xc0100);
    *(undefined4 *)(lVar31 + 0x44 + lVar14) = 1;
    *(undefined1 *)(lVar31 + 0x48 + lVar14) = 1;
    lVar14 = lVar14 + lVar31;
    *(undefined8 **)(lVar14 + 0x50) = puVar5;
    *(long *)(lVar14 + 0x58) = lVar25;
    *(undefined1 **)(lVar14 + 0x60) = puVar3;
    *(long *)(lVar14 + 0x68) = lVar22;
    *(ulong *)(lVar14 + 0x70) = uVar12;
    if (lVar25 != 0) {
      LOCK();
      *(int *)(lVar25 + 4) = *(int *)(lVar25 + 4) + 1;
      UNLOCK();
    }
    LOCK();
    if (*piVar2 == 0) {
      *piVar2 = 1;
    }
    UNLOCK();
    LOCK();
    *(long *)(lVar31 + 0x40080) = *(long *)(lVar31 + 0x40080) + 1;
    UNLOCK();
    if (*(long *)(lVar31 + 0x40080) - 1U <= *(ulong *)(lVar31 + 0x40040)) {
      LOCK();
      *(long *)(lVar31 + 0x40040) = *(long *)(lVar31 + 0x40080) + -1;
      UNLOCK();
    }
  }
  *(undefined8 *)(puVar23 + -0x1f80) = 0x10b979;
  embree::TaskScheduler::wait();
  if (*(long *)(puVar23 + -0x1f10) != 0) {
    *(long *)(puVar23 + -0x1cb8) = *(long *)(puVar23 + -0x1f10);
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10c1d8;
    std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10c1e0;
    std::rethrow_exception(puVar23 + -0x1cb8);
  }
  auVar33 = *(undefined1 (*) [16])(puVar23 + -0x1dd8);
  auVar34 = *(undefined1 (*) [16])(puVar23 + -0x1dc8);
  auVar35 = *(undefined1 (*) [16])(puVar23 + -0x1db8);
  *(undefined8 *)param_1[8] = *(undefined8 *)(puVar23 + -0x1d58);
  auVar36 = *(undefined1 (*) [16])(puVar23 + -0x1da8);
  auVar37 = *(undefined1 (*) [16])(puVar23 + -0x1d98);
  auVar38 = *(undefined1 (*) [16])(puVar23 + -0x1d88);
  *param_1 = auVar33;
  lVar31 = *(long *)(puVar23 + -0x1d78);
  lVar22 = *(long *)(puVar23 + -0x1d70);
  param_1[1] = auVar34;
  lVar25 = *(long *)(puVar23 + -0x1d68);
  lVar14 = *(long *)(puVar23 + -0x1f18);
  param_1[2] = auVar35;
  uVar30 = *(ulong *)(puVar23 + -0x1d60);
  uVar17 = *(undefined8 *)(puVar23 + -0x1d50);
  *(long *)param_1[6] = lVar31;
  *(long *)(param_1[6] + 8) = lVar22;
  *(long *)param_1[7] = lVar25;
  *(ulong *)(param_1[7] + 8) = uVar30;
  *(undefined8 *)(param_1[8] + 8) = uVar17;
  param_1[3] = auVar36;
  param_1[4] = auVar37;
  param_1[5] = auVar38;
  if (lVar14 != 0) {
    pauVar16 = (undefined1 (*) [16])(puVar23 + -0x1818);
    uVar42 = *(undefined4 *)param_1[8];
    uVar43 = *(undefined4 *)(param_1[8] + 4);
    fVar39 = *(float *)(param_1[8] + 8);
    pauVar29 = pauVar16 + lVar14 * 9;
    fVar40 = *(float *)(param_1[8] + 0xc);
    do {
      uVar18 = *(ulong *)(pauVar16[7] + 8);
      uVar17 = *(undefined8 *)pauVar16[8];
      *(long *)pauVar16[0x247] = lVar25;
      pauVar16[0x240] = auVar33;
      uVar8 = *(undefined8 *)param_1[6];
      uVar9 = *(undefined8 *)(param_1[6] + 8);
      auVar33 = minps(auVar33,*pauVar16);
      pauVar16[0x241] = auVar34;
      lVar31 = lVar31 + *(long *)pauVar16[6];
      auVar34 = maxps(auVar34,pauVar16[1]);
      pauVar16[0x242] = auVar35;
      lVar22 = lVar22 + *(long *)(pauVar16[6] + 8);
      auVar35 = minps(auVar35,pauVar16[2]);
      *(undefined8 *)(puVar23 + -0x1c38) = uVar17;
      uVar17 = *(undefined8 *)(pauVar16[8] + 8);
      pauVar16[0x243] = auVar36;
      lVar25 = lVar25 + *(long *)pauVar16[7];
      auVar36 = maxps(auVar36,pauVar16[3]);
      *(undefined8 *)(puVar23 + -0x1c30) = uVar17;
      fVar41 = *(float *)(puVar23 + -0x1c2c);
      pauVar16[0x244] = auVar37;
      auVar37 = minps(auVar37,pauVar16[4]);
      if (fVar41 <= fVar40) {
        fVar41 = fVar40;
      }
      pauVar16[0x245] = auVar38;
      auVar38 = maxps(auVar38,pauVar16[5]);
      *(float *)(pauVar16[0x248] + 8) = fVar39;
      if (*(float *)(puVar23 + -0x1c30) <= fVar39) {
        fVar39 = *(float *)(puVar23 + -0x1c30);
      }
      *(float *)(pauVar16[0x248] + 0xc) = fVar40;
      *(ulong *)(pauVar16[0x247] + 8) = uVar30;
      *(undefined8 *)pauVar16[0x246] = uVar8;
      *(undefined8 *)(pauVar16[0x246] + 8) = uVar9;
      *(undefined4 *)pauVar16[0x248] = uVar42;
      *(undefined4 *)(pauVar16[0x248] + 4) = uVar43;
      if (uVar30 < uVar18) {
        uVar42 = *(undefined4 *)(puVar23 + -0x1c38);
        uVar43 = *(undefined4 *)(puVar23 + -0x1c34);
        uVar30 = uVar18;
      }
      pauVar16 = pauVar16 + 9;
      *(long *)param_1[6] = lVar31;
      *(long *)(param_1[6] + 8) = lVar22;
      fVar40 = fVar41;
    } while (pauVar29 != pauVar16);
    *(ulong *)(param_1[7] + 8) = uVar30;
    *(long *)param_1[7] = lVar25;
    *(float *)(param_1[8] + 0xc) = fVar41;
    *(float *)(param_1[8] + 8) = fVar39;
    *(undefined4 *)(param_1[8] + 4) = uVar43;
    *(undefined4 *)param_1[8] = uVar42;
    param_1[5] = auVar38;
    param_1[4] = auVar37;
    param_1[3] = auVar36;
    param_1[2] = auVar35;
    param_1[1] = auVar34;
    *param_1 = auVar33;
  }
  if (*(long *)(puVar23 + -0x1f48) != lVar22 - lVar31) {
    pcVar7 = *(code **)**(undefined8 **)(puVar23 + -8000);
    if (pcVar7 == Scene::BuildProgressMonitorInterface::operator()) {
      *(undefined8 *)(puVar23 + -0x1f80) = 0x10bbeb;
      embree::Scene::progressMonitor(0.0);
    }
    else {
      *(undefined8 *)(puVar23 + -0x1f80) = 0x10c0ef;
      (*pcVar7)(*(undefined8 **)(puVar23 + -8000));
    }
    lVar31 = *(long *)(puVar23 + -0x1828);
    *(undefined1 **)(puVar23 + -0x1e78) = puVar23 + -0x1f30;
    *(undefined8 *)(puVar23 + -0x1ce8) = 0;
    *(undefined8 *)(puVar23 + -0x1e88) = *(undefined8 *)(puVar23 + -0x1f58);
    *(undefined8 *)(puVar23 + -0x1ce0) = 0;
    *(undefined8 *)(puVar23 + -0x1e80) = *(undefined8 *)(puVar23 + -0x1f50);
    *(undefined8 *)(puVar23 + -0x1cc8) = 0x3f80000000000000;
    *(undefined1 **)(puVar23 + -0x1ed8) = puVar23 + -0x1e88;
    *(undefined1 **)(puVar23 + -0x1cb0) = puVar23 + -0x1f00;
    *(undefined1 **)(puVar23 + -0x1ca8) = puVar23 + -0x1d48;
    *(undefined1 **)(puVar23 + -0x1ca0) = puVar23 + -0x1ef0;
    *(undefined1 **)(puVar23 + -0x1c98) = puVar23 + -0x1f19;
    *(undefined8 *)(puVar23 + -0x1cd8) = 0;
    *(undefined8 *)(puVar23 + -0x1cd0) = 0;
    *(undefined8 *)(puVar23 + -0x1cc0) = 0x3f800000;
    *(undefined1 **)(puVar23 + -0x1ed0) = puVar4;
    *(undefined1 **)(puVar23 + -0x1ef0) = puVar4;
    *(long *)(puVar23 + -0x1f00) = lVar31;
    *(undefined1 **)(puVar23 + -0x1cb8) = puVar23 + -0x1c28;
    *(undefined1 **)(puVar23 + -0x1c90) = puVar23 + -0x1ed8;
    *(undefined4 *)(puVar23 + -0x1d48) = _LC30;
    *(undefined4 *)(puVar23 + -0x1d44) = _UNK_00112b94;
    *(undefined4 *)(puVar23 + -0x1d40) = _UNK_00112b98;
    *(undefined4 *)(puVar23 + -0x1d3c) = _UNK_00112b9c;
    *(undefined4 *)(puVar23 + -0x1d38) = _LC28;
    *(undefined4 *)(puVar23 + -0x1d34) = _UNK_00112b84;
    *(undefined4 *)(puVar23 + -0x1d30) = _UNK_00112b88;
    *(undefined4 *)(puVar23 + -0x1d2c) = _UNK_00112b8c;
    *(undefined4 *)(puVar23 + -0x1d28) = _LC30;
    *(undefined4 *)(puVar23 + -0x1d24) = _UNK_00112b94;
    *(undefined4 *)(puVar23 + -0x1d20) = _UNK_00112b98;
    *(undefined4 *)(puVar23 + -0x1d1c) = _UNK_00112b9c;
    *(undefined4 *)(puVar23 + -0x1d18) = _LC28;
    *(undefined4 *)(puVar23 + -0x1d14) = _UNK_00112b84;
    *(undefined4 *)(puVar23 + -0x1d10) = _UNK_00112b88;
    *(undefined4 *)(puVar23 + -0x1d0c) = _UNK_00112b8c;
    *(undefined4 *)(puVar23 + -0x1d08) = _LC30;
    *(undefined4 *)(puVar23 + -0x1d04) = _UNK_00112b94;
    *(undefined4 *)(puVar23 + -0x1d00) = _UNK_00112b98;
    *(undefined4 *)(puVar23 + -0x1cfc) = _UNK_00112b9c;
    *(undefined4 *)(puVar23 + -0x1cf8) = _LC28;
    *(undefined4 *)(puVar23 + -0x1cf4) = _UNK_00112b84;
    *(undefined4 *)(puVar23 + -0x1cf0) = _UNK_00112b88;
    *(undefined4 *)(puVar23 + -0x1cec) = _UNK_00112b8c;
    if (lVar31 == 0) {
      uVar30 = 0;
      lVar25 = 0;
      lVar22 = 0;
      uVar42 = 0;
      auVar38._4_4_ = _UNK_00112b84;
      auVar38._0_4_ = _LC28;
      auVar38._8_4_ = _UNK_00112b88;
      auVar38._12_4_ = _UNK_00112b8c;
      auVar37._4_4_ = _UNK_00112b94;
      auVar37._0_4_ = _LC30;
      auVar37._8_4_ = _UNK_00112b98;
      auVar37._12_4_ = _UNK_00112b9c;
      auVar36._4_4_ = _UNK_00112b84;
      auVar36._0_4_ = _LC28;
      auVar36._8_4_ = _UNK_00112b88;
      auVar36._12_4_ = _UNK_00112b8c;
      auVar35._4_4_ = _UNK_00112b94;
      auVar35._0_4_ = _LC30;
      auVar35._8_4_ = _UNK_00112b98;
      auVar35._12_4_ = _UNK_00112b9c;
      auVar34._4_4_ = _UNK_00112b84;
      auVar34._0_4_ = _LC28;
      auVar34._8_4_ = _UNK_00112b88;
      auVar34._12_4_ = _UNK_00112b8c;
      auVar33._4_4_ = _UNK_00112b94;
      auVar33._0_4_ = _LC30;
      auVar33._8_4_ = _UNK_00112b98;
      auVar33._12_4_ = _UNK_00112b9c;
      lVar31 = 0;
      uVar43 = _LC36;
    }
    else {
      puVar3 = puVar23 + -0x1ef8;
      *(undefined8 *)(puVar23 + -0x1ef8) = 0;
      *(long *)(puVar23 + -0x1e38) = lVar31;
      *(undefined8 *)(puVar23 + -0x1e30) = 0;
      *(undefined8 *)(puVar23 + -0x1e28) = 1;
      *(undefined1 **)(puVar23 + -0x1e20) = puVar23 + -0x1cb8;
      *(undefined1 **)(puVar23 + -0x1e18) = puVar3;
      *(undefined8 *)(puVar23 + -0x1f80) = 0x10be25;
      lVar22 = embree::TaskScheduler::thread();
      if (lVar22 == 0) {
        *(undefined8 *)(puVar23 + -0x1f80) = 0x10c188;
        uVar17 = embree::TaskScheduler::instance();
        *(undefined8 *)(puVar23 + -0x1f80) = 0x10c19e;
        _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_29parallel_for_for_prefix_sum1_IZNS_28parallel_for_for_prefix_sum1INS_5Scene9Iterator2EmNS_11PrimInfoMBTINS_5LBBoxINS_6Vec3faEEEEEZNS_4sse225createPrimRefArrayMSMBlurEPS6_NS_8Geometry9GTypeMaskEmRNS_8vector_tINS_9PrimRefMBENS_27aligned_monitored_allocatorISI_Lm16EEEEERNSH_INS_16SubGridBuildDataENSJ_ISN_Lm4EEEEERNS_20BuildProgressMonitorENS_4BBoxIfEEEUlPSF_RKNS_5rangeImEEmmRKSC_E_ZNSD_25createPrimRefArrayMSMBlurESE_SG_mSM_SQ_SS_SU_EUlS11_S11_E0_EET1_RNS_28ParallelForForPrefixSumStateIS14_EERT_T0_RKS14_RKT2_RKT3_EUlmE_mSC_ZNS5_IS7_mSC_S12_S13_EES14_S17_S19_S1A_S1C_S1F_S1I_EUlmSZ_mS11_E_S13_EES14_S17_S1A_RKS18_S1C_S1F_S1I_EUlmE_EEvS18_RKS1A_EUlSZ_E_EEvS18_S18_S18_S1P_PNS0_16TaskGroupContextEEUlvE_EEvS1M_S1S_mb_constprop_0
                  (uVar17,puVar23 + -0x1e38,puVar3,lVar31);
      }
      else {
        if (0xfff < *(ulong *)(lVar22 + 0x40080)) {
embree_sse2_createPrimRefArrayMSMBlur:
                    /* WARNING: Subroutine does not return */
          *(undefined8 *)(puVar23 + -0x1f80) = 0x10c32b;
          abort();
        }
        lVar25 = *(long *)(lVar22 + 0xc00c0);
        uVar30 = lVar25 + 0x30 + (ulong)(-(int)lVar25 & 0x3f);
        if (0x80000 < uVar30) goto embree_sse2_createPrimRefArrayMSMBlur;
        *(ulong *)(lVar22 + 0xc00c0) = uVar30;
        puVar5 = (undefined8 *)(lVar22 + 0x40090 + uVar30);
        uVar8 = *(undefined8 *)(puVar23 + -0x1e38);
        uVar9 = *(undefined8 *)(puVar23 + -0x1e30);
        uVar10 = *(undefined8 *)(puVar23 + -0x1e28);
        uVar11 = *(undefined8 *)(puVar23 + -0x1e20);
        *puVar5 = 0x112b10;
        uVar17 = *(undefined8 *)(puVar23 + -0x1e18);
        puVar5[1] = uVar8;
        puVar5[2] = uVar9;
        puVar5[5] = uVar17;
        puVar5[3] = uVar10;
        puVar5[4] = uVar11;
        lVar15 = *(long *)(lVar22 + 0x40080) * 0x40;
        piVar2 = (int *)(lVar22 + 0x40 + lVar15);
        lVar14 = *(long *)(lVar22 + 0xc0100);
        *(undefined4 *)(lVar22 + 0x44 + lVar15) = 1;
        *(undefined1 *)(lVar22 + 0x48 + lVar15) = 1;
        lVar15 = lVar15 + lVar22;
        *(undefined8 **)(lVar15 + 0x50) = puVar5;
        *(long *)(lVar15 + 0x58) = lVar14;
        *(undefined1 **)(lVar15 + 0x60) = puVar3;
        *(long *)(lVar15 + 0x68) = lVar25;
        *(long *)(lVar15 + 0x70) = lVar31;
        if (lVar14 != 0) {
          LOCK();
          *(int *)(lVar14 + 4) = *(int *)(lVar14 + 4) + 1;
          UNLOCK();
        }
        LOCK();
        if (*piVar2 == 0) {
          *piVar2 = 1;
        }
        UNLOCK();
        LOCK();
        *(long *)(lVar22 + 0x40080) = *(long *)(lVar22 + 0x40080) + 1;
        UNLOCK();
        if (*(long *)(lVar22 + 0x40080) - 1U <= *(ulong *)(lVar22 + 0x40040)) {
          LOCK();
          *(long *)(lVar22 + 0x40040) = *(long *)(lVar22 + 0x40080) + -1;
          UNLOCK();
        }
      }
      *(undefined8 *)(puVar23 + -0x1f80) = 0x10bf28;
      embree::TaskScheduler::wait();
      if (*(long *)(puVar23 + -0x1ef8) != 0) {
        uVar17 = *(undefined8 *)(puVar23 + -0x1f70);
        *(long *)(puVar23 + -0x1dd8) = *(long *)(puVar23 + -0x1ef8);
        *(undefined8 *)(puVar23 + -0x1f80) = 0x10c1b8;
        std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
        *(undefined8 *)(puVar23 + -0x1f80) = 0x10c1c0;
        std::rethrow_exception(uVar17);
      }
      auVar33 = *(undefined1 (*) [16])(puVar23 + -0x1d48);
      auVar34 = *(undefined1 (*) [16])(puVar23 + -0x1d38);
      auVar35 = *(undefined1 (*) [16])(puVar23 + -0x1d28);
      auVar36 = *(undefined1 (*) [16])(puVar23 + -0x1d18);
      auVar37 = *(undefined1 (*) [16])(puVar23 + -0x1d08);
      auVar38 = *(undefined1 (*) [16])(puVar23 + -0x1cf8);
      lVar31 = *(long *)(puVar23 + -0x1ce8);
      lVar22 = *(long *)(puVar23 + -0x1ce0);
      lVar25 = *(long *)(puVar23 + -0x1cd8);
      uVar30 = *(ulong *)(puVar23 + -0x1cd0);
      uVar42 = *(undefined4 *)(puVar23 + -0x1cc8);
      uVar43 = *(undefined4 *)(puVar23 + -0x1cc4);
      fVar39 = *(float *)(puVar23 + -0x1cc0);
      if (*(long *)(puVar23 + -0x1f00) != 0) {
        pauVar16 = (undefined1 (*) [16])(puVar23 + -0x1818);
        pauVar29 = pauVar16 + *(long *)(puVar23 + -0x1f00) * 9;
        fVar40 = *(float *)(puVar23 + -0x1cbc);
        do {
          uVar17 = *(undefined8 *)pauVar16[8];
          uVar18 = *(ulong *)(pauVar16[7] + 8);
          *(long *)pauVar16[0x246] = lVar31;
          *(long *)(pauVar16[0x246] + 8) = lVar22;
          lVar31 = lVar31 + *(long *)pauVar16[6];
          *(undefined8 *)(puVar23 + -0x1c38) = uVar17;
          uVar17 = *(undefined8 *)(pauVar16[8] + 8);
          *(long *)pauVar16[0x247] = lVar25;
          lVar22 = lVar22 + *(long *)(pauVar16[6] + 8);
          *(undefined8 *)(puVar23 + -0x1c30) = uVar17;
          lVar25 = lVar25 + *(long *)pauVar16[7];
          fVar41 = *(float *)(puVar23 + -0x1c2c);
          pauVar16[0x240] = auVar33;
          auVar33 = minps(auVar33,*pauVar16);
          pauVar16[0x241] = auVar34;
          auVar34 = maxps(auVar34,pauVar16[1]);
          if (fVar41 <= fVar40) {
            fVar41 = fVar40;
          }
          pauVar16[0x242] = auVar35;
          auVar35 = minps(auVar35,pauVar16[2]);
          pauVar16[0x243] = auVar36;
          auVar36 = maxps(auVar36,pauVar16[3]);
          pauVar16[0x244] = auVar37;
          auVar37 = minps(auVar37,pauVar16[4]);
          pauVar16[0x245] = auVar38;
          auVar38 = maxps(auVar38,pauVar16[5]);
          *(float *)(pauVar16[0x248] + 8) = fVar39;
          if (*(float *)(puVar23 + -0x1c30) <= fVar39) {
            fVar39 = *(float *)(puVar23 + -0x1c30);
          }
          *(float *)(pauVar16[0x248] + 0xc) = fVar40;
          *(ulong *)(pauVar16[0x247] + 8) = uVar30;
          *(undefined4 *)pauVar16[0x248] = uVar42;
          *(undefined4 *)(pauVar16[0x248] + 4) = uVar43;
          if (uVar30 < uVar18) {
            uVar42 = *(undefined4 *)(puVar23 + -0x1c38);
            uVar43 = *(undefined4 *)(puVar23 + -0x1c34);
            uVar30 = uVar18;
          }
          pauVar16 = pauVar16 + 9;
          fVar40 = fVar41;
        } while (pauVar29 != pauVar16);
      }
    }
    *(long *)param_1[6] = lVar31;
    *(long *)(param_1[6] + 8) = lVar22;
    *(long *)param_1[7] = lVar25;
    *(ulong *)(param_1[7] + 8) = uVar30;
    *param_1 = auVar33;
    param_1[1] = auVar34;
    param_1[2] = auVar35;
    param_1[3] = auVar36;
    param_1[4] = auVar37;
    param_1[5] = auVar38;
    *(undefined4 *)param_1[8] = uVar42;
    *(undefined4 *)(param_1[8] + 4) = uVar43;
  }
  *(undefined8 *)(param_1[8] + 8) = *(undefined8 *)(puVar23 + -0x1f30);
  if (*(long *)(puVar23 + 0x2ff0) != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    *(undefined8 *)(puVar23 + -0x1f80) = 0x10c1e5;
    __stack_chk_fail();
  }
  return param_1;
}



/* embree::Scene::BuildProgressMonitorInterface::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::Scene::BuildProgressMonitorInterface::operator()
          (BuildProgressMonitorInterface *this,ulong param_1)

{
  if (-1 < (long)param_1) {
    embree::Scene::progressMonitor((double)(long)param_1);
    return;
  }
  embree::Scene::progressMonitor((double)param_1);
  return;
}



/* embree::RefCount::refInc() */

RefCount * __thiscall embree::RefCount::refInc(RefCount *this)

{
  LOCK();
  *(long *)(this + 8) = *(long *)(this + 8) + 1;
  UNLOCK();
  return this;
}



/* embree::RefCount::refDec() */

void __thiscall embree::RefCount::refDec(RefCount *this)

{
  RefCount *pRVar1;
  
  LOCK();
  pRVar1 = this + 8;
  *(long *)pRVar1 = *(long *)pRVar1 + -1;
  UNLOCK();
  if ((this != (RefCount *)0x0) && (*(long *)pRVar1 == 0)) {
                    /* WARNING: Could not recover jumptable at 0x0010c269. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    (**(code **)(*(long *)this + 8))();
    return;
  }
  return;
}



/* embree::sse2::createPrimRefArray(embree::Geometry*, unsigned int, unsigned long,
   embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef, 32ul> >&,
   embree::BuildProgressMonitor&) [clone .cold] */

void embree::sse2::createPrimRefArray
               (Geometry *param_1,uint param_2,ulong param_3,vector_t *param_4,
               BuildProgressMonitor *param_5)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::createPrimRefArray(embree::Scene*, embree::Geometry::GTypeMask, bool, unsigned
   long, embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef,
   32ul> >&, embree::BuildProgressMonitor&) [clone .cold] */

void embree::sse2::createPrimRefArray(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::createPrimRefArray(embree::Scene*, embree::Geometry::GTypeMask, bool, unsigned
   long, embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef,
   32ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&) [clone .cold] */

void embree::sse2::createPrimRefArray(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::createPrimRefArrayMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned long,
   embree::vector_t<embree::PrimRef, embree::aligned_monitored_allocator<embree::PrimRef, 32ul> >&,
   embree::BuildProgressMonitor&, unsigned long) [clone .cold] */

void embree::sse2::createPrimRefArrayMBlur(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::BuildProgressMonitor&, embree::BBox<float>) [clone .cold] */

void embree::sse2::createPrimRefArrayMSMBlur(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::sse2::createPrimRefArrayMSMBlur(embree::Scene*, embree::Geometry::GTypeMask, unsigned
   long, embree::vector_t<embree::PrimRefMB, embree::aligned_monitored_allocator<embree::PrimRefMB,
   16ul> >&, embree::vector_t<embree::SubGridBuildData,
   embree::aligned_monitored_allocator<embree::SubGridBuildData, 4ul> >&,
   embree::BuildProgressMonitor&, embree::BBox<float>) [clone .cold] */

void embree::sse2::createPrimRefArrayMSMBlur(void)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&, unsigned
   long)#4}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&, unsigned long) const */

long embree::sse2::
     createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)
     ::{lambda(embree::range<unsigned_long>const&,unsigned_long)#4}::operator()
               (range *param_1,ulong param_2)

{
  long lVar1;
  long lVar2;
  long lVar3;
  float fVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  float fVar14;
  float fVar15;
  uint *puVar16;
  float *pfVar17;
  long *plVar18;
  long lVar19;
  ulong uVar20;
  long lVar21;
  ulong uVar22;
  uint uVar23;
  long lVar24;
  ulong uVar25;
  ulong uVar26;
  ulong uVar27;
  ulong uVar28;
  long in_FS_OFFSET;
  uint uVar29;
  uint uVar36;
  uint uVar37;
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  uint uVar38;
  uint uVar39;
  uint uVar40;
  undefined1 auVar32 [16];
  uint uVar41;
  uint uVar50;
  uint uVar52;
  undefined1 auVar42 [16];
  uint uVar51;
  uint uVar53;
  uint uVar54;
  uint uVar55;
  undefined1 auVar43 [16];
  undefined1 auVar44 [16];
  undefined1 auVar45 [16];
  undefined1 auVar46 [16];
  undefined1 auVar47 [16];
  uint uVar56;
  uint uVar57;
  uint uVar58;
  uint uVar59;
  uint uVar60;
  uint uVar61;
  undefined1 auVar62 [16];
  undefined1 auVar63 [16];
  undefined1 auVar64 [16];
  undefined1 auVar65 [16];
  undefined1 auVar66 [16];
  undefined1 auVar67 [16];
  undefined1 auVar68 [16];
  undefined1 auVar69 [16];
  undefined1 auVar70 [16];
  undefined1 auVar71 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  long local_40;
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar48 [16];
  undefined1 auVar49 [16];
  
  fVar15 = _LC43;
  fVar14 = _LC41;
  uVar20 = *(ulong *)param_2;
  uVar28 = *(ulong *)(param_2 + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = (undefined1  [16])0x0;
  local_78 = (undefined1  [16])0x0;
  local_68 = (undefined1  [16])0x0;
  local_58 = (undefined1  [16])0x0;
  lVar1 = *(long *)(*(long *)(param_1 + 8) + 0x20) + uVar20 * 8;
  pfVar17 = *(float **)param_1;
  fVar4 = *pfVar17;
  fVar5 = pfVar17[1];
  fVar6 = pfVar17[2];
  fVar7 = pfVar17[4];
  fVar8 = pfVar17[5];
  fVar9 = pfVar17[6];
  if (uVar20 < uVar28) {
    auVar10._4_4_ = _UNK_00112ba4;
    auVar10._0_4_ = __LC44;
    auVar10._8_4_ = _UNK_00112ba8;
    auVar10._12_4_ = _UNK_00112bac;
    lVar24 = 0;
    lVar21 = 0;
    auVar11._4_4_ = _UNK_00112bb4;
    auVar11._0_4_ = __LC45;
    auVar11._8_4_ = _UNK_00112bb8;
    auVar11._12_4_ = _UNK_00112bbc;
    auVar12._4_4_ = _UNK_00112bc4;
    auVar12._0_4_ = __LC46;
    auVar12._8_4_ = _UNK_00112bc8;
    auVar12._12_4_ = _UNK_00112bcc;
    auVar13._4_4_ = _UNK_00112bd4;
    auVar13._0_4_ = __LC47;
    auVar13._8_4_ = _UNK_00112bd8;
    auVar13._12_4_ = _UNK_00112bdc;
    do {
      while( true ) {
        lVar19 = **(long **)(param_1 + 0x10);
        plVar18 = *(long **)(lVar19 + 0xd0);
        puVar16 = (uint *)(*(long *)(lVar19 + 0x60) * uVar20 + *(long *)(lVar19 + 0x58));
        uVar27 = plVar18[2];
        uVar22 = (ulong)*puVar16;
        if (((uVar22 < uVar27) && (uVar25 = (ulong)puVar16[1], uVar25 < uVar27)) &&
           (uVar26 = (ulong)puVar16[2], uVar26 < uVar27)) break;
joined_r0x0010c87b:
        uVar20 = uVar20 + 1;
        if (uVar28 <= uVar20) goto LAB_0010c568;
      }
      if (*(uint *)(lVar19 + 0x24) != 0) {
        uVar27 = 0;
        do {
          lVar2 = plVar18[1];
          lVar3 = *plVar18;
          pfVar17 = (float *)(lVar3 + uVar22 * lVar2);
          auVar31 = *(undefined1 (*) [16])(lVar3 + uVar25 * lVar2);
          auVar42._0_4_ = -(uint)(fVar15 < *pfVar17 && *pfVar17 < fVar14);
          auVar42._4_4_ = -(uint)(fVar15 < pfVar17[1] && pfVar17[1] < fVar14);
          auVar42._8_4_ = -(uint)(fVar15 < pfVar17[2] && pfVar17[2] < fVar14);
          auVar42._12_4_ = -(uint)(fVar15 < pfVar17[3] && pfVar17[3] < fVar14);
          pfVar17 = (float *)(lVar2 * uVar26 + lVar3);
          uVar23 = movmskps((int)lVar3,auVar42);
          if ((((~uVar23 & 7) != 0) ||
              (auVar65._0_4_ = -(uint)(fVar15 < auVar31._0_4_ && auVar31._0_4_ < fVar14),
              auVar65._4_4_ = -(uint)(fVar15 < auVar31._4_4_ && auVar31._4_4_ < fVar14),
              auVar65._8_4_ = -(uint)(fVar15 < auVar31._8_4_ && auVar31._8_4_ < fVar14),
              auVar65._12_4_ = -(uint)(fVar15 < auVar31._12_4_ && auVar31._12_4_ < fVar14),
              uVar23 = movmskps(0,auVar65), (~uVar23 & 7) != 0)) ||
             (auVar31._0_4_ = -(uint)(fVar15 < *pfVar17 && *pfVar17 < fVar14),
             auVar31._4_4_ = -(uint)(fVar15 < pfVar17[1] && pfVar17[1] < fVar14),
             auVar31._8_4_ = -(uint)(fVar15 < pfVar17[2] && pfVar17[2] < fVar14),
             auVar31._12_4_ = -(uint)(fVar15 < pfVar17[3] && pfVar17[3] < fVar14),
             uVar23 = movmskps((int)pfVar17,auVar31), (~uVar23 & 7) != 0)) goto joined_r0x0010c87b;
          uVar27 = uVar27 + 1;
          plVar18 = plVar18 + 6;
        } while (*(uint *)(lVar19 + 0x24) != uVar27);
      }
      lVar2 = *(long *)(lVar19 + 0x90);
      lVar19 = *(long *)(lVar19 + 0x88);
      *(int *)(local_58 + lVar24 * 4) = (int)uVar20;
      lVar21 = lVar21 + 1;
      auVar31 = *(undefined1 (*) [16])(lVar19 + uVar22 * lVar2);
      auVar42 = *(undefined1 (*) [16])(lVar19 + uVar25 * lVar2);
      auVar65 = *(undefined1 (*) [16])(lVar19 + uVar26 * lVar2);
      auVar30 = maxps(auVar31,auVar42);
      auVar42 = minps(auVar31,auVar42);
      auVar31 = maxps(auVar30,auVar65);
      auVar42 = minps(auVar42,auVar65);
      *(int *)(local_88 + lVar24 * 4) = (int)(((auVar31._0_4_ + auVar42._0_4_) - fVar4) * fVar7);
      *(int *)(local_78 + lVar24 * 4) = (int)(((auVar31._4_4_ + auVar42._4_4_) - fVar5) * fVar8);
      *(int *)(local_68 + lVar24 * 4) = (int)(((auVar31._8_4_ + auVar42._8_4_) - fVar6) * fVar9);
      lVar24 = lVar24 + 1;
      if (lVar24 != 4) goto joined_r0x0010c87b;
      uVar20 = uVar20 + 1;
      lVar24 = 0;
      auVar30._0_4_ = local_88._0_4_ << 0x10;
      auVar30._4_4_ = local_88._4_4_ << 0x10;
      auVar30._8_4_ = local_88._8_4_ << 0x10;
      auVar30._12_4_ = local_88._12_4_ << 0x10;
      auVar31 = (auVar30 | local_88) & auVar10;
      auVar43._0_4_ = auVar31._0_4_ << 8;
      auVar43._4_4_ = auVar31._4_4_ << 8;
      auVar43._8_4_ = auVar31._8_4_ << 8;
      auVar43._12_4_ = auVar31._12_4_ << 8;
      auVar31 = (auVar31 | auVar43) & auVar11;
      auVar44._0_4_ = auVar31._0_4_ << 4;
      auVar44._4_4_ = auVar31._4_4_ << 4;
      auVar44._8_4_ = auVar31._8_4_ << 4;
      auVar44._12_4_ = auVar31._12_4_ << 4;
      auVar31 = (auVar31 | auVar44) & auVar12;
      auVar45._0_4_ = local_78._0_4_ << 0x10;
      auVar45._4_4_ = local_78._4_4_ << 0x10;
      auVar45._8_4_ = local_78._8_4_ << 0x10;
      auVar45._12_4_ = local_78._12_4_ << 0x10;
      auVar67._0_4_ = auVar31._0_4_ << 2;
      auVar67._4_4_ = auVar31._4_4_ << 2;
      auVar67._8_4_ = auVar31._8_4_ << 2;
      auVar67._12_4_ = auVar31._12_4_ << 2;
      auVar42 = (auVar45 | local_78) & auVar10;
      auVar62._0_4_ = auVar42._0_4_ << 8;
      auVar62._4_4_ = auVar42._4_4_ << 8;
      auVar62._8_4_ = auVar42._8_4_ << 8;
      auVar62._12_4_ = auVar42._12_4_ << 8;
      auVar42 = (auVar42 | auVar62) & auVar11;
      auVar63._0_4_ = auVar42._0_4_ << 4;
      auVar63._4_4_ = auVar42._4_4_ << 4;
      auVar63._8_4_ = auVar42._8_4_ << 4;
      auVar63._12_4_ = auVar42._12_4_ << 4;
      auVar42 = (auVar42 | auVar63) & auVar12;
      auVar64._0_4_ = local_68._0_4_ << 0x10;
      auVar64._4_4_ = local_68._4_4_ << 0x10;
      auVar64._8_4_ = local_68._8_4_ << 0x10;
      auVar64._12_4_ = local_68._12_4_ << 0x10;
      auVar68._0_4_ = auVar42._0_4_ << 2;
      auVar68._4_4_ = auVar42._4_4_ << 2;
      auVar68._8_4_ = auVar42._8_4_ << 2;
      auVar68._12_4_ = auVar42._12_4_ << 2;
      auVar65 = (auVar64 | local_68) & auVar10;
      auVar42 = (auVar42 | auVar68) & auVar13;
      auVar69._0_4_ = auVar65._0_4_ << 8;
      auVar69._4_4_ = auVar65._4_4_ << 8;
      auVar69._8_4_ = auVar65._8_4_ << 8;
      auVar69._12_4_ = auVar65._12_4_ << 8;
      auVar46._0_4_ = auVar42._0_4_ << 1;
      auVar46._4_4_ = auVar42._4_4_ << 1;
      auVar46._8_4_ = auVar42._8_4_ << 1;
      auVar46._12_4_ = auVar42._12_4_ << 1;
      auVar42 = (auVar65 | auVar69) & auVar11;
      auVar70._0_4_ = auVar42._0_4_ << 4;
      auVar70._4_4_ = auVar42._4_4_ << 4;
      auVar70._8_4_ = auVar42._8_4_ << 4;
      auVar70._12_4_ = auVar42._12_4_ << 4;
      auVar42 = (auVar42 | auVar70) & auVar12;
      auVar71._0_4_ = auVar42._0_4_ << 2;
      auVar71._4_4_ = auVar42._4_4_ << 2;
      auVar71._8_4_ = auVar42._8_4_ << 2;
      auVar71._12_4_ = auVar42._12_4_ << 2;
      auVar42 = (auVar42 | auVar71) & auVar13;
      auVar66._0_4_ = auVar42._0_4_ << 2;
      auVar66._4_4_ = auVar42._4_4_ << 2;
      auVar66._8_4_ = auVar42._8_4_ << 2;
      auVar66._12_4_ = auVar42._12_4_ << 2;
      auVar31 = (auVar31 | auVar67) & auVar13 | auVar46 | auVar66;
      auVar48._0_8_ = auVar31._0_8_;
      auVar34._12_4_ = auVar31._12_4_;
      auVar32._4_12_ = auVar31._4_12_;
      auVar32._0_4_ = auVar31._8_4_;
      auVar34._0_8_ = auVar32._0_8_;
      auVar34._8_4_ = auVar34._12_4_;
      auVar33._8_8_ = auVar34._8_8_;
      auVar33._4_4_ = local_58._8_4_;
      auVar33._0_4_ = auVar31._8_4_;
      auVar35._0_12_ = auVar33._0_12_;
      auVar35._12_4_ = local_58._12_4_;
      auVar48._8_4_ = auVar31._4_4_;
      auVar48._12_4_ = auVar34._12_4_;
      auVar47._8_8_ = auVar48._8_8_;
      auVar47._0_4_ = auVar31._0_4_;
      auVar47._4_4_ = local_58._0_4_;
      auVar49._0_12_ = auVar47._0_12_;
      auVar49._12_4_ = local_58._4_4_;
      *(undefined1 (*) [16])(lVar1 + -0x10 + lVar21 * 8) = auVar35;
      *(undefined1 (*) [16])(lVar1 + -0x20 + lVar21 * 8) = auVar49;
      uVar28 = *(ulong *)(param_2 + 8);
    } while (uVar20 < uVar28);
LAB_0010c568:
    uVar60 = _UNK_00112bcc;
    uVar58 = _UNK_00112bc8;
    uVar61 = _UNK_00112bc4;
    uVar56 = __LC46;
    uVar59 = _UNK_00112bbc;
    uVar57 = _UNK_00112bb8;
    uVar55 = _UNK_00112bb4;
    uVar53 = __LC45;
    uVar51 = _UNK_00112bac;
    uVar40 = _UNK_00112ba8;
    uVar38 = _UNK_00112ba4;
    uVar23 = __LC44;
    if (lVar24 != 0) {
      lVar19 = lVar21 - lVar24;
      puVar16 = (uint *)(lVar1 + lVar19 * 8);
      uVar29 = (local_88._0_4_ << 0x10 | local_88._0_4_) & __LC44;
      uVar36 = (local_88._4_4_ << 0x10 | local_88._4_4_) & _UNK_00112ba4;
      uVar37 = (local_88._8_4_ << 0x10 | local_88._8_4_) & _UNK_00112ba8;
      uVar39 = (local_88._12_4_ << 0x10 | local_88._12_4_) & _UNK_00112bac;
      puVar16[1] = local_58._0_4_;
      uVar29 = (uVar29 | uVar29 << 8) & uVar53;
      uVar36 = (uVar36 | uVar36 << 8) & uVar55;
      uVar37 = (uVar37 | uVar37 << 8) & uVar57;
      uVar39 = (uVar39 | uVar39 << 8) & uVar59;
      uVar29 = (uVar29 | uVar29 << 4) & uVar56;
      uVar36 = (uVar36 | uVar36 << 4) & uVar61;
      uVar37 = (uVar37 | uVar37 << 4) & uVar58;
      uVar39 = (uVar39 | uVar39 << 4) & uVar60;
      uVar41 = (local_78._0_4_ << 0x10 | local_78._0_4_) & uVar23;
      uVar50 = (local_78._4_4_ << 0x10 | local_78._4_4_) & uVar38;
      uVar52 = (local_78._8_4_ << 0x10 | local_78._8_4_) & uVar40;
      uVar54 = (local_78._12_4_ << 0x10 | local_78._12_4_) & uVar51;
      uVar41 = (uVar41 | uVar41 << 8) & uVar53;
      uVar50 = (uVar50 | uVar50 << 8) & uVar55;
      uVar52 = (uVar52 | uVar52 << 8) & uVar57;
      uVar54 = (uVar54 | uVar54 << 8) & uVar59;
      uVar41 = (uVar41 | uVar41 << 4) & uVar56;
      uVar50 = (uVar50 | uVar50 << 4) & uVar61;
      uVar52 = (uVar52 | uVar52 << 4) & uVar58;
      uVar54 = (uVar54 | uVar54 << 4) & uVar60;
      uVar23 = (local_68._0_4_ << 0x10 | local_68._0_4_) & uVar23;
      uVar38 = (local_68._4_4_ << 0x10 | local_68._4_4_) & uVar38;
      uVar40 = (local_68._8_4_ << 0x10 | local_68._8_4_) & uVar40;
      uVar51 = (local_68._12_4_ << 0x10 | local_68._12_4_) & uVar51;
      uVar53 = (uVar23 | uVar23 << 8) & uVar53;
      uVar55 = (uVar38 | uVar38 << 8) & uVar55;
      uVar57 = (uVar40 | uVar40 << 8) & uVar57;
      uVar59 = (uVar51 | uVar51 << 8) & uVar59;
      uVar56 = (uVar53 | uVar53 << 4) & uVar56;
      uVar61 = (uVar55 | uVar55 << 4) & uVar61;
      uVar58 = (uVar57 | uVar57 << 4) & uVar58;
      uVar60 = (uVar59 | uVar59 << 4) & uVar60;
      uVar57 = (uVar61 | uVar61 << 2) & _UNK_00112bd4;
      uVar59 = (uVar58 | uVar58 << 2) & _UNK_00112bd8;
      uVar61 = (uVar60 | uVar60 << 2) & _UNK_00112bdc;
      uVar51 = (uVar50 | uVar50 << 2) & _UNK_00112bd4;
      uVar53 = (uVar52 | uVar52 << 2) & _UNK_00112bd8;
      uVar55 = (uVar54 | uVar54 << 2) & _UNK_00112bdc;
      uVar23 = (uVar36 | uVar36 << 2) & _UNK_00112bd4;
      uVar38 = (uVar37 | uVar37 << 2) & _UNK_00112bd8;
      uVar40 = (uVar39 | uVar39 << 2) & _UNK_00112bdc;
      *puVar16 = (uVar29 | uVar29 << 2) & __LC47 |
                 ((uVar41 | uVar41 << 2) & __LC47) << 1 | ((uVar56 | uVar56 << 2) & __LC47) << 2;
      if (lVar24 != 1) {
        puVar16 = (uint *)(lVar1 + 8 + lVar19 * 8);
        *puVar16 = uVar23 | uVar51 << 1 | uVar57 << 2;
        puVar16[1] = local_58._4_4_;
        if (lVar24 != 2) {
          puVar16 = (uint *)(lVar1 + 0x10 + lVar19 * 8);
          puVar16[1] = local_58._8_4_;
          *puVar16 = uVar38 | uVar53 << 1 | uVar59 << 2;
          if (lVar24 != 3) {
            puVar16 = (uint *)(lVar1 + 0x18 + lVar19 * 8);
            *puVar16 = uVar40 | uVar55 << 1 | uVar61 << 2;
            puVar16[1] = local_58._12_4_;
          }
        }
      }
    }
  }
  else {
    lVar21 = 0;
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar21;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&, unsigned
   long)#5}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&, unsigned long) const */

long __thiscall
embree::sse2::
createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)
::{lambda(embree::range<unsigned_long>const&,unsigned_long)#5}::operator()
          (_lambda_embree__range<unsigned_long>const__unsigned_long__5_ *this,range *param_1,
          ulong param_2)

{
  long lVar1;
  float *pfVar2;
  long lVar3;
  long lVar4;
  float fVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  undefined1 auVar11 [16];
  float fVar12;
  float fVar13;
  uint *puVar14;
  float *pfVar15;
  long lVar16;
  long *plVar17;
  ulong uVar18;
  uint uVar19;
  ulong uVar20;
  ulong uVar21;
  ulong uVar22;
  ulong uVar23;
  ulong uVar24;
  long lVar25;
  long lVar26;
  long in_FS_OFFSET;
  uint uVar27;
  uint uVar28;
  uint uVar29;
  uint uVar30;
  uint uVar31;
  uint uVar32;
  uint uVar33;
  uint uVar41;
  uint uVar43;
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  uint uVar42;
  uint uVar44;
  uint uVar45;
  uint uVar46;
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  uint uVar47;
  uint uVar48;
  uint uVar49;
  uint uVar50;
  uint uVar51;
  uint uVar52;
  undefined1 auVar53 [16];
  undefined1 auVar54 [16];
  undefined1 auVar55 [16];
  undefined1 auVar56 [16];
  undefined1 auVar57 [16];
  undefined1 auVar58 [16];
  undefined1 auVar61 [16];
  undefined1 auVar62 [16];
  undefined1 auVar63 [16];
  undefined1 auVar64 [16];
  undefined1 auVar65 [16];
  undefined1 auVar66 [16];
  undefined1 auVar67 [16];
  undefined1 auVar68 [16];
  undefined1 auVar69 [16];
  undefined1 auVar70 [16];
  undefined1 auVar71 [16];
  undefined1 auVar72 [16];
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  long local_40;
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  undefined1 auVar59 [16];
  undefined1 auVar60 [16];
  
  fVar13 = _LC43;
  fVar12 = _LC41;
  uVar22 = *(ulong *)param_1;
  uVar24 = *(ulong *)(param_1 + 8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_88 = (undefined1  [16])0x0;
  local_78 = (undefined1  [16])0x0;
  local_68 = (undefined1  [16])0x0;
  local_58 = (undefined1  [16])0x0;
  lVar1 = *(long *)(*(long *)(this + 8) + 0x20) + param_2 * 8;
  pfVar2 = *(float **)this;
  fVar5 = *pfVar2;
  fVar6 = pfVar2[1];
  fVar7 = pfVar2[2];
  fVar8 = pfVar2[4];
  fVar9 = pfVar2[5];
  fVar10 = pfVar2[6];
  if (uVar22 < uVar24) {
    lVar25 = 0;
    lVar26 = 0;
    do {
      while( true ) {
        lVar16 = **(long **)(this + 0x10);
        plVar17 = *(long **)(lVar16 + 0xd0);
        puVar14 = (uint *)(*(long *)(lVar16 + 0x60) * uVar22 + *(long *)(lVar16 + 0x58));
        uVar18 = plVar17[2];
        uVar20 = (ulong)*puVar14;
        if (((uVar20 < uVar18) && (uVar21 = (ulong)puVar14[1], uVar21 < uVar18)) &&
           (uVar23 = (ulong)puVar14[2], uVar23 < uVar18)) break;
LAB_0010caa0:
        uVar22 = uVar22 + 1;
        if (uVar24 <= uVar22) goto LAB_0010caad;
      }
      if (*(uint *)(lVar16 + 0x24) != 0) {
        uVar18 = 0;
        do {
          lVar3 = plVar17[1];
          lVar4 = *plVar17;
          pfVar2 = (float *)(lVar4 + uVar20 * lVar3);
          auVar35 = *(undefined1 (*) [16])(lVar4 + uVar21 * lVar3);
          pfVar15 = (float *)(lVar3 * uVar23 + lVar4);
          auVar53._0_4_ = -(uint)(fVar13 < *pfVar2 && *pfVar2 < fVar12);
          auVar53._4_4_ = -(uint)(fVar13 < pfVar2[1] && pfVar2[1] < fVar12);
          auVar53._8_4_ = -(uint)(fVar13 < pfVar2[2] && pfVar2[2] < fVar12);
          auVar53._12_4_ = -(uint)(fVar13 < pfVar2[3] && pfVar2[3] < fVar12);
          uVar19 = movmskps((int)lVar4,auVar53);
          if ((((~uVar19 & 7) != 0) ||
              (auVar66._0_4_ = -(uint)(fVar13 < auVar35._0_4_ && auVar35._0_4_ < fVar12),
              auVar66._4_4_ = -(uint)(fVar13 < auVar35._4_4_ && auVar35._4_4_ < fVar12),
              auVar66._8_4_ = -(uint)(fVar13 < auVar35._8_4_ && auVar35._8_4_ < fVar12),
              auVar66._12_4_ = -(uint)(fVar13 < auVar35._12_4_ && auVar35._12_4_ < fVar12),
              uVar19 = movmskps(0,auVar66), (~uVar19 & 7) != 0)) ||
             (auVar35._0_4_ = -(uint)(fVar13 < *pfVar15 && *pfVar15 < fVar12),
             auVar35._4_4_ = -(uint)(fVar13 < pfVar15[1] && pfVar15[1] < fVar12),
             auVar35._8_4_ = -(uint)(fVar13 < pfVar15[2] && pfVar15[2] < fVar12),
             auVar35._12_4_ = -(uint)(fVar13 < pfVar15[3] && pfVar15[3] < fVar12),
             uVar19 = movmskps((int)pfVar15,auVar35), (~uVar19 & 7) != 0)) goto LAB_0010caa0;
          uVar18 = uVar18 + 1;
          plVar17 = plVar17 + 6;
        } while (*(uint *)(lVar16 + 0x24) != uVar18);
      }
      lVar3 = *(long *)(lVar16 + 0x90);
      lVar16 = *(long *)(lVar16 + 0x88);
      *(int *)(local_58 + lVar25 * 4) = (int)uVar22;
      lVar26 = lVar26 + 1;
      auVar35 = *(undefined1 (*) [16])(lVar16 + uVar20 * lVar3);
      auVar53 = *(undefined1 (*) [16])(lVar16 + uVar21 * lVar3);
      auVar66 = *(undefined1 (*) [16])(lVar16 + uVar23 * lVar3);
      auVar34 = maxps(auVar35,auVar53);
      auVar53 = minps(auVar35,auVar53);
      auVar35 = maxps(auVar34,auVar66);
      auVar53 = minps(auVar53,auVar66);
      *(int *)(local_88 + lVar25 * 4) = (int)(((auVar35._0_4_ + auVar53._0_4_) - fVar5) * fVar8);
      *(int *)(local_78 + lVar25 * 4) = (int)(((auVar35._4_4_ + auVar53._4_4_) - fVar6) * fVar9);
      *(int *)(local_68 + lVar25 * 4) = (int)(((auVar35._8_4_ + auVar53._8_4_) - fVar7) * fVar10);
      lVar25 = lVar25 + 1;
      if (lVar25 != 4) goto LAB_0010caa0;
      uVar22 = uVar22 + 1;
      lVar25 = 0;
      auVar34._4_4_ = _UNK_00112ba4;
      auVar34._0_4_ = __LC44;
      auVar34._8_4_ = _UNK_00112ba8;
      auVar34._12_4_ = _UNK_00112bac;
      auVar64._4_4_ = _UNK_00112bb4;
      auVar64._0_4_ = __LC45;
      auVar64._8_4_ = _UNK_00112bb8;
      auVar64._12_4_ = _UNK_00112bbc;
      auVar65._4_4_ = _UNK_00112bc4;
      auVar65._0_4_ = __LC46;
      auVar65._8_4_ = _UNK_00112bc8;
      auVar65._12_4_ = _UNK_00112bcc;
      auVar36._0_4_ = local_88._0_4_ << 0x10;
      auVar36._4_4_ = local_88._4_4_ << 0x10;
      auVar36._8_4_ = local_88._8_4_ << 0x10;
      auVar36._12_4_ = local_88._12_4_ << 0x10;
      auVar35 = (auVar36 | local_88) & auVar34;
      auVar54._0_4_ = auVar35._0_4_ << 8;
      auVar54._4_4_ = auVar35._4_4_ << 8;
      auVar54._8_4_ = auVar35._8_4_ << 8;
      auVar54._12_4_ = auVar35._12_4_ << 8;
      auVar35 = (auVar35 | auVar54) & auVar64;
      auVar55._0_4_ = auVar35._0_4_ << 4;
      auVar55._4_4_ = auVar35._4_4_ << 4;
      auVar55._8_4_ = auVar35._8_4_ << 4;
      auVar55._12_4_ = auVar35._12_4_ << 4;
      auVar35 = (auVar35 | auVar55) & auVar65;
      auVar56._0_4_ = local_78._0_4_ << 0x10;
      auVar56._4_4_ = local_78._4_4_ << 0x10;
      auVar56._8_4_ = local_78._8_4_ << 0x10;
      auVar56._12_4_ = local_78._12_4_ << 0x10;
      auVar68._0_4_ = auVar35._0_4_ << 2;
      auVar68._4_4_ = auVar35._4_4_ << 2;
      auVar68._8_4_ = auVar35._8_4_ << 2;
      auVar68._12_4_ = auVar35._12_4_ << 2;
      auVar53 = (auVar56 | local_78) & auVar34;
      auVar61._0_4_ = auVar53._0_4_ << 8;
      auVar61._4_4_ = auVar53._4_4_ << 8;
      auVar61._8_4_ = auVar53._8_4_ << 8;
      auVar61._12_4_ = auVar53._12_4_ << 8;
      auVar53 = (auVar53 | auVar61) & auVar64;
      auVar62._0_4_ = auVar53._0_4_ << 4;
      auVar62._4_4_ = auVar53._4_4_ << 4;
      auVar62._8_4_ = auVar53._8_4_ << 4;
      auVar62._12_4_ = auVar53._12_4_ << 4;
      auVar53 = (auVar53 | auVar62) & auVar65;
      auVar63._0_4_ = local_68._0_4_ << 0x10;
      auVar63._4_4_ = local_68._4_4_ << 0x10;
      auVar63._8_4_ = local_68._8_4_ << 0x10;
      auVar63._12_4_ = local_68._12_4_ << 0x10;
      auVar69._0_4_ = auVar53._0_4_ << 2;
      auVar69._4_4_ = auVar53._4_4_ << 2;
      auVar69._8_4_ = auVar53._8_4_ << 2;
      auVar69._12_4_ = auVar53._12_4_ << 2;
      auVar34 = (auVar63 | local_68) & auVar34;
      auVar72._0_4_ = auVar34._0_4_ << 8;
      auVar72._4_4_ = auVar34._4_4_ << 8;
      auVar72._8_4_ = auVar34._8_4_ << 8;
      auVar72._12_4_ = auVar34._12_4_ << 8;
      auVar64 = (auVar34 | auVar72) & auVar64;
      auVar71._0_4_ = auVar64._0_4_ << 4;
      auVar71._4_4_ = auVar64._4_4_ << 4;
      auVar71._8_4_ = auVar64._8_4_ << 4;
      auVar71._12_4_ = auVar64._12_4_ << 4;
      auVar65 = (auVar64 | auVar71) & auVar65;
      auVar70._0_4_ = auVar65._0_4_ << 2;
      auVar70._4_4_ = auVar65._4_4_ << 2;
      auVar70._8_4_ = auVar65._8_4_ << 2;
      auVar70._12_4_ = auVar65._12_4_ << 2;
      auVar11._4_4_ = _UNK_00112bd4;
      auVar11._0_4_ = __LC47;
      auVar11._8_4_ = _UNK_00112bd8;
      auVar11._12_4_ = _UNK_00112bdc;
      auVar66 = (auVar65 | auVar70) & auVar11;
      auVar53 = (auVar53 | auVar69) & auVar11;
      auVar67._0_4_ = auVar66._0_4_ << 2;
      auVar67._4_4_ = auVar66._4_4_ << 2;
      auVar67._8_4_ = auVar66._8_4_ << 2;
      auVar67._12_4_ = auVar66._12_4_ << 2;
      auVar57._0_4_ = auVar53._0_4_ << 1;
      auVar57._4_4_ = auVar53._4_4_ << 1;
      auVar57._8_4_ = auVar53._8_4_ << 1;
      auVar57._12_4_ = auVar53._12_4_ << 1;
      auVar35 = (auVar35 | auVar68) & auVar11 | auVar57 | auVar67;
      auVar59._0_8_ = auVar35._0_8_;
      auVar39._12_4_ = auVar35._12_4_;
      auVar37._4_12_ = auVar35._4_12_;
      auVar37._0_4_ = auVar35._8_4_;
      auVar39._0_8_ = auVar37._0_8_;
      auVar39._8_4_ = auVar39._12_4_;
      auVar38._8_8_ = auVar39._8_8_;
      auVar38._4_4_ = local_58._8_4_;
      auVar38._0_4_ = auVar35._8_4_;
      auVar40._0_12_ = auVar38._0_12_;
      auVar40._12_4_ = local_58._12_4_;
      auVar59._8_4_ = auVar35._4_4_;
      auVar59._12_4_ = auVar39._12_4_;
      auVar58._8_8_ = auVar59._8_8_;
      auVar58._0_4_ = auVar35._0_4_;
      auVar58._4_4_ = local_58._0_4_;
      auVar60._0_12_ = auVar58._0_12_;
      auVar60._12_4_ = local_58._4_4_;
      *(undefined1 (*) [16])(lVar1 + -0x10 + lVar26 * 8) = auVar40;
      *(undefined1 (*) [16])(lVar1 + -0x20 + lVar26 * 8) = auVar60;
      uVar24 = *(ulong *)(param_1 + 8);
    } while (uVar22 < uVar24);
LAB_0010caad:
    uVar51 = _UNK_00112bcc;
    uVar49 = _UNK_00112bc8;
    uVar52 = _UNK_00112bc4;
    uVar47 = __LC46;
    uVar50 = _UNK_00112bbc;
    uVar48 = _UNK_00112bb8;
    uVar46 = _UNK_00112bb4;
    uVar44 = __LC45;
    uVar42 = _UNK_00112bac;
    uVar32 = _UNK_00112ba8;
    uVar30 = _UNK_00112ba4;
    uVar19 = __LC44;
    if (lVar25 != 0) {
      lVar16 = lVar26 - lVar25;
      puVar14 = (uint *)(lVar1 + lVar16 * 8);
      uVar27 = (local_88._0_4_ << 0x10 | local_88._0_4_) & __LC44;
      uVar28 = (local_88._4_4_ << 0x10 | local_88._4_4_) & _UNK_00112ba4;
      uVar29 = (local_88._8_4_ << 0x10 | local_88._8_4_) & _UNK_00112ba8;
      uVar31 = (local_88._12_4_ << 0x10 | local_88._12_4_) & _UNK_00112bac;
      puVar14[1] = local_58._0_4_;
      uVar27 = (uVar27 | uVar27 << 8) & uVar44;
      uVar28 = (uVar28 | uVar28 << 8) & uVar46;
      uVar29 = (uVar29 | uVar29 << 8) & uVar48;
      uVar31 = (uVar31 | uVar31 << 8) & uVar50;
      uVar27 = (uVar27 | uVar27 << 4) & uVar47;
      uVar28 = (uVar28 | uVar28 << 4) & uVar52;
      uVar29 = (uVar29 | uVar29 << 4) & uVar49;
      uVar31 = (uVar31 | uVar31 << 4) & uVar51;
      uVar33 = (local_78._0_4_ << 0x10 | local_78._0_4_) & uVar19;
      uVar41 = (local_78._4_4_ << 0x10 | local_78._4_4_) & uVar30;
      uVar43 = (local_78._8_4_ << 0x10 | local_78._8_4_) & uVar32;
      uVar45 = (local_78._12_4_ << 0x10 | local_78._12_4_) & uVar42;
      uVar33 = (uVar33 | uVar33 << 8) & uVar44;
      uVar41 = (uVar41 | uVar41 << 8) & uVar46;
      uVar43 = (uVar43 | uVar43 << 8) & uVar48;
      uVar45 = (uVar45 | uVar45 << 8) & uVar50;
      uVar33 = (uVar33 | uVar33 << 4) & uVar47;
      uVar41 = (uVar41 | uVar41 << 4) & uVar52;
      uVar43 = (uVar43 | uVar43 << 4) & uVar49;
      uVar45 = (uVar45 | uVar45 << 4) & uVar51;
      uVar19 = (local_68._0_4_ << 0x10 | local_68._0_4_) & uVar19;
      uVar30 = (local_68._4_4_ << 0x10 | local_68._4_4_) & uVar30;
      uVar32 = (local_68._8_4_ << 0x10 | local_68._8_4_) & uVar32;
      uVar42 = (local_68._12_4_ << 0x10 | local_68._12_4_) & uVar42;
      uVar44 = (uVar19 | uVar19 << 8) & uVar44;
      uVar46 = (uVar30 | uVar30 << 8) & uVar46;
      uVar48 = (uVar32 | uVar32 << 8) & uVar48;
      uVar50 = (uVar42 | uVar42 << 8) & uVar50;
      uVar47 = (uVar44 | uVar44 << 4) & uVar47;
      uVar52 = (uVar46 | uVar46 << 4) & uVar52;
      uVar49 = (uVar48 | uVar48 << 4) & uVar49;
      uVar51 = (uVar50 | uVar50 << 4) & uVar51;
      uVar48 = (uVar52 | uVar52 << 2) & _UNK_00112bd4;
      uVar50 = (uVar49 | uVar49 << 2) & _UNK_00112bd8;
      uVar52 = (uVar51 | uVar51 << 2) & _UNK_00112bdc;
      uVar42 = (uVar41 | uVar41 << 2) & _UNK_00112bd4;
      uVar44 = (uVar43 | uVar43 << 2) & _UNK_00112bd8;
      uVar46 = (uVar45 | uVar45 << 2) & _UNK_00112bdc;
      uVar19 = (uVar28 | uVar28 << 2) & _UNK_00112bd4;
      uVar30 = (uVar29 | uVar29 << 2) & _UNK_00112bd8;
      uVar32 = (uVar31 | uVar31 << 2) & _UNK_00112bdc;
      *puVar14 = (uVar27 | uVar27 << 2) & __LC47 |
                 ((uVar33 | uVar33 << 2) & __LC47) << 1 | ((uVar47 | uVar47 << 2) & __LC47) << 2;
      if (lVar25 != 1) {
        puVar14 = (uint *)(lVar1 + 8 + lVar16 * 8);
        *puVar14 = uVar19 | uVar42 << 1 | uVar48 << 2;
        puVar14[1] = local_58._4_4_;
        if (lVar25 != 2) {
          puVar14 = (uint *)(lVar1 + 0x10 + lVar16 * 8);
          puVar14[1] = local_58._8_4_;
          *puVar14 = uVar30 | uVar44 << 1 | uVar50 << 2;
          if (lVar25 != 3) {
            puVar14 = (uint *)(lVar1 + 0x18 + lVar16 * 8);
            *puVar14 = uVar32 | uVar46 << 1 | uVar52 << 2;
            puVar14[1] = local_58._12_4_;
          }
        }
      }
    }
  }
  else {
    lVar26 = 0;
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar26;
}



/* WARNING: Removing unreachable block (ram,0x0010d18d) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long lVar19;
  Thread *pTVar20;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar20 = pTVar16 + 0x40;
  pTVar18 = pTVar20;
  do {
    *(undefined4 *)pTVar18 = 0;
    pTVar17 = pTVar18 + 0x80;
    *(undefined4 *)(pTVar18 + 0x40) = 0;
    pTVar18 = pTVar17;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar18 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar4 + 0x40 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar17 = pTVar16 + uVar3 + 0x40080;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar17 = &PTR_execute_00112b28;
      uVar5 = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(pTVar17 + 8) = uVar8;
      *(undefined8 *)(pTVar17 + 0x10) = uVar9;
      *(undefined8 *)(pTVar17 + 0x18) = uVar10;
      *(undefined8 *)(pTVar17 + 0x20) = uVar11;
      *(undefined8 *)(pTVar17 + 0x38) = uVar5;
      *(undefined8 *)(pTVar17 + 0x28) = uVar12;
      *(undefined8 *)(pTVar17 + 0x30) = uVar13;
      lVar19 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar19 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar19 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar19 + 0x50) = pTVar17;
      *(long *)(pTVar16 + lVar19 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar19 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar19 + 0x68) = lVar4;
      *(ulong *)(pTVar16 + lVar19 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar20 + lVar19) == 0) {
        *(undefined4 *)(pTVar20 + lVar19) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          (**(code **)(*(long *)local_48 + 0x18))();
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar20,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          (**(code **)(*(long *)local_48 + 0x18))();
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar18);
      pTVar20 = *(Thread **)param_2;
      if (pTVar20 != (Thread *)0x0) {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar20 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar20 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      local_48 = pTVar20;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_48);
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* void embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*) */

void embree::TaskScheduler::
     spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_>
               (ulong param_1,ulong param_2,ulong param_3,
               _lambda_embree__range<unsigned_long>_const___3_ *param_4,TaskGroupContext *param_5)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  TaskScheduler *this;
  long in_FS_OFFSET;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  undefined8 uStack_40;
  undefined8 uStack_38;
  undefined8 uStack_30;
  TaskGroupContext *local_28;
  long local_20;
  
  uStack_40 = *(undefined8 *)param_4;
  uStack_38 = *(undefined8 *)(param_4 + 8);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uStack_30 = *(undefined8 *)(param_4 + 0x10);
  local_58 = param_2;
  uStack_50 = param_1;
  local_48 = param_3;
  local_28 = param_5;
  lVar6 = embree::TaskScheduler::thread();
  if (lVar6 == 0) {
    this = (TaskScheduler *)embree::TaskScheduler::instance();
    spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
              (this,(_lambda___1_ *)&local_58,param_5,param_2 - param_1,true);
LAB_0010d427:
    if (local_20 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    return;
  }
  if (*(ulong *)(lVar6 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(lVar6 + 0xc00c0);
    uVar2 = lVar4 + 0x40 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar2 < 0x80001) {
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar2);
      *puVar3 = &PTR_execute_00112b28;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[7] = local_28;
      puVar3[3] = local_48;
      puVar3[4] = uStack_40;
      puVar3[5] = uStack_38;
      puVar3[6] = uStack_30;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = param_5;
      *(long *)(lVar7 + 0x68) = lVar4;
      *(ulong *)(lVar7 + 0x70) = param_2 - param_1;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
      goto LAB_0010d427;
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3}>(unsigned long,
   unsigned long, unsigned long,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#3} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned_long>const&)#3}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned_long>const&)#3}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  undefined1 auVar1 [16];
  ulong uVar2;
  long lVar3;
  float *pfVar4;
  long lVar5;
  float fVar6;
  float fVar7;
  float fVar8;
  float fVar9;
  float fVar10;
  float fVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  uint uVar16;
  long lVar17;
  ulong uVar18;
  uint *puVar19;
  ulong uVar20;
  long lVar21;
  long *plVar22;
  long in_FS_OFFSET;
  uint uVar23;
  uint uVar26;
  uint uVar27;
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  uint uVar28;
  uint uVar29;
  uint uVar31;
  uint uVar32;
  undefined1 auVar30 [16];
  uint uVar33;
  uint uVar34;
  uint uVar35;
  uint uVar36;
  uint uVar37;
  uint uVar38;
  uint uVar39;
  uint uVar40;
  uint uVar41;
  uint uVar42;
  uint uVar43;
  uint uVar44;
  uint uVar45;
  uint uVar46;
  uint uVar47;
  uint uVar48;
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  undefined1 local_48 [16];
  undefined1 local_38 [16];
  long local_20;
  
  uVar16 = _UNK_00112bdc;
  uVar15 = _UNK_00112bd8;
  uVar14 = _UNK_00112bd4;
  uVar13 = __LC47;
  uVar12 = _UNK_00112bcc;
  uVar48 = _UNK_00112bc8;
  uVar44 = _UNK_00112bc4;
  uVar40 = __LC46;
  uVar33 = _UNK_00112bbc;
  uVar32 = _UNK_00112bb8;
  uVar31 = _UNK_00112bb4;
  uVar29 = __LC45;
  uVar28 = _UNK_00112bac;
  uVar27 = _UNK_00112ba8;
  uVar26 = _UNK_00112ba4;
  uVar23 = __LC44;
  uVar20 = *(ulong *)(this + 8);
  uVar2 = *(ulong *)(this + 0x10);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x18) < uVar20 - uVar2) {
    uVar20 = uVar20 + uVar2 >> 1;
    spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar2,uVar20,*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___3_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_>
              (uVar20,*(ulong *)(this + 8),*(ulong *)(this + 0x18),
               (_lambda_embree__range<unsigned_long>_const___3_ *)(this + 0x20),
               *(TaskGroupContext **)(this + 0x38));
    if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else {
    local_68 = (undefined1  [16])0x0;
    lVar3 = *(long *)(*(long *)(this + 0x28) + 0x20);
    pfVar4 = *(float **)(this + 0x20);
    local_58 = (undefined1  [16])0x0;
    local_48 = (undefined1  [16])0x0;
    fVar6 = *pfVar4;
    fVar7 = pfVar4[1];
    fVar8 = pfVar4[2];
    fVar9 = pfVar4[4];
    fVar10 = pfVar4[5];
    fVar11 = pfVar4[6];
    local_38 = (undefined1  [16])0x0;
    if (uVar2 < uVar20) {
      plVar22 = *(long **)(this + 0x30);
      lVar17 = 0;
      uVar18 = uVar2;
      do {
        while( true ) {
          uVar47 = _UNK_00112bcc;
          uVar43 = _UNK_00112bc8;
          uVar39 = _UNK_00112bc4;
          uVar36 = __LC46;
          uVar46 = _UNK_00112bbc;
          uVar42 = _UNK_00112bb8;
          uVar38 = _UNK_00112bb4;
          uVar35 = __LC45;
          uVar45 = _UNK_00112bac;
          uVar41 = _UNK_00112ba8;
          uVar37 = _UNK_00112ba4;
          uVar34 = __LC44;
          lVar21 = *plVar22;
          *(int *)(local_38 + lVar17 * 4) = (int)uVar18;
          lVar5 = *(long *)(lVar21 + 0x88);
          puVar19 = (uint *)(*(long *)(lVar21 + 0x60) * uVar18 + *(long *)(lVar21 + 0x58));
          lVar21 = *(long *)(lVar21 + 0x90);
          auVar25 = *(undefined1 (*) [16])(lVar5 + (ulong)*puVar19 * lVar21);
          auVar30 = *(undefined1 (*) [16])(lVar5 + (ulong)puVar19[1] * lVar21);
          auVar1 = *(undefined1 (*) [16])(lVar5 + (ulong)puVar19[2] * lVar21);
          auVar24 = maxps(auVar25,auVar30);
          auVar30 = minps(auVar25,auVar30);
          auVar25 = maxps(auVar24,auVar1);
          auVar30 = minps(auVar30,auVar1);
          *(int *)(local_68 + lVar17 * 4) = (int)(((auVar25._0_4_ + auVar30._0_4_) - fVar6) * fVar9)
          ;
          *(int *)(local_58 + lVar17 * 4) =
               (int)(((auVar25._4_4_ + auVar30._4_4_) - fVar7) * fVar10);
          *(int *)(local_48 + lVar17 * 4) =
               (int)(((auVar25._8_4_ + auVar30._8_4_) - fVar8) * fVar11);
          lVar17 = lVar17 + 1;
          if (lVar17 != 4) break;
          uVar34 = (local_68._0_4_ << 0x10 | local_68._0_4_) & uVar23;
          uVar37 = (local_68._4_4_ << 0x10 | local_68._4_4_) & uVar26;
          uVar41 = (local_68._8_4_ << 0x10 | local_68._8_4_) & uVar27;
          uVar45 = (local_68._12_4_ << 0x10 | local_68._12_4_) & uVar28;
          uVar34 = (uVar34 | uVar34 << 8) & uVar29;
          uVar37 = (uVar37 | uVar37 << 8) & uVar31;
          uVar41 = (uVar41 | uVar41 << 8) & uVar32;
          uVar45 = (uVar45 | uVar45 << 8) & uVar33;
          uVar34 = (uVar34 | uVar34 << 4) & uVar40;
          uVar37 = (uVar37 | uVar37 << 4) & uVar44;
          uVar41 = (uVar41 | uVar41 << 4) & uVar48;
          uVar45 = (uVar45 | uVar45 << 4) & uVar12;
          uVar35 = (local_58._0_4_ << 0x10 | local_58._0_4_) & uVar23;
          uVar38 = (local_58._4_4_ << 0x10 | local_58._4_4_) & uVar26;
          uVar42 = (local_58._8_4_ << 0x10 | local_58._8_4_) & uVar27;
          uVar46 = (local_58._12_4_ << 0x10 | local_58._12_4_) & uVar28;
          uVar35 = (uVar35 | uVar35 << 8) & uVar29;
          uVar38 = (uVar38 | uVar38 << 8) & uVar31;
          uVar42 = (uVar42 | uVar42 << 8) & uVar32;
          uVar46 = (uVar46 | uVar46 << 8) & uVar33;
          uVar35 = (uVar35 | uVar35 << 4) & uVar40;
          uVar38 = (uVar38 | uVar38 << 4) & uVar44;
          uVar42 = (uVar42 | uVar42 << 4) & uVar48;
          uVar46 = (uVar46 | uVar46 << 4) & uVar12;
          uVar36 = (local_48._0_4_ << 0x10 | local_48._0_4_) & uVar23;
          uVar39 = (local_48._4_4_ << 0x10 | local_48._4_4_) & uVar26;
          uVar43 = (local_48._8_4_ << 0x10 | local_48._8_4_) & uVar27;
          uVar47 = (local_48._12_4_ << 0x10 | local_48._12_4_) & uVar28;
          uVar36 = (uVar36 | uVar36 << 8) & uVar29;
          uVar39 = (uVar39 | uVar39 << 8) & uVar31;
          uVar43 = (uVar43 | uVar43 << 8) & uVar32;
          uVar47 = (uVar47 | uVar47 << 8) & uVar33;
          uVar36 = (uVar36 | uVar36 << 4) & uVar40;
          uVar39 = (uVar39 | uVar39 << 4) & uVar44;
          uVar43 = (uVar43 | uVar43 << 4) & uVar48;
          uVar47 = (uVar47 | uVar47 << 4) & uVar12;
          puVar19 = (uint *)(lVar3 + -8 + uVar18 * 8);
          *puVar19 = (uVar41 | uVar41 << 2) & uVar15 |
                     ((uVar42 | uVar42 << 2) & uVar15) << 1 | ((uVar43 | uVar43 << 2) & uVar15) << 2
          ;
          puVar19[1] = local_38._8_4_;
          puVar19[2] = (uVar45 | uVar45 << 2) & uVar16 |
                       ((uVar46 | uVar46 << 2) & uVar16) << 1 |
                       ((uVar47 | uVar47 << 2) & uVar16) << 2;
          puVar19[3] = local_38._12_4_;
          puVar19 = (uint *)(lVar3 + -0x18 + uVar18 * 8);
          *puVar19 = (uVar34 | uVar34 << 2) & uVar13 |
                     ((uVar35 | uVar35 << 2) & uVar13) << 1 | ((uVar36 | uVar36 << 2) & uVar13) << 2
          ;
          puVar19[1] = local_38._0_4_;
          puVar19[2] = (uVar37 | uVar37 << 2) & uVar14 |
                       ((uVar38 | uVar38 << 2) & uVar14) << 1 |
                       ((uVar39 | uVar39 << 2) & uVar14) << 2;
          puVar19[3] = local_38._4_4_;
          uVar18 = uVar18 + 1;
          if (uVar20 == uVar18) goto LAB_0010d797;
          plVar22 = *(long **)(this + 0x30);
          lVar17 = 0;
        }
        uVar18 = uVar18 + 1;
      } while (uVar20 != uVar18);
      if (lVar17 != 0) {
        lVar3 = lVar3 + uVar2 * 8;
        lVar21 = (uVar20 - uVar2) - lVar17;
        puVar19 = (uint *)(lVar3 + lVar21 * 8);
        puVar19[1] = local_38._0_4_;
        uVar23 = (local_68._0_4_ << 0x10 | local_68._0_4_) & uVar34;
        uVar26 = (local_68._4_4_ << 0x10 | local_68._4_4_) & uVar37;
        uVar27 = (local_68._8_4_ << 0x10 | local_68._8_4_) & uVar41;
        uVar28 = (local_68._12_4_ << 0x10 | local_68._12_4_) & uVar45;
        uVar23 = (uVar23 | uVar23 << 8) & uVar35;
        uVar26 = (uVar26 | uVar26 << 8) & uVar38;
        uVar27 = (uVar27 | uVar27 << 8) & uVar42;
        uVar28 = (uVar28 | uVar28 << 8) & uVar46;
        uVar23 = (uVar23 | uVar23 << 4) & uVar36;
        uVar26 = (uVar26 | uVar26 << 4) & uVar39;
        uVar27 = (uVar27 | uVar27 << 4) & uVar43;
        uVar28 = (uVar28 | uVar28 << 4) & uVar47;
        uVar29 = (local_58._0_4_ << 0x10 | local_58._0_4_) & uVar34;
        uVar31 = (local_58._4_4_ << 0x10 | local_58._4_4_) & uVar37;
        uVar32 = (local_58._8_4_ << 0x10 | local_58._8_4_) & uVar41;
        uVar33 = (local_58._12_4_ << 0x10 | local_58._12_4_) & uVar45;
        uVar29 = (uVar29 | uVar29 << 8) & uVar35;
        uVar31 = (uVar31 | uVar31 << 8) & uVar38;
        uVar32 = (uVar32 | uVar32 << 8) & uVar42;
        uVar33 = (uVar33 | uVar33 << 8) & uVar46;
        uVar29 = (uVar29 | uVar29 << 4) & uVar36;
        uVar31 = (uVar31 | uVar31 << 4) & uVar39;
        uVar32 = (uVar32 | uVar32 << 4) & uVar43;
        uVar33 = (uVar33 | uVar33 << 4) & uVar47;
        uVar34 = (local_48._0_4_ << 0x10 | local_48._0_4_) & uVar34;
        uVar37 = (local_48._4_4_ << 0x10 | local_48._4_4_) & uVar37;
        uVar41 = (local_48._8_4_ << 0x10 | local_48._8_4_) & uVar41;
        uVar45 = (local_48._12_4_ << 0x10 | local_48._12_4_) & uVar45;
        uVar35 = (uVar34 | uVar34 << 8) & uVar35;
        uVar38 = (uVar37 | uVar37 << 8) & uVar38;
        uVar42 = (uVar41 | uVar41 << 8) & uVar42;
        uVar46 = (uVar45 | uVar45 << 8) & uVar46;
        uVar36 = (uVar35 | uVar35 << 4) & uVar36;
        uVar39 = (uVar38 | uVar38 << 4) & uVar39;
        uVar43 = (uVar42 | uVar42 << 4) & uVar43;
        uVar47 = (uVar46 | uVar46 << 4) & uVar47;
        uVar40 = (uVar39 | uVar39 << 2) & _UNK_00112bd4;
        uVar44 = (uVar43 | uVar43 << 2) & _UNK_00112bd8;
        uVar48 = (uVar47 | uVar47 << 2) & _UNK_00112bdc;
        uVar31 = (uVar31 | uVar31 << 2) & _UNK_00112bd4;
        uVar32 = (uVar32 | uVar32 << 2) & _UNK_00112bd8;
        uVar33 = (uVar33 | uVar33 << 2) & _UNK_00112bdc;
        uVar26 = (uVar26 | uVar26 << 2) & _UNK_00112bd4;
        uVar27 = (uVar27 | uVar27 << 2) & _UNK_00112bd8;
        uVar28 = (uVar28 | uVar28 << 2) & _UNK_00112bdc;
        *puVar19 = (uVar23 | uVar23 << 2) & __LC47 |
                   ((uVar29 | uVar29 << 2) & __LC47) << 1 | ((uVar36 | uVar36 << 2) & __LC47) << 2;
        if (lVar17 != 1) {
          puVar19 = (uint *)(lVar3 + 8 + lVar21 * 8);
          *puVar19 = uVar26 | uVar31 << 1 | uVar40 << 2;
          puVar19[1] = local_38._4_4_;
          if (lVar17 != 2) {
            puVar19 = (uint *)(lVar3 + 0x10 + lVar21 * 8);
            puVar19[1] = local_38._8_4_;
            *puVar19 = uVar27 | uVar32 << 1 | uVar44 << 2;
            if (lVar17 != 3) {
              puVar19 = (uint *)(lVar3 + 0x18 + lVar21 * 8);
              *puVar19 = uVar28 | uVar33 << 1 | uVar48 << 2;
              puVar19[1] = local_38._12_4_;
            }
          }
        }
      }
    }
LAB_0010d797:
    if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* std::pair<unsigned long, embree::BBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned
   long, std::pair<unsigned long, embree::BBox<embree::Vec3fa> >,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#1},
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(std::pair<unsigned long, embree::BBox<embree::Vec3fa> >
   const&, std::pair<unsigned long, embree::BBox<embree::Vec3fa> > const&)#2}>(unsigned long,
   unsigned long, unsigned long, unsigned long, std::pair<unsigned long,
   embree::BBox<embree::Vec3fa> > const&,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&)::{lambda(std::pair<unsigned long, embree::BBox<embree::Vec3fa> >
   const&, std::pair<unsigned long, embree::BBox<embree::Vec3fa> > const&)#2} const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,embree::BBox<embree::Vec3fa>>,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(std::pair<unsigned_long,embree::BBox<embree::Vec3fa>>const&,std::pair<unsigned_long,embree::BBox<embree::Vec3fa>>const&)_2_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,pair_conflict *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _lambda_std__pair<unsigned_long,embree::BBox<embree::Vec3fa>_>_const__std__pair<unsigned_long,embree::BBox<embree::Vec3fa>_>_const___2_
                *param_7)

{
  undefined8 uVar1;
  ulong uVar2;
  long ****pppplVar3;
  long ****pppplVar4;
  long lVar5;
  long in_FS_OFFSET;
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  ulong local_20d8;
  ulong local_20d0;
  ulong local_20c8;
  undefined8 **local_20c0;
  ulong **local_20b8;
  ulong *local_20b0;
  ulong *local_20a8;
  ulong *local_20a0;
  long ***local_2098;
  _lambda_std__pair<unsigned_long,embree::BBox<embree::Vec3fa>_>_const__std__pair<unsigned_long,embree::BBox<embree::Vec3fa>_>_const___2_
  *local_2090;
  long **local_2080 [1020];
  long ***local_a0;
  ulong local_98;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_20d8 = param_4;
  local_20d0 = param_3;
  local_20c8 = param_2;
  uVar2 = embree::TaskScheduler::threadCount();
  if (0x200 < local_20c8) {
    local_20c8 = 0x200;
  }
  pppplVar4 = (long ****)local_2080;
  if (uVar2 < local_20c8) {
    local_20c8 = uVar2;
  }
  do {
    *pppplVar4 = (long ***)0x0;
    pppplVar3 = pppplVar4 + 0xc;
    pppplVar4[6] = (long ***)0x0;
    pppplVar4 = pppplVar3;
  } while (&local_a0 != pppplVar3);
  local_a0 = local_2080;
  local_98 = local_20c8;
  if (0x2000 < local_20c8 * 0x30) {
    local_a0 = (long ***)embree::alignedMalloc(local_20c8 * 0x30,0x40);
  }
  local_20b0 = &local_20d0;
  local_20a8 = &local_20d8;
  local_20a0 = &local_20c8;
  local_2090 = param_7;
  local_2098 = local_2080;
  if (local_20c8 == 0) {
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    uVar1 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar1;
    uVar1 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar1;
  }
  else {
    local_20b8 = &local_20b0;
    local_20c0 = (ulong **)0x0;
    _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImSt4pairImNS_4BBoxINS_6Vec3faEEEEZNS_4sse221createMortonCodeArrayINS_12TriangleMeshEEEmPT_RNS_8vector_tINS9_16BVHBuilderMorton9BuildPrimENS_27aligned_monitored_allocatorISG_Lm8EEEEERNS_20BuildProgressMonitorEEUlRKNS_5rangeImEEE_ZNSA_ISB_EEmSD_SK_SM_EUlRKS8_ST_E0_EET0_SC_SC_SC_SC_RKSV_RKT1_RKT2_EUlmE_EEvSC_SX_EUlSQ_E_EEvSC_SC_SC_SX_PNS0_16TaskGroupContextE
              (0,local_20c8,1,&local_20b8,&local_20c0);
    embree::TaskScheduler::wait();
    if (local_20c0 != (ulong **)0x0) {
      local_20b8 = local_20c0;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_20b8);
    }
    lVar5 = *(long *)param_6;
    *(long *)param_1 = lVar5;
    auVar7 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
    auVar6 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar6;
    if (local_20c8 != 0) {
      pppplVar4 = (long ****)local_a0;
      do {
        auVar6 = maxps(auVar6,*(undefined1 (*) [16])(pppplVar4 + 4));
        auVar7 = minps(auVar7,*(undefined1 (*) [16])(pppplVar4 + 2));
        pppplVar3 = pppplVar4 + 6;
        lVar5 = lVar5 + (long)*pppplVar4;
        *(long *)param_1 = lVar5;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar7;
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar6;
        pppplVar4 = pppplVar3;
      } while ((long ****)(local_a0 + local_20c8 * 6) != pppplVar3);
    }
  }
  if (local_a0 != local_2080) {
    embree::alignedFree(local_a0);
  }
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* unsigned long embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,
   embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,
   embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim, 8ul> >&,
   embree::BuildProgressMonitor&) */

ulong embree::sse2::createMortonCodeArray<embree::TriangleMesh>
                (TriangleMesh *param_1,vector_t *param_2,BuildProgressMonitor *param_3)

{
  ulong uVar1;
  long lVar2;
  TriangleMesh *pTVar3;
  TriangleMesh *pTVar4;
  long *plVar5;
  float *pfVar6;
  long lVar7;
  uint uVar8;
  ulong uVar9;
  ulong uVar10;
  ulong uVar11;
  ulong uVar12;
  ulong uVar13;
  vector_t *pvVar14;
  uint *puVar15;
  TriangleMesh **ppTVar16;
  ulong uVar17;
  TriangleMesh ****ppppTVar18;
  long in_FS_OFFSET;
  uint uVar21;
  uint uVar22;
  undefined1 auVar19 [16];
  undefined1 auVar20 [16];
  uint uVar23;
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  float fVar26;
  float fVar27;
  float fVar28;
  undefined1 in_XMM2 [16];
  float fVar29;
  undefined1 auVar30 [16];
  TriangleMesh ****ppppTVar31;
  TriangleMesh *local_550 [2];
  TriangleMesh *local_540;
  ulong local_538;
  TriangleMesh *local_530;
  undefined8 **local_528;
  TriangleMesh ***local_520;
  TriangleMesh ***local_518;
  vector_t *local_510;
  TriangleMesh **local_508;
  TriangleMesh **local_4f8;
  vector_t *local_4f0;
  TriangleMesh **local_4e8;
  long *local_4e0;
  undefined8 ***local_4d8;
  undefined8 local_4c8 [2];
  undefined1 local_4b8 [16];
  undefined1 local_4a8 [16];
  ulong local_498 [2];
  undefined1 local_488 [16];
  undefined1 local_478 [16];
  undefined1 local_468 [16];
  uint local_458;
  uint uStack_454;
  uint uStack_450;
  uint uStack_44c;
  undefined1 local_448 [16];
  uint local_438;
  uint uStack_434;
  uint uStack_430;
  uint uStack_42c;
  long local_248 [65];
  long local_40;
  
  uVar1 = *(ulong *)(param_2 + 0x10);
  local_4b8._4_4_ = _LC30;
  local_4b8._0_4_ = _LC30;
  local_4b8._8_4_ = _LC30;
  local_4b8._12_4_ = _LC30;
  uVar9 = uVar1 + 0x3ff >> 10;
  local_4a8._4_4_ = _LC28;
  local_4a8._0_4_ = _LC28;
  local_4a8._8_4_ = _LC28;
  local_4a8._12_4_ = _LC28;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_4c8[0] = 0;
  local_550[0] = param_1;
  local_4f8 = local_550;
  if (uVar9 == 1) {
    local_498[0] = 0;
    uVar17 = 0;
    uVar9 = (*(long **)(param_1 + 0xd0))[2];
    puVar15 = *(uint **)(param_1 + 0x58);
    in_XMM2._4_4_ = _LC43;
    in_XMM2._0_4_ = _LC43;
    in_XMM2._8_4_ = _LC43;
    in_XMM2._12_4_ = _LC43;
    local_478 = local_4a8;
    local_488 = local_4b8;
    do {
      uVar10 = (ulong)*puVar15;
      if (((uVar10 < uVar9) && (uVar11 = (ulong)puVar15[1], uVar11 < uVar9)) &&
         (uVar12 = (ulong)puVar15[2], uVar12 < uVar9)) {
        if (*(uint *)(param_1 + 0x24) != 0) {
          uVar13 = 0;
          plVar5 = *(long **)(param_1 + 0xd0);
          do {
            lVar7 = plVar5[1];
            lVar2 = *plVar5;
            pfVar6 = (float *)(lVar2 + uVar10 * lVar7);
            auVar20 = *(undefined1 (*) [16])(lVar2 + uVar11 * lVar7);
            auVar25._0_4_ = -(uint)(*pfVar6 < _LC41 && _LC43 < *pfVar6);
            auVar25._4_4_ = -(uint)(pfVar6[1] < _LC41 && _LC43 < pfVar6[1]);
            auVar25._8_4_ = -(uint)(_LC43 < pfVar6[2] && pfVar6[2] < _LC41);
            auVar25._12_4_ = -(uint)(pfVar6[3] < _LC41 && _LC43 < pfVar6[3]);
            pfVar6 = (float *)(lVar7 * uVar12 + lVar2);
            uVar8 = movmskps((int)lVar2,auVar25);
            if ((((~uVar8 & 7) != 0) ||
                (auVar24._0_4_ = -(uint)(_LC43 < auVar20._0_4_ && auVar20._0_4_ < _LC41),
                auVar24._4_4_ = -(uint)(_LC43 < auVar20._4_4_ && auVar20._4_4_ < _LC41),
                auVar24._8_4_ = -(uint)(_LC43 < auVar20._8_4_ && auVar20._8_4_ < _LC41),
                auVar24._12_4_ = -(uint)(_LC43 < auVar20._12_4_ && auVar20._12_4_ < _LC41),
                uVar8 = movmskps(0,auVar24), (~uVar8 & 7) != 0)) ||
               (auVar20._0_4_ = -(uint)(_LC43 < *pfVar6 && *pfVar6 < _LC41),
               auVar20._4_4_ = -(uint)(_LC43 < pfVar6[1] && pfVar6[1] < _LC41),
               auVar20._8_4_ = -(uint)(_LC43 < pfVar6[2] && pfVar6[2] < _LC41),
               auVar20._12_4_ = -(uint)(_LC43 < pfVar6[3] && pfVar6[3] < _LC41),
               uVar8 = movmskps((int)pfVar6,auVar20), (~uVar8 & 7) != 0)) goto LAB_0010f825;
            uVar13 = uVar13 + 1;
            plVar5 = plVar5 + 6;
          } while (*(uint *)(param_1 + 0x24) != uVar13);
        }
        lVar7 = *(long *)(param_1 + 0x90);
        lVar2 = *(long *)(param_1 + 0x88);
        local_498[0] = local_498[0] + 1;
        auVar20 = *(undefined1 (*) [16])(lVar2 + uVar10 * lVar7);
        auVar25 = *(undefined1 (*) [16])(lVar2 + uVar11 * lVar7);
        auVar24 = *(undefined1 (*) [16])(lVar2 + uVar12 * lVar7);
        auVar19 = maxps(auVar20,auVar25);
        auVar25 = minps(auVar20,auVar25);
        auVar20 = maxps(auVar19,auVar24);
        auVar25 = minps(auVar25,auVar24);
        auVar19._0_4_ = auVar20._0_4_ + auVar25._0_4_;
        auVar19._4_4_ = auVar20._4_4_ + auVar25._4_4_;
        auVar19._8_4_ = auVar20._8_4_ + auVar25._8_4_;
        auVar19._12_4_ = auVar20._12_4_ + auVar25._12_4_;
        local_488 = minps(local_488,auVar19);
        local_478 = maxps(local_478,auVar19);
      }
LAB_0010f825:
      uVar17 = uVar17 + 1;
      puVar15 = (uint *)((long)puVar15 + *(long *)(param_1 + 0x60));
    } while (uVar17 < uVar1);
  }
  else {
    parallel_reduce_internal<unsigned_long,std::pair<unsigned_long,embree::BBox<embree::Vec3fa>>,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(std::pair<unsigned_long,embree::BBox<embree::Vec3fa>>const&,std::pair<unsigned_long,embree::BBox<embree::Vec3fa>>const&)_2_>
              ((ulong)local_498,uVar9,0,uVar1,(pair_conflict *)0x400,
               (_lambda_embree__range<unsigned_long>_const___1_ *)local_4c8,
               (_lambda_std__pair<unsigned_long,embree::BBox<embree::Vec3fa>_>_const__std__pair<unsigned_long,embree::BBox<embree::Vec3fa>_>_const___2_
                *)&local_4f8);
  }
  uVar9 = local_498[0];
  auVar30._0_4_ = local_478._0_4_ - local_488._0_4_;
  auVar30._4_4_ = local_478._4_4_ - local_488._4_4_;
  auVar30._8_4_ = local_478._8_4_ - local_488._8_4_;
  auVar30._12_4_ = local_478._12_4_ - local_488._12_4_;
  auVar20 = rcpps(in_XMM2,auVar30);
  fVar26 = auVar20._0_4_;
  fVar27 = auVar20._4_4_;
  fVar28 = auVar20._8_4_;
  fVar29 = auVar20._12_4_;
  uVar8 = (uint)(((_LC36 - auVar30._0_4_ * fVar26) * fVar26 + fVar26) * _LC53) &
          -(uint)(_LC50 < auVar30._0_4_);
  uVar21 = (uint)(((_LC36 - auVar30._4_4_ * fVar27) * fVar27 + fVar27) * _LC53) &
           -(uint)(_LC50 < auVar30._4_4_);
  uVar22 = (uint)(((_LC36 - auVar30._8_4_ * fVar28) * fVar28 + fVar28) * _LC53) &
           -(uint)(_LC50 < auVar30._8_4_);
  uVar23 = (uint)(((_LC36 - auVar30._12_4_ * fVar29) * fVar29 + fVar29) * _LC53) &
           -(uint)(_LC50 < auVar30._12_4_);
  if (uVar1 == local_498[0]) {
    local_4f8 = (TriangleMesh **)local_448;
    local_520 = (TriangleMesh ***)0x0;
    local_4f0 = param_2;
    local_4e8 = local_550;
    local_448 = local_488;
    local_438 = uVar8;
    uStack_434 = uVar21;
    uStack_430 = uVar22;
    uStack_42c = uVar23;
    TaskScheduler::
    spawn<unsigned_long,embree::sse2::createMortonCodeArray<embree::TriangleMesh>(embree::TriangleMesh*,embree::vector_t<embree::sse2::BVHBuilderMorton::BuildPrim,embree::aligned_monitored_allocator<embree::sse2::BVHBuilderMorton::BuildPrim,8ul>>&,embree::BuildProgressMonitor&)::_lambda(embree::range<unsigned_long>const&)_3_>
              (0,uVar1,0x400,(_lambda_embree__range<unsigned_long>_const___3_ *)&local_4f8,
               (TaskGroupContext *)&local_520);
    embree::TaskScheduler::wait();
    if (local_520 != (TriangleMesh ***)0x0) {
      local_518 = local_520;
      std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
      std::rethrow_exception(&local_518);
    }
  }
  else {
    local_540 = (TriangleMesh *)0x0;
    local_538 = uVar1;
    local_518 = (TriangleMesh ***)local_468;
    local_510 = param_2;
    local_508 = local_550;
    local_468 = local_488;
    local_458 = uVar8;
    uStack_454 = uVar21;
    uStack_450 = uVar22;
    uStack_44c = uVar23;
    pTVar3 = (TriangleMesh *)embree::TaskScheduler::threadCount();
    pvVar14 = (vector_t *)&local_538;
    ppTVar16 = &local_530;
    ppppTVar18 = &local_518;
    pTVar4 = (TriangleMesh *)((local_538 + 0x3ff) - (long)local_540 >> 10);
    if (pTVar3 < pTVar4) {
      pTVar4 = pTVar3;
    }
    local_530 = (TriangleMesh *)0x40;
    if (pTVar4 < (TriangleMesh *)0x41) {
      local_530 = pTVar4;
    }
    local_4f8 = &local_540;
    local_4f0 = pvVar14;
    local_4e8 = ppTVar16;
    local_4e0 = (long *)local_448;
    local_4d8 = ppppTVar18;
    if (pTVar4 != (TriangleMesh *)0x0) {
      local_520 = &local_4f8;
      ppppTVar31 = &local_520;
      local_528 = (TriangleMesh ***)0x0;
      _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_19parallel_prefix_sumImmZNS_4sse221createMortonCodeArrayINS_12TriangleMeshEEEmPT_RNS_8vector_tINS4_16BVHBuilderMorton9BuildPrimENS_27aligned_monitored_allocatorISB_Lm8EEEEERNS_20BuildProgressMonitorEEUlRKNS_5rangeImEEmE2_St4plusImEEET0_RNS_22ParallelPrefixSumStateISP_EES7_S7_S7_RKSP_RKT1_RKT2_EUlmE_EEvS7_SU_EUlSL_E_EEvS7_S7_S7_SU_PNS0_16TaskGroupContextE
                (0,local_530,1,ppppTVar31,&local_528,pvVar14,ppppTVar31,pvVar14,param_2,ppTVar16,
                 ppppTVar18);
      embree::TaskScheduler::wait();
      if ((TriangleMesh ***)local_528 != (TriangleMesh ***)0x0) {
        local_520 = (TriangleMesh ***)local_528;
        std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
        std::rethrow_exception(ppppTVar31);
      }
      if (local_530 != (TriangleMesh *)0x0) {
        lVar7 = 0;
        plVar5 = (long *)local_448;
        do {
          plVar5[0x40] = lVar7;
          lVar7 = lVar7 + *plVar5;
          plVar5 = plVar5 + 1;
        } while ((long *)((long)local_448 + local_530 * 8) != plVar5);
      }
    }
    local_540 = (TriangleMesh *)0x0;
    local_538 = uVar1;
    local_518 = (TriangleMesh ***)local_468;
    local_510 = param_2;
    local_508 = local_550;
    pTVar3 = (TriangleMesh *)embree::TaskScheduler::threadCount();
    pTVar4 = (TriangleMesh *)((local_538 + 0x3ff) - (long)local_540 >> 10);
    if (pTVar3 < pTVar4) {
      pTVar4 = pTVar3;
    }
    local_530 = (TriangleMesh *)0x40;
    if (pTVar4 < (TriangleMesh *)0x41) {
      local_530 = pTVar4;
    }
    local_4f8 = &local_540;
    local_4f0 = pvVar14;
    local_4e8 = ppTVar16;
    local_4e0 = (long *)local_448;
    local_4d8 = ppppTVar18;
    if (pTVar4 != (TriangleMesh *)0x0) {
      local_520 = &local_4f8;
      local_528 = (TriangleMesh ***)0x0;
      _ZN6embree13TaskScheduler5spawnImZNS_12parallel_forImZNS_19parallel_prefix_sumImmZNS_4sse221createMortonCodeArrayINS_12TriangleMeshEEEmPT_RNS_8vector_tINS4_16BVHBuilderMorton9BuildPrimENS_27aligned_monitored_allocatorISB_Lm8EEEEERNS_20BuildProgressMonitorEEUlRKNS_5rangeImEEmE3_St4plusImEEET0_RNS_22ParallelPrefixSumStateISP_EES7_S7_S7_RKSP_RKT1_RKT2_EUlmE_EEvS7_SU_EUlSL_E_EEvS7_S7_S7_SU_PNS0_16TaskGroupContextE
                (0,local_530,1,&local_520,&local_528);
      embree::TaskScheduler::wait();
      if ((TriangleMesh ***)local_528 != (TriangleMesh ***)0x0) {
        local_520 = (TriangleMesh ***)local_528;
        std::__exception_ptr::exception_ptr::_M_addref();
                    /* WARNING: Subroutine does not return */
        std::rethrow_exception(&local_520);
      }
    }
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar9;
}


