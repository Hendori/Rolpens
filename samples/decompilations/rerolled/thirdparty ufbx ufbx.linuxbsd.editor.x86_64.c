void ufbxi_unstable_sort(undefined4 *param_1, ulong param_2, long param_3, code *param_4, undefined8 param_5) {
   long lVar1;
   long lVar2;
   undefined4 uVar3;
   char cVar4;
   undefined4 *puVar5;
   ulong uVar6;
   undefined4 *puVar7;
   undefined4 *puVar8;
   undefined4 *puVar9;
   ulong uVar10;
   ulong uVar11;
   ulong local_68;
   ulong local_40;
   if (param_2 < 2) {
      return;
   }

   local_68 = param_2 - 1;
   local_40 = local_68 >> 1;
   lVar1 = ( param_3 - 4U & 0xfffffffffffffffc ) + 4;
   do {
      uVar11 = local_40 * 2 + 1;
      uVar10 = local_40;
      if (local_68 < uVar11) goto LAB_00100150;
      LAB_00100070:do {
         puVar7 = (undefined4*)( param_3 * uVar10 + (long)param_1 );
         puVar9 = (undefined4*)( param_3 * uVar11 + (long)param_1 );
         cVar4 = ( *param_4 )(param_5, puVar9, puVar7);
         lVar2 = uVar10 + 1;
         uVar6 = lVar2 * 2;
         if (cVar4 != '\0') {
            if (( uVar6 <= local_68 ) && ( cVar4 = ( *param_4 )(param_5, puVar7, (long)param_1 + lVar2 * param_3 * 2) ),cVar4 != '\0') goto LAB_001000d4;
            break;
         }

         if (( local_68 < uVar6 ) || ( cVar4 = ( *param_4 )(param_5, puVar9, (long)param_1 + lVar2 * param_3 * 2) ),cVar4 == '\0') {
            uVar6 = uVar11;
         }

         LAB_001000d4:if (uVar6 == uVar10) break;
         puVar9 = (undefined4*)( uVar6 * param_3 + (long)param_1 );
         puVar5 = puVar7;
         do {
            uVar3 = *puVar5;
            puVar8 = puVar5 + 1;
            *puVar5 = *puVar9;
            *puVar9 = uVar3;
            puVar9 = puVar9 + 1;
            puVar5 = puVar8;
         }
 while ( (undefined4*)( lVar1 + (long)puVar7 ) != puVar8 );
         uVar11 = uVar6 * 2 + 1;
         uVar10 = uVar6;
      }
 while ( uVar11 <= local_68 );
      LAB_00100150:if (local_40 == 0) {
         if (local_68 == 0) {
            return;
         }

         puVar5 = (undefined4*)( local_68 * param_3 + (long)param_1 );
         puVar7 = puVar5;
         puVar9 = param_1;
         do {
            uVar3 = *puVar7;
            puVar8 = puVar7 + 1;
            *puVar7 = *puVar9;
            *puVar9 = uVar3;
            puVar7 = puVar8;
            puVar9 = puVar9 + 1;
         }
 while ( puVar8 != (undefined4*)( (long)puVar5 + lVar1 ) );
         local_68 = local_68 - 1;
         uVar11 = 1;
         uVar10 = local_40;
         if (local_68 == 0) {
            return;
         }

         goto LAB_00100070;
      }

      local_40 = local_40 - 1;
   }
 while ( true );
}
void ufbxi_bigint_mad(undefined8 *param_1, ulong param_2, ulong param_3) {
   uint uVar1;
   uint *puVar2;
   ulong uVar3;
   uint *puVar4;
   uint *puVar5;
   uint uVar6;
   uVar1 = *(uint*)( (long)param_1 + 0xc );
   puVar2 = (uint*)*param_1;
   if (uVar1 != 0) {
      puVar4 = puVar2;
      do {
         uVar6 = *puVar4;
         puVar5 = puVar4 + 1;
         uVar3 = (ulong)uVar6 * ( param_2 & 0xffffffff ) + ( param_3 & 0xffffffff );
         *puVar4 = (uint)uVar3;
         param_3 = ( param_3 >> 0x20 ) + (ulong)uVar6 * ( param_2 >> 0x20 ) + ( uVar3 >> 0x20 );
         puVar4 = puVar5;
      }
 while ( puVar2 + uVar1 != puVar5 );
   }

   uVar6 = uVar1;
   if (param_3 != 0) {
      uVar6 = uVar1 + 1;
      puVar2[uVar1] = (uint)param_3;
      if (param_3 >> 0x20 != 0) {
         puVar2[uVar6] = ( uint )(param_3 >> 0x20);
         uVar6 = uVar1 + 2;
      }

   }

   *(uint*)( (long)param_1 + 0xc ) = uVar6;
   return;
}
void ufbxi_bigint_shift_left(undefined8 *param_1, uint param_2) {
   uint *puVar1;
   uint *puVar2;
   uint uVar3;
   uint *__s;
   int iVar4;
   byte bVar5;
   ulong uVar6;
   byte bVar7;
   uint uVar8;
   uint uVar9;
   uint *puVar10;
   bVar5 = (byte)param_2 & 0x1f;
   bVar7 = 0x1f - bVar5;
   uVar3 = *(uint*)( (long)param_1 + 0xc );
   __s = (uint*)*param_1;
   uVar8 = param_2 >> 5;
   uVar6 = ( ulong )(uVar3 - 1);
   *(uint*)( (long)param_1 + 0xc ) = ( uint )(( __s[uVar6] >> 1 ) >> ( bVar7 & 0x1f ) != 0) + uVar3 + uVar8;
   puVar1 = __s + uVar8;
   puVar10 = __s + uVar3;
   *puVar10 = 0;
   if (( param_2 < 0x80 ) && ( uVar3 < 4 )) {
      uVar3 = __s[1];
      __s[0] = 0;
      __s[1] = 0;
      uVar8 = __s[2];
      __s[2] = 0;
      *(ulong*)puVar1 = CONCAT44(( *__s >> 1 ) >> ( bVar7 & 0x1f ) | uVar3 << bVar5, *__s << bVar5);
      *(ulong*)( puVar1 + 2 ) = CONCAT44(( uVar8 >> 1 ) >> ( bVar7 & 0x1f ), ( uVar3 >> 1 ) >> ( bVar7 & 0x1f ) | uVar8 << bVar5);
   }
 else {
      if (1 < uVar3 + 1) {
         do {
            puVar2 = __s + uVar6;
            uVar3 = *puVar10;
            iVar4 = (int)uVar6;
            uVar9 = iVar4 - 1;
            uVar6 = (ulong)uVar9;
            puVar10 = puVar10 + -1;
            __s[uVar8 + 1 + iVar4] = ( *puVar2 >> 1 ) >> ( bVar7 & 0x1f ) | uVar3 << bVar5;
         }
 while ( uVar9 != 0xffffffff );
      }

      *puVar1 = *__s << bVar5;
      if (param_2 >> 5 != 0) {
         memset(__s, 0, (ulong)uVar8 * 4);
         return;
      }

   }

   return;
}
bool ufbxi_parse_double_init_flags(void) {
   return ufbxi_volatile_eps_2 + _LC0 == _LC0 - ufbxi_volatile_eps_2;
}
undefined8 ufbxi_huff_build_imp(undefined2 *param_1, long param_2, uint param_3, long param_4, uint param_5, uint param_6, int *param_7) {
   undefined2 *puVar1;
   ushort uVar2;
   int iVar3;
   byte bVar4;
   int iVar5;
   uint uVar6;
   uint uVar7;
   ulong uVar8;
   undefined2 *puVar9;
   undefined8 uVar10;
   byte bVar11;
   byte bVar12;
   uint uVar13;
   uint uVar14;
   long lVar15;
   uint uVar16;
   int iVar17;
   ulong uVar18;
   int iVar19;
   ulong uVar20;
   ushort uVar21;
   uint uVar22;
   uint uVar23;
   int iVar24;
   uint uVar25;
   int iVar26;
   long in_FS_OFFSET;
   int local_140;
   uint local_13c;
   int local_108[16];
   uint auStack_c8[16];
   undefined1 local_88[16];
   undefined1 local_78[16];
   undefined1 local_68[16];
   undefined1 local_58[16];
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   *(uint*)( param_1 + 0x71c ) = param_3;
   iVar26 = *param_7;
   param_1[0x70c] = 0x7fff;
   local_108[1] = param_7[1];
   param_1[0x6fc] = 0;
   local_108[0] = 0;
   auStack_c8[1] = 0;
   param_1[0x6fd] = (short)local_108[1];
   iVar5 = 2 - local_108[1];
   if (iVar5 < 0) {
      LAB_001008f0:uVar10 = 0xffffffffffffffff;
      LAB_00100792:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return uVar10;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   bVar4 = (byte)param_6;
   uVar25 = 0;
   local_140 = 0;
   iVar19 = 0;
   uVar14 = 0;
   lVar15 = 1;
   iVar24 = local_108[1];
   uVar6 = -param_6;
   LAB_00100501:uVar22 = uVar6 + 1;
   if (iVar24 == 0) {
      LAB_0010050f:param_1[lVar15 + 0x70c] = 0x7fff;
   }
 else {
      if (param_6 < (uint)lVar15) {
         if (uVar22 < 6) {
            bVar11 = (byte)uVar22;
            iVar17 = ( 1 << ( bVar11 & 0x1f ) ) + -1;
            iVar3 = 0;
            if (iVar5 == 0) {
               iVar3 = iVar17;
            }

            uVar16 = uVar14 >> ( bVar11 & 0x1f );
            uVar25 = iVar24 + uVar14 + iVar3 >> ( bVar11 & 0x1f );
            uVar13 = 1 << ( (byte)uVar6 & 0x1f );
            if (uVar16 < uVar25) {
               uVar18 = (ulong)(ushort)local_140 << 8;
               uVar7 = uVar16;
               do {
                  uVar23 = uVar7 + 1;
                  uVar7 = uVar7 * 2 & 0xaaaa | uVar7 >> 1 & 0x5555;
                  uVar7 = ( uVar7 & 0x3333 ) << 2 | uVar7 >> 2 & 0x3333;
                  uVar7 = ( uVar7 & 0xf0f ) << 4 | uVar7 >> 4 & 0xf0f;
                  param_1[( ( uVar7 & 0xff ) << 8 | uVar7 >> 8 ) >> ( 0x10 - bVar4 & 0x1f )] = (ushort)uVar18 | (ushort)iVar17;
                  uVar18 = ( ulong )((int)uVar18 + ( uVar13 & 0xff ) * 0x100);
                  uVar7 = uVar23;
               }
 while ( uVar25 != uVar23 );
               local_140 = ( ( uVar25 - uVar16 ) + -1 << ( (byte)uVar6 & 0x1f ) ) + uVar13 + local_140;
            }

         }

      }
 else if (iVar24 == 0) goto LAB_0010050f;
      param_1[lVar15 + 0x70c] = (short)iVar19 - (short)uVar14;
   }

   if (0xf - param_6 != uVar22) {
      iVar3 = param_7[lVar15 + 1];
      uVar14 = ( uVar14 + iVar24 ) * 2;
      auStack_c8[lVar15 + 1] = uVar14;
      param_1[lVar15 + 0x6fd] = (short)uVar14 + (short)iVar3;
      iVar19 = local_108[lVar15];
      local_108[lVar15 + 1] = iVar3 + iVar19;
      lVar15 = lVar15 + 1;
      iVar5 = iVar5 * 2 - iVar3;
      iVar24 = iVar3;
      uVar6 = uVar22;
      if (iVar5 < 0) goto LAB_001008f0;
      goto LAB_00100501;
   }

   uVar14 = param_3 - iVar26;
   if (( 1 < uVar14 ) && ( iVar5 != 0 )) {
      LAB_001009f8:uVar10 = 0xfffffffffffffffe;
      goto LAB_00100792;
   }

   uVar6 = ( 1 << ( bVar4 & 0x1f ) ) - 1;
   if (uVar14 == 1) {
      if (local_108[1] != 1) goto LAB_001009f8;
      *(undefined4*)( param_1 + 0x71e ) = 0;
      *(undefined4*)( param_1 + 0x69c ) = 0;
      param_1[0x6dc] = 0;
   }
 else {
      *(undefined4*)( param_1 + 0x71e ) = 0;
      *(undefined4*)( param_1 + 0x69c ) = 0;
      param_1[0x6dc] = 0;
      if (1 < uVar14) goto LAB_0010058f;
   }

   puVar1 = param_1 + 1;
   puVar9 = param_1;
   if (( (int)( puVar1 + uVar6 ) - (int)param_1 & 2U ) == 0) goto LAB_001009d8;
   *param_1 = 0x120;
   for (puVar9 = puVar1; puVar1 + uVar6 != puVar9; puVar9 = puVar9 + 2) {
      LAB_001009d8:*puVar9 = 0x120;
      puVar9[1] = 0x120;
   }

   LAB_0010058f:local_13c = 0;
   uVar18 = 0;
   uVar20 = ( ulong ) - param_5;
   local_88 = (undefined1[16])0x0;
   local_78 = (undefined1[16])0x0;
   local_68 = (undefined1[16])0x0;
   local_58 = (undefined1[16])0x0;
   do {
      while (true) {
         bVar11 = *(byte*)( param_2 + uVar18 );
         uVar14 = (uint)bVar11;
         if (uVar14 != 0) break;
         LAB_00100621:uVar18 = uVar18 + 1;
         uVar20 = ( ulong )((int)uVar20 + 1);
         if (uVar18 == param_3) goto LAB_00100790;
      }
;
      uVar22 = (uint)uVar18 << 8 | uVar14;
      if (param_5 <= (uint)uVar18) {
         uVar13 = *(uint*)( param_4 + uVar20 * 4 );
         uVar22 = uVar22 + uVar13;
         if (( ( uVar13 & 0xffff001f ) != 0 ) && ( ( uVar13 & 0x20 ) == 0 )) {
            local_13c = local_13c + 1;
            *(uint*)( param_1 + (ulong)local_13c * 2 + 0x69c ) = uVar13 & 0xffff0000 | uVar14;
            param_1[(ulong)local_13c + 0x6dc] = (short)( 1 << ( (byte)uVar13 & 0x1f ) ) + -1;
            uVar22 = uVar22 & 0xff | local_13c * 0x100;
         }

      }

      uVar8 = (ulong)uVar14;
      iVar26 = *(int*)( local_88 + uVar8 * 4 );
      uVar16 = iVar26 + auStack_c8[uVar8];
      *(int*)( local_88 + uVar8 * 4 ) = iVar26 + 1;
      uVar21 = (ushort)uVar22;
      param_1[( ulong )(uint)(iVar26 + local_108[uVar14 - 1]) + 0x57c] = uVar21;
      uVar13 = uVar16 * 2 & 0xaaaa | uVar16 >> 1 & 0x5555;
      uVar13 = ( uVar13 & 0x3333 ) << 2 | uVar13 >> 2 & 0x3333;
      uVar13 = ( uVar13 & 0xf0f ) << 4 | uVar13 >> 4 & 0xf0f;
      uVar13 = ( ( uVar13 & 0xff ) << 8 | uVar13 >> 8 ) >> ( 0x10 - bVar11 & 0x1f );
      if (param_6 < uVar14) {
         uVar16 = uVar16 >> ( bVar11 - bVar4 & 0x1f );
         uVar22 = uVar6 & uVar13;
         if (( param_6 + 5 < uVar14 ) || ( uVar25 <= uVar16 )) {
            param_1[uVar22] = (short)( uVar16 << 8 );
         }
 else {
            uVar2 = param_1[uVar22];
            uVar14 = (uint)uVar2;
            bVar12 = bVar4 - bVar11;
            if (( uVar2 & 1 ) != 0) {
               iVar26 = 0;
               do {
                  iVar26 = iVar26 + 1;
                  uVar14 = uVar14 >> 1;
                  if (iVar26 == 5) break;
               }
 while ( ( uVar14 & 1 ) != 0 );
               bVar12 = bVar12 + (char)iVar26;
            }

            iVar26 = 0;
            do {
               iVar5 = iVar26 + 1;
               param_1[( ulong )(( iVar26 << ( bVar11 - bVar4 & 0x1f ) | uVar13 >> ( bVar4 & 0x1f ) ) + ( uint )(uVar2 >> 7)) + 0x400] = uVar21;
               iVar26 = iVar5;
            }
 while ( 1 << ( bVar12 & 0x1f ) != iVar5 );
         }

      }
 else {
         if (( uVar22 & 0x20 ) == 0) {
            uVar21 = uVar21 | 0x80;
         }

         uVar14 = 0;
         do {
            uVar22 = uVar14 + 1;
            param_1[uVar14 << ( bVar11 & 0x1f ) | uVar13] = uVar21;
            uVar14 = uVar22;
         }
 while ( uVar22 < ( uint )(1 << ( bVar4 - bVar11 & 0x1f )) );
      }

      if (uVar18 != 0x100) goto LAB_00100621;
      uVar18 = 0x101;
      *(uint*)( param_1 + 0x71e ) = uVar13;
      uVar20 = ( ulong )((int)uVar20 + 1);
   }
 while ( (ulong)param_3 != 0x101 );
   LAB_00100790:uVar10 = 0;
   goto LAB_00100792;
}
undefined8 ufbxi_inflate_block_fast(long param_1, long param_2) {
   long lVar1;
   ushort uVar2;
   long lVar3;
   long lVar4;
   undefined1 uVar5;
   undefined8 uVar6;
   long lVar7;
   ulong uVar8;
   ulong uVar9;
   undefined8 *puVar10;
   ulong uVar11;
   long lVar12;
   uint uVar13;
   uint uVar14;
   undefined8 *puVar15;
   uint uVar16;
   ulong uVar17;
   long *plVar18;
   ulong uVar19;
   ulong uVar20;
   undefined8 *puVar21;
   uint uVar22;
   long local_60;
   lVar3 = *(long*)( param_1 + 0x1a8 );
   uVar9 = *(ulong*)( param_1 + 0x78 );
   puVar15 = *(undefined8**)( param_1 + 0x1b0 );
   lVar1 = param_2 + 0xe40;
   lVar7 = *(long*)( param_1 + 0x1b8 ) + -2;
   lVar4 = *(long*)( param_1 + 0x38 );
   plVar18 = (long*)( (long)*(long**)( param_1 + 0x30 ) + ( 0x3f - uVar9 >> 3 ) );
   uVar8 = **(long**)( param_1 + 0x30 ) << ( (byte)uVar9 & 0x3f ) | *(ulong*)( param_1 + 0x70 );
   uVar9 = uVar9 | 0x38;
   uVar2 = *(ushort*)( param_2 + ( ulong )((uint)uVar8 & 0x3ff) * 2 );
   uVar11 = (ulong)uVar2;
   lVar12 = lVar1;
   if (( uVar2 & 0x40 ) == 0) {
      lVar12 = param_2;
   }

   uVar13 = ( uint ) * (ushort*)( lVar12 + ( ulong )(( uint )(uVar8 >> ( (byte)uVar2 & 0x3f )) & 0x3ff) * 2 );
   local_60 = *plVar18;
   do {
      uVar14 = (uint)uVar11;
      if (( uVar14 & uVar13 & 0x80 ) == 0) {
         if (( uVar11 & 0xa0 ) == 0) {
            uVar11 = ( ulong ) * (ushort*)( param_2 + 0x800 + ( ulong )((int)( uVar11 >> 7 ) + ( uVar14 & 0x1f & ( uint )(uVar8 >> 10) )) * 2 );
         }

         uVar17 = ( ulong )((uint)uVar11 & 0x1f);
         uVar20 = uVar8 >> ( (byte)uVar11 & 0x1f );
         uVar19 = uVar9 - uVar17;
         if (( uVar11 & 0x20 ) != 0) {
            if (( ushort )((ushort)uVar11 >> 8) != 0) {
               return 0xfffffff3;
            }

            *(undefined8**)( param_1 + 0x1b0 ) = puVar15;
            *(ulong*)( param_1 + 0x70 ) = uVar20;
            *(ulong*)( param_1 + 0x78 ) = uVar19;
            *(long**)( param_1 + 0x30 ) = plVar18;
            return 0;
         }

         if (( uVar11 & 0x40 ) != 0) {
            uVar2 = *(ushort*)( param_2 + 0xe40 + ( ulong )((uint)uVar20 & 0x3ff) * 2 );
            uVar14 = (uint)uVar2;
            if (( ( uVar2 & 0x80 ) == 0 ) && ( ( ( uVar2 & 0x20 ) != 0 || ( uVar2 = *(ushort*)( param_2 + 0x1640 + ( ulong )(( uVar14 & 0x1f & ( uint )(uVar20 >> 10) ) + ( uint )(uVar2 >> 7)) * 2 ) ),uVar14 = (uint)uVar2,( uVar2 & 0x20 ) != 0 ) )) {
               return 0xfffffff5;
            }

            uVar20 = uVar20 >> ( (byte)uVar14 & 0x3f );
            uVar19 = uVar19 - ( uVar14 & 0x3f );
            goto LAB_00100c25;
         }

         lVar12 = uVar17 - uVar9;
         *(char*)puVar15 = (char)( uVar11 >> 8 );
         puVar21 = (undefined8*)( (long)puVar15 + 1 );
         uVar8 = local_60 << ( (byte)uVar19 & 0x3f ) | uVar20;
         LAB_00100b15:plVar18 = (long*)( (long)plVar18 + ( lVar12 + 0x3fU >> 3 ) );
         uVar9 = uVar19 | 0x38;
         uVar2 = *(ushort*)( param_2 + ( ulong )((uint)uVar8 & 0x3ff) * 2 );
         uVar11 = (ulong)uVar2;
         lVar12 = lVar1;
         if (( uVar2 & 0x40 ) == 0) {
            lVar12 = param_2;
         }

         uVar13 = ( uint ) * (ushort*)( lVar12 + ( ulong )(( uint )(uVar8 >> ( (byte)uVar2 & 0x3f )) & 0x3ff) * 2 );
         local_60 = *plVar18;
      }
 else {
         uVar17 = ( ulong )(uVar14 + uVar13 & 0x3f);
         uVar5 = ( undefined1 )(uVar11 >> 8);
         uVar20 = uVar8 >> ( ( byte )(uVar14 + uVar13) & 0x3f );
         uVar19 = uVar9 - uVar17;
         if (( ( uVar14 | uVar13 ) & 0x40 ) == 0) {
            *(undefined1*)puVar15 = uVar5;
            *(char*)( (long)puVar15 + 1 ) = (char)( uVar13 >> 8 );
            lVar12 = uVar17 - uVar9;
            puVar21 = (undefined8*)( (long)puVar15 + 2 );
            uVar8 = local_60 << ( (byte)uVar19 & 0x3f ) | uVar20;
            goto LAB_00100b15;
         }

         uVar14 = uVar13;
         if (( uVar11 & 0x40 ) == 0) {
            *(undefined1*)puVar15 = uVar5;
            puVar15 = (undefined8*)( (long)puVar15 + 1 );
            uVar8 = uVar8 >> ( (byte)uVar11 & 0x3f );
            uVar2 = *(ushort*)( param_2 + 0xe40 + ( ulong )((uint)uVar20 & 0x3ff) * 2 );
            if (( uVar2 & 0x80 ) == 0) {
               if (( uVar2 & 0x20 ) != 0) {
                  return 0xfffffff5;
               }

               uVar2 = *(ushort*)( param_2 + 0x1640 + ( ulong )(( uVar2 & 0x1f & ( uint )(uVar20 >> 10) ) + ( uint )(uVar2 >> 7)) * 2 );
               if (( uVar2 & 0x20 ) != 0) {
                  return 0xfffffff5;
               }

            }

            uVar14 = (uint)uVar2;
            uVar20 = uVar20 >> ( (byte)uVar2 & 0x3f );
            uVar19 = uVar19 - ( uVar14 & 0x3f );
            uVar11 = (ulong)uVar13;
         }

         LAB_00100c25:uVar13 = *(uint*)( param_2 + 0xd38 + ( uVar11 >> 8 ) * 4 );
         uVar22 = *(uint*)( param_2 + 0x1b78 + ( ulong )(uVar14 >> 8) * 4 );
         uVar16 = ( ( uint ) * (ushort*)( param_2 + 0xdb8 + ( uVar11 >> 8 ) * 2 ) & ( uint )(uVar8 >> ( (byte)uVar13 & 0x3f )) ) + ( uVar13 >> 0x10 );
         uVar9 = uVar19 | 0x38;
         uVar14 = ( ( uint ) * (ushort*)( param_2 + 0x1bf8 + ( ulong )(uVar14 >> 8) * 2 ) & ( uint )(uVar8 >> ( (char)uVar22 + (char)uVar11 & 0x3fU )) ) + ( uVar22 >> 0x10 );
         uVar17 = (ulong)uVar16;
         uVar8 = local_60 << ( (byte)uVar19 & 0x3f ) | uVar20;
         plVar18 = (long*)( (long)plVar18 + ( 0x3f - uVar19 >> 3 ) );
         uVar2 = *(ushort*)( param_2 + ( ulong )((uint)uVar8 & 0x3ff) * 2 );
         uVar11 = (ulong)uVar2;
         lVar12 = lVar1;
         if (( uVar2 & 0x40 ) == 0) {
            lVar12 = param_2;
         }

         uVar19 = ( ( lVar7 - (long)puVar15 ) - uVar17 ) + 2;
         uVar13 = ( uint ) * (ushort*)( lVar12 + ( ulong )(( uint )(uVar8 >> ( (byte)uVar2 & 0x3f )) & 0x3ff) * 2 );
         local_60 = *plVar18;
         if ((long)( ( ulong )((long)puVar15 + ( -(ulong)uVar14 - lVar3 )) | uVar19 ) < 0) {
            return 0xfffffff4;
         }

         puVar10 = (undefined8*)( (long)puVar15 - (ulong)uVar14 );
         puVar21 = (undefined8*)( (long)puVar15 + uVar17 );
         uVar22 = 0x10;
         if (uVar16 < 0x11) {
            uVar22 = uVar16;
         }

         if (( uVar14 < uVar22 ) || ( (long)uVar19 < 0x10 )) {
            uVar19 = 0;
            if (puVar15 != puVar21) {
               do {
                  *(undefined1*)( (long)puVar15 + uVar19 ) = *(undefined1*)( (long)puVar10 + uVar19 );
                  uVar19 = uVar19 + 1;
               }
 while ( uVar17 != uVar19 );
            }

         }
 else {
            uVar6 = puVar10[1];
            *puVar15 = *puVar10;
            puVar15[1] = uVar6;
            if (0x10 < uVar16) {
               lVar12 = 0x10;
               do {
                  uVar6 = ( (undefined8*)( (long)puVar10 + lVar12 ) )[1];
                  *(undefined8*)( (long)puVar15 + lVar12 ) = *(undefined8*)( (long)puVar10 + lVar12 );
                  ( (undefined8*)( (long)puVar15 + lVar12 ) )[1] = uVar6;
                  lVar12 = lVar12 + 0x10;
               }
 while ( lVar12 != ( ulong )(( uVar16 - 0x11 >> 4 ) + 2) << 4 );
            }

         }

      }

      puVar15 = puVar21;
      if (( ( lVar4 + -8 ) - (long)plVar18 | lVar7 - (long)puVar15 ) < 0) {
         *(undefined8**)( param_1 + 0x1b0 ) = puVar15;
         *(ulong*)( param_1 + 0x78 ) = uVar9;
         *(long**)( param_1 + 0x30 ) = plVar18;
         *(ulong*)( param_1 + 0x70 ) = uVar8;
         return 1;
      }

   }
 while ( true );
}
void ufbxi_print_append(long *param_1, ulong param_2, ulong param_3, undefined1 *param_4) {
   ulong uVar1;
   ulong uVar2;
   ulong uVar3;
   undefined1 *puVar4;
   if (param_3 == 0) {
      if (param_2 == 0) {
         return;
      }

      uVar3 = 0;
   }
 else {
      uVar3 = 0;
      do {
         if (param_4[uVar3] == '\0') {
            if (param_2 <= uVar3) goto LAB_00100f13;
            goto LAB_00100ee4;
         }

         uVar3 = uVar3 + 1;
      }
 while ( param_3 != uVar3 );
      if (param_2 <= uVar3) goto LAB_00100f18;
      LAB_00100ee4:param_2 = param_2 - uVar3;
   }

   uVar2 = 0;
   do {
      uVar1 = param_1[2];
      if (uVar1 < (ulong)param_1[1]) {
         param_1[2] = uVar1 + 1;
         *(undefined1*)( *param_1 + uVar1 ) = 0x20;
      }

      uVar2 = uVar2 + 1;
   }
 while ( uVar2 < param_2 );
   LAB_00100f13:if (uVar3 == 0) {
      return;
   }

   LAB_00100f18:puVar4 = param_4 + uVar3;
   do {
      uVar3 = param_1[2];
      if (uVar3 < (ulong)param_1[1]) {
         param_1[2] = uVar3 + 1;
         *(undefined1*)( *param_1 + uVar3 ) = *param_4;
      }

      param_4 = param_4 + 1;
   }
 while ( puVar4 != param_4 );
   return;
}
ulong ufbxi_vsnprintf(long param_1, ulong param_2, char *param_3, uint *param_4) {
   uint uVar1;
   uint *puVar2;
   bool bVar3;
   char cVar4;
   ulong uVar5;
   int *piVar6;
   char *pcVar7;
   ulong *puVar8;
   undefined8 *puVar9;
   ulong uVar10;
   long lVar11;
   long lVar12;
   char *pcVar13;
   long in_FS_OFFSET;
   long local_a8;
   ulong local_a0;
   ulong local_98;
   char local_2a[10];
   long local_20;
   local_20 = *(long*)( in_FS_OFFSET + 0x28 );
   cVar4 = *param_3;
   local_98 = 0;
   local_a8 = param_1;
   local_a0 = param_2;
   if (cVar4 == '\0') {
      uVar5 = 0;
   }
 else {
      do {
         pcVar13 = param_3;
         if (cVar4 == '%') {
            cVar4 = param_3[1];
            pcVar13 = param_3 + 1;
            if (cVar4 == '%') goto LAB_00100fb8;
            lVar11 = 0;
            if (cVar4 == '*') {
               uVar1 = *param_4;
               pcVar13 = param_3 + 2;
               if (uVar1 < 0x30) {
                  piVar6 = (int*)( (ulong)uVar1 + *(long*)( param_4 + 4 ) );
                  *param_4 = uVar1 + 8;
               }
 else {
                  piVar6 = *(int**)( param_4 + 2 );
                  *(int**)( param_4 + 2 ) = piVar6 + 2;
               }

               lVar11 = (long)*piVar6;
               cVar4 = param_3[2];
            }

            lVar12 = -1;
            pcVar7 = pcVar13;
            if (cVar4 == '.') {
               uVar1 = *param_4;
               pcVar7 = pcVar13 + 2;
               if (uVar1 < 0x30) {
                  piVar6 = (int*)( (ulong)uVar1 + *(long*)( param_4 + 4 ) );
                  *param_4 = uVar1 + 8;
               }
 else {
                  piVar6 = *(int**)( param_4 + 2 );
                  *(int**)( param_4 + 2 ) = piVar6 + 2;
               }

               cVar4 = pcVar13[2];
               lVar12 = (long)*piVar6;
            }

            if (cVar4 == 'z') {
               param_3 = pcVar7 + 2;
               if (pcVar7[1] == 's') goto LAB_00101140;
               if (pcVar7[1] == 'u') {
                  uVar1 = *param_4;
                  if (uVar1 < 0x30) {
                     puVar8 = (ulong*)( (ulong)uVar1 + *(long*)( param_4 + 4 ) );
                     *param_4 = uVar1 + 8;
                  }
 else {
                     puVar8 = *(ulong**)( param_4 + 2 );
                     *(ulong**)( param_4 + 2 ) = puVar8 + 1;
                  }

                  uVar5 = *puVar8;
                  goto LAB_001010d9;
               }

            }
 else {
               param_3 = pcVar7 + 1;
               if (cVar4 == 's') {
                  LAB_00101140:uVar1 = *param_4;
                  if (uVar1 < 0x30) {
                     puVar9 = (undefined8*)( (ulong)uVar1 + *(long*)( param_4 + 4 ) );
                     *param_4 = uVar1 + 8;
                  }
 else {
                     puVar9 = *(undefined8**)( param_4 + 2 );
                     *(undefined8**)( param_4 + 2 ) = puVar9 + 1;
                  }

                  ufbxi_print_append(&local_a8, lVar11, lVar12, *puVar9);
               }
 else if (cVar4 == 'u') {
                  uVar1 = *param_4;
                  if (uVar1 < 0x30) {
                     *param_4 = uVar1 + 8;
                     uVar5 = ( ulong ) * (uint*)( (ulong)uVar1 + *(long*)( param_4 + 4 ) );
                  }
 else {
                     puVar2 = *(uint**)( param_4 + 2 );
                     *(uint**)( param_4 + 2 ) = puVar2 + 2;
                     uVar5 = ( ulong ) * puVar2;
                  }

                  LAB_001010d9:local_2a[1] = 0;
                  pcVar13 = local_2a + 1;
                  do {
                     pcVar13 = pcVar13 + -1;
                     *pcVar13 = (char)uVar5 + (char)( uVar5 / 10 ) * -10 + '0';
                     bVar3 = 9 < uVar5;
                     uVar5 = uVar5 / 10;
                  }
 while ( bVar3 );
                  ufbxi_print_append(&local_a8, lVar11, lVar12, pcVar13);
               }

            }

         }
 else {
            LAB_00100fb8:if (local_98 < local_a0) {
               *(char*)( local_a8 + local_98 ) = *pcVar13;
               local_98 = local_98 + 1;
            }

            param_3 = pcVar13 + 1;
         }

         cVar4 = *param_3;
      }
 while ( cVar4 != '\0' );
      uVar5 = param_2 - 1;
      if (local_98 <= param_2 - 1) {
         uVar5 = local_98;
      }

   }

   if (( local_a0 != 0 ) && ( local_a8 != 0 )) {
      uVar10 = local_a0 - 1;
      if (local_98 < local_a0 - 1) {
         uVar10 = local_98;
      }

      *(undefined1*)( local_a8 + uVar10 ) = 0;
   }

   if (local_20 != *(long*)( in_FS_OFFSET + 0x28 )) {
      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   return uVar5;
}
void ufbxi_utf8_valid_length(long param_1, ulong param_2) {
   byte bVar1;
   byte bVar2;
   ulong uVar3;
   uint uVar4;
   ulong uVar5;
   uVar3 = 0;
   if (param_2 == 0) {
      return;
   }

   do {
      bVar1 = *(byte*)( param_1 + uVar3 );
      if ((char)bVar1 < '\0') {
         uVar5 = param_2 - uVar3;
         if (( bVar1 & 0xe0 ) == 0xc0) {
            if (uVar5 == 1) {
               return;
            }

            bVar2 = *(byte*)( param_1 + 1 + uVar3 );
            if (( bVar2 & 0xc0 ) != 0x80) {
               return;
            }

            if (CONCAT11(bVar1, bVar2) < 0xc280) {
               return;
            }

            uVar3 = uVar3 + 2;
         }
 else if (( bVar1 & 0xf0 ) == 0xe0) {
            if (uVar5 < 3) {
               return;
            }

            uVar4 = (uint)bVar1 << 0x10 | ( uint ) * (byte*)( param_1 + 2 + uVar3 ) | ( uint ) * (byte*)( param_1 + 1 + uVar3 ) << 8;
            if (( uVar4 & 0xc0c0 ) != 0x8080) {
               return;
            }

            if (uVar4 < 0xe0a080) {
               return;
            }

            if (uVar4 - 0xeda080 < 0xe000) {
               return;
            }

            uVar3 = uVar3 + 3;
         }
 else {
            if (( bVar1 & 0xf8 ) != 0xf0) {
               return;
            }

            if (uVar5 < 4) {
               return;
            }

            uVar4 = (uint)bVar1 << 0x18 | ( uint ) * (byte*)( param_1 + 3 + uVar3 ) | ( uint ) * (byte*)( param_1 + 1 + uVar3 ) << 0x10 | ( uint ) * (byte*)( param_1 + 2 + uVar3 ) << 8;
            if (( uVar4 & 0xc0c0c0 ) != 0x808080) {
               return;
            }

            if (0x3ff3f3f < uVar4 + 0xf6f7f80) {
               return;
            }

            uVar3 = uVar3 + 4;
         }

      }
 else {
         if (bVar1 == 0) {
            return;
         }

         uVar3 = uVar3 + 1;
      }

      if (param_2 <= uVar3) {
         return;
      }

   }
 while ( true );
}
void ufbxi_clean_string_utf8(long param_1, long param_2) {
   long lVar1;
   long lVar2;
   lVar2 = 0;
   while (true) {
      lVar1 = ufbxi_utf8_valid_length(param_1 + lVar2);
      lVar1 = lVar1 + lVar2;
      if (param_2 == lVar1) break;
      *(undefined1*)( param_1 + lVar1 ) = 0x3f;
      lVar2 = lVar1 + 1;
   }
;
   return;
}
void ufbxi_clear_error(undefined4 *param_1) {
   if (param_1 != (undefined4*)0x0) {
      *param_1 = 0;
      *(undefined1**)( param_1 + 2 ) = &ufbxi_empty_char;
      *(undefined8*)( param_1 + 4 ) = 0;
      param_1[6] = 0;
      *(undefined1*)( param_1 + 0x5a ) = 0;
      *(undefined8*)( param_1 + 0x58 ) = 0;
   }

   return;
}
void ufbxi_free_ator(long param_1) {
   if (*(code**)( param_1 + 0x50 ) != (code*)0x0) {
      /* WARNING: Could not recover jumptable at 0x001013fd. Too many branches */
      /* WARNING: Treating indirect jump as call */
      ( **(code**)( param_1 + 0x50 ) )(*(undefined8*)( param_1 + 0x58 ));
      return;
   }

   return;
}
long ufbxi_aa_tree_find(long param_1, undefined8 param_2, long param_3) {
   int iVar1;
   long lVar2;
   long *plVar3;
   plVar3 = *(long**)( param_1 + 0x80 );
   do {
      if (plVar3 == (long*)0x0) {
         return 0;
      }

      while (true) {
         lVar2 = ( ulong ) * (uint*)( (long)plVar3 + 0x14 ) * param_3 + *(long*)( param_1 + 0x10 );
         iVar1 = ( **(code**)( param_1 + 0x30 ) )(*(undefined8*)( param_1 + 0x38 ), param_2, lVar2);
         if (-1 < iVar1) break;
         plVar3 = (long*)*plVar3;
         if (plVar3 == (long*)0x0) {
            return 0;
         }

      }
;
      if (iVar1 == 0) {
         return lVar2;
      }

      plVar3 = (long*)plVar3[1];
   }
 while ( true );
}
long ufbxi_map_find_size(long param_1, long param_2, uint param_3, undefined8 param_4) {
   uint uVar1;
   ulong uVar2;
   int iVar3;
   long lVar4;
   long lVar5;
   uint uVar6;
   ulong uVar7;
   uVar7 = 0;
   uVar1 = *(uint*)( param_1 + 0x20 );
   lVar4 = *(long*)( param_1 + 0x18 );
   if (uVar1 == 0) {
      LAB_00101550:lVar5 = 0;
   }
 else {
      do {
         while (true) {
            iVar3 = (int)uVar7;
            uVar6 = iVar3 + 1;
            uVar7 = (ulong)uVar6;
            uVar2 = *(ulong*)( lVar4 + ( ulong )(iVar3 + param_3 & uVar1) * 8 );
            if (( ~uVar1 & param_3 ) + uVar6 == (int)uVar2) break;
            if (( uVar2 & uVar1 ) < uVar7) {
               if (*(long*)( param_1 + 0x80 ) != 0) {
                  lVar4 = ufbxi_aa_tree_find(param_1, param_4, param_2);
                  return lVar4;
               }

               goto LAB_00101550;
            }

         }
;
         lVar5 = ( uVar2 >> 0x20 ) * param_2 + *(long*)( param_1 + 0x10 );
         iVar3 = ( **(code**)( param_1 + 0x30 ) )(*(undefined8*)( param_1 + 0x38 ), param_4);
      }
 while ( iVar3 != 0 );
   }

   return lVar5;
}
ulong ufbxi_map_cmp_uint64(undefined8 param_1, ulong *param_2, ulong *param_3) {
   ulong uVar1;
   uVar1 = 0xffffffff;
   if (*param_3 <= *param_2) {
      uVar1 = ( ulong )(*param_3 < *param_2);
   }

   return uVar1;
}
ulong ufbxi_map_cmp_const_char_ptr(undefined8 param_1, ulong *param_2, ulong *param_3) {
   ulong uVar1;
   uVar1 = 0xffffffff;
   if (*param_3 <= *param_2) {
      uVar1 = ( ulong )(*param_3 < *param_2);
   }

   return uVar1;
}
uint ufbxi_hash_string(uint *param_1, ulong param_2) {
   uint uVar1;
   uint uVar2;
   ulong uVar3;
   ulong uVar4;
   uint *puVar5;
   uint *puVar6;
   uVar3 = param_2 & 0xffffffff;
   if (param_2 < 4) {
      uVar1 = 0;
      if (param_2 != 0) {
         if (param_2 == 1) {
            uVar1 = ( uint )(byte) * param_1;
         }
 else {
            uVar1 = ( uint )(ushort) * param_1;
            if (param_2 == 3) {
               uVar1 = (uint)CONCAT12(*(byte*)( (long)param_1 + 2 ), ( ushort ) * param_1);
            }

         }

      }

      uVar1 = ( (uint)param_2 << 5 | (uint)param_2 >> 0x1b ) ^ uVar1;
   }
 else {
      uVar4 = param_2 - 4 >> 2;
      puVar5 = param_1;
      do {
         puVar6 = puVar5 + 1;
         uVar1 = ( (uint)uVar3 << 5 | (uint)uVar3 >> 0x1b ) ^ *puVar5;
         uVar2 = uVar1 * -0x61c88647;
         uVar3 = (ulong)uVar2;
         puVar5 = puVar6;
      }
 while ( puVar6 != param_1 + uVar4 + 1 );
      uVar1 = ( uVar1 * -0x3910c8e0 | uVar2 >> 0x1b ) ^ *(uint*)( (long)puVar6 + uVar4 * -4 + ( param_2 - 8 ) );
   }

   uVar1 = ( uVar1 * -0x61c88647 >> 0x10 ^ uVar1 * -0x61c88647 ) * 0x7feb352d;
   return uVar1 >> 0xf ^ uVar1;
}
void ufbxi_thread_pool_update_finished(long param_1, uint param_2) {
   long lVar1;
   uint uVar2;
   uVar2 = *(uint*)( param_1 + 0x68 );
   if (uVar2 < param_2) {
      do {
         if (*(char*)( param_1 + 0x51 ) == '\0') {
            lVar1 = *(long*)( *(long*)( param_1 + 0x98 ) + 8 + ( (ulong)uVar2 % ( ulong ) * (uint*)( param_1 + 0x90 ) ) * 0x18 );
            if (lVar1 != 0) {
               *(undefined1*)( param_1 + 0x51 ) = 1;
               *(long*)( param_1 + 0x58 ) = lVar1;
            }

         }

         uVar2 = uVar2 + 1;
      }
 while ( uVar2 != param_2 );
      *(uint*)( param_1 + 0x68 ) = uVar2;
   }

   return;
}
void ufbxi_thread_pool_flush_group(long param_1) {
   int iVar1;
   uint uVar2;
   iVar1 = *(int*)( param_1 + 0x60 );
   uVar2 = *(uint*)( param_1 + 0x8c );
   if (iVar1 != *(int*)( param_1 + 100 )) {
      if (*(code**)( param_1 + 8 ) != (code*)0x0) {
         ( **(code**)( param_1 + 8 ) )(*(undefined8*)( param_1 + 0x20 ), param_1, uVar2);
      }

      *(int*)( param_1 + 0x6c + (ulong)uVar2 * 8 ) = iVar1;
      *(int*)( param_1 + 100 ) = iVar1;
   }

   *(uint*)( param_1 + 0x8c ) = uVar2 + 1 & 3;
   return;
}
void ufbxi_stdio_init(undefined8 *param_1, undefined8 param_2, char param_3) {
   code *pcVar1;
   param_1[4] = param_2;
   param_1[2] = ufbxi_stdio_size;
   pcVar1 = ufbxi_stdio_close;
   if (param_3 == '\0') {
      pcVar1 = (code*)0x0;
   }

   *param_1 = ufbxi_stdio_read;
   param_1[1] = ufbxi_stdio_skip;
   param_1[3] = pcVar1;
   return;
}
bool ufbxi_memory_skip(long param_1, ulong param_2) {
   bool bVar1;
   bVar1 = param_2 <= ( ulong )(*(long*)( param_1 + 8 ) - *(long*)( param_1 + 0x10 ));
   if (bVar1) {
      *(ulong*)( param_1 + 0x10 ) = *(long*)( param_1 + 0x10 ) + param_2;
   }

   return bVar1;
}
undefined8 ufbxi_memory_size(long param_1) {
   return *(undefined8*)( param_1 + 8 );
}
long ufbxi_array_type_size(char param_1) {
   ulong uVar1;
   long lVar2;
   if (( byte )(param_1 + 0xbdU) < 0x31) {
      lVar2 = 8;
      uVar1 = 1L << ( param_1 + 0xbdU & 0x3f );
      if (( ( uVar1 & 0x820200000000 ) == 0 ) && ( lVar2 = 0x10(uVar1 & 0x1000000010001) == 0 )) {
         lVar2 = ( -(ulong)((uVar1 & 0x4800000000) == 0) & 0xfffffffffffffffd ) + 4;
      }

      return lVar2;
   }

   return 1;
}
long ufbxi_get_array(long param_1, char param_2) {
   long lVar1;
   lVar1 = 0;
   if (*(short*)( param_1 + 0xe ) == 3) {
      lVar1 = *(long*)( param_1 + 0x18 );
      if (param_2 != '?') {
         if (( param_2 != 'b' ) && ( param_2 == 'r' )) {
            param_2 = 'd';
         }

         if (*(char*)( lVar1 + 0x10 ) != param_2) {
            return 0;
         }

      }

   }

   return lVar1;
}
void ufbxi_postprocess_bool_array(char *param_1, long param_2) {
   char *pcVar1;
   pcVar1 = param_1 + param_2;
   if (param_1 != pcVar1) {
      do {
         *param_1 = *param_1 != '\0';
         param_1 = param_1 + 1;
      }
 while ( pcVar1 != param_1 );
   }

   return;
}
byte *ufbxi_ascii_array_task_parse_ints(long *param_1, byte *param_2, byte *param_3) {
   byte *pbVar1;
   byte bVar2;
   byte bVar3;
   uint uVar4;
   ulong uVar5;
   undefined4 *puVar6;
   long lVar7;
   byte *pbVar8;
   ulong uVar9;
   ulong uVar10;
   long lVar11;
   long *plVar12;
   uVar9 = param_1[5];
   if ((char)param_1[1] == 'i') {
      plVar12 = (long*)0x0;
      puVar6 = (undefined4*)( *param_1 + uVar9 * 4 );
   }
 else if ((char)param_1[1] == 'l') {
      puVar6 = (undefined4*)0x0;
      plVar12 = (long*)( *param_1 + uVar9 * 8 );
   }
 else {
      plVar12 = (long*)0x0;
      puVar6 = (undefined4*)0x0;
   }

   if (param_3 != param_2) {
      do {
         bVar2 = *param_2;
         pbVar8 = param_2;
         while (true) {
            uVar4 = bVar2 - 1;
            if (( 0x1f < uVar4 ) || ( ( 0x80001300U >> ( uVar4 & 0x1f ) & 1 ) == 0 )) break;
            bVar2 = pbVar8[1];
            pbVar8 = pbVar8 + 1;
         }
;
         uVar10 = ( ulong )(( bVar2 - 0x2b & 0xfd ) == 0);
         lVar7 = 0;
         uVar5 = uVar10;
         while (true) {
            bVar3 = pbVar8[uVar5];
            if (9 < ( byte )(bVar3 - 0x30)) break;
            uVar5 = uVar5 + 1;
            lVar7 = (long)( (char)bVar3 + -0x30 ) + lVar7 * 10;
            if (uVar5 == 0x1e) {
               return (byte*)0x0;
            }

         }
;
         if (uVar10 == uVar5) {
            return (byte*)0x0;
         }

         lVar11 = -lVar7;
         if (bVar2 != 0x2d) {
            lVar11 = lVar7;
         }

         pbVar8 = pbVar8 + uVar5;
         while (bVar3 - 1 < 0x20) {
            if (( 0x80001300U >> ( bVar3 - 1 & 0x1f ) & 1 ) == 0) goto LAB_00101911;
            pbVar1 = pbVar8 + 1;
            pbVar8 = pbVar8 + 1;
            bVar3 = *pbVar1;
         }
;
         if (bVar3 != 0x2c) break;
         param_2 = pbVar8 + 1;
         if ((ulong)param_1[2] <= uVar9) {
            return (byte*)0x0;
         }

         if (puVar6 == (undefined4*)0x0) {
            *plVar12 = lVar11;
            plVar12 = plVar12 + 1;
         }
 else {
            *puVar6 = (int)lVar11;
            puVar6 = puVar6 + 1;
         }

         uVar9 = uVar9 + 1;
      }
 while ( param_2 != param_3 );
   }

   LAB_00101911:param_1[5] = uVar9;
   return param_2;
}
undefined8 ufbxi_get_dom_node_imp(long param_1, ulong param_2) {
   undefined8 uVar1;
   ulong uVar2;
   long lVar3;
   long in_FS_OFFSET;
   ulong local_28[3];
   long local_10;
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_2 != 0) {
      local_28[1] = 0;
      uVar2 = ( param_2 >> 0x20 ^ param_2 ) * -0x2917014799a6026d;
      lVar3 = ( uVar2 ^ uVar2 >> 0x20 ) * -0x2917014799a6026d;
      local_28[0] = param_2;
      lVar3 = ufbxi_map_find_size(param_1 + 0x978, 0x10, (uint)lVar3 ^ ( uint )((ulong)lVar3 >> 0x20), local_28);
      if (lVar3 != 0) {
         uVar1 = *(undefined8*)( lVar3 + 8 );
         goto LAB_00101a12;
      }

   }

   uVar1 = 0;
   LAB_00101a12:if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return uVar1;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_match_skip(char *param_1, char param_2) {
   char cVar1;
   char *pcVar2;
   char *pcVar3;
   long lVar4;
   char cVar5;
   bool bVar6;
   LAB_00101a46:do {
      cVar5 = *param_1;
      cVar1 = cVar5 + -0x5b;
      bVar6 = cVar5 == '[';
      while (pcVar2 = param_1 + 1,!bVar6) {
         if (bVar6 || SBORROW1(cVar5, '[') != cVar1 < '\0') {
            if (cVar5 == '(') {
               lVar4 = ufbxi_match_skip(pcVar2, 0);
               param_1 = (char*)( lVar4 + 1 );
               goto LAB_00101a46;
            }

            if (( cVar5 == ')' ) || ( cVar5 == '\0' )) {
               return;
            }

         }
 else {
            if (cVar5 == '\\') {
               param_1 = param_1 + 2;
               goto LAB_00101a46;
            }

            if (( cVar5 == '|' ) && ( param_2 != '\0' )) {
               return;
            }

         }

         cVar5 = *pcVar2;
         cVar1 = cVar5 + -0x5b;
         param_1 = pcVar2;
         bVar6 = cVar1 == '\0';
      }
;
      cVar5 = param_1[1];
      while (pcVar3 = pcVar2,param_1 = pcVar3 + 1,cVar5 != ']') {
         cVar5 = *pcVar3;
         pcVar2 = param_1;
         if (cVar5 == '\\') {
            cVar5 = *param_1;
            pcVar2 = pcVar3 + 2;
         }

      }
;
   }
 while ( true );
}
undefined8 ufbxi_match_imp(long *param_1, byte *param_2, long *param_3) {
   byte *pbVar1;
   byte *pbVar2;
   bool bVar3;
   byte *pbVar4;
   byte bVar5;
   char cVar6;
   char *pcVar7;
   undefined8 uVar8;
   byte *pbVar9;
   byte *pbVar10;
   byte bVar11;
   long lVar12;
   byte bVar13;
   byte *pbVar14;
   long in_FS_OFFSET;
   bool bVar15;
   byte *local_58;
   byte *local_50;
   char *local_48;
   long local_40;
   pbVar14 = (byte*)*param_3;
   pbVar2 = (byte*)*param_1;
   pbVar10 = pbVar14 + 1;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   bVar5 = *pbVar14;
   local_58 = pbVar2;
   local_50 = pbVar10;
   if (bVar5 != 0) {
      lVar12 = 0;
      bVar15 = false;
      do {
         pbVar4 = local_58;
         pbVar9 = pbVar10;
         local_50 = pbVar10;
         if (param_2 != local_58) {
            bVar13 = *local_58;
            if (( !bVar15 ) || ( 0x19 < ( byte )(bVar13 + 0xbf) )) goto LAB_00101c12;
            bVar13 = bVar13 + 0x20;
            if (bVar5 == 0x5b) goto LAB_00101d68;
            if ('[' < (char)bVar5) goto LAB_00101d18;
            if (bVar5 == 0x29) goto LAB_00101bd0;
            if (bVar5 != 0x2e) {
               if (bVar5 == 0x28) goto LAB_00101b6d;
               goto LAB_00101c39;
            }

            LAB_00101cb5:local_58 = local_58 + 1;
            bVar5 = *pbVar10;
            if (bVar5 == 0x2b) goto LAB_00101d00;
            if (bVar5 == 0x3f) {
               bVar5 = pbVar10[1];
               pbVar9 = pbVar10 + 1;
            }
 else {
               if (bVar5 == 0x2a) goto LAB_00101d00;
               bVar5 = *pbVar10;
            }

            goto LAB_00101c80;
         }

         bVar13 = 0;
         LAB_00101c12:if (bVar5 == 0x5b) {
            LAB_00101d68:bVar3 = false;
            bVar5 = pbVar10[1];
            bVar11 = *pbVar10;
            if (*pbVar10 == 0x5d) {
               pbVar9 = pbVar10 + 1;
               if (bVar5 == 0x2b) {
                  local_50 = pbVar10 + 2;
                  goto LAB_00101ea0;
               }

               if (bVar5 == 0x3f) {
                  local_50 = pbVar10 + 2;
                  goto LAB_00101bc1;
               }

               joined_r0x00101fa9:local_50 = pbVar9;
               if (bVar5 == 0x2a) goto LAB_00101bb8;
               goto LAB_00101c5a;
            }

            do {
               while (bVar5 = pbVar9[1],bVar11 != 0x5c) {
                  if (bVar5 == 0x2d) {
                     if (( (char)bVar11 <= (char)bVar13 ) && ( (char)bVar13 <= (char)pbVar9[2] )) {
                        bVar3 = true;
                     }

                     bVar5 = pbVar9[3];
                     pbVar9 = pbVar9 + 3;
                  }
 else {
                     if (bVar11 == bVar13) {
                        bVar3 = true;
                     }

                     pbVar9 = pbVar9 + 1;
                  }

                  bVar11 = bVar5;
                  if (bVar5 == 0x5d) goto LAB_00101dc5;
               }
;
               pbVar1 = pbVar9 + 2;
               if (bVar13 == bVar5) {
                  bVar3 = true;
               }

               pbVar9 = pbVar9 + 2;
               bVar11 = *pbVar1;
            }
 while ( *pbVar1 != 0x5d );
            LAB_00101dc5:pbVar9 = pbVar9 + 1;
            if (!bVar3) {
               bVar5 = *pbVar9;
               goto joined_r0x00101e91;
            }

            local_58 = local_58 + 1;
            LAB_00101d44:bVar5 = *pbVar9;
            if (bVar5 != 0x2b) {
               if (bVar5 != 0x3f) {
                  if (bVar5 != 0x2a) goto LAB_00101c80;
                  goto LAB_00101d00;
               }

               local_50 = pbVar9 + 1;
               goto LAB_00101e74;
            }

            goto LAB_00101d00;
         }

         if ((char)bVar5 < '\\') {
            if (bVar5 != 0x29) {
               if (bVar5 == 0x2e) {
                  if (bVar13 != 0) goto LAB_00101cb5;
                  goto LAB_00101c39;
               }

               if (bVar5 != 0x28) goto LAB_00101c34;
               LAB_00101b6d:cVar6 = ufbxi_match_imp(&local_58, param_2, &local_50);
               pbVar9 = local_50;
               goto LAB_00101b8e;
            }

            LAB_00101bd0:*param_1 = (long)local_58;
            uVar8 = 1;
            goto LAB_00101bdd;
         }

         LAB_00101d18:if (bVar5 != 0x5c) {
            if (bVar5 == 0x7c) {
               pbVar9 = (byte*)ufbxi_match_skip(pbVar10);
               goto LAB_00101d44;
            }

            LAB_00101c34:if (bVar5 == bVar13) goto LAB_00101cb5;
            LAB_00101c39:bVar5 = *pbVar10;
            joined_r0x00101e91:if (bVar5 == 0x2b) {
               local_50 = pbVar9 + 1;
               goto LAB_00101ea0;
            }

            if (bVar5 != 0x3f) goto joined_r0x00101fa9;
            goto LAB_00101bb8;
         }

         bVar5 = pbVar14[1];
         pbVar9 = pbVar14 + 2;
         local_48 = (char*)0x0;
         local_50 = pbVar9;
         if ('d' < (char)bVar5) {
            if (bVar5 != 0x73) goto switchD_00101e44_caseD_44;
            if (( 0x1f < bVar13 - 1 ) || ( ( 0x80001300U >> ( bVar13 - 1 & 0x1f ) & 1 ) == 0 )) goto LAB_00101ee5;
            LAB_00101f1a:bVar13 = pbVar14[2];
            local_58 = local_58 + 1;
            goto joined_r0x00101f62;
         }

         if ((char)bVar5 < 'C') {
            switchD_00101e44_caseD_44:if (bVar5 == bVar13) goto LAB_00101f1a;
            LAB_00101ee5:bVar13 = pbVar14[2];
            cVar6 = '\0';
            if (bVar13 == 0x2b) {
               local_50 = pbVar14 + 3;
               goto LAB_00101ea0;
            }

            goto LAB_00101b9b;
         }

         switch (bVar5) {
            case 0x43:
            case 99:
        bVar13 = pbVar14[2];
        bVar15 = bVar5 == 99;
        break;
            default:
        goto switchD_00101e44_caseD_44;
            case 0x46:
        local_48 = "[\\-+]?[0-9]+(\\.[0-9]+)?([eE][\\-+]?[0-9]+)?";
        goto LAB_00101fe2;
            case 0x53:
        if ((bVar13 - 1 < 0x20) && ((0x80001300U >> (bVar13 - 1 & 0x1f) & 1) != 0))
        goto LAB_00101ee5;
        bVar13 = pbVar14[2];
        local_58 = local_58 + 1;
        break;
            case 100:
        local_48 = "[0-9]";
LAB_00101fe2:
        cVar6 = ufbxi_match_imp(&local_58,param_2,&local_48);
LAB_00101b8e:
        bVar13 = *pbVar9;
        if (bVar13 != 0x2b) goto LAB_00101b9b;
        local_50 = pbVar9 + 1;
        if (cVar6 == '\0') {
LAB_00101ea0:
          pbVar9 = local_50;
          if (lVar12 != 0) goto LAB_00101bc1;
          goto LAB_00101c5a;
        }
        goto LAB_00101d00;
         }

         joined_r0x00101f62:if (bVar13 == 0x2b) {
            LAB_00101d00:bVar5 = *pbVar14;
            lVar12 = lVar12 + 1;
         }
 else {
            cVar6 = '\x01';
            LAB_00101b9b:if (bVar13 == 0x3f) {
               local_50 = pbVar9 + 1;
               if (cVar6 == '\0') {
                  LAB_00101bc1:bVar5 = *local_50;
                  pbVar9 = local_50;
                  local_58 = pbVar4;
               }
 else {
                  LAB_00101e74:bVar5 = pbVar9[1];
                  pbVar9 = local_50;
               }

            }
 else {
               if (bVar13 == 0x2a) {
                  if (cVar6 == '\0') {
                     LAB_00101bb8:local_50 = pbVar9 + 1;
                     goto LAB_00101bc1;
                  }

                  goto LAB_00101d00;
               }

               if (cVar6 == '\0') {
                  LAB_00101c5a:pcVar7 = (char*)ufbxi_match_skip(pbVar9);
                  if (*pcVar7 != '|') {
                     lVar12 = ufbxi_match_skip(pcVar7, 0);
                     pbVar10 = (byte*)( lVar12 + 1 );
                     uVar8 = 0;
                     goto LAB_00101bdd;
                  }

                  bVar5 = pcVar7[1];
                  pbVar9 = (byte*)( pcVar7 + 1 );
                  local_58 = pbVar2;
               }
 else {
                  bVar5 = *pbVar9;
               }

            }

            LAB_00101c80:lVar12 = 0;
            pbVar10 = pbVar9 + 1;
            pbVar14 = pbVar9;
         }

         local_50 = pbVar10;
      }
 while ( bVar5 != 0 );
   }

   pbVar10 = pbVar14;
   *param_1 = (long)local_58;
   uVar8 = 1;
   LAB_00101bdd:*param_3 = (long)pbVar10;
   if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return uVar8;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
long *ufbxi_find_prop_with_key(long *param_1, long param_2, uint param_3) {
   ulong uVar1;
   long *plVar2;
   ulong uVar3;
   ulong uVar4;
   ulong uVar5;
   do {
      uVar1 = param_1[1];
      uVar4 = 0;
      uVar3 = uVar1;
      while (uVar5 = uVar3,0xf < uVar5 - uVar4) {
         uVar3 = uVar5 + uVar4 >> 1;
         if (*(uint*)( *param_1 + 0x10 + ( ( uVar5 + uVar4 & 0xfffffffffffffffe ) * 4 + uVar3 * 5 ) * 8 ) < param_3) {
            uVar4 = uVar3 + 1;
            uVar3 = uVar5;
         }

      }
;
      if (uVar4 < uVar1) {
         plVar2 = (long*)( *param_1 + uVar4 * 0x68 );
         do {
            if (param_3 < *(uint*)( plVar2 + 2 )) break;
            if (( *plVar2 == param_2 ) && ( ( *(byte*)( (long)plVar2 + 0x1a ) & 1 ) == 0 )) {
               return plVar2;
            }

            uVar4 = uVar4 + 1;
            plVar2 = plVar2 + 0xd;
         }
 while ( uVar1 != uVar4 );
      }

      param_1 = (long*)param_1[3];
      if (param_1 == (long*)0x0) {
         return (long*)0x0;
      }

   }
 while ( true );
}
undefined8 ufbxi_matrix_all_zero(double *param_1) {
   double *pdVar1;
   pdVar1 = param_1 + 0xc;
   do {
      if (*param_1 != 0.0) {
         return 0;
      }

      param_1 = param_1 + 1;
   }
 while ( param_1 != pdVar1 );
   return 1;
}
uint ufbxi_is_transform_identity(double *param_1, undefined8 param_2, undefined8 param_3) {
   uint uVar1;
   undefined8 in_RAX;
   uint uVar2;
   uint uVar3;
   ulong uVar4;
   undefined8 uVar5;
   undefined8 uVar6;
   undefined8 uVar7;
   undefined8 uVar8;
   undefined8 uVar9;
   undefined8 uVar10;
   uVar1 = (uint)CONCAT71(( int7 )((ulong)in_RAX >> 8), !NAN(*param_1));
   if (*param_1 != 0.0) {
      uVar1 = 0;
   }

   uVar4 = CONCAT71(( int7 )((ulong)param_2 >> 8), !NAN(param_1[1])) & 0xffffffff;
   if (param_1[1] != 0.0) {
      uVar4 = 0;
   }

   uVar5 = CONCAT71(( int7 )(uVar4 >> 8), !NAN(param_1[2]));
   if (param_1[2] != 0.0) {
      uVar5 = 0;
   }

   uVar6 = CONCAT71(( int7 )((ulong)uVar5 >> 8), !NAN(param_1[3]));
   if (param_1[3] != 0.0) {
      uVar6 = 0;
   }

   uVar7 = CONCAT71(( int7 )((ulong)uVar6 >> 8), !NAN(param_1[4]));
   if (param_1[4] != 0.0) {
      uVar7 = 0;
   }

   uVar8 = CONCAT71(( int7 )((ulong)uVar7 >> 8), !NAN(param_1[5]));
   if (param_1[5] != 0.0) {
      uVar8 = 0;
   }

   uVar9 = CONCAT71(( int7 )((ulong)uVar8 >> 8), !NAN(_LC0) && !NAN(param_1[6]));
   if (_LC0 != param_1[6]) {
      uVar9 = 0;
   }

   uVar10 = CONCAT71(( int7 )((ulong)uVar9 >> 8), !NAN(_LC0) && !NAN(param_1[7]));
   if (_LC0 != param_1[7]) {
      uVar10 = 0;
   }

   uVar3 = (uint)CONCAT71(( int7 )((ulong)uVar10 >> 8), !NAN(_LC0) && !NAN(param_1[8]));
   if (_LC0 != param_1[8]) {
      uVar3 = 0;
   }

   uVar2 = (uint)CONCAT71(( int7 )((ulong)param_3 >> 8), !NAN(_LC0) && !NAN(param_1[9]));
   if (_LC0 != param_1[9]) {
      uVar2 = 0;
   }

   return uVar1 & (uint)uVar4 & (uint)uVar5 & (uint)uVar6 & (uint)uVar7 & (uint)uVar8 & (uint)uVar9 & (uint)uVar10 & uVar3 & uVar2;
}
void ufbxi_decode_base64(byte *param_1, byte *param_2, byte *param_3) {
   byte bVar1;
   byte bVar2;
   byte bVar3;
   long lVar4;
   char *pcVar5;
   char *pcVar6;
   byte *pbVar7;
   byte *pbVar8;
   long in_FS_OFFSET;
   undefined1 local_118[16];
   undefined1 local_108[16];
   undefined1 local_f8[11];
   undefined4 uStack_ed;
   undefined1 uStack_e9;
   undefined7 uStack_e8;
   undefined2 uStack_e1;
   undefined1 uStack_df;
   undefined6 uStack_de;
   undefined1 local_d8[16];
   undefined1 local_c8[16];
   undefined1 local_b8[16];
   undefined1 local_a8[16];
   undefined1 local_98[16];
   undefined1 local_88[16];
   undefined1 local_78[16];
   undefined1 local_68[16];
   undefined1 local_58[16];
   undefined1 local_48[16];
   undefined1 local_38[16];
   undefined1 local_28[16];
   long local_10;
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar4 = 0;
   local_118 = (undefined1[16])0x0;
   local_108 = (undefined1[16])0x0;
   local_f8 = SUB1611((undefined1[16])0x0, 0);
   uStack_de = 0;
   local_d8 = (undefined1[16])0x0;
   local_c8 = (undefined1[16])0x0;
   local_b8 = (undefined1[16])0x0;
   local_a8 = (undefined1[16])0x0;
   local_98 = (undefined1[16])0x0;
   local_88 = (undefined1[16])0x0;
   local_78 = (undefined1[16])0x0;
   local_68 = (undefined1[16])0x0;
   local_58 = (undefined1[16])0x0;
   local_48 = (undefined1[16])0x0;
   local_38 = (undefined1[16])0x0;
   local_28 = (undefined1[16])0x0;
   do {
      local_d8[lVar4 + 1] = (char)lVar4;
      lVar4 = lVar4 + 1;
   }
 while ( lVar4 != 0x1a );
   pcVar5 = local_b8 + 1;
   do {
      pcVar6 = pcVar5 + 1;
      *pcVar5 = ( '\x1a' - (char)( local_b8 + 1 ) ) + (char)pcVar5;
      pcVar5 = pcVar6;
   }
 while ( pcVar6 != local_a8 + 0xb );
   uStack_df = 0x3d;
   uStack_e1 = 0x3c3b;
   uStack_ed = 0x3e;
   uStack_e9 = (undefined1)_LC5;
   uStack_e8 = ( undefined7 )((ulong)_LC5 >> 8);
   if ((byte*)0x3 < param_3) {
      pbVar7 = param_2;
      do {
         pbVar8 = pbVar7 + 4;
         bVar1 = pbVar7[3];
         bVar2 = local_118[pbVar7[1]];
         bVar3 = local_118[pbVar7[2]];
         *param_1 = bVar2 >> 4 | local_118[*pbVar7] << 2;
         param_1[2] = bVar3 << 6 | local_118[bVar1];
         param_1[1] = bVar2 << 4 | bVar3 >> 2;
         param_1 = param_1 + 3;
         pbVar7 = pbVar8;
      }
 while ( pbVar8 + ( 4 - (long)param_2 ) <= param_3 );
   }

   if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_deduplicate_properties(long *param_1) {
   ulong uVar1;
   ulong uVar2;
   long *plVar3;
   ulong uVar4;
   long *plVar5;
   long lVar6;
   long *plVar7;
   ulong uVar8;
   ulong uVar9;
   uVar4 = param_1[1];
   if (uVar4 < 2) {
      return;
   }

   plVar5 = (long*)*param_1;
   uVar8 = 0;
   plVar7 = plVar5;
   uVar9 = 0;
   do {
      uVar2 = uVar9 + 1;
      if (( uVar4 <= uVar2 ) || ( *plVar7 != plVar7[0xd] )) {
         uVar1 = uVar8 + 1;
         if (uVar8 != uVar9) {
            lVar6 = plVar7[1];
            plVar3 = plVar5 + uVar8 * 0xd;
            *plVar3 = *plVar7;
            plVar3[1] = lVar6;
            for (int i = 0; i < 5; i++) {
               lVar6 = plVar7[( 2*i + 3 )];
               plVar3[( 2*i + 2 )] = plVar7[( 2*i + 2 )];
               plVar3[( 2*i + 3 )] = lVar6;
            }

            plVar3[0xc] = plVar7[0xc];
         }

         uVar8 = uVar1;
         if (uVar4 == uVar2) {
            param_1[1] = uVar1;
            return;
         }

      }

      plVar7 = plVar7 + 0xd;
      uVar9 = uVar2;
   }
 while ( true );
}
undefined8 ufbxi_match_version_string(char *param_1, long param_2, ulong param_3, long param_4) {
   char *pcVar1;
   ulong uVar2;
   char cVar3;
   int iVar4;
   long lVar5;
   long lVar6;
   long lVar7;
   iVar4 = (int)*param_1;
   if (*param_1 == '\0') {
      return 1;
   }

   uVar2 = 0;
   lVar5 = 0;
   LAB_00102408:param_1 = param_1 + 1;
   cVar3 = (char)iVar4;
   if ('?' < cVar3) {
      if (( byte )(cVar3 + 0x9fU) < 0x1a) {
         if (param_3 <= uVar2) {
            return 0;
         }

         if (( *(char*)( param_2 + uVar2 ) != cVar3 ) && ( *(char*)( param_2 + uVar2 ) + 0x20 != iVar4 )) {
            return 0;
         }

         LAB_0010245a:uVar2 = uVar2 + 1;
      }

      goto switchD_0010242c_caseD_1;
   }

   if (cVar3 < ' ') goto switchD_0010242c_caseD_1;
   switch (iVar4 - 0x20U & 0xff) {
      case 0:
    goto switchD_0010242c_caseD_0;
      case 8:
      case 9:
      case 0xe:
      case 0xf:
    if ((param_3 <= uVar2) || (*(char *)(param_2 + uVar2) != cVar3)) {
      return 0;
    }
    goto LAB_0010245a;
      case 0xd:
    do {
      if (param_3 <= uVar2) {
        return 0;
      }
      pcVar1 = (char *)(param_2 + uVar2);
      uVar2 = uVar2 + 1;
    } while (*pcVar1 != '-');
    break;
      case 0x1f:
    if (param_3 <= uVar2) {
      return 0;
    }
    lVar6 = 0;
    iVar4 = 0;
    lVar7 = param_3 - uVar2;
    do {
      pcVar1 = (char *)(param_2 + uVar2);
      if (9 < (byte)(*pcVar1 - 0x30U)) {
        if (lVar6 == 0) {
          return 0;
        }
        break;
      }
      lVar6 = lVar6 + 1;
      uVar2 = uVar2 + 1;
      iVar4 = *pcVar1 + -0x30 + iVar4 * 10;
    } while (lVar6 != lVar7);
    *(int *)(param_4 + lVar5 * 4) = iVar4;
    cVar3 = *param_1;
    lVar5 = lVar5 + 1;
    goto joined_r0x001024bd;
   }

   goto switchD_0010242c_caseD_1;
   switchD_0010242c_caseD_0:if (uVar2 < param_3) {
      do {
         if (( *(char*)( param_2 + uVar2 ) != ' ' ) && ( *(char*)( param_2 + uVar2 ) != '\t' )) {
            iVar4 = (int)*param_1;
            if (*param_1 == '\0') {
               return 1;
            }

            goto LAB_00102408;
         }

         uVar2 = uVar2 + 1;
      }
 while ( param_3 != uVar2 );
   }

   switchD_0010242c_caseD_1:cVar3 = *param_1;
   joined_r0x001024bd:iVar4 = (int)cVar3;
   if (cVar3 == '\0') {
      return 1;
   }

   goto LAB_00102408;
}
void ufbxi_find_fbx_id(long param_1, ulong param_2) {
   ulong uVar1;
   long lVar2;
   ulong local_10[2];
   uVar1 = ( param_2 >> 0x20 ^ param_2 ) * -0x2917014799a6026d;
   lVar2 = ( uVar1 ^ uVar1 >> 0x20 ) * -0x2917014799a6026d;
   local_10[0] = param_2;
   ufbxi_map_find_size(param_1 + 0x6d0, 0x10, (uint)lVar2 ^ ( uint )((ulong)lVar2 >> 0x20), local_10);
   return;
}
undefined4 ufbxi_uv_set_less(undefined8 param_1, long param_2, long param_3) {
   return CONCAT31(( int3 )(*(uint*)( param_3 + 0x10 ) >> 8), *(uint*)( param_2 + 0x10 ) < *(uint*)( param_3 + 0x10 ));
}
undefined4 ufbxi_color_set_less(undefined8 param_1, long param_2, long param_3) {
   return CONCAT31(( int3 )(*(uint*)( param_3 + 0x10 ) >> 8), *(uint*)( param_2 + 0x10 ) < *(uint*)( param_3 + 0x10 ));
}
undefined4 ufbxi_blend_offset_less(undefined8 param_1, uint *param_2, uint *param_3) {
   return CONCAT31(( int3 )(*param_3 >> 8), *param_2 < *param_3);
}
void ufbxi_patch_mesh_reals(long param_1) {
   long lVar1;
   long lVar2;
   lVar1 = *(long*)( param_1 + 0x380 );
   *(undefined8*)( param_1 + 0x1b0 ) = 3;
   *(undefined8*)( param_1 + 0x1f8 ) = 3;
   *(undefined8*)( param_1 + 0x240 ) = 2;
   *(undefined8*)( param_1 + 0x288 ) = 3;
   *(undefined8*)( param_1 + 0x2d0 ) = 3;
   *(undefined8*)( param_1 + 0x318 ) = 4;
   *(undefined8*)( param_1 + 0x360 ) = 1;
   lVar2 = *(long*)( param_1 + 0x388 ) * 0xf0 + lVar1;
   *(undefined8*)( param_1 + 0x420 ) = 3;
   *(undefined8*)( param_1 + 0x468 ) = 3;
   for (; lVar1 != lVar2; lVar1 = lVar1 + 0xf0) {
      *(undefined8*)( lVar1 + 0x40 ) = 2;
      *(undefined8*)( lVar1 + 0x88 ) = 3;
      *(undefined8*)( lVar1 + 0xd0 ) = 3;
   }

   lVar1 = *(long*)( param_1 + 0x390 );
   lVar2 = *(long*)( param_1 + 0x398 ) * 0x60 + lVar1;
   for (; lVar1 != lVar2; lVar1 = lVar1 + 0x60) {
      *(undefined8*)( lVar1 + 0x40 ) = 4;
   }

   return;
}
undefined4 ufbxi_less_int32(undefined8 param_1, int *param_2, int *param_3) {
   return CONCAT31(( int3 )(( uint ) * param_3 >> 8), *param_2 < *param_3);
}
void ufbxi_read_transform_matrix(undefined8 *param_1, undefined8 *param_2) {
   *param_1 = *param_2;
   param_1[1] = param_2[1];
   param_1[2] = param_2[2];
   for (int i = 0; i < 3; i++) {
      param_1[( 3*i + 3 )] = param_2[( 4*i + 4 )];
      param_1[( 3*i + 4 )] = param_2[( 4*i + 5 )];
      param_1[( 3*i + 5 )] = param_2[( 4*i + 6 )];
   }

   return;
}
void ufbxi_trim_delimiters(long param_1, long param_2, long param_3) {
   while (true) {
      if (param_3 == 0) {
         return;
      }

      param_3 = param_3 + -1;
      if (*(char*)( param_2 + param_3 ) == '/') break;
      if (*(char*)( param_1 + 0x36a ) == *(char*)( param_2 + param_3 )) {
         return;
      }

   }
;
   return;
}
void ufbxi_strblob_set(undefined8 *param_1, undefined1 *param_2, long param_3, char param_4) {
   if (( param_4 == '\0' ) && ( param_3 == 0 )) {
      param_2 = &ufbxi_empty_char;
   }

   *param_1 = param_2;
   param_1[1] = param_3;
   return;
}
bool ufbxi_is_absolute_path(char *param_1, ulong param_2) {
   char cVar1;
   bool bVar2;
   bVar2 = false;
   if (( ( ( param_2 != 0 ) && ( cVar1 = *param_1 ),bVar2 = cVar1 == '/' || cVar1 == '\\',cVar1 != '/' && cVar1 != '\\' ) ) && ( 2 < param_2 )) {
      bVar2 = param_1[2] == '\\' || param_1[2] == '/';
   }

   return bVar2;
}
long ufbxi_find_element_by_fbx_id(long param_1) {
   long lVar1;
   lVar1 = ufbxi_find_fbx_id();
   if (lVar1 != 0) {
      lVar1 = *(long*)( *(long*)( param_1 + 0x2148 ) + ( ulong ) * (uint*)( lVar1 + 8 ) * 8 );
   }

   return lVar1;
}
ulong ufbxi_cmp_node_less(long param_1, long param_2) {
   byte bVar1;
   uint uVar2;
   ulong uVar3;
   byte bVar4;
   bool bVar5;
   uVar2 = *(uint*)( param_2 + 0x448 );
   uVar3 = (ulong)uVar2;
   bVar5 = *(uint*)( param_1 + 0x448 ) < uVar2;
   if (( *(uint*)( param_1 + 0x448 ) == uVar2 ) && ( ( ( uVar3 = *(ulong*)( param_1 + 0x80 ) ),uVar3 == 0 || ( *(long*)( param_2 + 0x80 ) == 0 ) ) || ( uVar2 = *(uint*)( *(long*)( param_2 + 0x80 ) + 0x30 ) ),bVar5 = *(uint*)( uVar3 + 0x30 ) < uVar2,*(uint*)( uVar3 + 0x30 ) == uVar2 )) {
      bVar1 = *(byte*)( param_1 + 0x445 );
      bVar4 = *(byte*)( param_2 + 0x445 );
      if (bVar1 == bVar4) {
         bVar1 = *(byte*)( param_1 + 0x446 );
         bVar4 = *(byte*)( param_2 + 0x446 );
         if (bVar1 == bVar4) {
            uVar3 = ( ulong ) * (uint*)( param_2 + 0x30 );
            bVar5 = *(uint*)( param_1 + 0x30 ) < *(uint*)( param_2 + 0x30 );
            goto LAB_0010282e;
         }

      }

      return ( ulong )(bVar4 < bVar1);
   }

   LAB_0010282e:return CONCAT71(( int7 )(uVar3 >> 8), bVar5);
}
undefined4 ufbxi_bone_pose_less(undefined8 param_1, long *param_2, long *param_3) {
   return CONCAT31(( int3 )(*(uint*)( *param_3 + 0x34 ) >> 8), *(uint*)( *param_2 + 0x34 ) < *(uint*)( *param_3 + 0x34 ));
}
bool ufbxi_blend_keyframe_less(undefined8 param_1, long param_2, long param_3) {
   return *(double*)( param_2 + 8 ) <= *(double*)( param_3 + 8 ) && *(double*)( param_3 + 8 ) != *(double*)( param_2 + 8 );
}
void ufbxi_mat_transform_invert_x(double *param_1) {
   *param_1 = _LC0 - *param_1;
   return;
}
void ufbxi_update_factor(undefined8 *param_1, double *param_2) {
   undefined8 uVar1;
   uVar1 = _LC0;
   if (*(char*)( param_1 + 6 ) == '\0') {
      if (( *(char*)( param_2 + 6 ) != '\0' ) && ( ( *param_2 != 0.0 || param_2[1] != 0.0 || ( param_2[2] != 0.0 ) ) )) {
         param_1[4] = 1;
         *param_1 = uVar1;
         return;
      }

      *param_1 = 0;
      param_1[4] = 0;
   }

   return;
}
void ufbxi_propagate_main_textures(long param_1) {
   long *plVar1;
   long lVar2;
   undefined8 uVar3;
   long lVar4;
   long *plVar5;
   long lVar6;
   long *plVar7;
   ulong uVar8;
   plVar7 = *(long**)( param_1 + 0x430 );
   uVar8 = *(ulong*)( param_1 + 0x188 );
   plVar1 = plVar7 + *(long*)( param_1 + 0x438 );
   while (uVar8 != 0) {
      while (uVar8 = uVar8 >> 1,plVar5 = plVar7,plVar7 != plVar1) {
         do {
            lVar2 = *(long*)( *plVar5 + 0x118 );
            if (( ( ( lVar2 != 0 ) && ( *(long*)( lVar2 + 0x50 ) != 0 ) ) && ( *(long*)( lVar2 + 0x58 ) == 0 ) ) && ( ( lVar6 = *(long*)( *(long*)( lVar2 + 0x50 ) + 0x118 ) ),lVar6 != 0 && ( *(long*)( lVar6 + 0x50 ) != 0 ) )) {
               uVar3 = *(undefined8*)( lVar6 + 0x58 );
               *(long*)( lVar2 + 0x50 ) = *(long*)( lVar6 + 0x50 );
               *(undefined8*)( lVar2 + 0x58 ) = uVar3;
            }

            plVar5 = plVar5 + 1;
         }
 while ( plVar5 != plVar1 );
         if (uVar8 == 0) goto LAB_001029ae;
      }
;
   }
;
   LAB_001029ae:plVar5 = plVar7;
   if (plVar7 != plVar1) {
      do {
         lVar2 = *(long*)( *plVar5 + 0x118 );
         if (( ( lVar2 != 0 ) && ( *(long*)( lVar2 + 0x50 ) != 0 ) ) && ( ( *(long*)( lVar2 + 0x58 ) == 0 && ( ( lVar6 = *(long*)( *(long*)( lVar2 + 0x50 ) + 0x118 ) ),lVar6 != 0 && ( *(long*)( lVar6 + 0x50 ) != 0 ) ) ) )) {
            *(undefined8*)( lVar2 + 0x50 ) = 0;
         }

         plVar5 = plVar5 + 1;
      }
 while ( plVar5 != plVar1 );
      do {
         lVar2 = *(long*)( *plVar7 + 0x118 );
         if (lVar2 != 0) {
            lVar6 = *(long*)( lVar2 + 0x20 );
            lVar2 = lVar6 + *(long*)( lVar2 + 0x28 ) * 0x88;
            for (; lVar6 != lVar2; lVar6 = lVar6 + 0x88) {
               if (( ( *(long*)( lVar6 + 0x58 ) != 0 ) && ( lVar4 = *(long*)( *(long*)( lVar6 + 0x58 ) + 0x118 ) ),lVar4 != 0 )) {
                  uVar3 = *(undefined8*)( lVar4 + 0x58 );
                  *(long*)( lVar6 + 0x58 ) = *(long*)( lVar4 + 0x50 );
                  *(undefined8*)( lVar6 + 0x60 ) = uVar3;
               }

            }

         }

         plVar7 = plVar7 + 1;
      }
 while ( plVar7 != plVar1 );
   }

   plVar7 = *(long**)( param_1 + 0x420 );
   plVar1 = plVar7 + *(long*)( param_1 + 0x428 );
   if (plVar7 == plVar1) {
      return;
   }

   do {
      lVar6 = *(long*)( *plVar7 + 0x1148 );
      lVar2 = lVar6 + *(long*)( *plVar7 + 0x1150 ) * 0x28;
      for (; lVar6 != lVar2; lVar6 = lVar6 + 0x28) {
         lVar4 = *(long*)( *(long*)( lVar6 + 0x20 ) + 0x118 );
         if (( ( lVar4 != 0 ) && ( *(long*)( lVar4 + 0x50 ) != 0 ) ) && ( *(long*)( lVar4 + 0x58 ) == 0 )) {
            *(long*)( lVar6 + 0x20 ) = *(long*)( lVar4 + 0x50 );
         }

      }

      plVar7 = plVar7 + 1;
   }
 while ( plVar1 != plVar7 );
   return;
}
undefined8 ufbxi_ordered_texture_less_texture(undefined8 param_1, ulong *param_2, ulong *param_3) {
   return CONCAT71(( int7 )(*param_3 >> 8), *param_2 < *param_3);
}
undefined8 ufbxi_ordered_texture_less_order(undefined8 param_1, long param_2, long param_3) {
   return CONCAT71(( int7 )(*(ulong*)( param_3 + 8 ) >> 8), *(ulong*)( param_2 + 8 ) < *(ulong*)( param_3 + 8 ));
}
void ufbxi_mirror_vec3_list(long *param_1, int param_2, long param_3) {
   ulong *puVar1;
   ulong uVar2;
   ulong *puVar3;
   long lVar4;
   uVar2 = _LC15;
   if (( param_2 != 0 ) && ( param_1[1] != 0 )) {
      lVar4 = ( -(ulong)(param_3 == 0) & 0xfffffffffffffff8 ) + 0x20;
      puVar3 = (ulong*)( *param_1 + (long)( param_2 + -1 ) * 8 );
      puVar1 = (ulong*)( (long)puVar3 + param_1[1] * lVar4 );
      for (; puVar3 != puVar1; puVar3 = (ulong*)( (long)puVar3 + lVar4 )) {
         *puVar3 = *puVar3 ^ uVar2;
      }

   }

   return;
}
void ufbxi_scale_vec3_list(double param_1, long *param_2, long param_3) {
   double *pdVar1;
   long lVar2;
   double *pdVar3;
   if (param_2[1] != 0) {
      pdVar1 = (double*)*param_2;
      lVar2 = ( -(ulong)(param_3 == 0) & 0xfffffffffffffff8 ) + 0x20;
      pdVar3 = (double*)( param_2[1] * lVar2 + (long)pdVar1 );
      for (; pdVar1 != pdVar3; pdVar1 = (double*)( (long)pdVar1 + lVar2 )) {
         *pdVar1 = *pdVar1 * param_1;
         pdVar1[1] = pdVar1[1] * param_1;
         pdVar1[2] = pdVar1[2] * param_1;
      }

   }

   return;
}
ulong ufbxi_next_path_segment(long param_1, ulong param_2, ulong param_3) {
   ulong uVar1;
   uVar1 = param_3;
   if (param_2 < param_3) {
      while (( uVar1 = param_2 * (char*)( param_1 + uVar1 ) != '/' && ( *(char*)( param_1 + uVar1 ) != '\\' ) )) {
         param_2 = uVar1 + 1;
         if (param_3 == uVar1 + 1) {
            return param_3;
         }

      }
;
   }

   return uVar1;
}
ulong ufbxi_material_part_usage_less(long param_1, uint *param_2, uint *param_3) {
   uint uVar1;
   ulong uVar2;
   long lVar3;
   undefined7 uVar4;
   lVar3 = ( ulong ) * param_2 * 0x40 + param_1;
   param_1 = param_1 + ( ulong ) * param_3 * 0x40;
   uVar2 = *(ulong*)( param_1 + 0x38 );
   uVar4 = ( undefined7 )((ulong)lVar3 >> 8);
   if (*(ulong*)( lVar3 + 0x38 ) == 0) {
      if (uVar2 == 0) {
         return CONCAT71(uVar4, *param_2 < *param_3);
      }

   }
 else if (uVar2 != 0) {
      uVar1 = **(uint**)( param_1 + 0x30 );
      return (ulong)CONCAT31(( int3 )(uVar1 >> 8), **(uint**)( lVar3 + 0x30 ) < uVar1);
   }

   return CONCAT71(uVar4, uVar2 < *(ulong*)( lVar3 + 0x38 ));
}
double *ufbxi_mul_quat(double *param_1) {
   double in_stack_00000008;
   double in_stack_00000010;
   double in_stack_00000018;
   double in_stack_00000020;
   double in_stack_00000028;
   double in_stack_00000030;
   double in_stack_00000038;
   double in_stack_00000040;
   *param_1 = ( in_stack_00000020 * in_stack_00000028 + in_stack_00000008 * in_stack_00000040 + in_stack_00000038 * in_stack_00000010 ) - in_stack_00000030 * in_stack_00000018;
   param_1[1] = ( in_stack_00000020 * in_stack_00000030 - in_stack_00000008 * in_stack_00000038 ) + in_stack_00000040 * in_stack_00000010 + in_stack_00000028 * in_stack_00000018;
   param_1[2] = ( ( in_stack_00000020 * in_stack_00000038 + in_stack_00000008 * in_stack_00000030 ) - in_stack_00000028 * in_stack_00000010 ) + in_stack_00000040 * in_stack_00000018;
   param_1[3] = ( ( in_stack_00000020 * in_stack_00000040 - in_stack_00000008 * in_stack_00000028 ) - in_stack_00000030 * in_stack_00000010 ) - in_stack_00000038 * in_stack_00000018;
   return param_1;
}
void ufbxi_add_weighted_mat(double param_1, double *param_2, double *param_3) {
   double dVar1;
   double dVar2;
   dVar1 = param_3[2];
   dVar2 = *param_3;
   param_2[1] = param_3[1] * param_1 + param_2[1];
   *param_2 = dVar2 * param_1 + *param_2;
   param_2[2] = dVar1 * param_1 + param_2[2];
   dVar1 = param_3[5];
   dVar2 = param_3[3];
   param_2[4] = param_3[4] * param_1 + param_2[4];
   param_2[3] = dVar2 * param_1 + param_2[3];
   param_2[5] = dVar1 * param_1 + param_2[5];
   dVar1 = param_3[8];
   dVar2 = param_3[6];
   param_2[7] = param_3[7] * param_1 + param_2[7];
   param_2[6] = dVar2 * param_1 + param_2[6];
   param_2[8] = dVar1 * param_1 + param_2[8];
   dVar1 = param_3[10];
   dVar2 = param_3[0xb];
   param_2[9] = param_3[9] * param_1 + param_2[9];
   param_2[10] = dVar1 * param_1 + param_2[10];
   param_2[0xb] = param_1 * dVar2 + param_2[0xb];
   return;
}
double *ufbxi_get_scale(double *param_1, undefined8 param_2, long param_3) {
   double dVar1;
   double dVar2;
   long lVar3;
   double dVar4;
   double dVar5;
   double dVar6;
   lVar3 = ufbxi_find_prop_with_key(param_2, "Lcl Scaling", 0x4c636c20);
   dVar4 = _LC0;
   dVar5 = _LC0;
   dVar6 = _LC0;
   if (lVar3 != 0) {
      dVar4 = *(double*)( lVar3 + 0x58 );
      dVar5 = *(double*)( lVar3 + 0x48 );
      dVar6 = *(double*)( lVar3 + 0x50 );
   }

   if (*(char*)( param_3 + 0x443 ) != '\0') {
      dVar1 = *(double*)( param_3 + 0x410 );
      dVar2 = *(double*)( param_3 + 1000 );
      dVar5 = dVar5 * dVar1 * dVar2;
      dVar6 = dVar6 * dVar1 * dVar2;
      dVar4 = dVar4 * dVar1 * dVar2;
   }

   *param_1 = dVar5;
   param_1[1] = dVar6;
   param_1[2] = dVar4;
   return param_1;
}
void ufbxi_update_light(long param_1) {
   undefined4 uVar1;
   long lVar2;
   long lVar3;
   bool bVar4;
   double dVar5;
   undefined8 extraout_XMM0_Qa;
   undefined8 extraout_XMM0_Qa_00;
   undefined8 uVar6;
   double dVar7;
   double dVar8;
   lVar3 = param_1 + 0x10;
   lVar2 = ufbxi_find_prop_with_key(lVar3, "Intensity", 0x496e7465);
   dVar7 = _LC0;
   if (lVar2 != 0) {
      dVar7 = *(double*)( lVar2 + 0x48 ) / _LC9;
   }

   *(double*)( param_1 + 0x98 ) = dVar7;
   lVar2 = ufbxi_find_prop_with_key(lVar3, "Color", 0x436f6c6f);
   dVar7 = _LC0;
   dVar8 = _LC0;
   dVar5 = _LC0;
   if (lVar2 != 0) {
      dVar7 = *(double*)( lVar2 + 0x48 );
      dVar8 = *(double*)( lVar2 + 0x50 );
      dVar5 = *(double*)( lVar2 + 0x58 );
   }

   *(double*)( param_1 + 0x80 ) = dVar7;
   *(double*)( param_1 + 0x88 ) = dVar8;
   *(double*)( param_1 + 0x90 ) = dVar5;
   lVar2 = ufbxi_find_prop_with_key(lVar3, "LightType", 0x4c696768);
   if (lVar2 == 0) {
      uVar1 = 0;
   }
 else {
      uVar1 = ( undefined4 ) * (ulong*)( lVar2 + 0x40 );
      if (4 < *(ulong*)( lVar2 + 0x40 )) {
         uVar1 = 0;
      }

   }

   *(undefined4*)( param_1 + 0xb8 ) = uVar1;
   lVar2 = ufbxi_find_prop_with_key(lVar3, "DecayType", 0x44656361);
   if (lVar2 == 0) {
      uVar1 = 0;
   }
 else {
      uVar1 = ( undefined4 ) * (ulong*)( lVar2 + 0x40 );
      if (3 < *(ulong*)( lVar2 + 0x40 )) {
         uVar1 = 0;
      }

   }

   *(undefined4*)( param_1 + 0xbc ) = uVar1;
   lVar2 = ufbxi_find_prop_with_key(lVar3, "AreaLightShape", 0x41726561);
   if (lVar2 == 0) {
      uVar1 = 0;
   }
 else {
      uVar1 = ( undefined4 ) * (ulong*)( lVar2 + 0x40 );
      if (1 < *(ulong*)( lVar2 + 0x40 )) {
         uVar1 = 0;
      }

   }

   *(undefined4*)( param_1 + 0xc0 ) = uVar1;
   ufbxi_find_prop_with_key(0, lVar3, "HotSpot", 0x486f7453);
   lVar2 = ufbxi_find_prop_with_key(lVar3, "InnerAngle", 0x496e6e65);
   uVar6 = extraout_XMM0_Qa;
   if (lVar2 != 0) {
      uVar6 = *(undefined8*)( lVar2 + 0x48 );
   }

   *(undefined8*)( param_1 + 200 ) = uVar6;
   ufbxi_find_prop_with_key(0, lVar3, "Cone angle", 0x436f6e65);
   ufbxi_find_prop_with_key(lVar3, "ConeAngle", 0x436f6e65);
   lVar2 = ufbxi_find_prop_with_key(lVar3, "OuterAngle", 0x4f757465);
   uVar6 = extraout_XMM0_Qa_00;
   if (lVar2 != 0) {
      uVar6 = *(undefined8*)( lVar2 + 0x48 );
   }

   *(undefined8*)( param_1 + 0xd0 ) = uVar6;
   lVar2 = ufbxi_find_prop_with_key(lVar3, "CastLight", 0x43617374);
   bVar4 = true;
   if (lVar2 != 0) {
      bVar4 = *(long*)( lVar2 + 0x40 ) != 0;
   }

   *(bool*)( param_1 + 0xd8 ) = bVar4;
   lVar3 = ufbxi_find_prop_with_key(lVar3, "CastShadows", 0x43617374);
   bVar4 = false;
   if (lVar3 != 0) {
      bVar4 = *(long*)( lVar3 + 0x40 ) != 0;
   }

   *(bool*)( param_1 + 0xd9 ) = bVar4;
   return;
}
void ufbxi_update_bone(long param_1, long param_2) {
   char cVar1;
   long lVar2;
   double extraout_XMM0_Qa;
   double dVar3;
   undefined8 uVar4;
   undefined8 extraout_XMM0_Qa_00;
   double dVar5;
   dVar5 = *(double*)( param_1 + 400 );
   lVar2 = ufbxi_find_prop_with_key(dVar5, param_2 + 0x10, &ufbxi_Size, 0x53697a65);
   dVar3 = extraout_XMM0_Qa;
   if (lVar2 != 0) {
      dVar3 = *(double*)( lVar2 + 0x48 );
   }

   cVar1 = *(char*)( param_1 + 0x198 );
   *(double*)( param_2 + 0x80 ) = dVar3 / dVar5;
   uVar4 = _LC0;
   if (cVar1 != '\0') {
      lVar2 = ufbxi_find_prop_with_key(param_2 + 0x10, "LimbLength", 0x4c696d62);
      uVar4 = extraout_XMM0_Qa_00;
      if (lVar2 != 0) {
         *(undefined8*)( param_2 + 0x88 ) = *(undefined8*)( lVar2 + 0x48 );
         return;
      }

   }

   *(undefined8*)( param_2 + 0x88 ) = uVar4;
   return;
}
void ufbxi_update_line_curve(long param_1) {
   long lVar1;
   undefined8 uVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   lVar1 = ufbxi_find_prop_with_key(param_1 + 0x10, "Color", 0x436f6c6f);
   uVar2 = _LC0;
   uVar3 = _LC0;
   uVar4 = _LC0;
   if (lVar1 != 0) {
      uVar2 = *(undefined8*)( lVar1 + 0x58 );
      uVar3 = *(undefined8*)( lVar1 + 0x48 );
      uVar4 = *(undefined8*)( lVar1 + 0x50 );
   }

   *(undefined8*)( param_1 + 0x80 ) = uVar3;
   *(undefined8*)( param_1 + 0x88 ) = uVar4;
   *(undefined8*)( param_1 + 0x90 ) = uVar2;
   return;
}
void ufbxi_update_blend_channel(long param_1) {
   long lVar1;
   long lVar2;
   undefined1 *puVar3;
   long lVar4;
   long lVar5;
   long lVar6;
   double *pdVar7;
   undefined1 *puVar8;
   undefined1 *puVar9;
   long in_FS_OFFSET;
   bool bVar10;
   double dVar11;
   double extraout_XMM1_Qa;
   double dVar12;
   undefined1 local_28[16];
   undefined8 local_18;
   long local_10;
   puVar9 = local_28;
   puVar8 = local_28;
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar4 = ufbxi_find_prop_with_key(param_1 + 0x10, "DeformPercent", 0x4465666f);
   dVar12 = extraout_XMM1_Qa;
   if (lVar4 != 0) {
      dVar12 = _LC10 * *(double*)( lVar4 + 0x48 );
   }

   lVar4 = *(long*)( param_1 + 0x90 );
   *(double*)( param_1 + 0x80 ) = dVar12;
   if (0 < lVar4) {
      lVar1 = *(long*)( param_1 + 0x88 );
      lVar5 = -1;
      pdVar7 = (double*)( lVar1 + 8 );
      lVar2 = 0;
      do {
         lVar6 = lVar2;
         pdVar7[1] = 0.0;
         if (*pdVar7 <= 0.0 && *pdVar7 != 0.0) {
            lVar5 = lVar6;
         }

         pdVar7 = pdVar7 + 3;
         lVar2 = lVar6 + 1;
      }
 while ( lVar4 != lVar6 + 1 );
      local_18 = 0;
      local_28 = (undefined1[16])0x0;
      if (dVar12 <= 0.0) {
         if (( lVar5 < lVar6 ) && ( lVar5 < 0 )) {
            dVar11 = 0.0;
            puVar9 = (undefined1*)( lVar1 + ( lVar5 * 3 + 3 ) * 8 );
         }
 else {
            puVar3 = (undefined1*)( lVar1 + lVar5 * 0x18 );
            puVar8 = local_28;
            do {
               puVar9 = puVar8;
               puVar8 = puVar3;
               dVar11 = *(double*)( puVar8 + 8 );
               if (dVar11 < dVar12) break;
               lVar5 = lVar5 + -1;
               puVar3 = puVar8 + -0x18;
            }
 while ( lVar5 != -1 );
         }

      }
 else {
         if (-1 < lVar5) {
            puVar9 = (undefined1*)( lVar1 + lVar5 * 0x18 );
         }

         if (lVar5 < lVar6) {
            lVar4 = lVar5 + 1;
            puVar3 = (undefined1*)( lVar1 + ( lVar5 + 1 ) * 0x18 );
            puVar8 = local_28;
            do {
               puVar9 = puVar8;
               puVar8 = puVar3;
               dVar11 = *(double*)( puVar8 + 8 );
               if (dVar12 < dVar11) break;
               bVar10 = lVar6 != lVar4;
               lVar4 = lVar4 + 1;
               puVar3 = puVar8 + 0x18;
            }
 while ( bVar10 );
         }
 else {
            dVar11 = 0.0;
            puVar8 = local_28;
         }

      }

      dVar11 = dVar11 - *(double*)( puVar9 + 8 );
      if (dVar11 != 0.0) {
         dVar11 = ( dVar12 - *(double*)( puVar9 + 8 ) ) / dVar11;
         *(double*)( puVar9 + 0x10 ) = _LC0 - dVar11;
         *(double*)( puVar8 + 0x10 ) = dVar11;
      }

   }

   if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_update_anim_stack(long param_1, long param_2) {
   long lVar1;
   long lVar2;
   long lVar3;
   undefined1 auVar4[16];
   undefined1 auVar5[16];
   lVar1 = param_2 + 0x10;
   lVar2 = ufbxi_find_prop_with_key(lVar1, "LocalStart", 0x4c6f6361);
   lVar3 = ufbxi_find_prop_with_key(lVar1, "LocalStop", 0x4c6f6361);
   if (( lVar2 == 0 ) || ( lVar3 == 0 )) {
      lVar2 = ufbxi_find_prop_with_key(lVar1, "ReferenceStart", 0x52656665);
      lVar3 = ufbxi_find_prop_with_key(lVar1, "ReferenceStop", 0x52656665);
      if (( lVar2 == 0 ) || ( lVar3 == 0 )) {
         auVar4 = *(undefined1(*) [16])( param_2 + 0x80 );
         goto LAB_001034cd;
      }

   }

   auVar5._0_8_ = (double)*(long*)( param_1 + 0x1a8 );
   auVar4._0_8_ = (double)*(long*)( lVar2 + 0x40 );
   auVar5._8_8_ = auVar5._0_8_;
   auVar4._8_8_ = (double)*(long*)( lVar3 + 0x40 );
   auVar4 = divpd(auVar4, auVar5);
   *(undefined1(*) [16])( param_2 + 0x80 ) = auVar4;
   LAB_001034cd:**(undefined1(**) [16])( param_2 + 0xa0 ) = auVar4;
   return;
}
void ufbxi_update_display_layer(long param_1) {
   long lVar1;
   long lVar2;
   bool bVar3;
   undefined8 uVar4;
   undefined8 uVar5;
   undefined8 uVar6;
   lVar2 = param_1 + 0x10;
   lVar1 = ufbxi_find_prop_with_key(lVar2, &ufbxi_Show, 0x53686f77);
   bVar3 = true;
   if (lVar1 != 0) {
      bVar3 = *(long*)( lVar1 + 0x40 ) != 0;
   }

   *(bool*)( param_1 + 0x90 ) = bVar3;
   lVar1 = ufbxi_find_prop_with_key(lVar2, "Freeze", 0x46726565);
   bVar3 = true;
   if (lVar1 != 0) {
      bVar3 = *(long*)( lVar1 + 0x40 ) != 0;
   }

   *(bool*)( param_1 + 0x91 ) = bVar3;
   lVar2 = ufbxi_find_prop_with_key(lVar2, "Color", 0x436f6c6f);
   uVar4 = _LC13;
   uVar5 = _LC13;
   uVar6 = _LC13;
   if (lVar2 != 0) {
      uVar4 = *(undefined8*)( lVar2 + 0x58 );
      uVar5 = *(undefined8*)( lVar2 + 0x48 );
      uVar6 = *(undefined8*)( lVar2 + 0x50 );
   }

   *(undefined8*)( param_1 + 0x98 ) = uVar5;
   *(undefined8*)( param_1 + 0xa0 ) = uVar6;
   *(undefined8*)( param_1 + 0xa8 ) = uVar4;
   return;
}
void ufbxi_update_anim(long param_1) {
   if (*(long*)( param_1 + 0x478 ) != 0) {
      *(undefined8*)( param_1 + 0x298 ) = *(undefined8*)( **(long**)( param_1 + 0x470 ) + 0xa0 );
   }

   return;
}
void ufbxi_mirror_matrix(long param_1, int param_2) {
   ulong *puVar1;
   ulong uVar2;
   if (param_2 != 0) {
      puVar1 = (ulong*)( param_1 + (long)( param_2 + -1 ) * 0x18 );
      uVar2 = _LC15 ^ puVar1[1];
      *puVar1 = _LC15 ^ *puVar1;
      puVar1[1] = uVar2;
      uVar2 = _LC15;
      puVar1[2] = puVar1[2] ^ _LC15;
      param_1 = param_1 + (long)param_2 * 8;
      for (int i = 0; i < 4; i++) {
         *(ulong*)( param_1 + ( 24*i + -8 ) ) = *(ulong*)( param_1 + ( 24*i + -8 ) ) ^ uVar2;
      }

   }

   return;
}
char ufbxi_find_axis(undefined8 param_1, uint *param_2, uint *param_3) {
   uint uVar1;
   char cVar2;
   long lVar3;
   long lVar4;
   uVar1 = *param_2;
   lVar3 = ufbxi_find_prop_with_key(param_1, param_2, uVar1 >> 0x18 | ( uVar1 & 0xff0000 ) >> 8 | ( uVar1 & 0xff00 ) << 8 | uVar1 << 0x18);
   if (lVar3 == 0) {
      uVar1 = *param_3;
      lVar3 = 3;
      lVar4 = ufbxi_find_prop_with_key(param_1, param_3, uVar1 >> 0x18 | ( uVar1 & 0xff0000 ) >> 8 | ( uVar1 & 0xff00 ) << 8 | uVar1 << 0x18);
      if (lVar4 != 0) {
         return '\x06';
      }

   }
 else {
      uVar1 = *param_3;
      lVar3 = *(long*)( lVar3 + 0x40 );
      lVar4 = ufbxi_find_prop_with_key(param_1, param_3, uVar1 >> 0x18 | ( uVar1 & 0xff0000 ) >> 8 | ( uVar1 & 0xff00 ) << 8 | uVar1 << 0x18);
      if (lVar4 != 0) {
         lVar4 = *(long*)( lVar4 + 0x40 );
         if (lVar3 == 1) {
            return ( lVar4 < 1 ) + '\x02';
         }

         if (lVar3 == 2) {
            return ( lVar4 < 1 ) + '\x04';
         }

         goto LAB_0010371b;
      }

      if (lVar3 == 1) {
         return '\x02';
      }

      if (lVar3 == 2) {
         return '\x04';
      }

   }

   lVar4 = 2;
   LAB_0010371b:if (lVar3 == 0) {
      cVar2 = lVar4 < 1;
   }
 else {
      cVar2 = '\x06';
   }

   return cVar2;
}
undefined4 ufbxi_transform_override_less(undefined8 param_1, uint *param_2, uint *param_3) {
   return CONCAT31(( int3 )(*param_3 >> 8), *param_2 < *param_3);
}
undefined8 ufbxi_in_list(long *param_1, long param_2, long param_3) {
   long *plVar1;
   plVar1 = param_1 + param_2;
   do {
      if (*param_1 == param_3) {
         return 1;
      }

      param_1 = param_1 + 1;
   }
 while ( param_1 != plVar1 );
   return 0;
}
undefined4 ufbxi_baked_node_less(undefined8 param_1, uint *param_2, uint *param_3) {
   return CONCAT31(( int3 )(*param_3 >> 8), *param_2 < *param_3);
}
undefined4 ufbxi_baked_element_less(undefined8 param_1, uint *param_2, uint *param_3) {
   return CONCAT31(( int3 )(*param_3 >> 8), *param_2 < *param_3);
}
undefined1[16];ufbxi_ngon_project(int *param_1, int param_2) {
   double *pdVar1;
   undefined1 auVar2[16];
   pdVar1 = (double*)( *(long*)( param_1 + 4 ) + ( ulong ) * (uint*)( *(long*)( param_1 + 8 ) + ( ulong )(uint)(param_2 + *param_1) * 4 ) * 0x18 );
   auVar2._8_8_ = *(double*)( param_1 + 0x1c ) * pdVar1[1] + *(double*)( param_1 + 0x1a ) * *pdVar1 + *(double*)( param_1 + 0x1e ) * pdVar1[2];
   auVar2._0_8_ = *(double*)( param_1 + 0x16 ) * pdVar1[1] + *(double*)( param_1 + 0x14 ) * *pdVar1 + *(double*)( param_1 + 0x18 ) * pdVar1[2];
   return auVar2;
}
bool ufbxi_kd_check_point(undefined8 param_1, double param_2, undefined8 param_3, long param_4, int param_5) {
   bool bVar1;
   double extraout_XMM0_Qa;
   double dVar2;
   double dVar3;
   double dVar4;
   double dVar5;
   double dVar6;
   double dVar7;
   if (( ( *(int*)( param_4 + 0x50 ) != param_5 ) && ( *(int*)( param_4 + 0x54 ) != param_5 ) ) && ( *(int*)( param_4 + 0x58 ) != param_5 )) {
      ufbxi_ngon_project(param_3, param_5);
      dVar5 = *(double*)( param_4 + 0x20 ) - extraout_XMM0_Qa;
      dVar7 = *(double*)( param_4 + 0x28 ) - param_2;
      dVar4 = *(double*)( param_4 + 0x38 ) - param_2;
      dVar2 = *(double*)( param_4 + 0x30 ) - extraout_XMM0_Qa;
      dVar6 = dVar5 * dVar4 - dVar7 * dVar2;
      param_2 = *(double*)( param_4 + 0x48 ) - param_2;
      dVar3 = *(double*)( param_4 + 0x40 ) - extraout_XMM0_Qa;
      dVar2 = dVar2 * param_2 - dVar4 * dVar3;
      dVar3 = dVar3 * dVar7 - param_2 * dVar5;
      if (( ( 0.0 < dVar6 ) || ( 0.0 < dVar2 ) ) || ( bVar1 = 0.0 < dVar3 )) {
         if (( 0.0 <= dVar6 ) && ( 0.0 <= dVar2 )) {
            return 0.0 <= dVar3;
         }

         bVar1 = false;
      }

      return bVar1;
   }

   return false;
}
undefined8 ufbxi_kd_check_slow(int *param_1, long param_2, int param_3, uint param_4, uint param_5) {
   double *pdVar1;
   double dVar2;
   int iVar3;
   int iVar4;
   long lVar5;
   long lVar6;
   long lVar7;
   int iVar8;
   undefined8 uVar9;
   int iVar10;
   ulong uVar11;
   ulong uVar12;
   double dVar13;
   lVar5 = *(long*)( param_1 + 8 );
   lVar6 = *(long*)( param_1 + 4 );
   lVar7 = *(long*)( param_1 + 0x326 );
   if (param_4 != 0) {
      iVar3 = *param_1;
      uVar11 = (ulong)param_4;
      uVar12 = (ulong)param_5;
      do {
         while (true) {
            iVar10 = (int)uVar11;
            uVar11 = uVar11 >> 1;
            iVar8 = (int)uVar11;
            iVar4 = *(int*)( lVar7 + ( ulong )(uint)(iVar8 + param_3) * 4 );
            pdVar1 = (double*)( lVar6 + ( ulong ) * (uint*)( lVar5 + ( ulong )(uint)(iVar3 + iVar4) * 4 ) * 0x18 );
            dVar13 = *(double*)( param_1 + uVar12 * 6 + 0x14 ) * *pdVar1 + pdVar1[1] * *(double*)( param_1 + uVar12 * 6 + 0x16 ) + pdVar1[2] * *(double*)( param_1 + uVar12 * 6 + 0x18 );
            dVar2 = *(double*)( param_2 + uVar12 * 8 );
            if (( *(double*)( param_2 + 0x10 + uVar12 * 8 ) < dVar13 ) || ( dVar13 < dVar2 )) break;
            uVar9 = ufbxi_kd_check_point(param_1, param_2, iVar4);
            if ((char)uVar9 != '\0') {
               return uVar9;
            }

            uVar12 = ( ulong )((uint)uVar12 ^ 1);
            uVar9 = ufbxi_kd_check_slow();
            if ((char)uVar9 != '\0') {
               return uVar9;
            }

            if (iVar8 == 0) {
               return 0;
            }

         }
;
         uVar12 = ( ulong )((uint)uVar12 ^ 1);
         if (dVar13 < dVar2) {
            uVar11 = ( ulong )(uint)(( iVar10 + -1 ) - iVar8);
            param_3 = iVar8 + param_3 + 1;
         }

      }
 while ( (int)uVar11 != 0 );
   }

   return 0;
}
undefined8 ufbxi_kd_check_fast(long param_1, long param_2, uint param_3, uint param_4, int param_5) {
   long lVar1;
   double dVar2;
   double dVar3;
   int iVar4;
   int iVar5;
   undefined8 uVar6;
   int iVar7;
   ulong uVar8;
   ulong uVar9;
   param_5 = param_5 + 1;
   uVar9 = (ulong)param_4;
   uVar8 = (ulong)param_3;
   do {
      lVar1 = param_1 + uVar8 * 0x18;
      dVar2 = *(double*)( lVar1 + 0x98 );
      iVar4 = *(int*)( lVar1 + 0xa8 );
      if (*(int*)( lVar1 + 0xa0 ) == 0) {
         return 0;
      }

      dVar3 = *(double*)( param_2 + uVar9 * 8 );
      iVar7 = (int)uVar8;
      if (( *(double*)( param_2 + 0x10 + uVar9 * 8 ) < dVar2 ) || ( dVar2 < dVar3 )) {
         if (param_5 == 6) {
            if (dVar2 < dVar3) {
               iVar7 = *(int*)( lVar1 + 0xac ) - iVar4;
               goto LAB_00103b70;
            }

            goto LAB_00103ba8;
         }

      }
 else {
         uVar6 = ufbxi_kd_check_point(param_1, param_2, *(int*)( lVar1 + 0xa0 ) + -1);
         if ((char)uVar6 != '\0') {
            return uVar6;
         }

         if (param_5 == 6) {
            uVar6 = ufbxi_kd_check_slow();
            if ((char)uVar6 != '\0') {
               return uVar6;
            }

            LAB_00103ba8:iVar5 = *(int*)( param_1 + 0xa4 + uVar8 * 0x18 );
            iVar7 = iVar4 - iVar5;
            iVar4 = iVar5;
            LAB_00103b70:uVar6 = ufbxi_kd_check_slow(param_1, param_2, iVar4, iVar7, (uint)uVar9 ^ 1);
            return uVar6;
         }

         uVar6 = ufbxi_kd_check_fast();
         if ((char)uVar6 != '\0') {
            return uVar6;
         }

      }

      uVar9 = ( ulong )((uint)uVar9 ^ 1);
      param_5 = param_5 + 1;
      uVar8 = ( ulong )(( uint )(dVar2 < dVar3) + iVar7 * 2 + 1);
   }
 while ( true );
}
void ufbxi_kd_check(undefined8 param_1, double *param_2, undefined8 *param_3) {
   double dVar1;
   long in_FS_OFFSET;
   double dVar2;
   double dVar3;
   double local_78;
   double local_70;
   double local_68;
   double local_60;
   double local_58;
   double dStack_50;
   double local_48;
   double dStack_40;
   double local_38;
   double dStack_30;
   undefined8 local_28;
   undefined4 local_20;
   long local_10;
   local_78 = *param_2;
   dVar2 = param_2[2];
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   local_68 = param_2[4];
   dVar1 = param_2[3];
   local_58 = *param_2;
   dStack_50 = param_2[1];
   local_60 = param_2[5];
   dVar3 = dVar2;
   if (dVar2 <= local_78) {
      dVar3 = local_78;
      local_78 = dVar2;
   }

   local_28 = *param_3;
   local_48 = param_2[2];
   dStack_40 = param_2[3];
   local_20 = *(undefined4*)( param_3 + 1 );
   if (local_68 <= local_78) {
      local_78 = local_68;
   }

   if (local_68 <= dVar3) {
      local_68 = dVar3;
   }

   local_38 = param_2[4];
   dStack_30 = param_2[5];
   local_70 = param_2[1];
   dVar2 = dVar1;
   if (dVar1 <= local_70) {
      dVar2 = local_70;
      local_70 = dVar1;
   }

   if (local_60 <= local_70) {
      local_70 = local_60;
   }

   if (local_60 <= dVar2) {
      local_60 = dVar2;
   }

   ufbxi_kd_check_fast(param_1, &local_78, 0, 0, 0);
   if (local_10 != *(long*)( in_FS_OFFSET + 0x28 )) {
      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   return;
}
undefined8 ufbxi_kd_index_less(long param_1, int *param_2, int *param_3) {
   double *pdVar1;
   double *pdVar2;
   pdVar1 = (double*)( *(long*)( param_1 + 0x10 ) + ( ulong ) * (uint*)( *(long*)( param_1 + 0x20 ) + ( ulong )(uint)(*(int*)( param_1 + 0xcb8 ) + *param_3) * 4 ) * 0x18 );
   pdVar2 = (double*)( *(long*)( param_1 + 0x10 ) + ( ulong ) * (uint*)( *(long*)( param_1 + 0x20 ) + ( ulong )(uint)(*(int*)( param_1 + 0xcb8 ) + *param_2) * 4 ) * 0x18 );
   return CONCAT71(( int7 )((ulong)pdVar1 >> 8), *(double*)( param_1 + 0xca0 ) * *pdVar2 + *(double*)( param_1 + 0xca8 ) * pdVar2[1] + *(double*)( param_1 + 0xcb0 ) * pdVar2[2] < *pdVar1 * *(double*)( param_1 + 0xca0 ) + pdVar1[1] * *(double*)( param_1 + 0xca8 ) + pdVar1[2] * *(double*)( param_1 + 0xcb0 ));
}
undefined4 ufbxi_topo_less_index_prev_next(undefined8 param_1, long param_2, long param_3) {
   int iVar1;
   int iVar2;
   int iVar3;
   bool bVar4;
   iVar1 = *(int*)( param_3 + 8 );
   iVar2 = *(int*)( param_2 + 8 );
   bVar4 = SBORROW4(iVar2, iVar1);
   iVar3 = iVar2 - iVar1;
   if (iVar2 == iVar1) {
      iVar1 = *(int*)( param_3 + 4 );
      bVar4 = SBORROW4(*(int*)( param_2 + 4 ), iVar1);
      iVar3 = *(int*)( param_2 + 4 ) - iVar1;
   }

   return CONCAT31(( int3 )((uint)iVar1 >> 8), bVar4 != iVar3 < 0);
}
undefined4 ufbxi_topo_less_index_index(undefined8 param_1, int *param_2, int *param_3) {
   return CONCAT31(( int3 )(( uint ) * param_3 >> 8), *param_2 < *param_3);
}
void ufbxi_compute_topology(long param_1, long param_2) {
   int *piVar1;
   uint *puVar2;
   uint uVar3;
   int iVar4;
   long lVar5;
   long lVar6;
   uint uVar7;
   uint uVar8;
   uint uVar9;
   long lVar10;
   ulong uVar11;
   long lVar12;
   ulong uVar13;
   ulong uVar14;
   ulong uVar15;
   ulong uVar16;
   undefined4 *puVar17;
   ulong uVar18;
   uint uVar19;
   uint uVar20;
   undefined4 *puVar21;
   bool bVar22;
   uVar18 = *(ulong*)( param_1 + 0x90 );
   uVar14 = *(ulong*)( param_1 + 0x88 );
   if (uVar18 != 0) {
      lVar5 = *(long*)( param_1 + 200 );
      uVar13 = 0;
      do {
         piVar1 = (int*)( lVar5 + uVar13 * 8 );
         uVar3 = piVar1[1];
         iVar4 = *piVar1;
         if (uVar3 != 0) {
            lVar6 = *(long*)( param_1 + 0x158 );
            uVar19 = 0;
            do {
               uVar7 = iVar4 + uVar19;
               uVar19 = uVar19 + 1;
               uVar9 = *(uint*)( lVar6 + (ulong)uVar7 * 4 );
               puVar2 = (uint*)( param_2 + (ulong)uVar7 * 0x1c );
               uVar8 = *(uint*)( lVar6 + ( ulong )(uVar19 % uVar3 + iVar4) * 4 );
               uVar20 = uVar9;
               if (uVar8 < uVar9) {
                  uVar20 = uVar8;
                  uVar8 = uVar9;
               }

               puVar2[1] = uVar8;
               *puVar2 = uVar7;
               puVar2[3] = 0xffffffff;
               puVar2[2] = uVar20;
               puVar2[4] = (uint)uVar13;
               puVar2[5] = 0xffffffff;
               puVar2[6] = 0;
            }
 while ( uVar3 != uVar19 );
         }

         uVar13 = ( ulong )((uint)uVar13 + 1);
      }
 while ( uVar13 < uVar18 );
   }

   ufbxi_unstable_sort(param_2, uVar14, 0x1c, ufbxi_topo_less_index_prev_next);
   lVar5 = *(long*)( param_1 + 0x118 );
   if (( lVar5 == 0 ) || ( uVar18 = uVar18 == 0 )) {
      LAB_00103f70:uVar18 = 0;
      if (uVar14 != 0) {
         do {
            puVar21 = (undefined4*)( param_2 + uVar18 * 0x1c );
            uVar13 = uVar18;
            puVar17 = puVar21;
            do {
               uVar15 = uVar13;
               uVar13 = uVar15 + 1;
               if (uVar14 <= uVar13) {
                  uVar18 = uVar18 + 1;
                  if (uVar15 == uVar18) goto LAB_001040c0;
                  if (uVar15 <= uVar18) goto LAB_00103fe1;
                  goto LAB_00104084;
               }

            }
 while ( ( puVar17[9] == puVar21[2] ) && ( piVar1 = puVar17 + 8 ),puVar17 = puVar17 + 7,*piVar1 == puVar21[1] );
            uVar18 = uVar18 + 1;
            if (uVar18 == uVar15) {
               LAB_001040c0:puVar17 = (undefined4*)( param_2 + uVar15 * 0x1c );
               puVar21[3] = *puVar17;
               puVar17[3] = *puVar21;
            }
 else if (uVar18 < uVar15) {
               LAB_00104084:while (true) {
                  puVar21[6] = puVar21[6] | 1;
                  puVar21 = puVar21 + 7;
                  if (uVar15 < uVar18) break;
                  uVar18 = uVar18 + 1;
               }
;
            }

            uVar18 = uVar13;
         }
 while ( uVar13 < uVar14 );
      }

      LAB_00103fe1:ufbxi_unstable_sort(param_2, uVar14, 0x1c, ufbxi_topo_less_index_index, 0);
      uVar18 = *(ulong*)( param_1 + 0x90 );
      if (uVar18 != 0) {
         lVar5 = *(long*)( param_1 + 200 );
         uVar14 = 0;
         do {
            piVar1 = (int*)( lVar5 + uVar14 * 8 );
            uVar19 = 0;
            uVar3 = piVar1[1];
            iVar4 = *piVar1;
            if (uVar3 != 0) {
               do {
                  lVar6 = param_2 + ( ulong )(iVar4 + uVar19) * 0x1c;
                  uVar9 = uVar19 + ( uVar3 - 1 );
                  uVar19 = uVar19 + 1;
                  *(uint*)( lVar6 + 8 ) = uVar9 % uVar3 + iVar4;
                  *(uint*)( lVar6 + 4 ) = uVar19 % uVar3 + iVar4;
               }
 while ( uVar19 != uVar3 );
            }

            uVar14 = ( ulong )((int)uVar14 + 1);
         }
 while ( uVar14 < uVar18 );
      }

      return;
   }

   lVar6 = *(long*)( param_1 + 0x158 );
   uVar13 = 0;
   LAB_00103e80:puVar2 = (uint*)( lVar5 + uVar13 * 8 );
   uVar3 = *(uint*)( lVar6 + ( ulong ) * puVar2 * 4 );
   uVar19 = *(uint*)( lVar6 + (ulong)puVar2[1] * 4 );
   uVar9 = uVar3;
   if (uVar3 <= uVar19) {
      uVar9 = uVar19;
      uVar19 = uVar3;
   }

   uVar15 = uVar14;
   if (uVar14 < 0x21) {
      uVar16 = 0;
   }
 else {
      uVar16 = 0;
      uVar11 = uVar14;
      do {
         lVar10 = ( uVar11 >> 1 ) + uVar16;
         lVar12 = param_2 + lVar10 * 0x1c;
         uVar3 = *(uint*)( lVar12 + 8 );
         bVar22 = uVar3 < uVar19;
         if (uVar19 == uVar3) {
            bVar22 = *(uint*)( lVar12 + 4 ) < uVar9;
         }

         uVar11 = lVar10 + 1;
         if (bVar22) {
            uVar16 = uVar11;
            uVar11 = uVar15;
         }

         uVar15 = uVar11;
         uVar11 = uVar15 - uVar16;
      }
 while ( 0x20 < uVar11 );
   }

   if (uVar16 < uVar15) {
      lVar12 = param_2 + uVar16 * 0x1c;
      do {
         if (( *(uint*)( lVar12 + 8 ) == uVar19 ) && ( *(uint*)( lVar12 + 4 ) == uVar9 )) {
            if (uVar16 < uVar14) {
               lVar12 = param_2 + uVar16 * 0x1c;
               goto LAB_00103f56;
            }

            break;
         }

         uVar16 = uVar16 + 1;
         lVar12 = lVar12 + 0x1c;
      }
 while ( uVar16 != uVar15 );
   }

   goto LAB_00103f60;
   while (true) {
      uVar16 = uVar16 + 1;
      *(int*)( lVar12 + 0x14 ) = (int)uVar13;
      lVar12 = lVar12 + 0x1c;
      if (uVar14 <= uVar16) break;
      LAB_00103f56:if (( *(uint*)( lVar12 + 8 ) != uVar19 ) || ( *(uint*)( lVar12 + 4 ) != uVar9 )) break;
   }
;
   LAB_00103f60:uVar13 = ( ulong )((int)uVar13 + 1);
   if (uVar18 <= uVar13) goto LAB_00103f70;
   goto LAB_00103e80;
}
void ufbxi_bit_chunk_refill(ulong *param_1, void *param_2) {
   uint uVar1;
   void *__dest;
   ulong uVar2;
   code *pcVar3;
   uint uVar4;
   ulong uVar5;
   long lVar6;
   size_t __n;
   undefined8 *puVar7;
   __dest = (void*)param_1[3];
   __n = param_1[9] - (long)param_2;
   if (__n == 0) {
      pcVar3 = (code*)param_1[1];
      param_1[10] = (long)param_2 + ( param_1[10] - param_1[5] );
      if (( pcVar3 != (code*)0x0 ) && ( (char)param_1[0x13] == '\0' )) {
         uVar5 = param_1[4];
         if (*param_1 < param_1[4]) {
            uVar5 = *param_1;
         }

         if (uVar5 != 0) {
            LAB_00104138:uVar2 = ( *pcVar3 )(param_1[2], (long)__dest + __n, uVar5);
            if (uVar5 < uVar2) {
               uVar2 = 0;
            }
 else {
               __n = __n + uVar2;
            }

            *param_1 = *param_1 - uVar2;
            goto LAB_001041c9;
         }

      }

   }
 else {
      memmove(__dest, param_2, __n);
      pcVar3 = (code*)param_1[1];
      param_1[10] = (long)param_2 + ( param_1[10] - param_1[5] );
      if (( pcVar3 != (code*)0x0 ) && ( (char)param_1[0x13] == '\0' )) {
         uVar5 = param_1[4] - __n;
         if (*param_1 < param_1[4] - __n) {
            uVar5 = *param_1;
         }

         if (uVar5 != 0) {
            __dest = (void*)param_1[3];
            goto LAB_00104138;
         }

      }

      LAB_001041c9:if (0x3f < __n) {
         __dest = (void*)param_1[3];
         lVar6 = __n - 8;
         goto LAB_001041d7;
      }

      __dest = (void*)param_1[3];
   }

   uVar5 = 0x40 - __n;
   puVar7 = (undefined8*)( __n + (long)__dest );
   uVar4 = (uint)uVar5;
   if (uVar4 < 8) {
      if (( uVar5 & 4 ) == 0) {
         if (uVar4 != 0) {
            *(undefined1*)puVar7 = 0;
            if (( uVar5 & 2 ) == 0) goto LAB_00104190;
            *(undefined2*)( (long)puVar7 + ( ( uVar5 & 0xffffffff ) - 2 ) ) = 0;
            __dest = (void*)param_1[3];
         }

      }
 else {
         *(undefined4*)puVar7 = 0;
         *(undefined4*)( (long)puVar7 + ( ( uVar5 & 0xffffffff ) - 4 ) ) = 0;
         __dest = (void*)param_1[3];
      }

   }
 else {
      *puVar7 = 0;
      *(undefined8*)( (long)puVar7 + ( ( uVar5 & 0xffffffff ) - 8 ) ) = 0;
      uVar4 = uVar4 + ( (int)puVar7 - (int)( ( ulong )(puVar7 + 1) & 0xfffffffffffffff8 ) ) & 0xfffffff8;
      if (7 < uVar4) {
         uVar1 = 0;
         do {
            uVar5 = (ulong)uVar1;
            uVar1 = uVar1 + 8;
            *(undefined8*)( ( ( ulong )(puVar7 + 1) & 0xfffffffffffffff8 ) + uVar5 ) = 0;
         }
 while ( uVar1 < uVar4 );
      }

      LAB_00104190:__dest = (void*)param_1[3];
   }

   lVar6 = 0x38;
   __n = 0x40;
   LAB_001041d7:param_1[8] = lVar6 + (long)__dest;
   param_1[9] = __n + (long)__dest;
   param_1[5] = (ulong)__dest;
   param_1[6] = (ulong)__dest;
   return;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */void ufbxi_bit_stream_init(long *param_1, ulong *param_2) {
   ulong uVar1;
   long lVar2;
   long lVar3;
   ulong uVar4;
   ulong uVar5;
   long lVar6;
   ulong uVar7;
   ulong uVar8;
   ulong uVar9;
   uVar4 = *param_2;
   uVar5 = param_2[2];
   uVar8 = param_2[1];
   uVar9 = param_2[7];
   uVar1 = param_2[8];
   param_1[1] = param_2[5];
   uVar7 = param_2[6];
   if (uVar4 <= uVar5) {
      uVar5 = uVar4;
   }

   param_1[0x10] = uVar9;
   param_1[0x11] = uVar1;
   param_1[2] = uVar7;
   param_1[5] = uVar8;
   param_1[6] = uVar8;
   uVar7 = 8;
   if (7 < uVar5) {
      uVar7 = uVar5;
   }

   lVar6 = ( uVar8 - 8 ) + uVar7;
   param_1[8] = lVar6;
   param_1[9] = uVar8 + uVar5;
   *param_1 = uVar4 - uVar5;
   uVar7 = param_2[4];
   if (uVar7 < 0x101) {
      uVar9 = (long)param_1 + 0x99;
      uVar7 = 0x100;
   }
 else {
      uVar9 = param_2[3];
   }

   param_1[4] = uVar7;
   uVar7 = param_2[10];
   param_1[3] = uVar9;
   uVar9 = param_2[0xb];
   param_1[0xb] = uVar7;
   param_1[10] = 0;
   param_1[0xc] = uVar4 + uVar7 + uVar9;
   lVar3 = _UNK_0014ea98;
   lVar2 = _LC324;
   if (param_1[0x10] == 0) {
      *(undefined1*)( param_1 + 0x13 ) = 0;
      param_1[0xf] = 0;
      param_1[0xd] = lVar2;
      param_1[0xe] = lVar3;
      if (0x3f < uVar5) goto LAB_001043a1;
      LAB_00104411:ufbxi_bit_chunk_refill(param_1, uVar8);
      lVar6 = param_1[8];
      if (param_1[0x10] == 0) goto LAB_001043a1;
      uVar8 = param_1[6];
   }
 else {
      uVar4 = param_2[9];
      if (uVar4 == 0xffffffffffffffff) {
         *(undefined1*)( param_1 + 0x13 ) = 0;
         param_1[0xf] = 0;
         param_1[0xd] = lVar2;
         param_1[0xe] = lVar3;
         if (uVar5 < 0x40) goto LAB_00104411;
         uVar8 = param_1[6];
      }
 else {
         *(undefined1*)( param_1 + 0x13 ) = 0;
         if (uVar4 == 0) {
            uVar4 = 0x4000;
         }

         param_1[0xe] = 0;
         param_1[0xf] = 0;
         param_1[0xd] = uVar4;
         if (uVar5 < 0x40) goto LAB_00104411;
      }

   }

   if (param_1[0xd] + 8U < lVar6 - uVar8) {
      lVar6 = param_1[0xd] + uVar8;
   }

   LAB_001043a1:param_1[7] = lVar6;
   return;
}
ulong ufbxi_bit_yield(long param_1, ulong param_2) {
   code *pcVar1;
   int iVar2;
   ulong uVar3;
   long lVar4;
   undefined8 *puVar5;
   long in_FS_OFFSET;
   byte bVar6;
   long local_38;
   undefined8 uStack_30;
   long local_20;
   bVar6 = 0;
   local_20 = *(long*)( in_FS_OFFSET + 0x28 );
   if (*(ulong*)( param_1 + 0x40 ) < param_2) {
      param_2 = ufbxi_bit_chunk_refill();
      pcVar1 = *(code**)( param_1 + 0x80 );
   }
 else {
      pcVar1 = *(code**)( param_1 + 0x80 );
   }

   if (pcVar1 == (code*)0x0) {
      lVar4 = *(long*)( param_1 + 0x40 );
   }
 else {
      local_38 = *(long*)( param_1 + 0x58 ) + *(long*)( param_1 + 0x50 ) + ( param_2 - *(long*)( param_1 + 0x28 ) );
      uStack_30 = *(undefined8*)( param_1 + 0x60 );
      iVar2 = ( *pcVar1 )(*(undefined8*)( param_1 + 0x88 ), &local_38);
      if (iVar2 == 0x200) {
         param_2 = param_1 + 0x99;
         *(undefined1*)( param_1 + 0x98 ) = 1;
         puVar5 = (undefined8*)( param_1 + 0xa1U & 0xfffffffffffffff8 );
         *(ulong*)( param_1 + 0x18 ) = param_2;
         *(undefined8*)( param_1 + 0x20 ) = 0x100;
         *(long*)( param_1 + 0x48 ) = param_1 + 0x199;
         lVar4 = param_1 + 0x191;
         *(long*)( param_1 + 0x40 ) = lVar4;
         *(undefined8*)( param_1 + 0x99 ) = 0;
         *(undefined8*)( param_1 + 0x191 ) = 0;
         *(ulong*)( param_1 + 0x28 ) = param_2;
         *(ulong*)( param_1 + 0x30 ) = param_2;
         uVar3 = ( ulong )(( (int)param_2 - (int)puVar5 ) + 0x100U >> 3);
         for (; uVar3 != 0; uVar3 = uVar3 - 1) {
            *puVar5 = 0;
            puVar5 = puVar5 + (ulong)bVar6 * -2 + 1;
         }

      }
 else {
         lVar4 = *(long*)( param_1 + 0x40 );
      }

      if (( *(long*)( param_1 + 0x80 ) != 0 ) && ( *(long*)( param_1 + 0x68 ) + 8U < lVar4 - param_2 )) {
         lVar4 = *(long*)( param_1 + 0x68 ) + param_2;
      }

   }

   *(long*)( param_1 + 0x38 ) = lVar4;
   if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return param_2;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_inflate_block_slow(long param_1, long param_2, long param_3) {
   byte *pbVar1;
   ushort uVar2;
   uint uVar3;
   long lVar4;
   byte *pbVar5;
   undefined8 uVar6;
   uint uVar7;
   byte bVar9;
   byte *pbVar8;
   byte bVar10;
   uint uVar11;
   long lVar12;
   byte *pbVar13;
   ulong uVar14;
   uint uVar15;
   ulong uVar16;
   long *plVar17;
   ulong uVar18;
   ulong uVar19;
   ulong uVar20;
   ulong uVar21;
   bool bVar22;
   param_3 = param_3 + -1;
   lVar4 = *(long*)( param_1 + 0x1a8 );
   uVar3 = *(uint*)( param_2 + 0x1c80 );
   uVar16 = *(ulong*)( param_1 + 0x70 );
   uVar21 = *(ulong*)( param_1 + 0x78 );
   plVar17 = *(long**)( param_1 + 0x30 );
   pbVar5 = *(byte**)( param_1 + 0x1b8 );
   bVar10 = (byte)uVar3;
   uVar20 = ( ulong )(( 1 << ( bVar10 & 0x1f ) ) - 1);
   pbVar13 = *(byte**)( param_1 + 0x1b0 );
   do {
      while (true) {
         if (( *(long**)( param_1 + 0x38 ) < plVar17 ) && ( plVar17 = (long*)ufbxi_bit_yield(param_1, plVar17) * (char*)( param_1 + 0x98 ) != '\0' )) {
            uVar16 = *(ulong*)( param_1 + 0x90 );
         }

         uVar14 = *plVar17 << ( (byte)uVar21 & 0x3f ) | uVar16;
         plVar17 = (long*)( (long)plVar17 + ( 0x3f - uVar21 >> 3 ) );
         uVar2 = *(ushort*)( param_2 + ( uVar14 & uVar20 ) * 2 );
         uVar7 = (uint)uVar2;
         if (( uVar2 & 0xa0 ) == 0) {
            uVar16 = uVar14 >> ( bVar10 & 0x3f );
            if (( uVar2 & 0x1f ) == 0) {
               uVar19 = (ulong)uVar3;
               uVar7 = ( uint )(byte)(uVar2 >> 8);
               uVar16 = uVar16 & 0xffffffff;
               do {
                  uVar7 = uVar7 * 2 | (uint)uVar16 & 1;
                  uVar19 = ( ulong )((int)uVar19 + 1);
                  uVar16 = uVar16 >> 1;
               }
 while ( *(ushort*)( param_2 + 0xdf8 + uVar19 * 2 ) <= uVar7 );
               uVar7 = ( uint ) * (ushort*)( param_2 + 0xaf8 + (long)(int)( uVar7 + (int)*(short*)( param_2 + 0xe18 + uVar19 * 2 ) ) * 2 );
            }
 else {
               uVar7 = ( uint ) * (ushort*)( param_2 + 0x800 + ( ulong )(( uint )(uVar2 >> 7) + ( ( uint )(uVar2 & 0x1f) & (uint)uVar16 )) * 2 );
            }

         }

         uVar16 = uVar14 >> ( (byte)uVar7 & 0x1f );
         uVar21 = ( uVar21 | 0x38 ) - ( ulong )(uVar7 & 0x1f);
         if (( uVar7 & 0x20 ) != 0) {
            if (( ushort )((ushort)uVar7 >> 8) != 0) {
               return 0xfffffff3;
            }

            *(byte**)( param_1 + 0x1b0 ) = pbVar13;
            *(ulong*)( param_1 + 0x70 ) = uVar16;
            *(ulong*)( param_1 + 0x78 ) = uVar21;
            *(long**)( param_1 + 0x30 ) = plVar17;
            return 0;
         }

         bVar9 = ( byte )(uVar7 >> 8);
         if (( uVar7 & 0x40 ) == 0) break;
         uVar15 = *(uint*)( param_2 + 0xd38 + (ulong)bVar9 * 4 );
         uVar2 = *(ushort*)( param_2 + 0xe40 + ( uVar16 & uVar20 ) * 2 );
         uVar15 = ( ( uint ) * (ushort*)( param_2 + 0xdb8 + (ulong)bVar9 * 2 ) & ( uint )(uVar14 >> ( (byte)uVar15 & 0x3f )) ) + ( uVar15 >> 0x10 );
         if (( uVar2 & 0xa0 ) == 0) {
            uVar19 = uVar16 >> ( bVar10 & 0x3f );
            if (( uVar2 & 0x1f ) == 0) {
               uVar18 = (ulong)uVar3;
               uVar11 = ( uint )(byte)(uVar2 >> 8);
               uVar19 = uVar19 & 0xffffffff;
               do {
                  uVar11 = uVar11 * 2 | (uint)uVar19 & 1;
                  uVar18 = ( ulong )((int)uVar18 + 1);
                  uVar19 = uVar19 >> 1;
               }
 while ( *(ushort*)( param_2 + 0x1c38 + uVar18 * 2 ) <= uVar11 );
               uVar2 = *(ushort*)( param_2 + 0x1938 + (long)(int)( (int)*(short*)( param_2 + 0x1c58 + uVar18 * 2 ) + uVar11 ) * 2 );
            }
 else {
               uVar2 = *(ushort*)( param_2 + 0x1640 + ( ulong )(( uint )(uVar2 >> 7) + ( ( uint )(uVar2 & 0x1f) & (uint)uVar19 )) * 2 );
            }

         }

         if (( uVar2 & 0x20 ) != 0) {
            return 0xfffffff5;
         }

         uVar16 = uVar16 >> ( (byte)uVar2 & 0x1f );
         uVar11 = *(uint*)( param_2 + 0x1b78 + ( ulong )(uVar2 >> 8) * 4 );
         uVar21 = uVar21 - ( uVar2 & 0x1f );
         uVar7 = ( ( uint ) * (ushort*)( param_2 + 0x1bf8 + ( ulong )(uVar2 >> 8) * 2 ) & ( uint )(uVar14 >> ( (char)uVar11 + (byte)uVar7 & 0x3f )) ) + ( uVar11 >> 0x10 );
         uVar14 = (long)pbVar5 - (long)pbVar13;
         if (( (long)pbVar13 - lVar4 < (long)(ulong)uVar7 ) || ( uVar19 = uVar14 < uVar19 )) {
            return 0xfffffff4;
         }

         pbVar1 = pbVar13 + uVar19;
         pbVar8 = pbVar13 + -(ulong)uVar7;
         if (uVar14 < uVar15 + 0x10) {
            uVar14 = 0;
            if (pbVar1 == pbVar13) goto LAB_00104602;
            do {
               pbVar13[uVar14] = pbVar8[uVar14];
               uVar14 = uVar14 + 1;
            }
 while ( uVar19 != uVar14 );
         }
 else {
            uVar11 = 0x10;
            if (uVar15 < 0x11) {
               uVar11 = uVar15;
            }

            if (uVar7 < uVar11) {
               uVar14 = 0;
               if (pbVar1 == pbVar13) goto LAB_00104602;
               do {
                  pbVar13[uVar14] = pbVar8[uVar14];
                  uVar14 = uVar14 + 1;
               }
 while ( uVar19 != uVar14 );
            }
 else {
               uVar6 = *(undefined8*)( pbVar8 + 8 );
               *(undefined8*)pbVar13 = *(undefined8*)pbVar8;
               *(undefined8*)( pbVar13 + 8 ) = uVar6;
               if (0x10 < uVar15) {
                  lVar12 = 0x10;
                  do {
                     uVar6 = *(undefined8*)( pbVar8 + lVar12 + 8 );
                     *(undefined8*)( pbVar13 + lVar12 ) = *(undefined8*)( pbVar8 + lVar12 );
                     *(undefined8*)( pbVar13 + lVar12 + 8 ) = uVar6;
                     lVar12 = lVar12 + 0x10;
                  }
 while ( lVar12 != ( ulong )(( uVar15 - 0x11 >> 4 ) + 2) << 4 );
               }

            }

         }

         bVar22 = param_3 == 0;
         param_3 = param_3 + -1;
         pbVar13 = pbVar1;
         if (bVar22) goto LAB_001047ca;
      }
;
      if (pbVar5 == pbVar13) {
         return 0xfffffff6;
      }

      *pbVar13 = bVar9;
      pbVar13 = pbVar13 + 1;
      LAB_00104602:bVar22 = param_3 != 0;
      param_3 = param_3 + -1;
   }
 while ( bVar22 );
   LAB_001047ca:*(byte**)( param_1 + 0x1b0 ) = pbVar13;
   *(ulong*)( param_1 + 0x70 ) = uVar16;
   *(ulong*)( param_1 + 0x78 ) = uVar21;
   *(long**)( param_1 + 0x30 ) = plVar17;
   return 1;
}
undefined1(*)[16];ufbxi_thread_pool_create_task(long param_1, undefined8 param_2) {
   undefined1(*pauVar1)[16];
   uint uVar2;
   uint uVar3;
   uVar2 = *(uint*)( param_1 + 0x60 );
   uVar3 = *(uint*)( param_1 + 0x90 );
   if (( uVar2 - *(int*)( param_1 + 0x68 ) < uVar3 ) && ( uVar2 != 0x7fffffff )) {
      pauVar1 = (undefined1(*) [16])( *(long*)( param_1 + 0x98 ) + ( (ulong)uVar2 % (ulong)uVar3 ) * 0x18 );
      if (uVar3 <= uVar2) {
         *(undefined8*)pauVar1[1] = param_2;
         return pauVar1;
      }

      *(undefined8*)pauVar1[1] = 0;
      *pauVar1 = (undefined1[16])0x0;
      *(undefined8*)pauVar1[1] = param_2;
      return pauVar1;
   }

   return (undefined1(*) [16])0x0;
}
undefined8 ufbxi_axis_matrix(undefined8 *param_1, ulong param_2, uint param_3, undefined8 param_4, uint param_5) {
   undefined8 uVar1;
   uint uVar2;
   long lVar3;
   uint uVar4;
   uint uVar5;
   undefined8 *puVar6;
   undefined8 uVar7;
   uVar7 = _LC17;
   uVar2 = (uint)param_4;
   uVar5 = ( uint )(param_2 >> 0x20);
   uVar4 = ( uint )((ulong)param_4 >> 0x20);
   if (( (uint)param_2 != uVar2 || uVar5 != uVar4 ) || ( uVar1 = param_3 != param_5 )) {
      puVar6 = param_1;
      for (lVar3 = 0xc; lVar3 != 0; lVar3 = lVar3 + -1) {
         *puVar6 = 0;
         puVar6 = puVar6 + 1;
      }

      if (( ( (uint)param_2 ^ uVar2 ) & 1 ) == 0) {
         uVar7 = _LC0;
      }

      param_1[( param_2 >> 1 & 0x7fffffff ) * 3 + ( ulong )(uVar2 >> 1)] = uVar7;
      uVar7 = _LC17;
      if (( ( uVar5 ^ uVar4 ) & 1 ) == 0) {
         uVar7 = _LC0;
      }

      param_1[( param_2 >> 0x21 ) * 3 + ( ulong )(uVar4 >> 1)] = uVar7;
      uVar7 = _LC17;
      if (( ( param_3 ^ param_5 ) & 1 ) == 0) {
         uVar7 = _LC0;
      }

      param_1[( ulong )(param_3 >> 1) * 3 + ( ulong )(param_5 >> 1)] = uVar7;
      uVar1 = 1;
   }

   return uVar1;
}
undefined8 ufbxi_uninitialized_options(undefined8 *param_1) {
   ulong uVar1;
   undefined8 *puVar2;
   if (param_1 != (undefined8*)0x0) {
      *param_1 = 0;
      param_1[0x4c] = 0;
      puVar2 = (undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 );
      for (uVar1 = ( ulong )(( (int)param_1 - (int)(undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 ) ) + 0x268U >> 3); uVar1 != 0; uVar1 = uVar1 - 1) {
         *puVar2 = 0;
         puVar2 = puVar2 + 1;
      }

      *(undefined4*)param_1 = 0xc;
      param_1[1] = "Uninitialized options";
      param_1[2] = 0x15;
   }

   return 0;
}
void ufbxi_stable_sort(ulong param_1, ulong param_2, undefined8 *param_3, undefined8 *param_4, ulong param_5, code *param_6, undefined8 param_7) {
   char cVar1;
   uint uVar2;
   long lVar3;
   ulong uVar4;
   long lVar5;
   undefined8 *puVar6;
   undefined8 *puVar7;
   undefined8 *puVar8;
   undefined8 *puVar9;
   ulong uVar10;
   ulong uVar11;
   ulong uVar12;
   ulong uVar13;
   ulong uVar14;
   undefined8 *puVar15;
   ulong uVar16;
   byte bVar17;
   ulong local_a0;
   undefined8 *local_78;
   long local_68;
   bVar17 = 0;
   if (param_5 != 0) {
      uVar2 = (uint)param_1;
      puVar9 = param_3;
      uVar12 = 0;
      do {
         uVar13 = uVar12 + param_2;
         uVar4 = uVar12 + 1;
         puVar7 = puVar9;
         uVar11 = uVar12;
         uVar10 = uVar13;
         if (param_5 <= uVar13) {
            uVar10 = param_5;
         }

         while (uVar4 < uVar10) {
            puVar15 = (undefined8*)( (long)puVar7 + param_1 );
            cVar1 = ( *param_6 )(param_7, puVar15, puVar7);
            if (cVar1 != '\0') {
               if (uVar2 < 8) {
                  if (( param_1 & 4 ) == 0) {
                     if (( uVar2 != 0 ) && ( *(undefined1*)param_4 = *(undefined1*)puVar15(param_1 & 2) != 0 )) {
                        *(undefined2*)( (long)param_4 + ( ( param_1 & 0xffffffff ) - 2 ) ) = *(undefined2*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 2 ) );
                     }

                  }
 else {
                     *(undefined4*)param_4 = *(undefined4*)puVar15;
                     *(undefined4*)( (long)param_4 + ( ( param_1 & 0xffffffff ) - 4 ) ) = *(undefined4*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 4 ) );
                  }

               }
 else {
                  *param_4 = *puVar15;
                  *(undefined8*)( (long)param_4 + ( ( param_1 & 0xffffffff ) - 8 ) ) = *(undefined8*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 8 ) );
                  lVar3 = (long)param_4 - (long)( ( ulong )(param_4 + 1) & 0xfffffffffffffff8 );
                  puVar8 = (undefined8*)( (long)puVar15 - lVar3 );
                  puVar6 = (undefined8*)( ( ulong )(param_4 + 1) & 0xfffffffffffffff8 );
                  for (uVar4 = ( ulong )((int)lVar3 + uVar2 >> 3); uVar4 != 0; uVar4 = uVar4 - 1) {
                     *puVar6 = *puVar8;
                     puVar8 = puVar8 + (ulong)bVar17 * -2 + 1;
                     puVar6 = puVar6 + (ulong)bVar17 * -2 + 1;
                  }

               }

               if (uVar2 < 8) {
                  if (( param_1 & 4 ) == 0) {
                     if (( uVar2 != 0 ) && ( *(undefined1*)puVar15 = *(undefined1*)puVar7(param_1 & 2) != 0 )) {
                        *(undefined2*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 2 ) ) = *(undefined2*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 2 ) );
                     }

                  }
 else {
                     *(undefined4*)puVar15 = *(undefined4*)puVar7;
                     *(undefined4*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 4 ) ) = *(undefined4*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 4 ) );
                  }

               }
 else {
                  *puVar15 = *puVar7;
                  *(undefined8*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 8 ) ) = *(undefined8*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 8 ) );
                  lVar3 = (long)puVar15 - (long)( ( ulong )(puVar15 + 1) & 0xfffffffffffffff8 );
                  puVar7 = (undefined8*)( (long)puVar7 - lVar3 );
                  puVar8 = (undefined8*)( ( ulong )(puVar15 + 1) & 0xfffffffffffffff8 );
                  for (uVar4 = ( ulong )((int)lVar3 + uVar2 >> 3); uVar4 != 0; uVar4 = uVar4 - 1) {
                     *puVar8 = *puVar7;
                     puVar7 = puVar7 + (ulong)bVar17 * -2 + 1;
                     puVar8 = puVar8 + (ulong)bVar17 * -2 + 1;
                  }

               }

               uVar4 = uVar12;
               if (uVar12 != uVar11) {
                  uVar14 = uVar11;
                  puVar7 = (undefined8*)( (long)puVar15 + param_1 * -2 );
                  do {
                     while (true) {
                        cVar1 = ( *param_6 )(param_7, param_4, puVar7);
                        uVar16 = uVar14 - 1;
                        puVar8 = (undefined8*)( param_1 + (long)puVar7 );
                        uVar4 = uVar14;
                        if (cVar1 == '\0') goto LAB_00104df0;
                        uVar14 = uVar16;
                        if (uVar2 < 8) break;
                        *puVar8 = *puVar7;
                        *(undefined8*)( (long)puVar8 + ( ( param_1 & 0xffffffff ) - 8 ) ) = *(undefined8*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 8 ) );
                        lVar3 = (long)puVar8 - (long)( ( ulong )(puVar8 + 1) & 0xfffffffffffffff8 );
                        puVar6 = (undefined8*)( (long)puVar7 - lVar3 );
                        puVar8 = (undefined8*)( ( ulong )(puVar8 + 1) & 0xfffffffffffffff8 );
                        for (uVar4 = ( ulong )((int)lVar3 + uVar2 >> 3); uVar4 != 0; uVar4 = uVar4 - 1) {
                           *puVar8 = *puVar6;
                           puVar6 = puVar6 + (ulong)bVar17 * -2 + 1;
                           puVar8 = puVar8 + (ulong)bVar17 * -2 + 1;
                        }

                        uVar4 = uVar12;
                        puVar7 = (undefined8*)( (long)puVar7 - param_1 );
                        if (uVar12 == uVar16) goto LAB_00104df0;
                     }
;
                     if (( param_1 & 4 ) == 0) {
                        if (( uVar2 != 0 ) && ( *(undefined1*)puVar8 = *(undefined1*)puVar7(param_1 & 2) != 0 )) {
                           *(undefined2*)( (long)puVar8 + ( ( param_1 & 0xffffffff ) - 2 ) ) = *(undefined2*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 2 ) );
                        }

                     }
 else {
                        *(undefined4*)puVar8 = *(undefined4*)puVar7;
                        *(undefined4*)( (long)puVar8 + ( ( param_1 & 0xffffffff ) - 4 ) ) = *(undefined4*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 4 ) );
                     }

                     puVar7 = (undefined8*)( (long)puVar7 - param_1 );
                     uVar4 = uVar12;
                  }
 while ( uVar12 != uVar16 );
               }

               LAB_00104df0:puVar7 = (undefined8*)( uVar4 * param_1 + (long)param_3 );
               if (uVar2 < 8) {
                  if (( param_1 & 4 ) == 0) {
                     if (( uVar2 != 0 ) && ( *(undefined1*)puVar7 = *(undefined1*)param_4(param_1 & 2) != 0 )) {
                        *(undefined2*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 2 ) ) = *(undefined2*)( (long)param_4 + ( ( param_1 & 0xffffffff ) - 2 ) );
                     }

                  }
 else {
                     *(undefined4*)puVar7 = *(undefined4*)param_4;
                     *(undefined4*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 4 ) ) = *(undefined4*)( (long)param_4 + ( ( param_1 & 0xffffffff ) - 4 ) );
                  }

               }
 else {
                  *puVar7 = *param_4;
                  *(undefined8*)( (long)puVar7 + ( ( param_1 & 0xffffffff ) - 8 ) ) = *(undefined8*)( (long)param_4 + ( ( param_1 & 0xffffffff ) - 8 ) );
                  lVar3 = (long)puVar7 - (long)( ( ulong )(puVar7 + 1) & 0xfffffffffffffff8 );
                  puVar8 = (undefined8*)( (long)param_4 - lVar3 );
                  puVar7 = (undefined8*)( ( ulong )(puVar7 + 1) & 0xfffffffffffffff8 );
                  for (uVar4 = ( ulong )((int)lVar3 + uVar2 >> 3); uVar4 != 0; uVar4 = uVar4 - 1) {
                     *puVar7 = *puVar8;
                     puVar8 = puVar8 + (ulong)bVar17 * -2 + 1;
                     puVar7 = puVar7 + (ulong)bVar17 * -2 + 1;
                  }

               }

            }

            uVar4 = uVar11 + 2;
            puVar7 = puVar15;
            uVar11 = uVar11 + 1;
         }
;
         puVar9 = (undefined8*)( (long)puVar9 + param_2 * param_1 );
         uVar12 = uVar13;
      }
 while ( uVar13 < param_5 );
      puVar9 = param_3;
      puVar7 = param_4;
      if (param_2 < param_5) {
         do {
            local_78 = puVar7;
            puVar7 = puVar9;
            local_68 = 0;
            uVar12 = param_2 * 2;
            uVar4 = 0;
            do {
               uVar10 = uVar4 + uVar12;
               uVar11 = param_2;
               if (param_5 <= param_2) {
                  uVar11 = param_5;
               }

               uVar13 = uVar10;
               if (param_5 <= uVar10) {
                  uVar13 = param_5;
               }

               uVar14 = param_2;
               local_a0 = uVar4;
               if (( param_2 < uVar13 ) && ( puVar9 = uVar4 < uVar11 )) {
                  do {
                     lVar3 = param_1 * uVar4;
                     puVar15 = (undefined8*)( (long)puVar7 + lVar3 );
                     puVar8 = (undefined8*)( param_1 * uVar14 + (long)puVar7 );
                     cVar1 = ( *param_6 )(param_7, puVar8, puVar15);
                     if (cVar1 == '\0') {
                        if (uVar2 < 8) {
                           if (( param_1 & 4 ) == 0) {
                              if (( uVar2 != 0 ) && ( *(undefined1*)puVar9 = *(undefined1*)puVar15(param_1 & 2) != 0 )) {
                                 *(undefined2*)( (long)puVar9 + ( ( param_1 & 0xffffffff ) - 2 ) ) = *(undefined2*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 2 ) );
                              }

                           }
 else {
                              *(undefined4*)puVar9 = *(undefined4*)puVar15;
                              *(undefined4*)( (long)puVar9 + ( ( param_1 & 0xffffffff ) - 4 ) ) = *(undefined4*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 4 ) );
                           }

                        }
 else {
                           *puVar9 = *puVar15;
                           *(undefined8*)( (long)puVar9 + ( ( param_1 & 0xffffffff ) - 8 ) ) = *(undefined8*)( (long)puVar15 + ( ( param_1 & 0xffffffff ) - 8 ) );
                           lVar5 = (long)puVar9 - (long)( ( ulong )(puVar9 + 1) & 0xfffffffffffffff8 );
                           puVar15 = (undefined8*)( (long)puVar15 - lVar5 );
                           puVar8 = (undefined8*)( ( ulong )(puVar9 + 1) & 0xfffffffffffffff8 );
                           for (uVar16 = ( ulong )((int)lVar5 + uVar2 >> 3); uVar16 != 0; uVar16 = uVar16 - 1) {
                              *puVar8 = *puVar15;
                              puVar15 = puVar15 + (ulong)bVar17 * -2 + 1;
                              puVar8 = puVar8 + (ulong)bVar17 * -2 + 1;
                           }

                        }

                        uVar4 = uVar4 + 1;
                        puVar15 = (undefined8*)( (long)puVar7 + lVar3 + param_1 );
                     }
 else {
                        if (uVar2 < 8) {
                           if (( param_1 & 4 ) == 0) {
                              if (( uVar2 != 0 ) && ( *(undefined1*)puVar9 = *(undefined1*)puVar8(param_1 & 2) != 0 )) {
                                 *(undefined2*)( (long)puVar9 + ( ( param_1 & 0xffffffff ) - 2 ) ) = *(undefined2*)( (long)puVar8 + ( ( param_1 & 0xffffffff ) - 2 ) );
                              }

                           }
 else {
                              *(undefined4*)puVar9 = *(undefined4*)puVar8;
                              *(undefined4*)( (long)puVar9 + ( ( param_1 & 0xffffffff ) - 4 ) ) = *(undefined4*)( (long)puVar8 + ( ( param_1 & 0xffffffff ) - 4 ) );
                           }

                        }
 else {
                           *puVar9 = *puVar8;
                           *(undefined8*)( (long)puVar9 + ( ( param_1 & 0xffffffff ) - 8 ) ) = *(undefined8*)( (long)puVar8 + ( ( param_1 & 0xffffffff ) - 8 ) );
                           lVar3 = (long)puVar9 - (long)( ( ulong )(puVar9 + 1) & 0xfffffffffffffff8 );
                           puVar8 = (undefined8*)( (long)puVar8 - lVar3 );
                           puVar6 = (undefined8*)( ( ulong )(puVar9 + 1) & 0xfffffffffffffff8 );
                           for (uVar16 = ( ulong )((int)lVar3 + uVar2 >> 3); uVar16 != 0; uVar16 = uVar16 - 1) {
                              *puVar6 = *puVar8;
                              puVar8 = puVar8 + (ulong)bVar17 * -2 + 1;
                              puVar6 = puVar6 + (ulong)bVar17 * -2 + 1;
                           }

                        }

                        uVar14 = uVar14 + 1;
                     }

                     local_a0 = local_a0 + 1;
                     puVar9 = (undefined8*)( (long)puVar9 + param_1 );
                  }
 while ( ( uVar4 < uVar11 ) && ( uVar14 < uVar13 ) );
                  lVar3 = local_a0 * param_1;
               }
 else {
                  puVar15 = (undefined8*)( (long)puVar7 + local_68 );
                  lVar3 = local_68;
               }

               memcpy((undefined1*)( lVar3 + (long)local_78 ), puVar15, ( uVar11 - uVar4 ) * param_1);
               if (uVar14 < uVar13) {
                  memcpy((undefined8*)( (long)local_78 + ( local_a0 + ( uVar11 - uVar4 ) ) * param_1 ), (undefined8*)( (long)puVar7 + uVar14 * param_1 ), ( uVar13 - uVar14 ) * param_1);
               }

               local_68 = local_68 + uVar12 * param_1;
               param_2 = param_2 + uVar12;
               uVar4 = uVar10;
            }
 while ( uVar10 < param_5 );
            param_2 = uVar12;
            puVar9 = local_78;
         }
 while ( uVar12 < param_5 );
         if (param_3 != local_78) {
            memcpy(param_3, local_78, param_5 * param_1);
            return;
         }

      }

   }

   return;
}
void ufbxi_kd_build(undefined8 *param_1, void *param_2, undefined8 param_3, uint param_4, uint param_5, uint param_6, uint param_7) {
   int iVar1;
   double *pdVar2;
   undefined8 uVar3;
   double dVar4;
   double dVar5;
   double dVar6;
   double dVar7;
   long lVar8;
   long lVar9;
   double dVar10;
   double dVar11;
   ulong uVar12;
   int iVar13;
   int iVar14;
   uint uVar15;
   ulong uVar16;
   uint uVar17;
   int iVar18;
   uint uVar19;
   ulong uVar20;
   ulong uVar21;
   uint uVar22;
   void *local_78;
   if (param_4 != 0) {
      uVar16 = (ulong)param_4;
      uVar20 = (ulong)param_5;
      do {
         lVar8 = param_1[2];
         uVar3 = *param_1;
         uVar21 = ( ulong )((uint)uVar20 ^ 1);
         lVar9 = param_1[4];
         dVar10 = (double)param_1[uVar20 * 3 + 10];
         dVar11 = (double)( param_1 + uVar20 * 3 + 10 )[1];
         dVar4 = (double)param_1[uVar20 * 3 + 0xc];
         param_1[0x194] = dVar10;
         param_1[0x195] = dVar11;
         param_1[0x196] = dVar4;
         param_1[0x197] = uVar3;
         ufbxi_stable_sort(4, 0x10, param_2, param_3, uVar16, ufbxi_kd_index_less, param_1);
         uVar12 = (ulong)param_6;
         uVar20 = uVar16 >> 1;
         uVar22 = param_7 + 1;
         uVar19 = (int)uVar20 + 1;
         uVar15 = (int)uVar16 - uVar19;
         uVar16 = (ulong)uVar15;
         iVar1 = param_6 * 2 + 1;
         if (param_7 < 6) {
            uVar17 = 1 << ( 5U - (char)param_7 & 0x1f );
            if (uVar17 < uVar19) {
               uVar17 = uVar19 - uVar17;
               local_78 = (void*)( (long)param_2 + (ulong)uVar17 * 4 );
            }
 else {
               uVar17 = 0;
               local_78 = param_2;
            }

            iVar13 = *(int*)( (long)param_2 + uVar20 * 4 );
            pdVar2 = (double*)( lVar8 + ( ulong ) * (uint*)( lVar9 + ( ulong )(uint)((int)uVar3 + iVar13) * 4 ) * 0x18 );
            dVar5 = *pdVar2;
            dVar6 = pdVar2[2];
            dVar7 = pdVar2[1];
            *(int*)( param_1 + uVar12 * 3 + 0x14 ) = iVar13 + 1;
            param_1[uVar12 * 3 + 0x13] = dVar11 * dVar7 + dVar5 * dVar10 + dVar4 * dVar6;
            if (param_7 == 5) {
               iVar13 = (int)( (long)param_2 - param_1[0x193] >> 2 );
               iVar14 = iVar13 + (int)uVar20;
               iVar18 = iVar14 + uVar15;
            }
 else {
               iVar13 = -1;
               iVar14 = -1;
               iVar18 = -1;
            }

            *(int*)( (long)param_1 + uVar12 * 0x18 + 0xa4 ) = iVar13;
            *(int*)( param_1 + uVar12 * 3 + 0x15 ) = iVar14;
            *(int*)( (long)param_1 + uVar12 * 0x18 + 0xac ) = iVar18;
            ufbxi_kd_build(param_1, param_2, param_3, uVar20, uVar21, iVar1, uVar22);
            if (uVar17 != uVar19) {
               memmove(local_78, (void*)( (long)param_2 + (ulong)uVar19 * 4 ), uVar16 << 2);
            }

         }
 else {
            local_78 = (void*)( (long)param_2 + (ulong)uVar19 * 4 );
            ufbxi_kd_build(param_1, param_2, param_3, uVar20, uVar21, iVar1, uVar22);
         }

         param_6 = param_6 * 2 + 2;
         param_2 = local_78;
         uVar20 = uVar21;
         param_7 = uVar22;
      }
 while ( uVar15 != 0 );
   }

   return;
}
bool ufbxi_bit_copy_bytes(undefined1 *param_1, ulong *param_2, ulong param_3) {
   void *pvVar1;
   ulong uVar2;
   undefined1 *__dest;
   ulong uVar3;
   bool bVar4;
   if (param_3 != 0) {
      uVar3 = param_2[0xf];
      __dest = param_1;
      do {
         if (uVar3 == 0) {
            pvVar1 = (void*)param_2[6];
            param_2[0xe] = 0;
            uVar3 = param_2[9] - (long)pvVar1;
            param_1 = __dest;
            if (uVar3 < param_3) {
               param_3 = param_3 - uVar3;
               pvVar1 = memcpy(__dest, pvVar1, uVar3);
               param_2[6] = param_2[6] + uVar3;
               bVar4 = false;
               if (param_3 <= *param_2) {
                  uVar2 = 0;
                  if ((code*)param_2[1] != (code*)0x0) {
                     uVar2 = ( *(code*)param_2[1] )(param_2[2], (long)pvVar1 + uVar3, param_3);
                     *param_2 = *param_2 - uVar2;
                  }

                  bVar4 = uVar2 == param_3;
               }

               return bVar4;
            }

            goto LAB_0010563c;
         }

         param_1 = __dest + 1;
         *__dest = (char)param_2[0xe];
         param_2[0xe] = param_2[0xe] >> 8;
         uVar3 = param_2[0xf] - 8;
         param_2[0xf] = uVar3;
         param_3 = param_3 - 1;
         __dest = param_1;
      }
 while ( param_3 != 0 );
   }

   param_2[0xe] = 0;
   pvVar1 = (void*)param_2[6];
   LAB_0010563c:memcpy(param_1, pvVar1, param_3);
   param_2[6] = param_2[6] + param_3;
   return true;
}
size_t ufbxi_memory_read(long *param_1, void *param_2, ulong param_3) {
   ulong __n;
   __n = param_1[1] - param_1[2];
   if (param_3 < __n) {
      __n = param_3;
   }

   memcpy(param_2, (void*)( param_1[2] + *param_1 ), __n);
   param_1[2] = param_1[2] + __n;
   return __n;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */uint ufbxi_adler32(undefined1 (*param_1)[16], ulong param_2) {
   undefined1(*pauVar1)[16];
   undefined1 auVar2[15];
   undefined1 auVar3[15];
   undefined1 auVar4[15];
   undefined1 auVar5[15];
   undefined1 auVar6[15];
   undefined1 auVar7[15];
   undefined1 auVar8[15];
   undefined1 auVar9[15];
   undefined1 auVar10[15];
   undefined1 auVar11[15];
   undefined1 auVar12[15];
   undefined1 auVar13[15];
   undefined1 auVar14[15];
   undefined1 auVar15[15];
   unkuint9 Var16;
   undefined1 auVar17[11];
   undefined1 auVar18[13];
   undefined1 auVar19[15];
   undefined1 auVar20[11];
   undefined1 auVar21[15];
   undefined1 auVar22[15];
   undefined1 auVar23[15];
   undefined1 auVar24[15];
   undefined1 *puVar25;
   long lVar26;
   ulong uVar27;
   undefined1(*pauVar28)[16];
   undefined1(*pauVar29)[16];
   undefined1(*pauVar30)[16];
   ulong uVar31;
   ulong uVar32;
   int iVar33;
   int iVar34;
   int iVar35;
   int iVar36;
   short sVar37;
   short sVar38;
   short sVar39;
   short sVar40;
   short sVar41;
   short sVar42;
   short sVar43;
   short sVar44;
   int iVar45;
   int iVar47;
   int iVar48;
   undefined1 auVar46[16];
   int iVar49;
   undefined1 auVar50[16];
   short sVar53;
   int iVar51;
   short sVar54;
   short sVar56;
   int iVar55;
   short sVar57;
   short sVar59;
   int iVar58;
   short sVar60;
   undefined1 auVar52[16];
   short sVar62;
   int iVar61;
   short sVar65;
   short sVar66;
   short sVar67;
   short sVar68;
   short sVar69;
   short sVar70;
   undefined1 auVar63[16];
   short sVar71;
   undefined1 auVar64[16];
   short sVar72;
   short sVar73;
   short sVar74;
   short sVar75;
   short sVar76;
   short sVar77;
   short sVar78;
   short sVar79;
   undefined1 auVar80[16];
   if (param_2 == 0) {
      return 1;
   }

   uVar32 = 0;
   uVar31 = 1;
   do {
      uVar27 = 0x16abf637;
      if (param_2 < 0x16abf638) {
         uVar27 = param_2;
      }

      param_2 = param_2 - uVar27;
      pauVar1 = (undefined1(*) [16])( *param_1 + uVar27 );
      if (( (ulong)param_1 & 0xf ) == 0) {
         while (true) {
            if (0x16ab < uVar27) {
               uVar27 = 0x16ab;
            }

            uVar27 = uVar27 & 0xffffffffffffff00;
            pauVar28 = param_1;
            if (uVar27 == 0) break;
            LAB_001057de:iVar33 = 0;
            iVar34 = 0;
            iVar35 = 0;
            iVar36 = 0;
            param_1 = (undefined1(*) [16])( *pauVar28 + uVar27 );
            pauVar30 = pauVar28 + 0x10;
            iVar45 = 0;
            iVar47 = 0;
            iVar48 = 0;
            iVar49 = 0;
            pauVar29 = pauVar30;
            while (true) {
               auVar63 = (undefined1[16])0x0;
               auVar52 = (undefined1[16])0x0;
               auVar80 = (undefined1[16])0x0;
               auVar46 = (undefined1[16])0x0;
               do {
                  auVar50 = *pauVar28;
                  auVar64 = pauVar28[1];
                  pauVar28 = pauVar28 + 2;
                  auVar3[0xd] = 0;
                  auVar3._0_13_ = auVar50._0_13_;
                  auVar3[0xe] = auVar50[7];
                  auVar5[0xc] = auVar50[6];
                  auVar5._0_12_ = auVar50._0_12_;
                  auVar5._13_2_ = auVar3._13_2_;
                  auVar7[0xb] = 0;
                  auVar7._0_11_ = auVar50._0_11_;
                  auVar7._12_3_ = auVar5._12_3_;
                  auVar9[10] = auVar50[5];
                  auVar9._0_10_ = auVar50._0_10_;
                  auVar9._11_4_ = auVar7._11_4_;
                  auVar11[9] = 0;
                  auVar11._0_9_ = auVar50._0_9_;
                  auVar11._10_5_ = auVar9._10_5_;
                  auVar13[8] = auVar50[4];
                  auVar13._0_8_ = auVar50._0_8_;
                  auVar13._9_6_ = auVar11._9_6_;
                  auVar15._7_8_ = 0;
                  auVar15._0_7_ = auVar13._8_7_;
                  Var16 = CONCAT81(SUB158(auVar15 << 0x40, 7), auVar50[3]);
                  auVar21._9_6_ = 0;
                  auVar21._0_9_ = Var16;
                  auVar17._1_10_ = SUB1510(auVar21 << 0x30, 5);
                  auVar17[0] = auVar50[2];
                  auVar22._11_4_ = 0;
                  auVar22._0_11_ = auVar17;
                  auVar18._1_12_ = SUB1512(auVar22 << 0x20, 3);
                  auVar18[0] = auVar50[1];
                  sVar72 = (ushort)auVar50[8] + auVar80._0_2_;
                  sVar73 = (ushort)auVar50[9] + auVar80._2_2_;
                  sVar74 = (ushort)auVar50[10] + auVar80._4_2_;
                  sVar75 = (ushort)auVar50[0xb] + auVar80._6_2_;
                  sVar76 = (ushort)auVar50[0xc] + auVar80._8_2_;
                  sVar77 = (ushort)auVar50[0xd] + auVar80._10_2_;
                  sVar78 = (ushort)auVar50[0xe] + auVar80._12_2_;
                  sVar79 = (ushort)auVar50[0xf] + auVar80._14_2_;
                  sVar65 = auVar63._2_2_;
                  sVar66 = auVar63._4_2_;
                  sVar67 = auVar63._6_2_;
                  sVar68 = auVar63._8_2_;
                  sVar69 = auVar63._10_2_;
                  sVar70 = auVar63._12_2_;
                  sVar71 = auVar63._14_2_;
                  sVar37 = (ushort)auVar50[0] + auVar46._0_2_;
                  sVar38 = auVar18._0_2_ + auVar46._2_2_;
                  sVar39 = auVar17._0_2_ + auVar46._4_2_;
                  sVar40 = (short)Var16 + auVar46._6_2_;
                  sVar41 = auVar13._8_2_ + auVar46._8_2_;
                  sVar42 = auVar9._10_2_ + auVar46._10_2_;
                  sVar43 = auVar5._12_2_ + auVar46._12_2_;
                  sVar44 = ( auVar3._13_2_ >> 8 ) + auVar46._14_2_;
                  sVar53 = auVar52._2_2_;
                  sVar54 = auVar52._4_2_;
                  sVar56 = auVar52._6_2_;
                  sVar57 = auVar52._8_2_;
                  sVar59 = auVar52._10_2_;
                  sVar60 = auVar52._12_2_;
                  sVar62 = auVar52._14_2_;
                  auVar2[0xd] = 0;
                  auVar2._0_13_ = auVar64._0_13_;
                  auVar2[0xe] = auVar64[7];
                  auVar4[0xc] = auVar64[6];
                  auVar4._0_12_ = auVar64._0_12_;
                  auVar4._13_2_ = auVar2._13_2_;
                  auVar6[0xb] = 0;
                  auVar6._0_11_ = auVar64._0_11_;
                  auVar6._12_3_ = auVar4._12_3_;
                  auVar8[10] = auVar64[5];
                  auVar8._0_10_ = auVar64._0_10_;
                  auVar8._11_4_ = auVar6._11_4_;
                  auVar10[9] = 0;
                  auVar10._0_9_ = auVar64._0_9_;
                  auVar10._10_5_ = auVar8._10_5_;
                  auVar12[8] = auVar64[4];
                  auVar12._0_8_ = auVar64._0_8_;
                  auVar12._9_6_ = auVar10._9_6_;
                  auVar19._7_8_ = 0;
                  auVar19._0_7_ = auVar12._8_7_;
                  Var16 = CONCAT81(SUB158(auVar19 << 0x40, 7), auVar64[3]);
                  auVar23._9_6_ = 0;
                  auVar23._0_9_ = Var16;
                  auVar20._1_10_ = SUB1510(auVar23 << 0x30, 5);
                  auVar20[0] = auVar64[2];
                  auVar24._11_4_ = 0;
                  auVar24._0_11_ = auVar20;
                  auVar14[2] = auVar64[1];
                  auVar14._0_2_ = auVar64._0_2_;
                  auVar14._3_12_ = SUB1512(auVar24 << 0x20, 3);
                  auVar52._0_2_ = auVar46._0_2_ + auVar52._0_2_ + sVar37;
                  auVar52._2_2_ = auVar46._2_2_ + sVar53 + sVar38;
                  auVar52._4_2_ = auVar46._4_2_ + sVar54 + sVar39;
                  auVar52._6_2_ = auVar46._6_2_ + sVar56 + sVar40;
                  auVar52._8_2_ = auVar46._8_2_ + sVar57 + sVar41;
                  auVar52._10_2_ = auVar46._10_2_ + sVar59 + sVar42;
                  auVar52._12_2_ = auVar46._12_2_ + sVar60 + sVar43;
                  auVar52._14_2_ = auVar46._14_2_ + sVar62 + sVar44;
                  auVar63._0_2_ = auVar80._0_2_ + auVar63._0_2_ + sVar72;
                  auVar63._2_2_ = auVar80._2_2_ + sVar65 + sVar73;
                  auVar63._4_2_ = auVar80._4_2_ + sVar66 + sVar74;
                  auVar63._6_2_ = auVar80._6_2_ + sVar67 + sVar75;
                  auVar63._8_2_ = auVar80._8_2_ + sVar68 + sVar76;
                  auVar63._10_2_ = auVar80._10_2_ + sVar69 + sVar77;
                  auVar63._12_2_ = auVar80._12_2_ + sVar70 + sVar78;
                  auVar63._14_2_ = auVar80._14_2_ + sVar71 + sVar79;
                  auVar46._0_2_ = sVar37 + ( auVar64._0_2_ & 0xff );
                  auVar46._2_2_ = sVar38 + auVar14._2_2_;
                  auVar46._4_2_ = sVar39 + auVar20._0_2_;
                  auVar46._6_2_ = sVar40 + (short)Var16;
                  auVar46._8_2_ = sVar41 + auVar12._8_2_;
                  auVar46._10_2_ = sVar42 + auVar8._10_2_;
                  auVar46._12_2_ = sVar43 + auVar4._12_2_;
                  auVar46._14_2_ = sVar44 + ( auVar2._13_2_ >> 8 );
                  auVar80._0_2_ = (ushort)auVar64[8] + sVar72;
                  auVar80._2_2_ = (ushort)auVar64[9] + sVar73;
                  auVar80._4_2_ = (ushort)auVar64[10] + sVar74;
                  auVar80._6_2_ = (ushort)auVar64[0xb] + sVar75;
                  auVar80._8_2_ = (ushort)auVar64[0xc] + sVar76;
                  auVar80._10_2_ = (ushort)auVar64[0xd] + sVar77;
                  auVar80._12_2_ = (ushort)auVar64[0xe] + sVar78;
                  auVar80._14_2_ = (ushort)auVar64[0xf] + sVar79;
               }
 while ( pauVar30 != pauVar28 );
               iVar51 = iVar45 * 0x100;
               iVar55 = iVar47 * 0x100;
               iVar58 = iVar48 * 0x100;
               iVar61 = iVar49 * 0x100;
               auVar50 = pmaddwd(auVar52, __LC20);
               auVar63 = pmaddwd(auVar63, __LC20);
               pauVar30 = pauVar30 + 0x10;
               auVar52 = pmaddwd(auVar46, __LC21);
               auVar64 = pmaddwd(auVar46, __LC19);
               auVar46 = pmaddwd(auVar80, __LC19);
               auVar80 = pmaddwd(auVar80, __LC22);
               iVar45 = auVar46._0_4_ + auVar64._0_4_ + iVar45;
               iVar47 = auVar46._4_4_ + auVar64._4_4_ + iVar47;
               iVar48 = auVar46._8_4_ + auVar64._8_4_ + iVar48;
               iVar49 = auVar46._12_4_ + auVar64._12_4_ + iVar49;
               iVar33 = auVar80._0_4_ + iVar33 + auVar50._0_4_ + iVar51 + auVar52._0_4_ + auVar63._0_4_;
               iVar34 = auVar80._4_4_ + iVar34 + auVar50._4_4_ + iVar55 + auVar52._4_4_ + auVar63._4_4_;
               iVar35 = auVar80._8_4_ + iVar35 + auVar50._8_4_ + iVar58 + auVar52._8_4_ + auVar63._8_4_;
               iVar36 = auVar80._12_4_ + iVar36 + auVar50._12_4_ + iVar61 + auVar52._12_4_ + auVar63._12_4_;
               if (param_1 == pauVar29) break;
               pauVar28 = pauVar29;
               pauVar29 = pauVar29 + 0x10;
            }
;
            lVar26 = uVar27 * uVar31;
            uVar31 = uVar31 + ( uint )(iVar45 + iVar47 + iVar48 + iVar49);
            uVar32 = ( ulong )(uint)(iVar33 + iVar34 + iVar35 + iVar36) + lVar26 + uVar32;
            uVar27 = (long)pauVar1 - (long)param_1;
         }
;
         for (; pauVar1 != param_1; param_1 = (undefined1(*) [16])( *param_1 + 1 )) {
            LAB_00105920:uVar31 = uVar31 + ( byte )(*param_1)[0];
            uVar32 = uVar32 + uVar31;
         }

      }
 else {
         while (true) {
            puVar25 = *param_1;
            param_1 = (undefined1(*) [16])( *param_1 + 1 );
            uVar31 = uVar31 + ( byte ) * puVar25;
            uVar32 = uVar32 + uVar31;
            if (pauVar1 == param_1) break;
            if (( (ulong)param_1 & 0xf ) == 0) {
               uVar27 = (long)pauVar1 - (long)param_1;
               if (0x16ab < uVar27) {
                  uVar27 = 0x16ab;
               }

               uVar27 = uVar27 & 0xffffffffffffff00;
               pauVar28 = param_1;
               if (uVar27 != 0) goto LAB_001057de;
               goto LAB_00105920;
            }

         }
;
      }

      uVar31 = uVar31 % 0xfff1;
      uVar32 = uVar32 % 0xfff1;
   }
 while ( param_2 != 0 );
   return (int)uVar32 << 0x10 | (uint)uVar31;
}
void ufbxi_set_err_info(long param_1, undefined8 *param_2, ulong param_3) {
   ulong uVar1;
   uint uVar2;
   undefined8 *puVar3;
   if (param_1 != 0) {
      if (0xff < param_3) {
         param_3 = 0xff;
      }

      uVar2 = (uint)param_3;
      if (uVar2 < 8) {
         if (( param_3 & 4 ) == 0) {
            if (uVar2 != 0) {
               *(undefined1*)( param_1 + 0x168 ) = *(undefined1*)param_2;
               if (( param_3 & 2 ) != 0) {
                  *(undefined2*)( param_1 + 0x166 + ( param_3 & 0xffffffff ) ) = *(undefined2*)( (long)param_2 + ( ( param_3 & 0xffffffff ) - 2 ) );
               }

            }

         }
 else {
            *(undefined4*)( param_1 + 0x168 ) = *(undefined4*)param_2;
            *(undefined4*)( param_1 + 0x164 + ( param_3 & 0xffffffff ) ) = *(undefined4*)( (long)param_2 + ( ( param_3 & 0xffffffff ) - 4 ) );
         }

      }
 else {
         *(undefined8*)( param_1 + 0x160 + ( param_3 & 0xffffffff ) ) = *(undefined8*)( (long)param_2 + ( ( param_3 & 0xffffffff ) - 8 ) );
         puVar3 = (undefined8*)( param_1 + 0x168 );
         for (uVar1 = ( ulong )(uVar2 - 1 >> 3); uVar1 != 0; uVar1 = uVar1 - 1) {
            *puVar3 = *param_2;
            param_2 = param_2 + 1;
            puVar3 = puVar3 + 1;
         }

      }

      *(undefined1*)( param_1 + 0x168 + param_3 ) = 0;
      *(ulong*)( param_1 + 0x160 ) = param_3;
      ufbxi_clean_string_utf8((undefined8*)( param_1 + 0x168 ), param_3);
      return;
   }

   return;
}
void ufbxi_init_synthetic_real_prop(double param_1, undefined8 *param_2, uint *param_3, undefined4 param_4) {
   uint uVar1;
   size_t sVar2;
   *(undefined4*)( (long)param_2 + 0x14 ) = param_4;
   *param_2 = param_3;
   sVar2 = strlen((char*)param_3);
   *(undefined4*)( param_2 + 3 ) = 0x101000;
   param_2[1] = sVar2;
   param_2[9] = param_1;
   param_2[8] = (long)param_1;
   param_2[4] = &ufbxi_empty_char;
   uVar1 = *param_3;
   *(uint*)( param_2 + 2 ) = uVar1 >> 0x18 | ( uVar1 & 0xff0000 ) >> 8 | ( uVar1 & 0xff00 ) << 8 | uVar1 << 0x18;
   return;
}
void ufbxi_init_synthetic_vec3_prop(undefined8 *param_1, uint *param_2, undefined8 *param_3, undefined4 param_4) {
   double dVar1;
   uint uVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   double dVar5;
   size_t sVar6;
   long lVar7;
   double dVar8;
   *(undefined4*)( (long)param_1 + 0x14 ) = param_4;
   *param_1 = param_2;
   sVar6 = strlen((char*)param_2);
   dVar5 = _LC24;
   uVar3 = *param_3;
   uVar4 = param_3[1];
   param_1[1] = sVar6;
   param_1[9] = uVar3;
   param_1[10] = uVar4;
   dVar1 = (double)param_1[9];
   uVar3 = param_3[2];
   *(undefined4*)( param_1 + 3 ) = 0x401000;
   dVar8 = (double)( (ulong)dVar1 & _LC97 );
   param_1[0xb] = uVar3;
   if (dVar5 < dVar8) {
      lVar7 = 0x7fffffffffffffff;
      if (dVar1 < 0.0) {
         lVar7 = -0x8000000000000000;
      }

   }
 else {
      lVar7 = (long)dVar1;
   }

   param_1[8] = lVar7;
   param_1[4] = &ufbxi_empty_char;
   uVar2 = *param_2;
   *(uint*)( param_1 + 2 ) = uVar2 >> 0x18 | ( uVar2 & 0xff0000 ) >> 8 | ( uVar2 & 0xff00 ) << 8 | uVar2 << 0x18;
   return;
}
uint ufbxi_get_concat_key(undefined8 *param_1, long param_2) {
   undefined8 *puVar1;
   size_t sVar2;
   int iVar3;
   byte *pbVar4;
   uint uVar5;
   byte *pbVar6;
   puVar1 = param_1 + param_2 * 2;
   if (param_1 == puVar1) {
      uVar5 = 0;
   }
 else {
      iVar3 = 0x20;
      uVar5 = 0;
      do {
         sVar2 = param_1[1];
         if (sVar2 == 0xffffffffffffffff) {
            sVar2 = strlen((char*)*param_1);
         }

         if (sVar2 != 0) {
            pbVar4 = (byte*)*param_1;
            iVar3 = iVar3 + -8;
            uVar5 = uVar5 | ( uint ) * pbVar4 << ( (byte)iVar3 & 0x1f );
            if (iVar3 == 0) {
               return uVar5;
            }

            pbVar6 = pbVar4 + sVar2;
            while (pbVar4 = pbVar4 + 1,pbVar6 != pbVar4) {
               iVar3 = iVar3 + -8;
               uVar5 = uVar5 | ( uint ) * pbVar4 << ( (byte)iVar3 & 0x1f );
               if (iVar3 == 0) {
                  return uVar5;
               }

            }
;
         }

         param_1 = param_1 + 2;
      }
 while ( puVar1 != param_1 );
   }

   return uVar5;
}
void ufbxi_fmt_err_info(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8, long param_9, undefined8 param_10, undefined8 param_11, undefined8 param_12, undefined8 param_13, undefined8 param_14) {
   char in_AL;
   int iVar1;
   long in_FS_OFFSET;
   undefined4 local_e8;
   undefined4 local_e4;
   undefined1 *local_e0;
   undefined1 *local_d8;
   long local_d0;
   undefined1 local_c8[16];
   undefined8 local_b8;
   undefined8 local_b0;
   undefined8 local_a8;
   undefined8 local_a0;
   undefined8 local_98;
   undefined8 local_88;
   undefined8 local_78;
   undefined8 local_68;
   undefined8 local_58;
   undefined8 local_48;
   undefined8 local_38;
   undefined8 local_28;
   if (in_AL != '\0') {
      local_98 = param_1;
      local_88 = param_2;
      local_78 = param_3;
      local_68 = param_4;
      local_58 = param_5;
      local_48 = param_6;
      local_38 = param_7;
      local_28 = param_8;
   }

   local_d0 = *(long*)( in_FS_OFFSET + 0x28 );
   local_b8 = param_11;
   local_b0 = param_12;
   local_a8 = param_13;
   local_a0 = param_14;
   if (param_9 != 0) {
      local_e0 = &stack0x00000008;
      local_d8 = local_c8;
      local_e8 = 0x10;
      local_e4 = 0x30;
      iVar1 = ufbxi_vsnprintf(param_9 + 0x168, 0x100, param_10, &local_e8);
      *(long*)( param_9 + 0x160 ) = (long)iVar1;
      ufbxi_clean_string_utf8(param_9 + 0x168);
   }

   if (local_d0 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_snprintf(void) {
   long lVar1;
   long in_FS_OFFSET;
   lVar1 = *(long*)( in_FS_OFFSET + 0x28 );
   ufbxi_vsnprintf();
   if (lVar1 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_free_size(long param_1, long param_2, void *param_3, long param_4) {
   code *UNRECOVERED_JUMPTABLE_00;
   code *UNRECOVERED_JUMPTABLE;
   if (param_4 == 0) {
      return;
   }

   *(long*)( param_1 + 8 ) = *(long*)( param_1 + 8 ) - param_4 * param_2;
   if (*(long*)( param_1 + 0x38 ) == 0) {
      UNRECOVERED_JUMPTABLE = *(code**)( param_1 + 0x40 );
      if (UNRECOVERED_JUMPTABLE == (code*)0x0) {
         free(param_3);
         return;
      }

      UNRECOVERED_JUMPTABLE_00 = *(code**)( param_1 + 0x48 );
      if (UNRECOVERED_JUMPTABLE_00 == (code*)0x0) goto LAB_00105d72;
   }
 else {
      UNRECOVERED_JUMPTABLE_00 = *(code**)( param_1 + 0x48 );
      if (UNRECOVERED_JUMPTABLE_00 == (code*)0x0) {
         UNRECOVERED_JUMPTABLE = *(code**)( param_1 + 0x40 );
         if (UNRECOVERED_JUMPTABLE == (code*)0x0) {
            return;
         }

         LAB_00105d72:/* WARNING: Could not recover jumptable at 0x00105d7b. Too many branches *//* WARNING: Treating indirect jump as call */( *UNRECOVERED_JUMPTABLE )(*(undefined8*)( param_1 + 0x58 ), param_3, param_4 * param_2, 0);
         return;
      }

   }

   /* WARNING: Could not recover jumptable at 0x00105d4a. Too many branches */
   /* WARNING: Treating indirect jump as call */
   ( *UNRECOVERED_JUMPTABLE_00 )(*(undefined8*)( param_1 + 0x58 ), param_3);
   return;
}
void ufbxi_buf_free_unused(undefined8 *param_1) {
   long lVar1;
   undefined8 uVar2;
   long lVar3;
   long lVar4;
   long lVar5;
   lVar5 = param_1[1];
   if (lVar5 != 0) {
      lVar4 = *(long*)( lVar5 + 0x10 );
      while (lVar4 != 0) {
         lVar1 = *(long*)( lVar4 + 0x10 );
         uVar2 = *param_1;
         *(undefined8*)( lVar4 + 0x18 ) = 0;
         ufbxi_free_size(uVar2, 1, lVar4, *(long*)( lVar4 + 0x20 ) + 0x40);
         lVar4 = lVar1;
      }
;
      lVar4 = param_1[3];
      *(undefined8*)( lVar5 + 0x10 ) = 0;
      if (lVar4 == 0) {
         lVar4 = *(long*)( lVar5 + 0x20 );
         do {
            lVar1 = *(long*)( lVar5 + 8 );
            uVar2 = *param_1;
            *(undefined8*)( lVar5 + 0x18 ) = 0;
            ufbxi_free_size(uVar2, 1, lVar5, lVar4 + 0x40);
            param_1[1] = lVar1;
            if (lVar1 == 0) {
               *(undefined1(*) [16])( param_1 + 3 ) = (undefined1[16])0x0;
               return;
            }

            uVar2 = *(undefined8*)( lVar1 + 0x20 );
            lVar3 = *(long*)( lVar1 + 0x28 );
            lVar4 = *(long*)( lVar1 + 0x20 );
            *(undefined8*)( lVar1 + 0x10 ) = 0;
            param_1[3] = lVar3;
            param_1[4] = uVar2;
            lVar5 = lVar1;
         }
 while ( lVar3 == 0 );
      }

   }

   return;
}
void ufbxi_pop_size(long *param_1, long param_2, long param_3, void *param_4, char param_5) {
   long *plVar1;
   void *pvVar2;
   long lVar3;
   long lVar4;
   ulong __n;
   ulong uVar5;
   size_t __n_00;
   long lVar6;
   ulong uVar7;
   if (param_5 == '\0') {
      param_1[5] = param_1[5] - param_3;
   }

   lVar4 = param_1[1];
   __n = param_3 * param_2;
   uVar7 = param_1[3];
   if (param_4 == (void*)0x0) {
      if (uVar7 < __n) {
         do {
            __n = __n - uVar7;
            lVar3 = *(long*)( lVar4 + 8 );
            if (param_5 == '\0') {
               *(undefined8*)( lVar4 + 0x28 ) = 0;
               lVar4 = *(long*)( lVar3 + 0x20 );
               param_1[1] = lVar3;
               param_1[4] = lVar4;
            }

            uVar7 = *(ulong*)( lVar3 + 0x28 );
            lVar4 = lVar3;
         }
 while ( uVar7 < __n );
      }

      if (param_5 != '\0') {
         return;
      }

      lVar4 = param_1[1];
      param_1[3] = uVar7 - __n;
   }
 else {
      pvVar2 = (void*)( (long)param_4 + __n );
      if (uVar7 < __n) {
         do {
            __n_00 = uVar7;
            uVar5 = __n;
            __n = uVar5 - __n_00;
            pvVar2 = memcpy((void*)( (long)pvVar2 - __n_00 ), (void*)( lVar4 + 0x40 ), __n_00);
            if (param_5 == '\0') {
               *(undefined8*)( lVar4 + 0x28 ) = 0;
               lVar4 = *(long*)( lVar4 + 8 );
               lVar3 = *(long*)( lVar4 + 0x20 );
               param_1[1] = lVar4;
               param_1[4] = lVar3;
               uVar7 = *(ulong*)( lVar4 + 0x28 );
            }
 else {
               lVar4 = *(long*)( lVar4 + 8 );
               uVar7 = *(ulong*)( lVar4 + 0x28 );
            }

         }
 while ( uVar7 < __n );
         lVar6 = __n_00 - uVar5;
         lVar3 = uVar7 + lVar6;
         param_4 = (void*)( (long)pvVar2 + lVar6 );
         if (param_5 != '\0') goto LAB_00105f16;
         param_1[3] = lVar3;
      }
 else {
         lVar3 = uVar7 - __n;
         if (param_5 != '\0') {
            if (__n == 0) {
               return;
            }

            LAB_00105f16:memcpy(param_4, (void*)( lVar4 + 0x40 + lVar3 ), __n);
            return;
         }

         param_1[3] = lVar3;
         if (__n == 0) goto LAB_00105f7e;
      }

      memcpy(param_4, (void*)( lVar4 + 0x40 + lVar3 ), __n);
      lVar4 = param_1[1];
   }

   LAB_00105f7e:if (( lVar4 != 0 ) && ( (ulong)param_1[3] < *(ulong*)( lVar4 + 0x38 ) )) {
      plVar1 = (long*)( lVar4 + 0x2f + *(ulong*)( lVar4 + 0x38 ) );
      lVar3 = plVar1[1];
      param_1[3] = *plVar1;
      *(long*)( lVar4 + 0x38 ) = lVar3;
   }

   if (1 < *(ulong*)( *param_1 + 0x28 )) {
      return;
   }

   ufbxi_buf_free_unused(param_1);
   return;
}
void ufbxi_buf_free(undefined8 *param_1) {
   long lVar1;
   undefined8 uVar2;
   long lVar3;
   if ((long*)param_1[1] != (long*)0x0) {
      lVar3 = *(long*)param_1[1];
      while (lVar3 != 0) {
         lVar1 = *(long*)( lVar3 + 0x10 );
         uVar2 = *param_1;
         *(undefined8*)( lVar3 + 0x18 ) = 0;
         ufbxi_free_size(uVar2, 1, lVar3, *(long*)( lVar3 + 0x20 ) + 0x40);
         lVar3 = lVar1;
      }
;
   }

   param_1[1] = 0;
   if ((long*)param_1[2] != (long*)0x0) {
      lVar3 = *(long*)param_1[2];
      while (lVar3 != 0) {
         lVar1 = *(long*)( lVar3 + 0x10 );
         uVar2 = *param_1;
         *(undefined8*)( lVar3 + 0x18 ) = 0;
         ufbxi_free_size(uVar2, 1, lVar3, *(long*)( lVar3 + 0x20 ) + 0x40);
         lVar3 = lVar1;
      }
;
   }

   param_1[2] = 0;
   param_1[5] = 0;
   *(undefined1(*) [16])( param_1 + 3 ) = (undefined1[16])0x0;
   return;
}
void ufbxi_free_result(long param_1) {
   ufbxi_buf_free(param_1 + 0x1a58);
   ufbxi_buf_free(param_1 + 0x1968);
   ufbxi_free_ator(param_1 + 0x538);
   return;
}
void ufbxi_buf_clear(long *param_1) {
   long lVar1;
   ulong uVar2;
   long lVar3;
   long lVar4;
   lVar4 = *param_1;
   if (*(ulong*)( lVar4 + 0x28 ) < 2) {
      ufbxi_buf_free(param_1);
      return;
   }

   if ((long*)param_1[1] != (long*)0x0) {
      lVar3 = *(long*)param_1[1];
      param_1[3] = 0;
      param_1[1] = lVar3;
      param_1[4] = *(long*)( lVar3 + 0x20 );
   }

   lVar3 = param_1[2];
   *(undefined1(*) [16])( param_1 + 5 ) = (undefined1[16])0x0;
   if (lVar3 != 0) {
      uVar2 = 0;
      do {
         *(undefined8*)( lVar3 + 0x28 ) = 0;
         lVar3 = *(long*)( lVar3 + 0x10 );
         uVar2 = uVar2 + 1;
         if (lVar3 == 0) {
            return;
         }

      }
 while ( uVar2 < 0x10 );
      if (lVar3 != 0) {
         *(undefined8*)( *(long*)( lVar3 + 8 ) + 0x10 ) = 0;
         while (true) {
            lVar1 = *(long*)( lVar3 + 0x10 );
            *(undefined8*)( lVar3 + 0x18 ) = 0;
            ufbxi_free_size(lVar4, 1, lVar3, *(long*)( lVar3 + 0x20 ) + 0x40);
            if (lVar1 == 0) break;
            lVar4 = *param_1;
            lVar3 = lVar1;
         }
;
      }

   }

   return;
}
void ufbxi_map_free(undefined8 *param_1) {
   ufbxi_buf_free(param_1 + 8);
   ufbxi_free_size(*param_1, 1, param_1[3], param_1[1]);
   param_1[0x10] = 0;
   *(undefined4*)( param_1 + 5 ) = 0;
   param_1[4] = 0;
   *(undefined1(*) [16])( param_1 + 2 ) = (undefined1[16])0x0;
   return;
}
/* WARNING: Unknown calling convention -- yet parameter storage is locked */int ufbxi_stdio_close(FILE *__stream) {
   int iVar1;
   iVar1 = fclose(__stream);
   return iVar1;
}
long ufbxi_stdio_size(FILE *param_1) {
   int iVar1;
   ulong uVar2;
   ulong uVar3;
   long lVar4;
   long in_FS_OFFSET;
   fpos64_t fStack_48;
   long local_30;
   lVar4 = 0;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   uVar2 = ftello64(param_1);
   if (-1 < (long)uVar2) {
      iVar1 = fgetpos64(param_1, &fStack_48);
      if (iVar1 == 0) {
         iVar1 = fseek(param_1, 0, 2);
         if (iVar1 == 0) {
            uVar3 = ftello64(param_1);
            if (( -1 < (long)uVar3 ) && ( uVar2 < uVar3 )) {
               lVar4 = uVar3 - uVar2;
            }

            rewind(param_1);
            fsetpos64(param_1, &fStack_48);
            goto LAB_00106276;
         }

      }

      lVar4 = 0;
   }

   LAB_00106276:if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return lVar4;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_stdio_skip(FILE *param_1, long param_2) {
   int iVar1;
   undefined4 extraout_var;
   iVar1 = fseek(param_1, param_2, 1);
   if (iVar1 != 0) {
      return 0;
   }

   iVar1 = ferror(param_1);
   return CONCAT71(( int7 )(CONCAT44(extraout_var, iVar1) >> 8), iVar1 == 0);
}
size_t ufbxi_stdio_read(FILE *param_1, void *param_2, size_t param_3) {
   int iVar1;
   size_t sVar2;
   iVar1 = ferror(param_1);
   if (iVar1 == 0) {
      sVar2 = fread(param_2, 1, param_3, param_1);
      return sVar2;
   }

   return 0xffffffffffffffff;
}
void ufbxi_fix_error_type(undefined8 *param_1, char *param_2, undefined8 *param_3) {
   int iVar1;
   size_t sVar2;
   ulong uVar3;
   long lVar4;
   undefined8 *puVar5;
   undefined8 *puVar6;
   char *__s1;
   byte bVar7;
   bVar7 = 0;
   *(undefined4*)param_1 = 1;
   __s1 = (char*)param_1[1];
   if ((char*)param_1[1] == (char*)0x0) {
      __s1 = param_2;
   }

   iVar1 = strcmp(__s1, "Out of memory");
   if (iVar1 == 0) {
      *(undefined4*)param_1 = 5;
   }
 else {
      iVar1 = strcmp(__s1, "Memory limit exceeded");
      if (iVar1 == 0) {
         *(undefined4*)param_1 = 6;
      }
 else {
         iVar1 = strcmp(__s1, "Allocation limit exceeded");
         if (iVar1 == 0) {
            *(undefined4*)param_1 = 7;
         }
 else {
            iVar1 = strcmp(__s1, "Truncated file");
            if (iVar1 == 0) {
               *(undefined4*)param_1 = 8;
            }
 else {
               iVar1 = strcmp(__s1, "IO error");
               if (iVar1 == 0) {
                  *(undefined4*)param_1 = 9;
               }
 else {
                  iVar1 = strcmp(__s1, "Cancelled");
                  if (iVar1 == 0) {
                     *(undefined4*)param_1 = 10;
                  }
 else {
                     iVar1 = strcmp(__s1, "Unrecognized file format");
                     if (iVar1 == 0) {
                        *(undefined4*)param_1 = 0xb;
                     }
 else {
                        iVar1 = strcmp(__s1, "File not found");
                        if (iVar1 == 0) {
                           *(undefined4*)param_1 = 2;
                        }
 else {
                           iVar1 = strcmp(__s1, "Empty file");
                           if (iVar1 == 0) {
                              *(undefined4*)param_1 = 3;
                           }
 else {
                              iVar1 = strcmp(__s1, "External file not found");
                              if (iVar1 == 0) {
                                 *(undefined4*)param_1 = 4;
                              }
 else {
                                 iVar1 = strcmp(__s1, "Uninitialized options");
                                 if (iVar1 == 0) {
                                    *(undefined4*)param_1 = 0xc;
                                 }
 else {
                                    iVar1 = strcmp(__s1, "Zero vertex size");
                                    if (iVar1 == 0) {
                                       *(undefined4*)param_1 = 0xd;
                                    }
 else {
                                       iVar1 = strcmp(__s1, "Truncated vertex stream");
                                       if (iVar1 == 0) {
                                          *(undefined4*)param_1 = 0xe;
                                       }
 else {
                                          iVar1 = strcmp(__s1, "Invalid UTF-8");
                                          if (iVar1 == 0) {
                                             *(undefined4*)param_1 = 0xf;
                                          }
 else {
                                             iVar1 = strcmp(__s1, "Feature disabled");
                                             if (iVar1 == 0) {
                                                *(undefined4*)param_1 = 0x10;
                                             }
 else {
                                                iVar1 = strcmp(__s1, "Bad NURBS geometry");
                                                if (iVar1 == 0) {
                                                   *(undefined4*)param_1 = 0x11;
                                                }
 else {
                                                   iVar1 = strcmp(__s1, "Bad index");
                                                   if (iVar1 == 0) {
                                                      *(undefined4*)param_1 = 0x12;
                                                   }
 else {
                                                      iVar1 = strcmp(__s1, "Node depth limit exceeded");
                                                      if (iVar1 == 0) {
                                                         *(undefined4*)param_1 = 0x13;
                                                      }
 else {
                                                         iVar1 = strcmp(__s1, "Threaded ASCII parse error");
                                                         if (iVar1 == 0) {
                                                            *(undefined4*)param_1 = 0x14;
                                                         }
 else {
                                                            iVar1 = strcmp(__s1, "Unsafe options");
                                                            if (iVar1 == 0) {
                                                               *(undefined4*)param_1 = 0x15;
                                                            }
 else {
                                                               iVar1 = strcmp(__s1, "Duplicate override");
                                                               if (iVar1 == 0) {
                                                                  *(undefined4*)param_1 = 0x16;
                                                               }

                                                            }

                                                         }

                                                      }

                                                   }

                                                }

                                             }

                                          }

                                       }

                                    }

                                 }

                              }

                           }

                        }

                     }

                  }

               }

            }

         }

      }

   }

   param_1[1] = __s1;
   sVar2 = strlen(__s1);
   param_1[2] = sVar2;
   if (param_3 != (undefined8*)0x0) {
      *param_3 = *param_1;
      param_3[0x4c] = param_1[0x4c];
      lVar4 = (long)param_3 - (long)( ( ulong )(param_3 + 1) & 0xfffffffffffffff8 );
      puVar5 = (undefined8*)( (long)param_1 - lVar4 );
      puVar6 = (undefined8*)( ( ulong )(param_3 + 1) & 0xfffffffffffffff8 );
      for (uVar3 = ( ulong )((int)lVar4 + 0x268U >> 3); uVar3 != 0; uVar3 = uVar3 - 1) {
         *puVar6 = *puVar5;
         puVar5 = puVar5 + (ulong)bVar7 * -2 + 1;
         puVar6 = puVar6 + (ulong)bVar7 * -2 + 1;
      }

   }

   return;
}
void ufbxi_end_file_context(long param_1, long param_2, char param_3) {
   undefined8 *puVar1;
   undefined8 uVar2;
   puVar1 = *(undefined8**)( param_1 + 0x268 );
   if (puVar1 == (undefined8*)0x0) {
      ufbxi_free_ator(param_1 + 0x270);
   }
 else {
      *(undefined8*)( param_1 + 0x270 ) = *puVar1;
      uVar2 = *(undefined8*)( param_1 + 0x278 );
      *puVar1 = *(undefined8*)( param_1 + 0x270 );
      puVar1[1] = uVar2;
      for (int i = 0; i < 7; i++) {
         uVar2 = *(undefined8*)( param_1 + ( 16*i + 648 ) );
         puVar1[( 2*i + 2 )] = *(undefined8*)( param_1 + ( 16*i + 640 ) );
         puVar1[( 2*i + 3 )] = uVar2;
      }

      puVar1[0x10] = *(undefined8*)( param_1 + 0x2f0 );
   }

   if (param_2 != 0) {
      if (param_3 == '\0') {
         ufbxi_fix_error_type(param_1, "Failed to open file", param_2);
         return;
      }

      ufbxi_clear_error(param_2);
      return;
   }

   return;
}
undefined8 ufbxi_is_array_node(long param_1, undefined4 param_2, char *param_3, char *param_4) {
   byte bVar1;
   char cVar2;
   byte bVar3;
   int iVar4;
   char *pcVar5;
   bVar1 = *(byte*)( param_1 + 0x495 );
   param_4[1] = bVar1;
   switch (param_2) {
      case 3:
    if (param_3 != "ImageData") {
      return 0;
    }
    param_4[0] = 'c';
    param_4[1] = '\x01';
    break;
      default:
    pcVar5 = "BinaryData";
    goto joined_r0x0010678c;
      case 10:
      case 0xb:
    if (param_3 == "Vertices") goto LAB_00106878;
    if (param_3 != "PolygonVertexIndex") {
      if (param_3 == "Edges") {
        *param_4 = (-(*(char *)(param_1 + 0x350) == '\0') & 0x3cU) + 0x2d;
        return 1;
      }
      if (param_3 != "Indexes") {
        if ((((param_3 == "Points") || (param_3 == "KnotVector")) || (param_3 == "KnotVectorU")) ||
           (param_3 == "KnotVectorV")) goto LAB_00106922;
        if (param_3 != "PointsIndex") goto LAB_00106860;
      }
    }
    goto LAB_00106968;
      case 0xd:
    if ((param_3 != "Vertices") && (param_3 != "Normals")) {
      if ((param_3 != "Materials") && (param_3 != "PolygonVertexIndex")) {
        if (param_3 == "Children") {
          *param_4 = 's';
          return 1;
        }
        return 0;
      }
      goto LAB_00106968;
    }
    goto LAB_00106878;
      case 0x14:
    if (param_3 == "KeyTime") {
      *param_4 = (-(*(char *)(param_1 + 0x351) == '\0') & 0x3fU) + 0x2d;
    }
    else if (param_3 == "KeyValueFloat") {
      *param_4 = (-(*(char *)(param_1 + 0x351) == '\0') & 0x45U) + 0x2d;
    }
    else {
      if (param_3 != "KeyAttrFlags") {
        if (param_3 == "KeyAttrDataFloat") {
          if (*(char *)(param_1 + 0x274) == '\0') {
            if (*(char *)(param_1 + 0x351) != '\0') {
              *param_4 = '-';
              return 1;
            }
            *param_4 = 'f';
            return 1;
          }
          bVar3 = -(*(char *)(param_1 + 0x351) == '\0');
          if (0x1c1f < *(uint *)(param_1 + 0x268)) {
            param_4[1] = bVar1 | 8;
            *param_4 = (bVar3 & 0x3c) + 0x2d;
            return 1;
          }
          *param_4 = (bVar3 & 0x39) + 0x2d;
          return 1;
        }
        if (param_3 != "KeyAttrRefCount") {
          return 0;
        }
      }
      *param_4 = (-(*(char *)(param_1 + 0x351) == '\0') & 0x3cU) + 0x2d;
    }
    break;
      case 0x15:
    if ((param_3 == "Transform") || (param_3 == "TransformLink")) goto LAB_00106cec;
    if (param_3 == "Indexes") goto LAB_00106968;
    if ((param_3 != "Weights") && (param_3 != "BlendWeights")) {
      if (param_3 == "FullWeights") {
        *param_4 = 'r';
        if ((*(char *)(param_1 + 0x35c) == '\0') && (*(int *)(param_1 + 0x26c) == 2)) {
          *param_4 = '-';
        }
        param_4[1] = bVar1 | 2;
        return 1;
      }
      pcVar5 = "TransformAssociateModel";
      goto LAB_00106dac;
    }
    goto LAB_00106922;
      case 0x16:
    if (param_3 != "Transform") {
      return 0;
    }
    goto LAB_00106d58;
      case 0x17:
    if ((param_3 != "Transform") && (param_3 != "TransformLink")) {
      if (param_3 == "Indexes") goto LAB_00106968;
      pcVar5 = "Weights";
      goto joined_r0x0010691c;
    }
    goto LAB_00106cec;
      case 0x19:
    if (param_3 != "Matrix") {
      return 0;
    }
LAB_00106cec:
    *param_4 = 'r';
    break;
      case 0x1a:
    iVar4 = strcmp(param_3,"ModelUVTranslation");
    if (iVar4 != 0) {
      iVar4 = strcmp(param_3,"ModelUVScaling");
      pcVar5 = "Cropping";
      if (iVar4 != 0) {
LAB_00106dac:
        iVar4 = strcmp(param_3,pcVar5);
        if (iVar4 != 0) {
          return 0;
        }
      }
    }
    goto LAB_00106d58;
      case 0x1b:
      case 0x1f:
    pcVar5 = "Content";
joined_r0x0010678c:
    if (param_3 != pcVar5) {
      return 0;
    }
    *param_4 = (-(*(char *)(param_1 + 0x352) == '\0') & 0x16U) + 0x2d;
    break;
      case 0x1c:
    if (param_3 == "BlendModes") {
      *param_4 = 'i';
      param_4[1] = bVar1 | 2;
    }
    else {
      if (param_3 != "Alphas") {
        return 0;
      }
      *param_4 = 'r';
      param_4[1] = bVar1 | 2;
    }
    break;
      case 0x1d:
    if (((param_3 != "VertexIndexArray") && (param_3 != "EdgeIndexArray")) &&
       (param_3 != "PolygonIndexArray")) {
      return 0;
    }
    param_4[0] = 'i';
    param_4[1] = '\x01';
    break;
      case 0x21:
    if (param_3 != "Normals") {
      if (param_3 != "NormalsIndex") {
        pcVar5 = "NormalsW";
joined_r0x001068c0:
        if (param_3 == pcVar5) {
          cVar2 = *(char *)(param_1 + 0x1bd2);
          param_4[1] = '\x05';
          *param_4 = (-(cVar2 == '\0') & 0xbbU) + 0x72;
          return 1;
        }
        return 0;
      }
      goto LAB_00106968;
    }
    goto LAB_00106878;
      case 0x22:
    if (param_3 != "Binormals") {
      if (param_3 != "BinormalsIndex") {
        pcVar5 = "BinormalsW";
        goto joined_r0x001068c0;
      }
      goto LAB_00106968;
    }
    goto LAB_00106878;
      case 0x23:
    if (param_3 != "Tangents") {
      if (param_3 != "TangentsIndex") {
        pcVar5 = "TangentsW";
        goto joined_r0x001068c0;
      }
      goto LAB_00106968;
    }
    goto LAB_00106878;
      case 0x24:
    if (param_3 != "UV") {
      pcVar5 = "UVIndex";
      goto joined_r0x00106a94;
    }
    goto LAB_00106878;
      case 0x25:
    if (param_3 != "Colors") {
      pcVar5 = "ColorIndex";
      goto joined_r0x00106a94;
    }
    goto LAB_00106878;
      case 0x26:
    if (param_3 != "VertexCrease") {
      pcVar5 = "VertexCreaseIndex";
      goto joined_r0x00106a94;
    }
    goto LAB_00106878;
      case 0x27:
    pcVar5 = "EdgeCrease";
joined_r0x0010691c:
    if (param_3 != pcVar5) {
      return 0;
    }
LAB_00106922:
    cVar2 = *(char *)(param_1 + 0x350);
    param_4[1] = '\x01';
    *param_4 = (-(cVar2 == '\0') & 0x45U) + 0x2d;
    break;
      case 0x28:
    pcVar5 = "Smoothing";
    goto joined_r0x00106bd4;
      case 0x29:
    pcVar5 = "Visibility";
    goto joined_r0x00106bd4;
      case 0x2a:
    pcVar5 = "PolygonGroup";
    goto joined_r0x00106a94;
      case 0x2b:
    pcVar5 = "Hole";
joined_r0x00106bd4:
    if (param_3 != pcVar5) {
      return 0;
    }
    cVar2 = *(char *)(param_1 + 0x350);
    param_4[1] = '\x01';
    *param_4 = (-(cVar2 == '\0') & 0x35U) + 0x2d;
    break;
      case 0x2c:
    pcVar5 = "Materials";
joined_r0x00106a94:
    if (param_3 != pcVar5) {
      return 0;
    }
LAB_00106968:
    cVar2 = *(char *)(param_1 + 0x350);
    param_4[1] = '\x01';
    *param_4 = (-(cVar2 == '\0') & 0x3cU) + 0x2d;
    break;
      case 0x2d:
    if (param_3 == "TextureId") {
      cVar2 = *(char *)(param_1 + 0x350);
      param_4[1] = bVar1 | 2;
      *param_4 = (-(cVar2 == '\0') & 0x3cU) + 0x2d;
      return 1;
    }
    if (param_3 != "UV") {
      if (param_3 == "UVIndex") {
        *param_4 = (-(bVar1 == 0) & 0xc4U) + 0x69;
        return 1;
      }
      return 0;
    }
LAB_00106d58:
    *param_4 = (-(bVar1 == 0) & 0xbbU) + 0x72;
    break;
      case 0x2e:
    if (param_3 != "TextureUV") {
      if (param_3 == "TextureUVVerticeIndex") {
        cVar2 = *(char *)(param_1 + 0x350);
        param_4[1] = '\x05';
        *param_4 = (-(cVar2 == '\0') & 0x3cU) + 0x2d;
        return 1;
      }
      return 0;
    }
    goto LAB_00106878;
      case 0x2f:
    if (param_3 == "Indexes") goto LAB_00106968;
    if (param_3 != "Vertices") {
LAB_00106860:
      if (param_3 != "Normals") {
        return 0;
      }
    }
LAB_00106878:
    cVar2 = *(char *)(param_1 + 0x350);
    param_4[1] = '\x05';
    *param_4 = (-(cVar2 == '\0') & 0x45U) + 0x2d;
    break;
      case 0x32:
    if (param_3 != "Key") {
      return 0;
    }
    *param_4 = (-(*(char *)(param_1 + 0x351) == '\0') & 0x37U) + 0x2d;
   }

   return 1;
}
undefined1 ufbxi_read_nurbs_topology(char *param_1) {
   int iVar1;
   undefined1 uVar2;
   iVar1 = strcmp(param_1, "Open");
   uVar2 = 0;
   if (iVar1 != 0) {
      iVar1 = strcmp(param_1, "Closed");
      uVar2 = 2;
      if (iVar1 != 0) {
         iVar1 = strcmp(param_1, "Periodic");
         uVar2 = iVar1 == 0;
      }

   }

   return uVar2;
}
long *ufbxi_next_prop_slow(long *param_1) {
   uint uVar1;
   long *plVar2;
   long lVar3;
   long lVar4;
   long lVar5;
   long lVar6;
   long lVar7;
   long lVar8;
   long lVar9;
   long lVar10;
   int iVar11;
   uint uVar12;
   plVar2 = (long*)*param_1;
   lVar3 = param_1[2];
   if ((long*)param_1[1] == plVar2) {
      if (lVar3 == param_1[3]) {
         return (long*)0x0;
      }

      uVar12 = *(uint*)( lVar3 + 4 );
      iVar11 = 1;
      if (uVar12 != 0xffffffff) goto LAB_00106fe0;
   }
 else {
      uVar1 = *(uint*)( plVar2 + 2 );
      if (lVar3 == param_1[3]) {
         if (uVar1 != 0xffffffff) goto LAB_00107085;
      }
 else {
         uVar12 = *(uint*)( lVar3 + 4 );
         if (uVar1 != uVar12) {
            if (uVar12 <= uVar1) {
               iVar11 = 1;
               goto LAB_00106fe0;
            }

            goto LAB_00107085;
         }

      }

   }

   iVar11 = strcmp((char*)*plVar2, *(char**)( lVar3 + 8 ));
   if (iVar11 < 0) {
      LAB_00107085:*param_1 = (long)( plVar2 + 0xd );
      return plVar2;
   }

   uVar12 = *(uint*)( lVar3 + 4 );
   LAB_00106fe0:lVar5 = *(long*)( lVar3 + 8 );
   lVar6 = *(long*)( lVar3 + 0x10 );
   *(uint*)( param_1 + 6 ) = uVar12;
   *(undefined8*)( (long)param_1 + 0x34 ) = 0x2000000000000;
   lVar4 = *(long*)( lVar3 + 0x38 );
   lVar7 = *(long*)( lVar3 + 0x38 );
   lVar8 = *(long*)( lVar3 + 0x40 );
   lVar9 = *(long*)( lVar3 + 0x18 );
   lVar10 = *(long*)( lVar3 + 0x20 );
   param_1[4] = lVar5;
   param_1[5] = lVar6;
   param_1[10] = lVar4;
   lVar5 = *(long*)( lVar3 + 0x28 );
   lVar6 = *(long*)( lVar3 + 0x30 );
   param_1[8] = lVar7;
   param_1[9] = lVar8;
   param_1[0xb] = param_1[9];
   lVar4 = *(long*)( lVar3 + 0x48 );
   param_1[2] = lVar3 + 0x50;
   param_1[0xc] = lVar4;
   param_1[0xd] = lVar9;
   param_1[0xe] = lVar10;
   param_1[0xf] = lVar5;
   param_1[0x10] = lVar6;
   if (iVar11 == 0) {
      *param_1 = (long)( plVar2 + 0xd );
   }

   return param_1 + 4;
}
undefined8 ufbxi_remove_prefix_len(long *param_1, void *param_2, ulong param_3) {
   ulong uVar1;
   void *__s1;
   int iVar2;
   undefined8 uVar3;
   uVar3 = 0;
   uVar1 = param_1[1];
   if (param_3 <= uVar1) {
      __s1 = (void*)*param_1;
      iVar2 = memcmp(__s1, param_2, param_3);
      if (iVar2 == 0) {
         uVar3 = 1;
         *param_1 = (long)__s1 + param_3;
         param_1[1] = uVar1 - param_3;
      }

   }

   return uVar3;
}
undefined8 ufbxi_remove_suffix_len(long *param_1, void *param_2, ulong param_3) {
   int iVar1;
   long lVar2;
   undefined8 uVar3;
   uVar3 = 0;
   if (param_3 <= (ulong)param_1[1]) {
      lVar2 = param_1[1] - param_3;
      iVar1 = memcmp((void*)( *param_1 + lVar2 ), param_2, param_3);
      if (iVar1 == 0) {
         param_1[1] = lVar2;
         uVar3 = 1;
      }

   }

   return uVar3;
}
uint ufbxi_map_cmp_string(undefined8 param_1, undefined8 *param_2, undefined8 *param_3) {
   ulong uVar1;
   ulong uVar2;
   uint uVar3;
   ulong __n;
   uVar1 = param_2[1];
   uVar2 = param_3[1];
   __n = uVar2;
   if (uVar1 <= uVar2) {
      __n = uVar1;
   }

   uVar3 = memcmp((void*)*param_2, (void*)*param_3, __n);
   if (( uVar3 == 0 ) && ( uVar1 != uVar2 )) {
      uVar3 = -(uint)(uVar1 < uVar2) | 1;
   }

   return uVar3;
}
uint ufbxi_cmp_tmp_material_texture_less(int *param_1, int *param_2) {
   int iVar1;
   int iVar2;
   ulong uVar3;
   ulong uVar4;
   int iVar5;
   uint uVar6;
   uint uVar7;
   ulong __n;
   bool bVar8;
   iVar1 = *param_2;
   iVar2 = *param_1;
   bVar8 = SBORROW4(iVar2, iVar1);
   iVar5 = iVar2 - iVar1;
   if (iVar2 == iVar1) {
      iVar1 = param_2[1];
      iVar2 = param_1[1];
      bVar8 = SBORROW4(iVar2, iVar1);
      iVar5 = iVar2 - iVar1;
      if (iVar2 == iVar1) {
         uVar3 = *(ulong*)( param_1 + 4 );
         uVar4 = *(ulong*)( param_2 + 4 );
         __n = uVar4;
         if (uVar3 <= uVar4) {
            __n = uVar3;
         }

         uVar6 = memcmp(*(void**)( param_1 + 2 ), *(void**)( param_2 + 2 ), __n);
         uVar7 = ( uint )(uVar3 < uVar4);
         if (uVar6 != 0) {
            uVar7 = uVar6 >> 0x1f;
         }

         return uVar7;
      }

   }

   return ( uint )(bVar8 != iVar5 < 0);
}
ulong ufbxi_material_texture_less(undefined8 param_1, undefined8 *param_2, undefined8 *param_3) {
   ulong uVar1;
   uint uVar2;
   ulong __n;
   undefined8 extraout_RDX;
   ulong uVar3;
   uVar3 = param_2[1];
   uVar1 = param_3[1];
   __n = uVar1;
   if (uVar3 <= uVar1) {
      __n = uVar3;
   }

   uVar2 = memcmp((void*)*param_2, (void*)*param_3, __n);
   uVar3 = CONCAT71(( int7 )((ulong)extraout_RDX >> 8), uVar3 < uVar1) & 0xffffffff;
   if (uVar2 != 0) {
      uVar3 = ( ulong )(uVar2 >> 0x1f);
   }

   return uVar3;
}
ulong ufbxi_file_content_less(undefined8 param_1, undefined8 *param_2, undefined8 *param_3) {
   ulong uVar1;
   uint uVar2;
   ulong __n;
   undefined8 extraout_RDX;
   ulong uVar3;
   uVar3 = param_2[1];
   uVar1 = param_3[1];
   __n = uVar1;
   if (uVar3 <= uVar1) {
      __n = uVar3;
   }

   uVar2 = memcmp((void*)*param_2, (void*)*param_3, __n);
   uVar3 = CONCAT71(( int7 )((ulong)extraout_RDX >> 8), uVar3 < uVar1) & 0xffffffff;
   if (uVar2 != 0) {
      uVar3 = ( ulong )(uVar2 >> 0x1f);
   }

   return uVar3;
}
void ufbxi_fetch_file_content(long param_1, undefined8 *param_2, undefined8 *param_3) {
   long lVar1;
   void *__s2;
   ulong uVar2;
   long lVar3;
   undefined8 uVar4;
   ulong uVar5;
   int iVar6;
   undefined8 *puVar7;
   ulong uVar8;
   ulong __n;
   ulong uVar9;
   if (param_3[1] != 0) {
      return;
   }

   __s2 = (void*)*param_2;
   uVar2 = param_2[1];
   lVar3 = *(long*)( param_1 + 0x21e0 );
   uVar8 = *(ulong*)( param_1 + 0x21e8 );
   uVar9 = 0;
   uVar5 = uVar8;
   do {
      while (true) {
         if (uVar8 < 9) {
            if (uVar5 <= uVar9) {
               return;
            }

            do {
               if (*(void**)( lVar3 + uVar9 * 0x20 ) == __s2) {
                  puVar7 = (undefined8*)( lVar3 + 0x10 + uVar9 * 0x20 );
                  uVar4 = puVar7[1];
                  *param_3 = *puVar7;
                  param_3[1] = uVar4;
                  return;
               }

               uVar9 = uVar9 + 1;
            }
 while ( uVar9 != uVar5 );
            return;
         }

         lVar1 = ( uVar8 >> 1 ) + uVar9;
         puVar7 = (undefined8*)( lVar1 * 0x20 + lVar3 );
         uVar8 = puVar7[1];
         __n = uVar2;
         if (uVar8 <= uVar2) {
            __n = uVar8;
         }

         iVar6 = memcmp((void*)*puVar7, __s2, __n);
         if (iVar6 != 0) break;
         if (uVar8 < uVar2) goto LAB_001072cd;
         LAB_0010730e:uVar8 = ( lVar1 + 1U ) - uVar9;
         uVar5 = lVar1 + 1U;
      }
;
      if (-1 < iVar6) goto LAB_0010730e;
      LAB_001072cd:uVar9 = lVar1 + 1;
      uVar8 = uVar5 - uVar9;
   }
 while ( true );
}
int ufbxi_update_parse_state(undefined4 param_1, char *param_2) {
   int iVar1;
   int iVar2;
   switch (param_1) {
      case 0:
    if (param_2 == "FBXHeaderExtension") {
      return 1;
    }
    if (param_2 == "Definitions") {
      return 4;
    }
    if (param_2 == "Objects") {
      return 5;
    }
    if (param_2 == "Connections") {
      return 6;
    }
    if (param_2 == "Takes") {
      return 8;
    }
    if (param_2 == "Model") {
      return 0xd;
    }
    iVar1 = strcmp(param_2,"References");
    iVar2 = 0x12;
    if (iVar1 != 0) {
      iVar1 = strcmp(param_2,"Relations");
      iVar2 = 7;
      if (iVar1 != 0) {
        if (param_2 == "Media") {
          return 0xe;
        }
        iVar1 = strcmp(param_2,"Switcher");
        iVar2 = 0x10;
        if (iVar1 != 0) {
          iVar2 = strcmp(param_2,"SceneGenericPersistence");
          return (-(uint)(iVar2 == 0) & 0xffffffde) + 0x33;
        }
      }
    }
    break;
      case 1:
    if (param_2 != "FBXVersion") {
      iVar2 = 2;
      if (param_2 != "SceneInfo") {
        iVar2 = 0x33;
      }
      return iVar2;
    }
    return 9;
      case 2:
    iVar2 = 3;
    if (param_2 != "Thumbnail") {
      iVar2 = 0x33;
    }
    return iVar2;
      case 3:
      case 4:
      case 6:
      case 7:
      case 9:
      case 0xc:
      case 0x10:
      case 0x11:
      case 0x13:
      case 0x14:
      case 0x16:
      case 0x17:
      case 0x19:
      case 0x1a:
      case 0x1b:
      case 0x1c:
      case 0x1d:
      case 0x1e:
      case 0x1f:
      case 0x20:
      case 0x21:
      case 0x22:
      case 0x23:
      case 0x24:
      case 0x25:
      case 0x26:
      case 0x27:
      case 0x28:
      case 0x29:
      case 0x2a:
      case 0x2b:
      case 0x2c:
      case 0x2d:
      case 0x2e:
      case 0x2f:
    iVar2 = 0x33;
    break;
      case 5:
    if (param_2 == "Model") {
      return 10;
    }
    if (param_2 == "Geometry") {
      return 0xb;
    }
    if (param_2 == "NodeAttribute") {
      return 0xc;
    }
    if (param_2 == "AnimationCurve") {
      return 0x14;
    }
    if (param_2 == "Deformer") {
      return 0x15;
    }
    if (param_2 == "Pose") {
      return 0x18;
    }
    if (param_2 == "Texture") {
      return 0x1a;
    }
    if (param_2 == "Video") {
      return 0x1b;
    }
    if (param_2 == "LayeredTexture") {
      return 0x1c;
    }
    if (param_2 != "SelectionNode") {
      if (param_2 != "Collection") {
        return (param_2 != "Audio") + 0x1f;
      }
      return 0x1e;
    }
    return 0x1d;
      case 8:
    return (uint)(param_2 != "Take") * 3 + 0x30;
      case 10:
      case 0xb:
    if (*param_2 == 'L') {
      if (param_2 == "LayerElementNormal") {
        return 0x21;
      }
      if (param_2 == "LayerElementBinormal") {
        return 0x22;
      }
      if (param_2 == "LayerElementTangent") {
        return 0x23;
      }
      if (param_2 == "LayerElementUV") {
        return 0x24;
      }
      if (param_2 == "LayerElementColor") {
        return 0x25;
      }
      if (param_2 == "LayerElementVertexCrease") {
        return 0x26;
      }
      if (param_2 == "LayerElementEdgeCrease") {
        return 0x27;
      }
      if (param_2 == "LayerElementSmoothing") {
        return 0x28;
      }
      if (param_2 == "LayerElementVisibility") {
        return 0x29;
      }
      if (param_2 == "LayerElementPolygonGroup") {
        return 0x2a;
      }
      if (param_2 == "LayerElementHole") {
        return 0x2b;
      }
      if (param_2 == "LayerElementMaterial") {
        return 0x2c;
      }
      iVar2 = strncmp(param_2,"LayerElement",0xc);
      if (iVar2 == 0) {
        return 0x2d;
      }
    }
    goto LAB_001073d1;
      case 0xd:
    if (param_2 == "GeometryUVInfo") {
      return 0x2e;
    }
    if (param_2 == "Link") {
      return 0x17;
    }
    if (param_2 == "Channel") {
      return 0x32;
    }
LAB_001073d1:
    return (uint)(param_2 != "Shape") * 4 + 0x2f;
      case 0xe:
    iVar2 = 0xf;
    if (param_2 != "Video") {
      iVar2 = 0x33;
    }
    return iVar2;
      case 0xf:
    return 0x1b;
      case 0x12:
    return 0x13;
      case 0x15:
    iVar2 = strcmp(param_2,"AssociateModel");
    return (-(uint)(iVar2 == 0) & 0xffffffe3) + 0x33;
      case 0x18:
    iVar2 = 0x19;
    if (param_2 != "PoseNode") {
      iVar2 = 0x33;
    }
    return iVar2;
      case 0x30:
    return 0x31;
      case 0x31:
      case 0x32:
    return (param_2 != "Channel") + 0x32;
      default:
    return 0x33;
   }

   return iVar2;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */undefined8 ufbxi_solve_auto_tangent(double param_1, double param_2, double param_3, double param_4, double param_5, double param_6, float param_7, float param_8, long param_9, uint param_10) {
   double dVar1;
   undefined1 auVar3[16];
   double dVar2;
   ulong uVar5;
   undefined8 uVar6;
   undefined1 auVar4[16];
   double dVar7;
   undefined8 in_XMM4_Qb;
   undefined8 in_XMM5_Qb;
   double dVar8;
   double dVar9;
   float in_stack_00000008;
   if (( param_10 & 0x1000 ) != 0) {
      dVar1 = fmin((double)( ( ulong )(param_6 - param_5) & _LC97 ), (double)( ( ulong )(param_4 - param_5) & _LC97 ));
      in_XMM4_Qb = 0;
      in_XMM5_Qb = 0;
      if (dVar1 <= *(double*)( param_9 + 0x488 )) {
         return 0;
      }

   }

   auVar3._0_8_ = ( param_6 - param_4 ) / ( param_3 - param_1 );
   auVar3._8_8_ = in_XMM5_Qb;
   if (( param_10 & 0x2000 ) == 0) {
      dVar1 = ( param_5 - param_4 ) / ( param_2 - param_1 );
      dVar8 = ( param_2 - param_1 ) / ( param_3 - param_1 );
      dVar9 = ( param_6 - param_5 ) / ( param_3 - param_2 );
      dVar7 = (double)(float)( (uint)in_stack_00000008 & __LC61 ) / _LC9;
      auVar3._0_8_ = auVar3._0_8_ * _LC60 + ( dVar8 * dVar9 + ( _LC0 - dVar8 ) * dVar1 ) * _LC60;
      if (__LC62 < dVar7) {
         if (0.0 < in_stack_00000008) {
            dVar1 = dVar9;
            in_XMM4_Qb = in_XMM5_Qb;
         }

         dVar8 = dVar7 - __LC63;
         dVar7 = dVar1 * dVar7 + ( _LC0 - dVar7 ) * auVar3._0_8_;
         if (dVar8 <= 0.0) {
            auVar3._8_8_ = in_XMM4_Qb;
            auVar3._0_8_ = dVar7;
         }
 else {
            dVar1 = dVar1 - auVar3._0_8_;
            if ((double)( (ulong)dVar1 & _LC97 ) <= __LC64) {
               dVar1 = (double)in_stack_00000008;
            }

            dVar9 = _LC0;
            if (dVar1 <= 0.0) {
               dVar9 = _LC17;
            }

            auVar3._8_8_ = 0;
            auVar3._0_8_ = dVar8 * dVar8 * dVar9 * __LC65 + dVar7;
         }

      }

   }

   if (( param_10 & 0x4000 ) == 0) goto LAB_00107b72;
   dVar1 = _LC0;
   if (auVar3._0_8_ < 0.0) {
      uVar5 = auVar3._8_8_;
      auVar3._0_8_ = (double)( (ulong)auVar3._0_8_ ^ _LC15 );
      auVar3._8_8_ = uVar5 ^ _UNK_0014ea88;
      dVar1 = _LC17;
   }

   dVar7 = ( param_3 - param_2 ) * (double)param_8;
   dVar9 = (double)param_7 * ( param_2 - param_1 );
   dVar8 = auVar3._0_8_;
   uVar6 = auVar3._8_8_;
   if (dVar9 <= 0.0) {
      if (0.0 < dVar7) {
         dVar7 = ( ( param_6 - param_5 ) * dVar1 ) / dVar7;
         LAB_00107bbb:if (0.0 < dVar7) {
            dVar7 = (double)( ~-(ulong)(0.0 < dVar8) & (ulong)dVar8 );
            goto LAB_00107b6a;
         }

      }

      LAB_00107bd8:dVar7 = (double)( ~-(ulong)(0.0 < dVar8) & (ulong)dVar8 );
   }
 else {
      dVar9 = ( ( param_5 - param_4 ) * dVar1 ) / dVar9;
      if (dVar7 <= 0.0) {
         if (dVar9 <= 0.0) goto LAB_00107bd8;
         LAB_00107b87:dVar7 = 0.0;
         in_XMM5_Qb = 0;
         uVar6 = in_XMM5_Qb;
         dVar2 = dVar8;
         if (dVar8 <= dVar9) goto LAB_00107b66;
      }
 else {
         dVar7 = ( ( param_6 - param_5 ) * dVar1 ) / dVar7;
         if (dVar9 <= 0.0) goto LAB_00107bbb;
         if (dVar7 <= 0.0) goto LAB_00107b87;
         dVar2 = dVar9;
         if (dVar8 <= dVar9) {
            dVar2 = dVar8;
         }

         LAB_00107b66:uVar6 = in_XMM5_Qb;
         if (dVar2 <= dVar7) {
            dVar7 = dVar2;
         }

      }

   }

   LAB_00107b6a:auVar3._8_8_ = uVar6;
   auVar3._0_8_ = dVar7 * dVar1;
   LAB_00107b72:auVar4._4_12_ = auVar3._4_12_;
   auVar4._0_4_ = (float)auVar3._0_8_;
   return auVar4._0_8_;
}
undefined1(*)[16];ufbxi_slow_normalized_cross3(undefined1 (*param_1)[16], double *param_2, double *param_3) {
   double dVar1;
   double dVar2;
   double dVar3;
   double dVar4;
   dVar3 = param_3[2] * param_2[1] - param_2[2] * param_3[1];
   dVar4 = *param_3 * param_2[2] - *param_2 * param_3[2];
   dVar2 = param_3[1] * *param_2 - param_2[1] * *param_3;
   dVar1 = SQRT(dVar3 * dVar3 + dVar4 * dVar4 + dVar2 * dVar2);
   if (_LC66 < dVar1) {
      dVar1 = _LC0 / dVar1;
      *(double*)param_1[1] = dVar1 * dVar2;
      *(double*)*param_1 = dVar1 * dVar3;
      *(double*)( *param_1 + 8 ) = dVar1 * dVar4;
      return param_1;
   }

   *(undefined8*)param_1[1] = 0;
   *param_1 = (undefined1[16])0x0;
   return param_1;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */void ufbxi_mat_transform_unknown_shininess(double *param_1) {
   double dVar1;
   if (( 0.0 <= *param_1 ) && ( dVar1 = _LC0 - SQRT(*param_1) * __LC67 ),*param_1 = dVar1,0.0 <= dVar1) {
      return;
   }

   *param_1 = 0.0;
   return;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */void ufbxi_update_camera(long param_1, long param_2) {
   double dVar1;
   undefined4 uVar2;
   uint uVar3;
   long lVar4;
   long lVar5;
   int iVar6;
   int iVar7;
   ulong uVar8;
   ulong uVar9;
   bool bVar10;
   double extraout_XMM0_Qa;
   double dVar11;
   double dVar12;
   double dVar13;
   double dVar14;
   double dVar15;
   double dVar16;
   double dVar17;
   double dVar18;
   double dVar19;
   double dVar20;
   double dVar21;
   double local_68;
   uint local_54;
   ulong local_50;
   double local_48;
   double local_40;
   lVar5 = param_2 + 0x10;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "CameraProjectionType", 0x43616d65);
   if (lVar4 == 0) {
      LAB_00108160:uVar2 = 0;
      uVar9 = 0;
   }
 else {
      uVar9 = *(ulong*)( lVar4 + 0x40 );
      uVar2 = (undefined4)uVar9;
      if (1 < uVar9) goto LAB_00108160;
   }

   *(undefined4*)( param_2 + 0x80 ) = uVar2;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "AspectRatioMode", 0x41737065);
   if (lVar4 == 0) {
      iVar7 = 0;
   }
 else {
      iVar7 = (int)*(ulong*)( lVar4 + 0x40 );
      if (4 < *(ulong*)( lVar4 + 0x40 )) {
         iVar7 = 0;
      }

   }

   *(int*)( param_2 + 0x104 ) = iVar7;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "ApertureMode", 0x41706572);
   if (lVar4 == 0) {
      iVar6 = 2;
   }
 else {
      iVar6 = (int)*(ulong*)( lVar4 + 0x40 );
      if (3 < *(ulong*)( lVar4 + 0x40 )) {
         iVar6 = 2;
      }

   }

   *(int*)( param_2 + 0x108 ) = iVar6;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "ApertureFormat", 0x41706572);
   if (( lVar4 == 0 ) || ( local_50 = 0xb < local_50 )) {
      uVar3 = 0;
      local_50 = 0;
   }
 else {
      uVar3 = (uint)local_50;
   }

   *(uint*)( param_2 + 0x110 ) = uVar3;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "GateFit", 0x47617465);
   if (( lVar4 == 0 ) || ( uVar8 = 5 < uVar8 )) {
      local_54 = 0;
      uVar8 = 0;
   }
 else {
      local_54 = (uint)uVar8;
   }

   dVar11 = 0.0;
   *(uint*)( param_2 + 0x10c ) = local_54;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "NearPlane", 0x4e656172);
   if (lVar4 != 0) {
      dVar11 = *(double*)( lVar4 + 0x48 );
   }

   lVar4 = ufbxi_find_prop_with_key(lVar5, "FarPlane", 0x46617250);
   dVar12 = 0.0;
   if (lVar4 != 0) {
      dVar12 = *(double*)( lVar4 + 0x48 );
   }

   ufbxi_find_prop_with_key(0, lVar5, "AspectW", 0x41737065);
   dVar17 = 0.0;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "AspectH", 0x41737065);
   if (lVar4 != 0) {
      dVar17 = *(double*)( lVar4 + 0x48 );
   }

   ufbxi_find_prop_with_key(lVar5, "AspectWidth", 0x41737065);
   lVar4 = ufbxi_find_prop_with_key(lVar5, "AspectHeight", 0x41737065);
   if (lVar4 != 0) {
      dVar17 = *(double*)( lVar4 + 0x48 );
   }

   lVar4 = ufbxi_find_prop_with_key(lVar5, "FieldOfView", 0x4669656c);
   local_68 = 0.0;
   if (lVar4 != 0) {
      local_68 = *(double*)( lVar4 + 0x48 );
   }

   lVar4 = ufbxi_find_prop_with_key(lVar5, "FieldOfViewX", 0x4669656c);
   local_40 = 0.0;
   if (lVar4 != 0) {
      local_40 = *(double*)( lVar4 + 0x48 );
   }

   lVar4 = ufbxi_find_prop_with_key(lVar5, "FieldOfViewY", 0x4669656c);
   local_48 = 0.0;
   if (lVar4 != 0) {
      local_48 = *(double*)( lVar4 + 0x48 );
   }

   dVar21 = 0.0;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "FocalLength", 0x466f6361);
   if (lVar4 != 0) {
      dVar21 = *(double*)( lVar4 + 0x48 );
   }

   dVar13 = *(double*)( param_1 + 0x1a0 );
   lVar4 = ufbxi_find_prop_with_key(lVar5, "OrthoZoom", 0x4f727468);
   if (lVar4 != 0) {
      dVar13 = dVar13 * *(double*)( lVar4 + 0x48 );
   }

   dVar20 = _LC0;
   if (local_50 == 7) {
      dVar20 = _LC68;
   }

   lVar4 = ufbxi_find_prop_with_key(lVar5, "FilmWidth", 0x46696c6d);
   if (lVar4 == 0) {
      dVar19 = (double)*(ushort*)( ufbxi_aperture_formats + (ulong)uVar3 * 4 ) * _LC69;
   }
 else {
      dVar19 = *(double*)( lVar4 + 0x48 );
   }

   dVar18 = dVar19;
   dVar16 = dVar21;
   lVar4 = ufbxi_find_prop_with_key(lVar5, "FilmHeight", 0x46696c6d);
   if (lVar4 == 0) {
      dVar14 = (double)*(ushort*)( ufbxi_aperture_formats + (ulong)uVar3 * 4 + 2 ) * _LC69;
   }
 else {
      dVar14 = *(double*)( lVar4 + 0x48 );
   }

   lVar5 = ufbxi_find_prop_with_key(lVar5, "FilmSqueezeRatio", 0x46696c6d);
   if (lVar5 != 0) {
      dVar20 = *(double*)( lVar5 + 0x48 );
   }

   if (extraout_XMM0_Qa <= 0.0) {
      if (dVar17 <= 0.0) {
         dVar15 = dVar18;
         if (dVar18 <= 0.0) {
            dVar15 = _LC0;
         }

         dVar17 = dVar14;
         if (dVar14 <= 0.0) {
            dVar17 = _LC0;
         }

      }
 else {
         dVar15 = dVar17;
         if (( 0.0 < dVar18 ) && ( 0.0 < dVar14 )) {
            dVar15 = ( dVar17 / dVar14 ) * dVar18;
         }

      }

   }
 else {
      dVar15 = extraout_XMM0_Qa;
      if (( ( dVar17 <= 0.0 ) && ( dVar15 = extraout_XMM0_Qa ),dVar17 = extraout_XMM0_Qa,0.0 < dVar18 )) {
         dVar15 = extraout_XMM0_Qa;
         dVar17 = ( extraout_XMM0_Qa / dVar18 ) * dVar14;
      }

   }

   dVar14 = dVar14 * dVar20;
   dVar1 = *(double*)( param_1 + 0x208 );
   dVar13 = dVar13 * dVar1;
   if (iVar7 == 3) {
      dVar17 = dVar17 * dVar15;
      bVar10 = true;
   }
 else if (iVar7 == 4) {
      dVar15 = dVar15 * dVar17;
      bVar10 = true;
   }
 else {
      bVar10 = iVar7 == 2;
   }

   *(double*)( param_2 + 0xf0 ) = dVar1 * dVar12;
   *(bool*)( param_2 + 0x84 ) = bVar10;
   *(double*)( param_2 + 0x88 ) = dVar15;
   *(double*)( param_2 + 0x90 ) = dVar17;
   dVar15 = dVar15 / dVar17;
   *(double*)( param_2 + 0x118 ) = dVar21;
   *(double*)( param_2 + 0x120 ) = dVar19;
   *(double*)( param_2 + 0x128 ) = dVar14;
   *(double*)( param_2 + 0x140 ) = dVar20;
   *(double*)( param_2 + 0xb8 ) = dVar13;
   *(double*)( param_2 + 0xe0 ) = dVar15;
   *(double*)( param_2 + 0xe8 ) = dVar11 * dVar1;
   dVar11 = dVar13;
   if (uVar8 == 3) {
      if (dVar15 <= dVar18 / dVar14) {
         LAB_001081d2:*(double*)( param_2 + 0x130 ) = dVar14 * dVar15;
         *(double*)( param_2 + 0x138 ) = dVar14;
         dVar13 = dVar13 * dVar15;
         goto LAB_001081ed;
      }

   }
 else {
      if (uVar8 != 4) {
         if (( local_54 != 5 ) && ( local_54 < 3 )) {
            if (local_54 == 1) goto LAB_001081d2;
            if (local_54 == 2) goto LAB_00108134;
         }

         *(undefined8*)( param_2 + 0x130 ) = *(undefined8*)( param_2 + 0x120 );
         *(undefined8*)( param_2 + 0x138 ) = *(undefined8*)( param_2 + 0x128 );
         goto LAB_001081ed;
      }

      if (dVar18 / dVar14 <= dVar15) goto LAB_001081d2;
   }

   LAB_00108134:*(double*)( param_2 + 0x130 ) = dVar18;
   *(double*)( param_2 + 0x138 ) = dVar18 / dVar15;
   dVar11 = dVar13 / dVar15;
   LAB_001081ed:*(double*)( param_2 + 0xc0 ) = dVar13;
   *(double*)( param_2 + 200 ) = dVar11;
   dVar11 = _LC60;
   if (iVar6 == 2) {
      dVar11 = tan(local_68 * _LC70);
      dVar12 = atan(dVar15 * dVar11);
      dVar12 = dVar12 * _LC71;
      *(double*)( param_2 + 0xa8 ) = dVar15 * dVar11;
      *(double*)( param_2 + 0xb0 ) = dVar11;
      *(double*)( param_2 + 0x98 ) = dVar12 + dVar12;
      *(double*)( param_2 + 0xa0 ) = local_68;
   }
 else if (iVar6 == 3) {
      dVar16 = dVar16 * __LC72;
      dVar12 = ( *(double*)( param_2 + 0x130 ) / dVar16 ) * _LC60;
      *(double*)( param_2 + 0xa8 ) = dVar12;
      dVar11 = ( *(double*)( param_2 + 0x138 ) / dVar16 ) * dVar11;
      *(double*)( param_2 + 0xb0 ) = dVar11;
      dVar12 = atan(dVar12);
      dVar11 = atan(dVar11);
      dVar11 = dVar11 * _LC71;
      *(double*)( param_2 + 0x98 ) = dVar12 * _LC71 + dVar12 * _LC71;
      *(double*)( param_2 + 0xa0 ) = dVar11 + dVar11;
   }
 else if (iVar6 == 1) {
      dVar11 = tan(local_68 * _LC70);
      dVar12 = atan(dVar11 / dVar15);
      dVar12 = dVar12 * _LC71;
      *(double*)( param_2 + 0xa8 ) = dVar11;
      *(double*)( param_2 + 0xb0 ) = dVar11 / dVar15;
      *(double*)( param_2 + 0x98 ) = local_68;
      *(double*)( param_2 + 0xa0 ) = dVar12 + dVar12;
   }
 else {
      dVar11 = tan(_LC70 * local_40);
      dVar12 = tan(_LC70 * local_48);
      *(double*)( param_2 + 0x98 ) = local_40;
      *(double*)( param_2 + 0xa0 ) = local_48;
      *(double*)( param_2 + 0xa8 ) = dVar11;
      *(double*)( param_2 + 0xb0 ) = dVar12;
   }

   if (uVar9 == 0) {
      *(undefined8*)( param_2 + 0xd0 ) = *(undefined8*)( param_2 + 0xa8 );
      *(undefined8*)( param_2 + 0xd8 ) = *(undefined8*)( param_2 + 0xb0 );
      return;
   }

   *(undefined8*)( param_2 + 0xd0 ) = *(undefined8*)( param_2 + 0xc0 );
   *(undefined8*)( param_2 + 0xd8 ) = *(undefined8*)( param_2 + 200 );
   return;
}
void ufbxi_retain_ref(long param_1) {
   LOCK();
   *(long*)( param_1 + 0x120 ) = *(long*)( param_1 + 0x120 ) + 1;
   UNLOCK();
   return;
}
void ufbxi_init_ref(undefined8 param_1, undefined4 param_2, long param_3) {
   undefined8 *puVar1;
   undefined1 auVar2[16];
   auVar2._8_8_ = param_3;
   auVar2._0_8_ = param_1;
   if (param_3 != 0) {
      auVar2 = ufbxi_retain_ref(param_3);
   }

   puVar1 = auVar2._0_8_;
   puVar1[0x24] = 0;
   *(undefined4*)( puVar1 + 2 ) = 0x46455255;
   *(undefined4*)( (long)puVar1 + 0x14 ) = param_2;
   *puVar1 = auVar2._8_8_;
   return;
}
double ufbxi_pow_abs(double param_1, double param_2) {
   double dVar1;
   double local_10;
   dVar1 = _LC0;
   if (( 0.0 < param_2 ) && ( dVar1 = param_2 < _LC0 )) {
      if (param_1 < 0.0) {
         local_10 = _LC17;
         param_1 = (double)( (ulong)param_1 ^ _LC15 );
      }
 else {
         local_10 = _LC0;
      }

      dVar1 = pow(param_1, param_2);
      return local_10 * dVar1;
   }

   return dVar1;
}
double ufbxi_ngon_tri_weight(double *param_1) {
   double dVar1;
   double dVar2;
   double dVar3;
   double dVar4;
   double dVar5;
   double dVar6;
   double dVar7;
   double dVar8;
   double local_30;
   dVar1 = param_1[2];
   dVar5 = param_1[3];
   dVar7 = *param_1;
   dVar2 = param_1[1];
   dVar6 = param_1[5] - dVar2;
   dVar3 = param_1[4] - dVar7;
   if (0.0 < ( dVar1 - dVar7 ) * dVar6 - ( dVar5 - dVar2 ) * dVar3) {
      dVar8 = dVar5 - param_1[5];
      dVar4 = dVar1 - param_1[4];
      dVar3 = dVar3 * dVar3 + dVar6 * dVar6;
      dVar7 = ( dVar7 - dVar1 ) * ( dVar7 - dVar1 ) + ( dVar2 - dVar5 ) * ( dVar2 - dVar5 );
      dVar5 = dVar4 * dVar4 + dVar8 * dVar8;
      dVar1 = dVar7 * _LC74 * dVar5;
      if (dVar1 < 0.0) {
         dVar1 = sqrt(dVar1);
      }
 else {
         dVar1 = SQRT(dVar1);
      }

      dVar2 = dVar5 * _LC74 * dVar3;
      if (dVar2 < 0.0) {
         dVar2 = sqrt(dVar2);
      }
 else {
         dVar2 = SQRT(dVar2);
      }

      local_30 = dVar3 * _LC74 * dVar7;
      if (local_30 < 0.0) {
         local_30 = sqrt(local_30);
      }
 else {
         local_30 = SQRT(local_30);
      }

      dVar1 = fmax(( ( dVar5 + dVar7 ) - dVar3 ) / dVar1, ( ( dVar3 + dVar5 ) - dVar7 ) / dVar2);
      dVar1 = fmax(dVar1, ( ( dVar3 + dVar7 ) - dVar5 ) / local_30);
      dVar1 = fmax(_LC68 - dVar1, _LC66);
      return dVar1;
   }

   return _LC17;
}
bool ufbxi_postprocess_step(double param_1, double param_2, long param_3, double *param_4, uint param_5) {
   uint uVar1;
   double dVar2;
   double dVar3;
   double dVar4;
   double dVar5;
   uVar1 = *(uint*)( param_3 + 0x6c0 );
   if (uVar1 == 2) {
      return true;
   }

   dVar2 = *param_4;
   if (uVar1 < 3) {
      dVar5 = _LC69;
      dVar4 = _LC75;
      if (uVar1 != 0) {
         dVar5 = *(double*)( param_3 + 0x6c8 );
         dVar4 = _LC0 + *(double*)( param_3 + 0x6d0 );
      }

      if (( param_5 & 1 ) == 0) {
         if (param_2 <= 0.0) {
            dVar3 = dVar4 * param_2;
         }
 else {
            dVar3 = param_2 / dVar4;
         }

         dVar3 = fmin(param_2 - dVar5, dVar3);
         if (dVar2 <= 0.0) {
            dVar4 = dVar2 / dVar4;
         }
 else {
            dVar4 = dVar4 * dVar2;
         }

         dVar2 = fmax(dVar5 + dVar2, dVar4);
         *param_4 = dVar2;
         return dVar2 < dVar3;
      }

      if (param_1 <= 0.0) {
         dVar3 = param_1 / dVar4;
      }
 else {
         dVar3 = dVar4 * param_1;
      }

      dVar3 = fmax(param_1 + dVar5, dVar3);
      if (dVar2 <= 0.0) {
         dVar4 = dVar4 * dVar2;
      }
 else {
         dVar4 = dVar2 / dVar4;
      }

      dVar2 = fmin(dVar2 - dVar5, dVar4);
      *param_4 = dVar2;
      return dVar3 < dVar2;
   }

   if (uVar1 != 3) {
      return false;
   }

   if (( param_5 & 1 ) == 0) {
      dVar2 = nextafter(dVar2, _LC275);
      *param_4 = dVar2;
      return dVar2 < param_2;
   }

   dVar2 = nextafter(dVar2, _LC76);
   *param_4 = dVar2;
   return param_1 < dVar2;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */void ufbxi_panicf_imp(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8, char *param_9, undefined8 param_10, undefined8 param_11, undefined8 param_12, undefined8 param_13, undefined8 param_14) {
   char in_AL;
   int iVar1;
   long in_FS_OFFSET;
   undefined4 local_160;
   undefined4 local_15c;
   undefined1 *local_158;
   undefined1 *local_150;
   undefined1 local_148[136];
   long local_c0;
   undefined1 local_b8[16];
   undefined8 local_a8;
   undefined8 local_a0;
   undefined8 local_98;
   undefined8 local_90;
   undefined8 local_88;
   undefined8 local_78;
   undefined8 local_68;
   undefined8 local_58;
   undefined8 local_48;
   undefined8 local_38;
   undefined8 local_28;
   undefined8 local_18;
   if (in_AL != '\0') {
      local_88 = param_1;
      local_78 = param_2;
      local_68 = param_3;
      local_58 = param_4;
      local_48 = param_5;
      local_38 = param_6;
      local_28 = param_7;
      local_18 = param_8;
   }

   local_c0 = *(long*)( in_FS_OFFSET + 0x28 );
   local_a8 = param_11;
   local_a0 = param_12;
   local_98 = param_13;
   local_90 = param_14;
   if (param_9 == (char*)0x0) {
      local_158 = &stack0x00000008;
      local_150 = local_b8;
      local_160 = 0x10;
      local_15c = 0x30;
      ufbxi_vsnprintf(local_148, 0x80, param_10, &local_160);
      __fprintf_chk(_stderr, 2, "ufbx panic: %s\n", local_148);
   }
 else if (*param_9 == '\0') {
      *param_9 = '\x01';
      local_158 = &stack0x00000008;
      local_160 = 0x10;
      local_150 = local_b8;
      local_15c = 0x30;
      iVar1 = ufbxi_vsnprintf(param_9 + 0x10, 0x80, param_10, &local_160);
      *(long*)( param_9 + 8 ) = (long)iVar1;
   }

   if (local_c0 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_huff_build(undefined8 param_1, byte *param_2, uint param_3, undefined8 param_4, undefined8 param_5, undefined8 param_6) {
   byte bVar1;
   byte *pbVar2;
   long in_FS_OFFSET;
   undefined1 local_58[16];
   undefined1 local_48[16];
   undefined1 local_38[16];
   undefined1 local_28[16];
   long local_10;
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   local_58 = (undefined1[16])0x0;
   local_48 = (undefined1[16])0x0;
   local_38 = (undefined1[16])0x0;
   local_28 = (undefined1[16])0x0;
   pbVar2 = param_2;
   do {
      bVar1 = *pbVar2;
      pbVar2 = pbVar2 + 1;
      *(int*)( local_58 + (ulong)bVar1 * 4 ) = *(int*)( local_58 + (ulong)bVar1 * 4 ) + 1;
   }
 while ( param_2 + param_3 != pbVar2 );
   ufbxi_huff_build_imp(param_1, param_2, param_3, param_4, param_5, param_6, local_58);
   if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */void ufbxi_init_static_huff(long param_1, long param_2) {
   undefined4 uVar1;
   long in_FS_OFFSET;
   undefined8 local_168;
   undefined8 uStack_160;
   undefined8 local_158;
   undefined8 uStack_150;
   undefined8 local_148;
   undefined8 uStack_140;
   undefined8 local_138;
   undefined8 uStack_130;
   undefined8 local_128;
   undefined8 uStack_120;
   undefined8 local_118;
   undefined8 uStack_110;
   undefined8 local_108;
   undefined8 uStack_100;
   undefined8 local_f8;
   undefined8 uStack_f0;
   undefined8 local_e8;
   undefined8 uStack_e0;
   undefined8 local_d8;
   undefined8 uStack_d0;
   undefined8 local_c8;
   undefined8 uStack_c0;
   undefined8 local_b8;
   undefined8 uStack_b0;
   undefined8 local_a8;
   undefined8 uStack_a0;
   undefined8 local_98;
   undefined8 uStack_90;
   undefined8 local_88;
   undefined8 uStack_80;
   undefined8 local_78;
   undefined8 uStack_70;
   undefined8 local_68;
   undefined8 uStack_60;
   undefined8 local_58;
   undefined8 uStack_50;
   undefined8 local_48;
   undefined8 uStack_40;
   undefined8 local_38;
   undefined8 local_30;
   long local_20;
   uStack_140 = _UNK_0014eb08;
   local_148 = __LC79;
   uVar1 = 10;
   local_20 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_2 != 0) {
      uVar1 = 10;
      if (*(long*)( param_2 + 0x68 ) != 0) {
         uVar1 = ( undefined4 ) * (long*)( param_2 + 0x68 );
      }

   }

   *(undefined4*)( param_1 + 0x1c80 ) = uVar1;
   local_138 = local_148;
   uStack_130 = uStack_140;
   local_128 = local_148;
   uStack_120 = uStack_140;
   local_118 = local_148;
   uStack_110 = uStack_140;
   local_108 = local_148;
   uStack_100 = uStack_140;
   local_f8 = local_148;
   uStack_f0 = uStack_140;
   local_e8 = local_148;
   uStack_e0 = uStack_140;
   local_d8 = local_148;
   uStack_d0 = uStack_140;
   local_c8 = local_148;
   uStack_c0 = uStack_140;
   local_38 = 0x707070707070707;
   local_b8 = __LC80;
   uStack_b0 = _UNK_0014eb18;
   local_a8 = __LC80;
   uStack_a0 = _UNK_0014eb18;
   local_98 = __LC80;
   uStack_90 = _UNK_0014eb18;
   local_88 = __LC80;
   uStack_80 = _UNK_0014eb18;
   local_78 = __LC80;
   uStack_70 = _UNK_0014eb18;
   local_68 = __LC80;
   uStack_60 = _UNK_0014eb18;
   local_58 = __LC80;
   uStack_50 = _UNK_0014eb18;
   local_30 = 0x808080808080808;
   local_48 = __LC81;
   uStack_40 = _UNK_0014eb28;
   ufbxi_huff_build(param_1, &local_148, 0x120, ufbxi_deflate_length_lut, 0x100, uVar1);
   local_168 = __LC82;
   uStack_160 = _UNK_0014eb38;
   local_158 = __LC82;
   uStack_150 = _UNK_0014eb38;
   ufbxi_huff_build(param_1 + 0xe40, &local_168, 0x20, ufbxi_deflate_dist_lut, 0, uVar1);
   if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
long ufbxi_init_dynamic_huff_tree(long param_1, long param_2, undefined8 param_3, uint param_4, undefined8 param_5, undefined4 param_6, undefined4 param_7) {
   ulong uVar1;
   uint uVar2;
   long lVar3;
   int iVar4;
   ulong uVar5;
   ulong uVar6;
   ulong uVar7;
   ulong uVar8;
   byte bVar9;
   ushort uVar10;
   ulong uVar11;
   uint uVar12;
   int iVar13;
   long *plVar14;
   long in_FS_OFFSET;
   uint local_1cc;
   undefined1 local_1a8[16];
   undefined1 local_198[16];
   undefined1 local_188[16];
   undefined1 local_178[16];
   byte local_168[296];
   long local_40;
   uVar5 = 0;
   uVar8 = *(ulong*)( param_1 + 0x70 );
   uVar6 = *(ulong*)( param_1 + 0x78 );
   plVar14 = *(long**)( param_1 + 0x30 );
   uVar12 = 0;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   local_1a8 = (undefined1[16])0x0;
   local_198 = (undefined1[16])0x0;
   local_188 = (undefined1[16])0x0;
   local_178 = (undefined1[16])0x0;
   do {
      iVar4 = (int)uVar5;
      if (*(long**)( param_1 + 0x38 ) < plVar14) {
         plVar14 = (long*)ufbxi_bit_yield(param_1, plVar14);
         if (*(char*)( param_1 + 0x98 ) != '\0') goto LAB_0010902c;
         uVar7 = *plVar14 << ( (byte)uVar6 & 0x3f );
         plVar14 = (long*)( (long)plVar14 + ( 0x3f - uVar6 >> 3 ) );
      }
 else {
         uVar7 = *plVar14 << ( (byte)uVar6 & 0x3f );
         plVar14 = (long*)( (long)plVar14 + ( 0x3f - uVar6 >> 3 ) );
         if (*(char*)( param_1 + 0x98 ) != '\0') {
            LAB_0010902c:lVar3 = -7;
            goto LAB_00109033;
         }

      }

      uVar8 = uVar7 | uVar8;
      uVar10 = *(ushort*)( param_2 + ( uVar8 & 0xff ) * 2 );
      uVar2 = (uint)uVar10;
      if (( uVar10 & 0xa0 ) == 0) {
         if (( uVar10 & 0x1f ) == 0) {
            uVar2 = ( uint )(byte)(uVar10 >> 8);
            uVar7 = uVar8 >> 8 & 0xffffffff;
            uVar1 = 9;
            do {
               uVar11 = uVar1;
               uVar2 = uVar2 * 2 | (uint)uVar7 & 1;
               uVar7 = uVar7 >> 1;
               uVar1 = uVar11 + 1;
            }
 while ( *(ushort*)( param_2 + 0xdf8 + uVar11 * 2 ) <= uVar2 );
            uVar2 = ( uint ) * (ushort*)( param_2 + 0xaf8 + (long)(int)( uVar2 + (int)*(short*)( param_2 + 0xe18 + ( uVar11 & 0xffffffff ) * 2 ) ) * 2 );
         }
 else {
            uVar2 = ( uint ) * (ushort*)( param_2 + 0x800 + ( ulong )(( uint )(uVar10 >> 7) + ( ( uint )(uVar10 & 0x1f) & ( uint )(uVar8 >> 8) )) * 2 );
         }

      }

      uVar10 = (ushort)uVar2 >> 8;
      uVar8 = uVar8 >> ( (byte)uVar2 & 0x1f );
      uVar6 = ( uVar6 | 0x38 ) - ( ulong )(uVar2 & 0x1f);
      if ((ushort)uVar2 < 0x1000) {
         local_1cc = iVar4 + 1;
         bVar9 = ( byte )(uVar2 >> 8);
         local_168[uVar5] = bVar9;
         *(int*)( local_1a8 + (ulong)bVar9 * 4 ) = *(int*)( local_1a8 + (ulong)bVar9 * 4 ) + 1;
         uVar12 = (uint)uVar10;
      }
 else {
         uVar2 = (uint)uVar8;
         if (uVar10 == 0x10) {
            uVar6 = uVar6 - 2;
            uVar8 = uVar8 >> 2;
            iVar13 = ( uVar2 & 3 ) + 3;
            local_1cc = iVar13 + iVar4;
            if (param_4 < local_1cc) {
               lVar3 = -3;
               goto LAB_00109033;
            }

            __memset_chk(local_168 + uVar5, uVar12, iVar13, 0x120 - uVar5);
            *(int*)( local_1a8 + (long)(int)uVar12 * 4 ) = *(int*)( local_1a8 + (long)(int)uVar12 * 4 ) + iVar13;
         }
 else {
            if (uVar10 == 0x11) {
               uVar6 = uVar6 - 3;
               uVar8 = uVar8 >> 3;
               iVar13 = ( uVar2 & 7 ) + 3;
               local_1cc = iVar13 + iVar4;
               if (param_4 < local_1cc) {
                  lVar3 = -4;
                  goto LAB_00109033;
               }

            }
 else {
               if (uVar10 != 0x12) {
                  lVar3 = -6;
                  goto LAB_00109033;
               }

               uVar6 = uVar6 - 7;
               uVar8 = uVar8 >> 7;
               iVar13 = ( uVar2 & 0x7f ) + 0xb;
               local_1cc = iVar13 + iVar4;
               if (param_4 < local_1cc) {
                  lVar3 = -5;
                  goto LAB_00109033;
               }

            }

            __memset_chk(local_168 + uVar5, 0, iVar13, 0x120 - uVar5);
            local_1a8._0_4_ = local_1a8._0_4_ + iVar13;
            uVar12 = 0;
         }

      }

      uVar5 = (ulong)local_1cc;
   }
 while ( local_1cc < param_4 );
   lVar3 = ufbxi_huff_build_imp(param_3, local_168, param_4, param_5, param_6, param_7, local_1a8);
   if (lVar3 == 0) {
      *(ulong*)( param_1 + 0x70 ) = uVar8;
      *(ulong*)( param_1 + 0x78 ) = uVar6;
      *(long**)( param_1 + 0x30 ) = plVar14;
   }

   LAB_00109033:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return lVar3;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
long ufbxi_init_dynamic_huff(long param_1, long param_2) {
   byte bVar1;
   ulong uVar2;
   ulong uVar3;
   long lVar4;
   byte *pbVar5;
   long *plVar6;
   ulong uVar7;
   ulong uVar8;
   long in_FS_OFFSET;
   undefined1 local_e98[3648];
   undefined1 local_58[15];
   undefined4 uStack_49;
   long local_40;
   uVar7 = *(ulong*)( param_1 + 0x70 );
   uVar8 = *(ulong*)( param_1 + 0x78 );
   plVar6 = *(long**)( param_1 + 0x30 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (*(long**)( param_1 + 0x38 ) < plVar6) {
      plVar6 = (long*)ufbxi_bit_yield();
      if (*(char*)( param_1 + 0x98 ) == '\0') {
         uVar2 = *plVar6 << ( (byte)uVar8 & 0x3f );
         plVar6 = (long*)( (long)plVar6 + ( 0x3f - uVar8 >> 3 ) );
         goto LAB_0010921c;
      }

   }
 else {
      uVar2 = *plVar6 << ( (byte)uVar8 & 0x3f );
      plVar6 = (long*)( (long)plVar6 + ( 0x3f - uVar8 >> 3 ) );
      if (*(char*)( param_1 + 0x98 ) == '\0') {
         LAB_0010921c:uVar7 = uVar7 | uVar2;
         uVar2 = ( uVar8 | 0x38 ) - 0xe;
         pbVar5 = &ufbxi_deflate_code_length_permutation;
         *(undefined4*)( param_2 + 0x1c80 ) = *(undefined4*)( param_1 + 0x1a0 );
         local_58 = SUB1615((undefined1[16])0x0, 0);
         uStack_49 = 0;
         uVar8 = uVar7 >> 0xe;
         do {
            if (pbVar5 == &UNK_0014b07e) {
               if (*(long**)( param_1 + 0x38 ) < plVar6) {
                  plVar6 = (long*)ufbxi_bit_yield(param_1);
                  if (*(char*)( param_1 + 0x98 ) != '\0') goto LAB_001092d8;
                  uVar3 = 0x3f - uVar2;
                  uVar8 = uVar8 | *plVar6 << ( (byte)uVar2 & 0x3f );
                  uVar2 = uVar2 | 0x38;
                  plVar6 = (long*)( (long)plVar6 + ( uVar3 >> 3 ) );
               }
 else {
                  uVar8 = uVar8 | *plVar6 << ( (byte)uVar2 & 0x3f );
                  uVar3 = 0x3f - uVar2;
                  uVar2 = uVar2 | 0x38;
                  plVar6 = (long*)( (long)plVar6 + ( uVar3 >> 3 ) );
                  if (*(char*)( param_1 + 0x98 ) != '\0') goto LAB_001092d8;
               }

            }

            bVar1 = *pbVar5;
            pbVar5 = pbVar5 + 1;
            uVar3 = uVar8 >> 3;
            uVar2 = uVar2 - 3;
            local_58[bVar1] = (byte)uVar8 & 7;
            uVar8 = uVar3;
         }
 while ( pbVar5 != &DAT_0014b074 + ( ( uint )(uVar7 >> 10) & 0xf ) );
         *(long**)( param_1 + 0x30 ) = plVar6;
         *(ulong*)( param_1 + 0x70 ) = uVar3;
         *(ulong*)( param_1 + 0x78 ) = uVar2;
         lVar4 = ufbxi_huff_build(local_e98, local_58, 0x13, 0, 0x7fffffff, 8);
         if (lVar4 != 0) {
            lVar4 = lVar4 + -0xd;
            goto LAB_001092df;
         }

         lVar4 = ufbxi_init_dynamic_huff_tree(param_1, local_e98, param_2, ( (uint)uVar7 & 0x1f ) + 0x101, ufbxi_deflate_length_lut, 0x100, *(undefined4*)( param_1 + 0x1a0 ));
         if (lVar4 == 0) {
            lVar4 = ufbxi_init_dynamic_huff_tree(param_1, local_e98, param_2 + 0xe40, ( ( uint )(uVar7 >> 5) & 0x1f ) + 1, ufbxi_deflate_dist_lut, 0, *(undefined4*)( param_1 + 0x1a0 ));
            if (lVar4 == 0) goto LAB_001092df;
            if (lVar4 != -7) {
               lVar4 = lVar4 + -0x15;
               goto LAB_001092df;
            }

         }
 else if (lVar4 != -7) {
            lVar4 = lVar4 + -0xf;
            goto LAB_001092df;
         }

      }

   }

   LAB_001092d8:lVar4 = -0x1c;
   LAB_001092df:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return lVar4;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_init_ator(undefined8 param_1, undefined8 *param_2, undefined8 *param_3, undefined8 param_4) {
   undefined8 uVar1;
   long lVar2;
   long lVar3;
   long in_FS_OFFSET;
   undefined1 local_58[16];
   undefined1 local_48[16];
   undefined1 local_38[16];
   undefined1 local_28[16];
   undefined8 local_18;
   long local_10;
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_3 == (undefined8*)0x0) {
      local_18 = 0;
      local_58 = (undefined1[16])0x0;
      local_48 = (undefined1[16])0x0;
      local_38 = (undefined1[16])0x0;
      local_28 = (undefined1[16])0x0;
      param_3 = (undefined8*)local_58;
   }

   uVar1 = param_3[1];
   param_2[7] = *param_3;
   param_2[8] = uVar1;
   for (int i = 0; i < 3; i++) {
      uVar1 = param_3[( 2*i + 3 )];
      param_2[( 2*i + 9 )] = param_3[( 2*i + 2 )];
      param_2[( 2*i + 10 )] = uVar1;
   }

   uVar1 = param_3[8];
   *param_2 = param_1;
   param_2[0xf] = uVar1;
   lVar3 = param_3[5];
   if (lVar3 == 0) {
      lVar3 = -1;
   }

   param_2[2] = lVar3;
   lVar3 = param_3[6];
   if (lVar3 == 0) {
      lVar3 = -1;
   }

   param_2[4] = lVar3;
   lVar3 = param_3[7];
   lVar2 = param_3[8];
   param_2[0x10] = param_4;
   if (lVar3 == 0) {
      lVar3 = 0x100000;
   }

   param_2[5] = lVar3;
   if (lVar2 == 0) {
      lVar2 = 0x1000000;
   }

   param_2[6] = lVar2;
   if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_begin_file_context(undefined8 *param_1, undefined8 *param_2, undefined8 param_3) {
   undefined8 uVar1;
   undefined8 uVar2;
   long lVar3;
   undefined8 *puVar4;
   puVar4 = param_1;
   for (lVar3 = 0x5f; lVar3 != 0; lVar3 = lVar3 + -1) {
      *puVar4 = 0;
      puVar4 = puVar4 + 1;
   }

   if (param_2 != (undefined8*)0x0) {
      uVar1 = *param_2;
      uVar2 = param_2[1];
      param_1[0x4d] = param_2;
      param_1[0x4e] = uVar1;
      param_1[0x4f] = uVar2;
      for (int i = 0; i < 7; i++) {
         uVar1 = param_2[( 2*i + 3 )];
         param_1[( 2*i + 80 )] = param_2[( 2*i + 2 )];
         param_1[( 2*i + 81 )] = uVar1;
      }

      uVar1 = param_2[0x10];
      param_1[0x4e] = param_1;
      param_1[0x5e] = uVar1;
      return;
   }

   ufbxi_init_ator(param_1, param_1 + 0x4e, param_3, &_LC83);
   return;
}
ulong ufbxi_less_external_file(undefined8 param_1, uint *param_2, uint *param_3) {
   ulong uVar1;
   ulong uVar2;
   uint uVar3;
   ulong uVar4;
   bool bVar5;
   if (*param_2 != *param_3) {
      return CONCAT71(( int7 )((ulong)param_3 >> 8), *param_2 < *param_3) & 0xffffffff;
   }

   uVar1 = *(ulong*)( param_2 + 4 );
   uVar2 = *(ulong*)( param_3 + 4 );
   uVar4 = uVar2;
   if (uVar1 <= uVar2) {
      uVar4 = uVar1;
   }

   uVar3 = memcmp(*(void**)( param_2 + 2 ), *(void**)( param_3 + 2 ), uVar4);
   uVar4 = ( ulong )(uVar3 >> 0x1f);
   if (uVar3 == 0) {
      bVar5 = uVar1 < uVar2;
      if (( uVar1 == uVar2 ) && ( bVar5 = *(ulong*)( param_2 + 10 ) < *(ulong*)( param_3 + 10 ) * (ulong*)( param_2 + 10 ) == *(ulong*)( param_3 + 10 ) )) {
         return 0;
      }

      uVar4 = (ulong)bVar5;
   }

   return uVar4;
}
uint ufbxi_prop_override_prop_name_less(undefined8 param_1, long param_2, long param_3) {
   ulong uVar1;
   ulong uVar2;
   uint uVar3;
   uint uVar4;
   ulong __n;
   if (*(uint*)( param_2 + 4 ) != *(uint*)( param_3 + 4 )) {
      return ( uint )(*(uint*)( param_2 + 4 ) < *(uint*)( param_3 + 4 ));
   }

   uVar1 = *(ulong*)( param_2 + 0x10 );
   uVar2 = *(ulong*)( param_3 + 0x10 );
   __n = uVar2;
   if (uVar1 <= uVar2) {
      __n = uVar1;
   }

   uVar4 = memcmp(*(void**)( param_2 + 8 ), *(void**)( param_3 + 8 ), __n);
   uVar3 = ( uint )(uVar1 < uVar2);
   if (uVar4 != 0) {
      uVar3 = uVar4 >> 0x1f;
   }

   return uVar3;
}
void ufbxi_memory_close(undefined8 *param_1) {
   long in_FS_OFFSET;
   undefined8 local_a8;
   undefined8 uStack_a0;
   undefined8 local_98;
   undefined8 uStack_90;
   undefined8 local_88;
   undefined8 uStack_80;
   undefined8 local_78;
   undefined8 uStack_70;
   undefined8 local_68;
   undefined8 uStack_60;
   undefined8 local_58;
   undefined8 uStack_50;
   undefined8 local_48;
   undefined8 uStack_40;
   undefined8 local_38;
   undefined8 uStack_30;
   undefined8 local_28;
   long local_20;
   local_20 = *(long*)( in_FS_OFFSET + 0x28 );
   if ((code*)param_1[3] != (code*)0x0) {
      ( *(code*)param_1[3] )(param_1[4], *param_1, param_1[1]);
   }

   if (param_1[6] == 0) {
      local_a8 = param_1[7];
      uStack_a0 = param_1[8];
      local_98 = param_1[9];
      uStack_90 = param_1[10];
      local_28 = param_1[0x17];
      local_88 = param_1[0xb];
      uStack_80 = param_1[0xc];
      local_78 = param_1[0xd];
      uStack_70 = param_1[0xe];
      local_68 = param_1[0xf];
      uStack_60 = param_1[0x10];
      local_58 = param_1[0x11];
      uStack_50 = param_1[0x12];
      local_48 = param_1[0x13];
      uStack_40 = param_1[0x14];
      local_38 = param_1[0x15];
      uStack_30 = param_1[0x16];
      ufbxi_free_size(&local_a8, 1, param_1, param_1[5]);
      ufbxi_free_ator(&local_a8);
      if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return;
      }

   }
 else if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
      ufbxi_free_size(param_1[6], 1, param_1, param_1[5]);
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
uint ufbxi_prop_override_less(undefined8 param_1, uint *param_2, uint *param_3) {
   uint uVar1;
   bool bVar2;
   uVar1 = *param_3;
   bVar2 = *param_2 < uVar1;
   if (*param_2 == uVar1) {
      uVar1 = param_3[1];
      bVar2 = param_2[1] < uVar1;
      if (param_2[1] == uVar1) {
         uVar1 = strcmp(*(char**)( param_2 + 2 ), *(char**)( param_3 + 2 ));
         return uVar1 >> 0x1f;
      }

   }

   return CONCAT31(( int3 )(uVar1 >> 8), bVar2);
}
uint ufbxi_bake_prop_less(undefined8 param_1, uint *param_2, uint *param_3) {
   uint uVar1;
   bool bVar2;
   uVar1 = *param_3;
   bVar2 = *param_2 < uVar1;
   if (*param_2 == uVar1) {
      uVar1 = param_3[1];
      bVar2 = param_2[1] < uVar1;
      if (param_2[1] == uVar1) {
         if (*(char**)( param_2 + 2 ) != *(char**)( param_3 + 2 )) {
            uVar1 = strcmp(*(char**)( param_2 + 2 ), *(char**)( param_3 + 2 ));
            return uVar1 >> 0x1f;
         }

         return 0;
      }

   }

   return CONCAT31(( int3 )(uVar1 >> 8), bVar2);
}
void ufbx_add_blend_shape_vertex_offsets_part_0(double param_1, long param_2, long param_3, ulong param_4) {
   uint *puVar1;
   double *pdVar2;
   double dVar3;
   double dVar4;
   uint *puVar5;
   double *pdVar6;
   puVar5 = *(uint**)( param_2 + 0x88 );
   pdVar6 = *(double**)( param_2 + 0x98 );
   if (*(long*)( param_2 + 0x80 ) != 0) {
      puVar1 = puVar5 + *(long*)( param_2 + 0x80 );
      do {
         if (*puVar5 < param_4) {
            dVar3 = *pdVar6;
            dVar4 = pdVar6[1];
            pdVar2 = (double*)( param_3 + ( ulong ) * puVar5 * 0x18 );
            pdVar2[2] = pdVar6[2] * param_1 + pdVar2[2];
            *pdVar2 = dVar3 * param_1 + *pdVar2;
            pdVar2[1] = dVar4 * param_1 + pdVar2[1];
         }

         puVar5 = puVar5 + 1;
         pdVar6 = pdVar6 + 3;
      }
 while ( puVar5 != puVar1 );
   }

   return;
}
void ufbxi_free_scene_imp_constprop_0(long param_1) {
   ufbxi_buf_free(param_1 + 0x708);
   return;
}
void ufbxi_release_ref(long *param_1) {
   long lVar1;
   long *plVar2;
   long in_FS_OFFSET;
   long local_f8;
   long lStack_f0;
   long local_e8;
   long lStack_e0;
   long local_d8;
   long lStack_d0;
   long local_c8;
   long lStack_c0;
   long local_b8;
   long lStack_b0;
   long local_a8;
   long lStack_a0;
   long local_98;
   long lStack_90;
   long local_88;
   long lStack_80;
   long local_78;
   undefined1 *local_68;
   long lStack_60;
   long local_58;
   long lStack_50;
   long local_48;
   long lStack_40;
   long local_38;
   long lStack_30;
   long local_20;
   local_20 = *(long*)( in_FS_OFFSET + 0x28 );
   do {
      LOCK();
      plVar2 = param_1 + 0x24;
      lVar1 = *plVar2;
      *plVar2 = *plVar2 + -1;
      UNLOCK();
      if (lVar1 != 0) break;
      plVar2 = (long*)*param_1;
      param_1[2] = 0;
      param_1[0x24] = 0;
      if (*(int*)( (long)param_1 + 0x14 ) == 0x58424655) {
         ufbxi_free_scene_imp_constprop_0(param_1);
      }

      local_f8 = param_1[0xb];
      lStack_f0 = param_1[0xc];
      local_e8 = param_1[0xd];
      lStack_e0 = param_1[0xe];
      local_d8 = param_1[0xf];
      lStack_d0 = param_1[0x10];
      local_c8 = param_1[0x11];
      lStack_c0 = param_1[0x12];
      local_b8 = param_1[0x13];
      lStack_b0 = param_1[0x14];
      local_a8 = param_1[0x15];
      lStack_a0 = param_1[0x16];
      local_98 = param_1[0x17];
      lStack_90 = param_1[0x18];
      lStack_60 = param_1[4];
      local_88 = param_1[0x19];
      lStack_80 = param_1[0x1a];
      local_58 = param_1[5];
      lStack_50 = param_1[6];
      local_78 = param_1[0x1b];
      local_48 = param_1[7];
      lStack_40 = param_1[8];
      local_38 = param_1[9];
      lStack_30 = param_1[10];
      local_68 = (undefined1*)&local_f8;
      ufbxi_buf_free(&local_68);
      ufbxi_free_ator(&local_f8);
      param_1 = plVar2;
   }
 while ( plVar2 != (long*)0x0 );
   if (local_20 != *(long*)( in_FS_OFFSET + 0x28 )) {
      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   return;
}
long ufbxi_find_external_file_constprop_0(long param_1, ulong param_2, char *param_3) {
   int iVar1;
   int *piVar2;
   ulong uVar3;
   ulong uVar4;
   long lVar5;
   ulong uVar6;
   uVar4 = 0;
   uVar3 = uVar4;
   uVar6 = param_2;
   if (0x20 < param_2) {
      do {
         while (true) {
            lVar5 = ( param_2 >> 1 ) + uVar3;
            uVar4 = lVar5 + 1;
            piVar2 = (int*)( lVar5 * 0x40 + param_1 );
            if (*piVar2 != 0) break;
            iVar1 = strcmp(*(char**)( piVar2 + 2 ), param_3);
            if (iVar1 < 0) {
               uVar3 = uVar4;
               uVar4 = uVar6;
            }

            uVar6 = uVar4;
            param_2 = uVar6 - uVar3;
            uVar4 = uVar3;
            if (param_2 < 0x21) goto LAB_00109b3b;
         }
;
         param_2 = uVar6 - uVar4;
         uVar3 = uVar4;
      }
 while ( 0x20 < param_2 );
   }

   LAB_00109b3b:if (uVar4 < uVar6) {
      piVar2 = (int*)( uVar4 * 0x40 + param_1 );
      do {
         if (( *piVar2 == 0 ) && ( param_3 == *(char**)( piVar2 + 2 ) )) {
            return param_1 + uVar4 * 0x40;
         }

         uVar4 = uVar4 + 1;
         piVar2 = piVar2 + 0x10;
      }
 while ( uVar4 != uVar6 );
   }

   return 0;
}
double ufbxi_round_if_near_constprop_0(double param_1) {
   double dVar1;
   double *pdVar2;
   double dVar3;
   double dVar4;
   pdVar2 = (double*)&ufbxi_pow10_targets;
   while (true) {
      dVar1 = *pdVar2;
      dVar3 = dVar1 * _LC85;
      if (dVar3 < 0.0) {
         dVar3 = (double)( (ulong)dVar3 ^ _LC15 );
      }

      dVar4 = _LC84;
      if (_LC84 <= dVar3) {
         dVar4 = dVar3;
      }

      if (( dVar1 - dVar4 <= param_1 ) && ( param_1 <= dVar4 + dVar1 )) break;
      pdVar2 = pdVar2 + 1;
      if (pdVar2 == (double*)&DAT_00149cf8) {
         return param_1;
      }

   }
;
   return dVar1;
}
undefined8 ufbxi_scale_units(long param_1) {
   long lVar1;
   double dVar2;
   double dVar3;
   dVar3 = *(double*)( param_1 + 0x1e38 );
   if (dVar3 <= 0.0) {
      return 1;
   }

   dVar2 = (double)ufbxi_round_if_near_constprop_0();
   dVar3 = (double)ufbxi_round_if_near_constprop_0(dVar3 / dVar2);
   if (( dVar3 != _LC0 ) && ( *(double*)( param_1 + 0x2800 ) = dVar3 * (int*)( param_1 + 0x3d4 ) == 0 )) {
      lVar1 = *(long*)( param_1 + 0x1e88 );
      *(double*)( lVar1 + 0x128 ) = *(double*)( lVar1 + 0x128 ) * dVar3;
      *(double*)( lVar1 + 0x130 ) = *(double*)( lVar1 + 0x130 ) * dVar3;
      *(double*)( lVar1 + 0x1e0 ) = *(double*)( lVar1 + 0x1e0 ) * dVar3;
      *(double*)( lVar1 + 0x1e8 ) = *(double*)( lVar1 + 0x1e8 ) * dVar3;
      *(double*)( lVar1 + 0x1f0 ) = *(double*)( lVar1 + 0x1f0 ) * dVar3;
      *(double*)( lVar1 + 0x1f8 ) = *(double*)( lVar1 + 0x1f8 ) * dVar3;
      *(double*)( lVar1 + 0x138 ) = *(double*)( lVar1 + 0x138 ) * dVar3;
      *(double*)( lVar1 + 0x210 ) = dVar3 * *(double*)( lVar1 + 0x210 );
      *(double*)( lVar1 + 0x200 ) = *(double*)( lVar1 + 0x200 ) * dVar3;
      *(double*)( lVar1 + 0x208 ) = *(double*)( lVar1 + 0x208 ) * dVar3;
      *(double*)( lVar1 + 0x1d0 ) = dVar3 * *(double*)( lVar1 + 0x1d0 );
      *(double*)( lVar1 + 0x1d8 ) = dVar3 * *(double*)( lVar1 + 0x1d8 );
   }

   return 1;
}
void ufbxi_update_scene_settings(long param_1) {
   undefined4 uVar1;
   long lVar2;
   ulong uVar3;
   ulong uVar4;
   double extraout_XMM0_Qa;
   double extraout_XMM0_Qa_00;
   undefined8 uVar5;
   undefined8 uVar6;
   undefined8 uVar7;
   double dVar8;
   double dVar9;
   ufbxi_find_prop_with_key(param_1, "UnitScaleFactor", 0x556e6974);
   lVar2 = ufbxi_find_prop_with_key(param_1, "OriginalUnitScaleFactor", 0x4f726967);
   dVar8 = extraout_XMM0_Qa;
   if (lVar2 != 0) {
      dVar8 = *(double*)( lVar2 + 0x48 );
   }

   uVar1 = ufbxi_find_axis(param_1, "UpAxis", "UpAxisSign");
   *(undefined4*)( param_1 + 0x24 ) = uVar1;
   uVar1 = ufbxi_find_axis(param_1, "FrontAxis", "FrontAxisSign");
   *(undefined4*)( param_1 + 0x28 ) = uVar1;
   uVar1 = ufbxi_find_axis(param_1, "CoordAxis", "CoordAxisSign");
   dVar9 = _LC10;
   *(undefined4*)( param_1 + 0x20 ) = uVar1;
   uVar5 = ufbxi_round_if_near_constprop_0(extraout_XMM0_Qa_00 * dVar9, param_1, "CustomFrameRate");
   *(undefined8*)( param_1 + 0x30 ) = uVar5;
   uVar5 = ufbxi_round_if_near_constprop_0(dVar8 * dVar9);
   *(undefined8*)( param_1 + 0x78 ) = uVar5;
   lVar2 = ufbxi_find_prop_with_key();
   uVar5 = _LC86;
   if (lVar2 != 0) {
      uVar5 = *(undefined8*)( lVar2 + 0x48 );
   }

   *(undefined8*)( param_1 + 0x38 ) = uVar5;
   lVar2 = ufbxi_find_prop_with_key(param_1, "AmbientColor", 0x416d6269);
   if (lVar2 == 0) {
      uVar6 = 0;
      uVar7 = 0;
      uVar5 = 0;
   }
 else {
      uVar6 = *(undefined8*)( lVar2 + 0x48 );
      uVar7 = *(undefined8*)( lVar2 + 0x50 );
      uVar5 = *(undefined8*)( lVar2 + 0x58 );
   }

   *(undefined8*)( param_1 + 0x40 ) = uVar6;
   *(undefined8*)( param_1 + 0x48 ) = uVar7;
   *(undefined8*)( param_1 + 0x50 ) = uVar5;
   uVar1 = ufbxi_find_axis(param_1, "OriginalUpAxis", "OriginalUpAxisSign");
   *(undefined4*)( param_1 + 0x74 ) = uVar1;
   lVar2 = ufbxi_find_prop_with_key(param_1, "DefaultCamera", 0x44656661);
   if (lVar2 == 0) {
      *(undefined8*)( param_1 + 0x60 ) = 0;
      *(undefined1**)( param_1 + 0x58 ) = &ufbxi_empty_char;
   }
 else {
      uVar5 = *(undefined8*)( lVar2 + 0x28 );
      *(undefined8*)( param_1 + 0x58 ) = *(undefined8*)( lVar2 + 0x20 );
      *(undefined8*)( param_1 + 0x60 ) = uVar5;
   }

   lVar2 = ufbxi_find_prop_with_key(param_1, "TimeMode", 0x54696d65);
   if (lVar2 != 0) {
      uVar4 = *(ulong*)( lVar2 + 0x40 );
      uVar3 = uVar4 & 0xffffffff;
      if (uVar4 < 0x12) goto LAB_00109e91;
   }

   uVar3 = 0xb;
   uVar4 = 0xb;
   LAB_00109e91:*(int*)( param_1 + 0x68 ) = (int)uVar3;
   lVar2 = ufbxi_find_prop_with_key(param_1, "TimeProtocol", 0x54696d65);
   if (lVar2 == 0) {
      uVar1 = 2;
   }
 else {
      uVar1 = ( undefined4 ) * (ulong*)( lVar2 + 0x40 );
      if (2 < *(ulong*)( lVar2 + 0x40 )) {
         uVar1 = 2;
      }

   }

   *(undefined4*)( param_1 + 0x6c ) = uVar1;
   lVar2 = ufbxi_find_prop_with_key(param_1, "SnapOnFrameMode", 0x536e6170);
   if (lVar2 == 0) {
      uVar1 = 0;
   }
 else {
      uVar1 = ( undefined4 ) * (ulong*)( lVar2 + 0x40 );
      if (3 < *(ulong*)( lVar2 + 0x40 )) {
         uVar1 = 0;
      }

   }

   *(undefined4*)( param_1 + 0x70 ) = uVar1;
   if (uVar4 != 0xe) {
      *(undefined8*)( param_1 + 0x38 ) = *(undefined8*)( ufbxi_time_mode_fps + uVar3 * 8 );
   }

   return;
}
undefined8 ufbxi_open_file_constprop_0(undefined8 *param_1) {
   long lVar1;
   undefined8 uVar2;
   long in_FS_OFFSET;
   lVar1 = *(long*)( in_FS_OFFSET + 0x28 );
   if ((code*)*param_1 == (code*)0x0) {
      uVar2 = 0;
   }
 else {
      uVar2 = ( *(code*)*param_1 )(param_1[1]);
   }

   if (lVar1 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return uVar2;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_init_synthetic_int_prop_constprop_0(undefined8 *param_1, uint *param_2, long param_3) {
   uint uVar1;
   size_t sVar2;
   *(undefined4*)( (long)param_1 + 0x14 ) = 2;
   *param_1 = param_2;
   sVar2 = strlen((char*)param_2);
   *(undefined4*)( param_1 + 3 ) = 0x1101000;
   param_1[1] = sVar2;
   param_1[8] = param_3;
   param_1[4] = &ufbxi_empty_char;
   param_1[9] = (double)param_3;
   uVar1 = *param_2;
   *(uint*)( param_1 + 2 ) = uVar1 >> 0x18 | ( uVar1 & 0xff0000 ) >> 8 | ( uVar1 & 0xff00 ) << 8 | uVar1 << 0x18;
   return;
}
undefined8 ufbxi_next_line_constprop_0(long *param_1, long *param_2) {
   void *__s;
   uint uVar1;
   void *pvVar2;
   undefined8 uVar3;
   byte *pbVar4;
   long lVar5;
   byte *pbVar6;
   size_t __n;
   uVar3 = 0;
   __n = param_2[1];
   if (__n != 0) {
      __s = (void*)*param_2;
      pvVar2 = memchr(__s, 10, __n);
      *param_1 = (long)__s;
      if (pvVar2 != (void*)0x0) {
         __n = (long)pvVar2 + ( 1 - (long)__s );
      }

      param_1[1] = __n;
      param_2[1] = param_2[1] - __n;
      lVar5 = param_1[1];
      *param_2 = (long)__s + __n;
      if (lVar5 != 0) {
         pbVar4 = (byte*)*param_1;
         pbVar6 = pbVar4 + lVar5;
         do {
            if (( 0x1f < *pbVar4 - 1 ) || ( ( 0x80001300U >> ( *pbVar4 - 1 & 0x1f ) & 1 ) == 0 )) {
               lVar5 = param_1[1];
               break;
            }

            pbVar4 = pbVar4 + 1;
            lVar5 = (long)pbVar6 - (long)pbVar4;
            *param_1 = (long)pbVar4;
            param_1[1] = lVar5;
         }
 while ( pbVar4 != pbVar6 );
         if (lVar5 != 0) {
            do {
               lVar5 = lVar5 + -1;
               uVar1 = *(byte*)( *param_1 + lVar5 ) - 1;
               if (( 0x1f < uVar1 ) || ( ( 0x80001300U >> ( uVar1 & 0x1f ) & 1 ) == 0 )) break;
               param_1[1] = lVar5;
            }
 while ( lVar5 != 0 );
         }

      }

      uVar3 = 1;
   }

   return uVar3;
}
uint ufbxi_hash_string_check_ascii_constprop_0(uint *param_1, ulong param_2, undefined1 *param_3) {
   uint *puVar1;
   uint uVar2;
   uint uVar3;
   uint uVar4;
   ulong uVar5;
   uint uVar6;
   uint uVar7;
   uVar4 = (uint)param_2;
   if (param_2 < 4) {
      uVar7 = 0;
      if (param_2 != 0) {
         if (param_2 == 1) {
            uVar7 = ( uint )(byte) * param_1;
         }
 else {
            uVar7 = ( uint )(ushort) * param_1;
            if (param_2 == 3) {
               uVar7 = (uint)CONCAT12(*(byte*)( (long)param_1 + 2 ), ( ushort ) * param_1);
            }

         }

      }

      uVar4 = ( uVar4 << 5 | uVar4 >> 0x1b ) ^ uVar7;
      uVar6 = ( 0x80808080U >> ( ( '\x04' - (char)param_2 ) * '\b' & 0x1fU ) ) - uVar7;
   }
 else {
      uVar6 = 0;
      uVar7 = 0;
      uVar5 = param_2 - 4 >> 2;
      puVar1 = param_1 + uVar5 + 1;
      do {
         uVar2 = *param_1;
         param_1 = param_1 + 1;
         uVar3 = ( uVar4 << 5 | uVar4 >> 0x1b ) ^ uVar2;
         uVar7 = uVar7 | uVar2;
         uVar4 = uVar3 * -0x61c88647;
         uVar6 = uVar6 | 0x80808080 - uVar2;
      }
 while ( param_1 != puVar1 );
      uVar2 = *(uint*)( (long)param_1 + uVar5 * -4 + ( param_2 - 8 ) );
      uVar4 = ( uVar3 * -0x3910c8e0 | uVar4 >> 0x1b ) ^ uVar2;
      uVar7 = uVar7 | uVar2;
      uVar6 = 0x80808080 - uVar2 | uVar6;
   }

   if (( ( uVar7 | uVar6 ) & 0x80808080 ) != 0) {
      *param_3 = 1;
   }

   uVar4 = ( uVar4 * -0x61c88647 ^ uVar4 * -0x61c88647 >> 0x10 ) * 0x7feb352d;
   return uVar4 ^ uVar4 >> 0xf;
}
void ufbxi_map_init_constprop_0(undefined8 *param_1, undefined8 param_2, undefined8 param_3) {
   *param_1 = param_2;
   param_1[8] = param_2;
   param_1[6] = param_3;
   param_1[7] = 0;
   return;
}
undefined8 ufbxi_fail_imp_err_constprop_0(long param_1, char *param_2) {
   size_t sVar1;
   if (*param_2 != '$') {
      return 0;
   }

   if (*(long*)( param_1 + 8 ) != 0) {
      return 0;
   }

   *(char**)( param_1 + 8 ) = param_2 + 1;
   sVar1 = strlen(param_2 + 1);
   *(size_t*)( param_1 + 0x10 ) = sVar1;
   return 0;
}
undefined8 ufbxi_fail_imp_constprop_0(long param_1, char *param_2) {
   size_t sVar1;
   if (*param_2 != '$') {
      return 0;
   }

   if (*(long*)( param_1 + 8 ) != 0) {
      return 0;
   }

   *(char**)( param_1 + 8 ) = param_2 + 1;
   sVar1 = strlen(param_2 + 1);
   *(size_t*)( param_1 + 0x10 ) = sVar1;
   return 0;
}
undefined8 ufbxi_report_progress(long param_1) {
   int iVar1;
   undefined8 uVar2;
   long in_FS_OFFSET;
   ulong local_28;
   ulong local_20;
   long local_10;
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   if (*(code**)( param_1 + 0x3a0 ) != (code*)0x0) {
      local_28 = ( *(long*)( param_1 + 0x520 ) - *(long*)( param_1 + 0x518 ) ) + *(long*)( param_1 + 0x4e8 );
      *(undefined8*)( param_1 + 0x1b00 ) = 0x400;
      *(ulong*)( param_1 + 0x1b10 ) = local_28;
      local_20 = *(ulong*)( param_1 + 0x1b08 );
      if (*(ulong*)( param_1 + 0x1b08 ) < local_28) {
         local_20 = local_28;
      }

      iVar1 = ( **(code**)( param_1 + 0x3a0 ) )(*(undefined8*)( param_1 + 0x3a8 ), &local_28);
      if (iVar1 == 0x200) {
         if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar2 = ufbxi_fail_imp_constprop_0(param_1, "$Cancelled");
            return uVar2;
         }

         goto LAB_0010a344;
      }

   }

   if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   LAB_0010a344:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_resume_progress(long param_1) {
   ulong uVar1;
   ulong uVar2;
   int iVar3;
   undefined8 uVar4;
   ulong uVar5;
   uVar1 = *(ulong*)( param_1 + 0x530 );
   uVar2 = *(ulong*)( param_1 + 0x1b18 );
   uVar5 = uVar1;
   if (uVar2 <= uVar1) {
      uVar5 = uVar2;
   }

   *(ulong*)( param_1 + 0x528 ) = uVar5;
   *(ulong*)( param_1 + 0x530 ) = uVar1 - uVar5;
   if (( ulong )(( *(long*)( param_1 + 0x4e8 ) - *(long*)( param_1 + 0x1b10 ) ) + ( *(long*)( param_1 + 0x520 ) - *(long*)( param_1 + 0x518 ) )) < uVar2) {
      return 1;
   }

   iVar3 = ufbxi_report_progress();
   if (iVar3 != 0) {
      return 1;
   }

   uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar4;
}
undefined8 ufbxi_read_to(long param_1, void *param_2, ulong param_3) {
   int iVar1;
   void *pvVar2;
   long lVar3;
   code *pcVar4;
   long lVar5;
   undefined8 uVar6;
   long lVar7;
   ulong __n;
   __n = *(long*)( param_1 + 0x528 ) + *(long*)( param_1 + 0x530 );
   *(undefined8*)( param_1 + 0x528 ) = 0;
   *(ulong*)( param_1 + 0x530 ) = __n;
   if (param_3 <= __n) {
      __n = param_3;
   }

   pvVar2 = memcpy(param_2, *(void**)( param_1 + 0x520 ), __n);
   *(long*)( param_1 + 0x530 ) = *(long*)( param_1 + 0x530 ) - __n;
   lVar3 = *(long*)( param_1 + 0x520 ) + __n;
   *(long*)( param_1 + 0x520 ) = lVar3;
   lVar7 = param_3 - __n;
   if (lVar7 == 0) {
      LAB_0010a4a0:iVar1 = ufbxi_resume_progress(param_1);
      if (iVar1 != 0) {
         return 1;
      }

   }
 else {
      *(long*)( param_1 + 0x4e8 ) = *(long*)( param_1 + 0x4e8 ) + ( lVar3 - *(long*)( param_1 + 0x518 ) );
      pcVar4 = *(code**)( param_1 + 0x4f0 );
      *(undefined1(*) [16])( param_1 + 0x518 ) = (undefined1[16])0x0;
      *(undefined8*)( param_1 + 0x530 ) = 0;
      if (pcVar4 != (code*)0x0) {
         lVar3 = __n + (long)pvVar2;
         while (true) {
            lVar5 = ( *pcVar4 )(*(undefined8*)( param_1 + 0x500 ), lVar3, lVar7);
            if (lVar5 == -1) {
               uVar6 = ufbxi_fail_imp_constprop_0(param_1, "$IO error");
               return uVar6;
            }

            if (lVar5 == 0) break;
            *(long*)( param_1 + 0x4e8 ) = *(long*)( param_1 + 0x4e8 ) + lVar5;
            lVar3 = lVar3 + lVar5;
            lVar7 = lVar7 - lVar5;
            if (lVar7 == 0) goto LAB_0010a4a0;
            pcVar4 = *(code**)( param_1 + 0x4f0 );
         }
;
      }

   }

   uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar6;
}
undefined8 ufbxi_evaluate_skinning_constprop_0(undefined8 param_1) {
   ufbxi_fmt_err_info(param_1, "UFBX_ENABLE_SKINNING_EVALUATION");
   ufbxi_fail_imp_err_constprop_0(param_1, "$Feature disabled");
   return 0;
}
undefined1 *ufbxi_alloc_size(undefined8 *param_1, ulong param_2, ulong param_3) {
   undefined1 auVar1[16];
   undefined1 auVar2[16];
   ulong __size;
   undefined1 *puVar3;
   undefined8 uVar4;
   char *pcVar5;
   if (param_3 == 0) {
      return ufbxi_zero_size_buffer;
   }

   auVar1._8_8_ = 0;
   auVar1._0_8_ = param_3;
   auVar2._8_8_ = 0;
   auVar2._0_8_ = param_2;
   __size = SUB168(auVar1 * auVar2, 0);
   if (( ( ( param_3 | param_2 ) >> 0x20 == 0 ) || ( SUB168(auVar1 * auVar2, 8) == 0 ) ) && ( -1 < (long)__size )) {
      if (__size < ( ulong )(param_1[2] - param_1[1])) {
         if ((ulong)param_1[3] < (ulong)param_1[4]) {
            param_1[3] = param_1[3] + 1;
            if ((code*)param_1[7] == (code*)0x0) {
               if ((code*)param_1[8] == (code*)0x0) {
                  puVar3 = (undefined1*)malloc(__size);
               }
 else {
                  puVar3 = (undefined1*)( *(code*)param_1[8] )(param_1[0xb], 0, 0, __size);
               }

            }
 else {
               puVar3 = (undefined1*)( *(code*)param_1[7] )(param_1[0xb], __size);
            }

            if (puVar3 != (undefined1*)0x0) {
               param_1[1] = param_1[1] + __size;
               return puVar3;
            }

            uVar4 = *param_1;
            pcVar5 = "$Out of memory";
         }
 else {
            uVar4 = *param_1;
            pcVar5 = "$Allocation limit exceeded";
         }

      }
 else {
         uVar4 = *param_1;
         pcVar5 = "$Memory limit exceeded";
      }

      ufbxi_fail_imp_err_constprop_0(uVar4, pcVar5);
      ufbxi_fmt_err_info(uVar4, &_LC93, param_1[0x10]);
   }
 else {
      ufbxi_fail_imp_err_constprop_0(*param_1, &_LC88);
   }

   return (undefined1*)0x0;
}
undefined8 ufbxi_thread_pool_init(undefined8 *param_1, undefined8 param_2, undefined8 param_3, undefined8 *param_4) {
   ulong uVar1;
   undefined8 uVar2;
   char cVar3;
   undefined4 uVar4;
   long lVar6;
   undefined8 uVar7;
   long in_FS_OFFSET;
   undefined4 local_34;
   long local_30;
   ulong uVar5;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   if (( param_4[1] == 0 ) || ( param_4[2] == 0 )) {
      LAB_0010a706:uVar7 = 1;
   }
 else {
      uVar7 = *param_4;
      uVar2 = param_4[1];
      uVar1 = param_4[5];
      *(undefined1*)( param_1 + 10 ) = 1;
      *param_1 = uVar7;
      param_1[1] = uVar2;
      uVar7 = param_4[3];
      uVar5 = 0x7fffffff;
      if (uVar1 < 0x80000000) {
         uVar5 = uVar1;
      }

      uVar4 = (undefined4)uVar5;
      param_1[2] = param_4[2];
      param_1[3] = uVar7;
      uVar7 = param_4[5];
      if (uVar1 == 0) {
         uVar4 = 0x800;
      }

      param_1[4] = param_4[4];
      param_1[5] = uVar7;
      param_1[6] = param_4[6];
      if ((code*)*param_1 == (code*)0x0) {
         LAB_0010a6db:param_1[7] = param_3;
         param_1[8] = param_2;
         *(undefined4*)( param_1 + 0x12 ) = uVar4;
         lVar6 = ufbxi_alloc_size(param_3, 0x18, uVar4);
         param_1[0x13] = lVar6;
         if (lVar6 != 0) goto LAB_0010a706;
      }
 else {
         local_34 = uVar4;
         cVar3 = ( *(code*)*param_1 )(param_1[4], param_1, &local_34);
         if (cVar3 != '\0') goto LAB_0010a6db;
      }

      ufbxi_fail_imp_err_constprop_0(param_2, &_LC88);
      uVar7 = 0;
   }

   if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return uVar7;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
long *ufbxi_push_size_new_block(long *param_1, ulong param_2) {
   long lVar1;
   long *plVar2;
   ulong uVar3;
   long lVar4;
   long *plVar5;
   ulong uVar6;
   ulong uVar7;
   ulong uVar8;
   long *plVar9;
   byte bVar10;
   ulong uVar11;
   lVar4 = *param_1;
   uVar7 = *(ulong*)( lVar4 + 0x28 );
   bVar10 = uVar7 <= param_2 & *(byte*)( param_1 + 7 );
   plVar5 = (long*)param_1[(ulong)bVar10 + 1];
   uVar11 = param_2;
   if (plVar5 == (long*)0x0) {
      uVar6 = 0x1000;
      if (uVar7 <= param_2) goto LAB_0010a806;
      LAB_0010a8f7:if (*(ulong*)( lVar4 + 0x30 ) < uVar6) {
         uVar6 = *(ulong*)( lVar4 + 0x30 );
      }

      uVar11 = uVar6 - 0x40;
      if (uVar6 - 0x40 < param_2) {
         uVar11 = param_2;
      }

   }
 else {
      if (bVar10 == 0) {
         param_1[6] = param_1[6] + param_1[3];
         plVar5[5] = param_1[3];
         for (plVar2 = (long*)plVar5[2]; plVar2 != (long*)0x0; plVar2 = (long*)plVar2[2]) {
            uVar6 = plVar2[4];
            plVar2[5] = 0;
            if (param_2 <= uVar6) {
               param_1[1] = (long)plVar2;
               param_1[3] = param_2 & 0xffffffff;
               param_1[4] = uVar6;
               return plVar2 + 8;
            }

            plVar5 = plVar2;
         }

         uVar6 = plVar5[6] * 2;
         if (param_2 < uVar7) goto LAB_0010a8f7;
      }
 else if (*(char*)( (long)param_1 + 0x39 ) != '\0') {
         uVar7 = 0xffffffffffffffff;
         plVar9 = (long*)0x0;
         uVar6 = 0;
         uVar8 = ( ulong )(( uint )(( param_2 - 1 ^ param_2 ) >> 1) & 7);
         plVar2 = plVar5;
         while (param_2 <= (ulong)plVar2[4]) {
            uVar3 = ( plVar2[4] - plVar2[5] ) - ( -plVar2[5] & uVar8 );
            if (( uVar3 < uVar7 ) && ( param_2 <= uVar3 )) {
               uVar7 = uVar3;
               plVar9 = plVar2;
            }

            uVar6 = uVar6 + 1;
            plVar5 = plVar2;
            if (( (long*)plVar2[2] == (long*)0x0 ) || ( plVar2 = 0xf < uVar6 )) break;
         }
;
         if (plVar9 != (long*)0x0) {
            lVar4 = ( -plVar9[5] & uVar8 ) + plVar9[5];
            plVar9[5] = param_2 + lVar4;
            param_1[6] = param_1[6] + param_2;
            return (long*)( (long)plVar9 + lVar4 + 0x40 );
         }

      }

      uVar6 = plVar5[6];
      LAB_0010a806:if (*(ulong*)( lVar4 + 0x30 ) < uVar6) {
         uVar6 = *(ulong*)( lVar4 + 0x30 );
      }

   }

   uVar11 = ( -(int)uVar11 & 0xf ) + uVar11;
   plVar2 = (long*)ufbxi_alloc_size(lVar4, 1, uVar11 + 0x40);
   if (plVar2 == (long*)0x0) {
      return (long*)0x0;
   }

   plVar2[1] = (long)plVar5;
   plVar2[4] = uVar11;
   plVar2[6] = uVar6;
   plVar2[3] = 0x46554255;
   plVar2[7] = 0;
   plVar2[5] = 0;
   if (plVar5 == (long*)0x0) {
      plVar2[2] = 0;
      plVar5 = plVar2;
   }
 else {
      lVar4 = plVar5[2];
      if (lVar4 != 0) {
         *(long**)( lVar4 + 8 ) = plVar2;
      }

      plVar2[2] = lVar4;
      plVar5[2] = (long)plVar2;
      plVar5 = (long*)*plVar5;
   }

   *plVar2 = (long)plVar5;
   if (bVar10 == 0) {
      param_1[1] = (long)plVar2;
      param_1[3] = param_2;
      param_1[4] = uVar11;
      goto LAB_0010a88e;
   }

   lVar4 = param_1[2];
   param_1[6] = param_1[6] + param_2;
   if (lVar4 == 0) {
      LAB_0010a8db:param_1[2] = (long)plVar2;
   }
 else if (*(ulong*)( lVar4 + 0x20 ) < uVar11) {
      lVar1 = plVar2[2];
      if (lVar1 != 0) {
         *(long*)( lVar1 + 8 ) = lVar4;
      }

      *(long*)( lVar4 + 0x10 ) = lVar1;
      plVar2[2] = lVar4;
      plVar2[1] = 0;
      *plVar2 = (long)plVar2;
      goto LAB_0010a8db;
   }

   plVar2[5] = param_2;
   LAB_0010a88e:return plVar2 + 8;
}
long *ufbxi_push_size(long param_1, ulong param_2, ulong param_3) {
   long lVar1;
   long lVar2;
   long lVar3;
   undefined1 auVar4[16];
   undefined1 auVar5[16];
   ulong uVar6;
   long *plVar7;
   long lVar8;
   if (param_3 == 0) {
      return (long*)ufbxi_zero_size_buffer;
   }

   auVar4._8_8_ = 0;
   auVar4._0_8_ = param_3;
   auVar5._8_8_ = 0;
   auVar5._0_8_ = param_2;
   uVar6 = SUB168(auVar4 * auVar5, 0);
   if (( ( ( param_3 | param_2 ) >> 0x20 != 0 ) && ( param_2 != 0 ) ) && ( SUB168(auVar4 * auVar5, 8) != 0 )) {
      return (long*)0x0;
   }

   *(long*)( param_1 + 0x28 ) = *(long*)( param_1 + 0x28 ) + param_3;
   lVar2 = *(long*)( param_1 + 0x18 );
   lVar8 = ( ulong )(( uint )(( param_2 - 1 ^ param_2 ) >> 1) & -(int)lVar2 & 7) + lVar2;
   if (( *(char*)( param_1 + 0x38 ) == '\x01' ) || ( lVar2 == lVar8 )) {
      if (uVar6 <= ( ulong )(*(long*)( param_1 + 0x20 ) - lVar8)) {
         *(ulong*)( param_1 + 0x18 ) = uVar6 + lVar8;
         return (long*)( *(long*)( param_1 + 8 ) + 0x40 + lVar8 );
      }

   }
 else {
      lVar8 = ( ulong )(-(int)lVar2 & 0xf) + lVar2;
      if (( uVar6 < 0xffffffffffffffef ) && ( uVar6 + 0x10 <= ( ulong )(*(long*)( param_1 + 0x20 ) - lVar8) )) {
         lVar3 = *(long*)( param_1 + 8 );
         lVar1 = *(long*)( lVar3 + 0x38 );
         plVar7 = (long*)( lVar3 + 0x40 + lVar8 );
         *plVar7 = lVar2;
         plVar7[1] = lVar1;
         *(long*)( lVar3 + 0x38 ) = lVar8 + 0x11;
         *(ulong*)( param_1 + 0x18 ) = lVar8 + 0x10 + uVar6;
         return plVar7 + 2;
      }

   }

   plVar7 = (long*)ufbxi_push_size_new_block(param_1, uVar6);
   return plVar7;
}
undefined1 *ufbxi_push_size_copy(undefined8 param_1, long param_2, long param_3, void *param_4) {
   undefined1 *__dest;
   if (param_3 == 0) {
      return ufbxi_zero_size_buffer;
   }

   __dest = (undefined1*)ufbxi_push_size();
   if (__dest != (undefined1*)0x0) {
      __dest = (undefined1*)memcpy(__dest, param_4, param_3 * param_2);
   }

   return __dest;
}
undefined8 ufbxi_flip_attrib_winding(long param_1, long param_2, long *param_3, char param_4) {
   int *piVar1;
   undefined4 uVar2;
   ulong uVar3;
   long lVar4;
   undefined8 uVar5;
   ulong uVar6;
   int *piVar7;
   lVar4 = *param_3;
   if (( ( lVar4 == *(long*)( param_1 + 0x1af0 ) ) || ( param_3[1] == 0 ) ) || ( ( *(long*)( param_2 + 0x1a0 ) == lVar4 && ( param_4 == '\0' ) ) )) {
      return 1;
   }

   if (lVar4 == *(long*)( param_1 + 0x1af8 )) {
      if (*(long*)( param_1 + 0x21a0 ) != 0) {
         *param_3 = *(long*)( param_1 + 0x21a0 );
         return 1;
      }

      lVar4 = ufbxi_push_size_copy(param_1 + 0x1a58, 4, param_3[1], lVar4);
      *param_3 = lVar4;
      if (lVar4 == 0) {
         uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar5;
      }

      *(long*)( param_1 + 0x21a0 ) = lVar4;
   }

   piVar7 = *(int**)( param_2 + 200 );
   piVar1 = piVar7 + *(long*)( param_2 + 0xd0 ) * 2;
   joined_r0x0010ab94:if (piVar7 == piVar1) {
      return 1;
   }

   do {
      if (piVar7[1] != 0) {
         uVar6 = ( ulong )(*piVar7 + 1);
         uVar3 = ( ulong )(uint)(piVar7[1] + -1 + *piVar7);
         if (uVar6 < uVar3) break;
      }

      piVar7 = piVar7 + 2;
      if (piVar1 == piVar7) {
         return 1;
      }

   }
 while ( true );
   do {
      uVar2 = *(undefined4*)( lVar4 + uVar6 * 4 );
      *(undefined4*)( lVar4 + uVar6 * 4 ) = *(undefined4*)( lVar4 + uVar3 * 4 );
      uVar6 = uVar6 + 1;
      *(undefined4*)( lVar4 + uVar3 * 4 ) = uVar2;
      uVar3 = uVar3 - 1;
   }
 while ( uVar6 < uVar3 );
   piVar7 = piVar7 + 2;
   goto joined_r0x0010ab94;
}
undefined8 ufbxi_bake_postprocess_vec3(long param_1, long *param_2, undefined1 *param_3, double *param_4, ulong param_5) {
   ulong uVar1;
   double *pdVar2;
   double *pdVar3;
   char cVar4;
   undefined1 uVar5;
   long lVar6;
   long lVar7;
   undefined8 uVar8;
   double *pdVar9;
   double *pdVar10;
   ulong uVar11;
   ulong uVar12;
   ulong uVar13;
   long in_FS_OFFSET;
   double dVar14;
   double dVar15;
   double dVar16;
   double dVar17;
   double dVar18;
   double dVar19;
   double local_68;
   double dStack_60;
   double local_58;
   double dStack_50;
   double local_48;
   long local_40;
   uVar12 = _LC97;
   dVar17 = _LC96;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_5 != 0) {
      dVar18 = *param_4;
      dVar14 = *(double*)( param_1 + 0x6f8 );
      if (dVar14 != 0.0) {
         dVar18 = (double)*(long*)( *(long*)( param_1 + 0x5e8 ) + 0x1a8 );
         pdVar9 = param_4;
         do {
            dVar15 = *pdVar9 * dVar18 + dVar14;
            dVar16 = (double)( (ulong)dVar15 & uVar12 );
            if (dVar16 < dVar17) {
               dVar15 = (double)( ( ulong )(( dVar16 + dVar17 ) - dVar17) | ~uVar12 & (ulong)dVar15 );
            }

            pdVar10 = pdVar9 + 5;
            *pdVar9 = dVar15 / dVar18;
            pdVar9 = pdVar10;
         }
 while ( param_4 + param_5 * 5 != pdVar10 );
         dVar18 = *param_4;
      }

      uVar13 = 0;
      uVar12 = 0;
      pdVar9 = param_4;
      dVar17 = _LC275;
      do {
         while (true) {
            local_68 = *pdVar9;
            dStack_60 = pdVar9[1];
            local_48 = pdVar9[4];
            uVar13 = uVar13 + 1;
            local_58 = pdVar9[2];
            dStack_50 = pdVar9[3];
            dVar14 = dVar17;
            if (uVar13 < param_5) {
               dVar14 = pdVar9[5];
            }

            if (( ( (ulong)local_48 & 3 ) != 0 ) && ( cVar4 = ufbxi_postprocess_step(dVar18, dVar14, dVar17, param_1, &local_68) ),dVar17 = _LC275,cVar4 == '\0') break;
            uVar11 = uVar12 + 1;
            pdVar10 = param_4 + uVar12 * 5;
            pdVar9 = pdVar9 + 5;
            pdVar10[4] = local_48;
            *pdVar10 = local_68;
            pdVar10[1] = dStack_60;
            pdVar10[2] = local_58;
            pdVar10[3] = dStack_50;
            uVar12 = uVar11;
            dVar18 = local_68;
            if (uVar13 == param_5) goto LAB_0010ad78;
         }
;
         pdVar9 = pdVar9 + 5;
         uVar11 = uVar12;
      }
 while ( uVar13 != param_5 );
      LAB_0010ad78:dVar17 = _LC0;
      if (*(char*)( param_1 + 0x6d8 ) != '\0') {
         dVar18 = *(double*)( param_1 + 0x6e0 );
         lVar7 = *(long*)( param_1 + 0x6e8 );
         lVar6 = 0;
         if (lVar7 != 0) {
            do {
          uVar13 = 1;
          uVar12 = 1;
          pdVar9 = param_4 + 5;
          if (1 < uVar11) {
            do {
              while( true ) {
                uVar1 = uVar12 + 1;
                uVar13 = uVar13 + 1;
                pdVar2 = param_4 + uVar12 * 5 + -5;
                pdVar10 = param_4 + uVar12 * 5;
                if (uVar1 < uVar11) break;
LAB_0010ade0:
                dVar14 = pdVar10[1];
                *pdVar9 = *pdVar10;
                pdVar9[1] = dVar14;
                dVar14 = pdVar10[3];
                pdVar9[2] = pdVar10[2];
                pdVar9[3] = dVar14;
                pdVar9[4] = pdVar10[4];
                uVar12 = uVar1;
                pdVar9 = pdVar9 + 5;
                if (uVar11 <= uVar1) goto LAB_0010af10;
              }
              pdVar3 = param_4 + uVar12 * 5 + 5;
              dVar14 = (*pdVar10 - *pdVar2) / (*pdVar3 - *pdVar2);
              dVar19 = dVar17 - dVar14;
              dVar15 = (pdVar3[1] * dVar14 + pdVar2[1] * dVar19) - pdVar10[1];
              dVar16 = (pdVar3[2] * dVar14 + pdVar2[2] * dVar19) - pdVar10[2];
              dVar14 = (dVar14 * pdVar3[3] + pdVar2[3] * dVar19) - pdVar10[3];
              if (dVar18 * dVar18 < dVar14 * dVar14 + dVar16 * dVar16 + dVar15 * dVar15 + 0.0)
              goto LAB_0010ade0;
              dVar14 = pdVar3[1];
              uVar12 = uVar12 + 2;
              *pdVar9 = *pdVar3;
              pdVar9[1] = dVar14;
              dVar14 = pdVar3[3];
              pdVar9[2] = pdVar3[2];
              pdVar9[3] = dVar14;
              pdVar9[4] = pdVar3[4];
              pdVar9 = pdVar9 + 5;
            } while (uVar12 < uVar11);
          }
LAB_0010af10:
        } while ((uVar13 != uVar11) && (lVar6 = lVar6 + 1, uVar11 = uVar13, lVar6 != lVar7));
      }
         }

         if (1 < uVar11) {
            pdVar9 = param_4 + 6;
            uVar12 = 1;
            do {
               if (( param_4[1] != *pdVar9 || param_4[2] != pdVar9[1] ) || ( param_4[3] != pdVar9[2] )) {
                  uVar5 = 0;
                  goto LAB_0010af93;
               }

               uVar12 = uVar12 + 1;
               pdVar9 = pdVar9 + 5;
            }
 while ( uVar11 != uVar12 );
         }

         uVar5 = 1;
         LAB_0010af93:*param_3 = uVar5;
         param_2[1] = uVar11;
         lVar7 = ufbxi_push_size_copy(param_1 + 0x378, 0x28, uVar11, param_4);
         *param_2 = lVar7;
         if (lVar7 == 0) {
            ufbxi_fail_imp_err_constprop_0(param_1, &_LC88);
            uVar8 = 0;
            goto LAB_0010afc7;
         }

      }

      uVar8 = 1;
      LAB_0010afc7:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) {
         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

      return uVar8;
   }

   undefined8 ufbxi_vwarnf_imp(undefined8 *param_1, uint param_2, uint param_3, undefined8 param_4, undefined8 param_5) {
      int iVar1;
      long lVar2;
      uint *puVar3;
      undefined8 uVar4;
      long lVar5;
      long in_FS_OFFSET;
      undefined1 auStack_148[264];
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      if (param_1 != (undefined8*)0x0) {
         if (param_3 == 0xffffffff) {
            param_3 = *(int*)( param_1 + 10 ) - 1U | 0x80000000;
         }

         if (( ( param_2 < 7 ) || ( lVar2 = param_1[( ulong )(param_3 != 0xffffffff) + (ulong)param_2 * 2 + 0xb] ),lVar2 == 0 )) {
            iVar1 = ufbxi_vsnprintf(auStack_148, 0x100, param_4, param_5);
            lVar5 = (long)iVar1;
            ufbxi_clean_string_utf8(auStack_148, lVar5);
            lVar2 = ufbxi_push_size_copy(param_1[1], 1, lVar5 + 1, auStack_148);
            if (lVar2 != 0) {
               puVar3 = (uint*)ufbxi_push_size(param_1 + 2, 0x28, 1);
               if (puVar3 != (uint*)0x0) {
                  *puVar3 = param_2;
                  *(long*)( puVar3 + 2 ) = lVar2;
                  *(long*)( puVar3 + 4 ) = lVar5;
                  puVar3[6] = param_3;
                  puVar3[8] = 1;
                  puVar3[9] = 0;
                  param_1[( ulong )(param_3 != 0xffffffff) + (ulong)param_2 * 2 + 0xb] = puVar3;
                  goto LAB_0010b18d;
               }

            }

            ufbxi_fail_imp_err_constprop_0(*param_1, &_LC88);
            uVar4 = 0;
            goto LAB_0010b192;
         }

         *(long*)( lVar2 + 0x20 ) = *(long*)( lVar2 + 0x20 ) + 1;
      }

      LAB_0010b18d:uVar4 = 1;
      LAB_0010b192:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return uVar4;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   void ufbxi_warnf_imp(void) {
      long lVar1;
      long in_FS_OFFSET;
      lVar1 = *(long*)( in_FS_OFFSET + 0x28 );
      ufbxi_vwarnf_imp();
      if (lVar1 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   undefined8 ufbxi_fix_index(long param_1, int *param_2, undefined8 param_3, long param_4) {
      uint uVar1;
      int iVar2;
      undefined8 uVar3;
      uVar1 = *(uint*)( param_1 + 0x360 );
      if (uVar1 == 2) {
         ufbxi_fmt_err_info(param_1, "%u (max %u)", param_3, param_4 + -1 + ( ulong )(param_4 == 0));
         uVar3 = ufbxi_fail_imp_constprop_0(param_1, "$Bad index");
         return uVar3;
      }

      if (uVar1 < 3) {
         if (uVar1 == 0) {
            if (param_4 - 1U < 0xffffffff) {
               *param_2 = (int)param_4 + -1;
               iVar2 = ufbxi_warnf_imp(param_1 + 0x2808, 7, 0xffffffff, "Clamped index");
               if (iVar2 != 0) {
                  return 1;
               }

            }

            uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar3;
         }

         *param_2 = -1;
      }
 else {
         if (uVar1 != 3) {
            return 0;
         }

         *param_2 = (int)param_3;
      }

      return 1;
   }

   undefined8 ufbxi_validate_indices(long param_1, undefined8 *param_2, ulong param_3) {
      uint *puVar1;
      int iVar2;
      undefined8 uVar3;
      uint *puVar4;
      if (( param_3 == 0 ) && ( *(int*)( param_1 + 0x360 ) == 0 )) {
         *param_2 = 0;
         param_2[1] = 0;
      }
 else {
         puVar4 = (uint*)*param_2;
         puVar1 = puVar4 + param_2[1];
         for (; puVar4 != puVar1; puVar4 = puVar4 + 1) {
            if (( param_3 <= *puVar4 ) && ( iVar2 = ufbxi_fix_index(param_1, puVar4, ( ulong ) * puVar4, param_3) ),iVar2 == 0) {
               uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar3;
            }

         }

      }

      return 1;
   }

   undefined8 ufbxi_warn_polygon_mapping(long param_1, undefined8 param_2, undefined8 param_3) {
      int iVar1;
      undefined8 uVar2;
      iVar1 = ufbxi_warnf_imp(param_1 + 0x2808, 6, 0xffffffff, "Ignoring geometry \'%s\' with bad mapping mode \'%s\'", param_2, param_3);
      if (iVar1 != 0) {
         return 1;
      }

      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   undefined1(*)[16];
   ufbxi_aa_tree_insert(long param_1, undefined1 (*param_2)[16], undefined8 param_3, undefined4 param_4, long param_5) {
      int iVar1;
      undefined8 uVar2;
      undefined1(*pauVar3)[16];
      undefined1(*pauVar4)[16];
      if (param_2 == (undefined1(*) [16])0x0) {
         pauVar3 = (undefined1(*) [16])ufbxi_push_size(param_1 + 0x40, 0x18, 1);
         if (pauVar3 != (undefined1(*) [16])0x0) {
            *(undefined4*)pauVar3[1] = 1;
            *(undefined4*)( pauVar3[1] + 4 ) = param_4;
            *pauVar3 = (undefined1[16])0x0;
            return pauVar3;
         }

      }
 else {
         iVar1 = ( **(code**)( param_1 + 0x30 ) )(*(undefined8*)( param_1 + 0x38 ), param_3, ( ulong ) * (uint*)( param_2[1] + 4 ) * param_5 + *(long*)( param_1 + 0x10 ));
         if (iVar1 < 0) {
            pauVar3 = (undefined1(*) [16])ufbxi_aa_tree_insert(param_1, *(undefined8*)*param_2, param_3, param_4, param_5);
            *(undefined1(**) [16])*param_2 = pauVar3;
         }
 else {
            uVar2 = ufbxi_aa_tree_insert(param_1, *(undefined8*)( *param_2 + 8 ), param_3, param_4, param_5);
            *(undefined8*)( *param_2 + 8 ) = uVar2;
            pauVar3 = *(undefined1(**) [16])*param_2;
         }

         if (( pauVar3 == (undefined1(*) [16])0x0 ) || ( *(int*)pauVar3[1] != *(int*)param_2[1] )) {
            pauVar3 = param_2;
            pauVar4 = *(undefined1(**) [16])( *param_2 + 8 );
            if (*(undefined1(**) [16])( *param_2 + 8 ) == (undefined1(*) [16])0x0) {
               return param_2;
            }

         }
 else {
            *(undefined8*)*param_2 = *(undefined8*)( *pauVar3 + 8 );
            *(undefined1(**) [16])( *pauVar3 + 8 ) = param_2;
            pauVar4 = param_2;
         }

         if (( *(long*)( *pauVar4 + 8 ) != 0 ) && ( *(int*)( *(long*)( *pauVar4 + 8 ) + 0x10 ) == *(int*)pauVar3[1] )) {
            *(undefined8*)( *pauVar3 + 8 ) = *(undefined8*)*pauVar4;
            *(int*)pauVar4[1] = *(int*)pauVar4[1] + 1;
            *(undefined1(**) [16])*pauVar4 = pauVar3;
            pauVar3 = pauVar4;
         }

      }

      return pauVar3;
   }

   undefined8 ufbxi_read_embedded_blob(long param_1, long *param_2, long param_3) {
      long *plVar1;
      undefined8 *puVar2;
      void *pvVar3;
      void *pvVar4;
      ulong uVar5;
      undefined8 uVar6;
      long lVar7;
      undefined8 *puVar8;
      undefined8 *puVar9;
      ulong uVar10;
      if (param_3 == 0) {
         return 1;
      }

      plVar1 = (long*)ufbxi_get_array(param_3, 0x43);
      if (( plVar1 != (long*)0x0 ) && ( lVar7 = lVar7 != 0 )) {
         puVar8 = (undefined8*)*plVar1;
         if (lVar7 == 1) {
            pvVar3 = (void*)*puVar8;
            uVar10 = puVar8[1];
         }
 else {
            puVar9 = puVar8 + lVar7 * 2;
            if (puVar8 == puVar9) {
               uVar10 = 0;
            }
 else {
               uVar10 = 0;
               puVar2 = puVar8;
               do {
                  uVar10 = uVar10 + puVar2[1];
                  puVar2 = puVar2 + 2;
               }
 while ( puVar9 != puVar2 );
            }

            lVar7 = param_1 + 0x1a58;
            if (*(char*)( param_1 + 0x274 ) != '\0') {
               lVar7 = param_1 + 0xa70;
            }

            pvVar3 = (void*)ufbxi_push_size(lVar7, 1, uVar10);
            pvVar4 = pvVar3;
            if (pvVar3 == (void*)0x0) goto LAB_0010b700;
            for (; puVar8 != puVar9; puVar8 = puVar8 + 2) {
               pvVar4 = memcpy(pvVar4, (void*)*puVar8, puVar8[1]);
               plVar1 = puVar8 + 1;
               pvVar4 = (void*)( *plVar1 + (long)pvVar4 );
            }

         }

         if (*(char*)( param_1 + 0x274 ) == '\0') {
            *param_2 = (long)pvVar3;
            param_2[1] = uVar10;
         }
 else {
            uVar5 = ( ulong )((uint)uVar10 & 3);
            if (( uVar10 & 3 ) == 0) {
               if (( uVar10 != 0 ) && ( *(char*)( (long)pvVar3 + ( uVar10 - 1 ) ) == '=' )) {
                  if (uVar10 == 1) {
                     uVar5 = 1;
                  }
 else {
                     uVar5 = ( ulong )(*(char*)( (long)pvVar3 + ( uVar10 - 2 ) ) == '=') + 1;
                  }

               }

               lVar7 = ( uVar10 >> 2 ) * 3 - uVar5;
               param_2[1] = lVar7;
               lVar7 = ufbxi_push_size(param_1 + 0x1a58, 1, lVar7 + 3);
               *param_2 = lVar7;
               if (lVar7 == 0) {
                  LAB_0010b700:uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                  return uVar6;
               }

               ufbxi_decode_base64(lVar7, pvVar3, uVar10);
            }

         }

      }

      return 1;
   }

   undefined8 ufbxi_connect_op(long param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5) {
      undefined8 *puVar1;
      undefined8 uVar2;
      puVar1 = (undefined8*)ufbxi_push_size(param_1 + 0xaf0, 0x30, 1);
      if (puVar1 != (undefined8*)0x0) {
         *puVar1 = param_2;
         puVar1[1] = param_3;
         puVar1[2] = &ufbxi_empty_char;
         puVar1[3] = 0;
         puVar1[4] = param_4;
         puVar1[5] = param_5;
         return 1;
      }

      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   undefined8 ufbxi_connect_pp(long param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8) {
      undefined8 *puVar1;
      undefined8 uVar2;
      puVar1 = (undefined8*)ufbxi_push_size(param_1 + 0xaf0, 0x30, 1);
      if (puVar1 != (undefined8*)0x0) {
         *puVar1 = param_2;
         puVar1[1] = param_3;
         puVar1[2] = param_4;
         puVar1[3] = param_5;
         puVar1[4] = param_7;
         puVar1[5] = param_8;
         return 1;
      }

      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   undefined8 ufbxi_push_synthetic_id(long param_1, ulong *param_2) {
      ulong uVar1;
      undefined8 uVar2;
      uVar1 = ufbxi_push_size(param_1 + 0xa30, 8, 1);
      if (uVar1 != 0) {
         *param_2 = uVar1 >> 1 | 0x8000000000000000;
         return 1;
      }

      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   undefined8 ufbxi_connect_oo(long param_1, undefined8 param_2, undefined8 param_3) {
      undefined8 *puVar1;
      undefined8 uVar2;
      puVar1 = (undefined8*)ufbxi_push_size(param_1 + 0xaf0, 0x30, 1);
      if (puVar1 != (undefined8*)0x0) {
         puVar1[5] = 0;
         puVar1[4] = &ufbxi_empty_char;
         *puVar1 = param_2;
         puVar1[1] = param_3;
         puVar1[2] = puVar1[4];
         puVar1[3] = puVar1[5];
         return 1;
      }

      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   undefined8 ufbxi_finalize_mesh_material(undefined8 param_1, undefined8 param_2, long param_3) {
      uint uVar1;
      ulong uVar2;
      long lVar3;
      int *piVar4;
      long lVar5;
      ulong uVar6;
      long lVar7;
      undefined4 *puVar8;
      long lVar9;
      ulong uVar10;
      int *piVar11;
      int iVar12;
      int *local_48;
      uVar2 = *(ulong*)( param_3 + 0x3c8 );
      lVar3 = *(long*)( param_3 + 0xd0 );
      uVar10 = *(ulong*)( param_3 + 0x3a8 );
      piVar4 = *(int**)( param_3 + 0x3c0 );
      lVar5 = *(long*)( param_3 + 0xe8 );
      if (lVar3 == 0) {
         if (piVar4 == (int*)0x0) {
            return 1;
         }

         local_48 = piVar4 + uVar2 * 0x10;
         if (local_48 != piVar4) goto LAB_0010b9e6;
      }
 else {
         lVar7 = *(long*)( param_3 + 200 );
         lVar9 = 0;
         do {
            uVar1 = *(uint*)( lVar7 + 4 + lVar9 * 8 );
            if (lVar5 == 0) {
               LAB_0010b995:uVar6 = 0;
            }
 else {
               uVar6 = ( ulong ) * (uint*)( lVar5 + lVar9 * 4 );
               if (uVar10 <= uVar6) {
                  *(undefined4*)( lVar5 + lVar9 * 4 ) = 0;
                  goto LAB_0010b995;
               }

            }

            if (piVar4 != (int*)0x0) {
               *(long*)( piVar4 + uVar6 * 0x10 + 2 ) = *(long*)( piVar4 + uVar6 * 0x10 + 2 ) + 1;
               if (uVar1 < 3) {
                  *(long*)( piVar4 + uVar6 * 0x10 + (ulong)uVar1 * 2 + 6 ) = *(long*)( piVar4 + uVar6 * 0x10 + (ulong)uVar1 * 2 + 6 ) + 1;
               }
 else {
                  *(ulong*)( piVar4 + uVar6 * 0x10 + 4 ) = *(long*)( piVar4 + uVar6 * 0x10 + 4 ) + ( ulong )(uVar1 - 2);
               }

            }

            lVar9 = lVar9 + 1;
         }
 while ( lVar3 != lVar9 );
         if (piVar4 == (int*)0x0) {
            return 1;
         }

         local_48 = piVar4 + uVar2 * 0x10;
         if (local_48 != piVar4) {
            LAB_0010b9e6:iVar12 = 0;
            piVar11 = piVar4;
            do {
               *piVar11 = iVar12;
               iVar12 = iVar12 + 1;
               *(undefined8*)( piVar11 + 0xe ) = *(undefined8*)( piVar11 + 2 );
               lVar7 = ufbxi_push_size(param_1, 4);
               *(long*)( piVar11 + 0xc ) = lVar7;
               if (lVar7 == 0) goto LAB_0010ba30;
               piVar11[2] = 0;
               piVar11[3] = 0;
               piVar11 = piVar11 + 0x10;
            }
 while ( local_48 != piVar11 );
            if (lVar3 == 0) goto LAB_0010baa9;
         }

         lVar7 = 0;
         if (lVar5 != 0) goto LAB_0010ba92;
         uVar10 = 0;
         if (uVar2 == 0) {
            do {
               lVar7 = lVar7 + 1;
            }
 while ( lVar7 != lVar3 );
         }
 else {
            while (true) {
               lVar9 = *(long*)( piVar4 + uVar10 * 0x10 + 2 );
               *(long*)( piVar4 + uVar10 * 0x10 + 2 ) = lVar9 + 1;
               *(int*)( *(long*)( piVar4 + uVar10 * 0x10 + 0xc ) + lVar9 * 4 ) = (int)lVar7;
               lVar7 = lVar7 + 1;
               if (lVar3 == lVar7) break;
               uVar10 = 0;
               if (lVar5 != 0) {
                  LAB_0010ba92:while (uVar10 = ( ulong ) * (uint*)( lVar5 + lVar7 * 4 ),uVar2 <= uVar10) {
                     lVar7 = lVar7 + 1;
                     if (lVar3 == lVar7) goto LAB_0010baa9;
                  }
;
               }

            }
;
         }

      }

      LAB_0010baa9:*(ulong*)( param_3 + 1000 ) = uVar2;
      puVar8 = (undefined4*)ufbxi_push_size(param_1, 4, uVar2);
      *(undefined4**)( param_3 + 0x3e0 ) = puVar8;
      if (puVar8 == (undefined4*)0x0) {
         LAB_0010ba30:ufbxi_fail_imp_err_constprop_0(param_2, &_LC88);
         return 0;
      }

      uVar10 = 0;
      if (uVar2 != 0) {
         if (( uVar2 & 1 ) != 0) {
            *puVar8 = 0;
            uVar10 = 1;
            if (uVar2 == 1) goto LAB_0010bb05;
         }

         do {
            lVar3 = uVar10 + 1;
            puVar8[uVar10] = (int)uVar10;
            uVar10 = uVar10 + 2;
            puVar8[lVar3] = (int)lVar3;
         }
 while ( uVar2 != uVar10 );
      }

      LAB_0010bb05:ufbxi_unstable_sort(puVar8, uVar2, 4, ufbxi_material_part_usage_less, piVar4);
      return 1;
   }

   undefined8 ufbxi_finalize_nurbs_basis(long param_1, uint *param_2) {
      double dVar1;
      uint uVar2;
      double *pdVar3;
      ulong uVar4;
      long lVar5;
      ulong uVar6;
      undefined8 uVar7;
      long lVar8;
      long lVar9;
      double *pdVar10;
      double dVar11;
      uVar4 = 1;
      uVar2 = *param_2;
      if (( param_2[1] != 2 ) && ( uVar4 = ( ulong )(uVar2 - 1) ),param_2[1] != 1) {
         uVar4 = 0;
      }

      *(ulong*)( param_2 + 0x10 ) = uVar4;
      if (1 < uVar2) {
         uVar6 = ( ulong )(uVar2 - 1);
         uVar4 = *(ulong*)( param_2 + 4 );
         pdVar3 = *(double**)( param_2 + 2 );
         if (uVar6 * 2 + 1 <= uVar4) {
            pdVar10 = pdVar3 + uVar6;
            lVar9 = uVar4 - uVar6;
            *(double*)( param_2 + 6 ) = *pdVar10;
            *(double*)( param_2 + 8 ) = pdVar3[lVar9 + -1];
            lVar5 = ufbxi_push_size(param_1 + 0x1a58, 8, lVar9 - uVar6);
            if (lVar5 == 0) {
               uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar7;
            }

            lVar8 = 0;
            dVar11 = _LC76;
            do {
               dVar1 = *pdVar10;
               if (dVar1 != dVar11) {
                  *(double*)( lVar5 + lVar8 * 8 ) = dVar1;
                  lVar8 = lVar8 + 1;
                  dVar11 = dVar1;
               }

               pdVar10 = pdVar10 + 1;
            }
 while ( pdVar10 != pdVar3 + lVar9 );
            *(long*)( param_2 + 10 ) = lVar5;
            dVar11 = *pdVar3;
            uVar6 = 1;
            *(long*)( param_2 + 0xc ) = lVar8;
            *(undefined1*)( param_2 + 0x12 ) = 1;
            do {
               pdVar10 = pdVar3 + uVar6;
               if (*pdVar10 < dVar11) {
                  *(undefined1*)( param_2 + 0x12 ) = 0;
                  return 1;
               }

               uVar6 = uVar6 + 1;
               dVar11 = *pdVar10;
            }
 while ( uVar6 < uVar4 );
         }

      }

      return 1;
   }

   undefined8 ufbxi_push_file_content(long param_1, undefined8 *param_2, undefined8 *param_3) {
      undefined8 uVar1;
      undefined8 uVar2;
      undefined8 *puVar3;
      undefined8 uVar4;
      if (param_3[1] == 0) {
         return 1;
      }

      if (param_2[1] == 0) {
         return 1;
      }

      puVar3 = (undefined8*)ufbxi_push_size(param_1 + 0xab0, 0x20, 1);
      if (puVar3 != (undefined8*)0x0) {
         uVar4 = param_2[1];
         uVar1 = *param_3;
         uVar2 = param_3[1];
         *puVar3 = *param_2;
         puVar3[1] = uVar4;
         puVar3[2] = uVar1;
         puVar3[3] = uVar2;
         return 1;
      }

      uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar4;
   }

   undefined8 ufbxi_pop_texture_files(long param_1) {
      long lVar1;
      undefined8 *puVar2;
      undefined8 *puVar3;
      undefined8 uVar4;
      long lVar5;
      ulong uVar6;
      uVar6 = ( ulong ) * (uint*)( param_1 + 0x780 );
      puVar3 = (undefined8*)ufbxi_push_size(param_1 + 0x1a58, 0x78, uVar6);
      if (puVar3 != (undefined8*)0x0) {
         *(undefined8**)( param_1 + 0x2138 ) = puVar3;
         lVar5 = *(long*)( param_1 + 0x768 );
         *(ulong*)( param_1 + 0x2140 ) = uVar6;
         if (uVar6 != 0) {
            lVar1 = lVar5 + uVar6 * 0x10;
            do {
               puVar2 = *(undefined8**)( lVar5 + 8 );
               lVar5 = lVar5 + 0x10;
               uVar4 = puVar2[1];
               *puVar3 = *puVar2;
               puVar3[1] = uVar4;
               for (int i = 0; i < 6; i++) {
                  uVar4 = puVar2[( 2*i + 3 )];
                  puVar3[( 2*i + 2 )] = puVar2[( 2*i + 2 )];
                  puVar3[( 2*i + 3 )] = uVar4;
               }

               puVar3[0xe] = puVar2[0xe];
               puVar3 = puVar3 + 0xf;
            }
 while ( lVar5 != lVar1 );
         }

         return 1;
      }

      uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar4;
   }

   void *ufbxi_push_size_zero(undefined8 param_1, long param_2, long param_3) {
      void *__s;
      __s = (void*)ufbxi_push_size();
      if (__s != (void*)0x0) {
         __s = memset(__s, 0, param_2 * param_3);
      }

      return __s;
   }

   undefined8 ufbxi_push_anim(long param_1, long *param_2, undefined8 param_3, undefined8 param_4) {
      long lVar1;
      undefined8 uVar2;
      lVar1 = ufbxi_push_size_zero(param_1 + 0x1a58, 0x58, 1);
      if (lVar1 != 0) {
         *(undefined8*)( lVar1 + 0x10 ) = param_3;
         *(undefined8*)( lVar1 + 0x18 ) = param_4;
         *param_2 = lVar1;
         return 1;
      }

      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   /* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
   undefined8 ufbxi_add_constraint_prop(long param_1, long param_2, undefined8 param_3, char *param_4) {
      undefined8 uVar1;
      undefined8 uVar2;
      int iVar3;
      undefined8 *puVar4;
      undefined8 uVar5;
      undefined4 *puVar6;
      puVar6 = &ufbxi_constraint_props;
      do {
         iVar3 = strcmp(*(char**)( puVar6 + 2 ), param_4);
         if (iVar3 == 0) {
            switch (*puVar6) {
               case 0:
        *(undefined8 *)(param_2 + 0x98) = param_3;
        break;
               case 1:
        *(undefined8 *)(param_2 + 0x158) = param_3;
        break;
               case 2:
        *(undefined8 *)(param_2 + 0x160) = param_3;
        break;
               case 3:
        *(undefined8 *)(param_2 + 0x138) = param_3;
        break;
               case 4:
        puVar4 = (undefined8 *)ufbxi_push_size_zero(param_1 + 0xab0,0x60,1);
        uVar5 = _LC0;
        if (puVar4 == (undefined8 *)0x0) {
          uVar5 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
          return uVar5;
        }
        *puVar4 = param_3;
        puVar4[1] = uVar5;
        puVar4[2] = 0;
        *(undefined1 (*) [16])(puVar4 + 3) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar4 + 5) = (undefined1  [16])0x0;
        uVar2 = _UNK_0014eb58;
        uVar1 = __LC266;
        puVar4[0xb] = uVar5;
        puVar4[7] = uVar1;
        puVar4[8] = uVar2;
        uVar5 = _LC0;
        puVar4[9] = _LC0;
        puVar4[10] = uVar5;
            }

         }

         puVar6 = puVar6 + 4;
      }
 while ( puVar6 != (undefined4*)ufbxi_shader_pbr_mappings );
      return 1;
   }

   undefined8 ufbxi_assign_face_groups(undefined8 param_1, undefined8 param_2, long param_3, ulong *param_4, char param_5) {
      undefined8 uVar1;
      undefined8 uVar2;
      uint uVar3;
      undefined8 uVar4;
      uint uVar5;
      int *piVar6;
      undefined8 *puVar7;
      long lVar8;
      uint *puVar9;
      int *piVar10;
      undefined8 uVar11;
      int *piVar12;
      ulong uVar13;
      long lVar14;
      ulong uVar15;
      long lVar16;
      ulong uVar17;
      ulong uVar18;
      ulong uVar19;
      int iVar20;
      uint *puVar21;
      int iVar22;
      uint *puVar23;
      uint uVar24;
      int iVar25;
      long lVar26;
      long in_FS_OFFSET;
      bool bVar27;
      byte bVar28;
      uint local_848[514];
      long local_40;
      bVar28 = 0;
      uVar19 = *(ulong*)( param_3 + 0x90 );
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      if (( ( uVar19 - 1 < 0xfffffffe ) && ( *(ulong*)( param_3 + 0x100 ) == uVar19 ) ) && ( piVar6 = (int*)ufbxi_push_size(param_1, 4, uVar19) ),piVar6 != (int*)0x0) {
         puVar21 = *(uint**)( param_3 + 0xf8 );
         puVar23 = local_848;
         for (lVar14 = 0x100; lVar14 != 0; lVar14 = lVar14 + -1) {
            puVar23[0] = 0;
            puVar23[1] = 0;
            puVar23 = puVar23 + ( (ulong)bVar28 * -2 + 1 ) * 2;
         }

         puVar23 = puVar21 + *(long*)( param_3 + 0x100 );
         if (puVar21 == puVar23) {
            ufbxi_unstable_sort(piVar6, 0, 4, ufbxi_less_int32, 0);
            iVar25 = -0x61c88647;
         }
 else {
            uVar24 = 0x100;
            iVar25 = -0x61c88647;
            uVar13 = 0;
            do {
               while (true) {
                  uVar3 = *puVar21;
                  uVar17 = ( ulong )(uVar3 * iVar25 >> 0x18);
                  if (( local_848[uVar17 * 2] != uVar3 ) || ( local_848[uVar17 * 2 + 1] == 0 )) break;
                  puVar21 = puVar21 + 1;
                  uVar17 = uVar13;
                  if (puVar23 == puVar21) goto LAB_0010c180;
               }
;
               uVar5 = local_848[uVar17 * 2 + 1];
               *(ulong*)( local_848 + uVar17 * 2 ) = CONCAT44(uVar5 + 1, uVar3);
               if (uVar24 < uVar5 + 1) {
                  iVar25 = iVar25 * iVar25;
                  uVar24 = uVar24 * 2;
               }

               puVar21 = puVar21 + 1;
               uVar17 = ( ulong )((int)uVar13 + 1);
               piVar6[uVar13] = uVar3;
               uVar13 = uVar17;
            }
 while ( puVar23 != puVar21 );
            LAB_0010c180:ufbxi_unstable_sort(piVar6, uVar17, 4, ufbxi_less_int32, 0);
            if (uVar17 != 0) {
               uVar15 = 0;
               uVar13 = 0;
               iVar20 = *piVar6;
               LAB_0010c1d8:iVar22 = iVar20;
               uVar18 = uVar13 + 1;
               piVar6[uVar13] = iVar22;
               LAB_0010c1f4:uVar15 = uVar15 + 1;
               if (uVar15 < uVar17) goto LAB_0010c1e8;
               lVar14 = ufbxi_push_size_zero(param_1, 0x18);
               if (lVar14 != 0) {
                  puVar7 = (undefined8*)( lVar14 + 8 );
                  piVar12 = piVar6;
                  do {
                     iVar20 = *piVar12;
                     piVar12 = piVar12 + 1;
                     *puVar7 = &ufbxi_empty_char;
                     *(int*)( puVar7 + -1 ) = iVar20;
                     puVar7 = puVar7 + 3;
                  }
 while ( piVar6 + uVar18 != piVar12 );
                  *(long*)( param_3 + 0x3b0 ) = lVar14;
                  *(ulong*)( param_3 + 0x3b8 ) = uVar18;
                  if (param_5 == '\0') {
                     if (uVar18 == 1) {
                        memset(*(void**)( param_3 + 0xf8 ), 0, uVar19 * 4);
                        LAB_0010c57a:uVar13 = *param_4;
                        if (*param_4 < uVar19) {
                           uVar13 = uVar19;
                        }

                        *param_4 = uVar13;
                        uVar11 = 1;
                        goto LAB_0010c403;
                     }

                     piVar12 = (int*)0x0;
                     goto LAB_0010c28a;
                  }

                  piVar12 = (int*)ufbxi_push_size_zero(param_1);
                  if (piVar12 != (int*)0x0) {
                     *(int**)( param_3 + 0x3d0 ) = piVar12;
                     *(ulong*)( param_3 + 0x3d8 ) = uVar18;
                     if (uVar18 == 1) {
                        memset(*(void**)( param_3 + 0xf8 ), 0, uVar19 * 4);
                        uVar11 = *(undefined8*)( param_3 + 0xb0 );
                        *(undefined4**)( piVar12 + 0xc ) = &ufbxi_sentinel_index_consecutive;
                        uVar4 = *(undefined8*)( param_3 + 0xc0 );
                        uVar1 = *(undefined8*)( param_3 + 0x98 );
                        uVar2 = *(undefined8*)( param_3 + 0xb8 );
                        *(ulong*)( piVar12 + 0xe ) = uVar19;
                        *(undefined8*)( piVar12 + 10 ) = uVar4;
                        *(ulong*)( piVar12 + 2 ) = uVar19;
                        *(undefined8*)( piVar12 + 4 ) = uVar1;
                        *(undefined8*)( piVar12 + 6 ) = uVar11;
                        *(undefined8*)( piVar12 + 8 ) = uVar2;
                        goto LAB_0010c57a;
                     }

                     goto LAB_0010c28a;
                  }

               }

               goto LAB_0010c3f2;
            }

         }

         lVar14 = ufbxi_push_size_zero(param_1, 0x18, 0);
         if (lVar14 != 0) {
            *(long*)( param_3 + 0x3b0 ) = lVar14;
            *(undefined8*)( param_3 + 0x3b8 ) = 0;
            if (param_5 == '\0') {
               uVar18 = 0;
               piVar12 = (int*)0x0;
            }
 else {
               piVar12 = (int*)ufbxi_push_size_zero(param_1, 0x40, 0);
               if (piVar12 == (int*)0x0) goto LAB_0010c3f2;
               *(int**)( param_3 + 0x3d0 ) = piVar12;
               uVar18 = 0;
               *(undefined8*)( param_3 + 0x3d8 ) = 0;
            }

            LAB_0010c28a:puVar21 = *(uint**)( param_3 + 0xf8 );
            puVar23 = local_848;
            for (lVar16 = 0x100; lVar16 != 0; lVar16 = lVar16 + -1) {
               puVar23[0] = 0;
               puVar23[1] = 0;
               puVar23 = puVar23 + ( (ulong)bVar28 * -2 + 1 ) * 2;
            }

            lVar16 = *(long*)( param_3 + 0x100 );
            lVar26 = *(long*)( param_3 + 200 );
            for (puVar23 = puVar21; puVar23 != puVar21 + lVar16; puVar23 = puVar23 + 1) {
               uVar24 = *puVar23;
               uVar3 = *(uint*)( lVar26 + 4 );
               uVar19 = ( ulong )(uVar24 * iVar25 >> 0x18);
               if (( local_848[uVar19 * 2] == uVar24 ) && ( local_848[uVar19 * 2 + 1] != 0 )) {
                  uVar5 = local_848[uVar19 * 2 + 1] - 1;
                  uVar17 = (ulong)uVar5;
                  *puVar23 = uVar5;
               }
 else {
                  uVar13 = uVar18;
                  if (uVar18 < 9) {
                     uVar17 = 0;
                  }
 else {
                     uVar17 = 0;
                     uVar15 = uVar18;
                     do {
                        lVar8 = ( uVar15 >> 1 ) + uVar17;
                        uVar15 = lVar8 + 1;
                        if (*(int*)( lVar14 + lVar8 * 0x18 ) < (int)uVar24) {
                           uVar17 = uVar15;
                           uVar15 = uVar13;
                        }

                        uVar13 = uVar15;
                        uVar15 = uVar13 - uVar17;
                     }
 while ( 8 < uVar15 );
                  }

                  if (uVar17 < uVar13) {
                     puVar9 = (uint*)( lVar14 + uVar17 * 0x18 );
                     do {
                        if (*puVar9 == uVar24) {
                           uVar5 = (uint)uVar17;
                           iVar20 = uVar5 + 1;
                           goto LAB_0010c3aa;
                        }

                        uVar17 = uVar17 + 1;
                        puVar9 = puVar9 + 6;
                     }
 while ( uVar17 != uVar13 );
                  }

                  iVar20 = 0;
                  uVar5 = 0xffffffff;
                  uVar17 = 0xffffffffffffffff;
                  LAB_0010c3aa:*(ulong*)( local_848 + uVar19 * 2 ) = CONCAT44(iVar20, uVar24);
               }

               if (piVar12 != (int*)0x0) {
                  *(long*)( piVar12 + uVar17 * 0x10 + 2 ) = *(long*)( piVar12 + uVar17 * 0x10 + 2 ) + 1;
                  if (uVar3 < 3) {
                     *(long*)( piVar12 + uVar17 * 0x10 + (ulong)uVar3 * 2 + 6 ) = *(long*)( piVar12 + uVar17 * 0x10 + (ulong)uVar3 * 2 + 6 ) + 1;
                  }
 else {
                     *(ulong*)( piVar12 + uVar17 * 0x10 + 4 ) = *(long*)( piVar12 + uVar17 * 0x10 + 4 ) + ( ulong )(uVar3 - 2);
                  }

               }

               *puVar23 = uVar5;
               lVar26 = lVar26 + 8;
            }

            if (piVar12 != (int*)0x0) {
               iVar25 = 0;
               for (piVar10 = piVar12; piVar12 + uVar18 * 0x10 != piVar10; piVar10 = piVar10 + 0x10) {
                  *(int**)( piVar10 + 0xc ) = piVar6;
                  *piVar10 = iVar25;
                  piVar6 = piVar6 + *(long*)( piVar10 + 2 );
                  iVar25 = iVar25 + 1;
               }

               lVar14 = *(long*)( param_3 + 0x100 );
               if (puVar21 != puVar21 + lVar14) {
                  uVar19 = 0;
                  do {
                     uVar24 = puVar21[uVar19];
                     lVar16 = *(long*)( piVar12 + (ulong)uVar24 * 0x10 + 0xe );
                     lVar26 = *(long*)( piVar12 + (ulong)uVar24 * 0x10 + 0xc );
                     *(long*)( piVar12 + (ulong)uVar24 * 0x10 + 0xe ) = lVar16 + 1;
                     *(int*)( lVar26 + lVar16 * 4 ) = (int)uVar19;
                     bVar27 = ( ulong )((long)( puVar21 + lVar14 ) + ( -4 - (long)puVar21 )) >> 2 != uVar19;
                     uVar19 = uVar19 + 1;
                  }
 while ( bVar27 );
               }

            }

            uVar11 = 1;
            goto LAB_0010c403;
         }

      }

      LAB_0010c3f2:ufbxi_fail_imp_err_constprop_0(param_2, &_LC88);
      uVar11 = 0;
      LAB_0010c403:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return uVar11;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
      LAB_0010c1e8:uVar13 = uVar18;
      iVar20 = piVar6[uVar15];
      if (piVar6[uVar15] != iVar22) goto LAB_0010c1d8;
      goto LAB_0010c1f4;
   }

   undefined8 ufbxi_push_anim_string(long param_1, undefined8 *param_2) {
      size_t __n;
      void *pvVar1;
      __n = param_2[1];
      if (__n != 0) {
         pvVar1 = (void*)ufbxi_push_size(param_1 + 0x2f0, 1, __n + 1);
         if (pvVar1 == (void*)0x0) {
            ufbxi_fail_imp_err_constprop_0(param_1, &_LC88);
            return 0;
         }

         pvVar1 = memcpy(pvVar1, (void*)*param_2, __n);
         *(undefined1*)( (long)pvVar1 + param_2[1] ) = 0;
         *param_2 = pvVar1;
      }

      return 1;
   }

   undefined8 ufbxi_process_indices(long param_1, long param_2, uint *param_3) {
      int *piVar1;
      ulong uVar2;
      uint uVar3;
      int iVar4;
      undefined4 *puVar5;
      undefined8 uVar6;
      void *__s;
      ulong uVar7;
      long lVar8;
      uint *puVar9;
      ulong uVar10;
      uint *puVar11;
      size_t __n;
      undefined4 *puVar12;
      uint uVar13;
      long lVar14;
      long in_FS_OFFSET;
      undefined1 local_58[16];
      undefined8 local_48;
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      if (param_3 == param_3 + *(long*)( param_2 + 0x88 )) {
         lVar8 = 0;
      }
 else {
         lVar8 = 0;
         puVar9 = param_3;
         do {
            uVar3 = *puVar9;
            puVar9 = puVar9 + 1;
            lVar8 = lVar8 + ( ulong )(uVar3 >> 0x1f);
         }
 while ( param_3 + *(long*)( param_2 + 0x88 ) != puVar9 );
      }

      puVar5 = (undefined4*)ufbxi_push_size(param_1 + 0x1a58, 8, lVar8);
      *(undefined4**)( param_2 + 200 ) = puVar5;
      if (puVar5 != (undefined4*)0x0) {
         lVar8 = *(long*)( param_2 + 0x88 );
         local_48 = 0;
         uVar2 = *(ulong*)( param_2 + 0x80 );
         local_58 = (undefined1[16])0x0;
         if (param_3 == param_3 + lVar8) {
            uVar7 = 0;
            local_58._0_8_ = 0;
            lVar8 = 0;
            lVar14 = 0;
            local_58._8_8_ = uVar7;
         }
 else {
            uVar7 = 0;
            lVar14 = 0;
            puVar9 = param_3;
            puVar11 = param_3;
            puVar12 = puVar5;
            do {
               uVar3 = *puVar11;
               if ((int)uVar3 < 0) {
                  uVar3 = ~uVar3;
                  *puVar11 = uVar3;
                  iVar4 = (int)( (long)puVar11 - (long)puVar9 >> 2 );
                  uVar13 = iVar4 + 1;
                  *puVar12 = (int)( (long)puVar9 - (long)param_3 >> 2 );
                  puVar12[1] = uVar13;
                  if (uVar13 < 3) {
                     *(long*)( local_58 + (ulong)uVar13 * 8 ) = *(long*)( local_58 + (ulong)uVar13 * 8 ) + 1;
                  }
 else {
                     uVar10 = ( ulong )(iVar4 - 1);
                     lVar14 = lVar14 + uVar10;
                     if (uVar7 < uVar10) {
                        uVar7 = uVar10;
                     }

                  }

                  puVar12 = puVar12 + 2;
                  puVar9 = puVar11 + 1;
               }

               if (uVar2 <= uVar3) goto LAB_0010c826;
               puVar11 = puVar11 + 1;
            }
 while ( param_3 + lVar8 != puVar11 );
            lVar8 = (long)puVar12 - (long)puVar5 >> 3;
         }

         *(long*)( param_2 + 0x90 ) = lVar8;
         *(long*)( param_2 + 0xd0 ) = lVar8;
         *(uint**)( param_2 + 0x1a0 ) = param_3;
         *(long*)( param_2 + 0x98 ) = lVar14;
         *(ulong*)( param_2 + 0x180 ) = uVar2;
         *(ulong*)( param_2 + 0xa8 ) = uVar7;
         *(undefined8*)( param_2 + 0xb0 ) = local_58._0_8_;
         *(undefined8*)( param_2 + 0xb8 ) = local_58._8_8_;
         *(undefined8*)( param_2 + 0xc0 ) = local_48;
         __s = (void*)ufbxi_push_size(param_1 + 0x1a58, 4, uVar2);
         *(void**)( param_2 + 0x178 ) = __s;
         if (__s != (void*)0x0) {
            __n = *(long*)( param_2 + 0x180 ) << 2;
            if (__n != 0) {
               memset(__s, 0xff, __n);
            }

            lVar8 = *(long*)( param_2 + 0x88 );
            uVar2 = *(ulong*)( param_2 + 0x80 );
            lVar14 = 0;
            puVar9 = *(uint**)( param_2 + 0x158 );
            if (lVar8 != 0) {
               do {
                  while (uVar7 = ( ulong ) * puVar9,uVar2 <= uVar7) {
                     iVar4 = ufbxi_fix_index(param_1, puVar9, uVar7, *(undefined8*)( param_2 + 0x80 ));
                     if (iVar4 == 0) goto LAB_0010c826;
                     lVar14 = lVar14 + 1;
                     puVar9 = puVar9 + 1;
                     if (lVar8 == lVar14) goto LAB_0010c976;
                  }
;
                  piVar1 = (int*)( (long)__s + uVar7 * 4 );
                  if (*piVar1 == -1) {
                     *piVar1 = (int)lVar14;
                  }

                  lVar14 = lVar14 + 1;
                  puVar9 = puVar9 + 1;
               }
 while ( lVar8 != lVar14 );
            }

            LAB_0010c976:uVar2 = *(ulong*)( param_2 + 0x90 );
            uVar7 = *(ulong*)( param_1 + 0xa20 );
            if (*(ulong*)( param_1 + 0xa20 ) < uVar2) {
               uVar7 = uVar2;
            }

            *(ulong*)( param_1 + 0xa20 ) = uVar7;
            uVar7 = *(ulong*)( param_1 + 0xa28 );
            if (*(ulong*)( param_1 + 0xa28 ) < uVar2) {
               uVar7 = uVar2;
            }

            *(ulong*)( param_1 + 0xa28 ) = uVar7;
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_0010c9e9;
         }

      }

      LAB_0010c826:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar6;
      }

      LAB_0010c9e9:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   undefined8 ufbxi_check_indices(long param_1, long *param_2, void *param_3, char param_4, ulong param_5, ulong param_6, ulong param_7) {
      uint uVar1;
      int iVar2;
      undefined8 uVar3;
      void *__dest;
      ulong uVar4;
      uint *puVar5;
      if (param_5 < param_6) {
         __dest = (void*)ufbxi_push_size(param_1 + 0x1a58, 4, param_6);
         if (__dest == (void*)0x0) {
            LAB_0010ca96:uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar3;
         }

         param_3 = memcpy(__dest, param_3, param_5 * 4);
         memset((void*)( (long)param_3 + param_5 * 4 ), 0xff, ( param_6 - param_5 ) * 4);
         param_4 = '\x01';
      }
 else {
         param_6 = param_5;
         if (param_5 == 0) goto LAB_0010cab8;
      }

      uVar4 = 0;
      do {
         puVar5 = (uint*)( (long)param_3 + uVar4 * 4 );
         uVar1 = *puVar5;
         if (param_7 <= uVar1) {
            if (param_4 == '\0') {
               param_3 = (void*)ufbxi_push_size_copy(param_1 + 0x1a58, 4, param_6, param_3);
               if (param_3 == (void*)0x0) goto LAB_0010ca96;
               puVar5 = (uint*)( (long)param_3 + uVar4 * 4 );
            }

            iVar2 = ufbxi_fix_index(param_1, puVar5, (ulong)uVar1, param_7);
            if (iVar2 == 0) goto LAB_0010ca96;
            param_4 = '\x01';
         }

         uVar4 = uVar4 + 1;
      }
 while ( param_6 != uVar4 );
      LAB_0010cab8:*param_2 = (long)param_3;
      return 1;
   }

   long ufbxi_push_pop_size(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4) {
      long lVar1;
      lVar1 = ufbxi_push_size(param_1, param_3, param_4);
      if (lVar1 != 0) {
         ufbxi_pop_size(param_2, param_3, param_4, lVar1, 0);
      }

      return lVar1;
   }

   undefined8 ufbxi_add_connections_to_elements(long param_1) {
      long *plVar1;
      long *plVar2;
      long *plVar3;
      undefined8 *puVar4;
      long *plVar5;
      long lVar6;
      ulong uVar7;
      uint *__s2;
      bool bVar8;
      int iVar9;
      long *plVar10;
      long lVar11;
      undefined8 *puVar12;
      undefined8 *puVar13;
      ulong uVar14;
      undefined8 uVar15;
      long *plVar16;
      ulong __n;
      undefined8 *puVar17;
      long *plVar18;
      long lVar19;
      long lVar20;
      uint uVar21;
      long *plVar22;
      uint uVar23;
      long in_FS_OFFSET;
      byte bVar24;
      long local_f8;
      long local_d0;
      undefined8 local_a8[2];
      undefined4 uStack_94;
      undefined8 local_60;
      undefined8 uStack_58;
      undefined8 local_50;
      long local_40;
      bVar24 = 0;
      lVar20 = param_1 + 0xab0;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      plVar5 = *(long**)( param_1 + 0x2148 );
      plVar1 = *(long**)( param_1 + 0x2158 ) + *(long*)( param_1 + 0x2160 ) * 6;
      plVar2 = *(long**)( param_1 + 0x2168 ) + *(long*)( param_1 + 0x2170 ) * 6;
      plVar3 = plVar5 + *(long*)( param_1 + 0x2150 );
      plVar22 = *(long**)( param_1 + 0x2168 );
      plVar10 = *(long**)( param_1 + 0x2158 );
      do {
         if (plVar5 == plVar3) {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            LAB_0010d34b:/* WARNING: Subroutine does not return */__stack_chk_fail();
         }

         lVar6 = *plVar5;
         uVar23 = *(uint*)( lVar6 + 0x30 );
         if (plVar10 < plVar1) {
            do {
               if (uVar23 <= *(uint*)( *plVar10 + 0x30 )) goto joined_r0x0010cc64;
               plVar10 = plVar10 + 6;
               if (plVar1 <= plVar10) goto joined_r0x0010cc64;
            }
 while ( true );
         }

         if (plVar22 < plVar2) {
            do if (( uVar9 < uVar7 ) && ( uVar12 < uVar11 )) LAB_00114413:if (uVar16 < uVar11) {
               lVar5 = 0;
               do {
                  puVar14 = (undefined8*)( (long)puVar8 + lVar5 + uVar16 * 0x18 );
                  uVar6 = puVar14[1];
                  puVar13 = (undefined8*)( (long)puVar10 + lVar5 + local_88 * 0x18 );
                  *puVar13 = *puVar14;
                  puVar13[1] = uVar6;
                  *(undefined8*)( (long)puVar10 + lVar5 + local_88 * 0x18 + 0x10 ) = *(undefined8*)( (long)puVar8 + lVar5 + uVar16 * 0x18 + 0x10 );
                  lVar5 = lVar5 + 0x18;
               }
 while ( ( uVar11 - uVar16 ) * 0x18 != lVar5 );
            }
 while ( uVar15 < param_3 );
            puVar14 = puVar10;
            uVar12 = uVar4;
         }

         while (uVar4 < param_3) ;;;
         if (param_2 != puVar10) {
            memcpy(param_2, puVar10, param_3 * 0x18);
         }

      }
 while ( plVar4= plVar5 + 2,lVar9 = lVar8,*plVar5 != *plVar4 );
      {
         if (lVar8 == lVar7) goto LAB_001146d6;
         lVar1 = plVar5[3];
         lVar7 = lVar7 + 1;
         lVar9 = lVar8 + 1;
         plVar3[lVar8 * 2] = *plVar4;
         ( plVar3 + lVar8 * 2 )[1] = lVar1;
         lVar8 = lVar9;
         plVar5 = plVar4;
         if (param_5 == lVar7) goto LAB_00114716;
      }

   }

}
LAB_00114716:ufbxi_stable_sort(0x10, 0x10, plVar3, *(undefined8*)( param_1 + 0xa00 ), lVar9, ufbxi_ordered_texture_less_order, 0);*param_4 = lVar9;*param_3 = plVar3;return 1;}
  }uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);return uVar6;}undefined8 ufbxi_fetch_file_textures(long param_1) {
   long lVar1;
   undefined8 *puVar2;
   long lVar3;
   int iVar4;
   long lVar5;
   char *pcVar6;
   undefined8 uVar7;
   long lVar8;
   long lVar9;
   long *plVar10;
   long *plVar11;
   long lVar12;
   undefined8 *puVar13;
   long *plVar14;
   long lVar15;
   undefined8 *puVar16;
   long in_FS_OFFSET;
   bool bVar17;
   long local_80;
   long local_68;
   long local_60;
   long *local_58;
   long local_50;
   undefined8 *local_48;
   long local_40;
   lVar1 = param_1 + 0xab0;
   lVar12 = *(long*)( param_1 + 0x2030 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar5 = ufbxi_push_size_copy(lVar1, 8, lVar12, *(undefined8*)( param_1 + 0x2028 ));
   if (( lVar5 == 0 ) || ( lVar5 = ufbxi_push_size_zero(param_1 + 0xa30, 1, *(undefined8*)( param_1 + 0x2030 )) ),lVar5 == 0) {
      LAB_00114943:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar7;
      }

   }
 else {
      if (lVar12 != 0) {
         local_80 = lVar12 + -1;
         LAB_00114820:do {
            local_68 = 0;
            ufbxi_pop_size(lVar1, 8, 1, &local_68, 0);
            lVar8 = local_68;
            pcVar6 = (char*)( ( ulong ) * (uint*)( local_68 + 0x34 ) + lVar5 );
            if (*pcVar6 != '\x02') {
               lVar3 = *(long*)( local_68 + 0x118 );
               if (*pcVar6 == '\x01') {
                  *pcVar6 = '\x02';
                  lVar12 = param_1 + 0xa70;
                  ufbxi_buf_clear(lVar12);
                  local_60 = 0;
                  if (*(int*)( local_68 + 0x80 ) == 0) {
                     plVar11 = (long*)ufbxi_push_size(lVar1, 0x10, 1);
                     if (plVar11 == (long*)0x0) goto LAB_00114943;
                     plVar11[1] = 0;
                     local_60 = 1;
                     *plVar11 = local_68;
                  }

                  plVar14 = *(long**)( local_68 + 0x108 );
                  plVar11 = plVar14 + *(long*)( local_68 + 0x110 ) * 3;
                  for (; plVar14 != plVar11; plVar14 = plVar14 + 3) {
                     while (lVar8 = *plVar14,*(long*)( lVar8 + 0x128 ) == 0) {
                        plVar14 = plVar14 + 3;
                        if (plVar11 == plVar14) goto LAB_00114a67;
                     }
;
                     plVar10 = (long*)ufbxi_push_size(lVar1, 0x10, 1);
                     if (plVar10 == (long*)0x0) goto LAB_00114943;
                     *plVar10 = lVar8;
                     plVar10[1] = local_60;
                     local_60 = local_60 + 1;
                  }

                  LAB_00114a67:if (lVar3 != 0) {
                     lVar15 = *(long*)( lVar3 + 0x20 );
                     lVar8 = lVar15 + *(long*)( lVar3 + 0x28 ) * 0x88;
                     for (; lVar15 != lVar8; lVar15 = lVar15 + 0x88) {
                        lVar3 = *(long*)( lVar15 + 0x58 );
                        if (( lVar3 != 0 ) && ( *(long*)( lVar3 + 0x128 ) != 0 )) {
                           plVar11 = (long*)ufbxi_push_size(lVar1, 0x10, 1);
                           if (plVar11 == (long*)0x0) goto LAB_00114943;
                           *plVar11 = lVar3;
                           plVar11[1] = local_60;
                           local_60 = local_60 + 1;
                        }

                     }

                  }

                  iVar4 = ufbxi_deduplicate_textures(param_1, lVar12, &local_58, &local_60);
                  if (iVar4 == 0) goto LAB_00114943;
                  if (local_60 == 1) {
                     uVar7 = *(undefined8*)( *local_58 + 0x128 );
                     *(undefined8*)( local_68 + 0x120 ) = *(undefined8*)( *local_58 + 0x120 );
                     *(undefined8*)( local_68 + 0x128 ) = uVar7;
                  }
 else {
                     local_50 = 0;
                     plVar11 = local_58 + local_60 * 2;
                     for (plVar14 = local_58; plVar11 != plVar14; plVar14 = plVar14 + 2) {
                        puVar16 = *(undefined8**)( *plVar14 + 0x120 );
                        puVar2 = puVar16 + *(long*)( *plVar14 + 0x128 );
                        for (; puVar16 != puVar2; puVar16 = puVar16 + 1) {
                           puVar13 = (undefined8*)ufbxi_push_size(lVar1, 0x10, 1);
                           if (puVar13 == (undefined8*)0x0) goto LAB_00114943;
                           *puVar13 = *puVar16;
                           puVar13[1] = local_50;
                           local_50 = local_50 + 1;
                        }

                     }

                     iVar4 = ufbxi_deduplicate_textures(param_1, lVar12, &local_48, &local_50);
                     lVar8 = local_50;
                     lVar12 = local_68;
                     if (iVar4 == 0) goto LAB_00114943;
                     *(long*)( local_68 + 0x128 ) = local_50;
                     uVar7 = ufbxi_push_size(param_1 + 0x1a58, 8, local_50);
                     *(undefined8*)( lVar12 + 0x120 ) = uVar7;
                     if (*(undefined8**)( local_68 + 0x120 ) == (undefined8*)0x0) goto LAB_00114943;
                     if (( lVar8 != 0 ) && ( **(undefined8**)( local_68 + 0x120 ) = lVar8 != 1 )) {
                        lVar12 = 8;
                        do {
                           *(undefined8*)( *(long*)( local_68 + 0x120 ) + lVar12 ) = *(undefined8*)( (long)local_48 + lVar12 * 2 );
                           lVar12 = lVar12 + 8;
                        }
 while ( lVar12 != lVar8 << 3 );
                     }

                  }

               }
 else {
                  if (*(int*)( local_68 + 0x80 ) == 0) {
                     *(undefined8*)( local_68 + 0x128 ) = 1;
                     uVar7 = ufbxi_push_size(param_1 + 0x1a58, 8, 1);
                     *(undefined8*)( lVar8 + 0x120 ) = uVar7;
                     if (*(long**)( local_68 + 0x120 ) == (long*)0x0) goto LAB_00114943;
                     lVar8 = *(long*)( local_68 + 0x118 );
                     **(long**)( local_68 + 0x120 ) = local_68;
                     if (lVar8 == 0) {
                        *(undefined1*)( lVar5 + ( ulong ) * (uint*)( local_68 + 0x34 ) ) = 2;
                        goto LAB_00114983;
                     }

                     pcVar6 = (char*)( ( ulong ) * (uint*)( local_68 + 0x34 ) + lVar5 );
                  }

                  *pcVar6 = '\x01';
                  lVar8 = ufbxi_push_size_copy(lVar1, 8, 1, &local_68);
                  if (lVar8 == 0) goto LAB_00114943;
                  lVar15 = *(long*)( local_68 + 0x108 );
                  lVar8 = lVar15 + *(long*)( local_68 + 0x110 ) * 0x18;
                  if (lVar15 == lVar8) {
                     if (lVar3 == 0) goto LAB_00114820;
                  }
 else {
                     do {
                        lVar9 = ufbxi_push_size_copy(lVar1, 8, 1, lVar15);
                        if (lVar9 == 0) goto LAB_00114943;
                        lVar15 = lVar15 + 0x18;
                        local_80 = lVar12 + 1;
                        lVar12 = local_80;
                     }
 while ( lVar8 != lVar15 );
                     if (lVar3 == 0) goto LAB_00114983;
                  }

                  lVar15 = *(long*)( lVar3 + 0x20 );
                  lVar8 = lVar15 + *(long*)( lVar3 + 0x28 ) * 0x88;
                  local_80 = lVar12;
                  for (; lVar15 != lVar8; lVar15 = lVar15 + 0x88) {
                     if (*(long*)( lVar15 + 0x58 ) != 0) {
                        lVar12 = ufbxi_push_size_copy(lVar1, 8, 1, lVar15 + 0x58);
                        if (lVar12 == 0) goto LAB_00114943;
                        local_80 = local_80 + 1;
                     }

                  }

               }

            }

            LAB_00114983:bVar17 = local_80 != 0;
            lVar12 = local_80;
            local_80 = local_80 + -1;
         }
 while ( bVar17 );
      }

      if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_sort_bake_times(long param_1, double *param_2, ulong param_3) {
   undefined8 *puVar1;
   undefined8 *puVar2;
   double dVar3;
   undefined8 uVar4;
   char cVar5;
   ulong uVar6;
   long lVar7;
   double *pdVar8;
   ulong uVar9;
   ulong uVar10;
   double *pdVar11;
   ulong uVar12;
   ulong uVar13;
   double *pdVar14;
   ulong uVar15;
   ulong uVar16;
   double *pdVar17;
   double *pdVar18;
   ulong uVar19;
   cVar5 = ufbxi_grow_array_size(param_1 + 0x268, 1, param_1 + 0x5d8, param_1 + 0x5e0, param_3 << 4);
   if (cVar5 == '\0') {
      ufbxi_fail_imp_err_constprop_0(param_1, &_LC88);
      return 0;
   }

   pdVar11 = *(double**)( param_1 + 0x5d8 );
   if (param_3 != 0) {
      uVar10 = 1;
      uVar19 = 0;
      pdVar17 = param_2;
      do {
         uVar6 = uVar19 + 0x20;
         uVar13 = uVar6;
         if (param_3 <= uVar6) {
            uVar13 = param_3;
         }

         uVar12 = uVar10;
         pdVar18 = pdVar17;
         if (uVar10 < uVar13) {
            do {
               pdVar14 = pdVar18 + 2;
               dVar3 = pdVar18[3];
               *pdVar11 = *pdVar14;
               pdVar11[1] = dVar3;
               pdVar18 = pdVar14;
               pdVar8 = pdVar14;
               for (uVar16 = uVar12; uVar16 != uVar19; uVar16 = uVar16 - 1) {
                  dVar3 = pdVar18[-2];
                  if (NAN(dVar3) || NAN(*pdVar11)) {
                     LAB_00115018:pdVar8 = param_2 + uVar16 * 2;
                     break;
                  }

                  if (dVar3 == *pdVar11) {
                     if (( ( *(uint*)( pdVar11 + 1 ) & 3 ) == ( *(uint*)( pdVar18 + -1 ) & 3 ) ) || ( ( *(uint*)( pdVar18 + -1 ) & 3 ^ 1 ) <= ( *(uint*)( pdVar11 + 1 ) & 3 ^ 1 ) )) goto LAB_00115018;
                  }
 else if (dVar3 < *pdVar11 || dVar3 == *pdVar11) goto LAB_00115018;
                  *pdVar18 = pdVar18[-2];
                  pdVar18[1] = pdVar18[-1];
                  pdVar18 = pdVar18 + -2;
                  pdVar8 = pdVar17;
               }

               dVar3 = pdVar11[1];
               uVar12 = uVar12 + 1;
               *pdVar8 = *pdVar11;
               pdVar8[1] = dVar3;
               pdVar18 = pdVar14;
            }
 while ( uVar12 != uVar13 );
         }

         uVar10 = uVar10 + 0x20;
         pdVar17 = pdVar17 + 0x40;
         uVar19 = uVar6;
      }
 while ( uVar6 < param_3 );
      pdVar17 = param_2;
      uVar19 = 0x20;
      if (0x20 < param_3) {
         do {
            pdVar18 = pdVar11;
            pdVar11 = pdVar17;
            uVar10 = uVar19 * 2;
            uVar13 = 0;
            do {
               uVar12 = uVar13 + uVar10;
               uVar6 = param_3;
               if (uVar19 <= param_3) {
                  uVar6 = uVar19;
               }

               uVar16 = uVar12;
               if (param_3 <= uVar12) {
                  uVar16 = param_3;
               }

               uVar9 = uVar19;
               uVar15 = uVar13;
               if (( uVar19 < uVar16 ) && ( uVar13 < uVar6 )) {
                  pdVar17 = pdVar18 + uVar13 * 2;
                  do {
                     pdVar8 = pdVar11 + uVar13 * 2;
                     pdVar14 = pdVar11 + uVar9 * 2;
                     dVar3 = *pdVar8;
                     if (NAN(dVar3) || NAN(*pdVar14)) {
                        LAB_00114f4d:dVar3 = pdVar8[1];
                        *pdVar17 = *pdVar8;
                        pdVar17[1] = dVar3;
                        LAB_00114f59:uVar13 = uVar13 + 1;
                     }
 else {
                        if (dVar3 == *pdVar14) {
                           if (( *(uint*)( pdVar14 + 1 ) & 3 ) == ( *(uint*)( pdVar8 + 1 ) & 3 )) goto LAB_00114f4d;
                           if (( *(uint*)( pdVar14 + 1 ) & 3 ^ 1 ) < ( *(uint*)( pdVar8 + 1 ) & 3 ^ 1 )) goto LAB_00114f00;
                           dVar3 = pdVar8[1];
                           *pdVar17 = *pdVar8;
                           pdVar17[1] = dVar3;
                           goto LAB_00114f59;
                        }

                        if (dVar3 < *pdVar14 || dVar3 == *pdVar14) goto LAB_00114f4d;
                        LAB_00114f00:dVar3 = pdVar14[1];
                        uVar9 = uVar9 + 1;
                        *pdVar17 = *pdVar14;
                        pdVar17[1] = dVar3;
                     }

                     if (uVar6 <= uVar13) {
                        uVar15 = uVar15 + 1;
                        goto LAB_00114f6b;
                     }

                     pdVar17 = pdVar17 + 2;
                     uVar15 = uVar15 + 1;
                  }
 while ( uVar9 < uVar16 );
               }

               if (uVar13 < uVar6) {
                  lVar7 = 0;
                  do {
                     puVar1 = (undefined8*)( (long)pdVar11 + lVar7 + uVar13 * 0x10 );
                     uVar4 = puVar1[1];
                     puVar2 = (undefined8*)( (long)pdVar18 + lVar7 + uVar15 * 0x10 );
                     *puVar2 = *puVar1;
                     puVar2[1] = uVar4;
                     lVar7 = lVar7 + 0x10;
                  }
 while ( lVar7 != ( uVar6 - uVar13 ) * 0x10 );
                  uVar15 = ( uVar6 + uVar15 ) - uVar13;
               }

               LAB_00114f6b:if (uVar9 < uVar16) {
                  lVar7 = 0;
                  do {
                     puVar1 = (undefined8*)( (long)pdVar11 + lVar7 + uVar9 * 0x10 );
                     uVar4 = puVar1[1];
                     puVar2 = (undefined8*)( (long)pdVar18 + lVar7 + uVar15 * 0x10 );
                     *puVar2 = *puVar1;
                     puVar2[1] = uVar4;
                     lVar7 = lVar7 + 0x10;
                  }
 while ( lVar7 != ( uVar16 - uVar9 ) * 0x10 );
               }

               uVar19 = uVar19 + uVar10;
               uVar13 = uVar12;
            }
 while ( uVar12 < param_3 );
            pdVar17 = pdVar18;
            uVar19 = uVar10;
         }
 while ( uVar10 < param_3 );
         if (param_2 != pdVar18) {
            memcpy(param_2, pdVar18, param_3 << 4);
         }

      }

   }

   return 1;
}
undefined8 ufbxi_finalize_bake_times(long param_1, undefined8 *param_2) {
   undefined8 uVar1;
   double dVar2;
   double dVar3;
   long lVar4;
   int iVar5;
   double *pdVar6;
   long lVar7;
   double *pdVar8;
   ulong uVar9;
   ulong uVar10;
   undefined8 *puVar11;
   uint uVar12;
   long lVar13;
   ulong uVar14;
   long lVar15;
   uint uVar16;
   undefined4 uVar17;
   ulong uVar18;
   ulong uVar19;
   bool bVar20;
   double dVar21;
   double dVar22;
   double dVar23;
   double dVar24;
   double dVar25;
   double local_58;
   double local_48;
   lVar15 = param_1 + 0x438;
   if (( *(long*)( param_1 + 0x5c0 ) != 0 ) && ( lVar7 = ufbxi_push_size_copy(lVar15, 0x10, *(long*)( param_1 + 0x5c0 ), *(undefined8*)( param_1 + 0x5b8 )) ),lVar7 == 0) {
      LAB_00115325:ufbxi_fail_imp_err_constprop_0(param_1, &_LC88);
      return 0;
   }

   uVar19 = *(ulong*)( param_1 + 0x460 );
   if (uVar19 == 0) {
      lVar7 = *(long*)( param_1 + 0x458 );
      lVar4 = *(long*)( param_1 + 0x450 );
      *(undefined8*)( param_1 + 0x460 ) = 1;
      uVar1 = *(undefined8*)( param_1 + 0x700 );
      if (( ulong )(lVar7 - lVar4) < 0x10) {
         puVar11 = (undefined8*)ufbxi_push_size_new_block(lVar15, 0x10);
         if (puVar11 == (undefined8*)0x0) goto LAB_00115325;
         lVar13 = *(long*)( param_1 + 0x450 );
         lVar7 = *(long*)( param_1 + 0x458 );
         uVar19 = *(long*)( param_1 + 0x460 ) + 1;
      }
 else {
         lVar13 = lVar4 + 0x10;
         uVar19 = 2;
         *(long*)( param_1 + 0x450 ) = lVar13;
         puVar11 = (undefined8*)( *(long*)( param_1 + 0x440 ) + 0x40 + lVar4 );
      }

      *puVar11 = uVar1;
      uVar1 = *(undefined8*)( param_1 + 0x708 );
      *(undefined4*)( puVar11 + 1 ) = 0;
      *(ulong*)( param_1 + 0x460 ) = uVar19;
      if (( ulong )(lVar7 - lVar13) < 0x10) {
         puVar11 = (undefined8*)ufbxi_push_size_new_block(lVar15, 0x10);
         if (puVar11 == (undefined8*)0x0) goto LAB_00115325;
         uVar19 = *(ulong*)( param_1 + 0x460 );
      }
 else {
         *(long*)( param_1 + 0x450 ) = lVar13 + 0x10;
         puVar11 = (undefined8*)( *(long*)( param_1 + 0x440 ) + 0x40 + lVar13 );
      }

      *(undefined4*)( puVar11 + 1 ) = 0;
      *puVar11 = uVar1;
   }

   pdVar6 = (double*)ufbxi_push_pop_size(param_1 + 0x3f8, lVar15, 0x10);
   if (( pdVar6 == (double*)0x0 ) || ( iVar5 = ufbxi_sort_bake_times(param_1, pdVar6, uVar19) ),iVar5 == 0) goto LAB_00115325;
   dVar2 = *(double*)( param_1 + 0x6a8 );
   if (uVar19 != 0) {
      dVar21 = *pdVar6;
      if (uVar19 != 1) {
         pdVar8 = pdVar6 + 2;
         lVar15 = 0;
         uVar12 = *(uint*)( pdVar6 + 1 );
         do {
            dVar3 = *pdVar8;
            uVar16 = *(uint*)( pdVar8 + 1 );
            if (dVar21 == dVar3) {
               if (( ( uVar16 ^ uVar12 ) & 3 ) != 0) {
                  if (( uVar12 & 1 ) == 0) {
                     if (( uVar16 & 2 ) != 0) {
                        uVar12 = uVar12 | 4;
                     }

                  }
 else {
                     uVar16 = uVar16 | 4;
                  }

                  goto LAB_0011523b;
               }

               uVar16 = uVar12 | uVar16;
            }
 else {
               LAB_0011523b:*(uint*)( pdVar6 + lVar15 * 2 + 1 ) = uVar12;
               pdVar6[lVar15 * 2] = dVar21;
               lVar15 = lVar15 + 1;
               dVar21 = dVar3;
            }

            pdVar8 = pdVar8 + 2;
            uVar12 = uVar16;
         }
 while ( pdVar6 + uVar19 * 2 != pdVar8 );
         *(uint*)( pdVar6 + lVar15 * 2 + 1 ) = uVar16;
         pdVar6[lVar15 * 2] = dVar21;
         uVar19 = lVar15 + 1;
         if (uVar19 == 0) goto LAB_001152a9;
      }

      uVar14 = 0;
      dVar21 = _LC122 / *(double*)( param_1 + 0x698 );
      uVar18 = 0;
      pdVar8 = pdVar6;
      LAB_00115378:do {
         uVar12 = *(uint*)( pdVar8 + 1 );
         dVar3 = *pdVar8;
         uVar14 = uVar14 + 1;
         if (( uVar12 & 0xf ) == 0) {
            if (uVar18 == 0) {
               lVar15 = 0;
               dVar22 = _LC275;
               if (uVar14 < uVar19) {
                  LAB_001153a1:dVar22 = fmin(dVar22, pdVar8[2] - dVar3);
                  if (dVar21 <= dVar22) goto LAB_001153f8;
                  pdVar8 = pdVar8 + 2;
                  goto LAB_00115378;
               }

            }
 else {
               lVar15 = uVar18 * 0x10;
               dVar22 = dVar3 - pdVar6[uVar18 * 2 + -2];
               if (uVar14 < uVar19) goto LAB_001153a1;
               if (dVar22 < dVar21) {
                  if (dVar2 <= 0.0) goto LAB_0011565c;
                  dVar21 = _LC123 / dVar2;
                  local_58 = _LC0 / dVar2;
                  local_48 = local_58 - dVar21;
                  uVar19 = uVar18;
                  goto LAB_0011545f;
               }

            }

         }
 else {
            LAB_001153f8:lVar15 = uVar18 << 4;
         }

         uVar18 = uVar18 + 1;
         pdVar8 = pdVar8 + 2;
         *(uint*)( (double*)( lVar15 + (long)pdVar6 ) + 1 ) = uVar12;
         *(double*)( lVar15 + (long)pdVar6 ) = dVar3;
      }
 while ( uVar19 != uVar14 );
      if (0.0 < dVar2) {
         dVar21 = _LC123 / dVar2;
         local_58 = _LC0 / dVar2;
         local_48 = local_58 - dVar21;
         uVar19 = uVar18;
         if (uVar18 == 0) goto LAB_001152a9;
         LAB_0011545f:dVar3 = _LC0;
         dVar22 = (double)( (ulong)local_58 ^ _LC15 );
         uVar18 = 1;
         pdVar8 = pdVar6;
         do {
            if (( (ulong)pdVar8[1] & 3 ) != 0) {
               dVar24 = local_58;
               if (( (ulong)pdVar8[1] & 1 ) != 0) {
                  dVar24 = dVar22;
               }

               dVar24 = dVar24 + *pdVar8;
               if (uVar18 == 1) {
                  if (uVar19 == 1) {
                     LAB_00115528:*(undefined4*)( pdVar8 + 1 ) = 0x10;
                     *pdVar8 = dVar24;
                     break;
                  }

                  lVar15 = 0x10;
               }
 else {
                  dVar24 = fmax(pdVar8[-2], dVar24);
                  if (uVar19 <= uVar18) goto LAB_00115528;
                  lVar15 = uVar18 << 4;
               }

               dVar24 = fmin(*(double*)( (long)pdVar6 + lVar15 ), dVar24);
               *(undefined4*)( pdVar8 + 1 ) = 0x10;
               *pdVar8 = dVar24;
            }

            pdVar8 = pdVar8 + 2;
            bVar20 = uVar18 < uVar19;
            uVar18 = uVar18 + 1;
         }
 while ( bVar20 );
         uVar14 = _LC97;
         dVar22 = _LC96;
         uVar18 = 0;
         uVar9 = 0;
         dVar24 = _LC76;
         do {
            uVar10 = uVar9 + 1;
            dVar25 = pdVar6[uVar9 * 2];
            uVar17 = *(undefined4*)( pdVar6 + uVar9 * 2 + 1 );
            dVar23 = dVar25 * dVar2 - dVar21;
            if ((double)( (ulong)dVar23 & uVar14 ) < dVar22) {
               dVar23 = (double)( ( ulong )((double)(long)dVar23 + (double)( -(ulong)((double)(long)dVar23 < dVar23) & (ulong)dVar3 )) | ~uVar14 & (ulong)dVar23 );
            }

            if (uVar10 < uVar19) {
               uVar9 = uVar10;
               do {
                  if (dVar23 / dVar2 + dVar21 < pdVar6[uVar9 * 2]) {
                     if (uVar10 == uVar9) goto LAB_00115604;
                     break;
                  }

                  uVar9 = uVar9 + 1;
               }
 while ( uVar9 != uVar19 );
               LAB_001156a8:uVar17 = 0x10;
               uVar10 = uVar9;
               dVar25 = dVar23 / dVar2;
            }
 else {
               LAB_00115604:uVar9 = uVar10;
               if (dVar25 - dVar24 <= local_48) goto LAB_001156a8;
            }

            if (( uVar18 == 0 ) || ( pdVar6[uVar18 * 2 + -2] <= dVar25 && dVar25 != pdVar6[uVar18 * 2 + -2] )) {
               lVar15 = uVar18 * 2;
               uVar18 = uVar18 + 1;
               *(undefined4*)( pdVar6 + lVar15 + 1 ) = uVar17;
               pdVar6[lVar15] = dVar25;
            }

            uVar9 = uVar10;
            dVar24 = dVar25;
         }
 while ( uVar10 < uVar19 );
      }

      if (uVar18 != 0) {
         LAB_0011565c:if (*pdVar6 < *(double*)( param_1 + 0x710 )) {
            *(double*)( param_1 + 0x710 ) = *pdVar6;
         }

         dVar2 = pdVar6[uVar18 * 2 + -2];
         if (*(double*)( param_1 + 0x718 ) <= dVar2 && dVar2 != *(double*)( param_1 + 0x718 )) {
            *(double*)( param_1 + 0x718 ) = dVar2;
         }

         goto LAB_001152ab;
      }

   }

   LAB_001152a9:uVar18 = 0;
   LAB_001152ab:*param_2 = pdVar6;
   param_2[1] = uVar18;
   return 1;
}
undefined8 ufbxi_flip_winding_constprop_0(long param_1, long param_2) {
   int *piVar1;
   uint *puVar2;
   uint uVar3;
   uint uVar4;
   undefined4 *puVar5;
   undefined8 uVar6;
   undefined8 uVar7;
   undefined8 uVar8;
   undefined8 uVar9;
   undefined8 uVar10;
   undefined8 uVar11;
   undefined8 uVar12;
   undefined8 uVar13;
   undefined8 uVar14;
   undefined8 uVar15;
   undefined8 uVar16;
   undefined8 uVar17;
   char cVar18;
   int iVar19;
   uint uVar20;
   undefined8 uVar21;
   void *__s;
   long lVar22;
   int *piVar23;
   ulong uVar24;
   size_t __n;
   int iVar25;
   uint *puVar26;
   long lVar27;
   long lVar28;
   *(undefined8*)( param_1 + 0x21a0 ) = 0;
   iVar19 = ufbxi_flip_attrib_winding(param_1, param_2, param_2 + 0x1a0, 1);
   if (( ( iVar19 != 0 ) && ( iVar19 = ufbxi_flip_attrib_winding(param_1, param_2, param_2 + 0x1e8, 0) ),iVar19 != 0 )) {
      if (*(long*)( param_2 + 0x388 ) != 0) {
         lVar27 = *(long*)( param_2 + 0x380 );
         lVar28 = *(long*)( param_2 + 0x388 ) * 0xf0 + lVar27;
         if (lVar27 != lVar28) {
            do {
               iVar19 = ufbxi_flip_attrib_winding(param_1, param_2, lVar27 + 0x30, 0);
               if (( ( iVar19 == 0 ) || ( iVar19 = ufbxi_flip_attrib_winding(param_1, param_2, lVar27 + 0x78, 0) ),iVar19 == 0 )) goto LAB_00115997;
               lVar27 = lVar27 + 0xf0;
            }
 while ( lVar28 != lVar27 );
            lVar28 = *(long*)( param_2 + 0x380 );
         }

         uVar6 = *(undefined8*)( lVar28 + 0x20 );
         uVar7 = *(undefined8*)( lVar28 + 0x28 );
         uVar8 = *(undefined8*)( lVar28 + 0x30 );
         uVar21 = *(undefined8*)( lVar28 + 0x58 );
         uVar9 = *(undefined8*)( lVar28 + 0x60 );
         uVar10 = *(undefined8*)( lVar28 + 0x68 );
         *(undefined8*)( param_2 + 0x218 ) = *(undefined8*)( lVar28 + 0x18 );
         *(undefined8*)( param_2 + 0x220 ) = uVar6;
         uVar6 = *(undefined8*)( lVar28 + 0x38 );
         uVar11 = *(undefined8*)( lVar28 + 0x40 );
         uVar12 = *(undefined8*)( lVar28 + 200 );
         uVar13 = *(undefined8*)( lVar28 + 0xd0 );
         *(undefined8*)( param_2 + 0x228 ) = uVar7;
         *(undefined8*)( param_2 + 0x230 ) = uVar8;
         uVar7 = *(undefined8*)( lVar28 + 0x48 );
         uVar8 = *(undefined8*)( lVar28 + 0x50 );
         uVar14 = *(undefined8*)( lVar28 + 0xd8 );
         uVar15 = *(undefined8*)( lVar28 + 0xe0 );
         *(undefined8*)( param_2 + 600 ) = uVar21;
         uVar21 = *(undefined8*)( lVar28 + 0xe8 );
         *(undefined8*)( param_2 + 0x238 ) = uVar6;
         *(undefined8*)( param_2 + 0x240 ) = uVar11;
         uVar6 = *(undefined8*)( lVar28 + 0x70 );
         uVar11 = *(undefined8*)( lVar28 + 0x78 );
         uVar16 = *(undefined8*)( lVar28 + 0xa8 );
         uVar17 = *(undefined8*)( lVar28 + 0xb0 );
         *(undefined8*)( param_2 + 0x248 ) = uVar7;
         *(undefined8*)( param_2 + 0x250 ) = uVar8;
         uVar7 = *(undefined8*)( lVar28 + 0xb8 );
         uVar8 = *(undefined8*)( lVar28 + 0xc0 );
         *(undefined8*)( param_2 + 0x2e8 ) = uVar21;
         uVar21 = *(undefined8*)( lVar28 + 0xa0 );
         *(undefined8*)( param_2 + 0x2a8 ) = uVar16;
         *(undefined8*)( param_2 + 0x2b0 ) = uVar17;
         uVar16 = *(undefined8*)( lVar28 + 0x80 );
         uVar17 = *(undefined8*)( lVar28 + 0x88 );
         *(undefined8*)( param_2 + 0x2b8 ) = uVar7;
         *(undefined8*)( param_2 + 0x2c0 ) = uVar8;
         uVar7 = *(undefined8*)( lVar28 + 0x90 );
         uVar8 = *(undefined8*)( lVar28 + 0x98 );
         *(undefined8*)( param_2 + 0x2a0 ) = uVar21;
         *(undefined8*)( param_2 + 0x2c8 ) = uVar12;
         *(undefined8*)( param_2 + 0x2d0 ) = uVar13;
         *(undefined8*)( param_2 + 0x2d8 ) = uVar14;
         *(undefined8*)( param_2 + 0x2e0 ) = uVar15;
         *(undefined8*)( param_2 + 0x260 ) = uVar9;
         *(undefined8*)( param_2 + 0x268 ) = uVar10;
         *(undefined8*)( param_2 + 0x270 ) = uVar6;
         *(undefined8*)( param_2 + 0x278 ) = uVar11;
         *(undefined8*)( param_2 + 0x280 ) = uVar16;
         *(undefined8*)( param_2 + 0x288 ) = uVar17;
         *(undefined8*)( param_2 + 0x290 ) = uVar7;
         *(undefined8*)( param_2 + 0x298 ) = uVar8;
      }

      if (*(long*)( param_2 + 0x398 ) != 0) {
         lVar27 = *(long*)( param_2 + 0x390 );
         lVar28 = *(long*)( param_2 + 0x398 ) * 0x60 + lVar27;
         if (lVar27 != lVar28) {
            do {
               iVar19 = ufbxi_flip_attrib_winding(param_1, param_2, lVar27 + 0x30, 0);
               if (iVar19 == 0) goto LAB_00115997;
               lVar27 = lVar27 + 0x60;
            }
 while ( lVar28 != lVar27 );
            lVar28 = *(long*)( param_2 + 0x390 );
         }

         uVar21 = *(undefined8*)( lVar28 + 0x18 );
         uVar6 = *(undefined8*)( lVar28 + 0x20 );
         uVar7 = *(undefined8*)( lVar28 + 0x28 );
         uVar8 = *(undefined8*)( lVar28 + 0x30 );
         uVar9 = *(undefined8*)( lVar28 + 0x38 );
         uVar10 = *(undefined8*)( lVar28 + 0x40 );
         uVar11 = *(undefined8*)( lVar28 + 0x48 );
         uVar12 = *(undefined8*)( lVar28 + 0x50 );
         *(undefined8*)( param_2 + 0x330 ) = *(undefined8*)( lVar28 + 0x58 );
         *(undefined8*)( param_2 + 0x2f0 ) = uVar21;
         *(undefined8*)( param_2 + 0x2f8 ) = uVar6;
         *(undefined8*)( param_2 + 0x300 ) = uVar7;
         *(undefined8*)( param_2 + 0x308 ) = uVar8;
         *(undefined8*)( param_2 + 0x310 ) = uVar9;
         *(undefined8*)( param_2 + 0x318 ) = uVar10;
         *(undefined8*)( param_2 + 800 ) = uVar11;
         *(undefined8*)( param_2 + 0x328 ) = uVar12;
      }

      iVar19 = ufbxi_flip_attrib_winding(param_1, param_2, param_2 + 0x410, 0);
      if (( iVar19 != 0 ) && ( ( *(long*)( param_2 + 0x458 ) == *(long*)( param_2 + 0x1e8 ) || ( iVar19 = ufbxi_flip_attrib_winding(param_1, param_2, param_2 + 0x458, 0) ),iVar19 != 0 ) )) {
         __s = *(void**)( param_2 + 0x178 );
         __n = *(long*)( param_2 + 0x180 ) << 2;
         if (__n != 0) {
            __s = memset(__s, 0xff, __n);
         }

         lVar27 = *(long*)( param_2 + 0x88 );
         uVar3 = *(uint*)( param_2 + 0x80 );
         if (lVar27 != 0) {
            lVar28 = *(long*)( param_2 + 0x158 );
            lVar22 = 0;
            do {
               uVar4 = *(uint*)( lVar28 + lVar22 * 4 );
               if (( uVar4 < uVar3 ) && ( piVar1 = (int*)( (long)__s + (ulong)uVar4 * 4 ) * piVar1 == -1 )) {
                  *piVar1 = (int)lVar22;
               }

               lVar22 = lVar22 + 1;
            }
 while ( lVar27 != lVar22 );
         }

         if (*(long*)( param_2 + 0x120 ) != 0) {
            cVar18 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_1 + 0xa00, param_1 + 0xa08, lVar27 * 4 + 4);
            if (cVar18 == '\0') goto LAB_00115997;
            puVar5 = *(undefined4**)( param_1 + 0xa00 );
            puVar26 = *(uint**)( param_2 + 200 );
            *puVar5 = 0xffffffff;
            puVar2 = puVar26 + *(long*)( param_2 + 0xd0 ) * 2;
            for (; puVar26 != puVar2; puVar26 = puVar26 + 2) {
               uVar3 = puVar26[1];
               if (uVar3 != 0) {
                  uVar4 = *puVar26;
                  puVar5[(ulong)uVar4 + 1] = uVar4;
                  if (uVar3 - 1 != 0) {
                     uVar20 = uVar4 + 1;
                     iVar19 = ( uVar3 - 1 ) + uVar4 + uVar20;
                     do {
                        uVar24 = (ulong)uVar20;
                        iVar25 = iVar19 - uVar20;
                        uVar20 = uVar20 + 1;
                        puVar5[uVar24 + 1] = iVar25;
                     }
 while ( uVar3 + uVar4 != uVar20 );
                  }

               }

            }

            piVar23 = *(int**)( param_2 + 0x118 );
            piVar1 = piVar23 + *(long*)( param_2 + 0x120 ) * 2;
            for (; piVar23 != piVar1; piVar23 = piVar23 + 2) {
               *(ulong*)piVar23 = CONCAT44(puVar5[(long)*piVar23 + 1], puVar5[(long)piVar23[1] + 1]);
            }

         }

         return 1;
      }

   }

   LAB_00115997:uVar21 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar21;
}
undefined8 ufbxi_thread_pool_wait_imp(long param_1, uint param_2, char param_3) {
   long lVar1;
   uint uVar2;
   char *__s;
   size_t sVar3;
   undefined8 uVar4;
   lVar1 = param_1 + (ulong)param_2 * 8;
   uVar2 = *(uint*)( lVar1 + 0x6c );
   if (*(uint*)( lVar1 + 0x70 ) < uVar2) {
      ( **(code**)( param_1 + 0x10 ) )(*(undefined8*)( param_1 + 0x20 ), param_1, param_2, uVar2);
      *(uint*)( lVar1 + 0x70 ) = uVar2;
   }

   ufbxi_thread_pool_update_finished(param_1, uVar2);
   if (( *(char*)( param_1 + 0x51 ) != '\0' ) && ( param_3 != '\0' )) {
      __s = *(char**)( param_1 + 0x58 );
      lVar1 = *(long*)( param_1 + 0x40 );
      if (__s != (char*)0x0) {
         *(char**)( lVar1 + 8 ) = __s;
         sVar3 = strlen(__s);
         *(size_t*)( lVar1 + 0x10 ) = sVar3;
      }

      uVar4 = ufbxi_fail_imp_err_constprop_0(lVar1, "Task failed");
      return uVar4;
   }

   return 1;
}
void ufbxi_thread_pool_free(long param_1) {
   int iVar1;
   uint uVar2;
   if (*(char*)( param_1 + 0x50 ) != '\0') {
      iVar1 = 4;
      do {
         uVar2 = *(int*)( param_1 + 0x8c ) + 1U & 3;
         *(uint*)( param_1 + 0x8c ) = uVar2;
         ufbxi_thread_pool_wait_imp(param_1, uVar2, 0);
         iVar1 = iVar1 + -1;
      }
 while ( iVar1 != 0 );
      if (*(code**)( param_1 + 0x18 ) != (code*)0x0) {
         ( **(code**)( param_1 + 0x18 ) )(*(undefined8*)( param_1 + 0x20 ), param_1);
      }

      ufbxi_free_size(*(undefined8*)( param_1 + 0x38 ), 0x18, *(undefined8*)( param_1 + 0x98 ), *(undefined4*)( param_1 + 0x90 ));
      return;
   }

   return;
}
void ufbxi_free_temp(long param_1) {
   long lVar1;
   long lVar2;
   ufbxi_thread_pool_free(param_1 + 0x2950);
   ufbxi_free_size(*(undefined8*)( param_1 + 0x19a8 ), 1, *(undefined8*)( param_1 + 0x1a38 ), *(undefined8*)( param_1 + 0x1a40 ));
   ufbxi_map_free(param_1 + 0x19a8);
   ufbxi_buf_free(param_1 + 0x2818);
   for (int i = 0; i < 7; i++) {
      ufbxi_map_free(param_1 + ( 136*i + 1608 ));
   }

   ufbxi_buf_free(param_1 + 0xa30);
   ufbxi_buf_free(param_1 + 0xa70);
   ufbxi_buf_free(param_1 + 0x1830);
   ufbxi_buf_free(param_1 + 0x1870);
   ufbxi_buf_free(param_1 + 0x18b0);
   ufbxi_buf_free(param_1 + 0x18f0);
   ufbxi_buf_free(param_1 + 0xab0);
   ufbxi_buf_free(param_1 + 0xaf0);
   ufbxi_buf_free(param_1 + 0xb30);
   ufbxi_buf_free(param_1 + 0xb70);
   ufbxi_buf_free(param_1 + 0xbb0);
   ufbxi_buf_free(param_1 + 0xbf0);
   ufbxi_buf_free(param_1 + 0xc30);
   lVar1 = param_1 + 0xc70;
   do {
      lVar2 = lVar1 + 0x40;
      ufbxi_buf_free(lVar1);
      lVar1 = lVar2;
   }
 while ( lVar2 != param_1 + 0x16f0 );
   lVar1 = param_1 + 0x5c0;
   ufbxi_buf_free(lVar2);
   for (int i = 0; i < 4; i++) {
      ufbxi_buf_free(param_1 + ( 64*i + 5936 ));
   }

   ufbxi_free_size(lVar1, 0x20, *(undefined8*)( param_1 + 0x1a98 ), *(undefined8*)( param_1 + 0x1aa8 ));
   ufbxi_free_size(lVar1, 8, *(undefined8*)( param_1 + 0x1b20 ), *(undefined8*)( param_1 + 0x1b28 ));
   ufbxi_free_size(lVar1, 1, *(undefined8*)( param_1 + 0x1ba8 ), *(undefined8*)( param_1 + 0x1bb8 ));
   ufbxi_free_size(lVar1, 1, *(undefined8*)( param_1 + 0x1b80 ), *(undefined8*)( param_1 + 0x1b90 ));
   ufbxi_free_size(lVar1, 1, *(undefined8*)( param_1 + 0x508 ), *(undefined8*)( param_1 + 0x510 ));
   ufbxi_free_size(lVar1, 1, *(undefined8*)( param_1 + 0xa00 ), *(undefined8*)( param_1 + 0xa08 ));
   ufbxi_free_size(lVar1, 1, *(undefined8*)( param_1 + 0xa10 ), *(undefined8*)( param_1 + 0xa18 ));
   ufbxi_free_ator(lVar1);
   return;
}
undefined4 ufbxi_thread_pool_wait_all(long param_1) {
   int iVar1;
   uint uVar2;
   int iVar3;
   iVar3 = 4;
   uVar2 = *(uint*)( param_1 + 0x8c );
   do {
      iVar1 = ufbxi_thread_pool_wait_imp(param_1, uVar2, 1);
      if (iVar1 == 0) {
         ufbxi_fail_imp_err_constprop_0(*(undefined8*)( param_1 + 0x40 ), &_LC88);
         return 0;
      }

      uVar2 = *(int*)( param_1 + 0x8c ) + 1U & 3;
      *(uint*)( param_1 + 0x8c ) = uVar2;
      iVar3 = iVar3 + -1;
   }
 while ( iVar3 != 0 );
   return 1;
}
undefined8 ufbxi_thread_pool_wait_group(long param_1) {
   int iVar1;
   iVar1 = ufbxi_thread_pool_wait_imp(param_1, *(undefined4*)( param_1 + 0x8c ), 1);
   if (iVar1 != 0) {
      return 1;
   }

   ufbxi_fail_imp_err_constprop_0(*(undefined8*)( param_1 + 0x40 ), &_LC88);
   return 0;
}
undefined8 ufbxi_bigint_div_constprop_0_isra_0(long *param_1, int *param_2, int param_3, long param_4, int param_5) {
   long lVar1;
   ulong uVar2;
   ulong uVar3;
   int iVar4;
   int iVar5;
   uint uVar6;
   ulong uVar7;
   long lVar8;
   ulong uVar9;
   int *piVar10;
   ulong uVar11;
   ulong uVar12;
   uint *puVar13;
   long lVar14;
   bool bVar15;
   uVar11 = ( ulong )(param_5 - 1);
   uVar12 = ( ulong ) * (uint*)( param_4 + uVar11 * 4 );
   param_2[param_3] = 0;
   *(undefined4*)( (long)param_1 + 0xc ) = 0;
   iVar4 = ( param_3 - param_5 ) + -1;
   if (-1 < iVar4) {
      lVar14 = (long)iVar4;
      lVar1 = *param_1;
      puVar13 = (uint*)( param_2 + param_5 + lVar14 );
      piVar10 = param_2 + lVar14;
      do {
         uVar2 = CONCAT44(*puVar13, puVar13[-1]) / uVar12;
         uVar7 = CONCAT44(*puVar13, puVar13[-1]) % uVar12;
         do {
            if (( uVar2 >> 0x20 == 0 ) && ( *(uint*)( param_4 + -8 + (long)param_5 * 4 ) * uVar2 <= ( (ulong)puVar13[-2] | uVar7 << 0x20 ) )) break;
            uVar7 = uVar7 + uVar12;
            uVar2 = uVar2 - 1;
         }
 while ( uVar7 >> 0x20 == 0 );
         if (0 < param_5) {
            uVar9 = 0;
            uVar7 = 0;
            do {
               uVar3 = *(uint*)( param_4 + uVar7 * 4 ) * uVar2;
               lVar8 = ( (ulong)(uint)piVar10[uVar7] - ( uVar3 & 0xffffffff ) ) - uVar9;
               iVar4 = (int)( uVar3 >> 0x20 );
               piVar10[uVar7] = (int)lVar8;
               iVar5 = (int)( (ulong)lVar8 >> 0x20 );
               uVar9 = ( ulong )(uint)(iVar4 - iVar5);
               bVar15 = uVar11 != uVar7;
               uVar7 = uVar7 + 1;
            }
 while ( bVar15 );
            uVar6 = *puVar13;
            *puVar13 = ( uVar6 - iVar4 ) + iVar5;
            if (uVar6 - uVar9 >> 0x20 != 0) {
               uVar2 = uVar2 - 1;
               uVar9 = 0;
               uVar7 = 0;
               do {
                  lVar8 = (ulong)(uint)piVar10[uVar7] + ( ulong ) * (uint*)( param_4 + uVar7 * 4 ) + uVar9;
                  piVar10[uVar7] = (int)lVar8;
                  uVar6 = ( uint )((ulong)lVar8 >> 0x20);
                  uVar9 = (ulong)uVar6;
                  bVar15 = uVar11 != uVar7;
                  uVar7 = uVar7 + 1;
               }
 while ( bVar15 );
               *puVar13 = *puVar13 + uVar6;
            }

         }

         *(int*)( lVar1 + lVar14 * 4 ) = (int)uVar2;
         if (( uVar2 != 0 ) && ( *(int*)( (long)param_1 + 0xc ) == 0 )) {
            *(int*)( (long)param_1 + 0xc ) = (int)lVar14 + 1;
         }

         lVar14 = lVar14 + -1;
         puVar13 = puVar13 + -1;
         piVar10 = piVar10 + -1;
      }
 while ( -1 < (int)lVar14 );
   }

   piVar10 = param_2 + uVar11 + 1;
   if (0 < param_5) {
      do {
         if (*param_2 != 0) {
            return 1;
         }

         param_2 = param_2 + 1;
      }
 while ( param_2 != piVar10 );
   }

   return 0;
}
undefined1[16];ufbxi_find_src_connections_constprop_0_isra_0(long param_1, ulong param_2) {
   long lVar1;
   ulong uVar2;
   undefined8 *puVar3;
   ulong uVar4;
   ulong uVar5;
   ulong uVar6;
   ulong uVar7;
   long lVar8;
   int iVar9;
   undefined1 auVar10[16];
   undefined1 auVar11[16];
   uVar4 = param_2;
   if (param_2 < 0x21) {
      if (param_2 == 0) {
         uVar7 = 0;
         uVar4 = 0;
         lVar8 = param_1;
         goto LAB_001162e9;
      }

   }
 else {
      do {
         uVar4 = ( uVar4 >> 1 ) + 1;
      }
 while ( 0x20 < uVar4 );
   }

   uVar7 = 0;
   lVar8 = param_1;
   do {
      if (( *(undefined1**)( lVar8 + 0x10 ) == &ufbxi_empty_char ) && ( *(long*)( lVar8 + 0x28 ) == 0 )) {
         if (1 < param_2 - uVar7) {
            iVar9 = 7;
            uVar4 = 1;
            uVar6 = uVar7;
            goto LAB_00116259;
         }

         lVar8 = uVar7 * 0x30 + param_1;
         uVar4 = uVar7;
         if (param_2 <= uVar7) goto LAB_001162e9;
         puVar3 = (undefined8*)( param_1 + 0x10 + uVar7 * 0x30 );
         goto LAB_0011636d;
      }

      uVar7 = uVar7 + 1;
      lVar8 = lVar8 + 0x30;
   }
 while ( uVar7 != uVar4 );
   uVar4 = param_2;
   uVar7 = param_2;
   lVar8 = param_2 * 0x30 + param_1;
   goto LAB_001162e9;
   LAB_00116259:uVar5 = uVar6 + uVar4;
   lVar1 = uVar5 * 0x30 + param_1;
   uVar2 = uVar4;
   if (( *(undefined1**)( lVar1 + 0x10 ) != &ufbxi_empty_char ) || ( *(long*)( lVar1 + 0x28 ) != 0 )) goto joined_r0x00116292;
   uVar4 = uVar4 * 2;
   uVar2 = param_2 - uVar5;
   iVar9 = iVar9 + -1;
   uVar6 = uVar5;
   uVar5 = param_2;
   if (( iVar9 == 0 ) || ( uVar2 <= uVar4 )) goto joined_r0x00116292;
   goto LAB_00116259;
   joined_r0x00116292:while (0x20 < uVar2) {
      lVar1 = ( uVar2 >> 1 ) + uVar6;
      uVar4 = lVar1 + 1;
      lVar1 = lVar1 * 0x30 + param_1;
      if (( *(undefined1**)( lVar1 + 0x10 ) == &ufbxi_empty_char ) && ( *(long*)( lVar1 + 0x28 ) == 0 )) {
         uVar6 = uVar4;
         uVar4 = uVar5;
      }

      uVar5 = uVar4;
      uVar2 = uVar4 - uVar6;
   }
;
   if (uVar6 < uVar5) {
      puVar3 = (undefined8*)( param_1 + 0x10 + uVar6 * 0x30 );
      do {
         if (( (undefined1*)*puVar3 != &ufbxi_empty_char ) || ( puVar3[3] != 0 )) break;
         uVar6 = uVar6 + 1;
         puVar3 = puVar3 + 6;
      }
 while ( uVar5 != uVar6 );
   }

   auVar10._8_8_ = uVar6 - uVar7;
   auVar10._0_8_ = lVar8;
   return auVar10;
   while (true) {
      uVar4 = uVar4 + 1;
      puVar3 = puVar3 + 6;
      if (param_2 == uVar4) break;
      LAB_0011636d:if (( (undefined1*)*puVar3 != &ufbxi_empty_char ) || ( puVar3[3] != 0 )) break;
   }
;
   LAB_001162e9:auVar11._8_8_ = uVar4 - uVar7;
   auVar11._0_8_ = lVar8;
   return auVar11;
}
undefined8 ufbxi_generate_indices_isra_0(undefined8 *param_1) {
   ulong uVar1;
   undefined8 *puVar2;
   *param_1 = 0;
   param_1[0x4c] = 0;
   puVar2 = (undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 );
   for (uVar1 = ( ulong )(( (int)param_1 - (int)(undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 ) ) + 0x268U >> 3); uVar1 != 0; uVar1 = uVar1 - 1) {
      *puVar2 = 0;
      puVar2 = puVar2 + 1;
   }

   ufbxi_fmt_err_info(param_1, "UFBX_ENABLE_INDEX_GENERATION");
   ufbxi_fail_imp_err_constprop_0(param_1, "$Feature disabled");
   return 0;
}
undefined8 ufbxi_subdivide_mesh_isra_0(undefined8 *param_1) {
   ulong uVar1;
   undefined8 *puVar2;
   if (param_1 != (undefined8*)0x0) {
      *param_1 = 0;
      param_1[0x4c] = 0;
      puVar2 = (undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 );
      for (uVar1 = ( ulong )(( (int)param_1 - (int)(undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 ) ) + 0x268U >> 3); uVar1 != 0; uVar1 = uVar1 - 1) {
         *puVar2 = 0;
         puVar2 = puVar2 + 1;
      }

      ufbxi_fmt_err_info(param_1, "UFBX_ENABLE_SUBDIVISION");
      ufbxi_fail_imp_err_constprop_0(param_1, "$Feature disabled");
      return 0;
   }

   return 0;
}
uint ufbxi_is_edge_smooth_isra_0(long param_1, long param_2, uint param_3, uint param_4) {
   long lVar1;
   double *pdVar2;
   double *pdVar3;
   double *pdVar4;
   double *pdVar5;
   char cVar6;
   long lVar7;
   uint uVar8;
   long lVar9;
   undefined8 uVar10;
   uint uVar11;
   if (*(long*)( param_1 + 0x128 ) == 0) {
      lVar9 = *(long*)( param_1 + 0xd8 );
      if (lVar9 == 0) {
         if (*(char*)( param_1 + 0x1d0 ) == '\0') {
            return param_4;
         }

         lVar9 = param_2 + (ulong)param_3 * 0x1c;
         uVar11 = *(uint*)( lVar9 + 0xc );
         if (uVar11 == 0xffffffff) {
            return 0;
         }

         lVar1 = *(long*)( param_1 + 0x1d8 );
         lVar7 = *(long*)( param_1 + 0x1e8 );
         pdVar2 = (double*)( lVar1 + (long)*(int*)( lVar7 + (ulong)param_3 * 4 ) * 0x18 );
         pdVar3 = (double*)( lVar1 + (long)*(int*)( lVar7 + ( ulong ) * (uint*)( lVar9 + 4 ) * 4 ) * 0x18 );
         pdVar4 = (double*)( lVar1 + (long)*(int*)( lVar7 + ( ulong ) * (uint*)( param_2 + 4 + (ulong)uVar11 * 0x1c ) * 4 ) * 0x18 );
         pdVar5 = (double*)( lVar1 + (long)*(int*)( lVar7 + (ulong)uVar11 * 4 ) * 0x18 );
         lVar9 = ( (ulong)pdVar5 >> 8 & 0xffffff ) << 8;
         if (*pdVar2 != *pdVar4) {
            lVar9 = 0;
         }

         if (( pdVar2[1] == pdVar4[1] && *pdVar2 == *pdVar4 ) && ( lVar9 = 0 ),pdVar2[2] == pdVar4[2]) {
            return 1;
         }

         uVar11 = ( uint )(!NAN(pdVar3[1]) && !NAN(pdVar5[1]));
         if (pdVar3[1] != pdVar5[1]) {
            uVar11 = 0;
         }

         uVar10 = CONCAT71(( int7 )((ulong)lVar9 >> 8), !NAN(*pdVar3) && !NAN(*pdVar5));
         if (*pdVar3 != *pdVar5) {
            uVar10 = 0;
         }

         uVar8 = (uint)CONCAT71(( int7 )((ulong)uVar10 >> 8), !NAN(pdVar3[2]) && !NAN(pdVar5[2]));
         if (pdVar3[2] != pdVar5[2]) {
            uVar8 = 0;
         }

         return uVar11 & (uint)uVar10 & uVar8;
      }

      lVar1 = param_2 + (ulong)param_3 * 0x1c;
      cVar6 = *(char*)( lVar9 + ( ulong ) * (uint*)( lVar1 + 0x10 ) );
   }
 else {
      lVar1 = param_2 + (ulong)param_3 * 0x1c;
      if (( *(uint*)( lVar1 + 0x14 ) != 0xffffffff ) && ( *(char*)( *(long*)( param_1 + 0x128 ) + ( ulong ) * (uint*)( lVar1 + 0x14 ) ) != '\0' )) {
         return 1;
      }

      lVar9 = *(long*)( param_1 + 0xd8 );
      if (lVar9 == 0) {
         return param_4;
      }

      cVar6 = *(char*)( lVar9 + ( ulong ) * (uint*)( lVar1 + 0x10 ) );
   }

   uVar11 = 1;
   if (( ( cVar6 == '\0' ) && ( uVar11 = param_4 * (uint*)( lVar1 + 0xc ) != 0xffffffff ) ) && ( uVar11 = 1 * (char*)( lVar9 + ( ulong ) * (uint*)( param_2 + 0x10 + ( ulong ) * (uint*)( lVar1 + 0xc ) * 0x1c ) ) == '\0' )) {
      uVar11 = param_4;
   }

   return uVar11;
}
undefined8 ufbxi_push_resampled_times_isra_0(long param_1, undefined8 *param_2, ulong param_3) {
   ulong uVar1;
   uint uVar2;
   undefined8 *puVar3;
   ulong uVar4;
   undefined8 uVar5;
   puVar3 = (undefined8*)ufbxi_push_size(param_1 + 0x438, 0x10);
   if (puVar3 == (undefined8*)0x0) {
      ufbxi_fail_imp_err_constprop_0(param_1, &_LC88);
      return 0;
   }

   uVar4 = 0;
   if (param_3 == 0) {
      return 1;
   }

   do {
      uVar2 = *(uint*)( param_2 + 4 );
      uVar5 = *param_2;
      uVar1 = uVar4 + 1;
      if (( ( uVar2 & 1 ) == 0 ) || ( param_3 <= uVar1 )) {
         if (( ( uVar2 & 2 ) != 0 ) && ( uVar4 != 0 )) {
            LAB_001166a7:if (( *(byte*)( param_2 + -1 ) & 4 ) != 0) {
               uVar5 = param_2[-5];
            }

         }

         *puVar3 = uVar5;
         *(uint*)( puVar3 + 1 ) = uVar2 & 7;
         if (param_3 == uVar1) {
            return 1;
         }

      }
 else {
         if (( *(byte*)( param_2 + 9 ) & 4 ) == 0) {
            if (( ( uVar2 & 2 ) != 0 ) && ( uVar4 != 0 )) goto LAB_001166a7;
         }
 else {
            uVar5 = param_2[5];
         }

         *puVar3 = uVar5;
         *(uint*)( puVar3 + 1 ) = uVar2 & 7;
      }

      param_2 = param_2 + 5;
      puVar3 = puVar3 + 2;
      uVar4 = uVar1;
   }
 while ( true );
}
undefined8 ufbxi_check_string_isra_0(undefined8 param_1, undefined8 *param_2, char *param_3, size_t param_4) {
   size_t sVar1;
   if (param_4 == 0xffffffffffffffff) {
      param_4 = strlen(param_3);
   }

   if (param_4 == 0) {
      param_3 = "";
   }
 else {
      sVar1 = ufbxi_utf8_valid_length(param_3, param_4);
      if (param_4 != sVar1) {
         ufbxi_fail_imp_err_constprop_0(param_1, "$Invalid UTF-8");
         return 0;
      }

   }

   *param_2 = param_3;
   param_2[1] = param_4;
   return 1;
}
undefined8 ufbxi_create_anim_imp(long param_1) {
   long *plVar1;
   undefined4 uVar2;
   long lVar3;
   void *__s1;
   undefined *__n;
   undefined *__s1_00;
   int *piVar4;
   undefined8 uVar5;
   undefined8 uVar6;
   undefined8 uVar7;
   undefined8 uVar8;
   undefined8 uVar9;
   undefined8 uVar10;
   undefined8 uVar11;
   undefined8 uVar12;
   undefined8 uVar13;
   undefined8 uVar14;
   int iVar15;
   uint uVar16;
   long lVar17;
   long lVar18;
   long lVar19;
   long lVar20;
   long *plVar21;
   undefined8 uVar22;
   bool bVar23;
   ulong uVar24;
   undefined *puVar25;
   undefined *__n_00;
   ulong uVar26;
   undefined4 *puVar27;
   undefined1 *__s2;
   undefined8 *puVar28;
   undefined **ppuVar29;
   long local_60;
   long local_48;
   lVar3 = *(long*)( param_1 + 0x330 );
   ufbxi_init_ator(param_1, param_1 + 0x268, param_1 + 0x388, "result");
   lVar20 = *(long*)( param_1 + 0x348 );
   *(long*)( param_1 + 0x2f0 ) = param_1 + 0x268;
   *(undefined1*)( param_1 + 0x328 ) = 1;
   lVar19 = param_1 + 0x2f0;
   *(undefined1*)( param_1 + 0x428 ) = *(undefined1*)( param_1 + 0x380 );
   *(undefined1*)( param_1 + 0x429 ) = 1;
   *(long*)( param_1 + 0x3f0 ) = lVar20;
   lVar17 = ufbxi_push_size_zero(lVar19, 8, lVar20);
   *(long*)( param_1 + 1000 ) = lVar17;
   if (lVar17 == 0) goto LAB_00116a88;
   lVar17 = *(long*)( param_1 + 0x358 );
   if (lVar17 == 0) {
      if (lVar20 != 0) goto LAB_00116825;
   }
 else {
      if (lVar17 != lVar20) {
         ufbxi_fail_imp_err_constprop_0(param_1, "$override_layer_weights[] count must match layer_ids[] count");
         return 0;
      }

      lVar17 = ufbxi_push_size_copy(lVar19, 8, lVar17, *(undefined8*)( param_1 + 0x350 ));
      *(long*)( param_1 + 0x3f8 ) = lVar17;
      if (lVar17 == 0) goto LAB_00116a88;
      *(long*)( param_1 + 0x400 ) = lVar20;
      LAB_00116825:lVar17 = *(long*)( param_1 + 0x340 );
      uVar26 = *(ulong*)( lVar3 + 0x488 );
      lVar18 = 0;
      do {
         uVar24 = ( ulong ) * (uint*)( lVar17 + lVar18 * 4 );
         if (uVar26 <= uVar24) {
            ufbxi_fail_imp_err_constprop_0(param_1, "$layer_ids out of bounds");
            return 0;
         }

         *(undefined8*)( *(long*)( param_1 + 1000 ) + lVar18 * 8 ) = *(undefined8*)( *(long*)( *(long*)( param_1 + 0x330 ) + 0x480 ) + uVar24 * 8 );
         lVar18 = lVar18 + 1;
      }
 while ( lVar20 != lVar18 );
   }

   lVar20 = *(long*)( param_1 + 0x368 );
   puVar27 = *(undefined4**)( param_1 + 0x360 );
   if (lVar20 != 0) {
      *(long*)( param_1 + 0x410 ) = lVar20;
      lVar17 = ufbxi_push_size_zero(lVar19, 0x50, lVar20);
      local_60 = 0;
      *(long*)( param_1 + 0x408 ) = lVar17;
      puVar28 = (undefined8*)( lVar17 + 8 );
      if (lVar17 == 0) goto LAB_00116a88;
      do {
         uVar22 = *(undefined8*)( puVar27 + 8 );
         uVar2 = *puVar27;
         puVar28[2] = *(undefined8*)( puVar27 + 6 );
         puVar28[3] = uVar22;
         uVar22 = *(undefined8*)( puVar27 + 10 );
         uVar5 = *(undefined8*)( puVar27 + 0xc );
         *(undefined4*)( puVar28 + -1 ) = uVar2;
         lVar18 = *(long*)( puVar27 + 0x12 );
         puVar28[4] = uVar22;
         puVar28[5] = uVar5;
         puVar28[8] = lVar18;
         if ((double)puVar28[2] == 0.0) {
            if (lVar18 != 0) {
               puVar28[2] = (double)lVar18;
            }

         }
 else if (lVar18 == 0) {
            puVar28[8] = (long)(double)puVar28[2];
         }

         iVar15 = ufbxi_check_string_isra_0(param_1, puVar28, *(undefined8*)( puVar27 + 2 ), *(undefined8*)( puVar27 + 4 ));
         if (( iVar15 == 0 ) || ( iVar15 = ufbxi_check_string_isra_0(param_1, puVar28 + 6, *(undefined8*)( puVar27 + 0xe ), *(undefined8*)( puVar27 + 0x10 )) ),iVar15 == 0) goto LAB_00116a88;
         if ((ulong)puVar28[1] < 4) {
            uVar26 = 0;
            uVar16 = 0;
            do {
               for (; uVar16 = uVar16 << 8,uVar26 < (ulong)puVar28[1]; uVar26 = uVar26 + 1) {
                  uVar16 = uVar16 | *(byte*)( (long)*puVar28 + uVar26 );
               }

               uVar26 = uVar26 + 1;
            }
 while ( uVar26 != 4 );
         }
 else {
            uVar16 = *(uint*)*puVar28;
            uVar16 = uVar16 >> 0x18 | ( uVar16 & 0xff0000 ) >> 8 | ( uVar16 & 0xff00 ) << 8 | uVar16 << 0x18;
         }

         *(uint*)( (long)puVar28 + -4 ) = uVar16;
         puVar27 = puVar27 + 0x14;
         puVar28 = puVar28 + 10;
         local_60 = local_60 + 1;
      }
 while ( lVar20 != local_60 );
      ppuVar29 = &ufbxi_strings;
      ufbxi_unstable_sort(lVar17, *(undefined8*)( param_1 + 0x410 ), 0x50, ufbxi_prop_override_prop_name_less, 0);
      lVar17 = *(long*)( param_1 + 0x410 );
      local_48 = *(long*)( param_1 + 0x408 );
      __s2 = &ufbxi_empty_char;
      puVar25 = (undefined*)0x0;
      lVar18 = lVar17 * 0x50 + local_48;
      if (local_48 != lVar18) {
         do {
            if (( *(long*)( local_48 + 0x40 ) != 0 ) && ( iVar15 = ufbxi_push_anim_string(param_1, local_48 + 0x38) ),iVar15 == 0) goto LAB_00116a88;
            __s1 = *(void**)( local_48 + 8 );
            __n = *(undefined**)( local_48 + 0x10 );
            if (( puVar25 == __n ) && ( iVar15 = iVar15 == 0 )) {
               *(undefined1**)( local_48 + 8 ) = __s2;
               *(undefined**)( local_48 + 0x10 ) = puVar25;
            }
 else {
               for (; ppuVar29 != (undefined**)&_LC5; ppuVar29 = ppuVar29 + 2) {
                  puVar25 = ppuVar29[1];
                  __s1_00 = *ppuVar29;
                  __n_00 = puVar25;
                  if (__n <= puVar25) {
                     __n_00 = __n;
                  }

                  iVar15 = memcmp(__s1_00, __s1, (size_t)__n_00);
                  bVar23 = puVar25 < __n;
                  if (iVar15 != 0) {
                     bVar23 = SUB41((uint)iVar15 >> 0x1f, 0);
                  }

                  if (bVar23 == false) {
                     if (( ( ppuVar29 != (undefined**)&_LC5 ) && ( __n == puVar25 ) ) && ( iVar15 = iVar15 == 0 )) {
                        puVar25 = ppuVar29[1];
                        *(undefined**)( local_48 + 8 ) = *ppuVar29;
                        *(undefined**)( local_48 + 0x10 ) = puVar25;
                        goto LAB_00116ce1;
                     }

                     break;
                  }

               }

               iVar15 = ufbxi_push_anim_string(param_1, local_48 + 8);
               if (iVar15 == 0) goto LAB_00116a88;
               LAB_00116ce1:__s2 = *(undefined1**)( local_48 + 8 );
               puVar25 = *(undefined**)( local_48 + 0x10 );
            }

            local_48 = local_48 + 0x50;
         }
 while ( lVar18 != local_48 );
         lVar17 = *(long*)( param_1 + 0x410 );
         local_48 = *(long*)( param_1 + 0x408 );
      }

      ufbxi_unstable_sort(local_48, lVar17, 0x50, ufbxi_prop_override_less, 0);
      if (lVar20 != 1) {
         piVar4 = *(int**)( param_1 + 0x408 );
         plVar21 = (long*)( piVar4 + 2 );
         iVar15 = *piVar4;
         do {
            plVar1 = plVar21 + 9;
            if (( (int)*plVar1 == iVar15 ) && ( *plVar21 == plVar21[10] )) {
               ufbxi_fmt_err_info(param_1, "element %u prop \"%s\"");
               uVar22 = ufbxi_fail_imp_err_constprop_0(param_1, "$Duplicate override");
               return uVar22;
            }

            plVar21 = plVar21 + 10;
            iVar15 = (int)*plVar1;
         }
 while ( (long*)( piVar4 + lVar20 * 0x14 + -0x12 ) != plVar21 );
      }

   }

   lVar20 = *(long*)( param_1 + 0x378 );
   if (lVar20 != 0) {
      *(long*)( param_1 + 0x420 ) = lVar20;
      lVar20 = ufbxi_push_size_copy(lVar19, 0x58, lVar20, *(undefined8*)( param_1 + 0x370 ));
      *(long*)( param_1 + 0x418 ) = lVar20;
      if (lVar20 == 0) goto LAB_00116a88;
      ufbxi_unstable_sort(lVar20, *(undefined8*)( param_1 + 0x420 ), 0x58, ufbxi_transform_override_less, 0);
   }

   lVar19 = ufbxi_push_size(lVar19, 0x1c8, 1);
   *(long*)( param_1 + 0x430 ) = lVar19;
   if (lVar19 != 0) {
      ufbxi_init_ref(lVar19, 0x494e4155, lVar3 + -0x168);
      lVar19 = *(long*)( param_1 + 0x430 );
      uVar5 = *(undefined8*)( param_1 + 0x3e0 );
      uVar6 = *(undefined8*)( param_1 + 1000 );
      uVar7 = *(undefined8*)( param_1 + 0x3f0 );
      uVar22 = *(undefined8*)( param_1 + 0x428 );
      uVar8 = *(undefined8*)( param_1 + 0x3f8 );
      uVar9 = *(undefined8*)( param_1 + 0x400 );
      *(undefined8*)( lVar19 + 0x168 ) = *(undefined8*)( param_1 + 0x3d8 );
      *(undefined8*)( lVar19 + 0x170 ) = uVar5;
      uVar5 = *(undefined8*)( param_1 + 0x408 );
      uVar10 = *(undefined8*)( param_1 + 0x410 );
      uVar11 = *(undefined8*)( param_1 + 0x418 );
      uVar12 = *(undefined8*)( param_1 + 0x420 );
      *(undefined8*)( lVar19 + 0x178 ) = uVar6;
      *(undefined8*)( lVar19 + 0x180 ) = uVar7;
      uVar6 = *(undefined8*)( param_1 + 0x268 );
      uVar7 = *(undefined8*)( param_1 + 0x270 );
      uVar13 = *(undefined8*)( param_1 + 0x2d8 );
      uVar14 = *(undefined8*)( param_1 + 0x2e0 );
      *(undefined8*)( lVar19 + 0x188 ) = uVar8;
      *(undefined8*)( lVar19 + 400 ) = uVar9;
      uVar8 = *(undefined8*)( param_1 + 0x278 );
      uVar9 = *(undefined8*)( param_1 + 0x280 );
      *(undefined8*)( lVar19 + 0x198 ) = uVar5;
      *(undefined8*)( lVar19 + 0x1a0 ) = uVar10;
      uVar5 = *(undefined8*)( param_1 + 0x288 );
      uVar10 = *(undefined8*)( param_1 + 0x290 );
      *(undefined8*)( lVar19 + 0x1b8 ) = uVar22;
      uVar22 = *(undefined8*)( param_1 + 0x2e8 );
      *(undefined8*)( lVar19 + 0x1a8 ) = uVar11;
      *(undefined8*)( lVar19 + 0x1b0 ) = uVar12;
      uVar11 = *(undefined8*)( param_1 + 0x298 );
      uVar12 = *(undefined8*)( param_1 + 0x2a0 );
      *(undefined8*)( lVar19 + 0x58 ) = uVar6;
      *(undefined8*)( lVar19 + 0x60 ) = uVar7;
      uVar6 = *(undefined8*)( param_1 + 0x2a8 );
      uVar7 = *(undefined8*)( param_1 + 0x2b0 );
      *(undefined8*)( lVar19 + 0x68 ) = uVar8;
      *(undefined8*)( lVar19 + 0x70 ) = uVar9;
      uVar8 = *(undefined8*)( param_1 + 0x2b8 );
      uVar9 = *(undefined8*)( param_1 + 0x2c0 );
      *(undefined8*)( lVar19 + 0x78 ) = uVar5;
      *(undefined8*)( lVar19 + 0x80 ) = uVar10;
      uVar5 = *(undefined8*)( param_1 + 0x2c8 );
      uVar10 = *(undefined8*)( param_1 + 0x2d0 );
      *(undefined8*)( lVar19 + 0x88 ) = uVar11;
      *(undefined8*)( lVar19 + 0x90 ) = uVar12;
      *(undefined4*)( lVar19 + 0x1c0 ) = 0x494e4155;
      *(undefined8*)( lVar19 + 0xd8 ) = uVar22;
      *(undefined8*)( lVar19 + 0x98 ) = uVar6;
      *(undefined8*)( lVar19 + 0xa0 ) = uVar7;
      *(undefined8*)( lVar19 + 0xa8 ) = uVar8;
      *(undefined8*)( lVar19 + 0xb0 ) = uVar9;
      *(undefined8*)( lVar19 + 0xb8 ) = uVar5;
      *(undefined8*)( lVar19 + 0xc0 ) = uVar10;
      *(undefined8*)( lVar19 + 200 ) = uVar13;
      *(undefined8*)( lVar19 + 0xd0 ) = uVar14;
      uVar22 = *(undefined8*)( param_1 + 0x2f8 );
      uVar5 = *(undefined8*)( param_1 + 0x300 );
      uVar6 = *(undefined8*)( param_1 + 0x308 );
      uVar7 = *(undefined8*)( param_1 + 0x310 );
      uVar8 = *(undefined8*)( param_1 + 0x318 );
      uVar9 = *(undefined8*)( param_1 + 800 );
      uVar10 = *(undefined8*)( param_1 + 0x328 );
      *(undefined8*)( lVar19 + 0x18 ) = *(undefined8*)( param_1 + 0x2f0 );
      *(undefined8*)( lVar19 + 0x20 ) = uVar22;
      *(undefined8*)( lVar19 + 0x28 ) = uVar5;
      *(undefined8*)( lVar19 + 0x30 ) = uVar6;
      *(undefined8*)( lVar19 + 0x38 ) = uVar7;
      *(undefined8*)( lVar19 + 0x40 ) = uVar8;
      *(undefined8*)( lVar19 + 0x48 ) = uVar9;
      *(undefined8*)( lVar19 + 0x50 ) = uVar10;
      return 1;
   }

   LAB_00116a88:ufbxi_fail_imp_err_constprop_0(param_1, &_LC88);
   return 0;
}
undefined1[16];ufbxi_find_element_prop_overrides_isra_0(long param_1, ulong param_2, uint param_3) {
   long lVar1;
   ulong uVar2;
   ulong uVar3;
   uint *puVar4;
   ulong uVar5;
   ulong uVar6;
   uint *puVar7;
   ulong uVar8;
   int iVar9;
   undefined1 auVar10[16];
   undefined1 auVar11[16];
   uVar8 = param_2;
   if (param_2 < 0x21) {
      uVar5 = 0;
   }
 else {
      uVar5 = 0;
      uVar2 = param_2;
      do {
         lVar1 = ( uVar2 >> 1 ) + uVar5;
         uVar2 = lVar1 + 1;
         if (*(uint*)( param_1 + lVar1 * 0x50 ) < param_3) {
            uVar5 = uVar2;
            uVar2 = uVar8;
         }

         uVar8 = uVar2;
         uVar2 = uVar8 - uVar5;
      }
 while ( 0x20 < uVar2 );
   }

   if (uVar5 < uVar8) {
      puVar7 = (uint*)( uVar5 * 0x50 + param_1 );
      do {
         if (param_3 == *puVar7) {
            if (1 < param_2 - uVar5) {
               iVar9 = 7;
               uVar8 = 1;
               uVar2 = uVar5;
               goto LAB_00116f25;
            }

            lVar1 = uVar5 * 0x50 + param_1;
            uVar8 = uVar5;
            if (param_2 <= uVar5) goto LAB_00116fc9;
            puVar7 = (uint*)( uVar5 * 0x50 + param_1 );
            goto LAB_00117001;
         }

         uVar5 = uVar5 + 1;
         puVar7 = puVar7 + 0x14;
      }
 while ( uVar5 != uVar8 );
   }

   lVar1 = param_2 * 0x50 + param_1;
   uVar5 = param_2;
   uVar8 = param_2;
   goto LAB_00116fc9;
   LAB_00116f25:uVar6 = uVar2 + uVar8;
   uVar3 = uVar8;
   if (param_3 != *(uint*)( param_1 + uVar6 * 0x50 )) goto joined_r0x00116f50;
   uVar8 = uVar8 * 2;
   uVar3 = param_2 - uVar6;
   iVar9 = iVar9 + -1;
   uVar2 = uVar6;
   uVar6 = param_2;
   if (( iVar9 == 0 ) || ( uVar3 <= uVar8 )) goto joined_r0x00116f50;
   goto LAB_00116f25;
   joined_r0x00116f50:while (0x20 < uVar3) {
      lVar1 = ( uVar3 >> 1 ) + uVar2;
      uVar8 = lVar1 + 1;
      if (param_3 == *(uint*)( param_1 + lVar1 * 0x50 )) {
         uVar2 = uVar8;
         uVar8 = uVar6;
      }

      uVar6 = uVar8;
      uVar3 = uVar8 - uVar2;
   }
;
   if (uVar2 < uVar6) {
      puVar4 = (uint*)( uVar2 * 0x50 + param_1 );
      do {
         if (param_3 != *puVar4) break;
         uVar2 = uVar2 + 1;
         puVar4 = puVar4 + 0x14;
      }
 while ( uVar2 != uVar6 );
   }

   auVar10._8_8_ = uVar2 - uVar5;
   auVar10._0_8_ = puVar7;
   return auVar10;
   while (true) {
      uVar8 = uVar8 + 1;
      puVar7 = puVar7 + 0x14;
      if (uVar8 == param_2) break;
      LAB_00117001:if (param_3 != *puVar7) break;
   }
;
   LAB_00116fc9:auVar11._8_8_ = uVar8 - uVar5;
   auVar11._0_8_ = lVar1;
   return auVar11;
}
void ufbxi_init_prop_iter_slow_constprop_0(long *param_1, long param_2, long param_3) {
   undefined4 uVar1;
   long lVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   long lVar5;
   long *plVar6;
   byte bVar7;
   undefined1 auVar8[16];
   bVar7 = 0;
   lVar5 = *(long*)( param_3 + 0x18 );
   lVar2 = *(long*)( param_3 + 0x10 );
   uVar1 = *(undefined4*)( param_3 + 0x30 );
   uVar3 = *(undefined8*)( param_2 + 0x30 );
   uVar4 = *(undefined8*)( param_2 + 0x38 );
   *param_1 = lVar2;
   param_1[1] = lVar2 + lVar5 * 0x68;
   auVar8 = ufbxi_find_element_prop_overrides_isra_0(uVar3, uVar4, uVar1);
   param_1[2] = auVar8._0_8_;
   param_1[3] = auVar8._8_8_ * 0x50 + auVar8._0_8_;
   if (auVar8._8_8_ == 0) {
      return;
   }

   plVar6 = param_1 + 4;
   for (lVar5 = 0xd; lVar5 != 0; lVar5 = lVar5 + -1) {
      *plVar6 = 0;
      plVar6 = plVar6 + (ulong)bVar7 * -2 + 1;
   }

   return;
}
void ufbxi_find_prop_override_isra_0(long param_1, ulong param_2, uint param_3, undefined8 *param_4) {
   undefined8 uVar1;
   undefined8 uVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   undefined8 uVar5;
   int iVar6;
   long lVar7;
   uint *puVar8;
   ulong uVar9;
   ulong uVar10;
   bool bVar11;
   uVar9 = 0;
   uVar10 = param_2;
   if (0x10 < param_2) {
      do {
         while (true) {
            lVar7 = ( param_2 >> 1 ) + uVar9;
            puVar8 = (uint*)( lVar7 * 0x50 + param_1 );
            if (*puVar8 != param_3) break;
            bVar11 = puVar8[1] < *(uint*)( param_4 + 2 );
            if (puVar8[1] == *(uint*)( param_4 + 2 )) {
               iVar6 = strcmp(*(char**)( puVar8 + 2 ), (char*)*param_4);
               bVar11 = iVar6 != 0;
            }

            if (bVar11) goto LAB_001170d2;
            LAB_00117108:uVar10 = lVar7 + 1;
            param_2 = uVar10 - uVar9;
            if (param_2 < 0x11) goto LAB_00117118;
         }
;
         if (param_3 <= *puVar8) goto LAB_00117108;
         LAB_001170d2:uVar9 = lVar7 + 1;
         param_2 = uVar10 - uVar9;
      }
 while ( 0x10 < param_2 );
   }

   LAB_00117118:if (uVar9 < uVar10) {
      puVar8 = (uint*)( uVar9 * 0x50 + param_1 );
      do {
         if (( ( param_3 == *puVar8 ) && ( puVar8[1] == *(uint*)( param_4 + 2 ) ) ) && ( iVar6 = strcmp(*(char**)( puVar8 + 2 ), (char*)*param_4) ),iVar6 == 0) {
            param_1 = param_1 + uVar9 * 0x50;
            uVar2 = *(undefined8*)( param_1 + 0x38 );
            uVar3 = *(undefined8*)( param_1 + 0x40 );
            uVar1 = *(undefined8*)( param_1 + 0x20 );
            uVar4 = *(undefined8*)( param_1 + 0x28 );
            uVar5 = *(undefined8*)( param_1 + 0x30 );
            param_4[9] = *(undefined8*)( param_1 + 0x18 );
            param_4[10] = uVar1;
            *(uint*)( param_4 + 3 ) = *(uint*)( param_4 + 3 ) & 0xfffcbfff | 0x20000;
            uVar1 = *(undefined8*)( param_1 + 0x48 );
            param_4[4] = uVar2;
            param_4[5] = uVar3;
            param_4[8] = uVar1;
            param_4[0xb] = uVar4;
            param_4[0xc] = uVar5;
            param_4[6] = param_4[4];
            param_4[0xc] = 0;
            param_4[7] = param_4[5];
            return;
         }

         uVar9 = uVar9 + 1;
         puVar8 = puVar8 + 0x14;
      }
 while ( uVar9 != uVar10 );
   }

   return;
}
undefined8 ufbxi_load_external_cache_isra_0(long param_1) {
   undefined8 uVar1;
   if (*(char*)( param_1 + 0x357 ) != '\0') {
      return 1;
   }

   ufbxi_fmt_err_info(param_1, "UFBX_ENABLE_GEOMETRY_CACHE");
   uVar1 = ufbxi_fail_imp_constprop_0(param_1, "$Feature disabled");
   return uVar1;
}
undefined8 ufbxi_load_external_files(long param_1) {
   long *plVar1;
   void *__s2;
   ulong uVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   undefined8 uVar5;
   ulong uVar6;
   int iVar7;
   int iVar8;
   undefined4 *puVar9;
   int *piVar10;
   undefined8 uVar11;
   long lVar12;
   undefined8 *puVar13;
   long lVar14;
   bool bVar15;
   long *plVar16;
   int *piVar17;
   ulong uVar18;
   ulong uVar19;
   long lVar20;
   int *piVar21;
   ulong uVar22;
   plVar16 = *(long**)( param_1 + 0x2008 );
   plVar1 = plVar16 + *(long*)( param_1 + 0x2010 );
   if (plVar16 == plVar1) {
      piVar10 = (int*)ufbxi_push_pop_size(param_1 + 0xa30, param_1 + 0xab0, 0x40, 0);
      if (piVar10 == (int*)0x0) goto LAB_00117397;
      lVar20 = 0;
      ufbxi_unstable_sort(piVar10, 0, 0x40, ufbxi_less_external_file, 0);
   }
 else {
      lVar20 = 0;
      do {
         while (lVar14 = *plVar16,*(long*)( lVar14 + 0x88 ) != 0) {
            puVar9 = (undefined4*)ufbxi_push_size_zero(param_1 + 0xab0, 0x40, 1);
            if (puVar9 == (undefined4*)0x0) goto LAB_00117397;
            uVar11 = *(undefined8*)( lVar14 + 0x80 );
            uVar3 = *(undefined8*)( lVar14 + 0x88 );
            uVar4 = *(undefined8*)( lVar14 + 0x90 );
            uVar5 = *(undefined8*)( lVar14 + 0x98 );
            plVar16 = plVar16 + 1;
            *(long*)( puVar9 + 10 ) = lVar20;
            *puVar9 = 0;
            lVar20 = lVar20 + 1;
            *(undefined8*)( puVar9 + 2 ) = uVar11;
            *(undefined8*)( puVar9 + 4 ) = uVar3;
            *(undefined8*)( puVar9 + 6 ) = uVar4;
            *(undefined8*)( puVar9 + 8 ) = uVar5;
            if (plVar1 == plVar16) goto LAB_001172e0;
         }
;
         plVar16 = plVar16 + 1;
      }
 while ( plVar1 != plVar16 );
      LAB_001172e0:piVar10 = (int*)ufbxi_push_pop_size(param_1 + 0xa30, param_1 + 0xab0, 0x40, lVar20);
      if (piVar10 == (int*)0x0) {
         LAB_00117397:uVar11 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar11;
      }

      ufbxi_unstable_sort(piVar10, lVar20, 0x40, ufbxi_less_external_file, 0);
      piVar21 = piVar10 + lVar20 * 0x10;
      if (piVar10 != piVar21) {
         lVar14 = 0;
         piVar17 = piVar10;
         iVar8 = 0;
         do {
            while (true) {
               iVar7 = *piVar17;
               if (( *(long*)( piVar17 + 2 ) == lVar14 ) && ( iVar8 == iVar7 )) break;
               lVar14 = *(long*)( piVar17 + 2 );
               if (iVar7 == 0) {
                  iVar8 = ufbxi_load_external_cache_isra_0(param_1);
                  if (iVar8 == 0) goto LAB_00117397;
                  lVar14 = *(long*)( piVar17 + 2 );
                  iVar7 = *piVar17;
               }

               piVar17 = piVar17 + 0x10;
               iVar8 = iVar7;
               if (piVar21 == piVar17) goto LAB_001173c8;
            }
;
            piVar17 = piVar17 + 0x10;
         }
 while ( piVar21 != piVar17 );
      }

   }

   LAB_001173c8:plVar16 = *(long**)( param_1 + 0x2008 );
   plVar1 = plVar16 + *(long*)( param_1 + 0x2010 );
   for (; plVar16 != plVar1; plVar16 = plVar16 + 1) {
      lVar14 = *plVar16;
      lVar12 = ufbxi_find_external_file_constprop_0(piVar10, lVar20, *(undefined8*)( lVar14 + 0x80 ));
      if (( lVar12 != 0 ) && ( *(long*)( lVar12 + 0x30 ) != 0 )) {
         *(long*)( lVar14 + 0xe8 ) = *(long*)( lVar12 + 0x30 );
      }

   }

   plVar16 = *(long**)( param_1 + 0x1ff8 );
   plVar1 = plVar16 + *(long*)( param_1 + 0x2000 );
   joined_r0x00117431:do {
      if (plVar16 == plVar1) {
         return 1;
      }

      lVar20 = *plVar16;
      if (( *(long*)( lVar20 + 0x90 ) != 0 ) && ( lVar14 = lVar14 != 0 )) {
         *(long*)( lVar20 + 0x98 ) = lVar14;
         uVar19 = *(ulong*)( lVar14 + 0x18 );
         lVar14 = *(long*)( lVar14 + 0x10 );
         if (uVar19 == 1) {
            *(long*)( lVar20 + 0xa0 ) = lVar14;
         }
 else {
            uVar22 = 0;
            __s2 = *(void**)( lVar20 + 0x80 );
            uVar2 = *(ulong*)( lVar20 + 0x88 );
            uVar6 = uVar19;
            while (0x10 < uVar19) {
               lVar12 = ( uVar19 >> 1 ) + uVar22;
               puVar13 = (undefined8*)( lVar14 + lVar12 * 0x48 );
               uVar19 = puVar13[1];
               uVar18 = uVar19;
               if (uVar2 <= uVar19) {
                  uVar18 = uVar2;
               }

               iVar8 = memcmp((void*)*puVar13, __s2, uVar18);
               bVar15 = uVar19 < uVar2;
               if (iVar8 != 0) {
                  bVar15 = SUB41((uint)iVar8 >> 0x1f, 0);
               }

               uVar18 = lVar12 + 1;
               if (bVar15 != false) {
                  uVar22 = uVar18;
                  uVar18 = uVar6;
               }

               uVar6 = uVar18;
               uVar19 = uVar18 - uVar22;
            }
;
            if (uVar22 < uVar6) {
               puVar13 = (undefined8*)( lVar14 + uVar22 * 0x48 );
               do {
                  if ((void*)*puVar13 == __s2) {
                     plVar16 = plVar16 + 1;
                     *(ulong*)( lVar20 + 0xa0 ) = lVar14 + uVar22 * 0x48;
                     goto joined_r0x00117431;
                  }

                  uVar22 = uVar22 + 1;
                  puVar13 = puVar13 + 9;
               }
 while ( uVar22 != uVar6 );
            }

         }

      }

      plVar16 = plVar16 + 1;
   }
 while ( true );
}
undefined8 ufbxi_load_geometry_cache_isra_0(undefined8 *param_1) {
   ulong uVar1;
   undefined8 *puVar2;
   if (param_1 != (undefined8*)0x0) {
      *param_1 = 0;
      param_1[0x4c] = 0;
      puVar2 = (undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 );
      for (uVar1 = ( ulong )(( (int)param_1 - (int)(undefined8*)( ( ulong )(param_1 + 1) & 0xfffffffffffffff8 ) ) + 0x268U >> 3); uVar1 != 0; uVar1 = uVar1 - 1) {
         *puVar2 = 0;
         puVar2 = puVar2 + 1;
      }

      ufbxi_fmt_err_info(param_1, "UFBX_ENABLE_GEOMETRY_CACHE");
      ufbxi_fail_imp_err_constprop_0(param_1, "$Feature disabled");
      return 0;
   }

   return 0;
}
void ufbxi_normalize_vec3_list_isra_0(double *param_1, long param_2) {
   double *pdVar1;
   double dVar2;
   double dVar3;
   double dVar4;
   double *pdVar5;
   double dVar6;
   double dVar7;
   double dVar8;
   dVar4 = _LC0;
   dVar3 = _LC66;
   pdVar1 = param_1 + param_2 * 3;
   if (pdVar1 != param_1) {
      do {
         dVar6 = *param_1;
         dVar2 = param_1[1];
         dVar8 = param_1[2];
         dVar7 = SQRT(dVar6 * dVar6 + dVar2 * dVar2 + dVar8 * dVar8);
         if (dVar3 < dVar7) {
            dVar7 = dVar4 / dVar7;
            dVar8 = dVar8 * dVar7;
            dVar6 = dVar7 * dVar6;
            dVar7 = dVar7 * dVar2;
         }
 else {
            dVar6 = 0.0;
            dVar7 = 0.0;
            dVar8 = 0.0;
         }

         *param_1 = dVar6;
         param_1[1] = dVar7;
         pdVar5 = param_1 + 3;
         param_1[2] = dVar8;
         param_1 = pdVar5;
      }
 while ( pdVar1 != pdVar5 );
   }

   return;
}
void ufbxi_postprocess_scene(long param_1) {
   long *plVar1;
   char cVar2;
   char cVar3;
   undefined8 uVar4;
   long lVar5;
   long lVar6;
   long extraout_RDX;
   long *plVar7;
   long lVar8;
   undefined8 uVar9;
   if (*(short*)( param_1 + 0x430 ) != 0) {
      plVar7 = *(long**)( param_1 + 0x1eb8 );
      plVar1 = plVar7 + *(long*)( param_1 + 0x1ec0 );
      if (plVar7 != plVar1) {
         cVar2 = *(char*)( param_1 + 0x430 );
         do {
            while (true) {
               lVar5 = *plVar7;
               if (cVar2 == '\0') {
                  cVar3 = *(char*)( param_1 + 0x431 );
               }
 else {
                  ufbxi_normalize_vec3_list_isra_0(*(undefined8*)( lVar5 + 0x1d8 ), *(undefined8*)( lVar5 + 0x1e0 ));
                  cVar3 = *(char*)( param_1 + 0x431 );
               }

               if (cVar3 != '\0') break;
               LAB_0011771a:plVar7 = plVar7 + 1;
               if (plVar1 == plVar7) goto LAB_001177c0;
            }
;
            lVar6 = *(long*)( lVar5 + 0x380 );
            lVar8 = *(long*)( lVar5 + 0x388 ) * 0xf0 + lVar6;
            if (lVar6 == lVar8) goto LAB_0011771a;
            uVar4 = *(undefined8*)( lVar5 + 0x268 );
            uVar9 = *(undefined8*)( lVar5 + 0x270 );
            do {
               ufbxi_normalize_vec3_list_isra_0(uVar4, uVar9, lVar6 + 0xf0);
               ufbxi_normalize_vec3_list_isra_0(*(undefined8*)( lVar5 + 0x2b0 ), *(undefined8*)( lVar5 + 0x2b8 ));
               lVar6 = extraout_RDX;
            }
 while ( lVar8 != extraout_RDX );
            plVar7 = plVar7 + 1;
         }
 while ( plVar1 != plVar7 );
      }

   }

   LAB_001177c0:if (*(int*)( param_1 + 0x26c ) != 2) {
      *(undefined8*)( param_1 + 0x1d98 ) = _LC137;
      return;
   }

   *(double*)( param_1 + 0x1d98 ) = _LC0 / *(double*)( param_1 + 0x1e00 );
   return;
}
long ufbxi_get_geometry_transform_node_isra_0(long *param_1, long param_2) {
   long lVar1;
   lVar1 = 0;
   if (( param_2 == 1 ) && ( lVar1 = *param_1 * (char*)( lVar1 + 0x442 ) == '\0' )) {
      return 0;
   }

   return lVar1;
}
long ufbxi_find_anim_prop_start_isra_0(long param_1, ulong param_2, ulong param_3) {
   ulong uVar1;
   long lVar2;
   ulong uVar3;
   ulong *puVar4;
   uVar1 = 0;
   uVar3 = param_2;
   if (0x10 < param_2) {
      do {
         lVar2 = ( uVar3 >> 1 ) + uVar1;
         uVar3 = lVar2 + 1;
         if (*(ulong*)( param_1 + lVar2 * 0x28 ) < param_3) {
            uVar1 = uVar3;
            uVar3 = param_2;
         }

         param_2 = uVar3;
         uVar3 = param_2 - uVar1;
      }
 while ( 0x10 < uVar3 );
   }

   if (uVar1 < param_2) {
      puVar4 = (ulong*)( param_1 + uVar1 * 0x28 );
      do {
         if (param_3 == *puVar4) {
            return param_1 + uVar1 * 0x28;
         }

         uVar1 = uVar1 + 1;
         puVar4 = puVar4 + 5;
      }
 while ( uVar1 != param_2 );
   }

   return 0;
}
long ufbxi_find_prop_connection_isra_0(long param_1, ulong param_2, char *param_3) {
   int iVar1;
   long *plVar2;
   long lVar3;
   ulong uVar4;
   long lVar5;
   ulong uVar6;
   if (param_3 == (char*)0x0) {
      param_3 = "";
   }

   uVar4 = 0;
   uVar6 = param_2;
   if (0x20 < param_2) {
      do {
         while (true) {
            lVar3 = ( param_2 >> 1 ) + uVar4;
            lVar5 = lVar3 * 0x30 + param_1;
            iVar1 = strcmp(*(char**)( lVar5 + 0x20 ), param_3);
            if (iVar1 == 0) break;
            if (iVar1 < 0) goto LAB_001178cf;
            LAB_00117902:uVar6 = lVar3 + 1;
            param_2 = uVar6 - uVar4;
            if (param_2 < 0x21) goto LAB_00117912;
         }
;
         if (*(long*)( lVar5 + 0x18 ) != 0) goto LAB_00117902;
         LAB_001178cf:uVar4 = lVar3 + 1;
         param_2 = uVar6 - uVar4;
      }
 while ( 0x20 < param_2 );
   }

   LAB_00117912:if (uVar4 < uVar6) {
      plVar2 = (long*)( param_1 + 0x18 + uVar4 * 0x30 );
      do {
         if (( param_3 == (char*)plVar2[1] ) && ( *plVar2 != 0 )) {
            return uVar4 * 0x30 + param_1;
         }

         uVar4 = uVar4 + 1;
         plVar2 = plVar2 + 6;
      }
 while ( uVar4 != uVar6 );
   }

   return 0;
}
undefined1[16];ufbxi_find_dst_connections_isra_0(long param_1, ulong param_2, char *param_3) {
   int iVar1;
   long lVar2;
   ulong uVar3;
   long *plVar4;
   ulong uVar5;
   ulong uVar6;
   long lVar7;
   ulong uVar8;
   ulong uVar9;
   undefined1 auVar10[16];
   if (param_3 == (char*)0x0) {
      param_3 = "";
   }

   uVar6 = param_2;
   if (param_2 < 0x21) {
      uVar9 = 0;
   }
 else {
      uVar9 = 0;
      uVar8 = param_2;
      do {
         lVar7 = ( uVar8 >> 1 ) + uVar9;
         uVar8 = lVar7 + 1;
         iVar1 = strcmp(*(char**)( param_1 + 0x20 + lVar7 * 0x30 ), param_3);
         if (iVar1 < 0) {
            uVar9 = uVar8;
            uVar8 = uVar6;
         }

         uVar6 = uVar8;
         uVar8 = uVar6 - uVar9;
      }
 while ( 0x20 < uVar8 );
   }

   if (uVar9 < uVar6) {
      lVar7 = uVar9 * 0x30 + param_1;
      do {
         if (( param_3 == *(char**)( lVar7 + 0x20 ) ) && ( *(long*)( lVar7 + 0x18 ) == 0 )) {
            uVar6 = uVar9;
            if (param_2 - uVar9 < 2) {
               lVar7 = uVar9 * 0x30 + param_1;
               uVar5 = param_2;
               goto LAB_00117a98;
            }

            iVar1 = 7;
            uVar8 = 1;
            goto LAB_00117a59;
         }

         uVar9 = uVar9 + 1;
         lVar7 = lVar7 + 0x30;
      }
 while ( uVar9 != uVar6 );
   }

   lVar7 = param_2 * 0x30 + param_1;
   uVar9 = param_2;
   goto LAB_00117ae2;
   LAB_00117a59:uVar5 = uVar6 + uVar8;
   lVar2 = uVar5 * 0x30 + param_1;
   uVar3 = uVar8;
   if (( param_3 != *(char**)( lVar2 + 0x20 ) ) || ( *(long*)( lVar2 + 0x18 ) != 0 )) goto joined_r0x00117a91;
   uVar8 = uVar8 * 2;
   uVar3 = param_2 - uVar5;
   iVar1 = iVar1 + -1;
   uVar6 = uVar5;
   uVar5 = param_2;
   if (( iVar1 == 0 ) || ( uVar3 <= uVar8 )) goto joined_r0x00117a91;
   goto LAB_00117a59;
   joined_r0x00117a91:while (0x20 < uVar3) {
      lVar2 = ( uVar3 >> 1 ) + uVar6;
      uVar8 = lVar2 + 1;
      lVar2 = lVar2 * 0x30 + param_1;
      if (( param_3 == *(char**)( lVar2 + 0x20 ) ) && ( *(long*)( lVar2 + 0x18 ) == 0 )) {
         uVar6 = uVar8;
         uVar8 = uVar5;
      }

      uVar5 = uVar8;
      uVar3 = uVar8 - uVar6;
   }
;
   LAB_00117a98:param_2 = uVar6;
   if (param_2 < uVar5) {
      plVar4 = (long*)( param_1 + 0x18 + param_2 * 0x30 );
      do {
         if (( param_3 != (char*)plVar4[1] ) || ( *plVar4 != 0 )) break;
         param_2 = param_2 + 1;
         plVar4 = plVar4 + 6;
      }
 while ( param_2 != uVar5 );
   }

   LAB_00117ae2:auVar10._8_8_ = param_2 - uVar9;
   auVar10._0_8_ = lVar7;
   return auVar10;
}
undefined8 ufbxi_fetch_blend_keyframes_isra_0(long param_1, long *param_2, undefined8 param_3, undefined8 param_4) {
   long *plVar1;
   long lVar2;
   undefined8 uVar3;
   long *plVar4;
   long lVar5;
   long in_FS_OFFSET;
   undefined1 auVar6[16];
   long local_58;
   undefined1 local_50[16];
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   auVar6 = ufbxi_find_dst_connections_isra_0(param_3, param_4, 0);
   plVar4 = auVar6._0_8_;
   plVar1 = plVar4 + auVar6._8_8_ * 6;
   if (plVar4 == plVar1) {
      lVar5 = 0;
   }
 else {
      lVar5 = 0;
      do {
         while (*(int*)( *plVar4 + 0x48 ) != 0x15) {
            plVar4 = plVar4 + 6;
            if (plVar1 == plVar4) goto LAB_00117c20;
         }
;
         local_50 = (undefined1[16])0x0;
         local_58 = *plVar4;
         lVar2 = ufbxi_push_size_copy(param_1 + 0xab0, 0x18, 1, &local_58);
         if (lVar2 == 0) goto LAB_00117c70;
         plVar4 = plVar4 + 6;
         lVar5 = lVar5 + 1;
      }
 while ( plVar1 != plVar4 );
   }

   LAB_00117c20:lVar2 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 0x18, lVar5);
   *param_2 = lVar2;
   param_2[1] = lVar5;
   if (lVar2 == 0) {
      LAB_00117c70:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar3;
      }

   }
 else if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_fetch_texture_layers_isra_0(long param_1, long *param_2, undefined8 param_3, undefined8 param_4) {
   long lVar1;
   long lVar2;
   undefined8 uVar3;
   long *plVar4;
   long lVar5;
   long *plVar6;
   long in_FS_OFFSET;
   undefined1 auVar7[16];
   long local_58;
   undefined4 local_50;
   undefined4 local_4c;
   undefined8 local_48;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   auVar7 = ufbxi_find_dst_connections_isra_0(param_3, param_4, 0);
   plVar6 = auVar7._0_8_;
   plVar4 = plVar6 + auVar7._8_8_ * 6;
   if (plVar6 == plVar4) {
      lVar5 = 0;
   }
 else {
      lVar5 = 0;
      do {
         while (lVar2 = *plVar6,*(int*)( lVar2 + 0x48 ) != 0x19) {
            plVar6 = plVar6 + 6;
            if (plVar4 == plVar6) goto LAB_00117dd0;
         }
;
         local_4c = 0;
         local_58 = lVar2;
         lVar1 = ufbxi_find_prop_with_key(lVar2 + 0x10, "Texture alpha", 0x54657874);
         local_48 = _LC0;
         if (lVar1 != 0) {
            local_48 = *(undefined8*)( lVar1 + 0x48 );
         }

         lVar2 = ufbxi_find_prop_with_key(lVar2 + 0x10, "BlendMode", 0x426c656e);
         if (lVar2 == 0) {
            local_50 = 5;
         }
 else {
            local_50 = ( undefined4 ) * (ulong*)( lVar2 + 0x40 );
            if (0x1e < *(ulong*)( lVar2 + 0x40 )) {
               local_50 = 5;
            }

         }

         lVar2 = ufbxi_push_size_copy(param_1 + 0xab0, 0x18, 1, &local_58);
         if (lVar2 == 0) goto LAB_00117e40;
         plVar6 = plVar6 + 6;
         lVar5 = lVar5 + 1;
      }
 while ( plVar4 != plVar6 );
   }

   LAB_00117dd0:lVar2 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 0x18, lVar5);
   *param_2 = lVar2;
   param_2[1] = lVar5;
   if (lVar2 == 0) {
      LAB_00117e40:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar3;
      }

   }
 else if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_fetch_dst_elements_constprop_0(long param_1, undefined8 *param_2, long param_3, char param_4, char param_5, int param_6) {
   long lVar1;
   int iVar2;
   ulong uVar3;
   char *pcVar4;
   long *plVar5;
   long *plVar6;
   undefined8 uVar7;
   long lVar8;
   long *plVar9;
   undefined1 auVar10[16];
   lVar8 = 0;
   do {
      auVar10 = ufbxi_find_dst_connections_isra_0(*(undefined8*)( param_3 + 0x60 ), *(undefined8*)( param_3 + 0x68 ), 0);
      plVar6 = auVar10._0_8_;
      plVar9 = plVar6 + auVar10._8_8_ * 6;
      for (; plVar6 != plVar9; plVar6 = plVar6 + 6) {
         while (*(int*)( *plVar6 + 0x48 ) == param_6) {
            if (param_5 != '\0') {
               uVar3 = ( ulong ) * (uint*)( *plVar6 + 0x30 );
               pcVar4 = (char*)( uVar3 + *(long*)( param_1 + 0x1b30 ) );
               if (*pcVar4 != '\0') {
                  iVar2 = ufbxi_warnf_imp(param_1 + 0x2808, 4, uVar3, "Duplicate connection to %u", *(undefined4*)( param_3 + 0x30 ));
                  if (iVar2 == 0) goto LAB_00118036;
                  break;
               }

               *pcVar4 = '\x01';
            }

            plVar5 = (long*)ufbxi_push_size(param_1 + 0xab0, 8, 1);
            if (plVar5 == (long*)0x0) goto LAB_00118036;
            lVar1 = *plVar6;
            plVar6 = plVar6 + 6;
            lVar8 = lVar8 + 1;
            *plVar5 = lVar1;
            if (plVar9 == plVar6) goto LAB_00117f6c;
         }
;
      }

      LAB_00117f6c:if (param_4 == '\0') break;
      if (*(int*)( param_3 + 0x48 ) == 1) {
         if (*(char*)( param_3 + 0x445 ) == '\0') break;
         param_3 = *(long*)( param_3 + 0x80 );
      }
 else {
         if (*(long*)( param_3 + 0x40 ) == 0) break;
         param_3 = **(long**)( param_3 + 0x38 );
      }

   }
 while ( param_3 != 0 );
   plVar6 = (long*)ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 8, lVar8);
   *param_2 = plVar6;
   param_2[1] = lVar8;
   if (plVar6 != (long*)0x0) {
      if (param_5 != '\0') {
         plVar9 = plVar6 + lVar8;
         for (; plVar6 != plVar9; plVar6 = plVar6 + 1) {
            *(undefined1*)( *(long*)( param_1 + 0x1b30 ) + ( ulong ) * (uint*)( *plVar6 + 0x30 ) ) = 0;
         }

      }

      return 1;
   }

   LAB_00118036:uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar7;
}
undefined8 ufbxi_read_legacy_prop_isra_0(long param_1, long param_2, char *param_3) {
   double dVar1;
   uint uVar2;
   uint uVar3;
   byte bVar4;
   char cVar5;
   long *plVar6;
   long lVar7;
   byte bVar8;
   long lVar9;
   long lVar10;
   uint uVar11;
   cVar5 = *param_3;
   if (cVar5 == '\0') {
      *(undefined4*)( param_2 + 0x18 ) = 0;
      return 1;
   }

   param_3 = param_3 + 1;
   bVar8 = 0;
   lVar9 = 0;
   lVar10 = 0;
   uVar11 = 0;
   do {
      if (cVar5 == 'R') {
         if (( (int)( uint ) * (ushort*)( param_1 + 0xe ) >> ( bVar8 & 0x1f ) & 3U ) != 1) {
            return 0;
         }

         *(undefined8*)( param_2 + 0x48 + lVar10 * 8 ) = *(undefined8*)( *(long*)( param_1 + 0x18 ) + lVar9 );
         if (lVar10 == 0) {
            dVar1 = *(double*)( param_2 + 0x48 );
            if ((double)( (ulong)dVar1 & _LC97 ) <= _LC24) {
               lVar7 = (long)dVar1;
            }
 else {
               lVar7 = 0x7fffffffffffffff;
               if (dVar1 < 0.0) {
                  lVar7 = -0x8000000000000000;
               }

            }

            *(long*)( param_2 + 0x40 ) = lVar7;
            *(undefined8*)( param_2 + 0x60 ) = 0;
            *(undefined1**)( param_2 + 0x20 ) = &ufbxi_empty_char;
            for (int i = 0; i < 3; i++) {
               *(undefined8*)( param_2 + ( 8*i + 40 ) ) = 0;
            }

            *(undefined1(*) [16])( param_2 + 0x50 ) = (undefined1[16])0x0;
         }

         bVar4 = (byte)lVar10;
         lVar10 = lVar10 + 1;
         uVar11 = uVar11 & 0xff0fffff | 0x100000 << ( bVar4 & 0x1f );
      }
 else if (cVar5 == 'S') {
         if (( (int)( uint ) * (ushort*)( param_1 + 0xe ) >> ( bVar8 & 0x1f ) & 3U ) != 2) {
            return 0;
         }

         plVar6 = (long*)( *(long*)( param_1 + 0x18 ) + lVar9 );
         lVar7 = *plVar6;
         uVar2 = *(uint*)( plVar6 + 1 );
         uVar3 = *(uint*)( (long)plVar6 + 0xc );
         if (uVar3 == 0) {
            *(long*)( param_2 + 0x20 ) = lVar7;
            *(ulong*)( param_2 + 0x28 ) = (ulong)uVar2;
            if ((ulong)uVar2 != 0) goto LAB_0011812d;
            *(undefined8*)( param_2 + 0x30 ) = 0;
            *(undefined8*)( param_2 + 0x38 ) = 0;
         }
 else {
            if (uVar3 == 0xffffffff) {
               return 0;
            }

            *(ulong*)( param_2 + 0x28 ) = (ulong)uVar3;
            *(ulong*)( param_2 + 0x20 ) = lVar7 + 1 + (ulong)uVar2;
            LAB_0011812d:*(long*)( param_2 + 0x30 ) = lVar7;
            *(ulong*)( param_2 + 0x38 ) = (ulong)uVar2;
         }

         *(undefined8*)( param_2 + 0x40 ) = 0;
         uVar11 = uVar11 | 0x2000000;
         lVar10 = lVar10 + 1;
         *(undefined1(*) [16])( param_2 + 0x48 ) = (undefined1[16])0x0;
         *(undefined1(*) [16])( param_2 + 0x58 ) = (undefined1[16])0x0;
      }
 else if (cVar5 == 'L') {
         if (( (int)( uint ) * (ushort*)( param_1 + 0xe ) >> ( bVar8 & 0x1f ) & 3U ) != 1) {
            return 0;
         }

         uVar11 = uVar11 | 0x1000000;
         lVar10 = lVar10 + 1;
         lVar7 = *(long*)( *(long*)( param_1 + 0x18 ) + 8 + lVar9 );
         *(undefined8*)( param_2 + 0x50 ) = 0;
         *(undefined8*)( param_2 + 0x58 ) = 0;
         *(long*)( param_2 + 0x40 ) = lVar7;
         *(undefined8*)( param_2 + 0x60 ) = 0;
         *(undefined1**)( param_2 + 0x20 ) = &ufbxi_empty_char;
         for (int i = 0; i < 3; i++) {
            *(undefined8*)( param_2 + ( 8*i + 40 ) ) = 0;
         }

         *(double*)( param_2 + 0x48 ) = (double)lVar7;
      }

      cVar5 = *param_3;
      lVar9 = lVar9 + 0x10;
      param_3 = param_3 + 1;
      bVar8 = bVar8 + 2;
      if (cVar5 == '\0') {
         *(uint*)( param_2 + 0x18 ) = uVar11;
         return 1;
      }

   }
 while ( true );
}
undefined8 ufbxi_read_character_isra_0(undefined8 param_1, undefined8 param_2) {
   long lVar1;
   undefined8 uVar2;
   lVar1 = ufbxi_push_element_size(param_1, param_2, 0x80, 0x24);
   if (lVar1 != 0) {
      return 1;
   }

   uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar2;
}
undefined8 ufbxi_read_selection_set_isra_0(undefined8 param_1, undefined8 param_2) {
   long lVar1;
   undefined8 uVar2;
   lVar1 = ufbxi_push_element_size(param_1, param_2, 0x90, 0x22);
   if (lVar1 != 0) {
      return 1;
   }

   uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar2;
}
undefined8 ufbxi_read_anim_stack_isra_0(long param_1, long param_2) {
   long lVar1;
   ulong uVar2;
   long lVar3;
   undefined8 *puVar4;
   undefined8 uVar5;
   uint uVar6;
   lVar1 = ufbxi_push_element_size(param_1, param_2, 0xa8, 0x1d);
   if (lVar1 != 0) {
      uVar2 = ( *(ulong*)( param_2 + 8 ) >> 0x20 ^ *(ulong*)( param_2 + 8 ) ) * -0x2917014799a6026d;
      lVar3 = ( uVar2 ^ uVar2 >> 0x20 ) * -0x2917014799a6026d;
      uVar6 = (uint)lVar3 ^ ( uint )((ulong)lVar3 >> 0x20);
      lVar3 = ufbxi_map_find_size(param_1 + 0x7e0, 0x10, uVar6, param_2 + 8);
      if (lVar3 == 0) {
         puVar4 = (undefined8*)ufbxi_map_insert_size(param_1 + 0x7e0, 0x10, uVar6, param_2 + 8);
         if (puVar4 == (undefined8*)0x0) goto LAB_00118410;
         *puVar4 = *(undefined8*)( param_2 + 8 );
         puVar4[1] = lVar1;
      }

      return 1;
   }

   LAB_00118410:uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar5;
}
undefined8 ufbxi_read_marker_isra_0(undefined8 param_1, undefined8 param_2, undefined4 param_3) {
   long lVar1;
   undefined8 uVar2;
   lVar1 = ufbxi_push_element_size(param_1, param_2, 0x88, 0xf);
   if (lVar1 != 0) {
      *(undefined4*)( lVar1 + 0x80 ) = param_3;
      return 1;
   }

   uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar2;
}
undefined8 ufbxi_read_bone_isra_0(undefined8 param_1, undefined8 param_2, undefined5 *param_3) {
   long lVar1;
   undefined8 uVar2;
   lVar1 = ufbxi_push_element_size(param_1, param_2, 0x98, 5);
   if (lVar1 == 0) {
      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   if (param_3 != &ufbxi_Root) {
      return 1;
   }

   *(undefined1*)( lVar1 + 0x90 ) = 1;
   return 1;
}
undefined8 ufbxi_read_element_isra_0(undefined8 param_1) {
   long lVar1;
   undefined8 uVar2;
   lVar1 = ufbxi_push_element_size();
   if (lVar1 != 0) {
      return 1;
   }

   uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar2;
}
undefined8 ufbxi_read_model_isra_0(long param_1, undefined8 param_2) {
   int iVar1;
   long lVar2;
   long lVar3;
   undefined8 uVar4;
   lVar2 = ufbxi_push_element_size(param_1, param_2, 0x450, 1);
   if (( lVar2 == 0 ) || ( lVar3 = ufbxi_push_size_copy(param_1 + 0xb30, 4, 1, lVar2 + 0x30) ),lVar3 == 0) {
      uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar4;
   }

   lVar3 = ufbxi_find_prop_with_key(lVar2 + 0x10, "InheritType", 0x496e6865);
   if (lVar3 != 0) {
      if (*(long*)( lVar3 + 0x40 ) == 0) {
         *(undefined4*)( lVar2 + 0xec ) = 2;
         iVar1 = *(int*)( param_1 + 0x3cc );
         goto joined_r0x00118602;
      }

      if (*(long*)( lVar3 + 0x40 ) == 2) {
         *(undefined4*)( lVar2 + 0xec ) = 1;
         iVar1 = *(int*)( param_1 + 0x3cc );
         goto joined_r0x00118602;
      }

   }

   iVar1 = *(int*)( param_1 + 0x3cc );
   joined_r0x00118602:if (iVar1 == 0) {
      *(undefined4*)( lVar2 + 0xe8 ) = *(undefined4*)( lVar2 + 0xec );
   }
 else if (iVar1 == 4) {
      *(undefined8*)( lVar2 + 0xe8 ) = 0;
      return 1;
   }

   return 1;
}
char ufbxi_match_isra_0(long param_1, long param_2, undefined8 param_3) {
   char cVar1;
   long in_FS_OFFSET;
   undefined8 local_20;
   long local_18;
   long local_10;
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   local_20 = param_3;
   local_18 = param_1;
   cVar1 = ufbxi_match_imp(&local_18, param_1 + param_2, &local_20);
   if (cVar1 != '\0') {
      cVar1 = local_18 == param_1 + param_2;
   }

   if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return cVar1;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_is_format(long *param_1, ulong param_2, int param_3) {
   undefined8 uVar1;
   char cVar2;
   undefined8 uVar3;
   long in_FS_OFFSET;
   undefined8 local_68;
   undefined8 local_60;
   long *local_58;
   ulong local_50;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   local_58 = param_1;
   local_50 = param_2;
   if (param_3 == 1) {
      if (( ( param_2 < 0x16 ) || ( *param_1 != 0x206172616479614b || param_1[1] != 0x616e694220584246 ) ) || ( *(long*)( (long)param_1 + 0xe ) != 0x1a0020207972616e )) {
         do {
            cVar2 = ufbxi_next_line_constprop_0(&local_68, &local_58);
            uVar1 = local_60;
            uVar3 = local_68;
            if (cVar2 == '\0') goto LAB_001186e9;
            cVar2 = ufbxi_match_isra_0(local_68, local_60, ";\\s*FBX\\s*\\d+\\.\\d+\\.\\d+\\s*project\\s+file");
         }
 while ( ( cVar2 == '\0' ) && ( cVar2 = ufbxi_match_isra_0(uVar3, uVar1, "FBXHeaderExtension:.*") ),cVar2 == '\0' );
      }

   }
 else if (param_3 == 2) {
      do {
         cVar2 = ufbxi_next_line_constprop_0(&local_68, &local_58);
         if (cVar2 == '\0') goto LAB_001186e9;
         cVar2 = ufbxi_match_isra_0(local_68, local_60, "(vn?\\s+\\F|vt)\\s+\\F\\s+\\F.*|f\\s+[\\-/0-9]+\\s+[\\-/0-9]+\\s*[\\-/0-9]+.*|(usemtl|mtllib)\\s+\\S.*");
      }
 while ( cVar2 == '\0' );
   }
 else {
      if (param_3 != 3) {
         LAB_001186e9:uVar3 = 0;
         goto LAB_001186eb;
      }

      do {
         cVar2 = ufbxi_next_line_constprop_0(&local_68, &local_58);
         if (cVar2 == '\0') goto LAB_001186e9;
         cVar2 = ufbxi_match_isra_0(local_68, local_60, "newmtl\\s+\\S.*");
      }
 while ( cVar2 == '\0' );
   }

   uVar3 = 1;
   LAB_001186eb:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) {
      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   return uVar3;
}
undefined8 ufbxi_determine_format(long param_1) {
   char cVar1;
   int iVar2;
   ulong uVar3;
   long lVar4;
   undefined8 uVar5;
   long lVar6;
   long lVar7;
   ulong uVar8;
   int iVar9;
   long lVar10;
   char *pcVar11;
   ulong uVar12;
   bool bVar13;
   iVar9 = *(int*)( param_1 + 0x498 );
   if (iVar9 != 0) goto LAB_0011894c;
   if (*(char*)( param_1 + 0x4a8 ) == '\0') {
      lVar4 = *(long*)( param_1 + 0x528 );
      uVar12 = 0x20;
      *(undefined8*)( param_1 + 0x528 ) = 0;
      *(long*)( param_1 + 0x530 ) = *(long*)( param_1 + 0x530 ) + lVar4;
      uVar3 = *(ulong*)( param_1 + 0x4a0 );
      do {
         if (uVar3 < uVar12) {
            LAB_00118970:iVar9 = ufbxi_resume_progress(param_1);
            if (iVar9 == 0) goto LAB_00118a60;
            goto LAB_00118980;
         }

         uVar3 = *(ulong*)( param_1 + 0x530 );
         if (uVar3 < uVar12) {
            if (*(char*)( param_1 + 0x2200 ) != '\0') goto LAB_00118970;
            lVar4 = ufbxi_refill(param_1, uVar12, 0);
            if (lVar4 == 0) goto LAB_00118a60;
            uVar3 = *(ulong*)( param_1 + 0x530 );
         }

         if (uVar12 < uVar3) {
            uVar3 = uVar12;
         }

         if (uVar3 == 0) {
            pcVar11 = "$Empty file";
            goto LAB_00118992;
         }

         uVar5 = *(undefined8*)( param_1 + 0x520 );
         iVar9 = 1;
         do {
            cVar1 = ufbxi_is_format(uVar5, uVar3, iVar9);
            if (cVar1 != '\0') goto LAB_0011890a;
            iVar9 = iVar9 + 1;
         }
 while ( iVar9 != 4 );
         iVar9 = 0;
         LAB_0011890a:uVar3 = *(ulong*)( param_1 + 0x4a0 );
         if (uVar3 <= uVar12) {
            iVar2 = ufbxi_resume_progress(param_1);
            if (iVar2 == 0) goto LAB_00118a60;
            if (iVar9 == 0) goto LAB_00118980;
            goto LAB_0011894c;
         }

         uVar8 = uVar12 * 2;
         if (uVar3 < uVar12 * 2) {
            uVar8 = uVar3;
         }

         bVar13 = uVar12 < 0x7fffffffffffffff;
         uVar12 = 0xffffffffffffffff;
         if (bVar13) {
            uVar12 = uVar8;
         }

      }
 while ( iVar9 == 0 );
      iVar2 = ufbxi_resume_progress(param_1);
      if (iVar2 != 0) goto LAB_0011894c;
      LAB_00118a60:pcVar11 = "";
   }
 else {
      LAB_00118980:if (( *(char*)( param_1 + 0x4a9 ) == '\0' ) && ( lVar4 = lVar4 != 0 )) {
         lVar10 = *(long*)( param_1 + 0x380 );
         lVar6 = lVar4;
         do {
            lVar7 = lVar6 + -1;
            if (*(char*)( lVar10 + lVar7 ) == '.') {
               lVar10 = lVar10 + lVar7;
               lVar4 = ( lVar4 + 1 ) - lVar6;
               break;
            }

            lVar6 = lVar7;
         }
 while ( lVar7 != 0 );
         iVar9 = 1;
         cVar1 = ufbxi_match_isra_0(lVar10, lVar4, "\\c\\.fbx");
         if (cVar1 != '\0') {
            LAB_0011894c:*(int*)( param_1 + 0x1c10 ) = iVar9;
            return 1;
         }

         iVar9 = 2;
         cVar1 = ufbxi_match_isra_0(lVar10, lVar4, "\\c\\.obj");
         if (cVar1 != '\0') goto LAB_0011894c;
         cVar1 = ufbxi_match_isra_0(lVar10, lVar4, "\\c\\.mtl");
         if (cVar1 != '\0') {
            iVar9 = 3;
            goto LAB_0011894c;
         }

      }

      pcVar11 = "$Unrecognized file format";
   }

   LAB_00118992:uVar5 = ufbxi_fail_imp_constprop_0(param_1, pcVar11);
   return uVar5;
}
void *ufbxi_push_array_data_isra_0(long param_1, char param_2, ulong param_3, long param_4, long param_5) {
   long lVar1;
   void *__s;
   ulong uVar2;
   uVar2 = param_3 & 0xffffffff;
   lVar1 = ufbxi_array_type_size((int)param_2);
   if (( param_3 & 4 ) != 0) {
      param_4 = param_4 + 4;
   }

   if (( uVar2 & 1 ) == 0) {
      if (( uVar2 & 2 ) != 0) {
         param_5 = param_1 + 0xa30;
      }

   }
 else {
      param_5 = param_1 + 0x1a58;
   }

   __s = (void*)ufbxi_push_size(param_5, lVar1, param_4);
   if (__s == (void*)0x0) {
      ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return (void*)0x0;
   }

   if (( param_3 & 4 ) != 0) {
      memset(__s, 0, lVar1 * 4);
      return (void*)( (long)__s + lVar1 * 4 );
   }

   return __s;
}
ulong ufbxi_is_raw_string_isra_0(long param_1, uint param_2, char *param_3) {
   int iVar1;
   undefined4 extraout_var;
   undefined4 extraout_var_00;
   undefined4 extraout_var_01;
   undefined4 extraout_var_02;
   if (0x30 < param_2) {
      return 0;
   }

   switch (param_2) {
      case 0:
    if (param_3 != "Model") {
      iVar1 = strcmp(param_3,"FileId");
      return CONCAT71((int7)(CONCAT44(extraout_var_00,iVar1) >> 8),iVar1 == 0);
    }
switchD_00118b89_caseD_5:
    return 1;
      case 1:
      case 0x11:
    return CONCAT71(0x14a1,param_3 == "SceneInfo");
      default:
    return 0;
      case 5:
    goto switchD_00118b89_caseD_5;
      case 6:
      case 7:
    return CONCAT71((int7)((ulong)((long)&switchD_00118b89::switchdataD_0014920c +
                                  (long)(int)(&switchD_00118b89::switchdataD_0014920c)[param_2]) >>
                          8),*(uint *)(param_1 + 0x268) < 7000);
      case 10:
      case 0xb:
      case 0xc:
      case 0x20:
    return (ulong)((uint)CONCAT71(0x14a5,param_3 == "Name") |
                  (uint)CONCAT71(0x14a5,param_3 == "NodeAttributeName"));
      case 0xd:
    return (ulong)((uint)CONCAT71(0x14a5,param_3 == "Link") |
                   (uint)CONCAT71(0x14a5,param_3 == "Material") |
                  (uint)CONCAT71(0x14a5,param_3 == "Name"));
      case 0x10:
    iVar1 = strcmp(param_3,"CameraIndexName");
    return CONCAT71((int7)(CONCAT44(extraout_var_02,iVar1) >> 8),iVar1 == 0);
      case 0x13:
    iVar1 = strcmp(param_3,"Object");
    return CONCAT71((int7)(CONCAT44(extraout_var_01,iVar1) >> 8),iVar1 == 0);
      case 0x19:
      case 0x1d:
    return CONCAT71(0x14a5,param_3 == "Node");
      case 0x1a:
    iVar1 = strcmp(param_3,"TextureName");
    return (ulong)((uint)CONCAT71(0x14a5,param_3 == "Media") |
                  CONCAT31((int3)((uint)iVar1 >> 8),iVar1 == 0));
      case 0x1b:
      case 0x1f:
    return CONCAT71(0x14ac,param_3 == "Content");
      case 0x1e:
    iVar1 = strcmp(param_3,"Member");
    return CONCAT71((int7)(CONCAT44(extraout_var,iVar1) >> 8),iVar1 == 0);
      case 0x30:
    return CONCAT71(0x14a5,param_3 == "Model");
   }

}
undefined8 ufbxi_get_element_extra_isra_0(long param_1, ulong param_2, uint param_3) {
   undefined8 uVar1;
   uVar1 = 0;
   if (param_3 < param_2) {
      uVar1 = *(undefined8*)( param_1 + (ulong)param_3 * 8 );
   }

   return uVar1;
}
long *ufbxi_find_child_isra_0(uint param_1, long *param_2, long param_3) {
   long *plVar1;
   plVar1 = param_2 + (ulong)param_1 * 4;
   if (plVar1 != param_2) {
      do {
         if (*param_2 == param_3) {
            return param_2;
         }

         param_2 = param_2 + 4;
      }
 while ( plVar1 != param_2 );
   }

   return (long*)0x0;
}
undefined8 ufbxi_find_array_isra_0(void) {
   long lVar1;
   undefined8 uVar2;
   char in_CL;
   lVar1 = ufbxi_find_child_isra_0();
   if (lVar1 != 0) {
      uVar2 = ufbxi_get_array(lVar1, (int)in_CL);
      return uVar2;
   }

   return 0;
}
undefined8 ufbxi_read_truncated_array_isra_0(long param_1, undefined8 *param_2, ulong *param_3, undefined4 param_4, undefined8 param_5, undefined8 param_6, char param_7, ulong param_8) {
   long lVar1;
   void *__src;
   int iVar2;
   undefined8 *puVar3;
   size_t __n;
   void *__dest;
   undefined8 uVar4;
   void *pvVar5;
   ulong uVar6;
   puVar3 = (undefined8*)ufbxi_find_array_isra_0(param_4, param_5, param_6, (int)param_7);
   if (puVar3 == (undefined8*)0x0) {
      iVar2 = ufbxi_warnf_imp(param_1 + 0x2808, 3, 0xffffffff, "Missing geometry data: %s", param_6);
      if (iVar2 == 0) goto LAB_00118f0a;
   }
 else {
      *param_3 = param_8;
      __src = (void*)*puVar3;
      __dest = __src;
      if ((ulong)puVar3[1] < param_8) {
         iVar2 = ufbxi_warnf_imp(param_1 + 0x2808, 2, 0xffffffff, "Truncated array: %s", param_6);
         if (iVar2 == 0) {
            LAB_00118f0a:uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar4;
         }

         __n = ufbxi_array_type_size((int)param_7);
         __dest = (void*)ufbxi_push_size(param_1 + 0x1a58, __n, param_8);
         if (__dest == (void*)0x0) goto LAB_00118f0a;
         memcpy(__dest, __src, puVar3[1] * __n);
         uVar6 = puVar3[1];
         if (uVar6 == 0) {
            memset(__dest, 0, param_8 * __n);
         }
 else {
            lVar1 = uVar6 - 1;
            if (uVar6 < param_8) {
               pvVar5 = (void*)( __n * uVar6 + (long)__dest );
               do {
                  uVar6 = uVar6 + 1;
                  pvVar5 = memcpy(pvVar5, (void*)( lVar1 * __n + (long)__src ), __n);
                  pvVar5 = (void*)( (long)pvVar5 + __n );
               }
 while ( param_8 != uVar6 );
            }

         }

      }

      *param_2 = __dest;
   }

   return 1;
}
void ufbxi_find_uint32_list_isra_0(undefined8 *param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4) {
   undefined8 uVar1;
   undefined8 *puVar2;
   puVar2 = (undefined8*)ufbxi_find_array_isra_0(param_2, param_3, param_4, 0x69);
   if (puVar2 != (undefined8*)0x0) {
      uVar1 = puVar2[1];
      *param_1 = *puVar2;
      param_1[1] = uVar1;
   }

   return;
}
undefined8 ufbxi_read_legacy_link_constprop_0(undefined8 param_1, long param_2, undefined8 param_3, undefined8 param_4) {
   undefined8 uVar1;
   undefined8 uVar2;
   long lVar3;
   undefined8 *puVar4;
   undefined8 *puVar5;
   long lVar6;
   undefined8 uVar7;
   ulong uVar8;
   lVar3 = ufbxi_push_synthetic_element_size(param_1, param_3, param_2, param_4, 0x280, 0x12);
   if (lVar3 != 0) {
      uVar8 = ( ulong ) * (uint*)( param_2 + 8 );
      uVar7 = *(undefined8*)( param_2 + 0x10 );
      puVar4 = (undefined8*)ufbxi_find_array_isra_0(uVar8, uVar7, "Indexes", 0x69);
      puVar5 = (undefined8*)ufbxi_find_array_isra_0(uVar8 & 0xffffffff, uVar7, "Weights", 0x72);
      if (( puVar4 != (undefined8*)0x0 ) && ( puVar5 != (undefined8*)0x0 )) {
         lVar6 = puVar4[1];
         if (lVar6 != puVar5[1]) goto LAB_00119080;
         uVar1 = *puVar4;
         uVar2 = *puVar5;
         *(long*)( lVar3 + 600 ) = lVar6;
         *(long*)( lVar3 + 0x268 ) = lVar6;
         *(undefined8*)( lVar3 + 0x260 ) = uVar1;
         *(undefined8*)( lVar3 + 0x270 ) = uVar2;
         *(long*)( lVar3 + 0x278 ) = lVar6;
      }

      puVar4 = (undefined8*)ufbxi_find_array_isra_0(uVar8 & 0xffffffff, uVar7, "Transform", 0x72);
      lVar6 = ufbxi_find_array_isra_0(uVar8 & 0xffffffff, uVar7, "TransformLink", 0x72);
      if (( puVar4 != (undefined8*)0x0 ) && ( lVar6 != 0 )) {
         if (( (ulong)puVar4[1] < 0x10 ) || ( *(ulong*)( lVar6 + 8 ) < 0x10 )) goto LAB_00119080;
         puVar4 = (undefined8*)ufbxi_read_transform_matrix(lVar3 + 0xe8, *puVar4);
         ufbxi_read_transform_matrix(lVar3 + 0x148, *puVar4);
      }

      return 1;
   }

   LAB_00119080:uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar7;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */undefined8 ufbxi_read_animation_curve(long param_1, long param_2, undefined8 param_3) {
   ulong uVar1;
   int *piVar2;
   uint uVar3;
   bool bVar4;
   long lVar5;
   long *plVar6;
   undefined8 *puVar7;
   undefined8 *puVar8;
   undefined8 *puVar9;
   undefined8 *puVar10;
   double *pdVar11;
   undefined8 uVar12;
   float *pfVar13;
   double *pdVar14;
   ulong uVar15;
   ulong uVar16;
   int *piVar17;
   uint *puVar18;
   int iVar19;
   float fVar20;
   float fVar21;
   float fVar22;
   double dVar23;
   double dVar24;
   double dVar25;
   double dVar26;
   double dVar27;
   float fVar28;
   double dVar29;
   float fVar30;
   double dVar31;
   float fVar32;
   double dVar33;
   double dVar34;
   float fVar35;
   float fVar36;
   double dVar37;
   float fVar38;
   lVar5 = ufbxi_push_element_size(param_1, param_3, 0xa0, 0x20);
   if (lVar5 != 0) {
      if (*(char*)( param_1 + 0x351 ) != '\0') {
         return 1;
      }

      uVar16 = ( ulong ) * (uint*)( param_2 + 8 );
      uVar12 = *(undefined8*)( param_2 + 0x10 );
      plVar6 = (long*)ufbxi_find_array_isra_0(uVar16, uVar12, "KeyTime", 0x6c);
      if (( ( ( ( ( plVar6 != (long*)0x0 ) && ( puVar7 = (undefined8*)ufbxi_find_array_isra_0(uVar16 & 0xffffffff, uVar12, "KeyValueFloat", 0x72) ),puVar7 != (undefined8*)0x0 ) ) && ( puVar8 = (undefined8*)ufbxi_find_array_isra_0(uVar16 & 0xffffffff, uVar12, "KeyAttrFlags", 0x69) ),puVar8 != (undefined8*)0x0 ) ) && ( ( puVar9 = (undefined8*)ufbxi_find_array_isra_0(uVar16 & 0xffffffff, uVar12, "KeyAttrDataFloat", 0x3f) ),puVar9 != (undefined8*)0x0 && ( puVar10 = (undefined8*)ufbxi_find_array_isra_0(uVar16 & 0xffffffff, uVar12, "KeyAttrRefCount", 0x69) ),puVar10 != (undefined8*)0x0 )) {
         pfVar13 = (float*)*puVar9;
         plVar6 = (long*)*plVar6;
         *(double**)( lVar5 + 0x80 ) = pdVar11;
         pdVar14 = (double*)*puVar7;
         puVar18 = (uint*)*puVar8;
         *(ulong*)( lVar5 + 0x88 ) = uVar16;
         piVar17 = (int*)*puVar10;
         if (uVar16 == 0) {
            return 1;
         }

         piVar2 = piVar17 + puVar10[1];
         if (( piVar17 < piVar2 ) && ( iVar19= *piVar17,0 < iVar19 )) {
            fVar28 = 0.0;
            uVar15 = 0;
            fVar32 = _LC154;
            fVar35 = _LC155;
            fVar20 = _LC154;
            dVar24 = (double)*plVar6 / *(double*)( param_1 + 0x21f8 );
            dVar33 = 0.0;
            do {
               dVar23 = dVar24;
               dVar29 = *pdVar14;
               dVar24 = dVar29;
               if (uVar15 == 0) {
                  *(double*)( lVar5 + 0x90 ) = dVar29;
               }
 else {
                  dVar34 = *(double*)( lVar5 + 0x90 );
                  if (dVar29 <= *(double*)( lVar5 + 0x90 )) {
                     dVar34 = dVar29;
                  }

                  *(double*)( lVar5 + 0x90 ) = dVar34;
                  if (dVar29 <= *(double*)( lVar5 + 0x98 )) {
                     dVar24 = *(double*)( lVar5 + 0x98 );
                  }

               }

               uVar1 = uVar15 + 1;
               *(double*)( lVar5 + 0x98 ) = dVar24;
               *pdVar11 = dVar23;
               pdVar11[1] = dVar29;
               dVar24 = dVar23;
               if (uVar1 < uVar16) {
                  dVar24 = (double)plVar6[uVar1] / *(double*)( param_1 + 0x21f8 );
               }

               uVar3 = *puVar18;
               fVar22 = *pfVar13;
               fVar38 = pfVar13[1];
               fVar30 = fVar32;
               fVar36 = fVar32;
               if (( uVar3 & 0x3000000 ) == 0) {
                  if (( uVar3 & 2 ) == 0) goto LAB_0011947a;
                  LAB_00119376:*(uint*)( pdVar11 + 2 ) = ( uint )(( uVar3 & 0x100 ) != 0);
                  LAB_00119386:fVar38 = 0.0;
                  fVar30 = fVar32;
                  fVar22 = 0.0;
                  fVar36 = fVar32;
                  LAB_0011939b:uVar12 = 0;
                  if (dVar33 < dVar23) {
                     LAB_001193a5:fVar20 = (float)( ( dVar23 - dVar33 ) * (double)fVar20 );
                     uVar12 = CONCAT44(fVar28 * fVar20, fVar20);
                  }

                  fVar28 = fVar38;
                  *(undefined8*)( (long)pdVar11 + 0x14 ) = uVar12;
                  uVar12 = 0;
                  fVar20 = fVar36;
                  if (dVar23 < dVar24) goto LAB_00119440;
               }
 else {
                  if (( uVar3 & 0x1000000 ) != 0) {
                     fVar30 = (float)( (uint)pfVar13[2] & 0xffff ) * fVar35;
                  }

                  if (( uVar3 & 0x2000000 ) != 0) {
                     fVar36 = (float)( (uint)pfVar13[2] >> 0x10 ) * fVar35;
                  }

                  if (( uVar3 & 2 ) != 0) goto LAB_00119376;
                  LAB_0011947a:if (( uVar3 & 8 ) != 0) {
                     *(undefined4*)( pdVar11 + 2 ) = 3;
                     if (( uVar3 & 0x200 ) == 0) {
                        if (( uVar3 & 0x400 ) == 0) {
                           if (uVar15 == 0) {
                              if (uVar16 != 1) {
                                 LAB_001198da:if (dVar23 < dVar24) {
                                    if (( ( uVar3 & 0x4000 ) != 0 ) || ( ( ( uVar3 & 0x1000 ) != 0 && ( (double)( ( ulong )(pdVar14[1] - dVar29) & _LC97 ) <= *(double*)( param_1 + 0x488 ) ) ) )) {
                                       fVar28 = 0.0;
                                       fVar22 = 0.0;
                                    }
 else {
                                       dVar29 = ( pdVar14[1] - dVar29 ) / ( dVar24 - dVar23 );
                                       if (( ( uVar3 & 0x2000 ) == 0 ) && ( dVar34 = (double)(float)( (uint)fVar22 & __LC61 ) / _LC9 - __LC63 ),0.0 < dVar34) {
                                          dVar31 = _LC0;
                                          if (fVar22 <= 0.0) {
                                             dVar31 = _LC17;
                                          }

                                          dVar29 = dVar29 + dVar34 * dVar34 * dVar31 * __LC65;
                                       }

                                       fVar28 = (float)dVar29;
                                       fVar22 = fVar28;
                                    }

                                    goto LAB_00119628;
                                 }

                              }

                           }
 else {
                              if (uVar1 < uVar16) {
                                 if (dVar23 <= dVar33) goto LAB_001198da;
                                 if (dVar24 <= dVar23) goto LAB_001199e0;
                                 fVar21 = (float)( ( uint )(fVar22 + fVar28) & __LC61 );
                                 dVar34 = pdVar14[-1];
                                 dVar31 = pdVar14[1];
                                 fVar22 = (float)ufbxi_solve_auto_tangent(dVar33, param_1, uVar3);
                                 fVar32 = _LC154;
                                 fVar35 = _LC155;
                                 fVar28 = fVar22;
                                 if (_LC155 < fVar21) {
                                    fVar28 = (float)ufbxi_solve_auto_tangent(dVar33, dVar23, dVar24, dVar34, dVar29, dVar31, fVar20, param_1, uVar3);
                                    fVar32 = _LC154;
                                    fVar35 = _LC155;
                                 }

                                 goto LAB_001193a5;
                              }

                              if (dVar33 < dVar23) {
                                 LAB_001199e0:if (( uVar3 & 0x4000 ) != 0) {
                                    fVar22 = 0.0;
                                    fVar28 = 0.0;
                                    goto LAB_001193a5;
                                 }

                                 if (( ( uVar3 & 0x1000 ) == 0 ) || ( *(double*)( param_1 + 0x488 ) < (double)( ( ulong )(pdVar14[-1] - dVar29) & _LC97 ) )) {
                                    dVar29 = ( dVar29 - pdVar14[-1] ) / ( dVar23 - dVar33 );
                                    if (( ( uVar3 & 0x2000 ) == 0 ) && ( dVar34 = (double)(float)( (uint)fVar28 & __LC61 ) / _LC9 - __LC63 ),0.0 < dVar34) {
                                       dVar31 = _LC0;
                                       if (0.0 <= fVar28) {
                                          dVar31 = _LC17;
                                       }

                                       dVar29 = dVar29 + dVar34 * dVar34 * dVar31 * __LC65;
                                    }

                                    fVar28 = (float)dVar29;
                                    fVar22 = fVar28;
                                    goto LAB_0011939b;
                                 }

                              }

                           }

                           fVar22 = 0.0;
                           fVar28 = 0.0;
                        }

                     }
 else {
                        if (( uVar15 == 0 ) || ( dVar23 <= dVar33 )) {
                           bVar4 = true;
                           dVar34 = 0.0;
                        }
 else {
                           bVar4 = false;
                           dVar34 = ( dVar29 - pdVar14[-1] ) / ( dVar23 - dVar33 );
                        }

                        if (( uVar16 <= uVar1 ) || ( dVar24 <= dVar23 )) {
                           dVar37 = 0.0;
                           dVar31 = (double)pfVar13[2];
                           dVar29 = _LC0;
                        }
 else {
                           dVar31 = (double)pfVar13[2];
                           dVar37 = ( pdVar14[1] - dVar29 ) / ( dVar24 - dVar23 );
                           dVar29 = _LC60;
                           if (bVar4) {
                              dVar29 = _LC0;
                           }

                        }

                        dVar29 = ( _LC0 - (double)fVar22 ) * dVar29;
                        dVar25 = _LC0 + (double)fVar38;
                        dVar26 = _LC0 - (double)fVar38;
                        dVar27 = ( _LC0 - dVar31 ) * dVar29;
                        dVar29 = ( dVar31 + _LC0 ) * dVar29;
                        fVar38 = 0.0;
                        fVar28 = (float)( dVar29 * dVar26 * dVar34 + dVar27 * dVar25 * dVar37 );
                        fVar22 = (float)( dVar29 * dVar25 * dVar34 + dVar26 * dVar27 * dVar37 );
                        fVar36 = fVar32;
                     }

                     goto LAB_0011939b;
                  }

                  *(undefined4*)( pdVar11 + 2 ) = 2;
                  if (dVar24 <= dVar23) goto LAB_00119386;
                  if (dVar24 - dVar23 <= 0.0) {
                     fVar22 = 0.0;
                     fVar38 = 0.0;
                     fVar30 = fVar32;
                     fVar36 = fVar32;
                  }
 else {
                     fVar38 = (float)( ( pdVar14[1] - dVar29 ) / ( dVar24 - dVar23 ) );
                     fVar30 = fVar32;
                     fVar22 = fVar38;
                     fVar36 = fVar32;
                  }

                  LAB_00119628:if (dVar33 < dVar23) goto LAB_001193a5;
                  *(undefined8*)( (long)pdVar11 + 0x14 ) = 0;
                  fVar28 = fVar38;
                  LAB_00119440:fVar20 = (float)( ( dVar24 - dVar23 ) * (double)fVar30 );
                  uVar12 = CONCAT44(fVar22 * fVar20, fVar20);
                  fVar20 = fVar36;
               }

               *(undefined8*)( (long)pdVar11 + 0x1c ) = uVar12;
               iVar19 = iVar19 + -1;
               if (iVar19 == 0) {
                  if (piVar2 <= piVar17 + 1) {
                     if (uVar16 <= uVar1) {
                        return 1;
                     }

                     break;
                  }

                  iVar19 = piVar17[1];
                  if (uVar16 == uVar1) {
                     return 1;
                  }

                  if (iVar19 < 1) break;
                  puVar18 = puVar18 + 1;
                  pfVar13 = pfVar13 + 4;
                  piVar17 = piVar17 + 1;
               }
 else if (uVar16 == uVar1) {
                  return 1;
               }

               pdVar14 = pdVar14 + 1;
               pdVar11 = pdVar11 + 5;
               uVar15 = uVar1;
               dVar33 = dVar23;
            }
 while ( true );
         }

      }

   }

   uVar12 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar12;
}
undefined8 ufbxi_read_layered_texture(undefined8 param_1, long param_2, undefined8 param_3) {
   undefined8 uVar1;
   long lVar2;
   undefined8 *puVar3;
   undefined8 *puVar4;
   undefined8 uVar5;
   ulong uVar6;
   lVar2 = ufbxi_push_element_size(param_1, param_3, 0x260, 0x19);
   if (lVar2 != 0) {
      *(undefined4*)( lVar2 + 0x80 ) = 1;
      for (int i = 0; i < 3; i++) {
         *(undefined1**)( lVar2 + ( 16*i + 136 ) ) = &ufbxi_empty_char;
      }

      for (int i = 0; i < 3; i++) {
         *(undefined8*)( lVar2 + ( 16*i + 144 ) ) = 0;
      }

      puVar3 = (undefined8*)ufbxi_push_element_extra_size(param_1, *(undefined4*)( lVar2 + 0x30 ), 0x20);
      if (puVar3 != (undefined8*)0x0) {
         uVar6 = ( ulong ) * (uint*)( param_2 + 8 );
         uVar5 = *(undefined8*)( param_2 + 0x10 );
         puVar4 = (undefined8*)ufbxi_find_array_isra_0(uVar6, uVar5, "Alphas", 0x72);
         if (puVar4 != (undefined8*)0x0) {
            uVar1 = puVar4[1];
            puVar3[2] = *puVar4;
            puVar3[3] = uVar1;
         }

         puVar4 = (undefined8*)ufbxi_find_array_isra_0(uVar6 & 0xffffffff, uVar5, "BlendModes", 0x69);
         if (puVar4 != (undefined8*)0x0) {
            uVar5 = puVar4[1];
            *puVar3 = *puVar4;
            puVar3[1] = uVar5;
         }

         return 1;
      }

   }

   uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar5;
}
undefined8 ufbxi_read_line(long param_1, long param_2, undefined8 param_3) {
   int *piVar1;
   uint *puVar2;
   uint uVar3;
   int iVar4;
   long lVar5;
   undefined8 *puVar6;
   undefined8 *puVar7;
   undefined8 uVar8;
   long lVar9;
   ulong uVar10;
   uint *puVar11;
   int iVar12;
   ulong uVar13;
   ulong uVar14;
   ulong uVar15;
   lVar5 = ufbxi_push_element_size(param_1, param_3, 0xd0, 7);
   if (lVar5 != 0) {
      if (*(char*)( param_1 + 0x350 ) != '\0') {
         return 1;
      }

      uVar13 = ( ulong ) * (uint*)( param_2 + 8 );
      uVar8 = *(undefined8*)( param_2 + 0x10 );
      puVar6 = (undefined8*)ufbxi_find_array_isra_0(uVar13, uVar8, "Points", 0x72);
      puVar7 = (undefined8*)ufbxi_find_array_isra_0(uVar13 & 0xffffffff, uVar8, "PointsIndex", 0x69);
      if (( puVar6 != (undefined8*)0x0 ) && ( puVar7 != (undefined8*)0x0 )) {
         uVar13 = puVar6[1];
         if (uVar13 % 3 == 0) {
            if (uVar13 == 0) {
               return 1;
            }

            *(ulong*)( lVar5 + 0xa0 ) = uVar13 / 3;
            puVar11 = (uint*)*puVar7;
            *(undefined8*)( lVar5 + 0x98 ) = *puVar6;
            uVar15 = puVar7[1];
            *(uint**)( lVar5 + 0xa8 ) = puVar11;
            *(ulong*)( lVar5 + 0xb0 ) = uVar15;
            if (uVar13 < 0x17ffffffd) {
               lVar9 = 1;
               if (1 < uVar15) {
                  puVar2 = puVar11 + ( uVar15 - 1 );
                  do {
                     uVar3 = *puVar11;
                     puVar11 = puVar11 + 1;
                     lVar9 = lVar9 + ( ulong )(uVar3 >> 0x1f);
                  }
 while ( puVar2 != puVar11 );
               }

               lVar9 = ufbxi_push_size(param_1 + 0x1a58, 8, lVar9);
               *(long*)( lVar5 + 0xb8 ) = lVar9;
               if (lVar9 != 0) {
                  uVar13 = *(ulong*)( lVar5 + 0xb0 );
                  uVar14 = 0;
                  iVar4 = 0;
                  uVar15 = 0;
                  if (uVar13 == 0) {
                     iVar12 = 0;
                  }
 else {
                     do {
                        puVar11 = (uint*)( *(long*)( lVar5 + 0xa8 ) + uVar14 * 4 );
                        uVar3 = *puVar11;
                        uVar10 = (ulong)uVar3;
                        if (( (int)uVar3 < 0 ) && ( uVar10 = uVar14 + 1 < uVar13 )) {
                           lVar9 = *(long*)( lVar5 + 0xc0 );
                           *(long*)( lVar5 + 0xc0 ) = lVar9 + 1;
                           piVar1 = (int*)( *(long*)( lVar5 + 0xb8 ) + lVar9 * 8 );
                           *piVar1 = (int)uVar15;
                           piVar1[1] = (int)uVar14 - (int)uVar15;
                           uVar15 = uVar14;
                           if (*(ulong*)( lVar5 + 0xa0 ) <= uVar10) goto LAB_00119db4;
                           LAB_00119d4e:*puVar11 = (uint)uVar10;
                        }
 else {
                           if (uVar10 < *(ulong*)( lVar5 + 0xa0 )) goto LAB_00119d4e;
                           LAB_00119db4:iVar4 = ufbxi_fix_index(param_1);
                           if (iVar4 == 0) goto LAB_00119dd0;
                           uVar13 = *(ulong*)( lVar5 + 0xb0 );
                        }

                        uVar14 = uVar14 + 1;
                     }
 while ( uVar14 < uVar13 );
                     lVar9 = *(long*)( lVar5 + 0xb8 );
                     iVar4 = (int)uVar15;
                     iVar12 = (int)uVar13 - iVar4;
                  }

                  piVar1 = (int*)( lVar9 + *(long*)( lVar5 + 0xc0 ) * 8 );
                  *(long*)( lVar5 + 0xc0 ) = *(long*)( lVar5 + 0xc0 ) + 1;
                  *piVar1 = iVar4;
                  piVar1[1] = iVar12;
                  return 1;
               }

            }

         }

      }

   }

   LAB_00119dd0:uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar8;
}
undefined8 ufbxi_read_skin_cluster(undefined8 param_1, long param_2, undefined8 param_3) {
   undefined8 uVar1;
   undefined8 uVar2;
   long lVar3;
   undefined8 *puVar4;
   undefined8 *puVar5;
   long lVar6;
   undefined8 uVar7;
   ulong uVar8;
   lVar3 = ufbxi_push_element_size(param_1, param_3, 0x280, 0x12);
   if (lVar3 != 0) {
      uVar8 = ( ulong ) * (uint*)( param_2 + 8 );
      uVar7 = *(undefined8*)( param_2 + 0x10 );
      puVar4 = (undefined8*)ufbxi_find_array_isra_0(uVar8, uVar7, "Indexes", 0x69);
      puVar5 = (undefined8*)ufbxi_find_array_isra_0(uVar8 & 0xffffffff, uVar7, "Weights", 0x72);
      if (( puVar4 != (undefined8*)0x0 ) && ( puVar5 != (undefined8*)0x0 )) {
         lVar6 = puVar4[1];
         if (lVar6 != puVar5[1]) goto LAB_00119f60;
         uVar1 = *puVar4;
         uVar2 = *puVar5;
         *(long*)( lVar3 + 600 ) = lVar6;
         *(long*)( lVar3 + 0x268 ) = lVar6;
         *(undefined8*)( lVar3 + 0x260 ) = uVar1;
         *(undefined8*)( lVar3 + 0x270 ) = uVar2;
         *(long*)( lVar3 + 0x278 ) = lVar6;
      }

      puVar4 = (undefined8*)ufbxi_find_array_isra_0(uVar8 & 0xffffffff, uVar7, "Transform", 0x72);
      lVar6 = ufbxi_find_array_isra_0(uVar8 & 0xffffffff, uVar7, "TransformLink", 0x72);
      if (( puVar4 != (undefined8*)0x0 ) && ( lVar6 != 0 )) {
         if (( (ulong)puVar4[1] < 0x10 ) || ( *(ulong*)( lVar6 + 8 ) < 0x10 )) goto LAB_00119f60;
         puVar4 = (undefined8*)ufbxi_read_transform_matrix(lVar3 + 0xe8, *puVar4);
         ufbxi_read_transform_matrix(lVar3 + 0x148, *puVar4);
      }

      return 1;
   }

   LAB_00119f60:uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar7;
}
undefined8 ufbxi_read_vertex_element_constprop_0(long param_1, long param_2, long param_3, undefined1 (*param_4)[16], undefined4 *param_5, undefined8 param_6, long param_7, ulong param_8) {
   uint *puVar1;
   uint uVar2;
   undefined8 *puVar3;
   int iVar4;
   undefined8 *puVar5;
   ulong uVar6;
   long lVar7;
   uint *puVar8;
   uint *puVar9;
   undefined8 uVar10;
   undefined4 *puVar11;
   ulong uVar12;
   ulong uVar13;
   undefined4 *puVar14;
   undefined8 *puVar15;
   undefined4 *puVar16;
   ulong uVar17;
   undefined4 *extraout_RDX;
   char *pcVar18;
   undefined4 *extraout_RDX_00;
   undefined4 *extraout_RDX_01;
   undefined4 *extraout_RDX_02;
   undefined4 *extraout_RDX_03;
   undefined4 uVar19;
   ulong uVar20;
   ulong uVar21;
   undefined4 *puVar22;
   ulong uVar23;
   long in_FS_OFFSET;
   undefined1 auVar24[16];
   uint local_44;
   long local_40;
   uVar13 = ( ulong ) * (uint*)( param_3 + 8 );
   uVar10 = *(undefined8*)( param_3 + 0x10 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   puVar5 = (undefined8*)ufbxi_find_array_isra_0(uVar13, uVar10, param_5, 0x72);
   auVar24 = ufbxi_find_array_isra_0(uVar13 & 0xffffffff, uVar10, param_6, 0x69);
   puVar16 = auVar24._8_8_;
   puVar15 = auVar24._0_8_;
   if (*(char*)( param_1 + 0x35d ) == '\0') {
      if (puVar5 != (undefined8*)0x0) {
         LAB_0011a013:uVar21 = puVar5[1];
         uVar6 = uVar21 / param_8;
         puVar16 = (undefined4*)( uVar21 % param_8 );
         if (puVar16 != (undefined4*)0x0) goto LAB_0011a2e0;
         if (uVar21 < param_8) goto LAB_0011a2a0;
         if (0x7ffffffd < uVar6 - 1) goto LAB_0011a2e0;
         uVar21 = *(ulong*)( param_2 + 0x88 );
         ( *param_4 )[0] = 1;
         *(ulong*)param_4[2] = uVar21;
         lVar7 = ufbxi_find_child_isra_0(uVar13 & 0xffffffff, uVar10, "MappingInformationType");
         if (( lVar7 == 0 ) || ( ( *(ushort*)( lVar7 + 0xe ) & 3 ) != 2 )) {
            LAB_0011a210:uVar10 = *puVar5;
            *(ulong*)param_4[1] = uVar6;
            *(undefined8*)( *param_4 + 8 ) = uVar10;
            if (puVar15 == (undefined8*)0x0) {
               pcVar18 = "";
               LAB_0011a3e7:if (pcVar18 == "ByPolygonVertex") {
                  if (uVar21 <= uVar6) goto LAB_0011a681;
                  puVar16 = (undefined4*)ufbxi_push_size(param_1 + 0x1a58, 4, uVar21);
                  if (puVar16 == (undefined4*)0x0) goto LAB_0011a2e0;
                  uVar13 = *(ulong*)( param_2 + 0x88 );
                  uVar21 = uVar13;
                  if (uVar13 != 0) {
                     uVar20 = 0;
                     if (( uVar13 & 1 ) != 0) {
                        uVar20 = 1;
                        *puVar16 = 0;
                        if (uVar13 == 1) goto LAB_0011a52a;
                     }

                     do {
                        puVar16[uVar20] = (int)uVar20;
                        lVar7 = uVar20 + 1;
                        uVar20 = uVar20 + 2;
                        puVar16[lVar7] = (int)lVar7;
                     }
 while ( uVar20 != uVar13 );
                  }

                  goto LAB_0011a52a;
               }

               if (( pcVar18 != "ByVertex" ) && ( pcVar18 != "ByVertice" )) {
                  if (pcVar18 == "ByPolygon") goto LAB_0011a5c0;
                  goto LAB_0011a262;
               }

               puVar11 = *(undefined4**)( param_2 + 0x1a0 );
               uVar10 = 0;
               LAB_0011a4d9:iVar4 = ufbxi_check_indices(param_1, param_4[1] + 8, puVar11, uVar10);
               puVar16 = extraout_RDX_02;
               if (iVar4 == 0) goto LAB_0011a2e0;
            }
 else {
               uVar13 = puVar15[1];
               puVar22 = (undefined4*)*puVar15;
               pcVar18 = "";
               LAB_0011a232:if (( pcVar18 == "ByVertice" ) || ( pcVar18 == "ByVertex" )) {
                  puVar11 = (undefined4*)ufbxi_push_size(param_1 + 0x1a58, 4, uVar21);
                  puVar16 = puVar11;
                  if (puVar11 == (undefined4*)0x0) goto LAB_0011a2e0;
                  uVar21 = *(ulong*)( param_2 + 0x88 );
                  lVar7 = *(long*)( param_2 + 0x158 );
                  if (uVar21 != 0) {
                     uVar20 = 0;
                     puVar14 = puVar11;
                     do {
                        uVar12 = ( ulong ) * (uint*)( lVar7 + uVar20 * 4 );
                        if (uVar12 < uVar13) {
                           *puVar14 = puVar22[uVar12];
                        }
 else {
                           iVar4 = ufbxi_fix_index(param_1, puVar14, uVar12, uVar6);
                           puVar16 = extraout_RDX_01;
                           if (iVar4 == 0) goto LAB_0011a2e0;
                           uVar21 = *(ulong*)( param_2 + 0x88 );
                        }

                        uVar20 = uVar20 + 1;
                        puVar14 = puVar14 + 1;
                     }
 while ( uVar20 < uVar21 );
                  }

                  uVar10 = 1;
                  goto LAB_0011a4d9;
               }

               if (pcVar18 == "ByPolygon") goto LAB_0011a0d5;
               LAB_0011a262:if (pcVar18 != "AllSame") {
                  *(undefined8*)param_4[4] = 0;
                  *param_4 = (undefined1[16])0x0;
                  for (int i = 0; i < 3; i++) {
                     param_4[( i + 1 )] = (undefined1[16])0;
                  }

                  iVar4 = ufbxi_warn_polygon_mapping(param_1, param_5);
                  puVar16 = extraout_RDX_00;
                  if (iVar4 != 0) goto LAB_0011a2a0;
                  goto LAB_0011a2e0;
               }

               uVar13 = *(ulong*)( param_1 + 0xa20 );
               if (*(ulong*)( param_1 + 0xa20 ) < uVar21) {
                  uVar13 = uVar21;
               }

               *(ulong*)( param_1 + 0xa20 ) = uVar13;
               *(undefined4**)( param_4[1] + 8 ) = &ufbxi_sentinel_index_zero;
            }

            param_4[3][0] = 1;
         }
 else {
            puVar3 = *(undefined8**)( lVar7 + 0x18 );
            pcVar18 = (char*)*puVar3;
            if (*(int*)( (long)puVar3 + 0xc ) != 0) {
               if (*(int*)( (long)puVar3 + 0xc ) == -1) goto LAB_0011a210;
               pcVar18 = pcVar18 + ( ulong ) * (uint*)( puVar3 + 1 ) + 1;
            }

            uVar10 = *puVar5;
            *(ulong*)param_4[1] = uVar6;
            *(undefined8*)( *param_4 + 8 ) = uVar10;
            if (pcVar18 == "ByPolygon") {
               if (puVar15 == (undefined8*)0x0) {
                  if (uVar6 != uVar21) {
                     LAB_0011a5c0:auVar24 = ufbxi_push_size(param_1 + 0x1a58, 4, uVar21);
                     puVar22 = auVar24._0_8_;
                     puVar16 = auVar24._8_8_;
                     if (puVar22 == (undefined4*)0x0) goto LAB_0011a2e0;
                     uVar13 = *(ulong*)( param_2 + 0x90 );
                     if ((int)uVar13 != 0) {
                        lVar7 = *(long*)( param_2 + 200 );
                        uVar21 = 0;
                        do {
                           uVar2 = *(uint*)( lVar7 + 4 + uVar21 * 8 );
                           uVar20 = ( ulong ) * (uint*)( lVar7 + uVar21 * 8 );
                           uVar19 = (undefined4)uVar21;
                           if (uVar2 != 0) {
                              puVar16 = puVar22 + uVar20;
                              puVar11 = puVar22 + uVar2 + uVar20;
                              puVar14 = puVar16;
                              if (( (int)puVar11 - (int)puVar16 & 4U ) != 0) {
                                 *puVar16 = uVar19;
                                 puVar14 = puVar16 + 1;
                                 if (puVar11 == puVar16 + 1) goto LAB_0011a646;
                              }

                              do {
                                 *puVar14 = uVar19;
                                 puVar16 = puVar14 + 2;
                                 puVar14[1] = uVar19;
                                 puVar14 = puVar16;
                              }
 while ( puVar11 != puVar16 );
                           }

                           LAB_0011a646:uVar21 = uVar21 + 1;
                        }
 while ( uVar21 != ( uVar13 & 0xffffffff ) );
                     }

                     uVar13 = *(ulong*)( param_2 + 0x88 );
                     puVar16 = puVar22;
                     uVar21 = uVar13;
                     goto LAB_0011a52a;
                  }

                  LAB_0011a681:uVar13 = *(ulong*)( param_1 + 0xa28 );
                  if (*(ulong*)( param_1 + 0xa28 ) < uVar21) {
                     uVar13 = uVar21;
                  }

                  *(ulong*)( param_1 + 0xa28 ) = uVar13;
                  *(undefined4**)( param_4[1] + 8 ) = &ufbxi_sentinel_index_consecutive;
               }
 else {
                  uVar13 = puVar15[1];
                  puVar16 = (undefined4*)*puVar15;
                  puVar22 = puVar16;
                  if (uVar21 == uVar13) goto LAB_0011a52a;
                  LAB_0011a0d5:auVar24 = ufbxi_push_size(param_1 + 0x1a58, 4, uVar21);
                  lVar7 = auVar24._0_8_;
                  puVar16 = auVar24._8_8_;
                  if (lVar7 == 0) goto LAB_0011a2e0;
                  uVar21 = *(ulong*)( param_2 + 0x90 );
                  if (uVar21 != 0) {
                     uVar20 = 0;
                     do {
                        local_44 = 0xffffffff;
                        puVar9 = (uint*)( *(long*)( param_2 + 200 ) + uVar20 * 8 );
                        uVar23 = ( ulong ) * puVar9;
                        uVar12 = (ulong)puVar9[1];
                        if (uVar20 < uVar13) {
                           local_44 = puVar22[uVar20];
                           uVar17 = (ulong)local_44;
                           if (uVar6 <= uVar17) goto LAB_0011a16f;
                        }
 else {
                           uVar17 = 0xffffffff;
                           LAB_0011a16f:iVar4 = ufbxi_fix_index(param_1, &local_44, uVar17);
                           if (iVar4 == 0) {
                              puVar16 = extraout_RDX;
                              if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_0011a2f4;
                              goto LAB_0011a743;
                           }

                        }

                        if (uVar12 != 0) {
                           puVar9 = (uint*)( lVar7 + uVar23 * 4 );
                           puVar1 = (uint*)( lVar7 + ( uVar12 + uVar23 ) * 4 );
                           puVar8 = puVar9;
                           if (( (int)puVar1 - (int)puVar9 & 4U ) != 0) {
                              *puVar9 = local_44;
                              puVar8 = puVar9 + 1;
                              if (puVar1 == puVar9 + 1) goto LAB_0011a1de;
                           }

                           do {
                              *puVar8 = local_44;
                              puVar9 = puVar8 + 2;
                              puVar8[1] = local_44;
                              puVar8 = puVar9;
                           }
 while ( puVar1 != puVar9 );
                        }

                        LAB_0011a1de:uVar20 = uVar20 + 1;
                     }
 while ( uVar21 != uVar20 );
                  }

                  *(long*)( param_4[1] + 8 ) = lVar7;
               }

            }
 else {
               if (puVar15 == (undefined8*)0x0) goto LAB_0011a3e7;
               uVar13 = puVar15[1];
               puVar16 = (undefined4*)*puVar15;
               puVar22 = puVar16;
               if (pcVar18 != "ByPolygonVertex") goto LAB_0011a232;
               LAB_0011a52a:iVar4 = ufbxi_check_indices(param_1, param_4[1] + 8, puVar16, 1, uVar13, uVar21, uVar6);
               puVar16 = extraout_RDX_03;
               if (iVar4 == 0) goto LAB_0011a2e0;
            }

         }

         if (( ( param_7 != 0 ) && ( *(char*)( param_1 + 0x494 ) != '\0' ) ) && ( puVar5 = (undefined8*)ufbxi_find_array_isra_0(*(undefined4*)( param_3 + 8 ), *(undefined8*)( param_3 + 0x10 ), param_7, 0x72) ),puVar5 != (undefined8*)0x0) {
            if (uVar6 == puVar5[1]) {
               uVar10 = *puVar5;
               *(ulong*)param_4[4] = uVar6;
               *(undefined8*)( param_4[3] + 8 ) = uVar10;
            }
 else {
               puVar16 = param_5;
               iVar4 = ufbxi_warnf_imp(param_1 + 0x2808, 5, 0xffffffff, "Bad W array size %s=%zu, %s=%zu", param_7, puVar5[1], param_5, uVar6);
               if (iVar4 == 0) goto LAB_0011a2e0;
            }

         }

      }

      LAB_0011a2a0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

   }
 else {
      if (puVar5 != (undefined8*)0x0) goto LAB_0011a013;
      LAB_0011a2e0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         LAB_0011a2f4:uVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88, puVar16);
         return uVar10;
      }

   }

   LAB_0011a743:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_take_anim_channel(long param_1, long param_2, undefined8 param_3, undefined8 param_4, undefined8 *param_5) {
   double *pdVar1;
   double dVar2;
   double dVar3;
   int iVar4;
   uint uVar5;
   long lVar6;
   undefined8 *puVar7;
   undefined8 *puVar8;
   double *pdVar9;
   undefined8 uVar10;
   double *pdVar11;
   double *pdVar12;
   char cVar13;
   char *pcVar14;
   ulong uVar15;
   ulong uVar16;
   long in_FS_OFFSET;
   bool bVar17;
   float fVar18;
   float fVar19;
   float fVar20;
   float fVar21;
   float fVar22;
   double dVar23;
   double dVar24;
   double dVar25;
   double dVar26;
   double dVar27;
   float fVar28;
   double dVar29;
   float fVar30;
   undefined8 local_48;
   long local_40;
   uVar15 = ( ulong ) * (uint*)( param_2 + 8 );
   uVar10 = *(undefined8*)( param_2 + 0x10 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar6 = ufbxi_find_child_isra_0(uVar15, uVar10, "Default");
   if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 1 )) {
      *param_5 = **(undefined8**)( lVar6 + 0x18 );
   }

   puVar7 = (undefined8*)ufbxi_find_array_isra_0(uVar15 & 0xffffffff, uVar10, &ufbxi_Key, 100);
   if (puVar7 == (undefined8*)0x0) {
      LAB_0011a82e:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

   }
 else {
      local_48 = 0;
      puVar8 = (undefined8*)ufbxi_push_synthetic_element_size(param_1, &local_48, param_2, param_4, 0xa0, 0x20);
      if (( puVar8 != (undefined8*)0x0 ) && ( iVar4 = ufbxi_connect_op(param_1, local_48, param_3, *puVar8, puVar8[1]) ),iVar4 != 0) {
         if (*(char*)( param_1 + 0x351 ) != '\0') goto LAB_0011a82e;
         lVar6 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "KeyCount");
         if (( ( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 1 ) ) && ( uVar15 = *(ulong*)( *(long*)( lVar6 + 0x18 ) + 8 ) ),-1 < (long)uVar15) {
            pdVar9 = (double*)ufbxi_push_size(param_1 + 0x1a58, 0x28, uVar15);
            puVar8[0x11] = uVar15;
            puVar8[0x10] = pdVar9;
            if (pdVar9 != (double*)0x0) {
               pdVar11 = (double*)*puVar7;
               pdVar1 = pdVar11 + puVar7[1];
               if (uVar15 == 0) {
                  LAB_0011a8d4:if (pdVar11 == pdVar1) goto LAB_0011a82e;
               }
 else if (8 < puVar7[1] * 8) {
                  dVar2 = *(double*)( param_1 + 0x21f8 );
                  fVar18 = 0.0;
                  pdVar12 = pdVar11;
                  uVar16 = 1;
                  dVar24 = *pdVar11 / dVar2;
                  dVar25 = pdVar11[1];
                  fVar28 = _LC154;
                  dVar29 = _LC158;
                  dVar27 = 0.0;
                  fVar21 = _LC154;
                  LAB_0011a970:dVar23 = dVar24;
                  dVar24 = dVar25;
                  if (uVar16 == 1) {
                     puVar8[0x12] = dVar25;
                  }
 else {
                     dVar26 = (double)puVar8[0x12];
                     if (dVar25 <= (double)puVar8[0x12]) {
                        dVar26 = dVar25;
                     }

                     puVar8[0x12] = dVar26;
                     if (dVar25 <= (double)puVar8[0x13]) {
                        dVar24 = (double)puVar8[0x13];
                     }

                  }

                  puVar8[0x13] = dVar24;
                  if ((long)pdVar1 - (long)pdVar12 < 0x11) goto LAB_0011a8e0;
                  *pdVar9 = dVar23;
                  pdVar9[1] = dVar25;
                  dVar24 = pdVar12[2];
                  if (( dVar24 < 0.0 ) || ( dVar29 < dVar24 )) {
                     LAB_0011a9da:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_0011af48;
                     pcVar14 = "Unknown key mode";
                  }
 else {
                     pdVar11 = pdVar12 + 3;
                     cVar13 = (char)(int)dVar24;
                     dVar24 = dVar23;
                     dVar26 = dVar25;
                     fVar22 = fVar28;
                     fVar30 = fVar28;
                     if (cVar13 != 'U') {
                        if (cVar13 == 'L') {
                           *(undefined4*)( pdVar9 + 2 ) = 2;
                           if (uVar16 < uVar15) goto LAB_0011aa84;
                           LAB_0011ac95:fVar19 = 0.0;
                           fVar20 = 0.0;
                           goto LAB_0011ab8e;
                        }

                        if (cVar13 != 'C') goto LAB_0011a9da;
                        if (pdVar1 != pdVar11 && -1 < (long)pdVar1 - (long)pdVar11) {
                           dVar3 = pdVar12[3];
                           if (( dVar3 < 0.0 ) || ( dVar29 < dVar3 )) {
                              uVar5 = 0;
                           }
 else {
                              uVar5 = ( uint )((char)(int)dVar3 == 'n');
                           }

                           *(uint*)( pdVar9 + 2 ) = uVar5;
                           pdVar11 = pdVar12 + 4;
                           goto LAB_0011aa7b;
                        }

                        goto LAB_0011a8e0;
                     }

                     *(undefined4*)( pdVar9 + 2 ) = 3;
                     if (pdVar1 == pdVar11 || (long)pdVar1 - (long)pdVar11 < 0) goto LAB_0011a8e0;
                     dVar3 = pdVar12[3];
                     if (( 0.0 <= dVar3 ) && ( dVar3 <= dVar29 )) {
                        pdVar11 = pdVar12 + 4;
                        switch ((int)dVar3 - 0x61U & 0xff) {
                           case 0:
                  if (*(int *)(param_1 + 0x268) != 5000) {
                    fVar19 = 0.0;
                    lVar6 = 1;
                    bVar17 = true;
                    fVar20 = 0.0;
                    break;
                  }
                  if (uVar16 < uVar15) {
                    fVar19 = 0.0;
                    bVar17 = true;
                    fVar20 = 0.0;
                    goto LAB_0011aa97;
                  }
                  fVar19 = 0.0;
                  goto LAB_0011aac4;
                           case 1:
                           case 0x12:
                  if ((long)pdVar1 - (long)pdVar11 < 9) goto LAB_0011a8e0;
                  pdVar11 = pdVar12 + 6;
                  bVar17 = false;
                  lVar6 = 1;
                  fVar20 = (float)pdVar12[4];
                  fVar19 = (float)pdVar12[5];
                  break;
                           default:
                  goto switchD_0011ad5b_caseD_2;
                           case 0xf:
                  if ((long)pdVar1 - (long)pdVar11 < 9) goto LAB_0011a8e0;
                  fVar19 = 0.0;
                  pdVar11 = pdVar12 + 6;
                  bVar17 = false;
                  lVar6 = 2;
                  fVar20 = 0.0;
                  break;
                           case 0x13:
                  if (0x10 < (long)pdVar1 - (long)pdVar11) {
                    pdVar11 = pdVar12 + 7;
LAB_0011aa7b:
                    if (uVar15 <= uVar16) goto LAB_0011ac95;
LAB_0011aa84:
                    fVar19 = 0.0;
                    bVar17 = false;
                    fVar20 = 0.0;
                    goto LAB_0011aa97;
                  }
                  goto LAB_0011a8e0;
                        }

                        if (pdVar1 != pdVar11 && -1 < (long)pdVar1 - (long)pdVar11) {
                           do {
                              dVar3 = *pdVar11;
                              if (( dVar3 < 0.0 ) || ( dVar29 < dVar3 )) {
                                 LAB_0011adc6:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_0011af48;
                                 pcVar14 = "Unknown weight mode";
                                 goto LAB_0011a8fb;
                              }

                              pdVar12 = pdVar11 + 1;
                              cVar13 = (char)(int)dVar3;
                              if (cVar13 != 'n') {
                                 if (cVar13 == 'a') {
                                    if ((long)pdVar1 - (long)pdVar12 < 9) break;
                                    pdVar12 = pdVar11 + 3;
                                    fVar22 = (float)pdVar11[1];
                                    fVar30 = (float)pdVar11[2];
                                 }
 else if (cVar13 == 'l') {
                                    if (pdVar1 == pdVar12 || (long)pdVar1 - (long)pdVar12 < 0) break;
                                    pdVar12 = pdVar11 + 2;
                                    fVar30 = (float)pdVar11[1];
                                 }
 else if (cVar13 == 'r') {
                                    if (pdVar1 == pdVar12 || (long)pdVar1 - (long)pdVar12 < 0) break;
                                    pdVar12 = pdVar11 + 2;
                                    fVar22 = (float)pdVar11[1];
                                 }
 else if (cVar13 != 'c') goto LAB_0011adc6;
                              }

                              pdVar11 = pdVar12;
                              if (lVar6 == 1) goto LAB_0011af70;
                              lVar6 = 1;
                              if (pdVar1 == pdVar12 || (long)pdVar1 - (long)pdVar12 < 0) break;
                           }
 while ( true );
                        }

                        goto LAB_0011a8e0;
                     }

                     switchD_0011ad5b_caseD_2:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_0011af48;
                     pcVar14 = "Unknown slope mode";
                  }

                  goto LAB_0011a8fb;
               }

            }

         }

      }

      LAB_0011a8e0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         pcVar14 = "";
         LAB_0011a8fb:uVar10 = ufbxi_fail_imp_constprop_0(param_1, pcVar14);
         return uVar10;
      }

   }

   LAB_0011af48:/* WARNING: Subroutine does not return */__stack_chk_fail();
   LAB_0011af70:if (uVar16 < uVar15) {
      LAB_0011aa97:if ((long)pdVar1 - (long)pdVar11 < 9) goto LAB_0011a8e0;
      pdVar12 = pdVar11;
      dVar24 = *pdVar11 / dVar2;
      dVar26 = pdVar11[1];
   }

   pdVar11 = pdVar12;
   if (bVar17) {
      LAB_0011aac4:if (uVar16 == 1) {
         fVar20 = 0.0;
         fVar18 = 0.0;
      }
 else {
         fVar18 = (float)ufbxi_solve_auto_tangent(dVar27, dVar23, dVar24, pdVar9[-4], dVar25, dVar26, param_1, 0x6000);
         fVar28 = _LC154;
         dVar29 = _LC158;
         fVar20 = fVar18;
      }

   }

   LAB_0011ab8e:if (*(int*)( pdVar9 + 2 ) == 2) {
      if (dVar24 <= dVar23) {
         fVar19 = 0.0;
         fVar20 = 0.0;
         goto LAB_0011ab96;
      }

      fVar19 = (float)( ( dVar26 - dVar25 ) / ( dVar24 - dVar23 ) );
      fVar20 = fVar19;
      if (dVar27 < dVar23) goto LAB_0011ac20;
      *(undefined8*)( (long)pdVar9 + 0x14 ) = 0;
      fVar18 = fVar19;
   }
 else {
      LAB_0011ab96:if (dVar27 < dVar23) {
         LAB_0011ac20:fVar21 = (float)( ( dVar23 - dVar27 ) * (double)fVar21 );
         *(ulong*)( (long)pdVar9 + 0x14 ) = CONCAT44(fVar18 * fVar21, fVar21);
         fVar18 = fVar19;
         fVar19 = fVar20;
      }
 else {
         *(undefined8*)( (long)pdVar9 + 0x14 ) = 0;
         fVar18 = fVar19;
         fVar19 = fVar20;
      }

      if (dVar24 <= dVar23) {
         uVar10 = 0;
         goto LAB_0011abbb;
      }

   }

   fVar21 = (float)( (double)fVar22 * ( dVar24 - dVar23 ) );
   uVar10 = CONCAT44(fVar19 * fVar21, fVar21);
   LAB_0011abbb:*(undefined8*)( (long)pdVar9 + 0x1c ) = uVar10;
   pdVar9 = pdVar9 + 5;
   bVar17 = uVar15 <= uVar16;
   pdVar12 = pdVar11;
   uVar16 = uVar16 + 1;
   dVar25 = dVar26;
   dVar27 = dVar23;
   fVar21 = fVar30;
   if (bVar17) goto LAB_0011a8d4;
   goto LAB_0011a970;
}
undefined8 ufbxi_read_shape(long param_1, long param_2, undefined8 param_3) {
   uint *puVar1;
   ulong uVar2;
   long lVar3;
   undefined8 uVar4;
   int iVar5;
   long lVar6;
   long lVar7;
   long lVar8;
   long lVar9;
   undefined8 *puVar10;
   undefined8 *puVar11;
   ulong uVar12;
   undefined4 *puVar13;
   undefined4 *puVar14;
   undefined4 *puVar15;
   undefined8 uVar16;
   undefined4 uVar17;
   uint uVar18;
   uint *puVar19;
   uVar12 = ( ulong ) * (uint*)( param_2 + 8 );
   uVar16 = *(undefined8*)( param_2 + 0x10 );
   lVar6 = ufbxi_find_child_isra_0(*(uint*)( param_2 + 8 ), uVar16, "Vertices", uVar12, uVar16, param_3);
   uVar17 = (undefined4)uVar12;
   lVar7 = ufbxi_find_child_isra_0(uVar12 & 0xffffffff, uVar16, "Indexes");
   lVar8 = ufbxi_find_child_isra_0(uVar17, uVar16, "Normals");
   if (( lVar6 == 0 ) || ( lVar7 == 0 )) {
      return 1;
   }

   lVar9 = ufbxi_push_element_size(param_1, param_3, 0xb8, 0x15);
   if (lVar9 != 0) {
      if (*(char*)( param_1 + 0x350 ) != '\0') {
         return 1;
      }

      puVar10 = (undefined8*)ufbxi_get_array(lVar6, 0x72);
      puVar11 = (undefined8*)ufbxi_get_array(lVar7, 0x69);
      if (( puVar10 != (undefined8*)0x0 ) && ( puVar11 != (undefined8*)0x0 )) {
         uVar12 = puVar10[1];
         if (( uVar12 % 3 == 0 ) && ( uVar2 = uVar2 == uVar12 / 3 )) {
            puVar19 = (uint*)*puVar11;
            uVar16 = *puVar10;
            *(ulong*)( lVar9 + 0x80 ) = uVar2;
            *(ulong*)( lVar9 + 0xa0 ) = uVar2;
            *(undefined8*)( lVar9 + 0x98 ) = uVar16;
            *(uint**)( lVar9 + 0x88 ) = puVar19;
            *(ulong*)( lVar9 + 0x90 ) = uVar2;
            if (lVar8 != 0) {
               puVar10 = (undefined8*)ufbxi_get_array(lVar8, 0x72);
               if (( puVar10 == (undefined8*)0x0 ) || ( uVar12 != puVar10[1] )) goto LAB_0011b270;
               uVar16 = *puVar10;
               *(ulong*)( lVar9 + 0xb0 ) = uVar2;
               *(undefined8*)( lVar9 + 0xa8 ) = uVar16;
            }

            if (uVar2 < 2) {
               return 1;
            }

            uVar12 = 1;
            uVar18 = *puVar19;
            while (puVar1 = puVar19 + uVar12,uVar18 <= *puVar1) {
               uVar12 = uVar12 + 1;
               uVar18 = *puVar1;
               if (uVar2 == uVar12) {
                  return 1;
               }

            }
;
            puVar13 = (undefined4*)ufbxi_push_size(param_1 + 0xab0, 0x38, uVar2);
            if (puVar13 != (undefined4*)0x0) {
               lVar7 = 0;
               lVar6 = *(long*)( lVar9 + 0x98 );
               puVar15 = *(undefined4**)( lVar9 + 0x88 );
               puVar14 = puVar13;
               do {
                  puVar10 = (undefined8*)( lVar6 + lVar7 );
                  uVar16 = *puVar10;
                  uVar4 = puVar10[1];
                  *puVar14 = *puVar15;
                  *(undefined8*)( puVar14 + 2 ) = uVar16;
                  *(undefined8*)( puVar14 + 4 ) = uVar4;
                  *(undefined8*)( puVar14 + 6 ) = *(undefined8*)( lVar6 + 0x10 + lVar7 );
                  if (lVar8 != 0) {
                     lVar3 = *(long*)( lVar9 + 0xa8 );
                     puVar10 = (undefined8*)( lVar3 + lVar7 );
                     uVar16 = puVar10[1];
                     *(undefined8*)( puVar14 + 8 ) = *puVar10;
                     *(undefined8*)( puVar14 + 10 ) = uVar16;
                     *(undefined8*)( puVar14 + 0xc ) = *(undefined8*)( lVar3 + 0x10 + lVar7 );
                  }

                  lVar7 = lVar7 + 0x18;
                  puVar15 = puVar15 + 1;
                  puVar14 = puVar14 + 0xe;
               }
 while ( lVar7 != uVar2 * 0x18 );
               iVar5 = ufbxi_sort_blend_offsets(param_1, puVar13, uVar2);
               if (iVar5 != 0) {
                  lVar6 = *(long*)( lVar9 + 0x98 );
                  puVar15 = *(undefined4**)( lVar9 + 0x88 );
                  lVar7 = 0;
                  do {
                     uVar16 = *(undefined8*)( puVar13 + 2 );
                     uVar4 = *(undefined8*)( puVar13 + 4 );
                     *puVar15 = *puVar13;
                     puVar10 = (undefined8*)( lVar6 + lVar7 );
                     *puVar10 = uVar16;
                     puVar10[1] = uVar4;
                     *(undefined8*)( lVar6 + 0x10 + lVar7 ) = *(undefined8*)( puVar13 + 6 );
                     if (lVar8 != 0) {
                        lVar3 = *(long*)( lVar9 + 0xa8 );
                        uVar16 = *(undefined8*)( puVar13 + 10 );
                        puVar10 = (undefined8*)( lVar3 + lVar7 );
                        *puVar10 = *(undefined8*)( puVar13 + 8 );
                        puVar10[1] = uVar16;
                        *(undefined8*)( lVar3 + 0x10 + lVar7 ) = *(undefined8*)( puVar13 + 0xc );
                     }

                     lVar7 = lVar7 + 0x18;
                     puVar13 = puVar13 + 0xe;
                     puVar15 = puVar15 + 1;
                  }
 while ( uVar2 * 0x18 != lVar7 );
                  ufbxi_pop_size(param_1 + 0xab0, 0x38, uVar2, 0, 0);
                  return 1;
               }

            }

         }

      }

   }

   LAB_0011b270:uVar16 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar16;
}
undefined8 ufbxi_read_constraint(undefined8 param_1, long param_2, undefined8 param_3) {
   uint uVar1;
   uint uVar2;
   undefined8 *puVar3;
   int iVar4;
   long lVar5;
   long lVar6;
   undefined8 uVar7;
   undefined **ppuVar8;
   char *__s1;
   lVar5 = ufbxi_push_element_size(param_1, param_3, 0x180, 0x25);
   if (lVar5 == 0) {
      uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar7;
   }

   lVar6 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), &ufbxi_Type);
   if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
      puVar3 = *(undefined8**)( lVar6 + 0x18 );
      __s1 = (char*)*puVar3;
      uVar1 = *(uint*)( puVar3 + 1 );
      uVar2 = *(uint*)( (long)puVar3 + 0xc );
      if (uVar2 == 0) {
         *(char**)( lVar5 + 0x88 ) = __s1;
         *(ulong*)( lVar5 + 0x90 ) = (ulong)uVar1;
         iVar4 = strcmp(__s1, "Aim");
         goto LAB_0011b303;
      }

      if (uVar2 != 0xffffffff) {
         __s1 = __s1 + (ulong)uVar1 + 1;
         *(ulong*)( lVar5 + 0x90 ) = (ulong)uVar2;
         *(char**)( lVar5 + 0x88 ) = __s1;
         iVar4 = strcmp(__s1, "Aim");
         goto LAB_0011b303;
      }

   }

   __s1 = "";
   iVar4 = -1;
   *(undefined8*)( lVar5 + 0x90 ) = 0;
   *(undefined1**)( lVar5 + 0x88 ) = &ufbxi_empty_char;
   LAB_0011b303:ppuVar8 = (undefined**)&ufbxi_constraint_types;
   while (true) {
      if (iVar4 == 0) {
         *(undefined4*)( lVar5 + 0x80 ) = *(undefined4*)ppuVar8;
         return 1;
      }

      if (ppuVar8 + 2 == &ufbxi_scale_helper_props) break;
      iVar4 = strcmp(__s1, ppuVar8[3]);
      ppuVar8 = ppuVar8 + 2;
   }
;
   return 1;
}
undefined8 ufbxi_read_skin(undefined8 param_1, long param_2, undefined8 param_3) {
   long *plVar1;
   int iVar2;
   long lVar3;
   long lVar4;
   undefined8 *puVar5;
   undefined8 *puVar6;
   undefined8 uVar7;
   ulong uVar8;
   undefined4 uVar9;
   char *__s1;
   lVar3 = ufbxi_push_element_size(param_1, param_3, 0xe8, 0x11);
   if (lVar3 == 0) {
      uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar7;
   }

   uVar9 = *(undefined4*)( param_2 + 8 );
   uVar7 = *(undefined8*)( param_2 + 0x10 );
   lVar4 = ufbxi_find_child_isra_0(uVar9, uVar7, "SkinningType");
   if (( lVar4 != 0 ) && ( ( *(ushort*)( lVar4 + 0xe ) & 3 ) == 2 )) {
      plVar1 = *(long**)( lVar4 + 0x18 );
      __s1 = (char*)*plVar1;
      if (*(int*)( (long)plVar1 + 0xc ) != 0) {
         if (*(int*)( (long)plVar1 + 0xc ) == -1) goto LAB_0011b4a0;
         __s1 = __s1 + ( ulong ) * (uint*)( plVar1 + 1 ) + 1;
      }

      iVar2 = strcmp(__s1, "Rigid");
      if (iVar2 == 0) {
         *(undefined4*)( lVar3 + 0x80 ) = 1;
         uVar9 = *(undefined4*)( param_2 + 8 );
      }
 else {
         iVar2 = strcmp(__s1, "Linear");
         if (iVar2 == 0) {
            *(undefined4*)( lVar3 + 0x80 ) = 0;
            uVar9 = *(undefined4*)( param_2 + 8 );
         }
 else {
            iVar2 = strcmp(__s1, "DualQuaternion");
            if (iVar2 == 0) {
               *(undefined4*)( lVar3 + 0x80 ) = 2;
               uVar9 = *(undefined4*)( param_2 + 8 );
            }
 else {
               iVar2 = strcmp(__s1, "Blend");
               if (iVar2 == 0) {
                  *(undefined4*)( lVar3 + 0x80 ) = 3;
                  uVar9 = *(undefined4*)( param_2 + 8 );
               }

            }

         }

      }

   }

   LAB_0011b4a0:puVar5 = (undefined8*)ufbxi_find_array_isra_0(uVar9, uVar7, "Indexes", 0x69);
   puVar6 = (undefined8*)ufbxi_find_array_isra_0(uVar9, uVar7, "BlendWeights", 0x72);
   if (( puVar5 != (undefined8*)0x0 ) && ( puVar6 != (undefined8*)0x0 )) {
      uVar8 = puVar6[1];
      if ((ulong)puVar5[1] < (ulong)puVar6[1]) {
         uVar8 = puVar5[1];
      }

      uVar7 = *puVar5;
      *(undefined8*)( lVar3 + 0xd8 ) = *puVar6;
      *(ulong*)( lVar3 + 0xc0 ) = uVar8;
      *(undefined8*)( lVar3 + 200 ) = uVar7;
      *(ulong*)( lVar3 + 0xd0 ) = uVar8;
      *(ulong*)( lVar3 + 0xe0 ) = uVar8;
   }

   return 1;
}
undefined8 ufbxi_read_nurbs_surface(long param_1, long param_2, undefined8 param_3) {
   char cVar1;
   ushort uVar2;
   long lVar3;
   long *plVar4;
   undefined4 uVar5;
   long lVar6;
   long lVar7;
   undefined8 uVar8;
   long lVar9;
   undefined8 *puVar10;
   undefined8 *puVar11;
   undefined8 *puVar12;
   ulong uVar13;
   long lVar14;
   int iVar15;
   int iVar16;
   long local_60;
   lVar6 = ufbxi_push_element_size(param_1, param_3, 0x158, 9);
   if (lVar6 != 0) {
      uVar8 = *(undefined8*)( param_2 + 0x10 );
      lVar7 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), uVar8, "NurbsSurfaceOrder");
      if (lVar7 != 0) {
         uVar2 = *(ushort*)( lVar7 + 0xe );
         if (( uVar2 & 3 ) == 1) {
            lVar7 = *(long*)( lVar7 + 0x18 );
            *(int*)( lVar6 + 0x80 ) = (int)*(undefined8*)( lVar7 + 8 );
            if (( uVar2 & 0xc ) == 4) {
               *(int*)( lVar6 + 0xd0 ) = (int)*(undefined8*)( lVar7 + 0x18 );
               uVar13 = ( ulong ) * (uint*)( param_2 + 8 );
               lVar7 = ufbxi_find_child_isra_0(*(uint*)( param_2 + 8 ), uVar8, "Dimensions");
               if (lVar7 != 0) {
                  if (( *(ushort*)( lVar7 + 0xe ) & 3 ) == 1) {
                     lVar3 = *(long*)( *(long*)( lVar7 + 0x18 ) + 8 );
                     if (( -1 < lVar3 ) && ( ( *(ushort*)( lVar7 + 0xe ) & 0xc ) == 4 )) {
                        lVar7 = *(long*)( *(long*)( lVar7 + 0x18 ) + 0x18 );
                        if (-1 < lVar7) {
                           lVar9 = ufbxi_find_child_isra_0(uVar13 & 0xffffffff, uVar8, &ufbxi_Step);
                           uVar5 = (undefined4)uVar13;
                           if (lVar9 != 0) {
                              if (( *(ushort*)( lVar9 + 0xe ) & 3 ) == 1) {
                                 iVar16 = (int)*(undefined8*)( *(long*)( lVar9 + 0x18 ) + 8 );
                                 if (( *(ushort*)( lVar9 + 0xe ) & 0xc ) == 4) {
                                    iVar15 = (int)*(undefined8*)( *(long*)( lVar9 + 0x18 ) + 0x18 );
                                    lVar9 = ufbxi_find_child_isra_0(uVar13 & 0xffffffff, uVar8, &ufbxi_Form);
                                    if (lVar9 != 0) {
                                       if (( *(ushort*)( lVar9 + 0xe ) & 3 ) == 2) {
                                          plVar4 = *(long**)( lVar9 + 0x18 );
                                          lVar14 = *plVar4;
                                          if (*(int*)( (long)plVar4 + 0xc ) != 0) {
                                             if (*(int*)( (long)plVar4 + 0xc ) == -1) goto LAB_0011b618;
                                             lVar14 = lVar14 + 1 + ( ulong ) * (uint*)( plVar4 + 1 );
                                          }

                                          if (( *(ushort*)( lVar9 + 0xe ) & 0xc ) == 8) {
                                             local_60 = plVar4[2];
                                             if (*(int*)( (long)plVar4 + 0x1c ) != 0) {
                                                if (*(int*)( (long)plVar4 + 0x1c ) == -1) goto LAB_0011b618;
                                                local_60 = local_60 + 1 + ( ulong ) * (uint*)( plVar4 + 3 );
                                             }

                                             lVar9 = ufbxi_find_child_isra_0(uVar5, uVar8, "FlipNormals");
                                             if (( lVar9 != 0 ) && ( ( *(ushort*)( lVar9 + 0xe ) & 3 ) == 1 )) {
                                                *(bool*)( lVar6 + 0x148 ) = *(long*)( *(long*)( lVar9 + 0x18 ) + 8 ) != 0;
                                             }

                                             uVar5 = ufbxi_read_nurbs_topology(lVar14);
                                             *(undefined4*)( lVar6 + 0x84 ) = uVar5;
                                             uVar5 = ufbxi_read_nurbs_topology(local_60);
                                             *(undefined4*)( lVar6 + 0xd4 ) = uVar5;
                                             if (iVar16 < 1) {
                                                iVar16 = 4;
                                             }

                                             *(long*)( lVar6 + 0x120 ) = lVar3;
                                             *(long*)( lVar6 + 0x128 ) = lVar7;
                                             if (iVar15 < 1) {
                                                iVar15 = 4;
                                             }

                                             cVar1 = *(char*)( param_1 + 0x350 );
                                             *(int*)( lVar6 + 0x140 ) = iVar16;
                                             *(int*)( lVar6 + 0x144 ) = iVar15;
                                             if (cVar1 == '\0') {
                                                uVar13 = ( ulong ) * (uint*)( param_2 + 8 );
                                                puVar10 = (undefined8*)ufbxi_find_array_isra_0(uVar13, uVar8, "Points", 0x72);
                                                puVar11 = (undefined8*)ufbxi_find_array_isra_0(uVar13 & 0xffffffff, uVar8, "KnotVectorU", 0x72);
                                                puVar12 = (undefined8*)ufbxi_find_array_isra_0(uVar13 & 0xffffffff, uVar8, "KnotVectorV", 0x72);
                                                if (( ( ( puVar10 == (undefined8*)0x0 ) || ( puVar11 == (undefined8*)0x0 ) ) || ( puVar12 == (undefined8*)0x0 ) ) || ( ( ( puVar10[1] & 3 ) != 0 || ( uVar13 = (ulong)puVar10[1] >> 2 ),uVar13 != lVar7 * lVar3 ) )) goto LAB_0011b618;
                                                *(ulong*)( lVar6 + 0x138 ) = uVar13;
                                                *(undefined8*)( lVar6 + 0x130 ) = *puVar10;
                                                *(undefined8*)( lVar6 + 0x88 ) = *puVar11;
                                                *(undefined8*)( lVar6 + 0x90 ) = puVar11[1];
                                                uVar8 = puVar12[1];
                                                *(undefined8*)( lVar6 + 0xd8 ) = *puVar12;
                                                *(undefined8*)( lVar6 + 0xe0 ) = uVar8;
                                             }

                                             return 1;
                                          }

                                       }

                                    }

                                 }

                              }

                           }

                        }

                     }

                  }

               }

            }

         }

      }

   }

   LAB_0011b618:uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar8;
}
undefined8 ufbxi_read_nurbs_curve(long param_1, long param_2, undefined8 param_3) {
   char cVar1;
   long *plVar2;
   undefined4 uVar3;
   long lVar4;
   long lVar5;
   undefined8 uVar6;
   undefined8 *puVar7;
   undefined8 *puVar8;
   ulong uVar9;
   int iVar10;
   lVar4 = ufbxi_push_element_size(param_1, param_3, 0xe0, 8);
   if (lVar4 != 0) {
      uVar6 = *(undefined8*)( param_2 + 0x10 );
      lVar5 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), uVar6, "Order");
      if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 1 )) {
         *(int*)( lVar4 + 0x80 ) = (int)*(undefined8*)( *(long*)( lVar5 + 0x18 ) + 8 );
         uVar3 = *(undefined4*)( param_2 + 8 );
         lVar5 = ufbxi_find_child_isra_0(uVar3, uVar6, "Dimension");
         if (lVar5 == 0) {
            iVar10 = 3;
         }
 else {
            iVar10 = 3;
            if (( *(ushort*)( lVar5 + 0xe ) & 3 ) == 1) {
               iVar10 = *(int*)( *(long*)( lVar5 + 0x18 ) + 8 );
            }

         }

         lVar5 = ufbxi_find_child_isra_0(uVar3, uVar6, &ufbxi_Form);
         if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
            plVar2 = *(long**)( lVar5 + 0x18 );
            lVar5 = *plVar2;
            if (*(int*)( (long)plVar2 + 0xc ) != 0) {
               if (*(int*)( (long)plVar2 + 0xc ) == -1) goto LAB_0011b970;
               lVar5 = lVar5 + 1 + ( ulong ) * (uint*)( plVar2 + 1 );
            }

            uVar3 = ufbxi_read_nurbs_topology(lVar5);
            *(bool*)( lVar4 + 0xb8 ) = iVar10 == 2;
            cVar1 = *(char*)( param_1 + 0x350 );
            *(undefined4*)( lVar4 + 0x84 ) = uVar3;
            if (cVar1 != '\0') {
               return 1;
            }

            uVar9 = ( ulong ) * (uint*)( param_2 + 8 );
            puVar7 = (undefined8*)ufbxi_find_array_isra_0(uVar9, uVar6, "Points", 0x72);
            puVar8 = (undefined8*)ufbxi_find_array_isra_0(uVar9 & 0xffffffff, uVar6, "KnotVector", 0x72);
            if (( ( puVar7 != (undefined8*)0x0 ) && ( puVar8 != (undefined8*)0x0 ) ) && ( ( puVar7[1] & 3 ) == 0 )) {
               *(ulong*)( lVar4 + 0xd8 ) = (ulong)puVar7[1] >> 2;
               *(undefined8*)( lVar4 + 0xd0 ) = *puVar7;
               uVar6 = puVar8[1];
               *(undefined8*)( lVar4 + 0x88 ) = *puVar8;
               *(undefined8*)( lVar4 + 0x90 ) = uVar6;
               return 1;
            }

         }

      }

   }

   LAB_0011b970:uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar6;
}
undefined8 ufbxi_read_pose(long param_1, long param_2, undefined8 param_3, char *param_4) {
   uint uVar1;
   long lVar2;
   long lVar3;
   undefined8 *puVar4;
   ulong *puVar5;
   undefined8 uVar6;
   long *plVar7;
   ulong uVar8;
   long lVar9;
   long *plVar10;
   long lVar11;
   ulong local_58;
   lVar2 = ufbxi_push_element_size(param_1, param_3, 0x98, 0x28);
   if (lVar2 != 0) {
      plVar10 = *(long**)( param_2 + 0x10 );
      uVar1 = *(uint*)( param_2 + 8 );
      *(bool*)( lVar2 + 0x80 ) = param_4 == "BindPose";
      lVar11 = 0;
      plVar7 = plVar10 + (ulong)uVar1 * 4;
      if (plVar10 != plVar7) {
         LAB_0011bb95:do {
            if ((char*)*plVar10 == "PoseNode") {
               uVar8 = ( ulong ) * (uint*)( plVar10 + 1 );
               lVar9 = plVar10[2];
               if (*(uint*)( param_1 + 0x268 ) < 7000) {
                  lVar3 = ufbxi_find_child_isra_0(uVar8, lVar9, &ufbxi_Node);
                  if (( lVar3 != 0 ) && ( ( *(ushort*)( lVar3 + 0xe ) & 3 ) == 2 )) {
                     local_58 = **(ulong**)( lVar3 + 0x18 ) >> 1 | 0x8000000000000000;
                     LAB_0011bbef:puVar4 = (undefined8*)ufbxi_find_array_isra_0(uVar8 & 0xffffffff, lVar9, "Matrix", 0x72);
                     if (puVar4 != (undefined8*)0x0) {
                        if ((ulong)puVar4[1] < 0x10) goto LAB_0011bcf0;
                        puVar5 = (ulong*)ufbxi_push_size(param_1 + 0xab0, 0x68, 1);
                        if (puVar5 == (ulong*)0x0) goto LAB_0011bcf0;
                        uVar6 = *puVar4;
                        plVar10 = plVar10 + 4;
                        lVar11 = lVar11 + 1;
                        *puVar5 = local_58;
                        ufbxi_read_transform_matrix(puVar5 + 1, uVar6);
                        if (plVar7 == plVar10) break;
                        goto LAB_0011bb95;
                     }

                  }

               }
 else {
                  lVar3 = ufbxi_find_child_isra_0(uVar8, lVar9, &ufbxi_Node);
                  if (( lVar3 != 0 ) && ( ( *(ushort*)( lVar3 + 0xe ) & 3 ) == 1 )) {
                     local_58 = *(ulong*)( *(long*)( lVar3 + 0x18 ) + 8 );
                     goto LAB_0011bbef;
                  }

               }

            }

            plVar10 = plVar10 + 4;
         }
 while ( plVar7 != plVar10 );
      }

      *(long*)( lVar2 + 0x90 ) = lVar11;
      lVar11 = ufbxi_push_pop_size(param_1 + 0xa30, param_1 + 0xab0, 0x68, lVar11);
      *(long*)( lVar2 + 0x88 ) = lVar11;
      if (lVar11 != 0) {
         return 1;
      }

   }

   LAB_0011bcf0:uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar6;
}
undefined8 ufbxi_read_audio_clip(undefined8 param_1, long param_2, undefined8 param_3) {
   undefined4 uVar1;
   int iVar2;
   long lVar3;
   undefined8 uVar4;
   lVar3 = ufbxi_push_element_size(param_1, param_3, 0xf0, 0x27);
   if (lVar3 != 0) {
      uVar4 = *(undefined8*)( param_2 + 0x10 );
      uVar1 = *(undefined4*)( param_2 + 8 );
      for (int i = 0; i < 3; i++) {
         *(undefined1**)( lVar3 + ( 16*i + 128 ) ) = &ufbxi_empty_char;
         *(undefined8*)( lVar3 + ( 16*i + 136 ) ) = 0;
      }

      uVar4 = ufbxi_find_child_isra_0(uVar1, uVar4, "Content");
      iVar2 = ufbxi_read_embedded_blob(param_1, lVar3 + 0xe0, uVar4);
      if (iVar2 != 0) {
         return 1;
      }

   }

   uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar4;
}
undefined8 ufbxi_read_selection_node(undefined8 param_1, long param_2, undefined8 param_3) {
   long lVar1;
   long lVar2;
   undefined8 uVar3;
   ulong uVar4;
   lVar1 = ufbxi_push_element_size(param_1, param_3, 200, 0x23);
   if (lVar1 != 0) {
      uVar4 = ( ulong ) * (uint*)( param_2 + 8 );
      uVar3 = *(undefined8*)( param_2 + 0x10 );
      lVar2 = ufbxi_find_child_isra_0(uVar4, uVar3, "IsTheNodeInSet");
      if (( ( lVar2 != 0 ) && ( ( *(ushort*)( lVar2 + 0xe ) & 3 ) == 1 ) ) && ( *(int*)( *(long*)( lVar2 + 0x18 ) + 8 ) != 0 )) {
         *(undefined1*)( lVar1 + 0x90 ) = 1;
      }

      ufbxi_find_uint32_list_isra_0(lVar1 + 0x98, uVar4 & 0xffffffff, uVar3, "VertexIndexArray");
      ufbxi_find_uint32_list_isra_0(lVar1 + 0xa8, uVar4 & 0xffffffff, uVar3, "EdgeIndexArray");
      ufbxi_find_uint32_list_isra_0(lVar1 + 0xb8, uVar4 & 0xffffffff, uVar3, "PolygonIndexArray");
      return 1;
   }

   uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar3;
}
undefined8 ufbxi_read_texture(undefined8 param_1, long param_2, undefined8 param_3) {
   uint uVar1;
   uint uVar2;
   long *plVar3;
   long lVar4;
   long lVar5;
   undefined8 uVar6;
   ulong uVar7;
   char *pcVar8;
   char *pcVar9;
   lVar4 = ufbxi_push_element_size(param_1, param_3, 0x260, 0x19);
   if (lVar4 == 0) {
      uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar6;
   }

   uVar6 = *(undefined8*)( param_2 + 0x10 );
   *(undefined4*)( lVar4 + 0x80 ) = 0;
   uVar7 = ( ulong ) * (uint*)( param_2 + 8 );
   *(undefined1**)( lVar4 + 0x88 ) = &ufbxi_empty_char;
   pcVar9 = "FileName";
   *(undefined1**)( lVar4 + 0x98 ) = &ufbxi_empty_char;
   *(undefined8*)( lVar4 + 0x90 ) = 0;
   *(undefined8*)( lVar4 + 0xa0 ) = 0;
   *(undefined1**)( lVar4 + 0xa8 ) = &ufbxi_empty_char;
   *(undefined8*)( lVar4 + 0xb0 ) = 0;
   lVar5 = ufbxi_find_child_isra_0(uVar7, uVar6, "FileName");
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      plVar3 = *(long**)( lVar5 + 0x18 );
      lVar5 = *plVar3;
      uVar1 = *(uint*)( plVar3 + 1 );
      uVar2 = *(uint*)( (long)plVar3 + 0xc );
      if (uVar2 == 0) {
         *(long*)( lVar4 + 0x98 ) = lVar5;
         *(ulong*)( lVar4 + 0xa0 ) = (ulong)uVar1;
      }
 else if (uVar2 != 0xffffffff) {
         *(ulong*)( lVar4 + 0xa0 ) = (ulong)uVar2;
         *(ulong*)( lVar4 + 0x98 ) = lVar5 + 1 + (ulong)uVar1;
      }

   }

   pcVar8 = "Filename";
   lVar5 = ufbxi_find_child_isra_0(uVar7 & 0xffffffff, uVar6, "Filename");
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      plVar3 = *(long**)( lVar5 + 0x18 );
      lVar5 = *plVar3;
      uVar1 = *(uint*)( plVar3 + 1 );
      uVar2 = *(uint*)( (long)plVar3 + 0xc );
      if (uVar2 == 0) {
         *(long*)( lVar4 + 0x98 ) = lVar5;
         *(ulong*)( lVar4 + 0xa0 ) = (ulong)uVar1;
      }
 else if (uVar2 != 0xffffffff) {
         *(ulong*)( lVar4 + 0xa0 ) = (ulong)uVar2;
         *(ulong*)( lVar4 + 0x98 ) = lVar5 + 1 + (ulong)uVar1;
      }

   }

   lVar5 = ufbxi_find_child_isra_0(uVar7 & 0xffffffff, uVar6, "RelativeFileName");
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      plVar3 = *(long**)( lVar5 + 0x18 );
      lVar5 = *plVar3;
      uVar1 = *(uint*)( plVar3 + 1 );
      uVar2 = *(uint*)( (long)plVar3 + 0xc );
      if (uVar2 == 0) {
         *(long*)( lVar4 + 0xa8 ) = lVar5;
         *(ulong*)( lVar4 + 0xb0 ) = (ulong)uVar1;
      }
 else if (uVar2 != 0xffffffff) {
         *(ulong*)( lVar4 + 0xb0 ) = (ulong)uVar2;
         *(ulong*)( lVar4 + 0xa8 ) = lVar5 + 1 + (ulong)uVar1;
      }

   }

   lVar5 = ufbxi_find_child_isra_0(uVar7 & 0xffffffff, uVar6, "RelativeFilename");
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      plVar3 = *(long**)( lVar5 + 0x18 );
      lVar5 = *plVar3;
      uVar1 = *(uint*)( plVar3 + 1 );
      uVar2 = *(uint*)( (long)plVar3 + 0xc );
      if (uVar2 == 0) {
         *(long*)( lVar4 + 0xa8 ) = lVar5;
         *(ulong*)( lVar4 + 0xb0 ) = (ulong)uVar1;
      }
 else if (uVar2 != 0xffffffff) {
         *(ulong*)( lVar4 + 0xb0 ) = (ulong)uVar2;
         *(ulong*)( lVar4 + 0xa8 ) = lVar5 + 1 + (ulong)uVar1;
      }

   }

   lVar5 = ufbxi_find_child_isra_0(uVar7 & 0xffffffff, uVar6, pcVar9);
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      uVar1 = *(uint*)( *(undefined8**)( lVar5 + 0x18 ) + 1 );
      *(undefined8*)( lVar4 + 200 ) = **(undefined8**)( lVar5 + 0x18 );
      uVar6 = *(undefined8*)( param_2 + 0x10 );
      *(ulong*)( lVar4 + 0xd0 ) = (ulong)uVar1;
   }

   lVar5 = ufbxi_find_child_isra_0(uVar7 & 0xffffffff, uVar6, pcVar8);
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      uVar1 = *(uint*)( *(undefined8**)( lVar5 + 0x18 ) + 1 );
      *(undefined8*)( lVar4 + 200 ) = **(undefined8**)( lVar5 + 0x18 );
      uVar6 = *(undefined8*)( param_2 + 0x10 );
      *(ulong*)( lVar4 + 0xd0 ) = (ulong)uVar1;
   }

   lVar5 = ufbxi_find_child_isra_0(uVar7 & 0xffffffff, uVar6, "RelativeFileName");
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      uVar1 = *(uint*)( *(undefined8**)( lVar5 + 0x18 ) + 1 );
      *(undefined8*)( lVar4 + 0xd8 ) = **(undefined8**)( lVar5 + 0x18 );
      uVar6 = *(undefined8*)( param_2 + 0x10 );
      *(ulong*)( lVar4 + 0xe0 ) = (ulong)uVar1;
   }

   lVar5 = ufbxi_find_child_isra_0(uVar7 & 0xffffffff, uVar6, "RelativeFilename");
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      uVar1 = *(uint*)( *(undefined8**)( lVar5 + 0x18 ) + 1 );
      *(undefined8*)( lVar4 + 0xd8 ) = **(undefined8**)( lVar5 + 0x18 );
      *(ulong*)( lVar4 + 0xe0 ) = (ulong)uVar1;
      return 1;
   }

   return 1;
}
undefined8 ufbxi_read_material(undefined8 param_1, long param_2, undefined8 param_3) {
   uint uVar1;
   uint uVar2;
   long *plVar3;
   long lVar4;
   long lVar5;
   undefined8 uVar6;
   lVar4 = ufbxi_push_element_size(param_1, param_3, 0x1158, 0x18);
   if (lVar4 == 0) {
      uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar6;
   }

   lVar5 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "ShadingModel");
   if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 2 )) {
      plVar3 = *(long**)( lVar5 + 0x18 );
      lVar5 = *plVar3;
      uVar1 = *(uint*)( plVar3 + 1 );
      uVar2 = *(uint*)( (long)plVar3 + 0xc );
      if (uVar2 == 0) {
         *(long*)( lVar4 + 0x1128 ) = lVar5;
         *(ulong*)( lVar4 + 0x1130 ) = (ulong)uVar1;
         goto LAB_0011c2e1;
      }

      if (uVar2 != 0xffffffff) {
         *(ulong*)( lVar4 + 0x1130 ) = (ulong)uVar2;
         *(ulong*)( lVar4 + 0x1128 ) = lVar5 + 1 + (ulong)uVar1;
         goto LAB_0011c2e1;
      }

   }

   *(undefined8*)( lVar4 + 0x1130 ) = 0;
   *(undefined1**)( lVar4 + 0x1128 ) = &ufbxi_empty_char;
   LAB_0011c2e1:*(undefined1**)( lVar4 + 0x1138 ) = &ufbxi_empty_char;
   *(undefined8*)( lVar4 + 0x1140 ) = 0;
   return 1;
}
undefined8 ufbxi_read_blend_channel(long param_1, long param_2, undefined8 param_3) {
   ushort uVar1;
   undefined8 uVar2;
   long lVar3;
   undefined8 *puVar4;
   long lVar5;
   undefined8 uVar6;
   long in_FS_OFFSET;
   undefined8 local_48;
   undefined8 local_40;
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar3 = ufbxi_push_element_size(param_1, param_3, 0xa0, 0x14);
   if (lVar3 != 0) {
      local_48 = 0;
      local_40 = 0;
      puVar4 = (undefined8*)ufbxi_find_array_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "FullWeights", 0x72);
      if (puVar4 != (undefined8*)0x0) {
         local_48 = *puVar4;
         local_40 = puVar4[1];
      }

      lVar5 = ufbxi_push_size_copy(param_1 + 0x1730, 0x10, 1, &local_48);
      if (lVar5 != 0) {
         lVar5 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "DeformPercent");
         if (( *(long*)( lVar3 + 0x18 ) == 0 ) && ( lVar5 != 0 )) {
            puVar4 = (undefined8*)ufbxi_push_size_zero(param_1 + 0x1a58, 0x68, 1);
            uVar6 = _LC167;
            if (puVar4 == (undefined8*)0x0) goto LAB_0011c4b0;
            *puVar4 = "DeformPercent";
            puVar4[4] = &ufbxi_empty_char;
            uVar2 = _LC9;
            puVar4[2] = uVar6;
            uVar1 = *(ushort*)( lVar5 + 0xe );
            puVar4[1] = 0xd;
            puVar4[5] = 0;
            puVar4[9] = uVar2;
            if (( uVar1 & 3 ) == 1) {
               puVar4[9] = **(undefined8**)( lVar5 + 0x18 );
            }

            *(undefined8**)( lVar3 + 0x10 ) = puVar4;
            *(undefined8*)( lVar3 + 0x18 ) = 1;
         }

         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0011c4d9;
      }

   }

   LAB_0011c4b0:if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar6;
   }

   LAB_0011c4d9:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_video(undefined8 param_1, long param_2, undefined8 param_3) {
   uint uVar1;
   uint uVar2;
   long *plVar3;
   int iVar4;
   long lVar5;
   long lVar6;
   undefined8 uVar7;
   ulong uVar8;
   char *pcVar9;
   char *pcVar10;
   lVar5 = ufbxi_push_element_size(param_1, param_3, 0xf0, 0x1a);
   if (lVar5 != 0) {
      uVar8 = ( ulong ) * (uint*)( param_2 + 8 );
      uVar7 = *(undefined8*)( param_2 + 0x10 );
      *(undefined1**)( lVar5 + 0x80 ) = &ufbxi_empty_char;
      *(undefined1**)( lVar5 + 0x90 ) = &ufbxi_empty_char;
      *(undefined8*)( lVar5 + 0x88 ) = 0;
      *(undefined8*)( lVar5 + 0x98 ) = 0;
      *(undefined1**)( lVar5 + 0xa0 ) = &ufbxi_empty_char;
      *(undefined8*)( lVar5 + 0xa8 ) = 0;
      lVar6 = ufbxi_find_child_isra_0(uVar8, uVar7, "FileName");
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         plVar3 = *(long**)( lVar6 + 0x18 );
         lVar6 = *plVar3;
         uVar1 = *(uint*)( plVar3 + 1 );
         uVar2 = *(uint*)( (long)plVar3 + 0xc );
         if (uVar2 == 0) {
            *(long*)( lVar5 + 0x90 ) = lVar6;
            *(ulong*)( lVar5 + 0x98 ) = (ulong)uVar1;
         }
 else if (uVar2 != 0xffffffff) {
            *(ulong*)( lVar5 + 0x98 ) = (ulong)uVar2;
            *(ulong*)( lVar5 + 0x90 ) = lVar6 + 1 + (ulong)uVar1;
         }

      }

      pcVar10 = "Filename";
      lVar6 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, "Filename");
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         plVar3 = *(long**)( lVar6 + 0x18 );
         lVar6 = *plVar3;
         uVar1 = *(uint*)( plVar3 + 1 );
         uVar2 = *(uint*)( (long)plVar3 + 0xc );
         if (uVar2 == 0) {
            *(long*)( lVar5 + 0x90 ) = lVar6;
            *(ulong*)( lVar5 + 0x98 ) = (ulong)uVar1;
         }
 else if (uVar2 != 0xffffffff) {
            *(ulong*)( lVar5 + 0x98 ) = (ulong)uVar2;
            *(ulong*)( lVar5 + 0x90 ) = lVar6 + 1 + (ulong)uVar1;
         }

      }

      pcVar9 = "RelativeFileName";
      lVar6 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, "RelativeFileName");
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         plVar3 = *(long**)( lVar6 + 0x18 );
         lVar6 = *plVar3;
         uVar1 = *(uint*)( plVar3 + 1 );
         uVar2 = *(uint*)( (long)plVar3 + 0xc );
         if (uVar2 == 0) {
            *(long*)( lVar5 + 0xa0 ) = lVar6;
            *(ulong*)( lVar5 + 0xa8 ) = (ulong)uVar1;
         }
 else if (uVar2 != 0xffffffff) {
            *(ulong*)( lVar5 + 0xa8 ) = (ulong)uVar2;
            *(ulong*)( lVar5 + 0xa0 ) = lVar6 + 1 + (ulong)uVar1;
         }

      }

      lVar6 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, "RelativeFilename");
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         plVar3 = *(long**)( lVar6 + 0x18 );
         lVar6 = *plVar3;
         uVar1 = *(uint*)( plVar3 + 1 );
         uVar2 = *(uint*)( (long)plVar3 + 0xc );
         if (uVar2 == 0) {
            *(long*)( lVar5 + 0xa0 ) = lVar6;
            *(ulong*)( lVar5 + 0xa8 ) = (ulong)uVar1;
         }
 else if (uVar2 != 0xffffffff) {
            *(ulong*)( lVar5 + 0xa8 ) = (ulong)uVar2;
            *(ulong*)( lVar5 + 0xa0 ) = lVar6 + 1 + (ulong)uVar1;
         }

      }

      lVar6 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, "FileName");
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         uVar1 = *(uint*)( *(undefined8**)( lVar6 + 0x18 ) + 1 );
         *(undefined8*)( lVar5 + 0xc0 ) = **(undefined8**)( lVar6 + 0x18 );
         uVar7 = *(undefined8*)( param_2 + 0x10 );
         *(ulong*)( lVar5 + 200 ) = (ulong)uVar1;
      }

      lVar6 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, pcVar10);
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         uVar1 = *(uint*)( *(undefined8**)( lVar6 + 0x18 ) + 1 );
         *(undefined8*)( lVar5 + 0xc0 ) = **(undefined8**)( lVar6 + 0x18 );
         uVar7 = *(undefined8*)( param_2 + 0x10 );
         *(ulong*)( lVar5 + 200 ) = (ulong)uVar1;
      }

      lVar6 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, pcVar9);
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         uVar1 = *(uint*)( *(undefined8**)( lVar6 + 0x18 ) + 1 );
         *(undefined8*)( lVar5 + 0xd0 ) = **(undefined8**)( lVar6 + 0x18 );
         uVar7 = *(undefined8*)( param_2 + 0x10 );
         *(ulong*)( lVar5 + 0xd8 ) = (ulong)uVar1;
      }

      lVar6 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, "RelativeFilename");
      if (( lVar6 != 0 ) && ( ( *(ushort*)( lVar6 + 0xe ) & 3 ) == 2 )) {
         uVar1 = *(uint*)( *(undefined8**)( lVar6 + 0x18 ) + 1 );
         *(undefined8*)( lVar5 + 0xd0 ) = **(undefined8**)( lVar6 + 0x18 );
         uVar7 = *(undefined8*)( param_2 + 0x10 );
         *(ulong*)( lVar5 + 0xd8 ) = (ulong)uVar1;
      }

      uVar7 = ufbxi_find_child_isra_0(uVar8 & 0xffffffff, uVar7, "Content");
      iVar4 = ufbxi_read_embedded_blob(param_1, lVar5 + 0xe0, uVar7);
      if (iVar4 != 0) {
         return 1;
      }

   }

   uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar7;
}
undefined8 ufbxi_read_legacy_media(long param_1, long param_2) {
   uint uVar1;
   ulong *puVar2;
   int iVar3;
   long lVar4;
   undefined8 uVar5;
   ulong uVar6;
   ulong uVar7;
   long lVar8;
   long in_FS_OFFSET;
   undefined1 local_78[16];
   undefined1 local_68[16];
   undefined1 local_58[16];
   undefined1 local_48[16];
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar4 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "Video");
   if (lVar4 != 0) {
      lVar8 = *(long*)( lVar4 + 0x10 );
      lVar4 = ( ulong ) * (uint*)( lVar4 + 8 ) * 0x20 + lVar8;
      for (; lVar8 != lVar4; lVar8 = lVar8 + 0x20) {
         local_78 = (undefined1[16])0x0;
         local_68 = (undefined1[16])0x0;
         local_58 = (undefined1[16])0x0;
         local_48 = (undefined1[16])0x0;
         if (( *(ushort*)( lVar8 + 0xe ) & 3 ) != 2) {
            LAB_0011c91c:if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar5;
            }

            goto LAB_0011c9ff;
         }

         puVar2 = *(ulong**)( lVar8 + 0x18 );
         uVar7 = *puVar2;
         uVar6 = (ulong)(uint)puVar2[1];
         uVar1 = *(uint*)( (long)puVar2 + 0xc );
         if (uVar1 != 0) {
            if (uVar1 == 0xffffffff) goto LAB_0011c91c;
            uVar7 = uVar7 + 1 + uVar6;
            uVar6 = (ulong)uVar1;
         }

         local_78._8_8_ = 0;
         local_78._0_8_ = uVar7;
         local_78 = local_78 << 0x40;
         local_68._8_8_ = 0;
         local_68._0_8_ = uVar6;
         iVar3 = ufbxi_push_synthetic_id(param_1, local_78);
         if (iVar3 == 0) goto LAB_0011c91c;
         uVar5 = 0;
         if (*(char*)( param_1 + 0x495 ) != '\0') {
            uVar5 = ufbxi_get_dom_node_imp(param_1, param_2);
         }

         local_48._8_8_ = uVar5;
         iVar3 = ufbxi_read_video(param_1, lVar8, local_78);
         if (iVar3 == 0) goto LAB_0011c91c;
      }

   }

   if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   LAB_0011c9ff:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
int ufbxi_thread_pool_available_tasks_isra_0(int param_1, int param_2, int param_3) {
   return ( param_2 - param_1 ) + param_3;
}
undefined8 ufbxi_sanitize_string(undefined8 *param_1, undefined8 *param_2, void *param_3, ulong param_4, ulong param_5, char param_6) {
   byte *pbVar1;
   byte *pbVar2;
   byte bVar3;
   byte bVar4;
   byte bVar5;
   undefined2 uVar6;
   char cVar7;
   int iVar8;
   undefined4 uVar9;
   ulong uVar10;
   ulong uVar11;
   uint uVar12;
   ulong uVar13;
   long local_60;
   undefined8 *local_50;
   if (*(int*)( param_1 + 0x1d ) == 4) {
      ufbxi_fail_imp_err_constprop_0(*param_1, "$Invalid UTF-8");
      return 0;
   }

   iVar8 = ufbxi_warnf_imp(param_1[0x1e], 8, 0xffffffff, "Bad UTF-8 string");
   if (iVar8 != 0) {
      if (param_6 == '\0') {
         if (( 0xffffffffffffffbf < param_4 ) || ( cVar7 = ufbxi_grow_array_size(param_1[9], 1, param_1 + 0x1b, param_1 + 0x1c, param_4 + 0x40) ),cVar7 == '\0') goto LAB_0011cc70;
         memcpy((void*)param_1[0x1b], param_3, param_5);
         uVar11 = param_5;
      }
 else {
         if (( 0x7fffffffffffffbf < param_4 ) || ( cVar7 = ufbxi_grow_array_size(param_1[9], 1, param_1 + 0x1b, param_1 + 0x1c, param_4 * 2 + 0x40) ),cVar7 == '\0') goto LAB_0011cc70;
         memcpy((void*)param_1[0x1b], param_3, param_4);
         *(undefined1*)( param_1[0x1b] + param_4 ) = 0;
         uVar11 = param_4 + 1 + param_5;
         memcpy((void*)( param_1[0x1b] + param_4 + 1 ), param_3, param_5);
      }

      local_50 = param_1 + 0x1c;
      local_60 = param_1[0x1b];
      if (param_5 < param_4) {
         do {
            bVar3 = *(byte*)( (long)param_3 + param_5 );
            if (param_1[0x1c] - uVar11 < 0x10) {
               cVar7 = ufbxi_grow_array_size(param_1[9], 1, param_1 + 0x1b, local_50, uVar11 + 0x10);
               if (cVar7 == '\0') goto LAB_0011cc70;
               local_60 = param_1[0x1b];
            }

            uVar6 = _LC169;
            uVar10 = param_5 + 1;
            pbVar1 = (byte*)( local_60 + uVar11 );
            if ((char)bVar3 < '\0') {
               uVar13 = param_4 - param_5;
               if (( bVar3 & 0xe0 ) == 0xc0) {
                  if (uVar13 != 1) {
                     bVar4 = *(byte*)( (long)param_3 + uVar10 );
                     if (( ( bVar4 & 0xc0 ) == 0x80 ) && ( 0xc27f < CONCAT11(bVar3, bVar4) )) {
                        uVar11 = uVar11 + 2;
                        uVar10 = param_5 + 2;
                        *(ushort*)pbVar1 = CONCAT11(bVar4, bVar3);
                        goto LAB_0011cb33;
                     }

                  }

                  LAB_0011cb06:uVar12 = *(uint*)( param_1 + 0x1d );
                  if (uVar12 == 2) {
                     *pbVar1 = 0x3f;
                     uVar11 = uVar11 + 1;
                  }
 else if (uVar12 < 3) {
                     if (uVar12 == 0) {
                        pbVar1[2] = 0xbd;
                        uVar11 = uVar11 + 3;
                        *(undefined2*)pbVar1 = uVar6;
                     }
 else {
                        *pbVar1 = 0x5f;
                        uVar11 = uVar11 + 1;
                     }

                  }
 else if (uVar12 == 5) goto LAB_0011cd29;
               }
 else {
                  if (( bVar3 & 0xf0 ) == 0xe0) {
                     if (2 < uVar13) {
                        bVar4 = *(byte*)( (long)param_3 + param_5 + 2 );
                        pbVar2 = (byte*)( (long)param_3 + uVar10 );
                        uVar12 = ( uint ) * pbVar2 << 8 | (uint)bVar3 << 0x10 | (uint)bVar4;
                        if (( ( ( uVar12 & 0xc0c0 ) == 0x8080 ) && ( 0xe0a07f < uVar12 ) ) && ( 0xdfff < uVar12 - 0xeda080 )) {
                           uVar10 = param_5 + 3;
                           *(ushort*)pbVar1 = CONCAT11(*pbVar2, bVar3);
                           *(byte*)( local_60 + 2 + uVar11 ) = bVar4;
                           uVar11 = uVar11 + 3;
                           goto LAB_0011cb33;
                        }

                     }

                     goto LAB_0011cb06;
                  }

                  if (( ( bVar3 & 0xf8 ) != 0xf0 ) || ( uVar13 < 4 )) goto LAB_0011cb06;
                  pbVar2 = (byte*)( (long)param_3 + uVar10 );
                  bVar4 = *(byte*)( (long)param_3 + param_5 + 3 );
                  bVar5 = *(byte*)( (long)param_3 + param_5 + 2 );
                  uVar12 = (uint)bVar3 << 0x18 | (uint)bVar4 | ( uint ) * pbVar2 << 0x10 | (uint)bVar5 << 8;
                  if (( ( uVar12 & 0xc0c0c0 ) != 0x808080 ) || ( 0x3ff3f3f < uVar12 + 0xf6f7f80 )) goto LAB_0011cb06;
                  uVar11 = uVar11 + 4;
                  uVar10 = param_5 + 4;
                  *(uint*)pbVar1 = CONCAT31(CONCAT21(CONCAT11(bVar4, bVar5), *pbVar2), bVar3);
               }

            }
 else {
               if (bVar3 == 0) goto LAB_0011cb06;
               LAB_0011cd29:*pbVar1 = bVar3;
               uVar11 = uVar11 + 1;
            }

            LAB_0011cb33:param_5 = uVar10;
         }
 while ( uVar10 < param_4 );
      }

      if (param_4 < 0x100000000) {
         *param_2 = param_1[0x1b];
         if (param_6 == '\0') {
            if (uVar11 < 0x100000000) {
               param_4 = uVar11 & 0xffffffff;
               uVar9 = 0;
               goto LAB_0011ce8e;
            }

         }
 else {
            uVar11 = ( uVar11 - param_4 ) - 1;
            uVar9 = (undefined4)uVar11;
            if (uVar11 < 0xffffffff) {
               LAB_0011ce8e:*(undefined4*)( (long)param_2 + 0xc ) = uVar9;
               *(int*)( param_2 + 1 ) = (int)param_4;
               return 1;
            }

         }

      }

   }

   LAB_0011cc70:ufbxi_fail_imp_err_constprop_0(*param_1, &_LC88);
   return 0;
}
undefined1 *ufbxi_push_string_imp(undefined8 *param_1, undefined1 *param_2, ulong param_3, ulong *param_4, char param_5, char param_6) {
   char cVar1;
   undefined4 uVar2;
   int iVar3;
   undefined1 *puVar4;
   undefined8 *puVar5;
   ulong uVar6;
   void *__dest;
   undefined8 *puVar7;
   long in_FS_OFFSET;
   undefined1 **local_78;
   char local_59;
   undefined1 *local_58;
   size_t local_50;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   puVar4 = &ufbxi_empty_char;
   if (param_3 == 0) goto LAB_0011cf83;
   puVar7 = param_1 + 9;
   if (( ( *(uint*)( param_1 + 0xe ) < *(uint*)( (long)param_1 + 0x6c ) ) && ( (ulong)param_1[0x1a] <= ( ulong ) * (uint*)( (long)param_1 + 0x6c ) ) ) || ( cVar1 = ufbxi_map_grow_size_imp(puVar7, 0x10) ),cVar1 != '\0') {
      puVar4 = param_2;
      if (param_6 == '\0') {
         local_59 = '\0';
         uVar2 = ufbxi_hash_string_check_ascii_constprop_0(param_2, param_3, &local_59);
         if (( local_59 != '\0' ) && ( uVar6 = uVar6 < param_3 )) {
            iVar3 = ufbxi_sanitize_string(param_1, &local_58, param_2, param_3, uVar6, 0);
            if (iVar3 == 0) goto LAB_0011d050;
            param_3 = local_50 & 0xffffffff;
            uVar2 = ufbxi_hash_string(local_58, param_3);
            *param_4 = param_3;
            puVar4 = local_58;
         }

      }
 else {
         uVar2 = ufbxi_hash_string(param_2, param_3);
      }

      local_78 = &local_58;
      local_58 = puVar4;
      local_50 = param_3;
      puVar5 = (undefined8*)ufbxi_map_find_size(puVar7, 0x10, uVar2, local_78);
      if (puVar5 != (undefined8*)0x0) {
         puVar4 = (undefined1*)*puVar5;
         goto LAB_0011cf83;
      }

      puVar7 = (undefined8*)ufbxi_map_insert_size(puVar7, 0x10, uVar2, local_78);
      if (puVar7 != (undefined8*)0x0) {
         puVar7[1] = param_3;
         if (param_5 != '\0') {
            __dest = (void*)ufbxi_push_size(param_1 + 1, 1, param_3 + 1);
            if (__dest == (void*)0x0) goto LAB_0011d050;
            puVar4 = (undefined1*)memcpy(__dest, puVar4, param_3);
            puVar4[param_3] = 0;
         }

         *puVar7 = puVar4;
         goto LAB_0011cf83;
      }

   }

   LAB_0011d050:ufbxi_fail_imp_err_constprop_0(*param_1, &_LC88);
   puVar4 = (undefined1*)0x0;
   LAB_0011cf83:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) {
      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   return puVar4;
}
undefined8 ufbxi_push_string_place_str(undefined8 *param_1, long *param_2, undefined1 param_3) {
   long lVar1;
   if (param_2 != (long*)0x0) {
      if (( *param_2 != 0 ) || ( param_2[1] == 0 )) {
         lVar1 = ufbxi_push_string_imp(param_1, *param_2, param_2[1], param_2 + 1, 1, param_3);
         if (lVar1 != 0) {
            *param_2 = lVar1;
            return 1;
         }

      }

   }

   ufbxi_fail_imp_err_constprop_0(*param_1, &_LC88);
   return 0;
}
undefined8 ufbxi_fixup_opts_string(long param_1, undefined8 *param_2, char param_3) {
   int iVar1;
   size_t sVar2;
   undefined8 uVar3;
   if (param_2[1] == 0) {
      *param_2 = &ufbxi_empty_char;
      return 1;
   }

   if (param_2[1] == -1) {
      sVar2 = 0;
      if ((char*)*param_2 != (char*)0x0) {
         sVar2 = strlen((char*)*param_2);
      }

      param_2[1] = sVar2;
   }

   if (( param_3 != '\0' ) && ( iVar1 = ufbxi_push_string_place_str(param_1 + 0x1960, param_2, 0) ),iVar1 == 0) {
      uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar3;
   }

   return 1;
}
undefined8 ufbxi_split_type_and_name(long param_1, undefined1 *param_2, ulong param_3, undefined8 *param_4, undefined8 *param_5) {
   int iVar1;
   ulong uVar2;
   undefined8 uVar3;
   ulong uVar4;
   ulong uVar5;
   char *pcVar6;
   undefined1 *puVar7;
   pcVar6 = "";
   if (*(char*)( param_1 + 0x274 ) != '\0') {
      pcVar6 = "::";
   }

   if (1 < param_3) {
      uVar2 = 2;
      do {
         if (( param_2[uVar2 - 2] == *pcVar6 ) && ( param_2[uVar2 - 1] == pcVar6[1] )) {
            if (uVar2 <= param_3) {
               uVar5 = param_3 - uVar2;
               param_3 = uVar2 - 2;
               uVar4 = uVar5;
               puVar7 = param_2 + uVar2;
               if (*(char*)( param_1 + 0x274 ) != '\0') {
                  uVar4 = param_3;
                  puVar7 = param_2;
                  param_3 = uVar5;
                  param_2 = param_2 + uVar2;
               }

               goto LAB_0011d249;
            }

            break;
         }

         uVar2 = uVar2 + 1;
      }
 while ( uVar2 <= param_3 );
   }

   uVar4 = 0;
   puVar7 = &ufbxi_empty_char;
   LAB_0011d249:*param_5 = param_2;
   param_5[1] = param_3;
   *param_4 = puVar7;
   param_4[1] = uVar4;
   iVar1 = ufbxi_push_string_place_str(param_1 + 0x1960, param_4, 0);
   if (( iVar1 != 0 ) && ( iVar1 = ufbxi_push_string_place_str(param_1 + 0x1960, param_5, 0) ),iVar1 != 0) {
      return 1;
   }

   uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar3;
}
undefined8 ufbxi_retain_dom_node(long param_1, undefined8 *param_2, undefined8 *param_3) {
   long lVar1;
   ushort uVar2;
   int iVar3;
   long lVar4;
   ulong uVar5;
   undefined8 *puVar6;
   undefined4 *puVar7;
   undefined8 uVar8;
   long *plVar9;
   uint uVar10;
   char *pcVar11;
   long lVar12;
   long in_FS_OFFSET;
   undefined8 *local_60;
   undefined8 *local_58;
   undefined8 local_50;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar1 = param_1 + 0x1a58;
   local_60 = (undefined8*)ufbxi_push_size_zero(lVar1, 0x30, 1);
   if (local_60 != (undefined8*)0x0) {
      lVar4 = ufbxi_push_size_copy(param_1 + 6000, 8, 1, &local_60);
      if (lVar4 != 0) {
         if (param_3 != (undefined8*)0x0) {
            *param_3 = local_60;
         }

         *local_60 = *param_2;
         local_60[1] = ( ulong ) * (byte*)( (long)param_2 + 0xc );
         local_50 = 0;
         uVar5 = ( (ulong)param_2 >> 0x20 ^ (ulong)param_2 ) * -0x2917014799a6026d;
         lVar4 = ( uVar5 ^ uVar5 >> 0x20 ) * -0x2917014799a6026d;
         uVar10 = (uint)lVar4 ^ ( uint )((ulong)lVar4 >> 0x20);
         local_58 = param_2;
         puVar6 = (undefined8*)ufbxi_map_find_size(param_1 + 0x978, 0x10, uVar10, &local_58);
         if (( puVar6 != (undefined8*)0x0 ) || ( puVar6 = (undefined8*)ufbxi_map_insert_size(param_1 + 0x978, 0x10, uVar10, &local_58) ),puVar6 != (undefined8*)0x0) {
            *puVar6 = param_2;
            puVar6[1] = local_60;
            iVar3 = ufbxi_push_string_place_str(param_1 + 0x1960, local_60, 0);
            if (iVar3 != 0) {
               uVar2 = *(ushort*)( (long)param_2 + 0xe );
               if (uVar2 == 3) {
                  puVar6 = (undefined8*)param_2[3];
                  puVar7 = (undefined4*)ufbxi_push_size_zero(lVar1, 0x38, 1);
                  if (puVar7 != (undefined4*)0x0) {
                     local_60[4] = puVar7;
                     local_60[5] = 1;
                     iVar3 = (int)*(char*)( puVar6 + 2 );
                     lVar12 = ufbxi_array_type_size(0);
                     uVar8 = *puVar6;
                     *(undefined1**)( puVar7 + 2 ) = &ufbxi_empty_char;
                     *(undefined8*)( puVar7 + 6 ) = uVar8;
                     lVar4 = puVar6[1];
                     *(long*)( puVar7 + 10 ) = lVar4;
                     *(double*)( puVar7 + 0xc ) = (double)lVar4;
                     *(long*)( puVar7 + 8 ) = lVar12 * lVar4;
                     switch (iVar3 - 0x2dU & 0xff) {
                        case 0:
                *puVar7 = 8;
                break;
                        default:
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  pcVar11 = "Bad array type";
                  goto LAB_0011d4fb;
                }
                goto LAB_0011d711;
                        case 0x16:
                        case 0x46:
                *puVar7 = 7;
                break;
                        case 0x35:
                        case 0x36:
                *puVar7 = 2;
                break;
                        case 0x37:
                *puVar7 = 6;
                break;
                        case 0x39:
                *puVar7 = 5;
                break;
                        case 0x3c:
                *puVar7 = 3;
                break;
                        case 0x3f:
                *puVar7 = 4;
                     }

                     goto LAB_0011d49e;
                  }

               }
 else {
                  lVar4 = 0;
                  uVar10 = uVar2 & 3;
                  if (( uVar2 & 3 ) != 0) {
                     do {
                        puVar7 = (undefined4*)ufbxi_push_size_zero(param_1 + 0xab0, 0x38, 1);
                        if (puVar7 == (undefined4*)0x0) goto LAB_0011d4e0;
                        *(undefined1**)( puVar7 + 2 ) = &ufbxi_empty_char;
                        if (uVar10 == 2) {
                           uVar2 = *(ushort*)( (long)param_2 + 0xe );
                           *puVar7 = 1;
                           if (( (int)(uint)uVar2 >> ( (char)lVar4 * '\x02' & 0x1fU ) & 3U ) == 2) {
                              plVar9 = (long*)( lVar4 * 0x10 + param_2[3] );
                              uVar10 = *(uint*)( (long)plVar9 + 0xc );
                              lVar12 = *plVar9;
                              uVar5 = ( ulong ) * (uint*)( plVar9 + 1 );
                              if (uVar10 == 0) {
                                 *(long*)( puVar7 + 2 ) = lVar12;
                                 *(ulong*)( puVar7 + 4 ) = uVar5;
                                 *(long*)( puVar7 + 6 ) = lVar12;
                                 *(ulong*)( puVar7 + 8 ) = uVar5;
                              }
 else {
                                 if (uVar10 != 0xffffffff) {
                                    *(ulong*)( puVar7 + 2 ) = lVar12 + 1 + uVar5;
                                    *(ulong*)( puVar7 + 4 ) = (ulong)uVar10;
                                 }

                                 *(long*)( puVar7 + 6 ) = lVar12;
                                 *(ulong*)( puVar7 + 8 ) = uVar5;
                              }

                           }

                        }
 else {
                           *puVar7 = 0;
                           puVar6 = (undefined8*)( lVar4 * 0x10 + param_2[3] );
                           uVar8 = *puVar6;
                           *(undefined8*)( puVar7 + 10 ) = puVar6[1];
                           *(undefined8*)( puVar7 + 0xc ) = uVar8;
                        }

                        lVar4 = lVar4 + 1;
                     }
 while ( ( lVar4 != 8 ) && ( uVar10 = (int)( uint ) * (ushort*)( (long)param_2 + 0xe ) >> ( (char)lVar4 * '\x02' & 0x1fU ) & 3 ),uVar10 != 0 );
                  }

                  puVar6 = local_60;
                  local_60[5] = lVar4;
                  uVar8 = ufbxi_push_pop_size(lVar1, param_1 + 0xab0, 0x38, lVar4);
                  puVar6[4] = uVar8;
                  if (local_60[4] != 0) {
                     LAB_0011d49e:if (*(uint*)( param_2 + 1 ) != 0) {
                        lVar4 = param_2[2];
                        lVar12 = ( ulong ) * (uint*)( param_2 + 1 ) * 0x20 + lVar4;
                        do {
                           iVar3 = ufbxi_retain_dom_node(param_1, lVar4, 0);
                           puVar6 = local_60;
                           if (iVar3 == 0) goto LAB_0011d4e0;
                           lVar4 = lVar4 + 0x20;
                        }
 while ( lVar12 != lVar4 );
                        local_60[3] = ( ulong ) * (uint*)( param_2 + 1 );
                        uVar8 = ufbxi_push_pop_size(lVar1, param_1 + 6000, 8);
                        puVar6[2] = uVar8;
                        if (local_60[2] == 0) goto LAB_0011d4e0;
                     }

                     if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                        return 1;
                     }

                     goto LAB_0011d711;
                  }

               }

            }

         }

      }

   }

   LAB_0011d4e0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      pcVar11 = "";
      LAB_0011d4fb:uVar8 = ufbxi_fail_imp_constprop_0(param_1, pcVar11);
      return uVar8;
   }

   LAB_0011d711:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_retain_toplevel_child(long param_1, undefined8 param_2) {
   int iVar1;
   undefined8 uVar2;
   iVar1 = ufbxi_retain_dom_node(param_1, param_2, 0);
   if (iVar1 != 0) {
      *(long*)( param_1 + 0x1950 ) = *(long*)( param_1 + 0x1950 ) + 1;
      return 1;
   }

   uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar2;
}
undefined8 ufbxi_retain_toplevel(long param_1, long param_2) {
   long lVar1;
   int iVar2;
   long lVar3;
   undefined8 *puVar4;
   undefined8 uVar5;
   if (*(long*)( param_1 + 0x1950 ) != 0) {
      lVar3 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 6000, 8);
      if (lVar3 == 0) goto LAB_0011d860;
      lVar1 = *(long*)( param_1 + 0x1948 );
      *(long*)( lVar1 + 0x10 ) = lVar3;
      *(undefined8*)( lVar1 + 0x18 ) = *(undefined8*)( param_1 + 0x1950 );
      *(undefined8*)( param_1 + 0x1950 ) = 0;
   }

   if (param_2 == 0) {
      uVar5 = *(undefined8*)( param_1 + 0x1798 );
      *(undefined8*)( param_1 + 0x1948 ) = 0;
      lVar3 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 6000, 8, uVar5);
      if (( lVar3 != 0 ) && ( puVar4 = (undefined8*)ufbxi_push_size_zero(param_1 + 0x1a58, 0x30, 1) ),puVar4 != (undefined8*)0x0) {
         puVar4[2] = lVar3;
         *puVar4 = &ufbxi_empty_char;
         puVar4[3] = uVar5;
         *(undefined8**)( param_1 + 0x2188 ) = puVar4;
         return 1;
      }

   }
 else {
      iVar2 = ufbxi_retain_dom_node(param_1, param_2, param_1 + 0x1948);
      if (iVar2 != 0) {
         return 1;
      }

   }

   LAB_0011d860:uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar5;
}
undefined8 ufbxi_push_prop_prefix(long param_1, undefined8 *param_2, void *param_3, size_t param_4) {
   size_t sVar1;
   int iVar2;
   void *__dest;
   undefined8 uVar3;
   void *local_48;
   size_t sStack_40;
   local_48 = param_3;
   sStack_40 = param_4;
   if (( param_4 == 0 ) || ( *(char*)( (long)param_3 + ( param_4 - 1 ) ) == '|' )) {
      iVar2 = ufbxi_push_string_place_str(param_1 + 0x1960, &local_48, 0);
      if (iVar2 != 0) {
         *param_2 = local_48;
         param_2[1] = sStack_40;
         return 1;
      }

   }
 else {
      sVar1 = param_4 + 1;
      __dest = (void*)ufbxi_push_size(param_1 + 0xab0, 1, sVar1);
      if (__dest != (void*)0x0) {
         local_48 = memcpy(__dest, param_3, param_4);
         *(undefined1*)( (long)local_48 + param_4 ) = 0x7c;
         sStack_40 = sVar1;
         iVar2 = ufbxi_push_string_place_str(param_1 + 0x1960, &local_48, 0);
         if (iVar2 != 0) {
            *param_2 = local_48;
            param_2[1] = sStack_40;
            if (sVar1 == 0) {
               return 1;
            }

            ufbxi_pop_size(param_1 + 0xab0, 1, sVar1, 0, 0);
            return 1;
         }

      }

   }

   uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar3;
}
undefined8 ufbxi_shader_texture_find_prefix(undefined8 param_1, long param_2, long param_3) {
   char *pcVar1;
   long lVar2;
   long *plVar3;
   char *pcVar4;
   char *pcVar5;
   long lVar6;
   int iVar7;
   char *pcVar8;
   undefined8 uVar9;
   long *plVar10;
   char **ppcVar11;
   long in_FS_OFFSET;
   char **local_90;
   char **local_80;
   char *local_78[5];
   undefined8 local_50;
   char *local_48;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   local_78[1] = (char*)0x17;
   local_78[0] = " Parameters/Connections";
   if (*(long*)( param_3 + 0x10 ) == 0) {
      local_78[3] = (char*)0x11;
      local_78[2] = "3dsMax|parameters";
      local_90 = local_78 + 4;
   }
 else {
      local_50 = 0x11;
      local_78[4] = "3dsMax|parameters";
      local_90 = &local_48;
      local_78[2] = *(char**)( param_3 + 8 );
      local_78[3] = (char*)*(undefined8*)( param_3 + 0x10 );
   }

   lVar2 = *(long*)( param_2 + 0x18 );
   local_80 = local_78;
   plVar3 = *(long**)( param_2 + 0x10 );
   ppcVar11 = local_80;
   do {
      pcVar4 = *ppcVar11;
      pcVar5 = ppcVar11[1];
      for (plVar10 = plVar3; plVar10 != plVar3 + lVar2 * 0xd; plVar10 = plVar10 + 0xd) {
         if (( ( *(int*)( (long)plVar10 + 0x14 ) == 0xd ) && ( pcVar5 <= (char*)plVar10[1] ) ) && ( iVar7 = memcmp((char*)plVar10[1] + ( *plVar10 - (long)pcVar5 ), pcVar4, (size_t)pcVar5) ),iVar7 == 0) {
            iVar7 = ufbxi_push_prop_prefix(param_1, param_3 + 0x60, *plVar10, plVar10[1]);
            if (iVar7 == 0) goto LAB_0011dbb0;
            goto LAB_0011da79;
         }

      }

      ppcVar11 = ppcVar11 + 2;
   }
 while ( ppcVar11 != local_90 );
   LAB_0011dad1:pcVar4 = *local_80;
   pcVar5 = local_80[1];
   plVar10 = plVar3;
   while (true) {
      if (plVar10 == plVar3 + lVar2 * 0xd) goto LAB_0011db14;
      lVar6 = *plVar10;
      pcVar1 = (char*)plVar10[1];
      do {
         pcVar8 = pcVar1;
         if (pcVar8 == (char*)0x0) goto LAB_0011db0b;
         pcVar1 = pcVar8 + -1;
      }
 while ( pcVar8[lVar6 + -1] != '|' );
      if (( ( pcVar8 != (char*)0x1 ) && ( pcVar5 <= pcVar1 ) ) && ( iVar7 = memcmp(pcVar1 + ( lVar6 - (long)pcVar5 ), pcVar4, (size_t)pcVar5) ),iVar7 == 0) break;
      LAB_0011db0b:plVar10 = plVar10 + 0xd;
   }
;
   iVar7 = ufbxi_push_prop_prefix(param_1, param_3 + 0x60, lVar6, pcVar1);
   if (iVar7 != 0) goto LAB_0011da79;
   LAB_0011dbb0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar9 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar9;
   }

   goto LAB_0011dbdf;
   LAB_0011db14:local_80 = local_80 + 2;
   if (local_80 == local_90) {
      LAB_0011da79:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

      LAB_0011dbdf:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   goto LAB_0011dad1;
}
undefined8 ufbxi_binary_parse_multivalue_array(long param_1, int param_2, long *param_3, ulong param_4, long param_5) {
   double dVar1;
   char cVar2;
   long lVar3;
   undefined1 uVar4;
   int iVar5;
   float fVar6;
   long lVar7;
   undefined8 uVar8;
   uint *puVar9;
   ulong uVar10;
   double *pdVar11;
   long lVar12;
   ulong uVar13;
   char cVar14;
   char *pcVar15;
   long *plVar16;
   long lVar17;
   double dVar18;
   if (param_4 == 0) {
      return 1;
   }

   cVar2 = *(char*)( param_1 + 0x276 );
   cVar14 = (char)param_2;
   if (( byte )(param_2 - 0x43U) < 0x31) {
      if (( 0x1000000010001U >> ( ( ulong )(param_2 - 0x43U) & 0x3f ) & 1 ) != 0) {
         plVar16 = param_3 + param_4 * 2;
         do {
            if (*(ulong*)( param_1 + 0x528 ) < 0xd) {
               pcVar15 = (char*)ufbxi_yield(param_1, 0xd);
            }
 else {
               pcVar15 = *(char**)( param_1 + 0x520 );
            }

            if (( ( pcVar15 == (char*)0x0 ) || ( puVar9 = (uint*)( pcVar15 + 1 ) ),1 < ( byte )(*pcVar15 + 0xaeU) )) goto LAB_0011dd50;
            uVar13 = ( ulong ) * puVar9;
            uVar10 = *(long*)( param_1 + 0x528 ) - 5;
            *(ulong*)( param_1 + 0x528 ) = uVar10;
            lVar7 = *(long*)( param_1 + 0x520 ) + 5;
            *(long*)( param_1 + 0x520 ) = lVar7;
            if (uVar10 < uVar13) {
               lVar7 = ufbxi_yield(param_1);
               if (lVar7 == 0) {
                  *param_3 = 0;
                  param_3[1] = uVar13;
                  goto LAB_0011dd50;
               }

               uVar10 = *(ulong*)( param_1 + 0x528 );
            }

            *(ulong*)( param_1 + 0x528 ) = uVar10 - uVar13;
            *(ulong*)( param_1 + 0x520 ) = lVar7 + uVar13;
            *param_3 = lVar7;
            param_3[1] = uVar13;
            if (cVar14 == 'C') {
               if (( param_4 == 1 ) || ( lVar7 = param_5 * (char*)( param_1 + 0x495 ) != '\0' )) {
                  lVar7 = param_1 + 0x1a58;
               }

               lVar7 = ufbxi_push_size_copy(lVar7, 1, uVar13);
               *param_3 = lVar7;
               if (lVar7 == 0) goto LAB_0011dd50;
            }
 else {
               iVar5 = ufbxi_push_string_place_str(param_1 + 0x1960, param_3, cVar14 == 's');
               if (iVar5 == 0) goto LAB_0011dd50;
            }

            param_3 = param_3 + 2;
            if (plVar16 == param_3) {
               return 1;
            }

         }
 while ( true );
      }

      if (cVar2 != '\0') goto LAB_0011dddb;
      if (cVar14 == 'i') {
         uVar10 = *(ulong*)( param_1 + 0x528 );
         uVar13 = 0;
         while (true) {
            if (uVar10 < 0xd) {
               pcVar15 = (char*)ufbxi_yield(param_1, 0xd);
            }
 else {
               pcVar15 = *(char**)( param_1 + 0x520 );
            }

            if (pcVar15 == (char*)0x0) goto LAB_0011dd50;
            if (*pcVar15 != 'I') break;
            *(undefined4*)( (long)param_3 + uVar13 * 4 ) = *(undefined4*)( pcVar15 + 1 );
            uVar13 = uVar13 + 1;
            *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 5;
            uVar10 = *(long*)( param_1 + 0x528 ) - 5;
            *(ulong*)( param_1 + 0x528 ) = uVar10;
            if (param_4 == uVar13) {
               return 1;
            }

         }
;
         if (uVar13 == param_4) {
            return 1;
         }

         lVar7 = uVar13 * 4;
         param_3 = (long*)( (long)param_3 + lVar7 );
         if (param_4 <= uVar13) {
            return 1;
         }

         goto LAB_0011dffa;
      }

      if ('i' < cVar14) {
         if (cVar14 != 'l') goto LAB_0011dddb;
         uVar10 = *(ulong*)( param_1 + 0x528 );
         uVar13 = 0;
         while (true) {
            if (uVar10 < 0xd) {
               pcVar15 = (char*)ufbxi_yield(param_1, 0xd);
            }
 else {
               pcVar15 = *(char**)( param_1 + 0x520 );
            }

            if (pcVar15 == (char*)0x0) goto LAB_0011dd50;
            if (*pcVar15 != 'L') break;
            param_3[uVar13] = *(long*)( pcVar15 + 1 );
            uVar13 = uVar13 + 1;
            *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 9;
            uVar10 = *(long*)( param_1 + 0x528 ) - 9;
            *(ulong*)( param_1 + 0x528 ) = uVar10;
            if (param_4 == uVar13) {
               return 1;
            }

         }
;
         if (uVar13 == param_4) {
            return 1;
         }

         lVar7 = uVar13 * 8;
         param_3 = param_3 + uVar13;
         if (param_4 <= uVar13) {
            return 1;
         }

         goto LAB_0011e0ca;
      }

      if (cVar14 != 'd') {
         if (cVar14 != 'f') goto LAB_0011dddb;
         uVar10 = *(ulong*)( param_1 + 0x528 );
         uVar13 = 0;
         while (true) {
            if (uVar10 < 0xd) {
               pcVar15 = (char*)ufbxi_yield(param_1, 0xd);
            }
 else {
               pcVar15 = *(char**)( param_1 + 0x520 );
            }

            if (pcVar15 == (char*)0x0) goto LAB_0011dd50;
            if (*pcVar15 != 'F') break;
            lVar7 = *(long*)( param_1 + 0x528 );
            *(undefined4*)( (long)param_3 + uVar13 * 4 ) = *(undefined4*)( pcVar15 + 1 );
            uVar10 = lVar7 - 5;
            uVar13 = uVar13 + 1;
            *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 5;
            *(ulong*)( param_1 + 0x528 ) = uVar10;
            if (param_4 == uVar13) {
               return 1;
            }

         }
;
         if (uVar13 == param_4) {
            return 1;
         }

         lVar7 = uVar13 * 4;
         param_3 = (long*)( (long)param_3 + lVar7 );
         if (param_4 <= uVar13) {
            return 1;
         }

         goto LAB_0011e062;
      }

      uVar10 = *(ulong*)( param_1 + 0x528 );
      uVar13 = 0;
      while (true) {
         if (uVar10 < 0xd) {
            pcVar15 = (char*)ufbxi_yield(param_1, 0xd);
         }
 else {
            pcVar15 = *(char**)( param_1 + 0x520 );
         }

         if (pcVar15 == (char*)0x0) goto LAB_0011dd50;
         if (*pcVar15 != 'D') break;
         lVar7 = *(long*)( param_1 + 0x528 );
         param_3[uVar13] = *(long*)( pcVar15 + 1 );
         uVar10 = lVar7 - 9;
         uVar13 = uVar13 + 1;
         *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 9;
         *(ulong*)( param_1 + 0x528 ) = uVar10;
         if (param_4 == uVar13) {
            return 1;
         }

      }
;
      if (uVar13 == param_4) {
         return 1;
      }

      lVar7 = uVar13 * 8;
      param_3 = param_3 + uVar13;
      if (param_4 <= uVar13) {
         return 1;
      }

      LAB_0011df92:uVar10 = *(ulong*)( param_1 + 0x528 );
      plVar16 = param_3 + 1;
      while (true) {
         if (uVar10 < 0xd) {
            pcVar15 = (char*)ufbxi_yield(param_1, 0xd);
         }
 else {
            pcVar15 = *(char**)( param_1 + 0x520 );
         }

         if (pcVar15 == (char*)0x0) break;
         cVar14 = *pcVar15;
         pdVar11 = (double*)( pcVar15 + 1 );
         if (( cVar2 != '\0' ) && ( pdVar11 = (double*)ufbxi_swap_endian_value(param_1, pdVar11, (int)cVar14) ),pdVar11 == (double*)0x0) break;
         switch (cVar14) {
            case 'B':
            case 'C':
        lVar17 = 2;
        dVar18 = (double)(int)*(char *)pdVar11;
        break;
            case 'D':
        dVar18 = *pdVar11;
        lVar17 = 9;
        break;
            default:
        goto switchD_0011e05a_caseD_45;
            case 'F':
        lVar17 = 5;
        dVar18 = (double)*(float *)pdVar11;
        break;
            case 'I':
        lVar17 = 5;
        dVar18 = (double)(int)*(float *)pdVar11;
        break;
            case 'L':
        lVar17 = 9;
        dVar18 = (double)(long)*pdVar11;
        break;
            case 'Y':
        lVar17 = 3;
        dVar18 = (double)(int)*(short *)pdVar11;
         }

         lVar12 = *(long*)( param_1 + 0x528 );
         plVar16[-1] = (long)dVar18;
         plVar16 = plVar16 + 1;
         *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + lVar17;
         uVar10 = lVar12 - lVar17;
         *(ulong*)( param_1 + 0x528 ) = uVar10;
         if ((long*)( ( ( param_4 * 8 + 8 ) - lVar7 ) + (long)param_3 ) == plVar16) {
            return 1;
         }

      }
;
   }
 else {
      if (cVar2 != '\0') {
         return 0;
      }

      if (cVar14 < 'j') {
         return 0;
      }

      LAB_0011dddb:switch (param_2 - 99U & 0xff) {
         case 0:
      uVar10 = *(ulong *)(param_1 + 0x528);
      lVar7 = (long)param_3 + 1;
      while( true ) {
        if (uVar10 < 0xd) {
          pcVar15 = (char *)ufbxi_yield(param_1,0xd);
        }
        else {
          pcVar15 = *(char **)(param_1 + 0x520);
        }
        if (pcVar15 == (char *)0x0) break;
        cVar14 = *pcVar15;
        pdVar11 = (double *)(pcVar15 + 1);
        if ((cVar2 != '\0') &&
           (pdVar11 = (double *)ufbxi_swap_endian_value(param_1,pdVar11,(int)cVar14),
           pdVar11 == (double *)0x0)) break;
        switch(cVar14) {
        case 'B':
        case 'C':
          uVar4 = *(undefined1 *)pdVar11;
          lVar17 = 2;
          break;
        case 'D':
          uVar4 = (undefined1)(int)*pdVar11;
          lVar17 = 9;
          break;
        default:
          goto switchD_0011e05a_caseD_45;
        case 'F':
          uVar4 = (undefined1)(int)*(float *)pdVar11;
          lVar17 = 5;
          break;
        case 'I':
          uVar4 = *(undefined1 *)pdVar11;
          lVar17 = 5;
          break;
        case 'L':
          uVar4 = *(undefined1 *)pdVar11;
          lVar17 = 9;
          break;
        case 'Y':
          uVar4 = *(undefined1 *)pdVar11;
          lVar17 = 3;
        }
        *(undefined1 *)(lVar7 + -1) = uVar4;
        lVar7 = lVar7 + 1;
        *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + lVar17;
        uVar10 = *(long *)(param_1 + 0x528) - lVar17;
        *(ulong *)(param_1 + 0x528) = uVar10;
        if ((long)param_3 + param_4 + 1 == lVar7) {
          return 1;
        }
      }
      break;
         case 1:
      lVar7 = 0;
      goto LAB_0011df92;
         default:
      return 0;
         case 3:
      lVar7 = 0;
LAB_0011e062:
      uVar10 = *(ulong *)(param_1 + 0x528);
      lVar17 = (long)param_3 + 4;
      while( true ) {
        if (uVar10 < 0xd) {
          pcVar15 = (char *)ufbxi_yield(param_1,0xd);
        }
        else {
          pcVar15 = *(char **)(param_1 + 0x520);
        }
        if (pcVar15 == (char *)0x0) break;
        cVar14 = *pcVar15;
        pdVar11 = (double *)(pcVar15 + 1);
        if ((cVar2 != '\0') &&
           (pdVar11 = (double *)ufbxi_swap_endian_value(param_1,pdVar11,(int)cVar14),
           pdVar11 == (double *)0x0)) break;
        switch(cVar14) {
        case 'B':
        case 'C':
          lVar12 = 2;
          fVar6 = (float)(int)*(char *)pdVar11;
          break;
        case 'D':
          lVar12 = 9;
          fVar6 = (float)*pdVar11;
          break;
        default:
          goto switchD_0011e05a_caseD_45;
        case 'F':
          fVar6 = *(float *)pdVar11;
          lVar12 = 5;
          break;
        case 'I':
          lVar12 = 5;
          fVar6 = (float)*(int *)pdVar11;
          break;
        case 'L':
          lVar12 = 9;
          fVar6 = (float)(long)*pdVar11;
          break;
        case 'Y':
          lVar12 = 3;
          fVar6 = (float)(int)*(short *)pdVar11;
        }
        lVar3 = *(long *)(param_1 + 0x528);
        *(float *)(lVar17 + -4) = fVar6;
        lVar17 = lVar17 + 4;
        *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + lVar12;
        uVar10 = lVar3 - lVar12;
        *(ulong *)(param_1 + 0x528) = uVar10;
        if (((param_4 * 4 + 4) - lVar7) + (long)param_3 == lVar17) {
          return 1;
        }
      }
      break;
         case 6:
      lVar7 = 0;
LAB_0011dffa:
      uVar10 = *(ulong *)(param_1 + 0x528);
      lVar17 = (long)param_3 + 4;
      while( true ) {
        if (uVar10 < 0xd) {
          pcVar15 = (char *)ufbxi_yield(param_1,0xd);
        }
        else {
          pcVar15 = *(char **)(param_1 + 0x520);
        }
        if (pcVar15 == (char *)0x0) break;
        cVar14 = *pcVar15;
        pdVar11 = (double *)(pcVar15 + 1);
        if ((cVar2 != '\0') &&
           (pdVar11 = (double *)ufbxi_swap_endian_value(param_1,pdVar11,(int)cVar14),
           pdVar11 == (double *)0x0)) break;
        switch(cVar14) {
        case 'B':
        case 'C':
          fVar6 = (float)(int)*(char *)pdVar11;
          lVar12 = 2;
          break;
        case 'D':
          dVar18 = *pdVar11;
          if (_LC115 < (double)((ulong)dVar18 & _LC97)) {
            fVar6 = (float)((dVar18 < 0.0) + 0x7fffffff);
          }
          else {
            fVar6 = (float)(int)dVar18;
          }
          lVar12 = 9;
          break;
        default:
          goto switchD_0011e05a_caseD_45;
        case 'F':
          fVar6 = *(float *)pdVar11;
          if (_LC115 < (double)((ulong)(double)fVar6 & _LC97)) {
            fVar6 = (float)((fVar6 < 0.0) + 0x7fffffff);
          }
          else {
            fVar6 = (float)(int)fVar6;
          }
          lVar12 = 5;
          break;
        case 'I':
          fVar6 = *(float *)pdVar11;
          lVar12 = 5;
          break;
        case 'L':
          fVar6 = *(float *)pdVar11;
          lVar12 = 9;
          break;
        case 'Y':
          fVar6 = (float)(int)*(short *)pdVar11;
          lVar12 = 3;
        }
        *(float *)(lVar17 + -4) = fVar6;
        lVar17 = lVar17 + 4;
        *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + lVar12;
        uVar10 = *(long *)(param_1 + 0x528) - lVar12;
        *(ulong *)(param_1 + 0x528) = uVar10;
        if (lVar17 == ((param_4 * 4 + 4) - lVar7) + (long)param_3) {
          return 1;
        }
      }
      break;
         case 9:
      lVar7 = 0;
LAB_0011e0ca:
      uVar10 = *(ulong *)(param_1 + 0x528);
      plVar16 = param_3 + 1;
      while( true ) {
        if (uVar10 < 0xd) {
          pcVar15 = (char *)ufbxi_yield(param_1,0xd);
        }
        else {
          pcVar15 = *(char **)(param_1 + 0x520);
        }
        if (pcVar15 == (char *)0x0) break;
        cVar14 = *pcVar15;
        pdVar11 = (double *)(pcVar15 + 1);
        if ((cVar2 != '\0') &&
           (pdVar11 = (double *)ufbxi_swap_endian_value(param_1,pdVar11,(int)cVar14),
           pdVar11 == (double *)0x0)) break;
        switch(cVar14) {
        case 'B':
        case 'C':
          dVar18 = (double)(long)*(char *)pdVar11;
          lVar17 = 2;
          break;
        case 'D':
          dVar1 = *pdVar11;
          if (_LC24 < (double)((ulong)dVar1 & _LC97)) {
            dVar18 = NAN;
            if (dVar1 < 0.0) {
              dVar18 = -0.0;
            }
          }
          else {
            dVar18 = (double)(long)dVar1;
          }
          lVar17 = 9;
          break;
        default:
          goto switchD_0011e05a_caseD_45;
        case 'F':
          fVar6 = *(float *)pdVar11;
          if (_LC24 < (double)((ulong)(double)fVar6 & _LC97)) {
            dVar18 = NAN;
            if (fVar6 < 0.0) {
              dVar18 = -0.0;
            }
          }
          else {
            dVar18 = (double)(long)fVar6;
          }
          lVar17 = 5;
          break;
        case 'I':
          dVar18 = (double)(long)(int)*(float *)pdVar11;
          lVar17 = 5;
          break;
        case 'L':
          dVar18 = *pdVar11;
          lVar17 = 9;
          break;
        case 'Y':
          dVar18 = (double)(long)*(short *)pdVar11;
          lVar17 = 3;
        }
        plVar16[-1] = (long)dVar18;
        plVar16 = plVar16 + 1;
        *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + lVar17;
        uVar10 = *(long *)(param_1 + 0x528) - lVar17;
        *(ulong *)(param_1 + 0x528) = uVar10;
        if ((long *)(((param_4 * 8 + 8) - lVar7) + (long)param_3) == plVar16) {
          return 1;
        }
      }
      }

   }

   LAB_0011dd50:pcVar15 = "";
   LAB_0011dd57:uVar8 = ufbxi_fail_imp_constprop_0(param_1, pcVar15);
   return uVar8;
   switchD_0011e05a_caseD_45:pcVar15 = "Bad multivalue array type";
   goto LAB_0011dd57;
}
undefined8 ufbxi_read_take_prop_channel(long param_1, long param_2, undefined8 param_3, undefined8 param_4, char *param_5, ulong param_6) {
   undefined8 *puVar1;
   long *plVar2;
   int iVar3;
   long lVar4;
   undefined8 uVar5;
   long *plVar6;
   long lVar7;
   long *plVar8;
   ulong uVar9;
   undefined4 *puVar10;
   char *pcVar11;
   long in_FS_OFFSET;
   long local_a0;
   char *local_98;
   ulong local_90;
   undefined8 local_80;
   undefined1 local_78[16];
   undefined8 local_68;
   undefined1 local_58[16];
   undefined8 local_48;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   local_98 = param_5;
   if (param_5 == "Transform") {
      plVar8 = *(long**)( param_2 + 0x10 );
      plVar6 = plVar8 + ( ulong ) * (uint*)( param_2 + 8 ) * 4;
      local_90 = param_6;
      for (; plVar8 != plVar6; plVar8 = plVar8 + 4) {
         LAB_0011e97d:if ((char*)*plVar8 != "Channel") {
            LAB_0011e970:plVar8 = plVar8 + 4;
            if (plVar6 == plVar8) break;
            goto LAB_0011e97d;
         }

         if (( *(ushort*)( (long)plVar8 + 0xe ) & 3 ) != 2) goto LAB_0011e90e;
         puVar1 = (undefined8*)plVar8[3];
         puVar10 = (undefined4*)*puVar1;
         if (*(int*)( (long)puVar1 + 0xc ) != 0) {
            if (*(int*)( (long)puVar1 + 0xc ) == -1) goto LAB_0011e90e;
            puVar10 = (undefined4*)( (long)puVar10 + ( ulong ) * (uint*)( puVar1 + 1 ) + 1 );
         }

         if (puVar10 != &ufbxi_T) {
            if (puVar10 == &ufbxi_R) {
               pcVar11 = "Lcl Rotation";
               uVar5 = 0xc;
               goto LAB_0011e9e0;
            }

            pcVar11 = "Lcl Scaling";
            uVar5 = 0xb;
            if (puVar10 == &ufbxi_S) goto LAB_0011e9e0;
            goto LAB_0011e970;
         }

         pcVar11 = "Lcl Translation";
         uVar5 = 0xf;
         LAB_0011e9e0:iVar3 = ufbxi_read_take_prop_channel(param_1, plVar8, param_3, param_4, pcVar11, uVar5);
         if (iVar3 == 0) goto LAB_0011e90e;
      }

      goto LAB_0011ea10;
   }

   uVar9 = param_6;
   if (( ( ( *(uint*)( param_1 + 0x268 ) < 6000 ) && ( uVar9 = param_6 ),8 < param_6 ) ) && ( local_90 = param_6 - 8 ),uVar9 = param_6,*(long*)( param_5 + ( param_6 - 8 ) ) == 0x2965706168532820) {
      LAB_0011e90e:uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   }
 else {
      local_90 = uVar9;
      uVar9 = ( ulong ) * (uint*)( param_2 + 8 );
      plVar6 = *(long**)( param_2 + 0x10 );
      puVar10 = &ufbxi_Key;
      local_78 = (undefined1[16])0x0;
      local_68 = 0;
      local_48 = 0;
      local_58 = (undefined1[16])0x0;
      lVar4 = ufbxi_find_child_isra_0(uVar9, plVar6, &ufbxi_Key);
      if (lVar4 == 0) {
         pcVar11 = "Default";
         lVar4 = ufbxi_find_child_isra_0(uVar9 & 0xffffffff, plVar6, "Default");
         if (lVar4 != 0) goto LAB_0011e858;
         plVar8 = plVar6 + uVar9 * 4;
         if (plVar8 != plVar6) {
            local_a0 = 0;
            do {
               if ((char*)*plVar6 == "Channel") {
                  uVar9 = ( ulong ) * (uint*)( plVar6 + 1 );
                  lVar4 = plVar6[2];
                  lVar7 = ufbxi_find_child_isra_0(uVar9, lVar4, puVar10);
                  if (( ( lVar7 != 0 ) || ( lVar4 = ufbxi_find_child_isra_0(uVar9 & 0xffffffff, lVar4, pcVar11) ),lVar4 != 0 )) {
                     plVar2 = (long*)plVar6[3];
                     lVar4 = *plVar2;
                     if (( *(int*)( (long)plVar2 + 0xc ) == 0 ) || ( lVar4 = lVar4 + 1 + ( ulong ) * (uint*)( plVar2 + 1 ) * (int*)( (long)plVar2 + 0xc ) != -1 )) {
                        *(long*)( local_58 + local_a0 * 8 ) = lVar4;
                        *(long**)( local_78 + local_a0 * 8 ) = plVar6;
                        local_a0 = local_a0 + 1;
                        if (local_a0 == 3) goto LAB_0011e870;
                     }

                  }

               }

               plVar6 = plVar6 + 4;
            }
 while ( plVar8 != plVar6 );
            if (local_a0 == 0) goto LAB_0011ea10;
            goto LAB_0011e870;
         }

      }
 else {
         LAB_0011e858:local_78._0_8_ = param_2;
         local_a0 = 1;
         local_58._0_8_ = local_98;
         LAB_0011e870:local_80 = 0;
         lVar4 = ufbxi_push_synthetic_element_size(param_1, &local_80, param_2, local_98, 0xb0, 0x1f);
         uVar5 = local_80;
         iVar3 = ufbxi_connect_oo(param_1, local_80, param_4);
         if (( iVar3 == 0 ) || ( iVar3 = ufbxi_connect_op(param_1, uVar5, param_3, local_98, local_90) ),iVar3 == 0) goto LAB_0011e90e;
         lVar4 = lVar4 + 0x80;
         lVar7 = 0;
         do {
            iVar3 = ufbxi_read_take_anim_channel(param_1, *(undefined8*)( local_78 + lVar7 * 8 ), uVar5, *(undefined8*)( local_58 + lVar7 * 8 ), lVar4);
            if (iVar3 == 0) goto LAB_0011e90e;
            lVar7 = lVar7 + 1;
            lVar4 = lVar4 + 8;
         }
 while ( local_a0 != lVar7 );
      }

      LAB_0011ea10:uVar5 = 1;
   }

   if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return uVar5;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_read_take_object(undefined8 param_1, long param_2, undefined8 param_3) {
   uint uVar1;
   uint uVar2;
   ulong uVar3;
   long *plVar4;
   int iVar5;
   undefined8 uVar6;
   long *plVar7;
   long *plVar8;
   long lVar9;
   if (( *(ushort*)( param_2 + 0xe ) & 3 ) == 2) {
      plVar7 = *(long**)( param_2 + 0x10 );
      uVar3 = **(ulong**)( param_2 + 0x18 );
      plVar8 = plVar7 + ( ulong ) * (uint*)( param_2 + 8 ) * 4;
      do {
         while (true) {
            if (plVar7 == plVar8) {
               return 1;
            }

            if (( (char*)*plVar7 == "Channel" ) && ( ( *(ushort*)( (long)plVar7 + 0xe ) & 3 ) == 2 )) break;
            LAB_0011ebd0:plVar7 = plVar7 + 4;
         }
;
         plVar4 = (long*)plVar7[3];
         uVar1 = *(uint*)( (long)plVar4 + 0xc );
         lVar9 = *plVar4;
         uVar2 = *(uint*)( plVar4 + 1 );
         if (( uVar1 != 0 ) && ( lVar9 = lVar9 + 1 + (ulong)uVar2 ),uVar2 = uVar1,uVar1 == 0xffffffff) goto LAB_0011ebd0;
         iVar5 = ufbxi_read_take_prop_channel(param_1, plVar7, uVar3 >> 1 | 0x8000000000000000, param_3, lVar9, uVar2);
         if (iVar5 == 0) break;
         plVar7 = plVar7 + 4;
      }
 while ( true );
   }

   uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar6;
}
undefined8 ufbxi_read_take(long param_1, long param_2) {
   undefined4 uVar1;
   ulong *puVar2;
   undefined8 uVar3;
   int iVar4;
   undefined8 uVar5;
   long lVar6;
   long lVar7;
   ulong uVar8;
   long *plVar9;
   ulong uVar10;
   long *plVar11;
   undefined8 *puVar12;
   long in_FS_OFFSET;
   ulong local_200;
   undefined8 local_1f8;
   undefined8 local_1f0;
   undefined8 local_1e8[13];
   undefined1 local_180[320];
   long local_40;
   uVar1 = *(undefined4*)( param_2 + 8 );
   uVar5 = *(undefined8*)( param_2 + 0x10 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   puVar12 = local_1e8;
   for (lVar7 = 0x34; lVar7 != 0; lVar7 = lVar7 + -1) {
      *puVar12 = 0;
      puVar12 = puVar12 + 1;
   }

   lVar7 = ufbxi_find_child_isra_0(uVar1, uVar5, "LocalTime");
   if (lVar7 == 0) {
      uVar8 = 0;
   }
 else {
      uVar8 = 0;
      if (( *(ushort*)( lVar7 + 0xe ) & 3 ) == 1) {
         if (( *(ushort*)( lVar7 + 0xe ) & 0xc ) == 4) {
            uVar3 = *(undefined8*)( *(long*)( lVar7 + 0x18 ) + 0x18 );
            ufbxi_init_synthetic_int_prop_constprop_0(local_1e8, "LocalStart", *(undefined8*)( *(long*)( lVar7 + 0x18 ) + 8 ));
            uVar8 = 2;
            ufbxi_init_synthetic_int_prop_constprop_0(local_180, "LocalStop", uVar3);
         }

      }

   }

   lVar7 = ufbxi_find_child_isra_0(uVar1, uVar5, "ReferenceTime");
   uVar10 = uVar8;
   if (( lVar7 != 0 ) && ( ( *(ushort*)( lVar7 + 0xe ) & 3 ) == 1 )) {
      if (( *(ushort*)( lVar7 + 0xe ) & 0xc ) == 4) {
         uVar5 = *(undefined8*)( *(long*)( lVar7 + 0x18 ) + 0x18 );
         uVar10 = ( ulong )((int)uVar8 + 2);
         ufbxi_init_synthetic_int_prop_constprop_0(local_1e8 + uVar8 * 0xd, "ReferenceStart", *(undefined8*)( *(long*)( lVar7 + 0x18 ) + 8 ));
         ufbxi_init_synthetic_int_prop_constprop_0(local_1e8 + ( ulong )((int)uVar8 + 1) * 0xd, "ReferenceStop", uVar5);
      }

   }

   if (( *(ushort*)( param_2 + 0xe ) & 3 ) == 2) {
      puVar2 = *(ulong**)( param_2 + 0x18 );
      uVar8 = *puVar2;
      if (*(int*)( (long)puVar2 + 0xc ) != 0) {
         if (*(int*)( (long)puVar2 + 0xc ) == -1) goto LAB_0011ecf9;
         uVar8 = uVar8 + 1 + (ulong)(uint)puVar2[1];
      }

      local_200 = uVar8;
      if (6999 < *(uint*)( param_1 + 0x268 )) {
         uVar8 = ( uVar8 >> 0x20 ^ uVar8 ) * -0x2917014799a6026d;
         lVar7 = ( uVar8 ^ uVar8 >> 0x20 ) * -0x2917014799a6026d;
         lVar7 = ufbxi_map_find_size(param_1 + 0x7e0, 0x10, (uint)lVar7 ^ ( uint )((ulong)lVar7 >> 0x20), &local_200);
         if (( lVar7 != 0 ) && ( lVar7 = *(long*)( lVar7 + 8 ) * (long*)( lVar7 + 0x18 ) == 0 )) {
            *(ulong*)( lVar7 + 0x18 ) = uVar10;
            lVar6 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x68, uVar10, local_1e8);
            *(long*)( lVar7 + 0x10 ) = lVar6;
            if (lVar6 == 0) goto LAB_0011ecf9;
         }

         LAB_0011ee60:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0011efdf;
      }

      local_1f8 = 0;
      local_1f0 = 0;
      lVar7 = ufbxi_push_synthetic_element_size(param_1, &local_1f8, param_2, uVar8, 0xa8, 0x1d);
      if (lVar7 != 0) {
         *(ulong*)( lVar7 + 0x18 ) = uVar10;
         lVar6 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x68, uVar10, local_1e8);
         *(long*)( lVar7 + 0x10 ) = lVar6;
         if (( ( lVar6 != 0 ) && ( lVar7 = ufbxi_push_synthetic_element_size(param_1, &local_1f0, param_2, "BaseLayer", 0xd0, 0x1e) ),uVar5 = local_1f0,lVar7 != 0 )) {
            plVar9 = *(long**)( param_2 + 0x10 );
            plVar11 = plVar9 + ( ulong ) * (uint*)( param_2 + 8 ) * 4;
            for (; plVar9 != plVar11; plVar9 = plVar9 + 4) {
               while ((char*)*plVar9 != "Model") {
                  plVar9 = plVar9 + 4;
                  if (plVar11 == plVar9) goto LAB_0011ee60;
               }
;
               iVar4 = ufbxi_read_take_object(param_1, plVar9, uVar5);
               if (iVar4 == 0) goto LAB_0011ecf9;
            }

            goto LAB_0011ee60;
         }

      }

   }

   LAB_0011ecf9:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar5;
   }

   LAB_0011efdf:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_resolve_relative_filename_isra_0(long param_1, undefined8 param_2, char *param_3, ulong param_4, char param_5) {
   char *__src;
   char cVar1;
   int iVar2;
   void *__dest;
   size_t sVar3;
   void *pvVar4;
   undefined8 uVar5;
   ulong uVar6;
   size_t sVar7;
   size_t sVar8;
   ulong uVar9;
   size_t __n;
   long in_FS_OFFSET;
   bool bVar10;
   long local_68;
   long local_60;
   void *local_58;
   long local_50;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_4 != 0) {
      do {
         if (( *param_3 != '/' ) && ( *param_3 != '\\' )) {
            if (param_5 == '\0') {
               __src = *(char**)( param_1 + 0x1c50 );
               __n = *(size_t*)( param_1 + 0x1c58 );
               cVar1 = ufbxi_is_absolute_path(param_3);
            }
 else {
               __src = *(char**)( param_1 + 0x1c70 );
               __n = *(size_t*)( param_1 + 0x1c78 );
               cVar1 = ufbxi_is_absolute_path(param_3);
            }

            uVar9 = param_4;
            if (cVar1 != '\0') {
               local_60 = param_4 + 1;
               __dest = (void*)ufbxi_push_size(param_1 + 0xab0, 1);
               pvVar4 = __dest;
               if (__dest != (void*)0x0) goto LAB_0011f0a2;
               goto LAB_0011f2db;
            }

            if (( __n == 0 ) || ( param_4 < 3 )) goto LAB_0011f219;
            goto LAB_0011f1a0;
         }

         param_3 = param_3 + 1;
         param_4 = param_4 - 1;
      }
 while ( param_4 != 0 );
   }

   ufbxi_strblob_set(param_2, 0, 0, param_5);
   LAB_0011f143:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   goto LAB_0011f37f;
   LAB_0011f1a0:do {
      uVar9 = param_4;
      if (( ( *param_3 != '.' ) || ( param_3[1] != '.' ) ) || ( ( sVar7 = __n ),param_3[2] != '/' && ( param_3[2] != '\\' ) )) break;
      do {
         sVar3 = sVar7;
         if (sVar3 == 0) {
            if (__n != 2) {
               bVar10 = false;
               sVar7 = 0;
               sVar8 = __n;
               goto LAB_0011f1f1;
            }

            if (( *__src == '.' ) && ( __src[1] == '.' )) goto LAB_0011f219;
            uVar9 = param_4 - 3;
            param_3 = param_3 + 3;
            local_60 = param_4 - 2;
            __dest = (void*)ufbxi_push_size(param_1 + 0xab0, 1);
            pvVar4 = __dest;
            if (__dest == (void*)0x0) goto LAB_0011f2db;
            goto LAB_0011f26c;
         }

         sVar7 = sVar3 - 1;
      }
 while ( ( __src[sVar3 - 1] != '/' ) && ( __src[sVar3 - 1] != '\\' ) );
      sVar8 = __n - sVar3;
      if (sVar8 == 2) {
         if (( __src[sVar3] == '.' ) && ( __src[sVar3 + 1] == '.' )) break;
         bVar10 = sVar7 != 0 && 2 < param_4 - 3;
         LAB_0011f211:param_4 = param_4 - 3;
         param_3 = param_3 + 3;
      }
 else {
         bVar10 = sVar7 != 0;
         LAB_0011f1f1:if (( sVar8 != 1 ) || ( __src[sVar3] != '.' )) {
            bVar10 = (bool)( 2 < param_4 - 3 & bVar10 );
            goto LAB_0011f211;
         }

         bVar10 = (bool)( 2 < param_4 & bVar10 );
      }

      uVar9 = param_4;
      __n = sVar7;
   }
 while ( bVar10 );
   LAB_0011f219:local_60 = __n + 1 + uVar9;
   __dest = (void*)ufbxi_push_size(param_1 + 0xab0, 1);
   if (__dest != (void*)0x0) {
      pvVar4 = __dest;
      if (__n != 0) {
         pvVar4 = memcpy(__dest, __src, __n);
         *(undefined1*)( (long)pvVar4 + __n ) = *(undefined1*)( param_1 + 0x36a );
         __dest = (void*)( (long)pvVar4 + __n + 1 );
      }

      LAB_0011f26c:if (uVar9 != 0) {
         LAB_0011f0a2:uVar6 = 0;
         do {
            while (( cVar1 = param_3[uVar6] ),cVar1 == '/' || ( cVar1 == '\\' )) {
               *(undefined1*)( (long)__dest + uVar6 ) = *(undefined1*)( param_1 + 0x36a );
               uVar6 = uVar6 + 1;
               if (uVar9 == uVar6) goto LAB_0011f0e3;
            }
;
            *(char*)( (long)__dest + uVar6 ) = cVar1;
            uVar6 = uVar6 + 1;
         }
 while ( uVar9 != uVar6 );
         LAB_0011f0e3:__dest = (void*)( (long)__dest + uVar9 );
      }

      local_68 = param_1 + 0xab0;
      local_50 = (long)__dest - (long)pvVar4;
      local_58 = pvVar4;
      iVar2 = ufbxi_push_string_place_str(param_1 + 0x1960, &local_58, param_5);
      if (iVar2 != 0) {
         ufbxi_pop_size(local_68, 1, local_60, 0, 0);
         ufbxi_strblob_set(param_2, local_58, local_50, param_5);
         goto LAB_0011f143;
      }

   }

   LAB_0011f2db:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar5;
   }

   LAB_0011f37f:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_unknown_isra_0(long param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined8 param_6, char *param_7) {
   long lVar1;
   int iVar2;
   long lVar3;
   size_t sVar4;
   undefined8 uVar5;
   lVar3 = ufbxi_push_element_size(param_1, param_2, 0xb0, 0);
   if (lVar3 != 0) {
      *(undefined8*)( lVar3 + 0xa0 ) = param_5;
      lVar1 = param_1 + 0x1960;
      *(undefined8*)( lVar3 + 0x80 ) = param_3;
      *(undefined8*)( lVar3 + 0x88 ) = param_4;
      *(undefined8*)( lVar3 + 0xa8 ) = param_6;
      *(char**)( lVar3 + 0x90 ) = param_7;
      sVar4 = strlen(param_7);
      *(size_t*)( lVar3 + 0x98 ) = sVar4;
      iVar2 = ufbxi_push_string_place_str(lVar1, lVar3 + 0x80, 0);
      if (iVar2 != 0) {
         iVar2 = ufbxi_push_string_place_str(lVar1, lVar3 + 0xa0, 0);
         if (iVar2 != 0) {
            iVar2 = ufbxi_push_string_place_str(lVar1, lVar3 + 0x90, 0);
            if (iVar2 != 0) {
               return 1;
            }

         }

      }

   }

   uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar5;
}
undefined8 ufbxi_load_strings(long param_1) {
   long lVar1;
   undefined8 uVar2;
   undefined **ppuVar3;
   ppuVar3 = &ufbxi_strings;
   do {
      lVar1 = ufbxi_push_string_imp(param_1 + 0x1960, *ppuVar3, ppuVar3[1], 0, 0, 1);
      if (lVar1 == 0) {
         uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar2;
      }

      ppuVar3 = ppuVar3 + 2;
   }
 while ( ppuVar3 != (undefined**)&_LC5 );
   return 1;
}
undefined8 ufbxi_load_maps(long param_1) {
   undefined **ppuVar1;
   long lVar2;
   char cVar3;
   uint uVar4;
   ulong uVar5;
   ulong *puVar6;
   undefined8 uVar7;
   size_t sVar8;
   ulong uVar9;
   long lVar10;
   undefined **ppuVar11;
   long in_FS_OFFSET;
   lVar2 = *(long*)( in_FS_OFFSET + 0x28 );
   uVar4 = *(uint*)( param_1 + 0x670 );
   if (uVar4 < 0x1d) {
      uVar4 = 0x1d;
   }

   if (*(uint*)( param_1 + 0x66c ) <= uVar4) {
      cVar3 = ufbxi_map_grow_size_imp(param_1 + 0x648, 0x10, 0x1e);
      if (cVar3 == '\0') goto LAB_0011f610;
   }

   ppuVar11 = &ufbxi_prop_type_names;
   sVar8 = 7;
   while (true) {
      uVar5 = ufbxi_push_string_imp(param_1 + 0x1960, *ppuVar11, sVar8, 0, 0, 1);
      if (uVar5 == 0) break;
      uVar9 = ( uVar5 >> 0x20 ^ uVar5 ) * -0x2917014799a6026d;
      lVar10 = ( uVar9 ^ uVar9 >> 0x20 ) * -0x2917014799a6026d;
      puVar6 = (ulong*)ufbxi_map_insert_size(param_1 + 0x648, 0x10, (uint)lVar10 ^ ( uint )((ulong)lVar10 >> 0x20));
      if (puVar6 == (ulong*)0x0) break;
      ppuVar1 = ppuVar11 + 1;
      ppuVar11 = ppuVar11 + 2;
      *(undefined4*)( puVar6 + 1 ) = *(undefined4*)ppuVar1;
      *puVar6 = uVar5;
      if (ppuVar11 == &ufbxi_strings) {
         if (lVar2 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0011f664;
      }

      sVar8 = strlen(*ppuVar11);
   }
;
   LAB_0011f610:if (lVar2 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar7;
   }

   LAB_0011f664:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_init_node_prop_names(long param_1) {
   long lVar1;
   char cVar2;
   uint uVar3;
   ulong *puVar4;
   ulong uVar5;
   undefined8 uVar6;
   size_t sVar7;
   ulong uVar8;
   long lVar9;
   undefined **ppuVar10;
   long in_FS_OFFSET;
   lVar1 = *(long*)( in_FS_OFFSET + 0x28 );
   uVar3 = *(uint*)( param_1 + 0x918 );
   if (uVar3 < 0x47) {
      uVar3 = 0x47;
   }

   if (*(uint*)( param_1 + 0x914 ) <= uVar3) {
      cVar2 = ufbxi_map_grow_size_imp(param_1 + 0x8f0, 8, 0x48);
      if (cVar2 == '\0') goto LAB_0011f764;
   }

   ppuVar10 = &ufbxi_node_prop_names;
   sVar7 = 7;
   while (true) {
      uVar5 = ufbxi_push_string_imp(param_1 + 0x1960, *ppuVar10, sVar7, 0, 0, 1);
      if (uVar5 == 0) break;
      uVar8 = ( uVar5 >> 0x20 ^ uVar5 ) * -0x2917014799a6026d;
      lVar9 = ( uVar8 ^ uVar8 >> 0x20 ) * -0x2917014799a6026d;
      puVar4 = (ulong*)ufbxi_map_insert_size(param_1 + 0x8f0, 8, (uint)lVar9 ^ ( uint )((ulong)lVar9 >> 0x20));
      if (puVar4 == (ulong*)0x0) break;
      ppuVar10 = ppuVar10 + 1;
      *puVar4 = uVar5;
      if (ppuVar10 == &ufbxi_prop_type_names) {
         if (lVar1 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0011f7bc;
      }

      sVar7 = strlen(*ppuVar10);
   }
;
   LAB_0011f764:if (lVar1 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar6;
   }

   LAB_0011f7bc:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_push_string_place_blob_constprop_0(undefined8 *param_1, long *param_2) {
   long lVar1;
   if (param_2[1] == 0) {
      *param_2 = 0;
   }
 else {
      lVar1 = ufbxi_push_string_imp(param_1, *param_2, param_2[1], param_2 + 1, 1, 1);
      *param_2 = lVar1;
      if (lVar1 == 0) {
         ufbxi_fail_imp_err_constprop_0(*param_1, &_LC88);
         return 0;
      }

   }

   return 1;
}
undefined8 ufbxi_init_file_paths(long param_1) {
   long lVar1;
   int iVar2;
   undefined8 uVar3;
   lVar1 = *(long*)( param_1 + 0x398 );
   if (*(long*)( param_1 + 0x388 ) == 0) {
      if (lVar1 == 0) goto LAB_0011f877;
      *(long*)( param_1 + 0x1c48 ) = lVar1;
      *(undefined8*)( param_1 + 0x1c40 ) = *(undefined8*)( param_1 + 0x390 );
   }
 else {
      *(undefined8*)( param_1 + 0x1c40 ) = *(undefined8*)( param_1 + 0x380 );
      *(undefined8*)( param_1 + 0x1c48 ) = *(undefined8*)( param_1 + 0x388 );
      if (lVar1 == 0) {
         *(long*)( param_1 + 0x1c68 ) = *(long*)( param_1 + 0x388 );
         *(undefined8*)( param_1 + 0x1c60 ) = *(undefined8*)( param_1 + 0x380 );
         goto LAB_0011f877;
      }

   }

   *(undefined8*)( param_1 + 0x1c60 ) = *(undefined8*)( param_1 + 0x390 );
   *(undefined8*)( param_1 + 0x1c68 ) = *(undefined8*)( param_1 + 0x398 );
   LAB_0011f877:lVar1 = param_1 + 0x1960;
   iVar2 = ufbxi_push_string_place_str(lVar1, param_1 + 0x1c40, 0);
   if (iVar2 != 0) {
      iVar2 = ufbxi_push_string_place_blob_constprop_0(lVar1, param_1 + 0x1c60);
      if (iVar2 != 0) {
         *(undefined8*)( param_1 + 0x1c50 ) = *(undefined8*)( param_1 + 0x1c40 );
         uVar3 = ufbxi_trim_delimiters(param_1, *(undefined8*)( param_1 + 0x1c40 ), *(undefined8*)( param_1 + 0x1c48 ));
         *(undefined8*)( param_1 + 0x1c58 ) = uVar3;
         *(undefined8*)( param_1 + 0x1c70 ) = *(undefined8*)( param_1 + 0x1c60 );
         uVar3 = ufbxi_trim_delimiters();
         *(undefined8*)( param_1 + 0x1c78 ) = uVar3;
         iVar2 = ufbxi_push_string_place_str(lVar1, param_1 + 0x1c50, 0);
         if (iVar2 != 0) {
            iVar2 = ufbxi_push_string_place_blob_constprop_0(lVar1, param_1 + 0x1c70);
            if (iVar2 != 0) {
               return 1;
            }

         }

      }

   }

   uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar3;
}
undefined8 ufbxi_absolute_to_relative_path_isra_0(long param_1, undefined8 param_2, char *param_3, ulong param_4, char *param_5, ulong param_6, undefined1 param_7) {
   void *__dest;
   char cVar1;
   char cVar2;
   int iVar3;
   long lVar4;
   long lVar5;
   ulong uVar6;
   long lVar7;
   undefined8 uVar8;
   ulong uVar9;
   ulong uVar10;
   if (( ( param_4 != 0 ) && ( param_6 != 0 ) ) && ( *param_3 == *param_5 )) {
      do {
         uVar9 = param_4 - 1;
         if (( param_3[uVar9] == '/' ) || ( param_3[uVar9] == '\\' )) {
            cVar1 = param_3[param_4 - 1];
            cVar2 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_1 + 0xa00, param_1 + 0xa08, param_6 + param_4 * 2);
            if (cVar2 == '\0') goto LAB_0011fb9e;
            uVar9 = 0;
            lVar7 = *(long*)( param_1 + 0xa00 );
            goto LAB_0011fa8c;
         }

         param_4 = uVar9;
      }
 while ( uVar9 != 0 );
   }

   return 1;
   LAB_0011fa8c:lVar4 = ufbxi_next_path_segment(param_3, uVar9, param_4);
   lVar5 = ufbxi_next_path_segment(param_5, uVar9, param_6);
   if (( lVar4 != lVar5 ) || ( iVar3 = memcmp(param_3 + uVar9, param_5 + uVar9, lVar4 - uVar9) ),iVar3 != 0) {
      LAB_0011faba:uVar10 = (ulong)_LC176;
      lVar4 = 0;
      uVar6 = uVar9;
      while (uVar6 < param_4) {
         lVar5 = ufbxi_next_path_segment(param_3, uVar6, param_4);
         *(short*)( lVar7 + lVar4 ) = (short)uVar10;
         lVar4 = lVar4 + 3;
         *(char*)( lVar7 + -1 + lVar4 ) = cVar1;
         uVar6 = lVar5 + 1;
      }
;
      while (uVar9 < param_6) {
         uVar6 = ufbxi_next_path_segment(param_5, uVar9, param_6);
         __dest = (void*)( lVar7 + lVar4 );
         lVar4 = lVar4 + ( uVar6 - uVar9 );
         memcpy(__dest, param_5 + uVar9, uVar6 - uVar9);
         if (uVar6 < param_6) {
            *(char*)( lVar7 + lVar4 ) = cVar1;
            lVar4 = lVar4 + 1;
         }

         uVar9 = uVar6 + 1;
      }
;
      lVar7 = ufbxi_push_string_imp(param_1 + 0x1960, lVar7, lVar4, 0, 1, 1);
      if (lVar7 != 0) {
         ufbxi_strblob_set(param_2, lVar7, lVar4, param_7);
         return 1;
      }

      LAB_0011fb9e:uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar8;
   }

   uVar9 = lVar4 + 1;
   if (( param_4 <= uVar9 ) || ( param_6 <= uVar9 )) goto LAB_0011faba;
   goto LAB_0011fa8c;
}
undefined8 ufbxi_resolve_filenames(long param_1, undefined8 param_2, undefined8 *param_3, undefined8 *param_4, byte param_5) {
   int iVar1;
   undefined8 uVar2;
   long lVar3;
   ulong extraout_RDX;
   ulong uVar4;
   uVar4 = (ulong)param_5;
   lVar3 = param_4[1];
   if (param_5 == 0) {
      if (lVar3 == 0) {
         uVar2 = *(undefined8*)( param_1 + 0x1da8 );
         lVar3 = param_1 + 0x1da8;
         goto LAB_0011fc0b;
      }

   }
 else if (lVar3 == 0) {
      uVar2 = *(undefined8*)( param_1 + 0x1db8 );
      lVar3 = param_1 + 0x1db8;
      LAB_0011fc0b:iVar1 = ufbxi_absolute_to_relative_path_isra_0(param_1, param_4, uVar2, *(undefined8*)( lVar3 + 8 ), *param_3, param_3[1]);
      if (iVar1 == 0) goto LAB_0011fc60;
      lVar3 = param_4[1];
   }

   iVar1 = ufbxi_resolve_relative_filename_isra_0(param_1, param_2, *param_4, lVar3, uVar4);
   uVar4 = extraout_RDX;
   if (iVar1 != 0) {
      return 1;
   }

   LAB_0011fc60:uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88, uVar4);
   return uVar2;
}
undefined8 ufbxi_push_sanitized_string(undefined8 *param_1, undefined8 *param_2, void *param_3, ulong param_4, undefined4 param_5, char param_6) {
   char cVar1;
   int iVar2;
   undefined8 *puVar3;
   undefined8 uVar4;
   ulong uVar5;
   undefined8 *puVar6;
   void *__dest;
   void *pvVar7;
   long in_FS_OFFSET;
   undefined4 local_5c;
   void *local_58;
   size_t local_50;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_4 >> 0x20 == 0) {
      puVar6 = param_1 + 9;
      if (( *(uint*)( (long)param_1 + 0x6c ) <= *(uint*)( param_1 + 0xe ) ) || ( ( ulong ) * (uint*)( (long)param_1 + 0x6c ) < (ulong)param_1[0x1a] )) {
         cVar1 = ufbxi_map_grow_size_imp(puVar6, 0x10);
         if (cVar1 == '\0') goto LAB_0011fdb0;
      }

      *(int*)( param_2 + 1 ) = (int)param_4;
      *(undefined4*)( (long)param_2 + 0xc ) = 0;
      pvVar7 = param_3;
      local_5c = param_5;
      if (param_6 == '\0') {
         uVar5 = ufbxi_utf8_valid_length(param_3, param_4);
         if (param_4 != uVar5) {
            iVar2 = ufbxi_sanitize_string(param_1, param_2, param_3, param_4, uVar5, 1);
            if (iVar2 == 0) goto LAB_0011fdb0;
            pvVar7 = (void*)*param_2;
            uVar5 = ( ulong )(*(int*)( (long)param_2 + 0xc ) + *(int*)( param_2 + 1 ) + 1);
            local_5c = ufbxi_hash_string(param_3, param_4);
            param_4 = uVar5;
         }

      }

      local_58 = pvVar7;
      local_50 = param_4;
      puVar3 = (undefined8*)ufbxi_map_find_size(puVar6, 0x10, local_5c, &local_58);
      if (puVar3 != (undefined8*)0x0) {
         *param_2 = *puVar3;
         LAB_0011fd2c:uVar4 = 1;
         goto LAB_0011fd31;
      }

      puVar6 = (undefined8*)ufbxi_map_insert_size(puVar6, 0x10, local_5c, &local_58);
      if (puVar6 != (undefined8*)0x0) {
         puVar6[1] = param_4;
         __dest = (void*)ufbxi_push_size(param_1 + 1, 1, param_4 + 1);
         if (__dest != (void*)0x0) {
            pvVar7 = memcpy(__dest, pvVar7, param_4);
            *(undefined1*)( (long)pvVar7 + param_4 ) = 0;
            *puVar6 = pvVar7;
            *param_2 = pvVar7;
            goto LAB_0011fd2c;
         }

      }

   }

   LAB_0011fdb0:ufbxi_fail_imp_err_constprop_0(*param_1, &_LC88);
   uVar4 = 0;
   LAB_0011fd31:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return uVar4;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
uint ufbxi_concat_str_cmp_isra_0(void *param_1, long param_2, undefined8 *param_3, long param_4) {
   void *pvVar1;
   undefined8 *puVar2;
   uint uVar3;
   ulong uVar4;
   ulong __n;
   ulong uVar5;
   pvVar1 = (void*)( (long)param_1 + param_2 );
   puVar2 = param_3 + param_4 * 2;
   if (param_3 != puVar2) {
      do {
         uVar4 = param_3[1];
         if (uVar4 == 0xffffffffffffffff) {
            uVar4 = strlen((char*)*param_3);
         }

         uVar5 = (long)pvVar1 - (long)param_1;
         __n = uVar4;
         if (uVar5 <= uVar4) {
            __n = uVar5;
         }

         if (( __n != 0 ) && ( uVar3 = uVar3 != 0 )) {
            return uVar3;
         }

         if (uVar5 < uVar4) {
            return 0xffffffff;
         }

         param_3 = param_3 + 2;
         param_1 = (void*)( (long)param_1 + uVar4 );
      }
 while ( puVar2 != param_3 );
   }

   return ( uint )(pvVar1 != param_1);
}
ulong ufbxi_bigint_extract_high_isra_0(long param_1, int param_2, int *param_3, byte *param_4) {
   ulong uVar1;
   uint uVar2;
   int iVar3;
   byte bVar4;
   ulong uVar5;
   bool bVar6;
   if (param_2 == 0) {
      iVar3 = 0x40;
      uVar5 = 0;
   }
 else {
      uVar2 = *(uint*)( param_1 + ( ulong )(param_2 - 1) * 4 );
      if (param_2 == 1) {
         uVar1 = 0x3f;
         if (uVar2 != 0) {
            for (; ( (ulong)uVar2 << 0x20 ) >> uVar1 == 0; uVar1 = uVar1 - 1) {}
         }

         uVar5 = ( (ulong)uVar2 << 0x20 ) << ( ( byte )(uVar1 ^ 0x3f) & 0x3f );
         iVar3 = (int)( uVar1 ^ 0x3f );
      }
 else {
         uVar5 = CONCAT44(uVar2, *(undefined4*)( param_1 + ( ulong )(param_2 - 2) * 4 ));
         uVar1 = 0x3f;
         if (uVar5 != 0) {
            for (; uVar5 >> uVar1 == 0; uVar1 = uVar1 - 1) {}
         }

         iVar3 = (int)( uVar1 ^ 0x3f );
         bVar4 = ( byte )(uVar1 ^ 0x3f);
         uVar5 = uVar5 << ( bVar4 & 0x3f );
         if (param_2 != 2) {
            uVar2 = *(uint*)( param_1 + ( ulong )(param_2 - 3) * 4 );
            if (iVar3 != 0) {
               uVar5 = uVar5 | uVar2 >> ( 0x20 - bVar4 & 0x1f );
            }

            bVar4 = uVar2 << ( bVar4 & 0x1f ) != 0 | *param_4;
            *param_4 = bVar4;
            if (param_2 != 3) {
               uVar2 = param_2 - 4;
               do {
                  bVar4 = bVar4 | *(int*)( param_1 + (ulong)uVar2 * 4 ) != 0;
                  bVar6 = uVar2 != 0;
                  uVar2 = uVar2 - 1;
               }
 while ( bVar6 );
               *param_4 = bVar4;
            }

         }

      }

   }

   *param_3 = ( param_2 * 0x20 + -1 + *param_3 ) - iVar3;
   return uVar5;
}
void ufbxi_mat_transform_blender_opacity(double *param_1) {
   *param_1 = _LC0 - *param_1;
   return;
}
ulong ufbxi_map_cmp_uintptr(undefined8 param_1, ulong *param_2, ulong *param_3) {
   ulong uVar1;
   uVar1 = 0xffffffff;
   if (*param_3 <= *param_2) {
      uVar1 = ( ulong )(*param_3 < *param_2);
   }

   return uVar1;
}
undefined8 ufbxi_sort_anim_props(long param_1, ulong *param_2, ulong param_3) {
   ulong *puVar1;
   undefined8 *puVar2;
   undefined8 *puVar3;
   ulong uVar4;
   ulong uVar5;
   char cVar6;
   int iVar7;
   ulong uVar8;
   undefined8 uVar9;
   ulong uVar10;
   ulong __n;
   long lVar11;
   ulong *puVar12;
   ulong *puVar13;
   ulong uVar14;
   ulong uVar15;
   ulong uVar16;
   ulong *puVar17;
   ulong *puVar18;
   ulong uVar19;
   ulong uVar20;
   ulong uVar21;
   bool bVar22;
   cVar6 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_1 + 0xa00, param_1 + 0xa08, param_3 * 0x28);
   if (cVar6 == '\0') {
      uVar9 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar9;
   }

   puVar18 = *(ulong**)( param_1 + 0xa00 );
   if (param_3 != 0) {
      puVar13 = param_2 + 5;
      uVar8 = 0;
      do {
         uVar14 = uVar8 + 0x20;
         uVar21 = uVar8 + 1;
         uVar15 = uVar14;
         if (param_3 <= uVar14) {
            uVar15 = param_3;
         }

         if (uVar21 < uVar15) {
            puVar17 = puVar13;
            do {
               uVar19 = puVar17[1];
               *puVar18 = *puVar17;
               puVar18[1] = uVar19;
               uVar19 = puVar17[3];
               puVar18[2] = puVar17[2];
               puVar18[3] = uVar19;
               puVar18[4] = puVar17[4];
               puVar12 = puVar17;
               puVar1 = puVar17;
               for (uVar19 = uVar21; uVar19 != uVar8; uVar19 = uVar19 - 1) {
                  bVar22 = *puVar18 < puVar1[-5];
                  if (( *puVar18 == puVar1[-5] ) && ( bVar22 = (uint)puVar18[1] < (uint)puVar1[-4] ),(uint)puVar18[1] == (uint)puVar1[-4]) {
                     uVar10 = puVar18[3];
                     uVar20 = puVar1[-2];
                     uVar16 = uVar20;
                     if (uVar10 <= uVar20) {
                        uVar16 = uVar10;
                     }

                     iVar7 = memcmp((void*)puVar18[2], (void*)puVar1[-3], uVar16);
                     bVar22 = uVar10 < uVar20;
                     if (iVar7 != 0) {
                        bVar22 = SUB41((uint)iVar7 >> 0x1f, 0);
                     }

                  }

                  puVar12 = puVar1;
                  if (bVar22 == false) break;
                  *puVar1 = puVar1[-5];
                  for (int i = 0; i < 4; i++) {
                     puVar1[( i + 1 )] = puVar1[( i + -4 )];
                  }

                  puVar12 = param_2 + uVar8 * 5;
                  puVar1 = puVar1 + -5;
               }

               uVar19 = puVar18[1];
               uVar21 = uVar21 + 1;
               puVar17 = puVar17 + 5;
               *puVar12 = *puVar18;
               puVar12[1] = uVar19;
               uVar19 = puVar18[3];
               puVar12[2] = puVar18[2];
               puVar12[3] = uVar19;
               puVar12[4] = puVar18[4];
            }
 while ( uVar15 != uVar21 );
         }

         puVar13 = puVar13 + 0xa0;
         uVar8 = uVar14;
      }
 while ( uVar14 < param_3 );
      uVar8 = 0x20;
      puVar13 = param_2;
      if (0x20 < param_3) {
         do {
            puVar17 = puVar18;
            puVar18 = puVar13;
            uVar21 = uVar8 * 2;
            uVar15 = 0;
            do {
               uVar19 = uVar15 + uVar21;
               uVar14 = param_3;
               if (uVar8 <= param_3) {
                  uVar14 = uVar8;
               }

               uVar10 = uVar19;
               if (param_3 <= uVar19) {
                  uVar10 = param_3;
               }

               uVar20 = uVar8;
               uVar16 = uVar15;
               if (( uVar8 < uVar10 ) && ( uVar15 < uVar14 )) {
                  puVar13 = puVar17 + uVar15 * 5;
                  do {
                     puVar12 = puVar18 + uVar20 * 5;
                     puVar1 = puVar18 + uVar15 * 5;
                     bVar22 = *puVar12 < *puVar1;
                     if (( *puVar12 == *puVar1 ) && ( bVar22 = (uint)puVar12[1] < (uint)puVar1[1] ),(uint)puVar12[1] == (uint)puVar1[1]) {
                        uVar4 = puVar12[3];
                        uVar5 = puVar1[3];
                        __n = uVar5;
                        if (uVar4 <= uVar5) {
                           __n = uVar4;
                        }

                        iVar7 = memcmp((void*)puVar12[2], (void*)puVar1[2], __n);
                        if (iVar7 != 0) {
                           bVar22 = SUB41((uint)iVar7 >> 0x1f, 0);
                           goto LAB_00120283;
                        }

                        if (uVar4 < uVar5) goto LAB_0012028b;
                        LAB_0012034e:uVar4 = puVar1[1];
                        uVar15 = uVar15 + 1;
                        *puVar13 = *puVar1;
                        puVar13[1] = uVar4;
                        uVar4 = puVar1[3];
                        puVar13[2] = puVar1[2];
                        puVar13[3] = uVar4;
                        puVar13[4] = puVar1[4];
                     }
 else {
                        LAB_00120283:if (bVar22 == false) goto LAB_0012034e;
                        LAB_0012028b:uVar4 = puVar12[1];
                        uVar20 = uVar20 + 1;
                        *puVar13 = *puVar12;
                        puVar13[1] = uVar4;
                        uVar4 = puVar12[3];
                        puVar13[2] = puVar12[2];
                        puVar13[3] = uVar4;
                        puVar13[4] = puVar12[4];
                     }

                     if (uVar14 <= uVar15) {
                        uVar16 = uVar16 + 1;
                        goto LAB_0012039e;
                     }

                     uVar16 = uVar16 + 1;
                     puVar13 = puVar13 + 5;
                  }
 while ( uVar20 < uVar10 );
               }

               if (uVar15 < uVar14) {
                  lVar11 = 0;
                  do {
                     puVar2 = (undefined8*)( (long)puVar18 + lVar11 + uVar15 * 0x28 );
                     uVar9 = puVar2[1];
                     puVar3 = (undefined8*)( (long)puVar17 + lVar11 + uVar16 * 0x28 );
                     *puVar3 = *puVar2;
                     puVar3[1] = uVar9;
                     puVar2 = (undefined8*)( (long)puVar18 + lVar11 + uVar15 * 0x28 + 0x10 );
                     uVar9 = puVar2[1];
                     puVar3 = (undefined8*)( (long)puVar17 + lVar11 + uVar16 * 0x28 + 0x10 );
                     *puVar3 = *puVar2;
                     puVar3[1] = uVar9;
                     *(undefined8*)( (long)puVar17 + lVar11 + uVar16 * 0x28 + 0x20 ) = *(undefined8*)( (long)puVar18 + lVar11 + uVar15 * 0x28 + 0x20 );
                     lVar11 = lVar11 + 0x28;
                  }
 while ( ( uVar14 - uVar15 ) * 0x28 != lVar11 );
                  uVar16 = ( uVar14 + uVar16 ) - uVar15;
               }

               LAB_0012039e:if (uVar20 < uVar10) {
                  lVar11 = 0;
                  do {
                     puVar2 = (undefined8*)( (long)puVar18 + lVar11 + uVar20 * 0x28 );
                     uVar9 = puVar2[1];
                     puVar3 = (undefined8*)( (long)puVar17 + lVar11 + uVar16 * 0x28 );
                     *puVar3 = *puVar2;
                     puVar3[1] = uVar9;
                     puVar2 = (undefined8*)( (long)puVar18 + lVar11 + uVar20 * 0x28 + 0x10 );
                     uVar9 = puVar2[1];
                     puVar3 = (undefined8*)( (long)puVar17 + lVar11 + uVar16 * 0x28 + 0x10 );
                     *puVar3 = *puVar2;
                     puVar3[1] = uVar9;
                     *(undefined8*)( (long)puVar17 + lVar11 + uVar16 * 0x28 + 0x20 ) = *(undefined8*)( (long)puVar18 + lVar11 + uVar20 * 0x28 + 0x20 );
                     lVar11 = lVar11 + 0x28;
                  }
 while ( ( uVar10 - uVar20 ) * 0x28 != lVar11 );
               }

               uVar8 = uVar8 + uVar21;
               uVar15 = uVar19;
            }
 while ( uVar19 < param_3 );
            uVar8 = uVar21;
            puVar13 = puVar17;
         }
 while ( uVar21 < param_3 );
         if (puVar17 != param_2) {
            memcpy(param_2, puVar17, param_3 * 0x28);
         }

      }

   }

   return 1;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */void ufbxi_mat_transform_blender_shininess(double *param_1) {
   double dVar1;
   if (( 0.0 <= *param_1 ) && ( dVar1 = _LC0 - SQRT(*param_1) * __LC67 ),*param_1 = dVar1,0.0 <= dVar1) {
      return;
   }

   *param_1 = 0.0;
   return;
}
undefined8 ufbxi_read_property(long param_1, long param_2, undefined8 *param_3, int param_4) {
   char cVar1;
   ushort uVar2;
   undefined8 *puVar3;
   int iVar4;
   uint uVar5;
   undefined8 uVar6;
   long lVar7;
   sbyte sVar8;
   int iVar9;
   uint uVar10;
   uint uVar11;
   ulong uVar12;
   ulong uVar13;
   uint *puVar14;
   long lVar15;
   ulong uVar16;
   ulong uVar17;
   ulong uVar18;
   long *plVar19;
   long lVar20;
   long in_FS_OFFSET;
   sbyte local_50;
   int local_4c;
   ulong local_48;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   uVar2 = *(ushort*)( param_2 + 0xe );
   if (( uVar2 & 3 ) == 2) {
      puVar3 = *(undefined8**)( param_2 + 0x18 );
      uVar10 = *(uint*)( (long)puVar3 + 0xc );
      puVar14 = (uint*)*puVar3;
      uVar5 = *(uint*)( puVar3 + 1 );
      if (( uVar10 == 0 ) || ( puVar14 = (uint*)( (long)puVar14 + (ulong)uVar5 + 1 ) ),uVar5 = uVar10,uVar10 != 0xffffffff) {
         uVar13 = (ulong)uVar5;
         *param_3 = puVar14;
         param_3[1] = uVar13;
         if (( uVar2 & 0xc ) == 8) {
            uVar17 = puVar3[2];
            if (*(int*)( (long)puVar3 + 0x1c ) != 0) {
               if (*(int*)( (long)puVar3 + 0x1c ) == -1) goto LAB_001206e0;
               uVar17 = uVar17 + 1 + ( ulong ) * (uint*)( puVar3 + 3 );
            }

            if (param_4 == 0x46) {
               if (( uVar2 & 0x30 ) != 0x20) goto LAB_001206e0;
               uVar16 = puVar3[4];
               if (*(int*)( (long)puVar3 + 0x2c ) != 0) {
                  if (*(int*)( (long)puVar3 + 0x2c ) == -1) goto LAB_001206e0;
                  uVar16 = uVar16 + 1 + ( ulong ) * (uint*)( puVar3 + 5 );
               }

               local_50 = 8;
               sVar8 = 6;
               uVar18 = 4;
               lVar20 = 3;
               local_4c = 3;
            }
 else {
               local_50 = 6;
               sVar8 = 4;
               uVar18 = 3;
               uVar16 = 0;
               local_4c = 2;
               lVar20 = 2;
            }

            if (uVar13 < 4) {
               uVar12 = 0;
               uVar10 = 0;
               do {
                  for (; uVar10 = uVar10 << 8,uVar12 < uVar13; uVar12 = uVar12 + 1) {
                     uVar10 = uVar10 | *(byte*)( (long)puVar14 + uVar12 );
                  }

                  uVar12 = uVar12 + 1;
               }
 while ( uVar12 != 4 );
            }
 else {
               uVar10 = *puVar14;
               uVar10 = uVar10 >> 0x18 | ( uVar10 & 0xff0000 ) >> 8 | ( uVar10 & 0xff00 ) << 8 | uVar10 << 0x18;
            }

            *(uint*)( param_3 + 2 ) = uVar10;
            uVar10 = 0;
            if (( (int)(uint)uVar2 >> sVar8 & 3U ) == 2) {
               plVar19 = puVar3 + lVar20 * 2;
               uVar10 = *(uint*)( (long)plVar19 + 0xc );
               lVar20 = *plVar19;
               uVar13 = ( ulong ) * (uint*)( plVar19 + 1 );
               if (uVar10 == 0) {
                  if (uVar13 != 0) goto LAB_00120669;
                  uVar10 = 0;
               }
 else {
                  if (uVar10 != 0xffffffff) {
                     lVar20 = lVar20 + 1 + uVar13;
                     uVar13 = (ulong)uVar10;
                     LAB_00120669:uVar12 = 0;
                     uVar10 = 0;
                     LAB_00120680:do {
                        uVar12 = uVar12 + 1;
                        cVar1 = *(char*)( lVar20 + -1 + uVar12 );
                        if (uVar12 < uVar13) {
                           if (0x14 < ( byte )(cVar1 + 0xbfU)) goto switchD_001206a7_caseD_42;
                           switch (cVar1) {
                              case 'A':
                    goto switchD_001206a7_caseD_41;
                              default:
                    goto switchD_001206a7_caseD_42;
                              case 'H':
                    goto switchD_001206a7_caseD_48;
                              case 'L':
                    uVar10 = uVar10 | (*(byte *)(lVar20 + uVar12) & 0xf) << 4;
                    goto joined_r0x001208be;
                              case 'M':
                    uVar10 = uVar10 | (*(byte *)(lVar20 + uVar12) & 0xf) << 8;
                    break;
                              case 'U':
                    goto switchD_001206a7_caseD_55;
                           }

                           goto joined_r0x0012089e;
                        }

                        switch (cVar1) {
                           case 'A':
switchD_001206a7_caseD_41:
                  uVar10 = uVar10 | 1;
                  break;
                           default:
                  goto switchD_001208e5_caseD_42;
                           case 'H':
switchD_001206a7_caseD_48:
                  uVar10 = uVar10 | 4;
                  break;
                           case 'L':
                           case 'M':
                  goto switchD_001206a7_caseD_42;
                           case 'U':
switchD_001206a7_caseD_55:
                  uVar10 = uVar10 | 2;
                  goto switchD_001206a7_caseD_42;
                        }

                        joined_r0x001208be:;
                     }
 while ( uVar12 != uVar13 );
                     goto switchD_001208e5_caseD_42;
                  }

                  uVar10 = 0;
               }

            }

            switchD_001208e5_caseD_42:uVar13 = ( uVar17 >> 0x20 ^ uVar17 ) * -0x2917014799a6026d;
            lVar20 = ( uVar13 ^ uVar13 >> 0x20 ) * -0x2917014799a6026d;
            local_48 = uVar17;
            lVar20 = ufbxi_map_find_size(param_1 + 0x648, 0x10, (uint)lVar20 ^ ( uint )((ulong)lVar20 >> 0x20), &local_48);
            if (lVar20 == 0) {
               *(undefined4*)( (long)param_3 + 0x14 ) = 0;
               LAB_001209d7:if (uVar16 == 0) {
                  iVar4 = *(int*)( (long)param_3 + 0x14 );
                  goto LAB_001207a4;
               }

               uVar13 = ( uVar16 >> 0x20 ^ uVar16 ) * -0x2917014799a6026d;
               lVar20 = ( uVar13 ^ uVar13 >> 0x20 ) * -0x2917014799a6026d;
               local_48 = uVar16;
               lVar20 = ufbxi_map_find_size(param_1 + 0x648, 0x10, (uint)lVar20 ^ ( uint )((ulong)lVar20 >> 0x20), &local_48);
               if (lVar20 != 0) {
                  iVar4 = *(int*)( lVar20 + 8 );
                  *(int*)( (long)param_3 + 0x14 ) = iVar4;
                  goto LAB_001207a4;
               }

               uVar2 = *(ushort*)( param_2 + 0xe );
               uVar11 = (uint)uVar2;
               *(undefined4*)( (long)param_3 + 0x14 ) = 0;
               uVar5 = (int)(uint)uVar2 >> local_50 & 3;
               if (uVar5 != 1) goto LAB_001207c7;
               iVar4 = 0;
               LAB_00120918:iVar9 = (int)uVar18 * 2;
               lVar15 = uVar18 * 0x10 + *(long*)( param_2 + 0x18 );
               param_3[8] = *(undefined8*)( lVar15 + 8 );
               lVar20 = 0;
               do {
                  lVar7 = lVar20;
                  iVar9 = iVar9 + 2;
                  param_3[lVar7 + 9] = *(undefined8*)( lVar15 + lVar7 * 0x10 );
                  if (lVar7 + 1 == 4) {
                     uVar5 = 0x800000;
                     goto LAB_00120976;
                  }

                  lVar20 = lVar7 + 1;
               }
 while ( ( (int)uVar11 >> ( (byte)iVar9 & 0x1f ) & 3U ) == 1 );
               uVar5 = 0x100000 << ( (byte)lVar7 & 0x1f );
               LAB_00120976:uVar10 = uVar10 | 0x1000000 | uVar5;
               if (iVar4 == 0xc) {
                  LAB_00120aa0:uVar18 = ( ulong )(local_4c + 2U);
                  uVar5 = (int)uVar11 >> (char)( local_4c + 2U ) * '\x02' & 3;
                  goto LAB_001207c7;
               }

               LAB_00120981:param_3[5] = 0;
               param_3[4] = &ufbxi_empty_char;
            }
 else {
               iVar4 = *(int*)( lVar20 + 8 );
               *(int*)( (long)param_3 + 0x14 ) = iVar4;
               if (iVar4 == 0) goto LAB_001209d7;
               LAB_001207a4:uVar11 = ( uint ) * (ushort*)( param_2 + 0xe );
               uVar5 = (int)( uint ) * (ushort*)( param_2 + 0xe ) >> local_50 & 3;
               if (uVar5 == 1) goto LAB_00120918;
               if (iVar4 == 0xc) goto LAB_00120aa0;
               LAB_001207c7:if (uVar5 != 2) goto LAB_00120981;
               plVar19 = (long*)( uVar18 * 0x10 + *(long*)( param_2 + 0x18 ) );
               uVar5 = *(uint*)( (long)plVar19 + 0xc );
               lVar20 = *plVar19;
               uVar13 = ( ulong ) * (uint*)( plVar19 + 1 );
               if (uVar5 == 0) {
                  param_3[4] = lVar20;
                  param_3[5] = uVar13;
                  if (uVar13 != 0) goto LAB_00120804;
               }
 else {
                  if (uVar5 == 0xffffffff) goto LAB_00120981;
                  param_3[5] = (ulong)uVar5;
                  param_3[4] = lVar20 + 1 + uVar13;
                  LAB_00120804:param_3[6] = lVar20;
                  param_3[7] = uVar13;
               }

               uVar10 = uVar10 | 0x2000000;
            }

            if (*(int*)( param_2 + 8 ) != 0) {
               uVar10 = uVar10 | 0x4000000;
               uVar6 = ufbxi_find_child_isra_0(*(int*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "BinaryData");
               iVar4 = ufbxi_read_embedded_blob(param_1, param_3 + 6, uVar6);
               if (iVar4 == 0) goto LAB_001206e0;
            }

            *(uint*)( param_3 + 3 ) = uVar10;
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_00120b1a;
         }

      }

   }

   LAB_001206e0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar6;
   }

   LAB_00120b1a:/* WARNING: Subroutine does not return */__stack_chk_fail();
   switchD_001206a7_caseD_42:joined_r0x0012089e:if (uVar12 == uVar13) goto switchD_001208e5_caseD_42;
   goto LAB_00120680;
}
undefined8 ufbxi_read_properties(long param_1, long param_2, long *param_3) {
   uint uVar1;
   int iVar2;
   long lVar3;
   long lVar4;
   undefined8 uVar5;
   undefined4 uVar6;
   ulong uVar7;
   undefined8 uVar8;
   uVar8 = 0x46;
   uVar6 = *(undefined4*)( param_2 + 8 );
   param_3[3] = 0;
   uVar5 = *(undefined8*)( param_2 + 0x10 );
   lVar3 = ufbxi_find_child_isra_0(uVar6, uVar5, "Properties70");
   if (lVar3 == 0) {
      uVar8 = 0x3c;
      lVar3 = ufbxi_find_child_isra_0(uVar6, uVar5, "Properties60");
      if (lVar3 == 0) {
         *param_3 = 0;
         param_3[1] = 0;
         return 1;
      }

   }

   lVar4 = ufbxi_push_size_zero(param_1 + 0x1a58, 0x68, *(undefined4*)( lVar3 + 8 ));
   uVar1 = *(uint*)( lVar3 + 8 );
   *param_3 = lVar4;
   param_3[1] = (ulong)uVar1;
   if (lVar4 != 0) {
      uVar7 = 0;
      if ((ulong)uVar1 != 0) {
         do {
            iVar2 = ufbxi_read_property(param_1, uVar7 * 0x20 + *(long*)( lVar3 + 0x10 ), lVar4 + uVar7 * 0x68, uVar8);
            if (iVar2 == 0) goto LAB_00120bd0;
            uVar7 = uVar7 + 1;
            lVar4 = *param_3;
         }
 while ( uVar7 < (ulong)param_3[1] );
      }

      iVar2 = ufbxi_sort_properties(param_1);
      if (iVar2 != 0) {
         ufbxi_deduplicate_properties(param_3);
         return 1;
      }

   }

   LAB_00120bd0:uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar5;
}
undefined8 ufbxi_read_global_settings(long param_1, undefined8 param_2) {
   int iVar1;
   undefined8 uVar2;
   iVar1 = ufbxi_read_properties(param_1, param_2, param_1 + 0x1e08);
   if (iVar1 != 0) {
      return 1;
   }

   uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar2;
}
long ufbxi_read_legacy_props(long param_1, long param_2, undefined8 *param_3, long param_4) {
   undefined8 *puVar1;
   char cVar2;
   char *__s2;
   uint *__s;
   int iVar3;
   size_t sVar4;
   ulong uVar5;
   uint uVar6;
   undefined8 *puVar7;
   long lVar8;
   undefined8 *puVar9;
   puVar1 = param_3 + param_4 * 4;
   lVar8 = 0;
   do {
      __s2 = (char*)param_3[2];
      puVar9 = *(undefined8**)( param_1 + 0x10 );
      cVar2 = *__s2;
      puVar7 = puVar9 + ( ulong ) * (uint*)( param_1 + 8 ) * 4;
      for (; puVar9 != puVar7; puVar9 = puVar9 + 4) {
         if (( cVar2 == *(char*)*puVar9 ) && ( iVar3 = iVar3 == 0 )) {
            puVar7 = (undefined8*)( param_2 + lVar8 * 0x68 );
            iVar3 = ufbxi_read_legacy_prop_isra_0(puVar9, puVar7, param_3[3]);
            if (iVar3 != 0) {
               __s = (uint*)*param_3;
               *puVar7 = __s;
               sVar4 = strlen((char*)__s);
               puVar7[1] = sVar4;
               if (sVar4 < 4) {
                  uVar5 = 0;
                  uVar6 = 0;
                  do {
                     for (; uVar6 = uVar6 << 8,uVar5 < sVar4; uVar5 = uVar5 + 1) {
                        uVar6 = uVar6 | *(byte*)( (long)__s + uVar5 );
                     }

                     uVar5 = uVar5 + 1;
                  }
 while ( uVar5 != 4 );
               }
 else {
                  uVar6 = *__s;
                  uVar6 = uVar6 >> 0x18 | ( uVar6 & 0xff0000 ) >> 8 | ( uVar6 & 0xff00 ) << 8 | uVar6 << 0x18;
               }

               *(undefined4*)( puVar7 + 3 ) = 0;
               lVar8 = lVar8 + 1;
               puVar7[2] = CONCAT44(*(undefined4*)( param_3 + 1 ), uVar6);
            }

            break;
         }

      }

      param_3 = param_3 + 4;
      if (param_3 == puVar1) {
         return lVar8;
      }

   }
 while ( true );
}
undefined8 ufbxi_read_legacy_light(long param_1, undefined8 param_2, undefined8 param_3) {
   long lVar1;
   undefined8 uVar2;
   long lVar3;
   long in_FS_OFFSET;
   undefined1 auStack_308[728];
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar1 = ufbxi_push_element_size(param_1, param_3, 0xe0, 3);
   if (lVar1 != 0) {
      uVar2 = ufbxi_read_legacy_props(param_2, auStack_308, ufbxi_legacy_light_props, 7);
      *(undefined8*)( lVar1 + 0x18 ) = uVar2;
      lVar3 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x68, uVar2, auStack_308);
      *(long*)( lVar1 + 0x10 ) = lVar3;
      if (lVar3 != 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_00120ea7;
      }

   }

   if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   LAB_00120ea7:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_legacy_camera(long param_1, undefined8 param_2, undefined8 param_3) {
   long lVar1;
   undefined8 uVar2;
   long lVar3;
   long in_FS_OFFSET;
   undefined1 auStack_4a8[1144];
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar1 = ufbxi_push_element_size(param_1, param_3, 0x148, 4);
   if (lVar1 != 0) {
      uVar2 = ufbxi_read_legacy_props(param_2, auStack_4a8, ufbxi_legacy_camera_props, 0xb);
      *(undefined8*)( lVar1 + 0x18 ) = uVar2;
      lVar3 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x68, uVar2, auStack_4a8);
      *(long*)( lVar1 + 0x10 ) = lVar3;
      if (lVar3 != 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_00120f87;
      }

   }

   if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   LAB_00120f87:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_legacy_material_constprop_0(long param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4) {
   long lVar1;
   undefined8 uVar2;
   long lVar3;
   long in_FS_OFFSET;
   undefined1 auStack_2a8[632];
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar1 = ufbxi_push_synthetic_element_size(param_1, param_3, param_2, param_4, 0x1158, 0x18);
   if (lVar1 != 0) {
      uVar2 = ufbxi_read_legacy_props(param_2, auStack_2a8, ufbxi_legacy_material_props, 6);
      *(undefined1**)( lVar1 + 0x1128 ) = &ufbxi_empty_char;
      *(undefined8*)( lVar1 + 0x18 ) = uVar2;
      *(undefined8*)( lVar1 + 0x1130 ) = 0;
      lVar3 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x68, uVar2, auStack_2a8);
      *(long*)( lVar1 + 0x10 ) = lVar3;
      if (lVar3 != 0) {
         *(undefined1**)( lVar1 + 0x1138 ) = &ufbxi_empty_char;
         *(undefined8*)( lVar1 + 0x1140 ) = 0;
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0012109f;
      }

   }

   if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   LAB_0012109f:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_fetch_textures_constprop_0(long param_1, long *param_2, long param_3) {
   long lVar1;
   long *plVar2;
   long lVar3;
   undefined8 uVar4;
   long *plVar5;
   long *plVar6;
   long lVar7;
   lVar7 = 0;
   plVar5 = *(long**)( param_3 + 0x60 );
   plVar6 = plVar5 + *(long*)( param_3 + 0x68 ) * 6;
   for (; plVar5 != plVar6; plVar5 = plVar5 + 6) {
      while (( plVar5[3] != 0 || ( *(int*)( *plVar5 + 0x48 ) != 0x19 ) )) {
         plVar5 = plVar5 + 6;
         if (plVar6 == plVar5) goto LAB_00121140;
      }
;
      plVar2 = (long*)ufbxi_push_size(param_1 + 0xab0, 0x28, 1);
      if (plVar2 == (long*)0x0) goto LAB_00121180;
      lVar3 = plVar5[4];
      lVar1 = plVar5[5];
      lVar7 = lVar7 + 1;
      plVar2[4] = *plVar5;
      *plVar2 = lVar3;
      plVar2[1] = lVar1;
      plVar2[2] = lVar3;
      plVar2[3] = lVar1;
   }

   LAB_00121140:lVar3 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 0x28, lVar7);
   param_2[1] = lVar7;
   *param_2 = lVar3;
   if (lVar3 != 0) {
      return 1;
   }

   LAB_00121180:uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar4;
}
undefined8 ufbxi_fetch_mesh_materials_constprop_0(long param_1, long *param_2, long param_3) {
   long *plVar1;
   long lVar2;
   undefined8 uVar3;
   long *plVar4;
   long lVar5;
   long in_FS_OFFSET;
   undefined1 auVar6[16];
   long local_48;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   do {
      auVar6 = ufbxi_find_dst_connections_isra_0(*(undefined8*)( param_3 + 0x60 ), *(undefined8*)( param_3 + 0x68 ), 0);
      plVar4 = auVar6._0_8_;
      plVar1 = plVar4 + auVar6._8_8_ * 6;
      if (plVar4 != plVar1) {
         lVar5 = 0;
         do {
            while (*(int*)( *plVar4 + 0x48 ) != 0x18) {
               plVar4 = plVar4 + 6;
               if (plVar1 == plVar4) goto LAB_00121248;
            }
;
            local_48 = *plVar4;
            lVar2 = ufbxi_push_size_copy(param_1 + 0xab0, 8, 1, &local_48);
            if (lVar2 == 0) goto LAB_001212d8;
            plVar4 = plVar4 + 6;
            lVar5 = lVar5 + 1;
         }
 while ( plVar1 != plVar4 );
         LAB_00121248:if (lVar5 != 0) goto LAB_00121285;
      }

      if (*(int*)( param_3 + 0x48 ) == 1) {
         if (*(char*)( param_3 + 0x445 ) == '\0') break;
         param_3 = *(long*)( param_3 + 0x80 );
      }
 else {
         lVar5 = *(long*)( param_3 + 0x40 );
         if (lVar5 == 0) goto LAB_00121285;
         param_3 = **(long**)( param_3 + 0x38 );
      }

   }
 while ( param_3 != 0 );
   lVar5 = 0;
   LAB_00121285:lVar2 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 8, lVar5);
   *param_2 = lVar2;
   param_2[1] = lVar5;
   if (lVar2 == 0) {
      LAB_001212d8:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar3;
      }

   }
 else if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
long ufbxi_fetch_src_element_constprop_0(long param_1, int param_2) {
   long lVar1;
   long lVar2;
   undefined1 auVar3[16];
   auVar3 = ufbxi_find_src_connections_constprop_0_isra_0(*(undefined8*)( param_1 + 0x50 ), *(undefined8*)( param_1 + 0x58 ));
   lVar1 = auVar3._0_8_;
   lVar2 = auVar3._8_8_ * 0x30 + lVar1;
   while (true) {
      if (lVar1 == lVar2) {
         return 0;
      }

      if (*(int*)( *(long*)( lVar1 + 8 ) + 0x48 ) == param_2) break;
      lVar1 = lVar1 + 0x30;
   }
;
   return *(long*)( lVar1 + 8 );
}
undefined8 ufbxi_fetch_deformers(long param_1, long *param_2, long param_3, char param_4) {
   long *plVar1;
   long lVar2;
   undefined8 uVar3;
   long *plVar4;
   long lVar5;
   lVar5 = 0;
   do {
      plVar4 = *(long**)( param_3 + 0x60 );
      plVar1 = plVar4 + *(long*)( param_3 + 0x68 ) * 6;
      for (; plVar4 != plVar1; plVar4 = plVar4 + 6) {
         if (( ( plVar4[3] == 0 ) && ( *(uint*)( *plVar4 + 0x48 ) < 0x17 ) ) && ( ( 0x4a0000UL >> ( ( ulong ) * (uint*)( *plVar4 + 0x48 ) & 0x3f ) & 1 ) != 0 )) {
            lVar2 = ufbxi_push_size_copy(param_1 + 0xab0, 8, 1, plVar4);
            if (lVar2 == 0) goto LAB_001214a0;
            lVar5 = lVar5 + 1;
         }

      }

      if (param_4 == '\0') break;
      if (*(int*)( param_3 + 0x48 ) == 1) {
         if (*(char*)( param_3 + 0x445 ) == '\0') break;
         param_3 = *(long*)( param_3 + 0x80 );
      }
 else {
         if (*(long*)( param_3 + 0x40 ) == 0) break;
         param_3 = **(long**)( param_3 + 0x38 );
      }

   }
 while ( param_3 != 0 );
   lVar2 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 8, lVar5);
   *param_2 = lVar2;
   param_2[1] = lVar5;
   if (lVar2 != 0) {
      return 1;
   }

   LAB_001214a0:uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar3;
}
long ufbxi_fetch_dst_element(long param_1, char param_2, undefined8 param_3, int param_4) {
   long *plVar1;
   long *plVar2;
   undefined1 auVar3[16];
   do {
      auVar3 = ufbxi_find_dst_connections_isra_0(*(undefined8*)( param_1 + 0x60 ), *(undefined8*)( param_1 + 0x68 ), param_3);
      plVar1 = auVar3._0_8_;
      plVar2 = plVar1 + auVar3._8_8_ * 6;
      for (; plVar1 != plVar2; plVar1 = plVar1 + 6) {
         if (*(int*)( *plVar1 + 0x48 ) == param_4) {
            return *plVar1;
         }

      }

      if (param_2 == '\0') {
         return 0;
      }

      if (*(int*)( param_1 + 0x48 ) == 1) {
         if (*(char*)( param_1 + 0x445 ) == '\0') {
            return 0;
         }

         param_1 = *(long*)( param_1 + 0x80 );
      }
 else {
         if (*(long*)( param_1 + 0x40 ) == 0) {
            return 0;
         }

         param_1 = **(long**)( param_1 + 0x38 );
      }

   }
 while ( param_1 != 0 );
   return 0;
}
double ufbxi_parse_double(byte *param_1, ulong param_2, undefined8 *param_3, uint param_4) {
   byte *pbVar1;
   uint *puVar2;
   long lVar3;
   bool bVar4;
   byte *pbVar5;
   ulong uVar6;
   ulong uVar7;
   double dVar8;
   byte bVar9;
   uint uVar10;
   int iVar11;
   uint uVar12;
   uint uVar13;
   int iVar14;
   ulong *puVar15;
   ulong uVar16;
   uint uVar17;
   int iVar18;
   int iVar19;
   uint uVar20;
   int iVar21;
   byte *pbVar22;
   long in_FS_OFFSET;
   bool bVar23;
   bool bVar24;
   bool bVar25;
   bool local_28d;
   char local_27d;
   uint local_27c;
   ulong *local_278;
   undefined8 local_270;
   ulong *local_268;
   ulong local_260;
   ulong *local_258;
   undefined8 local_250;
   ulong local_248;
   long lStack_240;
   ulong local_198[22];
   ulong local_e8[21];
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   puVar15 = &local_248;
   local_27d = '\0';
   local_268 = local_e8;
   local_270 = _LC177;
   local_260 = _LC177;
   bVar23 = ( *param_1 - 0x2b & 0xfd ) == 0;
   pbVar22 = param_1;
   if (bVar23) {
      pbVar22 = param_1 + 1;
   }

   bVar24 = *param_1 == 0x2d;
   local_28d = bVar23 && bVar24;
   uVar7 = 0;
   uVar6 = 0;
   uVar20 = 0;
   uVar13 = 0;
   bVar4 = true;
   uVar16 = _LC177;
   local_278 = puVar15;
   while (true) {
      while (true) {
         bVar9 = *pbVar22;
         pbVar1 = pbVar22 + 1;
         if (9 < ( byte )(bVar9 - 0x30)) break;
         if (local_270._4_4_ < 0xe) {
            uVar10 = (int)uVar7 + 1;
            uVar7 = (ulong)uVar10;
            uVar6 = (long)( (char)bVar9 + -0x30 ) + uVar6 * 10;
            if (0x11 < uVar10) {
               uVar16 = ufbxi_bigint_mad(&local_278, ( &ufbxi_pow5_tab )[uVar10] << ( (byte)uVar10 & 0x3f ));
               uVar7 = 0;
               uVar6 = 0;
               bVar4 = false;
            }

            uVar13 = uVar13 - uVar20;
            pbVar22 = pbVar1;
         }
 else {
            uVar13 = uVar13 + ( uVar20 ^ 1 );
            pbVar22 = pbVar1;
         }

      }
;
      if (( bVar9 == 0x2e & ( byte )(uVar20 ^ 1) ) == 0) break;
      uVar20 = 1;
      pbVar22 = pbVar1;
   }
;
   if (( bVar9 & 0xdf ) == 0x45) {
      bVar25 = ( *pbVar1 - 0x2b & 0xfd ) == 0;
      pbVar5 = pbVar1;
      if (bVar25) {
         pbVar5 = pbVar22 + 2;
      }

      pbVar22 = pbVar5;
      iVar18 = 0;
      do {
         bVar9 = *pbVar22;
         if (9 < ( byte )(bVar9 - 0x30)) break;
         pbVar22 = pbVar22 + 1;
         iVar18 = (char)bVar9 + -0x30 + iVar18 * 10;
      }
 while ( iVar18 < 10000 );
      if (bVar25 && *pbVar1 == 0x2d) {
         iVar18 = -iVar18;
      }

      uVar13 = uVar13 + iVar18;
   }

   *param_3 = pbVar22;
   if (( ( ulong )((long)pbVar22 - (long)param_1) < param_2 ) || ( ( param_4 & 2 ) == 0 )) {
      if (( param_4 & 1 ) == 0) {
         if (local_270._4_4_ != 0) {
            LAB_001217b0:uVar16 = ufbxi_bigint_mad(&local_278, ( &ufbxi_pow5_tab )[uVar7] << ( (byte)uVar7 & 0x3f ));
            iVar18 = local_270._4_4_;
            goto LAB_001217d6;
         }

         LAB_00121726:if (uVar6 >> 0x20 != 0) goto LAB_0012178e;
         local_270 = (ulong)CONCAT14(uVar6 != 0, (undefined4)local_270);
         local_248 = uVar6;
         if (uVar6 != 0) {
            iVar18 = 1;
            goto LAB_001217d6;
         }

         LAB_00121746:if (!bVar23 || !bVar24) goto LAB_00121a05;
      }
 else {
         if (local_270._4_4_ != 0) goto LAB_001217b0;
         if (0x2c < uVar13 + 0x16) goto LAB_00121726;
         if (uVar6 >> 0x35 == 0) {
            if ((int)uVar13 < 0) {
               dVar8 = (double)(long)uVar6 / *(double*)( ufbxi_pow10_tab_f64 + (long)(int)-uVar13 * 8 );
            }
 else {
               dVar8 = (double)(long)uVar6 * *(double*)( ufbxi_pow10_tab_f64 + (long)(int)uVar13 * 8 );
            }

            if (local_28d) {
               dVar8 = (double)( (ulong)dVar8 ^ (ulong)_LC15 );
            }

            goto LAB_00121a10;
         }

         LAB_0012178e:local_270 = CONCAT44(2, (undefined4)local_270);
         iVar18 = 2;
         local_248 = uVar6;
         LAB_001217d6:param_4 = param_4 & 4;
         local_27c = 0;
         iVar14 = ( -(uint)(param_4 == 0) & 0x380 ) + 0x7f;
         uVar20 = -(uint)(param_4 == 0) & 0x1d;
         iVar21 = uVar20 + 0x18;
         if (-1 < (int)uVar13) {
            if (uVar13 != 0) {
               uVar20 = uVar13;
               if ((int)( ( uVar13 - 9 ) + iVar18 * 9 ) < 0x136) {
                  for (; local_27c = uVar20,0x1b < uVar13; uVar13 = uVar13 - 0x1b) {
                     ufbxi_bigint_mad();
                     uVar20 = local_27c;
                  }

                  ufbxi_bigint_mad();
                  iVar18 = local_270._4_4_;
                  goto LAB_00121822;
               }

               dVar8 = _LC76;
               if (local_28d) goto LAB_00121a10;
               LAB_00121a49:dVar8 = _LC275;
               goto LAB_00121a10;
            }

            LAB_00121822:uVar6 = ufbxi_bigint_extract_high_isra_0(puVar15, iVar18, &local_27c, &local_27d);
            if (local_28d) {
               dVar8 = _LC76;
               if (iVar14 < (int)local_27c) goto LAB_00121a10;
               uVar16 = 1L << ( ( -(param_4 == 0) & 0x20U ) + 0x1f & 0x3f );
            }
 else {
               uVar16 = 0;
               if (iVar14 < (int)local_27c) goto LAB_00121a49;
            }

            uVar13 = 0x40 - iVar21;
            if (-iVar14 < (int)local_27c) {
               LAB_00121871:bVar9 = (char)uVar13 - 1;
               uVar7 = uVar6 >> ( bVar9 & 0x3f );
               if (( ( ( local_27d == '\0' ) && ( ( ~(-1L << (bVar9 & 0x3f)) & uVar6 ) == 0 ) ) && ( ( uVar7 & 2 ) == 0 ) ) || ( ( uVar7 & 1 ) == 0 )) {
                  uVar6 = uVar7 >> 1;
                  goto LAB_001218b3;
               }

               uVar6 = ( uVar7 >> 1 ) + 1;
            }
 else {
               uVar20 = 1 - iVar14;
               uVar13 = uVar13 + ( uVar20 - local_27c );
               local_27c = uVar20;
               if (uVar13 != 0) {
                  if (0x40 < uVar13) goto LAB_00121746;
                  goto LAB_00121871;
               }

               LAB_001218b3:if (uVar6 == 0) goto LAB_00121746;
            }

            dVar8 = (double)( ( (long)(int)( iVar14 + local_27c + -1 ) << ( (char)iVar21 - 1U & 0x3f ) ) + uVar6 | uVar16 );
            if (param_4 != 0) {
               dVar8 = (double)SUB84(dVar8, 0);
            }

            goto LAB_00121a10;
         }

         if (-0x145 < (int)( uVar13 + iVar18 * 10 )) {
            local_258 = local_198;
            uVar10 = -uVar13;
            uVar12 = 0x1b;
            if (uVar10 < 0x1c) {
               uVar12 = uVar10;
            }

            local_198[0] = ( &ufbxi_pow5_tab )[uVar12];
            uVar10 = uVar10 - uVar12;
            local_250._0_4_ = (undefined4)uVar16;
            uVar17 = (uint)local_198[0];
            uVar12 = ( uint )(local_198[0] >> 0x20);
            local_27c = uVar13;
            if (( uVar10 == 0 ) && ( bVar4 )) {
               if ((long)uVar6 < 0) {
                  if (local_198[0] >> 0x20 == 0) {
                     uVar10 = 0x1f;
                     if (uVar17 != 0) {
                        for (; uVar17 >> uVar10 == 0; uVar10 = uVar10 - 1) {}
                     }

                     local_250 = CONCAT44(1, (undefined4)local_250);
                     uVar10 = uVar10 ^ 0x1f;
                     goto LAB_00121b41;
                  }

                  uVar10 = 0x1f;
                  if (uVar12 != 0) {
                     for (; uVar12 >> uVar10 == 0; uVar10 = uVar10 - 1) {}
                  }

                  local_250 = CONCAT44(2, (undefined4)local_250);
                  uVar10 = uVar10 ^ 0x1f;
                  goto LAB_00121b47;
               }

               local_248 = 0;
               lVar3 = 0x3f;
               if (local_198[0] != 0) {
                  for (; local_198[0] >> lVar3 == 0; lVar3 = lVar3 + -1) {}
               }

               uVar20 = (uint)lVar3 ^ 0x3f;
               lVar3 = 0x3f;
               if (uVar6 != 0) {
                  for (; uVar6 >> lVar3 == 0; lVar3 = lVar3 + -1) {}
               }

               iVar18 = ( (uint)lVar3 ^ 0x3f ) - 1;
               local_198[0] = local_198[0] << ( (byte)uVar20 & 0x3f );
               iVar19 = 2;
               lStack_240 = uVar6 << ( (byte)iVar18 & 0x3f );
               local_27c = ( uVar13 - 0x40 ) + ( uVar20 - iVar18 );
               iVar18 = 4;
               local_250 = uVar16;
            }
 else {
               if (local_198[0] >> 0x20 == 0) {
                  local_250 = CONCAT44(1, (undefined4)local_250);
                  if (uVar10 == 0) {
                     uVar10 = 0x1f;
                     if (uVar17 != 0) {
                        for (; uVar17 >> uVar10 == 0; uVar10 = uVar10 - 1) {}
                     }

                     uVar10 = uVar10 ^ 0x1f;
                     goto LAB_00121b41;
                  }

               }
 else {
                  local_250 = CONCAT44(2, (undefined4)local_250);
                  if (uVar10 == 0) {
                     uVar10 = 0x1f;
                     if (uVar12 != 0) {
                        for (; uVar12 >> uVar10 == 0; uVar10 = uVar10 - 1) {}
                     }

                     uVar10 = uVar10 ^ 0x1f;
                     goto LAB_00121b47;
                  }

               }

               for (; 0x1b < uVar10; uVar10 = uVar10 - 0x1b) {
                  ufbxi_bigint_mad();
               }

               ufbxi_bigint_mad();
               puVar2 = (uint*)( (long)local_198 + ( ulong )(local_250._4_4_ - 1) * 4 );
               uVar10 = 0x1f;
               if (*puVar2 != 0) {
                  for (; *puVar2 >> uVar10 == 0; uVar10 = uVar10 - 1) {}
               }

               uVar10 = uVar10 ^ 0x1f;
               if (local_250._4_4_ == 1) {
                  LAB_00121b41:uVar10 = uVar10 + 0x20;
               }

               LAB_00121b47:ufbxi_bigint_shift_left();
               iVar19 = local_250._4_4_;
               puVar2 = (uint*)( (long)&local_248 + ( ulong )(iVar18 - 1) * 4 );
               uVar12 = 0x1f;
               if (*puVar2 != 0) {
                  for (; *puVar2 >> uVar12 == 0; uVar12 = uVar12 - 1) {}
               }

               uVar20 = uVar20 + 0x1a + local_250._4_4_ * 0x20;
               uVar12 = uVar12 ^ 0x1f;
               if (iVar18 * 0x20 - uVar12 < uVar20) {
                  iVar11 = uVar20 + iVar18 * -0x20 + uVar12;
                  if (iVar11 != 0) goto LAB_00121c22;
               }
 else if (( -uVar12 & 0x1f ) == 0) {
                  iVar11 = 1;
                  LAB_00121c22:uVar10 = uVar10 - iVar11;
                  ufbxi_bigint_shift_left(&local_278, iVar11);
                  puVar15 = local_278;
                  iVar18 = local_270._4_4_;
               }

               local_27c = uVar13 + uVar10;
            }

            local_27d = ufbxi_bigint_div_constprop_0_isra_0(&local_268, puVar15, iVar18, local_258, iVar19);
            local_278 = local_268;
            local_270._4_4_ = ( uint )(local_260 >> 0x20);
            puVar15 = local_268;
            iVar18 = local_270._4_4_;
            local_270 = local_260;
            goto LAB_00121822;
         }

         dVar8 = 0.0;
         if (!bVar23 || !bVar24) goto LAB_00121a10;
      }

      dVar8 = _LC15;
   }
 else {
      *param_3 = 0;
      LAB_00121a05:dVar8 = 0.0;
   }

   LAB_00121a10:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return dVar8;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_ascii_next_token(long param_1, long *param_2) {
   char *pcVar1;
   byte bVar2;
   byte bVar3;
   undefined8 uVar4;
   char cVar5;
   byte bVar6;
   char cVar7;
   char cVar8;
   uint uVar9;
   int iVar10;
   undefined8 uVar11;
   char *pcVar12;
   long lVar13;
   undefined4 uVar14;
   char *pcVar15;
   ulong uVar16;
   ulong uVar17;
   long lVar18;
   size_t sVar19;
   undefined1 uVar20;
   char *pcVar21;
   char *pcVar22;
   long in_FS_OFFSET;
   bool bVar23;
   long lVar24;
   char *local_48;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   uVar11 = *(undefined8*)( param_1 + 0x1ba8 );
   uVar4 = *(undefined8*)( param_1 + 0x1bb8 );
   *(undefined8*)( param_1 + 0x1ba0 ) = *(undefined8*)( param_1 + 0x1bc8 );
   *(undefined8*)( param_1 + 0x1ba8 ) = *(undefined8*)( param_1 + 0x1b80 );
   *(undefined8*)( param_1 + 0x1bb8 ) = *(undefined8*)( param_1 + 0x1b90 );
   *(undefined8*)( param_1 + 0x1b80 ) = uVar11;
   *(undefined8*)( param_1 + 0x1b88 ) = *(undefined8*)( param_1 + 0x1bb0 );
   *(undefined8*)( param_1 + 0x1b90 ) = uVar4;
   *(undefined8*)( param_1 + 0x1b98 ) = *(undefined8*)( param_1 + 0x1bc0 );
   uVar9 = ufbxi_ascii_skip_whitespace();
   param_2[1] = 0;
   uVar16 = (ulong)uVar9;
   bVar6 = (byte)uVar9;
   if (( byte )(uVar9 - 0x41) < 0x3a) {
      if (( 0x3ffffff43ffffffU >> ( ( ulong )(uVar9 - 0x41) & 0x3f ) & 1 ) == 0) goto LAB_00122140;
      *(undefined1*)( param_2 + 3 ) = 0x42;
      LAB_00121e01:if ((char)uVar16 < ':') goto LAB_00121e69;
      LAB_00121e07:uVar9 = (int)uVar16 - 0x41;
      if (( (byte)uVar9 < 0x3a ) && ( ( 0x3ffffff43ffffffU >> ( (ulong)uVar9 & 0x3f ) & 1 ) != 0 )) {
         do {
            lVar18 = param_2[1];
            if (lVar18 == param_2[2]) {
               uVar17 = lVar18 + 1;
               if (uVar17 < 0x100) {
                  uVar17 = 0x100;
               }

               cVar5 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar17);
               if (cVar5 != '\0') {
                  lVar18 = param_2[1];
                  goto LAB_00121e24;
               }

               iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               if (iVar10 == 0) goto LAB_0012224e;
            }
 else {
               LAB_00121e24:param_2[1] = lVar18 + 1;
               *(char*)( *param_2 + lVar18 ) = (char)uVar16;
            }

            lVar18 = *(long*)( param_1 + 0x1b50 );
            if (( lVar18 == *(long*)( param_1 + 7000 ) ) || ( *(long*)( param_1 + 0x1b50 ) = lVar18 + 1 * (long*)( param_1 + 7000 ) == lVar18 + 1 )) {
               uVar9 = ufbxi_ascii_yield(param_1);
               uVar16 = (ulong)uVar9;
               goto LAB_00121e01;
            }

            uVar16 = ( ulong ) * (byte*)( lVar18 + 1 );
            if ('9' < (char)*(byte*)( lVar18 + 1 )) goto LAB_00121e07;
            LAB_00121e69:if ((char)uVar16 < '0') break;
         }
 while ( true );
      }

      cVar5 = ufbxi_ascii_skip_whitespace(param_1);
      if (cVar5 == ':') {
         *(undefined1*)( param_2 + 3 ) = 0x4e;
         lVar18 = *(long*)( param_1 + 7000 );
         param_2[4] = param_2[1];
         lVar13 = *(long*)( param_1 + 0x1b50 );
         if (lVar13 != lVar18) {
            LAB_0012215b:*(long*)( param_1 + 0x1b50 ) = lVar13 + 1;
            if (lVar18 != lVar13 + 1) goto LAB_0012216f;
         }

         LAB_00121ea2:ufbxi_ascii_yield(param_1);
      }

   }
 else {
      bVar23 = true;
      if (bVar6 == 0x2d) {
         LAB_00121f0f:*(bool*)( (long)param_2 + 0x19 ) = bVar23;
         *(undefined1*)( param_2 + 3 ) = 0x49;
         LAB_00121f39:bVar6 = (byte)uVar16;
         uVar9 = (int)uVar16 - 0x2b;
         if ((byte)uVar9 < 0x3b) {
            do {
               if (( 0x400000004007fedU >> ( (ulong)uVar9 & 0x3f ) & 1 ) == 0) goto LAB_001221a0;
               uVar9 = (int)uVar16 - 0x2e;
               if (( (byte)uVar9 < 0x38 ) && ( ( 0x80000000800001U >> ( (ulong)uVar9 & 0x3f ) & 1 ) != 0 )) {
                  *(undefined1*)( param_2 + 3 ) = 0x46;
               }

               lVar18 = param_2[1];
               if (lVar18 == param_2[2]) {
                  uVar17 = lVar18 + 1;
                  if (uVar17 < 0x100) {
                     uVar17 = 0x100;
                  }

                  cVar5 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar17);
                  if (cVar5 != '\0') {
                     lVar18 = param_2[1];
                     goto LAB_00121f6d;
                  }

                  iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                  if (iVar10 == 0) goto LAB_0012224e;
               }
 else {
                  LAB_00121f6d:param_2[1] = lVar18 + 1;
                  *(char*)( *param_2 + lVar18 ) = (char)uVar16;
               }

               lVar18 = *(long*)( param_1 + 0x1b50 );
               if (( lVar18 == *(long*)( param_1 + 7000 ) ) || ( *(long*)( param_1 + 0x1b50 ) = lVar18 + 1 * (long*)( param_1 + 7000 ) == lVar18 + 1 )) goto LAB_00122100;
               bVar6 = *(byte*)( lVar18 + 1 );
               uVar16 = (ulong)bVar6;
               uVar9 = bVar6 - 0x2b;
               if (0x3a < (byte)uVar9) break;
            }
 while ( true );
         }

         if (bVar6 == 0x23) {
            if ((char)param_2[3] != 'F') goto LAB_0012220c;
            lVar18 = param_2[1];
            if (lVar18 == param_2[2]) {
               uVar16 = 0x100;
               if (0xff < lVar18 + 1U) {
                  uVar16 = lVar18 + 1U;
               }

               cVar5 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar16);
               if (cVar5 != '\0') {
                  lVar18 = param_2[1];
                  goto LAB_00121fd7;
               }

               iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               if (iVar10 != 0) goto LAB_00121fe6;
               goto LAB_00122841;
            }

            LAB_00121fd7:param_2[1] = lVar18 + 1;
            *(undefined1*)( *param_2 + lVar18 ) = 0x23;
            LAB_00121fe6:lVar18 = *(long*)( param_1 + 0x1b50 );
            if (( lVar18 == *(long*)( param_1 + 7000 ) ) || ( *(long*)( param_1 + 0x1b50 ) = lVar18 + 1 * (long*)( param_1 + 7000 ) == lVar18 + 1 )) {
               bVar6 = ufbxi_ascii_yield(param_1);
            }
 else {
               bVar6 = *(byte*)( lVar18 + 1 );
            }

            bVar2 = bVar6 & 0xdf;
            bVar3 = bVar2;
            while (( byte )(bVar3 + 0xbf) < 0x1a) {
               lVar18 = param_2[1];
               if (lVar18 == param_2[2]) {
                  uVar16 = 0x100;
                  if (0xff < lVar18 + 1U) {
                     uVar16 = lVar18 + 1U;
                  }

                  cVar5 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar16);
                  if (cVar5 != '\0') {
                     lVar18 = param_2[1];
                     goto LAB_00122030;
                  }

                  iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                  if (iVar10 == 0) {
                     LAB_0012224e:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_00122990;
                     goto LAB_00122262;
                  }

               }
 else {
                  LAB_00122030:param_2[1] = lVar18 + 1;
                  *(byte*)( *param_2 + lVar18 ) = bVar6;
               }

               lVar18 = *(long*)( param_1 + 0x1b50 );
               if (( lVar18 == *(long*)( param_1 + 7000 ) ) || ( *(long*)( param_1 + 0x1b50 ) = lVar18 + 1 * (long*)( param_1 + 7000 ) == lVar18 + 1 )) {
                  bVar6 = ufbxi_ascii_yield(param_1);
               }
 else {
                  bVar6 = *(byte*)( lVar18 + 1 );
               }

               bVar3 = bVar6 & 0xdf;
            }
;
            lVar18 = param_2[1];
            if (lVar18 == param_2[2]) {
               uVar16 = 0x100;
               if (0xff < lVar18 + 1U) {
                  uVar16 = lVar18 + 1U;
               }

               cVar5 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar16);
               if (cVar5 != '\0') {
                  lVar18 = param_2[1];
                  goto LAB_0012266d;
               }

               iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               if (iVar10 == 0) {
                  if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_00122262;
                  goto LAB_00122990;
               }

            }
 else {
               LAB_0012266d:param_2[1] = lVar18 + 1;
               *(undefined1*)( *param_2 + lVar18 ) = 0;
            }

            if (bVar2 == 0x49) {
               lVar18 = _LC275;
               if (*(char*)*param_2 == '-') {
                  lVar18 = _LC76;
               }

               param_2[4] = lVar18;
            }
 else {
               param_2[4] = _LC117;
            }

            goto LAB_0012216f;
         }

         LAB_001221a0:lVar18 = param_2[1];
         if (lVar18 == param_2[2]) {
            uVar16 = 0x100;
            if (0xff < lVar18 + 1U) {
               uVar16 = lVar18 + 1U;
            }

            cVar5 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar16);
            if (cVar5 != '\0') {
               lVar18 = param_2[1];
               goto LAB_001221ae;
            }

            iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            if (iVar10 == 0) {
               LAB_00122841:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_00122262;
               goto LAB_00122990;
            }

         }
 else {
            LAB_001221ae:param_2[1] = lVar18 + 1;
            *(undefined1*)( *param_2 + lVar18 ) = 0;
         }

         if ((char)param_2[3] == 'I') {
            pcVar22 = (char*)*param_2;
            uVar17 = ( ulong )(( *pcVar22 - 0x2bU & 0xfd ) == 0);
            lVar18 = 0;
            uVar16 = uVar17;
            do {
               pcVar21 = pcVar22 + uVar16;
               if (9 < ( byte )(*pcVar21 - 0x30U)) {
                  if (uVar17 != uVar16) {
                     local_48 = pcVar22 + uVar16;
                     lVar13 = -lVar18;
                     if (*pcVar22 != '-') {
                        lVar13 = lVar18;
                     }

                     param_2[4] = lVar13;
                     if (local_48 == pcVar22 + param_2[1] + -1) goto LAB_0012216f;
                     goto LAB_0012220c;
                  }

                  break;
               }

               uVar16 = uVar16 + 1;
               lVar18 = (long)( *pcVar21 + -0x30 ) + lVar18 * 10;
            }
 while ( uVar16 != 0x1e );
            param_2[4] = 0;
            LAB_0012220c:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               LAB_00122262:uVar11 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar11;
            }

            goto LAB_00122990;
         }

         if ((char)param_2[3] == 'F') {
            lVar18 = param_2[1];
            lVar13 = *param_2;
            uVar14 = 4;
            if (*(char*)( param_1 + 0x1b6a ) == '\0') {
               uVar14 = *(undefined4*)( param_1 + 0x27c );
            }

            lVar24 = ufbxi_parse_double(lVar13, lVar18, &local_48, uVar14);
            param_2[4] = lVar24;
            if (local_48 != (char*)( lVar13 + -1 + lVar18 )) goto LAB_0012220c;
         }

      }
 else {
         if (0x39 < bVar6) {
            LAB_00122140:*(byte*)( param_2 + 3 ) = bVar6;
            lVar13 = *(long*)( param_1 + 0x1b50 );
            lVar18 = *(long*)( param_1 + 7000 );
            if (lVar13 != lVar18) goto LAB_0012215b;
            goto LAB_00121ea2;
         }

         bVar23 = ( 0xfc00b7ffffffffffU >> ( uVar16 & 0x3f ) & 1 ) != 0;
         if (!bVar23) goto LAB_00121f0f;
         if (bVar6 != 0x22) goto LAB_00122140;
         *(undefined1*)( param_2 + 3 ) = 0x53;
         pcVar21 = *(char**)( param_1 + 7000 );
         pcVar22 = *(char**)( param_1 + 0x1b50 );
         if (pcVar22 == pcVar21) {
            LAB_001226e2:cVar5 = ufbxi_ascii_yield(param_1);
            pcVar12 = *(char**)( param_1 + 0x1b50 );
            pcVar21 = *(char**)( param_1 + 7000 );
            pcVar22 = pcVar12;
            if (cVar5 != '\"') {
               LAB_001223b5:pcVar1 = pcVar22 + 1;
               if (pcVar1 < pcVar21) {
                  sVar19 = (long)pcVar21 - (long)pcVar22;
                  pcVar12 = (char*)memchr(pcVar22, 0x22, sVar19);
                  pcVar15 = pcVar21;
                  if (pcVar12 != (char*)0x0) {
                     sVar19 = (long)pcVar12 - (long)pcVar22;
                     pcVar15 = pcVar12;
                  }

                  pcVar12 = (char*)memchr(pcVar22, 0x26, sVar19);
                  if (pcVar12 == (char*)0x0) {
                     pcVar12 = pcVar15;
                  }

                  if (pcVar12 <= pcVar22) goto LAB_001223c3;
                  lVar18 = param_2[1];
                  sVar19 = (long)pcVar12 - (long)pcVar22;
                  uVar16 = sVar19 + lVar18;
                  if (uVar16 < (ulong)param_2[2]) {
                     LAB_0012237a:memcpy((void*)( lVar18 + *param_2 ), pcVar22, sVar19);
                     param_2[1] = param_2[1] + sVar19;
                  }
 else {
                     uVar17 = 0x100;
                     if (0xff < uVar16) {
                        uVar17 = uVar16;
                     }

                     cVar5 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar17);
                     if (cVar5 != '\0') {
                        lVar18 = param_2[1];
                        goto LAB_0012237a;
                     }

                     iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                     if (iVar10 == 0) goto LAB_00122841;
                  }

                  pcVar21 = *(char**)( param_1 + 7000 );
                  *(char**)( param_1 + 0x1b50 ) = pcVar12;
                  if (pcVar12 == pcVar21) goto LAB_0012250f;
                  cVar5 = *pcVar12;
                  goto LAB_001223ab;
               }

               LAB_001223c3:if (cVar5 != '&') {
                  if (cVar5 != '\0') {
                     lVar18 = param_2[1];
                     if (lVar18 == param_2[2]) {
                        uVar16 = 0x100;
                        if (0xff < lVar18 + 1U) {
                           uVar16 = lVar18 + 1U;
                        }

                        cVar7 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar16);
                        if (cVar7 != '\0') {
                           lVar18 = param_2[1];
                           goto LAB_001223e4;
                        }

                        iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                        if (iVar10 == 0) goto LAB_0012224e;
                     }
 else {
                        LAB_001223e4:param_2[1] = lVar18 + 1;
                        *(char*)( *param_2 + lVar18 ) = cVar5;
                     }

                     pcVar22 = *(char**)( param_1 + 0x1b50 );
                     pcVar21 = *(char**)( param_1 + 7000 );
                     if (pcVar22 != pcVar21) {
                        pcVar12 = pcVar22 + 1;
                        *(char**)( param_1 + 0x1b50 ) = pcVar12;
                        if (pcVar21 != pcVar12) {
                           cVar5 = pcVar22[1];
                           goto LAB_001223ab;
                        }

                     }

                     LAB_0012250f:cVar5 = ufbxi_ascii_yield(param_1);
                     pcVar12 = *(char**)( param_1 + 0x1b50 );
                     pcVar21 = *(char**)( param_1 + 7000 );
                     goto LAB_001223ab;
                  }

                  goto LAB_0012220c;
               }

               if (( pcVar22 == pcVar21 ) || ( *(char**)( param_1 + 0x1b50 ) = pcVar1 == pcVar21 )) {
                  cVar5 = ufbxi_ascii_yield(param_1);
               }
 else {
                  cVar5 = pcVar22[1];
               }

               if (cVar5 == 'l') {
                  cVar7 = 'l';
                  uVar20 = 10;
                  pcVar22 = "&lf;";
                  LAB_001224b7:lVar18 = 1;
                  do {
                     if (cVar7 != cVar5) {
                        pcVar21 = pcVar22 + lVar18;
                        if (lVar18 != 0) goto LAB_0012273d;
                        goto LAB_0012260f;
                     }

                     lVar13 = *(long*)( param_1 + 0x1b50 );
                     if (( lVar13 == *(long*)( param_1 + 7000 ) ) || ( *(long*)( param_1 + 0x1b50 ) = lVar13 + 1 * (long*)( param_1 + 7000 ) == lVar13 + 1 )) {
                        cVar5 = ufbxi_ascii_yield(param_1);
                     }
 else {
                        cVar5 = *(char*)( lVar13 + 1 );
                     }

                     lVar18 = lVar18 + 1;
                     cVar7 = pcVar22[lVar18];
                  }
 while ( cVar7 != '\0' );
               }
 else {
                  if (cVar5 == 'q') {
                     cVar7 = 'q';
                     uVar20 = 0x22;
                     pcVar22 = "&quot;";
                     goto LAB_001224b7;
                  }

                  uVar20 = 0x26;
                  if (cVar5 == 'c') {
                     cVar7 = 'c';
                     uVar20 = 0xd;
                     pcVar22 = "&cr;";
                     goto LAB_001224b7;
                  }

               }

               lVar18 = param_2[1];
               if (lVar18 != param_2[2]) {
                  LAB_00122600:param_2[1] = lVar18 + 1;
                  *(undefined1*)( *param_2 + lVar18 ) = uVar20;
                  goto LAB_0012260f;
               }

               uVar16 = 0x100;
               if (0xff < lVar18 + 1U) {
                  uVar16 = lVar18 + 1U;
               }

               cVar7 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar16);
               if (cVar7 != '\0') {
                  lVar18 = param_2[1];
                  goto LAB_00122600;
               }

               iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               if (iVar10 == 0) goto LAB_00122841;
               LAB_0012260f:pcVar12 = *(char**)( param_1 + 0x1b50 );
               pcVar21 = *(char**)( param_1 + 7000 );
               LAB_001223ab:pcVar22 = pcVar12;
               if (cVar5 == '\"') goto LAB_00122708;
               goto LAB_001223b5;
            }

            LAB_00122708:if (pcVar12 == pcVar21) goto LAB_00121ea2;
         }
 else {
            pcVar12 = pcVar22 + 1;
            *(char**)( param_1 + 0x1b50 ) = pcVar12;
            if (pcVar21 == pcVar12) goto LAB_001226e2;
            cVar5 = pcVar22[1];
            pcVar22 = pcVar12;
            if (cVar5 != '\"') goto LAB_001223b5;
         }

         *(char**)( param_1 + 0x1b50 ) = pcVar12 + 1;
         if (pcVar21 == pcVar12 + 1) goto LAB_00121ea2;
      }

   }

   LAB_0012216f:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   LAB_00122990:/* WARNING: Subroutine does not return */__stack_chk_fail();
   LAB_0012273d:do {
      cVar7 = *pcVar22;
      lVar18 = param_2[1];
      if (lVar18 == param_2[2]) {
         uVar16 = 0x100;
         if (0xff < lVar18 + 1U) {
            uVar16 = lVar18 + 1U;
         }

         cVar8 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_2, param_2 + 2, uVar16);
         if (cVar8 != '\0') {
            lVar18 = param_2[1];
            goto LAB_0012274f;
         }

         iVar10 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         if (iVar10 == 0) goto LAB_00122841;
      }
 else {
         LAB_0012274f:param_2[1] = lVar18 + 1;
         *(char*)( *param_2 + lVar18 ) = cVar7;
      }

      pcVar22 = pcVar22 + 1;
   }
 while ( pcVar22 != pcVar21 );
   goto LAB_0012260f;
   LAB_00122100:uVar9 = ufbxi_ascii_yield(param_1);
   uVar16 = (ulong)uVar9;
   goto LAB_00121f39;
}
undefined8 ufbxi_begin_parse(long param_1) {
   undefined4 uVar1;
   int iVar2;
   long *plVar3;
   undefined8 uVar4;
   undefined4 *puVar5;
   long lVar6;
   undefined8 *puVar7;
   bool bVar8;
   byte bVar9;
   bVar9 = 0;
   if (*(ulong*)( param_1 + 0x528 ) < 0x1b) {
      plVar3 = (long*)ufbxi_yield(param_1, 0x1b);
   }
 else {
      plVar3 = *(long**)( param_1 + 0x520 );
   }

   if (plVar3 != (long*)0x0) {
      if (( *plVar3 == 0x206172616479614b && plVar3[1] == 0x616e694220584246 ) && ( *(long*)( (long)plVar3 + 0xe ) == 0x1a0020207972616e )) {
         puVar5 = (undefined4*)( (long)plVar3 + 0x17 );
         bVar8 = *(char*)( (long)plVar3 + 0x16 ) != '\0';
         *(bool*)( param_1 + 0x276 ) = bVar8;
         if (( !bVar8 ) || ( puVar5 = (undefined4*)ufbxi_swap_endian(param_1, puVar5, 1, 4) ),puVar5 != (undefined4*)0x0) {
            uVar1 = *puVar5;
            *(long*)( param_1 + 0x528 ) = *(long*)( param_1 + 0x528 ) + -0x1b;
            *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 0x1b;
            *(undefined4*)( param_1 + 0x268 ) = uVar1;
            *(undefined1*)( param_1 + 0x277 ) = 1;
            return 1;
         }

      }
 else {
         *(undefined1*)( param_1 + 0x274 ) = 1;
         puVar7 = (undefined8*)( param_1 + 0x1b48 );
         for (lVar6 = 0x11; lVar6 != 0; lVar6 = lVar6 + -1) {
            *puVar7 = 0;
            puVar7 = puVar7 + (ulong)bVar9 * -2 + 1;
         }

         lVar6 = *(long*)( param_1 + 0x520 );
         *(long*)( param_1 + 0x1b60 ) = lVar6 + *(long*)( param_1 + 0x528 ) + *(long*)( param_1 + 0x530 );
         *(long*)( param_1 + 0x1b50 ) = lVar6;
         *(long*)( param_1 + 7000 ) = lVar6 + *(long*)( param_1 + 0x528 );
         iVar2 = ufbxi_ascii_next_token(param_1, param_1 + 0x1ba8);
         if (iVar2 != 0) {
            if (*(int*)( param_1 + 0x268 ) == 0) {
               if (*(char*)( param_1 + 0x35d ) != '\0') {
                  uVar4 = ufbxi_fail_imp_constprop_0(param_1, "$Not an FBX file");
                  return uVar4;
               }

               *(undefined4*)( param_1 + 0x268 ) = 0x1ce8;
            }
 else {
               *(undefined1*)( param_1 + 0x277 ) = 1;
            }

            return 1;
         }

      }

   }

   uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar4;
}
undefined8 ufbxi_ascii_read_int_array_constprop_0(long param_1, char param_2, long *param_3) {
   byte *pbVar1;
   byte *pbVar2;
   long lVar3;
   uint uVar4;
   int iVar5;
   long lVar6;
   long *plVar7;
   undefined8 uVar8;
   undefined4 *puVar9;
   ulong uVar10;
   long lVar11;
   byte *pbVar12;
   ulong uVar13;
   byte *pbVar14;
   if (*(char*)( param_1 + 0x1b6a ) != '\0') {
      return 1;
   }

   if (*(char*)( param_1 + 0x1bc0 ) == 'I') {
      pbVar12 = *(byte**)( param_1 + 0x1b50 );
      lVar6 = 0;
      pbVar2 = *(byte**)( param_1 + 7000 );
      lVar3 = *(long*)( param_1 + 0xad8 );
      lVar11 = *(long*)( param_1 + 0x1bc8 );
      pbVar14 = pbVar12;
      if (pbVar12 != pbVar2) {
         do {
            uVar4 = *pbVar14 - 1;
            if (uVar4 < 0x20) {
               if (( 0x80001300U >> ( uVar4 & 0x1f ) & 1 ) == 0) break;
               pbVar14 = pbVar14 + 1;
            }
 else {
               if (*pbVar14 != 0x2c) break;
               do {
                  pbVar12 = pbVar14 + 1;
                  if (pbVar2 == pbVar12) {
                     if (param_2 == 'i') goto LAB_00122da0;
                     if (param_2 == 'l') goto LAB_00122c60;
                     goto LAB_00122bd3;
                  }

               }
 while ( ( *pbVar12 - 1 < 0x20 ) && ( pbVar14 = pbVar12(0x80001300U >> ( *pbVar12 - 1 & 0x1f ) & 1) != 0 ) );
               if (param_2 == 'i') {
                  LAB_00122da0:lVar6 = *(long*)( param_1 + 0xac8 );
                  *(long*)( param_1 + 0xad8 ) = *(long*)( param_1 + 0xad8 ) + 1;
                  if (( ulong )(*(long*)( param_1 + 0xad0 ) - lVar6) < 4) {
                     puVar9 = (undefined4*)ufbxi_push_size_new_block(param_1 + 0xab0);
                     if (puVar9 == (undefined4*)0x0) goto LAB_00122d7a;
                     *puVar9 = (int)lVar11;
                  }
 else {
                     *(long*)( param_1 + 0xac8 ) = lVar6 + 4;
                     *(int*)( *(long*)( param_1 + 0xab8 ) + 0x40 + lVar6 ) = (int)lVar11;
                  }

               }
 else if (param_2 == 'l') {
                  LAB_00122c60:lVar6 = *(long*)( param_1 + 0xac8 );
                  *(long*)( param_1 + 0xad8 ) = *(long*)( param_1 + 0xad8 ) + 1;
                  if (( ulong )(*(long*)( param_1 + 0xad0 ) - lVar6) < 8) {
                     plVar7 = (long*)ufbxi_push_size_new_block(param_1 + 0xab0);
                     if (plVar7 == (long*)0x0) goto LAB_00122d7a;
                  }
 else {
                     *(long*)( param_1 + 0xac8 ) = lVar6 + 8;
                     plVar7 = (long*)( *(long*)( param_1 + 0xab8 ) + 0x40 + lVar6 );
                  }

                  *plVar7 = lVar11;
               }

               if (( ulong )((long)pbVar2 - (long)pbVar12) < 0x20) break;
               uVar13 = ( ulong )(( *pbVar12 - 0x2b & 0xfd ) == 0);
               lVar6 = 0;
               uVar10 = uVar13;
               while (true) {
                  pbVar1 = pbVar12 + uVar10;
                  pbVar14 = pbVar12 + uVar10;
                  if (9 < ( byte )(*pbVar1 - 0x30)) break;
                  uVar10 = uVar10 + 1;
                  lVar6 = (long)( (char)*pbVar1 + -0x30 ) + lVar6 * 10;
                  if (uVar10 == 0x1e) goto LAB_00122bd3;
               }
;
               if (uVar13 == uVar10) break;
               lVar11 = -lVar6;
               if (*pbVar12 != 0x2d) {
                  lVar11 = lVar6;
               }

            }

         }
 while ( pbVar2 != pbVar14 );
         LAB_00122bd3:if (*(byte**)( param_1 + 0x1b50 ) != pbVar12) {
            *(byte**)( param_1 + 0x1b50 ) = pbVar12;
            iVar5 = ufbxi_ascii_next_token(param_1, param_1 + 0x1ba8);
            if (iVar5 == 0) {
               LAB_00122d7a:uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

         }

         lVar6 = *(long*)( param_1 + 0xad8 ) - lVar3;
      }

      *param_3 = lVar6;
   }

   return 1;
}
byte *ufbxi_ascii_array_task_parse_floats(long *param_1, byte *param_2, byte *param_3, undefined4 param_4) {
   byte bVar1;
   uint uVar2;
   byte *pbVar3;
   ulong uVar4;
   double *pdVar5;
   long in_FS_OFFSET;
   double dVar6;
   float *local_50;
   byte *local_48;
   long local_40;
   uVar4 = param_1[5];
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if ((char)param_1[1] == 'f') {
      pdVar5 = (double*)0x0;
      local_50 = (float*)( *param_1 + uVar4 * 4 );
   }
 else if ((char)param_1[1] == 'd') {
      local_50 = (float*)0x0;
      pdVar5 = (double*)( *param_1 + uVar4 * 8 );
   }
 else {
      local_50 = (float*)0x0;
      pdVar5 = (double*)0x0;
   }

   if (param_2 != param_3) {
      do {
         bVar1 = *param_2;
         pbVar3 = param_2;
         while (( bVar1 - 1 < 0x20 && ( ( 0x80001300U >> ( bVar1 - 1 & 0x1f ) & 1 ) != 0 ) )) {
            bVar1 = pbVar3[1];
            pbVar3 = pbVar3 + 1;
         }
;
         dVar6 = (double)ufbxi_parse_double(pbVar3, (long)param_3 - (long)pbVar3, &local_48, param_4);
         pbVar3 = local_48;
         if (local_48 == (byte*)0x0) goto LAB_00122eed;
         while (true) {
            uVar2 = *pbVar3 - 1;
            if (0x1f < uVar2) break;
            if (( 0x80001300U >> ( uVar2 & 0x1f ) & 1 ) == 0) goto LAB_00122ee9;
            pbVar3 = pbVar3 + 1;
         }
;
         if (*pbVar3 != 0x2c) break;
         param_2 = pbVar3 + 1;
         if ((ulong)param_1[2] <= uVar4) {
            param_2 = (byte*)0x0;
            goto LAB_00122eed;
         }

         if (pdVar5 == (double*)0x0) {
            *local_50 = (float)dVar6;
            local_50 = local_50 + 1;
         }
 else {
            *pdVar5 = dVar6;
            pdVar5 = pdVar5 + 1;
         }

         uVar4 = uVar4 + 1;
      }
 while ( param_3 != param_2 );
   }

   LAB_00122ee9:param_1[5] = uVar4;
   LAB_00122eed:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return param_2;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
void ufbxi_ascii_array_task_parse(long param_1) {
   if (( *(byte*)( param_1 + 8 ) & 0xfd ) == 100) {
      ufbxi_parse_double_init_flags();
      ufbxi_ascii_array_task_parse_floats();
      return;
   }

   ufbxi_ascii_array_task_parse_ints();
   return;
}
undefined8 ufbxi_ascii_array_task_imp(long param_1) {
   byte bVar1;
   bool bVar2;
   byte *pbVar3;
   byte *pbVar4;
   undefined8 uVar5;
   uint uVar6;
   uint uVar7;
   undefined8 *puVar8;
   undefined8 *puVar9;
   ulong uVar10;
   byte *pbVar11;
   long in_FS_OFFSET;
   byte local_c8[136];
   long local_40;
   puVar9 = *(undefined8**)( param_1 + 0x18 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   puVar8 = puVar9 + *(long*)( param_1 + 0x20 ) * 2;
   if (puVar9 != puVar8) {
      uVar7 = 1;
      bVar2 = false;
      uVar10 = 0;
      do {
         pbVar4 = (byte*)*puVar9;
         pbVar11 = pbVar4 + puVar9[1];
         if (pbVar4 != pbVar11) {
            LAB_00123056:if (pbVar11 != pbVar4) goto LAB_0012309d;
            if (uVar7 == 3) {
               if (bVar2) {
                  LAB_0012313e:pbVar3 = (byte*)ufbxi_ascii_array_task_parse(param_1, local_c8, local_c8 + uVar10);
                  if (( pbVar3 != local_c8 ) && ( pbVar3 != (byte*)0x0 )) {
                     LAB_001231ba:if (pbVar4 != pbVar11) {
                        uVar10 = 0;
                        bVar2 = false;
                        uVar7 = 3;
                        pbVar3 = pbVar11;
                        if (pbVar4 < pbVar11) {
                           do {
                              if (pbVar3[-1] == 0x2c) {
                                 uVar10 = 0;
                                 bVar2 = false;
                                 uVar7 = 3;
                                 if (pbVar4 < pbVar3) {
                                    pbVar4 = (byte*)ufbxi_ascii_array_task_parse(param_1, pbVar4);
                                    if (pbVar4 == (byte*)0x0) goto LAB_00123180;
                                    goto LAB_001230bb;
                                 }

                                 break;
                              }

                              pbVar3 = pbVar3 + -1;
                              uVar10 = 0;
                              bVar2 = false;
                              uVar7 = 3;
                           }
 while ( pbVar4 != pbVar3 );
                        }

                        LAB_0012309d:do {
                           bVar1 = *pbVar4;
                           if (uVar7 == 0) {
                              if (( 0x7e < uVar10 ) || ( bVar1 == 0x22 )) goto LAB_00123180;
                              if (bVar1 == 0x3b) {
                                 LAB_00123089:local_c8[uVar10] = 0x20;
                                 uVar7 = 1;
                                 uVar10 = uVar10 + 1;
                              }
 else {
                                 uVar6 = bVar1 - 1;
                                 if (uVar6 < 0x20) {
                                    if (( 0x80001300U >> ( uVar6 & 0x1f ) & 1 ) != 0) goto LAB_00123089;
                                 }
 else if (( bVar1 == 0x2c ) || ( bVar1 == 0x7d )) goto LAB_001231ab;
                                 local_c8[uVar10] = bVar1;
                                 pbVar4 = pbVar4 + 1;
                                 uVar10 = uVar10 + 1;
                                 bVar2 = true;
                              }

                           }
 else if (uVar7 == 1) {
                              uVar7 = 2;
                              if (bVar1 != 0x3b) {
                                 uVar6 = bVar1 - 1;
                                 uVar7 = 0;
                                 if (uVar6 < 0x20) {
                                    uVar7 = 0x80001300U >> ( (byte)uVar6 & 0x1f ) & 1;
                                    pbVar4 = pbVar4 + ( uVar7 != 0 );
                                 }

                              }

                           }
 else if (uVar7 == 2) {
                              if (bVar1 == 10) {
                                 uVar7 = 1;
                              }
 else {
                                 pbVar4 = pbVar4 + 1;
                              }

                           }
 else if (uVar7 == 3) {
                              uVar7 = 1;
                           }

                           if (pbVar11 == pbVar4) goto LAB_001230bb;
                        }
 while ( true );
                     }

                     goto LAB_0012325e;
                  }

                  LAB_00123180:uVar5 = 0;
                  goto LAB_00123182;
               }

               LAB_0012325e:uVar7 = 3;
               bVar2 = false;
               uVar10 = 0;
            }

         }

         LAB_00123269:puVar9 = puVar9 + 2;
      }
 while ( puVar8 != puVar9 );
   }

   uVar5 = CONCAT71(( int7 )(( ulong ) * (long*)( param_1 + 0x10 ) >> 8), *(long*)( param_1 + 0x28 ) == *(long*)( param_1 + 0x10 ));
   LAB_00123182:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return uVar5;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
   LAB_001231ab:local_c8[uVar10] = 0x2c;
   pbVar4 = pbVar4 + 1;
   if (bVar2) goto LAB_0012313a;
   goto LAB_001231ba;
   LAB_0012313a:uVar10 = uVar10 + 1;
   goto LAB_0012313e;
   LAB_001230bb:if (pbVar4 == pbVar11) goto LAB_00123269;
   goto LAB_00123056;
}
void ufbxi_ascii_array_task_fn(undefined8 *param_1) {
   char cVar1;
   cVar1 = ufbxi_ascii_array_task_imp(*param_1);
   if (cVar1 != '\0') {
      return;
   }

   param_1[1] = "Threaded ASCII parse error";
   return;
}
undefined8 ufbxi_ascii_read_float_array_constprop_0(long param_1, char param_2, long *param_3) {
   uint uVar1;
   long lVar2;
   byte *pbVar3;
   int iVar4;
   byte *pbVar5;
   double *pdVar6;
   undefined8 uVar7;
   float *pfVar8;
   uint uVar9;
   long lVar10;
   byte *pbVar11;
   long in_FS_OFFSET;
   double dVar12;
   undefined8 extraout_XMM0_Qb;
   byte *local_48;
   long local_40;
   undefined1 auVar13[16];
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (*(char*)( param_1 + 0x1b6a ) == '\0') {
      if (*(char*)( param_1 + 0x1bc0 ) == 'F') {
         dVar12 = *(double*)( param_1 + 0x1bc8 );
      }
 else {
         if (*(char*)( param_1 + 0x1bc0 ) != 'I') goto LAB_00123441;
         dVar12 = _LC0;
         if (( *(long*)( param_1 + 0x1bc8 ) == 0 ) && ( dVar12 = _LC17 * (char*)( param_1 + 0x1bc1 ) == '\0' )) {
            dVar12 = _LC0;
         }

         dVar12 = (double)*(long*)( param_1 + 0x1bc8 ) * dVar12;
      }

      auVar13._8_8_ = 0;
      auVar13._0_8_ = dVar12;
      lVar2 = *(long*)( param_1 + 0xad8 );
      pbVar5 = *(byte**)( param_1 + 0x1b50 );
      uVar1 = *(uint*)( param_1 + 0x27c );
      pbVar3 = *(byte**)( param_1 + 7000 );
      lVar10 = lVar2;
      pbVar11 = pbVar5;
      if (pbVar5 != pbVar3) {
         do {
            uVar9 = *pbVar5 - 1;
            if (uVar9 < 0x20) {
               if (( 0x80001300U >> ( uVar9 & 0x1f ) & 1 ) == 0) break;
               pbVar5 = pbVar5 + 1;
            }
 else {
               if (*pbVar5 != 0x2c) break;
               do {
                  pbVar11 = pbVar5 + 1;
                  if (pbVar3 == pbVar11) {
                     if (param_2 == 'd') goto LAB_001234c0;
                     if (param_2 == 'f') goto LAB_00123500;
                     goto LAB_00123400;
                  }

               }
 while ( ( *pbVar11 - 1 < 0x20 ) && ( pbVar5 = pbVar11(0x80001300U >> ( *pbVar11 - 1 & 0x1f ) & 1) != 0 ) );
               if (param_2 == 'd') {
                  LAB_001234c0:lVar10 = *(long*)( param_1 + 0xac8 );
                  *(long*)( param_1 + 0xad8 ) = *(long*)( param_1 + 0xad8 ) + 1;
                  if (( ulong )(*(long*)( param_1 + 0xad0 ) - lVar10) < 8) {
                     pdVar6 = (double*)ufbxi_push_size_new_block(param_1 + 0xab0, 8);
                     if (pdVar6 == (double*)0x0) goto LAB_00123572;
                  }
 else {
                     *(long*)( param_1 + 0xac8 ) = lVar10 + 8;
                     pdVar6 = (double*)( *(long*)( param_1 + 0xab8 ) + 0x40 + lVar10 );
                  }

                  *pdVar6 = auVar13._0_8_;
               }
 else if (param_2 == 'f') {
                  LAB_00123500:lVar10 = *(long*)( param_1 + 0xac8 );
                  *(long*)( param_1 + 0xad8 ) = *(long*)( param_1 + 0xad8 ) + 1;
                  if (( ulong )(*(long*)( param_1 + 0xad0 ) - lVar10) < 4) {
                     pfVar8 = (float*)ufbxi_push_size_new_block(param_1 + 0xab0, 4);
                     if (pfVar8 == (float*)0x0) goto LAB_00123572;
                  }
 else {
                     *(long*)( param_1 + 0xac8 ) = lVar10 + 4;
                     pfVar8 = (float*)( *(long*)( param_1 + 0xab8 ) + 0x40 + lVar10 );
                  }

                  *pfVar8 = (float)auVar13._0_8_;
               }

               if (( ulong )((long)pbVar3 - (long)pbVar11) < 0x40) break;
               auVar13._0_8_ = ufbxi_parse_double(pbVar11, ( (long)pbVar3 - (long)pbVar11 ) - 2, &local_48, uVar1 | 2);
               auVar13._8_8_ = extraout_XMM0_Qb;
               if (( local_48 == pbVar11 ) || ( pbVar5 = local_48 ),local_48 == (byte*)0x0) break;
            }

         }
 while ( pbVar3 != pbVar5 );
         LAB_00123400:if (pbVar11 != *(byte**)( param_1 + 0x1b50 )) {
            *(byte**)( param_1 + 0x1b50 ) = pbVar11;
            iVar4 = ufbxi_ascii_next_token(param_1, param_1 + 0x1ba8);
            if (iVar4 == 0) {
               LAB_00123572:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                  uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                  return uVar7;
               }

               goto LAB_001235c8;
            }

         }

         lVar10 = *(long*)( param_1 + 0xad8 );
      }

      *param_3 = lVar10 - lVar2;
   }

   LAB_00123441:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   LAB_001235c8:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
void ufbxi_update_scene_settings_obj(long param_1) {
   uint uVar1;
   undefined8 uVar2;
   uVar1 = *(uint*)( param_1 + 0x4e0 );
   *(undefined8*)( param_1 + 0x1e38 ) = *(undefined8*)( param_1 + 0x4d0 );
   *(undefined8*)( param_1 + 0x1e80 ) = *(undefined8*)( param_1 + 0x4d0 );
   uVar2 = _LC182;
   if (( ( ( *(uint*)( param_1 + 0x4d8 ) < 6 ) && ( *(uint*)( param_1 + 0x4dc ) < 6 ) ) && ( uVar1 < 6 ) ) && ( ( 1 << ( ( byte )(*(uint*)( param_1 + 0x4dc ) >> 1) & 0x1f ) | 1 << ( *(uint*)( param_1 + 0x4d8 ) >> 1 & 0x1f ) | 1 << ( uVar1 >> 1 & 0x1f ) ) == 7 )) {
      *(uint*)( param_1 + 0x1e30 ) = uVar1;
      *(undefined8*)( param_1 + 0x1e28 ) = *(undefined8*)( param_1 + 0x4d8 );
      return;
   }

   *(undefined4*)( param_1 + 0x1e30 ) = 6;
   *(undefined8*)( param_1 + 0x1e28 ) = uVar2;
   return;
}
undefined8 ufbxi_read_legacy_limb_node(long param_1, long param_2, undefined8 param_3) {
   int iVar1;
   long lVar2;
   long lVar3;
   undefined8 uVar4;
   undefined8 *puVar5;
   undefined8 *puVar6;
   long in_FS_OFFSET;
   undefined1 auStack_98[104];
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar2 = ufbxi_push_element_size(param_1, param_3, 0x98, 5);
   if (lVar2 != 0) {
      puVar5 = *(undefined8**)( param_2 + 0x10 );
      puVar6 = puVar5 + ( ulong ) * (uint*)( param_2 + 8 ) * 4;
      for (; puVar5 != puVar6; puVar5 = puVar5 + 4) {
         if (( *(char*)*puVar5 == 'P' ) && ( iVar1 = iVar1 == 0 )) {
            uVar4 = ufbxi_read_legacy_props(puVar5, auStack_98, ufbxi_legacy_bone_props, 1);
            goto LAB_001236e2;
         }

      }

      uVar4 = 0;
      LAB_001236e2:*(undefined8*)( lVar2 + 0x18 ) = uVar4;
      lVar3 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x68, uVar4, auStack_98);
      *(long*)( lVar2 + 0x10 ) = lVar3;
      if (lVar3 != 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0012377b;
      }

   }

   if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar4 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar4;
   }

   LAB_0012377b:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_fetch_src_elements_constprop_0(long param_1, long *param_2, long param_3) {
   undefined8 *puVar1;
   long *plVar2;
   int iVar3;
   ulong uVar4;
   char *pcVar5;
   undefined8 *puVar6;
   long *plVar7;
   undefined8 uVar8;
   long lVar9;
   long lVar10;
   long lVar11;
   undefined1 auVar12[16];
   auVar12 = ufbxi_find_src_connections_constprop_0_isra_0(*(undefined8*)( param_3 + 0x50 ), *(undefined8*)( param_3 + 0x58 ));
   lVar9 = auVar12._0_8_;
   lVar11 = auVar12._8_8_ * 0x30 + lVar9;
   if (lVar9 == lVar11) {
      lVar9 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 8, 0);
      param_2[1] = 0;
      *param_2 = lVar9;
      if (lVar9 == 0) goto LAB_001238a7;
   }
 else {
      lVar10 = 0;
      LAB_001237c9:do {
         if (*(int*)( *(long*)( lVar9 + 8 ) + 0x48 ) == 1) {
            uVar4 = ( ulong ) * (uint*)( *(long*)( lVar9 + 8 ) + 0x30 );
            pcVar5 = (char*)( uVar4 + *(long*)( param_1 + 0x1b30 ) );
            if (*pcVar5 == '\0') {
               *pcVar5 = '\x01';
               puVar6 = (undefined8*)ufbxi_push_size(param_1 + 0xab0, 8, 1);
               if (puVar6 == (undefined8*)0x0) goto LAB_001238a7;
               puVar1 = (undefined8*)( lVar9 + 8 );
               lVar9 = lVar9 + 0x30;
               lVar10 = lVar10 + 1;
               *puVar6 = *puVar1;
               if (lVar11 == lVar9) break;
               goto LAB_001237c9;
            }

            iVar3 = ufbxi_warnf_imp(param_1 + 0x2808, 4, uVar4, "Duplicate connection to %u", *(undefined4*)( param_3 + 0x30 ));
            if (iVar3 == 0) goto LAB_001238a7;
         }

         lVar9 = lVar9 + 0x30;
      }
 while ( lVar11 != lVar9 );
      plVar7 = (long*)ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 8, lVar10);
      param_2[1] = lVar10;
      *param_2 = (long)plVar7;
      if (plVar7 == (long*)0x0) {
         LAB_001238a7:uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar8;
      }

      plVar2 = plVar7 + lVar10;
      for (; plVar7 != plVar2; plVar7 = plVar7 + 1) {
         *(undefined1*)( *(long*)( param_1 + 0x1b30 ) + ( ulong ) * (uint*)( *plVar7 + 0x30 ) ) = 0;
      }

   }

   return 1;
}
undefined8 ufbxi_resolve_connections(long param_1) {
   long lVar1;
   int iVar2;
   int iVar3;
   ulong *puVar4;
   long lVar5;
   ulong uVar6;
   long *plVar7;
   uint *puVar8;
   undefined8 uVar9;
   ulong uVar10;
   long lVar11;
   ulong *puVar12;
   ulong *puVar13;
   long lVar14;
   long in_FS_OFFSET;
   ulong local_48;
   long local_40;
   lVar1 = param_1 + 0xaf0;
   lVar11 = *(long*)( param_1 + 0xb18 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   puVar4 = (ulong*)ufbxi_push_pop_size(param_1 + 0xa30, lVar1, 0x30, lVar11);
   ufbxi_buf_free(lVar1);
   if (puVar4 != (ulong*)0x0) {
      lVar5 = ufbxi_push_size(param_1 + 0x1a58, 0x30, lVar11);
      *(long*)( param_1 + 0x2158 ) = lVar5;
      if (lVar5 != 0) {
         puVar12 = puVar4 + lVar11 * 6;
         if (0x1b56 < *(int*)( param_1 + 0x268 ) - 1U) goto LAB_00123bae;
         puVar13 = puVar4;
         if (puVar12 != puVar4) {
            do {
               if (puVar13[3] == 0) {
                  LAB_001239c0:uVar10 = puVar13[5];
               }
 else {
                  local_48 = puVar13[2];
                  uVar10 = ( local_48 >> 0x20 ^ local_48 ) * -0x2917014799a6026d;
                  lVar11 = ( uVar10 ^ uVar10 >> 0x20 ) * -0x2917014799a6026d;
                  lVar11 = ufbxi_map_find_size(param_1 + 0x8f0, 8, (uint)lVar11 ^ ( uint )((ulong)lVar11 >> 0x20));
                  if (lVar11 != 0) goto LAB_001239c0;
                  local_48 = *puVar13;
                  uVar10 = ( local_48 >> 0x20 ^ local_48 ) * -0x2917014799a6026d;
                  lVar11 = ( uVar10 ^ uVar10 >> 0x20 ) * -0x2917014799a6026d;
                  lVar11 = ufbxi_map_find_size(param_1 + 0x868, 0x10, (uint)lVar11 ^ ( uint )((ulong)lVar11 >> 0x20), &local_48);
                  uVar6 = local_48;
                  if (lVar11 != 0) {
                     uVar6 = *(ulong*)( lVar11 + 8 );
                  }

                  uVar10 = puVar13[5];
                  *puVar13 = uVar6;
               }

               if (uVar10 != 0) {
                  local_48 = puVar13[4];
                  uVar10 = ( local_48 >> 0x20 ^ local_48 ) * -0x2917014799a6026d;
                  lVar11 = ( uVar10 ^ uVar10 >> 0x20 ) * -0x2917014799a6026d;
                  lVar11 = ufbxi_map_find_size(param_1 + 0x8f0, 8, (uint)lVar11 ^ ( uint )((ulong)lVar11 >> 0x20));
                  if (lVar11 == 0) {
                     local_48 = puVar13[1];
                     uVar10 = ( local_48 >> 0x20 ^ local_48 ) * -0x2917014799a6026d;
                     lVar11 = ( uVar10 ^ uVar10 >> 0x20 ) * -0x2917014799a6026d;
                     lVar11 = ufbxi_map_find_size(param_1 + 0x868, 0x10, (uint)lVar11 ^ ( uint )((ulong)lVar11 >> 0x20), &local_48);
                     uVar10 = local_48;
                     if (lVar11 != 0) {
                        uVar10 = *(ulong*)( lVar11 + 8 );
                     }

                     puVar13[1] = uVar10;
                  }

               }

               puVar13 = puVar13 + 6;
            }
 while ( puVar12 != puVar13 );
            do {
               lVar5 = ufbxi_find_element_by_fbx_id(param_1, *puVar4);
               lVar11 = ufbxi_find_element_by_fbx_id(param_1, puVar4[1]);
               if (( lVar5 != 0 ) && ( lVar11 != 0 )) {
                  lVar14 = lVar11;
                  if (*(char*)( param_1 + 0x35c ) == '\0') {
                     if (*(int*)( lVar11 + 0x48 ) == 1) {
                        iVar3 = *(int*)( lVar5 + 0x48 );
                        if (iVar3 != 1) {
                           if (*(char*)( lVar11 + 0x441 ) != '\0') {
                              iVar3 = ufbxi_warnf_imp(param_1 + 0x2808, 9, *(undefined4*)( lVar5 + 0x30 ), "Non-node element connected to root");
                              if (iVar3 != 0) goto LAB_00123baa;
                              goto LAB_00123ec0;
                           }

                           if (*(char*)( param_1 + 0x1bd0 ) != '\0') goto LAB_00123c09;
                        }

                        LAB_00123c15:if (*(char*)( param_1 + 0x1bd1 ) == '\0') goto LAB_00123c50;
                        LAB_00123c1e:lVar11 = *(long*)( lVar14 + 200 );
                        if (lVar11 == 0) {
                           if (0x1b56 < *(int*)( param_1 + 0x268 ) - 1U) goto LAB_00123b70;
                           LAB_00123c6f:if (( *(int*)( lVar5 + 0x48 ) == 0x11 ) || ( *(int*)( lVar5 + 0x48 ) == 0x16 )) {
                              local_48 = puVar4[1];
                              uVar10 = ( local_48 >> 0x20 ^ local_48 ) * -0x2917014799a6026d;
                              lVar11 = ( uVar10 ^ uVar10 >> 0x20 ) * -0x2917014799a6026d;
                              lVar11 = ufbxi_map_find_size(param_1 + 0x868, 0x10, (uint)lVar11 ^ ( uint )((ulong)lVar11 >> 0x20), &local_48);
                              uVar10 = local_48;
                              if (lVar11 != 0) {
                                 uVar10 = *(ulong*)( lVar11 + 8 );
                              }

                              lVar11 = ufbxi_find_element_by_fbx_id(param_1, uVar10);
                              if (lVar11 != 0) {
                                 lVar14 = lVar11;
                              }

                           }

                        }
 else if (*(int*)( lVar5 + 0x48 ) == 1) {
                           if (( *(char*)( lVar5 + 0x446 ) == '\0' ) && ( *(int*)( lVar5 + 0xec ) == 0 )) goto LAB_00123c50;
                        }
 else if (( *(int*)( lVar5 + 0x48 ) != 0x1f ) || ( (char*)puVar4[4] == "Lcl Scaling" )) {
                           LAB_00123c50:lVar14 = lVar11;
                           if (( *(int*)( param_1 + 0x268 ) - 1U < 6999 ) && ( *(int*)( lVar11 + 0x48 ) == 1 )) goto LAB_00123c6f;
                        }

                     }
 else {
                        if (*(char*)( param_1 + 0x1bd0 ) == '\0') goto LAB_00123d28;
                        iVar3 = *(int*)( lVar11 + 0x48 );
                        LAB_00123b5b:if (*(char*)( param_1 + 0x1bd1 ) != '\0') {
                           iVar2 = *(int*)( lVar5 + 0x48 );
                           goto joined_r0x00123b69;
                        }

                     }

                  }
 else {
                     if (*(char*)( param_1 + 0x1bd0 ) != '\0') {
                        iVar3 = *(int*)( lVar11 + 0x48 );
                        if (iVar3 != 1) goto LAB_00123b5b;
                        iVar3 = *(int*)( lVar5 + 0x48 );
                        LAB_00123c09:if (( 0xe < iVar3 - 2U ) || ( *(char*)( lVar11 + 0x442 ) == '\0' )) goto LAB_00123c15;
                        puVar8 = (uint*)ufbxi_get_element_extra_isra_0(*(undefined8*)( param_1 + 0x1b20 ), *(undefined8*)( param_1 + 0x1b28 ), *(undefined4*)( lVar11 + 0x30 ));
                        lVar11 = *(long*)( *(long*)( param_1 + 0x2148 ) + ( ulong ) * puVar8 * 8 );
                     }

                     LAB_00123d28:if (*(char*)( param_1 + 0x1bd1 ) == '\0') goto LAB_00123c50;
                     iVar3 = *(int*)( lVar11 + 0x48 );
                     lVar14 = lVar11;
                     if (iVar3 == 1) goto LAB_00123c1e;
                     iVar2 = *(int*)( lVar5 + 0x48 );
                     joined_r0x00123b69:lVar14 = lVar11;
                     if (( ( iVar2 == 1 ) && ( iVar3 == 0x12 ) ) && ( *(long*)( lVar5 + 200 ) != 0 )) {
                        lVar5 = *(long*)( lVar5 + 200 );
                     }

                  }

                  LAB_00123b70:uVar10 = puVar4[2];
                  uVar6 = puVar4[3];
                  plVar7 = (long*)( *(long*)( param_1 + 0x2160 ) * 0x30 + *(long*)( param_1 + 0x2158 ) );
                  *(long*)( param_1 + 0x2160 ) = *(long*)( param_1 + 0x2160 ) + 1;
                  plVar7[2] = uVar10;
                  plVar7[3] = uVar6;
                  uVar10 = puVar4[4];
                  uVar6 = puVar4[5];
                  *plVar7 = lVar5;
                  plVar7[1] = lVar14;
                  plVar7[4] = uVar10;
                  plVar7[5] = uVar6;
               }

               LAB_00123baa:puVar4 = puVar4 + 6;
               LAB_00123bae:;
            }
 while ( puVar12 != puVar4 );
         }

         *(undefined8*)( param_1 + 0x2170 ) = *(undefined8*)( param_1 + 0x2160 );
         lVar11 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x30, *(undefined8*)( param_1 + 0x2160 ), *(undefined8*)( param_1 + 0x2158 ));
         *(long*)( param_1 + 0x2168 ) = lVar11;
         if (( ( lVar11 != 0 ) && ( iVar3 = ufbxi_sort_connections(param_1, *(undefined8*)( param_1 + 0x2158 ), *(undefined8*)( param_1 + 0x2160 ), 0) ),iVar3 != 0 )) {
            ufbxi_buf_free(lVar1);
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_00123f42;
         }

      }

   }

   LAB_00123ec0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar9 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar9;
   }

   LAB_00123f42:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_legacy_settings(long param_1, long param_2) {
   uint uVar1;
   long *plVar2;
   long lVar3;
   ushort uVar4;
   int iVar5;
   undefined8 *puVar6;
   undefined8 uVar7;
   long lVar8;
   ulong uVar9;
   undefined8 *puVar10;
   long in_FS_OFFSET;
   double dVar11;
   long local_110;
   undefined8 local_108[4];
   undefined8 local_e8;
   undefined8 uStack_e0;
   undefined8 local_d8;
   undefined8 uStack_d0;
   undefined8 local_c8;
   undefined8 uStack_c0;
   undefined8 local_b8;
   undefined8 uStack_b0;
   undefined8 local_a8;
   undefined8 uStack_a0;
   undefined8 local_98;
   undefined8 uStack_90;
   undefined8 local_88;
   undefined8 uStack_80;
   undefined8 local_78;
   undefined8 uStack_70;
   undefined8 local_68;
   undefined8 uStack_60;
   undefined8 local_58;
   undefined8 uStack_50;
   undefined8 local_48;
   undefined8 uStack_40;
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   if (*(char*)( param_1 + 0x279 ) == '\0') {
      uVar1 = *(uint*)( param_2 + 8 );
      puVar6 = *(undefined8**)( param_2 + 0x10 );
      *(undefined1*)( param_1 + 0x279 ) = 1;
      puVar10 = local_108;
      for (lVar8 = 0x1a; lVar8 != 0; lVar8 = lVar8 + -1) {
         *puVar10 = 0;
         puVar10 = puVar10 + 1;
      }

      puVar10 = puVar6 + (ulong)uVar1 * 4;
      for (; puVar6 != puVar10; puVar6 = puVar6 + 4) {
         if (( *(char*)*puVar6 == 'F' ) && ( iVar5 = iVar5 == 0 )) {
            uVar4 = *(ushort*)( (long)puVar6 + 0xe ) & 3;
            if (uVar4 == 1) {
               dVar11 = *(double*)puVar6[3];
            }
 else {
               if (uVar4 != 2) break;
               plVar2 = (long*)puVar6[3];
               lVar8 = *plVar2;
               uVar9 = ( ulong ) * (uint*)( plVar2 + 1 );
               uVar1 = *(uint*)( (long)plVar2 + 0xc );
               if (uVar1 != 0) {
                  if (uVar1 == 0xffffffff) break;
                  lVar8 = lVar8 + 1 + uVar9;
                  uVar9 = (ulong)uVar1;
               }

               dVar11 = (double)ufbxi_parse_double(lVar8, uVar9, &local_110, *(undefined4*)( param_1 + 0x27c ));
               if (local_110 != lVar8 + uVar9) break;
            }

            if (dVar11 <= 0.0) break;
            ufbxi_init_synthetic_real_prop(local_108, "CustomFrameRate", 3);
            ufbxi_init_synthetic_real_prop(_LC186, &uStack_a0, "TimeMode", 2);
            lVar3 = *(long*)( param_1 + 0x1e10 );
            lVar8 = lVar3 + 2;
            puVar6 = (undefined8*)ufbxi_push_size(param_1 + 0x1a58, 0x68, lVar8);
            if (puVar6 != (undefined8*)0x0) {
               *puVar6 = local_108[0];
               for (int i = 0; i < 3; i++) {
                  puVar6[( i + 1 )] = local_108[( i + 1 )];
               }

               puVar6[4] = local_e8;
               puVar6[5] = uStack_e0;
               puVar6[6] = local_d8;
               puVar6[7] = uStack_d0;
               puVar6[8] = local_c8;
               puVar6[9] = uStack_c0;
               puVar6[10] = local_b8;
               puVar6[0xb] = uStack_b0;
               puVar6[0xc] = local_a8;
               puVar6[0xd] = uStack_a0;
               puVar6[0xe] = local_98;
               puVar6[0xf] = uStack_90;
               puVar6[0x10] = local_88;
               puVar6[0x11] = uStack_80;
               puVar6[0x12] = local_78;
               puVar6[0x13] = uStack_70;
               puVar6[0x14] = local_68;
               puVar6[0x15] = uStack_60;
               puVar6[0x16] = local_58;
               puVar6[0x17] = uStack_50;
               puVar6[0x18] = local_48;
               puVar6[0x19] = uStack_40;
               if (lVar3 != 0) {
                  memcpy(puVar6 + 0x1a, *(void**)( param_1 + 0x1e08 ), lVar3 * 0x68);
               }

               iVar5 = ufbxi_sort_properties(param_1, puVar6, lVar8);
               if (iVar5 != 0) {
                  *(undefined8**)( param_1 + 0x1e08 ) = puVar6;
                  *(long*)( param_1 + 0x1e10 ) = lVar8;
                  ufbxi_deduplicate_properties(param_1 + 0x1e08);
                  break;
               }

            }

            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar7;
            }

            goto LAB_00124215;
         }

      }

   }

   if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   LAB_00124215:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_ascii_parse_node(long param_1, int param_2, undefined4 param_3, undefined1 *param_4, long param_5, char param_6) {
   long lVar1;
   undefined8 *puVar2;
   char cVar3;
   byte bVar4;
   char cVar5;
   int iVar6;
   int iVar7;
   undefined4 uVar8;
   long lVar9;
   long *plVar10;
   long lVar11;
   long lVar12;
   int *piVar13;
   undefined8 uVar14;
   double *pdVar15;
   undefined4 *puVar16;
   long lVar17;
   float *pfVar18;
   undefined1 *puVar19;
   long *plVar20;
   ulong uVar21;
   uint uVar22;
   ulong uVar23;
   long lVar24;
   uint uVar25;
   long in_FS_OFFSET;
   double dVar26;
   uint local_168;
   long local_148;
   long local_140;
   uint local_138;
   uint local_130;
   char local_10a;
   char local_fa;
   byte local_f9;
   ulong local_f8;
   undefined1 local_f0;
   ulong local_e8;
   long local_e0;
   undefined8 local_d8;
   undefined8 local_d0;
   double local_c8;
   undefined8 uStack_c0;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   cVar5 = *(char*)( param_1 + 0x1bc0 );
   if (cVar5 == '}') {
      iVar6 = ufbxi_ascii_next_token(param_1, param_1 + 0x1ba8);
      if (iVar6 == 0) {
         if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar14;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else {
      if (cVar5 != '\0') {
         if (param_2 == 0x20) {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar14;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

         if (( *(char*)( param_1 + 0x277 ) == '\x01' ) || ( param_2 != 0 )) {
            if (cVar5 != 'N') goto LAB_00124450;
         }
 else if (cVar5 != 'N') {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar14 = ufbxi_fail_imp_constprop_0(param_1, "$Not an FBX file");
               return uVar14;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

         lVar24 = param_1 + 0x1ba8;
         iVar6 = ufbxi_ascii_next_token(param_1, lVar24);
         if (( iVar6 == 0 ) && ( iVar6 = iVar6 == 0 )) {
            LAB_00124450:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar14;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

         uVar23 = *(ulong*)( param_1 + 0x1ba0 );
         if (0xff < uVar23) {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar14;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

         lVar12 = param_1 + 0x1960;
         lVar9 = ufbxi_push_string_imp(lVar12, *(undefined8*)( param_1 + 0x1b80 ), *(undefined8*)( param_1 + 0x1b88 ), 0, 1, 1);
         if (lVar9 == 0) {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar14;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

         lVar1 = param_1 + 0xab0;
         plVar10 = (long*)ufbxi_push_size_zero(lVar1, 0x20, 1);
         if (plVar10 == (long*)0x0) {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar14;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

         *(char*)( (long)plVar10 + 0xc ) = (char)uVar23;
         *plVar10 = lVar9;
         cVar5 = ufbxi_is_array_node(param_1, param_3, lVar9, &local_fa);
         bVar4 = local_f9;
         if (cVar5 == '\0') {
            if (*(char*)( param_1 + 0x1bc0 ) == ',') {
               local_148 = 0;
               uVar25 = 0;
               local_140 = 0;
               LAB_00124a64:uVar23 = 0;
               LAB_00124a67:iVar6 = ufbxi_ascii_next_token(param_1, lVar24);
               if (iVar6 == 0) {
                  if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                     uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                     return uVar14;
                  }

                  /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
               }

               lVar11 = *plVar10;
            }
 else {
               local_148 = 0;
               uVar25 = 0;
               uVar23 = 0;
               local_140 = 0;
               lVar11 = lVar9;
            }

         }
 else {
            uVar25 = 0x62;
            cVar5 = local_fa;
            if (( local_fa != 'b' ) && ( uVar25 = local_fa == 'r' )) {
               uVar25 = 100;
               cVar5 = 'd';
            }

            if (( local_f9 & 1 ) == 0) {
               local_140 = param_1 + 0xa30;
               if (( local_f9 & 2 ) == 0) {
                  local_140 = param_5;
               }

            }
 else {
               local_140 = param_1 + 0x1a58;
            }

            lVar11 = ufbxi_push_size(param_5, 0x18, 1);
            if (lVar11 == 0) {
               if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                  return uVar14;
               }

               /* WARNING: Subroutine does not return */
               __stack_chk_fail();
            }

            plVar10[3] = lVar11;
            *(undefined2*)( (long)plVar10 + 0xe ) = 3;
            *(char*)( lVar11 + 0x10 ) = cVar5;
            if (( bVar4 & 8 ) != 0) {
               *(undefined1*)( param_1 + 0x1b6a ) = 1;
            }

            local_148 = ufbxi_array_type_size(uVar25);
            if (uVar25 == 0x2d) {
               if (( ( *(char*)( param_1 + 0x1bc0 ) == ',' ) && ( iVar6 = ufbxi_ascii_try_ignore_string(param_1, lVar24) ),iVar6 == 0 )) {
                  if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                     uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                     return uVar14;
                  }

                  /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
               }

            }
 else {
               lVar11 = ufbxi_push_size_zero(lVar1, 8, 1);
               if (lVar11 == 0) {
                  if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                     uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                     return uVar14;
                  }

                  /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
               }

               if (( bVar4 & 4 ) != 0) {
                  lVar11 = ufbxi_push_size_zero(lVar1, local_148, 4);
                  if (lVar11 == 0) {
                     if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
                        return uVar14;
                     }

                     /* WARNING: Subroutine does not return */
                     __stack_chk_fail();
                  }

                  if (*(char*)( param_1 + 0x1bc0 ) == ',') {
                     uVar23 = 4;
                     goto LAB_00124a67;
                  }

                  uVar23 = 4;
                  lVar11 = *plVar10;
                  goto LAB_0012450a;
               }

               if (*(char*)( param_1 + 0x1bc0 ) == ',') goto LAB_00124a64;
            }

            uVar23 = 0;
            lVar11 = *plVar10;
         }

         LAB_0012450a:iVar6 = ufbxi_update_parse_state(param_3, lVar11);
         local_130 = 0;
         local_138 = 0;
         local_10a = '\0';
         local_168 = uVar25 & 0xfffffffd;
         LAB_0012453a:
      do {
        if (uVar25 != 0) goto LAB_00124543;
        cVar5 = *(char *)(param_1 + 0x1bc0);
        if (cVar5 != 'S') goto LAB_00124590;
        iVar7 = ufbxi_ascii_next_token(param_1,lVar24);
        if ((iVar7 == 0) && (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0)) {
          do {
            cVar5 = *(char *)(param_1 + 0x1bc0);
LAB_00124590:
            do {
              uVar22 = (uint)uVar23;
              cVar3 = (char)uVar23;
              uVar21 = uVar23;
              if (cVar5 == 'I') {
                iVar7 = ufbxi_ascii_next_token(param_1,lVar24);
                if ((iVar7 == 0) && (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0)
                   ) {
                  cVar5 = *(char *)(param_1 + 0x1bc0);
                  goto LAB_00124598;
                }
                lVar11 = *(long *)(param_1 + 0x1ba0);
                dVar26 = _LC0;
                if ((lVar11 == 0) && (dVar26 = _LC17, *(char *)(param_1 + 0x1b99) == '\0')) {
                  dVar26 = _LC0;
                }
                if (0x6c < (int)uVar25) {
switchD_00124a05_caseD_65:
                  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    uVar14 = ufbxi_fail_imp_constprop_0(param_1,"Bad array dst type");
                    return uVar14;
                  }
                    /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
                }
                if (0x61 < (int)uVar25) {
                  switch(uVar25) {
                  case 0x62:
                    lVar17 = ufbxi_push_size(lVar1,1,1);
                    if (lVar17 == 0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
LAB_00124c1e:
                    *(bool *)lVar17 = lVar11 != 0;
                    uVar21 = (ulong)(uVar22 + 1);
                    break;
                  case 99:
                    puVar19 = (undefined1 *)ufbxi_push_size(lVar1,1,1);
                    if (puVar19 == (undefined1 *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
LAB_00124bcc:
                    *puVar19 = (char)lVar11;
                    uVar21 = (ulong)(uVar22 + 1);
                    break;
                  case 100:
                    pdVar15 = (double *)ufbxi_push_size(lVar1,8,1);
                    if (pdVar15 == (double *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
                    uVar21 = (ulong)(uVar22 + 1);
                    *pdVar15 = dVar26 * (double)lVar11;
                    break;
                  default:
                    goto switchD_00124a05_caseD_65;
                  case 0x66:
                    pfVar18 = (float *)ufbxi_push_size(lVar1,4,1);
                    if (pfVar18 == (float *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
                    uVar21 = (ulong)(uVar22 + 1);
                    *pfVar18 = (float)dVar26 * (float)lVar11;
                    break;
                  case 0x69:
                    puVar16 = (undefined4 *)ufbxi_push_size(lVar1,4,1);
                    if (puVar16 == (undefined4 *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
LAB_00124c91:
                    *puVar16 = (int)lVar11;
                    uVar21 = (ulong)(uVar22 + 1);
                    break;
                  case 0x6c:
                    plVar20 = (long *)ufbxi_push_size(lVar1,8,1);
                    if (plVar20 == (long *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
LAB_00124bf5:
                    *plVar20 = lVar11;
                    uVar21 = (ulong)(uVar22 + 1);
                  }
                  goto LAB_001247b4;
                }
                if (uVar25 != 0) {
                  if (uVar25 != 0x2d) goto switchD_00124a05_caseD_65;
                  goto LAB_001247b4;
                }
                if (((*(char *)(param_1 + 0x1b69) == '\0') && (iVar6 == 9)) && (uVar22 == 0)) {
                  if (lVar11 - 6000U < 0xfa1) {
                    *(undefined1 *)(param_1 + 0x1b69) = 1;
                    *(int *)(param_1 + 0x268) = (int)lVar11;
                  }
                }
                else if (7 < uVar22) goto LAB_001247b0;
                local_138 = local_138 | 1 << (cVar3 * '\x02' & 0x1fU);
                (&uStack_c0)[uVar23 * 2] = lVar11;
                (&local_c8)[uVar23 * 2] = dVar26 * (double)lVar11;
                goto LAB_001250d0;
              }
LAB_00124598:
              if (cVar5 == 'F') {
                iVar7 = ufbxi_ascii_next_token(param_1,lVar24);
                if ((iVar7 == 0) && (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0)
                   ) {
                  cVar5 = *(char *)(param_1 + 0x1bc0);
                  goto LAB_001245a0;
                }
                dVar26 = *(double *)(param_1 + 0x1ba0);
                if (0x6c < (int)uVar25) {
switchD_00124b54_caseD_65:
                  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    uVar14 = ufbxi_fail_imp_constprop_0(param_1,"Bad array dst type");
                    return uVar14;
                  }
                    /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
                }
                if (0x61 < (int)uVar25) {
                  switch(uVar25) {
                  case 0x62:
                    lVar11 = ufbxi_push_size(lVar1,1,1);
                    if (lVar11 == 0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
                    uVar21 = (ulong)(uVar22 + 1);
                    *(bool *)lVar11 = dVar26 != 0.0;
                    break;
                  case 99:
                    puVar19 = (undefined1 *)ufbxi_push_size(lVar1,1,1);
                    if (puVar19 == (undefined1 *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
                    uVar21 = (ulong)(uVar22 + 1);
                    *puVar19 = (char)(int)dVar26;
                    break;
                  case 100:
                    pdVar15 = (double *)ufbxi_push_size(lVar1,8,1);
                    if (pdVar15 == (double *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
LAB_00124ecb:
                    *pdVar15 = dVar26;
                    goto LAB_001247b0;
                  default:
                    goto switchD_00124b54_caseD_65;
                  case 0x66:
                    pfVar18 = (float *)ufbxi_push_size(lVar1,4,1);
                    if (pfVar18 == (float *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
                    uVar21 = (ulong)(uVar22 + 1);
                    *pfVar18 = (float)dVar26;
                    break;
                  case 0x69:
                    piVar13 = (int *)ufbxi_push_size(lVar1,4,1);
                    if (piVar13 == (int *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
                    if (_LC115 < (double)((ulong)dVar26 & _LC97)) {
                      iVar7 = (dVar26 < 0.0) + 0x7fffffff;
                    }
                    else {
                      iVar7 = (int)dVar26;
                    }
                    *piVar13 = iVar7;
                    uVar21 = (ulong)(uVar22 + 1);
                    break;
                  case 0x6c:
                    plVar20 = (long *)ufbxi_push_size(lVar1,8,1);
                    if (plVar20 == (long *)0x0) {
                      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                        uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                        return uVar14;
                      }
                    /* WARNING: Subroutine does not return */
                      __stack_chk_fail();
                    }
                    if (_LC24 < (double)((ulong)dVar26 & _LC97)) {
                      lVar11 = 0x7fffffffffffffff;
                      if (dVar26 < 0.0) {
                        lVar11 = -0x8000000000000000;
                      }
                    }
                    else {
                      lVar11 = (long)dVar26;
                    }
                    *plVar20 = lVar11;
                    uVar21 = (ulong)(uVar22 + 1);
                  }
                  goto LAB_001247b4;
                }
                if (uVar25 != 0) {
                  if (uVar25 != 0x2d) goto switchD_00124b54_caseD_65;
                  goto LAB_001247b4;
                }
                if (7 < uVar22) {
                  uVar21 = (ulong)(uVar22 + 1);
                  goto LAB_001247b4;
                }
                local_138 = local_138 | 1 << (cVar3 * '\x02' & 0x1fU);
                (&local_c8)[uVar23 * 2] = dVar26;
                if (_LC24 < (double)((ulong)dVar26 & _LC97)) {
                  lVar11 = 0x7fffffffffffffff;
                  if (dVar26 < 0.0) {
                    lVar11 = -0x8000000000000000;
                  }
                }
                else {
                  lVar11 = (long)dVar26;
                }
                (&uStack_c0)[uVar23 * 2] = lVar11;
                uVar21 = (ulong)(uVar22 + 1);
                goto LAB_001246c0;
              }
LAB_001245a0:
              if (cVar5 == 'B') {
                iVar7 = ufbxi_ascii_next_token(param_1,lVar24);
                if ((iVar7 != 0) || (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 != 0)
                   ) {
                  lVar11 = 0;
                  if (*(long *)(param_1 + 0x1b88) != 0) {
                    lVar11 = (long)**(char **)(param_1 + 0x1b80);
                  }
                  if (0x6c < (int)uVar25) {
switchD_0012543e_caseD_65:
                    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                      uVar14 = ufbxi_fail_imp_constprop_0(param_1,"Bad array dst type");
                      return uVar14;
                    }
                    /* WARNING: Subroutine does not return */
                    __stack_chk_fail();
                  }
                  if (0x61 < (int)uVar25) {
                    switch(uVar25) {
                    case 0x62:
                      lVar17 = ufbxi_push_size(lVar1,1,1);
                      if (lVar17 == 0) {
                        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                          uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                          return uVar14;
                        }
                    /* WARNING: Subroutine does not return */
                        __stack_chk_fail();
                      }
                      goto LAB_00124c1e;
                    case 99:
                      puVar19 = (undefined1 *)ufbxi_push_size(lVar1,1,1);
                      if (puVar19 == (undefined1 *)0x0) {
                        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                          uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                          return uVar14;
                        }
                    /* WARNING: Subroutine does not return */
                        __stack_chk_fail();
                      }
                      goto LAB_00124bcc;
                    case 100:
                      pdVar15 = (double *)ufbxi_push_size(lVar1,8,1);
                      if (pdVar15 == (double *)0x0) {
                        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                          uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                          return uVar14;
                        }
                    /* WARNING: Subroutine does not return */
                        __stack_chk_fail();
                      }
                      dVar26 = (double)lVar11;
                      goto LAB_00124ecb;
                    default:
                      goto switchD_0012543e_caseD_65;
                    case 0x66:
                      pfVar18 = (float *)ufbxi_push_size(lVar1,4,1);
                      if (pfVar18 == (float *)0x0) {
                        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                          uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                          return uVar14;
                        }
                    /* WARNING: Subroutine does not return */
                        __stack_chk_fail();
                      }
                      *pfVar18 = (float)lVar11;
                      break;
                    case 0x69:
                      puVar16 = (undefined4 *)ufbxi_push_size(lVar1,4,1);
                      if (puVar16 == (undefined4 *)0x0) {
                        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                          uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                          return uVar14;
                        }
                    /* WARNING: Subroutine does not return */
                        __stack_chk_fail();
                      }
                      goto LAB_00124c91;
                    case 0x6c:
                      plVar20 = (long *)ufbxi_push_size(lVar1,8,1);
                      if (plVar20 == (long *)0x0) {
                        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                          uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                          return uVar14;
                        }
                    /* WARNING: Subroutine does not return */
                        __stack_chk_fail();
                      }
                      goto LAB_00124bf5;
                    }
                    goto LAB_001247b0;
                  }
                  if (uVar25 != 0) {
                    if (uVar25 != 0x2d) goto switchD_0012543e_caseD_65;
                    goto LAB_001247b4;
                  }
                  uVar21 = (ulong)(uVar22 + 1);
                  if (7 < uVar22) goto LAB_001247b4;
                  local_138 = local_138 | 1 << (cVar3 * '\x02' & 0x1fU);
                  (&uStack_c0)[uVar23 * 2] = lVar11;
                  (&local_c8)[uVar23 * 2] = (double)lVar11;
                  goto LAB_001246c0;
                }
                cVar5 = *(char *)(param_1 + 0x1bc0);
              }
              if ((cVar5 != '*') ||
                 ((iVar7 = ufbxi_ascii_next_token(param_1,lVar24), iVar7 == 0 &&
                  (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0))))
              goto LAB_001246cd;
              if (local_10a != '\0') {
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              if ((*(char *)(param_1 + 0x1bc0) != 'I') ||
                 ((iVar7 = ufbxi_ascii_next_token(param_1,lVar24), iVar7 == 0 &&
                  (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0)))) {
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              lVar11 = *(long *)(param_1 + 0x1ba0);
              if ((*(char *)(param_1 + 0x1bc0) != '{') ||
                 ((iVar7 = ufbxi_ascii_next_token(param_1,lVar24), iVar7 == 0 &&
                  (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0))))
              goto LAB_0012453a;
              if ((*(char *)(param_1 + 0x1bc0) != 'N') ||
                 ((iVar7 = ufbxi_ascii_next_token(param_1,lVar24), iVar7 == 0 &&
                  (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0)))) {
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              if (uVar25 == 0x2d) {
                iVar7 = ufbxi_ascii_skip_until(param_1,0x7d);
                if (iVar7 == 0) {
                  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                    return uVar14;
                  }
                    /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
                }
LAB_00125d7a:
                local_10a = '\x01';
              }
              else {
                if (*(char *)(param_1 + 0x2948) == '\0') {
                  local_10a = '\x01';
                  goto LAB_0012453a;
                }
                local_10a = *(char *)(param_1 + 0x35e);
                if (((*(char *)(param_1 + 0x35e) != '\0') ||
                    (local_10a = *(char *)(param_1 + 0x1b6a), *(char *)(param_1 + 0x1b6a) != '\0'))
                   || (local_10a = *(char *)(param_1 + 0x2948), 8 < uVar25 - 100))
                goto LAB_0012453a;
                local_10a = (0x125UL >> ((ulong)(uVar25 - 100) & 0x3f) & 1) != 0;
                if ((!(bool)local_10a) || (0xffffffbf < lVar11 - 0x40U)) goto LAB_00125d7a;
                local_130 = (int)lVar11 - 1;
                iVar7 = ufbxi_ascii_store_array(param_1,param_5);
                if (iVar7 == 0) {
                  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                    return uVar14;
                  }
                    /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
                }
              }
LAB_00124543:
              local_f8 = 0;
              if (local_168 == 100) {
                iVar7 = ufbxi_ascii_read_float_array_constprop_0(param_1,uVar25,&local_f8);
                if (iVar7 == 0) {
                  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                    uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                    return uVar14;
                  }
                    /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
                }
              }
              else if (((uVar25 == 0x69) || (uVar25 == 0x6c)) &&
                      (iVar7 = ufbxi_ascii_read_int_array_constprop_0(param_1,uVar25,&local_f8),
                      iVar7 == 0)) {
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              if (~(uint)uVar23 <= local_f8) {
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              uVar21 = (ulong)((uint)uVar23 + (int)local_f8);
              cVar5 = *(char *)(param_1 + 0x1bc0);
              uVar23 = uVar21;
            } while (cVar5 != 'S');
            iVar7 = ufbxi_ascii_next_token(param_1,lVar24);
          } while ((iVar7 == 0) && (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0))
          ;
          if ((uVar25 - 0x43 < 0x31) &&
             ((0x1000000010001U >> ((ulong)(uVar25 - 0x43) & 0x3f) & 1) != 0)) {
            plVar20 = (long *)ufbxi_push_size(lVar1,0x10,1);
            if (plVar20 == (long *)0x0) {
              if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                return uVar14;
              }
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            lVar11 = *(long *)(param_1 + 0x1b88);
            *plVar20 = *(long *)(param_1 + 0x1b80);
            plVar20[1] = lVar11;
            if (uVar25 == 0x43) {
              lVar11 = param_5;
              if (*(char *)(param_1 + 0x495) != '\0') {
                lVar11 = param_1 + 0x1a58;
              }
              lVar11 = ufbxi_push_size_copy(lVar11,1);
              *plVar20 = lVar11;
              if (lVar11 == 0) {
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
            }
            else {
              iVar7 = ufbxi_push_string_place_str(lVar12,plVar20,uVar25 == 0x73);
              if (iVar7 == 0) {
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
            }
LAB_001247b0:
            uVar21 = (ulong)((int)uVar23 + 1);
          }
LAB_001247b4:
          if ((int)uVar21 == -1) {
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
              return uVar14;
            }
                    /* WARNING: Subroutine does not return */
            __stack_chk_fail();
          }
        }
        else {
          if (7 < (uint)uVar23) goto LAB_001247b0;
          lVar11 = *(long *)(param_1 + 0x1b80);
          lVar17 = *(long *)(param_1 + 0x1b88);
          local_138 = local_138 | 2 << ((char)uVar23 * '\x02' & 0x1fU);
          if (lVar11 == 0) {
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
              return uVar14;
            }
                    /* WARNING: Subroutine does not return */
            __stack_chk_fail();
          }
          if (lVar17 == 0) {
            uVar21 = (ulong)((uint)uVar23 + 1);
            (&local_c8)[uVar23 * 2] = (double)&ufbxi_empty_char;
            (&uStack_c0)[uVar23 * 2] = 0;
          }
          else {
            local_f8 = local_f8 & 0xffffffffffffff00;
            uVar8 = ufbxi_hash_string_check_ascii_constprop_0(lVar11,lVar17,&local_f8);
            if ((char)local_f8 == '\0') {
              iVar7 = ufbxi_push_sanitized_string
                                (lVar12,&local_c8 + uVar23 * 2,lVar11,lVar17,uVar8,1);
              if (iVar7 == 0) goto LAB_00125226;
            }
            else {
              cVar5 = ufbxi_is_raw_string_isra_0(param_1,param_3,lVar9);
              iVar7 = ufbxi_push_sanitized_string
                                (lVar12,&local_c8 + uVar23 * 2,lVar11,lVar17,uVar8,cVar5);
              if (iVar7 == 0) {
LAB_00125226:
                if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                  uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar14;
                }
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              if (cVar5 != '\0') {
                *(undefined4 *)((long)&uStack_c0 + uVar23 * 0x10 + 4) = 0xffffffff;
              }
            }
LAB_001250d0:
            uVar21 = (ulong)((int)uVar23 + 1);
          }
        }
LAB_001246c0:
      } while ((*(char *)(param_1 + 0x1bc0) == ',') &&
              ((iVar7 = ufbxi_ascii_next_token(param_1,lVar24), uVar23 = uVar21, iVar7 != 0 ||
               (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 != 0))));
LAB_001246cd:
      if ((local_10a != '\0') &&
         ((*(char *)(param_1 + 0x1bc0) != '}' ||
          ((iVar7 = ufbxi_ascii_next_token(param_1,lVar24), iVar7 == 0 &&
           (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 == 0)))))) {
        if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
          uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
          return uVar14;
        }
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      *(undefined1 *)(param_1 + 0x1b6a) = 0;
      uVar22 = (uint)uVar21;
      if (uVar25 == 0) {
        *(undefined2 *)((long)plVar10 + 0xe) = (undefined2)local_138;
        uVar25 = 8;
        if (uVar22 < 9) {
          uVar25 = uVar22;
        }
        lVar12 = ufbxi_push_size_copy(param_5,0x10,uVar25,&local_c8);
        plVar10[3] = lVar12;
        if (lVar12 == 0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
            return uVar14;
          }
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
      }
      else if (uVar25 == 0x2d) {
        puVar2 = (undefined8 *)plVar10[3];
        *puVar2 = 0;
        puVar2[1] = 0;
      }
      else {
        if (local_130 == 0) {
          lVar12 = ufbxi_push_pop_size(local_140,lVar1,local_148,uVar21);
        }
        else {
          lVar12 = ufbxi_push_size(local_140,local_148,local_130 + uVar22);
          if (uVar22 != 0) {
            ufbxi_pop_size(lVar1,local_148,uVar21,lVar12,0);
          }
        }
        if (lVar12 == 0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
            return uVar14;
          }
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        plVar20 = (long *)plVar10[3];
        lVar9 = lVar12;
        if ((local_f9 & 4) != 0) {
          uVar22 = uVar22 - 4;
          lVar9 = lVar12 + local_148 * 4;
        }
        *plVar20 = lVar9;
        plVar20[1] = (ulong)(uVar22 + local_130);
        ufbxi_pop_size(lVar1,8,1,0,0);
        if (local_130 != 0) {
          uVar14 = *(undefined8 *)(param_1 + 0x1818);
          local_e0 = ufbxi_push_pop_size(param_5,param_1 + 0x17f0,0x10);
          if (local_e0 == 0) {
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
              return uVar14;
            }
                    /* WARNING: Subroutine does not return */
            __stack_chk_fail();
          }
          local_f0 = (undefined1)uVar25;
          local_e8 = (ulong)local_130;
          local_d0 = 0;
          local_f8 = lVar12 + uVar21 * local_148;
          local_d8 = uVar14;
          plVar20 = (long *)ufbxi_thread_pool_create_task
                                      (param_1 + 0x2950,ufbxi_ascii_array_task_fn);
          if (plVar20 == (long *)0x0) {
            cVar5 = ufbxi_ascii_array_task_imp(&local_f8);
            if (cVar5 == '\0') {
              if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                uVar14 = ufbxi_fail_imp_constprop_0(param_1,"$Threaded ASCII parse error");
                return uVar14;
              }
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
          }
          else {
            lVar12 = ufbxi_push_size_copy(param_5,0x30,1,&local_f8);
            *plVar20 = lVar12;
            if (lVar12 == 0) {
              if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                return uVar14;
              }
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            *(int *)(param_1 + 0x29b0) = *(int *)(param_1 + 0x29b0) + 1;
          }
        }
      }
      if ((*(char *)(param_1 + 0x1bc0) == '{') &&
         ((iVar7 = ufbxi_ascii_next_token(param_1,lVar24), iVar7 != 0 ||
          (iVar7 = ufbxi_fail_imp_constprop_0(param_1,&_LC88), iVar7 != 0)))) {
        if (param_6 != '\0') {
          lVar24 = 0;
          while( true ) {
            local_f8 = local_f8 & 0xffffffffffffff00;
            iVar7 = ufbxi_ascii_parse_node(param_1,param_2 + 1,iVar6,&local_f8,param_5,1);
            if (iVar7 == 0) {
              if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
                uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                return uVar14;
              }
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            if ((char)local_f8 != '\0') break;
            lVar24 = lVar24 + 1;
          }
          lVar12 = ufbxi_push_pop_size(param_5,lVar1,0x20,lVar24);
          plVar10[2] = lVar12;
          if (lVar12 == 0) {
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              uVar14 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
              return uVar14;
            }
                    /* WARNING: Subroutine does not return */
            __stack_chk_fail();
          }
          *(int *)(plVar10 + 1) = (int)lVar24;
        }
        *(undefined1 *)(param_1 + 0x1ae8) = 1;
      }
      else {
        *(undefined1 *)(param_1 + 0x1ae8) = 0;
      }
      goto LAB_00124276;
    }
    if (param_2 != 0) {
      if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
        uVar14 = ufbxi_fail_imp_constprop_0(param_1,"$Truncated file");
        return uVar14;
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
      }

      *param_4 = 1;
      LAB_00124276:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   long ufbx_inflate(long param_1, long param_2, ulong *param_3, char *param_4) {
      int iVar1;
      uint uVar2;
      ulong uVar3;
      ulong uVar4;
      byte bVar5;
      uint uVar6;
      long lVar7;
      undefined8 uVar8;
      ulong uVar9;
      char *pcVar10;
      long *plVar11;
      ulong uVar12;
      long in_FS_OFFSET;
      undefined1 local_1e88[48];
      long *local_1e58;
      long *local_1e50;
      ulong local_1e18;
      ulong local_1e10;
      char local_1df0;
      int local_1ce8;
      long local_1ce0;
      long lStack_1cd8;
      long local_1cd0;
      char local_1cc8[7304];
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      ufbxi_bit_stream_init(local_1e88, param_3);
      uVar9 = local_1e10;
      uVar12 = local_1e18;
      local_1cd0 = param_1 + param_2;
      local_1ce8 = (int)param_3[0xd];
      local_1ce0 = param_1;
      lStack_1cd8 = param_1;
      if (param_3[0xd] == 0) {
         local_1ce8 = ( -(uint)(*param_3 < 0x801) & 0xfffffffe ) + 10;
      }
 else if (( 9 < local_1ce8 - 1U ) || ( local_1ce8 == 9 )) {
         lVar7 = -0x1d;
         goto LAB_00126618;
      }

      bVar5 = (byte)local_1e10;
      if (local_1e50 < local_1e58) {
         plVar11 = (long*)ufbxi_bit_yield(local_1e88);
         if (local_1df0 == '\0') {
            uVar3 = *plVar11 << ( bVar5 & 0x3f );
            plVar11 = (long*)( (long)plVar11 + ( 0x3f - uVar9 >> 3 ) );
            goto LAB_0012644e;
         }

      }
 else {
         uVar3 = *local_1e58 << ( bVar5 & 0x3f );
         plVar11 = (long*)( (long)local_1e58 + ( 0x3f - local_1e10 >> 3 ) );
         if (local_1df0 == '\0') {
            LAB_0012644e:uVar3 = uVar3 | uVar12;
            uVar9 = uVar9 | 0x38;
            uVar12 = uVar3;
            if ((char)param_3[0xc] == '\0') {
               uVar9 = uVar9 - 0x10;
               uVar12 = uVar3 >> 0x10;
               if (( (uint)uVar3 & 0xf ) != 8) {
                  lVar7 = -1;
                  goto LAB_00126618;
               }

               if (( uVar3 & 0x2000 ) != 0) {
                  lVar7 = -2;
                  goto LAB_00126618;
               }

               if (0x842108421084210 < ( ( uVar3 & 0xff ) << 8 | uVar3 >> 8 & 0xff ) * -0x1084210842108421) {
                  lVar7 = -3;
                  goto LAB_00126618;
               }

            }

            do {
               if (local_1e50 < plVar11) {
                  plVar11 = (long*)ufbxi_bit_yield(local_1e88);
                  if (local_1df0 != '\0') goto LAB_00126720;
                  uVar3 = *plVar11 << ( (byte)uVar9 & 0x3f );
                  plVar11 = (long*)( (long)plVar11 + ( 0x3f - uVar9 >> 3 ) );
               }
 else {
                  uVar3 = *plVar11 << ( (byte)uVar9 & 0x3f );
                  plVar11 = (long*)( (long)plVar11 + ( 0x3f - uVar9 >> 3 ) );
                  if (local_1df0 != '\0') goto LAB_00126720;
               }

               uVar3 = uVar3 | uVar12;
               uVar12 = ( uVar9 | 0x38 ) - 3;
               uVar4 = uVar3 >> 3;
               uVar6 = ( uint )(uVar3 >> 1) & 3;
               if (( uVar3 >> 1 & 3 ) == 0) {
                  uVar6 = (uint)uVar12 & 7;
                  uVar4 = uVar4 >> (sbyte)uVar6;
                  if (( ushort )(( ushort )(uVar4 >> 0x10) ^ (ushort)uVar4) != 0xffff) {
                     lVar7 = -4;
                     goto LAB_00126618;
                  }

                  if (local_1cd0 - lStack_1cd8 < (long)( uVar4 & 0xffff )) {
                     lVar7 = -6;
                     goto LAB_00126618;
                  }

                  local_1e18 = uVar4 >> 0x20;
                  local_1e10 = ( ( uVar9 | 0x38 ) - 0x23 ) - (ulong)uVar6;
                  local_1e58 = plVar11;
                  iVar1 = ufbxi_bit_copy_bytes(lStack_1cd8, local_1e88);
                  if (iVar1 == 0) {
                     lVar7 = -5;
                     goto LAB_00126618;
                  }

                  lStack_1cd8 = lStack_1cd8 + ( uVar4 & 0xffff );
               }
 else {
                  if (uVar6 == 3) {
                     lVar7 = -7;
                     goto LAB_00126618;
                  }

                  local_1e18 = uVar4;
                  local_1e10 = uVar12;
                  if (uVar6 == 1) {
                     pcVar10 = param_4 + 4;
                     local_1e58 = plVar11;
                     if (*param_4 == '\0') {
                        ufbxi_init_static_huff(pcVar10, param_3);
                        *param_4 = '\x01';
                     }

                  }
 else {
                     pcVar10 = local_1cc8;
                     local_1e58 = plVar11;
                     lVar7 = ufbxi_init_dynamic_huff(local_1e88, pcVar10);
                     if (lVar7 != 0) goto LAB_00126618;
                  }

                  do {
                     if (( *(int*)( pcVar10 + 0x1c80 ) == 10 ) && ( 1 < local_1cd0 - lStack_1cd8 )) {
                        uVar8 = 0x20;
                        if ((long)local_1e50 - (long)local_1e58 < 8) goto LAB_001266ab;
                        iVar1 = ufbxi_inflate_block_fast(local_1e88, pcVar10, 0x20);
                     }
 else {
                        uVar8 = 0xffffffffffffffff;
                        LAB_001266ab:iVar1 = ufbxi_inflate_block_slow(local_1e88, pcVar10, uVar8);
                     }

                     lVar7 = (long)iVar1;
                     if (lVar7 < 0) goto LAB_00126618;
                     if (local_1df0 != '\0') goto LAB_00126720;
                  }
 while ( lVar7 != 0 );
               }

               uVar12 = local_1e18;
               uVar9 = local_1e10;
               plVar11 = local_1e58;
            }
 while ( ( uVar3 & 1 ) == 0 );
            bVar5 = (byte)local_1e10 & 7;
            uVar12 = local_1e18 >> bVar5;
            bVar5 = (byte)local_1e10 - bVar5;
            if (local_1e50 < local_1e58) {
               plVar11 = (long*)ufbxi_bit_yield(local_1e88);
               if (local_1df0 == '\0') {
                  uVar6 = ( uint )(*plVar11 << ( bVar5 & 0x3f ));
                  goto LAB_001265d9;
               }

            }
 else {
               uVar6 = ( uint )(*local_1e58 << ( bVar5 & 0x3f ));
               if (local_1df0 == '\0') {
                  LAB_001265d9:uVar6 = (uint)uVar12 | uVar6;
                  lVar7 = lStack_1cd8 - local_1ce0;
                  if (( *(char*)( (long)param_3 + 0x61 ) == '\0' ) && ( uVar2 = ufbxi_adler32(local_1ce0, lVar7) ),uVar2 != ( uVar6 >> 0x18 | ( uVar6 & 0xff0000 ) >> 8 | ( uVar6 & 0xff00 ) << 8 | uVar6 << 0x18 )) {
                     lVar7 = -9;
                  }

                  goto LAB_00126618;
               }

            }

         }

      }

      LAB_00126720:lVar7 = -0x1c;
      LAB_00126618:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) {
         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

      return lVar7;
   }

   undefined8 ufbxi_binary_parse_node(long param_1, int param_2, undefined4 param_3, undefined1 *param_4, undefined8 param_5, char param_6) {
      long lVar1;
      double dVar2;
      short sVar3;
      uint uVar4;
      float fVar5;
      long lVar6;
      long lVar7;
      long lVar8;
      char cVar9;
      undefined4 uVar10;
      int iVar11;
      undefined8 uVar12;
      long *plVar13;
      long lVar14;
      ulong *puVar15;
      double *pdVar16;
      double *pdVar17;
      ulong uVar18;
      ulong uVar19;
      double dVar20;
      uint *puVar21;
      long lVar22;
      undefined8 *puVar23;
      ulong *puVar24;
      byte bVar25;
      char *pcVar26;
      ulong uVar27;
      ulong uVar28;
      ulong uVar29;
      ulong uVar30;
      byte bVar31;
      ulong uVar32;
      ulong uVar33;
      undefined2 uVar34;
      int iVar35;
      uint uVar36;
      long in_FS_OFFSET;
      double dVar37;
      ulong local_140;
      char local_138;
      ulong local_100;
      char local_ba;
      undefined1 local_b9;
      ulong local_b8;
      long local_b0;
      ulong local_a8;
      undefined8 local_a0;
      undefined8 local_98;
      undefined8 local_90;
      undefined8 local_88;
      undefined8 local_80;
      undefined8 uStack_78;
      undefined8 local_70;
      undefined1 local_68[16];
      undefined2 local_58;
      undefined8 local_50;
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      if (param_2 != 0x20) {
         uVar36 = *(uint*)( param_1 + 0x268 );
         uVar32 = ( -(ulong)(uVar36 < 0x1d4c) & 0xfffffffffffffff4 ) + 0x19;
         if (*(ulong*)( param_1 + 0x528 ) < uVar32) {
            puVar15 = (ulong*)ufbxi_yield(param_1, uVar32);
            if (puVar15 != (ulong*)0x0) {
               *(long*)( param_1 + 0x528 ) = *(long*)( param_1 + 0x528 ) - uVar32;
               uVar36 = *(uint*)( param_1 + 0x268 );
               *(ulong*)( param_1 + 0x520 ) = uVar32 + (long)puVar15;
               goto LAB_0012690f;
            }

         }
 else {
            puVar15 = *(ulong**)( param_1 + 0x520 );
            *(ulong*)( param_1 + 0x528 ) = *(ulong*)( param_1 + 0x528 ) - uVar32;
            *(ulong*)( param_1 + 0x520 ) = uVar32 + (long)puVar15;
            if (puVar15 != (ulong*)0x0) {
               LAB_0012690f:if (uVar36 < 0x1d4c) {
                  puVar24 = puVar15;
                  if (( *(char*)( param_1 + 0x276 ) == '\0' ) || ( puVar24 = (ulong*)ufbxi_swap_endian(param_1, puVar15, 3, 4) ),puVar24 != (ulong*)0x0) {
                     uVar32 = ( ulong ) * (uint*)( (long)puVar24 + 4 );
                     uVar33 = ( ulong )(uint) * puVar24;
                     local_140 = (ulong)(uint)puVar24[1];
                     bVar31 = *(byte*)( (long)puVar15 + 0xc );
                     uVar29 = uVar32;
                     LAB_00126940:if (( uVar33 == 0 ) && ( bVar31 == 0 )) {
                        *param_4 = 1;
                        goto LAB_00126956;
                     }

                     if (*(ulong*)( param_1 + 0x1b08 ) < uVar33) {
                        *(ulong*)( param_1 + 0x1b08 ) = uVar33;
                     }

                     plVar13 = (long*)ufbxi_push_size_zero(param_1 + 0xab0, 0x20, 1);
                     if (plVar13 != (long*)0x0) {
                        uVar18 = (ulong)bVar31;
                        if (*(ulong*)( param_1 + 0x528 ) < uVar18) {
                           lVar14 = ufbxi_yield(param_1, uVar18);
                           if (lVar14 != 0) {
                              *(long*)( param_1 + 0x528 ) = *(long*)( param_1 + 0x528 ) - uVar18;
                              *(ulong*)( param_1 + 0x520 ) = lVar14 + uVar18;
                              goto LAB_00126a5f;
                           }

                        }
 else {
                           lVar14 = *(long*)( param_1 + 0x520 );
                           *(ulong*)( param_1 + 0x528 ) = *(ulong*)( param_1 + 0x528 ) - uVar18;
                           *(ulong*)( param_1 + 0x520 ) = lVar14 + uVar18;
                           if (lVar14 != 0) {
                              LAB_00126a5f:lVar1 = param_1 + 0x1960;
                              lVar14 = ufbxi_push_string_imp(lVar1, lVar14, uVar18, 0, 1, 1);
                              if (lVar14 != 0) {
                                 *(byte*)( (long)plVar13 + 0xc ) = bVar31;
                                 *plVar13 = lVar14;
                                 lVar6 = *(long*)( param_1 + 0x4e8 );
                                 lVar7 = *(long*)( param_1 + 0x520 );
                                 lVar8 = *(long*)( param_1 + 0x518 );
                                 cVar9 = ufbxi_is_array_node(param_1, param_3, lVar14, &local_ba);
                                 if (cVar9 == '\0') {
                                    uVar32 = 8;
                                    if ((uint)uVar29 < 9) {
                                       uVar32 = uVar29;
                                    }

                                    pdVar16 = (double*)ufbxi_push_size(param_5, 0x10, uVar32);
                                    if (pdVar16 == (double*)0x0) goto LAB_001269b8;
                                    plVar13[3] = (long)pdVar16;
                                    if ((uint)uVar29 == 0) {
                                       uVar34 = 0;
                                    }
 else {
                                       uVar29 = 0;
                                       uVar36 = 0;
                                       bVar31 = 0;
                                       do {
                                          if (*(ulong*)( param_1 + 0x528 ) < 0xd) {
                                             pcVar26 = (char*)ufbxi_yield(param_1, 0xd);
                                          }
 else {
                                             pcVar26 = *(char**)( param_1 + 0x520 );
                                          }

                                          if (pcVar26 == (char*)0x0) goto LAB_001269b8;
                                          cVar9 = *pcVar26;
                                          pdVar17 = (double*)( pcVar26 + 1 );
                                          if (*(char*)( param_1 + 0x276 ) != '\0') {
                                             pdVar17 = (double*)ufbxi_swap_endian_value(param_1, pdVar17, (int)cVar9);
                                             if (pdVar17 == (double*)0x0) goto LAB_001269b8;
                                             if (cVar9 < 'T') goto LAB_00126e30;
                                             LAB_00126e8e:bVar25 = cVar9 + 0xa7;
                                             if (bVar25 < 0x14) {
                                                uVar18 = 1L << ( bVar25 & 0x3f );
                                                if (( uVar18 & 0x92e00 ) == 0) {
                                                   if (( uVar18 & 1 ) != 0) {
                                                      sVar3 = *(short*)pdVar17;
                                                      pdVar16[1] = (double)(long)sVar3;
                                                      uVar36 = uVar36 | 1 << ( bVar31 & 0x1f );
                                                      *pdVar16 = (double)(int)sVar3;
                                                      *(long*)( param_1 + 0x528 ) = *(long*)( param_1 + 0x528 ) + -3;
                                                      *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 3;
                                                      goto LAB_00126ef0;
                                                   }

                                                   if (bVar25 != 1) goto switchD_00126e57_caseD_45;
                                                   goto switchD_00126e57_caseD_42;
                                                }

                                                fVar5 = *(float*)( pdVar17 + 1 );
                                                *(long*)( param_1 + 0x528 ) = *(long*)( param_1 + 0x528 ) + -0xd;
                                                *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 0xd;
                                                iVar35 = ufbxi_skip_bytes(param_1, fVar5);
                                                if (iVar35 != 0) goto LAB_00126ef0;
                                                goto LAB_001269b8;
                                             }

                                             switchD_00126e57_caseD_45:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_00127738;
                                             pcVar26 = "Bad value type";
                                             goto LAB_001269d6;
                                          }

                                          if ('S' < cVar9) goto LAB_00126e8e;
                                          LAB_00126e30:dVar20 = _LC24;
                                          if (cVar9 < 'B') goto switchD_00126e57_caseD_45;
                                          switch (cVar9) {
                                             case 'B':
                                             case 'C':
switchD_00126e57_caseD_42:
                            uVar36 = uVar36 | 1 << (bVar31 & 0x1f);
                            bVar25 = *(byte *)pdVar17;
                            pdVar16[1] = (double)(ulong)bVar25;
                            *pdVar16 = (double)bVar25;
                            *(long *)(param_1 + 0x528) = *(long *)(param_1 + 0x528) + -2;
                            *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + 2;
                            break;
                                             case 'D':
                            dVar2 = *pdVar17;
                            dVar37 = (double)((ulong)dVar2 & _LC97);
                            uVar36 = uVar36 | 1 << (bVar31 & 0x1f);
                            *pdVar16 = dVar2;
                            if (dVar20 < dVar37) {
                              dVar20 = NAN;
                              if (dVar2 < 0.0) {
                                dVar20 = -0.0;
                              }
                            }
                            else {
                              dVar20 = (double)(long)dVar2;
                            }
                            pdVar16[1] = dVar20;
                            *(long *)(param_1 + 0x528) = *(long *)(param_1 + 0x528) + -9;
                            *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + 9;
                            break;
                                             default:
                            goto switchD_00126e57_caseD_45;
                                             case 'F':
                            fVar5 = *(float *)pdVar17;
                            *pdVar16 = (double)fVar5;
                            uVar36 = uVar36 | 1 << (bVar31 & 0x1f);
                            if (dVar20 < (double)((ulong)(double)fVar5 & _LC97)) {
                              dVar20 = NAN;
                              if (fVar5 < 0.0) {
                                dVar20 = -0.0;
                              }
                            }
                            else {
                              dVar20 = (double)(long)fVar5;
                            }
                            pdVar16[1] = dVar20;
                            *(long *)(param_1 + 0x528) = *(long *)(param_1 + 0x528) + -5;
                            *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + 5;
                            break;
                                             case 'I':
                            fVar5 = *(float *)pdVar17;
                            pdVar16[1] = (double)(long)(int)fVar5;
                            uVar36 = uVar36 | 1 << (bVar31 & 0x1f);
                            *pdVar16 = (double)(int)fVar5;
                            *(long *)(param_1 + 0x528) = *(long *)(param_1 + 0x528) + -5;
                            *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + 5;
                            break;
                                             case 'L':
                            uVar36 = uVar36 | 1 << (bVar31 & 0x1f);
                            dVar20 = *pdVar17;
                            pdVar16[1] = dVar20;
                            *pdVar16 = (double)(long)dVar20;
                            *(long *)(param_1 + 0x528) = *(long *)(param_1 + 0x528) + -9;
                            *(long *)(param_1 + 0x520) = *(long *)(param_1 + 0x520) + 9;
                            break;
                                             case 'R':
                                             case 'S':
                            fVar5 = *(float *)pdVar17;
                            uVar19 = (ulong)(uint)fVar5;
                            uVar18 = *(long *)(param_1 + 0x528) - 5;
                            lVar22 = *(long *)(param_1 + 0x520) + 5;
                            *(ulong *)(param_1 + 0x528) = uVar18;
                            *(long *)(param_1 + 0x520) = lVar22;
                            if (uVar18 < uVar19) {
                              lVar22 = ufbxi_yield(param_1,uVar19);
                              if (lVar22 == 0) goto LAB_001269b8;
                              *(long *)(param_1 + 0x528) = *(long *)(param_1 + 0x528) - uVar19;
                              *(ulong *)(param_1 + 0x520) = lVar22 + uVar19;
LAB_0012778b:
                              local_b8 = local_b8 & 0xffffffffffffff00;
                              uVar10 = ufbxi_hash_string_check_ascii_constprop_0
                                                 (lVar22,uVar19,&local_b8);
                              if ((char)local_b8 == '\0') {
                                iVar35 = ufbxi_push_sanitized_string
                                                   (lVar1,pdVar16,lVar22,uVar19,uVar10,1);
                                if (iVar35 == 0) goto LAB_001269b8;
                              }
                              else {
                                cVar9 = ufbxi_is_raw_string_isra_0(param_1,param_3,lVar14);
                                iVar35 = ufbxi_push_sanitized_string
                                                   (lVar1,pdVar16,lVar22,uVar19,uVar10);
                                if (iVar35 == 0) goto LAB_001269b8;
                                if (cVar9 != '\0') {
                                  *(undefined4 *)((long)pdVar16 + 0xc) = 0xffffffff;
                                }
                              }
                            }
                            else {
                              *(ulong *)(param_1 + 0x528) = uVar18 - uVar19;
                              *(ulong *)(param_1 + 0x520) = lVar22 + uVar19;
                              if (fVar5 != 0.0) goto LAB_0012778b;
                              pdVar16[1] = 0.0;
                              *pdVar16 = (double)&ufbxi_empty_char;
                            }
                            uVar36 = uVar36 | 2 << (bVar31 & 0x1f);
                                          }

                                          LAB_00126ef0:uVar34 = (undefined2)uVar36;
                                          uVar29 = uVar29 + 1;
                                          bVar31 = bVar31 + 2;
                                          pdVar16 = pdVar16 + 2;
                                       }
 while ( uVar32 != uVar29 );
                                    }

                                    *(undefined2*)( (long)plVar13 + 0xe ) = uVar34;
                                    LAB_00126b86:uVar32 = ( *(long*)( param_1 + 0x520 ) - *(long*)( param_1 + 0x518 ) ) + *(long*)( param_1 + 0x4e8 );
                                    local_140 = ( lVar7 - lVar8 ) + lVar6 + local_140;
                                    if (uVar32 <= local_140) {
                                       if (uVar32 < local_140) {
                                          iVar35 = ufbxi_skip_bytes(param_1, local_140 - uVar32);
                                          if (iVar35 == 0) goto LAB_001269b8;
                                          uVar32 = ( *(long*)( param_1 + 0x520 ) - *(long*)( param_1 + 0x518 ) ) + *(long*)( param_1 + 0x4e8 );
                                       }

                                       if (param_6 == '\0') {
                                          *(bool*)( param_1 + 0x1ae8 ) = uVar32 < uVar33;
                                          LAB_00126956:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                                             return 1;
                                          }

                                          goto LAB_00127738;
                                       }

                                       iVar35 = 0;
                                       uVar10 = ufbxi_update_parse_state(param_3, *plVar13);
                                       if (uVar32 < uVar33) {
                                          do {
                                             local_b8 = local_b8 & 0xffffffffffffff00;
                                             iVar11 = ufbxi_binary_parse_node(param_1, param_2 + 1, uVar10, &local_b8, param_5, 1);
                                             if (iVar11 == 0) goto LAB_001269b8;
                                             if ((char)local_b8 != '\0') goto LAB_00126c70;
                                             iVar35 = iVar35 + 1;
                                             uVar32 = ( *(long*)( param_1 + 0x520 ) - *(long*)( param_1 + 0x518 ) ) + *(long*)( param_1 + 0x4e8 );
                                          }
 while ( uVar32 < uVar33 );
                                          if (uVar32 == uVar33) {
                                             LAB_00126c70:*(int*)( plVar13 + 1 ) = iVar35;
                                             if (iVar35 != 0) {
                                                lVar14 = ufbxi_push_pop_size(param_5, param_1 + 0xab0, 0x20, iVar35);
                                                plVar13[2] = lVar14;
                                                if (lVar14 == 0) goto LAB_001269b8;
                                             }

                                             goto LAB_00126956;
                                          }

                                       }
 else if (( uVar33 == uVar32 ) || ( uVar33 == 0 )) {
                                          *(undefined4*)( plVar13 + 1 ) = 0;
                                          goto LAB_00126956;
                                       }

                                    }

                                 }
 else if (local_ba == 'b') {
                                    puVar15 = (ulong*)ufbxi_push_size(param_5, 0x18, 1);
                                    if (puVar15 != (ulong*)0x0) {
                                       local_138 = 'c';
                                       cVar9 = 'b';
                                       goto LAB_00126b26;
                                    }

                                 }
 else if (local_ba == 'r') {
                                    puVar15 = (ulong*)ufbxi_push_size(param_5, 0x18, 1);
                                    if (puVar15 != (ulong*)0x0) {
                                       local_138 = 'd';
                                       cVar9 = 'd';
                                       goto LAB_00126b26;
                                    }

                                 }
 else {
                                    puVar15 = (ulong*)ufbxi_push_size(param_5, 0x18, 1);
                                    if (puVar15 != (ulong*)0x0) {
                                       local_138 = local_ba;
                                       cVar9 = local_ba;
                                       LAB_00126b26:plVar13[3] = (long)puVar15;
                                       *(undefined2*)( (long)plVar13 + 0xe ) = 3;
                                       *(char*)( puVar15 + 2 ) = cVar9;
                                       if (*(ulong*)( param_1 + 0x528 ) < 0xd) {
                                          pcVar26 = (char*)ufbxi_yield(param_1, 0xd);
                                       }
 else {
                                          pcVar26 = *(char**)( param_1 + 0x520 );
                                       }

                                       if (pcVar26 != (char*)0x0) {
                                          cVar9 = *pcVar26;
                                          if (( uVar32 == 0 ) || ( local_138 == '-' )) {
                                             LAB_00126b62:uVar29 = 0x14b040;
                                             uVar32 = 0;
                                             *(char*)( puVar15 + 2 ) = local_138;
                                          }
 else {
                                             if (cVar9 == '-') {
                                                local_138 = '-';
                                                goto LAB_00126b62;
                                             }

                                             if (0x3c < ( byte )(cVar9 - 0x30U)) {
                                                LAB_00127184:uVar29 = ufbxi_push_array_data_isra_0(param_1, local_ba, local_b9, uVar32, param_5);
                                                if (uVar29 != 0) {
                                                   iVar35 = ufbxi_binary_parse_multivalue_array(param_1, (int)local_138, uVar29, uVar32, param_5);
                                                   joined_r0x001271ca:if (iVar35 != 0) goto LAB_00126b75;
                                                }

                                                goto LAB_001269b8;
                                             }

                                             uVar29 = 1L << ( cVar9 - 0x30U & 0x3f );
                                             if (( uVar29 & 0x125c000000000000 ) == 0) {
                                                if (( uVar29 & 1 ) != 0) goto LAB_00126b62;
                                                goto LAB_00127184;
                                             }

                                             if (*(char*)( param_1 + 0x276 ) == '\0') {
                                                uVar36 = *(uint*)( pcVar26 + 5 );
                                                uVar32 = ( ulong ) * (uint*)( pcVar26 + 1 );
                                                uVar4 = *(uint*)( pcVar26 + 9 );
                                                *(long*)( param_1 + 0x528 ) = *(long*)( param_1 + 0x528 ) + -0xd;
                                                *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 0xd;
                                                LAB_00126f8e:if (cVar9 == 'b') {
                                                   iVar35 = 99;
                                                   cVar9 = 'c';
                                                }
 else {
                                                   iVar35 = (int)cVar9;
                                                }

                                             }
 else {
                                                puVar21 = (uint*)ufbxi_swap_endian(param_1, pcVar26 + 1, 3, 4);
                                                if (puVar21 == (uint*)0x0) goto LAB_001269b8;
                                                uVar36 = puVar21[1];
                                                uVar32 = ( ulong ) * puVar21;
                                                cVar9 = *pcVar26;
                                                uVar4 = puVar21[2];
                                                *(long*)( param_1 + 0x528 ) = *(long*)( param_1 + 0x528 ) + -0xd;
                                                *(long*)( param_1 + 0x520 ) = *(long*)( param_1 + 0x520 ) + 0xd;
                                                if (cVar9 != 'r') goto LAB_00126f8e;
                                                iVar35 = 0x72;
                                             }

                                             uVar18 = ufbxi_array_type_size(iVar35, local_ba);
                                             uVar19 = uVar18 * uVar32;
                                             uVar29 = ufbxi_push_array_data_isra_0(param_1);
                                             if (uVar29 == 0) goto LAB_001269b8;
                                             lVar14 = *(long*)( param_1 + 0x520 );
                                             uVar30 = (ulong)uVar4;
                                             uVar27 = *(long*)( param_1 + 0x4e8 ) + ( lVar14 - *(long*)( param_1 + 0x518 ) );
                                             if (~uVar30 <= uVar27) goto LAB_001269b8;
                                             uVar28 = uVar27 + uVar30;
                                             if (*(ulong*)( param_1 + 0x1b08 ) < uVar28) {
                                                *(ulong*)( param_1 + 0x1b08 ) = uVar28;
                                             }

                                             local_100 = uVar29;
                                             if (( ( *(char*)( param_1 + 0x2948 ) == '\0' ) || ( uVar36 != 1 ) ) || ( uVar4 < 0x100 )) {
                                                if (( local_138 != cVar9 ) || ( *(char*)( param_1 + 0x275 ) != *(char*)( param_1 + 0x276 ) )) goto LAB_00127080;
                                                LAB_001270cc:if (uVar36 != 0) {
                                                   if (uVar36 != 1) {
                                                      if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                                                         pcVar26 = "Bad array encoding";
                                                         goto LAB_001269d6;
                                                      }

                                                      goto LAB_00127738;
                                                   }

                                                   lVar14 = *(long*)( param_1 + 0x520 );
                                                   goto LAB_001275ca;
                                                }

                                                if (uVar30 != uVar19) goto LAB_001269b8;
                                                uVar18 = *(ulong*)( param_1 + 0x528 );
                                                uVar27 = *(long*)( param_1 + 0x530 ) + uVar18;
                                                if (( uVar27 < uVar19 ) || ( local_100 == uVar29 )) {
                                                   iVar11 = ufbxi_read_to(param_1, local_100, uVar19);
                                                   if (iVar11 == 0) goto LAB_001269b8;
                                                }
 else {
                                                   if (uVar18 < uVar19) {
                                                      lVar14 = 0;
                                                      *(ulong*)( param_1 + 0x530 ) = uVar27 - uVar19;
                                                   }
 else {
                                                      lVar14 = uVar18 - uVar19;
                                                   }

                                                   local_100 = *(ulong*)( param_1 + 0x520 );
                                                   *(long*)( param_1 + 0x528 ) = lVar14;
                                                   *(ulong*)( param_1 + 0x520 ) = uVar19 + local_100;
                                                }

                                             }
 else {
                                                if (*(char*)( param_1 + 0x276 ) == '\0') {
                                                   if (*(char*)( param_1 + 0x275 ) == '\0') {
                                                      puVar23 = (undefined8*)ufbxi_thread_pool_create_task(param_1 + 0x2950, ufbxi_deflate_task_fn);
                                                      if (puVar23 != (undefined8*)0x0) {
                                                         puVar24 = (ulong*)ufbxi_push_size_zero(param_5, 0x40, 1);
                                                         if (puVar24 != (ulong*)0x0) {
                                                            pcVar26 = *(char**)( param_1 + 0x2198 );
                                                            if (*pcVar26 == '\0') {
                                                               ufbxi_init_static_huff(pcVar26 + 4, 0);
                                                               *pcVar26 = '\x01';
                                                            }

                                                            *(char*)( puVar24 + 3 ) = cVar9;
                                                            *puVar24 = uVar30;
                                                            puVar24[1] = uVar18;
                                                            puVar24[2] = uVar32;
                                                            *(char*)( (long)puVar24 + 0x19 ) = local_138;
                                                            uVar19 = puVar15[2];
                                                            puVar24[6] = uVar29;
                                                            puVar24[7] = (ulong)pcVar26;
                                                            *(char*)( (long)puVar24 + 0x1a ) = (char)uVar19;
                                                            if (*(long*)( param_1 + 0x4f0 ) == 0) {
                                                               uVar19 = *(ulong*)( param_1 + 0x520 );
                                                            }
 else {
                                                               uVar19 = ufbxi_push_size(param_5, 1, uVar30);
                                                               if (( uVar19 == 0 ) || ( iVar35 = iVar35 == 0 )) goto LAB_001269b8;
                                                            }

                                                            puVar24[4] = uVar19;
                                                            if (local_138 == cVar9) {
                                                               puVar24[5] = uVar29;
                                                            }
 else {
                                                               uVar18 = ufbxi_push_size(param_5, uVar18, uVar32);
                                                               puVar24[5] = uVar18;
                                                               if (uVar18 == 0) goto LAB_001269b8;
                                                            }

                                                            *puVar23 = puVar24;
                                                            *(int*)( param_1 + 0x29b0 ) = *(int*)( param_1 + 0x29b0 ) + 1;
                                                            *puVar15 = uVar29;
                                                            puVar15[1] = uVar32;
                                                            goto LAB_00126b86;
                                                         }

                                                         goto LAB_001269b8;
                                                      }

                                                      if (( local_138 == cVar9 ) && ( *(char*)( param_1 + 0x276 ) == *(char*)( param_1 + 0x275 ) )) {
                                                         lVar14 = *(long*)( param_1 + 0x520 );
                                                         local_100 = uVar29;
                                                         goto LAB_001275ca;
                                                      }

                                                   }

                                                   LAB_00127080:cVar9 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_1 + 0xa00, param_1 + 0xa08, uVar19);
                                                   if (cVar9 == '\0') goto LAB_001269b8;
                                                   local_100 = *(ulong*)( param_1 + 0xa00 );
                                                   goto LAB_001270cc;
                                                }

                                                if (( local_138 != cVar9 ) || ( *(char*)( param_1 + 0x275 ) == '\0' )) goto LAB_00127080;
                                                LAB_001275ca:local_a8 = *(long*)( param_1 + 0x528 ) + *(long*)( param_1 + 0x530 );
                                                *(undefined8*)( param_1 + 0x528 ) = 0;
                                                *(ulong*)( param_1 + 0x530 ) = local_a8;
                                                local_58 = 0;
                                                local_50 = 0;
                                                if (*(long*)( param_1 + 0x3a0 ) == 0) {
                                                   local_70 = 0;
                                                   local_80 = 0;
                                                   uStack_78 = 0;
                                                   local_68 = (undefined1[16])0x0;
                                                }
 else {
                                                   local_80 = *(undefined8*)( param_1 + 0x3a0 );
                                                   uStack_78 = *(undefined8*)( param_1 + 0x3a8 );
                                                   local_68._8_8_ = *(long*)( param_1 + 0x1b08 ) - uVar28;
                                                   local_68._0_8_ = uVar27;
                                                   local_70 = *(undefined8*)( param_1 + 0x1b18 );
                                                }

                                                local_b8 = uVar30;
                                                local_b0 = lVar14;
                                                if (local_a8 < uVar30) {
                                                   local_a0 = *(undefined8*)( param_1 + 0x508 );
                                                   *(undefined8*)( param_1 + 0x530 ) = 0;
                                                   local_98 = *(undefined8*)( param_1 + 0x510 );
                                                   local_90 = *(undefined8*)( param_1 + 0x4f0 );
                                                   local_88 = *(undefined8*)( param_1 + 0x500 );
                                                   *(ulong*)( param_1 + 0x4e8 ) = ( *(long*)( param_1 + 0x4e8 ) + uVar30 ) - local_a8;
                                                   *(ulong*)( param_1 + 0x520 ) = local_a8 + lVar14;
                                                }
 else {
                                                   *(ulong*)( param_1 + 0x520 ) = lVar14 + uVar30;
                                                   *(ulong*)( param_1 + 0x530 ) = local_a8 - uVar30;
                                                   local_a0 = 0;
                                                   local_98 = 0;
                                                   local_90 = 0;
                                                   local_88 = 0;
                                                   iVar11 = ufbxi_resume_progress(param_1);
                                                   if (iVar11 == 0) goto LAB_001269b8;
                                                }

                                                uVar18 = ufbx_inflate(local_100, uVar19, &local_b8, *(undefined8*)( param_1 + 0x2198 ));
                                                if (uVar18 == 0xffffffffffffffe4) {
                                                   if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_00127738;
                                                   pcVar26 = "$Cancelled";
                                                   goto LAB_001269d6;
                                                }

                                                if (uVar19 != uVar18) {
                                                   pcVar26 = "$Bad DEFLATE data";
                                                   if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_001269d6;
                                                   goto LAB_00127738;
                                                }

                                             }

                                             if (local_100 != uVar29) {
                                                iVar35 = ufbxi_binary_convert_array(param_1, iVar35, (int)local_138, local_100, uVar29, uVar32);
                                                goto joined_r0x001271ca;
                                             }

                                          }

                                          LAB_00126b75:*puVar15 = uVar29;
                                          puVar15[1] = uVar32;
                                          if (local_ba == 'b') {
                                             ufbxi_postprocess_bool_array(uVar29, uVar32);
                                          }

                                          goto LAB_00126b86;
                                       }

                                    }

                                 }

                              }

                           }

                        }

                     }

                  }

               }
 else {
                  puVar24 = puVar15;
                  if (( *(char*)( param_1 + 0x276 ) == '\0' ) || ( puVar24 = (ulong*)ufbxi_swap_endian(param_1, puVar15, 3, 8) ),puVar24 != (ulong*)0x0) {
                     uVar32 = puVar24[1];
                     uVar33 = *puVar24;
                     local_140 = puVar24[2];
                     bVar31 = (byte)puVar15[3];
                     uVar29 = uVar32 & 0xffffffff;
                     if (uVar32 >> 0x20 == 0) goto LAB_00126940;
                  }

               }

            }

         }

      }

      LAB_001269b8:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         pcVar26 = "";
         LAB_001269d6:uVar12 = ufbxi_fail_imp_constprop_0(param_1, pcVar26);
         return uVar12;
      }

      LAB_00127738:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   undefined8 ufbxi_parse_legacy_toplevel(long param_1) {
      long lVar1;
      int iVar2;
      undefined8 uVar3;
      long in_FS_OFFSET;
      char local_21;
      long local_20;
      local_20 = *(long*)( in_FS_OFFSET + 0x28 );
      local_21 = '\0';
      if (*(char*)( param_1 + 0x274 ) == '\0') {
         iVar2 = ufbxi_binary_parse_node(param_1, 0, 0, &local_21, param_1 + 0xa30, 1);
         if (iVar2 != 0) {
            if (local_21 != '\0') goto LAB_00127c25;
            LAB_00127c68:lVar1 = param_1 + 0x21b8;
            ufbxi_pop_size(param_1 + 0xab0, 0x20, 1, lVar1, 0);
            *(undefined8*)( param_1 + 0x1ac0 ) = 0;
            *(long*)( param_1 + 0x1ab8 ) = lVar1;
            if (( *(char*)( param_1 + 0x495 ) == '\0' ) || ( iVar2 = iVar2 != 0 )) goto LAB_00127c42;
         }

      }
 else {
         iVar2 = ufbxi_ascii_parse_node();
         if (iVar2 != 0) {
            if (local_21 == '\0') goto LAB_00127c68;
            LAB_00127c25:*(undefined8*)( param_1 + 0x1ab8 ) = 0;
            *(undefined8*)( param_1 + 0x1ac0 ) = 0;
            *(undefined1*)( param_1 + 0x1ab0 ) = 1;
            LAB_00127c42:if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_00127cf9;
         }

      }

      if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar3;
      }

      LAB_00127cf9:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   undefined8 ufbxi_parse_toplevel_child_imp(long param_1, undefined4 param_2, undefined8 param_3, undefined8 param_4) {
      int iVar1;
      undefined8 uVar2;
      if (*(char*)( param_1 + 0x274 ) == '\0') {
         iVar1 = ufbxi_binary_parse_node(param_1, 0, param_2, param_4, param_3, 1);
      }
 else {
         iVar1 = ufbxi_ascii_parse_node();
      }

      if (iVar1 != 0) {
         return 1;
      }

      uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar2;
   }

   undefined8 ufbxi_parse_toplevel_child(long param_1, long *param_2, long param_3) {
      char cVar1;
      undefined8 *puVar2;
      ulong uVar3;
      undefined4 uVar4;
      int iVar5;
      long lVar6;
      undefined8 uVar7;
      long in_FS_OFFSET;
      char local_31;
      long local_30;
      puVar2 = *(undefined8**)( param_1 + 0x1ab8 );
      local_30 = *(long*)( in_FS_OFFSET + 0x28 );
      if (puVar2 == (undefined8*)0x0) {
         LAB_00127e10:*param_2 = 0;
      }
 else {
         uVar3 = *(ulong*)( param_1 + 0x1ac0 );
         if (uVar3 == 0xffffffffffffffff) {
            if (param_3 == 0) {
               lVar6 = param_1 + 0xa70;
               ufbxi_buf_clear(lVar6);
               local_31 = '\0';
               uVar4 = ufbxi_update_parse_state(0, **(undefined8**)( param_1 + 0x1ab8 ));
            }
 else {
               local_31 = '\0';
               uVar4 = ufbxi_update_parse_state(0, *puVar2);
               lVar6 = param_3;
            }

            iVar5 = ufbxi_parse_toplevel_child_imp(param_1, uVar4, lVar6, &local_31);
            if (iVar5 != 0) {
               if (local_31 != '\0') goto LAB_00127e10;
               if (param_3 == 0) {
                  lVar6 = param_1 + 0x1ac8;
               }
 else {
                  lVar6 = ufbxi_push_size_zero(param_3, 0x20, 1);
                  if (lVar6 == 0) goto LAB_00127e88;
               }

               ufbxi_pop_size(param_1 + 0xab0, 0x20, 1, lVar6, 0);
               cVar1 = *(char*)( param_1 + 0x495 );
               *param_2 = lVar6;
               if (( cVar1 == '\0' ) || ( iVar5 = iVar5 != 0 )) goto LAB_00127dae;
            }

            LAB_00127e88:if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar7;
            }

            goto LAB_00127ef4;
         }

         if (uVar3 == *(uint*)( puVar2 + 1 )) goto LAB_00127e10;
         lVar6 = puVar2[2];
         *(ulong*)( param_1 + 0x1ac0 ) = uVar3 + 1;
         *param_2 = uVar3 * 0x20 + lVar6;
      }

      LAB_00127dae:if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

      LAB_00127ef4:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   undefined8 ufbxi_read_takes(undefined8 param_1) {
      int iVar1;
      undefined8 uVar2;
      long in_FS_OFFSET;
      long *local_28;
      long local_20;
      local_20 = *(long*)( in_FS_OFFSET + 0x28 );
      do {
         iVar1 = ufbxi_parse_toplevel_child(param_1, &local_28, 0);
         if (iVar1 == 0) break;
         if (local_28 == (long*)0x0) {
            if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_00127f9e;
         }

      }
 while ( ( (undefined5*)*local_28 != &ufbxi_Take ) || ( iVar1 = iVar1 != 0 ) );
      if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar2 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar2;
      }

      LAB_00127f9e:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   undefined8 ufbxi_read_document(long param_1) {
      bool bVar1;
      int iVar2;
      undefined8 uVar3;
      long lVar4;
      long in_FS_OFFSET;
      long *local_38;
      long local_30;
      bVar1 = false;
      local_30 = *(long*)( in_FS_OFFSET + 0x28 );
      LAB_00127fe0:do {
         iVar2 = ufbxi_parse_toplevel_child(param_1, &local_38, 0);
         if (iVar2 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar3;
            }

            LAB_001280a0:/* WARNING: Subroutine does not return */__stack_chk_fail();
         }

         if (local_38 == (long*)0x0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_001280a0;
         }

      }
 while ( (char*)*local_38 != "Document" );
      if (!bVar1) {
         lVar4 = ufbxi_find_child_isra_0((int)local_38[1], local_38[2], "RootNode");
         if (( lVar4 == 0 ) || ( ( *(ushort*)( lVar4 + 0xe ) & 3 ) != 1 )) goto LAB_00127fe0;
         *(undefined8*)( param_1 + 0x21a8 ) = *(undefined8*)( *(long*)( lVar4 + 0x18 ) + 8 );
      }

      bVar1 = true;
      goto LAB_00127fe0;
   }

   undefined8 ufbxi_read_definitions(long param_1) {
      uint uVar1;
      long *plVar2;
      undefined8 *puVar3;
      long *plVar4;
      int iVar5;
      long *plVar6;
      long lVar7;
      ulong uVar8;
      undefined8 uVar9;
      char *pcVar10;
      long in_FS_OFFSET;
      long *local_48;
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      do {
         do {
            do {
               iVar5 = ufbxi_parse_toplevel_child(param_1, &local_48, 0);
               plVar4 = local_48;
               if (iVar5 == 0) goto LAB_00128220;
               if (local_48 == (long*)0x0) {
                  lVar7 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 0x38, *(undefined8*)( param_1 + 0x1940 ));
                  *(long*)( param_1 + 0x1938 ) = lVar7;
                  if (lVar7 != 0) {
                     if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                        return 1;
                     }

                     goto LAB_001282d4;
                  }

                  goto LAB_00128220;
               }

            }
 while ( (char*)*local_48 != "ObjectType" );
            plVar6 = (long*)ufbxi_push_size_zero(param_1 + 0xab0, 0x38, 1);
            *(long*)( param_1 + 0x1940 ) = *(long*)( param_1 + 0x1940 ) + 1;
            if (( plVar6 == (long*)0x0 ) || ( ( *(ushort*)( (long)plVar4 + 0xe ) & 3 ) != 2 )) goto LAB_00128220;
            plVar2 = (long*)plVar4[3];
            lVar7 = *plVar2;
            if (*(int*)( (long)plVar2 + 0xc ) != 0) {
               if (*(int*)( (long)plVar2 + 0xc ) == -1) goto LAB_00128220;
               lVar7 = lVar7 + 1 + ( ulong ) * (uint*)( plVar2 + 1 );
            }

            *plVar6 = lVar7;
            lVar7 = ufbxi_find_child_isra_0((int)plVar4[1], plVar4[2], "PropertyTemplate");
         }
 while ( lVar7 == 0 );
         if (( *(ushort*)( lVar7 + 0xe ) & 3 ) != 2) break;
         puVar3 = *(undefined8**)( lVar7 + 0x18 );
         pcVar10 = (char*)*puVar3;
         uVar8 = ( ulong ) * (uint*)( puVar3 + 1 );
         uVar1 = *(uint*)( (long)puVar3 + 0xc );
         if (uVar1 != 0) {
            if (uVar1 == 0xffffffff) break;
            pcVar10 = pcVar10 + uVar8 + 1;
            uVar8 = (ulong)uVar1;
         }

         plVar6[1] = (long)pcVar10;
         plVar6[2] = uVar8;
         if (( ( ( 3 < uVar8 ) && ( *pcVar10 == 'F' ) ) && ( pcVar10[1] == 'b' ) ) && ( pcVar10[2] == 'x' )) {
            plVar6[1] = (long)( pcVar10 + 3 );
            plVar6[2] = uVar8 - 3;
            if (( uVar8 - 3 == 8 ) && ( *(long*)( pcVar10 + 3 ) == 0x70756f7247444f4c )) {
               plVar6[1] = (long)"LodGroup";
            }

            iVar5 = ufbxi_push_string_place_str(param_1 + 0x1960, plVar6 + 1, 0);
            if (iVar5 == 0) break;
         }

         iVar5 = ufbxi_read_properties(param_1, lVar7, plVar6 + 3);
      }
 while ( iVar5 != 0 );
      LAB_00128220:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar9 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar9;
      }

      LAB_001282d4:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   undefined8 ufbxi_read_connections(long param_1) {
      ushort uVar1;
      uint uVar2;
      undefined8 *puVar3;
      int iVar4;
      undefined8 uVar5;
      ulong *puVar6;
      undefined4 *puVar7;
      ulong uVar8;
      ulong uVar9;
      undefined1 *puVar10;
      undefined1 *puVar11;
      ulong uVar12;
      long in_FS_OFFSET;
      ulong local_80;
      long local_70;
      undefined1 *local_68;
      ulong uStack_60;
      undefined1 *local_58;
      ulong uStack_50;
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      LAB_00128320:do {
         iVar4 = ufbxi_parse_toplevel_child(param_1, &local_70, 0);
         if (iVar4 == 0) {
            LAB_001285e0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar5 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar5;
            }

            LAB_00128844:/* WARNING: Subroutine does not return */__stack_chk_fail();
         }

         if (local_70 == 0) {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_00128844;
         }

         uVar1 = *(ushort*)( local_70 + 0xe );
         local_68 = &ufbxi_empty_char;
         uStack_60 = 0;
         local_58 = &ufbxi_empty_char;
         uStack_50 = 0;
         if (6999 < *(uint*)( param_1 + 0x268 )) goto LAB_00128460;
      }
 while ( ( uVar1 & 3 ) != 2 );
      puVar3 = *(undefined8**)( local_70 + 0x18 );
      puVar7 = (undefined4*)*puVar3;
      if (puVar7 == &ufbxi_OO) {
         if (( ( uVar1 & 0xc ) != 8 ) || ( uVar8 = puVar3[2](uVar1 & 0x30) != 0x20 )) goto LAB_00128320;
         local_80 = puVar3[4];
      }
 else {
         if (puVar7 == &ufbxi_OP) {
            if (( ( ( uVar1 & 0xc ) != 8 ) || ( uVar8 = puVar3[2](uVar1 & 0x30) != 0x20 ) ) || ( local_80 = puVar3[4](uVar1 & 0xc0) != 0x80 )) goto LAB_00128320;
            local_58 = (undefined1*)puVar3[6];
            uStack_50 = ( ulong ) * (uint*)( puVar3 + 7 );
         }
 else {
            if (puVar7 == &ufbxi_PO) {
               if (( ( uVar1 & 0xc ) != 8 ) || ( uVar8 = puVar3[2](uVar1 & 0x30) != 0x20 )) goto LAB_00128320;
               local_68 = (undefined1*)puVar3[4];
               uStack_60 = ( ulong ) * (uint*)( puVar3 + 5 );
               if (( uVar1 & 0xc0 ) != 0x80) goto LAB_00128320;
               local_80 = puVar3[6];
               if (uStack_60 == 0) goto LAB_001286b8;
            }
 else {
               if (( ( puVar7 != &ufbxi_PP ) || ( ( uVar1 & 0xc ) != 8 ) ) || ( uVar8 = puVar3[2](uVar1 & 0x30) != 0x20 )) goto LAB_00128320;
               local_68 = (undefined1*)puVar3[4];
               uStack_60 = ( ulong ) * (uint*)( puVar3 + 5 );
               if (( ( uVar1 & 0xc0 ) != 0x80 ) || ( local_80 = puVar3[6](uVar1 & 0x300) != 0x200 )) goto LAB_00128320;
               local_58 = (undefined1*)puVar3[8];
               uStack_50 = ( ulong ) * (uint*)( puVar3 + 9 );
               if (uStack_60 == 0) goto LAB_001285b8;
            }

            iVar4 = ufbxi_push_string_place_str(param_1 + 0x1960, &local_68, 0);
            if (iVar4 == 0) goto LAB_001285e0;
         }

         LAB_001285b8:if (( uStack_50 != 0 ) && ( iVar4 = ufbxi_push_string_place_str(param_1 + 0x1960, &local_58, 0) ),iVar4 == 0) goto LAB_001285e0;
      }

      LAB_001286b8:uVar12 = uVar8 >> 1 | 0x8000000000000000;
      local_80 = local_80 >> 1 | 0x8000000000000000;
      puVar10 = local_58;
      uVar8 = uStack_50;
      goto LAB_00128648;
      LAB_00128460:if (( uVar1 & 3 ) == 2) {
         puVar3 = *(undefined8**)( local_70 + 0x18 );
         puVar7 = (undefined4*)*puVar3;
         if (( *(int*)( (long)puVar3 + 0xc ) == 0 ) || ( puVar7 = (undefined4*)( (long)puVar7 + ( ulong ) * (uint*)( puVar3 + 1 ) + 1 ) * (int*)( (long)puVar3 + 0xc ) != -1 )) {
            puVar10 = local_58;
            uVar8 = uStack_50;
            if (puVar7 == &ufbxi_OO) {
               if (( ( uVar1 & 0xc ) != 4 ) || ( uVar12 = puVar3[3](uVar1 & 0x30) != 0x10 )) goto LAB_00128320;
               local_80 = puVar3[5];
            }
 else if (puVar7 == &ufbxi_OP) {
               if (( ( ( uVar1 & 0xc ) != 4 ) || ( uVar12 = puVar3[3](uVar1 & 0x30) != 0x10 ) ) || ( local_80 = puVar3[5](uVar1 & 0xc0) != 0x80 )) goto LAB_00128320;
               uVar2 = *(uint*)( (long)puVar3 + 0x3c );
               puVar10 = (undefined1*)puVar3[6];
               uVar8 = ( ulong ) * (uint*)( puVar3 + 7 );
               if (uVar2 != 0) {
                  if (uVar2 == 0xffffffff) goto LAB_00128320;
                  puVar10 = (undefined1*)puVar3[6] + ( ulong ) * (uint*)( puVar3 + 7 ) + 1;
                  uVar8 = (ulong)uVar2;
               }

            }
 else if (puVar7 == &ufbxi_PO) {
               if (( ( uVar1 & 0xc ) != 4 ) || ( uVar12 = puVar3[3](uVar1 & 0x30) != 0x20 )) goto LAB_00128320;
               uVar2 = *(uint*)( (long)puVar3 + 0x2c );
               puVar11 = (undefined1*)puVar3[4];
               uVar9 = ( ulong ) * (uint*)( puVar3 + 5 );
               if (uVar2 != 0) {
                  if (uVar2 == 0xffffffff) goto LAB_00128320;
                  puVar11 = puVar11 + uVar9 + 1;
                  uVar9 = (ulong)uVar2;
               }

               local_68 = puVar11;
               uStack_60 = uVar9;
               if (( uVar1 & 0xc0 ) != 0x40) goto LAB_00128320;
               local_80 = puVar3[7];
            }
 else {
               if (( ( puVar7 != &ufbxi_PP ) || ( ( uVar1 & 0xc ) != 4 ) ) || ( uVar12 = puVar3[3](uVar1 & 0x30) != 0x20 )) goto LAB_00128320;
               uVar2 = *(uint*)( (long)puVar3 + 0x2c );
               puVar10 = (undefined1*)puVar3[4];
               uVar8 = ( ulong ) * (uint*)( puVar3 + 5 );
               if (uVar2 != 0) {
                  if (uVar2 == 0xffffffff) goto LAB_00128320;
                  puVar10 = puVar10 + uVar8 + 1;
                  uVar8 = (ulong)uVar2;
               }

               local_68 = puVar10;
               uStack_60 = uVar8;
               if (( ( uVar1 & 0xc0 ) != 0x40 ) || ( local_80 = puVar3[7](uVar1 & 0x300) != 0x200 )) goto LAB_00128320;
               uVar2 = *(uint*)( (long)puVar3 + 0x4c );
               puVar10 = (undefined1*)puVar3[8];
               uVar8 = ( ulong ) * (uint*)( puVar3 + 9 );
               if (uVar2 != 0) {
                  if (uVar2 == 0xffffffff) goto LAB_00128320;
                  puVar10 = (undefined1*)puVar3[8] + ( ulong ) * (uint*)( puVar3 + 9 ) + 1;
                  uVar8 = (ulong)uVar2;
               }

            }

            LAB_00128648:uStack_50 = uVar8;
            local_58 = puVar10;
            puVar6 = (ulong*)ufbxi_push_size(param_1 + 0xaf0, 0x30, 1);
            if (puVar6 == (ulong*)0x0) goto LAB_001285e0;
            *puVar6 = uVar12;
            puVar6[1] = local_80;
            puVar6[2] = (ulong)local_68;
            puVar6[3] = uStack_60;
            puVar6[4] = (ulong)local_58;
            puVar6[5] = uStack_50;
         }

      }

      goto LAB_00128320;
   }

   undefined8 ufbxi_parse_toplevel(long param_1, long param_2) {
      long lVar1;
      ulong uVar2;
      char cVar3;
      int iVar4;
      undefined4 uVar5;
      int iVar6;
      long lVar7;
      undefined8 uVar8;
      long *plVar9;
      ulong uVar10;
      long *plVar11;
      long in_FS_OFFSET;
      char local_41;
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      plVar9 = *(long**)( param_1 + 0x1a98 );
      plVar11 = plVar9 + *(long*)( param_1 + 0x1aa0 ) * 4;
      for (; plVar9 != plVar11; plVar9 = plVar9 + 4) {
         if (*plVar9 == param_2) goto LAB_0012889e;
      }

      lVar1 = param_1 + 0xa30;
      if (*(char*)( param_1 + 0x1ab0 ) == '\0') {
         while (true) {
            local_41 = '\0';
            if (*(char*)( param_1 + 0x274 ) == '\0') {
               iVar4 = ufbxi_binary_parse_node();
            }
 else {
               iVar4 = ufbxi_ascii_parse_node(param_1, 0, 0, &local_41, lVar1, 0);
            }

            if (iVar4 == 0) goto LAB_00128a70;
            if (local_41 != '\0') break;
            *(long*)( param_1 + 0x1aa0 ) = *(long*)( param_1 + 0x1aa0 ) + 1;
            cVar3 = ufbxi_grow_array_size(param_1 + 0x5c0, 0x20, param_1 + 0x1a98, param_1 + 0x1aa8);
            if (cVar3 == '\0') goto LAB_00128a70;
            plVar9 = (long*)( *(long*)( param_1 + 0x1a98 ) + -0x20 + *(long*)( param_1 + 0x1aa0 ) * 0x20 );
            ufbxi_pop_size(param_1 + 0xab0, 0x20, 1, plVar9, 0);
            if (( *(char*)( param_1 + 0x495 ) != '\0' ) && ( iVar4 = iVar4 == 0 )) goto LAB_00128a70;
            if (*plVar9 == param_2) {
               *(long**)( param_1 + 0x1ab8 ) = plVar9;
               *(undefined8*)( param_1 + 0x1ac0 ) = 0xffffffffffffffff;
               goto LAB_001288b0;
            }

            iVar4 = 0;
            uVar5 = ufbxi_update_parse_state(0);
            uVar10 = 0;
            uVar2 = 0;
            if (*(char*)( param_1 + 0x1ae8 ) != '\0') {
               while (true) {
                  uVar10 = uVar2;
                  iVar4 = (int)uVar10;
                  iVar6 = ufbxi_parse_toplevel_child_imp(param_1, uVar5, lVar1, &local_41);
                  if (iVar6 == 0) goto LAB_00128a70;
                  if (local_41 != '\0') break;
                  uVar2 = ( ulong )(iVar4 + 1);
               }
;
            }

            *(int*)( plVar9 + 1 ) = iVar4;
            lVar7 = ufbxi_push_pop_size(lVar1, param_1 + 0xab0, 0x20);
            plVar9[2] = lVar7;
            if (lVar7 == 0) goto LAB_00128a70;
            if (( *(char*)( param_1 + 0x495 ) != '\0' ) && ( uVar10 != 0 )) {
               lVar7 = 0;
               do {
                  iVar4 = ufbxi_retain_toplevel_child(param_1);
                  if (iVar4 == 0) goto LAB_00128a70;
                  lVar7 = lVar7 + 0x20;
               }
 while ( lVar7 != uVar10 << 5 );
            }

         }
;
         *(undefined1*)( param_1 + 0x1ab0 ) = 1;
         *(undefined8*)( param_1 + 0x1ab8 ) = 0;
         *(undefined8*)( param_1 + 0x1ac0 ) = 0;
         if (( *(char*)( param_1 + 0x495 ) == '\0' ) || ( iVar4 = iVar4 != 0 )) {
            ufbxi_buf_free(param_1 + 0xa70);
            goto LAB_001288b0;
         }

         LAB_00128a70:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

      }
 else {
         plVar9 = (long*)0x0;
         LAB_0012889e:*(long**)( param_1 + 0x1ab8 ) = plVar9;
         *(undefined8*)( param_1 + 0x1ac0 ) = 0;
         LAB_001288b0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   undefined8 ufbxi_deflate_task_fn(long *param_1) {
      undefined8 *puVar1;
      long lVar2;
      long lVar3;
      int iVar4;
      long lVar5;
      undefined8 uVar6;
      long in_FS_OFFSET;
      undefined8 local_98;
      undefined8 local_90;
      undefined8 local_88;
      undefined8 local_80;
      undefined8 local_78;
      undefined8 local_70;
      undefined8 local_68;
      undefined8 local_60;
      undefined8 local_58;
      undefined1 local_50[16];
      undefined8 local_40;
      undefined2 local_38;
      undefined8 local_30;
      long local_20;
      puVar1 = (undefined8*)*param_1;
      local_20 = *(long*)( in_FS_OFFSET + 0x28 );
      local_50 = (undefined1[16])0x0;
      lVar2 = puVar1[1];
      lVar3 = puVar1[2];
      local_30 = 0;
      local_98 = *puVar1;
      local_90 = puVar1[4];
      local_60 = 0;
      local_58 = 0;
      local_38 = 0;
      local_40 = 0;
      local_80 = 0;
      local_78 = 0;
      local_70 = 0;
      local_68 = 0;
      local_88 = local_98;
      lVar5 = ufbx_inflate(puVar1[5], lVar2 * lVar3, &local_98, puVar1[7]);
      if (lVar5 == -0x1c) {
         param_1[1] = (long)"Cancelled";
      }
 else {
         if (lVar2 * lVar3 - lVar5 == 0) {
            if (puVar1[5] != puVar1[6]) {
               iVar4 = ufbxi_binary_convert_array(0, (int)*(char*)( puVar1 + 3 ), (int)*(char*)( (long)puVar1 + 0x19 ), puVar1[5], puVar1[6], puVar1[2]);
               if (iVar4 == 0) {
                  param_1[1] = (long)"Failed to convert array";
                  goto LAB_00128c7c;
               }

            }

            if (*(char*)( (long)puVar1 + 0x1a ) == 'b') {
               ufbxi_postprocess_bool_array(puVar1[6], puVar1[2]);
            }

            uVar6 = 1;
            goto LAB_00128c7e;
         }

         param_1[1] = (long)"Bad DEFLATE data";
      }

      LAB_00128c7c:uVar6 = 0;
      LAB_00128c7e:if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return uVar6;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   undefined1 ufbx_open_file_ctx(undefined8 param_1, undefined8 param_2, char *param_3, size_t param_4, long param_5, undefined8 param_6) {
      undefined1 uVar1;
      long in_FS_OFFSET;
      undefined1 auStack_338[760];
      long local_40;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      ufbxi_begin_file_context(auStack_338, param_2, 0);
      if (param_4 == 0xffffffffffffffff) {
         param_4 = strlen(param_3);
      }

      uVar1 = 0;
      if (param_5 != 0) {
         uVar1 = *(undefined1*)( param_5 + 0x50 );
      }

      uVar1 = ufbxi_stdio_open(auStack_338, param_1, param_3, param_4, uVar1);
      ufbxi_end_file_context(auStack_338, param_6);
      if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return uVar1;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   void ufbx_default_open_file(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 *param_5) {
      ufbx_open_file_ctx(param_2, *param_5, param_3, param_4, 0, 0);
      return;
   }

   void ufbx_open_file(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5) {
      ufbx_open_file_ctx(param_1, 0, param_2, param_3, param_4, param_5);
      return;
   }

   undefined8 ufbx_open_memory_ctx(undefined8 *param_1, undefined8 param_2, void *param_3, size_t param_4, undefined8 *param_5, undefined8 param_6) {
      char cVar1;
      undefined8 *puVar2;
      undefined8 uVar3;
      void *pvVar4;
      ulong uVar5;
      long lVar6;
      undefined8 *puVar7;
      long in_FS_OFFSET;
      byte bVar8;
      undefined8 local_3a8[14];
      undefined1 local_338[616];
      undefined8 *local_d0;
      undefined1 local_c8[136];
      long local_40;
      bVar8 = 0;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      if (param_5 == (undefined8*)0x0) {
         param_5 = local_3a8;
         puVar2 = param_5;
         for (lVar6 = 0xe; lVar6 != 0; lVar6 = lVar6 + -1) {
            *puVar2 = 0;
            puVar2 = puVar2 + 1;
         }

      }

      ufbxi_begin_file_context(local_338, param_2, param_5 + 1);
      lVar6 = 0x328;
      if (*(char*)( param_5 + 10 ) == '\0') {
         lVar6 = param_4 + 0x328 + ( ulong )(-(int)param_4 & 7);
      }

      puVar2 = (undefined8*)ufbxi_alloc_size(local_c8, 1);
      if (puVar2 == (undefined8*)0x0) {
         ufbxi_end_file_context(local_338, param_6, 0);
         uVar3 = 0;
         goto LAB_00128f2e;
      }

      *puVar2 = 0;
      puVar2[100] = 0;
      puVar7 = (undefined8*)( ( ulong )(puVar2 + 1) & 0xfffffffffffffff8 );
      for (uVar5 = ( ulong )(( (int)puVar2 - (int)(undefined8*)( ( ulong )(puVar2 + 1) & 0xfffffffffffffff8 ) ) + 0x328U >> 3); uVar5 != 0; uVar5 = uVar5 - 1) {
         *puVar7 = 0;
         puVar7 = puVar7 + (ulong)bVar8 * -2 + 1;
      }

      puVar2[1] = param_4;
      puVar2[5] = lVar6;
      uVar3 = param_5[0xc];
      cVar1 = *(char*)( param_5 + 10 );
      puVar2[3] = param_5[0xb];
      puVar2[4] = uVar3;
      if (cVar1 == '\0') {
         pvVar4 = memcpy(puVar2 + 0x65, param_3, param_4);
         *puVar2 = pvVar4;
         if (local_d0 != (undefined8*)0x0) goto LAB_00128ecf;
         LAB_00128f85:local_d0 = puVar2 + 7;
      }
 else {
         *puVar2 = param_3;
         if (local_d0 == (undefined8*)0x0) goto LAB_00128f85;
         LAB_00128ecf:puVar2[6] = local_d0;
      }

      param_1[4] = puVar2;
      *param_1 = ufbxi_memory_read;
      param_1[1] = ufbxi_memory_skip;
      param_1[2] = ufbxi_memory_size;
      param_1[3] = ufbxi_memory_close;
      ufbxi_end_file_context(local_338, param_6, 1);
      uVar3 = 1;
      LAB_00128f2e:if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) {
         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

      return uVar3;
   }

   void ufbx_open_memory(undefined8 param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5) {
      ufbx_open_memory_ctx(param_1, 0, param_2, param_3, param_4, param_5);
      return;
   }

   undefined8 ufbx_is_thread_safe(void) {
      return 1;
   }

   void ufbx_free_scene(long param_1) {
      if (( param_1 != 0 ) && ( *(int*)( param_1 + 0x598 ) == 0x58424655 )) {
         ufbxi_release_ref(param_1 + -0x168);
         return;
      }

      return;
   }

   void ufbx_retain_scene(long param_1) {
      if (( param_1 != 0 ) && ( *(int*)( param_1 + 0x598 ) == 0x58424655 )) {
         ufbxi_retain_ref(param_1 + -0x168);
         return;
      }

      return;
   }

   undefined1[16];
   ufbx_format_error(undefined1 *param_1, long param_2, long param_3) {
      int iVar1;
      char *pcVar2;
      ulong uVar3;
      long lVar4;
      undefined4 *puVar5;
      ulong uVar6;
      ulong uVar7;
      undefined1 auVar8[16];
      if (( param_1 != (undefined1*)0x0 ) && ( param_2 != 0 )) {
         if (param_3 != 0) {
            pcVar2 = *(char**)( param_3 + 8 );
            if (*(long*)( param_3 + 0x160 ) - 1U < 0xff) {
               if (pcVar2 == (char*)0x0) {
                  pcVar2 = "Unknown error";
               }

               iVar1 = ufbxi_snprintf(param_1, param_2, "ufbx v%u.%u.%u error: %s (%.*s)\n", 0, 0xf, 0, pcVar2, *(long*)( param_3 + 0x160 ), param_3 + 0x168);
            }
 else {
               if (pcVar2 == (char*)0x0) {
                  pcVar2 = "Unknown error";
               }

               iVar1 = ufbxi_snprintf(param_1, param_2, "ufbx v%u.%u.%u error: %s\n", 0, 0xf, 0, pcVar2);
            }

            uVar3 = 0;
            if (0 < iVar1) {
               uVar3 = (long)iVar1;
               if (param_2 - 1U <= (ulong)(long)iVar1) {
                  uVar3 = param_2 - 1U;
               }

            }

            uVar6 = ( ulong ) * (uint*)( param_3 + 0x18 );
            if (8 < uVar6) {
               uVar6 = 8;
            }

            lVar4 = 8;
            if (*(uint*)( param_3 + 0x18 ) != 0) {
               puVar5 = (undefined4*)( param_3 + 0x20 );
               uVar7 = 0;
               do {
                  lVar4 = *(long*)( puVar5 + 6 );
                  iVar1 = ufbxi_snprintf(param_1 + uVar3, param_2 - uVar3, "%*u:%s: %s\n", 6, *puVar5, *(undefined8*)( puVar5 + 2 ));
                  if (( 0 < iVar1 ) && ( uVar3 = (long)iVar1 + uVar3 ),param_2 - 1U <= uVar3) {
                     uVar3 = param_2 - 1U;
                  }

                  uVar7 = uVar7 + 1;
                  puVar5 = puVar5 + 10;
               }
 while ( uVar7 < uVar6 );
            }

            goto LAB_00129182;
         }

         *param_1 = 0;
      }

      uVar3 = 0;
      lVar4 = param_3;
      LAB_00129182:auVar8._8_8_ = lVar4;
      auVar8._0_8_ = uVar3;
      return auVar8;
   }

   undefined8 *ufbx_find_prop_len(long *param_1, uint *param_2, ulong param_3) {
      long lVar1;
      int iVar2;
      ulong __n;
      long lVar3;
      ulong uVar4;
      undefined8 *puVar5;
      ulong uVar6;
      ulong uVar7;
      uint uVar8;
      bool bVar9;
      uint *local_48;
      long *local_40;
      if (param_3 < 4) {
         uVar6 = 0;
         uVar8 = 0;
         do {
            for (; uVar8 = uVar8 << 8,uVar6 < param_3; uVar6 = uVar6 + 1) {
               uVar8 = uVar8 | *(byte*)( (long)param_2 + uVar6 );
            }

            uVar6 = uVar6 + 1;
         }
 while ( uVar6 != 4 );
         local_48 = (uint*)&ufbxi_empty_char;
         if (param_3 != 0) {
            local_48 = param_2;
         }

      }
 else {
         uVar8 = *param_2;
         uVar8 = uVar8 >> 0x18 | ( uVar8 & 0xff0000 ) >> 8 | ( uVar8 & 0xff00 ) << 8 | uVar8 << 0x18;
         local_48 = param_2;
      }

      local_40 = param_1;
      if (param_1 != (long*)0x0) {
         do {
            uVar6 = 0;
            lVar1 = *local_40;
            uVar4 = local_40[1];
            uVar7 = uVar4;
            while (4 < uVar4) {
               lVar3 = ( uVar4 >> 1 ) + uVar6;
               puVar5 = (undefined8*)( lVar1 + lVar3 * 0x68 );
               bVar9 = *(uint*)( puVar5 + 2 ) < uVar8;
               if (*(uint*)( puVar5 + 2 ) == uVar8) {
                  uVar4 = puVar5[1];
                  __n = uVar4;
                  if (param_3 <= uVar4) {
                     __n = param_3;
                  }

                  iVar2 = memcmp((void*)*puVar5, local_48, __n);
                  if (iVar2 == 0) {
                     bVar9 = uVar4 < param_3;
                     goto LAB_00129295;
                  }

                  if (-1 < iVar2) goto LAB_00129318;
                  LAB_0012929b:uVar6 = lVar3 + 1;
               }
 else {
                  LAB_00129295:if (bVar9) goto LAB_0012929b;
                  LAB_00129318:uVar7 = lVar3 + 1;
               }

               uVar4 = uVar7 - uVar6;
            }
;
            if (uVar6 < uVar7) {
               puVar5 = (undefined8*)( lVar1 + uVar6 * 0x68 );
               do {
                  if (( ( *(uint*)( puVar5 + 2 ) == uVar8 ) && ( param_3 == puVar5[1] ) ) && ( iVar2 = iVar2 == 0 )) {
                     return puVar5;
                  }

                  uVar6 = uVar6 + 1;
                  puVar5 = puVar5 + 0xd;
               }
 while ( uVar6 != uVar7 );
            }

            local_40 = (long*)local_40[3];
         }
 while ( local_40 != (long*)0x0 );
      }

      return (undefined8*)0x0;
   }

   undefined8 ufbxi_read_synthetic_blend_shapes_isra_0(long param_1, uint param_2, long *param_3, undefined8 *param_4) {
      long *plVar1;
      uint uVar2;
      int iVar3;
      long *plVar4;
      ulong *puVar5;
      long lVar6;
      undefined8 uVar7;
      ulong uVar8;
      ulong extraout_RDX;
      ulong extraout_RDX_00;
      ulong extraout_RDX_01;
      ulong extraout_RDX_02;
      ulong extraout_RDX_03;
      long lVar9;
      long in_FS_OFFSET;
      undefined1 auVar10[16];
      ulong uVar11;
      ulong local_d0;
      long local_c0;
      undefined8 local_a8;
      undefined8 local_a0;
      undefined8 local_98;
      undefined8 local_90;
      undefined1 local_88[16];
      undefined1 local_78[16];
      undefined1 local_68[16];
      undefined1 local_58[16];
      long local_40;
      plVar1 = param_3 + (ulong)param_2 * 4;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      uVar8 = 0;
      local_a8 = 0;
      if (plVar1 != param_3) {
         local_c0 = 0;
         do {
            if ((char*)*param_3 == "Shape") {
               if (( *(ushort*)( (long)param_3 + 0xe ) & 3 ) == 2) {
                  plVar4 = (long*)param_3[3];
                  lVar9 = *plVar4;
                  uVar8 = ( ulong ) * (uint*)( plVar4 + 1 );
                  uVar2 = *(uint*)( (long)plVar4 + 0xc );
                  local_d0 = uVar8;
                  if (uVar2 != 0) {
                     if (uVar2 == 0xffffffff) goto LAB_00129650;
                     lVar9 = lVar9 + 1 + uVar8;
                     local_d0 = (ulong)uVar2;
                  }

                  if (local_c0 == 0) {
                     auVar10 = ufbxi_push_synthetic_element_size(param_1, &local_a8, param_3, lVar9, 0x90, 0x13);
                     uVar8 = auVar10._8_8_;
                     local_c0 = auVar10._0_8_;
                     if (( local_c0 == 0 ) || ( iVar3 = ufbxi_connect_oo(param_1, local_a8, *param_4) ),uVar8 = extraout_RDX_03,iVar3 == 0) goto LAB_00129650;
                  }

                  local_a0 = 0;
                  auVar10 = ufbxi_push_synthetic_element_size(param_1, &local_a0, param_3, lVar9, 0xa0, 0x14);
                  uVar8 = auVar10._8_8_;
                  plVar4 = auVar10._0_8_;
                  if (plVar4 != (long*)0x0) {
                     local_98 = 0;
                     local_90 = 0;
                     auVar10 = ufbxi_push_size_copy(param_1 + 0x1730, 0x10, 1, &local_98);
                     uVar8 = auVar10._8_8_;
                     if (auVar10._0_8_ != 0) {
                        auVar10 = ufbxi_push_size_zero(param_1 + 0x1a58, 0x68, 1);
                        uVar8 = auVar10._8_8_;
                        puVar5 = auVar10._0_8_;
                        if (puVar5 != (ulong*)0x0) {
                           puVar5[1] = 0xd;
                           *puVar5 = (ulong)"DeformPercent";
                           uVar8 = _LC167;
                           puVar5[9] = 0;
                           puVar5[2] = uVar8;
                           puVar5[4] = ( ulong ) & ufbxi_empty_char;
                           for (int i = 0; i < 3; i++) {
                              puVar5[( i + 5 )] = 0;
                           }

                           auVar10 = ufbx_find_prop_len(param_4 + 3, lVar9, local_d0);
                           uVar8 = auVar10._8_8_;
                           lVar6 = auVar10._0_8_;
                           if (( lVar6 == 0 ) || ( uVar2 = *(int*)( lVar6 + 0x14 ) - 2 ),uVar8 = (ulong)uVar2,1 < uVar2) {
                              if (*(uint*)( param_1 + 0x268 ) < 6000) {
                                 uVar7 = *param_4;
                                 uVar11 = puVar5[1];
                                 uVar8 = *puVar5;
                                 goto LAB_00129700;
                              }

                           }
 else {
                              uVar7 = *param_4;
                              puVar5[9] = *(ulong*)( lVar6 + 0x48 );
                              uVar11 = puVar5[1];
                              uVar8 = *puVar5;
                              LAB_00129700:iVar3 = ufbxi_connect_pp(param_1, uVar7, local_a0, lVar9, local_d0, puVar5, uVar8, uVar11);
                              if (iVar3 == 0) goto LAB_00129650;
                           }

                           *plVar4 = lVar9;
                           plVar4[2] = (long)puVar5;
                           plVar4[1] = local_d0;
                           plVar4[3] = 1;
                           local_88 = (undefined1[16])0x0;
                           local_78 = (undefined1[16])0x0;
                           local_68 = (undefined1[16])0x0;
                           local_58 = (undefined1[16])0x0;
                           iVar3 = ufbxi_push_synthetic_id(param_1, local_88, uVar8);
                           uVar8 = extraout_RDX;
                           if (iVar3 != 0) {
                              local_88._8_8_ = lVar9;
                              local_78._0_8_ = local_d0;
                              uVar7 = 0;
                              if (*(char*)( param_1 + 0x495 ) != '\0') {
                                 uVar7 = ufbxi_get_dom_node_imp(param_1, param_3);
                              }

                              local_58._8_8_ = uVar7;
                              iVar3 = ufbxi_read_shape(param_1, param_3, local_88);
                              uVar7 = local_a0;
                              uVar8 = extraout_RDX_00;
                              if (( iVar3 != 0 ) && ( iVar3 = ufbxi_connect_oo(param_1, local_a0, local_a8) ),uVar8 = extraout_RDX_01,iVar3 != 0) {
                                 iVar3 = ufbxi_connect_oo(param_1, local_88._0_8_, uVar7);
                                 uVar8 = extraout_RDX_02;
                                 if (iVar3 != 0) goto LAB_001293fc;
                              }

                           }

                        }

                     }

                  }

               }

               LAB_00129650:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                  uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88, uVar8);
                  return uVar7;
               }

               goto LAB_00129748;
            }

            LAB_001293fc:param_3 = param_3 + 4;
         }
 while ( plVar1 != param_3 );
      }

      if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

      LAB_00129748:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   /* WARNING: Type propagation algorithm not settling */
   undefined8 ufbxi_read_mesh(long param_1, long param_2, undefined8 param_3) {
      int *piVar1;
      uint *puVar2;
      char cVar3;
      byte bVar4;
      ushort uVar5;
      uint uVar6;
      long lVar7;
      long *plVar8;
      undefined8 uVar9;
      undefined8 uVar10;
      undefined8 uVar11;
      undefined8 uVar12;
      undefined8 uVar13;
      undefined8 uVar14;
      undefined8 uVar15;
      int iVar16;
      long lVar17;
      long lVar18;
      long lVar19;
      undefined8 *puVar20;
      long *plVar21;
      long *plVar22;
      long lVar23;
      undefined8 *puVar24;
      undefined8 uVar25;
      long lVar26;
      void *pvVar27;
      ulong uVar28;
      undefined8 *puVar29;
      int *piVar30;
      int *piVar31;
      uint uVar32;
      undefined4 uVar33;
      long *plVar35;
      ulong uVar36;
      long lVar37;
      undefined8 *puVar38;
      long *plVar39;
      char *pcVar40;
      char *pcVar41;
      undefined8 *puVar42;
      undefined8 *puVar43;
      long in_FS_OFFSET;
      char *pcVar44;
      long local_b0;
      long local_a0;
      long local_98;
      long local_68;
      char *local_58;
      long lStack_50;
      long local_40;
      ulong uVar34;
      local_40 = *(long*)( in_FS_OFFSET + 0x28 );
      lVar17 = ufbxi_push_element_size(param_1, param_3, 0x4f0, 2);
      if (( lVar17 == 0 ) || ( ( *(uint*)( param_1 + 0x268 ) < 0x1bbd && ( iVar16 = ufbxi_read_synthetic_blend_shapes_isra_0(param_1, *(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), param_3) ),iVar16 == 0 ) )) goto LAB_00129a40;
      ufbxi_patch_mesh_reals(lVar17);
      uVar36 = ( ulong ) * (uint*)( param_2 + 8 );
      uVar25 = *(undefined8*)( param_2 + 0x10 );
      lVar18 = ufbxi_find_child_isra_0(uVar36, uVar25, "Vertices");
      lVar19 = ufbxi_find_child_isra_0(uVar36 & 0xffffffff, uVar25, "PolygonVertexIndex");
      if (( lVar18 == 0 ) || ( *(char*)( param_1 + 0x350 ) != '\0' )) {
         LAB_0012a560:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

      }
 else {
         puVar20 = (undefined8*)ufbxi_get_array(lVar18, 0x72);
         if (lVar19 == 0) {
            plVar22 = (long*)ufbxi_find_array_isra_0(uVar36 & 0xffffffff, uVar25, "Edges", 0x69);
            if (( puVar20 != (undefined8*)0x0 ) && ( uVar36 = (ulong)puVar20[1] / 3 ),(ulong)puVar20[1] % 3 == 0) {
               cVar3 = *(char*)( param_1 + 0x495 );
               *(ulong*)( lVar17 + 0x80 ) = uVar36;
               *(undefined8*)( lVar17 + 0x88 ) = 0;
               lVar18 = 0;
               lVar19 = 0;
               goto joined_r0x00129b22;
            }

         }
 else {
            plVar21 = (long*)ufbxi_get_array(lVar19, 0x69);
            plVar22 = (long*)ufbxi_find_array_isra_0(uVar36 & 0xffffffff, uVar25, "Edges", 0x69);
            if (( ( puVar20 != (undefined8*)0x0 ) && ( plVar21 != (long*)0x0 ) ) && ( uVar36 = uVar36 * -0x5555555555555555 < 0x5555555555555556 )) {
               lVar18 = *plVar21;
               lVar19 = plVar21[1];
               *(long*)( lVar17 + 0x88 ) = lVar19;
               uVar36 = uVar36 / 3;
               cVar3 = *(char*)( param_1 + 0x495 );
               *(ulong*)( lVar17 + 0x80 ) = uVar36;
               joined_r0x00129b22:if (cVar3 != '\0') {
                  lVar18 = ufbxi_push_size_copy(param_1 + 0x1a58, 4, lVar19, lVar18);
                  if (lVar18 == 0) goto LAB_00129a40;
                  uVar36 = *(ulong*)( lVar17 + 0x80 );
                  lVar19 = *(long*)( lVar17 + 0x88 );
               }

               uVar25 = *puVar20;
               *(ulong*)( lVar17 + 0x170 ) = uVar36;
               *(long*)( lVar17 + 0x158 ) = lVar18;
               *(undefined8*)( lVar17 + 0x168 ) = uVar25;
               *(long*)( lVar17 + 0x160 ) = lVar19;
               *(undefined1*)( lVar17 + 0x188 ) = 1;
               *(undefined8*)( lVar17 + 400 ) = uVar25;
               *(ulong*)( lVar17 + 0x198 ) = uVar36;
               *(long*)( lVar17 + 0x1a0 ) = lVar18;
               *(long*)( lVar17 + 0x1a8 ) = lVar19;
               *(undefined1*)( lVar17 + 0x1b8 ) = 1;
               if (lVar19 != 0) {
                  puVar2 = (uint*)( lVar18 + -4 + lVar19 * 4 );
                  uVar32 = *puVar2;
                  if (-1 < (int)uVar32) {
                     if (*(char*)( param_1 + 0x35d ) != '\0') {
                        if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                           pcVar41 = "Non-negated last index";
                           goto LAB_00129a5b;
                        }

                        goto LAB_0012adaa;
                     }

                     *puVar2 = ~uVar32;
                  }

               }

               if (plVar22 != (long*)0x0) {
                  lVar19 = plVar22[1];
                  lVar23 = ufbxi_push_size(param_1 + 0x1a58, 8, lVar19);
                  if (lVar23 == 0) goto LAB_00129a40;
                  lVar7 = *plVar22;
                  if (lVar19 == 0) {
                     lVar26 = 0;
                  }
 else {
                     uVar36 = *(ulong*)( lVar17 + 0x88 );
                     lVar37 = 0;
                     lVar26 = 0;
                     do {
                        uVar32 = *(uint*)( lVar7 + lVar37 * 4 );
                        uVar28 = (ulong)uVar32;
                        if (uVar28 < uVar36) {
                           puVar2 = (uint*)( lVar23 + lVar26 * 8 );
                           *puVar2 = uVar32;
                           if (*(int*)( lVar18 + uVar28 * 4 ) < 0) {
                              do {
                                 uVar34 = uVar28;
                                 uVar32 = (uint)uVar34;
                                 if (uVar32 == 0) goto LAB_00129a93;
                                 uVar28 = ( ulong )(uVar32 - 1);
                              }
 while ( -1 < *(int*)( lVar18 + ( ulong )(uVar32 - 1) * 4 ) );
                           }
 else {
                              uVar32 = uVar32 + 1;
                              uVar34 = (ulong)uVar32;
                           }

                           if (uVar36 <= uVar34) goto LAB_00129a40;
                           LAB_00129a93:puVar2[1] = uVar32;
                           lVar26 = lVar26 + 1;
                        }
 else if (*(char*)( param_1 + 0x35d ) != '\0') {
                           if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_0012adaa;
                           pcVar41 = "Edge index out of bounds";
                           goto LAB_00129a5b;
                        }

                        lVar37 = lVar37 + 1;
                     }
 while ( lVar19 != lVar37 );
                  }

                  *(long*)( lVar17 + 0x118 ) = lVar23;
                  *(long*)( lVar17 + 0x120 ) = lVar26;
                  *(long*)( lVar17 + 0xa0 ) = lVar26;
               }

               iVar16 = ufbxi_process_indices(param_1, lVar17, lVar18);
               if (iVar16 != 0) {
                  plVar22 = *(long**)( param_2 + 0x10 );
                  lVar19 = 0;
                  lVar18 = 0;
                  plVar21 = plVar22 + ( ulong ) * (uint*)( param_2 + 8 ) * 4;
                  if (plVar22 == plVar21) {
                     local_98 = 0;
                     lVar23 = 0;
                  }
 else {
                     local_98 = 0;
                     lVar23 = 0;
                     do {
                        pcVar41 = (char*)*plVar22;
                        if (pcVar41 == "LayerElementUV") {
                           lVar23 = lVar23 + 1;
                           LAB_00129b84:lVar19 = lVar19 + ( ulong )(pcVar41 == "LayerElementTangent");
                        }
 else if (pcVar41 == "LayerElementColor") {
                           local_98 = local_98 + 1;
                        }
 else {
                           if (pcVar41 != "LayerElementBinormal") goto LAB_00129b84;
                           lVar18 = lVar18 + 1;
                        }

                        plVar22 = plVar22 + 4;
                     }
 while ( plVar22 != plVar21 );
                  }

                  puVar20 = (undefined8*)ufbxi_push_size_zero(param_1 + 0xab0, 0x50, lVar18);
                  puVar24 = (undefined8*)ufbxi_push_size_zero(param_1 + 0xab0, 0x50, lVar19);
                  if (( puVar20 != (undefined8*)0x0 ) && ( puVar24 != (undefined8*)0x0 )) {
                     lVar7 = param_1 + 0x1a58;
                     uVar25 = ufbxi_push_size_zero(lVar7, 0xf0, lVar23);
                     *(undefined8*)( lVar17 + 0x380 ) = uVar25;
                     lVar26 = ufbxi_push_size_zero(lVar7, 0x60, local_98);
                     *(long*)( lVar17 + 0x390 ) = lVar26;
                     if (( *(long*)( lVar17 + 0x380 ) != 0 ) && ( lVar26 != 0 )) {
                        puVar43 = *(undefined8**)( param_2 + 0x10 );
                        local_b0 = 0;
                        puVar38 = puVar43 + ( ulong ) * (uint*)( param_2 + 8 ) * 4;
                        if (puVar43 != puVar38) {
                           local_a0 = 0;
                           local_68 = 0;
                           LAB_00129cb0:pcVar41 = (char*)*puVar43;
                           if (*pcVar41 == 'L') {
                              if (pcVar41 == "LayerElementNormal") {
                                 if (*(char*)( lVar17 + 0x1d0 ) == '\0') {
                                    uVar25 = 3;
                                    lVar26 = lVar17 + 0x1d0;
                                    pcVar44 = "NormalsW";
                                    pcVar40 = "NormalsIndex";
                                    pcVar41 = "Normals";
                                    LAB_0012a12c:iVar16 = ufbxi_read_vertex_element_constprop_0(param_1, lVar17, puVar43, lVar26, pcVar41, pcVar40, pcVar44, uVar25);
                                    joined_r0x0012a958:if (iVar16 == 0) goto LAB_00129a40;
                                 }

                              }
 else if (pcVar41 == "LayerElementBinormal") {
                                 pcVar41 = (char*)( puVar20 + local_68 * 10 );
                                 if (( *(ushort*)( (long)puVar43 + 0xe ) & 3 ) == 1) {
                                    *(int*)( pcVar41 + 0x48 ) = (int)*(undefined8*)( puVar43[3] + 8 );
                                 }

                                 iVar16 = ufbxi_read_vertex_element_constprop_0(param_1, lVar17, puVar43, pcVar41, "Binormals", "BinormalsIndex", "BinormalsW", 3);
                                 if (iVar16 == 0) goto LAB_00129a40;
                                 local_68 = ( local_68 + 1 ) - ( ulong )(*pcVar41 == '\0');
                              }
 else if (pcVar41 == "LayerElementTangent") {
                                 pcVar41 = (char*)( puVar24 + local_b0 * 10 );
                                 if (( *(ushort*)( (long)puVar43 + 0xe ) & 3 ) == 1) {
                                    *(int*)( pcVar41 + 0x48 ) = (int)*(undefined8*)( puVar43[3] + 8 );
                                 }

                                 iVar16 = ufbxi_read_vertex_element_constprop_0(param_1, lVar17, puVar43, pcVar41, "Tangents", "TangentsIndex", "TangentsW", 3);
                                 if (iVar16 == 0) goto LAB_00129a40;
                                 local_b0 = ( local_b0 + 1 ) - ( ulong )(*pcVar41 == '\0');
                              }
 else if (pcVar41 == "LayerElementUV") {
                                 lVar26 = *(long*)( lVar17 + 0x388 );
                                 *(long*)( lVar17 + 0x388 ) = lVar26 + 1;
                                 plVar22 = (long*)( lVar26 * 0xf0 + *(long*)( lVar17 + 0x380 ) );
                                 if (( *(ushort*)( (long)puVar43 + 0xe ) & 3 ) == 1) {
                                    *(int*)( plVar22 + 2 ) = (int)*(undefined8*)( puVar43[3] + 8 );
                                 }

                                 lVar26 = ufbxi_find_child_isra_0(*(undefined4*)( puVar43 + 1 ), puVar43[2], &ufbxi_Name);
                                 if (( lVar26 == 0 ) || ( ( *(ushort*)( lVar26 + 0xe ) & 3 ) != 2 )) {
                                    LAB_0012a5a8:plVar22[1] = 0;
                                    *plVar22 = (long)&ufbxi_empty_char;
                                 }
 else {
                                    plVar21 = *(long**)( lVar26 + 0x18 );
                                    lVar26 = *plVar21;
                                    uVar32 = *(uint*)( plVar21 + 1 );
                                    uVar6 = *(uint*)( (long)plVar21 + 0xc );
                                    if (uVar6 == 0) {
                                       *plVar22 = lVar26;
                                       plVar22[1] = (ulong)uVar32;
                                    }
 else {
                                       if (uVar6 == 0xffffffff) goto LAB_0012a5a8;
                                       plVar22[1] = (ulong)uVar6;
                                       *plVar22 = lVar26 + 1 + (ulong)uVar32;
                                    }

                                 }

                                 iVar16 = ufbxi_read_vertex_element_constprop_0(param_1, lVar17, puVar43, plVar22 + 3, &ufbxi_UV, "UVIndex", 0, 2);
                                 if (iVar16 == 0) goto LAB_00129a40;
                                 if ((char)plVar22[3] == '\0') {
                                    *(long*)( lVar17 + 0x388 ) = *(long*)( lVar17 + 0x388 ) + -1;
                                 }

                              }
 else if (pcVar41 == "LayerElementColor") {
                                 lVar26 = *(long*)( lVar17 + 0x398 );
                                 uVar5 = *(ushort*)( (long)puVar43 + 0xe );
                                 *(long*)( lVar17 + 0x398 ) = lVar26 + 1;
                                 plVar22 = (long*)( lVar26 * 0x60 + *(long*)( lVar17 + 0x390 ) );
                                 if (( uVar5 & 3 ) == 1) {
                                    *(int*)( plVar22 + 2 ) = (int)*(undefined8*)( puVar43[3] + 8 );
                                 }

                                 lVar26 = ufbxi_find_child_isra_0(*(undefined4*)( puVar43 + 1 ), puVar43[2], &ufbxi_Name);
                                 if (( lVar26 == 0 ) || ( ( *(ushort*)( lVar26 + 0xe ) & 3 ) != 2 )) {
                                    LAB_0012a7c0:plVar22[1] = 0;
                                    *plVar22 = (long)&ufbxi_empty_char;
                                 }
 else {
                                    plVar21 = *(long**)( lVar26 + 0x18 );
                                    lVar26 = *plVar21;
                                    uVar32 = *(uint*)( plVar21 + 1 );
                                    uVar6 = *(uint*)( (long)plVar21 + 0xc );
                                    if (uVar6 == 0) {
                                       *plVar22 = lVar26;
                                       plVar22[1] = (ulong)uVar32;
                                    }
 else {
                                       if (uVar6 == 0xffffffff) goto LAB_0012a7c0;
                                       plVar22[1] = (ulong)uVar6;
                                       *plVar22 = lVar26 + 1 + (ulong)uVar32;
                                    }

                                 }

                                 iVar16 = ufbxi_read_vertex_element_constprop_0(param_1, lVar17, puVar43, plVar22 + 3, "Colors", "ColorIndex", 0, 4);
                                 if (iVar16 == 0) goto LAB_00129a40;
                                 if ((char)plVar22[3] == '\0') {
                                    *(long*)( lVar17 + 0x398 ) = *(long*)( lVar17 + 0x398 ) + -1;
                                 }

                              }
 else {
                                 if (pcVar41 == "LayerElementVertexCrease") {
                                    uVar25 = 1;
                                    lVar26 = lVar17 + 0x338;
                                    pcVar40 = "VertexCreaseIndex";
                                    pcVar44 = (char*)0x0;
                                    pcVar41 = "VertexCrease";
                                    goto LAB_0012a12c;
                                 }

                                 if (pcVar41 == "LayerElementEdgeCrease") {
                                    lVar26 = ufbxi_find_child_isra_0(*(undefined4*)( puVar43 + 1 ), puVar43[2], "MappingInformationType");
                                    if (lVar26 == 0) {
                                       pcVar41 = "";
                                    }
 else {
                                       pcVar41 = "";
                                       if (( ( *(ushort*)( lVar26 + 0xe ) & 3 ) == 2 ) && ( pcVar41 = (char*)**(undefined8**)( lVar26 + 0x18 ) ),pcVar41 == "ByEdge") {
                                          if (*(long*)( lVar17 + 0x140 ) == 0) {
                                             lVar26 = lVar17 + 0x140;
                                             lVar37 = lVar17 + 0x138;
                                             goto LAB_0012a9dc;
                                          }

                                          goto joined_r0x0012a1c0;
                                       }

                                    }

                                    iVar16 = ufbxi_warn_polygon_mapping(param_1, "EdgeCrease", pcVar41);
                                    goto joined_r0x0012a958;
                                 }

                                 if (pcVar41 == "LayerElementSmoothing") {
                                    lVar26 = ufbxi_find_child_isra_0(*(undefined4*)( puVar43 + 1 ), puVar43[2], "MappingInformationType");
                                    if (lVar26 == 0) {
                                       pcVar41 = "";
                                    }
 else {
                                       pcVar41 = "";
                                       if (( *(ushort*)( lVar26 + 0xe ) & 3 ) == 2) {
                                          pcVar41 = (char*)**(undefined8**)( lVar26 + 0x18 );
                                          if (pcVar41 == "ByEdge") {
                                             if (*(long*)( lVar17 + 0x130 ) == 0) {
                                                lVar26 = lVar17 + 0x130;
                                                lVar37 = lVar17 + 0x128;
                                                LAB_0012a9dc:iVar16 = ufbxi_read_truncated_array_isra_0(param_1, lVar37, lVar26);
                                                goto joined_r0x0012a958;
                                             }

                                          }
 else {
                                             if (pcVar41 != "ByPolygon") goto LAB_0012a944;
                                             if (*(long*)( lVar17 + 0xe0 ) == 0) {
                                                lVar26 = lVar17 + 0xe0;
                                                lVar37 = lVar17 + 0xd8;
                                                goto LAB_0012a9dc;
                                             }

                                          }

                                          goto joined_r0x0012a1c0;
                                       }

                                    }

                                    LAB_0012a944:iVar16 = ufbxi_warn_polygon_mapping(param_1, "Smoothing", pcVar41);
                                    goto joined_r0x0012a958;
                                 }

                                 if (pcVar41 == "LayerElementVisibility") {
                                    lVar26 = ufbxi_find_child_isra_0(*(undefined4*)( puVar43 + 1 ), puVar43[2], "MappingInformationType");
                                    if (lVar26 == 0) {
                                       pcVar41 = "";
                                    }
 else {
                                       pcVar41 = "";
                                       if (( ( *(ushort*)( lVar26 + 0xe ) & 3 ) == 2 ) && ( pcVar41 = (char*)**(undefined8**)( lVar26 + 0x18 ) ),pcVar41 == "ByEdge") {
                                          if (*(long*)( lVar17 + 0x150 ) == 0) {
                                             lVar26 = lVar17 + 0x150;
                                             lVar37 = lVar17 + 0x148;
                                             goto LAB_0012a9dc;
                                          }

                                          goto joined_r0x0012a1c0;
                                       }

                                    }

                                    iVar16 = ufbxi_warn_polygon_mapping(param_1, "Visibility", pcVar41);
                                    goto joined_r0x0012a958;
                                 }

                                 if (pcVar41 == "LayerElementMaterial") {
                                    if (*(long*)( lVar17 + 0xf0 ) == 0) {
                                       uVar36 = ( ulong ) * (uint*)( puVar43 + 1 );
                                       uVar25 = puVar43[2];
                                       lVar26 = ufbxi_find_child_isra_0(uVar36, uVar25, "MappingInformationType");
                                       if (lVar26 == 0) {
                                          pcVar41 = "";
                                       }
 else {
                                          pcVar41 = "";
                                          if (( *(ushort*)( lVar26 + 0xe ) & 3 ) == 2) {
                                             pcVar41 = (char*)**(undefined8**)( lVar26 + 0x18 );
                                             if (pcVar41 == "ByPolygon") {
                                                lVar26 = lVar17 + 0xf0;
                                                lVar37 = lVar17 + 0xe8;
                                                goto LAB_0012a9dc;
                                             }

                                             if (pcVar41 == "AllSame") {
                                                puVar29 = (undefined8*)ufbxi_find_array_isra_0(uVar36 & 0xffffffff, uVar25, "Materials", 0x69);
                                                if (( puVar29 == (undefined8*)0x0 ) || ( puVar29[1] == 0 )) goto LAB_00129a40;
                                                iVar16 = *(int*)*puVar29;
                                                *(undefined8*)( lVar17 + 0xf0 ) = *(undefined8*)( lVar17 + 0x90 );
                                                if (iVar16 == 0) {
                                                   *(undefined4**)( lVar17 + 0xe8 ) = &ufbxi_sentinel_index_zero;
                                                   goto joined_r0x0012a1c0;
                                                }

                                                piVar30 = (int*)ufbxi_push_size(lVar7, 4);
                                                *(int**)( lVar17 + 0xe8 ) = piVar30;
                                                if (piVar30 == (int*)0x0) goto LAB_00129a40;
                                                piVar1 = piVar30 + *(long*)( lVar17 + 0xf0 );
                                                if (piVar30 != piVar1) {
                                                   piVar31 = piVar30;
                                                   if (( (char)piVar1 - (char)piVar30 & 4U ) != 0) {
                                                      *piVar30 = iVar16;
                                                      piVar31 = piVar30 + 1;
                                                      if (piVar1 == piVar30 + 1) goto joined_r0x0012a1c0;
                                                   }

                                                   do {
                                                      *piVar31 = iVar16;
                                                      piVar30 = piVar31 + 2;
                                                      piVar31[1] = iVar16;
                                                      piVar31 = piVar30;
                                                   }
 while ( piVar1 != piVar30 );
                                                }

                                                goto joined_r0x0012a1c0;
                                             }

                                          }

                                       }

                                       iVar16 = ufbxi_warn_polygon_mapping(param_1, "Materials", pcVar41);
                                       goto joined_r0x0012a958;
                                    }

                                 }
 else if (pcVar41 == "LayerElementPolygonGroup") {
                                    if (*(long*)( lVar17 + 0x100 ) == 0) {
                                       lVar26 = ufbxi_find_child_isra_0(*(undefined4*)( puVar43 + 1 ), puVar43[2], "MappingInformationType");
                                       if (( lVar26 == 0 ) || ( ( *(ushort*)( lVar26 + 0xe ) & 3 ) != 2 )) goto LAB_00129a40;
                                       if ((char*)**(long**)( lVar26 + 0x18 ) == "ByPolygon") {
                                          lVar26 = lVar17 + 0x100;
                                          lVar37 = lVar17 + 0xf8;
                                          goto LAB_0012a9dc;
                                       }

                                    }

                                 }
 else if (pcVar41 == "LayerElementHole") {
                                    if (*(long*)( lVar17 + 0x100 ) == 0) {
                                       lVar26 = ufbxi_find_child_isra_0(*(undefined4*)( puVar43 + 1 ), puVar43[2], "MappingInformationType");
                                       if (( lVar26 == 0 ) || ( ( *(ushort*)( lVar26 + 0xe ) & 3 ) != 2 )) goto LAB_00129a40;
                                       if ((char*)**(long**)( lVar26 + 0x18 ) == "ByPolygon") {
                                          lVar26 = lVar17 + 0x110;
                                          lVar37 = lVar17 + 0x108;
                                          goto LAB_0012a9dc;
                                       }

                                    }

                                 }
 else {
                                    iVar16 = strncmp(pcVar41, "LayerElement", 0xc);
                                    if (iVar16 == 0) {
                                       bVar4 = *(byte*)( (long)puVar43 + 0xc );
                                       uVar36 = (ulong)bVar4;
                                       pvVar27 = memchr(pcVar41, 0, uVar36);
                                       if (pvVar27 != (void*)0x0) goto LAB_00129a40;
                                       lStack_50 = 0;
                                       if (( bVar4 < 0x15 ) || ( iVar16 = iVar16 != 0 )) {
                                          iVar16 = strcmp(pcVar41, "LayerElementTexture");
                                          if (iVar16 == 0) {
                                             lStack_50 = 7;
                                             local_58 = "Diffuse";
                                             goto LAB_00129e26;
                                          }

                                       }
 else {
                                          local_58 = pcVar41 + 0xc;
                                          lVar26 = uVar36 - 0x15;
                                          lStack_50 = uVar36 - 0x14;
                                          if (( pcVar41[uVar36 - 9] == '_' ) && ( lStack_50 = lVar26 == 0 )) goto joined_r0x0012a1c0;
                                          LAB_00129e26:iVar16 = ufbxi_push_string_place_str(param_1 + 0x1960, &local_58, 0);
                                          if (iVar16 == 0) goto LAB_00129a40;
                                          uVar36 = ( ulong ) * (uint*)( puVar43 + 1 );
                                          uVar25 = puVar43[2];
                                          lVar26 = ufbxi_find_child_isra_0(uVar36, uVar25, "MappingInformationType");
                                          if (( lVar26 != 0 ) && ( ( *(ushort*)( lVar26 + 0xe ) & 3 ) == 2 )) {
                                             pcVar41 = (char*)**(long**)( lVar26 + 0x18 );
                                             plVar22 = (long*)ufbxi_find_array_isra_0(uVar36 & 0xffffffff, uVar25, "TextureId", 0x69);
                                             plVar21 = (long*)ufbxi_push_size_zero(param_1 + 0x16f0, 0x28, 1);
                                             if (plVar21 == (long*)0x0) goto LAB_00129a40;
                                             if (plVar22 != (long*)0x0) {
                                                plVar21[2] = *plVar22;
                                                plVar21[3] = plVar22[1];
                                             }

                                             *(bool*)( plVar21 + 4 ) = pcVar41 == "AllSame";
                                             local_a0 = local_a0 + 1;
                                             *plVar21 = (long)local_58;
                                             plVar21[1] = lStack_50;
                                          }

                                       }

                                    }

                                 }

                              }

                           }

                           joined_r0x0012a1c0:puVar43 = puVar43 + 4;
                           if (puVar38 == puVar43) goto LAB_00129f16;
                           goto LAB_00129cb0;
                        }

                        local_68 = 0;
                        local_a0 = 0;
                        LAB_00129f16:if (*(long*)( lVar17 + 0xf0 ) == 0) {
                           uVar36 = *(ulong*)( lVar17 + 0x90 );
                           uVar28 = *(ulong*)( param_1 + 0xa20 );
                           if (*(ulong*)( param_1 + 0xa20 ) < uVar36) {
                              uVar28 = uVar36;
                           }

                           *(ulong*)( param_1 + 0xa20 ) = uVar28;
                           *(undefined4**)( lVar17 + 0xe8 ) = &ufbxi_sentinel_index_zero;
                           *(ulong*)( lVar17 + 0xf0 ) = uVar36;
                        }

                        if (( *(char*)( param_1 + 0x35d ) == '\0' ) || ( ( ( ( lVar23 == *(long*)( lVar17 + 0x388 ) && ( local_98 == *(long*)( lVar17 + 0x398 ) ) ) && ( local_68 == lVar18 ) ) && ( local_b0 == lVar19 ) ) )) {
                           plVar21 = *(long**)( param_2 + 0x10 );
                           pcVar41 = "LayerElement";
                           plVar22 = plVar21 + ( ulong ) * (uint*)( param_2 + 8 ) * 4;
                           for (; plVar21 != plVar22; plVar21 = plVar21 + 4) {
                              if ((char*)*plVar21 == "Layer") {
                                 plVar35 = (long*)plVar21[2];
                                 plVar39 = plVar35 + ( ulong ) * (uint*)( plVar21 + 1 ) * 4;
                                 if (plVar35 != plVar39) {
                                    puVar38 = (undefined8*)0x0;
                                    puVar43 = (undefined8*)0x0;
                                    lVar18 = 0;
                                    do {
                                       puVar29 = puVar38;
                                       puVar42 = puVar43;
                                       lVar19 = lVar18;
                                       if ((char*)*plVar35 == pcVar41) {
                                          lVar26 = plVar35[1];
                                          lVar23 = plVar35[2];
                                          lVar37 = ufbxi_find_child_isra_0((int)lVar26, lVar23, "TypedIndex");
                                          if (( ( lVar37 != 0 ) && ( ( *(ushort*)( lVar37 + 0xe ) & 3 ) == 1 ) ) && ( ( lVar23 = ufbxi_find_child_isra_0((int)lVar26, lVar23, &ufbxi_Type) ),lVar23 != 0 && ( ( *(ushort*)( lVar23 + 0xe ) & 3 ) == 2 ) )) {
                                             plVar8 = *(long**)( lVar23 + 0x18 );
                                             pcVar40 = (char*)*plVar8;
                                             if (*(int*)( (long)plVar8 + 0xc ) != 0) {
                                                if (*(int*)( (long)plVar8 + 0xc ) == -1) goto LAB_0012a010;
                                                pcVar40 = pcVar40 + ( ulong ) * (uint*)( plVar8 + 1 ) + 1;
                                             }

                                             iVar16 = *(int*)( *(long*)( lVar37 + 0x18 ) + 8 );
                                             if (pcVar40 == "LayerElementUV") {
                                                lVar23 = *(long*)( lVar17 + 0x380 );
                                                lVar26 = *(long*)( lVar17 + 0x388 ) * 0xf0 + lVar23;
                                                for (; ( lVar19 = lVar18 ),lVar23 != lVar26 && ( lVar19 = lVar23 * (int*)( lVar23 + 0x10 ) != iVar16 ); lVar23 = lVar23 + 0xf0) {}
                                             }
 else if (pcVar40 == "LayerElementBinormal") {
                                                for (puVar43 = puVar20; ( puVar29 = puVar38 ),puVar43 != puVar20 + local_68 * 10 && ( puVar29 = puVar43 * (int*)( puVar43 + 9 ) != iVar16 ); puVar43 = puVar43 + 10) {}
                                             }
 else if (pcVar40 == "LayerElementTangent") {
                                                for (puVar38 = puVar24; ( puVar42 = puVar43 ),puVar38 != puVar24 + local_b0 * 10 && ( puVar42 = puVar38 * (int*)( puVar38 + 9 ) != iVar16 ); puVar38 = puVar38 + 10) {}
                                             }

                                          }

                                       }

                                       LAB_0012a010:plVar35 = plVar35 + 4;
                                       puVar38 = puVar29;
                                       puVar43 = puVar42;
                                       lVar18 = lVar19;
                                    }
 while ( plVar39 != plVar35 );
                                    if (lVar19 != 0) {
                                       if (puVar29 != (undefined8*)0x0) {
                                          uVar25 = *puVar29;
                                          uVar9 = puVar29[1];
                                          uVar10 = puVar29[2];
                                          uVar11 = puVar29[3];
                                          uVar12 = puVar29[4];
                                          uVar13 = puVar29[5];
                                          uVar14 = puVar29[6];
                                          uVar15 = puVar29[7];
                                          *(undefined8*)( lVar19 + 0xe8 ) = puVar29[8];
                                          *(undefined8*)( lVar19 + 0xa8 ) = uVar25;
                                          *(undefined8*)( lVar19 + 0xb0 ) = uVar9;
                                          *(undefined8*)( lVar19 + 0xb8 ) = uVar10;
                                          *(undefined8*)( lVar19 + 0xc0 ) = uVar11;
                                          *(undefined8*)( lVar19 + 200 ) = uVar12;
                                          *(undefined8*)( lVar19 + 0xd0 ) = uVar13;
                                          *(undefined8*)( lVar19 + 0xd8 ) = uVar14;
                                          *(undefined8*)( lVar19 + 0xe0 ) = uVar15;
                                       }

                                       if (puVar42 != (undefined8*)0x0) {
                                          uVar9 = puVar42[1];
                                          uVar10 = puVar42[2];
                                          uVar11 = puVar42[3];
                                          uVar12 = puVar42[4];
                                          uVar13 = puVar42[5];
                                          uVar14 = puVar42[6];
                                          uVar15 = puVar42[7];
                                          uVar25 = puVar42[8];
                                          *(undefined8*)( lVar19 + 0x60 ) = *puVar42;
                                          *(undefined8*)( lVar19 + 0x68 ) = uVar9;
                                          *(undefined8*)( lVar19 + 0x70 ) = uVar10;
                                          *(undefined8*)( lVar19 + 0x78 ) = uVar11;
                                          *(undefined8*)( lVar19 + 0xa0 ) = uVar25;
                                          *(undefined8*)( lVar19 + 0x80 ) = uVar12;
                                          *(undefined8*)( lVar19 + 0x88 ) = uVar13;
                                          *(undefined8*)( lVar19 + 0x90 ) = uVar14;
                                          *(undefined8*)( lVar19 + 0x98 ) = uVar15;
                                       }

                                    }

                                 }

                              }

                           }

                           *(undefined1*)( lVar17 + 0x3f0 ) = 1;
                           *(undefined8*)( lVar17 + 0x438 ) = *(undefined8*)( lVar17 + 0x1c8 );
                           *(undefined8*)( lVar17 + 0x3f8 ) = *(undefined8*)( lVar17 + 0x188 );
                           *(undefined8*)( lVar17 + 0x400 ) = *(undefined8*)( lVar17 + 400 );
                           *(undefined8*)( lVar17 + 0x480 ) = *(undefined8*)( lVar17 + 0x210 );
                           *(undefined8*)( lVar17 + 0x408 ) = *(undefined8*)( lVar17 + 0x198 );
                           *(undefined8*)( lVar17 + 0x410 ) = *(undefined8*)( lVar17 + 0x1a0 );
                           *(undefined8*)( lVar17 + 0x418 ) = *(undefined8*)( lVar17 + 0x1a8 );
                           *(undefined8*)( lVar17 + 0x420 ) = *(undefined8*)( lVar17 + 0x1b0 );
                           *(undefined8*)( lVar17 + 0x428 ) = *(undefined8*)( lVar17 + 0x1b8 );
                           *(undefined8*)( lVar17 + 0x430 ) = *(undefined8*)( lVar17 + 0x1c0 );
                           *(undefined8*)( lVar17 + 0x440 ) = *(undefined8*)( lVar17 + 0x1d0 );
                           *(undefined8*)( lVar17 + 0x448 ) = *(undefined8*)( lVar17 + 0x1d8 );
                           *(undefined8*)( lVar17 + 0x450 ) = *(undefined8*)( lVar17 + 0x1e0 );
                           *(undefined8*)( lVar17 + 0x458 ) = *(undefined8*)( lVar17 + 0x1e8 );
                           *(undefined8*)( lVar17 + 0x460 ) = *(undefined8*)( lVar17 + 0x1f0 );
                           *(undefined8*)( lVar17 + 0x468 ) = *(undefined8*)( lVar17 + 0x1f8 );
                           *(undefined8*)( lVar17 + 0x470 ) = *(undefined8*)( lVar17 + 0x200 );
                           *(undefined8*)( lVar17 + 0x478 ) = *(undefined8*)( lVar17 + 0x208 );
                           ufbxi_patch_mesh_reals(lVar17);
                           if (( ( ( *(long*)( lVar17 + 0x100 ) == 0 ) || ( *(long*)( lVar17 + 0x3b8 ) != 0 ) ) || ( iVar16 = ufbxi_assign_face_groups(lVar7, param_1, lVar17, param_1 + 0xa28, *(undefined1*)( param_1 + 0x278 )) ),iVar16 != 0 )) &&( ( iVar16 = ufbxi_sort_uv_sets(param_1, *(undefined8*)( lVar17 + 0x380 ), *(undefined8*)( lVar17 + 0x388 )) ),iVar16 != 0 && ( iVar16 = ufbxi_sort_color_sets(param_1, *(undefined8*)( lVar17 + 0x390 ), *(undefined8*)( lVar17 + 0x398 )) ),iVar16 != 0 )(local_a0 == 0);
                           {
                              LAB_0012a486:uVar36 = ( ulong ) * (uint*)( param_2 + 8 );
                              uVar25 = *(undefined8*)( param_2 + 0x10 );
                              lVar18 = ufbxi_find_child_isra_0(*(uint*)( param_2 + 8 ), uVar25, "PreviewDivisionLevels");
                              if (( lVar18 != 0 ) && ( ( *(ushort*)( lVar18 + 0xe ) & 3 ) == 1 )) {
                                 *(int*)( lVar17 + 0x4c8 ) = (int)*(undefined8*)( *(long*)( lVar18 + 0x18 ) + 8 );
                                 uVar36 = ( ulong ) * (uint*)( param_2 + 8 );
                              }

                              lVar18 = ufbxi_find_child_isra_0(uVar36 & 0xffffffff, uVar25, "RenderDivisionLevels");
                              if (( lVar18 != 0 ) && ( ( *(ushort*)( lVar18 + 0xe ) & 3 ) == 1 )) {
                                 *(int*)( lVar17 + 0x4cc ) = (int)*(undefined8*)( *(long*)( lVar18 + 0x18 ) + 8 );
                                 uVar36 = ( ulong ) * (uint*)( param_2 + 8 );
                              }

                              uVar33 = (undefined4)uVar36;
                              lVar18 = ufbxi_find_child_isra_0(uVar36 & 0xffffffff, uVar25, "Smoothness");
                              if (( ( lVar18 != 0 ) && ( ( *(ushort*)( lVar18 + 0xe ) & 3 ) == 1 ) ) && ( uVar32 = ( uint ) * (undefined8*)( *(long*)( lVar18 + 0x18 ) + 8 ) ),uVar32 < 4) {
                                 *(uint*)( lVar17 + 0x4d0 ) = uVar32;
                                 uVar33 = *(undefined4*)( param_2 + 8 );
                              }

                              lVar18 = ufbxi_find_child_isra_0(uVar33, uVar25, "BoundaryRule");
                              if (( ( lVar18 != 0 ) && ( ( *(ushort*)( lVar18 + 0xe ) & 3 ) == 1 ) ) && ( uVar32 = ( uint ) * (undefined8*)( *(long*)( lVar18 + 0x18 ) + 8 ) ),uVar32 < 2) {
                                 *(uint*)( lVar17 + 0x4d4 ) = uVar32 + 1;
                              }

                              goto LAB_0012a560;
                           }

                           plVar22 = (long*)ufbxi_push_element_extra_size(param_1, *(undefined4*)( lVar17 + 0x30 ), 0x10);
                           if (plVar22 != (long*)0x0) {
                              plVar22[1] = local_a0;
                              lVar18 = ufbxi_push_pop_size(param_1 + 0xa30, param_1 + 0x16f0, 0x28);
                              *plVar22 = lVar18;
                              if (lVar18 != 0) goto LAB_0012a486;
                           }

                        }

                     }

                  }

               }

            }

         }

      }

      LAB_00129a40:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         pcVar41 = "";
         LAB_00129a5b:uVar25 = ufbxi_fail_imp_constprop_0(param_1, pcVar41);
         return uVar25;
      }

   }

   LAB_0012adaa:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
/* WARNING: Type propagation algorithm not settling */undefined8 ufbxi_read_synthetic_attribute_constprop_0(long param_1, long param_2, ulong *param_3, char *param_4, undefined8 param_5, char *param_6) {
   ulong *puVar1;
   ulong *puVar2;
   int iVar3;
   long lVar4;
   size_t sVar5;
   undefined4 uVar6;
   undefined8 uVar7;
   ulong uVar8;
   ulong uVar9;
   ulong *puVar10;
   ulong uVar11;
   ulong uVar12;
   long in_FS_OFFSET;
   undefined1 local_a8[16];
   ulong local_98;
   ulong uStack_90;
   ulong local_88;
   ulong uStack_80;
   ulong local_78;
   ulong uStack_70;
   ulong local_68;
   ulong uStack_60;
   ulong local_58;
   ulong uStack_50;
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (( ( param_6 == "Model" ) || ( param_6 == "" ) ) && ( param_4 == "Model" )) goto LAB_0012b0f8;
   local_88 = *param_3;
   uStack_80 = param_3[1];
   local_78 = param_3[2];
   uStack_70 = param_3[3];
   local_68 = param_3[4];
   uStack_60 = param_3[5];
   local_58 = param_3[6];
   uStack_50 = param_3[7];
   iVar3 = ufbxi_push_synthetic_id(param_1, &local_88);
   if (iVar3 != 0) {
      lVar4 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "NodeAttributeName");
      if (( lVar4 != 0 ) && ( ( *(ushort*)( lVar4 + 0xe ) & 3 ) == 2 )) {
         uVar9 = **(ulong**)( lVar4 + 0x18 );
         iVar3 = ufbxi_split_type_and_name(param_1, uVar9, (int)( *(ulong**)( lVar4 + 0x18 ) )[1], local_a8, &local_98);
         if (iVar3 == 0) goto LAB_0012b0a0;
         if (uStack_90 != 0) {
            uStack_80 = local_98;
            local_78 = uStack_90;
            uVar9 = uVar9 >> 1 | 0x8000000000000000;
            if (( uVar9 != *param_3 ) && ( lVar4 = lVar4 == 0 )) {
               local_88 = uVar9;
            }

         }

      }

      if (6999 < *(uint*)( param_1 + 0x268 )) {
         joined_r0x0012af19:if (param_6 == "Mesh") {
            iVar3 = ufbxi_read_mesh(param_1, param_2, &local_88);
            joined_r0x0012b4f5:if (( iVar3 == 0 ) || ( iVar3 = ufbxi_connect_oo(param_1, local_88, *param_3) ),iVar3 == 0) goto LAB_0012b0a0;
         }
 else {
            uVar7 = 0xe0;
            if (( param_6 == "Light" ) || ( uVar7 = param_6 == "Camera" )) goto LAB_0012b1ea;
            if (( param_6 == "Limb" || param_6 == "LimbNode" ) || ( param_6 == "Root" )) {
               iVar3 = ufbxi_read_bone_isra_0(param_1, &local_88, param_6, 4);
               goto joined_r0x0012b4f5;
            }

            if (( param_6 == "Marker" ) || ( param_6 == "Null" )) goto LAB_0012b1e5;
            if (param_6 == "NurbsCurve") {
               lVar4 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "KnotVector");
               if (lVar4 != 0) {
                  iVar3 = ufbxi_read_nurbs_curve(param_1, param_2, &local_88);
                  goto joined_r0x0012b4f5;
               }

            }
 else if (param_6 == "NurbsSurface") {
               uVar6 = *(undefined4*)( param_2 + 8 );
               uVar7 = *(undefined8*)( param_2 + 0x10 );
               lVar4 = ufbxi_find_child_isra_0(uVar6, uVar7, "KnotVectorU");
               if (( lVar4 != 0 ) && ( lVar4 = ufbxi_find_child_isra_0(uVar6, uVar7, "KnotVectorV") ),lVar4 != 0) {
                  iVar3 = ufbxi_read_nurbs_surface(param_1, param_2, &local_88);
                  goto joined_r0x0012b4f5;
               }

            }
 else {
               if (param_6 != "Line") {
                  if (param_6 == "TrimNurbsSurface") {
                     lVar4 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "Layer", 10);
                     if (lVar4 == 0) goto LAB_0012b0f8;
                     LAB_0012b1e5:uVar7 = 0x80;
                  }
 else {
                     if (param_6 == "Boundary") goto LAB_0012b1e5;
                     uVar7 = 0x90;
                     if (( param_6 != "CameraStereo" ) && ( uVar7 = param_6 != "CameraSwitcher" )) {
                        uVar7 = 1;
                        if (param_6 != "FKEffector") {
                           if (param_6 != "IKEffector") {
                              if (param_6 != "LodGroup") {
                                 sVar5 = strlen(param_6);
                                 iVar3 = ufbxi_read_unknown_isra_0(param_1, &local_88, param_4, param_5, param_6, sVar5);
                                 goto joined_r0x0012b4f5;
                              }

                              uVar7 = 0xb0;
                              goto LAB_0012b1ea;
                           }

                           uVar7 = 2;
                        }

                        iVar3 = ufbxi_read_marker_isra_0(param_1, &local_88, uVar7, 0xe);
                        goto joined_r0x0012b4f5;
                     }

                  }

                  LAB_0012b1ea:iVar3 = ufbxi_read_element_isra_0(param_1, &local_88, uVar7);
                  goto joined_r0x0012b4f5;
               }

               uVar6 = *(undefined4*)( param_2 + 8 );
               uVar7 = *(undefined8*)( param_2 + 0x10 );
               lVar4 = ufbxi_find_child_isra_0(uVar6, uVar7, "Points");
               if (( lVar4 != 0 ) && ( lVar4 = ufbxi_find_child_isra_0(uVar6, uVar7, "PointsIndex") ),lVar4 != 0) {
                  iVar3 = ufbxi_read_line(param_1, param_2, &local_88);
                  goto joined_r0x0012b4f5;
               }

            }

         }

         LAB_0012b0f8:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0012b55a;
      }

      iVar3 = ufbxi_insert_fbx_attr(param_1, *param_3, local_88);
      if (iVar3 != 0) {
         uVar9 = param_3[4];
         puVar2 = (ulong*)param_3[3];
         if (uVar9 == 0) {
            uVar12 = 0;
            local_68 = 0;
         }
 else {
            uVar12 = 0;
            uVar11 = 1;
            puVar10 = puVar2;
            while (true) {
               local_98 = *puVar10;
               uVar8 = ( local_98 >> 0x20 ^ local_98 ) * -0x2917014799a6026d;
               lVar4 = ( uVar8 ^ uVar8 >> 0x20 ) * -0x2917014799a6026d;
               lVar4 = ufbxi_map_find_size(param_1 + 0x8f0, 8, (uint)lVar4 ^ ( uint )((ulong)lVar4 >> 0x20), &local_98);
               if (lVar4 == 0) {
                  lVar4 = ufbxi_push_size_copy(param_1 + 0xab0, 0x68, 1, puVar10);
                  if (lVar4 == 0) goto LAB_0012b0a0;
               }
 else {
                  if (uVar11 - 1 != uVar12) {
                     uVar8 = puVar10[1];
                     puVar1 = puVar2 + uVar12 * 0xd;
                     *puVar1 = *puVar10;
                     puVar1[1] = uVar8;
                     for (int i = 0; i < 5; i++) {
                        uVar8 = puVar10[( 2*i + 3 )];
                        puVar1[( 2*i + 2 )] = puVar10[( 2*i + 2 )];
                        puVar1[( 2*i + 3 )] = uVar8;
                     }

                     puVar1[0xc] = puVar10[0xc];
                  }

                  uVar12 = uVar12 + 1;
               }

               if (uVar9 <= uVar11) break;
               uVar11 = uVar11 + 1;
               puVar10 = puVar10 + 0xd;
            }
;
            local_68 = uVar9 - uVar12;
         }

         uStack_70 = ufbxi_push_pop_size(param_1 + 0x1a58, param_1 + 0xab0, 0x68);
         if (uStack_70 != 0) {
            param_3[4] = uVar12;
            goto joined_r0x0012af19;
         }

      }

   }

   LAB_0012b0a0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar7;
   }

   LAB_0012b55a:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_legacy_mesh(long param_1, long param_2, undefined8 *param_3) {
   char cVar1;
   ulong uVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   undefined8 uVar5;
   undefined8 uVar6;
   undefined8 uVar7;
   undefined8 uVar8;
   undefined8 uVar9;
   int iVar10;
   long lVar11;
   long lVar12;
   long lVar13;
   undefined8 *puVar14;
   long *plVar15;
   undefined8 *puVar16;
   undefined8 uVar17;
   uint *puVar18;
   uint *puVar19;
   undefined4 uVar20;
   undefined8 uVar21;
   uint uVar22;
   uint *extraout_RDX;
   ulong uVar23;
   uint *extraout_RDX_00;
   ulong uVar24;
   uint *extraout_RDX_01;
   uint *extraout_RDX_02;
   uint *extraout_RDX_03;
   uint *extraout_RDX_04;
   uint *extraout_RDX_05;
   uint *extraout_RDX_06;
   uint *extraout_RDX_07;
   uint *extraout_RDX_08;
   uint *extraout_RDX_09;
   char *pcVar25;
   ulong uVar26;
   long in_FS_OFFSET;
   undefined1 auVar27[16];
   uint *puVar28;
   long local_90;
   undefined8 local_78;
   undefined8 local_70;
   undefined1 local_68[16];
   undefined8 local_58[3];
   long local_40;
   uVar20 = *(undefined4*)( param_2 + 8 );
   uVar17 = *(undefined8*)( param_2 + 0x10 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar11 = ufbxi_find_child_isra_0(uVar20, uVar17, "Vertices");
   lVar12 = ufbxi_find_child_isra_0(uVar20, uVar17, "PolygonVertexIndex");
   if (( lVar11 == 0 ) || ( lVar12 == 0 )) {
      LAB_0012ba00:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

   }
 else {
      auVar27 = ufbxi_push_element_size(param_1, param_3, 0x4f0, 2);
      puVar28 = auVar27._8_8_;
      lVar13 = auVar27._0_8_;
      if (( lVar13 != 0 ) && ( iVar10 = ufbxi_read_synthetic_blend_shapes_isra_0(param_1, *(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), param_3) ),puVar28 = extraout_RDX,iVar10 != 0) {
         ufbxi_patch_mesh_reals(lVar13);
         if (*(char*)( param_1 + 0x350 ) != '\0') goto LAB_0012ba00;
         puVar14 = (undefined8*)ufbxi_get_array(lVar11, 0x72);
         auVar27 = ufbxi_get_array(lVar12, 0x69);
         puVar28 = auVar27._8_8_;
         plVar15 = auVar27._0_8_;
         if (( ( puVar14 != (undefined8*)0x0 ) && ( plVar15 != (long*)0x0 ) ) && ( puVar28 = (uint*)puVar14[1](ulong)((long)puVar28 * -0x5555555555555555) < 0x5555555555555556 )) {
            lVar11 = plVar15[1];
            lVar12 = *plVar15;
            uVar23 = (ulong)puVar28 / 3;
            cVar1 = *(char*)( param_1 + 0x495 );
            *(ulong*)( lVar13 + 0x80 ) = uVar23;
            *(long*)( lVar13 + 0x88 ) = lVar11;
            if (cVar1 != '\0') {
               auVar27 = ufbxi_push_size_copy(param_1 + 0x1a58, 4, lVar11);
               puVar28 = auVar27._8_8_;
               lVar12 = auVar27._0_8_;
               if (lVar12 == 0) goto LAB_0012baa0;
               uVar23 = *(ulong*)( lVar13 + 0x80 );
               lVar11 = *(long*)( lVar13 + 0x88 );
            }

            uVar17 = *puVar14;
            *(long*)( lVar13 + 0x158 ) = lVar12;
            *(ulong*)( lVar13 + 0x170 ) = uVar23;
            *(undefined8*)( lVar13 + 0x168 ) = uVar17;
            *(long*)( lVar13 + 0x160 ) = lVar11;
            *(undefined1*)( lVar13 + 0x188 ) = 1;
            *(undefined8*)( lVar13 + 400 ) = uVar17;
            *(ulong*)( lVar13 + 0x198 ) = uVar23;
            *(long*)( lVar13 + 0x1a0 ) = lVar12;
            *(long*)( lVar13 + 0x1a8 ) = lVar11;
            *(undefined1*)( lVar13 + 0x1b8 ) = 1;
            if (lVar11 != 0) {
               puVar28 = (uint*)( lVar12 + -4 + lVar11 * 4 );
               if (-1 < (int)*puVar28) {
                  if (*(char*)( param_1 + 0x35d ) != '\0') {
                     if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
                        pcVar25 = "Non-negated last index";
                        goto LAB_0012babb;
                     }

                     goto LAB_0012bdd4;
                  }

                  *puVar28 = ~*puVar28;
               }

            }

            iVar10 = ufbxi_process_indices(param_1, lVar13, lVar12);
            puVar28 = extraout_RDX_00;
            if (iVar10 != 0) {
               uVar22 = *(uint*)( param_2 + 8 );
               uVar23 = (ulong)uVar22;
               puVar14 = *(undefined8**)( param_2 + 0x10 );
               puVar16 = (undefined8*)ufbxi_find_array_isra_0(uVar23, puVar14, "Normals", 0x72);
               if (puVar16 != (undefined8*)0x0) {
                  uVar2 = *(ulong*)( lVar13 + 0x88 );
                  uVar24 = (ulong)puVar16[1] / 3;
                  if (*(ulong*)( lVar13 + 0x80 ) == uVar24) {
                     if (( uVar2 == uVar24 ) && ( *(int*)( param_1 + 0x268 ) != 5000 )) goto LAB_0012bc1c;
                     *(ulong*)( lVar13 + 0x1f0 ) = uVar2;
                     uVar17 = *puVar16;
                     *(undefined1*)( lVar13 + 0x1d0 ) = 1;
                     *(undefined8*)( lVar13 + 0x1d8 ) = uVar17;
                     *(ulong*)( lVar13 + 0x1e0 ) = uVar24;
                     *(undefined1*)( lVar13 + 0x200 ) = 1;
                     *(undefined8*)( lVar13 + 0x1e8 ) = *(undefined8*)( lVar13 + 0x158 );
                  }
 else if (uVar2 == uVar24) {
                     LAB_0012bc1c:uVar26 = *(ulong*)( param_1 + 0xa28 );
                     if (*(ulong*)( param_1 + 0xa28 ) < uVar2) {
                        uVar26 = uVar2;
                     }

                     *(ulong*)( param_1 + 0xa28 ) = uVar26;
                     *(ulong*)( lVar13 + 0x1f0 ) = uVar2;
                     uVar17 = *puVar16;
                     *(undefined1*)( lVar13 + 0x1d0 ) = 1;
                     *(undefined8*)( lVar13 + 0x1d8 ) = uVar17;
                     *(ulong*)( lVar13 + 0x1e0 ) = uVar24;
                     *(undefined1*)( lVar13 + 0x200 ) = 0;
                     *(undefined4**)( lVar13 + 0x1e8 ) = &ufbxi_sentinel_index_consecutive;
                  }

               }

               lVar11 = ufbxi_find_child_isra_0(uVar22, puVar14, "GeometryUVInfo");
               if (lVar11 == 0) {
                  LAB_0012b85e:auVar27 = ufbxi_find_child_isra_0(uVar23, puVar14, "MaterialAssignation");
                  puVar28 = auVar27._8_8_;
                  lVar11 = auVar27._0_8_;
                  if (( lVar11 != 0 ) && ( uVar22 = *(ushort*)( lVar11 + 0xe ) & 3 ),puVar28 = (uint*)(ulong)uVar22,(short)uVar22 == 2) {
                     puVar16 = *(undefined8**)( lVar11 + 0x18 );
                     puVar28 = (uint*)*puVar16;
                     if (*(int*)( (long)puVar16 + 0xc ) != 0) {
                        if (*(int*)( (long)puVar16 + 0xc ) == -1) goto LAB_0012baa0;
                        puVar28 = (uint*)( (long)puVar28 + ( ulong ) * (uint*)( puVar16 + 1 ) + 1 );
                     }

                     if (puVar28 == (uint*)"ByPolygon") {
                        puVar28 = (uint*)0x69;
                        iVar10 = ufbxi_read_truncated_array_isra_0(param_1, lVar13 + 0xe8, lVar13 + 0xf0, uVar23, puVar14, "Materials", 0x69, *(undefined8*)( lVar13 + 0x90 ));
                        if (iVar10 == 0) goto LAB_0012baa0;
                        uVar23 = ( ulong ) * (uint*)( param_2 + 8 );
                        puVar14 = *(undefined8**)( param_2 + 0x10 );
                     }
 else if (puVar28 == (uint*)"AllSame") {
                        auVar27 = ufbxi_find_array_isra_0(uVar23, puVar14, "Materials", 0x69);
                        puVar28 = auVar27._8_8_;
                        puVar16 = auVar27._0_8_;
                        if (puVar16 == (undefined8*)0x0) {
                           *(undefined8*)( lVar13 + 0xf0 ) = *(undefined8*)( lVar13 + 0x90 );
                        }
 else {
                           puVar28 = *(uint**)( lVar13 + 0x90 );
                           if (puVar16[1] == 0) {
                              *(uint**)( lVar13 + 0xf0 ) = puVar28;
                           }
 else {
                              uVar22 = *(uint*)*puVar16;
                              *(uint**)( lVar13 + 0xf0 ) = puVar28;
                              if (uVar22 != 0) {
                                 auVar27 = ufbxi_push_size(param_1 + 0x1a58, 4);
                                 puVar28 = auVar27._8_8_;
                                 puVar18 = auVar27._0_8_;
                                 *(uint**)( lVar13 + 0xe8 ) = puVar18;
                                 if (puVar18 == (uint*)0x0) goto LAB_0012baa0;
                                 puVar14 = *(undefined8**)( param_2 + 0x10 );
                                 puVar28 = puVar18 + *(long*)( lVar13 + 0xf0 );
                                 if (puVar18 != puVar28) {
                                    puVar19 = puVar18;
                                    if (( (int)puVar28 - auVar27._0_4_ & 4U ) != 0) {
                                       *puVar18 = uVar22;
                                       puVar19 = puVar18 + 1;
                                       if (puVar28 == puVar18 + 1) goto LAB_0012bdb8;
                                    }

                                    do {
                                       *puVar19 = uVar22;
                                       puVar18 = puVar19 + 2;
                                       puVar19[1] = uVar22;
                                       puVar19 = puVar18;
                                    }
 while ( puVar28 != puVar18 );
                                 }

                                 LAB_0012bdb8:uVar23 = ( ulong ) * (uint*)( param_2 + 8 );
                                 goto LAB_0012b90c;
                              }

                           }

                        }

                        *(undefined4**)( lVar13 + 0xe8 ) = &ufbxi_sentinel_index_zero;
                     }

                     LAB_0012b90c:local_78 = 0;
                     puVar16 = puVar14 + uVar23 * 4;
                     if (puVar14 != puVar16) {
                        local_90 = 0;
                        do {
                           if ((char*)*puVar14 == "Material") {
                              local_70 = 0;
                              if (( ( ( *(ushort*)( (long)puVar14 + 0xe ) & 3 ) != 2 ) || ( iVar10 = ufbxi_split_type_and_name(param_1, *(undefined8*)puVar14[3], *(undefined4*)( (undefined8*)puVar14[3] + 1 ), local_68, local_58) ),puVar28 = extraout_RDX_02,iVar10 == 0 )) goto LAB_0012baa0;
                              iVar10 = ufbxi_connect_oo(param_1, local_70, *param_3);
                              puVar28 = extraout_RDX_04;
                              joined_r0x0012ba93:if (iVar10 == 0) goto LAB_0012baa0;
                           }
 else if ((char*)*puVar14 == "Link") {
                              local_70 = 0;
                              if (( *(ushort*)( (long)puVar14 + 0xe ) & 3 ) == 2) {
                                 uVar23 = *(ulong*)puVar14[3];
                                 iVar10 = ufbxi_split_type_and_name(param_1, uVar23, (int)( (ulong*)puVar14[3] )[1], local_68, local_58);
                                 puVar28 = extraout_RDX_05;
                                 if (( ( iVar10 != 0 ) && ( iVar10 = ufbxi_read_legacy_link_constprop_0(param_1, puVar14, &local_70, local_58[0]) ),uVar17 = local_70,puVar28 = extraout_RDX_06,iVar10 != 0 )) {
                                    uVar21 = local_78;
                                    if (local_90 == 0) {
                                       auVar27 = ufbxi_push_synthetic_element_size(param_1, &local_78, 0, param_3[1], 0xe8, 0x11);
                                       uVar21 = local_78;
                                       puVar28 = auVar27._8_8_;
                                       local_90 = auVar27._0_8_;
                                       if (( local_90 == 0 ) || ( iVar10 = ufbxi_connect_oo(param_1, local_78, *param_3) ),puVar28 = extraout_RDX_09,iVar10 == 0) goto LAB_0012baa0;
                                    }

                                    iVar10 = ufbxi_connect_oo(param_1, uVar17, uVar21);
                                    puVar28 = extraout_RDX_08;
                                    goto joined_r0x0012ba93;
                                 }

                              }

                              goto LAB_0012baa0;
                           }

                           puVar14 = puVar14 + 4;
                        }
 while ( puVar16 != puVar14 );
                     }

                     *(undefined1*)( lVar13 + 0x3f0 ) = 1;
                     *(undefined8*)( lVar13 + 0x3f8 ) = *(undefined8*)( lVar13 + 0x188 );
                     *(undefined8*)( lVar13 + 0x400 ) = *(undefined8*)( lVar13 + 400 );
                     *(undefined8*)( lVar13 + 0x408 ) = *(undefined8*)( lVar13 + 0x198 );
                     *(undefined8*)( lVar13 + 0x410 ) = *(undefined8*)( lVar13 + 0x1a0 );
                     *(undefined8*)( lVar13 + 0x438 ) = *(undefined8*)( lVar13 + 0x1c8 );
                     *(undefined8*)( lVar13 + 0x418 ) = *(undefined8*)( lVar13 + 0x1a8 );
                     *(undefined8*)( lVar13 + 0x420 ) = *(undefined8*)( lVar13 + 0x1b0 );
                     *(undefined8*)( lVar13 + 0x428 ) = *(undefined8*)( lVar13 + 0x1b8 );
                     *(undefined8*)( lVar13 + 0x430 ) = *(undefined8*)( lVar13 + 0x1c0 );
                     *(undefined8*)( lVar13 + 0x440 ) = *(undefined8*)( lVar13 + 0x1d0 );
                     *(undefined8*)( lVar13 + 0x448 ) = *(undefined8*)( lVar13 + 0x1d8 );
                     *(undefined8*)( lVar13 + 0x450 ) = *(undefined8*)( lVar13 + 0x1e0 );
                     *(undefined8*)( lVar13 + 0x458 ) = *(undefined8*)( lVar13 + 0x1e8 );
                     *(undefined8*)( lVar13 + 0x480 ) = *(undefined8*)( lVar13 + 0x210 );
                     *(undefined8*)( lVar13 + 0x460 ) = *(undefined8*)( lVar13 + 0x1f0 );
                     *(undefined8*)( lVar13 + 0x468 ) = *(undefined8*)( lVar13 + 0x1f8 );
                     *(undefined8*)( lVar13 + 0x470 ) = *(undefined8*)( lVar13 + 0x200 );
                     *(undefined8*)( lVar13 + 0x478 ) = *(undefined8*)( lVar13 + 0x208 );
                     ufbxi_patch_mesh_reals(lVar13);
                     goto LAB_0012ba00;
                  }

               }
 else {
                  auVar27 = ufbxi_push_size_zero(param_1 + 0x1a58, 0xf0, 1);
                  puVar28 = auVar27._8_8_;
                  puVar14 = auVar27._0_8_;
                  if (puVar14 != (undefined8*)0x0) {
                     *(undefined4*)( puVar14 + 2 ) = 0;
                     *puVar14 = &ufbxi_empty_char;
                     iVar10 = ufbxi_read_vertex_element_constprop_0(param_1, lVar13, lVar11, puVar14 + 3, "TextureUV", "TextureUVVerticeIndex", 0, 2);
                     puVar28 = extraout_RDX_01;
                     if (iVar10 != 0) {
                        uVar17 = puVar14[0xb];
                        uVar21 = puVar14[3];
                        uVar3 = puVar14[4];
                        *(undefined8*)( lVar13 + 0x388 ) = 1;
                        uVar4 = puVar14[5];
                        uVar5 = puVar14[6];
                        uVar6 = puVar14[7];
                        uVar7 = puVar14[8];
                        *(undefined8**)( lVar13 + 0x380 ) = puVar14;
                        uVar8 = puVar14[9];
                        uVar9 = puVar14[10];
                        *(undefined8*)( lVar13 + 600 ) = uVar17;
                        uVar23 = ( ulong ) * (uint*)( param_2 + 8 );
                        puVar14 = *(undefined8**)( param_2 + 0x10 );
                        *(undefined8*)( lVar13 + 0x218 ) = uVar21;
                        *(undefined8*)( lVar13 + 0x220 ) = uVar3;
                        *(undefined8*)( lVar13 + 0x228 ) = uVar4;
                        *(undefined8*)( lVar13 + 0x230 ) = uVar5;
                        *(undefined8*)( lVar13 + 0x238 ) = uVar6;
                        *(undefined8*)( lVar13 + 0x240 ) = uVar7;
                        *(undefined8*)( lVar13 + 0x248 ) = uVar8;
                        *(undefined8*)( lVar13 + 0x250 ) = uVar9;
                        goto LAB_0012b85e;
                     }

                  }

               }

            }

         }

      }

      LAB_0012baa0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         pcVar25 = "";
         LAB_0012babb:uVar17 = ufbxi_fail_imp_constprop_0(param_1, pcVar25, puVar28);
         return uVar17;
      }

   }

   LAB_0012bdd4:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_legacy_model(long param_1, long param_2) {
   uint uVar1;
   uint uVar2;
   long *plVar3;
   undefined8 uVar4;
   int iVar5;
   undefined8 uVar6;
   long lVar7;
   char *pcVar8;
   long *plVar9;
   long lVar10;
   ulong uVar11;
   long *plVar12;
   ulong uVar13;
   long in_FS_OFFSET;
   undefined1 local_e8[16];
   undefined8 local_d8;
   undefined8 uStack_d0;
   ulong local_c8;
   undefined8 local_c0;
   undefined8 uStack_b8;
   undefined1 local_b0[16];
   undefined1 local_a0[16];
   undefined8 local_90;
   undefined1 local_88[16];
   undefined1 local_78[16];
   undefined1 local_68[16];
   undefined1 local_58[16];
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (( *(ushort*)( param_2 + 0xe ) & 3 ) != 2) goto LAB_0012be14;
   uVar13 = **(ulong**)( param_2 + 0x18 );
   iVar5 = ufbxi_split_type_and_name(param_1, uVar13, (int)( *(ulong**)( param_2 + 0x18 ) )[1], local_e8, &local_d8);
   if (iVar5 == 0) goto LAB_0012be14;
   uVar6 = 0;
   uVar13 = uVar13 >> 1 | 0x8000000000000000;
   local_b0 = (undefined1[16])0x0;
   local_a0 = (undefined1[16])0x0;
   local_c0 = local_d8;
   uStack_b8 = uStack_d0;
   local_c8 = uVar13;
   if (*(char*)( param_1 + 0x495 ) != '\0') {
      uVar6 = ufbxi_get_dom_node_imp(param_1, param_2);
   }

   local_90 = uVar6;
   lVar7 = ufbxi_push_element_size(param_1, &local_c8, 0x450, 1);
   if (( lVar7 == 0 ) || ( lVar7 = ufbxi_push_size_copy(param_1 + 0xb30, 4, 1, lVar7 + 0x30) ),lVar7 == 0) goto LAB_0012be14;
   local_88 = (undefined1[16])0x0;
   local_78 = (undefined1[16])0x0;
   local_68 = (undefined1[16])0x0;
   local_58 = (undefined1[16])0x0;
   iVar5 = ufbxi_push_synthetic_id(param_1, local_88);
   if (iVar5 == 0) goto LAB_0012be14;
   uVar4 = local_88._0_8_;
   local_58._8_8_ = uVar6;
   local_88._8_8_ = local_d8;
   local_78._0_8_ = uStack_d0;
   iVar5 = ufbxi_connect_oo(param_1, local_88._0_8_, uVar13);
   if (iVar5 == 0) goto LAB_0012be14;
   uVar11 = ( ulong ) * (uint*)( param_2 + 8 );
   plVar12 = *(long**)( param_2 + 0x10 );
   lVar7 = ufbxi_find_child_isra_0(uVar11, plVar12, &ufbxi_Type);
   if (( lVar7 == 0 ) || ( ( *(ushort*)( lVar7 + 0xe ) & 3 ) != 2 )) {
      LAB_0012c180:lVar7 = ufbxi_find_child_isra_0(uVar11 & 0xffffffff, plVar12, "Vertices");
      if (lVar7 == 0) goto LAB_0012c018;
      iVar5 = ufbxi_read_legacy_mesh(param_1, param_2, local_88);
   }
 else {
      plVar9 = *(long**)( lVar7 + 0x18 );
      pcVar8 = (char*)*plVar9;
      if (*(int*)( (long)plVar9 + 0xc ) != 0) {
         if (*(int*)( (long)plVar9 + 0xc ) == -1) goto LAB_0012c180;
         pcVar8 = pcVar8 + ( ulong ) * (uint*)( plVar9 + 1 ) + 1;
      }

      if (pcVar8 == "Light") {
         iVar5 = ufbxi_read_legacy_light(param_1, param_2, local_88);
      }
 else if (pcVar8 == "Camera") {
         iVar5 = ufbxi_read_legacy_camera(param_1, param_2, local_88);
      }
 else {
         if (pcVar8 != "LimbNode") goto LAB_0012c180;
         iVar5 = ufbxi_read_legacy_limb_node(param_1, param_2, local_88);
      }

   }

   if (( iVar5 == 0 ) || ( iVar5 = ufbxi_insert_fbx_attr(param_1, uVar13, uVar4) ),iVar5 == 0) {
      LAB_0012be14:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar6 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar6;
      }

      LAB_0012c20b:/* WARNING: Subroutine does not return */__stack_chk_fail();
   }

   uVar11 = ( ulong ) * (uint*)( param_2 + 8 );
   plVar12 = *(long**)( param_2 + 0x10 );
   LAB_0012c018:plVar9 = (long*)ufbxi_find_array_isra_0(uVar11 & 0xffffffff, plVar12, "Children", 0x73);
   if (( plVar9 != (long*)0x0 ) && ( lVar7 = *plVar9 ),plVar9[1] != 0) {
      uVar11 = 0;
      do {
         iVar5 = ufbxi_connect_oo(param_1, *(ulong*)( lVar7 + uVar11 * 0x10 ) >> 1 | 0x8000000000000000, uVar13);
         if (iVar5 == 0) goto LAB_0012be14;
         uVar11 = uVar11 + 1;
      }
 while ( uVar11 < (ulong)plVar9[1] );
      uVar11 = ( ulong ) * (uint*)( param_2 + 8 );
      plVar12 = *(long**)( param_2 + 0x10 );
   }

   plVar9 = plVar12 + uVar11 * 4;
   joined_r0x0012c0a1:if (plVar12 != plVar9) {
      do {
         if (( (char*)*plVar12 == "Channel" ) && ( ( *(ushort*)( (long)plVar12 + 0xe ) & 3 ) == 2 )) {
            plVar3 = (long*)plVar12[3];
            uVar1 = *(uint*)( (long)plVar3 + 0xc );
            lVar7 = *plVar3;
            uVar2 = *(uint*)( plVar3 + 1 );
            if (( uVar1 == 0 ) || ( lVar7 = lVar7 + 1 + (ulong)uVar2 ),uVar2 = uVar1,uVar1 != 0xffffffff) goto LAB_0012c0f1;
         }

         plVar12 = plVar12 + 4;
         if (plVar9 == plVar12) break;
      }
 while ( true );
   }

   if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   goto LAB_0012c20b;
   LAB_0012c0f1:lVar10 = *(long*)( param_1 + 0x21d8 );
   if (lVar10 == 0) {
      iVar5 = ufbxi_push_synthetic_id(param_1, param_1 + 0x21d8);
      if (iVar5 == 0) goto LAB_0012be14;
      lVar10 = *(long*)( param_1 + 0x21d8 );
   }

   iVar5 = ufbxi_read_take_prop_channel(param_1, plVar12, uVar13, lVar10, lVar7, uVar2);
   if (iVar5 == 0) goto LAB_0012be14;
   plVar12 = plVar12 + 4;
   goto joined_r0x0012c0a1;
}
void ufbxi_set_own_prop_vec3_uniform(double param_1, undefined8 *param_2, char *param_3) {
   size_t sVar1;
   long lVar2;
   long in_FS_OFFSET;
   undefined8 local_38;
   undefined8 uStack_30;
   undefined8 local_28;
   undefined8 uStack_20;
   long local_10;
   local_38 = *param_2;
   uStack_30 = param_2[1];
   local_28 = param_2[2];
   local_10 = *(long*)( in_FS_OFFSET + 0x28 );
   uStack_20 = 0;
   sVar1 = strlen(param_3);
   lVar2 = ufbx_find_prop_len(&local_38, param_3, sVar1);
   if (lVar2 != 0) {
      *(undefined8*)( lVar2 + 0x60 ) = 0;
      *(double*)( lVar2 + 0x58 ) = param_1;
      *(double*)( lVar2 + 0x48 ) = param_1;
      *(double*)( lVar2 + 0x50 ) = param_1;
      *(long*)( lVar2 + 0x40 ) = (long)param_1;
   }

   if (local_10 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbx_find_real_len(undefined8 param_1) {
   long lVar1;
   lVar1 = ufbx_find_prop_len();
   if (lVar1 != 0) {
      param_1 = *(undefined8*)( lVar1 + 0x48 );
   }

   return param_1;
}
undefined8 *ufbx_find_vec3_len(undefined8 *param_1, undefined8 param_2, undefined8 param_3, undefined8 param_4, undefined8 param_5, undefined8 param_6, undefined8 param_7, undefined8 param_8, undefined8 param_9) {
   undefined8 uVar1;
   undefined8 uVar2;
   long lVar3;
   lVar3 = ufbx_find_prop_len(param_2, param_3, param_4);
   if (lVar3 != 0) {
      uVar2 = *(undefined8*)( lVar3 + 0x50 );
      uVar1 = *(undefined8*)( lVar3 + 0x58 );
      *param_1 = *(undefined8*)( lVar3 + 0x48 );
      param_1[1] = uVar2;
      param_1[2] = uVar1;
      return param_1;
   }

   param_1[2] = param_9;
   *param_1 = param_7;
   param_1[1] = param_8;
   return param_1;
}
undefined8 ufbx_find_int_len(void) {
   long lVar1;
   undefined8 in_RCX;
   lVar1 = ufbx_find_prop_len();
   if (lVar1 != 0) {
      in_RCX = *(undefined8*)( lVar1 + 0x40 );
   }

   return in_RCX;
}
void ufbxi_find_bool3(long param_1, undefined8 param_2, char *param_3, undefined1 param_4) {
   size_t sVar1;
   long lVar2;
   long lVar3;
   long in_FS_OFFSET;
   undefined2 auStack_88[36];
   long local_40;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   sVar1 = strlen(param_3);
   __memcpy_chk(auStack_88, param_3, sVar1, 0x40);
   lVar3 = sVar1 + 1;
   *(undefined2*)( (long)auStack_88 + sVar1 ) = 0x58;
   lVar2 = ufbx_find_int_len(param_2, auStack_88, lVar3, param_4);
   *(undefined1*)( (long)auStack_88 + sVar1 ) = 0x59;
   *(bool*)param_1 = lVar2 != 0;
   lVar2 = ufbx_find_int_len(param_2, auStack_88, lVar3, param_4);
   *(undefined1*)( (long)auStack_88 + sVar1 ) = 0x5a;
   *(bool*)( param_1 + 1 ) = lVar2 != 0;
   lVar3 = ufbx_find_int_len(param_2, auStack_88, lVar3, param_4);
   *(bool*)( param_1 + 2 ) = lVar3 != 0;
   if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_finalize_lod_group(long param_1, long param_2) {
   long lVar1;
   int iVar2;
   ulong uVar3;
   long lVar4;
   undefined8 *puVar5;
   ulong uVar6;
   undefined8 uVar7;
   ulong uVar8;
   ulong uVar9;
   long in_FS_OFFSET;
   bool bVar10;
   bool bVar11;
   undefined1 auStack_88[72];
   long local_40;
   uVar9 = *(ulong*)( param_2 + 0x40 );
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (uVar9 == 0) {
      uVar8 = 0;
   }
 else {
      uVar6 = *(ulong*)( **(long**)( param_2 + 0x38 ) + 0x90 );
      uVar3 = 0;
      uVar8 = 0;
      if (( ( uVar9 & 1 ) == 0 ) || ( uVar3 = 1 ),uVar8 = uVar6,uVar9 != 1) {
         do {
            if (uVar8 < uVar6) {
               uVar8 = uVar6;
            }

            uVar3 = uVar3 + 2;
         }
 while ( uVar9 != uVar3 );
      }

   }

   uVar9 = 0;
   lVar1 = param_2 + 0x10;
   while (true) {
      iVar2 = ufbxi_snprintf(auStack_88, 0x40, "Thresholds|Level%zu", uVar9);
      lVar4 = ufbx_find_prop_len(lVar1, auStack_88, (long)iVar2);
      if (lVar4 == 0) break;
      uVar9 = uVar9 + 1;
      if (uVar8 < uVar9) {
         uVar8 = uVar9;
      }

   }
;
   puVar5 = (undefined8*)ufbxi_push_size_zero(param_1 + 0x1a58, 0x10, uVar8);
   if (puVar5 == (undefined8*)0x0) {
      if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar7;
      }

   }
 else {
      bVar10 = false;
      lVar4 = ufbx_find_prop_len(lVar1, "ThresholdsUsedAsPercentage", 0x1a);
      if (lVar4 != 0) {
         bVar10 = *(long*)( lVar4 + 0x40 ) != 0;
      }

      *(bool*)( param_2 + 0x80 ) = bVar10;
      lVar4 = ufbx_find_prop_len(lVar1, "WorldSpace", 10);
      bVar11 = false;
      if (lVar4 != 0) {
         bVar11 = *(long*)( lVar4 + 0x40 ) == 0;
      }

      *(bool*)( param_2 + 0x98 ) = bVar11;
      lVar4 = ufbx_find_prop_len(lVar1, "MinMaxDistance", 0xe);
      bVar11 = false;
      if (lVar4 != 0) {
         bVar11 = *(long*)( lVar4 + 0x40 ) != 0;
      }

      *(bool*)( param_2 + 0x99 ) = bVar11;
      lVar4 = ufbx_find_prop_len(lVar1, "MinDistance", 0xb);
      uVar7 = _LC207;
      if (lVar4 != 0) {
         uVar7 = *(undefined8*)( lVar4 + 0x48 );
      }

      *(undefined8*)( param_2 + 0xa0 ) = uVar7;
      lVar4 = ufbx_find_prop_len(lVar1, "MaxDistance", 0xb);
      uVar7 = _LC9;
      if (lVar4 != 0) {
         uVar7 = *(undefined8*)( lVar4 + 0x48 );
      }

      *(undefined8**)( param_2 + 0x88 ) = puVar5;
      *(ulong*)( param_2 + 0x90 ) = uVar8;
      *(undefined8*)( param_2 + 0xa8 ) = uVar7;
      if (uVar8 != 0) {
         if (bVar10 != false) {
            *puVar5 = _LC9;
         }

         uVar9 = 0;
         while (true) {
            iVar2 = ufbxi_snprintf(auStack_88, 0x40, "DisplayLevels|Level%zu", uVar9);
            uVar6 = ufbx_find_int_len(lVar1, auStack_88, (long)iVar2, 0);
            if (uVar6 < 3) {
               *(int*)( puVar5 + 1 ) = (int)uVar6;
            }

            if (uVar8 == uVar9 + 1) break;
            iVar2 = ufbxi_snprintf(auStack_88, 0x40, "Thresholds|Level%zu", uVar9);
            lVar4 = ufbx_find_prop_len(lVar1, auStack_88, (long)iVar2);
            uVar7 = 0;
            if (lVar4 != 0) {
               uVar7 = *(undefined8*)( lVar4 + 0x48 );
            }

            puVar5 = puVar5 + 2;
            *puVar5 = uVar7;
            uVar9 = uVar9 + 1;
         }
;
      }

      if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
         return 1;
      }

   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_read_thumbnail(undefined8 param_1, long param_2, long param_3) {
   int iVar1;
   uint uVar2;
   long lVar3;
   long lVar4;
   long lVar5;
   undefined8 *puVar6;
   undefined8 uVar7;
   undefined8 *puVar8;
   uint local_4c;
   iVar1 = ufbxi_read_properties();
   if (iVar1 == 0) {
      uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar7;
   }

   lVar3 = ufbx_find_int_len(param_3, "CustomWidth", 0xb, 0);
   lVar4 = ufbx_find_int_len(param_3, "CustomHeight", 0xc, 0);
   local_4c = *(uint*)( param_2 + 8 );
   puVar6 = *(undefined8**)( param_2 + 0x10 );
   puVar8 = puVar6;
   do {
      if (puVar8 == puVar6 + (ulong)local_4c * 4) {
         LAB_0012c7bd:lVar5 = ufbxi_find_child_isra_0(local_4c, puVar6, &ufbxi_Size);
         if (( lVar5 != 0 ) && ( ( *(ushort*)( lVar5 + 0xe ) & 3 ) == 1 )) {
            iVar1 = (int)*(undefined8*)( *(long*)( lVar5 + 0x18 ) + 8 );
            if (iVar1 < 1) {
               if (( ( iVar1 != 0 ) && ( 0 < lVar3 ) ) && ( 0 < lVar4 )) {
                  *(int*)( param_3 + 0x20 ) = (int)lVar3;
                  *(int*)( param_3 + 0x24 ) = (int)lVar4;
                  local_4c = *(uint*)( param_2 + 8 );
               }

            }
 else {
               *(ulong*)( param_3 + 0x20 ) = CONCAT44(iVar1, iVar1);
               local_4c = *(uint*)( param_2 + 8 );
            }

         }

         puVar6 = (undefined8*)ufbxi_find_array_isra_0(local_4c, puVar6, "ImageData", 99);
         if (puVar6 != (undefined8*)0x0) {
            uVar7 = puVar6[1];
            *(undefined8*)( param_3 + 0x30 ) = *puVar6;
            *(undefined8*)( param_3 + 0x38 ) = uVar7;
         }

         return 1;
      }

      if (( *(char*)*puVar8 == 'F' ) && ( iVar1 = iVar1 == 0 )) {
         if (( ( *(ushort*)( (long)puVar8 + 0xe ) & 3 ) == 1 ) && ( uVar2 = uVar2 < 2 )) {
            *(uint*)( param_3 + 0x28 ) = uVar2 + 1;
            local_4c = *(uint*)( param_2 + 8 );
         }

         goto LAB_0012c7bd;
      }

      puVar8 = puVar8 + 4;
   }
 while ( true );
}
undefined8 ufbxi_read_scene_info(long param_1, long param_2) {
   int iVar1;
   long lVar2;
   undefined8 uVar3;
   iVar1 = ufbxi_read_properties(param_1, param_2, param_1 + 0x1c88);
   if (iVar1 != 0) {
      lVar2 = ufbxi_find_child_isra_0(*(undefined4*)( param_2 + 8 ), *(undefined8*)( param_2 + 0x10 ), "Thumbnail");
      if (lVar2 != 0) {
         iVar1 = ufbxi_read_thumbnail(param_1, lVar2, param_1 + 0x1d08);
         if (iVar1 == 0) goto LAB_0012c940;
      }

      return 1;
   }

   LAB_0012c940:uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar3;
}
undefined8 ufbxi_read_header_extension(long param_1) {
   uint uVar1;
   uint uVar2;
   char *pcVar3;
   long *plVar4;
   long lVar5;
   int iVar6;
   undefined8 uVar7;
   long in_FS_OFFSET;
   long *local_38;
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   *(undefined8*)( param_1 + 0x21f0 ) = 0xac0e8d7b0;
   *(undefined8*)( param_1 + 0x21f8 ) = _LC218;
   do {
      while (true) {
         iVar6 = ufbxi_parse_toplevel_child(param_1, &local_38, 0);
         if (iVar6 == 0) goto LAB_0012ca10;
         if (local_38 == (long*)0x0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

            goto LAB_0012cb02;
         }

         pcVar3 = (char*)*local_38;
         if (pcVar3 != "Creator") break;
         if (( *(ushort*)( (long)local_38 + 0xe ) & 3 ) == 2) {
            plVar4 = (long*)local_38[3];
            lVar5 = *plVar4;
            uVar1 = *(uint*)( plVar4 + 1 );
            uVar2 = *(uint*)( (long)plVar4 + 0xc );
            if (uVar2 == 0) {
               *(long*)( param_1 + 0x1c28 ) = lVar5;
               *(ulong*)( param_1 + 0x1c30 ) = (ulong)uVar1;
            }
 else if (uVar2 != 0xffffffff) {
               *(ulong*)( param_1 + 0x1c30 ) = (ulong)uVar2;
               *(ulong*)( param_1 + 0x1c28 ) = lVar5 + 1 + (ulong)uVar1;
            }

         }

      }
;
      if (( ( ( pcVar3 == "FBXVersion" ) && ( *(uint*)( param_1 + 0x268 ) < 6000 ) ) && ( ( *(ushort*)( (long)local_38 + 0xe ) & 3 ) == 1 ) ) && ( ( uVar1 = ( uint ) * (undefined8*)( local_38[3] + 8 ) ),uVar1 - 1 < 5999 && ( *(uint*)( param_1 + 0x268 ) < uVar1 ) )) {
         *(uint*)( param_1 + 0x268 ) = uVar1;
      }

   }
 while ( ( pcVar3 != "SceneInfo" ) || ( iVar6 = iVar6 != 0 ) );
   LAB_0012ca10:if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar7;
   }

   LAB_0012cb02:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined8 ufbxi_read_object(long param_1, long *param_2) {
   undefined8 *puVar1;
   ushort uVar2;
   undefined4 uVar3;
   long lVar4;
   ulong *puVar5;
   short *psVar6;
   int iVar7;
   undefined8 uVar8;
   undefined8 *puVar9;
   undefined8 in_R10;
   ulong uVar10;
   long in_FS_OFFSET;
   char *pcVar11;
   short *local_98;
   ulong local_90;
   undefined8 local_88;
   undefined8 local_80;
   undefined1 local_78[16];
   undefined1 local_68[16];
   undefined1 local_58[16];
   undefined1 local_48[16];
   long local_30;
   local_30 = *(long*)( in_FS_OFFSET + 0x28 );
   uVar8 = 0;
   local_78 = (undefined1[16])0x0;
   local_68 = (undefined1[16])0x0;
   local_58 = (undefined1[16])0x0;
   local_48 = (undefined1[16])0x0;
   local_48._0_8_ = (undefined8*)0x0;
   if (*(char*)( param_1 + 0x495 ) != '\0') {
      uVar8 = ufbxi_get_dom_node_imp();
   }

   local_48._8_8_ = uVar8;
   if ((char*)*param_2 == "GlobalSettings") {
      iVar7 = ufbxi_read_global_settings(param_1, param_2);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

      goto LAB_0012cb8a;
   }

   uVar2 = *(ushort*)( (long)param_2 + 0xe );
   if (*(uint*)( param_1 + 0x268 ) < 7000) {
      if (( uVar2 & 3 ) != 2) goto LAB_0012cb8a;
      puVar5 = (ulong*)param_2[3];
      uVar10 = *puVar5;
      uVar3 = (undefined4)puVar5[1];
      if (( uVar2 & 0xc ) != 8) goto LAB_0012cb8a;
      local_98 = (short*)puVar5[2];
      local_90 = (ulong)(uint)puVar5[3];
      local_78._0_8_ = uVar10 >> 1 | 0x8000000000000000;
   }
 else {
      if (( uVar2 & 3 ) != 1) goto LAB_0012cb8a;
      lVar4 = param_2[3];
      local_78._0_8_ = *(long*)( lVar4 + 8 );
      if (( uVar2 & 0xc ) != 8) goto LAB_0012cb8a;
      uVar10 = *(ulong*)( lVar4 + 0x10 );
      uVar3 = *(undefined4*)( lVar4 + 0x18 );
      if (( uVar2 & 0x30 ) != 0x20) goto LAB_0012cb8a;
      local_98 = *(short**)( lVar4 + 0x20 );
      local_90 = ( ulong ) * (uint*)( lVar4 + 0x28 );
      if (*(long*)( lVar4 + 8 ) < 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }

   if (( ( 3 < local_90 ) && ( *local_98 == 0x6246 ) ) && ( (char)local_98[1] == 'x' )) {
      local_98 = (short*)( (long)local_98 + 3 );
      local_90 = local_90 - 3;
      iVar7 = ufbxi_push_string_place_str(param_1 + 0x1960, &local_98, 0);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }

   iVar7 = ufbxi_split_type_and_name(param_1, uVar10, uVar3, &local_88, local_78 + 8);
   psVar6 = local_98;
   if (iVar7 == 0) {
      if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar8;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   pcVar11 = (char*)*param_2;
   uVar8 = 0x12ccf4;
   iVar7 = ufbxi_read_properties(param_1, param_2, local_68 + 8);
   if (iVar7 == 0) {
      if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
         uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
         return uVar8;
      }

      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   puVar9 = *(undefined8**)( param_1 + 0x1938 );
   puVar1 = puVar9 + *(long*)( param_1 + 0x1940 ) * 7;
   for (; puVar9 != puVar1; puVar9 = puVar9 + 7) {
      if (pcVar11 == (char*)*puVar9) {
         if (( ( ( ( pcVar11 == "Model" || pcVar11 == "Material" ) || pcVar11 == "AnimationStack" ) || ( pcVar11 == "AnimationLayer" ) ) || ( local_48._0_8_ = (undefined8*)0x0 ),psVar6 == (short*)puVar9[1] )) {
            local_48._0_8_ = puVar9 + 3;
         }

         goto LAB_0012cd87;
      }

   }

   local_48._0_8_ = (undefined8*)0x0;
   LAB_0012cd87:if (pcVar11 == "Model") {
      if (( *(uint*)( param_1 + 0x268 ) < 7000 ) && ( iVar7 = ufbxi_read_synthetic_attribute_constprop_0(param_1, param_2, local_78, local_88, local_80, psVar6) ),iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

      iVar7 = ufbxi_read_model_isra_0(param_1, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "NodeAttribute") {
      if (psVar6 == (short*)"Light") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0xe0, 3);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"Camera") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x148, 4);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (( psVar6 == (short*)&ufbxi_Limb || psVar6 == (short*)"LimbNode" ) || ( psVar6 == (short*)&ufbxi_Root )) {
         iVar7 = ufbxi_read_bone_isra_0(param_1, local_78, psVar6);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (( psVar6 == (short*)"Marker" ) || ( psVar6 == (short*)&ufbxi_Null )) {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x80, 6);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"CameraStereo") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x90, 0xd);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"CameraSwitcher") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x80, 0xe);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"FKEffector") {
         iVar7 = ufbxi_read_marker_isra_0(param_1, local_78, 1);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"IKEffector") {
         iVar7 = ufbxi_read_marker_isra_0(param_1, local_78, 2);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"LodGroup") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0xb0, 0x10);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else {
         iVar7 = ufbxi_read_unknown_isra_0(param_1, local_78, local_88, local_80, local_98, local_90, "NodeAttribute", in_R10);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }

   }
 else if (pcVar11 == "Geometry") {
      if (psVar6 == (short*)&ufbxi_Mesh) {
         iVar7 = ufbxi_read_mesh(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"Shape") {
         iVar7 = ufbxi_read_shape(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"NurbsCurve") {
         iVar7 = ufbxi_read_nurbs_curve(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"NurbsSurface") {
         iVar7 = ufbxi_read_nurbs_surface(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)&ufbxi_Line) {
         iVar7 = ufbxi_read_line(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"TrimNurbsSurface") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x80, 10);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"Boundary") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x80, 0xb);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else {
         iVar7 = ufbxi_read_unknown_isra_0(param_1, local_78, local_88, local_80, local_98, local_90);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }

   }
 else if (pcVar11 == "Deformer") {
      if (psVar6 == (short*)&ufbxi_Skin) {
         iVar7 = ufbxi_read_skin(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"Cluster") {
         iVar7 = ufbxi_read_skin_cluster(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"BlendShape") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x90, 0x13);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"BlendShapeChannel") {
         iVar7 = ufbxi_read_blend_channel(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else if (psVar6 == (short*)"VertexCacheDeformer") {
         iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0xa8, 0x16);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else {
         iVar7 = ufbxi_read_unknown_isra_0(param_1, local_78, local_88, local_80, local_98, local_90);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail(uVar8, pcVar11);
         }

      }

   }
 else if (pcVar11 == "Material") {
      iVar7 = ufbxi_read_material(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Texture") {
      iVar7 = ufbxi_read_texture(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "LayeredTexture") {
      iVar7 = ufbxi_read_layered_texture(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Video") {
      iVar7 = ufbxi_read_video(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "AnimationStack") {
      iVar7 = ufbxi_read_anim_stack_isra_0(param_1, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "AnimationLayer") {
      iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0xd0, 0x1e);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "AnimationCurveNode") {
      iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0xb0, 0x1f);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "AnimationCurve") {
      iVar7 = ufbxi_read_animation_curve(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Pose") {
      iVar7 = ufbxi_read_pose(param_1, param_2, local_78, psVar6);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Implementation") {
      iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x98, 0x1b);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "BindingTable") {
      iVar7 = ufbxi_read_binding_table(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Collection") {
      if (( psVar6 == (short*)"SelectionSet" ) && ( iVar7 = ufbxi_read_selection_set_isra_0(param_1, local_78) ),iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "CollectionExclusive") {
      if (( psVar6 == (short*)"DisplayLayer" ) && ( iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0xb0, 0x21) ),iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "SelectionNode") {
      iVar7 = ufbxi_read_selection_node(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Constraint") {
      if (psVar6 == (short*)"Character") {
         iVar7 = ufbxi_read_character_isra_0(param_1, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }
 else {
         iVar7 = ufbxi_read_constraint(param_1, param_2, local_78);
         if (iVar7 == 0) {
            if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
               uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar8;
            }

            /* WARNING: Subroutine does not return */
            __stack_chk_fail();
         }

      }

   }
 else if (pcVar11 == "SceneInfo") {
      iVar7 = ufbxi_read_scene_info(param_1, param_2);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Cache") {
      iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0xf0, 0x17);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "ObjectMetaData") {
      iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x80, 0x29);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "AudioLayer") {
      iVar7 = ufbxi_read_element_isra_0(param_1, local_78, 0x90, 0x26);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else if (pcVar11 == "Audio") {
      iVar7 = ufbxi_read_audio_clip(param_1, param_2, local_78);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }
 else {
      iVar7 = ufbxi_read_unknown_isra_0(param_1, local_78, local_88, local_80, local_98, local_90);
      if (iVar7 == 0) {
         if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
            uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
            return uVar8;
         }

         /* WARNING: Subroutine does not return */
         __stack_chk_fail();
      }

   }

   LAB_0012cb8a:if (local_30 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return 1;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined8 ufbxi_read_objects_threaded(long param_1) {
   undefined8 *puVar1;
   bool bVar2;
   char cVar3;
   int iVar4;
   uint uVar5;
   int iVar6;
   undefined8 uVar7;
   long lVar8;
   long lVar9;
   undefined4 *puVar10;
   long lVar11;
   uint extraout_EDX;
   undefined8 *puVar12;
   ulong uVar13;
   void *__src;
   long *plVar14;
   ulong uVar15;
   long lVar16;
   long in_FS_OFFSET;
   long local_d0;
   long local_b0;
   long local_a8[2];
   undefined4 auStack_98[22];
   long local_40;
   uVar15 = 0;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   *(undefined1*)( param_1 + 0x2948 ) = 1;
   bVar2 = false;
   local_d0 = 0;
   plVar14 = local_a8;
   for (lVar11 = 0xc; lVar11 != 0; lVar11 = lVar11 + -1) {
      *plVar14 = 0;
      plVar14 = plVar14 + 1;
   }

   lVar11 = param_1 + 0x2950;
   LAB_0012e0dd:do {
      iVar4 = ufbxi_thread_pool_wait_group(lVar11);
      if (iVar4 == 0) {
         LAB_0012e1d0:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) goto LAB_0012e1ea;
         goto LAB_0012e526;
      }

      if (local_a8[uVar15 * 3 + 1] != 0) {
         puVar12 = (undefined8*)local_a8[uVar15 * 3];
         puVar1 = puVar12 + local_a8[uVar15 * 3 + 1];
         for (; puVar12 != puVar1; puVar12 = puVar12 + 1) {
            ufbxi_buf_clear(param_1 + 0xa70);
            puVar10 = (undefined4*)ufbxi_push_size(param_1 + 0x17b0, 4, 1);
            *(undefined4**)( param_1 + 0x1958 ) = puVar10;
            if (puVar10 == (undefined4*)0x0) goto LAB_0012e1d0;
            *puVar10 = 0xffffffff;
            uVar7 = *puVar12;
            *(int*)( param_1 + 0x2858 ) = (int)*(undefined8*)( param_1 + 0x17d8 );
            iVar4 = ufbxi_read_object(param_1, uVar7);
            if (iVar4 == 0) goto LAB_0012e1d0;
            *(undefined4*)( param_1 + 0x2858 ) = 0;
            *(undefined8*)( param_1 + 0x1958 ) = 0;
         }

         local_a8[uVar15 * 3 + 1] = 0;
      }

      lVar9 = param_1 + 0x1830 + uVar15 * 0x40;
      if (*(long*)( param_1 + 0x1b78 ) == lVar9) {
         __src = *(void**)( param_1 + 0x1b50 );
         uVar13 = *(long*)( param_1 + 0x1b60 ) - (long)__src;
         if (*(ulong*)( param_1 + 0x510 ) < uVar13) {
            cVar3 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_1 + 0x508, param_1 + 0x510, uVar13);
            if (cVar3 == '\0') goto LAB_0012e1d0;
            __src = *(void**)( param_1 + 0x1b50 );
         }

         memcpy(*(void**)( param_1 + 0x508 ), __src, uVar13);
         lVar16 = *(long*)( param_1 + 0x508 );
         *(undefined1*)( param_1 + 0x1b6b ) = 0;
         *(long*)( param_1 + 0x1b50 ) = lVar16;
         *(ulong*)( param_1 + 0x1b60 ) = lVar16 + uVar13;
         *(undefined8*)( param_1 + 0x1b78 ) = 0;
         lVar8 = lVar16 + uVar13;
         if (*(ulong*)( param_1 + 0x1b18 ) <= uVar13) {
            lVar8 = lVar16 + *(ulong*)( param_1 + 0x1b18 );
         }

         *(long*)( param_1 + 0x518 ) = lVar16;
         *(long*)( param_1 + 0x520 ) = lVar16;
         *(long*)( param_1 + 7000 ) = lVar8;
         ufbxi_buf_clear(lVar9);
      }
 else {
         ufbxi_buf_clear(lVar9);
      }

      if (!bVar2) {
         iVar4 = *(int*)( param_1 + 0x29b0 );
         uVar5 = ufbxi_thread_pool_available_tasks_isra_0(iVar4, *(undefined4*)( param_1 + 0x29b8 ), *(undefined4*)( param_1 + 0x29e0 ));
         if (extraout_EDX >> 2 <= uVar5) {
            uVar5 = extraout_EDX >> 2;
         }

         lVar16 = 0;
         uVar13 = *(ulong*)( param_1 + 0x348 );
         while (true) {
            local_b0 = 0;
            iVar6 = ufbxi_parse_toplevel_child(param_1, &local_b0, lVar9);
            if (iVar6 == 0) goto LAB_0012e1d0;
            if (local_b0 == 0) break;
            lVar8 = ufbxi_push_size_copy(param_1 + 0xab0, 8, 1, &local_b0);
            if (lVar8 == 0) goto LAB_0012e1d0;
            lVar16 = lVar16 + 1;
            if (( uVar5 <= ( uint )(*(int*)( param_1 + 0x29b0 ) - iVar4) ) || ( uVar13 >> 2 <= ( ulong )(*(long*)( ( uVar15 + 0x61 ) * 0x40 + param_1 + 8 ) + *(long*)( param_1 + 0x1860 + uVar15 * 0x40 )) )) goto LAB_0012e3e5;
         }
;
         bVar2 = true;
         LAB_0012e3e5:local_a8[uVar15 * 3 + 1] = lVar16;
         lVar9 = ufbxi_push_pop_size(lVar9, param_1 + 0xab0, 8, lVar16);
         local_a8[uVar15 * 3] = lVar9;
         if (lVar9 == 0) goto LAB_0012e1d0;
         auStack_98[uVar15 * 6] = *(undefined4*)( param_1 + 0x29b0 );
      }

      *(undefined1*)( param_1 + 0x1b6b ) = 0;
      ufbxi_thread_pool_flush_group(lVar11);
      if (local_a8[uVar15 * 3 + 1] != 0) {
         uVar15 = ( ulong )((int)uVar15 + 1U & 3);
         goto LAB_0012e0dd;
      }

      local_d0 = local_d0 + 1;
      uVar15 = ( ulong )((int)uVar15 + 1U & 3);
      if (local_d0 == 4) {
         iVar4 = ufbxi_thread_pool_wait_all(lVar11);
         if (iVar4 == 0) {
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               LAB_0012e1ea:uVar7 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
               return uVar7;
            }

         }
 else {
            *(undefined1*)( param_1 + 0x2948 ) = 0;
            if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
               return 1;
            }

         }

         LAB_0012e526:/* WARNING: Subroutine does not return */__stack_chk_fail();
      }

   }
 while ( true );
}
undefined8 ufbxi_read_objects(long param_1) {
   int iVar1;
   undefined4 *puVar2;
   undefined8 uVar3;
   long in_FS_OFFSET;
   long local_28;
   long local_20;
   local_20 = *(long*)( in_FS_OFFSET + 0x28 );
   while (true) {
      puVar2 = (undefined4*)ufbxi_push_size(param_1 + 0x17b0, 4, 1);
      *(undefined4**)( param_1 + 0x1958 ) = puVar2;
      if (puVar2 == (undefined4*)0x0) break;
      *puVar2 = 0xffffffff;
      *(int*)( param_1 + 0x2858 ) = (int)*(undefined8*)( param_1 + 0x17d8 );
      iVar1 = ufbxi_parse_toplevel_child(param_1, &local_28, 0);
      if (iVar1 == 0) break;
      if (local_28 == 0) {
         if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_0012e60e;
      }

      iVar1 = ufbxi_read_object(param_1);
      if (iVar1 == 0) break;
      *(undefined4*)( param_1 + 0x2858 ) = 0;
      *(undefined8*)( param_1 + 0x1958 ) = 0;
   }
;
   if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar3 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar3;
   }

   LAB_0012e60e:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined1 ufbx_find_bool_len(void) {
   long lVar1;
   undefined1 in_CL;
   lVar1 = ufbx_find_prop_len();
   if (lVar1 != 0) {
      in_CL = *(long*)( lVar1 + 0x40 ) != 0;
   }

   return in_CL;
}
undefined1[16];ufbx_find_string_len(void) {
   long lVar1;
   undefined8 in_RCX;
   undefined8 in_R8;
   undefined1 auVar2[16];
   lVar1 = ufbx_find_prop_len();
   if (lVar1 != 0) {
      in_RCX = *(undefined8*)( lVar1 + 0x20 );
      in_R8 = *(undefined8*)( lVar1 + 0x28 );
   }

   auVar2._8_8_ = in_R8;
   auVar2._0_8_ = in_RCX;
   return auVar2;
}
void ufbxi_update_scene_metadata(long param_1) {
   long lVar1;
   undefined *puVar2;
   undefined8 uVar3;
   undefined1 auVar4[16];
   uVar3 = DAT_0014b438;
   puVar2 = ufbx_empty_string;
   lVar1 = param_1 + 0x90;
   auVar4 = ufbx_find_string_len(lVar1, "Original|ApplicationVendor", 0x1a, ufbx_empty_string, DAT_0014b438);
   *(undefined1(*) [16])( param_1 + 0xb0 ) = auVar4;
   auVar4 = ufbx_find_string_len(lVar1, "Original|ApplicationName", 0x18, puVar2, uVar3);
   *(undefined1(*) [16])( param_1 + 0xc0 ) = auVar4;
   auVar4 = ufbx_find_string_len(lVar1, "Original|ApplicationVersion", 0x1b, puVar2, uVar3);
   *(undefined1(*) [16])( param_1 + 0xd0 ) = auVar4;
   auVar4 = ufbx_find_string_len(lVar1, "LastSaved|ApplicationVendor", 0x1b, puVar2, uVar3);
   *(undefined1(*) [16])( param_1 + 0xe0 ) = auVar4;
   auVar4 = ufbx_find_string_len(lVar1, "LastSaved|ApplicationName", 0x19, puVar2, uVar3);
   *(undefined1(*) [16])( param_1 + 0xf0 ) = auVar4;
   auVar4 = ufbx_find_string_len(lVar1, "LastSaved|ApplicationVersion", 0x1c, puVar2, uVar3);
   *(undefined1(*) [16])( param_1 + 0x100 ) = auVar4;
   return;
}
undefined8 ufbxi_resolve_file_content(long param_1) {
   long *plVar1;
   long lVar2;
   undefined *puVar3;
   int iVar4;
   long lVar5;
   long lVar6;
   long lVar7;
   undefined8 uVar8;
   undefined8 uVar9;
   long *plVar10;
   undefined1 auVar11[16];
   plVar10 = *(long**)( param_1 + 0x2038 );
   lVar7 = *(long*)( param_1 + 0xad8 );
   plVar1 = plVar10 + *(long*)( param_1 + 0x2040 );
   puVar3 = ufbx_empty_string;
   for (; ufbx_empty_string = puVar3,plVar10 != plVar1; plVar10 = plVar10 + 1) {
      lVar6 = *plVar10;
      iVar4 = ufbxi_resolve_filenames(param_1, lVar6 + 0x80, lVar6 + 0x90, lVar6 + 0xa0, 0);
      if (( ( iVar4 == 0 ) || ( iVar4 = ufbxi_resolve_filenames(param_1, lVar6 + 0xb0, lVar6 + 0xc0, lVar6 + 0xd0, 1) ),iVar4 == 0 )) goto LAB_0012eaa0;
      puVar3 = ufbx_empty_string;
   }

   plVar10 = *(long**)( param_1 + 0x2108 );
   plVar1 = plVar10 + *(long*)( param_1 + 0x2110 );
   uVar8 = DAT_0014b438;
   for (; DAT_0014b438 = uVar8,plVar10 != plVar1; plVar10 = plVar10 + 1) {
      lVar2 = *plVar10;
      lVar6 = lVar2 + 0x10;
      auVar11 = ufbx_find_string_len(lVar6, &_LC226, 4, puVar3);
      *(undefined1(*) [16])( lVar2 + 0x90 ) = auVar11;
      auVar11 = ufbx_find_string_len(lVar6, "RelPath", 7, puVar3, uVar8);
      *(undefined1(*) [16])( lVar2 + 0xa0 ) = auVar11;
      lVar5 = ufbx_find_prop_len(lVar6, &_LC226, 4);
      if (lVar5 == 0) {
         uVar8 = 0;
         uVar9 = 0;
      }
 else {
         uVar8 = *(undefined8*)( lVar5 + 0x30 );
         uVar9 = *(undefined8*)( lVar5 + 0x38 );
      }

      *(undefined8*)( lVar2 + 0xc0 ) = uVar8;
      *(undefined8*)( lVar2 + 200 ) = uVar9;
      lVar6 = ufbx_find_prop_len(lVar6, "RelPath", 7);
      if (lVar6 == 0) {
         uVar8 = 0;
         uVar9 = 0;
      }
 else {
         uVar8 = *(undefined8*)( lVar6 + 0x30 );
         uVar9 = *(undefined8*)( lVar6 + 0x38 );
      }

      *(undefined8*)( lVar2 + 0xd0 ) = uVar8;
      *(undefined8*)( lVar2 + 0xd8 ) = uVar9;
      iVar4 = ufbxi_resolve_filenames(param_1, lVar2 + 0x80, lVar2 + 0x90, lVar2 + 0xa0, 0);
      if (( ( iVar4 == 0 ) || ( iVar4 = ufbxi_resolve_filenames(param_1, lVar2 + 0xb0, lVar2 + 0xc0, lVar2 + 0xd0, 1) ),iVar4 == 0 )) goto LAB_0012eaa0;
      uVar8 = DAT_0014b438;
   }

   *(long*)( param_1 + 0x21e8 ) = *(long*)( param_1 + 0xad8 ) - lVar7;
   lVar7 = ufbxi_push_pop_size(param_1 + 0xa30, param_1 + 0xab0, 0x20);
   *(long*)( param_1 + 0x21e0 ) = lVar7;
   if (( lVar7 != 0 ) && ( iVar4 = ufbxi_sort_file_contents(param_1, lVar7, *(undefined8*)( param_1 + 0x21e8 )) ),iVar4 != 0) {
      plVar10 = *(long**)( param_1 + 0x2038 );
      plVar1 = plVar10 + *(long*)( param_1 + 0x2040 );
      for (; plVar10 != plVar1; plVar10 = plVar10 + 1) {
         ufbxi_fetch_file_content(param_1, *plVar10 + 0x90, *plVar10 + 0xe0);
      }

      plVar10 = *(long**)( param_1 + 0x2108 );
      plVar1 = plVar10 + *(long*)( param_1 + 0x2110 );
      for (; plVar10 != plVar1; plVar10 = plVar10 + 1) {
         ufbxi_fetch_file_content(param_1, *plVar10 + 0x90, *plVar10 + 0xe0);
      }

      return 1;
   }

   LAB_0012eaa0:uVar8 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
   return uVar8;
}
undefined1[16];ufbx_find_blob_len(void) {
   long lVar1;
   undefined8 in_RCX;
   undefined8 in_R8;
   undefined1 auVar2[16];
   lVar1 = ufbx_find_prop_len();
   if (lVar1 != 0) {
      in_RCX = *(undefined8*)( lVar1 + 0x30 );
      in_R8 = *(undefined8*)( lVar1 + 0x38 );
   }

   auVar2._8_8_ = in_R8;
   auVar2._0_8_ = in_RCX;
   return auVar2;
}
undefined8 *ufbx_find_prop_concat(long *param_1, undefined8 param_2, undefined8 param_3) {
   long lVar1;
   long lVar2;
   uint uVar3;
   byte extraout_var;
   int iVar4;
   ulong uVar5;
   ulong uVar6;
   ulong uVar7;
   undefined8 *puVar8;
   ulong uVar9;
   bool bVar10;
   uVar3 = ufbxi_get_concat_key(param_2, param_3);
   if (param_1 != (long*)0x0) {
      do {
         uVar5 = param_1[1];
         lVar2 = *param_1;
         uVar9 = uVar5;
         if (uVar5 < 3) {
            uVar7 = 0;
         }
 else {
            uVar7 = 0;
            do {
               lVar1 = ( uVar5 >> 1 ) + uVar7;
               puVar8 = (undefined8*)( lVar2 + lVar1 * 0x68 );
               bVar10 = *(uint*)( puVar8 + 2 ) < uVar3;
               if (*(uint*)( puVar8 + 2 ) == uVar3) {
                  ufbxi_concat_str_cmp_isra_0(*puVar8, puVar8[1], param_2, param_3);
                  bVar10 = (bool)( extraout_var >> 7 );
               }

               uVar6 = lVar1 + 1;
               if (bVar10 == false) {
                  uVar5 = uVar6 - uVar7;
                  uVar9 = uVar6;
               }
 else {
                  uVar5 = uVar9 - uVar6;
                  uVar7 = uVar6;
               }

            }
 while ( 2 < uVar5 );
         }

         if (uVar7 < uVar9) {
            puVar8 = (undefined8*)( lVar2 + uVar7 * 0x68 );
            do {
               if (( *(uint*)( puVar8 + 2 ) == uVar3 ) && ( iVar4 = ufbxi_concat_str_cmp_isra_0(*puVar8, puVar8[1], param_2, param_3) ),iVar4 == 0) {
                  return puVar8;
               }

               uVar7 = uVar7 + 1;
               puVar8 = puVar8 + 0xd;
            }
 while ( uVar7 != uVar9 );
         }

         param_1 = (long*)param_1[3];
      }
 while ( param_1 != (long*)0x0 );
   }

   return (undefined8*)0x0;
}
undefined8 ufbx_find_element_len(long param_1, uint param_2, uint *param_3, ulong param_4) {
   long lVar1;
   long lVar2;
   ulong uVar3;
   int iVar4;
   ulong uVar5;
   ulong uVar6;
   ulong __n;
   undefined8 *puVar7;
   uint uVar8;
   bool bVar9;
   uint *local_58;
   if (param_1 == 0) {
      return 0;
   }

   if (param_4 == 0) {
      local_58 = (uint*)&ufbxi_empty_char;
   }
 else {
      local_58 = param_3;
      if (3 < param_4) {
         uVar8 = *param_3;
         uVar8 = uVar8 >> 0x18 | ( uVar8 & 0xff0000 ) >> 8 | ( uVar8 & 0xff00 ) << 8 | uVar8 << 0x18;
         goto LAB_0012eca2;
      }

   }

   uVar5 = 0;
   uVar8 = 0;
   do {
      for (; uVar8 = uVar8 << 8,uVar5 < param_4; uVar5 = uVar5 + 1) {
         uVar8 = uVar8 | *(byte*)( (long)param_3 + uVar5 );
      }

      uVar5 = uVar5 + 1;
   }
 while ( uVar5 != 4 );
   LAB_0012eca2:uVar6 = *(ulong*)( param_1 + 0x588 );
   lVar2 = *(long*)( param_1 + 0x580 );
   uVar5 = 0;
   uVar3 = uVar6;
   do {
      while (true) {
         if (uVar6 < 0x11) {
            if (uVar3 <= uVar5) {
               return 0;
            }

            puVar7 = (undefined8*)( uVar5 * 0x20 + lVar2 );
            while (( ( param_4 != puVar7[1] || ( iVar4 = memcmp((void*)*puVar7, local_58, param_4) ),iVar4 != 0 ) ) || ( *(uint*)( puVar7 + 2 ) != param_2 )) {
               uVar5 = uVar5 + 1;
               puVar7 = puVar7 + 4;
               if (uVar5 == uVar3) {
                  return 0;
               }

            }
;
            return *(undefined8*)( lVar2 + 0x18 + uVar5 * 0x20 );
         }

         lVar1 = ( uVar6 >> 1 ) + uVar5;
         puVar7 = (undefined8*)( lVar1 * 0x20 + lVar2 );
         if (uVar8 != *(uint*)( (long)puVar7 + 0x14 )) break;
         uVar6 = puVar7[1];
         __n = uVar6;
         if (param_4 <= uVar6) {
            __n = param_4;
         }

         iVar4 = memcmp((void*)*puVar7, local_58, __n);
         if (iVar4 == 0) {
            if (param_4 != uVar6) {
               if (uVar6 < param_4) goto LAB_0012ecc5;
               goto LAB_0012ed33;
            }

            bVar9 = *(uint*)( puVar7 + 2 ) < param_2;
         }
 else {
            bVar9 = SUB41((uint)iVar4 >> 0x1f, 0);
         }

         if (bVar9 != false) goto LAB_0012ecc5;
         LAB_0012ed33:uVar6 = ( lVar1 + 1U ) - uVar5;
         uVar3 = lVar1 + 1U;
      }
;
      if (uVar8 <= *(uint*)( (long)puVar7 + 0x14 )) goto LAB_0012ed33;
      LAB_0012ecc5:uVar5 = lVar1 + 1;
      uVar6 = uVar3 - uVar5;
   }
 while ( true );
}
undefined8 ufbx_get_prop_element(long param_1, undefined8 *param_2, undefined4 param_3) {
   undefined8 uVar1;
   if (( param_1 != 0 ) && ( param_2 != (undefined8*)0x0 )) {
      uVar1 = ufbxi_fetch_dst_element(param_1, 0, *param_2, param_3);
      return uVar1;
   }

   return 0;
}
undefined8 ufbx_find_prop_element_len(long param_1, undefined8 param_2, undefined8 param_3, undefined4 param_4) {
   undefined8 *puVar1;
   undefined8 uVar2;
   puVar1 = (undefined8*)ufbx_find_prop_len(param_1 + 0x10);
   if (( param_1 != 0 ) && ( puVar1 != (undefined8*)0x0 )) {
      uVar2 = ufbxi_fetch_dst_element(param_1, 0, *puVar1, param_4);
      return uVar2;
   }

   return 0;
}
void ufbx_find_node_len(undefined8 param_1, undefined8 param_2, undefined8 param_3) {
   ufbx_find_element_len(param_1, 1, param_2, param_3);
   return;
}
void ufbx_find_anim_stack_len(undefined8 param_1, undefined8 param_2, undefined8 param_3) {
   ufbx_find_element_len(param_1, 0x1d, param_2, param_3);
   return;
}
void ufbx_find_material_len(undefined8 param_1, undefined8 param_2, undefined8 param_3) {
   ufbx_find_element_len(param_1, 0x18, param_2, param_3);
   return;
}
long ufbx_find_anim_prop_len(long param_1, ulong param_2, undefined1 *param_3, ulong param_4) {
   long lVar1;
   ulong uVar2;
   int iVar3;
   undefined1 *__s2;
   bool bVar4;
   ulong __n;
   long lVar5;
   ulong uVar6;
   ulong *puVar7;
   ulong uVar8;
   if (param_1 == 0) {
      return 0;
   }

   if (param_2 == 0) {
      return 0;
   }

   uVar6 = *(ulong*)( param_1 + 0xa8 );
   __s2 = &ufbxi_empty_char;
   if (param_4 != 0) {
      __s2 = param_3;
   }

   lVar1 = *(long*)( param_1 + 0xa0 );
   uVar8 = 0;
   uVar2 = uVar6;
   do {
      while (true) {
         if (uVar6 < 0x11) {
            if (uVar2 <= uVar8) {
               return 0;
            }

            puVar7 = (ulong*)( lVar1 + uVar8 * 0x28 );
            while (( ( *puVar7 != param_2 || ( param_4 != puVar7[3] ) ) || ( iVar3 = memcmp((void*)puVar7[2], __s2, param_4) ),iVar3 != 0 )) {
               uVar8 = uVar8 + 1;
               puVar7 = puVar7 + 5;
               if (uVar8 == uVar2) {
                  return 0;
               }

            }
;
            return lVar1 + uVar8 * 0x28;
         }

         lVar5 = ( uVar6 >> 1 ) + uVar8;
         puVar7 = (ulong*)( lVar1 + lVar5 * 0x28 );
         if (*puVar7 != param_2) break;
         uVar6 = puVar7[3];
         __n = uVar6;
         if (param_4 <= uVar6) {
            __n = param_4;
         }

         iVar3 = memcmp((void*)puVar7[2], __s2, __n);
         bVar4 = uVar6 < param_4;
         if (iVar3 != 0) {
            bVar4 = SUB41((uint)iVar3 >> 0x1f, 0);
         }

         if (bVar4 != false) goto LAB_0012ef40;
         LAB_0012ef69:uVar6 = ( lVar5 + 1U ) - uVar8;
         uVar2 = lVar5 + 1U;
      }
;
      if (param_2 <= *puVar7) goto LAB_0012ef69;
      LAB_0012ef40:uVar8 = lVar5 + 1;
      uVar6 = uVar2 - uVar8;
   }
 while ( true );
}
undefined1[16];ufbx_find_anim_props(long param_1, ulong param_2) {
   ulong uVar1;
   long lVar2;
   long lVar3;
   ulong uVar4;
   ulong uVar5;
   ulong *puVar6;
   ulong uVar7;
   ulong uVar8;
   ulong uVar9;
   ulong uVar10;
   int iVar11;
   undefined1 auVar12[16];
   if (( param_1 == 0 ) || ( param_2 == 0 )) {
      return ZEXT816(0);
   }

   uVar10 = *(ulong*)( param_1 + 0xa8 );
   lVar2 = *(long*)( param_1 + 0xa0 );
   uVar9 = uVar10;
   if (uVar10 < 0x11) {
      uVar7 = 0;
   }
 else {
      uVar7 = 0;
      uVar4 = uVar10;
      do {
         lVar3 = ( uVar4 >> 1 ) + uVar7;
         uVar4 = lVar3 + 1;
         if (*(ulong*)( lVar2 + lVar3 * 0x28 ) < param_2) {
            uVar7 = uVar4;
            uVar4 = uVar9;
         }

         uVar9 = uVar4;
         uVar4 = uVar9 - uVar7;
      }
 while ( 0x10 < uVar4 );
   }

   if (uVar7 < uVar9) {
      puVar6 = (ulong*)( lVar2 + uVar7 * 0x28 );
      do {
         if (*puVar6 == param_2) {
            uVar9 = uVar7;
            if (1 < uVar10 - uVar7) {
               iVar11 = 7;
               uVar4 = 1;
               goto LAB_0012f115;
            }

            if (uVar7 < uVar10) goto LAB_0012f16b;
            break;
         }

         uVar7 = uVar7 + 1;
         puVar6 = puVar6 + 5;
      }
 while ( uVar7 != uVar9 );
   }

   goto LAB_0012f1a0;
   LAB_0012f115:uVar8 = uVar9 + uVar4;
   uVar1 = uVar8;
   uVar5 = uVar4;
   if (*(ulong*)( lVar2 + uVar8 * 0x28 ) != param_2) goto joined_r0x0012f13c;
   uVar4 = uVar4 * 2;
   uVar5 = uVar10 - uVar8;
   iVar11 = iVar11 + -1;
   uVar1 = uVar10;
   uVar9 = uVar8;
   if (( iVar11 == 0 ) || ( uVar5 <= uVar4 )) goto joined_r0x0012f13c;
   goto LAB_0012f115;
   joined_r0x0012f13c:while (uVar10 = uVar1,0x10 < uVar5) {
      lVar3 = ( uVar5 >> 1 ) + uVar9;
      uVar1 = lVar3 + 1;
      if (param_2 == *(ulong*)( lVar2 + lVar3 * 0x28 )) {
         uVar9 = uVar1;
         uVar1 = uVar10;
      }

      uVar5 = uVar1 - uVar9;
   }
;
   if (uVar9 < uVar10) {
      LAB_0012f16b:puVar6 = (ulong*)( lVar2 + uVar9 * 0x28 );
      do {
         if (*puVar6 != param_2) break;
         uVar9 = uVar9 + 1;
         puVar6 = puVar6 + 5;
      }
 while ( uVar9 != uVar10 );
   }

   if (uVar7 != uVar9) {
      auVar12._8_8_ = uVar9 - uVar7;
      auVar12._0_8_ = lVar2 + uVar7 * 0x28;
      return auVar12;
   }

   LAB_0012f1a0:return ZEXT816(0);
}
double ufbx_evaluate_curve(double param_1, double param_2, long param_3) {
   uint uVar1;
   ulong uVar2;
   ulong uVar3;
   double *pdVar4;
   ulong uVar5;
   ulong uVar6;
   long lVar7;
   double dVar8;
   double dVar9;
   double dVar10;
   double dVar11;
   double dVar12;
   double dVar13;
   double dVar14;
   double dVar15;
   double dVar16;
   if (param_3 == 0) {
      return param_2;
   }

   uVar2 = *(ulong*)( param_3 + 0x88 );
   if (uVar2 < 2) {
      if (uVar2 != 1) {
         return param_2;
      }

      return *(double*)( *(long*)( param_3 + 0x80 ) + 8 );
   }

   lVar7 = *(long*)( param_3 + 0x80 );
   uVar5 = 0;
   uVar3 = uVar2;
   while (uVar6 = uVar3,7 < uVar6 - uVar5) {
      uVar3 = uVar6 + uVar5 >> 1;
      if (*(double*)( lVar7 + uVar3 * 0x28 ) <= param_1) {
         uVar5 = uVar3 + 1;
         uVar3 = uVar6;
      }

   }
;
   if (uVar5 < uVar2) {
      pdVar4 = (double*)( lVar7 + uVar5 * 0x28 );
      do {
         if (param_1 < *pdVar4) {
            if (uVar5 == 0) {
               LAB_0012f284:return pdVar4[1];
            }

            dVar9 = pdVar4[-5];
            if (dVar9 != param_1) {
               uVar1 = *(uint*)( pdVar4 + -3 );
               dVar11 = _LC0 / ( *pdVar4 - dVar9 );
               dVar9 = ( param_1 - dVar9 ) * dVar11;
               if (uVar1 == 2) {
                  return pdVar4[-4] * ( _LC0 - dVar9 ) + dVar9 * pdVar4[1];
               }

               if (2 < uVar1) {
                  if (uVar1 != 3) {
                     return 0.0;
                  }

                  dVar8 = dVar9 * dVar9;
                  dVar10 = (double)*(float*)( (long)pdVar4 + -0xc ) * dVar11 * _LC228;
                  dVar11 = ( _LC0 - (double)*(float*)( (long)pdVar4 + 0x14 ) * dVar11 ) * _LC228;
                  dVar12 = ( dVar11 - dVar10 ) - dVar10;
                  dVar13 = ( dVar10 - dVar11 ) + _LC0;
                  dVar15 = dVar12 + dVar12;
                  dVar14 = dVar13 * _LC228;
                  dVar8 = dVar9 - ( ( dVar9 * dVar8 * dVar13 + dVar12 * dVar8 + dVar9 * dVar10 ) - dVar9 ) / ( dVar8 * dVar14 + dVar9 * dVar15 + dVar10 );
                  dVar11 = dVar8 * dVar8;
                  dVar8 = dVar8 - ( ( dVar8 * dVar11 * dVar13 + dVar12 * dVar11 + dVar10 * dVar8 ) - dVar9 ) / ( dVar11 * dVar14 + dVar15 * dVar8 + dVar10 );
                  dVar16 = dVar8 * dVar8;
                  dVar11 = ( dVar8 * dVar16 * dVar13 + dVar12 * dVar16 + dVar10 * dVar8 ) - dVar9;
                  dVar8 = dVar8 - dVar11 / ( dVar16 * dVar14 + dVar15 * dVar8 + dVar10 );
                  if ((double)( (ulong)dVar11 & _LC97 ) <= _LC229) goto LAB_0012f567;
                  lVar7 = 4;
                  goto LAB_0012f495;
               }

               if (uVar1 != 0) goto LAB_0012f284;
            }

            return pdVar4[-4];
         }

         uVar5 = uVar5 + 1;
         pdVar4 = pdVar4 + 5;
      }
 while ( uVar2 != uVar5 );
   }

   return *(double*)( lVar7 + -0x20 + uVar2 * 0x28 );
   while (lVar7 = lVar7 + -1,lVar7 != 0) {
      LAB_0012f495:dVar11 = dVar8 * dVar8;
      dVar8 = dVar8 - ( ( dVar8 * dVar11 * dVar13 + dVar12 * dVar11 + dVar8 * dVar10 ) - dVar9 ) / ( dVar11 * dVar14 + dVar8 * dVar15 + dVar10 );
      dVar16 = dVar8 * dVar8;
      dVar11 = ( dVar8 * dVar16 * dVar13 + dVar12 * dVar16 + dVar10 * dVar8 ) - dVar9;
      dVar8 = dVar8 - dVar11 / ( dVar16 * dVar14 + dVar15 * dVar8 + dVar10 );
      if ((double)( (ulong)dVar11 & _LC97 ) <= _LC229) break;
   }
;
   LAB_0012f567:dVar9 = _LC0 - dVar8;
   return ( ( (double)*(float*)( pdVar4 + -1 ) + pdVar4[-4] ) * dVar9 * dVar9 * dVar8 + ( pdVar4[1] - (double)*(float*)( pdVar4 + 3 ) ) * dVar8 * dVar8 * dVar9 ) * _LC228 + dVar9 * dVar9 * dVar9 * pdVar4[-4] + dVar8 * dVar8 * dVar8 * pdVar4[1];
}
undefined8 ufbx_evaluate_anim_value_real(long param_1) {
   undefined8 uVar1;
   if (param_1 == 0) {
      uVar1 = 0;
   }
 else {
      uVar1 = *(undefined8*)( param_1 + 0x80 );
      if (*(long*)( param_1 + 0x98 ) != 0) {
         uVar1 = ufbx_evaluate_curve();
         return uVar1;
      }

   }

   return uVar1;
}
undefined1(*)[16];ufbx_evaluate_anim_value_vec3(undefined8 param_1, undefined1 (*param_2)[16], long param_3) {
   undefined8 uVar1;
   undefined8 uVar2;
   undefined8 uVar3;
   if (param_3 != 0) {
      uVar1 = *(undefined8*)( param_3 + 0x80 );
      uVar2 = *(undefined8*)( param_3 + 0x88 );
      uVar3 = *(undefined8*)( param_3 + 0x90 );
      if (*(long*)( param_3 + 0x98 ) != 0) {
         uVar1 = ufbx_evaluate_curve();
      }

      if (*(long*)( param_3 + 0xa0 ) != 0) {
         uVar2 = ufbx_evaluate_curve(param_1, uVar2);
      }

      if (*(long*)( param_3 + 0xa8 ) != 0) {
         uVar3 = ufbx_evaluate_curve(param_1, uVar3);
      }

      *(undefined8*)*param_2 = uVar1;
      *(undefined8*)( *param_2 + 8 ) = uVar2;
      *(undefined8*)param_2[1] = uVar3;
      return param_2;
   }

   *(undefined8*)param_2[1] = 0;
   *param_2 = (undefined1[16])0x0;
   return param_2;
}
undefined8 ufbx_evaluate_scene(undefined8 param_1, undefined8 param_2, int *param_3, undefined8 *param_4) {
   undefined8 uVar1;
   ulong uVar2;
   undefined8 *puVar3;
   if (( param_3 != (int*)0x0 ) && ( *param_3 != 0 || param_3[0x2c] != 0 )) {
      uVar1 = ufbxi_uninitialized_options(param_4);
      return uVar1;
   }

   if (param_4 != (undefined8*)0x0) {
      *param_4 = 0;
      param_4[0x4c] = 0;
      puVar3 = (undefined8*)( ( ulong )(param_4 + 1) & 0xfffffffffffffff8 );
      for (uVar2 = ( ulong )(( (int)param_4 - (int)(undefined8*)( ( ulong )(param_4 + 1) & 0xfffffffffffffff8 ) ) + 0x268U >> 3); uVar2 != 0; uVar2 = uVar2 - 1) {
         *puVar3 = 0;
         puVar3 = puVar3 + 1;
      }

      ufbxi_fmt_err_info(param_4, "UFBX_ENABLE_SCENE_EVALUATION");
      ufbxi_fail_imp_err_constprop_0(param_4, "$Feature disabled");
   }

   return 0;
}
long ufbx_create_anim(undefined8 param_1, int *param_2, undefined8 param_3) {
   undefined8 uVar1;
   undefined8 uVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   undefined8 uVar5;
   undefined8 uVar6;
   undefined8 uVar7;
   undefined8 uVar8;
   int iVar9;
   long lVar10;
   undefined8 *puVar11;
   long in_FS_OFFSET;
   undefined8 auStack_458[77];
   undefined1 local_1f0[136];
   undefined1 local_168[64];
   undefined8 local_128;
   undefined8 local_120;
   undefined8 uStack_118;
   undefined8 local_110;
   undefined8 uStack_108;
   undefined8 local_100;
   undefined8 uStack_f8;
   undefined8 local_f0;
   undefined8 uStack_e8;
   undefined8 local_e0;
   undefined8 uStack_d8;
   undefined8 local_d0;
   undefined8 uStack_c8;
   undefined8 local_c0;
   undefined8 uStack_b8;
   undefined8 local_b0;
   undefined8 uStack_a8;
   undefined8 local_a0;
   undefined8 uStack_98;
   undefined8 local_90;
   undefined8 uStack_88;
   long local_28;
   long local_20;
   local_20 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_2 == (int*)0x0) {
      puVar11 = auStack_458;
      for (lVar10 = 0x87; lVar10 != 0; lVar10 = lVar10 + -1) {
         *puVar11 = 0;
         puVar11 = puVar11 + 1;
      }

   }
 else {
      if (*param_2 != 0 || param_2[0x26] != 0) {
         if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
            lVar10 = ufbxi_uninitialized_options(param_3);
            return lVar10;
         }

         goto LAB_0012f944;
      }

      uVar1 = *(undefined8*)param_2;
      uVar2 = *(undefined8*)( param_2 + 2 );
      uVar3 = *(undefined8*)( param_2 + 4 );
      uVar4 = *(undefined8*)( param_2 + 6 );
      uVar5 = *(undefined8*)( param_2 + 8 );
      uVar6 = *(undefined8*)( param_2 + 10 );
      uVar7 = *(undefined8*)( param_2 + 0xc );
      uVar8 = *(undefined8*)( param_2 + 0xe );
      puVar11 = auStack_458;
      for (lVar10 = 0x87; lVar10 != 0; lVar10 = lVar10 + -1) {
         *puVar11 = 0;
         puVar11 = puVar11 + 1;
      }

      local_e0 = *(undefined8*)( param_2 + 0x10 );
      uStack_d8 = *(undefined8*)( param_2 + 0x12 );
      local_d0 = *(undefined8*)( param_2 + 0x14 );
      uStack_c8 = *(undefined8*)( param_2 + 0x16 );
      local_c0 = *(undefined8*)( param_2 + 0x18 );
      uStack_b8 = *(undefined8*)( param_2 + 0x1a );
      local_b0 = *(undefined8*)( param_2 + 0x1c );
      uStack_a8 = *(undefined8*)( param_2 + 0x1e );
      local_a0 = *(undefined8*)( param_2 + 0x20 );
      uStack_98 = *(undefined8*)( param_2 + 0x22 );
      local_90 = *(undefined8*)( param_2 + 0x24 );
      uStack_88 = *(undefined8*)( param_2 + 0x26 );
      local_120 = uVar1;
      uStack_118 = uVar2;
      local_110 = uVar3;
      uStack_108 = uVar4;
      local_100 = uVar5;
      uStack_f8 = uVar6;
      local_f0 = uVar7;
      uStack_e8 = uVar8;
   }

   local_128 = param_1;
   iVar9 = ufbxi_create_anim_imp(auStack_458);
   if (iVar9 == 0) {
      ufbxi_fix_error_type(auStack_458, "Failed to create anim", param_3);
      ufbxi_buf_free(local_168);
      ufbxi_free_ator(local_1f0);
      local_28 = 0;
   }
 else {
      ufbxi_clear_error(param_3);
      local_28 = local_28 + 0x168;
   }

   if (local_20 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return local_28;
   }

   LAB_0012f944:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
void ufbx_free_anim(long param_1) {
   if (( ( param_1 != 0 ) && ( *(char*)( param_1 + 0x51 ) != '\0' ) ) && ( *(int*)( param_1 + 0x58 ) == 0x494e4155 )) {
      ufbxi_release_ref(param_1 + -0x168);
      return;
   }

   return;
}
void ufbx_retain_anim(long param_1) {
   if (( ( param_1 != 0 ) && ( *(char*)( param_1 + 0x51 ) != '\0' ) ) && ( *(int*)( param_1 + 0x58 ) == 0x494e4155 )) {
      ufbxi_retain_ref(param_1 + -0x168);
      return;
   }

   return;
}
void ufbx_retain_baked_anim(long param_1) {
   if (( param_1 != 0 ) && ( *(int*)( param_1 + 0x68 ) == 0x4b414255 )) {
      ufbxi_retain_ref(param_1 + -0x168);
      return;
   }

   return;
}
void ufbx_free_baked_anim(long param_1) {
   if (( param_1 != 0 ) && ( *(int*)( param_1 + 0x68 ) == 0x4b414255 )) {
      ufbxi_release_ref(param_1 + -0x168);
      return;
   }

   return;
}
long ufbx_find_baked_node_by_typed_id(long *param_1, uint param_2) {
   ulong uVar1;
   long lVar2;
   ulong uVar3;
   ulong uVar4;
   long lVar5;
   ulong uVar6;
   lVar2 = *param_1;
   uVar4 = 0;
   uVar6 = param_1[1];
   uVar3 = uVar6;
   while (8 < uVar6) {
      lVar5 = ( uVar6 >> 1 ) + uVar4;
      uVar1 = lVar5 + 1;
      if (*(uint*)( lVar2 + lVar5 * 0x40 ) < param_2) {
         uVar4 = uVar1;
         uVar1 = uVar3;
      }

      uVar3 = uVar1;
      uVar6 = uVar1 - uVar4;
   }
;
   if (uVar4 < uVar3) {
      do {
         if (*(uint*)( lVar2 + uVar4 * 0x40 ) == param_2) {
            return lVar2 + uVar4 * 0x40;
         }

         uVar4 = uVar4 + 1;
      }
 while ( uVar4 != uVar3 );
   }

   return 0;
}
undefined8 ufbx_find_baked_node(long param_1, long param_2) {
   undefined8 uVar1;
   if (( param_1 != 0 ) && ( param_2 != 0 )) {
      uVar1 = ufbx_find_baked_node_by_typed_id(param_1, *(undefined4*)( param_2 + 0x34 ));
      return uVar1;
   }

   return 0;
}
long ufbx_find_baked_element_by_element_id(long param_1, uint param_2) {
   ulong uVar1;
   long lVar2;
   ulong uVar3;
   long lVar4;
   ulong uVar5;
   uint *puVar6;
   ulong uVar7;
   lVar2 = *(long*)( param_1 + 0x10 );
   uVar7 = 0;
   uVar5 = *(ulong*)( param_1 + 0x18 );
   uVar3 = uVar5;
   while (8 < uVar5) {
      lVar4 = ( uVar5 >> 1 ) + uVar7;
      uVar1 = lVar4 + 1;
      if (*(uint*)( lVar2 + lVar4 * 0x18 ) < param_2) {
         uVar7 = uVar1;
         uVar1 = uVar3;
      }

      uVar3 = uVar1;
      uVar5 = uVar1 - uVar7;
   }
;
   if (uVar7 < uVar3) {
      puVar6 = (uint*)( lVar2 + uVar7 * 0x18 );
      do {
         if (*puVar6 == param_2) {
            return lVar2 + uVar7 * 0x18;
         }

         uVar7 = uVar7 + 1;
         puVar6 = puVar6 + 6;
      }
 while ( uVar7 != uVar3 );
   }

   return 0;
}
undefined8 ufbx_find_baked_element(long param_1, long param_2) {
   undefined8 uVar1;
   if (( param_1 != 0 ) && ( param_2 != 0 )) {
      uVar1 = ufbx_find_baked_element_by_element_id(param_1, *(undefined4*)( param_2 + 0x30 ));
      return uVar1;
   }

   return 0;
}
double *ufbx_evaluate_baked_vec3(double param_1, double *param_2, double *param_3, ulong param_4) {
   double dVar1;
   double dVar2;
   double dVar3;
   double dVar4;
   ulong uVar5;
   double *pdVar6;
   ulong uVar7;
   double *pdVar8;
   ulong uVar9;
   double dVar10;
   double dVar11;
   uVar9 = 0;
   uVar5 = param_4;
   while (uVar7 = uVar5,7 < uVar7 - uVar9) {
      uVar5 = uVar7 + uVar9 >> 1;
      if (param_3[uVar5 * 5] <= param_1) {
         uVar9 = uVar5 + 1;
         uVar5 = uVar7;
      }

   }
;
   if (uVar9 < param_4) {
      pdVar6 = param_3 + uVar9 * 5;
      do {
         if (param_1 < *pdVar6) {
            if (uVar9 == 0) {
               dVar10 = pdVar6[2];
               *param_2 = pdVar6[1];
               param_2[1] = dVar10;
               param_2[2] = pdVar6[3];
               return param_2;
            }

            pdVar8 = pdVar6 + -5;
            if (( ( param_3 < pdVar8 ) && ( ( (ulong)pdVar6[-1] & 2 ) != 0 ) ) && ( param_1 == pdVar6[-10] )) {
               pdVar8 = pdVar6 + -10;
            }

            dVar10 = *pdVar8;
            if (dVar10 != param_1) {
               dVar11 = 0.0;
               if (( (ulong)pdVar8[4] & 1 ) == 0) {
                  dVar11 = ( param_1 - dVar10 ) / ( *pdVar6 - dVar10 );
               }

               if (( (ulong)pdVar6[4] & 2 ) == 0) {
                  dVar10 = _LC0 - dVar11;
               }
 else {
                  dVar10 = 0.0;
                  dVar11 = _LC0;
               }

               dVar1 = pdVar6[1];
               dVar2 = pdVar6[2];
               dVar3 = pdVar8[1];
               dVar4 = pdVar8[2];
               param_2[2] = pdVar6[3] * dVar11 + pdVar8[3] * dVar10;
               *param_2 = dVar1 * dVar11 + dVar10 * dVar3;
               param_2[1] = dVar2 * dVar11 + dVar10 * dVar4;
               return param_2;
            }

            dVar10 = pdVar8[1];
            dVar11 = pdVar8[2];
            param_2[2] = pdVar8[3];
            *param_2 = dVar10;
            param_2[1] = dVar11;
            return param_2;
         }

         uVar9 = uVar9 + 1;
         pdVar6 = pdVar6 + 5;
      }
 while ( param_4 != uVar9 );
   }

   dVar10 = param_3[param_4 * 5 + -3];
   *param_2 = param_3[param_4 * 5 + -4];
   param_2[1] = dVar10;
   param_2[2] = param_3[param_4 * 5 + -2];
   return param_2;
}
long ufbx_get_bone_pose(long param_1, long param_2) {
   long lVar1;
   long lVar2;
   ulong uVar3;
   long *plVar4;
   ulong uVar5;
   ulong uVar6;
   if (( param_1 != 0 ) && ( param_2 != 0 )) {
      uVar3 = *(ulong*)( param_1 + 0x90 );
      lVar1 = *(long*)( param_1 + 0x88 );
      uVar5 = uVar3;
      if (uVar3 < 9) {
         uVar6 = 0;
      }
 else {
         uVar6 = 0;
         do {
            lVar2 = ( uVar3 >> 1 ) + uVar6;
            uVar3 = lVar2 + 1;
            if (*(uint*)( *(long*)( lVar1 + lVar2 * 200 ) + 0x34 ) < *(uint*)( param_2 + 0x34 )) {
               uVar6 = uVar3;
               uVar3 = uVar5;
            }

            uVar5 = uVar3;
            uVar3 = uVar5 - uVar6;
         }
 while ( 8 < uVar3 );
      }

      if (uVar6 < uVar5) {
         plVar4 = (long*)( lVar1 + uVar6 * 200 );
         do {
            if (*plVar4 == param_2) {
               return lVar1 + uVar6 * 200;
            }

            uVar6 = uVar6 + 1;
            plVar4 = plVar4 + 0x19;
         }
 while ( uVar6 != uVar5 );
      }

   }

   return 0;
}
undefined8 ufbx_find_prop_texture_len(long param_1, undefined1 *param_2, ulong param_3) {
   long lVar1;
   ulong uVar2;
   int iVar3;
   undefined1 *__s2;
   ulong __n;
   long lVar4;
   ulong uVar5;
   undefined8 *puVar6;
   ulong uVar7;
   __s2 = &ufbxi_empty_char;
   if (param_3 != 0) {
      __s2 = param_2;
   }

   if (param_1 == 0) {
      return 0;
   }

   uVar5 = *(ulong*)( param_1 + 0x1150 );
   lVar1 = *(long*)( param_1 + 0x1148 );
   uVar7 = 0;
   uVar2 = uVar5;
   do {
      while (true) {
         if (uVar5 < 5) {
            if (uVar2 <= uVar7) {
               return 0;
            }

            puVar6 = (undefined8*)( lVar1 + uVar7 * 0x28 );
            while (( param_3 != puVar6[1] || ( iVar3 = memcmp((void*)*puVar6, __s2, param_3) ),iVar3 != 0 )) {
               uVar7 = uVar7 + 1;
               puVar6 = puVar6 + 5;
               if (uVar7 == uVar2) {
                  return 0;
               }

            }
;
            return *(undefined8*)( lVar1 + 0x20 + uVar7 * 0x28 );
         }

         lVar4 = ( uVar5 >> 1 ) + uVar7;
         puVar6 = (undefined8*)( lVar1 + lVar4 * 0x28 );
         uVar5 = puVar6[1];
         __n = uVar5;
         if (param_3 <= uVar5) {
            __n = param_3;
         }

         iVar3 = memcmp((void*)*puVar6, __s2, __n);
         if (iVar3 != 0) break;
         if (uVar5 < param_3) goto LAB_0012fe35;
         LAB_0012fe75:uVar5 = ( lVar4 + 1U ) - uVar7;
         uVar2 = lVar4 + 1U;
      }
;
      if (-1 < iVar3) goto LAB_0012fe75;
      LAB_0012fe35:uVar7 = lVar4 + 1;
      uVar5 = uVar2 - uVar7;
   }
 while ( true );
}
undefined1[16];ufbx_find_shader_prop_bindings_len(long param_1, undefined1 *param_2, ulong param_3) {
   long *plVar1;
   long *plVar2;
   size_t __n;
   int iVar3;
   int iVar4;
   undefined1 *__s2;
   undefined8 *puVar5;
   ulong uVar6;
   undefined8 *puVar7;
   bool bVar8;
   long lVar9;
   ulong uVar10;
   long lVar11;
   ulong uVar12;
   ulong uVar13;
   ulong uVar14;
   ulong uVar15;
   undefined1 auVar16[16];
   __s2 = &ufbxi_empty_char;
   if (param_3 != 0) {
      __s2 = param_2;
   }

   if (param_1 == 0) {
      lVar9 = 0;
      puVar5 = (undefined8*)0x0;
   }
 else {
      plVar2 = *(long**)( param_1 + 0x88 );
      plVar1 = plVar2 + *(long*)( param_1 + 0x90 );
      for (; plVar2 != plVar1; plVar2 = plVar2 + 1) {
         lVar9 = *(long*)( *plVar2 + 0x80 );
         uVar15 = *(ulong*)( *plVar2 + 0x88 );
         uVar10 = uVar15;
         if (uVar15 < 5) {
            uVar13 = 0;
         }
 else {
            uVar13 = 0;
            uVar6 = uVar15;
            do {
               lVar11 = ( uVar6 >> 1 ) + uVar13;
               puVar5 = (undefined8*)( lVar11 * 0x20 + lVar9 );
               uVar6 = puVar5[1];
               uVar12 = param_3;
               if (uVar6 <= param_3) {
                  uVar12 = uVar6;
               }

               iVar3 = memcmp((void*)*puVar5, __s2, uVar12);
               uVar12 = lVar11 + 1;
               bVar8 = uVar6 < param_3;
               if (iVar3 != 0) {
                  bVar8 = SUB41((uint)iVar3 >> 0x1f, 0);
               }

               if (bVar8 != false) {
                  uVar13 = uVar12;
                  uVar12 = uVar10;
               }

               uVar10 = uVar12;
               uVar6 = uVar10 - uVar13;
            }
 while ( 4 < uVar6 );
         }

         if (uVar13 < uVar10) {
            puVar5 = (undefined8*)( uVar13 * 0x20 + lVar9 );
            do {
               __n = puVar5[1];
               if (( param_3 == __n ) && ( iVar3 = iVar3 == 0 )) {
                  uVar10 = uVar13;
                  if (uVar15 - uVar13 < 2) goto LAB_001300f7;
                  iVar3 = 7;
                  uVar6 = 1;
                  goto LAB_00130073;
               }

               uVar13 = uVar13 + 1;
               puVar5 = puVar5 + 4;
            }
 while ( uVar13 != uVar10 );
         }

      }

      lVar9 = 0;
      puVar5 = (undefined8*)0x0;
   }

   goto LAB_00130014;
   LAB_00130073:uVar14 = uVar10 + uVar6;
   puVar7 = (undefined8*)( uVar14 * 0x20 + lVar9 );
   uVar12 = uVar6;
   if (( __n != puVar7[1] ) || ( iVar4 = iVar4 != 0 )) goto joined_r0x00130091;
   uVar6 = uVar6 * 2;
   uVar12 = uVar15 - uVar14;
   iVar3 = iVar3 + -1;
   uVar10 = uVar14;
   uVar14 = uVar15;
   if (( iVar3 == 0 ) || ( uVar12 <= uVar6 )) goto joined_r0x00130091;
   goto LAB_00130073;
   joined_r0x00130091:while (uVar15 = uVar14,4 < uVar12) {
      while (true) {
         lVar11 = ( uVar12 >> 1 ) + uVar10;
         uVar14 = lVar11 + 1;
         puVar7 = (undefined8*)( lVar11 * 0x20 + lVar9 );
         if (__n != puVar7[1]) break;
         iVar3 = memcmp((void*)*puVar7, __s2, __n);
         if (iVar3 == 0) {
            uVar10 = uVar14;
            uVar14 = uVar15;
         }

         uVar15 = uVar14;
         uVar12 = uVar15 - uVar10;
         if (uVar12 < 5) goto LAB_001300f7;
      }
;
      uVar12 = uVar14 - uVar10;
   }
;
   LAB_001300f7:if (uVar10 < uVar15) {
      puVar7 = (undefined8*)( lVar9 + uVar10 * 0x20 );
      do {
         if (( __n != puVar7[1] ) || ( iVar3 = iVar3 != 0 )) break;
         uVar10 = uVar10 + 1;
         puVar7 = puVar7 + 4;
      }
 while ( uVar10 != uVar15 );
   }

   lVar9 = uVar10 - uVar13;
   LAB_00130014:auVar16._8_8_ = lVar9;
   auVar16._0_8_ = puVar5;
   return auVar16;
}
void ufbxi_fetch_mapping_maps(long param_1, long param_2, long param_3, undefined8 param_4, byte *param_5, long param_6, undefined8 param_7, ulong param_8, undefined8 param_9, long param_10, undefined8 param_11, long param_12, uint param_13) {
   byte *pbVar1;
   undefined8 *puVar2;
   byte *pbVar3;
   byte bVar4;
   uint uVar5;
   undefined8 uVar6;
   undefined1 *puVar7;
   undefined1 *puVar8;
   undefined8 uVar9;
   undefined8 uVar10;
   undefined8 uVar11;
   undefined8 uVar12;
   uint uVar13;
   long lVar14;
   long lVar15;
   ulong uVar16;
   ulong uVar17;
   undefined1 **ppuVar18;
   ulong uVar19;
   undefined1 **ppuVar20;
   ulong uVar21;
   long in_FS_OFFSET;
   undefined1 auVar22[16];
   byte local_2e1;
   undefined1 *local_268;
   undefined8 local_260;
   undefined1 **local_258;
   ulong local_250;
   undefined1 *local_248[65];
   long local_40;
   pbVar1 = param_5 + param_6 * 0x10;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   if (param_5 != pbVar1) {
      do {
         ppuVar18 = *(undefined1***)( param_5 + 8 );
         uVar19 = (ulong)param_5[3];
         if (param_8 == 0) {
            if (param_10 == 0) {
               if (( param_12 != 0 ) && ( param_12 + uVar19 < 0x201 )) {
                  if (uVar19 != 0) {
                     ppuVar20 = local_248;
                     uVar17 = 0x200;
                     uVar21 = 0x200;
                     goto LAB_001307a0;
                  }

                  ppuVar20 = local_248;
                  uVar17 = 0x200;
                  goto LAB_00130672;
               }

            }
 else if (param_10 + param_12 + uVar19 < 0x201) {
               ppuVar20 = local_248;
               uVar17 = 0x200;
               uVar21 = 0x200;
               goto LAB_00130742;
            }

         }
 else if (param_8 + param_10 + param_12 + uVar19 < 0x201) {
            __memcpy_chk(local_248, param_7, param_8, 0x200);
            ppuVar20 = (undefined1**)( (long)local_248 + param_8 );
            uVar17 = 0x200;
            if (0x1ff < param_8) {
               uVar17 = param_8;
            }

            uVar17 = uVar17 - param_8;
            if (param_10 != 0) {
               uVar21 = 0x200;
               if (0x1ff < uVar17) {
                  uVar21 = uVar17;
               }

               LAB_00130742:lVar14 = __memcpy_chk(ppuVar20, param_9, param_10);
               uVar16 = ( param_10 + uVar21 ) - uVar17;
               if (uVar16 < uVar21) {
                  uVar16 = uVar21;
               }

               ppuVar20 = (undefined1**)( lVar14 + param_10 );
               uVar17 = ( uVar17 - ( param_10 + uVar21 ) ) + uVar16;
            }

            if (uVar19 != 0) {
               uVar21 = 0x200;
               if (0x1ff < uVar17) {
                  uVar21 = uVar17;
               }

               LAB_001307a0:lVar14 = __memcpy_chk(ppuVar20, ppuVar18, uVar19);
               uVar16 = ( uVar19 + uVar21 ) - uVar17;
               if (uVar16 < uVar21) {
                  uVar16 = uVar21;
               }

               ppuVar20 = (undefined1**)( lVar14 + uVar19 );
               uVar17 = ( uVar17 - ( uVar19 + uVar21 ) ) + uVar16;
            }

            if (param_12 != 0) {
               LAB_00130672:lVar14 = __memcpy_chk(ppuVar20, param_11, param_12, uVar17);
               ppuVar20 = (undefined1**)( lVar14 + param_12 );
            }

            ppuVar18 = local_248;
            uVar19 = (long)ppuVar20 - (long)ppuVar18;
         }

         auVar22 = ufbx_find_shader_prop_bindings_len(param_4, ppuVar18, uVar19);
         ppuVar20 = auVar22._0_8_;
         if (auVar22._8_8_ == 0) {
            local_258 = ppuVar18;
            ppuVar20 = &local_268;
            local_268 = &ufbxi_empty_char;
            local_2e1 = param_5[1];
            ppuVar18 = local_248;
            local_250 = uVar19;
            local_260 = 0;
            LAB_00130364:uVar13 = param_13 & 2;
            do {
               while (true) {
                  puVar7 = ppuVar20[2];
                  puVar8 = ppuVar20[3];
                  lVar14 = ufbx_find_prop_len(param_1 + 0x10, puVar7, puVar8);
                  if (( param_13 & 8 ) == 0) break;
                  pbVar3 = (byte*)( param_3 + ( ulong ) * param_5 * 2 );
                  if (( lVar14 != 0 ) && ( *(int*)( lVar14 + 0x14 ) != 0xf )) {
                     lVar15 = *(long*)( lVar14 + 0x40 );
                     pbVar3[1] = 1;
                     *pbVar3 = lVar15 != 0;
                     if (( local_2e1 & 8 ) != 0) {
                        *pbVar3 = _LC60 <= *(double*)( lVar14 + 0x48 ) && *(double*)( lVar14 + 0x48 ) <= _LC233;
                     }

                     if (( local_2e1 & 1 ) != 0) {
                        *pbVar3 = *pbVar3 ^ 1;
                     }

                     if (( local_2e1 & 2 ) != 0) {
                        *pbVar3 = 1;
                     }

                  }

                  if (( ( local_2e1 & 4 ) != 0 ) && ( lVar14 = ufbx_find_prop_texture_len(param_1, puVar7, puVar8) ),lVar14 != 0) {
                     *pbVar3 = 1;
                  }

                  LAB_00130468:ppuVar20 = ppuVar20 + 4;
                  if (ppuVar20 == ppuVar18) goto LAB_001304d5;
               }
;
               puVar2 = (undefined8*)( param_2 + ( ulong ) * param_5 * 0x38 );
               if (( param_13 & 1 ) != 0) {
                  if (lVar14 == 0) {
                     if (uVar13 != 0) goto LAB_001305c0;
                     goto LAB_00130468;
                  }

                  if (*(int*)( lVar14 + 0x14 ) != 0xf) {
                     uVar9 = *(undefined8*)( lVar14 + 0x48 );
                     uVar10 = *(undefined8*)( lVar14 + 0x50 );
                     uVar11 = *(undefined8*)( lVar14 + 0x58 );
                     uVar12 = *(undefined8*)( lVar14 + 0x60 );
                     uVar6 = *(undefined8*)( lVar14 + 0x40 );
                     *(undefined1*)( puVar2 + 6 ) = 1;
                     *puVar2 = uVar9;
                     puVar2[1] = uVar10;
                     puVar2[4] = uVar6;
                     puVar2[2] = uVar11;
                     puVar2[3] = uVar12;
                     if (param_5[2] != 0) {
                        ( **(code**)( ufbxi_mat_transform_fns + (ulong)param_5[2] * 8 ) )(puVar2);
                     }

                     bVar4 = param_5[1];
                     uVar5 = *(uint*)( lVar14 + 0x18 );
                     if (( ( bVar4 & 1 ) != 0 ) && ( ( uVar5 & 0x800000 ) == 0 )) {
                        puVar2[3] = _LC0;
                     }

                     if (( bVar4 & 2 ) == 0) {
                        if (( uVar5 & 0x100000 ) != 0) goto LAB_00130449;
                     }
 else if (( uVar5 & 0x100000 ) != 0) {
                        puVar2[1] = *puVar2;
                        puVar2[2] = *puVar2;
                        LAB_00130449:*(undefined1*)( (long)puVar2 + 0x33 ) = 1;
                        goto joined_r0x001307f4;
                     }

                     if (( uVar5 & 0x200000 ) == 0) {
                        if (( uVar5 & 0x400000 ) == 0) {
                           if (( uVar5 & 0x800000 ) == 0) {
                              *(undefined1*)( (long)puVar2 + 0x33 ) = 0;
                           }
 else {
                              *(undefined1*)( (long)puVar2 + 0x33 ) = 4;
                           }

                           goto joined_r0x001307f4;
                        }

                        *(undefined1*)( (long)puVar2 + 0x33 ) = 3;
                     }
 else {
                        *(undefined1*)( (long)puVar2 + 0x33 ) = 2;
                     }

                     if (uVar13 == 0) goto LAB_0013045a;
                     LAB_001305c0:lVar15 = ufbx_find_prop_texture_len(param_1, puVar7, puVar8);
                     if (lVar15 != 0) {
                        puVar2[5] = lVar15;
                        *(undefined1*)( (long)puVar2 + 0x31 ) = 1;
                     }

                     if (( param_13 & 4 ) == 0) goto LAB_00130468;
                     goto LAB_001304c1;
                  }

                  joined_r0x001307f4:if (uVar13 != 0) goto LAB_001305c0;
                  LAB_0013045a:if (( param_13 & 4 ) == 0) goto LAB_00130468;
                  LAB_0013045e:*(bool*)( (long)puVar2 + 0x31 ) = *(long*)( lVar14 + 0x40 ) != 0;
                  goto LAB_00130468;
               }

               if (uVar13 != 0) goto LAB_001305c0;
               LAB_001304c1:if (lVar14 != 0) goto LAB_0013045e;
               ppuVar20 = ppuVar20 + 4;
            }
 while ( ppuVar20 != ppuVar18 );
         }
 else {
            ppuVar18 = ppuVar20 + auVar22._8_8_ * 4;
            if (ppuVar18 != ppuVar20) {
               local_2e1 = param_5[1];
               goto LAB_00130364;
            }

         }

         LAB_001304d5:param_5 = param_5 + 0x10;
      }
 while ( pbVar1 != param_5 );
   }

   if (local_40 != *(long*)( in_FS_OFFSET + 0x28 )) {
      /* WARNING: Subroutine does not return */
      __stack_chk_fail();
   }

   return;
}
void ufbxi_fetch_maps(long param_1, long param_2) {
   long lVar1;
   long lVar2;
   long lVar3;
   undefined1(*pauVar4)[16];
   byte bVar5;
   long lVar6;
   undefined8 uVar7;
   long lVar8;
   long lVar9;
   undefined8 uVar10;
   undefined8 uVar11;
   undefined8 uVar12;
   long lVar13;
   undefined8 uVar14;
   undefined8 uVar15;
   undefined8 uVar16;
   undefined8 uVar17;
   undefined8 uVar18;
   undefined8 uVar19;
   undefined8 uVar20;
   double dVar21;
   uint uVar22;
   byte *pbVar23;
   ulong uVar24;
   long lVar25;
   undefined8 *puVar26;
   undefined1 *puVar27;
   undefined8 uVar28;
   lVar1 = param_2 + 0x80;
   puVar26 = (undefined8*)( param_2 + 0x88U & 0xfffffffffffffff8 );
   puVar27 = ufbxi_obj_fbx_mapping;
   lVar2 = param_2 + 0x4e0;
   lVar6 = *(long*)( param_2 + 0x1120 );
   *(undefined8*)( param_2 + 0x80 ) = 0;
   *(undefined8*)( param_2 + 0x4d8 ) = 0;
   uVar24 = ( ulong )(( (int)lVar1 - (int)puVar26 ) + 0x460U >> 3);
   for (; uVar24 != 0; uVar24 = uVar24 - 1) {
      *puVar26 = 0;
      puVar26 = puVar26 + 1;
   }

   *(undefined8*)( param_2 + 0x4e0 ) = 0;
   puVar26 = (undefined8*)( param_2 + 0x4e8U & 0xfffffffffffffff8 );
   *(undefined8*)( param_2 + 0x10e0 ) = 0;
   uVar24 = ( ulong )(( (int)lVar2 - (int)puVar26 ) + 0xc08U >> 3);
   for (; uVar24 != 0; uVar24 = uVar24 - 1) {
      *puVar26 = 0;
      puVar26 = puVar26 + 1;
   }

   *(undefined1(*) [16])( param_2 + 0x10f8 ) = (undefined1[16])0x0;
   *(undefined1(*) [16])( param_2 + 0x10e8 ) = (undefined1[16])0x0;
   *(undefined1(*) [16])( param_2 + 0x1106 ) = (undefined1[16])0x0;
   uVar22 = *(int*)( param_1 + 0x18 ) - 2;
   if (1 < uVar22) {
      puVar27 = ufbxi_base_fbx_mapping;
   }

   ufbxi_fetch_mapping_maps(param_2, lVar1, 0, 0, puVar27, ( -(ulong)(uVar22 < 2) & 0xffffffffffffffed ) + 0x1c, ufbx_empty_string, DAT_0014b438, ufbx_empty_string, DAT_0014b438, ufbx_empty_string, DAT_0014b438, 3);
   lVar3 = ( ulong ) * (uint*)( param_2 + 0x1118 ) * 0x68;
   uVar7 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x10 );
   lVar8 = *(long*)( ufbxi_shader_pbr_mappings + lVar3 + 0x50 );
   uVar18 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x28 );
   lVar9 = *(long*)( ufbxi_shader_pbr_mappings + lVar3 + 0x60 );
   uVar19 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x30 );
   uVar20 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x38 );
   uVar10 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 );
   uVar14 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x40 );
   uVar15 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x48 );
   uVar11 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 8 );
   uVar16 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x50 );
   uVar17 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x58 );
   uVar22 = *(uint*)( ufbxi_shader_pbr_mappings + lVar3 + 0x20 );
   uVar12 = *(undefined8*)( ufbxi_shader_pbr_mappings + lVar3 + 0x18 );
   lVar13 = *(long*)( ufbxi_shader_pbr_mappings + lVar3 + 0x30 );
   lVar3 = *(long*)( ufbxi_shader_pbr_mappings + lVar3 + 0x40 );
   lVar25 = 0;
   do {
      if (( 1 << ( (byte)lVar25 & 0x1f ) & uVar22 ) != 0) {
         *(undefined1*)( param_2 + 0x10e8 + lVar25 * 2 ) = 1;
      }

      lVar25 = lVar25 + 1;
   }
 while ( lVar25 != 0x17 );
   puVar27 = &ufbxi_empty_char;
   uVar28 = 0;
   if (lVar6 == 0) {
      puVar27 = *(undefined1**)( param_2 + 0x1138 );
      uVar28 = *(undefined8*)( param_2 + 0x1140 );
   }

   if (lVar3 != 0 || lVar13 != 0) {
      ufbxi_fetch_mapping_maps(param_2, lVar2, 0, lVar6, uVar10, uVar11, puVar27, uVar28, uVar18, uVar19, uVar20, uVar14, 2);
   }

   ufbxi_fetch_mapping_maps(param_2, lVar2, 0, lVar6, uVar10, uVar11, puVar27, uVar28, ufbx_empty_string, DAT_0014b438, ufbx_empty_string, DAT_0014b438, 3);
   if (lVar9 != 0 || lVar8 != 0) {
      ufbxi_fetch_mapping_maps(param_2, lVar2, 0, lVar6, uVar10, uVar11, puVar27, uVar28, uVar15, uVar16, uVar17, lVar9, 4);
   }

   ufbxi_fetch_mapping_maps(param_2, 0, param_2 + 0x10e8, lVar6, uVar7, uVar12, puVar27, uVar28, ufbx_empty_string, DAT_0014b438, ufbx_empty_string, DAT_0014b438, 8);
   ufbxi_update_factor(lVar1, param_2 + 0xb8);
   ufbxi_update_factor(param_2 + 0xf0, param_2 + 0x128);
   ufbxi_update_factor(param_2 + 0x198, param_2 + 0x1d0);
   ufbxi_update_factor(param_2 + 0x208, param_2 + 0x240);
   ufbxi_update_factor(param_2 + 0x278, param_2 + 0x2b0);
   ufbxi_update_factor(param_2 + 0x2e8, param_2 + 800);
   ufbxi_update_factor(lVar2, param_2 + 0x518);
   ufbxi_update_factor(param_2 + 0x5f8, param_2 + 0x630);
   ufbxi_update_factor(param_2 + 0xdd8, param_2 + 0xe10);
   ufbxi_update_factor(param_2 + 0xac8, param_2 + 0xb00);
   ufbxi_update_factor(param_2 + 0x710, param_2 + 0x748);
   if (( ( *(char*)( param_2 + 0x890 ) == '\0' ) && ( *(char*)( param_2 + 0x580 ) != '\0' ) ) && ( *(char*)( param_2 + 0x8c8 ) != '\0' )) {
      *(double*)( param_2 + 0x860 ) = *(double*)( param_2 + 0x550 ) + *(double*)( param_2 + 0x898 );
   }

   dVar21 = _LC0;
   pbVar23 = &ufbxi_glossiness_remaps;
   do {
      bVar5 = pbVar23[1];
      if (*(char*)( param_2 + 0x10e8 + ( ulong ) * pbVar23 * 2 ) == '\0') {
         lVar1 = param_2 + (long)(int)(uint)bVar5 * 0x38;
         if (*(char*)( lVar1 + 0x510 ) != '\0') {
            *(double*)( param_2 + 0x4e0 + (ulong)pbVar23[2] * 0x38 ) = dVar21 - *(double*)( lVar1 + 0x4e0 );
         }

      }
 else {
         lVar1 = param_2 + (ulong)pbVar23[2] * 0x38;
         lVar2 = param_2 + (long)(int)(uint)bVar5 * 0x38;
         for (int i = 0; i < 3; i++) {
            uVar7 = *(undefined8*)( lVar2 + ( 16*i + 1256 ) );
            *(undefined8*)( lVar1 + ( 16*i + 1248 ) ) = *(undefined8*)( lVar2 + ( 16*i + 1248 ) );
            *(undefined8*)( lVar1 + ( 16*i + 1256 ) ) = uVar7;
         }

         *(undefined8*)( lVar1 + 0x510 ) = *(undefined8*)( lVar2 + 0x510 );
         pauVar4 = (undefined1(*) [16])( param_2 + 0x4e0 + (ulong)bVar5 * 0x38 );
         *(undefined8*)pauVar4[3] = 0;
         *pauVar4 = (undefined1[16])0x0;
         pauVar4[1] = (undefined1[16])0x0;
         pauVar4[2] = (undefined1[16])0x0;
         if (*(char*)( lVar1 + 0x510 ) != '\0') {
            *(double*)( lVar2 + 0x4e0 ) = dVar21 - *(double*)( lVar1 + 0x4e0 );
         }

      }

      pbVar23 = pbVar23 + 3;
   }
 while ( pbVar23 != &DAT_00149dd9 );
   return;
}
void ufbxi_update_material(undefined8 param_1, long param_2) {
   if (*(long*)( param_2 + 0x20 ) == 0) {
      return;
   }

   ufbxi_fetch_maps();
   return;
}
undefined1[16];ufbx_find_shader_prop_len(void) {
   undefined1 auVar1[16];
   auVar1 = ufbx_find_shader_prop_bindings_len();
   if (auVar1._8_8_ == 0) {
      return ZEXT816(0x14b060);
   }

   return *(undefined1(*) [16])( auVar1._0_8_ + 0x10 );
}
long ufbx_find_shader_texture_input_len(long param_1, undefined1 *param_2, ulong param_3) {
   long lVar1;
   ulong uVar2;
   int iVar3;
   undefined1 *__s2;
   ulong __n;
   long lVar4;
   ulong uVar5;
   undefined8 *puVar6;
   ulong uVar7;
   uVar5 = *(ulong*)( param_1 + 0x28 );
   lVar1 = *(long*)( param_1 + 0x20 );
   __s2 = &ufbxi_empty_char;
   if (param_3 != 0) {
      __s2 = param_2;
   }

   uVar7 = 0;
   uVar2 = uVar5;
   do {
      while (true) {
         if (uVar5 < 5) {
            if (uVar7 < uVar2) {
               puVar6 = (undefined8*)( lVar1 + uVar7 * 0x88 );
               do {
                  if (( param_3 == puVar6[1] ) && ( iVar3 = iVar3 == 0 )) {
                     return lVar1 + uVar7 * 0x88;
                  }

                  uVar7 = uVar7 + 1;
                  puVar6 = puVar6 + 0x11;
               }
 while ( uVar7 != uVar2 );
            }

            return 0;
         }

         lVar4 = ( uVar5 >> 1 ) + uVar7;
         puVar6 = (undefined8*)( lVar1 + lVar4 * 0x88 );
         uVar5 = puVar6[1];
         __n = uVar5;
         if (param_3 <= uVar5) {
            __n = param_3;
         }

         iVar3 = memcmp((void*)*puVar6, __s2, __n);
         if (iVar3 != 0) break;
         if (uVar5 < param_3) goto LAB_00130e85;
         LAB_00130ecb:uVar5 = ( lVar4 + 1U ) - uVar7;
         uVar2 = lVar4 + 1U;
      }
;
      if (-1 < iVar3) goto LAB_00130ecb;
      LAB_00130e85:uVar7 = lVar4 + 1;
      uVar5 = uVar2 - uVar7;
   }
 while ( true );
}
void ufbxi_update_shader_texture(long param_1, int *param_2) {
   undefined8 uVar1;
   undefined8 uVar2;
   undefined8 uVar3;
   undefined8 uVar4;
   undefined8 uVar5;
   undefined8 uVar6;
   undefined8 uVar7;
   undefined8 uVar8;
   undefined8 *puVar9;
   long lVar10;
   long lVar11;
   long lVar12;
   long lVar13;
   lVar11 = param_1 + 0x10;
   lVar13 = *(long*)( param_2 + 8 );
   lVar12 = lVar13 + *(long*)( param_2 + 10 ) * 0x88;
   do {
      if (lVar13 == lVar12) {
         if (*param_2 == 1) {
            lVar11 = ufbx_find_shader_texture_input_len(param_2, "sourceMap", 9);
            lVar12 = ufbx_find_shader_texture_input_len(param_2, "outputChannelIndex", 0x12);
            if (lVar12 != 0) {
               *(undefined8*)( param_2 + 0x16 ) = *(undefined8*)( lVar12 + 0x30 );
            }

            if (lVar11 != 0) {
               *(undefined8*)( param_2 + 0x14 ) = *(undefined8*)( lVar11 + 0x58 );
               *(undefined8*)( lVar11 + 0x60 ) = *(undefined8*)( param_2 + 0x16 );
               return;
            }

         }

         return;
      }

      puVar9 = *(undefined8**)( lVar13 + 0x70 );
      if (puVar9 != (undefined8*)0x0) {
         puVar9 = (undefined8*)ufbx_find_prop_len(lVar11, *puVar9, puVar9[1]);
         uVar1 = puVar9[8];
         uVar2 = puVar9[9];
         uVar3 = puVar9[10];
         *(undefined8**)( lVar13 + 0x70 ) = puVar9;
         uVar4 = puVar9[0xb];
         uVar5 = puVar9[0xc];
         *(undefined8*)( lVar13 + 0x30 ) = uVar1;
         uVar1 = puVar9[4];
         uVar6 = puVar9[5];
         uVar7 = puVar9[6];
         uVar8 = puVar9[7];
         *(undefined8*)( lVar13 + 0x10 ) = uVar2;
         *(undefined8*)( lVar13 + 0x18 ) = uVar3;
         *(undefined8*)( lVar13 + 0x20 ) = uVar4;
         *(undefined8*)( lVar13 + 0x28 ) = uVar5;
         *(undefined8*)( lVar13 + 0x38 ) = uVar1;
         *(undefined8*)( lVar13 + 0x40 ) = uVar6;
         *(undefined8*)( lVar13 + 0x48 ) = uVar7;
         *(undefined8*)( lVar13 + 0x50 ) = uVar8;
         lVar10 = param_1;
         if (param_1 != 0) {
            lVar10 = ufbxi_fetch_dst_element(param_1, 0, *puVar9, 0x19);
         }

         *(long*)( lVar13 + 0x58 ) = lVar10;
      }

      puVar9 = *(undefined8**)( lVar13 + 0x78 );
      if (puVar9 == (undefined8*)0x0) {
         LAB_0013109c:lVar10 = *(long*)( lVar13 + 0x58 );
      }
 else {
         puVar9 = (undefined8*)ufbx_find_prop_len(lVar11, *puVar9, puVar9[1]);
         *(undefined8**)( lVar13 + 0x78 ) = puVar9;
         if (( ( param_1 == 0 ) || ( puVar9 == (undefined8*)0x0 ) ) || ( lVar10 = ufbxi_fetch_dst_element(param_1, 0, *puVar9, 0x19) ),lVar10 == 0) goto LAB_0013109c;
         *(long*)( lVar13 + 0x58 ) = lVar10;
      }

      puVar9 = *(undefined8**)( lVar13 + 0x80 );
      *(bool*)( lVar13 + 0x68 ) = lVar10 != 0;
      if (puVar9 != (undefined8*)0x0) {
         lVar10 = ufbx_find_prop_len(lVar11, *puVar9, puVar9[1]);
         *(long*)( lVar13 + 0x80 ) = lVar10;
         *(bool*)( lVar13 + 0x68 ) = *(long*)( lVar10 + 0x40 ) != 0;
      }

      lVar13 = lVar13 + 0x88;
   }
 while ( true );
}
undefined8 ufbxi_finalize_shader_texture(long param_1, long param_2) {
   long *plVar1;
   char *__s;
   undefined8 uVar2;
   undefined8 uVar3;
   char cVar4;
   uint uVar5;
   int iVar6;
   long lVar7;
   undefined4 *puVar8;
   long lVar9;
   size_t sVar10;
   long lVar11;
   undefined8 uVar12;
   undefined4 uVar13;
   long *plVar14;
   ulong uVar15;
   undefined8 *puVar16;
   long *plVar17;
   long in_FS_OFFSET;
   byte bVar18;
   undefined1 auVar19[16];
   long local_68;
   long lStack_60;
   long local_58;
   long lStack_50;
   long local_40;
   bVar18 = 0;
   lVar9 = param_2 + 0x10;
   local_40 = *(long*)( in_FS_OFFSET + 0x28 );
   lVar7 = ufbx_find_int_len(lVar9, "3dsMax|ClassIDa", 0xf, 0);
   uVar5 = ufbx_find_int_len(lVar9, "3dsMax|ClassIDb", 0xf, 0);
   uVar15 = (ulong)uVar5 | lVar7 << 0x20;
   auVar19 = ufbx_find_string_len(lVar9, "3dsMax|MaxTexture", 0x11, ufbx_empty_string, DAT_0014b438);
   iVar6 = strcmp(auVar19._0_8_, "MULTIOUTPUT_TO_OSLMap");
   if (( uVar15 != 0x896ef2fc44bd743f ) && ( iVar6 != 0 )) {
      iVar6 = strcmp(auVar19._0_8_, "OSLMap");
      if (( uVar15 == 0x7f9a7b9d6fcdf00d ) || ( iVar6 == 0 )) {
         uVar13 = 2;
         goto LAB_00131205;
      }

      if (( ( ( *(int*)( param_2 + 0x80 ) == 0 ) && ( *(long*)( param_2 + 0xb0 ) == 0 ) ) && ( *(long*)( param_2 + 0xa0 ) == 0 ) ) && ( *(long*)( param_2 + 0xf8 ) == 0 )) {
         uVar13 = 0;
         goto LAB_00131205;
      }

      goto LAB_001314ed;
   }

   uVar13 = 1;
   LAB_00131205:puVar8 = (undefined4*)ufbxi_push_size_zero(param_1 + 0x1a58, 0x70, 1);
   if (puVar8 != (undefined4*)0x0) {
      *puVar8 = uVar13;
      *(undefined1**)( puVar8 + 0xc ) = &ufbxi_empty_char;
      *(undefined1**)( puVar8 + 2 ) = &ufbxi_empty_char;
      lVar7 = ufbx_find_prop_len(lVar9, "3dsMax|params|OSLShaderName", 0x1b);
      if (lVar7 != 0) {
         uVar12 = *(undefined8*)( lVar7 + 0x28 );
         *(undefined8*)( puVar8 + 2 ) = *(undefined8*)( lVar7 + 0x20 );
         *(undefined8*)( puVar8 + 4 ) = uVar12;
      }

      lVar9 = ufbx_find_prop_len(lVar9, "3dsMax|params|OSLCode", 0x15);
      if (lVar9 != 0) {
         uVar12 = *(undefined8*)( lVar9 + 0x28 );
         uVar2 = *(undefined8*)( lVar9 + 0x30 );
         uVar3 = *(undefined8*)( lVar9 + 0x38 );
         *(undefined8*)( puVar8 + 0xc ) = *(undefined8*)( lVar9 + 0x20 );
         *(undefined8*)( puVar8 + 0xe ) = uVar12;
         *(undefined8*)( puVar8 + 0x10 ) = uVar2;
         *(undefined8*)( puVar8 + 0x12 ) = uVar3;
      }

      iVar6 = ufbxi_shader_texture_find_prefix(param_1, param_2, puVar8);
      if (iVar6 != 0) {
         if (*(long*)( puVar8 + 4 ) == 0) {
            local_58 = *(long*)( puVar8 + 0x18 );
            lStack_50 = *(long*)( puVar8 + 0x1a );
            cVar4 = ufbxi_remove_suffix_len(&local_58, " Parameters/Connections|", 0x18);
            lVar9 = lStack_50;
            if (cVar4 != '\0') {
               do {
                  lVar11 = lVar9;
                  lVar9 = local_58;
                  lVar7 = lStack_50;
                  if (lVar11 == 0) goto LAB_00131567;
                  lVar9 = lVar11 + -1;
               }
 while ( *(char*)( local_58 + -1 + lVar11 ) != '|' );
               lVar9 = local_58 + lVar11;
               lVar7 = lStack_50 - lVar11;
               LAB_00131567:*(long*)( puVar8 + 4 ) = lVar7;
               *(long*)( puVar8 + 2 ) = lVar9;
               iVar6 = ufbxi_push_string_place_str(param_1 + 0x1960, puVar8 + 2, 0);
               if (iVar6 == 0) goto LAB_00131620;
               if (*(long*)( puVar8 + 4 ) != 0) goto joined_r0x001315ad;
            }

            if (auVar19._8_8_ != 0) {
               *(undefined1(*) [16])( puVar8 + 2 ) = auVar19;
            }

         }

         joined_r0x001315ad:if (uVar15 != 0) {
            *(ulong*)( puVar8 + 6 ) = uVar15;
         }

         lVar9 = *(long*)( puVar8 + 0x1a );
         if (lVar9 != 0) {
            plVar17 = *(long**)( param_2 + 0x10 );
            plVar14 = plVar17 + *(long*)( param_2 + 0x18 ) * 0xd;
            if (plVar17 != plVar14) {
               do {
                  local_68 = *plVar17;
                  lStack_60 = plVar17[1];
                  cVar4 = ufbxi_remove_prefix_len(&local_68, *(undefined8*)( puVar8 + 0x18 ), lVar9);
                  if (cVar4 != '\0') {
                     local_58 = local_68;
                     lStack_50 = lStack_60;
                     cVar4 = ufbxi_remove_suffix_len(&local_58, &_LC244, 4);
                     if (( cVar4 == '\0' ) && ( cVar4 = ufbxi_remove_suffix_len(&local_58, ".shader", 7) ),cVar4 == '\0') {
                        cVar4 = ufbxi_remove_suffix_len(&local_58, ".connected", 10);
                        if (( ( cVar4 == '\0' ) && ( cVar4 = ufbxi_remove_suffix_len(&local_58, "Enabled", 7) ),cVar4 == '\0' )) {
                           LAB_00131391:cVar4 = ufbxi_grow_array_size(param_1 + 0x5c0, 1, param_1 + 0xa00, param_1 + 0xa08, ( *(long*)( puVar8 + 10 ) + 1 ) * 0x88);
                           if (cVar4 == '\0') goto LAB_00131620;
                           lVar9 = *(long*)( puVar8 + 10 );
                           lVar7 = *(long*)( param_1 + 0xa00 );
                           *(long*)( puVar8 + 8 ) = lVar7;
                           *(long*)( puVar8 + 10 ) = lVar9 + 1;
                           plVar1 = (long*)( lVar7 + lVar9 * 0x88 );
                           plVar1[2] = 0;
                           plVar1[0x10] = 0;
                           puVar16 = (undefined8*)( ( ulong )(plVar1 + 3) & 0xfffffffffffffff8 );
                           for (uVar15 = ( ulong )(( (int)plVar1 - (int)(undefined8*)( ( ulong )(plVar1 + 3) & 0xfffffffffffffff8 ) ) + 0x88U >> 3); uVar15 != 0; uVar15 = uVar15 - 1) {
                              *puVar16 = 0;
                              puVar16 = puVar16 + (ulong)bVar18 * -2 + 1;
                           }

                           plVar1[0xe] = (long)plVar17;
                           *plVar1 = local_68;
                           plVar1[1] = lStack_60;
                        }
 else {
                           *(long**)( lVar9 + 0x80 ) = plVar17;
                        }

                     }
 else {
                        lVar9 = ufbx_find_shader_texture_input_len(puVar8, local_58, lStack_50);
                        if (lVar9 == 0) goto LAB_00131391;
                        *(long**)( lVar9 + 0x78 ) = plVar17;
                     }

                  }

                  if (plVar14 == plVar17 + 0xd) break;
                  plVar17 = plVar17 + 0xd;
                  lVar9 = *(long*)( puVar8 + 0x1a );
               }
 while ( true );
            }

            lVar9 = ufbxi_push_size_copy(param_1 + 0x1a58, 0x88, *(undefined8*)( puVar8 + 10 ), *(undefined8*)( puVar8 + 8 ));
            *(long*)( puVar8 + 8 ) = lVar9;
            if (lVar9 == 0) goto LAB_00131620;
            *(undefined4**)( param_2 + 0x118 ) = puVar8;
            *(undefined4*)( param_2 + 0x80 ) = 3;
            *(long*)( param_1 + 0x1d80 ) = *(long*)( param_1 + 0x1d80 ) + 1;
            if (*(char*)( param_1 + 0x35c ) == '\0') {
               plVar14 = &ufbxi_file_shaders;
               do {
                  if (( ( *plVar14 != 0 ) && ( *plVar14 == *(long*)( puVar8 + 6 ) ) ) || ( iVar6 = strcmp(*(char**)( puVar8 + 2 ), (char*)plVar14[1]) ),iVar6 == 0) {
                     __s = (char*)plVar14[2];
                     sVar10 = strlen(__s);
                     lVar9 = ufbx_find_shader_texture_input_len(puVar8, __s, sVar10);
                     if (lVar9 != 0) {
                        lVar9 = *(long*)( lVar9 + 0x70 );
                        uVar12 = *(undefined8*)( lVar9 + 0x28 );
                        *(undefined8*)( param_2 + 0x98 ) = *(undefined8*)( lVar9 + 0x20 );
                        *(undefined8*)( param_2 + 0xa0 ) = uVar12;
                        uVar12 = *(undefined8*)( lVar9 + 0x30 );
                        uVar2 = *(undefined8*)( lVar9 + 0x38 );
                        *(undefined4*)( param_2 + 0x80 ) = 0;
                        *(undefined8*)( param_2 + 200 ) = uVar12;
                        *(undefined8*)( param_2 + 0xd0 ) = uVar2;
                        break;
                     }

                  }

                  plVar14 = plVar14 + 3;
               }
 while ( plVar14 != (long*)&DAT_0014b578 );
            }

            ufbxi_update_shader_texture(param_2, puVar8);
         }

         LAB_001314ed:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
            return 1;
         }

         goto LAB_001316d6;
      }

   }

   LAB_00131620:if (local_40 == *(long*)( in_FS_OFFSET + 0x28 )) {
      uVar12 = ufbxi_fail_imp_constprop_0(param_1, &_LC88);
      return uVar12;
   }

   LAB_001316d6:/* WARNING: Subroutine does not return */__stack_chk_fail();
}
undefined4 ufbx_coordinate_axes_valid(undefined8 param_1, uint param_2) {
   uint uVar1;
   uVar1 = ( uint )((ulong)param_1 >> 0x20);
   if (( uVar1 < 6 && (uint)param_1 < 6 ) && ( param_2 < 6 )) {
      uVar1 = 1 << ( ( byte )(uVar1 >> 1) & 0x1f ) | 1 << ( (uint)param_1 >> 1 & 0x1f ) | 1 << ( param_2 >> 1 & 0x1f );
      return CONCAT31(( int3 )(uVar1 >> 8), uVar1 == 7);
   }

   return 0;
}
undefined8 ufbx_quat_mul(undefined8 param_1) {
   long lVar1;
   long in_FS_OFFSET;
   lVar1 = *(long*)( in_FS_OFFSET + 0x28 );
   ufbxi_mul_quat();
   if (lVar1 == *(long*)( in_FS_OFFSET + 0x28 )) {
      return param_1;
   }

   /* WARNING: Subroutine does not return */
   __stack_chk_fail();
}
undefined1(*)[16];ufbx_vec3_normalize(undefined1 (*param_1)[16]) {
   double dVar1;
   double in_stack_00000008;
   double in_stack_00000010;
   double in_stack_00000018;
   dVar1 = SQRT(in_stack_00000008 * in_stack_00000008 + in_stack_00000010 * in_stack_00000010 + in_stack_00000018 * in_stack_00000018);
   if (_LC66 < dVar1) {
      dVar1 = _LC0 / dVar1;
      *(double*)param_1[1] = dVar1 * in_stack_00000018;
      *(double*)*param_1 = dVar1 * in_stack_00000008;
      *(double*)( *param_1 + 8 ) = dVar1 * in_stack_00000010;
      return param_1;
   }

   *(undefined8*)param_1[1] = 0;
   *param_1 = (undefined1[16])0x0;
   return param_1;
}
double ufbx_quat_dot(void) {
   double in_stack_00000008;
   double in_stack_00000010;
   double in_stack_00000018;
   double in_stack_00000020;
   double in_stack_00000028;
   double in_stack_00000030;
   double in_stack_00000038;
   double in_stack_00000040;
   return in_stack_00000008 * in_stack_00000028 + in_stack_00000010 * in_stack_00000030 + in_stack_00000018 * in_stack_00000038 + in_stack_00000020 * in_stack_00000040;
}
/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */undefined1(*)[16];ufbx_quat_normalize(undefined1 (*param_1)[16]) {
   undefined1 auVar1[16];
   undefined8 uVar2;
   undefined8 uVar3;
   double dVar4;
   undefined1 auVar5[16];
   undefined1 auVar6[16];
   undefined1 auVar7[16];
   undefined8 in_stack_00000008;
   undefined8 in_stack_00000010;
   undefined8 in_stack_00000018;
   undefined8 in_stack_00000020;
   dVar4 = (double)ufbx_quat_dot();
   uVar3 = _UNK_0014eb58;
   uVar2 = __LC266;
   if (dVar4 != 0.0) {
      auVar6._8_8_ = in_stack_00000010;
      auVar6._0_8_ = in_stack_00000008;
      auVar1._8_8_ = in_stack_00000020;
      auVar1._0_8_ = in_stack_00000018;
      if (dVar4 < 0.0) {
         dVar4 = sqrt(dVar4);
      }
 else {
         dVar4 = SQRT(dVar4);
      }

      auVar5._8_8_ = dVar4;
      auVar5._0_8_ = dVar4;
      auVar7 = divpd(auVar6, auVar5);
      auVar6 = divpd(auVar1, auVar5);
      *param_1 = auVar7;
      param_1[1] = auVar6;
      return param_1;
   }

   *param_1 = (undefined1[16])0x0;
   *(undefined8*)param_1[1] = uVar2;
   *(undefined8*)( param_1[1] + 8 ) = uVar3;
   return param_1;
}
void ufbx_quat_fix_antipodal(void) {
   ulong *puVar1;
   double extraout_XMM0_Qa;
   ulong in_stack_00000008;
   ulong in_stack_00000010;
   ulong in_stack_00000018;
   ulong in_stack_00000020;
   puVar1 = (ulong*)ufbx_quat_dot();
   if (extraout_XMM0_Qa < 0.0) {
      in_stack_00000008 = in_stack_00000008 ^ _LC15;
      in_stack_00000010 = in_stack_00000010 ^ _LC15;
      in_stack_00000018 = in_stack_00000018 ^ _LC15;
      in_stack_00000020 = in_stack_00000020 ^ _LC15;
   }

   *puVar1 = in_stack_00000008;
   puVar1[1] = in_stack_00000010;
   puVar1[2] = in_stack_00000018;
   puVar1[3] = in_stack_00000020;
   return;
}
double *ufbx_quat_slerp(double param_1, double *param_2) {
   double dVar1;
   double dVar2;
   double dVar3;
   double in_stack_00000008;
   double in_stack_00000010;
   double in_stack_00000018;
   double in_stack_00000020;
   double in_stack_00000028;
   double in_stack_00000030;
   double in_stack_00000038;
   double in_stack_00000040;
   dVar1 = in_stack_00000008 * in_stack_00000028 + in_stack_00000010 * in_stack_00000030 + in_stack_00000018 * in_stack_00000038 + in_stack_00000020 * in_stack_00000040;
   if (dVar1 < 0.0) {
      dVar1 = (double)( (ulong)dVar1 ^ _LC15 );
      in_stack_00000028 = (double)( (ulong)in_stack_00000028 ^ _LC15 );
      in_stack_00000030 = (double)( (ulong)in_stack_00000030 ^ _LC15 );
      in_stack_00000038 = (double)( (ulong)in_stack_00000038 ^ _LC15 );
      in_stack_00000040 = (double)( (ulong)in_stack_00000040 ^ _LC15 );
   }

   dVar1 = fmax(dVar1, 0.0);
   dVar1 = fmin(dVar1, _LC0);
   dVar1 = acos(dVar1);
   if (_LC248 < dVar1) {
      dVar2 = sin(dVar1);
      dVar2 = _LC0 / dVar2;
      dVar3 = sin(( _LC0 - param_1 ) * dVar1);
      dVar3 = dVar2 * dVar3;
      dVar1 = sin(param_1 * dVar1);
      dVar2 = dVar2 * dVar1;
      in_stack_00000008 = in_stack_00000008 * dVar3 + in_stack_00000028 * dVar2;
      in_stack_00000010 = in_stack_00000010 * dVar3 + in_stack_00000030 * dVar2;
      in_stack_00000018 = in_stack_00000018 * dVar3 + dVar2 * in_stack_00000038;
      in_stack_00000020 = in_stack_00000020 * dVar3 + dVar2 * in_stack_00000040;
      dVar1 = _LC0 / SQRT(in_stack_00000008 * in_stack_00000008 + in_stack_00000010 * in_stack_00000010 + in_stack_00000018 * in_stack_00000018 + in_stack_00000020 * in_stack_00000020);
      in_stack_00000008 = in_stack_00000008 * dVar1;
      in_stack_00000010 = in_stack_00000010 * dVar1;
      in_stack_00000018 = in_stack_00000018 * dVar1;
      in_stack_00000020 = in_stack_00000020 * dVar1;
   }

   *param_2 = in_stack_00000008;
   param_2[1] = in_stack_00000010;
   param_2[2] = in_stack_00000018;
   param_2[3] = in_stack_00000020;
   return param_2;
}
undefined8
ufbxi_bake_postprocess_quat
          (long param_1,long *param_2,undefined1 *param_3,double *param_4,long param_5)

{
  double *pdVar1;
  double *pdVar2;
  double dVar3;
  char cVar4;
  undefined1 uVar5;
  double *pdVar6;
  undefined8 uVar7;
  double *pdVar8;
  double *extraout_RDX;
  double *pdVar9;
  ulong uVar10;
  long lVar11;
  ulong uVar12;
  long lVar13;
  ulong uVar14;
  long in_FS_OFFSET;
  double dVar15;
  double dVar16;
  double dVar17;
  double dVar18;
  double local_e8;
  double dStack_e0;
  double local_d8;
  double dStack_d0;
  double local_c8;
  double local_c0;
  double local_b8;
  double local_b0;
  double local_a8;
  double dStack_a0;
  double local_98;
  double dStack_90;
  double local_88;
  double dStack_80;
  double local_78;
  double dStack_70;
  double local_68;
  double dStack_60;
  double local_58;
  double dStack_50;
  long local_40;
  
  uVar10 = _LC97;
  dVar3 = _LC96;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_5 != 0) {
    dVar15 = *(double *)(param_1 + 0x6f8);
    if (dVar15 != 0.0) {
      dVar18 = (double)*(long *)(*(long *)(param_1 + 0x5e8) + 0x1a8);
      pdVar8 = param_4;
      do {
        dVar16 = *pdVar8 * dVar18 + dVar15;
        dVar17 = (double)((ulong)dVar16 & uVar10);
        if (dVar17 < dVar3) {
          dVar16 = (double)((ulong)((dVar17 + dVar3) - dVar3) | ~uVar10 & (ulong)dVar16);
        }
        pdVar6 = pdVar8 + 6;
        *pdVar8 = dVar16 / dVar18;
        pdVar8 = pdVar6;
      } while (param_4 + param_5 * 6 != pdVar6);
    }
    lVar11 = 0;
    pdVar8 = param_4;
    uVar10 = 0;
    do {
      while( true ) {
        local_78 = *pdVar8;
        dStack_70 = pdVar8[1];
        lVar11 = lVar11 + 1;
        local_68 = pdVar8[2];
        dStack_60 = pdVar8[3];
        local_58 = pdVar8[4];
        dStack_50 = pdVar8[5];
        if ((((ulong)dStack_50 & 3) != 0) &&
           (cVar4 = ufbxi_postprocess_step(param_1,&local_78), cVar4 == '\0')) break;
        pdVar8 = pdVar8 + 6;
        uVar14 = uVar10 + 1;
        pdVar6 = param_4 + uVar10 * 6;
        *pdVar6 = local_78;
        pdVar6[1] = dStack_70;
        pdVar6[2] = local_68;
        pdVar6[3] = dStack_60;
        pdVar6[4] = local_58;
        pdVar6[5] = dStack_50;
        uVar10 = uVar14;
        if (lVar11 == param_5) goto LAB_00131d70;
      }
      pdVar8 = pdVar8 + 6;
    } while (lVar11 != param_5);
LAB_00131d70:
    uVar14 = (ulong)*(byte *)(param_1 + 0x6d8);
    if (uVar10 < 2) {
      uVar5 = 1;
      if (*(byte *)(param_1 + 0x6d8) != 0) {
LAB_00131e10:
        dVar3 = *(double *)(param_1 + 0x6e0);
        lVar11 = *(long *)(param_1 + 0x6e8);
        lVar13 = 0;
        if (lVar11 != 0) {
          do {
            if (1 < uVar10) {
              uVar12 = 2;
              uVar14 = 1;
              pdVar8 = param_4;
              do {
                pdVar9 = pdVar8 + 6;
                pdVar1 = param_4 + uVar14 * 6 + -6;
                pdVar6 = param_4 + uVar14 * 6;
                local_a8 = *pdVar1;
                dStack_a0 = pdVar1[1];
                local_98 = pdVar1[2];
                dStack_90 = pdVar1[3];
                local_88 = pdVar1[4];
                dStack_80 = pdVar1[5];
                dVar15 = pdVar6[1];
                dVar18 = pdVar6[2];
                dVar16 = pdVar6[3];
                dVar17 = pdVar6[4];
                if (uVar14 + 1 < uVar10) {
                  pdVar2 = param_4 + uVar14 * 6 + 6;
                  local_78 = *pdVar2;
                  dStack_70 = pdVar2[1];
                  local_68 = pdVar2[2];
                  dStack_60 = pdVar2[3];
                  local_58 = pdVar2[4];
                  dStack_50 = pdVar2[5];
                  if (*(char *)(param_1 + 0x6d9) == '\0') {
                    dVar15 = ((pdVar2[4] - dVar17) * (pdVar2[4] - dVar17) +
                             (pdVar2[3] - dVar16) * (pdVar2[3] - dVar16) +
                             (pdVar2[2] - dVar18) * (pdVar2[2] - dVar18) +
                             (pdVar2[1] - dVar15) * (pdVar2[1] - dVar15) +
                             (pdVar1[4] - dVar17) * (pdVar1[4] - dVar17) +
                             (pdVar1[3] - dVar16) * (pdVar1[3] - dVar16) +
                             (pdVar1[2] - dVar18) * (pdVar1[2] - dVar18) +
                             (pdVar1[1] - dVar15) * (pdVar1[1] - dVar15) + 0.0) * _LC60;
                  }
                  else {
                    ufbx_quat_slerp((*pdVar6 - *pdVar1) / (*pdVar2 - *pdVar1),&local_c8);
                    dVar15 = (local_b0 - dVar17) * (local_b0 - dVar17) +
                             (local_c8 - dVar15) * (local_c8 - dVar15) + 0.0 +
                             (local_c0 - dVar18) * (local_c0 - dVar18) +
                             (local_b8 - dVar16) * (local_b8 - dVar16);
                  }
                  if (dVar3 * dVar3 < dVar15) goto LAB_00131f0d;
                  dVar15 = pdVar2[1];
                  uVar14 = uVar14 + 2;
                  *pdVar9 = *pdVar2;
                  pdVar8[7] = dVar15;
                  dVar15 = pdVar2[3];
                  pdVar8[8] = pdVar2[2];
                  pdVar8[9] = dVar15;
                  dVar15 = pdVar2[5];
                  pdVar8[10] = pdVar2[4];
                  pdVar8[0xb] = dVar15;
                }
                else {
LAB_00131f0d:
                  dVar15 = pdVar6[1];
                  *pdVar9 = *pdVar6;
                  pdVar8[7] = dVar15;
                  dVar15 = pdVar6[3];
                  pdVar8[8] = pdVar6[2];
                  pdVar8[9] = dVar15;
                  dVar15 = pdVar6[5];
                  pdVar8[10] = pdVar6[4];
                  pdVar8[0xb] = dVar15;
                  uVar14 = uVar14 + 1;
                }
                if (uVar10 <= uVar14) goto LAB_0013216e;
                uVar12 = uVar12 + 1;
                pdVar8 = pdVar9;
              } while( true );
            }
            uVar12 = 1;
LAB_0013216e:
          } while ((uVar12 != uVar10) && (lVar13 = lVar13 + 1, uVar10 = uVar12, lVar13 != lVar11));
        }
        dVar18 = param_4[1];
        dVar3 = param_4[2];
        dVar15 = param_4[3];
        dVar16 = param_4[4];
        if (1 < uVar10) goto LAB_001321ac;
        goto LAB_0013231b;
      }
    }
    else {
      pdVar8 = param_4 + uVar10 * 6;
      do {
        ufbx_quat_fix_antipodal();
        extraout_RDX[-5] = local_e8;
        extraout_RDX[-4] = dStack_e0;
        extraout_RDX[-3] = local_d8;
        extraout_RDX[-2] = dStack_d0;
      } while (pdVar8 != extraout_RDX);
      if ((char)uVar14 != '\0') goto LAB_00131e10;
      dVar18 = param_4[1];
      dVar3 = param_4[2];
      dVar15 = param_4[3];
      dVar16 = param_4[4];
LAB_001321ac:
      param_4 = param_4 + 7;
      uVar14 = 1;
      do {
        if (((dVar18 != *param_4 || dVar3 != param_4[1]) || dVar15 != param_4[2]) ||
           (dVar16 != param_4[1])) {
          uVar5 = 0;
          goto LAB_0013220e;
        }
        uVar14 = uVar14 + 1;
        param_4 = param_4 + 6;
      } while (uVar14 != uVar10);
LAB_0013231b:
      uVar5 = 1;
    }
LAB_0013220e:
    *param_3 = uVar5;
    param_2[1] = uVar10;
    lVar11 = ufbxi_push_size_copy(param_1 + 0x378,0x30,uVar10);
    *param_2 = lVar11;
    if (lVar11 == 0) {
      ufbxi_fail_imp_err_constprop_0(param_1,&_LC88);
      uVar7 = 0;
      goto LAB_0013223c;
    }
  }
  uVar7 = 1;
LAB_0013223c:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar7;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



double * ufbx_evaluate_baked_quat(double param_1,double *param_2,double *param_3,ulong param_4)

{
  double dVar1;
  long lVar2;
  double dVar3;
  double *pdVar4;
  uint uVar5;
  ulong uVar6;
  ulong uVar7;
  double *pdVar8;
  ulong uVar9;
  long in_FS_OFFSET;
  double dVar10;
  
  uVar9 = 0;
  lVar2 = *(long *)(in_FS_OFFSET + 0x28);
  uVar6 = param_4;
  while (uVar7 = uVar6, 7 < uVar7 - uVar9) {
    uVar6 = uVar7 + uVar9 >> 1;
    if (param_3[((uVar7 + uVar9 & 0xfffffffffffffffe) + uVar6) * 2] <= param_1) {
      uVar9 = uVar6 + 1;
      uVar6 = uVar7;
    }
  }
  if (uVar9 < param_4) {
    pdVar4 = param_3 + uVar9 * 6;
    do {
      dVar10 = *pdVar4;
      if (param_1 < dVar10) {
        if (uVar9 == 0) {
          dVar10 = pdVar4[2];
          dVar1 = pdVar4[3];
          dVar3 = pdVar4[4];
          *param_2 = pdVar4[1];
          param_2[1] = dVar10;
          param_2[2] = dVar1;
          param_2[3] = dVar3;
          goto LAB_001324be;
        }
        pdVar8 = pdVar4 + -6;
        if (param_3 < pdVar8) {
          if (param_1 == pdVar4[-0xc]) {
            pdVar8 = pdVar4 + -0xc;
          }
          else {
            dVar1 = pdVar4[-6];
            if (param_1 != dVar1) {
              uVar5 = *(uint *)(pdVar4 + -1);
              dVar10 = (param_1 - dVar1) / (dVar10 - dVar1);
              if (((uVar5 & 2) != 0) && (param_1 == pdVar4[-0xc])) {
                uVar5 = *(uint *)(pdVar4 + -7);
              }
              goto LAB_00132470;
            }
          }
        }
        else {
          dVar1 = pdVar4[-6];
          if (dVar1 != param_1) {
            uVar5 = *(uint *)(pdVar4 + -1);
            dVar10 = (param_1 - dVar1) / (dVar10 - dVar1);
LAB_00132470:
            if ((uVar5 & 1) != 0) {
              dVar10 = 0.0;
            }
            if (((ulong)pdVar4[5] & 2) != 0) {
              dVar10 = _LC0;
            }
            ufbx_quat_slerp(dVar10,param_2);
            goto LAB_001324be;
          }
        }
        dVar10 = pdVar8[2];
        dVar1 = pdVar8[3];
        dVar3 = pdVar8[4];
        *param_2 = pdVar8[1];
        param_2[1] = dVar10;
        param_2[2] = dVar1;
        param_2[3] = dVar3;
        goto LAB_001324be;
      }
      uVar9 = uVar9 + 1;
      pdVar4 = pdVar4 + 6;
    } while (param_4 != uVar9);
  }
  dVar10 = param_3[param_4 * 6 + -4];
  *param_2 = param_3[param_4 * 6 + -5];
  param_2[1] = dVar10;
  dVar10 = param_3[param_4 * 6 + -2];
  param_2[2] = param_3[param_4 * 6 + -3];
  param_2[3] = dVar10;
LAB_001324be:
  if (lVar2 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



double * ufbx_quat_rotate_vec3(double *param_1)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  double in_stack_00000020;
  double in_stack_00000028;
  double in_stack_00000030;
  double in_stack_00000038;
  
  dVar2 = (double)((ulong)in_stack_00000008 ^ _LC15);
  dVar3 = in_stack_00000008 * in_stack_00000030 - in_stack_00000010 * in_stack_00000028;
  dVar5 = in_stack_00000008 * in_stack_00000038 - in_stack_00000018 * in_stack_00000028;
  dVar4 = in_stack_00000010 * in_stack_00000038 - in_stack_00000018 * in_stack_00000030;
  dVar1 = dVar5 * in_stack_00000018 + dVar4 * in_stack_00000020 + dVar3 * in_stack_00000010;
  *param_1 = dVar1 + dVar1 + in_stack_00000028;
  dVar1 = (dVar2 * dVar5 - dVar4 * in_stack_00000010) + dVar3 * in_stack_00000020;
  dVar2 = (dVar2 * dVar3 - dVar5 * in_stack_00000020) + in_stack_00000018 * dVar4;
  param_1[1] = dVar2 + dVar2 + in_stack_00000030;
  param_1[2] = dVar1 + dVar1 + in_stack_00000038;
  return param_1;
}



void ufbxi_mul_rotate_quat(double *param_1)

{
  undefined8 *extraout_RDX;
  double *extraout_RDX_00;
  undefined8 *puVar1;
  long in_FS_OFFSET;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  double in_stack_00000020;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  double local_38;
  double dStack_30;
  double local_28;
  double dStack_20;
  undefined8 local_10;
  
  puVar1 = &local_58;
  local_10 = *(undefined8 *)(in_FS_OFFSET + 0x28);
  if (((in_stack_00000008 != 0.0 || in_stack_00000010 != 0.0) || in_stack_00000018 != 0.0) ||
     (_LC0 != in_stack_00000020)) {
    if (_LC0 == param_1[6]) {
      param_1[3] = in_stack_00000008;
      param_1[4] = in_stack_00000010;
      param_1[5] = in_stack_00000018;
      param_1[6] = in_stack_00000020;
    }
    else {
      ufbxi_mul_quat(&local_38);
      extraout_RDX_00[3] = local_38;
      extraout_RDX_00[4] = dStack_30;
      extraout_RDX_00[5] = local_28;
      extraout_RDX_00[6] = dStack_20;
      param_1 = extraout_RDX_00;
    }
    puVar1 = &local_58;
    if ((*param_1 != 0.0 || param_1[1] != 0.0) || (param_1[2] != 0.0)) {
      puVar1 = &local_58;
      ufbx_quat_rotate_vec3();
      *extraout_RDX = local_58;
      extraout_RDX[1] = uStack_50;
      extraout_RDX[2] = local_48;
    }
  }
  if (*(long *)((long)puVar1 + 0x48) != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    *(undefined **)((long)puVar1 + -8) = &UNK_0013281f;
    __stack_chk_fail();
  }
  return;
}



double * ufbx_euler_to_quat(double *param_1,undefined4 param_2)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double *pdVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  double local_38;
  double local_30 [2];
  
  sincos(_LC70 * in_stack_00000008,local_30,&local_38);
  dVar3 = local_30[0];
  dVar1 = local_38;
  sincos(_LC70 * in_stack_00000010,local_30,&local_38);
  dVar4 = local_30[0];
  dVar2 = local_38;
  sincos(_LC70 * in_stack_00000018,local_30,&local_38);
  switch(param_2) {
  case 0:
    dVar6 = (double)((ulong)dVar1 ^ _LC15) * dVar4 * local_30[0] + local_38 * dVar2 * dVar3;
    dVar7 = dVar1 * local_38 * dVar4 + dVar3 * dVar2 * local_30[0];
    break;
  case 1:
    pdVar5 = (double *)
             FUN_00132988(dVar4 * dVar1 * local_30[0] + local_38 * dVar2 * dVar3,
                          dVar1 * dVar2 * local_38 - dVar4 * dVar3 * local_30[0]);
    return pdVar5;
  case 2:
    dVar7 = dVar1 * local_38 * dVar4 - dVar3 * dVar2 * local_30[0];
    dVar6 = (double)((ulong)dVar1 ^ _LC15) * dVar4 * local_30[0] + local_38 * dVar2 * dVar3;
    dVar8 = dVar3 * local_38 * dVar4 + dVar2 * dVar1 * local_30[0];
    goto LAB_00132973;
  case 3:
    pdVar5 = (double *)
             FUN_00132988((double)((ulong)dVar1 ^ _LC15) * dVar4 * local_30[0] +
                          local_38 * dVar2 * dVar3,
                          dVar1 * dVar2 * local_38 - dVar4 * dVar3 * local_30[0]);
    return pdVar5;
  case 4:
    dVar6 = dVar1 * dVar4 * local_30[0] + local_38 * dVar2 * dVar3;
    dVar7 = dVar1 * local_38 * dVar4 - dVar3 * dVar2 * local_30[0];
    break;
  case 5:
    pdVar5 = (double *)
             FUN_00132988(dVar1 * dVar4 * local_30[0] + dVar2 * local_38 * dVar3,
                          dVar2 * dVar1 * local_38 - dVar3 * dVar4 * local_30[0]);
    return pdVar5;
  default:
    pdVar5 = (double *)FUN_00132988(0,_LC0);
    return pdVar5;
  }
  dVar8 = dVar2 * dVar1 * local_30[0] - dVar3 * local_38 * dVar4;
LAB_00132973:
  *param_1 = dVar6;
  param_1[1] = dVar7;
  param_1[2] = dVar8;
  param_1[3] = dVar4 * dVar3 * local_30[0] + dVar2 * dVar1 * local_38;
  return param_1;
}



void FUN_00132988(undefined8 param_1,undefined8 param_2)

{
  undefined8 *unaff_RBX;
  undefined8 in_XMM0_Qb;
  undefined8 in_XMM9_Qa;
  
  *unaff_RBX = param_1;
  unaff_RBX[1] = in_XMM0_Qb;
  unaff_RBX[2] = in_XMM9_Qa;
  unaff_RBX[3] = param_2;
  return;
}



void switchD_00132928::caseD_0
               (undefined8 param_1,double param_2,double param_3,double param_4,undefined8 param_5,
               double param_6,double param_7,double param_8)

{
  double *unaff_RBX;
  double in_XMM3_Qb;
  double in_XMM8_Qa;
  double in_XMM9_Qa;
  double in_XMM9_Qb;
  double in_XMM10_Qa;
  double in_XMM10_Qb;
  double in_XMM11_Qa;
  double in_XMM11_Qb;
  
  *unaff_RBX = (double)((ulong)param_2 ^ _LC15) * param_6 * in_XMM10_Qa +
               param_4 * in_XMM9_Qa * in_XMM11_Qa;
  unaff_RBX[1] = param_2 * param_8 * in_XMM10_Qb + in_XMM3_Qb * in_XMM9_Qb * in_XMM11_Qb;
  unaff_RBX[2] = param_3 * param_2 * in_XMM8_Qa - param_7 * param_8 * param_6;
  unaff_RBX[3] = param_6 * param_7 * in_XMM8_Qa + param_3 * param_2 * param_8;
  return;
}



void ufbxi_mul_rotate(double *param_1)

{
  double *pdVar1;
  long in_FS_OFFSET;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  double local_78;
  double dStack_70;
  double local_68;
  double local_58;
  double dStack_50;
  double local_48;
  double dStack_40;
  double local_38;
  double dStack_30;
  double local_28;
  double dStack_20;
  undefined8 local_10;
  
  pdVar1 = &local_78;
  local_10 = *(undefined8 *)(in_FS_OFFSET + 0x28);
  if ((in_stack_00000008 != 0.0 || in_stack_00000010 != 0.0) || (in_stack_00000018 != 0.0)) {
    ufbx_euler_to_quat(&local_38);
    if (_LC0 == param_1[6]) {
      param_1[3] = local_38;
      param_1[4] = dStack_30;
      param_1[5] = local_28;
      param_1[6] = dStack_20;
    }
    else {
      ufbxi_mul_quat(&local_58);
      param_1[3] = local_58;
      param_1[4] = dStack_50;
      param_1[5] = local_48;
      param_1[6] = dStack_40;
    }
    pdVar1 = &local_78;
    if ((*param_1 != 0.0 || param_1[1] != 0.0) || (param_1[2] != 0.0)) {
      pdVar1 = &local_78;
      ufbx_quat_rotate_vec3();
      *param_1 = local_78;
      param_1[1] = dStack_70;
      param_1[2] = local_68;
    }
  }
  if (*(long *)((long)pdVar1 + 0x68) != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    *(undefined **)((long)pdVar1 + -8) = &UNK_00132d37;
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

double * ufbxi_get_geometry_transform(double *param_1,undefined8 param_2,long param_3)

{
  uint uVar1;
  long lVar2;
  ulong uVar3;
  double dVar4;
  long in_FS_OFFSET;
  double local_b8;
  double dStack_b0;
  double local_88 [3];
  undefined1 auStack_70 [16];
  double dStack_60;
  double dStack_58;
  double local_50;
  double dStack_48;
  double local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  lVar2 = ufbxi_find_prop_with_key(param_2,"GeometricTranslation",0x47656f6d);
  if (lVar2 == 0) {
    dVar4 = 0.0;
    local_b8 = 0.0;
    dStack_b0 = 0.0;
  }
  else {
    local_b8 = *(double *)(lVar2 + 0x48);
    dStack_b0 = *(double *)(lVar2 + 0x50);
    dVar4 = *(double *)(lVar2 + 0x58);
  }
  ufbxi_find_prop_with_key(param_2,"GeometricRotation",0x47656f6d);
  lVar2 = ufbxi_find_prop_with_key(param_2,"GeometricScaling",0x47656f6d);
  if (lVar2 == 0) {
    local_88[0] = 0.0;
    local_88[1] = 0.0;
    local_88[2] = 0.0;
    local_40 = _LC0;
    local_50 = _LC0;
    dStack_48 = _LC0;
  }
  else {
    local_88[0] = *(double *)(lVar2 + 0x48) * 0.0;
    local_88[1] = *(double *)(lVar2 + 0x50) * 0.0;
    local_88[2] = *(double *)(lVar2 + 0x58) * 0.0;
    local_40 = *(double *)(lVar2 + 0x58);
    local_50 = *(double *)(lVar2 + 0x48);
    dStack_48 = *(double *)(lVar2 + 0x50);
  }
  auStack_70 = (undefined1  [16])0x0;
  dStack_60 = __LC266;
  dStack_58 = _UNK_0014eb58;
  ufbxi_mul_rotate(local_88,0);
  local_88[0] = local_b8 + local_88[0];
  local_88[1] = dStack_b0 + local_88[1];
  local_88[2] = dVar4 + local_88[2];
  if (*(char *)(param_3 + 0x443) != '\0') {
    dVar4 = *(double *)(param_3 + 0x418);
    local_88[2] = dVar4 * local_88[2];
    local_88[0] = local_88[0] * dVar4;
    local_88[1] = local_88[1] * dVar4;
  }
  uVar1 = *(uint *)(param_3 + 0x420);
  if (uVar1 != 0) {
    local_88[uVar1 - 1] = (double)((ulong)local_88[uVar1 - 1] ^ _LC15);
    *(ulong *)(auStack_70 + (ulong)(uVar1 % 3) * 8) =
         *(ulong *)(auStack_70 + (ulong)(uVar1 % 3) * 8) ^ _LC15;
    uVar3 = (ulong)((uVar1 + 1) % 3);
    *(ulong *)(auStack_70 + uVar3 * 8) = *(ulong *)(auStack_70 + uVar3 * 8) ^ _LC15;
  }
  *param_1 = local_88[0];
  param_1[1] = local_88[1];
  param_1[2] = local_88[2];
  param_1[3] = (double)auStack_70._0_8_;
  param_1[4] = (double)auStack_70._8_8_;
  param_1[5] = dStack_60;
  param_1[6] = dStack_58;
  param_1[7] = local_50;
  param_1[8] = dStack_48;
  param_1[9] = local_40;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

double * ufbxi_get_texture_transform(double *param_1,undefined8 param_2)

{
  double dVar1;
  long lVar2;
  long in_FS_OFFSET;
  undefined8 extraout_XMM0_Qa;
  ulong extraout_XMM0_Qa_00;
  double extraout_XMM0_Qb;
  double extraout_XMM1_Qa;
  double extraout_XMM1_Qa_00;
  undefined8 uVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double local_100;
  double local_f8;
  double dStack_f0;
  double local_e8;
  double dStack_e0;
  double local_d8;
  double local_78;
  double dStack_70;
  double local_68;
  undefined1 auStack_60 [16];
  double dStack_50;
  double dStack_48;
  double local_40;
  double dStack_38;
  double local_30;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  lVar2 = ufbxi_find_prop_with_key(param_2,"TextureScalingPivot",0x54657874);
  if (lVar2 == 0) {
    dVar6 = 0.0;
    dVar7 = 0.0;
    uVar3 = 0;
  }
  else {
    dVar6 = *(double *)(lVar2 + 0x48);
    dVar7 = *(double *)(lVar2 + 0x50);
    uVar3 = *(undefined8 *)(lVar2 + 0x58);
  }
  lVar2 = ufbxi_find_prop_with_key(extraout_XMM0_Qa,uVar3,param_2,"TextureRotationPivot",0x54657874)
  ;
  if (lVar2 == 0) {
    local_100 = 0.0;
    local_f8 = 0.0;
    dStack_f0 = 0.0;
  }
  else {
    local_f8 = *(double *)(lVar2 + 0x48);
    dStack_f0 = *(double *)(lVar2 + 0x50);
    local_100 = *(double *)(lVar2 + 0x58);
  }
  lVar2 = ufbxi_find_prop_with_key(param_2,"Translation",0x5472616e);
  if (lVar2 == 0) {
    local_d8 = 0.0;
    local_e8 = 0.0;
    dStack_e0 = 0.0;
  }
  else {
    local_e8 = *(double *)(lVar2 + 0x48);
    dStack_e0 = *(double *)(lVar2 + 0x50);
    local_d8 = *(double *)(lVar2 + 0x58);
  }
  ufbxi_find_prop_with_key(param_2,"Rotation",0x526f7461);
  lVar2 = ufbxi_find_prop_with_key(param_2,"Scaling",0x5363616c);
  dVar1 = _LC0;
  dVar4 = _LC0;
  dVar5 = _LC0;
  if (lVar2 != 0) {
    dVar1 = *(double *)(lVar2 + 0x58);
    dVar4 = *(double *)(lVar2 + 0x48);
    dVar5 = *(double *)(lVar2 + 0x50);
  }
  auStack_60 = (undefined1  [16])0x0;
  dStack_50 = __LC266;
  dStack_48 = _UNK_0014eb58;
  local_78 = ((0.0 - dVar6) * dVar4 + dVar6) - local_f8;
  dStack_70 = ((0.0 - dVar7) * dVar5 + dVar7) - dStack_f0;
  local_68 = ((0.0 - extraout_XMM1_Qa) * dVar1 + extraout_XMM1_Qa) - local_100;
  local_40 = dVar4;
  dStack_38 = dVar5;
  local_30 = dVar1;
  ufbxi_mul_rotate(&local_78,0);
  local_78 = local_f8 + local_78 + local_e8;
  dStack_70 = dStack_f0 + dStack_70 + dStack_e0;
  local_68 = local_100 + local_68 + local_d8;
  lVar2 = ufbxi_find_prop_with_key(param_2,"UVSwap",0x55565377);
  if ((lVar2 != 0) && (*(long *)(lVar2 + 0x40) != 0)) {
    dStack_70 = extraout_XMM0_Qb * 0.0;
    local_68 = extraout_XMM1_Qa_00 * 0.0;
    local_30 = dVar1 * 0.0;
    local_78 = (double)(extraout_XMM0_Qa_00 ^ _LC15);
    dStack_38 = dVar5 * 0.0;
    local_40 = (double)((ulong)dVar4 ^ _LC15);
    ufbxi_mul_rotate(&local_78,0);
  }
  *param_1 = local_78;
  param_1[1] = dStack_70;
  param_1[2] = local_68;
  param_1[3] = (double)auStack_60._0_8_;
  param_1[4] = (double)auStack_60._8_8_;
  param_1[5] = dStack_50;
  param_1[6] = dStack_48;
  param_1[7] = local_40;
  param_1[8] = dStack_38;
  param_1[9] = local_30;
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

double * ufbxi_get_constraint_transform(double *param_1,undefined8 param_2)

{
  long lVar1;
  double dVar2;
  long in_FS_OFFSET;
  double local_c8;
  double dStack_c0;
  double local_78;
  double dStack_70;
  double local_68;
  undefined1 auStack_60 [16];
  double local_50;
  double dStack_48;
  double local_40;
  double dStack_38;
  double local_30;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  lVar1 = ufbxi_find_prop_with_key(param_2,"Translation",0x5472616e);
  if (lVar1 == 0) {
    dVar2 = 0.0;
    local_c8 = 0.0;
    dStack_c0 = 0.0;
  }
  else {
    local_c8 = *(double *)(lVar1 + 0x48);
    dStack_c0 = *(double *)(lVar1 + 0x50);
    dVar2 = *(double *)(lVar1 + 0x58);
  }
  ufbxi_find_prop_with_key(param_2,"Rotation",0x526f7461);
  ufbxi_find_prop_with_key(param_2,"RotationOffset",0x526f7461);
  lVar1 = ufbxi_find_prop_with_key(param_2,"Scaling",0x5363616c);
  if (lVar1 == 0) {
    local_78 = 0.0;
    dStack_70 = 0.0;
    local_68 = 0.0;
    local_30 = _LC0;
    local_40 = _LC0;
    dStack_38 = _LC0;
  }
  else {
    local_78 = *(double *)(lVar1 + 0x48) * 0.0;
    dStack_70 = *(double *)(lVar1 + 0x50) * 0.0;
    local_68 = *(double *)(lVar1 + 0x58) * 0.0;
    local_30 = *(double *)(lVar1 + 0x58);
    local_40 = *(double *)(lVar1 + 0x48);
    dStack_38 = *(double *)(lVar1 + 0x50);
  }
  auStack_60 = (undefined1  [16])0x0;
  local_50 = __LC266;
  dStack_48 = _UNK_0014eb58;
  ufbxi_mul_rotate(&local_78,0);
  ufbxi_mul_rotate(&local_78,0);
  local_68 = dVar2 + local_68;
  local_78 = local_c8 + local_78;
  dStack_70 = dStack_c0 + dStack_70;
  param_1[2] = local_68;
  param_1[3] = (double)auStack_60._0_8_;
  *param_1 = local_78;
  param_1[1] = dStack_70;
  param_1[4] = (double)auStack_60._8_8_;
  param_1[5] = local_50;
  param_1[6] = dStack_48;
  param_1[7] = local_40;
  param_1[8] = dStack_38;
  param_1[9] = local_30;
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void ufbxi_update_constraint(long param_1)

{
  long lVar1;
  undefined8 *puVar2;
  int iVar3;
  undefined8 uVar4;
  long lVar5;
  undefined8 *puVar6;
  ulong uVar7;
  undefined8 uVar8;
  char *pcVar9;
  undefined8 in_R8;
  undefined8 in_R9;
  undefined8 *puVar10;
  undefined8 *puVar11;
  long in_FS_OFFSET;
  double dVar12;
  double dVar13;
  double dVar14;
  undefined1 local_108 [16];
  undefined8 local_e8;
  undefined8 local_d8;
  undefined8 uStack_d0;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined1 local_88 [16];
  undefined8 local_78;
  undefined8 local_68;
  undefined8 uStack_60;
  char *local_58;
  undefined8 local_50;
  long local_40;
  
  lVar1 = param_1 + 0x10;
  iVar3 = *(int *)(param_1 + 0x80);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  ufbxi_get_constraint_transform(&local_d8,lVar1);
  *(undefined8 *)(param_1 + 200) = local_d8;
  *(undefined8 *)(param_1 + 0xd0) = uStack_d0;
  *(undefined8 *)(param_1 + 0xd8) = local_c8;
  *(undefined8 *)(param_1 + 0xe0) = uStack_c0;
  *(undefined8 *)(param_1 + 0xe8) = local_b8;
  *(undefined8 *)(param_1 + 0xf0) = uStack_b0;
  *(undefined8 *)(param_1 + 0xf8) = local_a8;
  *(undefined8 *)(param_1 + 0x100) = uStack_a0;
  *(undefined8 *)(param_1 + 0x108) = local_98;
  *(undefined8 *)(param_1 + 0x110) = uStack_90;
  lVar5 = ufbxi_find_prop_with_key(lVar1,"Weight",0x57656967);
  dVar12 = _LC0;
  if (lVar5 != 0) {
    dVar12 = *(double *)(lVar5 + 0x48) / _LC9;
  }
  puVar10 = *(undefined8 **)(param_1 + 0xa0);
  *(double *)(param_1 + 0xb0) = dVar12;
  puVar2 = puVar10 + *(long *)(param_1 + 0xa8) * 0xc;
  for (; puVar10 != puVar2; puVar10 = puVar10 + 0xc) {
    while (puVar6 = (undefined8 *)*puVar10, puVar11 = puVar10, iVar3 == 6) {
      while( true ) {
        local_68 = *puVar6;
        uStack_60 = puVar6[1];
        local_58 = ".Weight";
        local_50 = 7;
        lVar5 = ufbx_find_prop_concat(lVar1,&local_68,2);
        if (lVar5 != 0) break;
        puVar10 = puVar11 + 0xc;
        puVar11[1] = _LC0;
        if (puVar2 == puVar10) goto LAB_001337ad;
        puVar6 = (undefined8 *)*puVar10;
        puVar11 = puVar10;
      }
      puVar10 = puVar11 + 0xc;
      puVar11[1] = *(undefined8 *)(lVar5 + 0x48);
      if (puVar2 == puVar10) goto LAB_001337ad;
    }
    while( true ) {
      local_68 = *puVar6;
      uStack_60 = puVar6[1];
      local_58 = ".Weight";
      local_50 = 7;
      lVar5 = ufbx_find_prop_concat(lVar1,&local_68,2);
      dVar12 = _LC0;
      if (lVar5 != 0) {
        dVar12 = *(double *)(lVar5 + 0x48) / _LC9;
      }
      puVar10[1] = dVar12;
      if (iVar3 != 2) break;
      local_58 = ".Offset T";
      local_50 = 9;
      lVar5 = ufbx_find_prop_concat(lVar1,&local_68,2);
      if (lVar5 == 0) {
        local_e8 = 0;
        local_108 = (undefined1  [16])0x0;
      }
      else {
        local_108 = *(undefined1 (*) [16])(lVar5 + 0x48);
        local_e8 = *(undefined8 *)(lVar5 + 0x58);
      }
      local_58 = ".Offset R";
      lVar5 = ufbx_find_prop_concat(lVar1,&local_68,2);
      if (lVar5 == 0) {
        local_78 = 0;
        local_88 = (undefined1  [16])0x0;
      }
      else {
        local_88 = *(undefined1 (*) [16])(lVar5 + 0x48);
        local_78 = *(undefined8 *)(lVar5 + 0x58);
      }
      local_58 = ".Offset S";
      lVar5 = ufbx_find_prop_concat(lVar1,&local_68,2);
      dVar12 = _LC0;
      dVar14 = _LC0;
      dVar13 = _LC0;
      if (lVar5 != 0) {
        dVar12 = *(double *)(lVar5 + 0x48);
        dVar14 = *(double *)(lVar5 + 0x50);
        dVar13 = *(double *)(lVar5 + 0x58);
      }
      puVar11 = puVar10 + 0xc;
      puVar10[2] = local_108._0_8_;
      puVar10[3] = local_108._8_8_;
      puVar10[4] = local_e8;
      ufbx_euler_to_quat(puVar10 + 5,0);
      puVar10[9] = dVar12;
      puVar10[10] = dVar14;
      puVar10[0xb] = dVar13;
      if (puVar2 == puVar11) goto LAB_001337ad;
      puVar6 = (undefined8 *)*puVar11;
      puVar10 = puVar11;
    }
  }
LAB_001337ad:
  lVar5 = ufbx_find_int_len(lVar1,"Active",6,1);
  *(bool *)(param_1 + 0xb8) = lVar5 != 0;
  switch(iVar3) {
  case 1:
    ufbxi_find_bool3(param_1 + 0xbc,lVar1,"Affect",1);
    uVar7 = ufbx_find_int_len(lVar1,"WorldUpType",0xb,0);
    if (uVar7 < 4) {
      *(int *)(param_1 + 0x130) = (int)uVar7;
    }
    local_78 = 0;
    local_88._8_8_ = 0;
    local_88._0_8_ = _LC0;
    ufbx_find_vec3_len(&local_68,lVar1,"AimVector",9,in_R8,in_R9,_LC0,_UNK_0014eb48,0);
    local_88._8_8_ = _UNK_0014eb58;
    local_88._0_8_ = __LC266;
    local_78 = 0;
    *(char **)(param_1 + 0x128) = local_58;
    uVar4 = _UNK_0014eb58;
    uVar8 = __LC266;
    *(undefined8 *)(param_1 + 0x118) = local_68;
    *(undefined8 *)(param_1 + 0x120) = uStack_60;
    ufbx_find_vec3_len(&local_68,lVar1,"UpVector",8,in_R8,in_R9,uVar8,uVar4,0);
    *(char **)(param_1 + 0x150) = local_58;
    *(undefined8 *)(param_1 + 0x140) = local_68;
    *(undefined8 *)(param_1 + 0x148) = uStack_60;
    break;
  case 2:
    ufbxi_find_bool3(param_1 + 0xb9,lVar1,"AffectTranslation",1);
    ufbxi_find_bool3(param_1 + 0xbc,lVar1,"AffectRotation",1);
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      param_1 = param_1 + 0xbf;
      uVar8 = 0;
      pcVar9 = "AffectScale";
      goto LAB_00133bf5;
    }
    goto LAB_00133c7c;
  case 3:
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) goto LAB_00133c7c;
    param_1 = param_1 + 0xb9;
    goto LAB_00133c2a;
  case 4:
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) goto LAB_00133c7c;
    param_1 = param_1 + 0xbc;
    goto LAB_00133c2a;
  case 5:
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) goto LAB_00133c7c;
    param_1 = param_1 + 0xbf;
LAB_00133c2a:
    uVar8 = 1;
    pcVar9 = "Affect";
LAB_00133bf5:
    ufbxi_find_bool3(param_1,lVar1,pcVar9,uVar8);
    return;
  case 6:
    *(undefined1 *)(param_1 + 0xbe) = 1;
    *(undefined2 *)(param_1 + 0xbc) = 0x101;
    local_88._8_8_ = ufbx_zero_vec3._8_8_;
    local_88._0_8_ = ufbx_zero_vec3._0_8_;
    local_78 = ufbx_zero_vec3._16_8_;
    ufbx_find_vec3_len(&local_68,lVar1,"PoleVectorType",0xe,in_R8,in_R9,ufbx_zero_vec3._0_8_,
                       ufbx_zero_vec3._8_8_,ufbx_zero_vec3._16_8_);
    *(char **)(param_1 + 0x178) = local_58;
    *(undefined8 *)(param_1 + 0x168) = local_68;
    *(undefined8 *)(param_1 + 0x170) = uStack_60;
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_00133c7c:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbxi_mul_inv_rotate_constprop_0(double *param_1)

{
  double *pdVar1;
  long in_FS_OFFSET;
  double dVar2;
  double dVar3;
  double dVar4;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  double local_78;
  double dStack_70;
  double local_68;
  double local_58;
  double dStack_50;
  double local_48;
  double dStack_40;
  double local_38;
  double dStack_30;
  double local_28;
  double dStack_20;
  undefined8 local_10;
  
  pdVar1 = &local_78;
  local_10 = *(undefined8 *)(in_FS_OFFSET + 0x28);
  if ((in_stack_00000008 != 0.0 || in_stack_00000010 != 0.0) || (in_stack_00000018 != 0.0)) {
    ufbx_euler_to_quat(&local_38,0);
    dVar2 = (double)((ulong)local_28 ^ _LC15);
    dVar3 = (double)(_LC15 ^ (ulong)local_38);
    dVar4 = (double)(_LC15 ^ (ulong)dStack_30);
    local_28 = dVar2;
    if (_LC0 == param_1[6]) {
      param_1[3] = dVar3;
      param_1[4] = dVar4;
      param_1[5] = dVar2;
      param_1[6] = dStack_20;
    }
    else {
      local_38 = dVar3;
      dStack_30 = dVar4;
      ufbxi_mul_quat(&local_58);
      param_1[3] = local_58;
      param_1[4] = dStack_50;
      param_1[5] = local_48;
      param_1[6] = dStack_40;
    }
    pdVar1 = &local_78;
    if ((*param_1 != 0.0 || param_1[1] != 0.0) || (param_1[2] != 0.0)) {
      pdVar1 = &local_78;
      local_38 = dVar3;
      dStack_30 = dVar4;
      local_28 = dVar2;
      ufbx_quat_rotate_vec3();
      *param_1 = local_78;
      param_1[1] = dStack_70;
      param_1[2] = local_68;
    }
  }
  if (*(long *)((long)pdVar1 + 0x68) != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    *(undefined **)((long)pdVar1 + -8) = &UNK_00133e8f;
    __stack_chk_fail();
  }
  return;
}



undefined8 *
ufbxi_get_rotation(undefined8 *param_1,undefined8 param_2,undefined4 param_3,long param_4)

{
  uint uVar1;
  undefined1 auVar2 [16];
  ulong uVar3;
  long in_FS_OFFSET;
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  double local_58;
  double dStack_50;
  double local_48;
  double dStack_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  ufbxi_find_prop_with_key(param_2,"Lcl Rotation",0x4c636c20);
  ufbxi_find_prop_with_key(param_2,"PreRotation",0x50726552);
  ufbxi_find_prop_with_key(param_2,"PostRotation",0x506f7374);
  local_88 = (undefined1  [16])0x0;
  local_78 = (undefined1  [16])0x0;
  local_68 = (undefined1  [16])0x0;
  local_58 = _LC0;
  dStack_50 = _LC0;
  local_48 = _LC0;
  dStack_40 = _LC0;
  if (*(char *)(param_4 + 0x443) == '\0') {
    ufbxi_mul_inv_rotate_constprop_0(local_88);
    ufbxi_mul_rotate(local_88,param_3);
    ufbxi_mul_rotate(local_88,0);
  }
  else {
    if (((*(double *)(param_4 + 0x3f0) != 0.0 || *(double *)(param_4 + 0x3f8) != 0.0) ||
         *(double *)(param_4 + 0x400) != 0.0) || (_LC0 != *(double *)(param_4 + 0x408))) {
      local_68 = *(undefined1 (*) [16])(param_4 + 0x3f8);
      local_58 = *(double *)(param_4 + 0x408);
      auVar2._8_8_ = 0;
      auVar2._0_8_ = *(ulong *)(param_4 + 0x3f0);
      local_78 = auVar2 << 0x40;
    }
    ufbxi_mul_inv_rotate_constprop_0(local_88);
    ufbxi_mul_rotate(local_88,param_3);
    ufbxi_mul_rotate(local_88,0);
    ufbxi_mul_rotate_quat(local_88);
  }
  uVar1 = *(uint *)(param_4 + 0x420);
  if (uVar1 != 0) {
    *(ulong *)(local_78 + (ulong)(uVar1 % 3) * 8 + 8) =
         *(ulong *)(local_78 + (ulong)(uVar1 % 3) * 8 + 8) ^ _LC15;
    uVar3 = (ulong)((uVar1 + 1) % 3);
    *(ulong *)(local_78 + uVar3 * 8 + 8) = *(ulong *)(local_78 + uVar3 * 8 + 8) ^ _LC15;
  }
  param_1[2] = local_68._8_8_;
  param_1[3] = local_58;
  *param_1 = local_78._8_8_;
  param_1[1] = local_68._0_8_;
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



double * ufbxi_get_transform(double *param_1,undefined8 param_2,undefined4 param_3,long param_4,
                            double *param_5)

{
  char cVar1;
  uint uVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  double dVar5;
  double extraout_XMM1_Qa;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double local_148;
  double dStack_140;
  double local_138;
  double local_130;
  double local_128;
  double dStack_120;
  double local_118;
  double dStack_110;
  double local_108;
  double local_100;
  double local_f8;
  double dStack_f0;
  double local_88 [3];
  ulong uStack_70;
  undefined1 local_68 [16];
  double local_58;
  double dStack_50;
  double local_48;
  double dStack_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  lVar3 = ufbxi_find_prop_with_key(param_2,"ScalingPivot",0x5363616c);
  if (lVar3 == 0) {
    dVar8 = 0.0;
    dVar9 = 0.0;
    dVar6 = 0.0;
  }
  else {
    dVar8 = *(double *)(lVar3 + 0x48);
    dVar9 = *(double *)(lVar3 + 0x50);
    dVar6 = *(double *)(lVar3 + 0x58);
  }
  lVar3 = ufbxi_find_prop_with_key(param_2,"RotationPivot",0x526f7461);
  if (lVar3 == 0) {
    local_130 = 0.0;
    local_128 = 0.0;
    dStack_120 = 0.0;
  }
  else {
    local_128 = *(double *)(lVar3 + 0x48);
    dStack_120 = *(double *)(lVar3 + 0x50);
    local_130 = *(double *)(lVar3 + 0x58);
  }
  lVar3 = ufbxi_find_prop_with_key(param_2,"ScalingOffset",0x5363616c);
  if (lVar3 == 0) {
    dVar13 = 0.0;
    dVar14 = 0.0;
    dVar12 = 0.0;
  }
  else {
    dVar13 = *(double *)(lVar3 + 0x48);
    dVar14 = *(double *)(lVar3 + 0x50);
    dVar12 = *(double *)(lVar3 + 0x58);
  }
  lVar3 = ufbxi_find_prop_with_key(param_2,"RotationOffset",0x526f7461);
  if (lVar3 == 0) {
    local_100 = 0.0;
    local_f8 = 0.0;
    dStack_f0 = 0.0;
  }
  else {
    local_f8 = *(double *)(lVar3 + 0x48);
    dStack_f0 = *(double *)(lVar3 + 0x50);
    local_100 = *(double *)(lVar3 + 0x58);
  }
  lVar3 = ufbxi_find_prop_with_key(param_2,"Lcl Translation",0x4c636c20);
  if (lVar3 == 0) {
    local_138 = 0.0;
    local_148 = 0.0;
    dStack_140 = 0.0;
  }
  else {
    local_148 = *(double *)(lVar3 + 0x48);
    dStack_140 = *(double *)(lVar3 + 0x50);
    local_138 = *(double *)(lVar3 + 0x58);
  }
  ufbxi_find_prop_with_key(param_2,"Lcl Rotation",0x4c636c20);
  lVar3 = ufbxi_find_prop_with_key(param_2,"Lcl Scaling",0x4c636c20);
  dVar7 = _LC0;
  dVar10 = _LC0;
  dVar11 = _LC0;
  if (lVar3 != 0) {
    dVar7 = *(double *)(lVar3 + 0x58);
    dVar10 = *(double *)(lVar3 + 0x48);
    dVar11 = *(double *)(lVar3 + 0x50);
  }
  ufbxi_find_prop_with_key(param_2,"PreRotation",0x50726552);
  ufbxi_find_prop_with_key(param_2,"PostRotation",0x506f7374);
  uStack_70 = 0;
  uVar4 = uStack_70;
  uStack_70 = 0;
  local_68 = (undefined1  [16])0x0;
  if (param_5 != (double *)0x0) {
    local_138 = local_138 * param_5[2];
    local_148 = *param_5 * local_148;
    dStack_140 = param_5[1] * dStack_140;
  }
  cVar1 = *(char *)(param_4 + 0x443);
  local_58 = extraout_XMM1_Qa;
  if (cVar1 == '\0') {
    dVar5 = 0.0;
    local_118 = dVar10;
    dStack_110 = dVar11;
    local_108 = dVar7;
  }
  else {
    if (((*(double *)(param_4 + 0x3f0) != 0.0 || *(double *)(param_4 + 0x3f8) != 0.0) ||
         *(double *)(param_4 + 0x400) != 0.0) ||
       (uStack_70 = uVar4, _LC0 != *(double *)(param_4 + 0x408))) {
      uStack_70 = *(undefined8 *)(param_4 + 0x3f0);
      local_68 = *(undefined1 (*) [16])(param_4 + 0x3f8);
      local_58 = *(double *)(param_4 + 0x408);
    }
    local_108 = *(double *)(param_4 + 0x410);
    local_118 = local_108 * dVar10;
    dStack_110 = local_108 * dVar11;
    dVar5 = local_108 * 0.0;
    local_108 = local_108 * dVar7;
  }
  dStack_50 = local_118;
  local_48 = dStack_110;
  dStack_40 = local_108;
  local_88[2] = ((dVar5 - dVar6) * dVar7 + dVar6 + dVar12) - local_130;
  local_88[0] = ((dVar5 - dVar8) * dVar10 + dVar8 + dVar13) - local_128;
  local_88[1] = ((dVar5 - dVar9) * dVar11 + dVar9 + dVar14) - dStack_120;
  ufbxi_mul_inv_rotate_constprop_0(local_88);
  ufbxi_mul_rotate(local_88,param_3);
  ufbxi_mul_rotate(local_88,0);
  local_88[0] = local_128 + local_88[0] + local_f8 + local_148;
  local_88[1] = dStack_120 + local_88[1] + dStack_f0 + dStack_140;
  local_88[2] = local_130 + local_88[2] + local_100 + local_138;
  if (cVar1 != '\0') {
    local_88[2] = local_88[2] + *(double *)(param_4 + 0x3c0);
    local_88[0] = local_88[0] + *(double *)(param_4 + 0x3b0);
    local_88[1] = local_88[1] + *(double *)(param_4 + 0x3b8);
    ufbxi_mul_rotate_quat(local_88);
    dVar8 = *(double *)(param_4 + 1000);
    dStack_50 = dVar8 * local_118;
    local_48 = dVar8 * dStack_110;
    dVar6 = *(double *)(param_4 + 0x418);
    dStack_40 = *(double *)(param_4 + 1000) * local_108;
    local_88[2] = dVar6 * local_88[2] * *(double *)(param_4 + 1000);
    local_88[0] = dVar6 * local_88[0] * dVar8;
    local_88[1] = dVar6 * local_88[1] * dVar8;
  }
  uVar2 = *(uint *)(param_4 + 0x420);
  if (uVar2 != 0) {
    local_88[uVar2 - 1] = (double)((ulong)local_88[uVar2 - 1] ^ _LC15);
    *(ulong *)(local_68 + (ulong)(uVar2 % 3) * 8 + -8) =
         *(ulong *)(local_68 + (ulong)(uVar2 % 3) * 8 + -8) ^ _LC15;
    uVar4 = (ulong)((uVar2 + 1) % 3);
    *(ulong *)(local_68 + uVar4 * 8 + -8) = *(ulong *)(local_68 + uVar4 * 8 + -8) ^ _LC15;
  }
  *param_1 = local_88[0];
  param_1[1] = local_88[1];
  param_1[2] = local_88[2];
  param_1[3] = (double)uStack_70;
  param_1[4] = (double)local_68._0_8_;
  param_1[5] = (double)local_68._8_8_;
  param_1[6] = local_58;
  param_1[7] = dStack_50;
  param_1[8] = local_48;
  param_1[9] = dStack_40;
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

double * ufbx_quat_to_euler(double *param_1,undefined4 param_2)

{
  double *pdVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  double in_stack_00000020;
  double local_58;
  
  switch(param_2) {
  case 0:
    dVar2 = in_stack_00000010 * in_stack_00000020 - in_stack_00000008 * in_stack_00000018;
    dVar2 = dVar2 + dVar2;
    if (_LC267 <= (double)((ulong)dVar2 & _LC97)) {
      dVar3 = (double)(_LC15 & (ulong)dVar2 | __LC269);
      dVar2 = atan2(_LC268 * dVar2 *
                    (in_stack_00000020 * in_stack_00000008 - in_stack_00000018 * in_stack_00000010),
                    ((in_stack_00000020 + in_stack_00000020) * in_stack_00000010 +
                    (in_stack_00000008 + in_stack_00000008) * in_stack_00000018) * dVar2);
      pdVar1 = (double *)FUN_00134a89(dVar3 * _LC71,0,dVar2 * _LC71);
      return pdVar1;
    }
    dVar2 = asin(dVar2);
    dVar4 = in_stack_00000008 * in_stack_00000008 + in_stack_00000020 * in_stack_00000020;
    dVar3 = in_stack_00000018 * in_stack_00000020 + in_stack_00000008 * in_stack_00000010;
    dVar3 = atan2(dVar3 + dVar3,(dVar4 + dVar4) - _LC0);
    dVar4 = in_stack_00000018 * in_stack_00000018 + in_stack_00000020 * in_stack_00000020;
    dVar4 = atan2((in_stack_00000020 * in_stack_00000008 + in_stack_00000018 * in_stack_00000010) *
                  _LC268,(dVar4 + dVar4) - _LC0);
    pdVar1 = (double *)
             FUN_00134a89(dVar2 * _LC71,(double)((ulong)dVar4 ^ _LC15) * _LC71,_LC71 * dVar3);
    return pdVar1;
  case 1:
    dVar2 = in_stack_00000018 * in_stack_00000020 + in_stack_00000008 * in_stack_00000010;
    dVar2 = dVar2 + dVar2;
    if (_LC267 <= (double)((ulong)dVar2 & _LC97)) {
      dVar3 = (double)(_LC15 & (ulong)dVar2 | __LC269);
      dVar2 = atan2((dVar2 + dVar2) *
                    (in_stack_00000020 * in_stack_00000008 + in_stack_00000018 * in_stack_00000010),
                    ((in_stack_00000008 + in_stack_00000008) * in_stack_00000010 -
                    (in_stack_00000020 + in_stack_00000020) * in_stack_00000018) *
                    (double)(_LC15 ^ (ulong)dVar2));
      pdVar1 = (double *)FUN_00134a89(dVar2 * _LC71,0,dVar3 * _LC71);
      return pdVar1;
    }
    dVar2 = asin(dVar2);
    dVar4 = in_stack_00000008 * in_stack_00000008 + in_stack_00000020 * in_stack_00000020;
    dVar3 = in_stack_00000010 * in_stack_00000020 - in_stack_00000008 * in_stack_00000018;
    dVar3 = atan2(dVar3 + dVar3,(dVar4 + dVar4) - _LC0);
    dVar4 = in_stack_00000010 * in_stack_00000010 + in_stack_00000020 * in_stack_00000020;
    dVar4 = atan2((in_stack_00000008 * in_stack_00000020 - in_stack_00000018 * in_stack_00000010) *
                  _LC268,(dVar4 + dVar4) - _LC0);
    pdVar1 = (double *)
             FUN_00134a89(dVar3 * _LC71,(double)((ulong)dVar4 ^ _LC15) * _LC71,_LC71 * dVar2);
    return pdVar1;
  case 2:
    dVar2 = in_stack_00000018 * in_stack_00000020 - in_stack_00000008 * in_stack_00000010;
    dVar2 = dVar2 + dVar2;
    if (_LC267 <= (double)((ulong)dVar2 & _LC97)) {
      dVar3 = (double)(_LC15 & (ulong)dVar2 | __LC269);
      dVar2 = atan2(_LC268 * dVar2 *
                    (in_stack_00000020 * in_stack_00000010 - in_stack_00000018 * in_stack_00000008),
                    dVar2 * ((in_stack_00000020 + in_stack_00000020) * in_stack_00000018 +
                            (in_stack_00000008 + in_stack_00000008) * in_stack_00000010));
      pdVar1 = (double *)FUN_00134a89(0,dVar2 * _LC71,dVar3 * _LC71);
      return pdVar1;
    }
    local_58 = asin(dVar2);
    dVar3 = in_stack_00000010 * in_stack_00000010 + in_stack_00000020 * in_stack_00000020;
    dVar2 = in_stack_00000008 * in_stack_00000020 + in_stack_00000010 * in_stack_00000018;
    dVar3 = atan2(dVar2 + dVar2,(dVar3 + dVar3) - _LC0);
    dVar2 = in_stack_00000008 * in_stack_00000008 + in_stack_00000020 * in_stack_00000020;
    dVar2 = atan2((in_stack_00000020 * in_stack_00000010 + in_stack_00000018 * in_stack_00000008) *
                  _LC268,(dVar2 + dVar2) - _LC0);
    break;
  case 3:
    dVar2 = in_stack_00000008 * in_stack_00000020 + in_stack_00000010 * in_stack_00000018;
    dVar2 = dVar2 + dVar2;
    if (_LC267 <= (double)((ulong)dVar2 & _LC97)) {
      dVar3 = (double)(_LC15 & (ulong)dVar2 | __LC269);
      dVar2 = atan2((dVar2 + dVar2) *
                    (in_stack_00000020 * in_stack_00000010 + in_stack_00000018 * in_stack_00000008),
                    ((in_stack_00000010 + in_stack_00000010) * in_stack_00000018 -
                    (in_stack_00000020 + in_stack_00000020) * in_stack_00000008) *
                    (double)(_LC15 ^ (ulong)dVar2));
      pdVar1 = (double *)FUN_00134a89(0,dVar3 * _LC71,_LC71 * dVar2);
      return pdVar1;
    }
    dVar3 = asin(dVar2);
    dVar4 = in_stack_00000010 * in_stack_00000010 + in_stack_00000020 * in_stack_00000020;
    dVar2 = in_stack_00000018 * in_stack_00000020 - in_stack_00000008 * in_stack_00000010;
    local_58 = atan2(dVar2 + dVar2,(dVar4 + dVar4) - _LC0);
    dVar2 = in_stack_00000018 * in_stack_00000018 + in_stack_00000020 * in_stack_00000020;
    dVar2 = atan2((in_stack_00000010 * in_stack_00000020 - in_stack_00000018 * in_stack_00000008) *
                  _LC268,(dVar2 + dVar2) - _LC0);
    break;
  case 4:
    dVar2 = in_stack_00000008 * in_stack_00000020 - in_stack_00000010 * in_stack_00000018;
    dVar2 = dVar2 + dVar2;
    if (_LC267 <= (double)((ulong)dVar2 & _LC97)) {
      dVar3 = (double)(_LC15 & (ulong)dVar2 | __LC269);
      dVar2 = atan2((in_stack_00000020 * in_stack_00000018 - in_stack_00000010 * in_stack_00000008)
                    * _LC268 * dVar2,
                    dVar2 * ((in_stack_00000020 + in_stack_00000020) * in_stack_00000008 +
                            (in_stack_00000010 + in_stack_00000010) * in_stack_00000018));
      pdVar1 = (double *)FUN_00134a89(dVar2 * _LC71,dVar3 * _LC71,0);
      return pdVar1;
    }
    dVar2 = asin(dVar2);
    dVar4 = in_stack_00000018 * in_stack_00000018 + in_stack_00000020 * in_stack_00000020;
    dVar3 = in_stack_00000010 * in_stack_00000020 + in_stack_00000008 * in_stack_00000018;
    dVar3 = atan2(dVar3 + dVar3,(dVar4 + dVar4) - _LC0);
    dVar4 = in_stack_00000010 * in_stack_00000010 + in_stack_00000020 * in_stack_00000020;
    dVar4 = atan2((in_stack_00000020 * in_stack_00000018 + in_stack_00000010 * in_stack_00000008) *
                  _LC268,(dVar4 + dVar4) - _LC0);
    dVar2 = dVar2 * _LC71;
    dVar3 = dVar3 * _LC71;
    param_1[2] = (double)((ulong)dVar4 ^ _LC15) * _LC71;
    *param_1 = dVar2;
    param_1[1] = dVar3;
    return param_1;
  case 5:
    dVar2 = in_stack_00000010 * in_stack_00000020 + in_stack_00000008 * in_stack_00000018;
    dVar2 = dVar2 + dVar2;
    if (_LC267 <= (double)((ulong)dVar2 & _LC97)) {
      dVar3 = (double)(_LC15 & (ulong)dVar2 | __LC269);
      dVar2 = atan2((dVar2 + dVar2) *
                    (in_stack_00000018 * in_stack_00000020 + in_stack_00000008 * in_stack_00000010),
                    ((in_stack_00000008 + in_stack_00000008) * in_stack_00000018 -
                    (in_stack_00000020 + in_stack_00000020) * in_stack_00000010) *
                    (double)(_LC15 ^ (ulong)dVar2));
      pdVar1 = (double *)FUN_00134a89(_LC71 * dVar3,dVar2 * _LC71,0);
      return pdVar1;
    }
    dVar2 = asin(dVar2);
    dVar4 = in_stack_00000018 * in_stack_00000018 + in_stack_00000020 * in_stack_00000020;
    dVar3 = in_stack_00000008 * in_stack_00000020 - in_stack_00000010 * in_stack_00000018;
    dVar3 = atan2(dVar3 + dVar3,(dVar4 + dVar4) - _LC0);
    dVar4 = in_stack_00000008 * in_stack_00000008 + in_stack_00000020 * in_stack_00000020;
    dVar4 = atan2((in_stack_00000018 * in_stack_00000020 - in_stack_00000010 * in_stack_00000008) *
                  _LC268,(dVar4 + dVar4) - _LC0);
    pdVar1 = (double *)
             FUN_00134a89(dVar2 * _LC71,dVar3 * _LC71,(double)((ulong)dVar4 ^ _LC15) * _LC71);
    return pdVar1;
  default:
    pdVar1 = (double *)FUN_00134a89(0,0);
    return pdVar1;
  }
  pdVar1 = (double *)
           FUN_00134a89((double)((ulong)dVar2 ^ _LC15) * _LC71,dVar3 * _LC71,_LC71 * local_58);
  return pdVar1;
}



void FUN_00134a89(undefined8 param_1,undefined8 param_2,undefined8 param_3)

{
  undefined8 *unaff_RBX;
  
  unaff_RBX[2] = param_3;
  *unaff_RBX = param_2;
  unaff_RBX[1] = param_1;
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void switchD_0013492d::caseD_0
               (undefined8 param_1,undefined8 param_2,double param_3,undefined8 param_4,
               double param_5,double param_6,double param_7)

{
  ulong uVar1;
  double dVar2;
  ulong uVar3;
  double dVar4;
  double dVar5;
  
  dVar5 = param_6 * param_3 - param_7 * param_5;
  dVar5 = dVar5 + dVar5;
  if ((double)((ulong)dVar5 & _LC97) < _LC267) {
    dVar5 = asin(dVar5);
    dVar4 = param_7 * param_7 + param_3 * param_3;
    dVar2 = param_5 * param_3 + param_7 * param_6;
    dVar2 = atan2(dVar2 + dVar2,(dVar4 + dVar4) - _LC0);
    dVar4 = param_5 * param_5 + param_3 * param_3;
    dVar4 = atan2((param_3 * param_7 + param_5 * param_6) * _LC268,(dVar4 + dVar4) - _LC0);
    FUN_00134a89(dVar5 * _LC71,(double)((ulong)dVar4 ^ _LC15) * _LC71,_LC71 * dVar2);
    return;
  }
  uVar3 = _LC15 & (ulong)dVar5;
  uVar1 = SUB168(__LC269,0);
  dVar5 = atan2(_LC268 * dVar5 * (param_3 * param_7 - param_5 * param_6),
                ((param_3 + param_3) * param_6 + (param_7 + param_7) * param_5) * dVar5);
  FUN_00134a89((double)(uVar3 | uVar1) * _LC71,0,dVar5 * _LC71);
  return;
}



void ufbxi_combine_anim_layer
               (double param_1,undefined8 *param_2,long param_3,char *param_4,double *param_5,
               double *param_6)

{
  char cVar1;
  char cVar2;
  undefined4 uVar3;
  long in_FS_OFFSET;
  double dVar4;
  double dVar5;
  double dVar6;
  undefined1 *local_138;
  undefined8 local_108;
  undefined8 uStack_100;
  undefined8 local_f8;
  undefined8 uStack_f0;
  undefined1 local_e8 [32];
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined1 local_a8 [64];
  ulong local_68;
  long local_40;
  
  cVar1 = *(char *)(param_3 + 0x8b);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (cVar1 == '\0') {
    if (*(char *)(param_3 + 0x8a) == '\0') {
      if (*(char *)(param_3 + 0x89) == '\0') {
LAB_001355f8:
        dVar4 = param_6[1];
        *param_5 = *param_6;
        param_5[1] = dVar4;
        param_5[2] = param_6[2];
        goto LAB_001354ca;
      }
LAB_00135581:
      dVar4 = _LC0 - param_1;
      if ((*(char *)(param_3 + 0x8c) != '\0') && (param_4 == "Lcl Scaling")) {
        dVar5 = (double)ufbxi_pow_abs(*param_5,dVar4);
        dVar6 = (double)ufbxi_pow_abs(*param_6,param_1);
        *param_5 = dVar6 * dVar5;
        dVar5 = (double)ufbxi_pow_abs(param_5[1],dVar4);
        dVar6 = (double)ufbxi_pow_abs(param_6[1],param_1);
        param_5[1] = dVar6 * dVar5;
        dVar4 = (double)ufbxi_pow_abs(param_5[2],dVar4);
        dVar5 = (double)ufbxi_pow_abs(param_6[2],param_1);
        param_5[2] = dVar5 * dVar4;
        goto LAB_001354ca;
      }
LAB_001355b5:
      if ((param_4 == "Lcl Rotation") && (cVar1 != '\0')) {
        uVar3 = *(undefined4 *)(param_2 + 3);
        ufbx_euler_to_quat(local_e8,uVar3);
        ufbx_euler_to_quat(&local_c8,uVar3);
        ufbx_quat_slerp(param_1,local_a8);
        ufbx_quat_to_euler(param_5,uVar3);
      }
      else {
        dVar5 = param_6[1];
        *param_5 = *param_6 * param_1 + *param_5 * dVar4;
        param_5[1] = dVar5 * param_1 + param_5[1] * dVar4;
        param_5[2] = dVar4 * param_5[2] + param_1 * param_6[2];
      }
      goto LAB_001354ca;
    }
    if ((*(char *)(param_3 + 0x8c) != '\0') && (param_4 == "Lcl Scaling")) {
LAB_00135620:
      dVar4 = (double)ufbxi_pow_abs(*param_6);
      *param_5 = dVar4 * *param_5;
      dVar4 = (double)ufbxi_pow_abs(param_6[1],param_1);
      param_5[1] = dVar4 * param_5[1];
      dVar4 = (double)ufbxi_pow_abs(param_6[2],param_1);
      param_5[2] = dVar4 * param_5[2];
      goto LAB_001354ca;
    }
LAB_001354a6:
    dVar4 = param_6[1];
    *param_5 = *param_6 * param_1 + *param_5;
    param_5[1] = dVar4 * param_1 + param_5[1];
    param_5[2] = param_1 * param_6[2] + param_5[2];
  }
  else {
    if (*(char *)(param_3 + 0x89) == '\0') {
      if (*(char *)(param_3 + 0x8a) == '\0') goto LAB_001355f8;
      if (*(char *)(param_3 + 0x8c) != '\0') goto LAB_0013553e;
LAB_0013554e:
      if (param_4 != "Lcl Rotation") goto LAB_001354a6;
LAB_0013556a:
      uVar3 = *(undefined4 *)(param_2 + 3);
    }
    else {
      if (param_4 != "Lcl Rotation") {
        if (*(char *)(param_3 + 0x8a) == '\0') goto LAB_00135581;
        if (*(char *)(param_3 + 0x8c) == '\0') goto LAB_001354a6;
LAB_0013553e:
        if (param_4 == "Lcl Scaling") goto LAB_00135620;
        goto LAB_0013554e;
      }
      if (*(char *)((long)param_2 + 0x1c) != '\0') {
        if (*(char *)(param_3 + 0x8a) == '\0') {
LAB_001357d0:
          dVar4 = _LC0 - param_1;
          goto LAB_001355b5;
        }
        if (*(char *)(param_3 + 0x8c) == '\0') {
          uVar3 = *(undefined4 *)(param_2 + 3);
          goto LAB_001356b6;
        }
        goto LAB_0013556a;
      }
      ufbx_evaluate_prop_len(param_2[2],local_a8,*param_2,param_2[1],"RotationOrder",0xd);
      *(undefined1 *)((long)param_2 + 0x1c) = 1;
      if (6 < local_68) {
        local_68 = 0;
      }
      cVar2 = *(char *)(param_3 + 0x8a);
      uVar3 = (undefined4)local_68;
      *(undefined4 *)(param_2 + 3) = uVar3;
      if (cVar2 == '\0') goto LAB_001357d0;
      if (*(char *)(param_3 + 0x8c) != '\0') goto LAB_0013556a;
    }
LAB_001356b6:
    local_138 = local_a8;
    ufbx_euler_to_quat(local_e8,uVar3);
    ufbx_euler_to_quat(&local_c8,uVar3);
    ufbx_quat_slerp(param_1,&local_108);
    local_c8 = local_108;
    uStack_c0 = uStack_100;
    local_b8 = local_f8;
    uStack_b0 = uStack_f0;
    ufbxi_mul_quat(local_138,uVar3);
    ufbx_quat_to_euler(param_5);
  }
LAB_001354ca:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void ufbxi_evaluate_props(undefined8 param_1,long param_2,long param_3,long param_4,long param_5)

{
  double dVar1;
  uint uVar2;
  long lVar3;
  undefined8 uVar4;
  double dVar5;
  ulong uVar6;
  int iVar7;
  long *plVar8;
  long lVar9;
  long *plVar10;
  long lVar11;
  long lVar12;
  undefined8 uVar13;
  char *__s2;
  undefined8 *puVar14;
  long lVar15;
  char *__s1;
  long in_FS_OFFSET;
  undefined8 extraout_XMM1_Qa;
  long local_78;
  long local_70;
  undefined8 local_68;
  undefined8 local_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  long local_40;
  
  lVar3 = *(long *)(param_2 + 0x18);
  uVar2 = *(uint *)(param_3 + 0x30);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_60 = 0;
  local_78 = param_2;
  local_70 = param_3;
  local_68 = param_1;
  if (lVar3 != 0) {
    lVar11 = 0;
    lVar9 = *(long *)(param_2 + 0x10);
    do {
      lVar12 = *(long *)(lVar9 + lVar11 * 8);
      if ((uVar2 - *(int *)(lVar12 + 0xb8) <=
           (uint)(*(int *)(lVar12 + 0xbc) - *(int *)(lVar12 + 0xb8))) &&
         ((1 << ((byte)uVar2 & 0x1f) & *(uint *)(lVar12 + 0xc0 + (ulong)(uVar2 >> 5 & 3) * 4)) != 0)
         ) {
        uVar13 = *(undefined8 *)(lVar12 + 0xa0);
        uVar4 = *(undefined8 *)(lVar12 + 0xa8);
        if ((*(char *)(lVar12 + 0x88) != '\0') &&
           ((*(char *)(lVar12 + 0x89) != '\0' &&
            (lVar15 = ufbxi_find_anim_prop_start_isra_0(uVar13,uVar4,lVar12), lVar15 != 0)))) {
          ufbx_evaluate_anim_value_real(param_1,*(undefined8 *)(lVar15 + 0x20),uVar4);
        }
        plVar8 = (long *)ufbxi_find_anim_prop_start_isra_0(uVar13,uVar4,param_3);
        if ((plVar8 != (long *)0x0) && (param_5 != 0)) {
          lVar15 = 0;
          puVar14 = (undefined8 *)(param_4 + 0x48);
          do {
            while (((*(uint *)(puVar14 + -6) & 0x20000) != 0 ||
                   (((*(uint *)(puVar14 + -6) & 0x8000) != 0 && (*(char *)(param_2 + 0x50) == '\0'))
                   ))) {
LAB_00135ba8:
              lVar15 = lVar15 + 1;
              puVar14 = puVar14 + 0xd;
              if (param_5 == lVar15) goto LAB_00135c6a;
            }
            if (param_3 != *plVar8) {
              __s2 = (char *)puVar14[-9];
              if (__s2 == (char *)plVar8[2]) goto LAB_00135c07;
              goto LAB_00135ba8;
            }
            do {
              plVar10 = plVar8;
              if (*(uint *)(puVar14 + -7) <= *(uint *)(plVar8 + 1)) break;
              plVar8 = plVar8 + 5;
              plVar10 = plVar8;
            } while (*plVar8 == param_3);
            __s1 = (char *)plVar10[2];
            __s2 = (char *)puVar14[-9];
            plVar8 = plVar10;
            if (__s1 != __s2) {
              if (param_3 == *plVar10) {
                do {
                  iVar7 = strcmp(__s1,__s2);
                  plVar8 = plVar10;
                  if (-1 < iVar7) break;
                  plVar8 = plVar10 + 5;
                  __s1 = (char *)plVar10[7];
                  plVar10 = plVar8;
                } while (*plVar8 == param_3);
                if (__s2 == __s1) goto LAB_00135c07;
              }
              goto LAB_00135ba8;
            }
LAB_00135c07:
            ufbx_evaluate_anim_value_vec3(param_1,&local_58,plVar8[4]);
            if (lVar11 != 0) {
              ufbxi_combine_anim_layer(extraout_XMM1_Qa,&local_78,lVar12,__s2,puVar14,&local_58);
              goto LAB_00135ba8;
            }
            lVar15 = lVar15 + 1;
            puVar14[2] = local_48;
            *puVar14 = local_58;
            puVar14[1] = uStack_50;
            puVar14 = puVar14 + 0xd;
          } while (param_5 != lVar15);
        }
      }
LAB_00135c6a:
      lVar11 = lVar11 + 1;
    } while (lVar3 != lVar11);
  }
  uVar6 = _LC97;
  dVar5 = _LC24;
  lVar3 = param_4 + param_5 * 0x68;
  if (param_4 != lVar3) {
    do {
      if ((*(byte *)(param_4 + 0x1a) & 2) == 0) {
        dVar1 = *(double *)(param_4 + 0x48);
        if ((double)((ulong)dVar1 & uVar6) <= dVar5) {
          lVar9 = (long)dVar1;
        }
        else {
          lVar9 = -0x8000000000000000;
          if (0.0 <= dVar1) {
            lVar9 = 0x7fffffffffffffff;
          }
        }
        *(long *)(param_4 + 0x40) = lVar9;
      }
      param_4 = param_4 + 0x68;
    } while (lVar3 != param_4);
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



undefined8 *
ufbx_evaluate_prop_len
          (undefined8 param_1,undefined8 *param_2,long param_3,long param_4,uint *param_5,
          ulong param_6)

{
  uint uVar1;
  undefined8 *puVar2;
  long lVar3;
  ulong uVar4;
  long in_FS_OFFSET;
  byte bVar5;
  uint *local_a8;
  ulong uStack_a0;
  uint local_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  undefined1 *local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  long local_40;
  
  bVar5 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  puVar2 = (undefined8 *)ufbx_find_prop_len(param_4 + 0x10,param_5,param_6);
  if (puVar2 == (undefined8 *)0x0) {
    uStack_94 = 0;
    local_48 = 0;
    puVar2 = (undefined8 *)&uStack_90;
    for (lVar3 = 10; lVar3 != 0; lVar3 = lVar3 + -1) {
      *puVar2 = 0;
      puVar2 = puVar2 + (ulong)bVar5 * -2 + 1;
    }
    if (param_6 < 4) {
      uVar4 = 0;
      local_98 = 0;
      do {
        for (; local_98 = local_98 << 8, uVar4 < param_6; uVar4 = uVar4 + 1) {
          local_98 = local_98 | *(byte *)((long)param_5 + uVar4);
        }
        uVar4 = uVar4 + 1;
      } while (uVar4 != 4);
    }
    else {
      uVar1 = *param_5;
      local_98 = uVar1 >> 0x18 | (uVar1 & 0xff0000) >> 8 | (uVar1 & 0xff00) << 8 | uVar1 << 0x18;
    }
    lVar3 = *(long *)(param_3 + 0x38);
    uStack_90 = 0x4000;
    local_88 = &ufbxi_empty_char;
    local_a8 = param_5;
    uStack_a0 = param_6;
    if (lVar3 == 0) goto LAB_00135f1d;
  }
  else {
    local_a8 = (uint *)*puVar2;
    uStack_a0 = puVar2[1];
    local_88 = (undefined1 *)puVar2[4];
    uStack_80 = puVar2[5];
    local_78 = puVar2[6];
    uStack_70 = puVar2[7];
    local_68 = puVar2[8];
    uStack_60 = puVar2[9];
    local_58 = puVar2[10];
    uStack_50 = puVar2[0xb];
    local_48 = puVar2[0xc];
    lVar3 = *(long *)(param_3 + 0x38);
    uVar4 = puVar2[3];
    local_98 = (uint)puVar2[2];
    uStack_94 = (undefined4)((ulong)puVar2[2] >> 0x20);
    uStack_90 = (undefined4)uVar4;
    uStack_8c = (undefined4)(uVar4 >> 0x20);
    if (lVar3 == 0) {
      if ((uVar4 & 0xa000) != 0) {
        if (((*(byte *)((long)puVar2 + 0x19) & 0x80) != 0) && (*(char *)(param_3 + 0x50) == '\0')) {
          ufbxi_evaluate_connected_prop_isra_0
                    (param_1,&local_a8,param_3,*(undefined8 *)(param_4 + 0x60),
                     *(undefined8 *)(param_4 + 0x68),*puVar2);
        }
        ufbxi_evaluate_props(param_1,param_3,param_4,&local_a8,1);
      }
      goto LAB_00135f1d;
    }
  }
  ufbxi_find_prop_override_isra_0
            (*(undefined8 *)(param_3 + 0x30),lVar3,*(undefined4 *)(param_4 + 0x30),&local_a8);
LAB_00135f1d:
  param_2[0xc] = local_48;
  *param_2 = local_a8;
  param_2[1] = uStack_a0;
  param_2[2] = CONCAT44(uStack_94,local_98);
  param_2[3] = CONCAT44(uStack_8c,uStack_90);
  param_2[4] = local_88;
  param_2[5] = uStack_80;
  param_2[6] = local_78;
  param_2[7] = uStack_70;
  param_2[8] = local_68;
  param_2[9] = uStack_60;
  param_2[10] = local_58;
  param_2[0xb] = uStack_50;
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8
ufbxi_bake_anim_prop(long param_1,undefined8 param_2,char *param_3,long param_4,long param_5)

{
  double __x;
  uint uVar1;
  int iVar2;
  double *pdVar3;
  size_t sVar4;
  long *plVar5;
  undefined8 uVar6;
  long lVar7;
  double *pdVar8;
  double *pdVar9;
  long in_FS_OFFSET;
  double dVar10;
  double *local_b8;
  long local_b0;
  undefined1 local_a8 [72];
  double local_60;
  double dStack_58;
  double local_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar7 = param_4 + param_5 * 0x18;
  if (param_4 != lVar7) {
    do {
      iVar2 = ufbxi_bake_times(param_1,*(undefined8 *)(param_4 + 0x10),0,8);
      if (iVar2 == 0) goto LAB_001360d8;
      param_4 = param_4 + 0x18;
    } while (lVar7 != param_4);
  }
  iVar2 = ufbxi_finalize_bake_times(param_1,&local_b8);
  if (iVar2 != 0) {
    pdVar3 = (double *)ufbxi_push_size(param_1 + 0x3f8,0x28,local_b0);
    if (pdVar3 != (double *)0x0) {
      sVar4 = strlen(param_3);
      if (local_b0 != 0) {
        lVar7 = 0;
        pdVar8 = pdVar3;
        pdVar9 = local_b8;
        do {
          __x = *pdVar9;
          uVar1 = *(uint *)(pdVar9 + 1);
          dVar10 = __x;
          if ((uVar1 & 3) != 0) {
            dVar10 = _LC275;
            if ((uVar1 & 1) != 0) {
              dVar10 = _LC76;
            }
            dVar10 = nextafter(__x,dVar10);
          }
          lVar7 = lVar7 + 1;
          pdVar9 = pdVar9 + 2;
          ufbx_evaluate_prop_len
                    (dVar10,local_a8,*(undefined8 *)(param_1 + 0x5f0),param_2,param_3,sVar4);
          *(uint *)(pdVar8 + 4) = uVar1;
          *pdVar8 = __x;
          pdVar8[1] = local_60;
          pdVar8[2] = dStack_58;
          pdVar8[3] = local_50;
          pdVar8 = pdVar8 + 5;
        } while (local_b0 != lVar7);
      }
      plVar5 = (long *)ufbxi_push_size_zero(param_1 + 0x538,0x28,1);
      if (plVar5 != (long *)0x0) {
        sVar4 = strlen(param_3);
        plVar5[1] = sVar4;
        lVar7 = ufbxi_push_size_copy(param_1 + 0x378,1,sVar4 + 1,param_3);
        *plVar5 = lVar7;
        if ((lVar7 != 0) &&
           (iVar2 = ufbxi_bake_postprocess_vec3(param_1,plVar5 + 3,plVar5 + 2,pdVar3,local_b0),
           iVar2 != 0)) {
          ufbxi_buf_clear(param_1 + 0x3f8);
          uVar6 = 1;
          goto LAB_001360e9;
        }
      }
    }
  }
LAB_001360d8:
  ufbxi_fail_imp_err_constprop_0(param_1,&_LC88);
  uVar6 = 0;
LAB_001360e9:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar6;
}



void ufbxi_evaluate_connected_prop_isra_0
               (undefined8 param_1,long param_2,undefined8 param_3,undefined8 param_4,
               undefined8 param_5,undefined8 param_6)

{
  long *plVar1;
  long *plVar2;
  long lVar3;
  long lVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  long lVar7;
  long in_FS_OFFSET;
  undefined1 local_a8 [32];
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 local_60;
  undefined8 uStack_58;
  undefined8 local_50;
  undefined8 uStack_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  plVar1 = (long *)ufbxi_find_prop_connection_isra_0(param_4,param_5,param_6);
  if (plVar1 != (long *)0x0) {
    lVar3 = 1000;
    do {
      lVar7 = *plVar1;
      lVar4 = plVar1[2];
      uVar6 = *(undefined8 *)(lVar7 + 0x60);
      uVar5 = *(undefined8 *)(lVar7 + 0x68);
      plVar2 = (long *)ufbxi_find_prop_connection_isra_0(uVar6,uVar5,lVar4);
      if (plVar2 == (long *)0x0) goto LAB_0013634b;
      lVar3 = lVar3 + -1;
      plVar1 = plVar2;
    } while (lVar3 != 0);
    lVar7 = *plVar2;
    lVar4 = plVar2[2];
    uVar6 = *(undefined8 *)(lVar7 + 0x60);
    uVar5 = *(undefined8 *)(lVar7 + 0x68);
LAB_0013634b:
    lVar3 = ufbxi_find_prop_connection_isra_0(uVar6,uVar5,lVar4);
    if (lVar3 == 0) {
      ufbx_evaluate_prop_len(param_1,local_a8,param_3,lVar7,lVar4,plVar1[3]);
      *(undefined8 *)(param_2 + 0x48) = local_60;
      *(undefined8 *)(param_2 + 0x50) = uStack_58;
      *(undefined8 *)(param_2 + 0x40) = local_68;
      *(undefined8 *)(param_2 + 0x58) = local_50;
      *(undefined8 *)(param_2 + 0x60) = uStack_48;
      *(undefined8 *)(param_2 + 0x20) = local_88;
      *(undefined8 *)(param_2 + 0x28) = uStack_80;
      *(undefined8 *)(param_2 + 0x30) = local_78;
      *(undefined8 *)(param_2 + 0x38) = uStack_70;
      goto LAB_0013636a;
    }
  }
  *(uint *)(param_2 + 0x18) = *(uint *)(param_2 + 0x18) & 0xffff7fff;
LAB_0013636a:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 *
ufbx_evaluate_props(undefined8 param_1,undefined8 *param_2,long param_3,long param_4,
                   undefined8 *param_5,long param_6)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  long lVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  long lVar6;
  long lVar7;
  long in_FS_OFFSET;
  bool bVar8;
  undefined8 *local_e0;
  undefined8 *local_c8;
  undefined8 *puStack_c0;
  undefined1 local_b8 [16];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4 == 0) {
    local_e0 = (undefined8 *)0x0;
    lVar6 = 0;
    lVar7 = 0;
  }
  else {
    local_c8 = *(undefined8 **)(param_4 + 0x10);
    puStack_c0 = local_c8 + *(long *)(param_4 + 0x18) * 0xd;
    local_b8._0_8_ = 0;
    local_b8 = (undefined1  [16])0x0;
    lVar7 = 0;
    if (*(long *)(param_3 + 0x38) != 0) {
      ufbxi_init_prop_iter_slow_constprop_0(&local_c8,param_3,param_4);
      lVar7 = local_b8._8_8_;
    }
    lVar6 = 0;
    lVar3 = local_b8._0_8_;
    puVar5 = param_5;
LAB_001364ab:
    if (lVar7 != lVar3) goto LAB_00136550;
    while ((local_c8 != puStack_c0 &&
           (puVar1 = local_c8 + 0xd, bVar8 = local_c8 != (undefined8 *)0x0, puVar4 = local_c8,
           local_c8 = puVar1, bVar8))) {
      while( true ) {
        if ((*(uint *)(puVar4 + 3) & 0x2a000) == 0) {
          lVar3 = local_b8._0_8_;
          goto LAB_001364ab;
        }
        if (lVar6 == param_6) goto LAB_00136568;
        uVar2 = puVar4[1];
        lVar6 = lVar6 + 1;
        *puVar5 = *puVar4;
        puVar5[1] = uVar2;
        uVar2 = puVar4[3];
        puVar5[2] = puVar4[2];
        puVar5[3] = uVar2;
        uVar2 = puVar4[5];
        puVar5[4] = puVar4[4];
        puVar5[5] = uVar2;
        uVar2 = puVar4[7];
        puVar5[6] = puVar4[6];
        puVar5[7] = uVar2;
        uVar2 = puVar4[9];
        puVar5[8] = puVar4[8];
        puVar5[9] = uVar2;
        uVar2 = puVar4[0xb];
        puVar5[10] = puVar4[10];
        puVar5[0xb] = uVar2;
        puVar5[0xc] = puVar4[0xc];
        if (((*(byte *)((long)puVar4 + 0x19) & 0x80) != 0) && (*(char *)(param_3 + 0x50) == '\0')) {
          ufbxi_evaluate_connected_prop_isra_0
                    (param_1,puVar5,param_3,*(undefined8 *)(param_4 + 0x60),
                     *(undefined8 *)(param_4 + 0x68),*puVar4);
        }
        puVar5 = puVar5 + 0xd;
        if (lVar7 == local_b8._0_8_) break;
LAB_00136550:
        puVar4 = (undefined8 *)ufbxi_next_prop_slow(&local_c8);
        if (puVar4 == (undefined8 *)0x0) goto LAB_00136568;
      }
    }
LAB_00136568:
    lVar7 = param_4 + 0x10;
    ufbxi_evaluate_props(param_1,param_3,param_4,param_5,lVar6);
    local_e0 = param_5;
  }
  param_2[1] = lVar6;
  param_2[2] = lVar6;
  *param_2 = local_e0;
  param_2[3] = lVar7;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_2;
}



long * ufbxi_evaluate_selected_props
                 (undefined8 param_1,long *param_2,long param_3,long param_4,long param_5,
                 undefined8 *param_6,ulong param_7)

{
  undefined8 *puVar1;
  byte bVar2;
  uint *__s2;
  undefined8 uVar3;
  long lVar4;
  int iVar5;
  undefined8 *puVar6;
  uint uVar7;
  ulong uVar8;
  uint uVar9;
  long lVar10;
  ulong uVar11;
  uint *__s1;
  long in_FS_OFFSET;
  long local_100;
  undefined8 *local_c8;
  undefined8 *puStack_c0;
  undefined1 local_b8 [16];
  long local_40;
  
  uVar9 = 0;
  __s1 = (uint *)*param_6;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if ((byte)*__s1 != 0) {
    uVar9 = (uint)(byte)*__s1 << 0x18;
    if ((*(byte *)((long)__s1 + 1) != 0) &&
       (uVar9 = uVar9 | (uint)*(byte *)((long)__s1 + 1) << 0x10, *(byte *)((long)__s1 + 2) != 0)) {
      uVar9 = *__s1;
      uVar9 = uVar9 >> 0x18 | (uVar9 & 0xff0000) >> 8 | (uVar9 & 0xff00) << 8 | uVar9 << 0x18;
    }
  }
  local_c8 = *(undefined8 **)(param_4 + 0x10);
  puStack_c0 = local_c8 + *(long *)(param_4 + 0x18) * 0xd;
  local_b8._0_8_ = 0;
  local_b8 = (undefined1  [16])0x0;
  lVar10 = 0;
  if (*(long *)(param_3 + 0x38) != 0) {
    ufbxi_init_prop_iter_slow_constprop_0(&local_c8,param_3,param_4);
    lVar10 = local_b8._8_8_;
  }
  uVar11 = 0;
  local_100 = 0;
  uVar8 = (ulong)uVar9;
  if (lVar10 != local_b8._0_8_) goto LAB_001367e0;
LAB_00136730:
  if (local_c8 == puStack_c0) {
LAB_00136800:
    ufbxi_evaluate_props(param_1,param_3,param_4,param_5);
    *param_2 = param_5;
    param_2[1] = local_100;
    param_2[2] = local_100;
    param_2[3] = param_4 + 0x10;
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      return param_2;
    }
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  puVar1 = local_c8 + 0xd;
  lVar4 = local_100;
  puVar6 = local_c8;
  do {
    local_c8 = puVar1;
    local_100 = lVar4;
    if (puVar6 == (undefined8 *)0x0) goto LAB_00136800;
    if (uVar11 < param_7) {
      uVar9 = *(uint *)(puVar6 + 2);
      while ((uint)uVar8 <= uVar9) {
        while( true ) {
          __s2 = (uint *)*puVar6;
          do {
            if (__s2 == __s1) {
              if (((*(uint *)(puVar6 + 3) & 0x8000) == 0) || (*(char *)(param_3 + 0x50) != '\0')) {
                if ((*(uint *)(puVar6 + 3) & 0x22000) == 0) goto LAB_001367d0;
                uVar3 = puVar6[1];
                puVar1 = (undefined8 *)(param_5 + lVar4 * 0x68);
                *puVar1 = *puVar6;
                puVar1[1] = uVar3;
                uVar3 = puVar6[3];
                puVar1[2] = puVar6[2];
                puVar1[3] = uVar3;
                uVar3 = puVar6[5];
                puVar1[4] = puVar6[4];
                puVar1[5] = uVar3;
                uVar3 = puVar6[7];
                puVar1[6] = puVar6[6];
                puVar1[7] = uVar3;
                uVar3 = puVar6[9];
                puVar1[8] = puVar6[8];
                puVar1[9] = uVar3;
                uVar3 = puVar6[0xb];
                puVar1[10] = puVar6[10];
                puVar1[0xb] = uVar3;
                puVar1[0xc] = puVar6[0xc];
                local_100 = lVar4 + 1;
              }
              else {
                uVar3 = puVar6[1];
                local_100 = lVar4 + 1;
                puVar1 = (undefined8 *)(param_5 + lVar4 * 0x68);
                *puVar1 = *puVar6;
                puVar1[1] = uVar3;
                uVar3 = puVar6[3];
                puVar1[2] = puVar6[2];
                puVar1[3] = uVar3;
                uVar3 = puVar6[5];
                puVar1[4] = puVar6[4];
                puVar1[5] = uVar3;
                uVar3 = puVar6[7];
                puVar1[6] = puVar6[6];
                puVar1[7] = uVar3;
                uVar3 = puVar6[9];
                puVar1[8] = puVar6[8];
                puVar1[9] = uVar3;
                uVar3 = puVar6[0xb];
                puVar1[10] = puVar6[10];
                puVar1[0xb] = uVar3;
                puVar1[0xc] = puVar6[0xc];
                ufbxi_evaluate_connected_prop_isra_0
                          (param_1,puVar1,param_3,*(undefined8 *)(param_4 + 0x60),
                           *(undefined8 *)(param_4 + 0x68),__s1);
              }
              goto LAB_001367d5;
            }
            iVar5 = strcmp((char *)__s1,(char *)__s2);
            if ((-1 < iVar5) || (uVar11 = uVar11 + 1, param_7 == uVar11)) goto LAB_001367d0;
            uVar8 = 0;
            __s1 = (uint *)param_6[uVar11];
            bVar2 = (byte)*__s1;
          } while (bVar2 == 0);
          uVar8 = (ulong)bVar2 << 0x18;
          if ((*(byte *)((long)__s1 + 1) == 0) ||
             (uVar8 = (ulong)((uint)bVar2 << 0x18 | (uint)*(byte *)((long)__s1 + 1) << 0x10),
             *(byte *)((long)__s1 + 2) == 0)) break;
          uVar7 = *__s1;
          uVar7 = uVar7 >> 0x18 | (uVar7 & 0xff0000) >> 8 | (uVar7 & 0xff00) << 8 | uVar7 << 0x18;
          uVar8 = (ulong)uVar7;
          if (uVar9 < uVar7) goto LAB_001367d0;
        }
      }
    }
LAB_001367d0:
LAB_001367d5:
    if (lVar10 == local_b8._0_8_) goto LAB_00136730;
LAB_001367e0:
    puVar6 = (undefined8 *)ufbxi_next_prop_slow(&local_c8);
    puVar1 = local_c8;
    lVar4 = local_100;
  } while( true );
}



void ufbx_evaluate_blend_weight(undefined8 param_1,long param_2)

{
  long lVar1;
  long in_FS_OFFSET;
  double extraout_XMM0_Qa;
  double dVar2;
  undefined1 auStack_b8 [40];
  char *local_90;
  undefined1 local_88 [104];
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_90 = "DeformPercent";
  ufbxi_evaluate_selected_props(auStack_b8,param_1,param_2,local_88,&local_90,1);
  lVar1 = ufbxi_find_prop_with_key
                    (*(undefined8 *)(param_2 + 0x80),auStack_b8,"DeformPercent",0x4465666f);
  if (lVar1 == 0) {
    dVar2 = extraout_XMM0_Qa * _LC9;
  }
  else {
    dVar2 = *(double *)(lVar1 + 0x48);
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail(dVar2 * _LC10);
}



undefined1 (*) [16]
ufbx_evaluate_transform_flags
          (undefined8 param_1,undefined1 (*param_2) [16],long param_3,long param_4,uint param_5)

{
  undefined8 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined1 *puVar8;
  long lVar9;
  uint uVar10;
  double dVar11;
  undefined8 uVar12;
  double *pdVar13;
  char cVar14;
  ulong uVar15;
  long in_FS_OFFSET;
  double local_598;
  double dStack_590;
  double local_580;
  double dStack_570;
  undefined1 local_538 [32];
  undefined8 local_518;
  undefined8 local_510;
  undefined8 local_508;
  undefined8 local_500;
  undefined8 local_4f8;
  undefined8 local_4f0;
  double local_4e8;
  double local_4e0;
  double dStack_4d8;
  double local_4d0;
  double dStack_480;
  double local_478;
  double dStack_470;
  undefined1 local_458 [24];
  ulong uStack_440;
  double dStack_410;
  double local_408;
  double dStack_400;
  long local_40;
  
  dStack_570 = _LC0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4 == 0) {
LAB_00136cc8:
    *param_2 = (undefined1  [16])0x0;
    param_2[1] = (undefined1  [16])0x0;
    param_2[2] = (undefined1  [16])0x0;
    dVar11 = _LC0;
    *(double *)param_2[3] = _LC0;
    *(double *)(param_2[3] + 8) = dVar11;
    *(double *)param_2[4] = dVar11;
    *(double *)(param_2[4] + 8) = dVar11;
    goto LAB_00136c63;
  }
  if ((param_3 == 0) || (*(char *)(param_4 + 0x441) != '\0')) {
    uVar12 = *(undefined8 *)(param_4 + 0xf8);
    uVar1 = *(undefined8 *)(param_4 + 0x100);
    uVar2 = *(undefined8 *)(param_4 + 0x108);
    uVar3 = *(undefined8 *)(param_4 + 0x110);
    uVar4 = *(undefined8 *)(param_4 + 0x118);
    uVar5 = *(undefined8 *)(param_4 + 0x130);
    uVar6 = *(undefined8 *)(param_4 + 0x138);
    *(undefined8 *)*param_2 = *(undefined8 *)(param_4 + 0xf0);
    *(undefined8 *)(*param_2 + 8) = uVar12;
    uVar12 = *(undefined8 *)(param_4 + 0x120);
    uVar7 = *(undefined8 *)(param_4 + 0x128);
    *(undefined8 *)param_2[1] = uVar1;
    *(undefined8 *)(param_2[1] + 8) = uVar2;
    *(undefined8 *)param_2[2] = uVar3;
    *(undefined8 *)(param_2[2] + 8) = uVar4;
    *(undefined8 *)param_2[3] = uVar12;
    *(undefined8 *)(param_2[3] + 8) = uVar7;
    *(undefined8 *)param_2[4] = uVar5;
    *(undefined8 *)(param_2[4] + 8) = uVar6;
    goto LAB_00136c63;
  }
  cVar14 = '\0';
  if ((param_5 & 4) == 0) {
    pdVar13 = *(double **)(param_4 + 0x80);
    param_5 = param_5 | 0x70;
    uVar12 = 10;
    puVar8 = ufbxi_transform_props_all;
    if (pdVar13 != (double *)0x0) goto LAB_00136b28;
LAB_00136d11:
    local_580 = _LC0;
    local_598 = _LC0;
    dStack_590 = _LC0;
LAB_00136d3c:
    ufbxi_evaluate_selected_props(local_538,param_3,param_4,local_458,puVar8,uVar12);
    lVar9 = ufbxi_find_prop_with_key(local_538,"RotationOrder",0x526f7461);
    if (lVar9 == 0) {
LAB_00136b9d:
      uVar15 = 0;
    }
    else {
LAB_00136b93:
      uVar15 = *(ulong *)(lVar9 + 0x40);
      if (6 < uVar15) goto LAB_00136b9d;
    }
    if ((param_5 & 0x10) == 0) {
      if ((param_5 & 0x20) == 0) {
        local_4f0 = 0;
        local_500 = 0;
        local_4e8 = dStack_570;
        local_4f8 = 0;
      }
      else {
LAB_00136f78:
        ufbxi_get_rotation(&local_500,local_538,uVar15 & 0xffffffff,param_4);
      }
      if ((param_5 & 0x40) == 0) {
        local_518 = 0;
        local_510 = 0;
        local_508 = 0;
        local_4e0 = dStack_570;
        dStack_4d8 = dStack_570;
      }
      else {
        ufbxi_get_scale(&local_4e0,local_538,param_4);
        local_518 = 0;
        local_510 = local_518;
        local_508 = local_518;
        dStack_570 = local_4d0;
      }
    }
    else {
      ufbxi_get_transform(&local_518,local_538,uVar15 & 0xffffffff,param_4,pdVar13);
      dStack_570 = local_4d0;
    }
  }
  else {
    uVar12 = 5;
    puVar8 = ufbxi_transform_props_rotation_scale;
    uVar10 = param_5 & 0x70;
    if (uVar10 != 0x60) {
      if (uVar10 == 0x20) {
        uVar12 = 4;
        puVar8 = ufbxi_transform_props_rotation;
      }
      else {
        uVar12 = 1;
        puVar8 = (undefined1 *)&ufbxi_transform_props_scale;
        if (uVar10 != 0x40) {
          if (uVar10 == 0) goto LAB_00136cc8;
          uVar12 = 10;
          puVar8 = ufbxi_transform_props_all;
        }
      }
    }
    pdVar13 = *(double **)(param_4 + 0x80);
    if (pdVar13 == (double *)0x0) goto LAB_00136d11;
LAB_00136b28:
    uVar15 = (ulong)(param_5 & 0x50);
    if ((param_5 & 0x50) != 0) {
      if ((param_5 & 2) == 0) {
        dVar11 = pdVar13[0x35];
        if (dVar11 == 0.0) {
          local_598 = _LC0;
          local_580 = _LC0;
          dStack_590 = local_598;
        }
        else {
          cVar14 = *(char *)(param_4 + 0x446);
          local_598 = _LC0;
          dStack_590 = _LC0;
          local_580 = _LC0;
          do {
            if (*(long *)((long)dVar11 + 200) == 0) break;
            ufbx_evaluate_prop_len
                      (param_1,local_458,param_3,*(long *)((long)dVar11 + 200),"Lcl Scaling",0xb);
            local_580 = local_580 * dStack_400;
            dVar11 = *(double *)((long)dVar11 + 0x1a8);
            local_598 = dStack_410 * local_598;
            dStack_590 = local_408 * dStack_590;
          } while (dVar11 != 0.0);
        }
      }
      else {
        local_580 = _LC0;
        local_598 = _LC0;
        dStack_590 = _LC0;
      }
      pdVar13 = (double *)pdVar13[0x19];
      if (pdVar13 != (double *)0x0) {
        if ((param_5 & 1) == 0) {
          ufbx_evaluate_prop_len(local_458,param_3,pdVar13,"Lcl Scaling",0xb);
          dStack_470 = local_580;
          dStack_480 = local_598;
          local_478 = dStack_590;
          if ((uStack_440 & 0x4000) == 0) {
            dStack_470 = local_580 * dStack_400;
            dStack_480 = dStack_410 * local_598;
            local_478 = local_408 * dStack_590;
          }
          pdVar13 = &dStack_480;
        }
        else {
          pdVar13 = (double *)0x0;
        }
      }
      goto LAB_00136d3c;
    }
    ufbxi_evaluate_selected_props(local_538,param_3,param_4,local_458,puVar8);
    lVar9 = ufbxi_find_prop_with_key(local_538,"RotationOrder",0x526f7461);
    if (lVar9 != 0) {
      pdVar13 = (double *)0x0;
      local_580 = _LC0;
      dStack_570 = _LC0;
      local_598 = _LC0;
      dStack_590 = _LC0;
      goto LAB_00136b93;
    }
    if ((param_5 & 0x20) != 0) {
      local_580 = _LC0;
      dStack_570 = _LC0;
      local_598 = _LC0;
      dStack_590 = _LC0;
      goto LAB_00136f78;
    }
    local_598 = _LC0;
    local_580 = _LC0;
    local_4f8 = 0;
    local_508 = 0;
    local_500 = 0;
    local_510 = 0;
    local_518 = 0;
    local_4e8 = _LC0;
    local_4f0 = local_4f8;
    dStack_570 = _LC0;
    local_4e0 = _LC0;
    dStack_4d8 = _LC0;
    dStack_590 = local_598;
  }
  if (cVar14 != '\0') {
    local_4e0 = local_4e0 * local_598;
    dStack_4d8 = dStack_4d8 * dStack_590;
    dStack_570 = dStack_570 * local_580;
  }
  *(undefined8 *)*param_2 = local_518;
  *(undefined8 *)(*param_2 + 8) = local_510;
  *(undefined8 *)param_2[1] = local_508;
  *(undefined8 *)(param_2[1] + 8) = local_500;
  *(undefined8 *)param_2[2] = local_4f8;
  *(undefined8 *)(param_2[2] + 8) = local_4f0;
  *(double *)param_2[3] = local_4e8;
  *(double *)(param_2[3] + 8) = local_4e0;
  *(double *)param_2[4] = dStack_4d8;
  *(double *)(param_2[4] + 8) = dStack_570;
LAB_00136c63:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_2;
}



undefined8 ufbx_evaluate_transform(undefined8 param_1)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  ufbx_evaluate_transform_flags();
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 ufbxi_bake_node_imp(long param_1,uint param_2,long param_3,long param_4)

{
  long *plVar1;
  long lVar2;
  undefined *puVar3;
  bool bVar4;
  bool bVar5;
  uint uVar6;
  char cVar7;
  int iVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  undefined8 *puVar12;
  char *pcVar13;
  undefined8 uVar14;
  long lVar15;
  uint uVar16;
  double *pdVar17;
  uint uVar18;
  uint uVar19;
  char *extraout_RDX;
  uint uVar20;
  long *plVar21;
  uint uVar22;
  byte bVar23;
  undefined **ppuVar24;
  ulong uVar25;
  ulong uVar26;
  ulong uVar27;
  ulong uVar28;
  uint uVar29;
  ulong uVar30;
  ulong uVar31;
  long in_FS_OFFSET;
  double extraout_XMM0_Qa;
  double dVar32;
  double dVar33;
  double dVar34;
  double dVar35;
  double dVar36;
  double dVar37;
  double dVar38;
  uint local_184;
  uint local_16c;
  long local_148;
  double local_140;
  double local_138;
  double local_130;
  long local_128;
  double local_118;
  double local_110;
  double local_108;
  long local_e8;
  ulong local_e0;
  long local_d8;
  ulong local_d0;
  long local_c8;
  ulong local_c0;
  double local_b8;
  double local_b0;
  double local_a8;
  double local_98;
  double local_90;
  double local_88;
  double local_80;
  double dStack_78;
  double local_70;
  double dStack_68;
  double local_60;
  double local_58;
  double local_50;
  long local_40;
  
  dVar32 = 0.0;
  bVar5 = false;
  ppuVar24 = &ufbxi_complex_translation_props;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar2 = *(long *)(*(long *)(*(long *)(param_1 + 0x5e8) + 0x550) + (ulong)param_2 * 8);
  lVar15 = param_3 + param_4 * 0x18;
  uVar18 = 0x5363616c;
  while( true ) {
    puVar3 = *ppuVar24;
    lVar9 = ufbxi_find_prop_with_key(dVar32,lVar2 + 0x10,puVar3,uVar18);
    if ((lVar9 != 0) &&
       ((extraout_XMM0_Qa != *(double *)(lVar9 + 0x50) ||
         extraout_XMM0_Qa != *(double *)(lVar9 + 0x48) ||
        (extraout_XMM0_Qa != *(double *)(lVar9 + 0x58))))) {
      bVar5 = true;
    }
    lVar9 = param_3;
    if (param_3 != lVar15) {
      do {
        if (*(undefined **)(lVar9 + 8) == puVar3) {
          bVar5 = true;
        }
        lVar9 = lVar9 + 0x18;
      } while (lVar9 != lVar15);
    }
    ppuVar24 = ppuVar24 + 1;
    if (ppuVar24 == (undefined **)ufbxi_transform_props) break;
    uVar18 = *(uint *)*ppuVar24;
    uVar18 = uVar18 >> 0x18 | (uVar18 & 0xff0000) >> 8 | (uVar18 & 0xff00) << 8 | uVar18 << 0x18;
    dVar32 = extraout_XMM0_Qa;
  }
  ppuVar24 = &ufbxi_complex_rotation_props;
  bVar4 = false;
  do {
    lVar9 = param_3;
    if (param_3 != lVar15) {
      do {
        if (*(undefined **)(lVar9 + 8) == *ppuVar24) {
          bVar4 = true;
        }
        lVar9 = lVar9 + 0x18;
      } while (lVar9 != lVar15);
    }
    ppuVar24 = ppuVar24 + 1;
  } while (ppuVar24 != (undefined **)&DAT_0014b478);
  if (*(char *)(lVar2 + 0x446) == '\0') {
    local_148 = *(long *)(lVar2 + 0x80);
    if (local_148 == 0) {
LAB_00137694:
      local_140 = _LC0;
      local_138 = _LC0;
      local_130 = _LC0;
      goto LAB_001375f5;
    }
    lVar9 = *(long *)(local_148 + 200);
    if (lVar9 == 0) {
      local_148 = 0;
      goto LAB_00137694;
    }
    local_148 = *(long *)(*(long *)(param_1 + 0x5c8) + (ulong)*(uint *)(lVar9 + 0x34) * 8);
    if (local_148 == 0) {
      local_130 = *(double *)(lVar9 + 400);
      local_138 = *(double *)(lVar9 + 0x198);
      local_140 = *(double *)(lVar9 + 0x1a0);
      goto LAB_001375f5;
    }
    bVar23 = *(byte *)(local_148 + 10) ^ 1;
    iVar8 = ufbxi_push_resampled_times_isra_0
                      (param_1,*(undefined8 *)(local_148 + 0x30),*(undefined8 *)(local_148 + 0x38));
    if (iVar8 != 0) {
      local_140 = _LC0;
      local_138 = _LC0;
      local_130 = _LC0;
      if (!bVar5) goto LAB_001375fe;
      goto LAB_001373f0;
    }
  }
  else {
    local_148 = 0;
    local_140 = _LC0;
    local_138 = _LC0;
    local_130 = _LC0;
LAB_001375f5:
    bVar23 = 0;
    if (bVar5) {
LAB_001373f0:
      lVar9 = param_3;
      if (param_3 != lVar15) {
        do {
          cVar7 = ufbxi_in_list(ufbxi_transform_props,10,*(undefined8 *)(lVar9 + 8));
          if ((cVar7 != '\0') &&
             (iVar8 = ufbxi_bake_times(param_1,*(undefined8 *)(lVar9 + 0x10),
                                       extraout_RDX != "Lcl Translation" | bVar23,
                                       (ulong)(extraout_RDX == "Lcl Translation") << 3), iVar8 == 0)
             ) goto LAB_00137650;
          lVar9 = lVar9 + 0x18;
        } while (lVar9 != lVar15);
      }
    }
    else {
LAB_001375fe:
      lVar9 = param_3;
      if (param_3 != lVar15) {
        do {
          if ((*(char **)(lVar9 + 8) == "Lcl Translation") &&
             (iVar8 = ufbxi_bake_times(param_1,*(undefined8 *)(lVar9 + 0x10),bVar23,8), iVar8 == 0))
          goto LAB_00137650;
          lVar9 = lVar9 + 0x18;
        } while (lVar9 != lVar15);
      }
    }
    iVar8 = ufbxi_finalize_bake_times(param_1,&local_e8);
    if (iVar8 != 0) {
      if (bVar4) {
        lVar9 = param_3;
        if (param_3 != lVar15) {
          do {
            pcVar13 = *(char **)(lVar9 + 8);
            cVar7 = ufbxi_in_list(ufbxi_complex_rotation_sources,4,pcVar13);
            if ((cVar7 != '\0') &&
               (iVar8 = ufbxi_bake_times(param_1,*(undefined8 *)(lVar9 + 0x10),
                                         *(byte *)(param_1 + 0x6b2) ^ 1 | pcVar13 != "Lcl Rotation",
                                         (ulong)(pcVar13 == "Lcl Rotation") << 3), iVar8 == 0))
            goto LAB_00137650;
            lVar9 = lVar9 + 0x18;
          } while (lVar9 != lVar15);
        }
      }
      else {
        lVar9 = param_3;
        if (param_3 != lVar15) {
          do {
            if ((*(char **)(lVar9 + 8) == "Lcl Rotation") &&
               (iVar8 = ufbxi_bake_times(param_1,*(undefined8 *)(lVar9 + 0x10),
                                         *(byte *)(param_1 + 0x6b2) ^ 1,8), iVar8 == 0))
            goto LAB_00137650;
            lVar9 = lVar9 + 0x18;
          } while (lVar9 != lVar15);
        }
      }
      iVar8 = ufbxi_finalize_bake_times(param_1,&local_d8);
      if (iVar8 != 0) {
        if (*(char *)(lVar2 + 0x446) == '\0') {
          local_128 = 0;
          local_118 = _LC0;
          local_110 = _LC0;
          local_108 = _LC0;
          bVar23 = 0;
        }
        else {
          local_128 = *(long *)(lVar2 + 0x80);
          if (local_128 == 0) {
LAB_00137eb3:
            bVar23 = 0;
            local_118 = _LC0;
            local_110 = _LC0;
            local_108 = _LC0;
          }
          else if (*(long *)(local_128 + 0x1a8) == 0) {
            bVar23 = 0;
            local_118 = _LC0;
            local_110 = _LC0;
            local_108 = _LC0;
            local_128 = 0;
          }
          else {
            lVar9 = *(long *)(*(long *)(local_128 + 0x1a8) + 200);
            if (lVar9 == 0) {
              local_128 = 0;
              goto LAB_00137eb3;
            }
            local_128 = *(long *)(*(long *)(param_1 + 0x5c8) + (ulong)*(uint *)(lVar9 + 0x34) * 8);
            if (local_128 == 0) {
              local_108 = *(double *)(lVar9 + 0x128);
              bVar23 = 0;
              local_110 = *(double *)(lVar9 + 0x130);
              local_118 = *(double *)(lVar9 + 0x138);
            }
            else {
              bVar23 = *(byte *)(local_128 + 10) ^ 1;
              iVar8 = ufbxi_push_resampled_times_isra_0
                                (param_1,*(undefined8 *)(local_128 + 0x30),
                                 *(undefined8 *)(local_128 + 0x38));
              if (iVar8 == 0) goto LAB_00137650;
              local_118 = _LC0;
              local_110 = _LC0;
              local_108 = _LC0;
            }
          }
        }
        if (param_3 != lVar15) {
          do {
            while (*(char **)(param_3 + 8) != "Lcl Scaling") {
              param_3 = param_3 + 0x18;
              if (param_3 == lVar15) goto LAB_00137785;
            }
            iVar8 = ufbxi_bake_times(param_1,*(undefined8 *)(param_3 + 0x10),bVar23,8);
            if (iVar8 == 0) goto LAB_00137650;
            param_3 = param_3 + 0x18;
          } while (param_3 != lVar15);
        }
LAB_00137785:
        iVar8 = ufbxi_finalize_bake_times(param_1,&local_c8);
        if (iVar8 != 0) {
          lVar15 = param_1 + 0x3f8;
          lVar9 = ufbxi_push_size(lVar15,0x28);
          if (((lVar9 != 0) && (lVar10 = ufbxi_push_size(lVar15,0x30,local_d0), lVar10 != 0)) &&
             (lVar11 = ufbxi_push_size(lVar15,0x28,local_c0), lVar11 != 0)) {
            uVar26 = 0;
            uVar31 = 0;
            uVar28 = 0;
LAB_00137848:
            if (uVar26 < local_e0) goto LAB_00137b28;
LAB_0013785b:
            if (uVar31 < local_d0) {
              uVar19 = 0x20;
              uVar18 = 0;
              pdVar17 = (double *)(uVar31 * 0x10 + local_d8);
              local_16c = *(uint *)(pdVar17 + 1);
              dVar32 = *pdVar17;
              uVar29 = local_16c & 7;
              goto LAB_00137b7e;
            }
            if (uVar28 < local_c0) {
              local_16c = 0;
              uVar29 = 0;
              uVar19 = 0;
              uVar18 = 0;
              dVar32 = _LC275;
LAB_00137889:
              pdVar17 = (double *)(uVar28 * 0x10 + local_c8);
              dVar33 = *pdVar17;
              uVar20 = *(uint *)(pdVar17 + 1);
              if (NAN(dVar33) || NAN(dVar32)) goto LAB_00137b8c;
              uVar25 = uVar26;
              uVar27 = uVar28;
              uVar30 = uVar31;
              if (dVar33 == dVar32) {
                uVar16 = uVar29 & 3;
                if ((uVar20 & 3) != uVar16) {
                  if ((uVar16 ^ 1) <= (uVar20 & 3 ^ 1)) {
                    bVar5 = false;
                    uVar22 = uVar19 | 7;
                    uVar20 = 0;
                    uVar6 = uVar19 & 0x10;
                    local_184 = uVar19 & 0x20;
                    goto LAB_001378de;
                  }
                  goto LAB_001378ba;
                }
                local_184 = uVar19 & 0x20;
                uVar22 = uVar19 | 0x47;
                uVar29 = uVar29 | uVar20 & 7;
                uVar6 = uVar19 & 0x10;
              }
              else {
                if (dVar32 <= dVar33 && dVar33 != dVar32) goto LAB_00137b8c;
LAB_001378ba:
                local_184 = 0;
                uVar22 = 0x47;
                uVar6 = 0;
                dVar32 = dVar33;
                uVar29 = uVar20;
              }
              uVar16 = uVar29 & 3;
              bVar5 = true;
LAB_001378de:
              do {
                if (uVar16 != 0) {
                  dVar33 = _LC275;
                  if ((uVar29 & 1) != 0) {
                    dVar33 = _LC76;
                  }
                  nextafter(dVar32,dVar33);
                }
                ufbx_evaluate_transform_flags
                          (&local_98,*(undefined8 *)(param_1 + 0x5f0),lVar2,uVar22);
                uVar26 = uVar25;
                dVar33 = local_58;
                dVar35 = local_50;
                dVar36 = local_60;
                if (uVar6 != 0) {
                  dVar34 = local_90;
                  dVar37 = local_88;
                  dVar38 = local_98;
                  if (local_148 != 0) {
                    ufbx_evaluate_baked_vec3
                              (&local_b8,*(undefined8 *)(local_148 + 0x30),
                               *(undefined8 *)(local_148 + 0x38));
                    dVar38 = dVar38 * local_b8;
                    dVar34 = dVar34 * local_b0;
                    dVar37 = dVar37 * local_a8;
                  }
                  uVar26 = uVar25 + 1;
                  pdVar17 = (double *)(lVar9 + uVar25 * 0x28);
                  *(uint *)(pdVar17 + 4) = uVar18 | uVar29;
                  *pdVar17 = dVar32;
                  pdVar17[1] = dVar38 * local_130;
                  pdVar17[2] = dVar34 * local_138;
                  pdVar17[3] = dVar37 * local_140;
                }
                uVar31 = uVar30;
                if (local_184 != 0) {
                  uVar31 = uVar30 + 1;
                  pdVar17 = (double *)(uVar30 * 0x30 + lVar10);
                  *(uint *)(pdVar17 + 5) = local_16c | uVar29;
                  *pdVar17 = dVar32;
                  pdVar17[1] = local_80;
                  pdVar17[2] = dStack_78;
                  pdVar17[3] = local_70;
                  pdVar17[4] = dStack_68;
                }
                uVar28 = uVar27;
                if (!bVar5) goto LAB_00137848;
                if (local_128 != 0) {
                  ufbx_evaluate_baked_vec3
                            (&local_b8,*(undefined8 *)(local_128 + 0x30),
                             *(undefined8 *)(local_128 + 0x38));
                  dVar36 = dVar36 * local_b8;
                  dVar33 = dVar33 * local_b0;
                  dVar35 = dVar35 * local_a8;
                }
                uVar28 = uVar27 + 1;
                pdVar17 = (double *)(lVar11 + uVar27 * 0x28);
                *(uint *)(pdVar17 + 4) = uVar20 | uVar29;
                *pdVar17 = dVar32;
                pdVar17[1] = dVar36 * local_108;
                pdVar17[2] = dVar33 * local_110;
                pdVar17[3] = dVar35 * local_118;
                if (local_e0 <= uVar26) goto LAB_0013785b;
LAB_00137b28:
                if (uVar31 < local_d0) {
                  uVar19 = 0x20;
                  pdVar17 = (double *)(uVar31 * 0x10 + local_d8);
                  dVar32 = *pdVar17;
                  local_16c = *(uint *)(pdVar17 + 1);
                  uVar29 = local_16c & 7;
                }
                else {
                  local_16c = 0;
                  uVar29 = 0;
                  uVar19 = 0;
                  dVar32 = _LC275;
                }
                pdVar17 = (double *)(uVar26 * 0x10 + local_e8);
                dVar33 = *pdVar17;
                uVar18 = *(uint *)(pdVar17 + 1);
                if (NAN(dVar32) || NAN(dVar33)) {
LAB_00137bfe:
                  uVar18 = 0;
                }
                else {
                  if (dVar32 == dVar33) {
                    if ((uVar18 & 3) == (uVar29 & 3)) {
                      uVar19 = uVar19 | 0x10;
                      uVar29 = uVar29 | uVar18 & 7;
                      goto LAB_00137b7e;
                    }
                    if ((uVar29 & 3 ^ 1) <= (uVar18 & 3 ^ 1)) goto LAB_00137bfe;
                  }
                  else if (dVar32 <= dVar33) goto LAB_00137bfe;
                  uVar19 = 0x10;
                  dVar32 = dVar33;
                  uVar29 = uVar18;
                }
LAB_00137b7e:
                if (uVar28 < local_c0) goto LAB_00137889;
LAB_00137b8c:
                bVar5 = false;
                uVar22 = uVar19 | 7;
                uVar16 = uVar29 & 3;
                uVar20 = 0;
                uVar6 = uVar19 & 0x10;
                local_184 = uVar19 & 0x20;
                uVar25 = uVar26;
                uVar27 = uVar28;
                uVar30 = uVar31;
              } while( true );
            }
            puVar12 = (undefined8 *)ufbxi_push_size_zero(param_1 + 0x4b8,0x40,1);
            if (puVar12 != (undefined8 *)0x0) {
              *puVar12 = CONCAT44((int)*(undefined8 *)(lVar2 + 0x30),
                                  (int)((ulong)*(undefined8 *)(lVar2 + 0x30) >> 0x20));
              iVar8 = ufbxi_bake_postprocess_vec3(param_1,puVar12 + 2,puVar12 + 1,lVar9,local_e0);
              if (((iVar8 != 0) &&
                  (iVar8 = ufbxi_bake_postprocess_quat
                                     (param_1,puVar12 + 4,(long)puVar12 + 9,lVar10,local_d0),
                  iVar8 != 0)) &&
                 (iVar8 = ufbxi_bake_postprocess_vec3
                                    (param_1,puVar12 + 6,(long)puVar12 + 10,lVar11,local_c0),
                 iVar8 != 0)) {
                *(undefined8 **)(*(long *)(param_1 + 0x5c8) + (ulong)*(uint *)(lVar2 + 0x34) * 8) =
                     puVar12;
                ufbxi_buf_clear(lVar15);
                if (*(char *)(lVar2 + 0x446) != '\0') {
                  plVar21 = *(long **)(*(long *)(lVar2 + 0x80) + 0x88);
                  plVar1 = plVar21 + *(long *)(*(long *)(lVar2 + 0x80) + 0x90);
                  if (plVar21 != plVar1) {
                    do {
                      lVar15 = *plVar21;
                      if (lVar2 != lVar15) {
                        pcVar13 = (char *)((ulong)*(uint *)(lVar15 + 0x34) +
                                          *(long *)(param_1 + 0x5d0));
                        if (*pcVar13 == '\0') {
                          *pcVar13 = '\x01';
                          lVar9 = ufbxi_push_size_copy(param_1 + 0x578,4,1,lVar15 + 0x30);
                          if (lVar9 == 0) goto LAB_00137650;
                        }
                        if (((*(long *)(lVar15 + 0x1a8) != 0) &&
                            (lVar9 = *(long *)(*(long *)(lVar15 + 0x1a8) + 200), lVar9 != 0)) &&
                           ((lVar15 = *(long *)(lVar15 + 200), lVar15 != 0 &&
                            ((*(char *)(*(long *)(param_1 + 0x5d0) + (ulong)*(uint *)(lVar9 + 0x34))
                              != '\0' &&
                             (pcVar13 = (char *)(*(long *)(param_1 + 0x5d0) +
                                                (ulong)*(uint *)(lVar15 + 0x34)), *pcVar13 == '\0'))
                            )))) {
                          *pcVar13 = '\x01';
                          lVar15 = ufbxi_push_size_copy(param_1 + 0x578,4,1,lVar15 + 0x30);
                          if (lVar15 == 0) goto LAB_00137650;
                        }
                      }
                      plVar21 = plVar21 + 1;
                    } while (plVar1 != plVar21);
                  }
                }
                uVar14 = 1;
                goto LAB_00137662;
              }
            }
          }
        }
      }
    }
  }
LAB_00137650:
  ufbxi_fail_imp_err_constprop_0(param_1,&_LC88);
  uVar14 = 0;
LAB_00137662:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar14;
}



undefined8 ufbxi_bake_node(long param_1)

{
  long lVar1;
  int iVar2;
  undefined8 uVar3;
  long in_FS_OFFSET;
  undefined4 local_24;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  iVar2 = ufbxi_bake_node_imp();
  if (iVar2 == 0) {
LAB_00137ffe:
    ufbxi_fail_imp_err_constprop_0(param_1,&_LC88);
    uVar3 = 0;
  }
  else {
    lVar1 = *(long *)(param_1 + 0x5a0);
    while (lVar1 != 0) {
      local_24 = 0;
      ufbxi_pop_size(param_1 + 0x578,4,1,&local_24,0);
      iVar2 = ufbxi_bake_node_imp(param_1,local_24,0,0);
      if (iVar2 == 0) goto LAB_00137ffe;
      lVar1 = *(long *)(param_1 + 0x5a0);
    }
    uVar3 = 1;
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar3;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 ufbxi_bake_element(long param_1,ulong param_2,long param_3,ulong param_4)

{
  undefined4 uVar1;
  long lVar2;
  char cVar3;
  int iVar4;
  long *plVar5;
  undefined4 *puVar6;
  long lVar7;
  ulong uVar8;
  ulong uVar9;
  
  lVar7 = *(long *)(*(long *)(*(long *)(param_1 + 0x5e8) + 0x550) + (param_2 & 0xffffffff) * 8);
  if (((*(int *)(lVar7 + 0x48) != 1) || (*(char *)(param_1 + 0x6b1) != '\0')) ||
     (iVar4 = ufbxi_bake_node(param_1,param_2,param_3), iVar4 != 0)) {
    uVar9 = 0;
    if (param_4 != 0) {
      do {
        uVar8 = uVar9 + 1;
        if (uVar8 < param_4) {
          plVar5 = (long *)(param_3 + 0x20 + uVar9 * 0x18);
          do {
            if (*plVar5 != *(long *)(param_3 + uVar9 * 0x18 + 8)) break;
            uVar8 = uVar8 + 1;
            plVar5 = plVar5 + 3;
          } while (uVar8 < param_4);
        }
        if ((((*(int *)(lVar7 + 0x48) != 1) || (*(char *)(param_1 + 0x6b0) != '\0')) ||
            (cVar3 = ufbxi_in_list(ufbxi_transform_props,10), cVar3 == '\0')) &&
           (iVar4 = ufbxi_bake_anim_prop(param_1,lVar7), iVar4 == 0)) goto LAB_00138165;
        uVar9 = uVar8;
      } while (uVar8 < param_4);
    }
    lVar2 = *(long *)(param_1 + 0x560);
    if (lVar2 == 0) {
      return 1;
    }
    puVar6 = (undefined4 *)ufbxi_push_size_zero(param_1 + 0x4f8,0x18,1);
    if (puVar6 != (undefined4 *)0x0) {
      uVar1 = *(undefined4 *)(lVar7 + 0x30);
      *(long *)(puVar6 + 4) = lVar2;
      *puVar6 = uVar1;
      lVar7 = ufbxi_push_pop_size(param_1 + 0x378,param_1 + 0x538,0x28,lVar2);
      *(long *)(puVar6 + 2) = lVar7;
      if (lVar7 != 0) {
        return 1;
      }
    }
  }
LAB_00138165:
  ufbxi_fail_imp_err_constprop_0(param_1,&_LC88);
  return 0;
}



undefined8 ufbxi_bake_anim(long param_1)

{
  long *plVar1;
  long *plVar2;
  ulong uVar3;
  double dVar4;
  double dVar5;
  bool bVar6;
  int iVar7;
  undefined8 *puVar8;
  long lVar9;
  ulong uVar10;
  long lVar11;
  undefined8 uVar12;
  long lVar13;
  uint uVar14;
  int *piVar15;
  long *plVar16;
  ulong uVar17;
  long *plVar18;
  long lVar19;
  long in_FS_OFFSET;
  undefined1 local_58 [16];
  long local_40;
  
  lVar9 = *(long *)(param_1 + 0x5f0);
  lVar11 = *(long *)(param_1 + 0x5e8);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(char *)(param_1 + 0x6b1) == '\0') {
    lVar13 = ufbxi_push_size_zero(param_1 + 0x378,8,*(undefined8 *)(lVar11 + 0x2b8));
    *(long *)(param_1 + 0x5c8) = lVar13;
    if (lVar13 == 0) goto LAB_00138390;
    lVar13 = ufbxi_push_size_zero(param_1 + 0x378,1,*(undefined8 *)(lVar11 + 0x2b8));
    *(long *)(param_1 + 0x5d0) = lVar13;
    if (lVar13 == 0) goto LAB_00138390;
  }
  plVar16 = *(long **)(lVar9 + 0x10);
  plVar2 = plVar16 + *(long *)(lVar9 + 0x18);
  for (; plVar16 != plVar2; plVar16 = plVar16 + 1) {
    plVar18 = *(long **)(*plVar16 + 0xa0);
    plVar1 = plVar18 + *(long *)(*plVar16 + 0xa8) * 5;
    for (; plVar18 != plVar1; plVar18 = plVar18 + 5) {
      puVar8 = (undefined8 *)ufbxi_push_size(param_1 + 0x478,0x18,1);
      if (puVar8 == (undefined8 *)0x0) goto LAB_00138390;
      lVar9 = *plVar18;
      uVar14 = 0xffffffff;
      if (*(int *)(lVar9 + 0x48) == 1) {
        uVar14 = *(uint *)(lVar9 + 0x34);
        if (*(long *)(param_1 + 0x5d0) != 0) {
          *(undefined1 *)(*(long *)(param_1 + 0x5d0) + (ulong)uVar14) = 1;
        }
      }
      lVar13 = plVar18[2];
      *puVar8 = CONCAT44(*(undefined4 *)(lVar9 + 0x30),uVar14);
      lVar9 = plVar18[4];
      puVar8[1] = lVar13;
      puVar8[2] = lVar9;
    }
  }
  uVar3 = *(ulong *)(param_1 + 0x4a0);
  lVar9 = ufbxi_push_pop_size(param_1 + 0x3b8,param_1 + 0x478,0x18,uVar3);
  if (lVar9 == 0) goto LAB_00138390;
  ufbxi_unstable_sort(lVar9,uVar3,0x18,ufbxi_bake_prop_less,0);
  if ((*(char *)(param_1 + 0x6b3) == '\0') && (lVar13 = lVar9 + uVar3 * 0x18, lVar9 != lVar13)) {
    bVar6 = false;
    lVar19 = lVar9;
    do {
      if ((*(char **)(lVar19 + 8) == "Weight") &&
         (*(int *)(*(long *)(*(long *)(lVar11 + 0x550) + (ulong)*(uint *)(lVar19 + 4) * 8) + 0x48)
          == 0x1e)) {
        iVar7 = ufbxi_bake_times(param_1,*(undefined8 *)(lVar19 + 0x10),1,0);
        if (iVar7 == 0) goto LAB_00138390;
        bVar6 = true;
      }
      lVar19 = lVar19 + 0x18;
    } while (lVar13 != lVar19);
    if (bVar6) {
      local_58 = (undefined1  [16])0x0;
      iVar7 = ufbxi_finalize_bake_times(param_1,local_58);
      if (iVar7 == 0) goto LAB_00138390;
      *(undefined8 *)(param_1 + 0x5c0) = local_58._8_8_;
      lVar11 = ufbxi_push_size_copy(param_1 + 0x3b8,0x10,local_58._8_8_,local_58._0_8_);
      *(long *)(param_1 + 0x5b8) = lVar11;
      if (lVar11 == 0) goto LAB_00138390;
      ufbxi_buf_clear(param_1 + 0x3f8);
    }
  }
  uVar17 = 0;
  do {
    if (uVar3 <= uVar17) {
      uVar12 = *(undefined8 *)(param_1 + 0x520);
      *(undefined8 *)(param_1 + 0x728) = *(undefined8 *)(param_1 + 0x4e0);
      lVar9 = ufbxi_push_pop_size(param_1 + 0x378,param_1 + 0x4b8,0x40);
      *(long *)(param_1 + 0x720) = lVar9;
      if (lVar9 != 0) {
        *(undefined8 *)(param_1 + 0x738) = uVar12;
        lVar9 = ufbxi_push_pop_size(param_1 + 0x378,param_1 + 0x4f8,0x18,uVar12);
        *(long *)(param_1 + 0x730) = lVar9;
        if (lVar9 != 0) {
          ufbxi_unstable_sort(*(undefined8 *)(param_1 + 0x720),*(undefined8 *)(param_1 + 0x728),0x40
                              ,ufbxi_baked_node_less,0);
          ufbxi_unstable_sort(*(undefined8 *)(param_1 + 0x730),*(undefined8 *)(param_1 + 0x738),0x18
                              ,ufbxi_baked_element_less,0);
          if (*(double *)(param_1 + 0x710) < *(double *)(param_1 + 0x718)) {
            *(double *)(param_1 + 0x758) = *(double *)(param_1 + 0x710);
            *(double *)(param_1 + 0x760) = *(double *)(param_1 + 0x718);
          }
          dVar4 = *(double *)(param_1 + 0x700);
          dVar5 = *(double *)(param_1 + 0x708);
          if (dVar4 < dVar5) {
            *(double *)(param_1 + 0x740) = dVar4;
            *(double *)(param_1 + 0x748) = dVar5;
            *(double *)(param_1 + 0x750) = dVar5 - dVar4;
          }
          uVar12 = 1;
          goto LAB_001383a1;
        }
      }
      break;
    }
    uVar10 = uVar17 + 1;
    lVar11 = lVar9 + uVar17 * 0x18;
    piVar15 = (int *)(lVar9 + 0x1c + uVar17 * 0x18);
    iVar7 = *(int *)(lVar11 + 4);
    if (uVar10 < uVar3) {
      do {
        if (*piVar15 != iVar7) break;
        uVar10 = uVar10 + 1;
        piVar15 = piVar15 + 6;
      } while (uVar10 < uVar3);
      lVar13 = uVar10 - uVar17;
    }
    else {
      lVar13 = 1;
    }
    iVar7 = ufbxi_bake_element(param_1,iVar7,lVar11,lVar13);
    uVar17 = uVar10;
  } while (iVar7 != 0);
LAB_00138390:
  ufbxi_fail_imp_err_constprop_0(param_1,&_LC88);
  uVar12 = 0;
LAB_001383a1:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar12;
}



undefined8 ufbxi_bake_anim_imp(long param_1,double *param_2)

{
  undefined8 uVar1;
  double dVar2;
  double dVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 uVar15;
  int iVar16;
  long lVar17;
  
  if (*(double *)(param_1 + 0x698) <= 0.0) {
    *(undefined8 *)(param_1 + 0x698) = _LC137;
  }
  if (*(double *)(param_1 + 0x6a0) <= 0.0) {
    *(undefined8 *)(param_1 + 0x6a0) = _LC272;
  }
  if (*(long *)(param_1 + 0x6b8) == 0) {
    *(undefined8 *)(param_1 + 0x6b8) = 0x20;
  }
  if (*(double *)(param_1 + 0x6e0) == 0.0) {
    *(undefined8 *)(param_1 + 0x6e0) = _LC273;
  }
  if (*(long *)(param_1 + 0x6e8) == 0) {
    *(undefined8 *)(param_1 + 0x6e8) = 4;
  }
  if ((*(char *)(param_1 + 0x690) != '\0') && (0.0 < *param_2)) {
    *(double *)(param_1 + 0x6f8) =
         (double)*(long *)(*(long *)(param_1 + 0x5e8) + 0x1a8) * (double)((ulong)*param_2 ^ _LC15);
  }
  lVar17 = param_1 + 0x268;
  ufbxi_init_ator(param_1,lVar17,param_1 + 0x600,&_LC274);
  ufbxi_init_ator(param_1,param_1 + 0x2f0,param_1 + 0x648,"result");
  dVar2 = *param_2;
  dVar3 = param_2[1];
  *(undefined1 *)(param_1 + 0x3b0) = 1;
  *(long *)(param_1 + 0x378) = param_1 + 0x2f0;
  *(undefined1 *)(param_1 + 0x3f0) = 1;
  *(long *)(param_1 + 0x3b8) = lVar17;
  *(long *)(param_1 + 0x3f8) = lVar17;
  *(undefined2 *)(param_1 + 0x430) = 0x101;
  *(long *)(param_1 + 0x438) = lVar17;
  *(long *)(param_1 + 0x478) = lVar17;
  *(long *)(param_1 + 0x4b8) = lVar17;
  *(long *)(param_1 + 0x4f8) = lVar17;
  *(long *)(param_1 + 0x538) = lVar17;
  *(long *)(param_1 + 0x578) = lVar17;
  *(double **)(param_1 + 0x5f0) = param_2;
  if (dVar2 < dVar3) {
    *(double *)(param_1 + 0x700) = dVar2;
    *(double *)(param_1 + 0x708) = dVar3;
  }
  uVar1 = _LC76;
  *(undefined8 *)(param_1 + 0x710) = _LC275;
  *(undefined8 *)(param_1 + 0x718) = uVar1;
  lVar17 = ufbxi_push_size(param_1 + 0x378,0x1d8,1);
  *(long *)(param_1 + 0x788) = lVar17;
  if ((lVar17 != 0) && (iVar16 = ufbxi_bake_anim(param_1), iVar16 != 0)) {
    ufbxi_init_ref(*(undefined8 *)(param_1 + 0x788),0x4b414255,0);
    lVar17 = *(long *)(param_1 + 0x788);
    uVar4 = *(undefined8 *)(param_1 + 0x728);
    uVar5 = *(undefined8 *)(param_1 + 0x730);
    uVar6 = *(undefined8 *)(param_1 + 0x738);
    uVar7 = *(undefined8 *)(param_1 + 0x740);
    uVar8 = *(undefined8 *)(param_1 + 0x748);
    *(undefined8 *)(param_1 + 0x778) = *(undefined8 *)(param_1 + 0x308);
    *(undefined8 *)(param_1 + 0x780) = *(undefined8 *)(param_1 + 0x280);
    uVar9 = *(undefined8 *)(param_1 + 0x750);
    uVar10 = *(undefined8 *)(param_1 + 0x758);
    *(undefined8 *)(param_1 + 0x768) = *(undefined8 *)(param_1 + 0x2f8);
    *(undefined8 *)(param_1 + 0x770) = *(undefined8 *)(param_1 + 0x270);
    uVar1 = *(undefined8 *)(param_1 + 0x780);
    *(undefined8 *)(lVar17 + 0x168) = *(undefined8 *)(param_1 + 0x720);
    *(undefined8 *)(lVar17 + 0x170) = uVar4;
    uVar4 = *(undefined8 *)(param_1 + 0x760);
    uVar11 = *(undefined8 *)(param_1 + 0x768);
    uVar12 = *(undefined8 *)(param_1 + 0x2f0);
    uVar13 = *(undefined8 *)(param_1 + 0x2f8);
    *(undefined8 *)(lVar17 + 0x178) = uVar5;
    *(undefined8 *)(lVar17 + 0x180) = uVar6;
    uVar5 = *(undefined8 *)(param_1 + 0x770);
    uVar6 = *(undefined8 *)(param_1 + 0x778);
    *(undefined8 *)(lVar17 + 0x188) = uVar7;
    *(undefined8 *)(lVar17 + 400) = uVar8;
    uVar7 = *(undefined8 *)(param_1 + 0x300);
    uVar8 = *(undefined8 *)(param_1 + 0x308);
    *(undefined8 *)(lVar17 + 0x198) = uVar9;
    *(undefined8 *)(lVar17 + 0x1a0) = uVar10;
    uVar9 = *(undefined8 *)(param_1 + 0x310);
    uVar10 = *(undefined8 *)(param_1 + 0x318);
    *(undefined8 *)(lVar17 + 0x1a8) = uVar4;
    *(undefined8 *)(lVar17 + 0x1b0) = uVar11;
    uVar4 = *(undefined8 *)(param_1 + 800);
    uVar11 = *(undefined8 *)(param_1 + 0x328);
    *(undefined8 *)(lVar17 + 0x1b8) = uVar5;
    *(undefined8 *)(lVar17 + 0x1c0) = uVar6;
    uVar5 = *(undefined8 *)(param_1 + 0x330);
    uVar6 = *(undefined8 *)(param_1 + 0x338);
    *(undefined8 *)(lVar17 + 0x1c8) = uVar1;
    *(undefined8 *)(lVar17 + 0x68) = uVar7;
    *(undefined8 *)(lVar17 + 0x70) = uVar8;
    *(undefined8 *)(lVar17 + 0x78) = uVar9;
    *(undefined8 *)(lVar17 + 0x80) = uVar10;
    *(undefined8 *)(lVar17 + 0x88) = uVar4;
    *(undefined8 *)(lVar17 + 0x90) = uVar11;
    *(undefined8 *)(lVar17 + 0x98) = uVar5;
    *(undefined8 *)(lVar17 + 0xa0) = uVar6;
    *(undefined4 *)(lVar17 + 0x1d0) = 0x4b414255;
    *(undefined8 *)(lVar17 + 0x58) = uVar12;
    *(undefined8 *)(lVar17 + 0x60) = uVar13;
    uVar4 = *(undefined8 *)(param_1 + 0x348);
    uVar5 = *(undefined8 *)(param_1 + 0x350);
    uVar6 = *(undefined8 *)(param_1 + 0x358);
    uVar7 = *(undefined8 *)(param_1 + 0x360);
    uVar8 = *(undefined8 *)(param_1 + 0x368);
    uVar1 = *(undefined8 *)(param_1 + 0x370);
    *(undefined8 *)(lVar17 + 0xa8) = *(undefined8 *)(param_1 + 0x340);
    *(undefined8 *)(lVar17 + 0xb0) = uVar4;
    uVar4 = *(undefined8 *)(param_1 + 0x378);
    uVar9 = *(undefined8 *)(param_1 + 0x380);
    uVar10 = *(undefined8 *)(param_1 + 0x388);
    uVar11 = *(undefined8 *)(param_1 + 0x390);
    uVar12 = *(undefined8 *)(param_1 + 0x398);
    uVar13 = *(undefined8 *)(param_1 + 0x3a0);
    uVar14 = *(undefined8 *)(param_1 + 0x3a8);
    uVar15 = *(undefined8 *)(param_1 + 0x3b0);
    *(undefined8 *)(lVar17 + 0xd8) = uVar1;
    *(undefined8 *)(lVar17 + 0xb8) = uVar5;
    *(undefined8 *)(lVar17 + 0xc0) = uVar6;
    *(undefined8 *)(lVar17 + 200) = uVar7;
    *(undefined8 *)(lVar17 + 0xd0) = uVar8;
    *(undefined8 *)(lVar17 + 0x18) = uVar4;
    *(undefined8 *)(lVar17 + 0x20) = uVar9;
    *(undefined8 *)(lVar17 + 0x28) = uVar10;
    *(undefined8 *)(lVar17 + 0x30) = uVar11;
    *(undefined8 *)(lVar17 + 0x38) = uVar12;
    *(undefined8 *)(lVar17 + 0x40) = uVar13;
    *(undefined8 *)(lVar17 + 0x48) = uVar14;
    *(undefined8 *)(lVar17 + 0x50) = uVar15;
    return 1;
  }
  ufbxi_fail_imp_err_constprop_0(param_1,&_LC88);
  return 0;
}



long ufbx_bake_anim(long param_1,long param_2,int *param_3,undefined8 param_4)

{
  undefined8 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  int iVar13;
  long lVar14;
  undefined8 *puVar15;
  long in_FS_OFFSET;
  undefined8 auStack_7c8 [77];
  undefined1 local_560 [136];
  undefined1 local_4d8 [136];
  undefined1 local_450 [64];
  undefined1 local_410 [64];
  undefined1 local_3d0 [64];
  undefined1 local_390 [64];
  undefined1 local_350 [64];
  undefined1 local_310 [64];
  undefined1 local_2d0 [64];
  undefined1 local_290 [64];
  undefined1 local_250 [96];
  undefined8 local_1f0;
  undefined8 local_1e8;
  long local_1e0;
  undefined8 local_1d0;
  undefined8 uStack_1c8;
  undefined8 local_1c0;
  undefined8 uStack_1b8;
  undefined8 local_1b0;
  undefined8 uStack_1a8;
  undefined8 local_1a0;
  undefined8 uStack_198;
  undefined8 local_190;
  undefined8 uStack_188;
  undefined8 local_180;
  undefined8 uStack_178;
  undefined8 local_170;
  undefined8 uStack_168;
  undefined8 local_160;
  undefined8 uStack_158;
  undefined8 local_150;
  undefined8 uStack_148;
  undefined8 local_140;
  undefined8 uStack_138;
  undefined8 local_130;
  undefined8 uStack_128;
  undefined8 local_120;
  undefined8 uStack_118;
  undefined8 local_110;
  undefined8 uStack_108;
  undefined8 local_100;
  undefined8 uStack_f8;
  undefined8 local_f0;
  undefined8 uStack_e8;
  undefined8 local_e0;
  undefined8 uStack_d8;
  long local_40;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_3 == (int *)0x0) {
    if (param_2 == 0) {
      param_2 = *(long *)(param_1 + 0x298);
    }
    puVar15 = auStack_7c8;
    for (lVar14 = 0xf2; lVar14 != 0; lVar14 = lVar14 + -1) {
      *puVar15 = 0;
      puVar15 = puVar15 + 1;
    }
  }
  else {
    if (*param_3 != 0 || param_3[0x3e] != 0) {
      if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
        lVar14 = ufbxi_uninitialized_options(param_4);
        return lVar14;
      }
      goto LAB_00138c6c;
    }
    if (param_2 == 0) {
      param_2 = *(long *)(param_1 + 0x298);
    }
    uVar1 = *(undefined8 *)param_3;
    uVar2 = *(undefined8 *)(param_3 + 2);
    uVar3 = *(undefined8 *)(param_3 + 4);
    uVar4 = *(undefined8 *)(param_3 + 6);
    uVar5 = *(undefined8 *)(param_3 + 8);
    uVar6 = *(undefined8 *)(param_3 + 10);
    uVar7 = *(undefined8 *)(param_3 + 0xc);
    uVar8 = *(undefined8 *)(param_3 + 0xe);
    uVar9 = *(undefined8 *)(param_3 + 0x10);
    uVar10 = *(undefined8 *)(param_3 + 0x12);
    uVar11 = *(undefined8 *)(param_3 + 0x14);
    uVar12 = *(undefined8 *)(param_3 + 0x16);
    puVar15 = auStack_7c8;
    for (lVar14 = 0xf2; lVar14 != 0; lVar14 = lVar14 + -1) {
      *puVar15 = 0;
      puVar15 = puVar15 + 1;
    }
    local_170 = *(undefined8 *)(param_3 + 0x18);
    uStack_168 = *(undefined8 *)(param_3 + 0x1a);
    local_160 = *(undefined8 *)(param_3 + 0x1c);
    uStack_158 = *(undefined8 *)(param_3 + 0x1e);
    local_150 = *(undefined8 *)(param_3 + 0x20);
    uStack_148 = *(undefined8 *)(param_3 + 0x22);
    local_140 = *(undefined8 *)(param_3 + 0x24);
    uStack_138 = *(undefined8 *)(param_3 + 0x26);
    local_130 = *(undefined8 *)(param_3 + 0x28);
    uStack_128 = *(undefined8 *)(param_3 + 0x2a);
    local_120 = *(undefined8 *)(param_3 + 0x2c);
    uStack_118 = *(undefined8 *)(param_3 + 0x2e);
    local_110 = *(undefined8 *)(param_3 + 0x30);
    uStack_108 = *(undefined8 *)(param_3 + 0x32);
    local_100 = *(undefined8 *)(param_3 + 0x34);
    uStack_f8 = *(undefined8 *)(param_3 + 0x36);
    local_f0 = *(undefined8 *)(param_3 + 0x38);
    uStack_e8 = *(undefined8 *)(param_3 + 0x3a);
    local_e0 = *(undefined8 *)(param_3 + 0x3c);
    uStack_d8 = *(undefined8 *)(param_3 + 0x3e);
    local_1d0 = uVar1;
    uStack_1c8 = uVar2;
    local_1c0 = uVar3;
    uStack_1b8 = uVar4;
    local_1b0 = uVar5;
    uStack_1a8 = uVar6;
    local_1a0 = uVar7;
    uStack_198 = uVar8;
    local_190 = uVar9;
    uStack_188 = uVar10;
    local_180 = uVar11;
    uStack_178 = uVar12;
  }
  local_1e0 = param_1;
  iVar13 = ufbxi_bake_anim_imp(auStack_7c8,param_2);
  ufbxi_buf_free(local_410);
  ufbxi_buf_free(local_3d0);
  ufbxi_buf_free(local_390);
  ufbxi_buf_free(local_350);
  ufbxi_buf_free(local_310);
  ufbxi_buf_free(local_2d0);
  ufbxi_buf_free(local_290);
  ufbxi_buf_free(local_250);
  ufbxi_free_size(local_560,1,local_1f0,local_1e8);
  ufbxi_free_ator(local_560);
  if (iVar13 == 0) {
    ufbxi_fix_error_type(auStack_7c8,"Failed to bake anim",param_4);
    ufbxi_buf_free(local_450);
    ufbxi_free_ator(local_4d8);
    local_40 = 0;
  }
  else {
    ufbxi_clear_error(param_4);
    local_40 = local_40 + 0x168;
  }
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return local_40;
  }
LAB_00138c6c:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_matrix_mul(double *param_1,double *param_2,double *param_3)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double dVar15;
  double dVar16;
  double dVar17;
  double dVar18;
  double dVar19;
  double dVar20;
  double dVar21;
  double dVar22;
  double dVar23;
  double dVar24;
  double dVar25;
  
  if ((param_2 == (double *)0x0) || (param_3 == (double *)0x0)) {
    dVar25 = 0.0;
    dVar14 = 0.0;
    dVar15 = 0.0;
    dVar17 = 0.0;
    dVar18 = 0.0;
    dVar19 = 0.0;
    dVar21 = 0.0;
    dVar16 = _LC0;
    dVar20 = _LC0;
    dVar22 = dVar18;
    dVar23 = dVar19;
    dVar24 = _LC0;
  }
  else {
    dVar16 = param_3[8];
    dVar20 = param_3[9];
    dVar23 = *param_2;
    dVar24 = param_2[1];
    dVar1 = param_2[4];
    dVar22 = param_2[5];
    dVar2 = param_2[2];
    dVar3 = param_2[3];
    dVar4 = *param_3;
    dVar5 = param_3[1];
    dVar6 = param_2[8];
    dVar7 = param_2[6];
    dVar8 = param_2[7];
    dVar9 = param_3[4];
    dVar10 = param_3[5];
    dVar14 = param_3[10] * param_2[3] + dVar20 * dVar23 + param_3[0xb] * dVar7 + param_2[9];
    dVar15 = param_3[10] * param_2[4] + dVar20 * dVar24 + param_3[0xb] * dVar8 + param_2[10];
    dVar11 = param_3[2];
    dVar12 = param_3[3];
    dVar17 = dVar20 * dVar2 + param_3[10] * dVar22 + param_3[0xb] * dVar6 + param_2[0xb];
    dVar20 = param_3[6];
    dVar13 = param_3[7];
    dVar21 = dVar4 * dVar24 + dVar5 * dVar1 + dVar11 * dVar8;
    dVar25 = dVar9 * dVar22 + dVar12 * dVar2 + dVar6 * dVar10;
    dVar18 = dVar20 * dVar23 + dVar13 * dVar3 + dVar16 * dVar7;
    dVar19 = dVar20 * dVar24 + dVar13 * dVar1 + dVar16 * dVar8;
    dVar16 = dVar16 * dVar6 + dVar13 * dVar22 + dVar2 * dVar20;
    dVar20 = dVar4 * dVar23 + dVar5 * dVar3 + dVar11 * dVar7;
    dVar22 = dVar6 * dVar11 + dVar22 * dVar5 + dVar2 * dVar4;
    dVar23 = dVar7 * dVar10 + dVar3 * dVar9 + dVar23 * dVar12;
    dVar24 = dVar9 * dVar1 + dVar12 * dVar24 + dVar8 * dVar10;
  }
  *param_1 = dVar20;
  param_1[1] = dVar21;
  param_1[2] = dVar22;
  param_1[3] = dVar23;
  param_1[4] = dVar24;
  param_1[5] = dVar25;
  param_1[6] = dVar18;
  param_1[7] = dVar19;
  param_1[8] = dVar16;
  param_1[9] = dVar14;
  param_1[10] = dVar15;
  param_1[0xb] = dVar17;
  return;
}



double ufbx_matrix_determinant(double *param_1)

{
  return (((param_1[6] * param_1[1] * param_1[5] +
           (double)((ulong)param_1[6] ^ _LC15) * param_1[4] * param_1[2] +
           param_1[3] * param_1[7] * param_1[2]) - param_1[7] * *param_1 * param_1[5]) -
         param_1[3] * param_1[1] * param_1[8]) + param_1[4] * *param_1 * param_1[8];
}



double * ufbx_matrix_invert(undefined8 param_1,double *param_2)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  long lVar13;
  double *extraout_RDX;
  double *pdVar14;
  long in_FS_OFFSET;
  byte bVar15;
  double extraout_XMM0_Qa;
  double dVar16;
  double dVar17;
  double local_78;
  double dStack_70;
  double local_68;
  double dStack_60;
  double local_58;
  double dStack_50;
  double local_48;
  double dStack_40;
  double local_38;
  double dStack_30;
  double dStack_28;
  double dStack_20;
  long local_10;
  
  bVar15 = 0;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  dVar12 = (double)ufbx_matrix_determinant(param_2,param_2,param_1);
  if ((double)((ulong)extraout_XMM0_Qa & _LC97) <= _LC66) {
    pdVar14 = &local_78;
    for (lVar13 = 0xc; lVar13 != 0; lVar13 = lVar13 + -1) {
      *pdVar14 = dVar12;
      pdVar14 = pdVar14 + (ulong)bVar15 * -2 + 1;
    }
  }
  else {
    dVar12 = *param_2;
    dVar1 = param_2[1];
    dVar2 = param_2[4];
    dVar3 = param_2[5];
    dVar4 = param_2[2];
    dVar5 = param_2[3];
    dStack_20 = _LC0 / extraout_XMM0_Qa;
    dVar6 = param_2[6];
    dVar7 = param_2[7];
    dVar8 = param_2[8];
    dVar9 = param_2[9];
    dVar16 = (double)((ulong)dVar6 ^ _LC15) * dVar2;
    local_78 = (dVar3 * (double)((ulong)param_2[7] ^ _LC15) + dVar2 * dVar8) * dStack_20;
    dStack_70 = (dVar7 * dVar4 - dVar8 * dVar1) * dStack_20;
    local_68 = (dVar4 * (double)((ulong)dVar2 ^ _LC15) + dVar3 * dVar1) * dStack_20;
    dStack_60 = (dVar3 * dVar6 - dVar8 * dVar5) * dStack_20;
    local_58 = ((double)((ulong)dVar6 ^ _LC15) * dVar4 + dVar8 * dVar12) * dStack_20;
    dStack_50 = (dVar5 * dVar4 - dVar3 * dVar12) * dStack_20;
    local_48 = (dVar16 + dVar7 * dVar5) * dStack_20;
    dStack_40 = (dVar6 * dVar1 - dVar7 * dVar12) * dStack_20;
    dVar17 = (double)((ulong)dVar5 ^ _LC15) * dVar1;
    dVar10 = param_2[10];
    dVar11 = param_2[0xb];
    local_38 = (dVar17 + dVar12 * dVar2) * dStack_20;
    dStack_30 = ((((dVar7 * param_2[9] * dVar3 - dVar10 * dVar6 * dVar3) - dVar8 * dVar9 * dVar2) +
                  dVar8 * dVar5 * dVar10 + (double)((ulong)dVar16 ^ _LC15) * dVar11) -
                dVar7 * dVar5 * dVar11) * dStack_20;
    dStack_28 = (((((dVar6 * param_2[10] * dVar4 - dVar9 * dVar7 * dVar4) + dVar8 * dVar9 * dVar1) -
                  dVar8 * dVar12 * dVar10) - param_2[1] * param_2[6] * dVar11) +
                dVar7 * dVar12 * dVar11) * dStack_20;
    dStack_20 = (((((dVar9 * dVar2 * dVar4 - dVar5 * dVar10 * dVar4) - dVar9 * dVar1 * dVar3) +
                  dVar12 * dVar10 * dVar3) - dVar17 * dVar11) - dVar12 * dVar2 * dVar11) * dStack_20
    ;
  }
  *extraout_RDX = local_78;
  extraout_RDX[1] = dStack_70;
  extraout_RDX[6] = local_48;
  extraout_RDX[7] = dStack_40;
  extraout_RDX[2] = local_68;
  extraout_RDX[3] = dStack_60;
  extraout_RDX[8] = local_38;
  extraout_RDX[9] = dStack_30;
  extraout_RDX[4] = local_58;
  extraout_RDX[5] = dStack_50;
  extraout_RDX[10] = dStack_28;
  extraout_RDX[0xb] = dStack_20;
  if (local_10 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return extraout_RDX;
}



void ufbxi_update_pose(long param_1)

{
  long *plVar1;
  long lVar2;
  long lVar3;
  undefined1 *puVar4;
  long *plVar5;
  long *plVar6;
  long lVar7;
  long in_FS_OFFSET;
  long local_108;
  long lStack_100;
  long local_f8;
  long lStack_f0;
  long local_e8;
  long lStack_e0;
  long local_d8;
  long lStack_d0;
  long local_c8;
  long lStack_c0;
  long local_b8;
  long lStack_b0;
  undefined1 local_a8 [104];
  long local_40;
  
  plVar1 = *(long **)(param_1 + 0x88);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar2 = *(long *)(param_1 + 0x90);
  if (plVar1 != plVar1 + lVar2 * 0x19) {
    plVar6 = plVar1;
    do {
      lVar7 = *(long *)(*plVar6 + 0x80);
      lVar3 = ufbx_get_bone_pose(param_1,lVar7);
      puVar4 = (undefined1 *)(lVar3 + 8);
      if ((lVar3 == 0) && (puVar4 = (undefined1 *)(lVar7 + 0x230), lVar7 == 0)) {
        puVar4 = ufbx_identity_matrix;
      }
      ufbx_matrix_invert(local_a8,puVar4);
      ufbx_matrix_mul(&local_108,local_a8,plVar6 + 1);
      plVar5 = plVar6 + 0x19;
      plVar6[0xd] = local_108;
      plVar6[0xe] = lStack_100;
      plVar6[0xf] = local_f8;
      plVar6[0x10] = lStack_f0;
      plVar6[0x11] = local_e8;
      plVar6[0x12] = lStack_e0;
      plVar6[0x13] = local_d8;
      plVar6[0x14] = lStack_d0;
      plVar6[0x15] = local_c8;
      plVar6[0x16] = lStack_c0;
      plVar6[0x17] = local_b8;
      plVar6[0x18] = lStack_b0;
      plVar6 = plVar5;
    } while (plVar1 + lVar2 * 0x19 != plVar5);
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



void ufbx_matrix_for_normals(undefined8 param_1,double *param_2)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double dVar15;
  double *pdVar16;
  double extraout_XMM0_Qa;
  double dVar17;
  double dVar18;
  double dVar19;
  
  pdVar16 = (double *)ufbx_matrix_determinant(param_2);
  dVar19 = _LC0;
  if (extraout_XMM0_Qa < 0.0) {
    dVar19 = _LC17;
  }
  dVar1 = param_2[7];
  dVar2 = param_2[6];
  pdVar16[0xb] = 0.0;
  dVar12 = param_2[5];
  dVar13 = param_2[1];
  dVar3 = param_2[4];
  dVar4 = param_2[8];
  dVar5 = param_2[3];
  dVar18 = (double)((ulong)dVar2 ^ _LC15);
  dVar17 = (double)(_LC15 ^ (ulong)dVar3);
  dVar6 = param_2[1];
  dVar14 = param_2[7];
  dVar7 = param_2[2];
  dVar8 = param_2[4];
  dVar9 = param_2[2];
  dVar15 = param_2[2];
  dVar10 = *param_2;
  dVar11 = param_2[5];
  *pdVar16 = ((double)((ulong)dVar1 ^ _LC15) * dVar12 + param_2[4] * dVar4) * dVar19;
  pdVar16[1] = (dVar2 * dVar12 - dVar4 * dVar5) * dVar19;
  pdVar16[2] = (dVar8 * dVar18 + dVar1 * dVar5) * dVar19;
  pdVar16[3] = (dVar14 * dVar7 - dVar4 * dVar6) * dVar19;
  pdVar16[4] = (dVar9 * dVar18 + dVar4 * dVar10) * dVar19;
  pdVar16[5] = (dVar13 * dVar2 - dVar1 * dVar10) * dVar19;
  pdVar16[6] = (dVar17 * dVar15 + dVar11 * dVar6) * dVar19;
  pdVar16[7] = (dVar5 * dVar15 - dVar11 * dVar10) * dVar19;
  pdVar16[8] = (dVar10 * dVar3 - dVar5 * dVar13) * dVar19;
  *(undefined1 (*) [16])(pdVar16 + 9) = (undefined1  [16])0x0;
  return;
}



void ufbx_transform_position(undefined1 (*param_1) [16],double *param_2)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  
  if (param_2 != (double *)0x0) {
    dVar4 = param_2[1];
    dVar5 = param_2[4];
    dVar6 = param_2[7];
    dVar7 = param_2[10];
    dVar1 = param_2[2];
    dVar2 = param_2[8];
    dVar3 = param_2[5];
    *(double *)*param_1 =
         *param_2 * in_stack_00000008 + in_stack_00000010 * param_2[3] +
         in_stack_00000018 * param_2[6] + param_2[9];
    *(double *)(*param_1 + 8) =
         dVar4 * in_stack_00000008 + in_stack_00000010 * dVar5 + in_stack_00000018 * dVar6 + dVar7;
    *(double *)param_1[1] =
         in_stack_00000010 * dVar3 + in_stack_00000008 * dVar1 + in_stack_00000018 * dVar2 +
         param_2[0xb];
    return;
  }
  *param_1 = (undefined1  [16])0x0;
  *(undefined8 *)param_1[1] = 0;
  return;
}



void ufbxi_transform_vec3_list(long *param_1,undefined8 param_2,long param_3)

{
  long lVar1;
  long lVar2;
  undefined8 *extraout_RDX;
  long lVar3;
  long in_FS_OFFSET;
  undefined8 local_38;
  undefined8 uStack_30;
  undefined8 local_28;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] != 0) {
    lVar3 = (-(ulong)(param_3 == 0) & 0xfffffffffffffff8) + 0x20;
    lVar2 = param_1[1] * lVar3 + *param_1;
    if (*param_1 != lVar2) {
      do {
        ufbx_transform_position();
        *extraout_RDX = local_38;
        extraout_RDX[1] = uStack_30;
        extraout_RDX[2] = local_28;
      } while (lVar2 != (long)extraout_RDX + lVar3);
    }
  }
  if (lVar1 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



void ufbx_transform_direction(undefined1 (*param_1) [16],double *param_2)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double in_stack_00000008;
  double in_stack_00000010;
  double in_stack_00000018;
  
  if (param_2 != (double *)0x0) {
    dVar4 = param_2[1];
    dVar5 = param_2[4];
    dVar6 = param_2[7];
    dVar1 = param_2[2];
    dVar2 = param_2[8];
    dVar3 = param_2[5];
    *(double *)*param_1 =
         *param_2 * in_stack_00000008 + in_stack_00000010 * param_2[3] +
         in_stack_00000018 * param_2[6];
    *(double *)(*param_1 + 8) =
         dVar4 * in_stack_00000008 + in_stack_00000010 * dVar5 + in_stack_00000018 * dVar6;
    *(double *)param_1[1] =
         in_stack_00000010 * dVar3 + in_stack_00000008 * dVar1 + in_stack_00000018 * dVar2;
    return;
  }
  *param_1 = (undefined1  [16])0x0;
  *(undefined8 *)param_1[1] = 0;
  return;
}



void ufbx_transform_to_matrix(double *param_1,double *param_2)

{
  double dVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double dVar15;
  double dVar16;
  
  if (param_2 == (double *)0x0) {
    dVar7 = 0.0;
    dVar15 = 0.0;
    dVar16 = 0.0;
    dVar12 = 0.0;
    dVar10 = 0.0;
    dVar11 = 0.0;
    dVar9 = 0.0;
    dVar5 = _LC0;
    dVar8 = _LC0;
    dVar13 = dVar10;
    dVar14 = dVar11;
    dVar6 = _LC0;
  }
  else {
    dVar14 = param_2[4];
    dVar6 = param_2[3];
    dVar1 = param_2[5];
    dVar2 = param_2[6];
    dVar3 = param_2[8];
    dVar5 = param_2[9];
    dVar4 = (double)((ulong)(dVar6 * dVar6) ^ _LC15);
    dVar8 = param_2[7];
    dVar9 = (dVar6 * dVar14 + dVar1 * dVar2) * (dVar8 + dVar8);
    dVar12 = param_2[2];
    dVar10 = (dVar6 * dVar1 + dVar14 * dVar2) * (dVar5 + dVar5);
    dVar11 = (dVar14 * dVar1 - dVar6 * dVar2) * (dVar5 + dVar5);
    dVar15 = *param_2;
    dVar16 = param_2[1];
    dVar7 = (dVar3 + dVar3) * (dVar6 * dVar2 + dVar14 * dVar1);
    dVar5 = ((dVar4 - dVar14 * dVar14) + _LC60) * (dVar5 + dVar5);
    dVar8 = (((double)(_LC15 ^ (ulong)(dVar14 * dVar14)) - dVar1 * dVar1) + _LC60) * (dVar8 + dVar8)
    ;
    dVar13 = (dVar6 * dVar1 - dVar14 * dVar2) * (param_2[7] + param_2[7]);
    dVar14 = (dVar6 * dVar14 - dVar1 * dVar2) * (dVar3 + dVar3);
    dVar6 = (dVar3 + dVar3) * ((dVar4 - dVar1 * dVar1) + _LC60);
  }
  *param_1 = dVar8;
  param_1[1] = dVar9;
  param_1[2] = dVar13;
  param_1[3] = dVar14;
  param_1[4] = dVar6;
  param_1[5] = dVar7;
  param_1[6] = dVar10;
  param_1[7] = dVar11;
  param_1[8] = dVar5;
  param_1[9] = dVar15;
  param_1[10] = dVar16;
  param_1[0xb] = dVar12;
  return;
}



void ufbxi_setup_root_node(long param_1,long param_2)

{
  undefined8 uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  long extraout_RDX;
  long in_FS_OFFSET;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  undefined8 local_38;
  undefined8 uStack_30;
  undefined8 local_28;
  undefined8 uStack_20;
  long local_10;
  
  uVar1 = _LC0;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(char *)(param_1 + 0x432) == '\0') {
    *(undefined1 (*) [16])(param_2 + 0xf0) = (undefined1  [16])0x0;
    *(undefined1 (*) [16])(param_2 + 0x100) = (undefined1  [16])0x0;
    *(undefined8 *)(param_2 + 0x120) = uVar1;
    *(undefined8 *)(param_2 + 0x128) = uVar1;
    *(undefined8 *)(param_2 + 0x130) = uVar1;
    *(undefined8 *)(param_2 + 0x138) = uVar1;
    uVar1 = _LC0;
    *(undefined1 (*) [16])(param_2 + 0x110) = (undefined1  [16])0x0;
    *(undefined8 *)(param_2 + 0x1d0) = uVar1;
    *(undefined8 *)(param_2 + 0x1d8) = 0;
    *(undefined1 (*) [16])(param_2 + 0x1e0) = (undefined1  [16])0x0;
    *(undefined8 *)(param_2 + 0x1f0) = uVar1;
    *(undefined8 *)(param_2 + 0x1f8) = 0;
    *(undefined1 (*) [16])(param_2 + 0x200) = (undefined1  [16])0x0;
    *(undefined8 *)(param_2 + 0x210) = uVar1;
    *(undefined8 *)(param_2 + 0x218) = 0;
    *(undefined1 (*) [16])(param_2 + 0x220) = (undefined1  [16])0x0;
  }
  else {
    uVar1 = *(undefined8 *)(param_1 + 0x440);
    uVar2 = *(undefined8 *)(param_1 + 0x448);
    uVar3 = *(undefined8 *)(param_1 + 0x450);
    uVar4 = *(undefined8 *)(param_1 + 0x458);
    uVar5 = *(undefined8 *)(param_1 + 0x460);
    uVar6 = *(undefined8 *)(param_1 + 0x468);
    uVar7 = *(undefined8 *)(param_1 + 0x470);
    uVar8 = *(undefined8 *)(param_1 + 0x478);
    uVar9 = *(undefined8 *)(param_1 + 0x480);
    *(undefined8 *)(param_2 + 0xf0) = *(undefined8 *)(param_1 + 0x438);
    *(undefined8 *)(param_2 + 0xf8) = uVar1;
    *(undefined8 *)(param_2 + 0x100) = uVar2;
    *(undefined8 *)(param_2 + 0x108) = uVar3;
    *(undefined8 *)(param_2 + 0x110) = uVar4;
    *(undefined8 *)(param_2 + 0x118) = uVar5;
    *(undefined8 *)(param_2 + 0x120) = uVar6;
    *(undefined8 *)(param_2 + 0x128) = uVar7;
    *(undefined8 *)(param_2 + 0x130) = uVar8;
    *(undefined8 *)(param_2 + 0x138) = uVar9;
    ufbx_transform_to_matrix(&local_78,param_1 + 0x438);
    *(undefined8 *)(extraout_RDX + 0x1d0) = local_78;
    *(undefined8 *)(extraout_RDX + 0x1d8) = uStack_70;
    *(undefined8 *)(extraout_RDX + 0x1e0) = local_68;
    *(undefined8 *)(extraout_RDX + 0x1e8) = uStack_60;
    *(undefined8 *)(extraout_RDX + 0x1f0) = local_58;
    *(undefined8 *)(extraout_RDX + 0x1f8) = uStack_50;
    *(undefined8 *)(extraout_RDX + 0x200) = local_48;
    *(undefined8 *)(extraout_RDX + 0x208) = uStack_40;
    *(undefined8 *)(extraout_RDX + 0x210) = local_38;
    *(undefined8 *)(extraout_RDX + 0x218) = uStack_30;
    *(undefined8 *)(extraout_RDX + 0x220) = local_28;
    *(undefined8 *)(extraout_RDX + 0x228) = uStack_20;
    param_2 = extraout_RDX;
  }
  *(undefined1 *)(param_2 + 0x441) = 1;
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 ufbxi_read_legacy_root(long param_1)

{
  char *__s1;
  int iVar1;
  long lVar2;
  undefined8 uVar3;
  long in_FS_OFFSET;
  long local_c8;
  char *pcStack_c0;
  undefined8 local_b8;
  undefined1 auStack_b0 [16];
  undefined1 auStack_a0 [16];
  undefined8 local_90;
  long local_88;
  char *pcStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  iVar1 = ufbxi_init_node_prop_names();
  if ((iVar1 != 0) &&
     (lVar2 = ufbxi_push_synthetic_element_size
                        (param_1,param_1 + 0x21a8,0,&ufbxi_empty_char,0x450,1), lVar2 != 0)) {
    ufbxi_setup_root_node(param_1,lVar2);
    lVar2 = ufbxi_push_size_copy(param_1 + 0xb30,4,1,lVar2 + 0x30);
    if (lVar2 != 0) {
      *(undefined8 *)(param_1 + 0x21f0) = 0xac0e8d7b0;
      *(undefined8 *)(param_1 + 0x21f8) = _LC218;
LAB_00139c80:
      do {
        while( true ) {
          iVar1 = ufbxi_parse_legacy_toplevel(param_1);
          if (iVar1 == 0) goto LAB_00139ce0;
          if (*(undefined8 **)(param_1 + 0x1ab8) == (undefined8 *)0x0) {
            if ((*(char *)(param_1 + 0x495) != '\0') &&
               (iVar1 = ufbxi_retain_toplevel(param_1,0), iVar1 == 0)) goto LAB_00139ce0;
            if (*(long *)(param_1 + 0x21d8) != 0) {
              local_90 = 0;
              pcStack_c0 = "(internal)";
              local_b8 = 10;
              auStack_b0 = (undefined1  [16])0x0;
              auStack_a0 = (undefined1  [16])0x0;
              local_c8 = *(long *)(param_1 + 0x21d8);
              iVar1 = ufbxi_push_string_place_str(param_1 + 0x1960,&pcStack_c0,1);
              if ((iVar1 == 0) ||
                 (lVar2 = ufbxi_push_element_size(param_1,&local_c8,0xd0,0x1e), lVar2 == 0))
              goto LAB_00139ce0;
              local_88 = local_c8;
              pcStack_80 = pcStack_c0;
              local_78 = local_b8;
              uStack_70 = auStack_b0._0_8_;
              local_68 = auStack_b0._8_8_;
              uStack_60 = auStack_a0._0_8_;
              local_58 = auStack_a0._8_8_;
              uStack_50 = local_90;
              iVar1 = ufbxi_push_synthetic_id(param_1,&local_88);
              if ((iVar1 == 0) ||
                 ((lVar2 = ufbxi_push_element_size(param_1,&local_88,0xa8,0x1d), lVar2 == 0 ||
                  (iVar1 = ufbxi_connect_oo(param_1,local_c8,local_88), iVar1 == 0))))
              goto LAB_00139ce0;
            }
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              return 1;
            }
            goto LAB_00139ec4;
          }
          __s1 = (char *)**(undefined8 **)(param_1 + 0x1ab8);
          if (__s1 != "FBXHeaderExtension") break;
          iVar1 = ufbxi_read_header_extension(param_1);
          if (iVar1 == 0) goto LAB_00139ce0;
        }
        if (__s1 == "Media") {
          iVar1 = ufbxi_read_legacy_media(param_1);
        }
        else if (__s1 == "Takes") {
          iVar1 = ufbxi_read_takes(param_1);
        }
        else if (__s1 == "Model") {
          iVar1 = ufbxi_read_legacy_model(param_1);
        }
        else {
          iVar1 = strcmp(__s1,"Settings");
          if (iVar1 != 0) goto LAB_00139c80;
          iVar1 = ufbxi_read_legacy_settings(param_1);
        }
      } while (iVar1 != 0);
    }
  }
LAB_00139ce0:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    uVar3 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar3;
  }
LAB_00139ec4:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 ufbxi_read_root(long param_1)

{
  uint uVar1;
  uint uVar2;
  long *plVar3;
  char cVar4;
  int iVar5;
  ulong uVar6;
  long lVar7;
  undefined8 uVar8;
  undefined4 uVar9;
  undefined8 *puVar10;
  char *pcVar11;
  undefined8 *puVar12;
  long in_FS_OFFSET;
  ulong local_88;
  undefined1 *local_80;
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  undefined8 local_3c;
  int local_34;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  iVar5 = ufbxi_parse_toplevel(param_1,"FBXHeaderExtension");
  if ((iVar5 != 0) && (iVar5 = ufbxi_read_header_extension(param_1), iVar5 != 0)) {
    if (*(int *)(param_1 + 0x26c) == 3) {
      iVar5 = ufbxi_parse_toplevel(param_1,"Creator");
      if (iVar5 == 0) goto LAB_0013a128;
      lVar7 = *(long *)(param_1 + 0x1ab8);
      if ((lVar7 != 0) && ((*(ushort *)(lVar7 + 0xe) & 3) == 2)) {
        plVar3 = *(long **)(lVar7 + 0x18);
        lVar7 = *plVar3;
        uVar1 = *(uint *)(plVar3 + 1);
        uVar2 = *(uint *)((long)plVar3 + 0xc);
        if (uVar2 == 0) {
          *(long *)(param_1 + 0x1c28) = lVar7;
          *(ulong *)(param_1 + 0x1c30) = (ulong)uVar1;
        }
        else if (uVar2 != 0xffffffff) {
          *(ulong *)(param_1 + 0x1c30) = (ulong)uVar2;
          *(ulong *)(param_1 + 0x1c28) = lVar7 + 1 + (ulong)uVar1;
        }
      }
    }
    local_34 = 0;
    local_3c = 0;
    cVar4 = ufbxi_match_version_string
                      ("blender-- ?.?.?",*(undefined8 *)(param_1 + 0x1c28),
                       *(undefined8 *)(param_1 + 0x1c30),&local_3c);
    if (cVar4 == '\0') {
      cVar4 = ufbxi_match_version_string("blender- ?.?");
      if (cVar4 == '\0') {
        cVar4 = ufbxi_match_version_string("blender version ?.?");
        if (cVar4 == '\0') {
          cVar4 = ufbxi_match_version_string("fbx sdk/fbx plugins version ?.?");
          if (cVar4 == '\0') {
            cVar4 = ufbxi_match_version_string("fbx sdk/fbx plugins build ?");
            if (cVar4 == '\0') {
              cVar4 = ufbxi_match_version_string("motionbuilder version ?.?");
              if ((cVar4 == '\0') &&
                 (cVar4 = ufbxi_match_version_string("motionbuilder/mocap/online version ?.?"),
                 cVar4 == '\0')) {
                uVar9 = *(undefined4 *)(param_1 + 0x26c);
                iVar5 = *(int *)(param_1 + 0x270);
              }
              else {
                *(undefined4 *)(param_1 + 0x26c) = 4;
                iVar5 = (uint)local_3c * 1000000 + local_3c._4_4_ * 1000;
                uVar9 = 4;
                *(int *)(param_1 + 0x270) = iVar5;
              }
            }
            else {
              *(undefined4 *)(param_1 + 0x26c) = 1;
              iVar5 = ((uint)local_3c / 10000) * 1000000 + (uint)local_3c % 100 +
                      ((uint)local_3c / 100 + ((uint)local_3c / 10000) * -100) * 1000;
              uVar9 = 1;
              *(int *)(param_1 + 0x270) = iVar5;
            }
          }
          else {
            *(undefined4 *)(param_1 + 0x26c) = 1;
            iVar5 = (uint)local_3c * 1000000 + local_3c._4_4_ * 1000;
            uVar9 = 1;
            *(int *)(param_1 + 0x270) = iVar5;
          }
        }
        else {
          *(undefined4 *)(param_1 + 0x26c) = 3;
          iVar5 = (uint)local_3c * 1000000 + local_3c._4_4_ * 1000;
          uVar9 = 3;
          *(int *)(param_1 + 0x270) = iVar5;
        }
      }
      else {
        *(undefined4 *)(param_1 + 0x26c) = 2;
        iVar5 = (uint)local_3c * 1000000 + local_3c._4_4_ * 1000;
        uVar9 = 2;
        *(int *)(param_1 + 0x270) = iVar5;
      }
    }
    else {
      *(undefined4 *)(param_1 + 0x26c) = 2;
      iVar5 = (uint)local_3c * 1000000 + local_3c._4_4_ * 1000 + local_34;
      uVar9 = 2;
      *(int *)(param_1 + 0x270) = iVar5;
    }
    *(undefined4 *)(param_1 + 0x1c80) = uVar9;
    *(int *)(param_1 + 0x1c84) = iVar5;
    if (*(char *)(param_1 + 0x35c) != '\0') {
      *(undefined8 *)(param_1 + 0x26c) = 0;
    }
    if (*(uint *)(param_1 + 0x268) < 7000) {
      iVar5 = ufbxi_init_node_prop_names(param_1);
      if (iVar5 != 0) {
        *(undefined1 *)(param_1 + 0x1b69) = 1;
        if (6999 < *(uint *)(param_1 + 0x268)) goto LAB_00139fb3;
        pcVar11 = "Scene";
        if (*(char *)(param_1 + 0x274) != '\0') {
          pcVar11 = "Model::Scene";
        }
        uVar6 = ufbxi_push_string_imp(param_1 + 0x1960,pcVar11,0xc,0,0,1);
        if (uVar6 == 0) goto LAB_0013a128;
        local_88 = uVar6 >> 1 | 0x8000000000000000;
        *(ulong *)(param_1 + 0x21a8) = local_88;
        goto LAB_0013a058;
      }
    }
    else {
      *(undefined1 *)(param_1 + 0x1b69) = 1;
LAB_00139fb3:
      iVar5 = ufbxi_parse_toplevel(param_1,"Documents");
      if ((iVar5 != 0) && (iVar5 = ufbxi_read_document(param_1), iVar5 != 0)) {
        local_88 = *(ulong *)(param_1 + 0x21a8);
LAB_0013a058:
        local_78 = (undefined1  [16])0x0;
        local_80 = &ufbxi_empty_char;
        local_68 = (undefined1  [16])0x0;
        local_58 = (undefined1  [16])0x0;
        lVar7 = ufbxi_push_element_size(param_1,&local_88,0x450,1);
        if (lVar7 != 0) {
          ufbxi_setup_root_node(param_1,lVar7);
          lVar7 = ufbxi_push_size_copy(param_1 + 0xb30,4,1,lVar7 + 0x30);
          if ((((lVar7 != 0) && (iVar5 = ufbxi_parse_toplevel(param_1,"Definitions"), iVar5 != 0))
              && (iVar5 = ufbxi_read_definitions(param_1), iVar5 != 0)) &&
             (iVar5 = ufbxi_parse_toplevel(param_1,"Objects"), iVar5 != 0)) {
            if ((*(char *)(param_1 + 0x277) == '\0') && (*(long *)(param_1 + 0x1ab8) == 0)) {
              if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
                pcVar11 = "$Not an FBX file";
                goto LAB_0013a143;
              }
              goto LAB_0013a549;
            }
            if (*(char *)(param_1 + 0x29a0) == '\0') {
              iVar5 = ufbxi_read_objects(param_1);
            }
            else {
              iVar5 = ufbxi_read_objects_threaded();
            }
            if (((((iVar5 != 0) && (iVar5 = ufbxi_parse_toplevel(param_1,"Connections"), iVar5 != 0)
                  ) && ((iVar5 = ufbxi_read_connections(param_1), iVar5 != 0 &&
                        (((iVar5 = ufbxi_parse_toplevel(param_1,"Takes"), iVar5 != 0 &&
                          (iVar5 = ufbxi_read_takes(param_1), iVar5 != 0)) &&
                         (iVar5 = ufbxi_parse_toplevel(param_1,"GlobalSettings"), iVar5 != 0))))))
                && ((*(long *)(param_1 + 0x1ab8) == 0 ||
                    (iVar5 = ufbxi_read_global_settings(param_1), iVar5 != 0)))) &&
               (iVar5 = ufbxi_parse_toplevel(param_1,"Version5"), iVar5 != 0)) {
              lVar7 = *(long *)(param_1 + 0x1ab8);
              if (lVar7 != 0) {
                puVar10 = *(undefined8 **)(lVar7 + 0x10);
                puVar12 = puVar10 + (ulong)*(uint *)(lVar7 + 8) * 4;
                for (; puVar10 != puVar12; puVar10 = puVar10 + 4) {
                  if ((*(char *)*puVar10 == 'S') &&
                     (iVar5 = strcmp((char *)*puVar10,"Settings"), iVar5 == 0)) {
                    iVar5 = ufbxi_read_legacy_settings(param_1,puVar10);
                    if (iVar5 == 0) goto LAB_0013a128;
                    break;
                  }
                }
              }
              if ((*(char *)(param_1 + 0x495) == '\0') ||
                 (iVar5 = ufbxi_parse_toplevel(param_1,0), iVar5 != 0)) {
                if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
                  return 1;
                }
                goto LAB_0013a549;
              }
            }
          }
        }
      }
    }
  }
LAB_0013a128:
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    pcVar11 = "";
LAB_0013a143:
    uVar8 = ufbxi_fail_imp_constprop_0(param_1,pcVar11);
    return uVar8;
  }
LAB_0013a549:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 ufbxi_unscaled_transform_to_matrix(undefined8 param_1,undefined8 *param_2)

{
  long in_FS_OFFSET;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  undefined8 local_38;
  undefined8 uStack_30;
  undefined8 uStack_28;
  undefined8 local_20;
  long local_10;
  
  local_68 = *param_2;
  uStack_60 = param_2[1];
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  local_58 = param_2[2];
  uStack_50 = param_2[3];
  local_48 = param_2[4];
  uStack_40 = param_2[5];
  local_38 = param_2[6];
  local_20 = _LC0;
  uStack_30 = _LC0;
  uStack_28 = _LC0;
  ufbx_transform_to_matrix(param_1,&local_68);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbxi_update_initial_clusters(long param_1)

{
  long *plVar1;
  double dVar2;
  int iVar3;
  long lVar4;
  char cVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  undefined8 extraout_RDX;
  undefined8 extraout_RDX_00;
  long *plVar9;
  long *plVar10;
  undefined8 *puVar11;
  undefined8 *puVar12;
  double dVar13;
  double dVar14;
  long *plVar15;
  long in_FS_OFFSET;
  undefined8 local_158;
  undefined8 uStack_150;
  undefined8 local_148;
  undefined8 uStack_140;
  undefined8 local_138;
  undefined8 uStack_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 uStack_110;
  undefined8 local_108;
  undefined8 uStack_100;
  undefined1 local_f8 [16];
  undefined8 local_e8;
  undefined8 local_e0;
  undefined8 uStack_d8;
  undefined8 local_d0;
  undefined8 uStack_c8;
  undefined8 local_c0;
  undefined8 uStack_b8;
  undefined8 local_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  long local_40;
  
  plVar9 = *(long **)(param_1 + 0x3c0);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  plVar1 = plVar9 + *(long *)(param_1 + 0x3c8);
  dVar13 = _LC0;
  for (plVar10 = plVar9; _LC0 = dVar13, plVar10 != plVar1; plVar10 = plVar10 + 1) {
    lVar7 = *plVar10;
    *(undefined8 *)(lVar7 + 0x88) = *(undefined8 *)(lVar7 + 0xe8);
    *(undefined8 *)(lVar7 + 0x90) = *(undefined8 *)(lVar7 + 0xf0);
    *(undefined8 *)(lVar7 + 0x98) = *(undefined8 *)(lVar7 + 0xf8);
    *(undefined8 *)(lVar7 + 0xa0) = *(undefined8 *)(lVar7 + 0x100);
    *(undefined8 *)(lVar7 + 0xa8) = *(undefined8 *)(lVar7 + 0x108);
    *(undefined8 *)(lVar7 + 0xb0) = *(undefined8 *)(lVar7 + 0x110);
    *(undefined8 *)(lVar7 + 0xb8) = *(undefined8 *)(lVar7 + 0x118);
    *(undefined8 *)(lVar7 + 0xc0) = *(undefined8 *)(lVar7 + 0x120);
    *(undefined8 *)(lVar7 + 200) = *(undefined8 *)(lVar7 + 0x128);
    *(undefined8 *)(lVar7 + 0xd0) = *(undefined8 *)(lVar7 + 0x130);
    *(undefined8 *)(lVar7 + 0xd8) = *(undefined8 *)(lVar7 + 0x138);
    *(undefined8 *)(lVar7 + 0xe0) = *(undefined8 *)(lVar7 + 0x140);
    dVar13 = _LC0;
  }
  dVar2 = *(double *)(param_1 + 0x208);
  iVar3 = *(int *)(param_1 + 0x200);
  if (iVar3 == 0 && *(int *)(param_1 + 0x1d0) == 0) {
    lVar7 = *(long *)(param_1 + 0x290);
    local_a8 = *(undefined8 *)(lVar7 + 0x1d0);
    uStack_a0 = *(undefined8 *)(lVar7 + 0x1d8);
    local_98 = *(undefined8 *)(lVar7 + 0x1e0);
    uStack_90 = *(undefined8 *)(lVar7 + 0x1e8);
    local_88 = *(undefined8 *)(lVar7 + 0x1f0);
    uStack_80 = *(undefined8 *)(lVar7 + 0x1f8);
    local_78 = *(undefined8 *)(lVar7 + 0x200);
    uStack_70 = *(undefined8 *)(lVar7 + 0x208);
    local_68 = *(undefined8 *)(lVar7 + 0x210);
    uStack_60 = *(undefined8 *)(lVar7 + 0x218);
    local_58 = *(undefined8 *)(lVar7 + 0x220);
    uStack_50 = *(undefined8 *)(lVar7 + 0x228);
  }
  else {
    local_e0 = *(undefined8 *)(param_1 + 0x1d8);
    uStack_d8 = *(undefined8 *)(param_1 + 0x1e0);
    local_d0 = *(undefined8 *)(param_1 + 0x1e8);
    uStack_c8 = *(undefined8 *)(param_1 + 0x1f0);
    local_f8 = (undefined1  [16])0x0;
    local_c0 = *(undefined8 *)(param_1 + 0x1f8);
    local_e8 = 0;
    uStack_b8 = local_c0;
    local_b0 = local_c0;
    ufbx_transform_to_matrix(&local_a8,local_f8);
    dVar13 = dVar2;
  }
  dVar14 = dVar13;
  if (plVar9 == plVar1) {
    plVar15 = *(long **)(param_1 + 0x520);
    plVar10 = plVar15 + *(long *)(param_1 + 0x528);
    if (plVar10 == plVar15) goto LAB_0013a900;
LAB_0013a812:
    puVar11 = &local_a8;
    do {
      lVar8 = *(long *)(*plVar15 + 0x88);
      lVar7 = lVar8 + *(long *)(*plVar15 + 0x90) * 200;
      if (lVar8 != lVar7) {
        puVar12 = &local_158;
        do {
          lVar6 = lVar8 + 8;
          lVar8 = lVar8 + 200;
          ufbx_matrix_mul(puVar12,puVar11,lVar6);
          *(undefined8 *)(lVar8 + -0xc0) = local_158;
          *(undefined8 *)(lVar8 + -0xb8) = uStack_150;
          *(undefined8 *)(lVar8 + -0xb0) = local_148;
          *(undefined8 *)(lVar8 + -0xa8) = uStack_140;
          *(undefined8 *)(lVar8 + -0xa0) = local_138;
          *(undefined8 *)(lVar8 + -0x98) = uStack_130;
          *(undefined8 *)(lVar8 + -0x90) = local_128;
          *(undefined8 *)(lVar8 + -0x88) = uStack_120;
          *(undefined8 *)(lVar8 + -0x80) = local_118;
          *(undefined8 *)(lVar8 + -0x78) = uStack_110;
          *(undefined8 *)(lVar8 + -0x70) = local_108;
          *(undefined8 *)(lVar8 + -0x68) = uStack_100;
          *(double *)(lVar8 + -0x78) = *(double *)(lVar8 + -0x78) * dVar13;
          *(double *)(lVar8 + -0x70) = *(double *)(lVar8 + -0x70) * dVar13;
          *(double *)(lVar8 + -0x68) = dVar14 * *(double *)(lVar8 + -0x68);
          ufbxi_mirror_matrix(extraout_RDX_00,iVar3);
        } while (lVar7 != lVar8);
      }
      plVar15 = plVar15 + 1;
    } while (plVar15 != plVar10);
    if (plVar9 == plVar1) goto LAB_0013a900;
  }
  else {
    puVar11 = &local_158;
    plVar10 = plVar9;
    do {
      lVar7 = *plVar10;
      plVar10 = plVar10 + 1;
      ufbx_matrix_mul(puVar11,&local_a8,lVar7 + 0x148);
      *(undefined8 *)(lVar7 + 0x148) = local_158;
      *(undefined8 *)(lVar7 + 0x150) = uStack_150;
      *(undefined8 *)(lVar7 + 0x158) = local_148;
      *(undefined8 *)(lVar7 + 0x160) = uStack_140;
      *(undefined8 *)(lVar7 + 0x168) = local_138;
      *(undefined8 *)(lVar7 + 0x170) = uStack_130;
      *(undefined8 *)(lVar7 + 0x178) = local_128;
      *(undefined8 *)(lVar7 + 0x180) = uStack_120;
      *(undefined8 *)(lVar7 + 0x188) = local_118;
      *(undefined8 *)(lVar7 + 400) = uStack_110;
      *(undefined8 *)(lVar7 + 0x198) = local_108;
      *(undefined8 *)(lVar7 + 0x1a0) = uStack_100;
      *(double *)(lVar7 + 400) = *(double *)(lVar7 + 400) * dVar13;
      *(double *)(lVar7 + 0x198) = *(double *)(lVar7 + 0x198) * dVar13;
      *(double *)(lVar7 + 0x1a0) = dVar14 * *(double *)(lVar7 + 0x1a0);
      ufbxi_mirror_matrix(extraout_RDX,iVar3);
    } while (plVar1 != plVar10);
    plVar15 = *(long **)(param_1 + 0x520);
    plVar10 = plVar15 + *(long *)(param_1 + 0x528);
    if (plVar15 != plVar10) goto LAB_0013a812;
  }
  do {
    lVar7 = *plVar9;
    lVar8 = ufbxi_fetch_src_element_constprop_0(lVar7,0x11);
    if ((lVar8 != 0) &&
       ((lVar6 = ufbxi_fetch_src_element_constprop_0(lVar8,1), lVar6 != 0 ||
        (((lVar8 = ufbxi_fetch_src_element_constprop_0(lVar8,2), lVar8 != 0 &&
          (*(long *)(lVar8 + 0x40) != 0)) && (lVar6 = **(long **)(lVar8 + 0x38), lVar6 != 0)))))) {
      if (*(char *)(lVar6 + 0x445) != '\0') {
        lVar6 = *(long *)(lVar6 + 0x80);
      }
      lVar8 = lVar7 + 0xe8;
      cVar5 = ufbxi_matrix_all_zero(lVar8);
      if (cVar5 == '\0') {
        ufbxi_mirror_matrix(lVar8,iVar3);
        if (dVar2 == _LC0) goto LAB_0013a9b7;
        lVar4 = *(long *)(lVar6 + 0xc0);
        *(double *)(lVar7 + 0x130) = *(double *)(lVar7 + 0x130) * dVar2;
        *(double *)(lVar7 + 0x138) = *(double *)(lVar7 + 0x138) * dVar2;
        *(double *)(lVar7 + 0x140) = dVar2 * *(double *)(lVar7 + 0x140);
      }
      else {
        ufbx_matrix_invert(&local_a8,lVar7 + 0x148);
        ufbx_matrix_mul(&local_158,&local_a8,lVar6 + 0x230);
        *(undefined8 *)(lVar7 + 0xe8) = local_158;
        *(undefined8 *)(lVar7 + 0xf0) = uStack_150;
        *(undefined8 *)(lVar7 + 0xf8) = local_148;
        *(undefined8 *)(lVar7 + 0x100) = uStack_140;
        *(undefined8 *)(lVar7 + 0x108) = local_138;
        *(undefined8 *)(lVar7 + 0x110) = uStack_130;
        *(undefined8 *)(lVar7 + 0x118) = local_128;
        *(undefined8 *)(lVar7 + 0x120) = uStack_120;
        *(undefined8 *)(lVar7 + 0x128) = local_118;
        *(undefined8 *)(lVar7 + 0x130) = uStack_110;
        *(undefined8 *)(lVar7 + 0x138) = local_108;
        *(undefined8 *)(lVar7 + 0x140) = uStack_100;
LAB_0013a9b7:
        lVar4 = *(long *)(lVar6 + 0xc0);
      }
      if (lVar4 == 0) {
        if (*(char *)(lVar6 + 0x442) == '\0') {
          *(undefined8 *)(lVar7 + 0x88) = *(undefined8 *)(lVar7 + 0xe8);
          *(undefined8 *)(lVar7 + 0x90) = *(undefined8 *)(lVar7 + 0xf0);
          *(undefined8 *)(lVar7 + 0x98) = *(undefined8 *)(lVar7 + 0xf8);
          *(undefined8 *)(lVar7 + 0xa0) = *(undefined8 *)(lVar7 + 0x100);
          *(undefined8 *)(lVar7 + 0xa8) = *(undefined8 *)(lVar7 + 0x108);
          *(undefined8 *)(lVar7 + 0xb0) = *(undefined8 *)(lVar7 + 0x110);
          *(undefined8 *)(lVar7 + 0xb8) = *(undefined8 *)(lVar7 + 0x118);
          *(undefined8 *)(lVar7 + 0xc0) = *(undefined8 *)(lVar7 + 0x120);
          *(undefined8 *)(lVar7 + 200) = *(undefined8 *)(lVar7 + 0x128);
          *(undefined8 *)(lVar7 + 0xd0) = *(undefined8 *)(lVar7 + 0x130);
          *(undefined8 *)(lVar7 + 0xd8) = *(undefined8 *)(lVar7 + 0x138);
          *(undefined8 *)(lVar7 + 0xe0) = *(undefined8 *)(lVar7 + 0x140);
        }
        else {
          ufbx_matrix_mul(&local_158,lVar8,lVar6 + 0x290);
          *(undefined8 *)(lVar7 + 0x88) = local_158;
          *(undefined8 *)(lVar7 + 0x90) = uStack_150;
          *(undefined8 *)(lVar7 + 0x98) = local_148;
          *(undefined8 *)(lVar7 + 0xa0) = uStack_140;
          *(undefined8 *)(lVar7 + 0xa8) = local_138;
          *(undefined8 *)(lVar7 + 0xb0) = uStack_130;
          *(undefined8 *)(lVar7 + 0xb8) = local_128;
          *(undefined8 *)(lVar7 + 0xc0) = uStack_120;
          *(undefined8 *)(lVar7 + 200) = local_118;
          *(undefined8 *)(lVar7 + 0xd0) = uStack_110;
          *(undefined8 *)(lVar7 + 0xd8) = local_108;
          *(undefined8 *)(lVar7 + 0xe0) = uStack_100;
        }
      }
      else {
        ufbx_matrix_mul(&local_158,lVar8,lVar4 + 0x1d0);
        *(undefined8 *)(lVar7 + 0x88) = local_158;
        *(undefined8 *)(lVar7 + 0x90) = uStack_150;
        *(undefined8 *)(lVar7 + 0x98) = local_148;
        *(undefined8 *)(lVar7 + 0xa0) = uStack_140;
        *(undefined8 *)(lVar7 + 0xa8) = local_138;
        *(undefined8 *)(lVar7 + 0xb0) = uStack_130;
        *(undefined8 *)(lVar7 + 0xb8) = local_128;
        *(undefined8 *)(lVar7 + 0xc0) = uStack_120;
        *(undefined8 *)(lVar7 + 200) = local_118;
        *(undefined8 *)(lVar7 + 0xd0) = uStack_110;
        *(undefined8 *)(lVar7 + 0xd8) = local_108;
        *(undefined8 *)(lVar7 + 0xe0) = uStack_100;
      }
    }
    plVar9 = plVar9 + 1;
  } while (plVar1 != plVar9);
LAB_0013a900:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 * ufbx_get_compatible_matrix_for_normals(undefined8 *param_1,long param_2)

{
  undefined8 uVar1;
  long extraout_RDX;
  undefined8 *puVar2;
  undefined1 *puVar3;
  long in_FS_OFFSET;
  undefined8 local_188;
  undefined8 uStack_180;
  undefined8 local_178;
  undefined8 uStack_170;
  undefined8 local_168;
  undefined8 uStack_160;
  undefined8 local_158;
  undefined8 uStack_150;
  undefined8 local_148;
  undefined8 uStack_140;
  undefined8 local_138;
  undefined8 uStack_130;
  undefined1 local_128 [16];
  undefined8 local_118;
  undefined8 local_110;
  undefined8 uStack_108;
  undefined8 local_100;
  undefined8 uStack_f8;
  undefined8 local_f0;
  undefined8 uStack_e8;
  undefined8 local_e0;
  undefined1 local_d8 [96];
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  undefined8 local_38;
  undefined8 uStack_30;
  undefined8 local_28;
  undefined8 uStack_20;
  long local_10;
  
  uVar1 = _LC0;
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_2 == 0) {
    *(undefined1 (*) [16])(param_1 + 2) = (undefined1  [16])0x0;
    *param_1 = uVar1;
    param_1[1] = 0;
    param_1[4] = uVar1;
    param_1[5] = 0;
    *(undefined1 (*) [16])(param_1 + 6) = (undefined1  [16])0x0;
    param_1[8] = uVar1;
    param_1[9] = 0;
    *(undefined1 (*) [16])(param_1 + 10) = (undefined1  [16])0x0;
  }
  else {
    local_110 = *(undefined8 *)(param_2 + 0x158);
    uStack_108 = *(undefined8 *)(param_2 + 0x160);
    local_100 = *(undefined8 *)(param_2 + 0x168);
    uStack_f8 = *(undefined8 *)(param_2 + 0x170);
    puVar3 = local_d8;
    local_128 = (undefined1  [16])0x0;
    local_e0 = _LC0;
    local_f0 = _LC0;
    uStack_e8 = _LC0;
    local_118 = 0;
    ufbx_transform_to_matrix(puVar3,local_128,param_2);
    puVar2 = &local_78;
    ufbx_matrix_mul(puVar2,extraout_RDX + 0x230,puVar3);
    ufbx_matrix_for_normals(&local_188,puVar2);
    *param_1 = local_188;
    param_1[1] = uStack_180;
    local_78 = local_188;
    uStack_70 = uStack_180;
    local_68 = local_178;
    uStack_60 = uStack_170;
    local_58 = local_168;
    uStack_50 = uStack_160;
    local_48 = local_158;
    uStack_40 = uStack_150;
    local_38 = local_148;
    uStack_30 = uStack_140;
    local_28 = local_138;
    uStack_20 = uStack_130;
    param_1[2] = local_178;
    param_1[3] = uStack_170;
    param_1[4] = local_168;
    param_1[5] = uStack_160;
    param_1[6] = local_158;
    param_1[7] = uStack_150;
    param_1[8] = local_148;
    param_1[9] = uStack_140;
    param_1[10] = local_138;
    param_1[0xb] = uStack_130;
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 ufbxi_modify_geometry(long param_1)

{
  double dVar1;
  byte bVar2;
  int iVar3;
  bool bVar4;
  double dVar5;
  double dVar6;
  byte bVar7;
  char cVar8;
  int iVar9;
  long lVar10;
  undefined8 uVar11;
  long *plVar12;
  long *plVar13;
  long lVar14;
  long lVar15;
  long in_FS_OFFSET;
  undefined8 local_1b8;
  undefined8 uStack_1b0;
  undefined8 local_1a8;
  undefined8 uStack_1a0;
  undefined8 local_198;
  undefined8 uStack_190;
  undefined8 local_188;
  undefined8 uStack_180;
  undefined8 local_178;
  undefined8 uStack_170;
  undefined8 local_168;
  undefined8 uStack_160;
  undefined8 local_158;
  undefined8 uStack_150;
  undefined8 local_148;
  undefined8 uStack_140;
  undefined8 local_138;
  undefined8 uStack_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 uStack_110;
  undefined8 local_108;
  undefined8 uStack_100;
  undefined8 local_f8;
  undefined8 uStack_f0;
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined8 local_d8;
  undefined8 uStack_d0;
  undefined8 local_c8;
  undefined1 auStack_c0 [16];
  undefined8 local_b0;
  undefined1 local_a8 [104];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  bVar2 = *(byte *)(param_1 + 0x3dd);
  bVar4 = false;
  if (*(int *)(param_1 + 0x3c8) - 2U < 2) {
    plVar12 = *(long **)(param_1 + 0x1ea8);
    plVar13 = plVar12 + *(long *)(param_1 + 0x1eb0);
joined_r0x0013b586:
    if (plVar12 != plVar13) {
      do {
        lVar14 = *plVar12;
        if (*(char *)(lVar14 + 0x441) == '\0') {
          ufbxi_get_geometry_transform(&local_158,lVar14 + 0x10,lVar14);
          lVar10 = lVar14 + 0x140;
          *(undefined8 *)(lVar14 + 0x140) = local_158;
          *(undefined8 *)(lVar14 + 0x148) = uStack_150;
          *(undefined8 *)(lVar14 + 0x150) = local_148;
          *(undefined8 *)(lVar14 + 0x158) = uStack_140;
          *(undefined8 *)(lVar14 + 0x160) = local_138;
          *(undefined8 *)(lVar14 + 0x168) = uStack_130;
          *(undefined8 *)(lVar14 + 0x170) = local_128;
          *(undefined8 *)(lVar14 + 0x178) = uStack_120;
          *(undefined8 *)(lVar14 + 0x180) = local_118;
          *(undefined8 *)(lVar14 + 0x188) = uStack_110;
          cVar8 = ufbxi_is_transform_identity(lVar10);
          dVar1 = _LC0;
          if (cVar8 != '\0') goto code_r0x0013b687;
          ufbx_transform_to_matrix(&local_1b8,lVar10);
          *(undefined8 *)(lVar14 + 0x290) = local_1b8;
          *(undefined8 *)(lVar14 + 0x298) = uStack_1b0;
          *(undefined8 *)(lVar14 + 0x2a0) = local_1a8;
          *(undefined8 *)(lVar14 + 0x2a8) = uStack_1a0;
          *(undefined8 *)(lVar14 + 0x2b0) = local_198;
          *(undefined8 *)(lVar14 + 0x2b8) = uStack_190;
          *(undefined8 *)(lVar14 + 0x2c0) = local_188;
          *(undefined8 *)(lVar14 + 0x2c8) = uStack_180;
          *(undefined8 *)(lVar14 + 0x2d0) = local_178;
          *(undefined8 *)(lVar14 + 0x2d8) = uStack_170;
          *(undefined1 *)(lVar14 + 0x442) = 1;
          *(undefined8 *)(lVar14 + 0x2e0) = local_168;
          *(undefined8 *)(lVar14 + 0x2e8) = uStack_160;
        }
        plVar12 = plVar12 + 1;
        if (plVar13 == plVar12) break;
      } while( true );
    }
    bVar4 = true;
  }
  dVar5 = _LC0;
  plVar12 = *(long **)(param_1 + 0x1fe8);
  dVar1 = *(double *)(param_1 + 0x1e00);
  iVar3 = *(int *)(param_1 + 0x1bd4);
  plVar13 = plVar12 + *(long *)(param_1 + 0x1ff0);
  if (plVar12 != plVar13) {
    do {
      lVar14 = *plVar12;
      if (dVar1 != dVar5) goto LAB_0013aeff;
      while (iVar3 != 0) {
        do {
          plVar12 = plVar12 + 1;
          ufbxi_mirror_vec3_list(lVar14 + 0x98,iVar3,0);
          ufbxi_mirror_vec3_list(lVar14 + 0xa8,iVar3,0);
          if (plVar12 == plVar13) goto LAB_0013af60;
          lVar14 = *plVar12;
        } while (dVar1 == dVar5);
LAB_0013aeff:
        ufbxi_scale_vec3_list(dVar1,lVar14 + 0x98,0);
      }
      plVar12 = plVar12 + 1;
    } while (plVar13 != plVar12);
  }
LAB_0013af60:
  dVar5 = _LC0;
  plVar12 = *(long **)(param_1 + 0x1eb8);
  plVar13 = plVar12 + *(long *)(param_1 + 0x1ec0);
  if (plVar12 != plVar13) {
LAB_0013afce:
    do {
      lVar14 = *plVar12;
      if (dVar1 == dVar5) {
        if (iVar3 == 0) goto LAB_0013afe5;
LAB_0013b058:
        ufbxi_mirror_vec3_list(lVar14 + 400,iVar3,0);
        ufbxi_mirror_vec3_list(lVar14 + 0x1d8,iVar3,0);
        lVar10 = *(long *)(lVar14 + 0x380);
        lVar15 = *(long *)(lVar14 + 0x388) * 0xf0 + lVar10;
        if (lVar10 != lVar15) {
          do {
            ufbxi_mirror_vec3_list(lVar10 + 0x68,iVar3,0);
            ufbxi_mirror_vec3_list(lVar10 + 0xb0,iVar3,0);
            lVar10 = lVar10 + 0xf0;
          } while (lVar15 != lVar10);
        }
        bVar7 = bVar2 ^ 1;
        if (*(char *)(param_1 + 0x3dc) != '\0') goto LAB_0013afe5;
      }
      else {
        ufbxi_scale_vec3_list(dVar1,lVar14 + 400,0);
        if (iVar3 != 0) goto LAB_0013b058;
LAB_0013afe5:
        bVar7 = bVar2;
      }
      if (bVar7 != 0) {
        *(undefined1 *)(lVar14 + 0x4dc) = 1;
        iVar9 = ufbxi_flip_winding_constprop_0(param_1,lVar14);
        if (iVar9 == 0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            uVar11 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
            return uVar11;
          }
          goto LAB_0013b6db;
        }
      }
      lVar10 = ufbxi_get_geometry_transform_node_isra_0(*(undefined8 *)(lVar14 + 0x38));
      if ((lVar10 != 0) && (bVar4)) {
        local_e8 = *(undefined8 *)(lVar10 + 0x2b0);
        uStack_e0 = *(undefined8 *)(lVar10 + 0x2b8);
        local_108 = *(undefined8 *)(lVar10 + 0x290);
        uStack_100 = *(undefined8 *)(lVar10 + 0x298);
        local_f8 = *(undefined8 *)(lVar10 + 0x2a0);
        uStack_f0 = *(undefined8 *)(lVar10 + 0x2a8);
        local_d8 = *(undefined8 *)(lVar10 + 0x2c0);
        uStack_d0 = *(undefined8 *)(lVar10 + 0x2c8);
        local_c8 = *(undefined8 *)(lVar10 + 0x2d0);
        auStack_c0 = (undefined1  [16])0x0;
        local_b0 = 0;
        ufbx_matrix_for_normals(local_a8,lVar10 + 0x290,0);
        ufbxi_transform_vec3_list(lVar14 + 400);
        ufbxi_transform_vec3_list(lVar14 + 0x1d8,local_a8,0);
        ufbxi_normalize_vec3_list_isra_0(*(undefined8 *)(lVar14 + 0x1d8));
        lVar10 = *(long *)(lVar14 + 0x380);
        lVar14 = *(long *)(lVar14 + 0x388) * 0xf0 + lVar10;
        if (lVar10 != lVar14) {
          do {
            ufbxi_transform_vec3_list(lVar10 + 0x68,&local_108,0);
            ufbxi_transform_vec3_list(lVar10 + 0xb0,&local_108,0);
            lVar15 = lVar10 + 0xf0;
            ufbxi_normalize_vec3_list_isra_0
                      (*(undefined8 *)(lVar10 + 0x68),*(undefined8 *)(lVar10 + 0x70));
            ufbxi_normalize_vec3_list_isra_0(*(undefined8 *)(lVar10 + 0xb0));
            lVar10 = lVar15;
          } while (lVar14 != lVar15);
          plVar12 = plVar12 + 1;
          if (plVar13 == plVar12) break;
          goto LAB_0013afce;
        }
      }
      plVar12 = plVar12 + 1;
    } while (plVar13 != plVar12);
  }
  dVar6 = _LC0;
  plVar12 = *(long **)(param_1 + 0x1f08);
  plVar13 = plVar12 + *(long *)(param_1 + 0x1f10);
  dVar5 = _LC0;
  for (; plVar12 != plVar13; plVar12 = plVar12 + 1) {
    lVar14 = *plVar12;
    _LC0 = dVar5;
    if (dVar1 != dVar6) {
      ufbxi_scale_vec3_list(dVar1,lVar14 + 0x98,0);
    }
    if (iVar3 != 0) {
      ufbxi_mirror_vec3_list(lVar14 + 0x98,iVar3,0);
    }
    lVar10 = ufbxi_get_geometry_transform_node_isra_0(*(undefined8 *)(lVar14 + 0x38));
    if ((lVar10 != 0) && (bVar4)) {
      ufbxi_transform_vec3_list(lVar14 + 0x98,lVar10 + 0x290,0);
    }
    dVar5 = _LC0;
  }
  plVar12 = *(long **)(param_1 + 0x1f18);
  plVar13 = plVar12 + *(long *)(param_1 + 0x1f20);
  dVar6 = dVar5;
  for (; _LC0 = dVar6, plVar12 != plVar13; plVar12 = plVar12 + 1) {
    lVar14 = *plVar12;
    if (dVar1 != dVar5) {
      ufbxi_scale_vec3_list(dVar1,lVar14 + 0xd0,0x20);
    }
    if (iVar3 != 0) {
      ufbxi_mirror_vec3_list(lVar14 + 0xd0,iVar3,0x20);
    }
    lVar10 = ufbxi_get_geometry_transform_node_isra_0
                       (*(undefined8 *)(lVar14 + 0x38),*(undefined8 *)(lVar14 + 0x40));
    if ((lVar10 != 0) && (bVar4)) {
      ufbxi_transform_vec3_list(lVar14 + 0xd0,lVar10 + 0x290,0x20);
    }
    dVar6 = _LC0;
  }
  plVar12 = *(long **)(param_1 + 0x1f28);
  plVar13 = plVar12 + *(long *)(param_1 + 0x1f30);
  for (; plVar12 != plVar13; plVar12 = plVar12 + 1) {
    lVar14 = *plVar12;
    if (dVar1 != dVar6) {
      ufbxi_scale_vec3_list(dVar1,lVar14 + 0x130,0x20);
    }
    if (iVar3 != 0) {
      ufbxi_mirror_vec3_list(lVar14 + 0x130,iVar3,0x20);
    }
    lVar10 = ufbxi_get_geometry_transform_node_isra_0
                       (*(undefined8 *)(lVar14 + 0x38),*(undefined8 *)(lVar14 + 0x40));
    if ((lVar10 != 0) && (bVar4)) {
      ufbxi_transform_vec3_list(lVar14 + 0x130,lVar10 + 0x290,0x20);
    }
  }
  if (*(int *)(param_1 + 0x3c8) != 0) {
    plVar12 = *(long **)(param_1 + 0x1ea8);
    plVar13 = plVar12 + *(long *)(param_1 + 0x1eb0);
    if (plVar12 != plVar13) {
      lVar14 = 0;
      do {
        while( true ) {
          lVar10 = *plVar12;
          if (lVar14 == 0) {
            lVar14 = *(long *)(lVar10 + 0x28);
          }
          if (*(char *)(lVar10 + 0x442) == '\0') break;
          lVar10 = lVar10 + 0x10;
          plVar12 = plVar12 + 1;
          ufbxi_set_own_prop_vec3_uniform(0,lVar10,"GeometricTranslation");
          ufbxi_set_own_prop_vec3_uniform(0,lVar10,"GeometricRotation");
          ufbxi_set_own_prop_vec3_uniform(_LC0,lVar10,"GeometricScaling");
          if (plVar13 == plVar12) goto LAB_0013b4f0;
        }
        plVar12 = plVar12 + 1;
      } while (plVar13 != plVar12);
LAB_0013b4f0:
      if (lVar14 != 0) {
        ufbxi_set_own_prop_vec3_uniform(0,lVar14,"GeometricTranslation");
        ufbxi_set_own_prop_vec3_uniform(0,lVar14,"GeometricRotation");
        ufbxi_set_own_prop_vec3_uniform(_LC0,lVar14,"GeometricScaling");
      }
    }
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return 1;
  }
LAB_0013b6db:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
code_r0x0013b687:
  plVar12 = plVar12 + 1;
  *(undefined1 *)(lVar14 + 0x442) = 0;
  *(undefined1 (*) [16])(lVar14 + 0x2a0) = (undefined1  [16])0x0;
  *(double *)(lVar14 + 0x290) = dVar1;
  *(undefined8 *)(lVar14 + 0x298) = 0;
  *(double *)(lVar14 + 0x2b0) = dVar1;
  *(undefined8 *)(lVar14 + 0x2b8) = 0;
  *(undefined1 (*) [16])(lVar14 + 0x2c0) = (undefined1  [16])0x0;
  *(double *)(lVar14 + 0x2d0) = dVar1;
  *(undefined8 *)(lVar14 + 0x2d8) = 0;
  *(undefined1 (*) [16])(lVar14 + 0x2e0) = (undefined1  [16])0x0;
  goto joined_r0x0013b586;
}



void ufbxi_update_texture(long param_1)

{
  undefined8 uVar1;
  char cVar2;
  undefined4 uVar3;
  long lVar4;
  long lVar5;
  long in_FS_OFFSET;
  undefined8 local_d8;
  undefined8 uStack_d0;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  undefined8 local_38;
  undefined8 uStack_30;
  long local_20;
  
  lVar5 = param_1 + 0x10;
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  ufbxi_get_texture_transform(&local_78,lVar5);
  lVar4 = param_1 + 0x150;
  *(undefined8 *)(param_1 + 0x150) = local_78;
  *(undefined8 *)(param_1 + 0x158) = uStack_70;
  *(undefined8 *)(param_1 + 0x160) = local_68;
  *(undefined8 *)(param_1 + 0x168) = uStack_60;
  *(undefined8 *)(param_1 + 0x170) = local_58;
  *(undefined8 *)(param_1 + 0x178) = uStack_50;
  *(undefined8 *)(param_1 + 0x180) = local_48;
  *(undefined8 *)(param_1 + 0x188) = uStack_40;
  *(undefined8 *)(param_1 + 400) = local_38;
  *(undefined8 *)(param_1 + 0x198) = uStack_30;
  cVar2 = ufbxi_is_transform_identity(lVar4);
  uVar1 = _LC0;
  if (cVar2 == '\0') {
    *(undefined1 *)(param_1 + 0x148) = 1;
    ufbx_transform_to_matrix(&local_d8,lVar4);
    *(undefined8 *)(param_1 + 0x1a0) = local_d8;
    *(undefined8 *)(param_1 + 0x1a8) = uStack_d0;
    *(undefined8 *)(param_1 + 0x1b0) = local_c8;
    *(undefined8 *)(param_1 + 0x1b8) = uStack_c0;
    *(undefined8 *)(param_1 + 0x1c0) = local_b8;
    *(undefined8 *)(param_1 + 0x1c8) = uStack_b0;
    *(undefined8 *)(param_1 + 0x1d0) = local_a8;
    *(undefined8 *)(param_1 + 0x1d8) = uStack_a0;
    *(undefined8 *)(param_1 + 0x1e0) = local_98;
    *(undefined8 *)(param_1 + 0x1e8) = uStack_90;
    *(undefined8 *)(param_1 + 0x1f0) = local_88;
    *(undefined8 *)(param_1 + 0x1f8) = uStack_80;
    ufbx_matrix_invert();
    *(undefined8 *)(param_1 + 0x200) = local_d8;
    *(undefined8 *)(param_1 + 0x208) = uStack_d0;
    *(undefined8 *)(param_1 + 0x210) = local_c8;
    *(undefined8 *)(param_1 + 0x218) = uStack_c0;
    *(undefined8 *)(param_1 + 0x220) = local_b8;
    *(undefined8 *)(param_1 + 0x228) = uStack_b0;
    *(undefined8 *)(param_1 + 0x230) = local_a8;
    *(undefined8 *)(param_1 + 0x238) = uStack_a0;
    *(undefined8 *)(param_1 + 0x240) = local_98;
    *(undefined8 *)(param_1 + 0x248) = uStack_90;
    *(undefined8 *)(param_1 + 0x250) = local_88;
    *(undefined8 *)(param_1 + 600) = uStack_80;
  }
  else {
    *(undefined1 *)(param_1 + 0x148) = 0;
    *(undefined1 (*) [16])(param_1 + 0x1b0) = (undefined1  [16])0x0;
    *(undefined8 *)(param_1 + 0x1a0) = uVar1;
    *(undefined8 *)(param_1 + 0x1a8) = 0;
    *(undefined8 *)(param_1 + 0x1c0) = uVar1;
    *(undefined8 *)(param_1 + 0x1c8) = 0;
    *(undefined1 (*) [16])(param_1 + 0x1d0) = (undefined1  [16])0x0;
    *(undefined8 *)(param_1 + 0x1e0) = uVar1;
    *(undefined8 *)(param_1 + 0x1e8) = 0;
    *(undefined1 (*) [16])(param_1 + 0x1f0) = (undefined1  [16])0x0;
    *(undefined8 *)(param_1 + 0x200) = uVar1;
    *(undefined8 *)(param_1 + 0x208) = 0;
    *(undefined1 (*) [16])(param_1 + 0x210) = (undefined1  [16])0x0;
    *(undefined8 *)(param_1 + 0x220) = uVar1;
    *(undefined8 *)(param_1 + 0x228) = 0;
    *(undefined1 (*) [16])(param_1 + 0x230) = (undefined1  [16])0x0;
    *(undefined8 *)(param_1 + 0x240) = uVar1;
    *(undefined8 *)(param_1 + 0x248) = 0;
    *(undefined1 (*) [16])(param_1 + 0x250) = (undefined1  [16])0x0;
  }
  lVar4 = ufbxi_find_prop_with_key(lVar5,"WrapModeU",0x57726170);
  if (lVar4 == 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = (undefined4)*(ulong *)(lVar4 + 0x40);
    if (1 < *(ulong *)(lVar4 + 0x40)) {
      uVar3 = 0;
    }
  }
  *(undefined4 *)(param_1 + 0x140) = uVar3;
  lVar5 = ufbxi_find_prop_with_key(lVar5,"WrapModeV",0x57726170);
  if (lVar5 == 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = (int)*(ulong *)(lVar5 + 0x40);
    if (1 < *(ulong *)(lVar5 + 0x40)) {
      uVar3 = 0;
    }
  }
  *(undefined4 *)(param_1 + 0x144) = uVar3;
  if (*(long *)(param_1 + 0x118) == 0) {
    if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    ufbxi_update_shader_texture(param_1);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbxi_update_node_constprop_0(long param_1)

{
  double dVar1;
  double dVar2;
  char cVar3;
  long lVar4;
  long lVar5;
  long lVar6;
  undefined4 uVar7;
  long in_FS_OFFSET;
  bool bVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 local_258;
  undefined8 uStack_250;
  undefined8 local_248;
  undefined8 uStack_240;
  undefined8 local_238;
  undefined8 uStack_230;
  undefined8 local_228;
  undefined8 uStack_220;
  undefined8 local_218;
  undefined8 uStack_210;
  undefined8 local_208;
  undefined8 uStack_200;
  undefined8 local_1f8;
  undefined8 uStack_1f0;
  undefined8 local_1e8;
  undefined8 uStack_1e0;
  undefined8 local_1d8;
  undefined8 uStack_1d0;
  undefined8 local_1c8;
  undefined8 uStack_1c0;
  undefined8 local_1b8;
  undefined8 uStack_1b0;
  double local_1a8;
  double dStack_1a0;
  double local_198;
  undefined8 uStack_190;
  undefined8 local_188;
  undefined8 uStack_180;
  undefined8 local_178;
  double dStack_170;
  double local_168;
  double dStack_160;
  undefined8 local_158;
  undefined8 uStack_150;
  undefined8 local_148;
  undefined8 uStack_140;
  undefined8 local_138;
  undefined8 uStack_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 uStack_110;
  undefined8 local_108;
  undefined8 uStack_100;
  undefined1 local_f8 [96];
  undefined1 local_98 [104];
  long local_30;
  
  lVar5 = param_1 + 0x10;
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  lVar4 = ufbxi_find_prop_with_key(lVar5,"RotationOrder",0x526f7461);
  if (lVar4 == 0) {
    uVar7 = 0;
  }
  else {
    uVar7 = (undefined4)*(ulong *)(lVar4 + 0x40);
    if (6 < *(ulong *)(lVar4 + 0x40)) {
      uVar7 = 0;
    }
  }
  *(undefined4 *)(param_1 + 0x1b0) = uVar7;
  lVar4 = ufbxi_find_prop_with_key(lVar5,"Lcl Rotation",0x4c636c20);
  if (lVar4 == 0) {
    uVar10 = 0;
    uVar11 = 0;
    uVar9 = 0;
  }
  else {
    uVar10 = *(undefined8 *)(lVar4 + 0x48);
    uVar11 = *(undefined8 *)(lVar4 + 0x50);
    uVar9 = *(undefined8 *)(lVar4 + 0x58);
  }
  lVar4 = *(long *)(param_1 + 0x80);
  *(undefined8 *)(param_1 + 0x1b8) = uVar10;
  *(undefined8 *)(param_1 + 0x1c0) = uVar11;
  *(undefined8 *)(param_1 + 0x1c8) = uVar9;
  if (*(char *)(param_1 + 0x441) == '\0') {
    if (lVar4 == 0) {
      ufbxi_get_transform(&local_1f8,lVar5,uVar7,param_1,0);
      *(undefined8 *)(param_1 + 0xf0) = local_1f8;
      *(undefined8 *)(param_1 + 0xf8) = uStack_1f0;
      *(undefined8 *)(param_1 + 0x100) = local_1e8;
      *(undefined8 *)(param_1 + 0x108) = uStack_1e0;
      *(undefined8 *)(param_1 + 0x110) = local_1d8;
      *(undefined8 *)(param_1 + 0x118) = uStack_1d0;
      *(undefined8 *)(param_1 + 0x120) = local_1c8;
      *(undefined8 *)(param_1 + 0x128) = uStack_1c0;
      *(undefined8 *)(param_1 + 0x130) = local_1b8;
      *(undefined8 *)(param_1 + 0x138) = uStack_1b0;
    }
    else {
      lVar6 = *(long *)(lVar4 + 200);
      if (lVar6 != 0) {
        lVar6 = lVar6 + 0x128;
      }
      ufbxi_get_transform(&local_1f8,lVar5,uVar7,param_1,lVar6);
      *(undefined8 *)(param_1 + 0xf0) = local_1f8;
      *(undefined8 *)(param_1 + 0xf8) = uStack_1f0;
      *(undefined8 *)(param_1 + 0x100) = local_1e8;
      *(undefined8 *)(param_1 + 0x108) = uStack_1e0;
      *(undefined8 *)(param_1 + 0x110) = local_1d8;
      *(undefined8 *)(param_1 + 0x118) = uStack_1d0;
      *(undefined8 *)(param_1 + 0x120) = local_1c8;
      *(undefined8 *)(param_1 + 0x128) = uStack_1c0;
      *(undefined8 *)(param_1 + 0x130) = local_1b8;
      *(undefined8 *)(param_1 + 0x138) = uStack_1b0;
      if (((*(char *)(param_1 + 0x446) != '\0') && (*(long *)(lVar4 + 0x1a8) != 0)) &&
         (lVar6 = *(long *)(*(long *)(lVar4 + 0x1a8) + 200), lVar6 != 0)) {
        dVar1 = *(double *)(lVar6 + 0x128);
        dVar2 = *(double *)(lVar6 + 0x130);
        *(double *)(param_1 + 0x138) = *(double *)(lVar6 + 0x138) * *(double *)(param_1 + 0x138);
        *(double *)(param_1 + 0x128) = dVar1 * *(double *)(param_1 + 0x128);
        *(double *)(param_1 + 0x130) = dVar2 * *(double *)(param_1 + 0x130);
      }
    }
    ufbx_transform_to_matrix(&local_258,param_1 + 0xf0,param_1);
    *(undefined8 *)(param_1 + 0x1d0) = local_258;
    *(undefined8 *)(param_1 + 0x1d8) = uStack_250;
    *(undefined8 *)(param_1 + 0x1e0) = local_248;
    *(undefined8 *)(param_1 + 0x1e8) = uStack_240;
    *(undefined8 *)(param_1 + 0x1f0) = local_238;
    *(undefined8 *)(param_1 + 0x1f8) = uStack_230;
    *(undefined8 *)(param_1 + 0x200) = local_228;
    *(undefined8 *)(param_1 + 0x208) = uStack_220;
    *(undefined8 *)(param_1 + 0x210) = local_218;
    *(undefined8 *)(param_1 + 0x218) = uStack_210;
    *(undefined8 *)(param_1 + 0x220) = local_208;
    *(undefined8 *)(param_1 + 0x228) = uStack_200;
    ufbxi_get_geometry_transform(&local_1f8,lVar5);
    *(undefined8 *)(param_1 + 0x140) = local_1f8;
    *(undefined8 *)(param_1 + 0x148) = uStack_1f0;
    *(undefined8 *)(param_1 + 0x150) = local_1e8;
    *(undefined8 *)(param_1 + 0x158) = uStack_1e0;
    *(undefined8 *)(param_1 + 0x160) = local_1d8;
    *(undefined8 *)(param_1 + 0x168) = uStack_1d0;
    *(undefined8 *)(param_1 + 0x170) = local_1c8;
    *(undefined8 *)(param_1 + 0x178) = uStack_1c0;
    *(undefined8 *)(param_1 + 0x180) = local_1b8;
    *(undefined8 *)(param_1 + 0x188) = uStack_1b0;
  }
  else {
    *(undefined1 (*) [16])(param_1 + 0x140) = (undefined1  [16])0x0;
    *(undefined1 (*) [16])(param_1 + 0x150) = (undefined1  [16])0x0;
    *(undefined1 (*) [16])(param_1 + 0x160) = (undefined1  [16])0x0;
    dVar1 = _LC0;
    *(double *)(param_1 + 0x170) = _LC0;
    *(double *)(param_1 + 0x178) = dVar1;
    *(double *)(param_1 + 0x180) = dVar1;
    *(double *)(param_1 + 0x188) = dVar1;
  }
  ufbxi_unscaled_transform_to_matrix(&local_158,param_1 + 0xf0);
  *(undefined8 *)(param_1 + 400) = *(undefined8 *)(param_1 + 0x128);
  *(undefined8 *)(param_1 + 0x198) = *(undefined8 *)(param_1 + 0x130);
  *(undefined8 *)(param_1 + 0x1a0) = *(undefined8 *)(param_1 + 0x138);
  if (lVar4 == 0) {
    *(undefined8 *)(param_1 + 0x230) = *(undefined8 *)(param_1 + 0x1d0);
    *(undefined8 *)(param_1 + 0x238) = *(undefined8 *)(param_1 + 0x1d8);
    *(undefined8 *)(param_1 + 0x240) = *(undefined8 *)(param_1 + 0x1e0);
    *(undefined8 *)(param_1 + 0x248) = *(undefined8 *)(param_1 + 0x1e8);
    *(undefined8 *)(param_1 + 0x250) = *(undefined8 *)(param_1 + 0x1f0);
    *(undefined8 *)(param_1 + 600) = *(undefined8 *)(param_1 + 0x1f8);
    *(undefined8 *)(param_1 + 0x260) = *(undefined8 *)(param_1 + 0x200);
    *(undefined8 *)(param_1 + 0x268) = *(undefined8 *)(param_1 + 0x208);
    *(undefined8 *)(param_1 + 0x270) = *(undefined8 *)(param_1 + 0x210);
    *(undefined8 *)(param_1 + 0x278) = *(undefined8 *)(param_1 + 0x218);
    *(undefined8 *)(param_1 + 0x280) = *(undefined8 *)(param_1 + 0x220);
    *(undefined8 *)(param_1 + 0x288) = *(undefined8 *)(param_1 + 0x228);
    *(undefined8 *)(param_1 + 0x350) = local_158;
    *(undefined8 *)(param_1 + 0x358) = uStack_150;
    *(undefined8 *)(param_1 + 0x360) = local_148;
    *(undefined8 *)(param_1 + 0x368) = uStack_140;
    *(undefined8 *)(param_1 + 0x370) = local_138;
    *(undefined8 *)(param_1 + 0x378) = uStack_130;
    *(undefined8 *)(param_1 + 0x380) = local_128;
    *(undefined8 *)(param_1 + 0x388) = uStack_120;
    *(undefined8 *)(param_1 + 0x390) = local_118;
    *(undefined8 *)(param_1 + 0x398) = uStack_110;
    *(undefined8 *)(param_1 + 0x3a0) = local_108;
    *(undefined8 *)(param_1 + 0x3a8) = uStack_100;
  }
  else {
    if (*(int *)(param_1 + 0xe8) == 0) {
      ufbx_matrix_mul(&local_258,lVar4 + 0x230,param_1 + 0x1d0);
      *(undefined8 *)(param_1 + 0x230) = local_258;
      *(undefined8 *)(param_1 + 0x238) = uStack_250;
      *(undefined8 *)(param_1 + 0x240) = local_248;
      *(undefined8 *)(param_1 + 0x248) = uStack_240;
      *(undefined8 *)(param_1 + 0x250) = local_238;
      *(undefined8 *)(param_1 + 600) = uStack_230;
      *(undefined8 *)(param_1 + 0x260) = local_228;
      *(undefined8 *)(param_1 + 0x268) = uStack_220;
      *(undefined8 *)(param_1 + 0x270) = local_218;
      *(undefined8 *)(param_1 + 0x278) = uStack_210;
      *(undefined8 *)(param_1 + 0x280) = local_208;
      *(undefined8 *)(param_1 + 0x288) = uStack_200;
      ufbx_matrix_mul();
      lVar4 = param_1 + 0x140;
      *(undefined8 *)(param_1 + 0x350) = local_258;
      *(undefined8 *)(param_1 + 0x358) = uStack_250;
      *(undefined8 *)(param_1 + 0x360) = local_248;
      *(undefined8 *)(param_1 + 0x368) = uStack_240;
      *(undefined8 *)(param_1 + 0x370) = local_238;
      *(undefined8 *)(param_1 + 0x378) = uStack_230;
      *(undefined8 *)(param_1 + 0x380) = local_228;
      *(undefined8 *)(param_1 + 0x388) = uStack_220;
      *(undefined8 *)(param_1 + 0x390) = local_218;
      *(undefined8 *)(param_1 + 0x398) = uStack_210;
      *(undefined8 *)(param_1 + 0x3a0) = local_208;
      *(undefined8 *)(param_1 + 0x3a8) = uStack_200;
      cVar3 = ufbxi_is_transform_identity(lVar4);
      dVar1 = _LC0;
      goto joined_r0x0013bffe;
    }
    uStack_190 = *(undefined8 *)(param_1 + 0x108);
    local_188 = *(undefined8 *)(param_1 + 0x110);
    uStack_180 = *(undefined8 *)(param_1 + 0x118);
    local_178 = *(undefined8 *)(param_1 + 0x120);
    lVar6 = *(long *)(param_1 + 0x1a8);
    dStack_160 = _LC0;
    dStack_170 = _LC0;
    local_168 = _LC0;
    if (lVar6 != 0) {
      dStack_160 = *(double *)(lVar6 + 0x1a0);
      dStack_170 = *(double *)(lVar6 + 400);
      local_168 = *(double *)(lVar6 + 0x198);
    }
    dStack_160 = dStack_160 * *(double *)(param_1 + 0x138);
    dStack_170 = dStack_170 * *(double *)(param_1 + 0x128);
    local_168 = local_168 * *(double *)(param_1 + 0x130);
    local_1a8 = *(double *)(lVar4 + 400) * *(double *)(param_1 + 0xf0);
    dStack_1a0 = *(double *)(lVar4 + 0x198) * *(double *)(param_1 + 0xf8);
    local_198 = *(double *)(param_1 + 0x100) * *(double *)(lVar4 + 0x1a0);
    ufbx_transform_to_matrix(local_f8,&local_1a8);
    ufbxi_unscaled_transform_to_matrix(local_98);
    *(double *)(param_1 + 0x1a0) = dStack_160;
    *(double *)(param_1 + 400) = dStack_170;
    *(double *)(param_1 + 0x198) = local_168;
    ufbx_matrix_mul(&local_258,lVar4 + 0x350,local_f8);
    *(undefined8 *)(param_1 + 0x230) = local_258;
    *(undefined8 *)(param_1 + 0x238) = uStack_250;
    *(undefined8 *)(param_1 + 0x240) = local_248;
    *(undefined8 *)(param_1 + 0x248) = uStack_240;
    *(undefined8 *)(param_1 + 0x250) = local_238;
    *(undefined8 *)(param_1 + 600) = uStack_230;
    *(undefined8 *)(param_1 + 0x260) = local_228;
    *(undefined8 *)(param_1 + 0x268) = uStack_220;
    *(undefined8 *)(param_1 + 0x270) = local_218;
    *(undefined8 *)(param_1 + 0x278) = uStack_210;
    *(undefined8 *)(param_1 + 0x280) = local_208;
    *(undefined8 *)(param_1 + 0x288) = uStack_200;
    ufbx_matrix_mul();
    *(undefined8 *)(param_1 + 0x350) = local_258;
    *(undefined8 *)(param_1 + 0x358) = uStack_250;
    *(undefined8 *)(param_1 + 0x360) = local_248;
    *(undefined8 *)(param_1 + 0x368) = uStack_240;
    *(undefined8 *)(param_1 + 0x370) = local_238;
    *(undefined8 *)(param_1 + 0x378) = uStack_230;
    *(undefined8 *)(param_1 + 0x380) = local_228;
    *(undefined8 *)(param_1 + 0x388) = uStack_220;
    *(undefined8 *)(param_1 + 0x390) = local_218;
    *(undefined8 *)(param_1 + 0x398) = uStack_210;
    *(undefined8 *)(param_1 + 0x3a0) = local_208;
    *(undefined8 *)(param_1 + 0x3a8) = uStack_200;
  }
  lVar4 = param_1 + 0x140;
  cVar3 = ufbxi_is_transform_identity(lVar4);
  dVar1 = _LC0;
joined_r0x0013bffe:
  _LC0 = dVar1;
  if (cVar3 != '\0') {
    *(undefined1 (*) [16])(param_1 + 0x2a0) = (undefined1  [16])0x0;
    *(double *)(param_1 + 0x290) = dVar1;
    *(undefined8 *)(param_1 + 0x298) = 0;
    *(double *)(param_1 + 0x2b0) = dVar1;
    *(undefined8 *)(param_1 + 0x2b8) = 0;
    *(undefined1 (*) [16])(param_1 + 0x2c0) = (undefined1  [16])0x0;
    *(double *)(param_1 + 0x2d0) = dVar1;
    *(undefined8 *)(param_1 + 0x2d8) = 0;
    *(undefined1 (*) [16])(param_1 + 0x2e0) = (undefined1  [16])0x0;
    *(undefined8 *)(param_1 + 0x2f0) = *(undefined8 *)(param_1 + 0x230);
    *(undefined8 *)(param_1 + 0x2f8) = *(undefined8 *)(param_1 + 0x238);
    *(undefined8 *)(param_1 + 0x300) = *(undefined8 *)(param_1 + 0x240);
    *(undefined8 *)(param_1 + 0x308) = *(undefined8 *)(param_1 + 0x248);
    *(undefined8 *)(param_1 + 0x310) = *(undefined8 *)(param_1 + 0x250);
    *(undefined8 *)(param_1 + 0x318) = *(undefined8 *)(param_1 + 600);
    *(undefined8 *)(param_1 + 800) = *(undefined8 *)(param_1 + 0x260);
    *(undefined8 *)(param_1 + 0x328) = *(undefined8 *)(param_1 + 0x268);
    *(undefined8 *)(param_1 + 0x330) = *(undefined8 *)(param_1 + 0x270);
    *(undefined8 *)(param_1 + 0x338) = *(undefined8 *)(param_1 + 0x278);
    *(undefined8 *)(param_1 + 0x340) = *(undefined8 *)(param_1 + 0x280);
    *(undefined8 *)(param_1 + 0x348) = *(undefined8 *)(param_1 + 0x288);
  }
  else {
    ufbx_transform_to_matrix(&local_258,lVar4,param_1 + 0x290);
    *(undefined8 *)(param_1 + 0x290) = local_258;
    *(undefined8 *)(param_1 + 0x298) = uStack_250;
    *(undefined8 *)(param_1 + 0x2a0) = local_248;
    *(undefined8 *)(param_1 + 0x2a8) = uStack_240;
    *(undefined8 *)(param_1 + 0x2b0) = local_238;
    *(undefined8 *)(param_1 + 0x2b8) = uStack_230;
    *(undefined8 *)(param_1 + 0x2c0) = local_228;
    *(undefined8 *)(param_1 + 0x2c8) = uStack_220;
    *(undefined8 *)(param_1 + 0x2d0) = local_218;
    *(undefined8 *)(param_1 + 0x2d8) = uStack_210;
    *(undefined8 *)(param_1 + 0x2e0) = local_208;
    *(undefined8 *)(param_1 + 0x2e8) = uStack_200;
    ufbx_matrix_mul();
    *(undefined8 *)(param_1 + 0x2f0) = local_258;
    *(undefined8 *)(param_1 + 0x2f8) = uStack_250;
    *(undefined8 *)(param_1 + 0x300) = local_248;
    *(undefined8 *)(param_1 + 0x308) = uStack_240;
    *(undefined8 *)(param_1 + 0x310) = local_238;
    *(undefined8 *)(param_1 + 0x318) = uStack_230;
    *(undefined8 *)(param_1 + 800) = local_228;
    *(undefined8 *)(param_1 + 0x328) = uStack_220;
    *(undefined8 *)(param_1 + 0x330) = local_218;
    *(undefined8 *)(param_1 + 0x338) = uStack_210;
    *(undefined8 *)(param_1 + 0x340) = local_208;
    *(undefined8 *)(param_1 + 0x348) = uStack_200;
  }
  *(bool *)(param_1 + 0x442) = cVar3 == '\0';
  lVar5 = ufbxi_find_prop_with_key(lVar5,"Visibility",0x56697369);
  bVar8 = true;
  if (lVar5 != 0) {
    bVar8 = *(long *)(lVar5 + 0x40) != 0;
  }
  *(bool *)(param_1 + 0x440) = bVar8;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined1 (*) [16] ufbx_matrix_to_transform(undefined1 (*param_1) [16],double *param_2)

{
  long lVar1;
  double dVar2;
  undefined1 auVar3 [16];
  double dVar4;
  double dVar5;
  double dVar6;
  long in_FS_OFFSET;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double dVar15;
  double dVar16;
  double dVar17;
  undefined1 auVar18 [16];
  double dVar19;
  double dVar20;
  double dVar21;
  double local_a0;
  double local_98;
  undefined8 uStack_50;
  undefined8 uStack_48;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_2 == (double *)0x0) {
    *param_1 = (undefined1  [16])0x0;
    param_1[1] = (undefined1  [16])0x0;
    param_1[2] = (undefined1  [16])0x0;
    dVar16 = _LC0;
    *(double *)param_1[3] = _LC0;
    *(double *)(param_1[3] + 8) = dVar16;
    *(double *)param_1[4] = dVar16;
    *(double *)(param_1[4] + 8) = dVar16;
    goto LAB_0013c5d3;
  }
  dVar7 = (double)ufbx_matrix_determinant(param_2);
  dVar6 = _LC0;
  dVar4 = param_2[9];
  dVar5 = param_2[10];
  dVar16 = *param_2;
  local_a0 = param_2[1];
  dVar2 = param_2[0xb];
  dVar12 = param_2[2];
  dVar20 = param_2[3];
  dVar13 = param_2[5];
  dVar17 = param_2[6];
  dVar19 = param_2[7];
  dVar10 = param_2[8];
  dVar8 = param_2[4];
  dVar15 = SQRT(dVar16 * dVar16 + local_a0 * local_a0 + dVar12 * dVar12);
  dVar9 = SQRT(dVar20 * dVar20 + dVar8 * dVar8 + dVar13 * dVar13);
  dVar11 = SQRT(dVar17 * dVar17 + dVar19 * dVar19 + dVar10 * dVar10);
  dVar21 = dVar11;
  dVar14 = _LC0;
  if (dVar7 < 0.0) {
    if (0.0 < dVar15) {
      local_98 = _LC17;
      dVar7 = (double)((ulong)dVar15 ^ _LC15);
      goto LAB_0013c32d;
    }
    if (0.0 < dVar9) {
      local_98 = dVar12 * 0.0;
      local_a0 = local_a0 * 0.0;
      dVar16 = dVar16 * 0.0;
      dVar12 = (double)((ulong)dVar9 ^ _LC15);
      dVar7 = _LC17;
      goto LAB_0013c364;
    }
    if (0.0 < dVar11) {
      dVar21 = (double)((ulong)dVar11 ^ _LC15);
      dVar14 = _LC17;
    }
    local_a0 = local_a0 * 0.0;
    local_98 = dVar12 * 0.0;
    dVar16 = dVar16 * 0.0;
    dVar7 = 0.0;
  }
  else {
    local_98 = _LC0;
    dVar7 = dVar15;
    if (dVar15 <= 0.0) {
      local_98 = 0.0;
    }
    else {
LAB_0013c32d:
      local_98 = local_98 / dVar15;
      dVar15 = dVar7;
    }
    local_a0 = local_a0 * local_98;
    dVar16 = dVar16 * local_98;
    local_98 = local_98 * dVar12;
    dVar12 = dVar9;
    dVar7 = _LC0;
    if (dVar9 <= 0.0) {
      dVar7 = 0.0;
    }
    else {
LAB_0013c364:
      dVar7 = dVar7 / dVar9;
      dVar9 = dVar12;
    }
  }
  dVar20 = dVar20 * dVar7;
  dVar8 = dVar8 * dVar7;
  dVar7 = dVar7 * dVar13;
  if (dVar11 <= 0.0) {
    dVar14 = 0.0;
  }
  else {
    dVar14 = dVar14 / dVar11;
  }
  dVar17 = dVar17 * dVar14;
  dVar19 = dVar19 * dVar14;
  dVar14 = dVar14 * dVar10;
  dVar12 = dVar8 + dVar16 + dVar14;
  if (0.0 < dVar12) {
    dVar16 = fmax(dVar12 + _LC0,0.0);
    dVar16 = SQRT(dVar16);
    if (dVar16 == 0.0) {
      dVar12 = 0.0;
    }
    else {
      dVar12 = _LC60 / dVar16;
    }
    dVar16 = dVar16 * _LC60;
    dVar10 = (dVar7 - dVar19) * dVar12;
    dVar13 = (dVar17 - local_98) * dVar12;
    dVar12 = (local_a0 - dVar20) * dVar12;
  }
  else if ((dVar16 <= dVar8) || (dVar16 <= dVar14)) {
    if (dVar14 < dVar8) {
      dVar13 = fmax((dVar8 + (_LC0 - dVar16)) - dVar14,0.0);
      dVar13 = SQRT(dVar13);
      if (dVar13 == 0.0) {
        dVar16 = 0.0;
      }
      else {
        dVar16 = _LC60 / dVar13;
      }
      dVar13 = dVar13 * _LC60;
      dVar10 = (dVar20 + local_a0) * dVar16;
      dVar12 = (dVar7 + dVar19) * dVar16;
      dVar16 = (dVar17 - local_98) * dVar16;
    }
    else {
      dVar12 = fmax(((_LC0 - dVar16) - dVar8) + dVar14,0.0);
      dVar12 = SQRT(dVar12);
      if (dVar12 == 0.0) {
        dVar16 = 0.0;
      }
      else {
        dVar16 = _LC60 / dVar12;
      }
      dVar12 = dVar12 * _LC60;
      dVar10 = (dVar17 + local_98) * dVar16;
      dVar13 = (dVar7 + dVar19) * dVar16;
      dVar16 = (local_a0 - dVar20) * dVar16;
    }
  }
  else {
    dVar10 = fmax(((dVar16 + _LC0) - dVar8) - dVar14,0.0);
    dVar10 = SQRT(dVar10);
    if (dVar10 == 0.0) {
      dVar16 = 0.0;
    }
    else {
      dVar16 = _LC60 / dVar10;
    }
    dVar10 = dVar10 * _LC60;
    dVar13 = (dVar20 + local_a0) * dVar16;
    dVar12 = (dVar17 + local_98) * dVar16;
    dVar16 = (dVar7 - dVar19) * dVar16;
  }
  auVar18._8_8_ = dVar13;
  auVar18._0_8_ = dVar10;
  dVar20 = dVar10 * dVar10 + dVar13 * dVar13 + dVar12 * dVar12 + dVar16 * dVar16;
  if (_LC66 < (double)((ulong)(dVar20 - dVar6) & _LC97)) {
    if ((double)(_LC97 & (ulong)dVar20) <= _LC66) {
      auVar18 = (undefined1  [16])0x0;
      dVar12 = 0.0;
      dVar16 = dVar6;
    }
    else {
      dVar12 = dVar12 / dVar20;
      auVar3._8_8_ = dVar20;
      auVar3._0_8_ = dVar20;
      auVar18 = divpd(auVar18,auVar3);
      dVar16 = dVar16 / dVar20;
    }
  }
  uStack_50 = auVar18._0_8_;
  *(double *)*param_1 = dVar4;
  *(double *)(*param_1 + 8) = dVar5;
  uStack_48 = auVar18._8_8_;
  *(double *)param_1[1] = dVar2;
  *(undefined8 *)(param_1[1] + 8) = uStack_50;
  *(undefined8 *)param_1[2] = uStack_48;
  *(double *)(param_1[2] + 8) = dVar12;
  *(double *)param_1[3] = dVar16;
  *(double *)(param_1[3] + 8) = dVar15;
  *(double *)param_1[4] = dVar9;
  *(double *)(param_1[4] + 8) = dVar21;
LAB_0013c5d3:
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbxi_transform_to_axes(long param_1,undefined8 param_2,undefined4 param_3)

{
  long *plVar1;
  uint uVar2;
  int iVar3;
  long lVar4;
  ulong uVar5;
  char cVar6;
  long *plVar7;
  undefined1 *puVar8;
  undefined8 *extraout_RDX;
  undefined8 *puVar9;
  undefined8 extraout_RDX_00;
  long lVar10;
  long in_FS_OFFSET;
  double dVar11;
  undefined8 local_158;
  undefined8 uStack_150;
  undefined8 local_148;
  undefined8 uStack_140;
  undefined8 local_138;
  undefined8 uStack_130;
  undefined8 local_128;
  undefined8 uStack_120;
  undefined8 local_118;
  undefined8 uStack_110;
  undefined8 local_108;
  undefined8 uStack_100;
  undefined8 local_f8;
  undefined4 local_f0;
  undefined8 local_e8;
  undefined8 uStack_e0;
  undefined8 local_d8;
  undefined8 uStack_d0;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined1 local_88 [104];
  long local_20;
  
  uVar2 = *(uint *)(param_1 + 0x1e30);
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_f8 = param_2;
  local_f0 = param_3;
  if ((((*(uint *)(param_1 + 0x1e28) < 6) && (*(uint *)(param_1 + 0x1e2c) < 6)) && (uVar2 < 6)) &&
     ((1 << ((byte)(*(uint *)(param_1 + 0x1e2c) >> 1) & 0x1f) |
       1 << (*(uint *)(param_1 + 0x1e28) >> 1 & 0x1f) | 1 << (uVar2 >> 1 & 0x1f)) == 7)) {
    cVar6 = ufbxi_axis_matrix(param_1 + 0x27a0,*(undefined8 *)(param_1 + 0x1e28),uVar2,param_2,
                              param_3);
    if (cVar6 != '\0') {
      dVar11 = (double)ufbx_matrix_determinant(param_1 + 0x27a0);
      uVar5 = _LC15;
      if ((dVar11 < 0.0) && (iVar3 = *(int *)(param_1 + 0x3d8), iVar3 != 0)) {
        *(int *)(param_1 + 0x1bd4) = iVar3;
        lVar10 = param_1 + (long)iVar3 * 8;
        *(int *)(param_1 + 0x1df8) = iVar3;
        lVar4 = *(long *)(param_1 + 0x1eb0);
        *(ulong *)(lVar10 + 0x2798) = *(ulong *)(lVar10 + 0x2798) ^ uVar5;
        *(ulong *)(lVar10 + 0x27b0) = *(ulong *)(lVar10 + 0x27b0) ^ uVar5;
        *(ulong *)(lVar10 + 0x27c8) = *(ulong *)(lVar10 + 0x27c8) ^ uVar5;
        *(ulong *)(lVar10 + 0x27e0) = *(ulong *)(lVar10 + 0x27e0) ^ uVar5;
        plVar7 = *(long **)(param_1 + 0x1ea8);
        plVar1 = plVar7 + lVar4;
        for (; plVar7 != plVar1; plVar7 = plVar7 + 1) {
          if (*(char *)(*plVar7 + 0x441) == '\0') {
            *(int *)(*plVar7 + 0x420) = iVar3;
          }
        }
      }
      if (*(int *)(param_1 + 0x3d4) == 0) {
        lVar4 = *(long *)(param_1 + 0x1e88);
        local_e8 = *(undefined8 *)(param_1 + 0x27a0);
        uStack_e0 = *(undefined8 *)(param_1 + 0x27a8);
        local_d8 = *(undefined8 *)(param_1 + 0x27b0);
        uStack_d0 = *(undefined8 *)(param_1 + 0x27b8);
        local_c8 = *(undefined8 *)(param_1 + 0x27c0);
        uStack_c0 = *(undefined8 *)(param_1 + 0x27c8);
        local_b8 = *(undefined8 *)(param_1 + 0x27d0);
        uStack_b0 = *(undefined8 *)(param_1 + 0x27d8);
        local_a8 = *(undefined8 *)(param_1 + 0x27e0);
        uStack_a0 = *(undefined8 *)(param_1 + 0x27e8);
        lVar10 = lVar4 + 0xf0;
        local_98 = *(undefined8 *)(param_1 + 0x27f0);
        uStack_90 = *(undefined8 *)(param_1 + 0x27f8);
        cVar6 = ufbxi_is_transform_identity(lVar10);
        puVar9 = &local_e8;
        if (cVar6 == '\0') {
          puVar8 = local_88;
          ufbx_transform_to_matrix(puVar8,lVar10);
          ufbx_matrix_mul(&local_158,puVar8);
          local_e8 = local_158;
          uStack_e0 = uStack_150;
          local_d8 = local_148;
          uStack_d0 = uStack_140;
          local_c8 = local_138;
          uStack_c0 = uStack_130;
          local_b8 = local_128;
          uStack_b0 = uStack_120;
          local_a8 = local_118;
          uStack_a0 = uStack_110;
          local_98 = local_108;
          uStack_90 = uStack_100;
          puVar9 = extraout_RDX;
        }
        ufbxi_mirror_matrix(puVar9,*(undefined4 *)(param_1 + 0x1bd4));
        ufbx_matrix_to_transform(lVar10,extraout_RDX_00);
        *(undefined8 *)(lVar4 + 0x1d0) = local_e8;
        *(undefined8 *)(lVar4 + 0x1d8) = uStack_e0;
        *(undefined8 *)(lVar4 + 0x1e0) = local_d8;
        *(undefined8 *)(lVar4 + 0x1e8) = uStack_d0;
        *(undefined8 *)(lVar4 + 0x1f0) = local_c8;
        *(undefined8 *)(lVar4 + 0x1f8) = uStack_c0;
        *(undefined8 *)(lVar4 + 0x200) = local_b8;
        *(undefined8 *)(lVar4 + 0x208) = uStack_b0;
        *(undefined8 *)(lVar4 + 0x210) = local_a8;
        *(undefined8 *)(lVar4 + 0x218) = uStack_a0;
        *(undefined8 *)(lVar4 + 0x220) = local_98;
        *(undefined8 *)(lVar4 + 0x228) = uStack_90;
      }
    }
  }
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

void ufbxi_update_adjust_transforms(long param_1,long param_2)

{
  long *plVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  long lVar5;
  undefined8 uVar6;
  char cVar7;
  char cVar8;
  long lVar9;
  long *plVar10;
  undefined2 uVar11;
  long in_FS_OFFSET;
  undefined8 uVar12;
  double dVar13;
  double dVar14;
  undefined8 uVar15;
  double dVar16;
  double dVar17;
  double dVar18;
  double dVar19;
  double dVar20;
  undefined8 uVar21;
  undefined8 uVar22;
  undefined8 uVar23;
  undefined8 uVar24;
  undefined8 uVar25;
  double dVar26;
  undefined8 local_270;
  undefined8 local_268;
  undefined8 uStack_260;
  undefined1 local_258 [16];
  undefined8 local_248;
  undefined8 uStack_240;
  undefined8 local_1c8;
  undefined8 uStack_1c0;
  undefined8 local_1b8;
  undefined1 local_1a8 [24];
  undefined8 local_190;
  undefined8 uStack_188;
  undefined8 local_180;
  undefined8 uStack_178;
  double local_170;
  double local_168;
  double local_160;
  undefined1 local_158 [24];
  undefined8 local_140;
  undefined8 uStack_138;
  undefined8 local_130;
  undefined8 uStack_128;
  undefined1 local_108 [24];
  undefined8 local_f0;
  undefined8 uStack_e8;
  undefined8 local_e0;
  undefined8 uStack_d8;
  undefined1 local_a8 [104];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  cVar7 = ufbxi_matrix_all_zero(param_1 + 0x27a0);
  if (cVar7 == '\0') {
    ufbx_matrix_to_transform(local_1a8);
    uVar22 = local_180;
    uVar23 = uStack_178;
  }
  else {
    local_190 = 0;
    uStack_188 = 0;
    local_168 = _LC0;
    uVar22 = __LC266;
    uVar23 = _UNK_0014eb58;
    local_170 = _LC0;
    local_160 = _LC0;
  }
  dVar17 = *(double *)(param_1 + 0x2800);
  iVar2 = *(int *)(param_1 + 0x3d4);
  dVar19 = local_170 * dVar17;
  dVar18 = local_168 * dVar17;
  dVar17 = dVar17 * local_160;
  dVar16 = _LC0;
  if ((((*(uint *)(param_1 + 0x404) < 6) && (*(uint *)(param_1 + 0x408) < 6)) &&
      (uVar3 = *(uint *)(param_1 + 0x40c), uVar3 < 6)) &&
     ((1 << ((byte)(*(uint *)(param_1 + 0x408) >> 1) & 0x1f) |
       1 << (*(uint *)(param_1 + 0x404) >> 1 & 0x1f) | 1 << (uVar3 >> 1 & 0x1f)) == 7)) {
    cVar7 = ufbxi_axis_matrix(local_108,*(undefined8 *)(param_1 + 0x404),uVar3,0x500000000,2);
    if (cVar7 == '\0') {
      uVar3 = *(uint *)(param_1 + 0x3f8);
      local_270 = 0;
      local_258 = (undefined1  [16])0x0;
      uVar12 = __LC288;
      uVar15 = _LC17;
      uVar24 = local_190;
      uVar25 = uStack_188;
      local_268 = __LC288;
      uStack_260 = _LC17;
      local_248 = __LC266;
      uStack_240 = _UNK_0014eb58;
      goto joined_r0x0013cfb9;
    }
    ufbx_matrix_to_transform(local_158,local_108);
    local_258._8_8_ = uStack_138;
    local_258._0_8_ = local_140;
    local_248 = local_130;
    uStack_240 = uStack_128;
    ufbx_matrix_invert(local_a8,local_108);
    uVar15 = _LC17;
    uVar12 = __LC288;
    local_1b8 = 0;
    local_1c8 = __LC288;
    uStack_1c0 = _LC17;
    ufbx_transform_direction(&local_1c8,local_a8);
    local_268 = local_1c8;
    uStack_260 = uStack_1c0;
    local_270 = local_1b8;
  }
  else {
    cVar7 = '\0';
    local_270 = 0;
    local_248 = __LC266;
    uStack_240 = _UNK_0014eb58;
    local_258 = (undefined1  [16])0x0;
    local_268 = __LC288;
    uStack_260 = _LC17;
    uVar12 = __LC288;
    uVar15 = _LC17;
  }
  uVar3 = *(uint *)(param_1 + 0x3f8);
  uVar24 = local_190;
  uVar25 = uStack_188;
joined_r0x0013cfb9:
  if (((uVar3 < 6) && (*(uint *)(param_1 + 0x3fc) < 6)) &&
     ((uVar4 = *(uint *)(param_1 + 0x400), uVar4 < 6 &&
      ((1 << ((byte)(*(uint *)(param_1 + 0x3fc) >> 1) & 0x1f) | 1 << (uVar3 >> 1 & 0x1f) |
       1 << (uVar4 >> 1 & 0x1f)) == 7)))) {
    cVar8 = ufbxi_axis_matrix(local_a8,*(undefined8 *)(param_1 + 0x3f8),uVar4,0x200000004,1);
    if (cVar8 == '\0') {
      local_f0 = 0;
      uStack_e8 = 0;
      local_e0 = __LC266;
      uStack_d8 = _UNK_0014eb58;
    }
    else {
      ufbx_matrix_to_transform(local_108,local_a8);
    }
  }
  else {
    local_f0 = 0;
    uStack_e8 = 0;
    cVar8 = '\0';
    local_e0 = __LC266;
    uStack_d8 = _UNK_0014eb58;
  }
  plVar10 = *(long **)(param_2 + 0x2d0);
  plVar1 = plVar10 + *(long *)(param_2 + 0x2d8);
  for (; plVar10 != plVar1; plVar10 = plVar10 + 1) {
    lVar5 = *plVar10;
    *(undefined8 *)(lVar5 + 0xb0) = 0;
    *(undefined8 *)(lVar5 + 0xa0) = uVar12;
    *(undefined8 *)(lVar5 + 0xa8) = uVar15;
  }
  if (dVar18 <= dVar19) {
    dVar19 = dVar18;
  }
  *(int *)(param_2 + 0x1d0) = iVar2;
  if (dVar17 <= dVar19) {
    dVar19 = dVar17;
  }
  dVar17 = dVar19;
  dVar18 = dVar16;
  if (iVar2 == 2) {
    dVar17 = dVar16;
    dVar18 = dVar19;
  }
  plVar10 = *(long **)(param_2 + 0x2b0);
  *(double *)(param_2 + 0x1f8) = dVar17;
  *(double *)(param_2 + 0x208) = dVar18;
  plVar1 = plVar10 + *(long *)(param_2 + 0x2b8);
  *(undefined8 *)(param_2 + 0x1d8) = uVar24;
  *(undefined8 *)(param_2 + 0x1e0) = uVar25;
  *(undefined8 *)(param_2 + 0x1e8) = uVar22;
  *(undefined8 *)(param_2 + 0x1f0) = uVar23;
  if (plVar10 != plVar1) {
    uVar21 = 0;
    dVar17 = _LC0;
    dVar18 = _LC0;
    uVar12 = __LC266;
    uVar15 = _UNK_0014eb58;
    dVar20 = _LC0;
    uVar11 = _LC263;
    do {
      while( true ) {
        lVar5 = *plVar10;
        *(undefined1 (*) [16])(lVar5 + 0x3c8) = (undefined1  [16])0x0;
        *(undefined8 *)(lVar5 + 0x3d8) = uVar12;
        *(undefined8 *)(lVar5 + 0x3e0) = uVar15;
        *(double *)(lVar5 + 1000) = dVar20;
        *(undefined8 *)(lVar5 + 0x3f0) = uVar21;
        *(undefined1 (*) [16])(lVar5 + 0x3f8) = (undefined1  [16])0x0;
        *(double *)(lVar5 + 0x408) = dVar17;
        *(double *)(lVar5 + 0x410) = dVar18;
        *(double *)(lVar5 + 0x418) = dVar16;
        if (iVar2 == 1) {
          if ((*(uint *)(lVar5 + 0x448) < 2) && (*(char *)(lVar5 + 0x441) == '\0')) {
            *(undefined8 *)(lVar5 + 0x3c8) = uVar24;
            *(undefined8 *)(lVar5 + 0x3d0) = uVar25;
            *(undefined2 *)(lVar5 + 0x443) = 0x101;
            *(undefined8 *)(lVar5 + 0x3d8) = uVar22;
            *(undefined8 *)(lVar5 + 0x3e0) = uVar23;
            *(double *)(lVar5 + 1000) = dVar19;
          }
        }
        else if ((iVar2 == 2) && (*(char *)(lVar5 + 0x441) == '\0')) {
          if (*(uint *)(lVar5 + 0x448) < 2) {
            *(undefined8 *)(lVar5 + 0x3c8) = uVar24;
            *(undefined8 *)(lVar5 + 0x3d0) = uVar25;
            *(undefined8 *)(lVar5 + 0x3d8) = uVar22;
            *(undefined8 *)(lVar5 + 0x3e0) = uVar23;
          }
          *(undefined1 *)(lVar5 + 0x443) = 1;
          *(double *)(lVar5 + 0x418) = dVar19;
        }
        lVar9 = *(long *)(lVar5 + 0x80);
        if (lVar9 != 0) {
          if ((*(char *)(lVar9 + 0x444) != '\0') && (*(int *)(lVar5 + 0xe8) == 1)) {
            *(undefined2 *)(lVar5 + 0x443) = uVar11;
            *(double *)(lVar5 + 0x410) = dVar19;
          }
          if ((*(char *)(lVar9 + 0x447) != '\0') && (*(int *)(lVar5 + 0xec) == 1)) {
            lVar9 = ufbxi_find_prop_with_key(lVar9 + 0x10,"Lcl Scaling",0x4c636c20);
            uVar11 = _LC263;
            dVar14 = dVar16;
            if (lVar9 != 0) {
              dVar13 = (double)((ulong)(*(double *)(lVar9 + 0x50) - dVar16) & _LC97);
              dVar26 = (double)((ulong)(*(double *)(lVar9 + 0x48) - dVar16) & _LC97);
              dVar14 = *(double *)(lVar9 + 0x50);
              if (dVar26 <= dVar13) {
                dVar14 = *(double *)(lVar9 + 0x48);
                dVar13 = dVar26;
              }
              if (dVar13 <= (double)((ulong)(*(double *)(lVar9 + 0x58) - dVar16) & _LC97)) {
                dVar14 = dVar16 / dVar14;
              }
              else {
                dVar14 = dVar16 / *(double *)(lVar9 + 0x58);
              }
            }
            *(undefined1 *)(lVar5 + 0x443) = 1;
            *(double *)(lVar5 + 0x410) = dVar14 * *(double *)(lVar5 + 0x410);
          }
        }
        if (*(long *)(lVar5 + 0xe0) == 1) break;
LAB_0013cef4:
        plVar10 = plVar10 + 1;
        if (plVar1 == plVar10) goto LAB_0013d118;
      }
      if ((cVar7 != '\0') && (lVar9 = *(long *)(lVar5 + 0xa0), lVar9 != 0)) {
        *(undefined8 *)(lVar5 + 0x3f0) = local_258._0_8_;
        *(undefined8 *)(lVar5 + 0x3f8) = local_258._8_8_;
        *(undefined8 *)(lVar5 + 0x400) = local_248;
        *(undefined8 *)(lVar5 + 0x408) = uStack_240;
        *(undefined8 *)(lVar9 + 0xa0) = local_268;
        *(undefined8 *)(lVar9 + 0xa8) = uStack_260;
        *(undefined8 *)(lVar9 + 0xb0) = local_270;
        *(undefined1 *)(lVar5 + 0x443) = 1;
      }
      if ((cVar8 == '\0') || (lVar9 = *(long *)(lVar5 + 0xa8), lVar9 == 0)) goto LAB_0013cef4;
      uVar6 = *(undefined8 *)(param_1 + 0x3f8);
      *(undefined8 *)(lVar5 + 0x3f0) = local_f0;
      *(undefined8 *)(lVar5 + 0x3f8) = uStack_e8;
      plVar10 = plVar10 + 1;
      *(undefined8 *)(lVar5 + 0x400) = local_e0;
      *(undefined8 *)(lVar5 + 0x408) = uStack_d8;
      *(undefined8 *)(lVar9 + 0xf8) = uVar6;
      *(undefined4 *)(lVar9 + 0x100) = *(undefined4 *)(param_1 + 0x400);
      *(undefined1 *)(lVar5 + 0x443) = 1;
    } while (plVar1 != plVar10);
  }
LAB_0013d118:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



void ufbxi_update_skin_cluster(long param_1)

{
  long in_FS_OFFSET;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 local_b8;
  undefined8 uStack_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined8 uStack_90;
  undefined8 local_88;
  undefined8 uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  undefined8 local_68;
  undefined8 uStack_60;
  undefined8 local_58;
  undefined8 uStack_50;
  undefined8 local_48;
  undefined8 uStack_40;
  undefined8 local_38;
  undefined8 uStack_30;
  undefined8 local_28;
  undefined8 uStack_20;
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(long *)(param_1 + 0x80) == 0) {
    ufbx_matrix_mul(&local_78,param_1 + 0x148,param_1 + 0x88);
    *(undefined8 *)(param_1 + 0x1a8) = local_78;
    *(undefined8 *)(param_1 + 0x1b0) = uStack_70;
    *(undefined8 *)(param_1 + 0x1b8) = local_68;
    *(undefined8 *)(param_1 + 0x1c0) = uStack_60;
    *(undefined8 *)(param_1 + 0x1c8) = local_58;
    *(undefined8 *)(param_1 + 0x1d0) = uStack_50;
    *(undefined8 *)(param_1 + 0x1d8) = local_48;
    *(undefined8 *)(param_1 + 0x1e0) = uStack_40;
    *(undefined8 *)(param_1 + 0x1e8) = local_38;
    *(undefined8 *)(param_1 + 0x1f0) = uStack_30;
    *(undefined8 *)(param_1 + 0x1f8) = local_28;
    *(undefined8 *)(param_1 + 0x200) = uStack_20;
  }
  else {
    ufbx_matrix_mul(&local_78,*(long *)(param_1 + 0x80) + 0x230,param_1 + 0x88);
    *(undefined8 *)(param_1 + 0x1a8) = local_78;
    *(undefined8 *)(param_1 + 0x1b0) = uStack_70;
    *(undefined8 *)(param_1 + 0x1b8) = local_68;
    *(undefined8 *)(param_1 + 0x1c0) = uStack_60;
    *(undefined8 *)(param_1 + 0x1c8) = local_58;
    *(undefined8 *)(param_1 + 0x1d0) = uStack_50;
    *(undefined8 *)(param_1 + 0x1d8) = local_48;
    *(undefined8 *)(param_1 + 0x1e0) = uStack_40;
    *(undefined8 *)(param_1 + 0x1e8) = local_38;
    *(undefined8 *)(param_1 + 0x1f0) = uStack_30;
    *(undefined8 *)(param_1 + 0x1f8) = local_28;
    *(undefined8 *)(param_1 + 0x200) = uStack_20;
  }
  ufbx_matrix_to_transform(&local_c8,param_1 + 0x1a8);
  *(undefined8 *)(param_1 + 0x208) = local_c8;
  *(undefined8 *)(param_1 + 0x210) = uStack_c0;
  *(undefined8 *)(param_1 + 0x218) = local_b8;
  *(undefined8 *)(param_1 + 0x220) = uStack_b0;
  *(undefined8 *)(param_1 + 0x228) = local_a8;
  *(undefined8 *)(param_1 + 0x230) = uStack_a0;
  *(undefined8 *)(param_1 + 0x238) = local_98;
  *(undefined8 *)(param_1 + 0x240) = uStack_90;
  *(undefined8 *)(param_1 + 0x248) = local_88;
  *(undefined8 *)(param_1 + 0x250) = uStack_80;
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbxi_update_scene_constprop_0(long param_1)

{
  undefined8 *puVar1;
  undefined8 *puVar2;
  
  puVar2 = *(undefined8 **)(param_1 + 0x2b0);
  puVar1 = puVar2 + *(long *)(param_1 + 0x2b8);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_node_constprop_0(*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x2d0);
  puVar1 = puVar2 + *(long *)(param_1 + 0x2d8);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_light(*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x2e0);
  puVar1 = puVar2 + *(long *)(param_1 + 0x2e8);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_camera(param_1,*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x2f0);
  puVar1 = puVar2 + *(long *)(param_1 + 0x2f8);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_bone(param_1,*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x310);
  puVar1 = puVar2 + *(long *)(param_1 + 0x318);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_line_curve(*puVar2);
  }
  ufbxi_update_initial_clusters(param_1);
  puVar2 = *(undefined8 **)(param_1 + 0x520);
  puVar1 = puVar2 + *(long *)(param_1 + 0x528);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_pose(*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x3c0);
  puVar1 = puVar2 + *(long *)(param_1 + 0x3c8);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_skin_cluster(*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x3e0);
  puVar1 = puVar2 + *(long *)(param_1 + 1000);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_blend_channel(*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x430);
  puVar1 = puVar2 + *(long *)(param_1 + 0x438);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_texture(*puVar2);
  }
  ufbxi_propagate_main_textures(param_1);
  puVar2 = *(undefined8 **)(param_1 + 0x420);
  puVar1 = puVar2 + *(long *)(param_1 + 0x428);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_material(param_1,*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x470);
  puVar1 = puVar2 + *(long *)(param_1 + 0x478);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_anim_stack(param_1,*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x4b0);
  puVar1 = puVar2 + *(long *)(param_1 + 0x4b8);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_display_layer(*puVar2);
  }
  puVar2 = *(undefined8 **)(param_1 + 0x4f0);
  puVar1 = puVar2 + *(long *)(param_1 + 0x4f8);
  for (; puVar2 != puVar1; puVar2 = puVar2 + 1) {
    ufbxi_update_constraint(*puVar2);
  }
  ufbxi_update_anim(param_1);
  return;
}



double * ufbx_catch_get_skin_vertex_matrix
                   (double *param_1,undefined8 param_2,long param_3,ulong param_4,double *param_5)

{
  uint uVar1;
  long lVar2;
  double dVar3;
  int iVar4;
  int extraout_EDX;
  int extraout_EDX_00;
  uint *puVar5;
  undefined8 extraout_RDX;
  long lVar6;
  double *pdVar7;
  ulong uVar8;
  ulong uVar9;
  long lVar10;
  long in_FS_OFFSET;
  double dVar11;
  double dVar12;
  double dVar13;
  double dVar14;
  double dVar15;
  double dVar16;
  double dVar17;
  double dVar18;
  double dVar19;
  double dVar20;
  double dVar21;
  double dVar22;
  double dVar23;
  double local_1e0;
  double local_1d8;
  double local_1d0;
  double local_1c8;
  double local_1c0;
  double local_1b8;
  double local_1b0;
  double local_1a8;
  double local_1a0;
  undefined1 local_198 [24];
  double local_180;
  double local_138;
  double dStack_130;
  double local_128;
  double dStack_120;
  double local_118;
  double local_110;
  double local_108;
  undefined8 local_100;
  undefined8 uStack_f8;
  double local_f0;
  double local_e8 [4];
  double local_c8;
  double dStack_c0;
  double local_b8;
  double dStack_b0;
  double local_a8;
  double dStack_a0;
  double local_98;
  double dStack_90;
  double local_88;
  double dStack_80;
  double local_78;
  double dStack_70;
  double local_68;
  double dStack_60;
  double local_58;
  double dStack_50;
  double local_48;
  double dStack_40;
  double local_38;
  double dStack_30;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4 < *(ulong *)(param_3 + 0xa0)) {
    puVar5 = (uint *)(param_4 * 0x10 + *(long *)(param_3 + 0x98));
    uVar1 = puVar5[1];
    uVar8 = (ulong)uVar1;
    uVar9 = (ulong)*puVar5;
    pdVar7 = local_e8;
    for (lVar2 = 0xc; lVar2 != 0; lVar2 = lVar2 + -1) {
      *pdVar7 = 0.0;
      pdVar7 = pdVar7 + 1;
    }
    dVar23 = *(double *)(puVar5 + 2);
    if (uVar1 != 0) {
      iVar4 = 0;
      lVar2 = *(long *)(param_3 + 0xa8);
      local_1a0 = 0.0;
      lVar10 = *(long *)(param_3 + 0x88);
      local_1a8 = 0.0;
      local_1b0 = 0.0;
      local_1b8 = 0.0;
      local_1c0 = 0.0;
      local_198._0_16_ = (undefined1  [16])0x0;
      local_180 = 0.0;
      local_1e0 = 0.0;
      local_1d8 = 0.0;
      local_1d0 = 0.0;
      local_1c8 = 0.0;
      do {
        puVar5 = (uint *)((ulong)(uint)((int)uVar9 + iVar4) * 0x10 + lVar2);
        dVar19 = *(double *)(puVar5 + 2);
        lVar6 = *(long *)(lVar10 + (ulong)*puVar5 * 8);
        if (*(long *)(lVar6 + 0x80) != 0) {
          if (0.0 < dVar23) {
            dVar17 = *(double *)(lVar6 + 0x220);
            dVar21 = *(double *)(lVar6 + 0x228);
            dVar3 = *(double *)(lVar6 + 0x250);
            dVar14 = *(double *)(lVar6 + 0x240);
            dVar15 = *(double *)(lVar6 + 0x248);
            dVar22 = *(double *)(lVar6 + 0x230);
            dVar20 = *(double *)(lVar6 + 0x238);
            dVar12 = *(double *)(lVar6 + 0x208);
            dVar13 = *(double *)(lVar6 + 0x210);
            dVar18 = *(double *)(lVar6 + 0x218);
            dVar16 = 0.0;
            dVar11 = (double)ufbx_quat_dot();
            if (dVar11 < dVar16) {
              dVar17 = (double)((ulong)dVar17 ^ _LC15);
              dVar21 = (double)((ulong)dVar21 ^ _LC15);
              dVar22 = (double)((ulong)dVar22 ^ _LC15);
              dVar20 = (double)((ulong)dVar20 ^ _LC15);
            }
            dStack_120 = 0.0;
            local_198._8_8_ = dVar19 * dVar15 + (double)local_198._8_8_;
            local_198._0_8_ = dVar19 * dVar14 + (double)local_198._0_8_;
            local_138 = dVar12 * _LC60;
            dStack_130 = dVar13 * _LC60;
            local_128 = _LC60 * dVar18;
            ufbxi_mul_quat(&local_88);
            local_1d8 = dVar21 * dVar19 + local_1d8;
            local_1d0 = dVar22 * dVar19 + local_1d0;
            local_1c0 = local_88 * dVar19 + local_1c0;
            local_1e0 = dVar17 * dVar19 + local_1e0;
            local_1c8 = dVar20 * dVar19 + local_1c8;
            local_1b8 = dStack_80 * dVar19 + local_1b8;
            local_1b0 = local_78 * dVar19 + local_1b0;
            local_1a8 = dStack_70 * dVar19 + local_1a8;
            local_1a0 = dVar3 * dVar19 + local_1a0;
            iVar4 = extraout_EDX;
          }
          if (dVar23 < _LC0) {
            ufbxi_add_weighted_mat((_LC0 - dVar23) * dVar19,local_e8,lVar6 + 0x1a8);
            iVar4 = extraout_EDX_00;
          }
          local_180 = dVar19 + local_180;
        }
        iVar4 = iVar4 + 1;
      } while (iVar4 != (int)uVar8);
      if (0.0 < local_180) {
        if (_LC66 < (double)((ulong)(local_180 - _LC0) & _LC97)) {
          if (_LC66 < (double)(_LC97 & (ulong)local_180)) {
            local_180 = _LC0 / local_180;
          }
          else {
            local_180 = 0.0;
          }
          if (0.0 < dVar23) {
            local_1e0 = local_1e0 * local_180;
            local_1d8 = local_1d8 * local_180;
            local_1d0 = local_1d0 * local_180;
            local_1c8 = local_1c8 * local_180;
            local_198._8_8_ = (double)local_198._8_8_ * local_180;
            local_198._0_8_ = (double)local_198._0_8_ * local_180;
            local_1c0 = local_1c0 * local_180;
            local_1b8 = local_1b8 * local_180;
            local_1b0 = local_1b0 * local_180;
            local_1a8 = local_1a8 * local_180;
            local_1a0 = local_180 * local_1a0;
          }
          if (dVar23 < _LC0) {
            local_e8[2] = local_e8[2] * local_180;
            local_e8[3] = local_e8[3] * local_180;
            local_c8 = local_c8 * local_180;
            dStack_c0 = dStack_c0 * local_180;
            local_b8 = local_b8 * local_180;
            dStack_b0 = dStack_b0 * local_180;
            local_a8 = local_a8 * local_180;
            dStack_a0 = dStack_a0 * local_180;
            local_98 = local_98 * local_180;
            dStack_90 = dStack_90 * local_180;
            local_e8[0] = local_180 * local_e8[0];
            local_e8[1] = local_180 * local_e8[1];
          }
        }
        if (0.0 < dVar23) {
          local_1a8 = (double)((ulong)local_1a8 ^ _LC15);
          local_100 = local_198._0_8_;
          uStack_f8 = local_198._8_8_;
          local_f0 = local_1a0;
          local_108 = _LC0 / SQRT(local_1e0 * local_1e0 + local_1d8 * local_1d8 +
                                  local_1d0 * local_1d0 + local_1c8 * local_1c8);
          dStack_120 = local_1e0 * local_108;
          local_128 = (local_108 + local_108) * local_108;
          local_118 = local_108 * local_1d8;
          local_110 = local_108 * local_1d0;
          local_108 = local_108 * local_1c8;
          local_138 = (((local_1a8 * local_1e0 + local_1c0 * local_1c8) - local_1b8 * local_1d0) +
                      local_1b0 * local_1d8) * local_128;
          dStack_130 = ((local_1a8 * local_1d8 + local_1c0 * local_1d0 + local_1b8 * local_1c8) -
                       local_1b0 * local_1e0) * local_128;
          local_128 = (local_1c8 * local_1b0 +
                      (local_1a8 * local_1d0 - local_1d8 * local_1c0) + local_1e0 * local_1b8) *
                      local_128;
          dVar19 = _LC0;
          ufbx_transform_to_matrix(&local_88,&local_138);
          if (dVar23 < dVar19) {
            ufbxi_add_weighted_mat(dVar23,local_e8,extraout_RDX);
          }
          else {
            local_e8[0] = local_88;
            local_e8[1] = dStack_80;
            local_e8[2] = local_78;
            local_e8[3] = dStack_70;
            local_c8 = local_68;
            dStack_c0 = dStack_60;
            local_b8 = local_58;
            dStack_b0 = dStack_50;
            local_a8 = local_48;
            dStack_a0 = dStack_40;
            local_98 = local_38;
            dStack_90 = dStack_30;
          }
        }
        *param_1 = local_e8[0];
        param_1[1] = local_e8[1];
        param_1[2] = local_e8[2];
        param_1[3] = local_e8[3];
        param_1[4] = local_c8;
        param_1[5] = dStack_c0;
        param_1[6] = local_b8;
        param_1[7] = dStack_b0;
        param_1[8] = local_a8;
        param_1[9] = dStack_a0;
        param_1[10] = local_98;
        param_1[0xb] = dStack_90;
        goto LAB_0013de9f;
      }
    }
    if (param_5 != (double *)0x0) {
      dVar23 = param_5[1];
      dVar19 = param_5[2];
      dVar17 = param_5[3];
      dVar21 = param_5[8];
      dVar3 = param_5[9];
      dVar22 = param_5[10];
      dVar20 = param_5[0xb];
      *param_1 = *param_5;
      param_1[1] = dVar23;
      dVar23 = param_5[4];
      dVar18 = param_5[5];
      param_1[2] = dVar19;
      param_1[3] = dVar17;
      dVar19 = param_5[6];
      dVar17 = param_5[7];
      param_1[4] = dVar23;
      param_1[5] = dVar18;
      param_1[6] = dVar19;
      param_1[7] = dVar17;
      param_1[8] = dVar21;
      param_1[9] = dVar3;
      param_1[10] = dVar22;
      param_1[0xb] = dVar20;
      goto LAB_0013de9f;
    }
  }
  else {
    ufbxi_panicf_imp(param_2,"vertex (%zu) out of bounds (%zu)");
  }
  dVar23 = _LC0;
  *(undefined1 (*) [16])(param_1 + 2) = (undefined1  [16])0x0;
  *param_1 = dVar23;
  param_1[1] = 0.0;
  param_1[4] = dVar23;
  param_1[5] = 0.0;
  *(undefined1 (*) [16])(param_1 + 6) = (undefined1  [16])0x0;
  param_1[8] = dVar23;
  param_1[9] = 0.0;
  *(undefined1 (*) [16])(param_1 + 10) = (undefined1  [16])0x0;
LAB_0013de9f:
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



ulong ufbx_get_blend_shape_offset_index(long param_1,uint param_2)

{
  ulong uVar1;
  ulong uVar2;
  ulong uVar3;
  long lVar4;
  ulong uVar5;
  
  if (param_1 != 0) {
    uVar3 = 0;
    uVar5 = *(ulong *)(param_1 + 0x80);
    uVar2 = uVar5;
    while (0x10 < uVar5) {
      lVar4 = (uVar5 >> 1) + uVar3;
      uVar1 = lVar4 + 1;
      if (*(uint *)(*(long *)(param_1 + 0x88) + lVar4 * 4) < param_2) {
        uVar3 = uVar1;
        uVar1 = uVar2;
      }
      uVar2 = uVar1;
      uVar5 = uVar1 - uVar3;
    }
    if (uVar3 < uVar2) {
      do {
        if (*(uint *)(*(long *)(param_1 + 0x88) + uVar3 * 4) == param_2) {
          uVar5 = uVar3 & 0xffffffff;
          if (0xfffffffe < uVar3) {
            uVar5 = 0xffffffff;
          }
          return uVar5;
        }
        uVar3 = uVar3 + 1;
      } while (uVar3 != uVar2);
    }
  }
  return 0xffffffff;
}



undefined1 (*) [16]
ufbx_get_blend_shape_vertex_offset(undefined1 (*param_1) [16],long param_2,undefined8 param_3)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  uint uVar4;
  
  uVar4 = ufbx_get_blend_shape_offset_index(param_2,param_3);
  if (uVar4 != 0xffffffff) {
    puVar1 = (undefined8 *)(*(long *)(param_2 + 0x98) + (ulong)uVar4 * 0x18);
    uVar3 = puVar1[1];
    uVar2 = puVar1[2];
    *(undefined8 *)*param_1 = *puVar1;
    *(undefined8 *)(*param_1 + 8) = uVar3;
    *(undefined8 *)param_1[1] = uVar2;
    return param_1;
  }
  *(undefined8 *)param_1[1] = 0;
  *param_1 = (undefined1  [16])0x0;
  return param_1;
}



double * ufbx_get_blend_vertex_offset(double *param_1,long param_2,undefined8 param_3)

{
  long *plVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  long *plVar4;
  long in_FS_OFFSET;
  double dVar5;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double local_48;
  double dStack_40;
  double local_38;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_2 != 0) {
    plVar4 = *(long **)(param_2 + 0x80);
    plVar1 = plVar4 + *(long *)(param_2 + 0x88);
    if (plVar4 != plVar1) {
      dVar7 = 0.0;
      dVar8 = 0.0;
      dVar9 = 0.0;
      dVar6 = 0.0;
      do {
        puVar3 = *(undefined8 **)(*plVar4 + 0x88);
        puVar2 = puVar3 + *(long *)(*plVar4 + 0x90) * 3;
        for (; puVar3 != puVar2; puVar3 = puVar3 + 3) {
          dVar5 = (double)puVar3[2];
          if (dVar5 != dVar6) {
            ufbx_get_blend_shape_vertex_offset(&local_48,*puVar3,param_3);
            dVar7 = dVar7 + dVar5 * local_38;
            dVar8 = dVar8 + dVar5 * local_48;
            dVar9 = dVar9 + dVar5 * dStack_40;
          }
        }
        plVar4 = plVar4 + 1;
      } while (plVar1 != plVar4);
      goto LAB_0013e309;
    }
  }
  dVar8 = 0.0;
  dVar9 = 0.0;
  dVar7 = 0.0;
LAB_0013e309:
  *param_1 = dVar8;
  param_1[1] = dVar9;
  param_1[2] = dVar7;
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_add_blend_shape_vertex_offsets(double param_1,undefined8 param_2,long param_3)

{
  bool bVar1;
  
  if (param_3 != 0) {
    bVar1 = !NAN(param_1);
    if (param_1 != 0.0) {
      bVar1 = param_3 == 0;
    }
    if (!bVar1) {
      ufbx_add_blend_shape_vertex_offsets_part_0();
      return;
    }
  }
  return;
}



void ufbx_add_blend_vertex_offsets(double param_1,long param_2,long param_3,undefined8 param_4)

{
  long *plVar1;
  undefined8 *puVar2;
  undefined8 *puVar3;
  long *plVar4;
  double dVar5;
  
  if (param_2 == 0) {
    return;
  }
  plVar4 = *(long **)(param_2 + 0x80);
  plVar1 = plVar4 + *(long *)(param_2 + 0x88);
  if (plVar4 != plVar1) {
    dVar5 = 0.0;
    do {
      puVar2 = *(undefined8 **)(*plVar4 + 0x88);
      puVar3 = puVar2 + *(long *)(*plVar4 + 0x90) * 3;
      if (puVar2 != puVar3) {
        do {
          if ((((double)puVar2[2] != dVar5) && ((double)puVar2[2] * param_1 != dVar5)) &&
             (param_3 != 0)) {
            ufbx_add_blend_shape_vertex_offsets_part_0(*puVar2,param_3,param_4);
          }
          puVar2 = puVar2 + 3;
        } while (puVar3 != puVar2);
      }
      plVar4 = plVar4 + 1;
    } while (plVar1 != plVar4);
  }
  return;
}



ulong ufbx_evaluate_nurbs_basis
                (double param_1,uint *param_2,double *param_3,ulong param_4,double *param_5,
                ulong param_6)

{
  long lVar1;
  double dVar2;
  uint uVar3;
  long lVar4;
  ulong uVar5;
  long lVar6;
  ulong uVar7;
  double dVar8;
  ulong uVar9;
  ulong uVar10;
  ulong uVar11;
  long lVar12;
  ulong uVar13;
  bool bVar14;
  ulong uVar15;
  ulong uVar16;
  bool bVar17;
  bool bVar18;
  double dVar19;
  double dVar20;
  double dVar21;
  double dVar22;
  double dVar23;
  double dVar24;
  double dVar25;
  
  dVar8 = _LC0;
  if (param_2 == (uint *)0x0) {
    return 0xffffffffffffffff;
  }
  uVar3 = *param_2;
  if ((uVar3 == 0) || ((char)param_2[0x12] == '\0')) {
    return 0xffffffffffffffff;
  }
  uVar16 = (ulong)(uVar3 - 1);
  lVar4 = *(long *)(param_2 + 2);
  uVar5 = *(ulong *)(param_2 + 4);
  if (*(double *)(param_2 + 6) < param_1) {
    if (param_1 < *(double *)(param_2 + 8)) {
      uVar11 = 0;
      uVar9 = uVar5 - 1;
      uVar7 = uVar9;
      while (8 < uVar9) {
        lVar12 = (uVar9 >> 1) + uVar11;
        uVar13 = lVar12 + 1;
        if (*(double *)(lVar4 + 8 + lVar12 * 8) <= param_1) {
          uVar11 = uVar13;
          uVar13 = uVar7;
        }
        uVar7 = uVar13;
        uVar9 = uVar13 - uVar11;
      }
      if (uVar7 <= uVar11) {
        uVar11 = 0xffffffffffffffff;
        uVar9 = ~uVar16;
        goto LAB_0013e492;
      }
      do {
        if ((*(double *)(lVar4 + uVar11 * 8) <= param_1) &&
           (param_1 < *(double *)(lVar4 + 8 + uVar11 * 8))) goto LAB_0013e70f;
        uVar11 = uVar11 + 1;
      } while (uVar11 != uVar7);
      uVar11 = 0xffffffffffffffff;
    }
    else {
      uVar11 = (uVar5 - 2) - uVar16;
      param_1 = *(double *)(param_2 + 8);
LAB_0013e70f:
      if (uVar11 < uVar16) {
        return 0xffffffffffffffff;
      }
    }
    uVar9 = uVar11 - uVar16;
  }
  else {
    uVar9 = 0;
    uVar11 = uVar16;
    param_1 = *(double *)(param_2 + 6);
  }
LAB_0013e492:
  if (param_6 == 0) {
    param_5 = (double *)0x0;
  }
  if (((param_4 < uVar3) || (param_3 == (double *)0x0)) ||
     (*param_3 = _LC0, uVar7 = _LC15, uVar3 - 1 == 0)) {
    return uVar9;
  }
  lVar12 = lVar4 + (uVar11 - 1) * 8;
  uVar13 = 1;
  uVar15 = uVar11 - 1;
  dVar25 = dVar8;
LAB_0013e4f0:
  bVar17 = param_5 != (double *)0x0;
  bVar18 = uVar16 == uVar13;
  bVar14 = bVar17 && bVar18;
  dVar23 = dVar8;
  if (uVar11 < uVar5) {
    if (uVar5 - uVar11 < uVar13) {
LAB_0013e778:
      if (bVar17 && bVar18) goto LAB_0013e755;
    }
    else {
      dVar22 = *(double *)(lVar12 + 8);
      dVar20 = *(double *)(lVar4 + (uVar11 + uVar13) * 8);
      if (dVar20 <= dVar22) goto LAB_0013e778;
      if ((dVar22 < param_1) && (dVar23 = 0.0, param_1 < dVar20)) {
        dVar23 = dVar8 - (param_1 - dVar22) / (dVar20 - dVar22);
      }
      if (bVar17 && bVar18) {
        if (dVar22 < dVar20) {
          dVar22 = (double)(long)uVar13 / (dVar20 - dVar22);
          goto LAB_0013e590;
        }
        goto LAB_0013e755;
      }
    }
    bVar14 = false;
    dVar22 = 0.0;
  }
  else {
LAB_0013e755:
    dVar22 = 0.0;
  }
LAB_0013e590:
  lVar1 = lVar4 + (uVar15 + uVar13) * 8;
  uVar10 = (uVar5 - uVar13) - uVar15;
  uVar11 = uVar13;
  dVar20 = 0.0;
  do {
    dVar19 = dVar25;
    dVar24 = dVar23 * dVar20;
    dVar25 = dVar19;
    dVar2 = dVar22;
    if ((uVar15 + uVar11 < uVar5) && (uVar13 <= uVar10)) {
      dVar23 = *(double *)(lVar12 + uVar11 * 8);
      dVar21 = *(double *)(lVar1 + uVar11 * 8);
      if ((dVar21 <= dVar23) || (param_1 <= dVar23)) {
        dVar21 = dVar19 * 0.0;
        dVar23 = dVar8;
      }
      else if (dVar21 <= param_1) {
        dVar21 = dVar19;
        dVar25 = dVar19 * 0.0;
        dVar23 = 0.0;
      }
      else {
        dVar25 = (param_1 - dVar23) / (dVar21 - dVar23);
        dVar23 = dVar8 - dVar25;
        dVar21 = dVar25 * dVar19;
        dVar25 = dVar19 * dVar23;
      }
      param_3[uVar11] = dVar24 + dVar21;
      if (bVar14) {
        dVar2 = *(double *)(lVar12 + uVar11 * 8);
        dVar21 = *(double *)(lVar1 + uVar11 * 8);
        dVar24 = 0.0;
        if (dVar2 < dVar21) {
          dVar24 = (double)(long)uVar13 / (dVar21 - dVar2);
        }
LAB_0013e645:
        dVar2 = dVar24;
        if (uVar11 < param_6) {
          param_5[uVar11] = dVar24 * dVar19 - dVar22 * dVar20;
        }
      }
    }
    else {
      param_3[uVar11] = dVar24 + dVar19 * 0.0;
      dVar24 = 0.0;
      dVar23 = dVar8;
      if (bVar14) goto LAB_0013e645;
    }
    dVar22 = dVar2;
    if (uVar11 == 1) break;
    uVar10 = uVar10 + 1;
    lVar6 = uVar11 - 2;
    uVar11 = uVar11 - 1;
    dVar25 = param_3[lVar6];
    dVar20 = dVar19;
  } while( true );
  *param_3 = dVar25;
  if (bVar14) {
    *param_5 = dVar19 * (double)((ulong)dVar22 ^ uVar7);
  }
  lVar12 = lVar12 + -8;
  if ((ulong)uVar3 == uVar13 + 1) {
    return uVar9;
  }
  dVar25 = param_3[uVar13];
  uVar11 = uVar15;
  uVar13 = uVar13 + 1;
  uVar15 = uVar15 - 1;
  goto LAB_0013e4f0;
}



undefined8 * ufbx_evaluate_nurbs_curve(undefined8 *param_1,long param_2)

{
  ulong uVar1;
  ulong uVar2;
  double *pdVar3;
  undefined1 *puVar4;
  ulong uVar5;
  long in_FS_OFFSET;
  double dVar6;
  double dVar7;
  double dVar8;
  double dVar9;
  double dVar10;
  double dVar11;
  double dVar12;
  double dVar13;
  undefined1 local_868 [8];
  double dStack_860;
  double local_858;
  double dStack_850;
  double local_848;
  double dStack_840;
  double local_838;
  undefined1 local_828 [1024];
  double local_428 [129];
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  local_868 = (undefined1  [8])0x0;
  dStack_860 = 0.0;
  local_838 = 0.0;
  local_858 = 0.0;
  dStack_850 = 0.0;
  local_848 = 0.0;
  dStack_840 = 0.0;
  if (param_2 != 0) {
    puVar4 = local_828;
    uVar1 = ufbx_evaluate_nurbs_basis(param_2 + 0x80,puVar4,0x80,local_428,0x80);
    if (((uVar1 != 0xffffffffffffffff) && (uVar5 = (ulong)*(uint *)(param_2 + 0x80), uVar5 < 0x81))
       && (*(ulong *)(param_2 + 0xd8) != 0)) {
      if (uVar5 == 0) {
        dVar11 = 0.0;
        dVar9 = 0.0;
        dVar10 = 0.0;
        dVar12 = 0.0;
        local_858 = 0.0;
        dVar13 = 0.0;
        dStack_850 = 0.0;
        dVar8 = dVar13;
      }
      else {
        dVar11 = 0.0;
        dVar9 = 0.0;
        dVar10 = 0.0;
        dVar13 = 0.0;
        dVar12 = 0.0;
        local_858 = 0.0;
        dStack_850 = 0.0;
        uVar2 = uVar1;
        dVar8 = dVar13;
        do {
          pdVar3 = (double *)
                   ((uVar2 % *(ulong *)(param_2 + 0xd8)) * 0x20 + *(long *)(param_2 + 0xd0));
          dVar7 = *(double *)(puVar4 + uVar2 * 8 + uVar1 * -8) * pdVar3[3];
          dVar6 = pdVar3[3] * local_428[uVar2 - uVar1];
          uVar2 = uVar2 + 1;
          dVar13 = dVar13 + dVar7;
          dVar11 = dVar11 + dVar6;
          dVar12 = dVar12 + dVar7 * *pdVar3;
          local_858 = local_858 + dVar7 * pdVar3[1];
          dVar9 = dVar9 + dVar6 * *pdVar3;
          dVar10 = dVar10 + dVar6 * pdVar3[1];
          dStack_850 = dStack_850 + dVar7 * pdVar3[2];
          dVar8 = dVar8 + pdVar3[2] * dVar6;
        } while (uVar2 != uVar5 + uVar1);
      }
      stack0xfffffffffffff799 = SUB1615((undefined1  [16])0x0,1);
      local_868[0] = 1;
      dVar13 = _LC0 / dVar13;
      dStack_850 = dStack_850 * dVar13;
      local_858 = local_858 * dVar13;
      local_838 = (dVar8 - dStack_850 * dVar11) * dVar13;
      local_848 = (dVar9 - dVar11 * dVar12 * dVar13) * dVar13;
      dStack_840 = (dVar10 - dVar11 * local_858) * dVar13;
      dStack_860 = dVar12 * dVar13;
    }
  }
  param_1[6] = local_838;
  *param_1 = local_868;
  param_1[1] = dStack_860;
  param_1[2] = local_858;
  param_1[3] = dStack_850;
  param_1[4] = local_848;
  param_1[5] = dStack_840;
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 *
ufbx_evaluate_nurbs_surface(undefined8 param_1,undefined8 param_2,undefined8 *param_3,long param_4)

{
  ulong uVar1;
  double dVar2;
  double dVar3;
  double dVar4;
  double dVar5;
  long lVar6;
  ulong uVar7;
  ulong uVar8;
  ulong uVar9;
  ulong uVar10;
  double *pdVar11;
  undefined1 *puVar12;
  ulong uVar13;
  ulong uVar14;
  long in_FS_OFFSET;
  double dVar15;
  double dVar16;
  double dVar17;
  double dVar18;
  double dVar19;
  double dVar20;
  double dVar21;
  double dVar22;
  double dVar23;
  double dVar24;
  double dVar25;
  double dVar26;
  double dVar27;
  double dVar28;
  double local_10e0;
  double local_10d8;
  double dStack_10d0;
  double local_10c8;
  double dStack_10c0;
  undefined1 local_1098 [8];
  double dStack_1090;
  double local_1088;
  double dStack_1080;
  double local_1078;
  double dStack_1070;
  double local_1068;
  double dStack_1060;
  double local_1058;
  double dStack_1050;
  double local_1048 [128];
  undefined1 local_c48 [1024];
  double local_848 [128];
  double local_448 [129];
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_1098 = (undefined1  [8])0x0;
  dStack_1090 = 0.0;
  local_1088 = 0.0;
  dStack_1080 = 0.0;
  local_1078 = 0.0;
  dStack_1070 = 0.0;
  local_1068 = 0.0;
  dStack_1060 = 0.0;
  local_1058 = 0.0;
  dStack_1050 = 0.0;
  if (param_4 != 0) {
    uVar7 = ufbx_evaluate_nurbs_basis(param_4 + 0x80,local_1048,0x80,local_848,0x80);
    puVar12 = local_c48;
    uVar8 = ufbx_evaluate_nurbs_basis(param_2,param_4 + 0xd0,puVar12,0x80,local_448);
    if ((uVar7 != 0xffffffffffffffff) && (uVar8 != 0xffffffffffffffff)) {
      uVar14 = (ulong)*(uint *)(param_4 + 0x80);
      uVar1 = *(ulong *)(param_4 + 0x120);
      uVar9 = (ulong)*(uint *)(param_4 + 0xd0);
      if ((uVar14 < 0x81) &&
         (((uVar9 < 0x81 && (uVar1 != 0)) && (*(ulong *)(param_4 + 0x128) != 0)))) {
        if (uVar9 == 0) {
          dVar23 = 0.0;
          dVar24 = 0.0;
          dVar17 = 0.0;
          dVar25 = 0.0;
          dVar20 = 0.0;
          local_10d8 = 0.0;
          dStack_10d0 = 0.0;
          dVar19 = 0.0;
          local_10c8 = 0.0;
          dStack_10c0 = 0.0;
          dVar18 = 0.0;
          local_10e0 = 0.0;
          dVar21 = dVar19;
          dVar22 = dVar20;
          dVar26 = dVar20;
          dVar27 = dVar25;
          dVar28 = dVar20;
        }
        else {
          dVar23 = 0.0;
          dVar24 = 0.0;
          dVar17 = 0.0;
          dVar25 = 0.0;
          dVar20 = 0.0;
          local_10d8 = 0.0;
          dStack_10d0 = 0.0;
          dVar19 = 0.0;
          local_10c8 = 0.0;
          dStack_10c0 = 0.0;
          dVar18 = 0.0;
          local_10e0 = 0.0;
          uVar13 = uVar8;
          dVar21 = dVar19;
          dVar22 = dVar20;
          dVar26 = dVar20;
          dVar27 = dVar25;
          dVar28 = dVar20;
          do {
            if (uVar14 != 0) {
              uVar10 = uVar7;
              do {
                dVar16 = local_1048[uVar10 - uVar7];
                pdVar11 = (double *)
                          ((uVar10 % uVar1 + (uVar13 % *(ulong *)(param_4 + 0x128)) * uVar1) * 0x20
                          + *(long *)(param_4 + 0x130));
                dVar2 = pdVar11[2];
                dVar3 = pdVar11[3];
                dVar4 = *pdVar11;
                dVar5 = pdVar11[1];
                dVar15 = *(double *)(puVar12 + uVar13 * 8 + uVar8 * -8) * dVar16 * dVar3;
                local_10e0 = dVar15 + local_10e0;
                local_10d8 = dVar15 * dVar2 + local_10d8;
                dStack_10d0 = dVar15 * dVar4 + dStack_10d0;
                dVar25 = dVar25 + dVar15 * dVar4;
                dVar26 = dVar26 + dVar15 * dVar5;
                local_10c8 = dVar15 * dVar4 + local_10c8;
                dStack_10c0 = dVar15 * dVar5 + dStack_10c0;
                lVar6 = uVar10 - uVar7;
                uVar10 = uVar10 + 1;
                dVar15 = local_848[lVar6] * *(double *)(puVar12 + uVar13 * 8 + uVar8 * -8);
                dVar16 = dVar16 * local_448[uVar13 - uVar8] * dVar3;
                dVar23 = dVar23 + dVar15 * dVar3;
                dVar24 = dVar24 + dVar16;
                dVar27 = dVar27 + dVar15 * dVar3;
                dVar28 = dVar28 + dVar15 * dVar3;
                dVar19 = dVar19 + dVar2 * dVar15 * dVar3;
                dVar20 = dVar20 + dVar4 * dVar16;
                dVar21 = dVar21 + dVar15 * dVar3 * dVar4;
                dVar22 = dVar22 + dVar15 * dVar3 * dVar5;
                dVar18 = dVar18 + dVar5 * dVar16;
                dVar17 = dVar17 + dVar2 * dVar16;
              } while (uVar7 + uVar14 != uVar10);
            }
            uVar13 = uVar13 + 1;
          } while (uVar9 + uVar8 != uVar13);
        }
        local_10e0 = _LC0 / local_10e0;
        stack0xffffffffffffef69 = SUB1615((undefined1  [16])0x0,1);
        local_1098[0] = 1;
        local_1088 = dStack_10c0 * local_10e0;
        dStack_1080 = local_10d8 * local_10e0;
        local_1068 = (dVar19 - dVar23 * dStack_1080) * local_10e0;
        dStack_1060 = (dVar20 - dVar24 * dStack_10d0 * local_10e0) * local_10e0;
        local_1078 = (dVar21 - dVar25 * local_10e0 * dVar27) * local_10e0;
        dStack_1070 = (dVar22 - dVar26 * local_10e0 * dVar28) * local_10e0;
        local_1058 = (dVar18 - local_1088 * dVar24) * local_10e0;
        dStack_1050 = (dVar17 - dVar24 * dStack_1080) * local_10e0;
        dStack_1090 = local_10c8 * local_10e0;
      }
    }
  }
  *param_3 = local_1098;
  param_3[1] = dStack_1090;
  param_3[2] = local_1088;
  param_3[3] = dStack_1080;
  param_3[4] = local_1078;
  param_3[5] = dStack_1070;
  param_3[6] = local_1068;
  param_3[7] = dStack_1060;
  param_3[8] = local_1058;
  param_3[9] = dStack_1050;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_3;
}



undefined8 ufbx_tessellate_nurbs_curve(undefined8 param_1,undefined8 param_2,undefined8 *param_3)

{
  ulong uVar1;
  undefined8 *puVar2;
  
  if (param_3 != (undefined8 *)0x0) {
    *param_3 = 0;
    param_3[0x4c] = 0;
    puVar2 = (undefined8 *)((ulong)(param_3 + 1) & 0xfffffffffffffff8);
    for (uVar1 = (ulong)(((int)param_3 -
                         (int)(undefined8 *)((ulong)(param_3 + 1) & 0xfffffffffffffff8)) + 0x268U >>
                        3); uVar1 != 0; uVar1 = uVar1 - 1) {
      *puVar2 = 0;
      puVar2 = puVar2 + 1;
    }
    ufbxi_fmt_err_info(param_3,"UFBX_ENABLE_TESSELLATION");
    ufbxi_fail_imp_err_constprop_0(param_3,"$Feature disabled");
    return 0;
  }
  return 0;
}



undefined8 ufbx_tessellate_nurbs_surface(undefined8 param_1,undefined8 param_2,undefined8 *param_3)

{
  ulong uVar1;
  undefined8 *puVar2;
  
  if (param_3 != (undefined8 *)0x0) {
    *param_3 = 0;
    param_3[0x4c] = 0;
    puVar2 = (undefined8 *)((ulong)(param_3 + 1) & 0xfffffffffffffff8);
    for (uVar1 = (ulong)(((int)param_3 -
                         (int)(undefined8 *)((ulong)(param_3 + 1) & 0xfffffffffffffff8)) + 0x268U >>
                        3); uVar1 != 0; uVar1 = uVar1 - 1) {
      *puVar2 = 0;
      puVar2 = puVar2 + 1;
    }
    ufbxi_fail_imp_err_constprop_0(param_3,"$Feature disabled");
    return 0;
  }
  return 0;
}



void ufbx_free_line_curve(long param_1)

{
  if (((param_1 != 0) && (*(char *)(param_1 + 200) != '\0')) &&
     (*(int *)(param_1 + 0xd0) == 0x55434c55)) {
    ufbxi_release_ref(param_1 + -0x168);
    return;
  }
  return;
}



void ufbx_retain_line_curve(long param_1)

{
  if (((param_1 != 0) && (*(char *)(param_1 + 200) != '\0')) &&
     (*(int *)(param_1 + 0xd0) == 0x55434c55)) {
    ufbxi_retain_ref(param_1 + -0x168);
    return;
  }
  return;
}



ulong ufbx_find_face_index(long param_1,undefined8 param_2)

{
  ulong uVar1;
  uint uVar2;
  long lVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  ulong uVar7;
  uint uVar8;
  
  uVar8 = (uint)param_2;
  if ((param_1 != 0) && ((int)((ulong)param_2 >> 0x20) == 0)) {
    lVar3 = *(long *)(param_1 + 200);
    uVar5 = 0;
    uVar7 = *(ulong *)(param_1 + 0xd0);
    uVar4 = uVar7;
    while (4 < uVar7) {
      lVar6 = (uVar7 >> 1) + uVar5;
      uVar1 = lVar6 + 1;
      if ((uint)(*(int *)(lVar3 + 4 + lVar6 * 8) + *(int *)(lVar3 + lVar6 * 8)) <= uVar8) {
        uVar5 = uVar1;
        uVar1 = uVar4;
      }
      uVar4 = uVar1;
      uVar7 = uVar1 - uVar5;
    }
    if (uVar5 < uVar4) {
      do {
        uVar2 = *(uint *)(lVar3 + uVar5 * 8);
        if ((uVar2 <= uVar8) && (uVar8 < uVar2 + *(int *)(lVar3 + 4 + uVar5 * 8))) {
          return uVar5;
        }
        uVar5 = uVar5 + 1;
      } while (uVar5 != uVar4);
    }
  }
  return 0xffffffff;
}



void ufbx_catch_compute_topology(undefined8 param_1,long param_2,undefined8 param_3,ulong param_4)

{
  if (*(ulong *)(param_2 + 0x88) <= param_4) {
    ufbxi_compute_topology(param_2,param_3);
    return;
  }
  ufbxi_panicf_imp(param_1,"Required mesh.num_indices (%zu) indices, got %zu",
                   *(ulong *)(param_2 + 0x88));
  return;
}



undefined4
ufbx_catch_topo_next_vertex_edge(undefined8 param_1,long param_2,ulong param_3,uint param_4)

{
  uint uVar1;
  
  if (param_4 == 0xffffffff) {
    return 0xffffffff;
  }
  if (param_4 < param_3) {
    uVar1 = *(uint *)(param_2 + 0xc + (ulong)param_4 * 0x1c);
    if (uVar1 != 0xffffffff) {
      if (uVar1 < param_3) {
        return *(undefined4 *)(param_2 + 4 + (ulong)uVar1 * 0x1c);
      }
      ufbxi_panicf_imp(param_1,"Corrupted topology structure");
    }
  }
  else {
    ufbxi_panicf_imp(param_1,"index (%u) out of bounds (%zu)",param_4,param_3);
  }
  return 0xffffffff;
}



undefined4
ufbx_catch_topo_prev_vertex_edge(undefined8 param_1,long param_2,ulong param_3,uint param_4)

{
  if (param_4 == 0xffffffff) {
    return 0xffffffff;
  }
  if (param_4 < param_3) {
    return *(undefined4 *)
            (param_2 + 0xc + (ulong)*(uint *)(param_2 + 8 + (ulong)param_4 * 0x1c) * 0x1c);
  }
  ufbxi_panicf_imp(param_1,"index (%u) out of bounds (%zu)",param_4,param_3);
  return 0xffffffff;
}



double * ufbx_catch_get_weighted_face_normal
                   (double *param_1,undefined8 param_2,long param_3,ulong param_4)

{
  double *pdVar1;
  double *pdVar2;
  double *pdVar3;
  double dVar4;
  long lVar5;
  long lVar6;
  double dVar7;
  int iVar8;
  ulong uVar9;
  uint uVar10;
  ulong uVar11;
  ulong uVar12;
  ulong uVar13;
  double dVar14;
  double dVar15;
  double dVar16;
  
  iVar8 = (int)param_4;
  uVar12 = param_4 & 0xffffffff;
  uVar11 = *(ulong *)(param_3 + 0x20);
  if (uVar11 < uVar12) {
    ufbxi_panicf_imp(param_2,"Face index begin (%u) out of bounds (%zu)",param_4 & 0xffffffff,uVar11
                    );
  }
  else {
    uVar10 = (uint)(param_4 >> 0x20);
    if (uVar11 - uVar12 < param_4 >> 0x20) {
      ufbxi_panicf_imp(param_2,"Face index end (%u + %u) out of bounds (%zu)",param_4 & 0xffffffff);
    }
    else if (2 < uVar10) {
      lVar5 = *(long *)(param_3 + 0x18);
      lVar6 = *(long *)(param_3 + 8);
      pdVar1 = (double *)(lVar6 + (long)*(int *)(lVar5 + uVar12 * 4) * 0x18);
      dVar14 = pdVar1[2];
      dVar7 = pdVar1[1];
      dVar16 = pdVar1[2];
      dVar4 = *pdVar1;
      if (uVar10 == 3) {
        pdVar1 = (double *)(lVar6 + (long)*(int *)(lVar5 + (ulong)(iVar8 + 1) * 4) * 0x18);
        pdVar2 = (double *)(lVar6 + (long)*(int *)(lVar5 + (ulong)(iVar8 + 2) * 4) * 0x18);
        dVar15 = (pdVar1[1] - dVar7) * (pdVar2[2] - dVar14) -
                 (pdVar1[2] - dVar14) * (pdVar2[1] - dVar7);
        dVar16 = (pdVar1[2] - dVar16) * (*pdVar2 - dVar4) - (*pdVar1 - dVar4) * (pdVar2[2] - dVar16)
        ;
        dVar14 = (pdVar2[1] - dVar7) * (*pdVar1 - dVar4) - (*pdVar2 - dVar4) * (pdVar1[1] - dVar7);
      }
      else if (uVar10 == 4) {
        pdVar1 = (double *)(lVar6 + (long)*(int *)(lVar5 + (ulong)(iVar8 + 2) * 4) * 0x18);
        pdVar2 = (double *)(lVar6 + (long)*(int *)(lVar5 + (ulong)(iVar8 + 1) * 4) * 0x18);
        pdVar3 = (double *)(lVar6 + (long)*(int *)(lVar5 + (ulong)(iVar8 + 3) * 4) * 0x18);
        dVar15 = (pdVar1[1] - dVar7) * (pdVar3[2] - pdVar2[2]) -
                 (pdVar3[1] - pdVar2[1]) * (pdVar1[2] - dVar14);
        dVar16 = (pdVar1[2] - dVar16) * (*pdVar3 - *pdVar2) -
                 (pdVar3[2] - pdVar2[2]) * (*pdVar1 - dVar4);
        dVar14 = (pdVar3[1] - pdVar2[1]) * (*pdVar1 - dVar4) -
                 (pdVar1[1] - dVar7) * (*pdVar3 - *pdVar2);
      }
      else {
        dVar15 = 0.0;
        dVar16 = 0.0;
        dVar14 = 0.0;
        uVar9 = 0;
        uVar11 = uVar12;
        do {
          uVar11 = uVar11 + 1;
          uVar9 = uVar9 + 1;
          uVar13 = uVar11;
          if (uVar10 <= uVar9) {
            uVar13 = uVar12;
          }
          pdVar1 = (double *)(lVar6 + (long)*(int *)(lVar5 + -4 + uVar11 * 4) * 0x18);
          pdVar2 = (double *)(lVar6 + (long)*(int *)(lVar5 + uVar13 * 4) * 0x18);
          dVar14 = dVar14 + (pdVar1[1] + pdVar2[1]) * (*pdVar1 - *pdVar2);
          dVar15 = dVar15 + (pdVar1[2] + pdVar2[2]) * (pdVar1[1] - pdVar2[1]);
          dVar16 = dVar16 + (*pdVar1 + *pdVar2) * (pdVar1[2] - pdVar2[2]);
        } while (uVar10 != uVar9);
      }
      goto LAB_0013f2d6;
    }
  }
  dVar15 = 0.0;
  dVar16 = 0.0;
  dVar14 = 0.0;
LAB_0013f2d6:
  *param_1 = dVar15;
  param_1[1] = dVar16;
  param_1[2] = dVar14;
  return param_1;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

ulong ufbxi_triangulate_ngon(int *param_1,long param_2,uint param_3)

{
  ulong *puVar1;
  double *pdVar2;
  uint uVar3;
  int iVar4;
  undefined1 auVar5 [16];
  char cVar6;
  uint uVar7;
  ulong uVar8;
  uint uVar9;
  int *piVar10;
  ulong uVar11;
  long lVar12;
  uint uVar13;
  ulong uVar14;
  uint *puVar15;
  size_t __n;
  uint uVar16;
  int iVar17;
  int iVar18;
  int iVar19;
  ulong uVar20;
  long lVar21;
  long in_FS_OFFSET;
  double dVar22;
  double dVar23;
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  int local_158;
  uint local_150;
  int local_14c;
  undefined1 *local_120;
  uint local_114;
  undefined8 local_108;
  undefined8 uStack_100;
  undefined8 local_f8;
  undefined1 local_e8 [16];
  double local_d8 [6];
  double local_a8;
  undefined8 uStack_a0;
  undefined8 local_98;
  undefined1 local_88 [16];
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  long local_40;
  
  uVar3 = param_1[1];
  uVar14 = (ulong)uVar3;
  iVar19 = *param_1;
  pdVar2 = local_d8 + 2;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  ufbx_catch_get_weighted_face_normal(pdVar2,0,param_1 + 2,*(undefined8 *)param_1);
  dVar22 = SQRT(local_d8[2] * local_d8[2] + local_d8[3] * local_d8[3] + local_d8[4] * local_d8[4]);
  local_a8 = __LC266;
  uStack_a0 = _UNK_0014eb58;
  if (dVar22 <= _LC66) {
    local_d8[4] = 0.0;
    local_d8[2] = _LC0;
    local_d8[3] = 0.0;
  }
  else {
    dVar22 = _LC0 / dVar22;
    local_d8[4] = dVar22 * local_d8[4];
    local_d8[2] = local_d8[2] * dVar22;
    local_d8[3] = local_d8[3] * dVar22;
    if (local_d8[2] * local_d8[2] < _LC60) {
      local_a8 = _LC0;
      uStack_a0 = 0;
    }
  }
  piVar10 = param_1 + 0x14;
  local_98 = 0;
  ufbxi_slow_normalized_cross3(piVar10,&local_a8,pdVar2);
  ufbxi_slow_normalized_cross3(&local_108,pdVar2,piVar10);
  *(undefined8 *)(param_1 + 0x1a) = local_108;
  *(undefined8 *)(param_1 + 0x1c) = uStack_100;
  *(long *)(param_1 + 0x326) = param_2;
  *(undefined8 *)(param_1 + 0x1e) = local_f8;
  *(double *)(param_1 + 0x20) = local_d8[2];
  *(double *)(param_1 + 0x22) = local_d8[3];
  *(double *)(param_1 + 0x24) = local_d8[4];
  lVar12 = param_2;
  auVar24 = ufbxi_ngon_project(param_1,uVar3 - 1);
  auVar25 = ufbxi_ngon_project();
  lVar21 = lVar12 + ((ulong)param_3 - (ulong)(uVar3 * 2)) * 4;
  if (uVar3 == 0) {
    ufbxi_kd_build();
    local_e8._8_8_ = _UNK_0014eba8;
    local_e8._0_8_ = __LC302;
    auVar26._8_8_ = local_58._8_8_;
    auVar26._0_8_ = local_58._0_8_;
    auVar5._8_8_ = local_68._8_8_;
    auVar5._0_8_ = local_68._0_8_;
    auVar25._8_8_ = local_78._8_8_;
    auVar25._0_8_ = local_78._0_8_;
    auVar24._8_8_ = local_88._8_8_;
    auVar24._0_8_ = local_88._0_8_;
    iVar19 = -2;
    *(ulong *)(lVar21 + 8) = *(ulong *)(lVar21 + 8) | 0x8000000080000000;
    __n = 0;
    goto LAB_0013f9ab;
  }
  uVar11 = 0;
  dVar22 = 0.0;
  uVar20 = 0;
  uVar9 = 0;
  do {
    uVar16 = uVar9 + 1;
    uVar8 = uVar20 & 0xffffffff;
    if (uVar16 < uVar3) {
      uVar8 = (ulong)uVar16;
    }
    auVar5 = auVar25;
    auVar26 = auVar24;
    auVar25 = ufbxi_ngon_project(param_1,uVar8);
    auVar24 = auVar5;
    if ((auVar24._0_8_ - auVar26._0_8_) * (auVar25._8_8_ - auVar26._8_8_) -
        (auVar24._8_8_ - auVar26._8_8_) * (auVar25._0_8_ - auVar26._0_8_) <= dVar22) {
      uVar8 = uVar11 & 0xffffffff;
      uVar11 = (ulong)((int)uVar11 + 1);
      *(uint *)(lVar12 + uVar8 * 4) = uVar9;
    }
    uVar9 = uVar16;
  } while (uVar16 != uVar3);
  ufbxi_kd_build(param_1,param_2,param_2 + uVar14 * 4);
  uVar7 = 0;
  uVar9 = uVar3 - 1;
  uVar16 = 0;
  while( true ) {
    *(uint *)(lVar21 + (ulong)uVar7 * 4) = uVar9;
    uVar13 = uVar16 + 1;
    puVar15 = (uint *)(lVar21 + (ulong)(uVar7 + 1) * 4);
    if (uVar13 == uVar3) break;
    *puVar15 = uVar13;
    uVar7 = uVar7 + 2;
    uVar9 = uVar16;
    uVar16 = uVar13;
  }
  local_e8._8_8_ = _UNK_0014eba8;
  local_e8._0_8_ = __LC302;
  *puVar15 = 0;
  if (3 < uVar3) {
    local_14c = 0;
    local_150 = 0;
    local_158 = 1;
    iVar17 = 3;
    iVar18 = 2;
    local_114 = uVar3;
    do {
      auVar24 = ufbxi_ngon_project(param_1,local_14c);
      local_88 = auVar24;
      auVar24 = ufbxi_ngon_project();
      local_78 = auVar24;
      auVar24 = ufbxi_ngon_project();
      local_68 = auVar24;
      auVar24 = ufbxi_ngon_project();
      local_58 = auVar24;
      dVar22 = (double)ufbxi_ngon_tri_weight(local_88);
      local_d8[0] = dVar22;
      dVar23 = (double)ufbxi_ngon_tri_weight(local_78);
      local_d8[1] = dVar23;
      uVar14 = (ulong)(dVar22 < dVar23);
      uVar9 = (uint)(dVar22 < dVar23);
      if (local_d8[uVar14] < 0.0) {
LAB_0013f869:
        local_150 = local_150 + 1;
        local_e8._12_4_ = *(undefined4 *)(lVar21 + (ulong)(iVar17 * 2 + 1) * 4);
        local_e8._8_4_ = iVar17;
        local_e8._4_4_ = iVar18;
        local_e8._0_4_ = local_158;
        local_158 = iVar18;
        if (uVar3 * 2 <= local_150) goto code_r0x0013f8ac;
      }
      else {
        uVar11 = (ulong)(dVar22 < dVar23);
        cVar6 = ufbxi_kd_check(param_1,local_88 + uVar11 * 0x10,local_e8 + uVar11 * 4);
        if (cVar6 != '\0') {
          uVar9 = dVar22 < dVar23 ^ 1;
          uVar14 = (ulong)(byte)uVar9;
          if (0.0 <= local_d8[uVar14]) {
            cVar6 = ufbxi_kd_check(param_1,local_88 + (ulong)uVar9 * 0x10,
                                   local_e8 + (ulong)uVar9 * 4);
            if (cVar6 == '\0') goto LAB_0013f9f0;
          }
          goto LAB_0013f869;
        }
LAB_0013f9f0:
        auVar24 = local_e8;
        iVar18 = *(int *)(local_e8 + uVar14 * 4);
        iVar4 = *(int *)(local_e8 + (ulong)(uVar9 + 2) * 4);
        local_114 = local_114 - 1;
        puVar1 = (ulong *)(lVar21 + (ulong)(uint)(*(int *)(local_e8 + (ulong)(uVar9 + 1) * 4) * 2) *
                                    4);
        *puVar1 = *puVar1 | _LC301;
        *(int *)(lVar21 + (ulong)(uint)(iVar4 * 2) * 4) = iVar18;
        *(int *)(lVar21 + (ulong)(iVar18 * 2 + 1) * 4) = iVar4;
        if (uVar9 == 1) {
          local_e8._12_4_ = *(undefined4 *)(lVar21 + (ulong)(iVar17 * 2 + 1) * 4);
          local_e8._8_4_ = iVar17;
          local_e8._0_8_ = auVar24._0_8_;
        }
        else {
          local_e8._4_4_ = local_14c;
          local_e8._0_4_ = *(undefined4 *)(lVar21 + (ulong)(uint)(local_14c * 2) * 4);
          local_e8._8_8_ = auVar24._8_8_;
          local_158 = local_14c;
        }
        if (local_114 == 3) {
          uVar13 = local_158 * 2;
          puVar15 = (uint *)(lVar21 + (ulong)uVar13 * 4);
          uVar16 = *puVar15 | 0x80000000;
          goto LAB_0013f909;
        }
        local_150 = 0;
      }
      local_14c = local_e8._0_4_;
      iVar17 = local_e8._12_4_;
      iVar18 = local_e8._8_4_;
    } while( true );
  }
  puVar15 = (uint *)(lVar21 + 8);
  lVar12 = 0xc;
  uVar16 = *(uint *)(lVar21 + 8) | 0x80000000;
  auVar24 = local_88;
  auVar25 = local_78;
  auVar5 = local_68;
  auVar26 = local_58;
  goto LAB_0013f910;
code_r0x0013f8ac:
  uVar14 = (ulong)(uint)(iVar18 * 2);
  uVar9 = *(uint *)(lVar21 + uVar14 * 4);
  uVar16 = uVar9 | 0x80000000;
  do {
    local_114 = local_114 - 1;
    puVar15 = (uint *)(lVar21 + (ulong)((int)uVar14 + 1) * 4);
    uVar7 = *puVar15;
    *(uint *)(lVar21 + uVar14 * 4) = uVar16;
    *puVar15 = *puVar15 | 0x80000000;
    uVar13 = uVar7 * 2;
    uVar14 = (ulong)uVar13;
    *(uint *)(lVar21 + (ulong)(uVar9 * 2 + 1) * 4) = uVar7;
    puVar15 = (uint *)(lVar21 + uVar14 * 4);
    *puVar15 = uVar9;
  } while (local_114 != 3);
LAB_0013f909:
  lVar12 = (ulong)(uVar13 + 1) << 2;
  auVar24 = local_88;
  auVar25 = local_78;
  auVar5 = local_68;
  auVar26 = local_58;
LAB_0013f910:
  *puVar15 = uVar16;
  *(uint *)(lVar21 + lVar12) = *(uint *)(lVar21 + lVar12) | 0x80000000;
  iVar18 = 0;
  uVar9 = 0;
  uVar14 = 0;
  iVar17 = iVar19;
  do {
    uVar16 = *(uint *)(lVar21 + (ulong)uVar9 * 4);
    if ((int)uVar16 < 0) {
      iVar4 = (int)uVar14;
      if (iVar4 + 4U < uVar3 - 2) {
        piVar10 = (int *)(param_2 + (ulong)(uint)(iVar4 * 3) * 4);
      }
      else {
        uVar7 = iVar18 * 3;
        iVar18 = iVar18 + 1;
        piVar10 = (int *)(local_88 + (ulong)uVar7 * 4);
      }
      uVar14 = (ulong)(iVar4 + 1);
      uVar7 = *(uint *)(lVar21 + (ulong)(uVar9 + 1) * 4);
      piVar10[1] = iVar17;
      *piVar10 = (uVar16 & 0x7fffffff) + iVar19;
      piVar10[2] = (uVar7 & 0x7fffffff) + iVar19;
    }
    iVar17 = iVar17 + 1;
    uVar9 = uVar9 + 2;
  } while (iVar17 != uVar3 + iVar19);
  iVar19 = (uVar3 - 2) - iVar18;
  __n = (ulong)(uint)(iVar18 * 3) << 2;
LAB_0013f9ab:
  local_120 = local_88;
  local_88 = auVar24;
  local_78 = auVar25;
  local_68 = auVar5;
  local_58 = auVar26;
  memcpy((void *)(param_2 + (ulong)(uint)(iVar19 * 3) * 4),local_120,__n);
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar14;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



int ufbx_catch_triangulate_face
              (undefined8 param_1,undefined8 *param_2,ulong param_3,long param_4,ulong param_5)

{
  double *pdVar1;
  double *pdVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  int iVar9;
  uint uVar10;
  ulong uVar11;
  long lVar12;
  uint uVar13;
  uint uVar14;
  ulong *puVar15;
  uint uVar16;
  ulong uVar17;
  uint uVar18;
  long in_FS_OFFSET;
  double dVar19;
  double dVar20;
  double dVar21;
  double dVar22;
  double dVar23;
  double dVar24;
  double dVar25;
  double dVar26;
  double dVar27;
  double dVar28;
  double dVar29;
  double dVar30;
  double dVar31;
  double dVar32;
  double dVar33;
  double dVar34;
  double dVar35;
  double local_d40;
  double local_d38;
  double local_d28;
  double local_d20;
  undefined1 local_d18 [48];
  ulong local_ce8 [4];
  undefined8 uStack_cc8;
  undefined8 local_cc0;
  undefined8 uStack_cb8;
  undefined8 local_cb0;
  undefined8 uStack_ca8;
  undefined8 local_ca0;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  uVar11 = param_5 >> 0x20;
  uVar10 = (uint)(param_5 >> 0x20);
  if (uVar10 < 3) {
LAB_0013fcb9:
    iVar9 = 0;
    goto LAB_0013fc7d;
  }
  uVar3 = uVar11 * 3 - 6;
  uVar16 = (uint)param_5;
  if (param_3 < uVar3) {
    ufbxi_panicf_imp(param_1,"Face needs at least %zu indices for triangles, got space for %zu",
                     uVar3,param_3);
    iVar9 = 0;
    goto LAB_0013fc7d;
  }
  uVar3 = *(ulong *)(param_4 + 0x88);
  uVar17 = param_5 & 0xffffffff;
  if (uVar3 <= uVar17) {
    ufbxi_panicf_imp(param_1,"Face index begin (%u) out of bounds (%zu)",param_5 & 0xffffffff);
    goto LAB_0013fcb9;
  }
  if (uVar3 - uVar17 < uVar11) {
    iVar9 = 0;
    ufbxi_panicf_imp(param_1,"Face index end (%u + %u) out of bounds (%zu)",param_5 & 0xffffffff,
                     uVar11,uVar3);
    goto LAB_0013fc7d;
  }
  if (uVar10 == 3) {
    iVar9 = 1;
    *(uint *)(param_2 + 1) = uVar16 + 2;
    *param_2 = CONCAT44(uVar16 + 1,uVar16);
    goto LAB_0013fc7d;
  }
  if (uVar10 != 4) {
    uVar5 = *(undefined8 *)(param_4 + 0x188);
    uVar6 = *(undefined8 *)(param_4 + 400);
    uVar7 = *(undefined8 *)(param_4 + 0x198);
    uVar8 = *(undefined8 *)(param_4 + 0x1a0);
    puVar15 = local_ce8;
    for (lVar12 = 0x198; lVar12 != 0; lVar12 = lVar12 + -1) {
      *puVar15 = 0;
      puVar15 = puVar15 + 1;
    }
    local_ca0 = *(undefined8 *)(param_4 + 0x1c8);
    local_cc0 = *(undefined8 *)(param_4 + 0x1a8);
    uStack_cb8 = *(undefined8 *)(param_4 + 0x1b0);
    local_cb0 = *(undefined8 *)(param_4 + 0x1b8);
    uStack_ca8 = *(undefined8 *)(param_4 + 0x1c0);
    local_ce8[0] = param_5;
    local_ce8[1] = uVar5;
    local_ce8[2] = uVar6;
    local_ce8[3] = uVar7;
    uStack_cc8 = uVar8;
    if (param_3 < 0xffffffff) {
      uVar10 = (uint)param_3;
      if (uVar10 < 0xc) {
        iVar9 = ufbxi_triangulate_ngon(local_ce8,local_d18,0xc);
        memcpy(param_2,local_d18,(ulong)(uint)(iVar9 * 3) << 2);
        goto LAB_0013fc7d;
      }
    }
    else {
      uVar10 = 0xffffffff;
    }
    iVar9 = ufbxi_triangulate_ngon(local_ce8,param_2,uVar10);
    goto LAB_0013fc7d;
  }
  lVar12 = *(long *)(param_4 + 400);
  lVar4 = *(long *)(param_4 + 0x1a0);
  uVar13 = uVar16 + 1;
  uVar10 = uVar16 + 2;
  uVar18 = uVar16 + 3;
  pdVar1 = (double *)(lVar12 + (ulong)*(uint *)(lVar4 + uVar17 * 4) * 0x18);
  dVar28 = *pdVar1;
  dVar25 = pdVar1[1];
  dVar29 = pdVar1[2];
  pdVar1 = (double *)(lVar12 + (ulong)*(uint *)(lVar4 + (ulong)uVar13 * 4) * 0x18);
  dVar32 = *pdVar1;
  dVar27 = pdVar1[1];
  dVar34 = pdVar1[2];
  pdVar1 = (double *)(lVar12 + (ulong)*(uint *)(lVar4 + (ulong)uVar18 * 4) * 0x18);
  pdVar2 = (double *)(lVar12 + (ulong)*(uint *)(lVar4 + (ulong)uVar10 * 4) * 0x18);
  dVar35 = dVar34 - dVar29;
  dVar19 = *pdVar1 - dVar32;
  dVar21 = pdVar1[1] - dVar27;
  dVar22 = pdVar1[2] - dVar34;
  dVar26 = dVar27 - dVar25;
  dVar23 = pdVar2[1] - dVar25;
  dVar24 = pdVar2[2] - dVar29;
  dVar33 = dVar32 - dVar28;
  dVar20 = *pdVar2 - dVar28;
  local_d20 = dVar35 * dVar23 - dVar26 * dVar24;
  local_d28 = dVar33 * dVar24 - dVar35 * dVar20;
  dVar31 = dVar26 * dVar20 - dVar33 * dVar23;
  dVar30 = SQRT(local_d28 * local_d28 + local_d20 * local_d20 + dVar31 * dVar31);
  if (dVar30 <= _LC66) {
    dVar30 = 0.0;
    local_d28 = 0.0;
    local_d20 = 0.0;
  }
  else {
    dVar30 = _LC0 / dVar30;
    local_d20 = local_d20 * dVar30;
    local_d28 = local_d28 * dVar30;
    dVar30 = dVar30 * dVar31;
  }
  dVar25 = dVar25 - pdVar1[1];
  dVar29 = dVar29 - pdVar1[2];
  dVar28 = dVar28 - *pdVar1;
  dVar31 = dVar29 * dVar23 - dVar25 * dVar24;
  local_d38 = dVar28 * dVar24 - dVar29 * dVar20;
  dVar28 = dVar25 * dVar20 - dVar28 * dVar23;
  local_d40 = SQRT(local_d38 * local_d38 + dVar31 * dVar31 + dVar28 * dVar28);
  if (local_d40 <= _LC66) {
    local_d40 = 0.0;
    dVar31 = 0.0;
    local_d38 = 0.0;
  }
  else {
    local_d40 = _LC0 / local_d40;
    local_d38 = local_d38 * local_d40;
    dVar31 = dVar31 * local_d40;
    local_d40 = local_d40 * dVar28;
  }
  dVar28 = dVar35 * dVar21 - dVar26 * dVar22;
  dVar29 = dVar33 * dVar22 - dVar35 * dVar19;
  dVar25 = dVar26 * dVar19 - dVar33 * dVar21;
  dVar26 = SQRT(dVar29 * dVar29 + dVar28 * dVar28 + dVar25 * dVar25);
  if (dVar26 <= _LC66) {
    dVar26 = 0.0;
    dVar29 = 0.0;
    dVar28 = 0.0;
  }
  else {
    dVar26 = _LC0 / dVar26;
    dVar28 = dVar28 * dVar26;
    dVar29 = dVar29 * dVar26;
    dVar26 = dVar26 * dVar25;
  }
  dVar27 = pdVar2[1] - dVar27;
  dVar34 = pdVar2[2] - dVar34;
  dVar32 = *pdVar2 - dVar32;
  dVar25 = dVar34 * dVar21 - dVar27 * dVar22;
  dVar34 = dVar32 * dVar22 - dVar34 * dVar19;
  dVar32 = dVar27 * dVar19 - dVar32 * dVar21;
  dVar27 = SQRT(dVar34 * dVar34 + dVar25 * dVar25 + dVar32 * dVar32);
  uVar14 = uVar13;
  if (dVar27 <= _LC66) {
    dVar30 = local_d20 * dVar31 + local_d28 * local_d38 + local_d40 * dVar30;
    if (0.0 <= dVar30) {
      dVar28 = dVar26 * 0.0 + dVar28 * 0.0 + dVar29 * 0.0;
      goto LAB_00140198;
    }
LAB_00140205:
    uVar14 = uVar10;
    uVar10 = uVar18;
    uVar18 = uVar16;
    uVar16 = uVar13;
  }
  else {
    dVar27 = _LC0 / dVar27;
    dVar30 = local_d28 * local_d38 + dVar31 * local_d20 + local_d40 * dVar30;
    dVar28 = dVar25 * dVar27 * dVar28 + dVar34 * dVar27 * dVar29 + dVar27 * dVar32 * dVar26;
    if (dVar30 < 0.0) {
LAB_001401fe:
      if (dVar30 < dVar28) goto LAB_00140205;
    }
    else {
LAB_00140198:
      if (dVar28 < 0.0) goto LAB_001401fe;
      if (dVar19 * dVar19 + dVar21 * dVar21 + dVar22 * dVar22 <
          dVar24 * dVar24 + dVar20 * dVar20 + dVar23 * dVar23) goto LAB_00140205;
    }
  }
  *(uint *)(param_2 + 2) = uVar18;
  *(uint *)((long)param_2 + 0x14) = uVar16;
  iVar9 = 2;
  *param_2 = CONCAT44(uVar14,uVar16);
  param_2[1] = CONCAT44(uVar10,uVar10);
LAB_0013fc7d:
  if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    return iVar9;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_catch_compute_normals_part_0
               (undefined8 param_1,long param_2,undefined8 param_3,long param_4,
               undefined1 (*param_5) [16],ulong param_6)

{
  double *pdVar1;
  ulong uVar2;
  double dVar3;
  undefined1 auVar4 [16];
  ulong uVar5;
  ulong uVar6;
  ulong uVar7;
  undefined1 (*pauVar8) [16];
  long in_FS_OFFSET;
  uint uVar10;
  double dVar9;
  undefined1 auVar11 [16];
  double local_58;
  double dStack_50;
  double local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  uVar7 = 0;
  memset(param_5,0,param_6 * 0x18);
  if (*(long *)(param_2 + 0x90) != 0) {
    do {
      uVar2 = *(ulong *)(*(long *)(param_2 + 200) + uVar7 * 8);
      uVar10 = (uint)(uVar2 >> 0x20);
      ufbx_catch_get_weighted_face_normal(&local_58,0,param_3,uVar2);
      if (uVar10 != 0) {
        uVar6 = 0;
        do {
          uVar5 = (ulong)*(uint *)(param_4 + (uVar2 & 0xffffffff) * 4 + uVar6 * 4);
          if (param_6 <= uVar5) {
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              ufbxi_panicf_imp(param_1,"Normal index (%u) out of bounds (%zu) at %zu",uVar5,param_6,
                               uVar6);
              return;
            }
            goto LAB_001404a7;
          }
          uVar6 = uVar6 + 1;
          pdVar1 = (double *)((long)param_5 + uVar5 * 0x18);
          pdVar1[2] = pdVar1[2] + local_48;
          *pdVar1 = *pdVar1 + local_58;
          pdVar1[1] = pdVar1[1] + dStack_50;
        } while (uVar6 != uVar10);
      }
      uVar7 = uVar7 + 1;
    } while (uVar7 < *(ulong *)(param_2 + 0x90));
  }
  pauVar8 = (undefined1 (*) [16])(param_6 * 0x18 + (long)param_5);
  if (param_6 != 0) {
    do {
      auVar11 = *param_5;
      dVar3 = *(double *)param_5[1];
      dVar9 = SQRT(auVar11._0_8_ * auVar11._0_8_ + auVar11._8_8_ * auVar11._8_8_ + dVar3 * dVar3);
      if (0.0 < dVar9) {
        auVar4._8_8_ = dVar9;
        auVar4._0_8_ = dVar9;
        auVar11 = divpd(auVar11,auVar4);
        *(double *)param_5[1] = dVar3 / dVar9;
        *param_5 = auVar11;
      }
      param_5 = (undefined1 (*) [16])(param_5[1] + 8);
    } while (pauVar8 != param_5);
  }
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
LAB_001404a7:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



int ufbx_catch_generate_normal_mapping
              (undefined8 param_1,long param_2,long param_3,ulong param_4,int *param_5,ulong param_6
              ,undefined1 param_7)

{
  int *piVar1;
  uint uVar2;
  long lVar3;
  char cVar4;
  uint uVar5;
  ulong uVar6;
  int iVar7;
  ulong uVar8;
  uint uVar9;
  ulong uVar10;
  size_t __n;
  uint uVar11;
  int iVar12;
  int iVar13;
  
  uVar8 = *(ulong *)(param_2 + 0x88);
  if (param_6 < uVar8) {
    ufbxi_panicf_imp(param_1,"Expected at least mesh.num_indices (%zu), got %zu",uVar8,param_6);
    return 0;
  }
  lVar3 = *(long *)(param_2 + 0x80);
  if (uVar8 == 0) {
    if (lVar3 == 0) {
      return 0;
    }
  }
  else {
    __n = uVar8 * 4;
    memset(param_5,0xff,__n);
    if (lVar3 == 0) {
      iVar12 = 0;
      goto LAB_00140687;
    }
  }
  iVar12 = 0;
  uVar8 = 0;
  do {
    uVar2 = *(uint *)(*(long *)(param_2 + 0x178) + uVar8 * 4);
    iVar13 = iVar12;
    if (uVar2 != 0xffffffff) {
      uVar10 = (ulong)uVar2;
      uVar11 = uVar2;
      do {
        uVar9 = (uint)uVar10;
        uVar6 = uVar10 & 0xffffffff;
        uVar5 = ufbx_catch_topo_next_vertex_edge(0,param_3,param_4,uVar10 & 0xffffffff);
        uVar10 = (ulong)uVar5;
        cVar4 = ufbxi_is_edge_smooth_isra_0(param_2,param_3,uVar6,param_7);
        if (cVar4 == '\0') {
          uVar11 = uVar9;
        }
        if ((uint)uVar10 == 0xffffffff) {
          param_5[uVar6] = iVar12;
          uVar11 = uVar9;
          goto joined_r0x001406e9;
        }
      } while (uVar2 != (uint)uVar10);
      uVar6 = (ulong)uVar11;
      param_5[uVar6] = iVar12;
      iVar13 = iVar12 + 1;
      if (uVar11 != 0xffffffff) {
joined_r0x001406e9:
        if (uVar6 < param_4) {
          iVar13 = iVar12 + 1;
          uVar10 = (ulong)uVar11;
          do {
            uVar11 = *(uint *)(param_3 + 0xc + (ulong)*(uint *)(param_3 + 8 + uVar6 * 0x1c) * 0x1c);
            if ((uVar11 == 0xffffffff) || (uVar11 == (uint)uVar10)) goto LAB_0014065f;
            cVar4 = ufbxi_is_edge_smooth_isra_0(param_2,param_3,uVar11,param_7);
            iVar12 = iVar13;
            iVar7 = iVar13 + -1;
            if (cVar4 == '\0') {
              iVar12 = iVar13 + 1;
              iVar7 = iVar13;
            }
            iVar13 = iVar12;
            uVar6 = (ulong)uVar11;
            param_5[uVar6] = iVar7;
          } while (uVar6 < param_4);
        }
        else {
          iVar13 = iVar12 + 1;
        }
        ufbxi_panicf_imp(0,"index (%u) out of bounds (%zu)",uVar11,param_4);
      }
    }
LAB_0014065f:
    iVar12 = iVar13;
    uVar8 = uVar8 + 1;
  } while (uVar8 < *(ulong *)(param_2 + 0x80));
  if (*(long *)(param_2 + 0x88) == 0) {
    return iVar12;
  }
  __n = *(long *)(param_2 + 0x88) * 4;
LAB_00140687:
  piVar1 = (int *)((long)param_5 + __n);
  do {
    if (*param_5 == -1) {
      *param_5 = iVar12;
      iVar12 = iVar12 + 1;
    }
    param_5 = param_5 + 1;
  } while (param_5 != piVar1);
  return iVar12;
}



undefined8 ufbxi_generate_normals(long param_1,long param_2)

{
  ulong uVar1;
  ulong uVar2;
  long lVar3;
  long lVar4;
  undefined1 (*pauVar5) [16];
  undefined8 uVar6;
  
  *(undefined1 *)(param_2 + 0x4dd) = 1;
  uVar1 = *(ulong *)(param_2 + 0x88);
  lVar3 = ufbxi_push_size(param_1 + 0xab0,0x1c,uVar1);
  if (lVar3 != 0) {
    lVar4 = ufbxi_push_size(param_1 + 0x1a58,4,uVar1);
    if (lVar4 != 0) {
      if (uVar1 < *(ulong *)(param_2 + 0x88)) {
        ufbxi_panicf_imp(0,"Required mesh.num_indices (%zu) indices, got %zu",
                         *(ulong *)(param_2 + 0x88),uVar1);
      }
      else {
        ufbxi_compute_topology(param_2,lVar3);
      }
      lVar3 = ufbx_catch_generate_normal_mapping(0,param_2,lVar3,uVar1,lVar4,uVar1,0);
      if (*(long *)(param_2 + 0x80) == lVar3) {
        *(undefined1 *)(param_2 + 0x200) = 1;
      }
      pauVar5 = (undefined1 (*) [16])ufbxi_push_size(param_1 + 0x1a58,0x18,lVar3 + 1);
      if (pauVar5 != (undefined1 (*) [16])0x0) {
        uVar2 = *(ulong *)(param_2 + 0x88);
        *(undefined8 *)pauVar5[1] = 0;
        *pauVar5 = (undefined1  [16])0x0;
        if (uVar1 < uVar2) {
          ufbxi_panicf_imp(0,"Expected at least mesh.num_indices (%zu), got %zu",uVar2,uVar1);
        }
        else {
          ufbx_catch_compute_normals_part_0(0,param_2,param_2 + 0x188,lVar4,pauVar5[1] + 8,lVar3);
        }
        *(undefined1 **)(param_2 + 0x1d8) = pauVar5[1] + 8;
        *(long *)(param_2 + 0x1e0) = lVar3;
        *(long *)(param_2 + 0x1e8) = lVar4;
        *(ulong *)(param_2 + 0x1f0) = uVar1;
        *(undefined1 *)(param_2 + 0x1d0) = 1;
        *(undefined8 *)(param_2 + 0x1f8) = 3;
        *(undefined8 *)(param_2 + 0x480) = *(undefined8 *)(param_2 + 0x210);
        *(undefined8 *)(param_2 + 0x440) = *(undefined8 *)(param_2 + 0x1d0);
        *(undefined8 *)(param_2 + 0x448) = *(undefined8 *)(param_2 + 0x1d8);
        *(undefined8 *)(param_2 + 0x450) = *(undefined8 *)(param_2 + 0x1e0);
        *(undefined8 *)(param_2 + 0x458) = *(undefined8 *)(param_2 + 0x1e8);
        *(undefined8 *)(param_2 + 0x460) = *(undefined8 *)(param_2 + 0x1f0);
        *(undefined8 *)(param_2 + 0x468) = *(undefined8 *)(param_2 + 0x1f8);
        *(undefined8 *)(param_2 + 0x470) = *(undefined8 *)(param_2 + 0x200);
        *(undefined8 *)(param_2 + 0x478) = *(undefined8 *)(param_2 + 0x208);
        ufbxi_pop_size(param_1 + 0xab0,0x1c,uVar1,0,0);
        return 1;
      }
    }
  }
  uVar6 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
  return uVar6;
}



void ufbx_generate_normal_mapping
               (undefined8 param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4,
               undefined8 param_5,undefined1 param_6)

{
  ufbx_catch_generate_normal_mapping(0,param_1,param_2,param_3,param_4,param_5,param_6);
  return;
}



void ufbx_catch_compute_normals
               (undefined8 param_1,long param_2,undefined8 param_3,undefined8 param_4,ulong param_5,
               undefined8 param_6,undefined8 param_7)

{
  if (*(ulong *)(param_2 + 0x88) <= param_5) {
    ufbx_catch_compute_normals_part_0();
    return;
  }
  ufbxi_panicf_imp(param_1,"Expected at least mesh.num_indices (%zu), got %zu",
                   *(ulong *)(param_2 + 0x88),param_5,param_6,param_7);
  return;
}



void ufbx_compute_normals(long param_1,undefined8 param_2,undefined8 param_3,ulong param_4)

{
  if (*(ulong *)(param_1 + 0x88) <= param_4) {
    ufbx_catch_compute_normals_part_0(0,param_1,param_2,param_3);
    return;
  }
  ufbxi_panicf_imp(0,"Expected at least mesh.num_indices (%zu), got %zu",*(ulong *)(param_1 + 0x88))
  ;
  return;
}



long ufbx_subdivide_mesh(long param_1,long param_2,int *param_3,undefined8 param_4)

{
  long lVar1;
  
  if ((param_3 != (int *)0x0) && (*param_3 != 0 || param_3[0x32] != 0)) {
    lVar1 = ufbxi_uninitialized_options(param_4);
    return lVar1;
  }
  if (param_1 == 0) {
    return 0;
  }
  if (param_2 == 0) {
    return param_1;
  }
  lVar1 = ufbxi_subdivide_mesh_isra_0(param_4);
  return lVar1;
}



void ufbx_free_mesh(long param_1)

{
  if ((param_1 != 0) &&
     (((*(char *)(param_1 + 0x4de) != '\0' || (*(char *)(param_1 + 0x4e8) != '\0')) &&
      (*(int *)(param_1 + 0x4f0) == 0x48534d55)))) {
    ufbxi_release_ref(param_1 + -0x168);
    return;
  }
  return;
}



void ufbx_retain_mesh(long param_1)

{
  if ((param_1 != 0) &&
     (((*(char *)(param_1 + 0x4de) != '\0' || (*(char *)(param_1 + 0x4e8) != '\0')) &&
      (*(int *)(param_1 + 0x4f0) == 0x48534d55)))) {
    ufbxi_retain_ref(param_1 + -0x168);
    return;
  }
  return;
}



void ufbx_load_geometry_cache(undefined8 param_1,int *param_2,undefined8 param_3)

{
  if ((param_2 != (int *)0x0) && (*param_2 != 0 || param_2[0x30] != 0)) {
    ufbxi_uninitialized_options(param_3);
    return;
  }
  ufbxi_load_geometry_cache_isra_0();
  return;
}



void ufbx_load_geometry_cache_len
               (undefined8 param_1,undefined8 param_2,int *param_3,undefined8 param_4)

{
  if ((param_3 != (int *)0x0) && (*param_3 != 0 || param_3[0x30] != 0)) {
    ufbxi_uninitialized_options(param_4);
    return;
  }
  ufbxi_load_geometry_cache_isra_0();
  return;
}



void ufbx_free_geometry_cache(int *param_1)

{
  if (((param_1 != (int *)0x0) && (*param_1 == 0x48434355)) && ((char)param_1[1] == '\0')) {
    ufbxi_release_ref(param_1 + -0x5a);
    return;
  }
  return;
}



void ufbx_retain_geometry_cache(int *param_1)

{
  if (((param_1 != (int *)0x0) && (*param_1 == 0x48434355)) && ((char)param_1[1] == '\0')) {
    ufbxi_retain_ref(param_1 + -0x5a);
    return;
  }
  return;
}



undefined8 ufbx_read_geometry_cache_real(void)

{
  return 0;
}



undefined8 ufbx_sample_geometry_cache_real(void)

{
  return 0;
}



undefined8 ufbx_read_geometry_cache_vec3(void)

{
  return 0;
}



undefined8 ufbx_sample_geometry_cache_vec3(void)

{
  return 0;
}



undefined8 * ufbx_dom_find_len(long param_1,undefined1 *param_2,size_t param_3)

{
  long *plVar1;
  undefined8 *puVar2;
  int iVar3;
  undefined1 *__s2;
  long *plVar4;
  
  __s2 = &ufbxi_empty_char;
  if (param_3 != 0) {
    __s2 = param_2;
  }
  plVar4 = *(long **)(param_1 + 0x10);
  plVar1 = plVar4 + *(long *)(param_1 + 0x18);
  while( true ) {
    if (plVar4 == plVar1) {
      return (undefined8 *)0x0;
    }
    puVar2 = (undefined8 *)*plVar4;
    if ((param_3 == puVar2[1]) && (iVar3 = memcmp((void *)*puVar2,__s2,param_3), iVar3 == 0)) break;
    plVar4 = plVar4 + 1;
  }
  return puVar2;
}



void ufbx_generate_indices(void)

{
  ulong uVar1;
  undefined8 *puVar2;
  undefined8 *in_R9;
  long in_FS_OFFSET;
  undefined8 auStack_278 [77];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (in_R9 == (undefined8 *)0x0) {
    in_R9 = auStack_278;
  }
  *in_R9 = 0;
  in_R9[0x4c] = 0;
  puVar2 = (undefined8 *)((ulong)(in_R9 + 1) & 0xfffffffffffffff8);
  for (uVar1 = (ulong)(((int)in_R9 - (int)(undefined8 *)((ulong)(in_R9 + 1) & 0xfffffffffffffff8)) +
                       0x268U >> 3); uVar1 != 0; uVar1 = uVar1 - 1) {
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  }
  ufbxi_generate_indices_isra_0(in_R9);
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_thread_pool_run_task(long param_1,uint param_2)

{
  long lVar1;
  char cVar2;
  
  lVar1 = *(long *)(param_1 + 0x98) + ((ulong)param_2 % (ulong)*(uint *)(param_1 + 0x90)) * 0x18;
  cVar2 = (**(code **)(lVar1 + 0x10))(lVar1);
  if (cVar2 == '\0') {
    if (*(long *)(lVar1 + 8) == 0) {
      *(undefined **)(lVar1 + 8) = &_LC88;
      return;
    }
  }
  else {
    *(undefined8 *)(lVar1 + 8) = 0;
  }
  return;
}



void ufbx_thread_pool_set_user_ptr(long param_1,undefined8 param_2)

{
  *(undefined8 *)(param_1 + 0x48) = param_2;
  return;
}



undefined8 ufbx_thread_pool_get_user_ptr(long param_1)

{
  return *(undefined8 *)(param_1 + 0x48);
}



undefined8 ufbx_catch_get_vertex_real(undefined8 param_1,long param_2,ulong param_3)

{
  uint uVar1;
  
  if (param_3 < *(ulong *)(param_2 + 0x20)) {
    uVar1 = *(uint *)(*(long *)(param_2 + 0x18) + param_3 * 4);
    if (((ulong)uVar1 < *(ulong *)(param_2 + 0x10)) || (uVar1 == 0xffffffff)) {
      return *(undefined8 *)(*(long *)(param_2 + 8) + (long)(int)uVar1 * 8);
    }
    ufbxi_panicf_imp(param_1,"Corrupted or missing vertex attribute (%u) at %zu",(ulong)uVar1,
                     param_3);
  }
  else {
    ufbxi_panicf_imp(param_1,"index (%zu) out of range (%zu)");
  }
  return 0;
}



undefined1  [16] ufbx_catch_get_vertex_vec2(undefined8 param_1,long param_2,ulong param_3)

{
  uint uVar1;
  
  if (*(ulong *)(param_2 + 0x20) <= param_3) {
    ufbxi_panicf_imp(param_1,"index (%zu) out of range (%zu)");
    return ZEXT816(0);
  }
  uVar1 = *(uint *)(*(long *)(param_2 + 0x18) + param_3 * 4);
  if ((*(ulong *)(param_2 + 0x10) <= (ulong)uVar1) && (uVar1 != 0xffffffff)) {
    ufbxi_panicf_imp(param_1,"Corrupted or missing vertex attribute (%u) at %zu",(ulong)uVar1,
                     param_3);
    return ZEXT816(0);
  }
  return *(undefined1 (*) [16])((long)(int)uVar1 * 0x10 + *(long *)(param_2 + 8));
}



undefined1 (*) [16]
ufbx_catch_get_vertex_vec3(undefined1 (*param_1) [16],undefined8 param_2,long param_3,ulong param_4)

{
  undefined8 *puVar1;
  uint uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  
  if (*(ulong *)(param_3 + 0x20) <= param_4) {
    ufbxi_panicf_imp(param_2,"index (%zu) out of range (%zu)");
    *(undefined8 *)param_1[1] = 0;
    *param_1 = (undefined1  [16])0x0;
    return param_1;
  }
  uVar2 = *(uint *)(*(long *)(param_3 + 0x18) + param_4 * 4);
  if ((*(ulong *)(param_3 + 0x10) <= (ulong)uVar2) && (uVar2 != 0xffffffff)) {
    ufbxi_panicf_imp(param_2,"Corrupted or missing vertex attribute (%u) at %zu",(ulong)uVar2,
                     param_4);
    *(undefined8 *)param_1[1] = 0;
    *param_1 = (undefined1  [16])0x0;
    return param_1;
  }
  puVar1 = (undefined8 *)(*(long *)(param_3 + 8) + (long)(int)uVar2 * 0x18);
  uVar3 = *puVar1;
  uVar4 = puVar1[1];
  *(undefined8 *)param_1[1] = puVar1[2];
  *(undefined8 *)*param_1 = uVar3;
  *(undefined8 *)(*param_1 + 8) = uVar4;
  return param_1;
}



undefined1 (*) [16]
ufbx_catch_get_vertex_vec4(undefined1 (*param_1) [16],undefined8 param_2,long param_3,ulong param_4)

{
  uint uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 *puVar5;
  
  if (*(ulong *)(param_3 + 0x20) <= param_4) {
    ufbxi_panicf_imp(param_2,"index (%zu) out of range (%zu)");
    *param_1 = (undefined1  [16])0x0;
    param_1[1] = (undefined1  [16])0x0;
    return param_1;
  }
  uVar1 = *(uint *)(*(long *)(param_3 + 0x18) + param_4 * 4);
  if ((*(ulong *)(param_3 + 0x10) <= (ulong)uVar1) && (uVar1 != 0xffffffff)) {
    ufbxi_panicf_imp(param_2,"Corrupted or missing vertex attribute (%u) at %zu",(ulong)uVar1,
                     param_4);
    *param_1 = (undefined1  [16])0x0;
    param_1[1] = (undefined1  [16])0x0;
    return param_1;
  }
  puVar5 = (undefined8 *)((long)(int)uVar1 * 0x20 + *(long *)(param_3 + 8));
  uVar2 = puVar5[1];
  uVar3 = puVar5[2];
  uVar4 = puVar5[3];
  *(undefined8 *)*param_1 = *puVar5;
  *(undefined8 *)(*param_1 + 8) = uVar2;
  *(undefined8 *)param_1[1] = uVar3;
  *(undefined8 *)(param_1[1] + 8) = uVar4;
  return param_1;
}



undefined8 ufbx_catch_get_vertex_w_vec3(undefined8 param_1,long param_2,ulong param_3)

{
  uint uVar1;
  
  if (param_3 < *(ulong *)(param_2 + 0x20)) {
    if (*(long *)(param_2 + 0x40) != 0) {
      uVar1 = *(uint *)(*(long *)(param_2 + 0x18) + param_3 * 4);
      if (((ulong)uVar1 < *(ulong *)(param_2 + 0x10)) || (uVar1 == 0xffffffff)) {
        return *(undefined8 *)(*(long *)(param_2 + 0x38) + (long)(int)uVar1 * 8);
      }
      ufbxi_panicf_imp(param_1,"Corrupted or missing vertex attribute (%u) at %zu",(ulong)uVar1,
                       param_3);
    }
  }
  else {
    ufbxi_panicf_imp(param_1,"index (%zu) out of range (%zu)");
  }
  return 0;
}



long ufbx_as_unknown(long param_1)

{
  if ((param_1 != 0) && (*(int *)(param_1 + 0x48) != 0)) {
    return 0;
  }
  return param_1;
}



long ufbx_as_node(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 1) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_mesh(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 2) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_light(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 3) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_camera(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 4) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_bone(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 5) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_empty(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 6) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_line_curve(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 7) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_nurbs_curve(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 8) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_nurbs_surface(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 9) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_nurbs_trim_surface(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 10) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_nurbs_trim_boundary(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0xb) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_procedural_geometry(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0xc) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_stereo_camera(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0xd) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_camera_switcher(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0xe) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_marker(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0xf) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_lod_group(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x10) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_skin_deformer(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x11) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_skin_cluster(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x12) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_blend_deformer(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x13) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_blend_channel(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x14) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_blend_shape(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x15) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_cache_deformer(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x16) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_cache_file(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x17) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_material(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x18) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_texture(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x19) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_video(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x1a) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_shader(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x1b) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_shader_binding(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x1c) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_anim_stack(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x1d) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_anim_layer(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x1e) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_anim_value(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x1f) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_anim_curve(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x20) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_display_layer(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x21) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_selection_set(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x22) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_selection_node(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x23) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_character(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x24) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_constraint(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x25) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_audio_layer(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x26) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_audio_clip(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x27) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_pose(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x28) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



long ufbx_as_metadata_object(long param_1)

{
  long lVar1;
  
  if (param_1 != 0) {
    lVar1 = 0;
    if (*(int *)(param_1 + 0x48) == 0x29) {
      lVar1 = param_1;
    }
    return lVar1;
  }
  return 0;
}



void ufbx_find_prop(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_prop_len(param_1,param_2,sVar1);
  return;
}



undefined8 ufbx_find_real(undefined8 param_1,undefined8 param_2,char *param_3)

{
  size_t sVar1;
  long lVar2;
  
  sVar1 = strlen(param_3);
  lVar2 = ufbx_find_prop_len(param_2,param_3,sVar1);
  if (lVar2 != 0) {
    param_1 = *(undefined8 *)(lVar2 + 0x48);
  }
  return param_1;
}



undefined8
ufbx_find_vec3(undefined8 param_1,undefined8 param_2,char *param_3,undefined8 param_4,
              undefined8 param_5,undefined8 param_6,undefined8 param_7,undefined8 param_8,
              undefined8 param_9)

{
  long lVar1;
  size_t sVar2;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  sVar2 = strlen(param_3);
  ufbx_find_vec3_len(param_1,param_2,param_3,sVar2,param_5,param_6,param_7,param_8,param_9);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_find_int(undefined8 param_1,char *param_2,undefined8 param_3)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_int_len(param_1,param_2,sVar1,param_3);
  return;
}



undefined1 ufbx_find_bool(undefined8 param_1,char *param_2,undefined1 param_3)

{
  size_t sVar1;
  long lVar2;
  
  sVar1 = strlen(param_2);
  lVar2 = ufbx_find_prop_len(param_1,param_2,sVar1);
  if (lVar2 != 0) {
    param_3 = *(long *)(lVar2 + 0x40) != 0;
  }
  return param_3;
}



void ufbx_find_string(undefined8 param_1,char *param_2,undefined8 param_3,undefined8 param_4)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_string_len(param_1,param_2,sVar1,param_3,param_4);
  return;
}



undefined1  [16]
ufbx_find_blob(undefined8 param_1,char *param_2,undefined8 param_3,undefined8 param_4)

{
  size_t sVar1;
  long lVar2;
  undefined1 auVar3 [16];
  
  sVar1 = strlen(param_2);
  lVar2 = ufbx_find_prop_len(param_1,param_2,sVar1);
  if (lVar2 != 0) {
    param_3 = *(undefined8 *)(lVar2 + 0x30);
    param_4 = *(undefined8 *)(lVar2 + 0x38);
  }
  auVar3._8_8_ = param_4;
  auVar3._0_8_ = param_3;
  return auVar3;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */

undefined8 ufbxi_finalize_scene(long param_1)

{
  long lVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  undefined8 *puVar5;
  uint *puVar6;
  char *pcVar7;
  long lVar8;
  long lVar9;
  long lVar10;
  long lVar11;
  long lVar12;
  long lVar13;
  long lVar14;
  long lVar15;
  long lVar16;
  long lVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined *puVar20;
  char cVar21;
  undefined1 uVar22;
  byte bVar23;
  int iVar24;
  int iVar25;
  uint uVar26;
  long lVar27;
  long lVar28;
  long lVar29;
  long lVar30;
  long lVar31;
  undefined8 *puVar32;
  undefined8 uVar33;
  undefined8 uVar34;
  int *piVar35;
  long *plVar36;
  void *pvVar37;
  long *plVar38;
  long lVar39;
  undefined8 *puVar40;
  undefined4 *puVar41;
  long *plVar42;
  ulong uVar43;
  undefined8 *puVar44;
  long *plVar45;
  uint uVar46;
  uint uVar47;
  long extraout_RDX;
  ulong uVar48;
  ulong uVar49;
  long *plVar50;
  undefined8 *puVar51;
  ulong uVar52;
  undefined4 *puVar53;
  long lVar54;
  byte bVar55;
  ulong uVar56;
  ulong uVar57;
  long in_FS_OFFSET;
  bool bVar58;
  double dVar59;
  undefined8 extraout_XMM0_Qa;
  undefined8 extraout_XMM0_Qa_00;
  undefined8 extraout_XMM0_Qa_01;
  undefined1 auVar60 [16];
  bool local_99;
  ulong local_98;
  long local_58;
  ulong local_50;
  long local_40;
  
  bVar23 = 0;
  uVar57 = (ulong)*(uint *)(param_1 + 0x21b0);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar1 = param_1 + 0x1a58;
  *(ulong *)(param_1 + 0x2150) = uVar57;
  lVar27 = ufbxi_push_size(lVar1,8,uVar57);
  *(long *)(param_1 + 0x2148) = lVar27;
  if (lVar27 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  *(ulong *)(param_1 + 0x1d78) = *(ulong *)(param_1 + 0x1930);
  lVar27 = ufbxi_push_pop_size(lVar1,param_1 + 0xb70,8,*(ulong *)(param_1 + 0x1930) >> 3);
  if (lVar27 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  lVar39 = param_1 + 0xa30;
  lVar30 = param_1 + 0xbb0;
  lVar28 = ufbxi_push_pop_size(lVar39,lVar30,8);
  ufbxi_buf_free(lVar30);
  if (lVar28 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  if (uVar57 != 0) {
    lVar31 = *(long *)(param_1 + 0x2148);
    uVar43 = 0;
    do {
      while ((lVar54 = *(long *)(lVar28 + uVar43 * 8) + lVar27, *(int *)(lVar54 + 0x48) != 1 ||
             (*(long *)(lVar54 + 200) == 0))) {
        *(long *)(lVar31 + uVar43 * 8) = lVar54;
        uVar43 = uVar43 + 1;
        if (uVar57 == uVar43) goto LAB_00141892;
      }
      lVar29 = ufbxi_get_element_extra_isra_0
                         (*(undefined8 *)(param_1 + 0x1b20),*(undefined8 *)(param_1 + 0x1b28),
                          *(undefined4 *)(lVar54 + 0x30));
      *(long *)(lVar54 + 200) = *(long *)(lVar28 + (ulong)*(uint *)(lVar29 + 4) * 8) + lVar27;
      *(long *)(lVar31 + uVar43 * 8) = lVar54;
      uVar43 = uVar43 + 1;
    } while (uVar57 != uVar43);
  }
LAB_00141892:
  *(ulong *)(param_1 + 0x2150) = uVar57;
  ufbxi_buf_free(lVar30);
  ufbxi_buf_free(param_1 + 0xb70);
  lVar30 = ufbxi_push_size_zero(lVar39,1,uVar57);
  *(long *)(param_1 + 0x1b30) = lVar30;
  if (lVar30 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  auVar60 = ufbx_find_string_len(param_1 + 0x1c88,"DocumentUrl",0xb,ufbx_empty_string,DAT_0014b438);
  *(undefined1 (*) [16])(param_1 + 0x1da8) = auVar60;
  lVar30 = ufbx_find_prop_len(param_1 + 0x1c88,"DocumentUrl",0xb);
  if (lVar30 == 0) {
    uVar34 = 0;
    uVar33 = 0;
  }
  else {
    uVar34 = *(undefined8 *)(lVar30 + 0x30);
    uVar33 = *(undefined8 *)(lVar30 + 0x38);
  }
  *(undefined8 *)(param_1 + 0x1db8) = uVar34;
  *(undefined8 *)(param_1 + 0x1dc0) = uVar33;
  iVar24 = ufbxi_resolve_connections(param_1);
  if (iVar24 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  iVar24 = ufbxi_add_connections_to_elements(param_1);
  if (iVar24 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  lVar30 = param_1 + 0xc70;
  iVar24 = ufbxi_linearize_nodes(param_1);
  plVar36 = (long *)(param_1 + 0x1e98);
  if (iVar24 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  do {
    lVar28 = *(long *)(lVar30 + 0x28);
    lVar31 = ufbxi_push_pop_size(lVar39,lVar30,8);
    ufbxi_buf_free(lVar30);
    if (lVar31 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    plVar36[1] = lVar28;
    lVar54 = ufbxi_push_size(lVar1,8,lVar28);
    *plVar36 = lVar54;
    if (lVar54 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    lVar29 = 0;
    if (lVar28 != 0) {
      do {
        *(long *)(lVar54 + lVar29 * 8) = *(long *)(lVar31 + lVar29 * 8) + lVar27;
        lVar29 = lVar29 + 1;
      } while (lVar28 != lVar29);
    }
    lVar28 = lVar30 + 0x40;
    plVar36 = plVar36 + 2;
    ufbxi_buf_free(lVar30);
    lVar30 = lVar28;
  } while (param_1 + 0x16f0 != lVar28);
  *(ulong *)(param_1 + 0x2180) = uVar57;
  puVar32 = (undefined8 *)ufbxi_push_size(lVar1,0x20,uVar57);
  *(undefined8 **)(param_1 + 0x2178) = puVar32;
  if (puVar32 == (undefined8 *)0x0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  if (uVar57 != 0) {
    puVar51 = *(undefined8 **)(param_1 + 0x2148);
    puVar40 = puVar32;
    do {
      puVar5 = (undefined8 *)*puVar51;
      uVar34 = puVar5[1];
      uVar2 = *(undefined4 *)(puVar5 + 9);
      *puVar40 = *puVar5;
      puVar40[1] = uVar34;
      uVar43 = puVar5[1];
      puVar6 = (uint *)*puVar5;
      *(undefined4 *)(puVar40 + 2) = uVar2;
      if (uVar43 < 4) {
        uVar46 = 0;
        uVar52 = 0;
        do {
          for (; uVar46 = uVar46 << 8, uVar52 < uVar43; uVar52 = uVar52 + 1) {
            uVar46 = uVar46 | *(byte *)((long)puVar6 + uVar52);
          }
          uVar52 = uVar52 + 1;
        } while (uVar52 != 4);
      }
      else {
        uVar46 = *puVar6;
        uVar46 = uVar46 >> 0x18 | (uVar46 & 0xff0000) >> 8 | (uVar46 & 0xff00) << 8 | uVar46 << 0x18
        ;
      }
      *(uint *)((long)puVar40 + 0x14) = uVar46;
      puVar44 = puVar40 + 4;
      puVar51 = puVar51 + 1;
      puVar40[3] = puVar5;
      puVar40 = puVar44;
    } while (puVar44 != puVar32 + uVar57 * 4);
  }
  iVar24 = ufbxi_sort_name_elements(param_1,puVar32,uVar57);
  if (iVar24 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  plVar50 = *(long **)(param_1 + 0x1ea8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x1eb0);
  if (plVar50 != plVar36) {
    do {
      lVar27 = *plVar50;
      lVar30 = *(long *)(lVar27 + 0x80);
      if (lVar30 != 0) {
        *(long *)(lVar30 + 0x90) = *(long *)(lVar30 + 0x90) + 1;
        if (*(long *)(lVar30 + 0x88) == 0) {
          *(long **)(lVar30 + 0x88) = plVar50;
        }
        if (*(char *)(lVar27 + 0x445) != '\0') {
          *(long *)(lVar30 + 0xc0) = lVar27;
        }
        if (((*(char *)(lVar30 + 0x441) == '\0') || (*(int *)(param_1 + 0x3d4) != 0)) ||
           (*(int *)(param_1 + 0x3cc) != 0)) {
          if (*(int *)(lVar27 + 0xec) != 2) {
            if (*(int *)(lVar27 + 0xec) != 1) goto LAB_00141d8b;
            lVar30 = *(long *)(lVar30 + 0x1a8);
          }
          *(long *)(lVar27 + 0x1a8) = lVar30;
        }
        else {
          *(undefined8 *)(lVar27 + 0xe8) = 0;
        }
      }
LAB_00141d8b:
      auVar60 = ufbxi_find_dst_connections_isra_0
                          (*(undefined8 *)(lVar27 + 0x60),*(undefined8 *)(lVar27 + 0x68),0);
      plVar45 = auVar60._0_8_;
      uVar57 = *(ulong *)(lVar27 + 0xe0);
      plVar38 = plVar45 + auVar60._8_8_ * 6;
      for (; plVar45 != plVar38; plVar45 = plVar45 + 6) {
        local_58 = *plVar45;
        iVar24 = *(int *)(local_58 + 0x48);
        if (iVar24 - 2U < 0xf) {
          *(ulong *)(lVar27 + 0xe0) = uVar57 + 1;
          if (uVar57 == 0) {
            *(int *)(lVar27 + 0xd0) = iVar24;
            uVar46 = *(uint *)(local_58 + 0x48);
            uVar57 = 1;
            *(long *)(lVar27 + 0xb8) = local_58;
          }
          else {
            if ((uVar57 == 1) &&
               (lVar30 = ufbxi_push_size_copy(param_1 + 0xab0,8,1,lVar27 + 0xb8), lVar30 == 0)) {
              if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
              return uVar34;
            }
            lVar30 = ufbxi_push_size_copy(param_1 + 0xab0,8,1,&local_58);
            if (lVar30 == 0) {
              if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
              return uVar34;
            }
            uVar57 = *(ulong *)(lVar27 + 0xe0);
            uVar46 = *(uint *)(local_58 + 0x48);
          }
          if (uVar46 == 4) {
            *(long *)(lVar27 + 0xa8) = local_58;
          }
          else if (uVar46 < 5) {
            if (uVar46 == 2) {
              *(long *)(lVar27 + 0x98) = local_58;
            }
            else if (uVar46 == 3) {
              *(long *)(lVar27 + 0xa0) = local_58;
            }
          }
          else if (uVar46 == 5) {
            *(long *)(lVar27 + 0xb0) = local_58;
          }
        }
      }
      if (uVar57 < 2) {
        if (uVar57 == 1) {
          *(long *)(lVar27 + 0xd8) = lVar27 + 0xb8;
        }
      }
      else {
        lVar30 = ufbxi_push_pop_size(lVar1,param_1 + 0xab0,8);
        *(long *)(lVar27 + 0xd8) = lVar30;
        if (lVar30 == 0) {
          if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
            __stack_chk_fail();
          }
          uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
          return uVar34;
        }
      }
      iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x428,lVar27,0,0,0x18);
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      plVar50 = plVar50 + 1;
    } while (plVar36 != plVar50);
  }
  plVar50 = *(long **)(param_1 + 0x2118);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2120);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    lVar30 = *(long *)(lVar27 + 0x90);
    puVar32 = *(undefined8 **)(lVar27 + 0x88);
    lVar28 = ufbxi_push_size(lVar1,200,lVar30);
    *(long *)(lVar27 + 0x88) = lVar28;
    if (lVar28 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    *(undefined8 *)(lVar27 + 0x90) = 0;
    lVar28 = 0;
    if (lVar30 != 0) {
      do {
        lVar31 = ufbxi_find_element_by_fbx_id(param_1,*puVar32);
        if ((lVar31 != 0) && (*(int *)(lVar31 + 0x48) == 1)) {
          lVar54 = *(long *)(lVar27 + 0x90);
          lVar29 = puVar32[1];
          lVar9 = puVar32[2];
          cVar21 = *(char *)(lVar27 + 0x80);
          *(long *)(lVar27 + 0x90) = lVar54 + 1;
          plVar38 = (long *)(*(long *)(lVar27 + 0x88) + lVar54 * 200);
          plVar38[1] = lVar29;
          plVar38[2] = lVar9;
          lVar54 = puVar32[3];
          lVar29 = puVar32[4];
          *plVar38 = lVar31;
          plVar38[3] = lVar54;
          plVar38[4] = lVar29;
          lVar54 = puVar32[6];
          plVar38[5] = puVar32[5];
          plVar38[6] = lVar54;
          lVar54 = puVar32[8];
          plVar38[7] = puVar32[7];
          plVar38[8] = lVar54;
          lVar54 = puVar32[10];
          plVar38[9] = puVar32[9];
          plVar38[10] = lVar54;
          lVar54 = puVar32[0xc];
          plVar38[0xb] = puVar32[0xb];
          plVar38[0xc] = lVar54;
          if (cVar21 != '\0') {
            if (*(long *)(lVar31 + 0x438) == 0) {
              *(long *)(lVar31 + 0x438) = lVar27;
            }
            auVar60 = ufbxi_find_src_connections_constprop_0_isra_0
                                (*(undefined8 *)(lVar31 + 0x50),*(undefined8 *)(lVar31 + 0x58));
            lVar31 = auVar60._0_8_;
            lVar54 = auVar60._8_8_ * 0x30 + lVar31;
            if (lVar31 != lVar54) {
              do {
                lVar29 = *(long *)(lVar31 + 8);
                if ((*(int *)(lVar29 + 0x48) == 0x12) &&
                   (cVar21 = ufbxi_matrix_all_zero(lVar29 + 0x148), lVar31 = extraout_RDX,
                   cVar21 != '\0')) {
                  lVar9 = plVar38[2];
                  lVar8 = plVar38[3];
                  lVar10 = plVar38[4];
                  lVar11 = plVar38[5];
                  lVar12 = plVar38[6];
                  lVar13 = plVar38[7];
                  lVar14 = plVar38[8];
                  lVar15 = plVar38[9];
                  lVar16 = plVar38[10];
                  *(long *)(lVar29 + 0x148) = plVar38[1];
                  *(long *)(lVar29 + 0x150) = lVar9;
                  lVar9 = plVar38[0xb];
                  lVar17 = plVar38[0xc];
                  *(long *)(lVar29 + 0x158) = lVar8;
                  *(long *)(lVar29 + 0x160) = lVar10;
                  *(long *)(lVar29 + 0x168) = lVar11;
                  *(long *)(lVar29 + 0x170) = lVar12;
                  *(long *)(lVar29 + 0x178) = lVar13;
                  *(long *)(lVar29 + 0x180) = lVar14;
                  *(long *)(lVar29 + 0x188) = lVar15;
                  *(long *)(lVar29 + 400) = lVar16;
                  *(long *)(lVar29 + 0x198) = lVar9;
                  *(long *)(lVar29 + 0x1a0) = lVar17;
                }
                lVar31 = lVar31 + 0x30;
              } while (lVar54 != lVar31);
            }
          }
        }
        lVar28 = lVar28 + 1;
        puVar32 = puVar32 + 0xd;
      } while (lVar30 != lVar28);
    }
    iVar24 = ufbxi_sort_bone_poses(param_1,lVar27);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  lVar27 = 0;
  do {
    plVar50 = *(long **)(param_1 + 0x1eb8 + lVar27);
    plVar36 = plVar50 + *(long *)(param_1 + 0x1ec0 + lVar27);
    for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
      iVar24 = ufbxi_fetch_src_elements_constprop_0(param_1,*plVar50 + 0x38);
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
    }
    lVar27 = lVar27 + 0x10;
  } while (lVar27 != 0xf0);
  uVar46 = *(uint *)(param_1 + 0x268);
  plVar50 = *(long **)(param_1 + 0x1fb8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x1fc0);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    uVar34 = ufbxi_fetch_dst_element(lVar27,0,0);
    *(undefined8 *)(lVar27 + 0x80) = uVar34;
  }
  plVar50 = *(long **)(param_1 + 0x1fa8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x1fb0);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x88,lVar27,0,1,0x12);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    if (*(char *)(param_1 + 0x364) == '\0') {
      lVar30 = *(long *)(lVar27 + 0x90);
      plVar38 = *(long **)(lVar27 + 0x88);
      lVar31 = 0;
      for (lVar28 = 0; lVar30 != lVar28; lVar28 = lVar28 + 1) {
        if (*(long *)(plVar38[lVar28] + 0x80) == 0) {
          lVar31 = lVar31 + 1;
        }
        else if (lVar31 != 0) {
          plVar38[lVar28 - lVar31] = plVar38[lVar28];
        }
      }
      *(long *)(lVar27 + 0x90) = lVar30 - lVar31;
    }
    else {
      plVar38 = *(long **)(lVar27 + 0x88);
    }
    uVar57 = 0;
    plVar45 = plVar38 + *(long *)(lVar27 + 0x90);
    for (; plVar38 != plVar45; plVar38 = plVar38 + 1) {
      if (~uVar57 <= *(ulong *)(*plVar38 + 600)) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      uVar57 = uVar57 + *(ulong *)(*plVar38 + 600);
    }
    uVar43 = 0;
    auVar60 = ufbxi_find_src_connections_constprop_0_isra_0
                        (*(undefined8 *)(lVar27 + 0x50),*(undefined8 *)(lVar27 + 0x58));
    lVar28 = auVar60._0_8_;
    lVar30 = lVar28 + auVar60._8_8_ * 0x30;
    for (; lVar28 != lVar30; lVar28 = lVar28 + 0x30) {
      if (*(long *)(lVar28 + 0x28) == 0) {
        lVar31 = *(long *)(lVar28 + 8);
        if (*(int *)(lVar31 + 0x48) == 2) {
LAB_00142540:
          if (uVar43 < *(ulong *)(lVar31 + 0x80)) {
            uVar43 = *(ulong *)(lVar31 + 0x80);
          }
        }
        else if (*(int *)(lVar31 + 0x48) == 1) {
          lVar54 = *(long *)(lVar31 + 0xc0);
          if (*(long *)(lVar31 + 0xc0) == 0) {
            lVar54 = lVar31;
          }
          lVar31 = *(long *)(lVar54 + 0x98);
          if (lVar31 != 0) goto LAB_00142540;
        }
      }
    }
    if (*(char *)(param_1 + 0x358) == '\0') {
      *(ulong *)(lVar27 + 0xa0) = uVar43;
      lVar30 = ufbxi_push_size_zero(lVar1,0x10,uVar43);
      *(long *)(lVar27 + 0x98) = lVar30;
      if (lVar30 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      *(ulong *)(lVar27 + 0xb0) = uVar57;
      lVar30 = ufbxi_push_size_zero(lVar1,0x10,uVar57);
      *(long *)(lVar27 + 0xa8) = lVar30;
      if (lVar30 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      plVar45 = *(long **)(lVar27 + 0x88);
      bVar55 = *(byte *)(param_1 + 0x35a) ^ 1;
      plVar38 = plVar45 + *(long *)(lVar27 + 0x90);
      for (plVar42 = plVar45; plVar42 != plVar38; plVar42 = plVar42 + 1) {
        lVar28 = *plVar42;
        lVar31 = *(long *)(lVar28 + 600);
        for (lVar54 = 0; lVar31 != lVar54; lVar54 = lVar54 + 1) {
          uVar57 = (ulong)*(uint *)(*(long *)(lVar28 + 0x260) + lVar54 * 4);
          if ((uVar57 < uVar43) &&
             ((bVar55 != 0 || (0.0 < *(double *)(*(long *)(lVar28 + 0x270) + lVar54 * 8))))) {
            piVar35 = (int *)(uVar57 * 0x10 + *(long *)(lVar27 + 0x98) + 4);
            *piVar35 = *piVar35 + 1;
          }
        }
      }
      dVar59 = 0.0;
      if (*(int *)(lVar27 + 0x80) == 2) {
        dVar59 = _LC0;
      }
      uVar47 = 0;
      iVar24 = 0;
      for (uVar57 = 0; uVar43 != uVar57; uVar57 = uVar57 + 1) {
        piVar35 = (int *)(uVar57 * 0x10 + *(long *)(lVar27 + 0x98));
        uVar26 = piVar35[1];
        piVar35[1] = 0;
        *piVar35 = iVar24;
        iVar24 = iVar24 + uVar26;
        *(double *)(piVar35 + 2) = dVar59;
        if (uVar47 < uVar26) {
          uVar47 = uVar26;
        }
      }
      lVar28 = *(long *)(lVar27 + 0xc0);
      *(ulong *)(lVar27 + 0xb8) = (ulong)uVar47;
      for (lVar31 = 0; lVar28 != lVar31; lVar31 = lVar31 + 1) {
        uVar57 = (ulong)*(uint *)(*(long *)(lVar27 + 200) + lVar31 * 4);
        if (uVar57 < uVar43) {
          *(undefined8 *)(uVar57 * 0x10 + *(long *)(lVar27 + 0x98) + 8) =
               *(undefined8 *)(*(long *)(lVar27 + 0xd8) + lVar31 * 8);
        }
      }
      iVar24 = 0;
      for (; plVar45 != plVar38; plVar45 = plVar45 + 1) {
        lVar28 = *plVar45;
        lVar31 = *(long *)(lVar28 + 600);
        for (lVar54 = 0; lVar31 != lVar54; lVar54 = lVar54 + 1) {
          uVar57 = (ulong)*(uint *)(*(long *)(lVar28 + 0x260) + lVar54 * 4);
          if ((uVar57 < uVar43) &&
             ((dVar59 = *(double *)(*(long *)(lVar28 + 0x270) + lVar54 * 8), bVar55 != 0 ||
              (0.0 < dVar59)))) {
            piVar35 = (int *)(uVar57 * 0x10 + *(long *)(lVar27 + 0x98));
            iVar25 = piVar35[1];
            piVar35[1] = iVar25 + 1;
            piVar35 = (int *)((ulong)(uint)(iVar25 + *piVar35) * 0x10 + lVar30);
            *piVar35 = iVar24;
            *(double *)(piVar35 + 2) = dVar59;
          }
        }
        iVar24 = iVar24 + 1;
      }
      iVar24 = ufbxi_sort_skin_weights(param_1,lVar27);
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
    }
  }
  plVar50 = *(long **)(param_1 + 0x1fc8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x1fd0);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,*plVar50 + 0x80,*plVar50,0,1,0x14);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  plVar50 = *(long **)(param_1 + 0x1ff8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2000);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    auVar60 = ufbx_find_string(lVar27 + 0x10,"ChannelName",ufbx_empty_string,DAT_0014b438);
    *(undefined1 (*) [16])(lVar27 + 0x80) = auVar60;
    uVar34 = ufbxi_fetch_dst_element(lVar27,0,0,0x17);
    *(undefined8 *)(lVar27 + 0x90) = uVar34;
  }
  plVar50 = *(long **)(param_1 + 0x2008);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2010);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar30 = *plVar50;
    lVar27 = lVar30 + 0x10;
    auVar60 = ufbx_find_string(lVar27,"CacheAbsoluteFileName",ufbx_empty_string,DAT_0014b438);
    uVar34 = DAT_0014b438;
    *(long *)(lVar30 + 0x98) = auVar60._8_8_;
    puVar20 = ufbx_empty_string;
    *(long *)(lVar30 + 0x90) = auVar60._0_8_;
    auVar60 = ufbx_find_string(lVar27,"CacheFileName",puVar20,uVar34);
    uVar33 = DAT_00149c48;
    *(long *)(lVar30 + 0xa8) = auVar60._8_8_;
    uVar34 = ufbx_empty_blob;
    *(long *)(lVar30 + 0xa0) = auVar60._0_8_;
    auVar60 = ufbx_find_blob(lVar27,"CacheAbsoluteFileName",uVar34,uVar33);
    uVar33 = DAT_00149c48;
    *(long *)(lVar30 + 200) = auVar60._8_8_;
    uVar34 = ufbx_empty_blob;
    *(long *)(lVar30 + 0xc0) = auVar60._0_8_;
    auVar60 = ufbx_find_blob(lVar27,"CacheFileName",uVar34,uVar33);
    *(undefined1 (*) [16])(lVar30 + 0xd0) = auVar60;
    uVar57 = ufbx_find_int(lVar27,"CacheFileType",0);
    if (uVar57 < 3) {
      *(int *)(lVar30 + 0xe0) = (int)uVar57;
    }
    iVar24 = ufbxi_resolve_filenames(param_1,lVar30 + 0x80,lVar30 + 0x90,lVar30 + 0xa0,0);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_resolve_filenames(param_1,lVar30 + 0xb0,lVar30 + 0xc0,lVar30 + 0xd0,1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  lVar27 = param_1 + 0x1730;
  plVar36 = (long *)ufbxi_push_pop_size(lVar39,lVar27,0x10,*(undefined8 *)(param_1 + 0x1758));
  ufbxi_buf_free(lVar27);
  if (plVar36 == (long *)0x0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  plVar38 = *(long **)(param_1 + 0x1fd8);
  plVar50 = plVar38 + *(long *)(param_1 + 0x1fe0);
  for (; plVar38 != plVar50; plVar38 = plVar38 + 1) {
    lVar30 = *plVar38;
    iVar24 = ufbxi_fetch_blend_keyframes_isra_0
                       (param_1,lVar30 + 0x88,*(undefined8 *)(lVar30 + 0x60),
                        *(undefined8 *)(lVar30 + 0x68));
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    uVar57 = *(ulong *)(lVar30 + 0x90);
    lVar28 = *(long *)(lVar30 + 0x88);
    for (uVar43 = 0; uVar57 != uVar43; uVar43 = uVar43 + 1) {
      dVar59 = _LC0;
      if (uVar43 < (ulong)plVar36[1]) {
        dVar59 = *(double *)(*plVar36 + uVar43 * 8) / _LC9;
      }
      *(double *)(uVar43 * 0x18 + lVar28 + 8) = dVar59;
    }
    iVar24 = ufbxi_sort_blend_keyframes(param_1,lVar28,uVar57);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    plVar36 = plVar36 + 2;
    if (*(long *)(lVar30 + 0x90) != 0) {
      *(undefined8 *)(lVar30 + 0x98) =
           *(undefined8 *)(*(long *)(lVar30 + 0x90) * 0x18 + *(long *)(lVar30 + 0x88) + -0x18);
    }
  }
  ufbxi_buf_free(lVar27);
  pvVar37 = (void *)ufbxi_push_size(lVar1,4,*(undefined8 *)(param_1 + 0xa20));
  lVar27 = ufbxi_push_size(lVar1,4,*(undefined8 *)(param_1 + 0xa28));
  local_99 = pvVar37 == (void *)0x0 || lVar27 == 0;
  if (local_99) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  memset(pvVar37,0,*(long *)(param_1 + 0xa20) * 4);
  lVar30 = *(long *)(param_1 + 0xa28);
  for (lVar28 = 0; lVar30 != lVar28; lVar28 = lVar28 + 1) {
    *(int *)(lVar27 + lVar28 * 4) = (int)lVar28;
  }
  plVar50 = *(long **)(param_1 + 0x1eb8);
  *(void **)(param_1 + 0x1af0) = pvVar37;
  *(long *)(param_1 + 0x1af8) = lVar27;
  plVar36 = plVar50 + *(long *)(param_1 + 0x1ec0);
  bVar58 = uVar46 < 7000;
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    if (*(undefined4 **)(lVar27 + 0x1a0) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0x1a0) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0x1a0) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0x1a0) = *(undefined8 *)(param_1 + 0x1af8);
    }
    if (*(undefined4 **)(lVar27 + 0x1e8) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0x1e8) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0x1e8) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0x1e8) = *(undefined8 *)(param_1 + 0x1af8);
    }
    if (*(undefined4 **)(lVar27 + 0x308) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0x308) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0x308) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0x308) = *(undefined8 *)(param_1 + 0x1af8);
    }
    if (*(undefined4 **)(lVar27 + 0x350) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0x350) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0x350) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0x350) = *(undefined8 *)(param_1 + 0x1af8);
    }
    if (*(undefined4 **)(lVar27 + 0xe8) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0xe8) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0xe8) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0xe8) = *(undefined8 *)(param_1 + 0x1af8);
    }
    if (*(undefined4 **)(lVar27 + 0xf8) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0xf8) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0xf8) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0xf8) = *(undefined8 *)(param_1 + 0x1af8);
    }
    if (*(undefined4 **)(lVar27 + 0x410) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0x410) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0x410) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0x410) = *(undefined8 *)(param_1 + 0x1af8);
    }
    if (*(undefined4 **)(lVar27 + 0x458) == &ufbxi_sentinel_index_zero) {
      *(undefined8 *)(lVar27 + 0x458) = *(undefined8 *)(param_1 + 0x1af0);
    }
    else if (*(undefined4 **)(lVar27 + 0x458) == &ufbxi_sentinel_index_consecutive) {
      *(undefined8 *)(lVar27 + 0x458) = *(undefined8 *)(param_1 + 0x1af8);
    }
    lVar28 = *(long *)(lVar27 + 0x380);
    lVar30 = lVar28 + *(long *)(lVar27 + 0x388) * 0xf0;
    for (; lVar28 != lVar30; lVar28 = lVar28 + 0xf0) {
      if (*(undefined4 **)(lVar28 + 0x30) == &ufbxi_sentinel_index_zero) {
        *(undefined8 *)(lVar28 + 0x30) = *(undefined8 *)(param_1 + 0x1af0);
      }
      else if (*(undefined4 **)(lVar28 + 0x30) == &ufbxi_sentinel_index_consecutive) {
        *(undefined8 *)(lVar28 + 0x30) = *(undefined8 *)(param_1 + 0x1af8);
      }
      if (*(undefined4 **)(lVar28 + 0xc0) == &ufbxi_sentinel_index_zero) {
        *(undefined8 *)(lVar28 + 0xc0) = *(undefined8 *)(param_1 + 0x1af0);
      }
      else if (*(undefined4 **)(lVar28 + 0xc0) == &ufbxi_sentinel_index_consecutive) {
        *(undefined8 *)(lVar28 + 0xc0) = *(undefined8 *)(param_1 + 0x1af8);
      }
      if (*(undefined4 **)(lVar28 + 0x78) == &ufbxi_sentinel_index_zero) {
        *(undefined8 *)(lVar28 + 0x78) = *(undefined8 *)(param_1 + 0x1af0);
      }
      else if (*(undefined4 **)(lVar28 + 0x78) == &ufbxi_sentinel_index_consecutive) {
        *(undefined8 *)(lVar28 + 0x78) = *(undefined8 *)(param_1 + 0x1af8);
      }
    }
    lVar30 = *(long *)(lVar27 + 0x390);
    lVar28 = *(long *)(lVar27 + 0x398) * 0x60 + lVar30;
    for (; lVar30 != lVar28; lVar30 = lVar30 + 0x60) {
      if (*(undefined4 **)(lVar30 + 0x30) == &ufbxi_sentinel_index_zero) {
        *(undefined8 *)(lVar30 + 0x30) = *(undefined8 *)(param_1 + 0x1af0);
      }
      else if (*(undefined4 **)(lVar30 + 0x30) == &ufbxi_sentinel_index_consecutive) {
        *(undefined8 *)(lVar30 + 0x30) = *(undefined8 *)(param_1 + 0x1af8);
      }
    }
    if (((*(char *)(lVar27 + 0x1d0) == '\0') && (*(char *)(param_1 + 0x368) != '\0')) &&
       (iVar24 = ufbxi_generate_normals(param_1,lVar27), iVar24 == 0)) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    if (*(long *)(lVar27 + 0x388) != 0) {
      lVar30 = *(long *)(lVar27 + 0x380);
      puVar41 = (undefined4 *)(lVar30 + 0x18);
      puVar53 = (undefined4 *)(lVar27 + 0x218);
      for (lVar28 = 0x12; lVar28 != 0; lVar28 = lVar28 + -1) {
        *puVar53 = *puVar41;
        puVar41 = puVar41 + (ulong)bVar23 * -2 + 1;
        puVar53 = puVar53 + (ulong)bVar23 * -2 + 1;
      }
      puVar41 = (undefined4 *)(lVar30 + 0xa8);
      puVar53 = (undefined4 *)(lVar27 + 0x2a8);
      for (lVar28 = 0x12; lVar28 != 0; lVar28 = lVar28 + -1) {
        *puVar53 = *puVar41;
        puVar41 = puVar41 + (ulong)bVar23 * -2 + 1;
        puVar53 = puVar53 + (ulong)bVar23 * -2 + 1;
      }
      puVar41 = (undefined4 *)(lVar30 + 0x60);
      puVar53 = (undefined4 *)(lVar27 + 0x260);
      for (lVar28 = 0x12; lVar28 != 0; lVar28 = lVar28 + -1) {
        *puVar53 = *puVar41;
        puVar41 = puVar41 + (ulong)bVar23 * -2 + 1;
        puVar53 = puVar53 + (ulong)bVar23 * -2 + 1;
      }
    }
    if (*(long *)(lVar27 + 0x398) != 0) {
      puVar41 = (undefined4 *)(*(long *)(lVar27 + 0x390) + 0x18);
      puVar53 = (undefined4 *)(lVar27 + 0x2f0);
      for (lVar30 = 0x12; lVar30 != 0; lVar30 = lVar30 + -1) {
        *puVar53 = *puVar41;
        puVar41 = puVar41 + (ulong)bVar23 * -2 + 1;
        puVar53 = puVar53 + (ulong)bVar23 * -2 + 1;
      }
    }
    if (*(long *)(lVar27 + 0x3d8) == 1) {
      lVar30 = *(long *)(lVar27 + 0x3d0);
      if (*(undefined4 **)(lVar30 + 0x30) == &ufbxi_sentinel_index_zero) {
        *(undefined8 *)(lVar30 + 0x30) = *(undefined8 *)(param_1 + 0x1af0);
      }
      else if (*(undefined4 **)(lVar30 + 0x30) == &ufbxi_sentinel_index_consecutive) {
        *(undefined8 *)(lVar30 + 0x30) = *(undefined8 *)(param_1 + 0x1af8);
      }
    }
    iVar24 = ufbxi_fetch_mesh_materials_constprop_0(param_1,lVar27 + 0x3a0,lVar27);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    uVar57 = *(ulong *)(lVar27 + 0x3a8);
    if (uVar57 == 0) {
      if (*(char *)(param_1 + 0x278) == '\0') {
LAB_00143056:
        if (*(long *)(lVar27 + 0x3c8) != 0) goto LAB_00143060;
      }
      else {
LAB_001432c6:
        uVar43 = uVar57;
        if (uVar57 == 0) {
          uVar43 = 1;
        }
        lVar30 = ufbxi_push_size_zero(lVar1);
        *(long *)(lVar27 + 0x3c0) = lVar30;
        if (lVar30 == 0) {
          if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
            __stack_chk_fail();
          }
          uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
          return uVar34;
        }
        uVar57 = *(ulong *)(lVar27 + 0x3a8);
        *(ulong *)(lVar27 + 0x3c8) = uVar43;
        if (1 < uVar57) goto LAB_00143313;
LAB_00143060:
        uVar33 = *(undefined8 *)(lVar27 + 0x90);
        uVar34 = *(undefined8 *)(lVar27 + 0x98);
        lVar30 = *(long *)(lVar27 + 0x3c0);
        uVar18 = *(undefined8 *)(lVar27 + 0xb0);
        uVar19 = *(undefined8 *)(lVar27 + 0xb8);
        *(undefined8 *)(lVar30 + 8) = uVar33;
        *(undefined8 *)(lVar30 + 0x10) = uVar34;
        *(undefined8 *)(lVar30 + 0x18) = uVar18;
        *(undefined8 *)(lVar30 + 0x20) = uVar19;
        *(undefined8 *)(lVar30 + 0x28) = *(undefined8 *)(lVar27 + 0xc0);
        uVar34 = *(undefined8 *)(param_1 + 0x1af8);
        *(undefined8 *)(lVar30 + 0x38) = uVar33;
        *(undefined8 *)(lVar30 + 0x30) = uVar34;
        uVar34 = *(undefined8 *)(param_1 + 0x1af0);
        *(undefined8 *)(lVar27 + 1000) = 1;
        *(undefined8 *)(lVar27 + 0x3e0) = uVar34;
      }
      if (uVar57 == 1) {
        *(undefined8 *)(lVar27 + 0xe8) = *(undefined8 *)(param_1 + 0x1af0);
        *(undefined8 *)(lVar27 + 0xf0) = *(undefined8 *)(lVar27 + 0x90);
      }
      else {
        *(undefined8 *)(lVar27 + 0xe8) = 0;
        *(undefined8 *)(lVar27 + 0xf0) = 0;
      }
    }
    else {
      plVar45 = *(long **)(lVar27 + 0x38);
      plVar38 = plVar45 + *(long *)(lVar27 + 0x40);
      for (; plVar45 != plVar38; plVar45 = plVar45 + 1) {
        lVar30 = *plVar45;
        if ((*(ulong *)(lVar30 + 0x430) < uVar57) && (**(long **)(lVar27 + 0x3a0) != 0)) {
          lVar28 = ufbxi_push_size(lVar1,8);
          if (lVar28 == 0) {
            if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
            return uVar34;
          }
          uVar57 = *(ulong *)(lVar30 + 0x430);
          for (uVar43 = 0; uVar57 != uVar43; uVar43 = uVar43 + 1) {
            *(undefined8 *)(lVar28 + uVar43 * 8) =
                 *(undefined8 *)(*(long *)(lVar30 + 0x428) + uVar43 * 8);
          }
          uVar57 = *(ulong *)(lVar27 + 0x3a8);
          for (; uVar43 < uVar57; uVar43 = uVar43 + 1) {
            *(undefined8 *)(lVar28 + uVar43 * 8) =
                 *(undefined8 *)(*(long *)(lVar27 + 0x3a0) + uVar43 * 8);
          }
          *(long *)(lVar30 + 0x428) = lVar28;
          *(ulong *)(lVar30 + 0x430) = uVar57;
        }
      }
      if (*(char *)(param_1 + 0x278) != '\0') goto LAB_001432c6;
      if (uVar57 < 2) goto LAB_00143056;
LAB_00143313:
      iVar24 = ufbxi_finalize_mesh_material(lVar1,param_1,lVar27);
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
    }
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x488,lVar27,bVar58,1,0x11);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x498,lVar27,bVar58,1,0x13);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x4a8,lVar27,bVar58,1,0x16);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_fetch_deformers(param_1,lVar27 + 0x4b8,lVar27);
    if (iVar24 == 0) {
LAB_001431c5:
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    if ((*(char *)(lVar27 + 0x188) == '\0') && (*(char *)(param_1 + 0x366) == '\0')) {
      if (*(long *)(lVar27 + 0x88) != 0) goto LAB_001431c5;
      *(undefined1 *)(lVar27 + 0x188) = 1;
      *(undefined1 *)(lVar27 + 0x1b8) = 1;
      *(undefined1 *)(lVar27 + 0x3f8) = 1;
      *(undefined1 *)(lVar27 + 0x428) = 1;
    }
    if (*(ulong *)(param_1 + 0x1d50) < *(ulong *)(lVar27 + 0xa8)) {
      *(ulong *)(param_1 + 0x1d50) = *(ulong *)(lVar27 + 0xa8);
    }
  }
  plVar50 = *(long **)(param_1 + 0x1f68);
  plVar36 = plVar50 + *(long *)(param_1 + 0x1f70);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    uVar34 = ufbxi_fetch_dst_element(lVar27,uVar46 < 7000,"LeftCamera",4);
    *(undefined8 *)(lVar27 + 0x80) = uVar34;
    uVar34 = ufbxi_fetch_dst_element(lVar27,uVar46 < 7000,"RightCamera");
    *(undefined8 *)(lVar27 + 0x88) = uVar34;
  }
  lVar30 = *(long *)(param_1 + 0x1f18);
  lVar27 = lVar30 + *(long *)(param_1 + 0x1f20) * 8;
  for (; lVar30 != lVar27; lVar30 = lVar30 + 8) {
    iVar24 = ufbxi_finalize_nurbs_basis(param_1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  plVar50 = *(long **)(param_1 + 0x1f28);
  plVar36 = plVar50 + *(long *)(param_1 + 0x1f30);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    iVar24 = ufbxi_finalize_nurbs_basis(param_1,lVar27 + 0x80);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_finalize_nurbs_basis(param_1,lVar27 + 0xd0);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    uVar34 = ufbxi_fetch_dst_element(lVar27,1,0);
    *(undefined8 *)(lVar27 + 0x150) = uVar34;
  }
  plVar50 = *(long **)(param_1 + 0x2068);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2070);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x90,lVar27,0,1,0x1e);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_push_anim(param_1,lVar27 + 0xa0,*(undefined8 *)(lVar27 + 0x90));
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  plVar50 = *(long **)(param_1 + 0x2078);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2080);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x90,lVar27,0,1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_push_anim(param_1,lVar27 + 0xb0,plVar50,1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    plVar45 = *(long **)(lVar27 + 0x90);
    lVar28 = 0;
    uVar47 = 0xffffffff;
    plVar38 = plVar45 + *(long *)(lVar27 + 0x98);
    lVar30 = param_1 + 0xab0;
    uVar46 = 0;
    for (; plVar45 != plVar38; plVar45 = plVar45 + 1) {
      lVar31 = *plVar45;
      lVar54 = *(long *)(lVar31 + 0x50);
      lVar29 = *(long *)(lVar31 + 0x58) * 0x30 + lVar54;
      for (; lVar54 != lVar29; lVar54 = lVar54 + 0x30) {
        if ((*(long *)(lVar54 + 0x18) == 0) && (*(long *)(lVar54 + 0x28) != 0)) {
          plVar42 = (long *)ufbxi_push_size(lVar30,0x28,1);
          lVar9 = *(long *)(lVar54 + 8);
          uVar26 = *(uint *)(lVar9 + 0x30);
          if (uVar26 < uVar47) {
            uVar47 = uVar26;
          }
          if (uVar46 < uVar26) {
            uVar46 = uVar26;
          }
          puVar6 = (uint *)(lVar27 + 0xc0 + (ulong)(uVar26 >> 5 & 3) * 4);
          *puVar6 = *puVar6 | 1 << ((byte)uVar26 & 0x1f);
          if (plVar42 == (long *)0x0) {
            if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
            return uVar34;
          }
          uVar57 = *(ulong *)(lVar54 + 0x28);
          *plVar42 = lVar9;
          plVar42[4] = lVar31;
          if (uVar57 < 4) {
            uVar26 = 0;
            uVar43 = 0;
            do {
              for (; uVar26 = uVar26 << 8, uVar43 < uVar57; uVar43 = uVar43 + 1) {
                uVar26 = uVar26 | *(byte *)((long)*(uint **)(lVar54 + 0x20) + uVar43);
              }
              uVar43 = uVar43 + 1;
            } while (uVar43 != 4);
          }
          else {
            uVar26 = **(uint **)(lVar54 + 0x20);
            uVar26 = uVar26 >> 0x18 | (uVar26 & 0xff0000) >> 8 | (uVar26 & 0xff00) << 8 |
                     uVar26 << 0x18;
          }
          lVar9 = *(long *)(lVar54 + 0x20);
          lVar8 = *(long *)(lVar54 + 0x28);
          *(uint *)(plVar42 + 1) = uVar26;
          lVar28 = lVar28 + 1;
          plVar42[2] = lVar9;
          plVar42[3] = lVar8;
        }
      }
    }
    if (uVar47 != 0xffffffff) {
      *(uint *)(lVar27 + 0xb8) = uVar47;
      *(uint *)(lVar27 + 0xbc) = uVar46;
    }
    lVar31 = lVar27 + 0x10;
    lVar54 = ufbxi_find_prop_with_key(lVar31,"BlendMode",0x426c656e);
    if ((lVar54 == 0) || (*(long *)(lVar54 + 0x40) == 0)) {
      bVar58 = true;
      uVar22 = 1;
    }
    else {
      bVar58 = *(long *)(lVar54 + 0x40) == 2;
      uVar22 = 0;
    }
    *(bool *)(lVar27 + 0x89) = bVar58;
    *(undefined1 *)(lVar27 + 0x8a) = uVar22;
    lVar54 = ufbxi_find_prop_with_key(lVar31,"Weight",0x57656967);
    if (lVar54 == 0) {
      *(double *)(lVar27 + 0x80) = _LC0;
      bVar23 = 0;
    }
    else {
      dVar59 = *(double *)(lVar54 + 0x48) / _LC9;
      if (dVar59 < 0.0) {
        dVar59 = 0.0;
      }
      else if (__LC271 < dVar59) {
        dVar59 = _LC0;
      }
      *(double *)(lVar27 + 0x80) = dVar59;
      bVar23 = (byte)(*(uint *)(lVar54 + 0x18) >> 0xd) & 1;
    }
    *(byte *)(lVar27 + 0x88) = bVar23;
    lVar54 = ufbxi_find_prop_with_key(lVar31,"RotationAccumulationMode",0x526f7461);
    if (lVar54 == 0) {
      lVar54 = 0;
    }
    else {
      lVar54 = *(long *)(lVar54 + 0x40);
    }
    *(bool *)(lVar27 + 0x8b) = lVar54 == 0;
    lVar31 = ufbxi_find_prop_with_key(lVar31,"ScaleAccumulationMode",0x5363616c);
    if (lVar31 == 0) {
      lVar31 = 0;
    }
    else {
      lVar31 = *(long *)(lVar31 + 0x40);
    }
    *(bool *)(lVar27 + 0x8c) = lVar31 == 0;
    lVar31 = ufbxi_push_size_zero(lVar30,0x28,1);
    if (lVar31 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    lVar30 = ufbxi_push_pop_size(lVar1,lVar30,0x28);
    *(long *)(lVar27 + 0xa0) = lVar30;
    if (lVar30 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    *(long *)(lVar27 + 0xa8) = lVar28;
    iVar24 = ufbxi_sort_anim_props(param_1,lVar30,lVar28);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  plVar50 = *(long **)(param_1 + 0x2088);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2090);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar30 = *plVar50;
    lVar27 = lVar30 + 0x10;
    ufbxi_find_prop_with_key(*(undefined8 *)(lVar30 + 0x80),lVar27,&ufbxi_X,0x58000000);
    lVar28 = ufbxi_find_prop_with_key(lVar27,&ufbxi_d_X,0x647c5800);
    uVar34 = extraout_XMM0_Qa;
    if (lVar28 != 0) {
      uVar34 = *(undefined8 *)(lVar28 + 0x48);
    }
    *(undefined8 *)(lVar30 + 0x80) = uVar34;
    ufbxi_find_prop_with_key(*(undefined8 *)(lVar30 + 0x88),lVar27,&ufbxi_Y,0x59000000);
    lVar28 = ufbxi_find_prop_with_key(lVar27,&ufbxi_d_Y,0x647c5900);
    uVar34 = extraout_XMM0_Qa_00;
    if (lVar28 != 0) {
      uVar34 = *(undefined8 *)(lVar28 + 0x48);
    }
    *(undefined8 *)(lVar30 + 0x88) = uVar34;
    ufbxi_find_prop_with_key(*(undefined8 *)(lVar30 + 0x90),lVar27,&ufbxi_Z,0x5a000000);
    lVar28 = ufbxi_find_prop_with_key(lVar27,&ufbxi_d_Z,0x647c5a00);
    uVar34 = extraout_XMM0_Qa_01;
    if (lVar28 != 0) {
      uVar34 = *(undefined8 *)(lVar28 + 0x48);
    }
    plVar38 = *(long **)(lVar30 + 0x60);
    *(undefined8 *)(lVar30 + 0x90) = uVar34;
    plVar45 = plVar38 + *(long *)(lVar30 + 0x68) * 6;
    for (; plVar38 != plVar45; plVar38 = plVar38 + 6) {
      lVar28 = *plVar38;
      if ((*(int *)(lVar28 + 0x48) == 0x20) && (plVar38[3] == 0)) {
        puVar41 = (undefined4 *)plVar38[4];
        uVar57 = (ulong)(puVar41 == &ufbxi_d_Y || puVar41 == &ufbxi_Y);
        if ((puVar41 == &ufbxi_d_Z) || (puVar41 == &ufbxi_Z)) {
          uVar57 = 2;
        }
        lVar31 = ufbx_find_prop_len(lVar27,puVar41,plVar38[5]);
        if (lVar31 != 0) {
          *(undefined8 *)(lVar30 + 0x80 + uVar57 * 8) = *(undefined8 *)(lVar31 + 0x48);
        }
        *(long *)(lVar30 + 0x98 + uVar57 * 8) = lVar28;
      }
    }
  }
  plVar50 = *(long **)(param_1 + 0x2048);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2050);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,lVar27 + 0x88,lVar27,0,0,0x1c);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    lVar30 = ufbx_find_prop(lVar27 + 0x10);
    if (lVar30 != 0) {
      pcVar7 = *(char **)(lVar30 + 0x20);
      iVar24 = strcmp(pcVar7,"ARNOLD_SHADER_ID");
      if (iVar24 == 0) {
        *(undefined4 *)(lVar27 + 0x80) = 4;
      }
      else {
        iVar24 = strcmp(pcVar7,"OSL");
        if (iVar24 == 0) {
          *(undefined4 *)(lVar27 + 0x80) = 3;
        }
        else {
          iVar24 = strcmp(pcVar7,"SFX_PBS_SHADER");
          if (iVar24 == 0) {
            *(undefined4 *)(lVar27 + 0x80) = 9;
          }
        }
      }
    }
  }
  plVar50 = *(long **)(param_1 + 0x2018);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2020);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    lVar30 = ufbxi_fetch_src_element_constprop_0(lVar27,0x1b);
    pcVar7 = *(char **)(lVar27 + 0x1128);
    *(long *)(lVar27 + 0x1120) = lVar30;
    iVar24 = strcmp(pcVar7,"lambert");
    if ((iVar24 == 0) || (iVar24 = strcmp(pcVar7,"Lambert"), iVar24 == 0)) {
      *(undefined4 *)(lVar27 + 0x1118) = 1;
    }
    else {
      iVar24 = strcmp(pcVar7,"phong");
      if ((iVar24 == 0) || (iVar24 = strcmp(pcVar7,"Phong"), iVar24 == 0)) {
        *(undefined4 *)(lVar27 + 0x1118) = 2;
      }
    }
    if (lVar30 == 0) {
      if (((*(char *)(param_1 + 0x35b) == '\0') || (*(int *)(param_1 + 0x26c) != 2)) ||
         (*(uint *)(param_1 + 0x270) < 0x3d37e0)) {
        if (*(int *)(lVar27 + 0x1118) == 0) {
          iVar24 = ufbx_find_int(lVar27 + 0x10,"3dsMax|ClassIDa",0);
          iVar25 = ufbx_find_int(lVar27 + 0x10,"3dsMax|ClassIDb",0);
          if ((iVar24 == 0x3d6b1cec) && (iVar25 == -0x21523fff)) {
            *(undefined4 *)(lVar27 + 0x1118) = 5;
            *(char **)(lVar27 + 0x1138) = "3dsMax|Parameters|";
            *(undefined8 *)(lVar27 + 0x1140) = 0x12;
          }
          else if ((iVar24 == 0x38420192) && (iVar25 == 0x45fe4e1b)) {
            *(undefined4 *)(lVar27 + 0x1118) = 8;
            *(char **)(lVar27 + 0x1138) = "3dsMax|";
            *(undefined8 *)(lVar27 + 0x1140) = 7;
          }
          else if ((iVar25 != -0x41881b00) || (iVar24 != -0x2ff0e200)) {
            if ((iVar25 == 0x1dbad33) && (iVar24 == -0x2ff0e200)) {
              *(undefined4 *)(lVar27 + 0x1118) = 7;
              *(char **)(lVar27 + 0x1138) = "3dsMax|main|";
              *(undefined8 *)(lVar27 + 0x1140) = 0xc;
            }
          }
          else {
            *(undefined4 *)(lVar27 + 0x1118) = 6;
            *(char **)(lVar27 + 0x1138) = "3dsMax|main|";
            *(undefined8 *)(lVar27 + 0x1140) = 0xc;
          }
        }
      }
      else {
        *(undefined4 *)(lVar27 + 0x1118) = 10;
      }
    }
    else {
      *(undefined4 *)(lVar27 + 0x1118) = *(undefined4 *)(lVar30 + 0x80);
    }
    iVar24 = ufbxi_fetch_textures_constprop_0(param_1,lVar27 + 0x1148,lVar27);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  plVar50 = *(long **)(param_1 + 0x1eb8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x1ec0);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    uVar57 = *(ulong *)(lVar27 + 0x3a8);
    plVar38 = (long *)ufbxi_get_element_extra_isra_0
                                (*(undefined8 *)(param_1 + 0x1b20),*(undefined8 *)(param_1 + 0x1b28)
                                 ,*(undefined4 *)(lVar27 + 0x30));
    if ((uVar57 != 0) && (plVar38 != (long *)0x0)) {
      iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,&local_58,lVar27,1,0,0x19);
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      puVar32 = (undefined8 *)*plVar38;
      lVar28 = 0;
      lVar30 = param_1 + 0xab0;
      puVar51 = puVar32 + plVar38[1] * 5;
      for (; puVar32 != puVar51; puVar32 = puVar32 + 5) {
        if (*(char *)(puVar32 + 4) == '\0') {
          if (*(long *)(lVar27 + 0xf0) != 0) {
            uVar43 = *(ulong *)(lVar27 + 0x90);
            if ((ulong)puVar32[3] < *(ulong *)(lVar27 + 0x90)) {
              uVar43 = puVar32[3];
            }
            uVar47 = 0xffffffff;
            uVar46 = 0xffffffff;
            for (uVar52 = 0; uVar52 != uVar43; uVar52 = uVar52 + 1) {
              uVar26 = *(uint *)(puVar32[2] + uVar52 * 4);
              uVar3 = *(uint *)(*(long *)(lVar27 + 0xe8) + uVar52 * 4);
              if ((((-1 < (int)(uVar26 | uVar3)) && (uVar26 < local_50)) && (uVar3 < uVar57)) &&
                 ((uVar46 != uVar3 || (uVar47 != uVar26)))) {
                puVar40 = (undefined8 *)ufbxi_push_size(lVar30,0x18,1);
                if (puVar40 == (undefined8 *)0x0) {
                  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
                    __stack_chk_fail();
                  }
                  uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                  return uVar34;
                }
                uVar34 = *puVar32;
                uVar33 = puVar32[1];
                *puVar40 = CONCAT44(uVar26,uVar3);
                lVar28 = lVar28 + 1;
                puVar40[1] = uVar34;
                puVar40[2] = uVar33;
                uVar46 = uVar3;
                uVar47 = uVar26;
              }
            }
          }
        }
        else {
          if (puVar32[3] == 0) {
            iVar24 = 0;
          }
          else {
            iVar24 = *(int *)puVar32[2];
            if (iVar24 < 0) goto LAB_00144ed1;
          }
          if ((ulong)(long)iVar24 < local_50) {
            puVar41 = (undefined4 *)ufbxi_push_size(lVar30,0x18,uVar57);
            if (puVar41 == (undefined4 *)0x0) {
              if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
                __stack_chk_fail();
              }
              uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
              return uVar34;
            }
            lVar28 = lVar28 + uVar57;
            uVar43 = 0;
            do {
              uVar34 = *puVar32;
              uVar33 = puVar32[1];
              *puVar41 = (int)uVar43;
              uVar43 = uVar43 + 1;
              puVar41[1] = iVar24;
              *(undefined8 *)(puVar41 + 2) = uVar34;
              *(undefined8 *)(puVar41 + 4) = uVar33;
              puVar41 = puVar41 + 6;
            } while (uVar43 < uVar57);
          }
        }
LAB_00144ed1:
      }
      puVar32 = (undefined8 *)ufbxi_push_size(lVar30,0x18,1);
      uVar34 = _LC324;
      if (puVar32 == (undefined8 *)0x0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      puVar32[2] = 0;
      *puVar32 = uVar34;
      puVar32[1] = &ufbxi_empty_char;
      piVar35 = (int *)ufbxi_push_pop_size(lVar39,lVar30,0x18);
      if (piVar35 == (int *)0x0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      iVar24 = ufbxi_sort_tmp_material_textures(param_1,piVar35,lVar28);
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      lVar29 = 0;
      lVar54 = -2;
      lVar31 = 0;
      iVar24 = -2;
      for (local_98 = 0; local_98 < lVar28 + 1U; local_98 = local_98 + 1) {
        iVar25 = piVar35[1];
        iVar4 = *piVar35;
        lVar9 = *(long *)(piVar35 + 2);
        lVar8 = *(long *)(piVar35 + 4);
        if ((int)lVar54 != iVar4) {
          if ((-1 < (int)lVar54) && (lVar29 != 0)) {
            lVar31 = *(long *)(*(long *)(lVar27 + 0x3a0) + lVar54 * 8);
            if ((lVar31 == 0) || (*(long *)(lVar31 + 0x1150) != 0)) {
              ufbxi_pop_size(lVar30,0x28,lVar29);
            }
            else {
              lVar54 = ufbxi_push_pop_size(lVar1,lVar30,0x28);
              if (lVar54 == 0) {
                if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
                  __stack_chk_fail();
                }
                uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
                return uVar34;
              }
              *(long *)(lVar31 + 0x1148) = lVar54;
              *(long *)(lVar31 + 0x1150) = lVar29;
            }
          }
          if (iVar4 < 0) break;
          lVar29 = 0;
          lVar31 = 0;
          iVar24 = -1;
        }
        if ((lVar31 != lVar9) || (iVar24 != iVar25)) {
          plVar38 = (long *)ufbxi_push_size(lVar30,0x28,1);
          if (plVar38 == (long *)0x0) {
            if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
              __stack_chk_fail();
            }
            uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
            return uVar34;
          }
          lVar29 = lVar29 + 1;
          lVar31 = *(long *)(local_58 + (long)iVar25 * 8);
          *plVar38 = lVar9;
          plVar38[1] = lVar8;
          plVar38[4] = lVar31;
          plVar38[2] = *plVar38;
          plVar38[3] = plVar38[1];
        }
        lVar54 = (long)iVar4;
        piVar35 = piVar35 + 6;
        lVar31 = lVar9;
        iVar24 = iVar25;
      }
    }
  }
  iVar24 = ufbxi_resolve_file_content(param_1);
  if (iVar24 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  plVar50 = *(long **)(param_1 + 0x2028);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2030);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    plVar38 = (long *)ufbxi_get_element_extra_isra_0
                                (*(undefined8 *)(param_1 + 0x1b20),*(undefined8 *)(param_1 + 0x1b28)
                                 ,*(undefined4 *)(lVar27 + 0x30));
    lVar39 = ufbxi_find_prop_with_key(lVar27 + 0x10,"UVSet",0x55565365);
    if (lVar39 == 0) {
      *(undefined1 **)(lVar27 + 0x130) = &ufbxi_empty_char;
      *(undefined8 *)(lVar27 + 0x138) = 0;
    }
    else {
      uVar34 = *(undefined8 *)(lVar39 + 0x28);
      *(undefined8 *)(lVar27 + 0x130) = *(undefined8 *)(lVar39 + 0x20);
      *(undefined8 *)(lVar27 + 0x138) = uVar34;
    }
    lVar39 = ufbxi_fetch_dst_element(lVar27,0,0,0x1a);
    *(long *)(lVar27 + 0xf8) = lVar39;
    if (lVar39 != 0) {
      uVar34 = *(undefined8 *)(lVar39 + 0xe8);
      *(undefined8 *)(lVar27 + 0xe8) = *(undefined8 *)(lVar39 + 0xe0);
      *(undefined8 *)(lVar27 + 0xf0) = uVar34;
    }
    iVar24 = ufbxi_finalize_shader_texture(param_1,lVar27);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_resolve_filenames(param_1,lVar27 + 0x88,lVar27 + 0x98,lVar27 + 0xa8,0);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    iVar24 = ufbxi_resolve_filenames(param_1,lVar27 + 0xb8,lVar27 + 200,lVar27 + 0xd8,1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    if (*(int *)(lVar27 + 0x80) == 1) {
      iVar24 = ufbxi_fetch_texture_layers_isra_0
                         (param_1,lVar27 + 0x108,*(undefined8 *)(lVar27 + 0x60));
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      if (plVar38 != (long *)0x0) {
        uVar57 = *(ulong *)(lVar27 + 0x110);
        uVar43 = plVar38[3];
        if (uVar57 <= (ulong)plVar38[3]) {
          uVar43 = uVar57;
        }
        for (uVar52 = 0; uVar52 != uVar43; uVar52 = uVar52 + 1) {
          *(undefined8 *)(uVar52 * 0x18 + *(long *)(lVar27 + 0x108) + 0x10) =
               *(undefined8 *)(plVar38[2] + uVar52 * 8);
        }
        if ((ulong)plVar38[1] < uVar57) {
          uVar57 = plVar38[1];
        }
        for (uVar43 = 0; uVar43 != uVar57; uVar43 = uVar43 + 1) {
          uVar46 = *(uint *)(*plVar38 + uVar43 * 4);
          if (uVar46 < 0x1e) {
            *(uint *)(uVar43 * 0x18 + *(long *)(lVar27 + 0x108) + 8) = uVar46;
          }
        }
      }
    }
    iVar24 = ufbxi_insert_texture_file(param_1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  ufbxi_propagate_main_textures(param_1 + 0x1bf8);
  iVar24 = ufbxi_pop_texture_files(param_1);
  if (iVar24 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  plVar50 = *(long **)(param_1 + 0x2018);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2020);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    iVar24 = ufbxi_sort_material_textures
                       (param_1,*(undefined8 *)(lVar27 + 0x1148),*(undefined8 *)(lVar27 + 0x1150));
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
    ufbxi_fetch_maps(param_1 + 0x1bf8);
    lVar39 = *(long *)(lVar27 + 0x1120);
    if (lVar39 != 0) {
      plVar45 = *(long **)(lVar39 + 0x88);
      plVar38 = plVar45 + *(long *)(lVar39 + 0x90);
      for (; plVar45 != plVar38; plVar45 = plVar45 + 1) {
        puVar51 = *(undefined8 **)(*plVar45 + 0x80);
        puVar32 = puVar51 + *(long *)(*plVar45 + 0x88) * 4;
LAB_001445b6:
        if (puVar51 != puVar32) {
          uVar57 = *(ulong *)(lVar27 + 0x1150);
          pvVar37 = (void *)puVar51[2];
          lVar39 = *(long *)(lVar27 + 0x1148);
          uVar43 = puVar51[3];
          uVar52 = 0;
          uVar56 = uVar57;
          while (uVar49 = uVar52, 4 < uVar56 - uVar49) {
            lVar30 = (uVar56 - uVar49 >> 1) + uVar49;
            puVar40 = (undefined8 *)(lVar30 * 0x28 + lVar39);
            uVar52 = puVar40[1];
            uVar48 = uVar52;
            if (uVar43 <= uVar52) {
              uVar48 = uVar43;
            }
            iVar24 = memcmp((void *)*puVar40,pvVar37,uVar48);
            if (iVar24 == 0) {
              bVar58 = uVar52 < uVar43;
            }
            else {
              bVar58 = SUB41((uint)iVar24 >> 0x1f,0);
            }
            uVar48 = lVar30 + 1;
            uVar52 = uVar48;
            if (bVar58 == false) {
              uVar52 = uVar49;
              uVar56 = uVar48;
            }
          }
          for (; uVar49 < uVar56; uVar49 = uVar49 + 1) {
            if (*(void **)(lVar39 + uVar49 * 0x28) == pvVar37) goto LAB_001446e5;
          }
          goto LAB_00144707;
        }
      }
    }
  }
  lVar39 = *(long *)(param_1 + 0x20a8);
  lVar27 = lVar39 + *(long *)(param_1 + 0x20b0) * 8;
  for (; lVar39 != lVar27; lVar39 = lVar39 + 8) {
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  lVar39 = *(long *)(param_1 + 0x20b8);
  lVar27 = lVar39 + *(long *)(param_1 + 0x20c0) * 8;
  for (; lVar39 != lVar27; lVar39 = lVar39 + 8) {
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  plVar50 = *(long **)(param_1 + 0x20c8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x20d0);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    lVar30 = ufbxi_fetch_dst_element(lVar27,0,0,1);
    *(long *)(lVar27 + 0x80) = lVar30;
    lVar39 = ufbxi_fetch_dst_element(lVar27,0,0);
    *(long *)(lVar27 + 0x88) = lVar39;
    if (lVar39 == 0) {
      if (lVar30 != 0) {
        lVar39 = *(long *)(lVar30 + 0x98);
        *(long *)(lVar27 + 0x88) = lVar39;
        if (lVar39 != 0) goto LAB_001448ef;
      }
    }
    else {
      if ((lVar30 == 0) && (*(long *)(lVar39 + 0x40) != 0)) {
        *(undefined8 *)(lVar27 + 0x80) = **(undefined8 **)(lVar39 + 0x38);
      }
LAB_001448ef:
      iVar24 = ufbxi_validate_indices(param_1,lVar27 + 0x98,*(undefined8 *)(lVar39 + 0x80));
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      iVar24 = ufbxi_validate_indices(param_1,lVar27 + 0xa8,*(undefined8 *)(lVar39 + 0xa0));
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
      iVar24 = ufbxi_validate_indices(param_1,lVar27 + 0xb8,*(undefined8 *)(lVar39 + 0x90));
      if (iVar24 == 0) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
    }
  }
  plVar50 = *(long **)(param_1 + 0x20e8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x20f0);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    lVar27 = *plVar50;
    lVar39 = *(long *)(param_1 + 0xad8);
    lVar30 = *(long *)(lVar27 + 0x50);
    lVar28 = *(long *)(lVar27 + 0x58) * 0x30 + lVar30;
    for (; lVar30 != lVar28; lVar30 = lVar30 + 0x30) {
      if (((*(long *)(lVar30 + 0x18) != 0) && (*(int *)(*(long *)(lVar30 + 8) + 0x48) == 1)) &&
         (iVar24 = ufbxi_add_constraint_prop
                             (param_1,lVar27,*(long *)(lVar30 + 8),*(undefined8 *)(lVar30 + 0x10)),
         iVar24 == 0)) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
    }
    plVar38 = *(long **)(lVar27 + 0x60);
    plVar45 = plVar38 + *(long *)(lVar27 + 0x68) * 6;
    for (; plVar38 != plVar45; plVar38 = plVar38 + 6) {
      if (((plVar38[5] != 0) && (*(int *)(*plVar38 + 0x48) == 1)) &&
         (iVar24 = ufbxi_add_constraint_prop(param_1,lVar27,*plVar38,plVar38[4]), iVar24 == 0)) {
        if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
          __stack_chk_fail();
        }
        uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
        return uVar34;
      }
    }
    *(long *)(lVar27 + 0xa8) = *(long *)(param_1 + 0xad8) - lVar39;
    lVar39 = ufbxi_push_pop_size(lVar1,param_1 + 0xab0,0x60);
    *(long *)(lVar27 + 0xa0) = lVar39;
    if (lVar39 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  plVar50 = *(long **)(param_1 + 0x20f8);
  plVar36 = plVar50 + *(long *)(param_1 + 0x2100);
  for (; plVar50 != plVar36; plVar50 = plVar50 + 1) {
    iVar24 = ufbxi_fetch_dst_elements_constprop_0(param_1,*plVar50 + 0x80,*plVar50,0,1,0x27);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  puVar51 = *(undefined8 **)(param_1 + 0x1f98);
  puVar32 = puVar51 + *(long *)(param_1 + 0x1fa0);
  for (; puVar51 != puVar32; puVar51 = puVar51 + 1) {
    iVar24 = ufbxi_finalize_lod_group(param_1,*puVar51);
    if (iVar24 == 0) {
      if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
        __stack_chk_fail();
      }
      uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
      return uVar34;
    }
  }
  iVar24 = ufbxi_fetch_file_textures(param_1);
  if (iVar24 == 0) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  if ((*(long *)(param_1 + 0x2080) == 0) &&
     (iVar24 = ufbxi_push_anim(param_1,param_1 + 0x1e90,0,0), iVar24 == 0)) {
    if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
    uVar34 = ufbxi_fail_imp_constprop_0(param_1,&_LC88);
    return uVar34;
  }
  *(undefined8 *)(param_1 + 0x1da0) = *(undefined8 *)(param_1 + 0x21f0);
  iVar24 = *(int *)(param_1 + 0x26c);
  if (*(uint *)(param_1 + 0x268) < 6000) {
    *(double *)(param_1 + 0x1d88) = _LC0;
    if (iVar24 == 3) goto LAB_00144d1a;
  }
  else if (iVar24 == 2) {
    *(undefined8 *)(param_1 + 0x1d88) = _LC325;
  }
  else {
    if (iVar24 == 3) {
      *(double *)(param_1 + 0x1d88) = _LC0;
      goto LAB_00144d1a;
    }
    *(undefined8 *)(param_1 + 0x1d88) = _LC326;
  }
  local_99 = true;
LAB_00144d1a:
  *(bool *)(param_1 + 0x1d90) = local_99;
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return 1;
LAB_001446e5:
  for (; (uVar49 < uVar57 && (*(void **)(lVar39 + 0x10 + uVar49 * 0x28) == pvVar37));
      uVar49 = uVar49 + 1) {
    uVar34 = puVar51[1];
    puVar40 = (undefined8 *)(lVar39 + 0x10 + uVar49 * 0x28);
    *puVar40 = *puVar51;
    puVar40[1] = uVar34;
  }
LAB_00144707:
  puVar51 = puVar51 + 4;
  goto LAB_001445b6;
}



undefined8 ufbxi_load_imp_constprop_0(undefined8 *param_1)

{
  long *plVar1;
  undefined8 uVar2;
  uint uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  char cVar13;
  int iVar14;
  size_t sVar15;
  long lVar16;
  long *plVar17;
  undefined8 uVar18;
  undefined8 *puVar19;
  long lVar20;
  byte bVar21;
  int *piVar22;
  char *pcVar23;
  undefined8 *puVar24;
  long in_FS_OFFSET;
  bool bVar25;
  byte bVar26;
  undefined1 local_5d8 [16];
  undefined1 local_5c8 [16];
  undefined8 local_5b8;
  int local_5a8 [156];
  undefined1 local_338 [760];
  long local_40;
  
  bVar26 = 0;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(char *)(param_1 + 0x526) == '\0') {
    if (*(char *)((long)param_1 + 0x2931) != '\0') {
      sVar15 = param_1[0x528];
      local_5b8 = 0;
      pcVar23 = (char *)param_1[0x527];
      local_5d8 = (undefined1  [16])0x0;
      local_5c8 = (undefined1  [16])0x0;
      bVar25 = sVar15 == 0xffffffffffffffff;
      if (bVar25) {
        sVar15 = strlen(pcVar23);
      }
      if ((param_1[0x71] == 0) || (param_1[0x70] == 0)) {
        param_1[0x70] = pcVar23;
        param_1[0x71] = sVar15;
      }
      local_5a8[0] = 0;
      if ((*(char *)((long)param_1 + 0x369) == '\0') &&
         ((code *)param_1[0x77] != ufbx_default_open_file)) {
        cVar13 = ufbxi_open_file_constprop_0(param_1 + 0x77,local_5d8,pcVar23,sVar15,param_1 + 0xb8)
        ;
        if (cVar13 == '\0') {
LAB_00145e88:
          ufbxi_set_err_info(param_1,pcVar23,sVar15);
LAB_00145d38:
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            pcVar23 = "$File not found";
            goto LAB_00145dae;
          }
          goto LAB_00145f92;
        }
      }
      else {
        ufbxi_begin_file_context(local_338,param_1 + 0xb8,0);
        cVar13 = ufbxi_stdio_open(local_338,local_5d8,pcVar23,sVar15,bVar25);
        ufbxi_end_file_context(local_338);
        if (cVar13 == '\0') {
          if (local_5a8[0] == 0) goto LAB_00145e88;
          piVar22 = local_5a8;
          puVar19 = param_1;
          for (lVar16 = 0x4d; lVar16 != 0; lVar16 = lVar16 + -1) {
            *puVar19 = *(undefined8 *)piVar22;
            piVar22 = piVar22 + ((ulong)bVar26 * -2 + 1) * 2;
            puVar19 = puVar19 + (ulong)bVar26 * -2 + 1;
          }
          goto LAB_00145d38;
        }
      }
      param_1[0xa0] = local_5b8;
      param_1[0x9e] = local_5d8._0_8_;
      param_1[0x9f] = local_5d8._8_8_;
      param_1[0x367] = local_5c8._8_8_;
      param_1[0x368] = local_5c8._0_8_;
    }
    if (((param_1[0x74] == 0) || (param_1[0x361] != 0)) || ((code *)param_1[0x368] == (code *)0x0))
    {
LAB_001457d3:
      if (((((byte)(*(char *)((long)param_1 + 0x36a) - 0x20U) < 0x5f) &&
           (iVar14 = ufbxi_fixup_opts_string(param_1,param_1 + 0x70,0), iVar14 != 0)) &&
          ((iVar14 = ufbxi_fixup_opts_string(param_1,param_1 + 0x96,1), iVar14 != 0 &&
           ((iVar14 = ufbxi_fixup_opts_string(param_1,param_1 + 0x82,1), iVar14 != 0 &&
            (iVar14 = ufbxi_fixup_opts_string(param_1,param_1 + 0x84,1), iVar14 != 0)))))) &&
         (iVar14 = ufbxi_thread_pool_init(param_1 + 0x52a,param_1,param_1 + 0xb8,param_1 + 99),
         iVar14 != 0)) {
        if (*(char *)((long)param_1 + 0x35f) == '\0') {
          if ((*(int *)(param_1 + 0x6c) == 3) || (*(int *)(param_1 + 0x92) == 5)) {
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              pcVar23 = "$Unsafe options";
              goto LAB_00145dae;
            }
            goto LAB_00145f92;
          }
        }
        else {
          *(undefined1 *)((long)param_1 + 0x1c17) = 1;
        }
        if (*(int *)(param_1 + 0x6c) == 1) {
          *(undefined1 *)((long)param_1 + 0x1c14) = 1;
        }
        bVar21 = 0;
        if (*(byte *)(param_1 + 0x6a) == 0) {
          bVar21 = *(byte *)((long)param_1 + 0x359) ^ 1;
        }
        *(byte *)(param_1 + 0x4f) = bVar21;
        param_1[0x385] = &ufbxi_empty_char;
        *(ushort *)((long)param_1 + 0x1c15) =
             CONCAT11(*(undefined1 *)((long)param_1 + 0x364),*(undefined1 *)((long)param_1 + 0x366))
        ;
        param_1[0x500] = _LC0;
        if (param_1[0xa4] == 0) {
          param_1[0xa3] = ufbxi_zero_size_buffer;
          param_1[0xa4] = ufbxi_zero_size_buffer;
        }
        *(byte *)((long)param_1 + 0x1bd2) =
             (*(short *)((long)param_1 + 0x494) == 0 | *(byte *)(param_1 + 0x6a)) ^ 1;
        iVar14 = ufbxi_load_strings(param_1);
        if (((iVar14 != 0) && (iVar14 = ufbxi_load_maps(param_1), iVar14 != 0)) &&
           (iVar14 = ufbxi_determine_format(param_1), iVar14 != 0)) {
          iVar14 = *(int *)(param_1 + 0x382);
          if (iVar14 == 1) {
            iVar14 = ufbxi_begin_parse(param_1);
            if (iVar14 != 0) {
              if (*(uint *)(param_1 + 0x4d) < 6000) {
                iVar14 = ufbxi_read_legacy_root();
              }
              else {
                iVar14 = ufbxi_read_root(param_1);
              }
              if (iVar14 != 0) {
                ufbxi_update_scene_metadata(param_1 + 0x37f);
                iVar14 = ufbxi_init_file_paths(param_1);
                if (iVar14 != 0) goto LAB_0014595e;
              }
            }
          }
          else {
            if ((iVar14 == 2) || (iVar14 == 3)) {
              ufbxi_fmt_err_info(param_1,"UFBX_ENABLE_FORMAT_OBJ");
              iVar14 = ufbxi_fail_imp_constprop_0(param_1,"$Feature disabled");
              if (iVar14 == 0) goto LAB_00145d90;
              ufbxi_update_scene_metadata(param_1 + 0x37f);
            }
LAB_0014595e:
            if ((*(char *)((long)param_1 + 0x495) != '\0') && (param_1[0x431] == 0)) {
              puVar19 = (undefined8 *)ufbxi_push_size_zero(param_1 + 0x34b,0x30,1);
              if (puVar19 == (undefined8 *)0x0) goto LAB_00145d90;
              *puVar19 = &ufbxi_empty_char;
              param_1[0x431] = puVar19;
            }
            iVar14 = ufbxi_pre_finalize_scene(param_1);
            if (iVar14 != 0) {
              ufbxi_buf_free(param_1 + 0x14e);
              iVar14 = ufbxi_finalize_scene(param_1);
              if (iVar14 != 0) {
                ufbxi_update_scene_settings(param_1 + 0x3c1);
                if (*(int *)(param_1 + 0x382) == 2) {
                  ufbxi_update_scene_settings_obj(param_1);
                }
                if ((((*(uint *)(param_1 + 0x7c) < 6) && (*(uint *)((long)param_1 + 0x3e4) < 6)) &&
                    (uVar3 = *(uint *)(param_1 + 0x7d), uVar3 < 6)) &&
                   ((1 << ((byte)(*(uint *)((long)param_1 + 0x3e4) >> 1) & 0x1f) |
                     1 << (*(uint *)(param_1 + 0x7c) >> 1 & 0x1f) | 1 << (uVar3 >> 1 & 0x1f)) == 7))
                {
                  ufbxi_transform_to_axes(param_1,param_1[0x7c],uVar3);
                }
                if (((double)param_1[0x7e] <= 0.0) ||
                   (iVar14 = ufbxi_scale_units(param_1), iVar14 != 0)) {
                  puVar19 = param_1 + 0x37f;
                  ufbxi_update_adjust_transforms(param_1,puVar19);
                  iVar14 = ufbxi_modify_geometry(param_1);
                  if (iVar14 != 0) {
                    ufbxi_postprocess_scene(param_1);
                    ufbxi_update_scene_constprop_0(puVar19);
                    if (param_1[0x3d2] == 0) {
                      uVar18 = ufbxi_push_size_zero(param_1 + 0x34b,0x58,1);
                      param_1[0x3d2] = uVar18;
                    }
                    if ((((*(char *)((long)param_1 + 0x356) == '\0') ||
                         (iVar14 = ufbxi_load_external_files(param_1), iVar14 != 0)) &&
                        ((*(char *)((long)param_1 + 0x354) == '\0' ||
                         (iVar14 = ufbxi_evaluate_skinning_constprop_0(param_1), iVar14 != 0)))) &&
                       ((iVar14 = ufbxi_pop_warnings(param_1 + 0x501,puVar19,param_1 + 899),
                        iVar14 != 0 &&
                        (iVar14 = ufbxi_resolve_warning_elements(param_1), iVar14 != 0)))) {
                      *(undefined4 *)((long)param_1 + 0x1c0c) = *(undefined4 *)(param_1 + 0x4d);
                      *(undefined1 *)(param_1 + 0x381) = *(undefined1 *)((long)param_1 + 0x274);
                      *(undefined1 *)(param_1 + 0x387) = *(undefined1 *)((long)param_1 + 0x276);
                      *(undefined2 *)(param_1 + 0x3a9) = *(undefined2 *)(param_1 + 0x6a);
                      *(undefined1 *)((long)param_1 + 0x1d4a) =
                           *(undefined1 *)((long)param_1 + 0x352);
                      lVar16 = ufbxi_push_size(param_1 + 0x34b,0x748,1);
                      if (lVar16 != 0) {
                        lVar20 = 0xb3;
                        ufbxi_init_ref(lVar16,0x58424655,0);
                        uVar2 = param_1[0xa7];
                        uVar4 = param_1[0xa8];
                        uVar5 = param_1[0xa9];
                        uVar6 = param_1[0xaa];
                        uVar7 = param_1[0xab];
                        uVar8 = param_1[0xac];
                        uVar9 = param_1[0xad];
                        uVar10 = param_1[0xae];
                        *(undefined4 *)(lVar16 + 0x700) = 0x58424655;
                        uVar11 = param_1[0xaf];
                        uVar12 = param_1[0xb0];
                        uVar18 = param_1[0xb7];
                        puVar24 = (undefined8 *)(lVar16 + 0x168);
                        for (; lVar20 != 0; lVar20 = lVar20 + -1) {
                          *puVar24 = *puVar19;
                          puVar19 = puVar19 + (ulong)bVar26 * -2 + 1;
                          puVar24 = puVar24 + (ulong)bVar26 * -2 + 1;
                        }
                        *(undefined8 *)(lVar16 + 0x58) = uVar2;
                        *(undefined8 *)(lVar16 + 0x60) = uVar4;
                        uVar2 = param_1[0xb1];
                        uVar4 = param_1[0xb2];
                        *(undefined8 *)(lVar16 + 0x68) = uVar5;
                        *(undefined8 *)(lVar16 + 0x70) = uVar6;
                        uVar5 = param_1[0xb3];
                        uVar6 = param_1[0xb4];
                        *(undefined8 *)(lVar16 + 0x78) = uVar7;
                        *(undefined8 *)(lVar16 + 0x80) = uVar8;
                        uVar7 = param_1[0xb5];
                        uVar8 = param_1[0xb6];
                        *(undefined8 *)(lVar16 + 0x88) = uVar9;
                        *(undefined8 *)(lVar16 + 0x90) = uVar10;
                        uVar9 = param_1[0x34b];
                        uVar10 = param_1[0x34c];
                        *(undefined8 *)(lVar16 + 0x98) = uVar11;
                        *(undefined8 *)(lVar16 + 0xa0) = uVar12;
                        uVar11 = param_1[0x34d];
                        uVar12 = param_1[0x34e];
                        *(undefined8 *)(lVar16 + 0xa8) = uVar2;
                        *(undefined8 *)(lVar16 + 0xb0) = uVar4;
                        uVar2 = param_1[0x34f];
                        uVar4 = param_1[0x350];
                        *(undefined8 *)(lVar16 + 0xb8) = uVar5;
                        *(undefined8 *)(lVar16 + 0xc0) = uVar6;
                        uVar5 = param_1[0x351];
                        uVar6 = param_1[0x352];
                        *(undefined8 *)(lVar16 + 200) = uVar7;
                        *(undefined8 *)(lVar16 + 0xd0) = uVar8;
                        uVar7 = param_1[0x32d];
                        uVar8 = param_1[0x32e];
                        *(undefined8 *)(lVar16 + 0xd8) = uVar18;
                        *(undefined8 *)(lVar16 + 0x18) = uVar9;
                        *(undefined8 *)(lVar16 + 0x20) = uVar10;
                        *(undefined8 *)(lVar16 + 0x28) = uVar11;
                        *(undefined8 *)(lVar16 + 0x30) = uVar12;
                        *(long *)(lVar16 + 0x18) = lVar16 + 0x58;
                        *(undefined8 *)(lVar16 + 0x58) = 0;
                        *(undefined8 *)(lVar16 + 0x38) = uVar2;
                        *(undefined8 *)(lVar16 + 0x40) = uVar4;
                        *(undefined8 *)(lVar16 + 0x48) = uVar5;
                        *(undefined8 *)(lVar16 + 0x50) = uVar6;
                        *(undefined8 *)(lVar16 + 0x708) = uVar7;
                        *(undefined8 *)(lVar16 + 0x710) = uVar8;
                        uVar18 = param_1[0x32f];
                        uVar2 = param_1[0x330];
                        uVar4 = param_1[0x331];
                        uVar5 = param_1[0x332];
                        uVar6 = param_1[0x333];
                        uVar7 = param_1[0x334];
                        *(long *)(lVar16 + 0x708) = lVar16 + 0x58;
                        plVar17 = *(long **)(lVar16 + 0x6b8);
                        *(undefined8 *)(lVar16 + 0x718) = uVar18;
                        *(undefined8 *)(lVar16 + 0x720) = uVar2;
                        uVar18 = param_1[0xbb];
                        *(undefined8 *)(lVar16 + 0x728) = uVar4;
                        *(undefined8 *)(lVar16 + 0x730) = uVar5;
                        uVar2 = param_1[0xb9];
                        *(undefined8 *)(lVar16 + 0x738) = uVar6;
                        *(undefined8 *)(lVar16 + 0x740) = uVar7;
                        plVar1 = plVar17 + *(long *)(lVar16 + 0x6c0);
                        *(undefined8 *)(lVar16 + 0x2c8) = *(undefined8 *)(lVar16 + 0x60);
                        *(undefined8 *)(lVar16 + 0x2d0) = uVar2;
                        *(undefined8 *)(lVar16 + 0x2d8) = *(undefined8 *)(lVar16 + 0x70);
                        *(undefined8 *)(lVar16 + 0x2e0) = uVar18;
                        for (; plVar17 != plVar1; plVar17 = plVar17 + 1) {
                          *(undefined8 **)(*plVar17 + 0x78) = (undefined8 *)(lVar16 + 0x168);
                        }
                        param_1[0x432] = lVar16;
                        uVar18 = 1;
                        goto LAB_00145dd2;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    else {
      lVar16 = (*(code *)param_1[0x368])(param_1[0xa0]);
      if (lVar16 != -1) {
        param_1[0x361] = lVar16;
        goto LAB_001457d3;
      }
    }
LAB_00145d90:
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      pcVar23 = "";
LAB_00145dae:
      uVar18 = ufbxi_fail_imp_constprop_0(param_1,pcVar23);
      return uVar18;
    }
  }
  else {
    uVar18 = 0;
LAB_00145dd2:
    if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
      return uVar18;
    }
  }
LAB_00145f92:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



long ufbxi_load(long param_1,undefined8 *param_2,long param_3)

{
  undefined4 uVar1;
  int iVar2;
  long lVar3;
  long *plVar4;
  long *plVar5;
  long lVar6;
  long lVar7;
  undefined8 *puVar8;
  undefined2 uVar9;
  long in_FS_OFFSET;
  byte bVar10;
  undefined1 local_2038 [8200];
  long local_30;
  
  bVar10 = 0;
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  *(undefined1 *)(param_1 + 0x275) = 0;
  lVar6 = param_1;
  uVar1 = ufbxi_parse_double_init_flags();
  *(undefined4 *)(lVar6 + 0x27c) = uVar1;
  uVar9 = _LC263;
  if (param_2 == (undefined8 *)0x0) {
    puVar8 = (undefined8 *)(lVar6 + 0x280);
    for (lVar7 = 0x4d; lVar7 != 0; lVar7 = lVar7 + -1) {
      *puVar8 = 0;
      puVar8 = puVar8 + (ulong)bVar10 * -2 + 1;
    }
  }
  else {
    puVar8 = (undefined8 *)(lVar6 + 0x280);
    for (lVar7 = 0x4d; lVar7 != 0; lVar7 = lVar7 + -1) {
      *puVar8 = *param_2;
      param_2 = param_2 + (ulong)bVar10 * -2 + 1;
      puVar8 = puVar8 + (ulong)bVar10 * -2 + 1;
    }
    if (*(long *)(param_1 + 0x370) != 0) {
      *(long *)(param_1 + 0x1b08) = *(long *)(param_1 + 0x370);
    }
    uVar9 = _LC263;
    if (*(char *)(param_1 + 0x353) != '\0') {
      *(undefined2 *)(param_1 + 0x350) = _LC263;
      *(undefined1 *)(param_1 + 0x352) = 1;
    }
  }
  lVar6 = param_1 + 0x5c0;
  local_2038[0] = 0;
  lVar7 = param_1 + 0x538;
  ufbxi_init_ator(param_1,lVar6,param_1 + 0x288,&_LC274);
  ufbxi_init_ator(param_1,lVar7,param_1 + 0x2d0,"result");
  if (*(long *)(param_1 + 0x378) == 0) {
    *(undefined8 *)(param_1 + 0x378) = 0x4000;
  }
  if (*(ulong *)(param_1 + 0x4a0) == 0) {
    *(undefined8 *)(param_1 + 0x4a0) = 0x4000;
  }
  else if (*(ulong *)(param_1 + 0x4a0) < 0x20) {
    *(undefined8 *)(param_1 + 0x4a0) = 0x20;
  }
  if (*(char *)(param_1 + 0x36a) == '\0') {
    *(undefined1 *)(param_1 + 0x36a) = 0x2f;
  }
  lVar3 = -1;
  if (((*(long *)(param_1 + 0x3a0) != 0) && (lVar3 = *(long *)(param_1 + 0x3b0), lVar3 != -1)) &&
     (lVar3 == 0)) {
    lVar3 = 0x4000;
  }
  *(long *)(param_1 + 0x1b18) = lVar3;
  if (*(long *)(param_1 + 0x3b8) == 0) {
    *(code **)(param_1 + 0x3b8) = ufbx_default_open_file;
  }
  if (*(long *)(param_1 + 0x348) == 0) {
    *(undefined8 *)(param_1 + 0x348) = 0x2000000;
  }
  *(long *)(param_1 + 0x1960) = param_1;
  ufbxi_map_init_constprop_0(param_1 + 0x19a8,lVar6,ufbxi_map_cmp_string,ufbxi_map_cmp_uint64);
  *(long *)(param_1 + 0x1968) = lVar7;
  *(undefined1 *)(param_1 + 0x19a0) = 1;
  *(undefined4 *)(param_1 + 0x1a48) = *(undefined4 *)(param_1 + 0x490);
  *(undefined8 *)(param_1 + 0x1a30) = 0x400;
  ufbxi_map_init_constprop_0(param_1 + 0x648);
  ufbxi_map_init_constprop_0(param_1 + 0x6d0);
  ufbxi_map_init_constprop_0(param_1 + 0x758);
  ufbxi_map_init_constprop_0(param_1 + 0x7e0);
  ufbxi_map_init_constprop_0(param_1 + 0x868);
  ufbxi_map_init_constprop_0(param_1 + 0x8f0);
  plVar4 = (long *)ufbxi_map_init_constprop_0(param_1 + 0x978);
  *(long *)(param_1 + 0xa30) = lVar6;
  *(long *)(param_1 + 0xa70) = lVar6;
  *(long *)(param_1 + 0xab0) = lVar6;
  *(long *)(param_1 + 0xaf0) = lVar6;
  *(long *)(param_1 + 0xb30) = lVar6;
  *(long *)(param_1 + 0xb70) = lVar6;
  *(long *)(param_1 + 0xbb0) = lVar6;
  *(long *)(param_1 + 0xbf0) = lVar6;
  *(long *)(param_1 + 0xc30) = lVar6;
  do {
    *plVar4 = lVar6;
    plVar5 = plVar4 + 0x10;
    plVar4[8] = lVar6;
    plVar4 = plVar5;
  } while (plVar5 != (long *)(param_1 + 0x16f0));
  *(long *)(param_1 + 0x16f0) = lVar6;
  *(long *)(param_1 + 0x1730) = lVar6;
  *(long *)(param_1 + 6000) = lVar6;
  *(long *)(param_1 + 0x17b0) = lVar6;
  *(long *)(param_1 + 0x17f0) = lVar6;
  plVar4 = (long *)(param_1 + 0x1830);
  do {
    *plVar4 = lVar6;
    plVar5 = plVar4 + 8;
    *(undefined2 *)(plVar4 + 7) = uVar9;
    plVar4 = plVar5;
  } while (plVar5 != (long *)(param_1 + 0x1930));
  *(long *)(param_1 + 0x2818) = lVar6;
  *(long *)(param_1 + 0x2810) = param_1 + 0x1a58;
  *(long *)(param_1 + 0x1a50) = param_1 + 0x2808;
  *(undefined1 **)(param_1 + 0xa10) = ufbxi_zero_size_buffer;
  *(long *)(param_1 + 0x1a58) = lVar7;
  *(undefined1 *)(param_1 + 0xa68) = 1;
  *(undefined2 *)(param_1 + 0xaa8) = uVar9;
  *(undefined1 *)(param_1 + 0x1a90) = 1;
  *(long *)(param_1 + 0x2808) = param_1;
  *(undefined1 **)(param_1 + 0x2198) = local_2038;
  iVar2 = ufbxi_load_imp_constprop_0(param_1);
  if (*(code **)(param_1 + 0x1b38) != (code *)0x0) {
    (**(code **)(param_1 + 0x1b38))(*(undefined8 *)(param_1 + 0x500));
  }
  ufbxi_free_temp(param_1);
  if (iVar2 == 0) {
    ufbxi_fix_error_type(param_1,"Failed to load",param_3);
    ufbxi_free_result(param_1);
    lVar6 = 0;
  }
  else {
    if (param_3 != 0) {
      ufbxi_clear_error(param_3);
    }
    lVar6 = *(long *)(param_1 + 0x2190) + 0x168;
  }
  if (local_30 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return lVar6;
}



void ufbx_load_memory(undefined8 param_1,undefined8 param_2,int *param_3,undefined8 param_4)

{
  void *pvVar1;
  long in_FS_OFFSET;
  undefined1 local_2a18 [1304];
  undefined8 local_2500;
  undefined8 uStack_24f8;
  undefined8 local_24e8;
  undefined8 local_f10;
  long local_20;
  
  local_20 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_3 == (int *)0x0) || (*param_3 == 0 && param_3[0x99] == 0)) {
    pvVar1 = memset(local_2a18,0,0x29f0);
    local_2500 = param_1;
    uStack_24f8 = param_1;
    local_24e8 = param_2;
    local_f10 = param_2;
    ufbxi_load(pvVar1,param_3,param_4);
    if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else if (local_20 == *(long *)(in_FS_OFFSET + 0x28)) {
    ufbxi_uninitialized_options(param_4);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_load_file_len(undefined8 param_1,undefined8 param_2,int *param_3,undefined8 param_4)

{
  void *pvVar1;
  long in_FS_OFFSET;
  undefined1 auStack_2a28 [10545];
  undefined1 local_f7;
  undefined8 local_f0;
  undefined8 local_e8;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_3 == (int *)0x0) || (*param_3 == 0 && param_3[0x99] == 0)) {
    pvVar1 = memset(auStack_2a28,0,0x29f0);
    local_f7 = 1;
    local_f0 = param_1;
    local_e8 = param_2;
    ufbxi_load(pvVar1,param_3,param_4);
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    ufbxi_uninitialized_options(param_4);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_load_file(undefined8 param_1,undefined8 param_2,undefined8 param_3)

{
  ufbx_load_file_len(param_1,0xffffffffffffffff,param_2,param_3);
  return;
}



void ufbx_load_stream_prefix
               (undefined8 *param_1,undefined8 param_2,undefined8 param_3,int *param_4,
               undefined8 param_5)

{
  void *pvVar1;
  long in_FS_OFFSET;
  undefined1 local_2a28 [1264];
  undefined8 local_2538;
  undefined8 uStack_2530;
  undefined8 local_2528;
  undefined8 local_2510;
  undefined8 uStack_2508;
  undefined8 local_24f8;
  undefined8 local_ef0;
  undefined8 uStack_ee8;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if ((param_4 == (int *)0x0) || (*param_4 == 0 && param_4[0x99] == 0)) {
    pvVar1 = memset(local_2a28,0,0x29f0);
    local_2538 = *param_1;
    uStack_2530 = param_1[1];
    local_2528 = param_1[4];
    uStack_ee8 = param_1[2];
    local_ef0 = param_1[3];
    local_2510 = param_2;
    uStack_2508 = param_2;
    local_24f8 = param_3;
    ufbxi_load(pvVar1,param_4,param_5);
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
  else if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    ufbxi_uninitialized_options(param_5);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8
ufbx_load_stdio_prefix
          (long param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4,undefined8 param_5)

{
  undefined8 uVar1;
  long in_FS_OFFSET;
  undefined1 auStack_38 [40];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 == 0) {
    uVar1 = 0;
  }
  else {
    ufbxi_stdio_init(auStack_38,param_1,0,param_4,param_5,param_3);
    uVar1 = ufbx_load_stream_prefix();
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_load_stream(undefined8 param_1,undefined8 param_2,undefined8 param_3)

{
  ufbx_load_stream_prefix(param_1,0,0,param_2,param_3);
  return;
}



undefined8 ufbx_load_stdio(long param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4)

{
  undefined8 uVar1;
  long in_FS_OFFSET;
  undefined1 auStack_38 [40];
  long local_10;
  
  local_10 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1 == 0) {
    uVar1 = 0;
  }
  else {
    ufbxi_stdio_init(auStack_38,param_1,0,param_4,param_3,param_2);
    uVar1 = ufbx_load_stream_prefix();
  }
  if (local_10 == *(long *)(in_FS_OFFSET + 0x28)) {
    return uVar1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



undefined8 ufbx_find_prop_element(long param_1,char *param_2,undefined4 param_3)

{
  size_t sVar1;
  undefined8 *puVar2;
  undefined8 uVar3;
  
  sVar1 = strlen(param_2);
  puVar2 = (undefined8 *)ufbx_find_prop_len(param_1 + 0x10,param_2,sVar1);
  if ((param_1 != 0) && (puVar2 != (undefined8 *)0x0)) {
    uVar3 = ufbxi_fetch_dst_element(param_1,0,*puVar2,param_3);
    return uVar3;
  }
  return 0;
}



void ufbx_find_element(undefined8 param_1,undefined4 param_2,char *param_3)

{
  size_t sVar1;
  
  sVar1 = strlen(param_3);
  ufbx_find_element_len(param_1,param_2,param_3,sVar1);
  return;
}



void ufbx_find_node(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_element_len(param_1,1,param_2,sVar1);
  return;
}



void ufbx_find_anim_stack(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_element_len(param_1,0x1d,param_2,sVar1);
  return;
}



void ufbx_find_material(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_element_len(param_1,0x18,param_2,sVar1);
  return;
}



void ufbx_find_anim_prop(undefined8 param_1,undefined8 param_2,char *param_3)

{
  size_t sVar1;
  
  sVar1 = strlen(param_3);
  ufbx_find_anim_prop_len(param_1,param_2,param_3,sVar1);
  return;
}



undefined8
ufbx_evaluate_prop(undefined8 param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4,
                  char *param_5)

{
  long lVar1;
  size_t sVar2;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  sVar2 = strlen(param_5);
  ufbx_evaluate_prop_len(param_1,param_2,param_3,param_4,param_5,sVar2);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_2;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_find_prop_texture(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_prop_texture_len(param_1,param_2,sVar1);
  return;
}



undefined1 * ufbx_find_shader_prop(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  undefined1 *puVar2;
  undefined1 auVar3 [16];
  
  sVar1 = strlen(param_2);
  auVar3 = ufbx_find_shader_prop_bindings_len(param_1,param_2,sVar1);
  puVar2 = &ufbxi_empty_char;
  if (auVar3._8_8_ != 0) {
    puVar2 = *(undefined1 **)(auVar3._0_8_ + 0x10);
  }
  return puVar2;
}



void ufbx_find_shader_prop_bindings(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_shader_prop_bindings_len(param_1,param_2,sVar1);
  return;
}



void ufbx_find_shader_texture_input(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_find_shader_texture_input_len(param_1,param_2,sVar1);
  return;
}



void ufbx_dom_find(undefined8 param_1,char *param_2)

{
  size_t sVar1;
  
  sVar1 = strlen(param_2);
  ufbx_dom_find_len(param_1,param_2,sVar1);
  return;
}



void ufbx_triangulate_face
               (undefined8 param_1,undefined8 param_2,undefined8 param_3,undefined8 param_4)

{
  ufbx_catch_triangulate_face(0,param_1,param_2,param_3,param_4);
  return;
}



void ufbx_compute_topology(long param_1,undefined8 param_2,ulong param_3)

{
  if (*(ulong *)(param_1 + 0x88) <= param_3) {
    ufbxi_compute_topology();
    return;
  }
  ufbxi_panicf_imp(0,"Required mesh.num_indices (%zu) indices, got %zu");
  return;
}



undefined4 ufbx_topo_next_vertex_edge(long param_1,ulong param_2,ulong param_3)

{
  uint uVar1;
  
  if ((int)param_3 == -1) {
    return 0xffffffff;
  }
  if ((param_3 & 0xffffffff) < param_2) {
    uVar1 = *(uint *)(param_1 + 0xc + (param_3 & 0xffffffff) * 0x1c);
    if (uVar1 != 0xffffffff) {
      if (uVar1 < param_2) {
        return *(undefined4 *)(param_1 + 4 + (ulong)uVar1 * 0x1c);
      }
      ufbxi_panicf_imp(0,"Corrupted topology structure");
    }
  }
  else {
    ufbxi_panicf_imp(0,"index (%u) out of bounds (%zu)",param_3,param_2);
  }
  return 0xffffffff;
}



undefined4 ufbx_topo_prev_vertex_edge(long param_1,ulong param_2,ulong param_3)

{
  if ((int)param_3 == -1) {
    return 0xffffffff;
  }
  if ((param_3 & 0xffffffff) < param_2) {
    return *(undefined4 *)
            (param_1 + 0xc + (ulong)*(uint *)(param_1 + 8 + (param_3 & 0xffffffff) * 0x1c) * 0x1c);
  }
  ufbxi_panicf_imp(0,"index (%u) out of bounds (%zu)",param_3,param_2);
  return 0xffffffff;
}



undefined8 ufbx_get_weighted_face_normal(undefined8 param_1,undefined8 param_2,undefined8 param_3)

{
  long lVar1;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  ufbx_catch_get_weighted_face_normal(param_1,0,param_2,param_3);
  if (lVar1 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



void ufbx_euler_to_quat_cold(void)

{
  FUN_00132988(0,_LC0);
  return;
}



void ufbx_quat_to_euler_cold(void)

{
  FUN_00134a89(0,0);
  return;
}
