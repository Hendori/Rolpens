
/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__adjust_heap<embree::PrimRefMB*, long, embree::PrimRefMB,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRefMB*, long, long, embree::PrimRefMB,
   __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::__adjust_heap<embree::PrimRefMB*,long,embree::PrimRefMB,__gnu_cxx::__ops::_Iter_less_iter>
               (long param_1,long param_2,ulong param_3,undefined4 *param_4)

{
  long lVar1;
  undefined8 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 uVar15;
  long lVar16;
  undefined8 *puVar17;
  long lVar18;
  undefined8 *puVar19;
  long lVar20;
  long lVar21;
  
  lVar21 = (long)(param_3 - 1) / 2;
  lVar20 = param_2;
  if (param_2 < lVar21) {
    do {
      lVar18 = (lVar20 + 1) * 2;
      lVar16 = (lVar20 + 1) * 0xa0;
      lVar1 = param_1 + -0x50 + lVar16;
      puVar17 = (undefined8 *)(lVar16 + param_1);
      if (CONCAT44(*(undefined4 *)((long)puVar17 + 0x1c),*(undefined4 *)((long)puVar17 + 0xc)) <
          CONCAT44(*(undefined4 *)(lVar1 + 0x1c),*(undefined4 *)(lVar1 + 0xc))) {
        lVar18 = lVar18 + -1;
        puVar17 = (undefined8 *)(lVar18 * 0x50 + param_1);
      }
      uVar2 = puVar17[1];
      puVar19 = (undefined8 *)(lVar20 * 0x50 + param_1);
      *puVar19 = *puVar17;
      puVar19[1] = uVar2;
      uVar2 = puVar17[3];
      puVar19[2] = puVar17[2];
      puVar19[3] = uVar2;
      uVar2 = puVar17[5];
      puVar19[4] = puVar17[4];
      puVar19[5] = uVar2;
      uVar2 = puVar17[7];
      puVar19[6] = puVar17[6];
      puVar19[7] = uVar2;
      *(undefined4 *)(puVar19 + 8) = *(undefined4 *)(puVar17 + 8);
      *(undefined4 *)((long)puVar19 + 0x44) = *(undefined4 *)((long)puVar17 + 0x44);
      lVar20 = lVar18;
    } while (lVar18 < lVar21);
  }
  else {
    puVar17 = (undefined8 *)(param_2 * 0x50 + param_1);
    lVar18 = param_2;
  }
  if (((param_3 & 1) == 0) && ((long)(param_3 - 2) / 2 == lVar18)) {
    lVar20 = lVar18 + 1;
    lVar18 = lVar20 * 2 + -1;
    puVar19 = (undefined8 *)(param_1 + -0x50 + lVar20 * 0xa0);
    uVar2 = puVar19[1];
    *puVar17 = *puVar19;
    puVar17[1] = uVar2;
    uVar2 = puVar19[3];
    puVar17[2] = puVar19[2];
    puVar17[3] = uVar2;
    uVar2 = puVar19[5];
    puVar17[4] = puVar19[4];
    puVar17[5] = uVar2;
    uVar2 = puVar19[7];
    puVar17[6] = puVar19[6];
    puVar17[7] = uVar2;
    *(undefined4 *)(puVar17 + 8) = *(undefined4 *)(puVar19 + 8);
    *(undefined4 *)((long)puVar17 + 0x44) = *(undefined4 *)((long)puVar19 + 0x44);
    puVar17 = (undefined8 *)(lVar18 * 0x50 + param_1);
  }
  uVar3 = *param_4;
  uVar4 = param_4[1];
  uVar5 = param_4[2];
  uVar6 = param_4[3];
  uVar7 = param_4[4];
  uVar8 = param_4[5];
  uVar9 = param_4[6];
  uVar10 = param_4[7];
  uVar11 = *(undefined8 *)(param_4 + 8);
  uVar12 = *(undefined8 *)(param_4 + 10);
  uVar13 = *(undefined8 *)(param_4 + 0xc);
  uVar14 = *(undefined8 *)(param_4 + 0xe);
  uVar2 = *(undefined8 *)(param_4 + 0x10);
  lVar20 = (lVar18 + -1) - (lVar18 + -1 >> 0x3f);
  if (param_2 < lVar18) {
    do {
      lVar21 = lVar20 >> 1;
      puVar19 = (undefined8 *)(lVar21 * 0x50 + param_1);
      puVar17 = (undefined8 *)(lVar18 * 0x50 + param_1);
      if (CONCAT44(uVar10,uVar6) <=
          CONCAT44(*(undefined4 *)((long)puVar19 + 0x1c),*(undefined4 *)((long)puVar19 + 0xc)))
      break;
      uVar15 = puVar19[1];
      *puVar17 = *puVar19;
      puVar17[1] = uVar15;
      uVar15 = puVar19[3];
      puVar17[2] = puVar19[2];
      puVar17[3] = uVar15;
      uVar15 = puVar19[5];
      puVar17[4] = puVar19[4];
      puVar17[5] = uVar15;
      uVar15 = puVar19[7];
      puVar17[6] = puVar19[6];
      puVar17[7] = uVar15;
      *(undefined4 *)(puVar17 + 8) = *(undefined4 *)(puVar19 + 8);
      *(undefined4 *)((long)puVar17 + 0x44) = *(undefined4 *)((long)puVar19 + 0x44);
      lVar20 = (lVar21 + -1) - (lVar21 + -1 >> 0x3f);
      puVar17 = puVar19;
      lVar18 = lVar21;
    } while (param_2 < lVar21);
  }
  puVar17[8] = uVar2;
  *(undefined4 *)puVar17 = uVar3;
  *(undefined4 *)((long)puVar17 + 4) = uVar4;
  *(undefined4 *)(puVar17 + 1) = uVar5;
  *(undefined4 *)((long)puVar17 + 0xc) = uVar6;
  *(undefined4 *)(puVar17 + 2) = uVar7;
  *(undefined4 *)((long)puVar17 + 0x14) = uVar8;
  *(undefined4 *)(puVar17 + 3) = uVar9;
  *(undefined4 *)((long)puVar17 + 0x1c) = uVar10;
  puVar17[4] = uVar11;
  puVar17[5] = uVar12;
  puVar17[6] = uVar13;
  puVar17[7] = uVar14;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__insertion_sort<embree::PrimRefMB*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRefMB*, embree::PrimRefMB*,
   __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined8 *param_1,undefined8 *param_2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 *puVar15;
  undefined8 *puVar16;
  ulong uVar17;
  undefined8 *puVar18;
  undefined8 *puVar19;
  
  if (param_1 != param_2) {
    puVar18 = param_1 + 10;
    while (puVar19 = puVar18, param_2 != puVar18) {
      while( true ) {
        puVar18 = puVar19 + 10;
        uVar3 = *(undefined4 *)puVar19;
        uVar4 = *(undefined4 *)((long)puVar19 + 4);
        uVar5 = *(undefined4 *)(puVar19 + 1);
        uVar6 = *(undefined4 *)((long)puVar19 + 0xc);
        uVar7 = *(undefined4 *)(puVar19 + 2);
        uVar8 = *(undefined4 *)((long)puVar19 + 0x14);
        uVar9 = *(undefined4 *)(puVar19 + 3);
        uVar10 = *(undefined4 *)((long)puVar19 + 0x1c);
        uVar11 = puVar19[4];
        uVar12 = puVar19[5];
        uVar13 = puVar19[6];
        uVar14 = puVar19[7];
        uVar1 = *(undefined4 *)(puVar19 + 8);
        uVar2 = *(undefined4 *)((long)puVar19 + 0x44);
        if (CONCAT44(*(undefined4 *)((long)param_1 + 0x1c),*(undefined4 *)((long)param_1 + 0xc)) <=
            CONCAT44(*(undefined4 *)((long)puVar19 + 0x1c),*(undefined4 *)((long)puVar19 + 0xc)))
        break;
        if (0 < (long)puVar19 - (long)param_1) {
          puVar15 = puVar19;
          do {
            puVar16 = puVar15 + -10;
            *puVar15 = puVar15[-10];
            puVar15[1] = puVar15[-9];
            *(undefined4 *)(puVar15 + 8) = *(undefined4 *)(puVar15 + -2);
            puVar15[2] = puVar15[-8];
            puVar15[3] = puVar15[-7];
            *(undefined4 *)((long)puVar15 + 0x44) = *(undefined4 *)((long)puVar15 + -0xc);
            puVar15[4] = puVar15[-6];
            puVar15[5] = puVar15[-5];
            puVar15[6] = puVar15[-4];
            puVar15[7] = puVar15[-3];
            puVar15 = puVar16;
          } while (puVar16 != puVar19 + ((long)puVar19 - (long)param_1 >> 4) * -2);
        }
        *(undefined4 *)param_1 = uVar3;
        *(undefined4 *)((long)param_1 + 4) = uVar4;
        *(undefined4 *)(param_1 + 1) = uVar5;
        *(undefined4 *)((long)param_1 + 0xc) = uVar6;
        *(undefined4 *)(param_1 + 2) = uVar7;
        *(undefined4 *)((long)param_1 + 0x14) = uVar8;
        *(undefined4 *)(param_1 + 3) = uVar9;
        *(undefined4 *)((long)param_1 + 0x1c) = uVar10;
        param_1[4] = uVar11;
        param_1[5] = uVar12;
        param_1[6] = uVar13;
        param_1[7] = uVar14;
        *(undefined4 *)(param_1 + 8) = uVar1;
        *(undefined4 *)((long)param_1 + 0x44) = uVar2;
        puVar19 = puVar18;
        if (param_2 == puVar18) {
          return;
        }
      }
      uVar17 = CONCAT44(*(undefined4 *)((long)puVar19 + -0x34),
                        *(undefined4 *)((long)puVar19 + -0x44));
      while (CONCAT44(uVar10,uVar6) < uVar17) {
        puVar19[2] = puVar19[-8];
        puVar19[3] = puVar19[-7];
        *puVar19 = puVar19[-10];
        puVar19[1] = puVar19[-9];
        puVar19[6] = puVar19[-4];
        puVar19[7] = puVar19[-3];
        puVar19[4] = puVar19[-6];
        puVar19[5] = puVar19[-5];
        *(undefined4 *)(puVar19 + 8) = *(undefined4 *)(puVar19 + -2);
        *(undefined4 *)((long)puVar19 + 0x44) = *(undefined4 *)((long)puVar19 + -0xc);
        uVar17 = CONCAT44(*(undefined4 *)((long)puVar19 + -0x84),
                          *(undefined4 *)((long)puVar19 + -0x94));
        puVar19 = puVar19 + -10;
      }
      *(undefined4 *)puVar19 = uVar3;
      *(undefined4 *)((long)puVar19 + 4) = uVar4;
      *(undefined4 *)(puVar19 + 1) = uVar5;
      *(undefined4 *)((long)puVar19 + 0xc) = uVar6;
      *(undefined4 *)(puVar19 + 2) = uVar7;
      *(undefined4 *)((long)puVar19 + 0x14) = uVar8;
      *(undefined4 *)(puVar19 + 3) = uVar9;
      *(undefined4 *)((long)puVar19 + 0x1c) = uVar10;
      puVar19[4] = uVar11;
      puVar19[5] = uVar12;
      puVar19[6] = uVar13;
      puVar19[7] = uVar14;
      *(undefined4 *)(puVar19 + 8) = uVar1;
      *(undefined4 *)((long)puVar19 + 0x44) = uVar2;
    }
  }
  return;
}



/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::splitByGeometry(embree::SetMB const&,
   embree::SetMB&, embree::SetMB&) [clone .isra.0] */

void embree::sse2::BVHBuilderMSMBlur::
     BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
     ::splitByGeometry(SetMB *param_1,SetMB *param_2,SetMB *param_3)

{
  float fVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  int iVar6;
  long lVar7;
  long lVar8;
  undefined8 uVar9;
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined8 uVar14;
  undefined1 (*pauVar15) [16];
  long lVar16;
  uint uVar17;
  ulong uVar18;
  undefined1 (*pauVar19) [16];
  undefined1 (*pauVar20) [16];
  long lVar21;
  long lVar22;
  ulong uVar23;
  ulong uVar24;
  float fVar25;
  float fVar26;
  float fVar27;
  float fVar28;
  float fVar29;
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  float fVar33;
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  float fVar36;
  float fVar37;
  float fVar38;
  undefined4 uVar39;
  undefined4 uVar40;
  undefined4 uVar41;
  undefined4 uVar42;
  undefined1 auVar43 [16];
  undefined1 auVar44 [16];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined1 local_118 [16];
  undefined1 local_108 [16];
  float local_f8;
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  float local_c4;
  float local_c0;
  float local_bc;
  float local_98;
  float local_94;
  
  fVar26 = _LC12;
  uVar23 = 0;
  fVar36 = 0.0;
  uVar24 = 0;
  lVar21 = 0;
  lVar7 = *(long *)(param_1 + 0x60);
  lVar8 = *(long *)(param_1 + 0x68);
  local_bc = 0.0;
  lVar22 = 0;
  lVar16 = *(long *)(*(long *)(param_1 + 0x90) + 0x20);
  local_94 = 0.0;
  pauVar15 = (undefined1 (*) [16])(lVar7 * 0x50 + lVar16);
  auVar31._0_8_ = CONCAT44(_LC8,_LC8);
  auVar31._8_4_ = _LC8;
  auVar31._12_4_ = _LC8;
  auVar32._0_8_ = CONCAT44(_LC10,_LC10);
  auVar32._8_4_ = _LC10;
  auVar32._12_4_ = _LC10;
  iVar6 = *(int *)(*pauVar15 + 0xc);
  local_c4 = 0.0;
  auVar44._8_4_ = _LC8;
  auVar44._0_8_ = auVar31._0_8_;
  auVar44._12_4_ = _LC8;
  auVar34._8_4_ = _LC8;
  auVar34._0_8_ = auVar31._0_8_;
  auVar34._12_4_ = _LC8;
  auVar35._8_4_ = _LC10;
  auVar35._0_8_ = auVar32._0_8_;
  auVar35._12_4_ = _LC10;
  pauVar19 = (undefined1 (*) [16])(lVar16 + -0x50 + lVar8 * 0x50);
  auVar43._8_4_ = _LC8;
  auVar43._0_8_ = auVar31._0_8_;
  auVar43._12_4_ = _LC8;
  local_f8 = _LC3;
  local_c0 = _LC3;
  local_98 = _LC3;
  fVar33 = _LC3;
  local_138 = auVar32;
  local_128 = auVar32;
  local_118 = auVar31;
  local_108 = auVar31;
  local_e8 = auVar32;
  local_d8 = auVar32;
  do {
    if (pauVar19 < pauVar15) {
      uVar39 = auVar43._0_4_;
      uVar40 = auVar43._4_4_;
      uVar41 = auVar43._8_4_;
      uVar42 = auVar43._12_4_;
LAB_001005d6:
      fVar26 = *(float *)(param_1 + 0x8c);
      fVar25 = *(float *)(param_1 + 0x88);
      lVar16 = ((long)pauVar15 - lVar16 >> 4) * -0x3333333333333333;
      uVar9 = *(undefined8 *)(param_1 + 0x90);
      *(undefined1 (*) [16])(param_2 + 0x50) = auVar34;
      *(undefined8 *)param_2 = local_138._0_8_;
      *(undefined8 *)(param_2 + 8) = local_138._8_8_;
      if (fVar25 <= fVar33) {
        fVar25 = fVar33;
      }
      if (fVar26 <= local_c4) {
        local_c4 = fVar26;
      }
      *(long *)(param_2 + 0x60) = lVar7;
      *(undefined8 *)(param_2 + 0x10) = local_118._0_8_;
      *(undefined8 *)(param_2 + 0x18) = local_118._8_8_;
      *(long *)(param_2 + 0x70) = lVar22;
      *(undefined8 *)(param_2 + 0x20) = local_128._0_8_;
      *(undefined8 *)(param_2 + 0x28) = local_128._8_8_;
      *(float *)(param_2 + 0x8c) = local_c4;
      *(ulong *)(param_2 + 0x78) = uVar24;
      *(undefined8 *)(param_2 + 0x90) = uVar9;
      *(long *)(param_2 + 0x68) = lVar16;
      *(undefined8 *)(param_2 + 0x30) = local_108._0_8_;
      *(undefined8 *)(param_2 + 0x38) = local_108._8_8_;
      *(undefined1 (*) [16])(param_2 + 0x40) = auVar35;
      *(float *)(param_2 + 0x80) = fVar36;
      *(float *)(param_2 + 0x84) = local_f8;
      *(float *)(param_2 + 0x88) = fVar25;
      uVar9 = *(undefined8 *)(param_1 + 0x90);
      fVar26 = *(float *)(param_1 + 0x88);
      fVar33 = *(float *)(param_1 + 0x8c);
      *(undefined8 *)param_3 = local_d8._0_8_;
      *(undefined8 *)(param_3 + 8) = local_d8._8_8_;
      *(undefined4 *)(param_3 + 0x10) = uVar39;
      *(undefined4 *)(param_3 + 0x14) = uVar40;
      *(undefined4 *)(param_3 + 0x18) = uVar41;
      *(undefined4 *)(param_3 + 0x1c) = uVar42;
      if (fVar26 <= local_98) {
        fVar26 = local_98;
      }
      *(undefined8 *)(param_3 + 0x20) = local_e8._0_8_;
      *(undefined8 *)(param_3 + 0x28) = local_e8._8_8_;
      *(undefined1 (*) [16])(param_3 + 0x30) = auVar44;
      *(undefined1 (*) [16])(param_3 + 0x40) = auVar32;
      *(undefined1 (*) [16])(param_3 + 0x50) = auVar31;
      *(long *)(param_3 + 0x70) = lVar21;
      if (fVar33 <= local_bc) {
        local_bc = fVar33;
      }
      *(ulong *)(param_3 + 0x78) = uVar23;
      *(float *)(param_3 + 0x84) = local_c0;
      *(undefined8 *)(param_3 + 0x90) = uVar9;
      *(long *)(param_3 + 0x60) = lVar16;
      *(long *)(param_3 + 0x68) = lVar8;
      *(float *)(param_3 + 0x80) = local_94;
      *(float *)(param_3 + 0x88) = fVar26;
      *(float *)(param_3 + 0x8c) = local_bc;
      return;
    }
    pauVar20 = pauVar19;
    if (iVar6 == *(int *)(*pauVar15 + 0xc)) {
      uVar17 = *(uint *)(pauVar15[2] + 0xc);
      fVar25 = *(float *)pauVar15[3] * fVar26 + *(float *)pauVar15[1] * fVar26 +
               *(float *)pauVar15[2] * fVar26 + *(float *)*pauVar15 * fVar26;
      fVar27 = *(float *)(pauVar15[3] + 4) * fVar26 + *(float *)(pauVar15[1] + 4) * fVar26 +
               *(float *)(pauVar15[2] + 4) * fVar26 + *(float *)(*pauVar15 + 4) * fVar26;
      fVar28 = *(float *)(pauVar15[3] + 8) * fVar26 + *(float *)(pauVar15[1] + 8) * fVar26 +
               *(float *)(pauVar15[2] + 8) * fVar26 + *(float *)(*pauVar15 + 8) * fVar26;
      fVar29 = *(float *)(pauVar15[3] + 0xc) * fVar26 + *(float *)(pauVar15[1] + 0xc) * fVar26 +
               *(float *)(pauVar15[2] + 0xc) * fVar26 + *(float *)(*pauVar15 + 0xc) * fVar26;
      local_138 = minps(local_138,*pauVar15);
      local_118 = maxps(local_118,pauVar15[1]);
      auVar2._4_4_ = fVar27;
      auVar2._0_4_ = fVar25;
      auVar2._8_4_ = fVar28;
      auVar2._12_4_ = fVar29;
      auVar35 = minps(auVar35,auVar2);
      auVar3._4_4_ = fVar27;
      auVar3._0_4_ = fVar25;
      auVar3._8_4_ = fVar28;
      auVar3._12_4_ = fVar29;
      auVar34 = maxps(auVar34,auVar3);
      fVar25 = *(float *)pauVar15[4];
      local_128 = minps(local_128,pauVar15[2]);
      if (fVar25 <= fVar33) {
        fVar33 = fVar25;
      }
      local_108 = maxps(local_108,pauVar15[3]);
      fVar27 = *(float *)(pauVar15[4] + 4);
      fVar28 = fVar27;
      if (fVar27 <= local_c4) {
        fVar28 = local_c4;
      }
      local_c4 = fVar28;
      if (uVar24 < *(uint *)(pauVar15[3] + 0xc)) {
        uVar24 = (ulong)*(uint *)(pauVar15[3] + 0xc);
        fVar36 = fVar25;
        local_f8 = fVar27;
      }
    }
    else {
      while( true ) {
        auVar2 = pauVar20[1];
        auVar3 = pauVar20[3];
        auVar4 = *pauVar20;
        auVar5 = pauVar20[2];
        auVar30._0_8_ =
             CONCAT44(auVar5._4_4_ * fVar26 + auVar4._4_4_ * fVar26 +
                      auVar3._4_4_ * fVar26 + auVar2._4_4_ * fVar26,
                      auVar5._0_4_ * fVar26 + auVar4._0_4_ * fVar26 +
                      auVar3._0_4_ * fVar26 + auVar2._0_4_ * fVar26);
        auVar30._8_4_ =
             auVar5._8_4_ * fVar26 + auVar4._8_4_ * fVar26 +
             auVar3._8_4_ * fVar26 + auVar2._8_4_ * fVar26;
        auVar30._12_4_ =
             auVar5._12_4_ * fVar26 + auVar4._12_4_ * fVar26 +
             auVar3._12_4_ * fVar26 + auVar2._12_4_ * fVar26;
        fVar25 = *(float *)pauVar20[4];
        if (iVar6 == *(int *)(*pauVar20 + 0xc)) break;
        local_d8 = minps(local_d8,auVar4);
        fVar27 = *(float *)(pauVar20[4] + 4);
        auVar32 = minps(auVar32,auVar30);
        auVar31 = maxps(auVar31,auVar30);
        auVar43 = maxps(auVar43,auVar2);
        local_e8 = minps(local_e8,auVar5);
        auVar44 = maxps(auVar44,auVar3);
        lVar21 = lVar21 + (ulong)*(uint *)(pauVar20[2] + 0xc);
        fVar28 = fVar27;
        if (fVar27 <= local_bc) {
          fVar28 = local_bc;
        }
        if (fVar25 <= local_98) {
          local_98 = fVar25;
        }
        if (uVar23 < *(uint *)(pauVar20[3] + 0xc)) {
          uVar23 = (ulong)*(uint *)(pauVar20[3] + 0xc);
          local_c0 = fVar27;
          local_94 = fVar25;
        }
        pauVar20 = pauVar20 + -5;
        local_bc = fVar28;
        if (pauVar20 < pauVar15) {
          uVar39 = auVar43._0_4_;
          uVar40 = auVar43._4_4_;
          uVar41 = auVar43._8_4_;
          uVar42 = auVar43._12_4_;
          goto LAB_001005d6;
        }
      }
      uVar17 = *(uint *)(pauVar20[2] + 0xc);
      local_138 = minps(local_138,auVar4);
      if (fVar25 <= fVar33) {
        fVar33 = fVar25;
      }
      auVar10._8_4_ = auVar30._8_4_;
      auVar10._0_8_ = auVar30._0_8_;
      auVar10._12_4_ = auVar30._12_4_;
      auVar35 = minps(auVar35,auVar10);
      auVar11._8_4_ = auVar30._8_4_;
      auVar11._0_8_ = auVar30._0_8_;
      auVar11._12_4_ = auVar30._12_4_;
      auVar34 = maxps(auVar34,auVar11);
      local_118 = maxps(local_118,auVar2);
      fVar27 = *(float *)(pauVar20[4] + 4);
      fVar28 = fVar27;
      if (fVar27 <= local_c4) {
        fVar28 = local_c4;
      }
      local_128 = minps(local_128,auVar5);
      local_108 = maxps(local_108,auVar3);
      uVar18 = (ulong)*(uint *)(pauVar20[3] + 0xc);
      if (*(uint *)(pauVar20[3] + 0xc) <= uVar24) {
        uVar18 = uVar24;
        fVar27 = local_f8;
        fVar25 = fVar36;
      }
      auVar2 = pauVar15[2];
      auVar3 = pauVar15[3];
      pauVar19 = pauVar15 + 1;
      auVar30 = *pauVar19;
      auVar5 = *pauVar15;
      auVar44 = maxps(auVar44,auVar3);
      auVar43 = maxps(auVar43,*pauVar19);
      lVar21 = lVar21 + (ulong)*(uint *)(pauVar15[2] + 0xc);
      local_d8 = minps(local_d8,auVar5);
      fVar36 = auVar3._0_4_ * fVar26 + *(float *)*pauVar19 * fVar26 +
               auVar2._0_4_ * fVar26 + auVar5._0_4_ * fVar26;
      fVar29 = auVar3._4_4_ * fVar26 + *(float *)(pauVar15[1] + 4) * fVar26 +
               auVar2._4_4_ * fVar26 + auVar5._4_4_ * fVar26;
      fVar37 = auVar3._8_4_ * fVar26 + *(float *)(pauVar15[1] + 8) * fVar26 +
               auVar2._8_4_ * fVar26 + auVar5._8_4_ * fVar26;
      fVar38 = auVar3._12_4_ * fVar26 + *(float *)(pauVar15[1] + 0xc) * fVar26 +
               auVar2._12_4_ * fVar26 + auVar5._12_4_ * fVar26;
      fVar1 = *(float *)(pauVar15[4] + 4);
      auVar12._4_4_ = fVar29;
      auVar12._0_4_ = fVar36;
      auVar12._8_4_ = fVar37;
      auVar12._12_4_ = fVar38;
      auVar32 = minps(auVar32,auVar12);
      auVar13._4_4_ = fVar29;
      auVar13._0_4_ = fVar36;
      auVar13._8_4_ = fVar37;
      auVar13._12_4_ = fVar38;
      auVar31 = maxps(auVar31,auVar13);
      fVar29 = *(float *)pauVar15[4];
      local_e8 = minps(local_e8,auVar2);
      if (fVar29 <= local_98) {
        local_98 = fVar29;
      }
      fVar37 = fVar1;
      if (fVar1 <= local_bc) {
        fVar37 = local_bc;
      }
      uVar24 = (ulong)*(uint *)(pauVar15[3] + 0xc);
      if (*(uint *)(pauVar15[3] + 0xc) <= uVar23) {
        uVar24 = uVar23;
        fVar29 = local_94;
        fVar1 = local_c0;
      }
      uVar23 = uVar24;
      *pauVar15 = auVar4;
      uVar14 = *(undefined8 *)(pauVar20[1] + 8);
      uVar9 = *(undefined8 *)pauVar15[4];
      pauVar19 = pauVar20 + -5;
      *(undefined8 *)pauVar15[1] = *(undefined8 *)pauVar20[1];
      *(undefined8 *)(pauVar15[1] + 8) = uVar14;
      uVar14 = *(undefined8 *)(pauVar20[2] + 8);
      *(undefined8 *)pauVar15[2] = *(undefined8 *)pauVar20[2];
      *(undefined8 *)(pauVar15[2] + 8) = uVar14;
      uVar14 = *(undefined8 *)(pauVar20[3] + 8);
      *(undefined8 *)pauVar15[3] = *(undefined8 *)pauVar20[3];
      *(undefined8 *)(pauVar15[3] + 8) = uVar14;
      *(undefined4 *)pauVar15[4] = *(undefined4 *)pauVar20[4];
      *(undefined4 *)(pauVar15[4] + 4) = *(undefined4 *)(pauVar20[4] + 4);
      *(undefined8 *)pauVar20[4] = uVar9;
      *pauVar20 = auVar5;
      pauVar20[1] = auVar30;
      pauVar20[2] = auVar2;
      pauVar20[3] = auVar3;
      uVar24 = uVar18;
      fVar36 = fVar25;
      local_f8 = fVar27;
      local_c4 = fVar28;
      local_c0 = fVar1;
      local_bc = fVar37;
      local_94 = fVar29;
    }
    lVar22 = lVar22 + (ulong)uVar17;
    pauVar15 = pauVar15 + 5;
  } while( true );
}



/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::splitByGeometry(embree::SetMB const&,
   embree::SetMB&, embree::SetMB&) [clone .isra.0] */

void embree::sse2::BVHBuilderMSMBlur::
     BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
     ::splitByGeometry(SetMB *param_1,SetMB *param_2,SetMB *param_3)

{
  float fVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  int iVar6;
  long lVar7;
  long lVar8;
  undefined8 uVar9;
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined8 uVar14;
  undefined1 (*pauVar15) [16];
  long lVar16;
  uint uVar17;
  ulong uVar18;
  undefined1 (*pauVar19) [16];
  undefined1 (*pauVar20) [16];
  long lVar21;
  long lVar22;
  ulong uVar23;
  ulong uVar24;
  float fVar25;
  float fVar26;
  float fVar27;
  float fVar28;
  float fVar29;
  undefined1 auVar30 [16];
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  float fVar33;
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  float fVar36;
  float fVar37;
  float fVar38;
  undefined4 uVar39;
  undefined4 uVar40;
  undefined4 uVar41;
  undefined4 uVar42;
  undefined1 auVar43 [16];
  undefined1 auVar44 [16];
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined1 local_118 [16];
  undefined1 local_108 [16];
  float local_f8;
  undefined1 local_e8 [16];
  undefined1 local_d8 [16];
  float local_c4;
  float local_c0;
  float local_bc;
  float local_98;
  float local_94;
  
  fVar26 = _LC12;
  uVar23 = 0;
  fVar36 = 0.0;
  uVar24 = 0;
  lVar21 = 0;
  lVar7 = *(long *)(param_1 + 0x60);
  lVar8 = *(long *)(param_1 + 0x68);
  local_bc = 0.0;
  lVar22 = 0;
  lVar16 = *(long *)(*(long *)(param_1 + 0x90) + 0x20);
  local_94 = 0.0;
  pauVar15 = (undefined1 (*) [16])(lVar7 * 0x50 + lVar16);
  auVar31._0_8_ = CONCAT44(_LC8,_LC8);
  auVar31._8_4_ = _LC8;
  auVar31._12_4_ = _LC8;
  auVar32._0_8_ = CONCAT44(_LC10,_LC10);
  auVar32._8_4_ = _LC10;
  auVar32._12_4_ = _LC10;
  iVar6 = *(int *)(*pauVar15 + 0xc);
  local_c4 = 0.0;
  auVar44._8_4_ = _LC8;
  auVar44._0_8_ = auVar31._0_8_;
  auVar44._12_4_ = _LC8;
  auVar34._8_4_ = _LC8;
  auVar34._0_8_ = auVar31._0_8_;
  auVar34._12_4_ = _LC8;
  auVar35._8_4_ = _LC10;
  auVar35._0_8_ = auVar32._0_8_;
  auVar35._12_4_ = _LC10;
  pauVar19 = (undefined1 (*) [16])(lVar16 + -0x50 + lVar8 * 0x50);
  auVar43._8_4_ = _LC8;
  auVar43._0_8_ = auVar31._0_8_;
  auVar43._12_4_ = _LC8;
  local_f8 = _LC3;
  local_c0 = _LC3;
  local_98 = _LC3;
  fVar33 = _LC3;
  local_138 = auVar32;
  local_128 = auVar32;
  local_118 = auVar31;
  local_108 = auVar31;
  local_e8 = auVar32;
  local_d8 = auVar32;
  do {
    if (pauVar19 < pauVar15) {
      uVar39 = auVar43._0_4_;
      uVar40 = auVar43._4_4_;
      uVar41 = auVar43._8_4_;
      uVar42 = auVar43._12_4_;
LAB_00100c16:
      fVar26 = *(float *)(param_1 + 0x8c);
      fVar25 = *(float *)(param_1 + 0x88);
      lVar16 = ((long)pauVar15 - lVar16 >> 4) * -0x3333333333333333;
      uVar9 = *(undefined8 *)(param_1 + 0x90);
      *(undefined1 (*) [16])(param_2 + 0x50) = auVar34;
      *(undefined8 *)param_2 = local_138._0_8_;
      *(undefined8 *)(param_2 + 8) = local_138._8_8_;
      if (fVar25 <= fVar33) {
        fVar25 = fVar33;
      }
      if (fVar26 <= local_c4) {
        local_c4 = fVar26;
      }
      *(long *)(param_2 + 0x60) = lVar7;
      *(undefined8 *)(param_2 + 0x10) = local_118._0_8_;
      *(undefined8 *)(param_2 + 0x18) = local_118._8_8_;
      *(long *)(param_2 + 0x70) = lVar22;
      *(undefined8 *)(param_2 + 0x20) = local_128._0_8_;
      *(undefined8 *)(param_2 + 0x28) = local_128._8_8_;
      *(float *)(param_2 + 0x8c) = local_c4;
      *(ulong *)(param_2 + 0x78) = uVar24;
      *(undefined8 *)(param_2 + 0x90) = uVar9;
      *(long *)(param_2 + 0x68) = lVar16;
      *(undefined8 *)(param_2 + 0x30) = local_108._0_8_;
      *(undefined8 *)(param_2 + 0x38) = local_108._8_8_;
      *(undefined1 (*) [16])(param_2 + 0x40) = auVar35;
      *(float *)(param_2 + 0x80) = fVar36;
      *(float *)(param_2 + 0x84) = local_f8;
      *(float *)(param_2 + 0x88) = fVar25;
      uVar9 = *(undefined8 *)(param_1 + 0x90);
      fVar26 = *(float *)(param_1 + 0x88);
      fVar33 = *(float *)(param_1 + 0x8c);
      *(undefined8 *)param_3 = local_d8._0_8_;
      *(undefined8 *)(param_3 + 8) = local_d8._8_8_;
      *(undefined4 *)(param_3 + 0x10) = uVar39;
      *(undefined4 *)(param_3 + 0x14) = uVar40;
      *(undefined4 *)(param_3 + 0x18) = uVar41;
      *(undefined4 *)(param_3 + 0x1c) = uVar42;
      if (fVar26 <= local_98) {
        fVar26 = local_98;
      }
      *(undefined8 *)(param_3 + 0x20) = local_e8._0_8_;
      *(undefined8 *)(param_3 + 0x28) = local_e8._8_8_;
      *(undefined1 (*) [16])(param_3 + 0x30) = auVar44;
      *(undefined1 (*) [16])(param_3 + 0x40) = auVar32;
      *(undefined1 (*) [16])(param_3 + 0x50) = auVar31;
      *(long *)(param_3 + 0x70) = lVar21;
      if (fVar33 <= local_bc) {
        local_bc = fVar33;
      }
      *(ulong *)(param_3 + 0x78) = uVar23;
      *(float *)(param_3 + 0x84) = local_c0;
      *(undefined8 *)(param_3 + 0x90) = uVar9;
      *(long *)(param_3 + 0x60) = lVar16;
      *(long *)(param_3 + 0x68) = lVar8;
      *(float *)(param_3 + 0x80) = local_94;
      *(float *)(param_3 + 0x88) = fVar26;
      *(float *)(param_3 + 0x8c) = local_bc;
      return;
    }
    pauVar20 = pauVar19;
    if (iVar6 == *(int *)(*pauVar15 + 0xc)) {
      uVar17 = *(uint *)(pauVar15[2] + 0xc);
      fVar25 = *(float *)pauVar15[3] * fVar26 + *(float *)pauVar15[1] * fVar26 +
               *(float *)pauVar15[2] * fVar26 + *(float *)*pauVar15 * fVar26;
      fVar27 = *(float *)(pauVar15[3] + 4) * fVar26 + *(float *)(pauVar15[1] + 4) * fVar26 +
               *(float *)(pauVar15[2] + 4) * fVar26 + *(float *)(*pauVar15 + 4) * fVar26;
      fVar28 = *(float *)(pauVar15[3] + 8) * fVar26 + *(float *)(pauVar15[1] + 8) * fVar26 +
               *(float *)(pauVar15[2] + 8) * fVar26 + *(float *)(*pauVar15 + 8) * fVar26;
      fVar29 = *(float *)(pauVar15[3] + 0xc) * fVar26 + *(float *)(pauVar15[1] + 0xc) * fVar26 +
               *(float *)(pauVar15[2] + 0xc) * fVar26 + *(float *)(*pauVar15 + 0xc) * fVar26;
      local_138 = minps(local_138,*pauVar15);
      local_118 = maxps(local_118,pauVar15[1]);
      auVar2._4_4_ = fVar27;
      auVar2._0_4_ = fVar25;
      auVar2._8_4_ = fVar28;
      auVar2._12_4_ = fVar29;
      auVar35 = minps(auVar35,auVar2);
      auVar3._4_4_ = fVar27;
      auVar3._0_4_ = fVar25;
      auVar3._8_4_ = fVar28;
      auVar3._12_4_ = fVar29;
      auVar34 = maxps(auVar34,auVar3);
      fVar25 = *(float *)pauVar15[4];
      local_128 = minps(local_128,pauVar15[2]);
      if (fVar25 <= fVar33) {
        fVar33 = fVar25;
      }
      local_108 = maxps(local_108,pauVar15[3]);
      fVar27 = *(float *)(pauVar15[4] + 4);
      fVar28 = fVar27;
      if (fVar27 <= local_c4) {
        fVar28 = local_c4;
      }
      local_c4 = fVar28;
      if (uVar24 < *(uint *)(pauVar15[3] + 0xc)) {
        uVar24 = (ulong)*(uint *)(pauVar15[3] + 0xc);
        fVar36 = fVar25;
        local_f8 = fVar27;
      }
    }
    else {
      while( true ) {
        auVar2 = pauVar20[1];
        auVar3 = pauVar20[3];
        auVar4 = *pauVar20;
        auVar5 = pauVar20[2];
        auVar30._0_8_ =
             CONCAT44(auVar5._4_4_ * fVar26 + auVar4._4_4_ * fVar26 +
                      auVar3._4_4_ * fVar26 + auVar2._4_4_ * fVar26,
                      auVar5._0_4_ * fVar26 + auVar4._0_4_ * fVar26 +
                      auVar3._0_4_ * fVar26 + auVar2._0_4_ * fVar26);
        auVar30._8_4_ =
             auVar5._8_4_ * fVar26 + auVar4._8_4_ * fVar26 +
             auVar3._8_4_ * fVar26 + auVar2._8_4_ * fVar26;
        auVar30._12_4_ =
             auVar5._12_4_ * fVar26 + auVar4._12_4_ * fVar26 +
             auVar3._12_4_ * fVar26 + auVar2._12_4_ * fVar26;
        fVar25 = *(float *)pauVar20[4];
        if (iVar6 == *(int *)(*pauVar20 + 0xc)) break;
        local_d8 = minps(local_d8,auVar4);
        fVar27 = *(float *)(pauVar20[4] + 4);
        auVar32 = minps(auVar32,auVar30);
        auVar31 = maxps(auVar31,auVar30);
        auVar43 = maxps(auVar43,auVar2);
        local_e8 = minps(local_e8,auVar5);
        auVar44 = maxps(auVar44,auVar3);
        lVar21 = lVar21 + (ulong)*(uint *)(pauVar20[2] + 0xc);
        fVar28 = fVar27;
        if (fVar27 <= local_bc) {
          fVar28 = local_bc;
        }
        if (fVar25 <= local_98) {
          local_98 = fVar25;
        }
        if (uVar23 < *(uint *)(pauVar20[3] + 0xc)) {
          uVar23 = (ulong)*(uint *)(pauVar20[3] + 0xc);
          local_c0 = fVar27;
          local_94 = fVar25;
        }
        pauVar20 = pauVar20 + -5;
        local_bc = fVar28;
        if (pauVar20 < pauVar15) {
          uVar39 = auVar43._0_4_;
          uVar40 = auVar43._4_4_;
          uVar41 = auVar43._8_4_;
          uVar42 = auVar43._12_4_;
          goto LAB_00100c16;
        }
      }
      uVar17 = *(uint *)(pauVar20[2] + 0xc);
      local_138 = minps(local_138,auVar4);
      if (fVar25 <= fVar33) {
        fVar33 = fVar25;
      }
      auVar10._8_4_ = auVar30._8_4_;
      auVar10._0_8_ = auVar30._0_8_;
      auVar10._12_4_ = auVar30._12_4_;
      auVar35 = minps(auVar35,auVar10);
      auVar11._8_4_ = auVar30._8_4_;
      auVar11._0_8_ = auVar30._0_8_;
      auVar11._12_4_ = auVar30._12_4_;
      auVar34 = maxps(auVar34,auVar11);
      local_118 = maxps(local_118,auVar2);
      fVar27 = *(float *)(pauVar20[4] + 4);
      fVar28 = fVar27;
      if (fVar27 <= local_c4) {
        fVar28 = local_c4;
      }
      local_128 = minps(local_128,auVar5);
      local_108 = maxps(local_108,auVar3);
      uVar18 = (ulong)*(uint *)(pauVar20[3] + 0xc);
      if (*(uint *)(pauVar20[3] + 0xc) <= uVar24) {
        uVar18 = uVar24;
        fVar27 = local_f8;
        fVar25 = fVar36;
      }
      auVar2 = pauVar15[2];
      auVar3 = pauVar15[3];
      pauVar19 = pauVar15 + 1;
      auVar30 = *pauVar19;
      auVar5 = *pauVar15;
      auVar44 = maxps(auVar44,auVar3);
      auVar43 = maxps(auVar43,*pauVar19);
      lVar21 = lVar21 + (ulong)*(uint *)(pauVar15[2] + 0xc);
      local_d8 = minps(local_d8,auVar5);
      fVar36 = auVar3._0_4_ * fVar26 + *(float *)*pauVar19 * fVar26 +
               auVar2._0_4_ * fVar26 + auVar5._0_4_ * fVar26;
      fVar29 = auVar3._4_4_ * fVar26 + *(float *)(pauVar15[1] + 4) * fVar26 +
               auVar2._4_4_ * fVar26 + auVar5._4_4_ * fVar26;
      fVar37 = auVar3._8_4_ * fVar26 + *(float *)(pauVar15[1] + 8) * fVar26 +
               auVar2._8_4_ * fVar26 + auVar5._8_4_ * fVar26;
      fVar38 = auVar3._12_4_ * fVar26 + *(float *)(pauVar15[1] + 0xc) * fVar26 +
               auVar2._12_4_ * fVar26 + auVar5._12_4_ * fVar26;
      fVar1 = *(float *)(pauVar15[4] + 4);
      auVar12._4_4_ = fVar29;
      auVar12._0_4_ = fVar36;
      auVar12._8_4_ = fVar37;
      auVar12._12_4_ = fVar38;
      auVar32 = minps(auVar32,auVar12);
      auVar13._4_4_ = fVar29;
      auVar13._0_4_ = fVar36;
      auVar13._8_4_ = fVar37;
      auVar13._12_4_ = fVar38;
      auVar31 = maxps(auVar31,auVar13);
      fVar29 = *(float *)pauVar15[4];
      local_e8 = minps(local_e8,auVar2);
      if (fVar29 <= local_98) {
        local_98 = fVar29;
      }
      fVar37 = fVar1;
      if (fVar1 <= local_bc) {
        fVar37 = local_bc;
      }
      uVar24 = (ulong)*(uint *)(pauVar15[3] + 0xc);
      if (*(uint *)(pauVar15[3] + 0xc) <= uVar23) {
        uVar24 = uVar23;
        fVar29 = local_94;
        fVar1 = local_c0;
      }
      uVar23 = uVar24;
      *pauVar15 = auVar4;
      uVar14 = *(undefined8 *)(pauVar20[1] + 8);
      uVar9 = *(undefined8 *)pauVar15[4];
      pauVar19 = pauVar20 + -5;
      *(undefined8 *)pauVar15[1] = *(undefined8 *)pauVar20[1];
      *(undefined8 *)(pauVar15[1] + 8) = uVar14;
      uVar14 = *(undefined8 *)(pauVar20[2] + 8);
      *(undefined8 *)pauVar15[2] = *(undefined8 *)pauVar20[2];
      *(undefined8 *)(pauVar15[2] + 8) = uVar14;
      uVar14 = *(undefined8 *)(pauVar20[3] + 8);
      *(undefined8 *)pauVar15[3] = *(undefined8 *)pauVar20[3];
      *(undefined8 *)(pauVar15[3] + 8) = uVar14;
      *(undefined4 *)pauVar15[4] = *(undefined4 *)pauVar20[4];
      *(undefined4 *)(pauVar15[4] + 4) = *(undefined4 *)(pauVar20[4] + 4);
      *(undefined8 *)pauVar20[4] = uVar9;
      *pauVar20 = auVar5;
      pauVar20[1] = auVar30;
      pauVar20[2] = auVar2;
      pauVar20[3] = auVar3;
      uVar24 = uVar18;
      fVar36 = fVar25;
      local_f8 = fVar27;
      local_c4 = fVar28;
      local_c0 = fVar1;
      local_bc = fVar37;
      local_94 = fVar29;
    }
    lVar22 = lVar22 + (ulong)uVar17;
    pauVar15 = pauVar15 + 5;
  } while( true );
}



/* embree::sse2::BVH4Triangle4iMBSceneBuilderSAH(void*, embree::Scene*, unsigned long) */

void embree::sse2::BVH4Triangle4iMBSceneBuilderSAH(void *param_1,Scene *param_2,ulong param_3)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)operator_new(0x48);
  puVar1[1] = 0;
  *puVar1 = &PTR__BVHNBuilderMBlurSAH_0012d7d8;
  puVar1[2] = param_1;
  puVar1[3] = param_2;
  puVar1[4] = 4;
  *(undefined4 *)(puVar1 + 5) = 0x3f800000;
  puVar1[6] = 4;
  puVar1[7] = 0x1c;
  puVar1[8] = 0x100000;
  return;
}



/* embree::sse2::BVH4Triangle4vMBSceneBuilderSAH(void*, embree::Scene*, unsigned long) */

void embree::sse2::BVH4Triangle4vMBSceneBuilderSAH(void *param_1,Scene *param_2,ulong param_3)

{
  undefined8 *puVar1;
  
  puVar1 = (undefined8 *)operator_new(0x48);
  puVar1[1] = 0;
  *puVar1 = &PTR__BVHNBuilderMBlurSAH_0012d820;
  puVar1[2] = param_1;
  puVar1[3] = param_2;
  puVar1[4] = 4;
  *(undefined4 *)(puVar1 + 5) = 0x3f800000;
  puVar1[6] = 4;
  puVar1[7] = 0x1c;
  puVar1[8] = 0x100000;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__introsort_loop<embree::PrimRefMB*, long,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRefMB*, embree::PrimRefMB*, long,
   __gnu_cxx::__ops::_Iter_less_iter) [clone .isra.0] */

void std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined8 *param_1,undefined8 *param_2,long param_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined8 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined8 uVar21;
  long lVar22;
  undefined8 *puVar23;
  ulong uVar24;
  ulong uVar25;
  undefined8 *puVar26;
  undefined8 *puVar27;
  ulong uVar28;
  undefined8 *puVar29;
  long in_FS_OFFSET;
  undefined4 local_88;
  undefined4 uStack_84;
  undefined4 uStack_80;
  undefined4 uStack_7c;
  undefined4 local_78;
  undefined4 uStack_74;
  undefined4 uStack_70;
  undefined4 uStack_6c;
  undefined4 local_68;
  undefined4 uStack_64;
  undefined4 uStack_60;
  undefined4 uStack_5c;
  undefined4 local_58;
  undefined4 uStack_54;
  undefined4 uStack_50;
  undefined4 uStack_4c;
  undefined4 local_48;
  undefined4 local_44;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  lVar22 = (long)param_2 - (long)param_1;
  if (0x500 < lVar22) {
    puVar26 = param_1 + 10;
    puVar27 = param_2;
    if (param_3 != 0) {
      do {
        param_3 = param_3 + -1;
        uVar4 = *(undefined4 *)param_1;
        uVar5 = *(undefined4 *)((long)param_1 + 4);
        uVar6 = *(undefined4 *)(param_1 + 1);
        uVar7 = *(undefined4 *)((long)param_1 + 0xc);
        uVar8 = *(undefined4 *)(param_1 + 2);
        uVar9 = *(undefined4 *)((long)param_1 + 0x14);
        uVar10 = *(undefined4 *)(param_1 + 3);
        uVar11 = *(undefined4 *)((long)param_1 + 0x1c);
        uVar12 = *(undefined4 *)(param_1 + 4);
        uVar13 = *(undefined4 *)((long)param_1 + 0x24);
        uVar14 = *(undefined4 *)(param_1 + 5);
        uVar15 = *(undefined4 *)((long)param_1 + 0x2c);
        uVar24 = CONCAT44(*(undefined4 *)((long)param_1 + 0x6c),
                          *(undefined4 *)((long)param_1 + 0x5c));
        uVar16 = *(undefined4 *)(param_1 + 6);
        uVar17 = *(undefined4 *)((long)param_1 + 0x34);
        uVar18 = *(undefined4 *)(param_1 + 7);
        uVar19 = *(undefined4 *)((long)param_1 + 0x3c);
        uVar1 = *(undefined4 *)(param_1 + 8);
        uVar2 = *(undefined4 *)((long)param_1 + 0x44);
        puVar23 = param_1 + ((lVar22 >> 4) * -0x3333333333333333 >> 1) * 10;
        uVar25 = CONCAT44(*(undefined4 *)((long)puVar23 + 0x1c),*(undefined4 *)((long)puVar23 + 0xc)
                         );
        uVar28 = CONCAT44(*(undefined4 *)((long)puVar27 + -0x34),
                          *(undefined4 *)((long)puVar27 + -0x44));
        param_2 = puVar26;
        puVar29 = puVar27;
        if (uVar24 < uVar25) {
          if (uVar25 < uVar28) {
            uVar3 = puVar23[1];
            *param_1 = *puVar23;
            param_1[1] = uVar3;
            uVar3 = puVar23[3];
            param_1[2] = puVar23[2];
            param_1[3] = uVar3;
            uVar3 = puVar23[5];
            param_1[4] = puVar23[4];
            param_1[5] = uVar3;
LAB_00101239:
            uVar3 = puVar23[7];
            param_1[6] = puVar23[6];
            param_1[7] = uVar3;
            *(undefined4 *)(param_1 + 8) = *(undefined4 *)(puVar23 + 8);
            *(undefined4 *)((long)param_1 + 0x44) = *(undefined4 *)((long)puVar23 + 0x44);
            *(undefined4 *)puVar23 = uVar4;
            *(undefined4 *)((long)puVar23 + 4) = uVar5;
            *(undefined4 *)(puVar23 + 1) = uVar6;
            *(undefined4 *)((long)puVar23 + 0xc) = uVar7;
            *(undefined4 *)(puVar23 + 2) = uVar8;
            *(undefined4 *)((long)puVar23 + 0x14) = uVar9;
            *(undefined4 *)(puVar23 + 3) = uVar10;
            *(undefined4 *)((long)puVar23 + 0x1c) = uVar11;
            *(undefined4 *)(puVar23 + 4) = uVar12;
            *(undefined4 *)((long)puVar23 + 0x24) = uVar13;
            *(undefined4 *)(puVar23 + 5) = uVar14;
            *(undefined4 *)((long)puVar23 + 0x2c) = uVar15;
            *(undefined4 *)(puVar23 + 6) = uVar16;
            *(undefined4 *)((long)puVar23 + 0x34) = uVar17;
            *(undefined4 *)(puVar23 + 7) = uVar18;
            *(undefined4 *)((long)puVar23 + 0x3c) = uVar19;
            *(undefined4 *)(puVar23 + 8) = uVar1;
            *(undefined4 *)((long)puVar23 + 0x44) = uVar2;
          }
          else {
            if (uVar28 <= uVar24) {
              *param_1 = param_1[10];
              param_1[1] = param_1[0xb];
              param_1[2] = param_1[0xc];
              param_1[3] = param_1[0xd];
              param_1[4] = param_1[0xe];
              param_1[5] = param_1[0xf];
              *(undefined4 *)(param_1 + 6) = *(undefined4 *)(param_1 + 0x10);
              *(undefined4 *)((long)param_1 + 0x34) = *(undefined4 *)((long)param_1 + 0x84);
              *(undefined4 *)(param_1 + 7) = *(undefined4 *)(param_1 + 0x11);
              *(undefined4 *)((long)param_1 + 0x3c) = *(undefined4 *)((long)param_1 + 0x8c);
              goto LAB_001013ae;
            }
            uVar3 = puVar27[-9];
            *param_1 = puVar27[-10];
            param_1[1] = uVar3;
LAB_001014e9:
            uVar3 = puVar27[-7];
            param_1[2] = puVar27[-8];
            param_1[3] = uVar3;
            uVar3 = puVar27[-5];
            param_1[4] = puVar27[-6];
            param_1[5] = uVar3;
            uVar3 = puVar27[-3];
            param_1[6] = puVar27[-4];
            param_1[7] = uVar3;
            *(undefined4 *)(param_1 + 8) = *(undefined4 *)(puVar27 + -2);
            *(undefined4 *)((long)param_1 + 0x44) = *(undefined4 *)((long)puVar27 + -0xc);
            *(undefined4 *)(puVar27 + -10) = uVar4;
            *(undefined4 *)((long)puVar27 + -0x4c) = uVar5;
            *(undefined4 *)(puVar27 + -9) = uVar6;
            *(undefined4 *)((long)puVar27 + -0x44) = uVar7;
            *(undefined4 *)(puVar27 + -8) = uVar8;
            *(undefined4 *)((long)puVar27 + -0x3c) = uVar9;
            *(undefined4 *)(puVar27 + -7) = uVar10;
            *(undefined4 *)((long)puVar27 + -0x34) = uVar11;
            *(undefined4 *)(puVar27 + -6) = uVar12;
            *(undefined4 *)((long)puVar27 + -0x2c) = uVar13;
            *(undefined4 *)(puVar27 + -5) = uVar14;
            *(undefined4 *)((long)puVar27 + -0x24) = uVar15;
            *(undefined4 *)(puVar27 + -4) = uVar16;
            *(undefined4 *)((long)puVar27 + -0x1c) = uVar17;
            *(undefined4 *)(puVar27 + -3) = uVar18;
            *(undefined4 *)((long)puVar27 + -0x14) = uVar19;
            *(undefined4 *)(puVar27 + -2) = uVar1;
            *(undefined4 *)((long)puVar27 + -0xc) = uVar2;
          }
        }
        else {
          if (uVar28 <= uVar24) {
            if (uVar25 < uVar28) {
              uVar3 = puVar27[-9];
              *param_1 = puVar27[-10];
              param_1[1] = uVar3;
              goto LAB_001014e9;
            }
            uVar3 = puVar23[1];
            *param_1 = *puVar23;
            param_1[1] = uVar3;
            uVar3 = puVar23[3];
            param_1[2] = puVar23[2];
            param_1[3] = uVar3;
            uVar3 = puVar23[5];
            param_1[4] = puVar23[4];
            param_1[5] = uVar3;
            goto LAB_00101239;
          }
          *param_1 = param_1[10];
          param_1[1] = param_1[0xb];
          param_1[2] = param_1[0xc];
          param_1[3] = param_1[0xd];
          *(undefined4 *)(param_1 + 4) = *(undefined4 *)(param_1 + 0xe);
          *(undefined4 *)((long)param_1 + 0x24) = *(undefined4 *)((long)param_1 + 0x74);
          *(undefined4 *)(param_1 + 5) = *(undefined4 *)(param_1 + 0xf);
          *(undefined4 *)((long)param_1 + 0x2c) = *(undefined4 *)((long)param_1 + 0x7c);
          param_1[6] = param_1[0x10];
          param_1[7] = param_1[0x11];
LAB_001013ae:
          *(undefined4 *)(param_1 + 10) = uVar4;
          *(undefined4 *)((long)param_1 + 0x54) = uVar5;
          *(undefined4 *)(param_1 + 0xb) = uVar6;
          *(undefined4 *)((long)param_1 + 0x5c) = uVar7;
          *(undefined4 *)(param_1 + 0xc) = uVar8;
          *(undefined4 *)((long)param_1 + 100) = uVar9;
          *(undefined4 *)(param_1 + 0xd) = uVar10;
          *(undefined4 *)((long)param_1 + 0x6c) = uVar11;
          param_1[8] = param_1[0x12];
          *(undefined4 *)(param_1 + 0xe) = uVar12;
          *(undefined4 *)((long)param_1 + 0x74) = uVar13;
          *(undefined4 *)(param_1 + 0xf) = uVar14;
          *(undefined4 *)((long)param_1 + 0x7c) = uVar15;
          *(undefined4 *)(param_1 + 0x10) = uVar16;
          *(undefined4 *)((long)param_1 + 0x84) = uVar17;
          *(undefined4 *)(param_1 + 0x11) = uVar18;
          *(undefined4 *)((long)param_1 + 0x8c) = uVar19;
          *(undefined4 *)(param_1 + 0x12) = uVar1;
          *(undefined4 *)((long)param_1 + 0x94) = uVar2;
        }
        while( true ) {
          uVar24 = CONCAT44(*(undefined4 *)((long)param_1 + 0x1c),
                            *(undefined4 *)((long)param_1 + 0xc));
          for (; CONCAT44(*(undefined4 *)((long)param_2 + 0x1c),*(undefined4 *)((long)param_2 + 0xc)
                         ) < uVar24; param_2 = param_2 + 10) {
          }
          uVar25 = CONCAT44(*(undefined4 *)((long)puVar29 + -0x34),
                            *(undefined4 *)((long)puVar29 + -0x44));
          while (puVar23 = puVar29 + -10, uVar24 < uVar25) {
            uVar25 = CONCAT44(*(undefined4 *)((long)puVar29 + -0x84),
                              *(undefined4 *)((long)puVar29 + -0x94));
            puVar29 = puVar23;
          }
          if (puVar23 <= param_2) break;
          uVar3 = puVar29[-9];
          uVar1 = *(undefined4 *)param_2;
          uVar2 = *(undefined4 *)((long)param_2 + 4);
          uVar4 = *(undefined4 *)(param_2 + 1);
          uVar5 = *(undefined4 *)((long)param_2 + 0xc);
          uVar6 = *(undefined4 *)(param_2 + 2);
          uVar7 = *(undefined4 *)((long)param_2 + 0x14);
          uVar8 = *(undefined4 *)(param_2 + 3);
          uVar9 = *(undefined4 *)((long)param_2 + 0x1c);
          uVar10 = *(undefined4 *)(param_2 + 4);
          uVar11 = *(undefined4 *)((long)param_2 + 0x24);
          uVar12 = *(undefined4 *)(param_2 + 5);
          uVar13 = *(undefined4 *)((long)param_2 + 0x2c);
          *param_2 = *puVar23;
          param_2[1] = uVar3;
          uVar14 = *(undefined4 *)((long)puVar29 + -0x3c);
          uVar15 = *(undefined4 *)(puVar29 + -7);
          uVar16 = *(undefined4 *)((long)puVar29 + -0x34);
          uVar17 = *(undefined4 *)(param_2 + 6);
          uVar18 = *(undefined4 *)((long)param_2 + 0x34);
          uVar19 = *(undefined4 *)(param_2 + 7);
          uVar20 = *(undefined4 *)((long)param_2 + 0x3c);
          uVar3 = param_2[8];
          *(undefined4 *)(param_2 + 2) = *(undefined4 *)(puVar29 + -8);
          *(undefined4 *)((long)param_2 + 0x14) = uVar14;
          *(undefined4 *)(param_2 + 3) = uVar15;
          *(undefined4 *)((long)param_2 + 0x1c) = uVar16;
          uVar14 = *(undefined4 *)((long)puVar29 + -0x2c);
          uVar15 = *(undefined4 *)(puVar29 + -5);
          uVar16 = *(undefined4 *)((long)puVar29 + -0x24);
          *(undefined4 *)(param_2 + 4) = *(undefined4 *)(puVar29 + -6);
          *(undefined4 *)((long)param_2 + 0x24) = uVar14;
          *(undefined4 *)(param_2 + 5) = uVar15;
          *(undefined4 *)((long)param_2 + 0x2c) = uVar16;
          uVar21 = puVar29[-3];
          param_2[6] = puVar29[-4];
          param_2[7] = uVar21;
          *(undefined4 *)(param_2 + 8) = *(undefined4 *)(puVar29 + -2);
          *(undefined4 *)((long)param_2 + 0x44) = *(undefined4 *)((long)puVar29 + -0xc);
          puVar29[-2] = uVar3;
          *(undefined4 *)puVar23 = uVar1;
          *(undefined4 *)((long)puVar29 + -0x4c) = uVar2;
          *(undefined4 *)(puVar29 + -9) = uVar4;
          *(undefined4 *)((long)puVar29 + -0x44) = uVar5;
          *(undefined4 *)(puVar29 + -8) = uVar6;
          *(undefined4 *)((long)puVar29 + -0x3c) = uVar7;
          *(undefined4 *)(puVar29 + -7) = uVar8;
          *(undefined4 *)((long)puVar29 + -0x34) = uVar9;
          *(undefined4 *)(puVar29 + -6) = uVar10;
          *(undefined4 *)((long)puVar29 + -0x2c) = uVar11;
          *(undefined4 *)(puVar29 + -5) = uVar12;
          *(undefined4 *)((long)puVar29 + -0x24) = uVar13;
          *(undefined4 *)(puVar29 + -4) = uVar17;
          *(undefined4 *)((long)puVar29 + -0x1c) = uVar18;
          *(undefined4 *)(puVar29 + -3) = uVar19;
          *(undefined4 *)((long)puVar29 + -0x14) = uVar20;
          param_2 = param_2 + 10;
          puVar29 = puVar23;
        }
        __introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                  (param_2,puVar27,param_3);
        lVar22 = (long)param_2 - (long)param_1;
        if (lVar22 < 0x501) goto LAB_001014a6;
        puVar27 = param_2;
      } while (param_3 != 0);
    }
    __heap_select<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>(param_1,param_2,param_2);
    do {
      uVar3 = param_1[1];
      local_88 = *(undefined4 *)(param_2 + -10);
      uStack_84 = *(undefined4 *)((long)param_2 + -0x4c);
      uStack_80 = *(undefined4 *)(param_2 + -9);
      uStack_7c = *(undefined4 *)((long)param_2 + -0x44);
      puVar26 = param_2 + -10;
      local_78 = *(undefined4 *)(param_2 + -8);
      uStack_74 = *(undefined4 *)((long)param_2 + -0x3c);
      uStack_70 = *(undefined4 *)(param_2 + -7);
      uStack_6c = *(undefined4 *)((long)param_2 + -0x34);
      local_68 = *(undefined4 *)(param_2 + -6);
      uStack_64 = *(undefined4 *)((long)param_2 + -0x2c);
      uStack_60 = *(undefined4 *)(param_2 + -5);
      uStack_5c = *(undefined4 *)((long)param_2 + -0x24);
      *puVar26 = *param_1;
      param_2[-9] = uVar3;
      uVar3 = param_1[3];
      local_58 = *(undefined4 *)(param_2 + -4);
      uStack_54 = *(undefined4 *)((long)param_2 + -0x1c);
      uStack_50 = *(undefined4 *)(param_2 + -3);
      uStack_4c = *(undefined4 *)((long)param_2 + -0x14);
      local_48 = *(undefined4 *)(param_2 + -2);
      local_44 = *(undefined4 *)((long)param_2 + -0xc);
      param_2[-8] = param_1[2];
      param_2[-7] = uVar3;
      uVar3 = param_1[5];
      param_2[-6] = param_1[4];
      param_2[-5] = uVar3;
      uVar3 = param_1[7];
      param_2[-4] = param_1[6];
      param_2[-3] = uVar3;
      *(undefined4 *)(param_2 + -2) = *(undefined4 *)(param_1 + 8);
      *(undefined4 *)((long)param_2 + -0xc) = *(undefined4 *)((long)param_1 + 0x44);
      __adjust_heap<embree::PrimRefMB*,long,embree::PrimRefMB,__gnu_cxx::__ops::_Iter_less_iter>
                (param_1,0,((long)puVar26 - (long)param_1 >> 4) * -0x3333333333333333,&local_88);
      param_2 = puVar26;
    } while (0x50 < (long)puVar26 - (long)param_1);
  }
LAB_001014a6:
  if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB, 32ul>::find(embree::SetMB const&,
   unsigned long) [clone .isra.0] */

HeuristicArrayBinningMB<embree::PrimRefMB,32ul> * __thiscall
embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::find
          (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *this,SetMB *param_1,ulong param_2)

{
  ulong uVar1;
  undefined8 uVar2;
  undefined8 uVar3;
  undefined8 uVar4;
  undefined8 uVar5;
  long lVar6;
  long lVar7;
  uint uVar8;
  undefined1 (*pauVar9) [16];
  undefined1 (*pauVar10) [16];
  BinInfoT_conflict *pBVar11;
  long lVar12;
  long lVar13;
  BinInfoT_conflict *pBVar14;
  int iVar15;
  int iVar16;
  BinInfoT_conflict *pBVar17;
  ulong uVar18;
  ulong uVar19;
  float *pfVar20;
  undefined8 *puVar21;
  embree *peVar22;
  undefined1 (*pauVar23) [16];
  ulong uVar24;
  long in_FS_OFFSET;
  byte bVar25;
  float fVar26;
  uint uVar30;
  uint uVar31;
  undefined1 auVar28 [16];
  uint uVar27;
  undefined1 auVar29 [16];
  uint uVar32;
  uint uVar34;
  float fVar35;
  uint uVar36;
  float fVar37;
  float fVar38;
  undefined1 auVar33 [16];
  float fVar39;
  float fVar40;
  float fVar41;
  float fVar42;
  uint uVar44;
  uint uVar45;
  undefined1 auVar43 [16];
  float fVar47;
  float fVar48;
  undefined1 auVar46 [16];
  float fVar50;
  float fVar51;
  undefined1 auVar49 [16];
  undefined1 auVar52 [16];
  undefined1 auVar53 [16];
  undefined1 auVar54 [16];
  undefined8 local_3820;
  undefined8 uStack_3818;
  undefined1 local_37f0 [16];
  uint local_37e0;
  uint uStack_37dc;
  uint uStack_37d8;
  uint uStack_37d4;
  undefined1 local_37d0 [16];
  undefined1 local_37c0 [16];
  undefined1 local_37b0 [16];
  undefined1 local_37a0 [16];
  undefined1 local_3790 [16];
  undefined1 local_3780 [16];
  undefined1 local_3770 [16];
  undefined1 local_3760 [16];
  undefined1 local_3750 [16];
  undefined1 local_3740 [16];
  undefined1 local_3730 [16];
  undefined1 local_3720 [16];
  undefined1 local_3710 [8];
  float fStack_3708;
  float fStack_3704;
  undefined1 local_3700 [16];
  long local_36f0;
  ulong *local_36e8;
  long *local_36e0;
  ulong *local_36d8;
  undefined1 local_36d0 [8];
  float fStack_36c8;
  uint uStack_36c4;
  undefined1 local_36c0 [16];
  ulong local_36b0 [2];
  float local_36a0;
  float fStack_369c;
  float fStack_3698;
  float fStack_3694;
  float local_3690 [3];
  uint uStack_3684;
  float local_3680 [80];
  BinInfoT_conflict aBStack_3540 [192];
  BinInfoT_conflict local_3480 [16];
  undefined1 local_3470 [16];
  undefined1 local_3460 [16];
  undefined1 local_3450 [16];
  undefined1 local_3440 [16];
  undefined1 local_3430 [16];
  undefined1 local_3420 [16];
  undefined1 local_3410 [16];
  undefined1 local_3400 [16];
  undefined1 local_33f0 [16];
  undefined1 local_33e0 [16];
  undefined1 local_33d0 [5952];
  BinInfoT_conflict local_1c90 [4];
  BinInfoT_conflict aBStack_1c8c [4];
  BinInfoT_conflict aBStack_1c88 [4];
  BinInfoT_conflict aBStack_1c84 [4];
  BinInfoT_conflict local_1c80 [4];
  int aiStack_1c7c [123];
  embree aeStack_1a90 [4];
  int aiStack_1a8c [3];
  embree local_1a80 [4];
  int aiStack_1a7c [1535];
  undefined8 local_280 [71];
  long local_48;
  
  bVar25 = 0;
  local_37d0._4_4_ = _LC10;
  local_37d0._0_4_ = _LC10;
  local_37d0._8_4_ = _LC10;
  local_37d0._12_4_ = _LC10;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  pBVar14 = local_1c80;
  pBVar11 = local_3480;
  do {
    *(undefined1 (*) [16])(pBVar11 + 0x80) = local_37d0;
    pBVar17 = pBVar11 + 0xc0;
    *(undefined4 *)(pBVar11 + 0x90) = _LC8;
    *(undefined4 *)(pBVar11 + 0x94) = _LC8;
    *(undefined4 *)(pBVar11 + 0x98) = _LC8;
    *(undefined4 *)(pBVar11 + 0x9c) = _LC8;
    *(undefined1 (*) [16])(pBVar11 + 0xa0) = local_37d0;
    *(undefined4 *)(pBVar11 + 0xb0) = _LC8;
    *(undefined4 *)(pBVar11 + 0xb4) = _LC8;
    *(undefined4 *)(pBVar11 + 0xb8) = _LC8;
    *(undefined4 *)(pBVar11 + 0xbc) = _LC8;
    *(undefined1 (*) [16])(pBVar11 + 0x40) = local_37d0;
    *(undefined4 *)(pBVar11 + 0x50) = _LC8;
    *(undefined4 *)(pBVar11 + 0x54) = _LC8;
    *(undefined4 *)(pBVar11 + 0x58) = _LC8;
    *(undefined4 *)(pBVar11 + 0x5c) = _LC8;
    *(undefined1 (*) [16])(pBVar11 + 0x60) = local_37d0;
    *(undefined4 *)(pBVar11 + 0x70) = _LC8;
    *(undefined4 *)(pBVar11 + 0x74) = _LC8;
    *(undefined4 *)(pBVar11 + 0x78) = _LC8;
    *(undefined4 *)(pBVar11 + 0x7c) = _LC8;
    *(undefined1 (*) [16])pBVar11 = local_37d0;
    *(undefined4 *)(pBVar11 + 0x10) = _LC8;
    *(undefined4 *)(pBVar11 + 0x14) = _LC8;
    *(undefined4 *)(pBVar11 + 0x18) = _LC8;
    *(undefined4 *)(pBVar11 + 0x1c) = _LC8;
    *(undefined1 (*) [16])(pBVar11 + 0x20) = local_37d0;
    *(undefined4 *)(pBVar11 + 0x30) = _LC8;
    *(undefined4 *)(pBVar11 + 0x34) = _LC8;
    *(undefined4 *)(pBVar11 + 0x38) = _LC8;
    *(undefined4 *)(pBVar11 + 0x3c) = _LC8;
    *(undefined1 (*) [16])pBVar14 = (undefined1  [16])0x0;
    pBVar14 = pBVar14 + 0x10;
    pBVar11 = pBVar17;
  } while (local_1c80 != pBVar17);
  uVar19 = *(ulong *)(param_1 + 0x60);
  uVar24 = *(ulong *)(param_1 + 0x68) - uVar19;
  fVar26 = (float)uVar24 * __LC20 + __LC21;
  if (__LC22 <= fVar26) {
    local_36b0[0] = (long)(fVar26 - __LC22) ^ 0x8000000000000000;
  }
  else {
    local_36b0[0] = (ulong)fVar26;
  }
  local_36a0 = *(float *)(param_1 + 0x40);
  fStack_369c = *(float *)(param_1 + 0x44);
  local_3820 = *(undefined8 *)(param_1 + 0x40);
  fStack_3698 = *(float *)(param_1 + 0x48);
  fStack_3694 = *(float *)(param_1 + 0x4c);
  uStack_3818 = *(undefined8 *)(param_1 + 0x48);
  auVar28._0_4_ = *(float *)(param_1 + 0x50) - local_36a0;
  auVar28._4_4_ = *(float *)(param_1 + 0x54) - fStack_369c;
  auVar28._8_4_ = *(float *)(param_1 + 0x58) - fStack_3698;
  auVar28._12_4_ = *(float *)(param_1 + 0x5c) - fStack_3694;
  if (0x20 < local_36b0[0]) {
    local_36b0[0] = 0x20;
  }
  auVar33._4_4_ = _LC24;
  auVar33._0_4_ = _LC24;
  auVar33._8_4_ = _LC24;
  auVar33._12_4_ = _LC24;
  auVar33 = maxps(auVar33,auVar28);
  auVar29._0_4_ = (float)(long)local_36b0[0] * __LC25;
  auVar29._4_4_ = auVar29._0_4_;
  auVar29._8_4_ = auVar29._0_4_;
  auVar29._12_4_ = auVar29._0_4_;
  auVar28 = divps(auVar29,auVar33);
  local_3690[0] = (float)(-(uint)(_LC24 < auVar33._0_4_) & auVar28._0_4_);
  local_3690[1] = (float)(-(uint)(_LC24 < auVar33._4_4_) & auVar28._4_4_);
  local_3690[2] = (float)(-(uint)(_LC24 < auVar33._8_4_) & auVar28._8_4_);
  uStack_3684 = -(uint)(_LC24 < auVar33._12_4_) & auVar28._12_4_;
  local_36f0 = *(long *)(*(long *)(param_1 + 0x90) + 0x20);
  if (uVar24 < 0xc00) {
    pauVar23 = (undefined1 (*) [16])(local_36f0 + uVar19 * 0x50);
    local_37c0._4_4_ = _LC8;
    local_37c0._8_4_ = _LC8;
    local_37c0._12_4_ = _LC8;
    if (uVar24 == 0) goto LAB_00101ac1;
    uVar8 = (int)local_36b0[0] - 1;
    if (uVar24 != 1) {
      pauVar9 = pauVar23;
      do {
        pauVar10 = pauVar9 + 10;
        auVar28 = pauVar9[6];
        auVar29 = pauVar9[5];
        auVar33 = pauVar9[7];
        uVar27 = (uint)(((*(float *)pauVar9[3] * _LC12 + *(float *)pauVar9[1] * _LC12 +
                         *(float *)pauVar9[2] * _LC12 + *(float *)*pauVar9 * _LC12) - local_36a0) *
                        local_3690[0] + _LC17);
        uVar30 = (uint)(((*(float *)(pauVar9[3] + 4) * _LC12 + *(float *)(pauVar9[1] + 4) * _LC12 +
                         *(float *)(pauVar9[2] + 4) * _LC12 + *(float *)(*pauVar9 + 4) * _LC12) -
                        fStack_369c) * local_3690[1] + _LC17);
        uVar31 = (uint)(((*(float *)(pauVar9[3] + 8) * _LC12 + *(float *)(pauVar9[1] + 8) * _LC12 +
                         *(float *)(pauVar9[2] + 8) * _LC12 + *(float *)(*pauVar9 + 8) * _LC12) -
                        fStack_3698) * local_3690[2] + _LC17);
        uVar32 = -(uint)((int)uVar27 < (int)uVar8);
        uVar34 = -(uint)((int)uVar30 < (int)uVar8);
        uVar36 = -(uint)((int)uVar31 < (int)uVar8);
        uVar27 = uVar32 & uVar27 | ~uVar32 & uVar8;
        uVar30 = uVar34 & uVar30 | ~uVar34 & uVar8;
        uVar32 = uVar36 & uVar31 | ~uVar36 & uVar8;
        uVar18 = (ulong)(~-(uint)((int)uVar27 < 0) & uVar27);
        lVar13 = uVar18 * 0xc0;
        pBVar14 = local_3480 + lVar13;
        uVar27 = (uint)(((*(float *)pauVar9[8] * _LC12 + auVar28._0_4_ * _LC12 +
                         auVar33._0_4_ * _LC12 + auVar29._0_4_ * _LC12) - local_36a0) *
                        local_3690[0] + _LC17);
        uVar31 = (uint)(((*(float *)(pauVar9[8] + 4) * _LC12 + auVar28._4_4_ * _LC12 +
                         auVar33._4_4_ * _LC12 + auVar29._4_4_ * _LC12) - fStack_369c) *
                        local_3690[1] + _LC17);
        uVar34 = (uint)(((*(float *)(pauVar9[8] + 8) * _LC12 + auVar28._8_4_ * _LC12 +
                         auVar33._8_4_ * _LC12 + auVar29._8_4_ * _LC12) - fStack_3698) *
                        local_3690[2] + _LC17);
        uVar36 = -(uint)((int)uVar27 < (int)uVar8);
        uVar44 = -(uint)((int)uVar31 < (int)uVar8);
        uVar45 = -(uint)((int)uVar34 < (int)uVar8);
        uVar27 = uVar36 & uVar27 | ~uVar36 & uVar8;
        uVar31 = uVar44 & uVar31 | ~uVar44 & uVar8;
        uVar34 = uVar45 & uVar34 | ~uVar45 & uVar8;
        auVar43 = minps(*(undefined1 (*) [16])pBVar14,*pauVar9);
        *(undefined1 (*) [16])pBVar14 = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3470 + lVar13),pauVar9[1]);
        *(undefined1 (*) [16])(local_3470 + lVar13) = auVar43;
        auVar43 = minps(*(undefined1 (*) [16])(local_3460 + lVar13),pauVar9[2]);
        *(undefined1 (*) [16])(local_3460 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3450 + lVar13),pauVar9[3]);
        *(undefined1 (*) [16])(local_3450 + lVar13) = auVar43;
        uVar19 = (ulong)(~-(uint)((int)uVar30 < 0) & uVar30);
        lVar13 = uVar19 * 0xc0;
        auVar43 = minps(*(undefined1 (*) [16])(local_3440 + lVar13),*pauVar9);
        *(undefined1 (*) [16])(local_3440 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3430 + lVar13),pauVar9[1]);
        *(undefined1 (*) [16])(local_3430 + lVar13) = auVar43;
        auVar43 = minps(*(undefined1 (*) [16])(local_3420 + lVar13),pauVar9[2]);
        *(undefined1 (*) [16])(local_3420 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3410 + lVar13),pauVar9[3]);
        *(undefined1 (*) [16])(local_3410 + lVar13) = auVar43;
        uVar1 = (ulong)(~-(uint)((int)uVar32 < 0) & uVar32);
        lVar13 = uVar1 * 0xc0;
        auVar43 = minps(*(undefined1 (*) [16])(local_3400 + lVar13),*pauVar9);
        *(undefined1 (*) [16])(local_3400 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_33f0 + lVar13),pauVar9[1]);
        *(undefined1 (*) [16])(local_33f0 + lVar13) = auVar43;
        auVar43 = minps(*(undefined1 (*) [16])(local_33e0 + lVar13),pauVar9[2]);
        *(undefined1 (*) [16])(local_33e0 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_33d0 + lVar13),pauVar9[3]);
        *(undefined1 (*) [16])(local_33d0 + lVar13) = auVar43;
        iVar15 = *(int *)(pauVar9[2] + 0xc);
        *(int *)(local_3480 + (uVar18 + 0x180) * 0x10) =
             *(int *)(local_3480 + (uVar18 + 0x180) * 0x10) + iVar15;
        uVar18 = (ulong)(~-(uint)((int)uVar27 < 0) & uVar27);
        aiStack_1c7c[uVar1 * 4 + 1] = aiStack_1c7c[uVar1 * 4 + 1] + iVar15;
        lVar13 = uVar18 * 0xc0;
        aiStack_1c7c[uVar19 * 4] = aiStack_1c7c[uVar19 * 4] + iVar15;
        pBVar14 = local_3480 + lVar13;
        auVar43 = minps(*(undefined1 (*) [16])pBVar14,auVar29);
        *(undefined1 (*) [16])pBVar14 = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3470 + lVar13),auVar28);
        *(undefined1 (*) [16])(local_3470 + lVar13) = auVar43;
        auVar43 = minps(*(undefined1 (*) [16])(local_3460 + lVar13),auVar33);
        *(undefined1 (*) [16])(local_3460 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3450 + lVar13),pauVar9[8]);
        *(undefined1 (*) [16])(local_3450 + lVar13) = auVar43;
        uVar19 = (ulong)(~-(uint)((int)uVar31 < 0) & uVar31);
        lVar13 = uVar19 * 0xc0;
        auVar43 = minps(*(undefined1 (*) [16])(local_3440 + lVar13),auVar29);
        *(undefined1 (*) [16])(local_3440 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3430 + lVar13),auVar28);
        *(undefined1 (*) [16])(local_3430 + lVar13) = auVar43;
        auVar43 = minps(*(undefined1 (*) [16])(local_3420 + lVar13),auVar33);
        *(undefined1 (*) [16])(local_3420 + lVar13) = auVar43;
        auVar43 = maxps(*(undefined1 (*) [16])(local_3410 + lVar13),pauVar9[8]);
        *(undefined1 (*) [16])(local_3410 + lVar13) = auVar43;
        uVar1 = (ulong)(~-(uint)((int)uVar34 < 0) & uVar34);
        lVar13 = uVar1 * 0xc0;
        auVar29 = minps(*(undefined1 (*) [16])(local_3400 + lVar13),auVar29);
        *(undefined1 (*) [16])(local_3400 + lVar13) = auVar29;
        auVar28 = maxps(*(undefined1 (*) [16])(local_33f0 + lVar13),auVar28);
        *(undefined1 (*) [16])(local_33f0 + lVar13) = auVar28;
        auVar28 = minps(*(undefined1 (*) [16])(local_33e0 + lVar13),auVar33);
        *(undefined1 (*) [16])(local_33e0 + lVar13) = auVar28;
        auVar28 = maxps(*(undefined1 (*) [16])(local_33d0 + lVar13),pauVar9[8]);
        *(undefined1 (*) [16])(local_33d0 + lVar13) = auVar28;
        iVar15 = *(int *)(pauVar9[7] + 0xc);
        *(int *)(local_3480 + (uVar18 + 0x180) * 0x10) =
             *(int *)(local_3480 + (uVar18 + 0x180) * 0x10) + iVar15;
        aiStack_1c7c[uVar19 * 4] = aiStack_1c7c[uVar19 * 4] + iVar15;
        aiStack_1c7c[uVar1 * 4 + 1] = aiStack_1c7c[uVar1 * 4 + 1] + iVar15;
        pauVar9 = pauVar10;
      } while (pauVar23 + (uVar24 - 2 >> 1) * 10 + 10 != pauVar10);
      uVar19 = (uVar24 - 2 & 0xfffffffffffffffe) + 2;
      if (uVar24 <= uVar19) goto LAB_00101ac1;
      pauVar23 = pauVar23 + uVar19 * 5;
    }
    auVar28 = pauVar23[1];
    auVar29 = pauVar23[3];
    auVar33 = pauVar23[2];
    auVar43 = *pauVar23;
    iVar15 = *(int *)(pauVar23[2] + 0xc);
    uVar27 = (uint)(((auVar29._0_4_ * _LC12 + auVar28._0_4_ * _LC12 +
                     _LC12 * auVar43._0_4_ + auVar33._0_4_ * _LC12) - local_36a0) * local_3690[0] +
                   _LC17);
    uVar30 = (uint)(((auVar29._4_4_ * _LC12 + auVar28._4_4_ * _LC12 +
                     _LC12 * auVar43._4_4_ + auVar33._4_4_ * _LC12) - fStack_369c) * local_3690[1] +
                   _LC17);
    uVar31 = (uint)(((auVar29._8_4_ * _LC12 + auVar28._8_4_ * _LC12 +
                     _LC12 * auVar43._8_4_ + auVar33._8_4_ * _LC12) - fStack_3698) * local_3690[2] +
                   _LC17);
    uVar32 = -(uint)((int)uVar27 < (int)uVar8);
    uVar34 = -(uint)((int)uVar30 < (int)uVar8);
    uVar36 = -(uint)((int)uVar31 < (int)uVar8);
    uVar27 = uVar32 & uVar27 | ~uVar32 & uVar8;
    uVar30 = uVar34 & uVar30 | ~uVar34 & uVar8;
    uVar8 = uVar36 & uVar31 | ~uVar36 & uVar8;
    lVar13 = (long)(int)(~-(uint)((int)uVar27 < 0) & uVar27);
    lVar12 = lVar13 * 0xc0;
    pBVar14 = local_3480 + lVar12;
    *(int *)(local_3480 + (lVar13 + 0x180) * 0x10) =
         *(int *)(local_3480 + (lVar13 + 0x180) * 0x10) + iVar15;
    auVar46 = minps(*(undefined1 (*) [16])pBVar14,auVar43);
    *(undefined1 (*) [16])pBVar14 = auVar46;
    auVar46 = maxps(*(undefined1 (*) [16])(local_3470 + lVar12),auVar28);
    *(undefined1 (*) [16])(local_3470 + lVar12) = auVar46;
    auVar46 = minps(*(undefined1 (*) [16])(local_3460 + lVar12),auVar33);
    *(undefined1 (*) [16])(local_3460 + lVar12) = auVar46;
    auVar46 = maxps(*(undefined1 (*) [16])(local_3450 + lVar12),auVar29);
    *(undefined1 (*) [16])(local_3450 + lVar12) = auVar46;
    lVar13 = (long)(int)(~-(uint)((int)uVar30 < 0) & uVar30);
    lVar12 = lVar13 * 0xc0;
    aiStack_1c7c[lVar13 * 4] = aiStack_1c7c[lVar13 * 4] + iVar15;
    auVar46 = minps(*(undefined1 (*) [16])(local_3440 + lVar12),auVar43);
    *(undefined1 (*) [16])(local_3440 + lVar12) = auVar46;
    auVar46 = maxps(*(undefined1 (*) [16])(local_3430 + lVar12),auVar28);
    *(undefined1 (*) [16])(local_3430 + lVar12) = auVar46;
    auVar46 = minps(*(undefined1 (*) [16])(local_3420 + lVar12),auVar33);
    *(undefined1 (*) [16])(local_3420 + lVar12) = auVar46;
    auVar46 = maxps(*(undefined1 (*) [16])(local_3410 + lVar12),auVar29);
    *(undefined1 (*) [16])(local_3410 + lVar12) = auVar46;
    lVar13 = (long)(int)(~-(uint)((int)uVar8 < 0) & uVar8);
    lVar12 = lVar13 * 0xc0;
    aiStack_1c7c[lVar13 * 4 + 1] = aiStack_1c7c[lVar13 * 4 + 1] + iVar15;
    auVar43 = minps(*(undefined1 (*) [16])(local_3400 + lVar12),auVar43);
    *(undefined1 (*) [16])(local_3400 + lVar12) = auVar43;
    auVar28 = maxps(*(undefined1 (*) [16])(local_33f0 + lVar12),auVar28);
    *(undefined1 (*) [16])(local_33f0 + lVar12) = auVar28;
    auVar28 = minps(*(undefined1 (*) [16])(local_33e0 + lVar12),auVar33);
    *(undefined1 (*) [16])(local_33e0 + lVar12) = auVar28;
    auVar28 = maxps(*(undefined1 (*) [16])(local_33d0 + lVar12),auVar29);
    *(undefined1 (*) [16])(local_33d0 + lVar12) = auVar28;
    if (local_36b0[0] == 1) goto LAB_00102492;
LAB_00101acb:
    auVar54._4_4_ = local_37c0._4_4_;
    auVar54._0_4_ = _LC8;
    auVar54._8_4_ = local_37c0._8_4_;
    auVar54._12_4_ = local_37c0._12_4_;
    auVar52._4_4_ = local_37c0._4_4_;
    auVar52._0_4_ = _LC8;
    auVar52._8_4_ = local_37c0._8_4_;
    auVar52._12_4_ = local_37c0._12_4_;
    auVar49._4_4_ = local_37c0._4_4_;
    auVar49._0_4_ = _LC8;
    auVar49._8_4_ = local_37c0._8_4_;
    auVar49._12_4_ = local_37c0._12_4_;
    auVar46._4_4_ = local_37c0._4_4_;
    auVar46._0_4_ = _LC8;
    auVar46._8_4_ = local_37c0._8_4_;
    auVar46._12_4_ = local_37c0._12_4_;
    local_3700 = (undefined1  [16])0x0;
    auVar43._4_4_ = local_37c0._4_4_;
    auVar43._0_4_ = _LC8;
    auVar43._8_4_ = local_37c0._8_4_;
    auVar43._12_4_ = local_37c0._12_4_;
    auVar53._4_4_ = local_37c0._4_4_;
    auVar53._0_4_ = _LC8;
    auVar53._8_4_ = local_37c0._8_4_;
    auVar53._12_4_ = local_37c0._12_4_;
    pBVar14 = aBStack_3540 + local_36b0[0] * 0xc0;
    pfVar20 = local_3690 + local_36b0[0] * 4;
    auVar28 = local_37d0;
    local_3750 = local_37d0;
    local_3740 = local_37d0;
    local_3730 = local_37d0;
    local_3720 = local_37d0;
    _local_3710 = local_37d0;
    lVar13 = local_36b0[0] * 0x10;
    do {
      auVar43 = maxps(auVar43,*(undefined1 (*) [16])(pBVar14 + 0x10));
      pBVar11 = pBVar14 + -0xc0;
      iVar15 = *(int *)(local_1c90 + lVar13 + 8);
      iVar16 = *(int *)(local_1c90 + lVar13 + 0xc);
      local_3700._0_4_ = local_3700._0_4_ + *(int *)(local_1c80 + lVar13 + -0x10);
      local_3700._4_4_ = local_3700._4_4_ + *(int *)((long)aiStack_1c7c + lVar13 + -0x10);
      auVar53 = maxps(auVar53,*(undefined1 (*) [16])(pBVar14 + 0x30));
      local_3720 = minps(local_3720,*(undefined1 (*) [16])(pBVar14 + 0x20));
      *(undefined4 *)(local_1a80 + lVar13 + -0x10) = local_3700._0_4_;
      *(undefined4 *)((long)aiStack_1a7c + lVar13 + -0x10) = local_3700._4_4_;
      *(int *)((long)aiStack_1c7c + lVar13 + 500) = local_3700._8_4_ + iVar15;
      *(int *)((long)aiStack_1c7c + lVar13 + 0x1f8) = local_3700._12_4_ + iVar16;
      auVar46 = maxps(auVar46,*(undefined1 (*) [16])(pBVar14 + 0x50));
      auVar49 = maxps(auVar49,*(undefined1 (*) [16])(pBVar14 + 0x70));
      local_3700._8_4_ = local_3700._8_4_ + iVar15;
      local_3700._12_4_ = local_3700._12_4_ + iVar16;
      _local_3710 = minps(_local_3710,*(undefined1 (*) [16])pBVar14);
      fVar26 = auVar53._4_4_ - local_3720._4_4_;
      fVar37 = auVar53._8_4_ - local_3720._8_4_;
      auVar52 = maxps(auVar52,*(undefined1 (*) [16])(pBVar14 + 0x90));
      auVar28 = minps(auVar28,*(undefined1 (*) [16])(pBVar14 + 0x80));
      auVar54 = maxps(auVar54,*(undefined1 (*) [16])(pBVar14 + 0xb0));
      fVar39 = auVar43._4_4_ - SUB164(_local_3710,4);
      fVar41 = auVar43._8_4_ - SUB164(_local_3710,8);
      local_3740 = minps(local_3740,*(undefined1 (*) [16])(pBVar14 + 0x60));
      fVar35 = auVar49._4_4_ - local_3740._4_4_;
      fVar38 = auVar49._8_4_ - local_3740._8_4_;
      local_3730 = minps(local_3730,*(undefined1 (*) [16])(pBVar14 + 0x40));
      fVar40 = auVar46._4_4_ - local_3730._4_4_;
      fVar42 = auVar46._8_4_ - local_3730._8_4_;
      *pfVar20 = _LC12 * (fVar39 * fVar41 +
                          (fVar39 + fVar41) * (auVar43._0_4_ - SUB164(_local_3710,0)) +
                         (fVar26 + fVar37) * (auVar53._0_4_ - local_3720._0_4_) + fVar26 * fVar37);
      local_3750 = minps(local_3750,*(undefined1 (*) [16])(pBVar14 + 0xa0));
      fVar26 = auVar54._4_4_ - local_3750._4_4_;
      fVar37 = auVar54._8_4_ - local_3750._8_4_;
      fVar39 = auVar52._4_4_ - auVar28._4_4_;
      fVar41 = auVar52._8_4_ - auVar28._8_4_;
      pfVar20[1] = _LC12 * (fVar40 * fVar42 + (fVar40 + fVar42) * (auVar46._0_4_ - local_3730._0_4_)
                           + (fVar35 + fVar38) * (auVar49._0_4_ - local_3740._0_4_) +
                             fVar35 * fVar38);
      pfVar20[2] = _LC12 * (fVar39 * fVar41 + (fVar39 + fVar41) * (auVar52._0_4_ - auVar28._0_4_) +
                           (fVar26 + fVar37) * (auVar54._0_4_ - local_3750._0_4_) + fVar26 * fVar37)
      ;
      pfVar20[3] = 0.0;
      pBVar14 = pBVar11;
      pfVar20 = pfVar20 + -4;
      lVar13 = lVar13 + -0x10;
    } while (local_3480 != pBVar11);
    iVar15 = (1 << ((byte)param_2 & 0x1f)) + -1;
    local_36c0 = (undefined1  [16])0x0;
    _local_36d0 = local_37d0;
    if (1 < local_36b0[0]) {
      lVar13 = 0x10;
      local_3700 = (undefined1  [16])0x0;
      uVar19 = param_2 & 0xffffffff;
      local_37c0._0_4_ = _LC8;
      local_37a0._4_4_ = local_37c0._4_4_;
      local_37a0._0_4_ = _LC8;
      local_37a0._8_4_ = local_37c0._8_4_;
      local_37a0._12_4_ = local_37c0._12_4_;
      local_3780._4_4_ = local_37c0._4_4_;
      local_3780._0_4_ = _LC8;
      local_3780._8_4_ = local_37c0._8_4_;
      local_3780._12_4_ = local_37c0._12_4_;
      local_3760._4_4_ = local_37c0._4_4_;
      local_3760._0_4_ = _LC8;
      local_3760._8_4_ = local_37c0._8_4_;
      local_3760._12_4_ = local_37c0._12_4_;
      local_3740._4_4_ = local_37c0._4_4_;
      local_3740._0_4_ = _LC8;
      local_3740._8_4_ = local_37c0._8_4_;
      local_3740._12_4_ = local_37c0._12_4_;
      local_3720 = (undefined1  [16])0x0;
      local_37f0._4_4_ = local_37c0._4_4_;
      local_37f0._0_4_ = _LC8;
      local_37f0._8_4_ = local_37c0._8_4_;
      local_37f0._12_4_ = local_37c0._12_4_;
      local_37b0 = local_37d0;
      local_3790 = local_37d0;
      local_3770 = local_37d0;
      local_3750 = local_37d0;
      local_3730 = local_37d0;
      _local_3710 = local_37d0;
      local_37e0 = __LC28;
      uStack_37dc = _UNK_0012d8d4;
      uStack_37d8 = _UNK_0012d8d8;
      uStack_37d4 = _UNK_0012d8dc;
      do {
        local_3740 = maxps(local_3740,*(undefined1 (*) [16])(pBVar11 + 0x10));
        local_3730 = minps(local_3730,*(undefined1 (*) [16])pBVar11);
        local_3760 = maxps(local_3760,*(undefined1 (*) [16])(pBVar11 + 0x30));
        local_3750 = minps(local_3750,*(undefined1 (*) [16])(pBVar11 + 0x20));
        local_3790 = minps(local_3790,*(undefined1 (*) [16])(pBVar11 + 0x60));
        fVar47 = local_3740._4_4_ - local_3730._4_4_;
        fVar48 = local_3740._8_4_ - local_3730._8_4_;
        fVar41 = local_3760._4_4_ - local_3750._4_4_;
        fVar42 = local_3760._8_4_ - local_3750._8_4_;
        local_3770 = minps(local_3770,*(undefined1 (*) [16])(pBVar11 + 0x40));
        local_37a0 = maxps(local_37a0,*(undefined1 (*) [16])(pBVar11 + 0x70));
        local_3720._0_4_ = local_3720._0_4_ + *(int *)(local_1c90 + lVar13);
        local_3720._4_4_ = local_3720._4_4_ + *(int *)(local_1c90 + lVar13 + 4);
        local_3720._8_4_ = local_3720._8_4_ + *(int *)(local_1c90 + lVar13 + 8);
        local_3720._12_4_ = local_3720._12_4_ + *(int *)(local_1c90 + lVar13 + 0xc);
        local_3780 = maxps(local_3780,*(undefined1 (*) [16])(pBVar11 + 0x50));
        fVar39 = local_37a0._4_4_ - local_3790._4_4_;
        fVar40 = local_37a0._8_4_ - local_3790._8_4_;
        fVar35 = local_3780._4_4_ - local_3770._4_4_;
        fVar37 = local_3780._8_4_ - local_3770._8_4_;
        local_37b0 = minps(local_37b0,*(undefined1 (*) [16])(pBVar11 + 0x80));
        local_37c0 = maxps(local_37c0,*(undefined1 (*) [16])(pBVar11 + 0x90));
        local_37d0 = minps(local_37d0,*(undefined1 (*) [16])(pBVar11 + 0xa0));
        local_37f0 = maxps(local_37f0,*(undefined1 (*) [16])(pBVar11 + 0xb0));
        fVar26 = local_37c0._4_4_ - local_37b0._4_4_;
        fVar38 = local_37c0._8_4_ - local_37b0._8_4_;
        fVar50 = local_37f0._4_4_ - local_37d0._4_4_;
        fVar51 = local_37f0._8_4_ - local_37d0._8_4_;
        fVar38 = _LC12 * (fVar26 * fVar38 +
                          (fVar26 + fVar38) * (local_37c0._0_4_ - local_37b0._0_4_) +
                         (fVar50 + fVar51) * (local_37f0._0_4_ - local_37d0._0_4_) + fVar50 * fVar51
                         );
        uVar8 = (uint)(local_3720._0_4_ + iVar15) >> uVar19;
        uVar27 = (uint)(local_3720._4_4_ + iVar15) >> uVar19;
        uVar30 = (uint)(local_3720._8_4_ + iVar15) >> uVar19;
        uVar31 = (uint)(local_3720._12_4_ + iVar15) >> uVar19;
        uVar32 = (uint)(iVar15 + *(int *)(local_1a80 + lVar13)) >> uVar19;
        uVar34 = (uint)(iVar15 + *(int *)((long)aiStack_1a7c + lVar13)) >> uVar19;
        uVar36 = (uint)(iVar15 + *(int *)((long)aiStack_1a7c + lVar13 + 4)) >> uVar19;
        uVar44 = (uint)(iVar15 + *(int *)((long)aiStack_1a7c + lVar13 + 8)) >> uVar19;
        pfVar20 = (float *)((long)local_3680 + lVar13);
        lVar12 = lVar13 + 4;
        lVar6 = lVar13 + 8;
        lVar7 = lVar13 + 0xc;
        lVar13 = lVar13 + 0x10;
        fVar26 = (fVar47 * fVar48 + (fVar47 + fVar48) * (local_3740._0_4_ - local_3730._0_4_) +
                 (fVar41 + fVar42) * (local_3760._0_4_ - local_3750._0_4_) + fVar41 * fVar42) *
                 _LC12 * ((float)(int)(uVar8 & _LC6) + (float)((int)uVar8 >> 0x1f & __LC27)) +
                 ((float)(int)(uVar32 & _LC6) + (float)((int)uVar32 >> 0x1f & __LC27)) * *pfVar20;
        fVar35 = _LC12 * (fVar35 * fVar37 +
                          (fVar35 + fVar37) * (local_3780._0_4_ - local_3770._0_4_) +
                         (fVar39 + fVar40) * (local_37a0._0_4_ - local_3790._0_4_) + fVar39 * fVar40
                         ) *
                 ((float)(int)(uVar27 & _UNK_0012d8e4) +
                 (float)((int)uVar27 >> 0x1f & _UNK_0012d8f4)) +
                 ((float)(int)(uVar34 & _UNK_0012d8e4) +
                 (float)((int)uVar34 >> 0x1f & _UNK_0012d8f4)) *
                 *(float *)((long)local_3680 + lVar12);
        fVar37 = fVar38 * ((float)(int)(uVar30 & _UNK_0012d8e8) +
                          (float)((int)uVar30 >> 0x1f & _UNK_0012d8f8)) +
                 ((float)(int)(uVar36 & _UNK_0012d8e8) +
                 (float)((int)uVar36 >> 0x1f & _UNK_0012d8f8)) *
                 *(float *)((long)local_3680 + lVar6);
        fVar38 = fVar38 * ((float)(int)(uVar31 & _UNK_0012d8ec) +
                          (float)((int)uVar31 >> 0x1f & _UNK_0012d8fc)) +
                 ((float)(int)(uVar44 & _UNK_0012d8ec) +
                 (float)((int)uVar44 >> 0x1f & _UNK_0012d8fc)) *
                 *(float *)((long)local_3680 + lVar7);
        uVar8 = -(uint)(fVar26 < (float)local_3710._0_4_);
        uVar27 = -(uint)(fVar35 < (float)local_3710._4_4_);
        uVar30 = -(uint)(fVar37 < fStack_3708);
        uVar31 = -(uint)(fVar38 < fStack_3704);
        local_3700._0_4_ = local_37e0 & uVar8 | ~uVar8 & local_3700._0_4_;
        local_3700._4_4_ = uStack_37dc & uVar27 | ~uVar27 & local_3700._4_4_;
        local_3700._8_4_ = uStack_37d8 & uVar30 | ~uVar30 & local_3700._8_4_;
        local_3700._12_4_ = uStack_37d4 & uVar31 | ~uVar31 & local_3700._12_4_;
        local_3710._0_4_ = uVar8 & (uint)fVar26 | ~uVar8 & local_3710._0_4_;
        local_3710._4_4_ = uVar27 & (uint)fVar35 | ~uVar27 & local_3710._4_4_;
        fStack_3708 = (float)(uVar30 & (uint)fVar37 | ~uVar30 & (uint)fStack_3708);
        fStack_3704 = (float)(uVar31 & (uint)fVar38 | ~uVar31 & (uint)fStack_3704);
        pBVar11 = pBVar11 + 0xc0;
        local_37e0 = local_37e0 + __LC28;
        uStack_37dc = uStack_37dc + _UNK_0012d8d4;
        uStack_37d8 = uStack_37d8 + _UNK_0012d8d8;
        uStack_37d4 = uStack_37d4 + _UNK_0012d8dc;
      } while (lVar13 != local_36b0[0] * 0x10);
      local_36c0._4_4_ = local_3700._4_4_;
      local_36c0._0_4_ = local_3700._0_4_;
      local_36c0._8_4_ = local_3700._8_4_;
      local_36c0._12_4_ = local_3700._12_4_;
      local_36d0._4_4_ = local_3710._4_4_;
      local_36d0._0_4_ = local_3710._0_4_;
      fStack_36c8 = fStack_3708;
      uStack_36c4 = (uint)fStack_3704;
    }
  }
  else {
    local_36e8 = local_36b0;
    local_36e0 = &local_36f0;
    local_36d8 = local_36e8;
    parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>const&)_2_>
              (local_1a80,uVar24 + 0x3ff >> 10,uVar19,*(ulong *)(param_1 + 0x68),0x400,local_3480,
               (_lambda_embree__range<unsigned_long>_const___1_ *)&local_36e0,
               (_lambda_embree__sse2__BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>_>_const___2_
                *)&local_36e8);
    local_37d0._4_12_ = _UNK_0012d8b4;
    local_37d0._0_4_ = _LC10;
    pBVar14 = local_3480;
    peVar22 = local_1a80;
    do {
      uVar2 = *(undefined8 *)(peVar22 + 8);
      uVar3 = *(undefined8 *)(peVar22 + 0x40);
      uVar4 = *(undefined8 *)(peVar22 + 0x48);
      pBVar11 = pBVar14 + 0xc0;
      *(undefined8 *)pBVar14 = *(undefined8 *)peVar22;
      *(undefined8 *)(pBVar14 + 8) = uVar2;
      uVar2 = *(undefined8 *)(peVar22 + 0x10);
      uVar5 = *(undefined8 *)(peVar22 + 0x18);
      *(undefined8 *)(pBVar14 + 0x40) = uVar3;
      *(undefined8 *)(pBVar14 + 0x48) = uVar4;
      uVar3 = *(undefined8 *)(peVar22 + 0x60);
      uVar4 = *(undefined8 *)(peVar22 + 0x68);
      *(undefined8 *)(pBVar14 + 0x10) = uVar2;
      *(undefined8 *)(pBVar14 + 0x18) = uVar5;
      uVar2 = *(undefined8 *)(peVar22 + 0x20);
      uVar5 = *(undefined8 *)(peVar22 + 0x28);
      *(undefined8 *)(pBVar14 + 0x60) = uVar3;
      *(undefined8 *)(pBVar14 + 0x68) = uVar4;
      uVar3 = *(undefined8 *)(peVar22 + 0x80);
      uVar4 = *(undefined8 *)(peVar22 + 0x88);
      *(undefined8 *)(pBVar14 + 0x20) = uVar2;
      *(undefined8 *)(pBVar14 + 0x28) = uVar5;
      uVar2 = *(undefined8 *)(peVar22 + 0x30);
      uVar5 = *(undefined8 *)(peVar22 + 0x38);
      *(undefined8 *)(pBVar14 + 0x80) = uVar3;
      *(undefined8 *)(pBVar14 + 0x88) = uVar4;
      uVar3 = *(undefined8 *)(peVar22 + 0xa0);
      uVar4 = *(undefined8 *)(peVar22 + 0xa8);
      *(undefined8 *)(pBVar14 + 0x30) = uVar2;
      *(undefined8 *)(pBVar14 + 0x38) = uVar5;
      uVar2 = *(undefined8 *)(peVar22 + 0x50);
      uVar5 = *(undefined8 *)(peVar22 + 0x58);
      *(undefined8 *)(pBVar14 + 0xa0) = uVar3;
      *(undefined8 *)(pBVar14 + 0xa8) = uVar4;
      *(undefined8 *)(pBVar14 + 0x50) = uVar2;
      *(undefined8 *)(pBVar14 + 0x58) = uVar5;
      uVar2 = *(undefined8 *)(peVar22 + 0x78);
      *(undefined8 *)(pBVar14 + 0x70) = *(undefined8 *)(peVar22 + 0x70);
      *(undefined8 *)(pBVar14 + 0x78) = uVar2;
      uVar2 = *(undefined8 *)(peVar22 + 0x98);
      *(undefined8 *)(pBVar14 + 0x90) = *(undefined8 *)(peVar22 + 0x90);
      *(undefined8 *)(pBVar14 + 0x98) = uVar2;
      uVar2 = *(undefined8 *)(peVar22 + 0xb8);
      *(undefined8 *)(pBVar14 + 0xb0) = *(undefined8 *)(peVar22 + 0xb0);
      *(undefined8 *)(pBVar14 + 0xb8) = uVar2;
      pBVar14 = pBVar11;
      peVar22 = peVar22 + 0xc0;
    } while (local_1c80 != pBVar11);
    local_3820 = CONCAT44(fStack_369c,local_36a0);
    uStack_3818 = CONCAT44(fStack_3694,fStack_3698);
    puVar21 = local_280;
    pBVar14 = local_1c80;
    for (lVar13 = 0x40; local_37c0._4_4_ = _UNK_0012d8a4, local_37c0._8_4_ = _UNK_0012d8a8,
        local_37c0._12_4_ = _UNK_0012d8ac, lVar13 != 0; lVar13 = lVar13 + -1) {
      *(undefined8 *)pBVar14 = *puVar21;
      puVar21 = puVar21 + (ulong)bVar25 * -2 + 1;
      pBVar14 = pBVar14 + (ulong)bVar25 * -0x10 + 8;
    }
LAB_00101ac1:
    if (local_36b0[0] != 1) goto LAB_00101acb;
LAB_00102492:
    local_36c0 = (undefined1  [16])0x0;
    _local_36d0 = local_37d0;
  }
  if ((local_3690[0] != 0.0) && ((float)local_36d0._0_4_ <= _LC29)) {
    iVar16 = 0;
    fVar26 = (float)local_36d0._0_4_;
    iVar15 = local_36c0._0_4_;
    if (local_36c0._0_4_ != 0) goto LAB_001021f4;
  }
  iVar16 = -1;
  fVar26 = _LC10;
  iVar15 = 0;
LAB_001021f4:
  if (((local_3690[1] != 0.0) && ((float)local_36d0._4_4_ < fVar26)) && (local_36c0._4_4_ != 0)) {
    iVar16 = 1;
    iVar15 = local_36c0._4_4_;
    fVar26 = (float)local_36d0._4_4_;
  }
  if (((local_3690[2] != 0.0) && (fStack_36c8 < fVar26)) && (local_36c0._8_4_ != 0)) {
    iVar16 = 2;
    iVar15 = local_36c0._8_4_;
    fVar26 = fStack_36c8;
  }
  *(int *)(this + 8) = iVar15;
  *(undefined4 *)(this + 0xc) = 0;
  *(float *)this = fVar26;
  *(int *)(this + 4) = iVar16;
  *(ulong *)(this + 0x10) = local_36b0[0];
  *(undefined8 *)(this + 0x20) = local_3820;
  *(undefined8 *)(this + 0x28) = uStack_3818;
  *(float *)(this + 0x30) = local_3690[0];
  *(float *)(this + 0x34) = local_3690[1];
  *(float *)(this + 0x38) = local_3690[2];
  *(uint *)(this + 0x3c) = uStack_3684;
  fVar35 = *(float *)(param_1 + 0x8c);
  fVar37 = *(float *)(param_1 + 0x88);
  *(uint *)(this + 0xc) = (uint)(iVar16 == -1);
  *(float *)this = (fVar35 - fVar37) * fVar26;
  if (local_48 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return this;
}



/* embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo
   embree::parallel_reduce_internal<unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,
   2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB const*, unsigned long, unsigned long,
   unsigned long, unsigned long, embree::BBox<float>, embree::SetMB const&,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const
   (embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&)>(unsigned
   long, unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,
   2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB const*, unsigned long, unsigned long,
   unsigned long, unsigned long, embree::BBox<float>, embree::SetMB const&,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)::{lambda(embree::range<unsigned
   long> const&)#1} const&, embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const (
   const&)(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&)) [clone
   .isra.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,
                TemporalBinInfo_conflict *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _func_TemporalBinInfo_TemporalBinInfo_ptr_TemporalBinInfo_ptr *param_7)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  ulong uVar9;
  long lVar10;
  long lVar11;
  undefined8 uVar12;
  long in_FS_OFFSET;
  ulong local_2158;
  ulong local_2150;
  ulong local_2148 [2];
  ulong local_2138;
  ulong *local_2130;
  ulong *local_2128;
  ulong *local_2120;
  undefined1 *local_2118;
  _lambda_embree__range<unsigned_long>_const___1_ *local_2110;
  ulong local_2100;
  undefined8 uStack_20f8;
  undefined8 local_20f0;
  undefined8 **ppuStack_20e8;
  ulong *local_20e0;
  undefined8 local_20d0;
  undefined8 local_20c8;
  undefined8 local_20c0;
  undefined8 uStack_20b8;
  undefined8 local_20b0;
  undefined8 uStack_20a8;
  undefined4 local_20a0;
  undefined4 uStack_209c;
  undefined4 uStack_2098;
  undefined4 uStack_2094;
  undefined4 local_2090;
  undefined4 uStack_208c;
  undefined4 uStack_2088;
  undefined4 uStack_2084;
  undefined4 local_2080;
  undefined4 uStack_207c;
  undefined4 uStack_2078;
  undefined4 uStack_2074;
  undefined4 local_2070;
  undefined4 uStack_206c;
  undefined4 uStack_2068;
  undefined4 uStack_2064;
  undefined4 local_2060;
  undefined4 uStack_205c;
  undefined4 uStack_2058;
  undefined4 uStack_2054;
  undefined4 local_2050;
  undefined4 uStack_204c;
  undefined4 uStack_2048;
  undefined4 uStack_2044;
  undefined1 local_2040 [8064];
  undefined1 *local_c0;
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2158 = param_4;
  local_2150 = param_3;
  local_2148[0] = param_2;
  uVar9 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2148[0]) {
    local_2148[0] = 0x200;
  }
  if (uVar9 < local_2148[0]) {
    local_2148[0] = uVar9;
  }
  local_b8 = local_2148[0];
  if (local_2148[0] * 0x90 < 0x2001) {
    local_c0 = local_2040;
  }
  else {
    local_c0 = (undefined1 *)embree::alignedMalloc(local_2148[0] * 0x90,0x40);
  }
  uVar9 = local_2148[0];
  local_2130 = &local_2150;
  local_2128 = &local_2158;
  local_2120 = local_2148;
  local_2118 = local_2040;
  local_2110 = param_6;
  if (local_2148[0] != 0) {
    ppuStack_20e8 = &local_2130;
    uStack_20f8 = 0;
    local_20f0 = 1;
    local_2138 = 0;
    local_2100 = local_2148[0];
    local_20e0 = &local_2138;
    lVar10 = embree::TaskScheduler::thread();
    if (lVar10 == 0) {
      uVar12 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse227HeuristicMBlurTemporalSplitINS_9PrimRefMBENS5_18RecalculatePrimRefINS_12TriangleMeshEEELm2EE15TemporalBinInfoEZNSC_12bin_parallelEPKS7_mmmmNS_4BBoxIfEERKNS_5SetMBERKSA_EUlRKNS_5rangeImEEE_FKSC_RSR_SS_EEET0_T_SV_SV_SV_RKSU_RKT1_RKT2_EUlmE_EEvSV_SX_EUlSP_E_EEvSV_SV_SV_SX_PNS0_16TaskGroupContextEEUlvE_EEvRKSV_S17_mb
                (uVar12,&local_2100,&local_2138,uVar9,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar10 + 0x40080)) {

        embree_parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
        :
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar4 = *(long *)(lVar10 + 0xc00c0);
      uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
      if (0x80000 < uVar2)
      goto 
      embree_parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
      ;
      *(ulong *)(lVar10 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar10 + 0x40090 + uVar2);
      *puVar3 = 0x12d578;
      puVar3[1] = local_2100;
      puVar3[2] = uStack_20f8;
      puVar3[3] = local_20f0;
      puVar3[4] = ppuStack_20e8;
      puVar3[5] = local_20e0;
      lVar11 = *(long *)(lVar10 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar10 + 0x40 + lVar11);
      lVar5 = *(long *)(lVar10 + 0xc0100);
      *(undefined4 *)(lVar10 + 0x44 + lVar11) = 1;
      *(undefined1 *)(lVar10 + 0x48 + lVar11) = 1;
      lVar11 = lVar11 + lVar10;
      *(undefined8 **)(lVar11 + 0x50) = puVar3;
      *(long *)(lVar11 + 0x58) = lVar5;
      *(ulong **)(lVar11 + 0x60) = &local_2138;
      *(long *)(lVar11 + 0x68) = lVar4;
      *(ulong *)(lVar11 + 0x70) = uVar9;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar10 + 0x40080) = *(long *)(lVar10 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar10 + 0x40080) - 1U <= *(ulong *)(lVar10 + 0x40040)) {
        LOCK();
        *(long *)(lVar10 + 0x40040) = *(long *)(lVar10 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    if (local_2138 != 0) {
      local_2100 = local_2138;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_2100);
      goto LAB_00102a78;
    }
  }
  *(undefined8 *)param_1 = *(undefined8 *)param_5;
  *(undefined8 *)(param_1 + 8) = *(undefined8 *)(param_5 + 8);
  uVar12 = *(undefined8 *)(param_5 + 0x18);
  *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_5 + 0x10);
  *(undefined8 *)(param_1 + 0x18) = uVar12;
  uVar12 = *(undefined8 *)(param_5 + 0x28);
  *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_5 + 0x20);
  *(undefined8 *)(param_1 + 0x28) = uVar12;
  uVar6 = *(undefined4 *)(param_5 + 0x34);
  uVar7 = *(undefined4 *)(param_5 + 0x38);
  uVar8 = *(undefined4 *)(param_5 + 0x3c);
  *(undefined4 *)(param_1 + 0x30) = *(undefined4 *)(param_5 + 0x30);
  *(undefined4 *)(param_1 + 0x34) = uVar6;
  *(undefined4 *)(param_1 + 0x38) = uVar7;
  *(undefined4 *)(param_1 + 0x3c) = uVar8;
  uVar6 = *(undefined4 *)(param_5 + 0x44);
  uVar7 = *(undefined4 *)(param_5 + 0x48);
  uVar8 = *(undefined4 *)(param_5 + 0x4c);
  *(undefined4 *)(param_1 + 0x40) = *(undefined4 *)(param_5 + 0x40);
  *(undefined4 *)(param_1 + 0x44) = uVar6;
  *(undefined4 *)(param_1 + 0x48) = uVar7;
  *(undefined4 *)(param_1 + 0x4c) = uVar8;
  uVar6 = *(undefined4 *)(param_5 + 0x54);
  uVar7 = *(undefined4 *)(param_5 + 0x58);
  uVar8 = *(undefined4 *)(param_5 + 0x5c);
  *(undefined4 *)(param_1 + 0x50) = *(undefined4 *)(param_5 + 0x50);
  *(undefined4 *)(param_1 + 0x54) = uVar6;
  *(undefined4 *)(param_1 + 0x58) = uVar7;
  *(undefined4 *)(param_1 + 0x5c) = uVar8;
  uVar6 = *(undefined4 *)(param_5 + 100);
  uVar7 = *(undefined4 *)(param_5 + 0x68);
  uVar8 = *(undefined4 *)(param_5 + 0x6c);
  *(undefined4 *)(param_1 + 0x60) = *(undefined4 *)(param_5 + 0x60);
  *(undefined4 *)(param_1 + 100) = uVar6;
  *(undefined4 *)(param_1 + 0x68) = uVar7;
  *(undefined4 *)(param_1 + 0x6c) = uVar8;
  uVar6 = *(undefined4 *)(param_5 + 0x74);
  uVar7 = *(undefined4 *)(param_5 + 0x78);
  uVar8 = *(undefined4 *)(param_5 + 0x7c);
  *(undefined4 *)(param_1 + 0x70) = *(undefined4 *)(param_5 + 0x70);
  *(undefined4 *)(param_1 + 0x74) = uVar6;
  *(undefined4 *)(param_1 + 0x78) = uVar7;
  *(undefined4 *)(param_1 + 0x7c) = uVar8;
  uVar6 = *(undefined4 *)(param_5 + 0x84);
  uVar7 = *(undefined4 *)(param_5 + 0x88);
  uVar8 = *(undefined4 *)(param_5 + 0x8c);
  *(undefined4 *)(param_1 + 0x80) = *(undefined4 *)(param_5 + 0x80);
  *(undefined4 *)(param_1 + 0x84) = uVar6;
  *(undefined4 *)(param_1 + 0x88) = uVar7;
  *(undefined4 *)(param_1 + 0x8c) = uVar8;
  if (local_2148[0] != 0) {
    uVar9 = 0;
    do {
      uVar9 = uVar9 + 1;
      (*param_7)((TemporalBinInfo_conflict *)&local_20d0,(TemporalBinInfo_conflict *)param_1);
      *(undefined8 *)param_1 = local_20d0;
      *(undefined8 *)(param_1 + 0x10) = local_20c0;
      *(undefined8 *)(param_1 + 0x18) = uStack_20b8;
      *(undefined8 *)(param_1 + 0x20) = local_20b0;
      *(undefined8 *)(param_1 + 0x28) = uStack_20a8;
      *(undefined8 *)(param_1 + 8) = local_20c8;
      *(undefined4 *)(param_1 + 0x30) = local_20a0;
      *(undefined4 *)(param_1 + 0x34) = uStack_209c;
      *(undefined4 *)(param_1 + 0x38) = uStack_2098;
      *(undefined4 *)(param_1 + 0x3c) = uStack_2094;
      *(undefined4 *)(param_1 + 0x40) = local_2090;
      *(undefined4 *)(param_1 + 0x44) = uStack_208c;
      *(undefined4 *)(param_1 + 0x48) = uStack_2088;
      *(undefined4 *)(param_1 + 0x4c) = uStack_2084;
      *(undefined4 *)(param_1 + 0x50) = local_2080;
      *(undefined4 *)(param_1 + 0x54) = uStack_207c;
      *(undefined4 *)(param_1 + 0x58) = uStack_2078;
      *(undefined4 *)(param_1 + 0x5c) = uStack_2074;
      *(undefined4 *)(param_1 + 0x60) = local_2070;
      *(undefined4 *)(param_1 + 100) = uStack_206c;
      *(undefined4 *)(param_1 + 0x68) = uStack_2068;
      *(undefined4 *)(param_1 + 0x6c) = uStack_2064;
      *(undefined4 *)(param_1 + 0x70) = local_2060;
      *(undefined4 *)(param_1 + 0x74) = uStack_205c;
      *(undefined4 *)(param_1 + 0x78) = uStack_2058;
      *(undefined4 *)(param_1 + 0x7c) = uStack_2054;
      *(undefined4 *)(param_1 + 0x80) = local_2050;
      *(undefined4 *)(param_1 + 0x84) = uStack_204c;
      *(undefined4 *)(param_1 + 0x88) = uStack_2048;
      *(undefined4 *)(param_1 + 0x8c) = uStack_2044;
    } while (uVar9 < local_2148[0]);
  }
  if (local_c0 != local_2040) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_00102a78:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned
   long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const
   (embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#1} const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const (
   const&)(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)) [clone .isra.0] */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,
                PrimInfoMBT_conflict *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _func_PrimInfoMBT_PrimInfoMBT_ptr_PrimInfoMBT_ptr *param_7)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  long lVar7;
  long lVar8;
  undefined8 uVar9;
  long in_FS_OFFSET;
  ulong local_2128;
  ulong local_2120;
  ulong local_2118 [2];
  ulong local_2108;
  ulong *local_2100;
  ulong *local_20f8;
  ulong *local_20f0;
  undefined1 *local_20e8;
  _lambda_embree__range<unsigned_long>_const___1_ *local_20e0;
  undefined8 local_20d0;
  undefined8 uStack_20c8;
  undefined8 local_20c0;
  undefined8 **ppuStack_20b8;
  ulong *local_20b0;
  undefined8 uStack_20a8;
  undefined8 local_20a0;
  undefined8 uStack_2098;
  undefined8 local_2090;
  undefined8 uStack_2088;
  undefined8 local_2080;
  undefined8 uStack_2078;
  undefined8 local_2070;
  undefined8 uStack_2068;
  undefined8 local_2060;
  undefined8 local_2058;
  undefined8 local_2050;
  undefined8 local_2048;
  undefined1 local_2040 [8064];
  undefined1 *local_c0;
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2128 = param_4;
  local_2120 = param_3;
  local_2118[0] = param_2;
  uVar6 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2118[0]) {
    local_2118[0] = 0x200;
  }
  if (uVar6 < local_2118[0]) {
    local_2118[0] = uVar6;
  }
  local_b8 = local_2118[0];
  if (local_2118[0] * 0x90 < 0x2001) {
    local_c0 = local_2040;
  }
  else {
    local_c0 = (undefined1 *)embree::alignedMalloc(local_2118[0] * 0x90,0x40);
  }
  uVar6 = local_2118[0];
  local_2100 = &local_2120;
  local_20f8 = &local_2128;
  local_20f0 = local_2118;
  local_20e8 = local_2040;
  local_20e0 = param_6;
  if (local_2118[0] != 0) {
    ppuStack_20b8 = &local_2100;
    uStack_20c8 = 0;
    local_20c0 = 1;
    local_2108 = 0;
    local_20d0 = local_2118[0];
    local_20b0 = &local_2108;
    lVar7 = embree::TaskScheduler::thread();
    if (lVar7 == 0) {
      uVar9 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_11PrimInfoMBTINS_5LBBoxINS_6Vec3faEEEEEZNS_4sse227HeuristicMBlurTemporalSplitINS_9PrimRefMBENSA_18RecalculatePrimRefINS_12TriangleMeshEEELm2EE5splitERKNSA_8BinSplitILm32EEERKNS_5SetMBERSL_SO_EUlRKNS_5rangeImEEE_FKS9_RSU_SV_EEET0_T_SY_SY_SY_RKSX_RKT1_RKT2_EUlmE_EEvSY_S10_EUlSS_E_EEvSY_SY_SY_S10_PNS0_16TaskGroupContextEEUlvE_EEvRKSY_S1A_mb
                (uVar9,&local_20d0,&local_2108,uVar6,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar7 + 0x40080)) {

        embree_parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
        :
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar4 = *(long *)(lVar7 + 0xc00c0);
      uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
      if (0x80000 < uVar2)
      goto 
      embree_parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
      ;
      *(ulong *)(lVar7 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar7 + 0x40090 + uVar2);
      *puVar3 = 0x12d590;
      puVar3[1] = local_20d0;
      puVar3[2] = uStack_20c8;
      puVar3[3] = local_20c0;
      puVar3[4] = ppuStack_20b8;
      puVar3[5] = local_20b0;
      lVar8 = *(long *)(lVar7 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar7 + 0x40 + lVar8);
      lVar5 = *(long *)(lVar7 + 0xc0100);
      *(undefined4 *)(lVar7 + 0x44 + lVar8) = 1;
      *(undefined1 *)(lVar7 + 0x48 + lVar8) = 1;
      lVar8 = lVar8 + lVar7;
      *(undefined8 **)(lVar8 + 0x50) = puVar3;
      *(long *)(lVar8 + 0x58) = lVar5;
      *(ulong **)(lVar8 + 0x60) = &local_2108;
      *(long *)(lVar8 + 0x68) = lVar4;
      *(ulong *)(lVar8 + 0x70) = uVar6;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar7 + 0x40080) = *(long *)(lVar7 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar7 + 0x40080) - 1U <= *(ulong *)(lVar7 + 0x40040)) {
        LOCK();
        *(long *)(lVar7 + 0x40040) = *(long *)(lVar7 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    if (local_2108 != 0) {
      local_20d0 = local_2108;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20d0);
      goto LAB_00102ecb;
    }
  }
  uVar9 = *(undefined8 *)(param_5 + 8);
  *(undefined8 *)param_1 = *(undefined8 *)param_5;
  *(undefined8 *)(param_1 + 8) = uVar9;
  uVar9 = *(undefined8 *)(param_5 + 0x18);
  *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_5 + 0x10);
  *(undefined8 *)(param_1 + 0x18) = uVar9;
  uVar9 = *(undefined8 *)(param_5 + 0x28);
  *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_5 + 0x20);
  *(undefined8 *)(param_1 + 0x28) = uVar9;
  uVar9 = *(undefined8 *)(param_5 + 0x38);
  *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_5 + 0x30);
  *(undefined8 *)(param_1 + 0x38) = uVar9;
  uVar9 = *(undefined8 *)(param_5 + 0x48);
  *(undefined8 *)(param_1 + 0x40) = *(undefined8 *)(param_5 + 0x40);
  *(undefined8 *)(param_1 + 0x48) = uVar9;
  uVar9 = *(undefined8 *)(param_5 + 0x58);
  *(undefined8 *)(param_1 + 0x50) = *(undefined8 *)(param_5 + 0x50);
  *(undefined8 *)(param_1 + 0x58) = uVar9;
  *(undefined8 *)(param_1 + 0x60) = *(undefined8 *)(param_5 + 0x60);
  *(undefined8 *)(param_1 + 0x68) = *(undefined8 *)(param_5 + 0x68);
  *(undefined8 *)(param_1 + 0x70) = *(undefined8 *)(param_5 + 0x70);
  *(undefined8 *)(param_1 + 0x78) = *(undefined8 *)(param_5 + 0x78);
  *(undefined8 *)(param_1 + 0x80) = *(undefined8 *)(param_5 + 0x80);
  *(undefined8 *)(param_1 + 0x88) = *(undefined8 *)(param_5 + 0x88);
  if (local_2118[0] != 0) {
    uVar6 = 0;
    do {
      uVar6 = uVar6 + 1;
      (*param_7)((PrimInfoMBT_conflict *)&local_20d0,(PrimInfoMBT_conflict *)param_1);
      *(undefined8 *)(param_1 + 0x70) = local_2060;
      *(undefined4 *)param_1 = (undefined4)local_20d0;
      *(undefined4 *)(param_1 + 4) = local_20d0._4_4_;
      *(undefined4 *)(param_1 + 8) = (undefined4)uStack_20c8;
      *(undefined4 *)(param_1 + 0xc) = uStack_20c8._4_4_;
      *(undefined8 *)(param_1 + 0x78) = local_2058;
      *(undefined8 *)(param_1 + 0x10) = local_20c0;
      *(undefined8 ***)(param_1 + 0x18) = ppuStack_20b8;
      *(undefined8 *)(param_1 + 0x80) = local_2050;
      *(ulong **)(param_1 + 0x20) = local_20b0;
      *(undefined8 *)(param_1 + 0x28) = uStack_20a8;
      *(undefined8 *)(param_1 + 0x30) = local_20a0;
      *(undefined8 *)(param_1 + 0x38) = uStack_2098;
      *(undefined8 *)(param_1 + 0x88) = local_2048;
      *(undefined8 *)(param_1 + 0x40) = local_2090;
      *(undefined8 *)(param_1 + 0x48) = uStack_2088;
      *(undefined8 *)(param_1 + 0x50) = local_2080;
      *(undefined8 *)(param_1 + 0x58) = uStack_2078;
      *(undefined8 *)(param_1 + 0x60) = local_2070;
      *(undefined8 *)(param_1 + 0x68) = uStack_2068;
    } while (uVar6 < local_2118[0]);
  }
  if (local_c0 != local_2040) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_00102ecb:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::Builder::deleteGeometry(unsigned long) */

void embree::Builder::deleteGeometry(ulong param_1)

{
  return;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMvMB<4>
   >::~BVHNBuilderMBlurSAH() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>>::
~BVHNBuilderMBlurSAH(BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>> *this)

{
  return;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::~BVHNBuilderMBlurSAH() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>>::
~BVHNBuilderMBlurSAH(BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  return;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMvMB<4> >::clear() */

void embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>>::clear(void)

{
  return;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMi<4> >::clear() */

void embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>>::clear(void)

{
  return;
}



/* embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   >::merge2(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&) */

void __thiscall
embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2
          (PrimInfoMBT<embree::LBBox<embree::Vec3fa>> *this,PrimInfoMBT_conflict *param_1,
          PrimInfoMBT_conflict *param_2)

{
  float fVar1;
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  long lVar7;
  long lVar8;
  long lVar9;
  ulong uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined1 auVar13 [16];
  
  auVar13 = *(undefined1 (*) [16])param_1;
  *(undefined1 (*) [16])this = auVar13;
  auVar2 = *(undefined1 (*) [16])(param_1 + 0x10);
  *(undefined1 (*) [16])(this + 0x10) = auVar2;
  auVar3 = *(undefined1 (*) [16])(param_1 + 0x20);
  *(undefined1 (*) [16])(this + 0x20) = auVar3;
  auVar4 = *(undefined1 (*) [16])(param_1 + 0x30);
  *(undefined1 (*) [16])(this + 0x30) = auVar4;
  auVar5 = *(undefined1 (*) [16])(param_1 + 0x40);
  *(undefined1 (*) [16])(this + 0x40) = auVar5;
  auVar6 = *(undefined1 (*) [16])(param_1 + 0x50);
  *(undefined1 (*) [16])(this + 0x50) = auVar6;
  lVar7 = *(long *)(param_1 + 0x60);
  *(long *)(this + 0x60) = lVar7;
  lVar8 = *(long *)(param_1 + 0x68);
  *(long *)(this + 0x68) = lVar8;
  lVar9 = *(long *)(param_1 + 0x70);
  uVar10 = *(ulong *)(param_1 + 0x78);
  uVar11 = *(undefined8 *)(param_1 + 0x80);
  uVar12 = *(undefined8 *)(param_1 + 0x88);
  *(long *)(this + 0x70) = lVar9;
  *(ulong *)(this + 0x78) = uVar10;
  *(undefined8 *)(this + 0x80) = uVar11;
  *(undefined8 *)(this + 0x88) = uVar12;
  auVar13 = minps(auVar13,*(undefined1 (*) [16])param_2);
  *(undefined1 (*) [16])this = auVar13;
  auVar13 = maxps(auVar2,*(undefined1 (*) [16])(param_2 + 0x10));
  *(undefined1 (*) [16])(this + 0x10) = auVar13;
  auVar13 = minps(auVar3,*(undefined1 (*) [16])(param_2 + 0x20));
  *(undefined1 (*) [16])(this + 0x20) = auVar13;
  auVar13 = maxps(auVar4,*(undefined1 (*) [16])(param_2 + 0x30));
  *(undefined1 (*) [16])(this + 0x30) = auVar13;
  auVar13 = minps(auVar5,*(undefined1 (*) [16])(param_2 + 0x40));
  *(undefined1 (*) [16])(this + 0x40) = auVar13;
  auVar13 = maxps(auVar6,*(undefined1 (*) [16])(param_2 + 0x50));
  *(undefined1 (*) [16])(this + 0x50) = auVar13;
  fVar1 = *(float *)(this + 0x88);
  if (*(float *)(param_2 + 0x88) <= *(float *)(this + 0x88)) {
    fVar1 = *(float *)(param_2 + 0x88);
  }
  *(float *)(this + 0x88) = fVar1;
  fVar1 = *(float *)(param_2 + 0x8c);
  if (*(float *)(param_2 + 0x8c) <= *(float *)(this + 0x8c)) {
    fVar1 = *(float *)(this + 0x8c);
  }
  *(float *)(this + 0x8c) = fVar1;
  *(long *)(this + 0x60) = lVar7 + *(long *)(param_2 + 0x60);
  *(long *)(this + 0x68) = lVar8 + *(long *)(param_2 + 0x68);
  *(long *)(this + 0x70) = lVar9 + *(long *)(param_2 + 0x70);
  if (uVar10 < *(ulong *)(param_2 + 0x78)) {
    *(ulong *)(this + 0x78) = *(ulong *)(param_2 + 0x78);
    *(undefined4 *)(this + 0x80) = *(undefined4 *)(param_2 + 0x80);
    *(undefined4 *)(this + 0x84) = *(undefined4 *)(param_2 + 0x84);
  }
  return;
}



/* embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,
   2ul>::TemporalBinInfo::merge2(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&) */

TemporalBinInfo_conflict * __thiscall
embree::sse2::
HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
::TemporalBinInfo::merge2
          (TemporalBinInfo_conflict *this,TemporalBinInfo_conflict *param_1,
          TemporalBinInfo_conflict *param_2)

{
  undefined1 auVar1 [16];
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  
  *(undefined8 *)this = *(undefined8 *)param_1;
  *(undefined8 *)(this + 8) = *(undefined8 *)(param_1 + 8);
  auVar8 = *(undefined1 (*) [16])(param_1 + 0x10);
  *(undefined1 (*) [16])(this + 0x10) = auVar8;
  auVar1 = *(undefined1 (*) [16])(param_1 + 0x20);
  *(undefined1 (*) [16])(this + 0x20) = auVar1;
  auVar2 = *(undefined1 (*) [16])(param_1 + 0x30);
  *(undefined1 (*) [16])(this + 0x30) = auVar2;
  auVar3 = *(undefined1 (*) [16])(param_1 + 0x40);
  *(undefined1 (*) [16])(this + 0x40) = auVar3;
  auVar4 = *(undefined1 (*) [16])(param_1 + 0x50);
  *(undefined1 (*) [16])(this + 0x50) = auVar4;
  auVar5 = *(undefined1 (*) [16])(param_1 + 0x60);
  *(undefined1 (*) [16])(this + 0x60) = auVar5;
  auVar6 = *(undefined1 (*) [16])(param_1 + 0x70);
  *(undefined1 (*) [16])(this + 0x70) = auVar6;
  auVar7 = *(undefined1 (*) [16])(param_1 + 0x80);
  *(undefined1 (*) [16])(this + 0x80) = auVar7;
  *(long *)this = *(long *)this + *(long *)param_2;
  *(long *)(this + 8) = *(long *)(this + 8) + *(long *)(param_2 + 8);
  auVar8 = minps(auVar8,*(undefined1 (*) [16])(param_2 + 0x10));
  *(undefined1 (*) [16])(this + 0x10) = auVar8;
  auVar8 = maxps(auVar1,*(undefined1 (*) [16])(param_2 + 0x20));
  *(undefined1 (*) [16])(this + 0x20) = auVar8;
  auVar8 = minps(auVar2,*(undefined1 (*) [16])(param_2 + 0x30));
  *(undefined1 (*) [16])(this + 0x30) = auVar8;
  auVar8 = maxps(auVar3,*(undefined1 (*) [16])(param_2 + 0x40));
  *(undefined1 (*) [16])(this + 0x40) = auVar8;
  auVar8 = minps(auVar4,*(undefined1 (*) [16])(param_2 + 0x50));
  *(undefined1 (*) [16])(this + 0x50) = auVar8;
  auVar8 = maxps(auVar5,*(undefined1 (*) [16])(param_2 + 0x60));
  *(undefined1 (*) [16])(this + 0x60) = auVar8;
  auVar8 = minps(auVar6,*(undefined1 (*) [16])(param_2 + 0x70));
  *(undefined1 (*) [16])(this + 0x70) = auVar8;
  auVar8 = maxps(auVar7,*(undefined1 (*) [16])(param_2 + 0x80));
  *(undefined1 (*) [16])(this + 0x80) = auVar8;
  return this;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMvMB<4>
   >::~BVHNBuilderMBlurSAH() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>>::
~BVHNBuilderMBlurSAH(BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>> *this)

{
  operator_delete(this,0x48);
  return;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::~BVHNBuilderMBlurSAH() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>>::
~BVHNBuilderMBlurSAH(BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  operator_delete(this,0x48);
  return;
}



/* embree::Scene::BuildProgressMonitorInterface::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::Scene::BuildProgressMonitorInterface::operator()
          (BuildProgressMonitorInterface *this,ulong param_1)

{
  if (-1 < (long)param_1) {
    embree::Scene::progressMonitor((double)(long)param_1);
    return;
  }
  embree::Scene::progressMonitor((double)param_1);
  return;
}



/* embree::RefCount::refInc() */

RefCount * __thiscall embree::RefCount::refInc(RefCount *this)

{
  LOCK();
  *(long *)(this + 8) = *(long *)(this + 8) + 1;
  UNLOCK();
  return this;
}



/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::findFallback(embree::SetMB const&) [clone .isra.0]
    */

SetMB * embree::sse2::BVHBuilderMSMBlur::
        BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
        ::findFallback(SetMB *param_1)

{
  float fVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  uint *puVar5;
  int *piVar6;
  int iVar7;
  long in_RDX;
  char in_SIL;
  ulong uVar8;
  long lVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  
  uVar2 = *(ulong *)(in_RDX + 0x68);
  uVar8 = *(ulong *)(in_RDX + 0x60);
  if (uVar2 != uVar8) {
    lVar9 = uVar8 * 0x50;
    lVar3 = *(long *)(*(long *)(in_RDX + 0x90) + 0x20);
    uVar4 = uVar8 + 1;
    if (uVar4 < uVar2) {
      piVar6 = (int *)(lVar3 + 0x5c + lVar9);
      do {
        if (*(int *)(lVar3 + 0xc + lVar9) != *piVar6) {
          *(undefined8 *)param_1 = 0;
          *(undefined8 *)(param_1 + 8) = 0x300000000;
          return param_1;
        }
        uVar4 = uVar4 + 1;
        piVar6 = piVar6 + 0x14;
      } while (uVar4 < uVar2);
    }
    if ((in_SIL != '\0') && (uVar8 < uVar2)) {
      puVar5 = (uint *)(lVar3 + 0x3c + lVar9);
      do {
        fVar1 = (float)puVar5[1];
        fVar12 = (float)*puVar5;
        fVar11 = (float)puVar5[2] - fVar1;
        fVar10 = ((*(float *)(in_RDX + 0x88) - fVar1) / fVar11) * _LC0 * fVar12;
        if ((float)((uint)fVar10 & _LC6) < _LC1) {
          fVar10 = (float)((uint)((float)(int)fVar10 -
                                 (float)(-(uint)(fVar10 < (float)(int)fVar10) & _LC3)) |
                          ~_LC6 & (uint)fVar10);
        }
        iVar7 = 0;
        if (0.0 <= fVar10) {
          iVar7 = (int)fVar10;
        }
        fVar10 = ((*(float *)(in_RDX + 0x8c) - fVar1) / fVar11) * _LC5 * fVar12;
        if ((float)((uint)fVar10 & _LC6) < _LC1) {
          fVar10 = (float)((uint)((float)(int)fVar10 +
                                 (float)(-(uint)((float)(int)fVar10 < fVar10) & _LC3)) |
                          ~_LC6 & (uint)fVar10);
        }
        if (fVar12 <= fVar10) {
          fVar10 = fVar12;
        }
        if (1 < (int)fVar10 - iVar7) {
          *(undefined8 *)param_1 = 0;
          *(undefined4 *)(param_1 + 0xc) = 2;
          *(float *)(param_1 + 8) = ((float)(((int)fVar10 + iVar7) / 2) * fVar11) / fVar12 + fVar1;
          return param_1;
        }
        uVar8 = uVar8 + 1;
        puVar5 = puVar5 + 0x14;
      } while (uVar8 < uVar2);
    }
  }
  *(undefined8 *)param_1 = 0;
  *(undefined8 *)(param_1 + 8) = 0x100000000;
  return param_1;
}



/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::findFallback(embree::SetMB const&) [clone .isra.0]
    */

SetMB * embree::sse2::BVHBuilderMSMBlur::
        BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
        ::findFallback(SetMB *param_1)

{
  float fVar1;
  ulong uVar2;
  long lVar3;
  ulong uVar4;
  uint *puVar5;
  int *piVar6;
  int iVar7;
  long in_RDX;
  char in_SIL;
  ulong uVar8;
  long lVar9;
  float fVar10;
  float fVar11;
  float fVar12;
  
  uVar2 = *(ulong *)(in_RDX + 0x68);
  uVar8 = *(ulong *)(in_RDX + 0x60);
  if (uVar2 != uVar8) {
    lVar9 = uVar8 * 0x50;
    lVar3 = *(long *)(*(long *)(in_RDX + 0x90) + 0x20);
    uVar4 = uVar8 + 1;
    if (uVar4 < uVar2) {
      piVar6 = (int *)(lVar3 + 0x5c + lVar9);
      do {
        if (*(int *)(lVar3 + 0xc + lVar9) != *piVar6) {
          *(undefined8 *)param_1 = 0;
          *(undefined8 *)(param_1 + 8) = 0x300000000;
          return param_1;
        }
        uVar4 = uVar4 + 1;
        piVar6 = piVar6 + 0x14;
      } while (uVar4 < uVar2);
    }
    if ((in_SIL != '\0') && (uVar8 < uVar2)) {
      puVar5 = (uint *)(lVar3 + 0x3c + lVar9);
      do {
        fVar1 = (float)puVar5[1];
        fVar12 = (float)*puVar5;
        fVar11 = (float)puVar5[2] - fVar1;
        fVar10 = ((*(float *)(in_RDX + 0x88) - fVar1) / fVar11) * _LC0 * fVar12;
        if ((float)((uint)fVar10 & _LC6) < _LC1) {
          fVar10 = (float)((uint)((float)(int)fVar10 -
                                 (float)(-(uint)(fVar10 < (float)(int)fVar10) & _LC3)) |
                          ~_LC6 & (uint)fVar10);
        }
        iVar7 = 0;
        if (0.0 <= fVar10) {
          iVar7 = (int)fVar10;
        }
        fVar10 = ((*(float *)(in_RDX + 0x8c) - fVar1) / fVar11) * _LC5 * fVar12;
        if ((float)((uint)fVar10 & _LC6) < _LC1) {
          fVar10 = (float)((uint)((float)(int)fVar10 +
                                 (float)(-(uint)((float)(int)fVar10 < fVar10) & _LC3)) |
                          ~_LC6 & (uint)fVar10);
        }
        if (fVar12 <= fVar10) {
          fVar10 = fVar12;
        }
        if (1 < (int)fVar10 - iVar7) {
          *(undefined8 *)param_1 = 0;
          *(undefined4 *)(param_1 + 0xc) = 2;
          *(float *)(param_1 + 8) = ((float)(((int)fVar10 + iVar7) / 2) * fVar11) / fVar12 + fVar1;
          return param_1;
        }
        uVar8 = uVar8 + 1;
        puVar5 = puVar5 + 0x14;
      } while (uVar8 < uVar2);
    }
  }
  *(undefined8 *)param_1 = 0;
  *(undefined8 *)(param_1 + 8) = 0x100000000;
  return param_1;
}



/* embree::RefCount::refDec() */

void __thiscall embree::RefCount::refDec(RefCount *this)

{
  RefCount *pRVar1;
  
  LOCK();
  pRVar1 = this + 8;
  *(long *)pRVar1 = *(long *)pRVar1 + -1;
  UNLOCK();
  if ((this != (RefCount *)0x0) && (*(long *)pRVar1 == 0)) {
                    /* WARNING: Could not recover jumptable at 0x001035a9. Too many branches */
                    /* WARNING: Treating indirect jump as call */
    (**(code **)(*(long *)this + 8))();
    return;
  }
  return;
}



/* embree::FastAllocator::init_estimate(unsigned long) */

void __thiscall embree::FastAllocator::init_estimate(FastAllocator *this,ulong param_1)

{
  FastAllocator *pFVar1;
  long *plVar2;
  ulong *puVar3;
  long *plVar4;
  FastAllocator *pFVar5;
  ulong uVar6;
  long lVar7;
  FastAllocator *pFVar8;
  ulong uVar9;
  ulong uVar10;
  long *plVar11;
  long in_FS_OFFSET;
  long local_48;
  long local_40;
  
  pFVar1 = this + 0xb8;
  pFVar8 = this + 0xf8;
  plVar11 = &local_48;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  pFVar5 = pFVar1;
  do {
    while (*(long *)pFVar5 != 0) {
      lVar7 = *(long *)(*(long *)pFVar5 + 0x18);
      *(long *)(*(long *)pFVar5 + 0x18) = *(long *)pFVar8;
      LOCK();
      *(long *)pFVar8 = *(long *)pFVar5;
      UNLOCK();
      LOCK();
      *(long *)pFVar5 = lVar7;
      UNLOCK();
    }
    LOCK();
    *(long *)pFVar5 = 0;
    UNLOCK();
    pFVar5 = pFVar5 + 8;
  } while (pFVar5 != pFVar8);
  pFVar5 = pFVar1;
  if ((*(long *)(this + 0xf8) != 0) || (*(long *)(this + 0x100) != 0)) {
    do {
      while (*(long *)pFVar5 != 0) {
        lVar7 = *(long *)(*(long *)pFVar5 + 0x18);
        *(long *)(*(long *)pFVar5 + 0x18) = *(long *)pFVar8;
        LOCK();
        *(long *)pFVar8 = *(long *)pFVar5;
        UNLOCK();
        LOCK();
        *(long *)pFVar5 = lVar7;
        UNLOCK();
      }
      LOCK();
      *(long *)pFVar5 = 0;
      UNLOCK();
      pFVar5 = pFVar5 + 8;
    } while (pFVar5 != pFVar8);
    LOCK();
    *(undefined8 *)(this + 0x118) = 0;
    UNLOCK();
    LOCK();
    *(undefined8 *)(this + 0x120) = 0;
    UNLOCK();
    LOCK();
    *(undefined8 *)(this + 0x128) = 0;
    UNLOCK();
    pFVar5 = this + 0x100;
    while (*(long *)pFVar8 != 0) {
      puVar3 = *(ulong **)pFVar8;
      uVar6 = *puVar3;
      if (*puVar3 < puVar3[1]) {
        uVar6 = puVar3[1];
      }
      LOCK();
      puVar3[1] = uVar6;
      UNLOCK();
      LOCK();
      *puVar3 = 0;
      UNLOCK();
      lVar7 = *(long *)(*(long *)pFVar8 + 0x18);
      *(long *)(*(long *)pFVar8 + 0x18) = *(long *)pFVar5;
      LOCK();
      *(long *)pFVar5 = *(long *)pFVar8;
      UNLOCK();
      LOCK();
      *(long *)pFVar8 = lVar7;
      UNLOCK();
    }
    lVar7 = *(long *)(this + 0x100);
    local_48 = lVar7;
    for (; lVar7 != 0; lVar7 = *(long *)(lVar7 + 0x18)) {
      while (*(int *)(lVar7 + 0x28) == 2) {
        lVar7 = *(long *)(lVar7 + 0x18);
        *plVar11 = lVar7;
        if (lVar7 == 0) goto LAB_0010387b;
      }
      plVar11 = (long *)(lVar7 + 0x18);
    }
LAB_0010387b:
    LOCK();
    *(long *)pFVar5 = local_48;
    UNLOCK();
    pFVar8 = this + 0x78;
    do {
      LOCK();
      *(long *)pFVar8 = 0;
      UNLOCK();
      LOCK();
      *(long *)(pFVar8 + 0x40) = 0;
      UNLOCK();
      pFVar8 = pFVar8 + 8;
    } while (pFVar8 != pFVar1);
    plVar11 = *(long **)(this + 0x130);
    plVar4 = *(long **)(this + 0x138);
    if (plVar11 != plVar4) {
      do {
        while( true ) {
          lVar7 = *plVar11;
          if (this != *(FastAllocator **)(lVar7 + 8)) break;
          embree::MutexSys::lock();
          if (this == *(FastAllocator **)(lVar7 + 8)) {
            LOCK();
            plVar2 = (long *)(*(long *)(lVar7 + 8) + 0x118);
            *plVar2 = *plVar2 + *(long *)(lVar7 + 0xa8) + *(long *)(lVar7 + 0x68);
            UNLOCK();
            LOCK();
            plVar2 = (long *)(*(long *)(lVar7 + 8) + 0x120);
            *plVar2 = *plVar2 + (((*(long *)(lVar7 + 0x98) + *(long *)(lVar7 + 0x58)) -
                                 *(long *)(lVar7 + 0x50)) - *(long *)(lVar7 + 0x90));
            UNLOCK();
            LOCK();
            plVar2 = (long *)(*(long *)(lVar7 + 8) + 0x128);
            *plVar2 = *plVar2 + *(long *)(lVar7 + 0xb0) + *(long *)(lVar7 + 0x70);
            UNLOCK();
            *(undefined8 *)(lVar7 + 0x48) = 0;
            *(undefined8 *)(lVar7 + 0x58) = 0;
            *(undefined8 *)(lVar7 + 0x50) = 0;
            *(undefined8 *)(lVar7 + 0x68) = 0;
            *(undefined8 *)(lVar7 + 0x70) = 0;
            *(undefined8 *)(lVar7 + 0x60) = 0;
            *(undefined8 *)(lVar7 + 0x88) = 0;
            *(undefined8 *)(lVar7 + 0x98) = 0;
            *(undefined8 *)(lVar7 + 0x90) = 0;
            *(undefined8 *)(lVar7 + 0xa8) = 0;
            *(undefined8 *)(lVar7 + 0xb0) = 0;
            *(undefined8 *)(lVar7 + 0xa0) = 0;
            LOCK();
            *(undefined8 *)(lVar7 + 8) = 0;
            UNLOCK();
          }
          plVar11 = plVar11 + 1;
          embree::MutexSys::unlock();
          if (plVar4 == plVar11) goto LAB_001039d0;
        }
        plVar11 = plVar11 + 1;
      } while (plVar4 != plVar11);
LAB_001039d0:
      if (*(long *)(this + 0x130) != *(long *)(this + 0x138)) {
        *(long *)(this + 0x138) = *(long *)(this + 0x130);
      }
    }
    goto LAB_00103775;
  }
  *(ulong *)(this + 0x18) = param_1;
  uVar10 = 3;
  this[0x10a] = (FastAllocator)0x0;
  uVar9 = param_1 / 0x14 + 0x7f & 0xffffffffffffff80;
  uVar6 = 0x1fffc0;
  if (uVar9 < 0x1fffc1) {
    uVar6 = uVar9;
  }
  if (uVar6 < 0x400) {
    uVar6 = 0x400;
  }
  *(ulong *)(this + 0x28) = uVar6;
  *(ulong *)(this + 0x20) = uVar6;
  if (param_1 <= uVar6 * 0x50) {
    uVar10 = (ulong)(uVar6 * 0x28 < param_1);
  }
  *(ulong *)(this + 8) = uVar10;
  if (uVar6 * 0xa0 < param_1) {
    *(undefined8 *)(this + 8) = 7;
    if (uVar6 * 0x140 < param_1) {
LAB_00103a0a:
      *(undefined8 *)(this + 0x10) = 0x1040;
      *(ulong *)(this + 0x20) = uVar6 * 2;
    }
    else {
LAB_001036e8:
      *(undefined8 *)(this + 0x10) = 0x1040;
    }
  }
  else {
    if (uVar6 * 0x140 < param_1) goto LAB_00103a0a;
    if (0x1040 < uVar9) {
      uVar9 = 0x1040;
    }
    if (uVar9 < 0x400) {
      uVar9 = 0x400;
    }
    *(ulong *)(this + 0x10) = uVar9;
    if (param_1 == 0) {
      *(undefined8 *)(this + 0x28) = 0x1fffc0;
      goto LAB_001036e8;
    }
  }
  LOCK();
  *(undefined8 *)(this + 0x110) = 0;
  UNLOCK();
  lVar7 = *(long *)this;
  if (*(long *)(lVar7 + 0x4e0) != 0) {
    *(long *)(this + 0x20) = *(long *)(lVar7 + 0x4e0);
  }
  if ((((0 < *(int *)(lVar7 + 0x4e8)) &&
       (*(undefined8 *)(this + 8) = 0, 1 < *(int *)(lVar7 + 0x4e8))) &&
      (*(undefined8 *)(this + 8) = 1, 3 < *(int *)(lVar7 + 0x4e8))) &&
     (*(undefined8 *)(this + 8) = 3, 7 < *(int *)(lVar7 + 0x4e8))) {
    *(undefined8 *)(this + 8) = 7;
  }
  if (*(long *)(lVar7 + 0x4f0) != 0) {
    *(long *)(this + 0x10) = *(long *)(lVar7 + 0x4f0);
  }
  if (*(int *)(lVar7 + 0x4f8) != -1) {
    this[0x10a] = (FastAllocator)(*(int *)(lVar7 + 0x4f8) != 0);
  }
LAB_00103775:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::FastAllocator::malloc(unsigned long&, unsigned long, bool) */

void __thiscall
embree::FastAllocator::malloc(FastAllocator *this,ulong *param_1,ulong param_2,bool param_3)

{
  FastAllocator *pFVar1;
  long lVar2;
  FastAllocator *pFVar3;
  FastAllocator FVar4;
  ulong *puVar5;
  undefined8 uVar6;
  long *plVar7;
  long lVar8;
  ulong uVar9;
  ulong uVar10;
  undefined8 *puVar11;
  ulong uVar12;
  void *pvVar13;
  long in_FS_OFFSET;
  bool local_41;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  lVar8 = param_2 - 1;
  if (param_3) {
LAB_00103aa8:
    uVar9 = embree::TaskScheduler::threadID();
    lVar2 = (uVar9 & *(ulong *)(this + 8)) * 8;
    pFVar3 = this + lVar2 + 0x78;
    puVar5 = *(ulong **)pFVar3;
    if (puVar5 != (ulong *)0x0) {
      puVar11 = *(undefined8 **)this;
      if (puVar11 != (undefined8 *)0x0) {
        puVar11 = puVar11 + 0xa9;
      }
      uVar12 = -param_2 & lVar8 + *param_1;
      LOCK();
      uVar9 = *puVar5;
      *puVar5 = *puVar5 + uVar12;
      UNLOCK();
      if (uVar9 <= puVar5[2]) {
        uVar10 = puVar5[2] - uVar9;
        if (uVar12 < puVar5[2] - uVar9) {
          uVar10 = uVar12;
        }
        *param_1 = uVar10;
        if ((puVar11 != (undefined8 *)0x0) && (puVar5[1] < uVar10 + uVar9)) {
          uVar12 = puVar5[1];
          if (puVar5[1] <= uVar9) {
            uVar12 = uVar9;
          }
          (**(code **)*puVar11)(puVar11,(uVar10 + uVar9) - uVar12,1);
        }
        if ((long)puVar5 + uVar9 + 0x40 != 0) goto LAB_00103df0;
      }
      if (this[0x109] == (FastAllocator)0x0) goto LAB_001047c8;
    }
    if (0x1fffc0 < *param_1) goto LAB_001047c8;
    if (*(long *)(this + 0x100) == 0) {
      embree::MutexSys::lock();
      if (puVar5 == *(ulong **)pFVar3) {
        uVar9 = lVar8 + *param_1 & -param_2;
        uVar12 = *(ulong *)(this + 0x28);
        if (*(ulong *)(this + 0x20) < *(ulong *)(this + 0x28)) {
          uVar12 = *(ulong *)(this + 0x20);
        }
        if (uVar9 < uVar12) {
          uVar9 = uVar12;
        }
        uVar6 = *(undefined8 *)(this + lVar2 + 0xb8);
        FVar4 = this[0x108];
        plVar7 = *(long **)this;
        if (*(int *)(this + 0x148) == 1) {
          if (uVar9 < 0x1fffc0) {
LAB_00103c10:
            if (plVar7 != (long *)0x0) {
              (**(code **)(*plVar7 + 0x20))(plVar7,uVar9 + 0x80,0);
            }
            if (FVar4 == (FastAllocator)0x0) {
              puVar11 = (undefined8 *)embree::alignedMalloc(uVar9 + 0x40,0x40);
            }
            else {
              puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,uVar9 + 0x40,0x40);
            }
            *puVar11 = 0;
            puVar11[1] = uVar9;
            puVar11[2] = uVar9;
LAB_00103c6d:
            puVar11[4] = 0x40;
            *(undefined4 *)(puVar11 + 5) = 0;
            puVar11[3] = uVar6;
            *(undefined1 *)((long)puVar11 + 0x2c) = 0;
          }
          else {
            uVar9 = uVar9 + 0x103f & 0xfffffffffffff000;
            if (plVar7 != (long *)0x0) {
              (**(code **)(*plVar7 + 0x20))(plVar7,uVar9,0);
            }
            puVar11 = (undefined8 *)embree::os_malloc(uVar9,&local_41);
            *puVar11 = 0;
            puVar11[1] = uVar9 - 0x40;
            puVar11[2] = uVar9 - 0x40;
            puVar11[3] = uVar6;
            puVar11[4] = 0;
            *(undefined4 *)(puVar11 + 5) = 1;
            *(bool *)((long)puVar11 + 0x2c) = local_41;
          }
        }
        else {
          puVar11 = (undefined8 *)0x0;
          if (*(int *)(this + 0x148) == 0) {
            if (uVar9 != 0x3fffc0) goto LAB_00103c10;
            if (plVar7 != (long *)0x0) {
              (**(code **)(*plVar7 + 0x20))(plVar7,0x400040);
            }
            if (FVar4 == (FastAllocator)0x0) {
              puVar11 = (undefined8 *)embree::alignedMalloc(0x400000,0x40);
            }
            else {
              puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,0x400000,0x40);
            }
            pvVar13 = (void *)((ulong)puVar11 & 0xffffffffffe00000);
            embree::os_advise(pvVar13,0x200000);
            embree::os_advise((void *)((long)pvVar13 + 0x200000),0x200000);
            embree::os_advise((void *)((long)pvVar13 + 0x400000),0x200000);
            *puVar11 = 0;
            puVar11[1] = 0x3fffc0;
            puVar11[2] = 0x3fffc0;
            goto LAB_00103c6d;
          }
        }
        LOCK();
        *(undefined8 **)pFVar3 = puVar11;
        UNLOCK();
        LOCK();
        *(undefined8 **)(this + lVar2 + 0xb8) = puVar11;
        UNLOCK();
      }
      embree::MutexSys::unlock();
    }
    else {
      embree::MutexSys::lock();
      if (puVar5 == *(ulong **)pFVar3) {
        if (*(long *)(this + 0x100) == 0) {
          LOCK();
          pFVar1 = this + 0x110;
          lVar2 = *(long *)pFVar1;
          *(long *)pFVar1 = *(long *)pFVar1 + 1;
          UNLOCK();
          uVar9 = 0x10;
          if (lVar2 + 1U < 0x11) {
            uVar9 = lVar2 + 1U;
          }
          uVar9 = *(long *)(this + 0x20) << ((byte)uVar9 & 0x3f);
          uVar6 = *(undefined8 *)(this + 0xf8);
          if (*(ulong *)(this + 0x28) < uVar9) {
            uVar9 = *(ulong *)(this + 0x28);
          }
          FVar4 = this[0x108];
          plVar7 = *(long **)this;
          if (*(int *)(this + 0x148) == 1) {
            if (uVar9 < 0x1fffc0) {
LAB_00103fd6:
              if (plVar7 != (long *)0x0) {
                (**(code **)(*plVar7 + 0x20))(plVar7,uVar9 + 0x80,0);
              }
              if (FVar4 == (FastAllocator)0x0) {
                puVar11 = (undefined8 *)embree::alignedMalloc(uVar9 + 0x40,0x40);
              }
              else {
                puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,uVar9 + 0x40,0x40);
              }
              *puVar11 = 0;
              puVar11[1] = uVar9;
              puVar11[2] = uVar9;
LAB_0010402a:
              puVar11[4] = 0x40;
              *(undefined4 *)(puVar11 + 5) = 0;
              puVar11[3] = uVar6;
              *(undefined1 *)((long)puVar11 + 0x2c) = 0;
            }
            else {
              uVar9 = uVar9 + 0x103f & 0xfffffffffffff000;
              if (plVar7 != (long *)0x0) {
                (**(code **)(*plVar7 + 0x20))(plVar7,uVar9,0);
              }
              puVar11 = (undefined8 *)embree::os_malloc(uVar9,&local_41);
              *puVar11 = 0;
              puVar11[1] = uVar9 - 0x40;
              puVar11[2] = uVar9 - 0x40;
              puVar11[3] = uVar6;
              puVar11[4] = 0;
              *(undefined4 *)(puVar11 + 5) = 1;
              *(bool *)((long)puVar11 + 0x2c) = local_41;
            }
          }
          else {
            puVar11 = (undefined8 *)0x0;
            if (*(int *)(this + 0x148) == 0) {
              if (uVar9 != 0x3fffc0) goto LAB_00103fd6;
              if (plVar7 != (long *)0x0) {
                (**(code **)(*plVar7 + 0x20))(plVar7,0x400040);
              }
              if (FVar4 == (FastAllocator)0x0) {
                puVar11 = (undefined8 *)embree::alignedMalloc(0x400000,0x40);
              }
              else {
                puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,0x400000,0x40);
              }
              pvVar13 = (void *)((ulong)puVar11 & 0xffffffffffe00000);
              embree::os_advise(pvVar13,0x200000);
              embree::os_advise((void *)((long)pvVar13 + 0x200000),0x200000);
              embree::os_advise((void *)((long)pvVar13 + 0x400000),0x200000);
              *puVar11 = 0;
              puVar11[1] = 0x3fffc0;
              puVar11[2] = 0x3fffc0;
              goto LAB_0010402a;
            }
          }
          LOCK();
          *(undefined8 **)pFVar3 = puVar11;
          UNLOCK();
          LOCK();
          *(undefined8 **)(this + 0xf8) = puVar11;
          UNLOCK();
        }
        else {
          uVar6 = *(undefined8 *)(*(long *)(this + 0x100) + 0x18);
          *(undefined8 *)(*(long *)(this + 0x100) + 0x18) = *(undefined8 *)(this + 0xf8);
          LOCK();
          *(undefined8 *)(this + 0xf8) = *(undefined8 *)(this + 0x100);
          UNLOCK();
          LOCK();
          *(undefined8 *)pFVar3 = *(undefined8 *)(this + 0x100);
          UNLOCK();
          LOCK();
          *(undefined8 *)(this + 0x100) = uVar6;
          UNLOCK();
        }
      }
      embree::MutexSys::unlock();
    }
    goto LAB_00103aa8;
  }
  do {
    uVar9 = embree::TaskScheduler::threadID();
    lVar2 = (uVar9 & *(ulong *)(this + 8)) * 8;
    pFVar3 = this + lVar2 + 0x78;
    puVar5 = *(ulong **)pFVar3;
    if (puVar5 != (ulong *)0x0) {
      puVar11 = *(undefined8 **)this;
      if (puVar11 != (undefined8 *)0x0) {
        puVar11 = puVar11 + 0xa9;
      }
      uVar9 = -param_2 & lVar8 + *param_1;
      if (*puVar5 + uVar9 <= puVar5[2]) {
        LOCK();
        uVar12 = *puVar5;
        *puVar5 = *puVar5 + uVar9;
        UNLOCK();
        if ((uVar9 + uVar12 <= puVar5[2]) && (uVar12 <= puVar5[2])) {
          uVar10 = puVar5[2] - uVar12;
          if (uVar9 < puVar5[2] - uVar12) {
            uVar10 = uVar9;
          }
          *param_1 = uVar10;
          if (puVar11 != (undefined8 *)0x0) {
            if (uVar10 + uVar12 <= puVar5[1]) {
              if ((long)puVar5 + uVar12 + 0x40 == 0) goto LAB_00103cd5;
              goto LAB_00103df0;
            }
            uVar9 = puVar5[1];
            if (puVar5[1] < uVar12) {
              uVar9 = uVar12;
            }
            (**(code **)*puVar11)(puVar11,(uVar10 + uVar12) - uVar9,1);
          }
          if ((long)puVar5 + uVar12 + 0x40 != 0) {
LAB_00103df0:
            if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
              return;
            }
                    /* WARNING: Subroutine does not return */
            __stack_chk_fail();
          }
        }
      }
LAB_00103cd5:
      if (this[0x109] == (FastAllocator)0x0) {
LAB_001047c8:
                    /* WARNING: Subroutine does not return */
        abort();
      }
    }
    if (0x1fffc0 < *param_1) goto LAB_001047c8;
    if (*(long *)(this + 0x100) == 0) {
      embree::MutexSys::lock();
      if (puVar5 == *(ulong **)pFVar3) {
        uVar12 = lVar8 + *param_1 & -param_2;
        uVar9 = *(ulong *)(this + 0x28);
        if (*(ulong *)(this + 0x20) < *(ulong *)(this + 0x28)) {
          uVar9 = *(ulong *)(this + 0x20);
        }
        if (uVar12 < uVar9) {
          uVar12 = uVar9;
        }
        uVar6 = *(undefined8 *)(this + lVar2 + 0xb8);
        FVar4 = this[0x108];
        plVar7 = *(long **)this;
        if (*(int *)(this + 0x148) == 1) {
          if (uVar12 < 0x1fffc0) {
LAB_001040b6:
            if (plVar7 != (long *)0x0) {
              (**(code **)(*plVar7 + 0x20))(plVar7,uVar12 + 0x80,0);
            }
            if (FVar4 == (FastAllocator)0x0) {
              puVar11 = (undefined8 *)embree::alignedMalloc(uVar12 + 0x40,0x40);
            }
            else {
              puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,uVar12 + 0x40,0x40);
            }
            *puVar11 = 0;
            puVar11[1] = uVar12;
            puVar11[2] = uVar12;
            puVar11[3] = uVar6;
            puVar11[4] = 0x40;
            *(undefined4 *)(puVar11 + 5) = 0;
            *(undefined1 *)((long)puVar11 + 0x2c) = 0;
          }
          else {
            uVar9 = uVar12 + 0x103f & 0xfffffffffffff000;
            if (plVar7 != (long *)0x0) {
              (**(code **)(*plVar7 + 0x20))(plVar7,uVar9,0);
            }
            puVar11 = (undefined8 *)embree::os_malloc(uVar9,&local_41);
            *puVar11 = 0;
            puVar11[1] = uVar9 - 0x40;
            puVar11[2] = uVar9 - 0x40;
            puVar11[3] = uVar6;
            puVar11[4] = 0;
            *(undefined4 *)(puVar11 + 5) = 1;
            *(bool *)((long)puVar11 + 0x2c) = local_41;
          }
        }
        else {
          puVar11 = (undefined8 *)0x0;
          if (*(int *)(this + 0x148) == 0) {
            if (uVar12 != 0x3fffc0) goto LAB_001040b6;
            if (plVar7 != (long *)0x0) {
              (**(code **)(*plVar7 + 0x20))(plVar7,0x400040,0);
            }
            if (FVar4 == (FastAllocator)0x0) {
              puVar11 = (undefined8 *)embree::alignedMalloc(0x400000,0x40);
            }
            else {
              puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,0x400000,0x40);
            }
            pvVar13 = (void *)((ulong)puVar11 & 0xffffffffffe00000);
            embree::os_advise(pvVar13,0x200000);
            embree::os_advise((void *)((long)pvVar13 + 0x200000),0x200000);
            embree::os_advise((void *)((long)pvVar13 + 0x400000),0x200000);
            *puVar11 = 0;
            puVar11[1] = 0x3fffc0;
            puVar11[2] = 0x3fffc0;
            puVar11[3] = uVar6;
            puVar11[4] = 0x40;
            *(undefined4 *)(puVar11 + 5) = 0;
            *(undefined1 *)((long)puVar11 + 0x2c) = 0;
          }
        }
        LOCK();
        *(undefined8 **)pFVar3 = puVar11;
        UNLOCK();
        LOCK();
        *(undefined8 **)(this + lVar2 + 0xb8) = puVar11;
        UNLOCK();
      }
      embree::MutexSys::unlock();
    }
    else {
      embree::MutexSys::lock();
      if (puVar5 == *(ulong **)pFVar3) {
        if (*(long *)(this + 0x100) == 0) {
          LOCK();
          pFVar1 = this + 0x110;
          lVar2 = *(long *)pFVar1;
          *(long *)pFVar1 = *(long *)pFVar1 + 1;
          UNLOCK();
          uVar9 = 0x10;
          if (lVar2 + 1U < 0x11) {
            uVar9 = lVar2 + 1U;
          }
          uVar12 = *(long *)(this + 0x20) << ((byte)uVar9 & 0x3f);
          uVar9 = *(ulong *)(this + 0x28);
          if (uVar12 <= *(ulong *)(this + 0x28)) {
            uVar9 = uVar12;
          }
          uVar6 = *(undefined8 *)(this + 0xf8);
          FVar4 = this[0x108];
          plVar7 = *(long **)this;
          if (*(int *)(this + 0x148) == 1) {
            if (uVar9 < 0x1fffc0) {
LAB_00104527:
              if (plVar7 != (long *)0x0) {
                (**(code **)(*plVar7 + 0x20))(plVar7,uVar9 + 0x80,0);
              }
              if (FVar4 == (FastAllocator)0x0) {
                puVar11 = (undefined8 *)embree::alignedMalloc(uVar9 + 0x40,0x40);
              }
              else {
                puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,uVar9 + 0x40,0x40);
              }
              *puVar11 = 0;
              puVar11[1] = uVar9;
              puVar11[2] = uVar9;
              puVar11[3] = uVar6;
              puVar11[4] = 0x40;
              *(undefined4 *)(puVar11 + 5) = 0;
              *(undefined1 *)((long)puVar11 + 0x2c) = 0;
            }
            else {
              uVar9 = uVar9 + 0x103f & 0xfffffffffffff000;
              if (plVar7 != (long *)0x0) {
                (**(code **)(*plVar7 + 0x20))(plVar7,uVar9,0);
              }
              puVar11 = (undefined8 *)embree::os_malloc(uVar9,&local_41);
              *puVar11 = 0;
              puVar11[1] = uVar9 - 0x40;
              puVar11[2] = uVar9 - 0x40;
              puVar11[3] = uVar6;
              puVar11[4] = 0;
              *(undefined4 *)(puVar11 + 5) = 1;
              *(bool *)((long)puVar11 + 0x2c) = local_41;
            }
          }
          else {
            puVar11 = (undefined8 *)0x0;
            if (*(int *)(this + 0x148) == 0) {
              if (uVar9 != 0x3fffc0) goto LAB_00104527;
              if (plVar7 != (long *)0x0) {
                (**(code **)(*plVar7 + 0x20))(plVar7,0x400040,0);
              }
              if (FVar4 == (FastAllocator)0x0) {
                puVar11 = (undefined8 *)embree::alignedMalloc(0x400000,0x40);
              }
              else {
                puVar11 = (undefined8 *)(**(code **)(*plVar7 + 0x38))(plVar7,0x400000,0x40);
              }
              pvVar13 = (void *)((ulong)puVar11 & 0xffffffffffe00000);
              embree::os_advise(pvVar13,0x200000);
              embree::os_advise((void *)((long)pvVar13 + 0x200000),0x200000);
              embree::os_advise((void *)((long)pvVar13 + 0x400000),0x200000);
              *puVar11 = 0;
              puVar11[1] = 0x3fffc0;
              puVar11[2] = 0x3fffc0;
              puVar11[3] = uVar6;
              puVar11[4] = 0x40;
              *(undefined4 *)(puVar11 + 5) = 0;
              *(undefined1 *)((long)puVar11 + 0x2c) = 0;
            }
          }
          LOCK();
          *(undefined8 **)pFVar3 = puVar11;
          UNLOCK();
          LOCK();
          *(undefined8 **)(this + 0xf8) = puVar11;
          UNLOCK();
        }
        else {
          uVar6 = *(undefined8 *)(*(long *)(this + 0x100) + 0x18);
          *(undefined8 *)(*(long *)(this + 0x100) + 0x18) = *(undefined8 *)(this + 0xf8);
          LOCK();
          *(undefined8 *)(this + 0xf8) = *(undefined8 *)(this + 0x100);
          UNLOCK();
          LOCK();
          *(undefined8 *)pFVar3 = *(undefined8 *)(this + 0x100);
          UNLOCK();
          LOCK();
          *(undefined8 *)(this + 0x100) = uVar6;
          UNLOCK();
        }
      }
      embree::MutexSys::unlock();
    }
  } while( true );
}



/* WARNING: Control flow encountered bad instruction data */
/* void std::vector<embree::FastAllocator::ThreadLocal2*,
   std::allocator<embree::FastAllocator::ThreadLocal2*>
   >::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*
   const&>(__gnu_cxx::__normal_iterator<embree::FastAllocator::ThreadLocal2**,
   std::vector<embree::FastAllocator::ThreadLocal2*,
   std::allocator<embree::FastAllocator::ThreadLocal2*> > >, embree::FastAllocator::ThreadLocal2*
   const&) */

void __thiscall
std::
vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>::
_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
          (vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
           *this,void *param_2,undefined8 *param_3)

{
  void *__src;
  ulong uVar1;
  void *pvVar2;
  void *__dest;
  size_t __n;
  long lVar3;
  ulong uVar4;
  size_t __n_00;
  
  pvVar2 = *(void **)(this + 8);
  __src = *(void **)this;
  uVar1 = (long)pvVar2 - (long)__src >> 3;
  if (uVar1 == 0xfffffffffffffff) {
    std::__throw_length_error("vector::_M_realloc_insert");
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  __n = (long)param_2 - (long)__src;
  if (__src == pvVar2) {
    if (0xfffffffffffffffe < uVar1) goto LAB_001048d0;
    uVar4 = 0xfffffffffffffff;
    if (uVar1 + 1 < 0x1000000000000000) {
      uVar4 = uVar1 + 1;
    }
    uVar4 = uVar4 << 3;
  }
  else {
    uVar4 = uVar1 * 2;
    if (uVar4 < uVar1) {
LAB_001048d0:
      uVar4 = 0x7ffffffffffffff8;
    }
    else {
      if (uVar4 == 0) {
        lVar3 = 0;
        __dest = (void *)0x0;
        goto LAB_00104859;
      }
      if (0xfffffffffffffff < uVar4) {
        uVar4 = 0xfffffffffffffff;
      }
      uVar4 = uVar4 * 8;
    }
  }
  __dest = operator_new(uVar4);
  lVar3 = uVar4 + (long)__dest;
LAB_00104859:
  *(undefined8 *)((long)__dest + __n) = *param_3;
  if (0 < (long)__n) {
    memmove(__dest,__src,__n);
  }
  __n_00 = (long)pvVar2 - (long)param_2;
  pvVar2 = (void *)((long)__dest + __n + 8);
  if (0 < (long)__n_00) {
    pvVar2 = memmove(pvVar2,param_2,__n_00);
  }
  if (__src != (void *)0x0) {
    operator_delete(__src,*(long *)(this + 0x10) - (long)__src);
  }
  *(void **)this = __dest;
  *(size_t *)(this + 8) = __n_00 + (long)pvVar2;
  *(long *)(this + 0x10) = lVar3;
  return;
}



/* WARNING: Control flow encountered bad instruction data */
/* void std::vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >,
   std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> > >
   >::_M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >
   >(__gnu_cxx::__normal_iterator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >*,
   std::vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >,
   std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> > > > >,
   std::unique_ptr<embree::FastAllocator::ThreadLocal2,
   std::default_delete<embree::FastAllocator::ThreadLocal2> >&&) */

void __thiscall
std::
vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
::
_M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
          (vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
           *this,undefined8 *param_2,undefined8 *param_3)

{
  undefined8 *puVar1;
  undefined8 uVar2;
  ulong uVar3;
  undefined8 *puVar4;
  undefined8 *puVar5;
  undefined8 *puVar6;
  undefined8 *puVar7;
  ulong uVar8;
  undefined8 *puVar9;
  long lVar10;
  
  puVar5 = *(undefined8 **)(this + 8);
  puVar1 = *(undefined8 **)this;
  uVar3 = (long)puVar5 - (long)puVar1 >> 3;
  if (uVar3 == 0xfffffffffffffff) {
    std::__throw_length_error("vector::_M_realloc_insert");
                    /* WARNING: Bad instruction - Truncating control flow here */
    halt_baddata();
  }
  if (puVar1 == puVar5) {
    if (0xfffffffffffffffe < uVar3) goto LAB_00104a60;
    uVar8 = 0xfffffffffffffff;
    if (uVar3 + 1 < 0x1000000000000000) {
      uVar8 = uVar3 + 1;
    }
    uVar8 = uVar8 << 3;
LAB_00104a6a:
    puVar7 = (undefined8 *)operator_new(uVar8);
    lVar10 = uVar8 + (long)puVar7;
    *(undefined8 *)((long)puVar7 + ((long)param_2 - (long)puVar1)) = *param_3;
    puVar4 = puVar7 + 1;
    *param_3 = 0;
    if (param_2 != puVar1) {
LAB_001049d1:
      puVar4 = puVar1;
      puVar9 = puVar7;
      do {
        uVar2 = *puVar4;
        puVar4 = puVar4 + 1;
        *puVar9 = uVar2;
        puVar9 = puVar9 + 1;
      } while (puVar4 != param_2);
      puVar4 = (undefined8 *)((long)puVar7 + (long)param_2 + (8 - (long)puVar1));
    }
    if (param_2 == puVar5) goto LAB_00104a24;
  }
  else {
    uVar8 = uVar3 * 2;
    if (uVar8 < uVar3) {
LAB_00104a60:
      uVar8 = 0x7ffffffffffffff8;
      goto LAB_00104a6a;
    }
    if (uVar8 != 0) {
      if (0xfffffffffffffff < uVar8) {
        uVar8 = 0xfffffffffffffff;
      }
      uVar8 = uVar8 * 8;
      goto LAB_00104a6a;
    }
    lVar10 = 0;
    puVar7 = (undefined8 *)0x0;
    *(undefined8 *)((long)param_2 - (long)puVar1) = *param_3;
    puVar4 = (undefined8 *)&DAT_00000008;
    *param_3 = 0;
    if (param_2 != puVar1) goto LAB_001049d1;
  }
  puVar9 = (undefined8 *)(((long)puVar5 - (long)param_2) + (long)puVar4);
  puVar5 = puVar4;
  do {
    uVar2 = *param_2;
    puVar6 = puVar5 + 1;
    param_2 = param_2 + 1;
    *puVar5 = uVar2;
    puVar5 = puVar6;
    puVar4 = puVar9;
  } while (puVar9 != puVar6);
LAB_00104a24:
  if (puVar1 != (undefined8 *)0x0) {
    operator_delete(puVar1,*(long *)(this + 0x10) - (long)puVar1);
  }
  *(undefined8 **)this = puVar7;
  *(undefined8 **)(this + 8) = puVar4;
  *(long *)(this + 0x10) = lVar10;
  return;
}



/* WARNING: Unknown calling convention -- yet parameter storage is locked */
/* void std::__heap_select<embree::PrimRefMB*,
   __gnu_cxx::__ops::_Iter_less_iter>(embree::PrimRefMB*, embree::PrimRefMB*, embree::PrimRefMB*,
   __gnu_cxx::__ops::_Iter_less_iter) */

void std::__heap_select<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
               (undefined8 *param_1,undefined8 *param_2,undefined8 *param_3)

{
  long lVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined8 uVar5;
  undefined8 *puVar6;
  long lVar7;
  long in_FS_OFFSET;
  
  lVar1 = *(long *)(in_FS_OFFSET + 0x28);
  if (0x50 < (long)param_2 - (long)param_1) {
    lVar7 = (((long)param_2 - (long)param_1 >> 4) * -0x3333333333333333 + -2) / 2;
    while (__adjust_heap<embree::PrimRefMB*,long,embree::PrimRefMB,__gnu_cxx::__ops::_Iter_less_iter>
                     (), lVar7 != 0) {
      lVar7 = lVar7 + -1;
    }
  }
  if (param_2 < param_3) {
    do {
      while (CONCAT44(*(undefined4 *)((long)param_1 + 0x1c),*(undefined4 *)((long)param_1 + 0xc)) <=
             CONCAT44(*(undefined4 *)((long)param_2 + 0x1c),*(undefined4 *)((long)param_2 + 0xc))) {
        param_2 = param_2 + 10;
        if (param_3 <= param_2) goto LAB_00104cb1;
      }
      uVar5 = param_1[1];
      puVar6 = param_2 + 10;
      *param_2 = *param_1;
      param_2[1] = uVar5;
      uVar5 = param_1[3];
      param_2[2] = param_1[2];
      param_2[3] = uVar5;
      uVar2 = *(undefined4 *)((long)param_1 + 0x24);
      uVar3 = *(undefined4 *)(param_1 + 5);
      uVar4 = *(undefined4 *)((long)param_1 + 0x2c);
      *(undefined4 *)(param_2 + 4) = *(undefined4 *)(param_1 + 4);
      *(undefined4 *)((long)param_2 + 0x24) = uVar2;
      *(undefined4 *)(param_2 + 5) = uVar3;
      *(undefined4 *)((long)param_2 + 0x2c) = uVar4;
      uVar5 = param_1[7];
      param_2[6] = param_1[6];
      param_2[7] = uVar5;
      *(undefined4 *)(param_2 + 8) = *(undefined4 *)(param_1 + 8);
      *(undefined4 *)((long)param_2 + 0x44) = *(undefined4 *)((long)param_1 + 0x44);
      __adjust_heap<embree::PrimRefMB*,long,embree::PrimRefMB,__gnu_cxx::__ops::_Iter_less_iter>();
      param_2 = puVar6;
    } while (puVar6 < param_3);
  }
LAB_00104cb1:
  if (lVar1 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::SetMB::deterministic_order() const */

void __thiscall embree::SetMB::deterministic_order(SetMB *this)

{
  undefined8 *puVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  long lVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  long lVar15;
  ulong uVar16;
  undefined8 *puVar17;
  undefined8 *puVar18;
  
  puVar1 = (undefined8 *)(*(long *)(*(long *)(this + 0x90) + 0x20) + *(long *)(this + 0x68) * 0x50);
  puVar17 = (undefined8 *)(*(long *)(*(long *)(this + 0x90) + 0x20) + *(long *)(this + 0x60) * 0x50)
  ;
  if (puVar1 == puVar17) {
    return;
  }
  lVar15 = *(long *)(this + 0x68) * 0x50 + *(long *)(this + 0x60) * -0x50;
  uVar16 = (lVar15 >> 4) * -0x3333333333333333;
  if (uVar16 == 0) {
    std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
              (puVar17,puVar1,0xfffffffffffffffe);
  }
  else {
    lVar6 = 0x3f;
    if (uVar16 != 0) {
      for (; uVar16 >> lVar6 == 0; lVar6 = lVar6 + -1) {
      }
    }
    std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
              (puVar17,puVar1,(long)(int)lVar6 * 2);
    if (0x500 < lVar15) {
      puVar18 = puVar17 + 0xa0;
      std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>(puVar17,puVar18);
      for (; puVar1 != puVar18; puVar18 = puVar18 + 10) {
        uVar4 = *(undefined4 *)((long)puVar18 + 0x1c);
        uVar5 = *(undefined4 *)((long)puVar18 + 0xc);
        uVar7 = puVar18[4];
        uVar8 = puVar18[5];
        uVar9 = puVar18[6];
        uVar10 = puVar18[7];
        uVar11 = puVar18[2];
        uVar12 = puVar18[3];
        uVar2 = *(undefined4 *)(puVar18 + 8);
        uVar3 = *(undefined4 *)((long)puVar18 + 0x44);
        uVar13 = *puVar18;
        uVar14 = puVar18[1];
        uVar16 = CONCAT44(*(undefined4 *)((long)puVar18 + -0x34),
                          *(undefined4 *)((long)puVar18 + -0x44));
        puVar17 = puVar18;
        while (CONCAT44(uVar4,uVar5) < uVar16) {
          *puVar17 = puVar17[-10];
          puVar17[1] = puVar17[-9];
          puVar17[4] = puVar17[-6];
          puVar17[5] = puVar17[-5];
          puVar17[2] = puVar17[-8];
          puVar17[3] = puVar17[-7];
          *(undefined4 *)(puVar17 + 8) = *(undefined4 *)(puVar17 + -2);
          puVar17[6] = puVar17[-4];
          puVar17[7] = puVar17[-3];
          *(undefined4 *)((long)puVar17 + 0x44) = *(undefined4 *)((long)puVar17 + -0xc);
          uVar16 = CONCAT44(*(undefined4 *)((long)puVar17 + -0x84),
                            *(undefined4 *)((long)puVar17 + -0x94));
          puVar17 = puVar17 + -10;
        }
        *puVar17 = uVar13;
        puVar17[1] = uVar14;
        puVar17[2] = uVar11;
        puVar17[3] = uVar12;
        puVar17[4] = uVar7;
        puVar17[5] = uVar8;
        puVar17[6] = uVar9;
        puVar17[7] = uVar10;
        *(undefined4 *)(puVar17 + 8) = uVar2;
        *(undefined4 *)((long)puVar17 + 0x44) = uVar3;
      }
      return;
    }
  }
  std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>(puVar17,puVar1);
  return;
}



/* embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>
   >(embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)
   const::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_func_linearBounds_RecalculatePrimRef_ptr * __thiscall
const::{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  float fVar1;
  long lVar2;
  long lVar3;
  int iVar4;
  float fVar5;
  undefined4 uVar6;
  int iVar7;
  long lVar8;
  ulong uVar9;
  ulong *in_RDX;
  ulong uVar10;
  ulong uVar11;
  uint *puVar12;
  ulong uVar13;
  long lVar14;
  long *plVar15;
  long *plVar16;
  int iVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  float fVar21;
  float fVar22;
  float fVar23;
  float fVar26;
  float fVar27;
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  float fVar28;
  float fVar29;
  float fVar30;
  undefined1 auVar31 [16];
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  float fVar34;
  float fVar35;
  float fVar37;
  float fVar38;
  undefined1 auVar36 [16];
  float fVar39;
  undefined1 auVar40 [16];
  undefined1 auVar41 [16];
  undefined1 auVar42 [16];
  float local_98;
  float fStack_94;
  float fStack_90;
  float fStack_8c;
  float local_88;
  float fStack_84;
  float fStack_80;
  float fStack_7c;
  undefined1 local_78 [16];
  undefined1 local_68 [16];
  undefined1 local_58 [16];
  float local_48;
  float fStack_44;
  float fStack_40;
  float fStack_3c;
  
  uVar6 = _LC10;
  local_58._4_4_ = _LC8;
  local_68._0_8_ = CONCAT44(_LC10,_LC10);
  local_68._8_4_ = _LC10;
  local_68._12_4_ = _LC10;
  *(undefined1 (*) [16])this = local_68;
  *(undefined4 *)(this + 0x10) = local_58._4_4_;
  *(undefined4 *)(this + 0x14) = local_58._4_4_;
  *(undefined4 *)(this + 0x18) = local_58._4_4_;
  *(undefined4 *)(this + 0x1c) = local_58._4_4_;
  *(undefined1 (*) [16])(this + 0x20) = local_68;
  *(undefined4 *)(this + 0x30) = local_58._4_4_;
  *(undefined4 *)(this + 0x34) = local_58._4_4_;
  *(undefined4 *)(this + 0x38) = local_58._4_4_;
  *(undefined4 *)(this + 0x3c) = local_58._4_4_;
  fVar5 = _LC3;
  uVar10 = *in_RDX;
  if (uVar10 < in_RDX[1]) {
    local_58._0_4_ = local_58._4_4_;
    local_58._8_4_ = local_58._4_4_;
    local_58._12_4_ = local_58._4_4_;
    auVar42._8_4_ = uVar6;
    auVar42._0_8_ = local_68._0_8_;
    auVar42._12_4_ = uVar6;
    local_78._4_4_ = local_58._4_4_;
    local_78._0_4_ = local_58._4_4_;
    local_78._8_4_ = local_58._4_4_;
    local_78._12_4_ = local_58._4_4_;
    do {
      lVar14 = *(long *)param_1;
      lVar8 = uVar10 * 0x50 + *(long *)(*(long *)(lVar14 + 0x90) + 0x20);
      lVar2 = *(long *)(*(long *)(**(long **)(param_1 + 8) + 0x1e0) +
                       (ulong)*(uint *)(lVar8 + 0xc) * 8);
      fVar20 = *(float *)(lVar2 + 0x2c);
      fVar1 = *(float *)(lVar2 + 0x28);
      fVar18 = *(float *)(lVar2 + 0x30) - fVar20;
      fVar29 = (*(float *)(lVar14 + 0x88) - fVar20) / fVar18;
      fVar18 = (*(float *)(lVar14 + 0x8c) - fVar20) / fVar18;
      fVar19 = fVar1 * fVar29;
      fVar34 = fVar1 * fVar18;
      fVar20 = fVar19;
      if ((float)(_LC6 & (uint)fVar19) < _LC1) {
        fVar20 = (float)(~_LC6 & (uint)fVar19 |
                        (uint)((float)(int)fVar19 -
                              (float)(-(uint)(fVar19 < (float)(int)fVar19) & (uint)fVar5)));
      }
      fVar21 = fVar34;
      if ((float)(_LC6 & (uint)fVar34) < _LC1) {
        fVar21 = (float)(~_LC6 & (uint)fVar34 |
                        (uint)((float)(int)fVar34 +
                              (float)(-(uint)((float)(int)fVar34 < fVar34) & (uint)fVar5)));
      }
      iVar7 = (int)fVar20;
      if (fVar20 <= 0.0) {
        lVar14 = 0;
        iVar17 = 0;
      }
      else {
        fVar19 = fVar19 - fVar20;
        lVar14 = (long)iVar7 * 0x30;
        iVar17 = iVar7;
      }
      lVar3 = *(long *)(lVar2 + 0xd0);
      fVar20 = fVar21;
      if (fVar1 <= fVar21) {
        fVar20 = fVar1;
      }
      if (iVar7 < 0) {
        iVar7 = -1;
      }
      iVar4 = (int)fVar1 + 1;
      if ((int)fVar21 < (int)fVar1 + 1) {
        iVar4 = (int)fVar21;
      }
      puVar12 = (uint *)((ulong)*(uint *)(lVar8 + 0x1c) * *(long *)(lVar2 + 0x60) +
                        *(long *)(lVar2 + 0x58));
      uVar9 = (ulong)*puVar12;
      lVar2 = *(long *)(lVar14 + lVar3);
      lVar14 = ((long *)(lVar14 + lVar3))[1];
      auVar40 = *(undefined1 (*) [16])(lVar2 + uVar9 * lVar14);
      uVar11 = (ulong)puVar12[1];
      uVar13 = (ulong)puVar12[2];
      auVar32 = *(undefined1 (*) [16])(lVar2 + lVar14 * uVar11);
      auVar31 = *(undefined1 (*) [16])(lVar2 + lVar14 * uVar13);
      auVar24 = minps(auVar40,auVar32);
      auVar40 = maxps(auVar40,auVar32);
      plVar15 = (long *)((long)(int)fVar20 * 0x30 + lVar3);
      lVar14 = *plVar15;
      lVar2 = plVar15[1];
      auVar24 = minps(auVar24,auVar31);
      auVar41 = maxps(auVar40,auVar31);
      auVar40 = *(undefined1 (*) [16])(lVar14 + lVar2 * uVar9);
      auVar32 = *(undefined1 (*) [16])(lVar14 + lVar2 * uVar13);
      auVar31 = *(undefined1 (*) [16])(lVar14 + lVar2 * uVar11);
      auVar25 = minps(auVar40,auVar31);
      auVar31 = maxps(auVar40,auVar31);
      auVar40 = minps(auVar25,auVar32);
      auVar32 = maxps(auVar31,auVar32);
      fVar27 = auVar41._0_4_;
      fVar21 = auVar32._0_4_;
      fVar28 = auVar41._4_4_;
      fVar22 = auVar32._4_4_;
      fVar23 = auVar32._8_4_;
      fVar26 = auVar32._12_4_;
      fVar35 = auVar41._12_4_;
      fVar30 = auVar41._8_4_;
      fStack_84 = auVar24._4_4_;
      fStack_80 = auVar24._8_4_;
      fStack_7c = auVar24._12_4_;
      fStack_94 = auVar40._4_4_;
      fStack_90 = auVar40._8_4_;
      fStack_8c = auVar40._12_4_;
      local_88 = auVar24._0_4_;
      local_98 = auVar40._0_4_;
      if (iVar4 - iVar7 == 1) {
        if (fVar19 <= 0.0) {
          fVar19 = 0.0;
          fVar1 = fVar5;
        }
        else {
          fVar1 = fVar5 - fVar19;
        }
        fVar20 = fVar20 - fVar34;
        auVar32._0_4_ = fVar19 * fVar21 + fVar1 * fVar27;
        auVar32._4_4_ = fVar19 * fVar22 + fVar1 * fVar28;
        auVar32._8_4_ = fVar19 * fVar23 + fVar1 * fVar30;
        auVar32._12_4_ = fVar19 * fVar26 + fVar1 * fVar35;
        auVar40._0_4_ = fVar19 * local_98 + fVar1 * local_88;
        auVar40._4_4_ = fVar19 * fStack_94 + fVar1 * fStack_84;
        auVar40._8_4_ = fVar19 * fStack_90 + fVar1 * fStack_80;
        auVar40._12_4_ = fVar19 * fStack_8c + fVar1 * fStack_7c;
        if (fVar20 <= 0.0) {
          fVar20 = 0.0;
          fVar1 = fVar5;
        }
        else {
          fVar1 = fVar5 - fVar20;
        }
        auVar24._0_4_ = fVar27 * fVar20 + fVar21 * fVar1;
        auVar24._4_4_ = fVar28 * fVar20 + fVar22 * fVar1;
        auVar24._8_4_ = fVar30 * fVar20 + fVar23 * fVar1;
        auVar24._12_4_ = fVar35 * fVar20 + fVar26 * fVar1;
        auVar31._0_4_ = fVar20 * local_88 + fVar1 * local_98;
        auVar31._4_4_ = fVar20 * fStack_84 + fVar1 * fStack_94;
        auVar31._8_4_ = fVar20 * fStack_80 + fVar1 * fStack_90;
        auVar31._12_4_ = fVar20 * fStack_7c + fVar1 * fStack_8c;
      }
      else {
        plVar16 = (long *)((long)(iVar17 + 1) * 0x30 + lVar3);
        plVar15 = (long *)((long)((int)fVar20 + -1) * 0x30 + lVar3);
        lVar14 = *plVar16;
        lVar2 = plVar16[1];
        auVar40 = *(undefined1 (*) [16])(lVar14 + uVar9 * lVar2);
        auVar32 = *(undefined1 (*) [16])(lVar14 + uVar11 * lVar2);
        auVar31 = *(undefined1 (*) [16])(lVar14 + lVar2 * uVar13);
        lVar14 = *plVar15;
        lVar2 = plVar15[1];
        auVar24 = minps(auVar40,auVar32);
        auVar40 = maxps(auVar40,auVar32);
        auVar33 = minps(auVar24,auVar31);
        auVar36 = maxps(auVar40,auVar31);
        auVar40 = *(undefined1 (*) [16])(lVar14 + uVar9 * lVar2);
        auVar32 = *(undefined1 (*) [16])(lVar14 + uVar11 * lVar2);
        auVar31 = *(undefined1 (*) [16])(lVar14 + lVar2 * uVar13);
        auVar24 = maxps(auVar40,auVar32);
        auVar40 = minps(auVar40,auVar32);
        auVar25 = maxps(auVar24,auVar31);
        auVar41 = minps(auVar40,auVar31);
        if (fVar19 <= 0.0) {
          fVar19 = 0.0;
          fVar37 = fVar5;
        }
        else {
          fVar37 = fVar5 - fVar19;
        }
        fVar20 = fVar20 - fVar34;
        local_48 = auVar33._0_4_;
        fStack_44 = auVar33._4_4_;
        fStack_40 = auVar33._8_4_;
        fStack_3c = auVar33._12_4_;
        auVar32._0_4_ = auVar36._0_4_ * fVar19 + fVar27 * fVar37;
        auVar32._4_4_ = auVar36._4_4_ * fVar19 + fVar28 * fVar37;
        auVar32._8_4_ = auVar36._8_4_ * fVar19 + fVar30 * fVar37;
        auVar32._12_4_ = auVar36._12_4_ * fVar19 + fVar35 * fVar37;
        auVar40._0_4_ = fVar19 * local_48 + fVar37 * local_88;
        auVar40._4_4_ = fVar19 * fStack_44 + fVar37 * fStack_84;
        auVar40._8_4_ = fVar19 * fStack_40 + fVar37 * fStack_80;
        auVar40._12_4_ = fVar19 * fStack_3c + fVar37 * fStack_7c;
        if (fVar20 <= 0.0) {
          fVar20 = 0.0;
          fVar19 = fVar5;
        }
        else {
          fVar19 = fVar5 - fVar20;
        }
        iVar7 = iVar7 + 1;
        auVar24._0_4_ = auVar25._0_4_ * fVar20 + fVar21 * fVar19;
        auVar24._4_4_ = auVar25._4_4_ * fVar20 + fVar22 * fVar19;
        auVar24._8_4_ = auVar25._8_4_ * fVar20 + fVar23 * fVar19;
        auVar24._12_4_ = auVar25._12_4_ * fVar20 + fVar26 * fVar19;
        auVar31._0_4_ = fVar20 * auVar41._0_4_ + fVar19 * local_98;
        auVar31._4_4_ = fVar20 * auVar41._4_4_ + fVar19 * fStack_94;
        auVar31._8_4_ = fVar20 * auVar41._8_4_ + fVar19 * fStack_90;
        auVar31._12_4_ = fVar20 * auVar41._12_4_ + fVar19 * fStack_8c;
        if (iVar7 < iVar4) {
          plVar15 = (long *)((long)iVar7 * 0x30 + lVar3);
          do {
            lVar14 = plVar15[1];
            lVar2 = *plVar15;
            fVar20 = (float)iVar7;
            iVar7 = iVar7 + 1;
            plVar15 = plVar15 + 6;
            fVar30 = (fVar20 / fVar1 - fVar29) / (fVar18 - fVar29);
            fVar35 = fVar5 - fVar30;
            auVar25 = *(undefined1 (*) [16])(lVar2 + uVar9 * lVar14);
            auVar41 = *(undefined1 (*) [16])(lVar2 + uVar11 * lVar14);
            auVar33 = *(undefined1 (*) [16])(lVar2 + lVar14 * uVar13);
            auVar36 = maxps(auVar25,auVar41);
            auVar25 = minps(auVar25,auVar41);
            fVar20 = auVar40._4_4_;
            fVar19 = auVar40._8_4_;
            fVar34 = auVar40._12_4_;
            fVar37 = auVar32._4_4_;
            fVar38 = auVar32._8_4_;
            fVar39 = auVar32._12_4_;
            auVar36 = maxps(auVar36,auVar33);
            auVar25 = minps(auVar25,auVar33);
            fVar21 = auVar31._4_4_;
            fVar22 = auVar31._8_4_;
            fVar23 = auVar31._12_4_;
            fVar26 = auVar24._4_4_;
            fVar27 = auVar24._8_4_;
            fVar28 = auVar24._12_4_;
            auVar41._0_4_ = auVar25._0_4_ - (fVar30 * auVar31._0_4_ + fVar35 * auVar40._0_4_);
            auVar41._4_4_ = auVar25._4_4_ - (fVar30 * fVar21 + fVar35 * fVar20);
            auVar41._8_4_ = auVar25._8_4_ - (fVar30 * fVar22 + fVar35 * fVar19);
            auVar41._12_4_ = auVar25._12_4_ - (fVar30 * fVar23 + fVar35 * fVar34);
            auVar33._0_4_ = auVar36._0_4_ - (fVar30 * auVar24._0_4_ + fVar35 * auVar32._0_4_);
            auVar33._4_4_ = auVar36._4_4_ - (fVar30 * fVar26 + fVar35 * fVar37);
            auVar33._8_4_ = auVar36._8_4_ - (fVar30 * fVar27 + fVar35 * fVar38);
            auVar33._12_4_ = auVar36._12_4_ - (fVar30 * fVar28 + fVar35 * fVar39);
            auVar25 = minps(auVar41,(undefined1  [16])0x0);
            auVar41 = maxps(auVar33,(undefined1  [16])0x0);
            auVar40._0_4_ = auVar40._0_4_ + auVar25._0_4_;
            auVar40._4_4_ = fVar20 + auVar25._4_4_;
            auVar40._8_4_ = fVar19 + auVar25._8_4_;
            auVar40._12_4_ = fVar34 + auVar25._12_4_;
            auVar31._0_4_ = auVar31._0_4_ + auVar25._0_4_;
            auVar31._4_4_ = fVar21 + auVar25._4_4_;
            auVar31._8_4_ = fVar22 + auVar25._8_4_;
            auVar31._12_4_ = fVar23 + auVar25._12_4_;
            auVar32._0_4_ = auVar32._0_4_ + auVar41._0_4_;
            auVar32._4_4_ = fVar37 + auVar41._4_4_;
            auVar32._8_4_ = fVar38 + auVar41._8_4_;
            auVar32._12_4_ = fVar39 + auVar41._12_4_;
            auVar24._0_4_ = auVar24._0_4_ + auVar41._0_4_;
            auVar24._4_4_ = fVar26 + auVar41._4_4_;
            auVar24._8_4_ = fVar27 + auVar41._8_4_;
            auVar24._12_4_ = fVar28 + auVar41._12_4_;
          } while (iVar4 != iVar7);
        }
      }
      auVar42 = minps(auVar42,auVar40);
      uVar10 = uVar10 + 1;
      local_78 = maxps(local_78,auVar32);
      local_68 = minps(local_68,auVar31);
      local_58 = maxps(local_58,auVar24);
      *(undefined1 (*) [16])this = auVar42;
      *(undefined1 (*) [16])(this + 0x10) = local_78;
      *(undefined1 (*) [16])(this + 0x20) = local_68;
      *(undefined1 (*) [16])(this + 0x30) = local_58;
    } while (uVar10 < in_RDX[1]);
  }
  return (_func_linearBounds_RecalculatePrimRef_ptr *)this;
}



/* embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::sse2::
HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::
{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  float fVar1;
  float fVar2;
  undefined1 auVar3 [16];
  long lVar4;
  long lVar5;
  long lVar6;
  undefined8 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  uint uVar10;
  int iVar11;
  undefined8 *puVar12;
  undefined1 (*pauVar13) [16];
  ulong *in_RDX;
  undefined8 *puVar14;
  int iVar15;
  float fVar16;
  ulong uVar17;
  long lVar18;
  ulong uVar19;
  uint *puVar20;
  ulong uVar21;
  long *plVar22;
  ulong uVar23;
  int iVar24;
  float fVar25;
  undefined1 auVar26 [16];
  float fVar27;
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  float fVar30;
  float fVar31;
  float fVar32;
  float fVar33;
  float fVar34;
  float fVar35;
  float fVar36;
  float fVar39;
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  float fVar40;
  float fVar42;
  float fVar43;
  undefined1 auVar41 [16];
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  float fVar50;
  float fVar51;
  undefined1 auVar49 [16];
  float fVar52;
  float fVar53;
  undefined1 auVar54 [16];
  undefined1 auVar55 [16];
  float local_b8;
  float fStack_b4;
  float fStack_b0;
  float fStack_ac;
  int local_94;
  
  uVar9 = _LC10;
  uVar8 = _LC8;
  *(undefined8 *)(this + 0x60) = 0;
  *(undefined8 *)(this + 0x68) = 0;
  auVar26._4_4_ = uVar9;
  auVar26._0_4_ = uVar9;
  auVar26._8_4_ = uVar9;
  auVar26._12_4_ = uVar9;
  *(undefined8 *)(this + 0x70) = 0;
  *(undefined8 *)(this + 0x78) = 0;
  *(undefined8 *)(this + 0x80) = 0x3f80000000000000;
  *(undefined8 *)(this + 0x88) = 0x3f800000;
  *(undefined1 (*) [16])this = auVar26;
  *(undefined4 *)(this + 0x10) = uVar8;
  *(undefined4 *)(this + 0x14) = uVar8;
  *(undefined4 *)(this + 0x18) = uVar8;
  *(undefined4 *)(this + 0x1c) = uVar8;
  *(undefined1 (*) [16])(this + 0x20) = auVar26;
  *(undefined4 *)(this + 0x30) = uVar8;
  *(undefined4 *)(this + 0x34) = uVar8;
  *(undefined4 *)(this + 0x38) = uVar8;
  *(undefined4 *)(this + 0x3c) = uVar8;
  *(undefined1 (*) [16])(this + 0x40) = auVar26;
  *(undefined4 *)(this + 0x50) = uVar8;
  *(undefined4 *)(this + 0x54) = uVar8;
  *(undefined4 *)(this + 0x58) = uVar8;
  *(undefined4 *)(this + 0x5c) = uVar8;
  uVar10 = _LC6;
  uVar23 = *in_RDX;
  if (uVar23 < in_RDX[1]) {
    do {
      puVar12 = (undefined8 *)(uVar23 * 0x50 + *(long *)(*(long *)param_1 + 0x20));
      fVar35 = **(float **)(param_1 + 8);
      if ((_LC14 * *(float *)((long)puVar12 + 0x44) <= fVar35) ||
         (fVar30 = (*(float **)(param_1 + 8))[1], fVar30 <= _LC15 * *(float *)(puVar12 + 8))) {
        uVar7 = puVar12[1];
        puVar14 = (undefined8 *)
                  ((uVar23 - *(long *)(*(long *)(param_1 + 0x20) + 0x60)) * 0x50 +
                  *(long *)(**(long **)(param_1 + 0x18) + 0x20));
        *puVar14 = *puVar12;
        puVar14[1] = uVar7;
        uVar7 = puVar12[3];
        puVar14[2] = puVar12[2];
        puVar14[3] = uVar7;
        uVar7 = puVar12[5];
        puVar14[4] = puVar12[4];
        puVar14[5] = uVar7;
        uVar7 = puVar12[7];
        puVar14[6] = puVar12[6];
        puVar14[7] = uVar7;
        *(undefined4 *)(puVar14 + 8) = *(undefined4 *)(puVar12 + 8);
        *(undefined4 *)((long)puVar14 + 0x44) = *(undefined4 *)((long)puVar12 + 0x44);
      }
      else {
        fVar27 = *(float *)((long)puVar12 + 0xc);
        fVar45 = *(float *)((long)puVar12 + 0x1c);
        lVar4 = *(long *)(*(long *)(*(long *)(*(long *)(param_1 + 0x10) + 8) + 0x1e0) +
                         (ulong)(uint)fVar27 * 8);
        fVar1 = *(float *)(lVar4 + 0x2c);
        fVar2 = *(float *)(lVar4 + 0x30);
        fVar16 = *(float *)(lVar4 + 0x28);
        fVar46 = (fVar30 - fVar1) / (fVar2 - fVar1);
        fVar53 = (fVar35 - fVar1) / (fVar2 - fVar1);
        fVar47 = fVar46 * fVar16;
        fVar30 = fVar16 * fVar53;
        fVar35 = fVar30;
        if ((float)((uint)fVar30 & uVar10) < _LC1) {
          fVar35 = (float)(~uVar10 & (uint)fVar30 |
                          (uint)((float)(int)fVar30 -
                                (float)(-(uint)(fVar30 < (float)(int)fVar30) & (uint)_LC3)));
        }
        fVar36 = fVar47;
        if ((float)((uint)fVar47 & uVar10) < _LC1) {
          fVar36 = (float)(~uVar10 & (uint)fVar47 |
                          (uint)((float)(int)fVar47 +
                                (float)(-(uint)((float)(int)fVar47 < fVar47) & (uint)_LC3)));
        }
        iVar11 = (int)fVar35;
        if (fVar35 <= 0.0) {
          local_94 = 0;
          lVar18 = 0;
        }
        else {
          fVar30 = fVar30 - fVar35;
          lVar18 = (long)iVar11 * 0x30;
          local_94 = iVar11;
        }
        lVar5 = *(long *)(lVar4 + 0xd0);
        fVar35 = fVar36;
        if (fVar16 <= fVar36) {
          fVar35 = fVar16;
        }
        iVar24 = -1;
        if (-1 < iVar11) {
          iVar24 = iVar11;
        }
        iVar15 = (int)fVar16;
        iVar11 = iVar15 + 1;
        if ((int)fVar36 < iVar15 + 1) {
          iVar11 = (int)fVar36;
        }
        puVar20 = (uint *)((ulong)(uint)fVar45 * *(long *)(lVar4 + 0x60) + *(long *)(lVar4 + 0x58));
        uVar17 = (ulong)*puVar20;
        lVar6 = ((long *)(lVar18 + lVar5))[1];
        lVar18 = *(long *)(lVar18 + lVar5);
        auVar26 = *(undefined1 (*) [16])(lVar18 + uVar17 * lVar6);
        uVar19 = (ulong)puVar20[1];
        uVar21 = (ulong)puVar20[2];
        auVar54 = *(undefined1 (*) [16])(lVar18 + lVar6 * uVar19);
        auVar38 = *(undefined1 (*) [16])(lVar18 + lVar6 * uVar21);
        auVar28 = maxps(auVar26,auVar54);
        auVar26 = minps(auVar26,auVar54);
        plVar22 = (long *)((long)(int)fVar35 * 0x30 + lVar5);
        auVar29 = maxps(auVar28,auVar38);
        auVar28 = minps(auVar26,auVar38);
        lVar18 = *plVar22;
        lVar6 = plVar22[1];
        auVar26 = *(undefined1 (*) [16])(lVar18 + lVar6 * uVar17);
        auVar54 = *(undefined1 (*) [16])(lVar18 + lVar6 * uVar21);
        auVar38 = *(undefined1 (*) [16])(lVar18 + lVar6 * uVar19);
        auVar37 = minps(auVar26,auVar38);
        auVar26 = maxps(auVar26,auVar38);
        auVar38 = minps(auVar37,auVar54);
        auVar26 = maxps(auVar26,auVar54);
        fVar36 = auVar28._0_4_;
        fVar39 = auVar28._4_4_;
        fVar34 = auVar28._8_4_;
        fVar44 = auVar29._0_4_;
        fVar48 = auVar26._0_4_;
        fVar25 = auVar29._4_4_;
        fVar52 = auVar29._8_4_;
        fVar50 = auVar26._4_4_;
        fVar51 = auVar26._8_4_;
        fStack_b4 = auVar38._4_4_;
        fStack_b0 = auVar38._8_4_;
        local_b8 = auVar38._0_4_;
        if (iVar11 - iVar24 == 1) {
          if (fVar30 <= 0.0) {
            fVar30 = 0.0;
            fVar43 = _LC3;
          }
          else {
            fVar43 = _LC3 - fVar30;
          }
          fVar31 = fVar30 * local_b8 + fVar43 * fVar36;
          fVar32 = fVar30 * fStack_b4 + fVar43 * fVar39;
          fVar33 = fVar30 * fStack_b0 + fVar43 * fVar34;
          fVar35 = fVar35 - fVar47;
          fVar47 = fVar30 * fVar48 + fVar43 * fVar44;
          fVar42 = fVar30 * fVar50 + fVar43 * fVar25;
          fVar43 = fVar30 * fVar51 + fVar43 * fVar52;
          if (fVar35 <= 0.0) {
            fVar35 = 0.0;
            fVar30 = _LC3;
          }
          else {
            fVar30 = _LC3 - fVar35;
          }
          fVar48 = fVar44 * fVar35 + fVar48 * fVar30;
          fVar50 = fVar25 * fVar35 + fVar50 * fVar30;
          fVar51 = fVar52 * fVar35 + fVar51 * fVar30;
          fVar36 = fVar35 * fVar36 + local_b8 * fVar30;
          fVar39 = fVar35 * fVar39 + fStack_b4 * fVar30;
          fVar30 = fVar35 * fVar34 + fStack_b0 * fVar30;
        }
        else {
          plVar22 = (long *)((long)(local_94 + 1) * 0x30 + lVar5);
          lVar18 = *plVar22;
          lVar6 = plVar22[1];
          auVar54 = *(undefined1 (*) [16])(lVar18 + uVar17 * lVar6);
          auVar37 = *(undefined1 (*) [16])(lVar18 + uVar19 * lVar6);
          auVar3 = *(undefined1 (*) [16])(lVar18 + lVar6 * uVar21);
          auVar41 = maxps(auVar54,auVar37);
          auVar54 = minps(auVar54,auVar37);
          auVar41 = maxps(auVar41,auVar3);
          auVar55 = minps(auVar54,auVar3);
          plVar22 = (long *)((long)((int)fVar35 + -1) * 0x30 + lVar5);
          lVar18 = *plVar22;
          lVar6 = plVar22[1];
          auVar54 = *(undefined1 (*) [16])(lVar18 + uVar17 * lVar6);
          auVar37 = *(undefined1 (*) [16])(lVar18 + uVar19 * lVar6);
          auVar3 = *(undefined1 (*) [16])(lVar18 + lVar6 * uVar21);
          auVar49 = maxps(auVar54,auVar37);
          auVar54 = minps(auVar54,auVar37);
          auVar37 = maxps(auVar49,auVar3);
          auVar54 = minps(auVar54,auVar3);
          if (fVar30 <= 0.0) {
            fVar30 = 0.0;
            fVar40 = _LC3;
          }
          else {
            fVar40 = _LC3 - fVar30;
          }
          fVar35 = fVar35 - fVar47;
          fVar47 = auVar41._0_4_ * fVar30 + fVar44 * fVar40;
          fVar42 = auVar41._4_4_ * fVar30 + fVar25 * fVar40;
          fVar43 = auVar41._8_4_ * fVar30 + fVar52 * fVar40;
          fVar44 = auVar41._12_4_ * fVar30 + auVar29._12_4_ * fVar40;
          fVar31 = fVar30 * auVar55._0_4_ + fVar40 * fVar36;
          fVar32 = fVar30 * auVar55._4_4_ + fVar40 * fVar39;
          fVar33 = fVar30 * auVar55._8_4_ + fVar40 * fVar34;
          fVar34 = fVar30 * auVar55._12_4_ + fVar40 * auVar28._12_4_;
          if (fVar35 <= 0.0) {
            fVar35 = 0.0;
            fVar25 = _LC3;
          }
          else {
            fVar25 = _LC3 - fVar35;
          }
          iVar24 = iVar24 + 1;
          fStack_ac = auVar38._12_4_;
          fVar48 = auVar37._0_4_ * fVar35 + fVar48 * fVar25;
          fVar50 = auVar37._4_4_ * fVar35 + fVar50 * fVar25;
          fVar51 = auVar37._8_4_ * fVar35 + fVar51 * fVar25;
          fVar52 = auVar37._12_4_ * fVar35 + auVar26._12_4_ * fVar25;
          fVar36 = fVar35 * auVar54._0_4_ + fVar25 * local_b8;
          fVar39 = fVar35 * auVar54._4_4_ + fVar25 * fStack_b4;
          fVar30 = fVar35 * auVar54._8_4_ + fVar25 * fStack_b0;
          fVar35 = fVar35 * auVar54._12_4_ + fVar25 * fStack_ac;
          if (iVar24 < iVar11) {
            plVar22 = (long *)((long)iVar24 * 0x30 + lVar5);
            do {
              lVar18 = plVar22[1];
              lVar5 = *plVar22;
              fVar25 = (float)iVar24;
              iVar24 = iVar24 + 1;
              plVar22 = plVar22 + 6;
              fVar25 = (fVar25 / fVar16 - fVar53) / (fVar46 - fVar53);
              fVar40 = _LC3 - fVar25;
              auVar26 = *(undefined1 (*) [16])(lVar5 + uVar17 * lVar18);
              auVar54 = *(undefined1 (*) [16])(lVar5 + uVar19 * lVar18);
              auVar38 = *(undefined1 (*) [16])(lVar5 + lVar18 * uVar21);
              auVar28 = maxps(auVar26,auVar54);
              auVar26 = minps(auVar26,auVar54);
              auVar28 = maxps(auVar28,auVar38);
              auVar26 = minps(auVar26,auVar38);
              auVar54._0_4_ = auVar26._0_4_ - (fVar40 * fVar31 + fVar25 * fVar36);
              auVar54._4_4_ = auVar26._4_4_ - (fVar40 * fVar32 + fVar25 * fVar39);
              auVar54._8_4_ = auVar26._8_4_ - (fVar40 * fVar33 + fVar25 * fVar30);
              auVar54._12_4_ = auVar26._12_4_ - (fVar40 * fVar34 + fVar25 * fVar35);
              auVar38._0_4_ = auVar28._0_4_ - (fVar25 * fVar48 + fVar40 * fVar47);
              auVar38._4_4_ = auVar28._4_4_ - (fVar25 * fVar50 + fVar40 * fVar42);
              auVar38._8_4_ = auVar28._8_4_ - (fVar25 * fVar51 + fVar40 * fVar43);
              auVar38._12_4_ = auVar28._12_4_ - (fVar25 * fVar52 + fVar40 * fVar44);
              auVar26 = minps(auVar54,(undefined1  [16])0x0);
              auVar54 = maxps(auVar38,(undefined1  [16])0x0);
              fVar31 = fVar31 + auVar26._0_4_;
              fVar32 = fVar32 + auVar26._4_4_;
              fVar33 = fVar33 + auVar26._8_4_;
              fVar34 = fVar34 + auVar26._12_4_;
              fVar36 = fVar36 + auVar26._0_4_;
              fVar39 = fVar39 + auVar26._4_4_;
              fVar30 = fVar30 + auVar26._8_4_;
              fVar35 = fVar35 + auVar26._12_4_;
              fVar47 = fVar47 + auVar54._0_4_;
              fVar42 = fVar42 + auVar54._4_4_;
              fVar43 = fVar43 + auVar54._8_4_;
              fVar44 = fVar44 + auVar54._12_4_;
              fVar48 = fVar48 + auVar54._0_4_;
              fVar50 = fVar50 + auVar54._4_4_;
              fVar51 = fVar51 + auVar54._8_4_;
              fVar52 = fVar52 + auVar54._12_4_;
            } while (iVar11 != iVar24);
          }
        }
        fVar35 = fVar53 * _LC0 * fVar16;
        if ((float)((uint)fVar35 & uVar10) < _LC1) {
          fVar35 = (float)((uint)((float)(int)fVar35 -
                                 (float)(-(uint)(fVar35 < (float)(int)fVar35) & (uint)_LC3)) |
                          ~uVar10 & (uint)fVar35);
        }
        iVar11 = 0;
        if (0.0 <= fVar35) {
          iVar11 = (int)fVar35;
        }
        fVar35 = _LC5 * fVar46 * fVar16;
        if ((float)((uint)fVar35 & uVar10) < _LC1) {
          fVar35 = (float)((uint)((float)(int)fVar35 +
                                 (float)(-(uint)((float)(int)fVar35 < fVar35) & (uint)_LC3)) |
                          ~uVar10 & (uint)fVar35);
        }
        if (fVar35 < fVar16) {
          iVar15 = (int)fVar35;
        }
        fVar16 = (float)(iVar15 - iVar11);
        fVar35 = (float)(*(int *)(lVar4 + 0x24) + -1);
        auVar29._4_4_ = fVar42;
        auVar29._0_4_ = fVar47;
        auVar29._8_4_ = fVar43;
        auVar29._12_4_ = fVar45;
        auVar3._4_4_ = fVar50;
        auVar3._0_4_ = fVar48;
        auVar3._8_4_ = fVar51;
        auVar3._12_4_ = fVar35;
        fVar47 = fVar47 * _LC12;
        fVar42 = fVar42 * _LC12;
        fVar43 = fVar43 * _LC12;
        fVar45 = fVar45 * _LC12;
        auVar37._4_4_ = fVar39;
        auVar37._0_4_ = fVar36;
        auVar37._8_4_ = fVar30;
        auVar37._12_4_ = fVar16;
        fVar48 = fVar48 * _LC12;
        fVar50 = fVar50 * _LC12;
        fVar51 = fVar51 * _LC12;
        fVar46 = fVar35 * _LC12;
        auVar28._4_4_ = fVar32;
        auVar28._0_4_ = fVar31;
        auVar28._8_4_ = fVar33;
        auVar28._12_4_ = fVar27;
        fVar36 = fVar36 * _LC12;
        fVar39 = fVar39 * _LC12;
        fVar30 = fVar30 * _LC12;
        fVar53 = fVar16 * _LC12;
        fVar31 = _LC12 * fVar31;
        fVar32 = _LC12 * fVar32;
        fVar33 = _LC12 * fVar33;
        fVar27 = _LC12 * fVar27;
        pauVar13 = (undefined1 (*) [16])
                   ((uVar23 - *(long *)(*(long *)(param_1 + 0x20) + 0x60)) * 0x50 +
                   *(long *)(**(long **)(param_1 + 0x18) + 0x20));
        *pauVar13 = auVar28;
        pauVar13[1] = auVar29;
        pauVar13[2] = auVar37;
        pauVar13[3] = auVar3;
        *(float *)pauVar13[4] = fVar1;
        *(float *)(pauVar13[4] + 4) = fVar2;
        auVar41._0_4_ = fVar48 + fVar47 + fVar31 + fVar36;
        auVar41._4_4_ = fVar50 + fVar42 + fVar32 + fVar39;
        auVar41._8_4_ = fVar51 + fVar43 + fVar33 + fVar30;
        auVar41._12_4_ = fVar46 + fVar45 + fVar27 + fVar53;
        auVar26 = minps(*(undefined1 (*) [16])this,auVar28);
        *(undefined1 (*) [16])this = auVar26;
        auVar26 = maxps(*(undefined1 (*) [16])(this + 0x10),auVar29);
        *(undefined1 (*) [16])(this + 0x10) = auVar26;
        auVar26 = minps(*(undefined1 (*) [16])(this + 0x20),auVar37);
        *(undefined1 (*) [16])(this + 0x20) = auVar26;
        *(long *)(this + 0x68) = *(long *)(this + 0x68) + 1;
        auVar26 = maxps(*(undefined1 (*) [16])(this + 0x30),auVar3);
        *(ulong *)(this + 0x70) = *(long *)(this + 0x70) + (ulong)(uint)fVar16;
        *(undefined1 (*) [16])(this + 0x30) = auVar26;
        auVar26 = minps(*(undefined1 (*) [16])(this + 0x40),auVar41);
        *(undefined1 (*) [16])(this + 0x40) = auVar26;
        auVar26 = maxps(*(undefined1 (*) [16])(this + 0x50),auVar41);
        fVar30 = *(float *)(this + 0x88);
        if (fVar1 <= *(float *)(this + 0x88)) {
          fVar30 = fVar1;
        }
        *(undefined1 (*) [16])(this + 0x50) = auVar26;
        *(float *)(this + 0x88) = fVar30;
        fVar30 = fVar2;
        if (fVar2 <= *(float *)(this + 0x8c)) {
          fVar30 = *(float *)(this + 0x8c);
        }
        *(float *)(this + 0x8c) = fVar30;
        if (*(ulong *)(this + 0x78) < (ulong)(uint)fVar35) {
          *(ulong *)(this + 0x78) = (ulong)(uint)fVar35;
          *(float *)(this + 0x80) = fVar1;
          *(float *)(this + 0x84) = fVar2;
        }
      }
      uVar23 = uVar23 + 1;
    } while (uVar23 < in_RDX[1]);
  }
  return this;
}



/* embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#3}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___3_ * __thiscall
embree::sse2::
HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::
{lambda(embree::range<unsigned_long>const&)#3}::operator()
          (_lambda_embree__range<unsigned_long>const___3_ *this,range *param_1)

{
  float fVar1;
  float fVar2;
  undefined1 auVar3 [16];
  float fVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  float fVar8;
  float fVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  uint uVar12;
  uint *puVar13;
  long *plVar14;
  int iVar15;
  long lVar16;
  int iVar17;
  ulong *in_RDX;
  ulong uVar18;
  ulong uVar19;
  undefined1 (*pauVar20) [16];
  ulong uVar21;
  ulong uVar22;
  float fVar23;
  float fVar24;
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  float fVar27;
  undefined1 auVar28 [16];
  undefined1 auVar29 [16];
  undefined1 auVar30 [16];
  float fVar31;
  float fVar32;
  float fVar33;
  float fVar34;
  float fVar35;
  float fVar36;
  float fVar37;
  float fVar39;
  undefined1 auVar38 [16];
  float fVar40;
  float fVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar47;
  float fVar48;
  undefined1 auVar46 [16];
  float fVar49;
  float fVar50;
  float fVar51;
  undefined1 auVar52 [16];
  undefined1 auVar53 [16];
  float local_b8;
  float fStack_b4;
  float fStack_b0;
  float fStack_ac;
  int local_a0;
  int local_8c;
  
  uVar11 = _LC10;
  uVar10 = _LC8;
  *(undefined8 *)(this + 0x60) = 0;
  *(undefined8 *)(this + 0x68) = 0;
  auVar28._4_4_ = uVar11;
  auVar28._0_4_ = uVar11;
  auVar28._8_4_ = uVar11;
  auVar28._12_4_ = uVar11;
  *(undefined8 *)(this + 0x70) = 0;
  *(undefined8 *)(this + 0x78) = 0;
  *(undefined8 *)(this + 0x80) = 0x3f80000000000000;
  *(undefined8 *)(this + 0x88) = 0x3f800000;
  *(undefined1 (*) [16])this = auVar28;
  *(undefined4 *)(this + 0x10) = uVar10;
  *(undefined4 *)(this + 0x14) = uVar10;
  *(undefined4 *)(this + 0x18) = uVar10;
  *(undefined4 *)(this + 0x1c) = uVar10;
  *(undefined1 (*) [16])(this + 0x20) = auVar28;
  *(undefined4 *)(this + 0x30) = uVar10;
  *(undefined4 *)(this + 0x34) = uVar10;
  *(undefined4 *)(this + 0x38) = uVar10;
  *(undefined4 *)(this + 0x3c) = uVar10;
  *(undefined1 (*) [16])(this + 0x40) = auVar28;
  *(undefined4 *)(this + 0x50) = uVar10;
  *(undefined4 *)(this + 0x54) = uVar10;
  *(undefined4 *)(this + 0x58) = uVar10;
  *(undefined4 *)(this + 0x5c) = uVar10;
  uVar12 = _LC6;
  uVar22 = *in_RDX;
  uVar18 = in_RDX[1];
  if (uVar22 < uVar18) {
    do {
      fVar9 = _LC12;
      pauVar20 = (undefined1 (*) [16])(uVar22 * 0x50 + *(long *)(*(long *)param_1 + 0x20));
      fVar36 = **(float **)(param_1 + 8);
      if ((fVar36 < _LC14 * *(float *)(pauVar20[4] + 4)) &&
         (fVar23 = (*(float **)(param_1 + 8))[1], _LC15 * *(float *)pauVar20[4] < fVar23)) {
        fVar4 = *(float *)(*pauVar20 + 0xc);
        fVar45 = *(float *)(pauVar20[1] + 0xc);
        lVar5 = *(long *)(*(long *)(*(long *)(*(long *)(param_1 + 0x10) + 8) + 0x1e0) +
                         (ulong)(uint)fVar4 * 8);
        fVar1 = *(float *)(lVar5 + 0x2c);
        fVar2 = *(float *)(lVar5 + 0x30);
        fVar27 = *(float *)(lVar5 + 0x28);
        fVar50 = (fVar36 - fVar1) / (fVar2 - fVar1);
        fVar23 = (fVar23 - fVar1) / (fVar2 - fVar1);
        fVar31 = fVar27 * fVar50;
        fVar51 = fVar27 * fVar23;
        fVar36 = fVar31;
        if ((float)((uint)fVar31 & uVar12) < _LC1) {
          fVar36 = (float)(~uVar12 & (uint)fVar31 |
                          (uint)((float)(int)fVar31 -
                                (float)(-(uint)(fVar31 < (float)(int)fVar31) & (uint)_LC3)));
        }
        fVar37 = fVar51;
        if ((float)((uint)fVar51 & uVar12) < _LC1) {
          fVar37 = (float)(~uVar12 & (uint)fVar51 |
                          (uint)((float)(int)fVar51 +
                                (float)(-(uint)((float)(int)fVar51 < fVar51) & (uint)_LC3)));
        }
        iVar17 = (int)fVar36;
        if (fVar36 <= 0.0) {
          local_8c = 0;
          lVar16 = 0;
        }
        else {
          fVar31 = fVar31 - fVar36;
          lVar16 = (long)iVar17 * 0x30;
          local_8c = iVar17;
        }
        iVar15 = -1;
        if (-1 < iVar17) {
          iVar15 = iVar17;
        }
        local_a0 = (int)fVar27;
        fVar36 = fVar37;
        if (fVar27 <= fVar37) {
          fVar36 = fVar27;
        }
        iVar17 = local_a0 + 1;
        if ((int)fVar37 < local_a0 + 1) {
          iVar17 = (int)fVar37;
        }
        lVar6 = *(long *)(lVar5 + 0xd0);
        puVar13 = (uint *)((ulong)(uint)fVar45 * *(long *)(lVar5 + 0x60) + *(long *)(lVar5 + 0x58));
        uVar18 = (ulong)*puVar13;
        lVar7 = *(long *)(lVar16 + lVar6);
        lVar16 = ((long *)(lVar16 + lVar6))[1];
        auVar28 = *(undefined1 (*) [16])(lVar7 + uVar18 * lVar16);
        uVar19 = (ulong)puVar13[1];
        auVar25 = *(undefined1 (*) [16])(lVar7 + lVar16 * uVar19);
        uVar21 = (ulong)puVar13[2];
        auVar29 = maxps(auVar28,auVar25);
        auVar25 = minps(auVar28,auVar25);
        plVar14 = (long *)((long)(int)fVar36 * 0x30 + lVar6);
        auVar28 = *(undefined1 (*) [16])(lVar7 + lVar16 * uVar21);
        lVar16 = *plVar14;
        lVar7 = plVar14[1];
        auVar30 = maxps(auVar29,auVar28);
        auVar26 = minps(auVar25,auVar28);
        auVar28 = *(undefined1 (*) [16])(lVar16 + lVar7 * uVar18);
        auVar25 = *(undefined1 (*) [16])(lVar16 + lVar7 * uVar21);
        auVar29 = *(undefined1 (*) [16])(lVar16 + lVar7 * uVar19);
        auVar38 = minps(auVar28,auVar29);
        auVar28 = maxps(auVar28,auVar29);
        auVar29 = minps(auVar38,auVar25);
        auVar28 = maxps(auVar28,auVar25);
        fVar37 = auVar26._0_4_;
        fVar39 = auVar26._4_4_;
        fVar35 = auVar26._8_4_;
        fVar44 = auVar30._0_4_;
        fVar47 = auVar28._0_4_;
        fVar24 = auVar30._4_4_;
        fVar40 = auVar30._8_4_;
        fVar48 = auVar28._4_4_;
        fVar49 = auVar28._8_4_;
        fStack_b4 = auVar29._4_4_;
        fStack_b0 = auVar29._8_4_;
        local_b8 = auVar29._0_4_;
        if (iVar17 - iVar15 == 1) {
          if (fVar31 <= 0.0) {
            fVar31 = 0.0;
            fVar43 = _LC3;
          }
          else {
            fVar43 = _LC3 - fVar31;
          }
          fVar32 = fVar31 * local_b8 + fVar43 * fVar37;
          fVar33 = fVar31 * fStack_b4 + fVar43 * fVar39;
          fVar34 = fVar31 * fStack_b0 + fVar43 * fVar35;
          fVar36 = fVar36 - fVar51;
          fVar41 = fVar31 * fVar47 + fVar43 * fVar44;
          fVar42 = fVar31 * fVar48 + fVar43 * fVar24;
          fVar43 = fVar31 * fVar49 + fVar43 * fVar40;
          if (fVar36 <= 0.0) {
            fVar36 = 0.0;
            fVar31 = _LC3;
          }
          else {
            fVar31 = _LC3 - fVar36;
          }
          fVar51 = fVar44 * fVar36 + fVar47 * fVar31;
          fVar47 = fVar24 * fVar36 + fVar48 * fVar31;
          fVar48 = fVar40 * fVar36 + fVar49 * fVar31;
          fVar37 = fVar36 * fVar37 + local_b8 * fVar31;
          fVar39 = fVar36 * fVar39 + fStack_b4 * fVar31;
          fVar31 = fVar36 * fVar35 + fStack_b0 * fVar31;
        }
        else {
          plVar14 = (long *)((long)(local_8c + 1) * 0x30 + lVar6);
          lVar16 = *plVar14;
          lVar7 = plVar14[1];
          auVar25 = *(undefined1 (*) [16])(lVar16 + uVar18 * lVar7);
          auVar38 = *(undefined1 (*) [16])(lVar16 + uVar19 * lVar7);
          auVar3 = *(undefined1 (*) [16])(lVar16 + lVar7 * uVar21);
          auVar52 = minps(auVar25,auVar38);
          auVar25 = maxps(auVar25,auVar38);
          auVar53 = minps(auVar52,auVar3);
          auVar52 = maxps(auVar25,auVar3);
          plVar14 = (long *)((long)((int)fVar36 + -1) * 0x30 + lVar6);
          lVar16 = *plVar14;
          lVar7 = plVar14[1];
          auVar25 = *(undefined1 (*) [16])(lVar16 + uVar18 * lVar7);
          auVar38 = *(undefined1 (*) [16])(lVar16 + uVar19 * lVar7);
          auVar3 = *(undefined1 (*) [16])(lVar16 + lVar7 * uVar21);
          auVar46 = maxps(auVar25,auVar38);
          auVar25 = minps(auVar25,auVar38);
          auVar38 = maxps(auVar46,auVar3);
          auVar25 = minps(auVar25,auVar3);
          if (fVar31 <= 0.0) {
            fVar31 = 0.0;
            fVar8 = _LC3;
          }
          else {
            fVar8 = _LC3 - fVar31;
          }
          fVar41 = auVar52._0_4_ * fVar31 + fVar44 * fVar8;
          fVar42 = auVar52._4_4_ * fVar31 + fVar24 * fVar8;
          fVar43 = auVar52._8_4_ * fVar31 + fVar40 * fVar8;
          fVar44 = auVar52._12_4_ * fVar31 + auVar30._12_4_ * fVar8;
          fVar32 = fVar31 * auVar53._0_4_ + fVar8 * fVar37;
          fVar33 = fVar31 * auVar53._4_4_ + fVar8 * fVar39;
          fVar34 = fVar31 * auVar53._8_4_ + fVar8 * fVar35;
          fVar35 = fVar31 * auVar53._12_4_ + fVar8 * auVar26._12_4_;
          fVar36 = fVar36 - fVar51;
          if (fVar36 <= 0.0) {
            fVar36 = 0.0;
            fVar24 = _LC3;
          }
          else {
            fVar24 = _LC3 - fVar36;
          }
          iVar15 = iVar15 + 1;
          fStack_ac = auVar29._12_4_;
          fVar51 = auVar38._0_4_ * fVar36 + fVar47 * fVar24;
          fVar47 = auVar38._4_4_ * fVar36 + fVar48 * fVar24;
          fVar48 = auVar38._8_4_ * fVar36 + fVar49 * fVar24;
          fVar49 = auVar38._12_4_ * fVar36 + auVar28._12_4_ * fVar24;
          fVar37 = fVar36 * auVar25._0_4_ + fVar24 * local_b8;
          fVar39 = fVar36 * auVar25._4_4_ + fVar24 * fStack_b4;
          fVar31 = fVar36 * auVar25._8_4_ + fVar24 * fStack_b0;
          fVar36 = fVar36 * auVar25._12_4_ + fVar24 * fStack_ac;
          if (iVar15 < iVar17) {
            plVar14 = (long *)(lVar6 + (long)iVar15 * 0x30);
            do {
              lVar16 = plVar14[1];
              lVar6 = *plVar14;
              fVar24 = (float)iVar15;
              iVar15 = iVar15 + 1;
              plVar14 = plVar14 + 6;
              fVar24 = (fVar24 / fVar27 - fVar50) / (fVar23 - fVar50);
              fVar40 = _LC3 - fVar24;
              auVar28 = *(undefined1 (*) [16])(lVar6 + uVar18 * lVar16);
              auVar25 = *(undefined1 (*) [16])(lVar6 + uVar19 * lVar16);
              auVar29 = *(undefined1 (*) [16])(lVar6 + lVar16 * uVar21);
              auVar26 = maxps(auVar28,auVar25);
              auVar28 = minps(auVar28,auVar25);
              auVar26 = maxps(auVar26,auVar29);
              auVar28 = minps(auVar28,auVar29);
              auVar25._0_4_ = auVar28._0_4_ - (fVar40 * fVar32 + fVar24 * fVar37);
              auVar25._4_4_ = auVar28._4_4_ - (fVar40 * fVar33 + fVar24 * fVar39);
              auVar25._8_4_ = auVar28._8_4_ - (fVar40 * fVar34 + fVar24 * fVar31);
              auVar25._12_4_ = auVar28._12_4_ - (fVar40 * fVar35 + fVar24 * fVar36);
              auVar29._0_4_ = auVar26._0_4_ - (fVar24 * fVar51 + fVar40 * fVar41);
              auVar29._4_4_ = auVar26._4_4_ - (fVar24 * fVar47 + fVar40 * fVar42);
              auVar29._8_4_ = auVar26._8_4_ - (fVar24 * fVar48 + fVar40 * fVar43);
              auVar29._12_4_ = auVar26._12_4_ - (fVar24 * fVar49 + fVar40 * fVar44);
              auVar28 = minps(auVar25,(undefined1  [16])0x0);
              auVar25 = maxps(auVar29,(undefined1  [16])0x0);
              fVar32 = fVar32 + auVar28._0_4_;
              fVar33 = fVar33 + auVar28._4_4_;
              fVar34 = fVar34 + auVar28._8_4_;
              fVar35 = fVar35 + auVar28._12_4_;
              fVar37 = fVar37 + auVar28._0_4_;
              fVar39 = fVar39 + auVar28._4_4_;
              fVar31 = fVar31 + auVar28._8_4_;
              fVar36 = fVar36 + auVar28._12_4_;
              fVar41 = fVar41 + auVar25._0_4_;
              fVar42 = fVar42 + auVar25._4_4_;
              fVar43 = fVar43 + auVar25._8_4_;
              fVar44 = fVar44 + auVar25._12_4_;
              fVar51 = fVar51 + auVar25._0_4_;
              fVar47 = fVar47 + auVar25._4_4_;
              fVar48 = fVar48 + auVar25._8_4_;
              fVar49 = fVar49 + auVar25._12_4_;
            } while (iVar17 != iVar15);
          }
        }
        fVar36 = fVar50 * _LC0 * fVar27;
        if ((float)((uint)fVar36 & uVar12) < _LC1) {
          fVar36 = (float)((uint)((float)(int)fVar36 -
                                 (float)(-(uint)(fVar36 < (float)(int)fVar36) & (uint)_LC3)) |
                          ~uVar12 & (uint)fVar36);
        }
        iVar17 = 0;
        if (0.0 <= fVar36) {
          iVar17 = (int)fVar36;
        }
        fVar36 = fVar23 * _LC5 * fVar27;
        if ((float)((uint)fVar36 & uVar12) < _LC1) {
          fVar36 = (float)((uint)((float)(int)fVar36 +
                                 (float)(-(uint)((float)(int)fVar36 < fVar36) & (uint)_LC3)) |
                          ~uVar12 & (uint)fVar36);
        }
        if (fVar36 < fVar27) {
          local_a0 = (int)fVar36;
        }
        fVar23 = (float)(*(int *)(lVar5 + 0x24) + -1);
        auVar30._4_4_ = fVar42;
        auVar30._0_4_ = fVar41;
        auVar30._8_4_ = fVar43;
        auVar30._12_4_ = fVar45;
        fVar36 = (float)(local_a0 - iVar17);
        auVar3._4_4_ = fVar47;
        auVar3._0_4_ = fVar51;
        auVar3._8_4_ = fVar48;
        auVar3._12_4_ = fVar23;
        fVar41 = fVar41 * _LC12;
        fVar42 = fVar42 * _LC12;
        fVar43 = fVar43 * _LC12;
        fVar45 = fVar45 * _LC12;
        auVar38._4_4_ = fVar39;
        auVar38._0_4_ = fVar37;
        auVar38._8_4_ = fVar31;
        auVar38._12_4_ = fVar36;
        fVar51 = fVar51 * _LC12;
        fVar47 = fVar47 * _LC12;
        fVar48 = fVar48 * _LC12;
        fVar27 = fVar23 * _LC12;
        auVar26._4_4_ = fVar33;
        auVar26._0_4_ = fVar32;
        auVar26._8_4_ = fVar34;
        auVar26._12_4_ = fVar4;
        pauVar20[1] = auVar30;
        *pauVar20 = auVar26;
        pauVar20[2] = auVar38;
        pauVar20[3] = auVar3;
        *(float *)pauVar20[4] = fVar1;
        *(float *)(pauVar20[4] + 4) = fVar2;
        auVar52._0_4_ = fVar51 + fVar41 + fVar9 * fVar32 + fVar37 * fVar9;
        auVar52._4_4_ = fVar47 + fVar42 + fVar9 * fVar33 + fVar39 * fVar9;
        auVar52._8_4_ = fVar48 + fVar43 + fVar9 * fVar34 + fVar31 * fVar9;
        auVar52._12_4_ = fVar27 + fVar45 + fVar9 * fVar4 + fVar36 * fVar9;
        auVar28 = minps(*(undefined1 (*) [16])this,auVar26);
        *(undefined1 (*) [16])this = auVar28;
        auVar28 = maxps(*(undefined1 (*) [16])(this + 0x10),auVar30);
        *(undefined1 (*) [16])(this + 0x10) = auVar28;
        auVar28 = minps(*(undefined1 (*) [16])(this + 0x20),auVar38);
        *(undefined1 (*) [16])(this + 0x20) = auVar28;
        auVar28 = maxps(*(undefined1 (*) [16])(this + 0x30),auVar3);
        *(undefined1 (*) [16])(this + 0x30) = auVar28;
        *(long *)(this + 0x68) = *(long *)(this + 0x68) + 1;
        auVar28 = minps(*(undefined1 (*) [16])(this + 0x40),auVar52);
        *(ulong *)(this + 0x70) = *(long *)(this + 0x70) + (ulong)(uint)fVar36;
        *(undefined1 (*) [16])(this + 0x40) = auVar28;
        auVar28 = maxps(*(undefined1 (*) [16])(this + 0x50),auVar52);
        fVar36 = *(float *)(this + 0x88);
        if (fVar1 <= *(float *)(this + 0x88)) {
          fVar36 = fVar1;
        }
        *(undefined1 (*) [16])(this + 0x50) = auVar28;
        *(float *)(this + 0x88) = fVar36;
        fVar36 = fVar2;
        if (fVar2 <= *(float *)(this + 0x8c)) {
          fVar36 = *(float *)(this + 0x8c);
        }
        *(float *)(this + 0x8c) = fVar36;
        if (*(ulong *)(this + 0x78) < (ulong)(uint)fVar23) {
          *(ulong *)(this + 0x78) = (ulong)(uint)fVar23;
          *(float *)(this + 0x80) = fVar1;
          *(float *)(this + 0x84) = fVar2;
        }
        uVar18 = in_RDX[1];
      }
      uVar22 = uVar22 + 1;
    } while (uVar22 < uVar18);
  }
  return this;
}



/* embree::bin_parallel<embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long>
   const&)#1}::TEMPNAMEPLACEHOLDERVALUE(embree::range<unsigned long> const&) const */

_lambda_embree__range<unsigned_long>const___1_ * __thiscall
embree::
bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)
::{lambda(embree::range<unsigned_long>const&)#1}::operator()
          (_lambda_embree__range<unsigned_long>const___1_ *this,range *param_1)

{
  undefined1 auVar1 [16];
  undefined1 auVar2 [16];
  undefined1 auVar3 [16];
  undefined1 auVar4 [16];
  int iVar5;
  int *piVar6;
  ulong uVar7;
  float fVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  float fVar11;
  uint uVar12;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var13;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var14;
  long lVar15;
  long *in_RDX;
  undefined1 (*pauVar16) [16];
  ulong uVar17;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var18;
  undefined1 (*pauVar19) [16];
  ulong uVar20;
  ulong uVar21;
  bool bVar22;
  uint uVar23;
  uint uVar25;
  uint uVar26;
  undefined1 auVar24 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  uint uVar29;
  uint uVar31;
  uint uVar32;
  undefined1 auVar30 [16];
  undefined1 auVar33 [16];
  uint uVar34;
  uint uVar35;
  
  uVar10 = _LC10;
  uVar9 = _LC8;
  p_Var14 = this;
  p_Var18 = this + 0x1800;
  do {
    *(undefined4 *)(p_Var14 + 0x80) = uVar10;
    *(undefined4 *)(p_Var14 + 0x84) = uVar10;
    *(undefined4 *)(p_Var14 + 0x88) = uVar10;
    *(undefined4 *)(p_Var14 + 0x8c) = uVar10;
    p_Var13 = p_Var14 + 0xc0;
    *(undefined4 *)(p_Var14 + 0x90) = uVar9;
    *(undefined4 *)(p_Var14 + 0x94) = uVar9;
    *(undefined4 *)(p_Var14 + 0x98) = uVar9;
    *(undefined4 *)(p_Var14 + 0x9c) = uVar9;
    *(undefined4 *)(p_Var14 + 0xa0) = uVar10;
    *(undefined4 *)(p_Var14 + 0xa4) = uVar10;
    *(undefined4 *)(p_Var14 + 0xa8) = uVar10;
    *(undefined4 *)(p_Var14 + 0xac) = uVar10;
    *(undefined4 *)(p_Var14 + 0xb0) = uVar9;
    *(undefined4 *)(p_Var14 + 0xb4) = uVar9;
    *(undefined4 *)(p_Var14 + 0xb8) = uVar9;
    *(undefined4 *)(p_Var14 + 0xbc) = uVar9;
    *(undefined4 *)(p_Var14 + 0x40) = uVar10;
    *(undefined4 *)(p_Var14 + 0x44) = uVar10;
    *(undefined4 *)(p_Var14 + 0x48) = uVar10;
    *(undefined4 *)(p_Var14 + 0x4c) = uVar10;
    *(undefined4 *)(p_Var14 + 0x50) = uVar9;
    *(undefined4 *)(p_Var14 + 0x54) = uVar9;
    *(undefined4 *)(p_Var14 + 0x58) = uVar9;
    *(undefined4 *)(p_Var14 + 0x5c) = uVar9;
    *(undefined4 *)(p_Var14 + 0x60) = uVar10;
    *(undefined4 *)(p_Var14 + 100) = uVar10;
    *(undefined4 *)(p_Var14 + 0x68) = uVar10;
    *(undefined4 *)(p_Var14 + 0x6c) = uVar10;
    *(undefined4 *)(p_Var14 + 0x70) = uVar9;
    *(undefined4 *)(p_Var14 + 0x74) = uVar9;
    *(undefined4 *)(p_Var14 + 0x78) = uVar9;
    *(undefined4 *)(p_Var14 + 0x7c) = uVar9;
    *(undefined4 *)p_Var14 = uVar10;
    *(undefined4 *)(p_Var14 + 4) = uVar10;
    *(undefined4 *)(p_Var14 + 8) = uVar10;
    *(undefined4 *)(p_Var14 + 0xc) = uVar10;
    *(undefined4 *)(p_Var14 + 0x10) = uVar9;
    *(undefined4 *)(p_Var14 + 0x14) = uVar9;
    *(undefined4 *)(p_Var14 + 0x18) = uVar9;
    *(undefined4 *)(p_Var14 + 0x1c) = uVar9;
    *(undefined4 *)(p_Var14 + 0x20) = uVar10;
    *(undefined4 *)(p_Var14 + 0x24) = uVar10;
    *(undefined4 *)(p_Var14 + 0x28) = uVar10;
    *(undefined4 *)(p_Var14 + 0x2c) = uVar10;
    *(undefined4 *)(p_Var14 + 0x30) = uVar9;
    *(undefined4 *)(p_Var14 + 0x34) = uVar9;
    *(undefined4 *)(p_Var14 + 0x38) = uVar9;
    *(undefined4 *)(p_Var14 + 0x3c) = uVar9;
    *(undefined1 (*) [16])p_Var18 = (undefined1  [16])0x0;
    fVar11 = _LC17;
    fVar8 = _LC12;
    p_Var14 = p_Var13;
    p_Var18 = p_Var18 + 0x10;
  } while (this + 0x1800 != p_Var13);
  piVar6 = *(int **)(param_1 + 8);
  pauVar19 = (undefined1 (*) [16])(*in_RDX * 0x50 + **(long **)param_1);
  uVar20 = in_RDX[1] - *in_RDX;
  if (uVar20 == 0) {
    return this;
  }
  if (uVar20 != 1) {
    pauVar16 = pauVar19;
    do {
      auVar28 = pauVar16[1];
      auVar1 = pauVar16[3];
      auVar30 = *pauVar16;
      auVar24 = pauVar16[2];
      auVar27 = pauVar16[6];
      auVar2 = pauVar16[5];
      auVar3 = pauVar16[7];
      uVar12 = *piVar6 - 1;
      uVar23 = (uint)(((auVar1._0_4_ * fVar8 + auVar28._0_4_ * fVar8 +
                       auVar24._0_4_ * fVar8 + auVar30._0_4_ * fVar8) - (float)piVar6[4]) *
                      (float)piVar6[8] + fVar11);
      uVar25 = (uint)(((auVar1._4_4_ * fVar8 + auVar28._4_4_ * fVar8 +
                       auVar24._4_4_ * fVar8 + auVar30._4_4_ * fVar8) - (float)piVar6[5]) *
                      (float)piVar6[9] + fVar11);
      uVar26 = (uint)(((auVar1._8_4_ * fVar8 + auVar28._8_4_ * fVar8 +
                       auVar24._8_4_ * fVar8 + auVar30._8_4_ * fVar8) - (float)piVar6[6]) *
                      (float)piVar6[10] + fVar11);
      uVar29 = -(uint)((int)uVar23 < (int)uVar12);
      uVar31 = -(uint)((int)uVar25 < (int)uVar12);
      uVar32 = -(uint)((int)uVar26 < (int)uVar12);
      uVar23 = uVar23 & uVar29 | ~uVar29 & uVar12;
      uVar25 = uVar25 & uVar31 | ~uVar31 & uVar12;
      uVar29 = uVar26 & uVar32 | ~uVar32 & uVar12;
      auVar4 = pauVar16[8];
      uVar17 = (ulong)(~-(uint)((int)uVar23 < 0) & uVar23);
      p_Var14 = this + uVar17 * 0xc0;
      uVar23 = (uint)(((auVar4._0_4_ * fVar8 + auVar27._0_4_ * fVar8 +
                       auVar3._0_4_ * fVar8 + auVar2._0_4_ * fVar8) - (float)piVar6[4]) *
                      (float)piVar6[8] + fVar11);
      uVar26 = (uint)(((auVar4._4_4_ * fVar8 + auVar27._4_4_ * fVar8 +
                       auVar3._4_4_ * fVar8 + auVar2._4_4_ * fVar8) - (float)piVar6[5]) *
                      (float)piVar6[9] + fVar11);
      uVar31 = (uint)(((auVar4._8_4_ * fVar8 + auVar27._8_4_ * fVar8 +
                       auVar3._8_4_ * fVar8 + auVar2._8_4_ * fVar8) - (float)piVar6[6]) *
                      (float)piVar6[10] + fVar11);
      uVar32 = -(uint)((int)uVar23 < (int)uVar12);
      uVar34 = -(uint)((int)uVar26 < (int)uVar12);
      uVar35 = -(uint)((int)uVar31 < (int)uVar12);
      uVar23 = uVar32 & uVar23 | ~uVar32 & uVar12;
      uVar26 = uVar34 & uVar26 | ~uVar34 & uVar12;
      uVar12 = uVar35 & uVar31 | ~uVar35 & uVar12;
      auVar33 = minps(*(undefined1 (*) [16])p_Var14,auVar30);
      *(undefined1 (*) [16])p_Var14 = auVar33;
      auVar33 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar28);
      *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar33;
      auVar33 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar24);
      *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar33;
      auVar33 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar1);
      *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar33;
      uVar21 = (ulong)(~-(uint)((int)uVar25 < 0) & uVar25);
      uVar7 = (ulong)(~-(uint)((int)uVar29 < 0) & uVar29);
      p_Var14 = this + uVar21 * 0xc0 + 0x40;
      auVar33 = minps(*(undefined1 (*) [16])p_Var14,auVar30);
      *(undefined1 (*) [16])p_Var14 = auVar33;
      auVar33 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar28);
      *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar33;
      auVar33 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar24);
      *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar33;
      auVar33 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar1);
      *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar33;
      p_Var14 = this + uVar7 * 0xc0 + 0x80;
      auVar30 = minps(*(undefined1 (*) [16])p_Var14,auVar30);
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar28);
      *(undefined1 (*) [16])p_Var14 = auVar30;
      *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar28;
      auVar30 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar24);
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar1);
      *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar30;
      *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar28;
      iVar5 = *(int *)(pauVar16[2] + 0xc);
      *(int *)(this + uVar17 * 0x10 + 0x1800) = *(int *)(this + uVar17 * 0x10 + 0x1800) + iVar5;
      uVar17 = (ulong)(~-(uint)((int)uVar23 < 0) & uVar23);
      *(int *)(this + uVar21 * 0x10 + 0x1804) = *(int *)(this + uVar21 * 0x10 + 0x1804) + iVar5;
      *(int *)(this + uVar7 * 0x10 + 0x1808) = *(int *)(this + uVar7 * 0x10 + 0x1808) + iVar5;
      p_Var14 = this + uVar17 * 0xc0;
      auVar28 = minps(*(undefined1 (*) [16])p_Var14,auVar2);
      *(undefined1 (*) [16])p_Var14 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar27);
      *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar28;
      auVar28 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar3);
      *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar4);
      *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar28;
      uVar21 = (ulong)(~-(uint)((int)uVar26 < 0) & uVar26);
      uVar7 = (ulong)(~-(uint)((int)uVar12 < 0) & uVar12);
      p_Var14 = this + uVar21 * 0xc0 + 0x40;
      auVar28 = minps(*(undefined1 (*) [16])p_Var14,auVar2);
      *(undefined1 (*) [16])p_Var14 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar27);
      *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar28;
      auVar28 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar3);
      *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar4);
      *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar28;
      p_Var14 = this + uVar7 * 0xc0 + 0x80;
      auVar28 = minps(*(undefined1 (*) [16])p_Var14,auVar2);
      *(undefined1 (*) [16])p_Var14 = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar27);
      *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar28;
      auVar28 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar3);
      *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar28;
      auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar4);
      *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar28;
      iVar5 = *(int *)(pauVar16[7] + 0xc);
      *(int *)(this + uVar17 * 0x10 + 0x1800) = *(int *)(this + uVar17 * 0x10 + 0x1800) + iVar5;
      *(int *)(this + uVar21 * 0x10 + 0x1804) = *(int *)(this + uVar21 * 0x10 + 0x1804) + iVar5;
      *(int *)(this + uVar7 * 0x10 + 0x1808) = *(int *)(this + uVar7 * 0x10 + 0x1808) + iVar5;
      bVar22 = pauVar19 + (uVar20 - 2 >> 1) * 10 != pauVar16;
      pauVar16 = pauVar16 + 10;
    } while (bVar22);
    uVar21 = (uVar20 - 2 & 0xfffffffffffffffe) + 2;
    if (uVar20 <= uVar21) {
      return this;
    }
    pauVar19 = pauVar19 + uVar21 * 5;
  }
  auVar28 = pauVar19[1];
  auVar1 = pauVar19[3];
  auVar30 = pauVar19[2];
  auVar24 = *pauVar19;
  iVar5 = *(int *)(pauVar19[2] + 0xc);
  uVar12 = (int)*(undefined8 *)piVar6 - 1;
  uVar23 = (uint)(((auVar1._0_4_ * fVar8 + auVar28._0_4_ * fVar8 +
                   fVar8 * auVar24._0_4_ + auVar30._0_4_ * fVar8) - (float)piVar6[4]) *
                  (float)piVar6[8] + fVar11);
  uVar25 = (uint)(((auVar1._4_4_ * fVar8 + auVar28._4_4_ * fVar8 +
                   fVar8 * auVar24._4_4_ + auVar30._4_4_ * fVar8) - (float)piVar6[5]) *
                  (float)piVar6[9] + fVar11);
  uVar26 = (uint)(((auVar1._8_4_ * fVar8 + auVar28._8_4_ * fVar8 +
                   fVar8 * auVar24._8_4_ + auVar30._8_4_ * fVar8) - (float)piVar6[6]) *
                  (float)piVar6[10] + fVar11);
  uVar29 = -(uint)((int)uVar23 < (int)uVar12);
  uVar31 = -(uint)((int)uVar25 < (int)uVar12);
  uVar32 = -(uint)((int)uVar26 < (int)uVar12);
  uVar23 = uVar29 & uVar23 | ~uVar29 & uVar12;
  uVar25 = uVar31 & uVar25 | ~uVar31 & uVar12;
  uVar12 = uVar32 & uVar26 | ~uVar32 & uVar12;
  lVar15 = (long)(int)(~-(uint)((int)uVar23 < 0) & uVar23);
  p_Var14 = this + lVar15 * 0xc0;
  *(int *)(this + lVar15 * 0x10 + 0x1800) = *(int *)(this + lVar15 * 0x10 + 0x1800) + iVar5;
  auVar27 = minps(*(undefined1 (*) [16])p_Var14,auVar24);
  *(undefined1 (*) [16])p_Var14 = auVar27;
  auVar27 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar28);
  *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar27;
  auVar27 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar30);
  *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar27;
  auVar27 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar1);
  *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar27;
  lVar15 = (long)(int)(~-(uint)((int)uVar25 < 0) & uVar25);
  p_Var14 = this + lVar15 * 0xc0 + 0x40;
  *(int *)(this + lVar15 * 0x10 + 0x1804) = *(int *)(this + lVar15 * 0x10 + 0x1804) + iVar5;
  auVar27 = minps(*(undefined1 (*) [16])p_Var14,auVar24);
  *(undefined1 (*) [16])p_Var14 = auVar27;
  auVar27 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar28);
  *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar27;
  auVar27 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar30);
  *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar27;
  auVar27 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar1);
  *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar27;
  lVar15 = (long)(int)(~-(uint)((int)uVar12 < 0) & uVar12);
  p_Var14 = this + lVar15 * 0xc0 + 0x80;
  *(int *)(this + lVar15 * 0x10 + 0x1808) = *(int *)(this + lVar15 * 0x10 + 0x1808) + iVar5;
  auVar24 = minps(*(undefined1 (*) [16])p_Var14,auVar24);
  *(undefined1 (*) [16])p_Var14 = auVar24;
  auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x10),auVar28);
  *(undefined1 (*) [16])(p_Var14 + 0x10) = auVar28;
  auVar28 = minps(*(undefined1 (*) [16])(p_Var14 + 0x20),auVar30);
  *(undefined1 (*) [16])(p_Var14 + 0x20) = auVar28;
  auVar28 = maxps(*(undefined1 (*) [16])(p_Var14 + 0x30),auVar1);
  *(undefined1 (*) [16])(p_Var14 + 0x30) = auVar28;
  return this;
}



/* embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,
   2ul>::TemporalBinInfo::bin(embree::PrimRefMB const*, unsigned long, unsigned long,
   embree::BBox<float>, embree::SetMB const&, embree::sse2::RecalculatePrimRef<embree::TriangleMesh>
   const&) */

void __thiscall
embree::sse2::
HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
::TemporalBinInfo::bin
          (undefined8 param_1_00,TemporalBinInfo_conflict *this,long param_1,ulong param_2,
          ulong param_3,long param_6,long *param_7)

{
  long lVar1;
  long lVar2;
  int iVar3;
  float fVar4;
  int iVar5;
  uint *puVar6;
  int iVar7;
  ulong uVar8;
  ulong uVar9;
  uint *puVar10;
  ulong uVar11;
  long lVar12;
  long *plVar13;
  long *plVar14;
  float fVar15;
  float fVar16;
  float fVar17;
  float fVar18;
  float fVar19;
  float fVar20;
  float fVar21;
  float fVar22;
  float fVar24;
  float fVar25;
  undefined1 auVar23 [16];
  float fVar26;
  float fVar28;
  float fVar29;
  undefined1 auVar27 [16];
  float fVar30;
  float fVar31;
  undefined1 auVar32 [16];
  undefined1 auVar33 [16];
  undefined1 auVar34 [16];
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  float fVar38;
  float fVar39;
  undefined1 auVar40 [16];
  float fVar41;
  float fVar42;
  float fVar44;
  float fVar45;
  undefined1 auVar43 [16];
  float fVar46;
  undefined1 auVar47 [16];
  undefined1 auVar48 [16];
  float fVar49;
  float local_68;
  float fStack_64;
  float fStack_60;
  float fStack_5c;
  float local_58;
  float fStack_54;
  float fStack_50;
  float fStack_4c;
  
  fVar22 = (float)((ulong)param_1_00 >> 0x20);
  fVar15 = (float)param_1_00;
  fVar18 = *(float *)(param_6 + 0x80);
  puVar6 = (uint *)(param_1 + 0xc + param_2 * 0x50);
  fVar16 = *(float *)(param_6 + 0x84) - fVar18;
  uVar8 = *(ulong *)(param_6 + 0x78);
  fVar17 = roundf((((fVar22 * _LC12 + _LC12 * fVar15) - fVar18) / fVar16) * (float)uVar8);
  fVar18 = (fVar17 / (float)uVar8) * fVar16 + fVar18;
  if (((fVar15 < fVar18) && (fVar18 < fVar22)) && (param_2 < param_3)) {
    do {
      fVar16 = _LC3;
      fVar17 = _LC14 * (float)puVar6[0xe];
      if ((fVar15 < fVar17) && (_LC15 * (float)puVar6[0xd] < fVar18)) {
        lVar1 = *(long *)(*(long *)(*param_7 + 0x1e0) + (ulong)*puVar6 * 8);
        fVar17 = *(float *)(lVar1 + 0x2c);
        fVar21 = *(float *)(lVar1 + 0x28);
        fVar19 = *(float *)(lVar1 + 0x30) - fVar17;
        fVar30 = (fVar15 - fVar17) / fVar19;
        fVar19 = (fVar18 - fVar17) / fVar19;
        fVar20 = fVar21 * fVar30;
        fVar41 = fVar21 * fVar19;
        fVar17 = fVar20;
        if ((float)(_LC6 & (uint)fVar20) < _LC1) {
          fVar17 = (float)(~_LC6 & (uint)fVar20 |
                          (uint)((float)(int)fVar20 -
                                (float)(-(uint)(fVar20 < (float)(int)fVar20) & (uint)_LC3)));
        }
        fVar42 = fVar41;
        if ((float)(_LC6 & (uint)fVar41) < _LC1) {
          fVar42 = (float)(~_LC6 & (uint)fVar41 |
                          (uint)((float)(int)fVar41 +
                                (float)(-(uint)((float)(int)fVar41 < fVar41) & (uint)_LC3)));
        }
        iVar5 = (int)fVar17;
        if (fVar17 <= 0.0) {
          iVar7 = 0;
          lVar12 = 0;
        }
        else {
          fVar20 = fVar20 - fVar17;
          lVar12 = (long)iVar5 * 0x30;
          iVar7 = iVar5;
        }
        lVar2 = *(long *)(lVar1 + 0xd0);
        fVar17 = fVar42;
        if (fVar21 <= fVar42) {
          fVar17 = fVar21;
        }
        if (iVar5 < 0) {
          iVar5 = -1;
        }
        iVar3 = (int)fVar21 + 1;
        if ((int)fVar42 < (int)fVar21 + 1) {
          iVar3 = (int)fVar42;
        }
        puVar10 = (uint *)((ulong)puVar6[4] * *(long *)(lVar1 + 0x60) + *(long *)(lVar1 + 0x58));
        uVar8 = (ulong)*puVar10;
        lVar1 = *(long *)(lVar12 + lVar2);
        lVar12 = ((long *)(lVar12 + lVar2))[1];
        auVar32 = *(undefined1 (*) [16])(lVar1 + uVar8 * lVar12);
        uVar9 = (ulong)puVar10[1];
        uVar11 = (ulong)puVar10[2];
        auVar36 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar9);
        auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
        auVar47 = maxps(auVar32,auVar36);
        auVar32 = minps(auVar32,auVar36);
        plVar13 = (long *)((long)(int)fVar17 * 0x30 + lVar2);
        lVar1 = *plVar13;
        lVar12 = plVar13[1];
        auVar48 = maxps(auVar47,auVar35);
        auVar33 = minps(auVar32,auVar35);
        auVar32 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar8);
        auVar36 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
        auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar9);
        auVar47 = minps(auVar32,auVar35);
        auVar35 = maxps(auVar32,auVar35);
        auVar32 = minps(auVar47,auVar36);
        auVar36 = maxps(auVar35,auVar36);
        fVar39 = auVar48._0_4_;
        fVar42 = auVar33._0_4_;
        fVar24 = auVar33._4_4_;
        fVar25 = auVar33._8_4_;
        fVar26 = auVar33._12_4_;
        fVar28 = auVar36._0_4_;
        fVar44 = auVar48._4_4_;
        fVar29 = auVar36._4_4_;
        fVar31 = auVar36._8_4_;
        fVar38 = auVar36._12_4_;
        fVar46 = auVar48._12_4_;
        fVar45 = auVar48._8_4_;
        fStack_64 = auVar32._4_4_;
        fStack_60 = auVar32._8_4_;
        fStack_5c = auVar32._12_4_;
        local_68 = auVar32._0_4_;
        if (iVar3 - iVar5 == 1) {
          if (fVar20 <= 0.0) {
            fVar20 = 0.0;
            fVar21 = _LC3;
          }
          else {
            fVar21 = _LC3 - fVar20;
          }
          fVar17 = fVar17 - fVar41;
          auVar32._0_4_ = fVar20 * local_68 + fVar21 * fVar42;
          auVar32._4_4_ = fVar20 * fStack_64 + fVar21 * fVar24;
          auVar32._8_4_ = fVar20 * fStack_60 + fVar21 * fVar25;
          auVar32._12_4_ = fVar20 * fStack_5c + fVar21 * fVar26;
          auVar36._0_4_ = fVar20 * fVar28 + fVar21 * fVar39;
          auVar36._4_4_ = fVar20 * fVar29 + fVar21 * fVar44;
          auVar36._8_4_ = fVar20 * fVar31 + fVar21 * fVar45;
          auVar36._12_4_ = fVar20 * fVar38 + fVar21 * fVar46;
          if (fVar17 <= 0.0) {
            fVar17 = 0.0;
            fVar21 = _LC3;
          }
          else {
            fVar21 = _LC3 - fVar17;
          }
          auVar47._0_4_ = fVar39 * fVar17 + fVar28 * fVar21;
          auVar47._4_4_ = fVar44 * fVar17 + fVar29 * fVar21;
          auVar47._8_4_ = fVar45 * fVar17 + fVar31 * fVar21;
          auVar47._12_4_ = fVar46 * fVar17 + fVar38 * fVar21;
          auVar35._0_4_ = fVar17 * fVar42 + fVar21 * local_68;
          auVar35._4_4_ = fVar17 * fVar24 + fVar21 * fStack_64;
          auVar35._8_4_ = fVar17 * fVar25 + fVar21 * fStack_60;
          auVar35._12_4_ = fVar17 * fVar26 + fVar21 * fStack_5c;
        }
        else {
          plVar14 = (long *)((long)(iVar7 + 1) * 0x30 + lVar2);
          plVar13 = (long *)((long)((int)fVar17 + -1) * 0x30 + lVar2);
          lVar1 = *plVar14;
          lVar12 = plVar14[1];
          auVar32 = *(undefined1 (*) [16])(lVar1 + uVar8 * lVar12);
          auVar36 = *(undefined1 (*) [16])(lVar1 + uVar9 * lVar12);
          auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
          lVar1 = *plVar13;
          lVar12 = plVar13[1];
          auVar47 = minps(auVar32,auVar36);
          auVar32 = maxps(auVar32,auVar36);
          auVar40 = minps(auVar47,auVar35);
          auVar43 = maxps(auVar32,auVar35);
          auVar32 = *(undefined1 (*) [16])(lVar1 + uVar8 * lVar12);
          auVar36 = *(undefined1 (*) [16])(lVar1 + uVar9 * lVar12);
          auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
          auVar47 = maxps(auVar32,auVar36);
          auVar32 = minps(auVar32,auVar36);
          auVar33 = maxps(auVar47,auVar35);
          auVar48 = minps(auVar32,auVar35);
          if (fVar20 <= 0.0) {
            fVar20 = 0.0;
            fVar49 = _LC3;
          }
          else {
            fVar49 = _LC3 - fVar20;
          }
          fVar17 = fVar17 - fVar41;
          local_58 = auVar40._0_4_;
          fStack_54 = auVar40._4_4_;
          fStack_50 = auVar40._8_4_;
          fStack_4c = auVar40._12_4_;
          auVar36._0_4_ = auVar43._0_4_ * fVar20 + fVar39 * fVar49;
          auVar36._4_4_ = auVar43._4_4_ * fVar20 + fVar44 * fVar49;
          auVar36._8_4_ = auVar43._8_4_ * fVar20 + fVar45 * fVar49;
          auVar36._12_4_ = auVar43._12_4_ * fVar20 + fVar46 * fVar49;
          auVar32._0_4_ = fVar20 * local_58 + fVar49 * fVar42;
          auVar32._4_4_ = fVar20 * fStack_54 + fVar49 * fVar24;
          auVar32._8_4_ = fVar20 * fStack_50 + fVar49 * fVar25;
          auVar32._12_4_ = fVar20 * fStack_4c + fVar49 * fVar26;
          if (fVar17 <= 0.0) {
            fVar17 = 0.0;
            fVar20 = _LC3;
          }
          else {
            fVar20 = _LC3 - fVar17;
          }
          iVar5 = iVar5 + 1;
          auVar47._0_4_ = auVar33._0_4_ * fVar17 + fVar28 * fVar20;
          auVar47._4_4_ = auVar33._4_4_ * fVar17 + fVar29 * fVar20;
          auVar47._8_4_ = auVar33._8_4_ * fVar17 + fVar31 * fVar20;
          auVar47._12_4_ = auVar33._12_4_ * fVar17 + fVar38 * fVar20;
          auVar35._0_4_ = fVar17 * auVar48._0_4_ + fVar20 * local_68;
          auVar35._4_4_ = fVar17 * auVar48._4_4_ + fVar20 * fStack_64;
          auVar35._8_4_ = fVar17 * auVar48._8_4_ + fVar20 * fStack_60;
          auVar35._12_4_ = fVar17 * auVar48._12_4_ + fVar20 * fStack_5c;
          if (iVar5 < iVar3) {
            plVar13 = (long *)((long)iVar5 * 0x30 + lVar2);
            do {
              lVar1 = plVar13[1];
              lVar12 = *plVar13;
              fVar17 = (float)iVar5;
              iVar5 = iVar5 + 1;
              plVar13 = plVar13 + 6;
              fVar31 = (fVar17 / fVar21 - fVar30) / (fVar19 - fVar30);
              fVar38 = _LC3 - fVar31;
              auVar33 = *(undefined1 (*) [16])(lVar12 + uVar8 * lVar1);
              auVar48 = *(undefined1 (*) [16])(lVar12 + uVar9 * lVar1);
              auVar40 = *(undefined1 (*) [16])(lVar12 + lVar1 * uVar11);
              auVar43 = maxps(auVar33,auVar48);
              auVar33 = minps(auVar33,auVar48);
              fVar17 = auVar32._4_4_;
              fVar20 = auVar32._8_4_;
              fVar41 = auVar32._12_4_;
              fVar39 = auVar36._4_4_;
              fVar44 = auVar36._8_4_;
              fVar45 = auVar36._12_4_;
              auVar43 = maxps(auVar43,auVar40);
              auVar33 = minps(auVar33,auVar40);
              fVar42 = auVar35._4_4_;
              fVar24 = auVar35._8_4_;
              fVar25 = auVar35._12_4_;
              fVar26 = auVar47._4_4_;
              fVar28 = auVar47._8_4_;
              fVar29 = auVar47._12_4_;
              auVar48._0_4_ = auVar33._0_4_ - (fVar31 * auVar35._0_4_ + fVar38 * auVar32._0_4_);
              auVar48._4_4_ = auVar33._4_4_ - (fVar31 * fVar42 + fVar38 * fVar17);
              auVar48._8_4_ = auVar33._8_4_ - (fVar31 * fVar24 + fVar38 * fVar20);
              auVar48._12_4_ = auVar33._12_4_ - (fVar31 * fVar25 + fVar38 * fVar41);
              auVar40._0_4_ = auVar43._0_4_ - (fVar31 * auVar47._0_4_ + fVar38 * auVar36._0_4_);
              auVar40._4_4_ = auVar43._4_4_ - (fVar31 * fVar26 + fVar38 * fVar39);
              auVar40._8_4_ = auVar43._8_4_ - (fVar31 * fVar28 + fVar38 * fVar44);
              auVar40._12_4_ = auVar43._12_4_ - (fVar31 * fVar29 + fVar38 * fVar45);
              auVar33 = minps(auVar48,(undefined1  [16])0x0);
              auVar48 = maxps(auVar40,(undefined1  [16])0x0);
              auVar32._0_4_ = auVar32._0_4_ + auVar33._0_4_;
              auVar32._4_4_ = fVar17 + auVar33._4_4_;
              auVar32._8_4_ = fVar20 + auVar33._8_4_;
              auVar32._12_4_ = fVar41 + auVar33._12_4_;
              auVar35._0_4_ = auVar35._0_4_ + auVar33._0_4_;
              auVar35._4_4_ = fVar42 + auVar33._4_4_;
              auVar35._8_4_ = fVar24 + auVar33._8_4_;
              auVar35._12_4_ = fVar25 + auVar33._12_4_;
              auVar36._0_4_ = auVar36._0_4_ + auVar48._0_4_;
              auVar36._4_4_ = fVar39 + auVar48._4_4_;
              auVar36._8_4_ = fVar44 + auVar48._8_4_;
              auVar36._12_4_ = fVar45 + auVar48._12_4_;
              auVar47._0_4_ = auVar47._0_4_ + auVar48._0_4_;
              auVar47._4_4_ = fVar26 + auVar48._4_4_;
              auVar47._8_4_ = fVar28 + auVar48._8_4_;
              auVar47._12_4_ = fVar29 + auVar48._12_4_;
            } while (iVar3 != iVar5);
          }
        }
        auVar33 = minps(*(undefined1 (*) [16])(this + 0x10),auVar32);
        auVar32 = maxps(*(undefined1 (*) [16])(this + 0x20),auVar36);
        *(undefined1 (*) [16])(this + 0x10) = auVar33;
        *(undefined1 (*) [16])(this + 0x20) = auVar32;
        auVar32 = minps(*(undefined1 (*) [16])(this + 0x30),auVar35);
        *(undefined1 (*) [16])(this + 0x30) = auVar32;
        auVar32 = maxps(*(undefined1 (*) [16])(this + 0x40),auVar47);
        *(undefined1 (*) [16])(this + 0x40) = auVar32;
        fVar17 = _LC14;
        fVar21 = (float)puVar6[0xd];
        fVar20 = (float)puVar6[0xc];
        fVar19 = ((fVar15 - fVar21) / ((float)puVar6[0xe] - fVar21)) * _LC0 * fVar20;
        if ((float)(_LC6 & (uint)fVar19) < _LC1) {
          fVar19 = (float)((uint)((float)(int)fVar19 -
                                 (float)(-(uint)(fVar19 < (float)(int)fVar19) & (uint)fVar16)) |
                          ~_LC6 & (uint)fVar19);
        }
        iVar5 = 0;
        if (0.0 <= fVar19) {
          iVar5 = (int)fVar19;
        }
        fVar21 = _LC5 * ((fVar18 - fVar21) / ((float)puVar6[0xe] - fVar21)) * fVar20;
        if ((float)(_LC6 & (uint)fVar21) < _LC1) {
          fVar21 = (float)((uint)((float)(int)fVar21 +
                                 (float)(-(uint)((float)(int)fVar21 < fVar21) & (uint)fVar16)) |
                          ~_LC6 & (uint)fVar21);
        }
        if (fVar20 <= fVar21) {
          fVar21 = fVar20;
        }
        *(long *)this = *(long *)this + (long)((int)fVar21 - iVar5);
        fVar17 = fVar17 * (float)puVar6[0xe];
      }
      fVar21 = _LC3;
      fVar16 = _LC1;
      if ((fVar18 < fVar17) && (_LC15 * (float)puVar6[0xd] < fVar22)) {
        lVar1 = *(long *)(*(long *)(*param_7 + 0x1e0) + (ulong)*puVar6 * 8);
        fVar17 = *(float *)(lVar1 + 0x2c);
        fVar19 = *(float *)(lVar1 + 0x28);
        fVar20 = *(float *)(lVar1 + 0x30) - fVar17;
        fVar41 = (fVar18 - fVar17) / fVar20;
        fVar20 = (fVar22 - fVar17) / fVar20;
        fVar30 = fVar19 * fVar41;
        fVar42 = fVar19 * fVar20;
        fVar17 = fVar30;
        if ((float)(_LC6 & (uint)fVar30) < _LC1) {
          fVar17 = (float)(~_LC6 & (uint)fVar30 |
                          (uint)((float)(int)fVar30 -
                                (float)(-(uint)(fVar30 < (float)(int)fVar30) & (uint)_LC3)));
        }
        fVar24 = fVar42;
        if ((float)(_LC6 & (uint)fVar42) < _LC1) {
          fVar24 = (float)(~_LC6 & (uint)fVar42 |
                          (uint)((float)(int)fVar42 +
                                (float)(-(uint)((float)(int)fVar42 < fVar42) & (uint)_LC3)));
        }
        iVar5 = (int)fVar17;
        if (fVar17 <= 0.0) {
          iVar7 = 0;
          lVar12 = 0;
        }
        else {
          fVar30 = fVar30 - fVar17;
          lVar12 = (long)iVar5 * 0x30;
          iVar7 = iVar5;
        }
        lVar2 = *(long *)(lVar1 + 0xd0);
        fVar17 = fVar24;
        if (fVar19 <= fVar24) {
          fVar17 = fVar19;
        }
        if (iVar5 < 0) {
          iVar5 = -1;
        }
        iVar3 = (int)fVar19 + 1;
        if ((int)fVar24 < (int)fVar19 + 1) {
          iVar3 = (int)fVar24;
        }
        puVar10 = (uint *)((ulong)puVar6[4] * *(long *)(lVar1 + 0x60) + *(long *)(lVar1 + 0x58));
        uVar8 = (ulong)*puVar10;
        lVar1 = *(long *)(lVar12 + lVar2);
        lVar12 = ((long *)(lVar12 + lVar2))[1];
        auVar32 = *(undefined1 (*) [16])(lVar1 + uVar8 * lVar12);
        uVar9 = (ulong)puVar10[1];
        uVar11 = (ulong)puVar10[2];
        auVar36 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar9);
        auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
        auVar33 = maxps(auVar32,auVar36);
        auVar32 = minps(auVar32,auVar36);
        plVar13 = (long *)((long)(int)fVar17 * 0x30 + lVar2);
        lVar1 = *plVar13;
        lVar12 = plVar13[1];
        auVar47 = minps(auVar32,auVar35);
        auVar48 = maxps(auVar33,auVar35);
        auVar32 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar8);
        auVar36 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
        auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar9);
        auVar33 = maxps(auVar32,auVar35);
        auVar32 = minps(auVar32,auVar35);
        auVar35 = maxps(auVar33,auVar36);
        auVar32 = minps(auVar32,auVar36);
        fVar44 = auVar48._0_4_;
        fVar24 = auVar32._0_4_;
        fVar25 = auVar32._4_4_;
        fVar26 = auVar32._8_4_;
        fVar28 = auVar32._12_4_;
        fVar29 = auVar35._0_4_;
        fVar45 = auVar48._4_4_;
        fVar31 = auVar35._4_4_;
        fVar38 = auVar35._8_4_;
        fVar39 = auVar35._12_4_;
        fVar49 = auVar48._12_4_;
        fVar46 = auVar48._8_4_;
        fStack_64 = auVar47._4_4_;
        fStack_60 = auVar47._8_4_;
        fStack_5c = auVar47._12_4_;
        local_68 = auVar47._0_4_;
        if (iVar3 - iVar5 == 1) {
          if (fVar30 <= 0.0) {
            fVar30 = 0.0;
            fVar19 = _LC3;
          }
          else {
            fVar19 = _LC3 - fVar30;
          }
          fVar17 = fVar17 - fVar42;
          auVar33._0_4_ = fVar30 * fVar24 + fVar19 * local_68;
          auVar33._4_4_ = fVar30 * fVar25 + fVar19 * fStack_64;
          auVar33._8_4_ = fVar30 * fVar26 + fVar19 * fStack_60;
          auVar33._12_4_ = fVar30 * fVar28 + fVar19 * fStack_5c;
          auVar43._0_4_ = fVar30 * fVar29 + fVar19 * fVar44;
          auVar43._4_4_ = fVar30 * fVar31 + fVar19 * fVar45;
          auVar43._8_4_ = fVar30 * fVar38 + fVar19 * fVar46;
          auVar43._12_4_ = fVar30 * fVar39 + fVar19 * fVar49;
          if (fVar17 <= 0.0) {
            fVar17 = 0.0;
            fVar19 = _LC3;
          }
          else {
            fVar19 = _LC3 - fVar17;
          }
          auVar27._0_4_ = fVar44 * fVar17 + fVar29 * fVar19;
          auVar27._4_4_ = fVar45 * fVar17 + fVar31 * fVar19;
          auVar27._8_4_ = fVar46 * fVar17 + fVar38 * fVar19;
          auVar27._12_4_ = fVar49 * fVar17 + fVar39 * fVar19;
          auVar23._0_4_ = fVar17 * local_68 + fVar19 * fVar24;
          auVar23._4_4_ = fVar17 * fStack_64 + fVar19 * fVar25;
          auVar23._8_4_ = fVar17 * fStack_60 + fVar19 * fVar26;
          auVar23._12_4_ = fVar17 * fStack_5c + fVar19 * fVar28;
        }
        else {
          plVar14 = (long *)((long)(iVar7 + 1) * 0x30 + lVar2);
          plVar13 = (long *)((long)((int)fVar17 + -1) * 0x30 + lVar2);
          lVar1 = *plVar14;
          lVar12 = plVar14[1];
          auVar32 = *(undefined1 (*) [16])(lVar1 + uVar8 * lVar12);
          auVar36 = *(undefined1 (*) [16])(lVar1 + uVar9 * lVar12);
          auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
          lVar1 = *plVar13;
          lVar12 = plVar13[1];
          auVar47 = minps(auVar32,auVar36);
          auVar32 = maxps(auVar32,auVar36);
          auVar33 = minps(auVar47,auVar35);
          auVar48 = maxps(auVar32,auVar35);
          auVar32 = *(undefined1 (*) [16])(lVar1 + uVar8 * lVar12);
          auVar36 = *(undefined1 (*) [16])(lVar1 + uVar9 * lVar12);
          auVar35 = *(undefined1 (*) [16])(lVar1 + lVar12 * uVar11);
          auVar47 = maxps(auVar32,auVar36);
          auVar36 = minps(auVar32,auVar36);
          auVar32 = maxps(auVar47,auVar35);
          auVar36 = minps(auVar36,auVar35);
          if (fVar30 <= 0.0) {
            fVar30 = 0.0;
            fVar4 = _LC3;
          }
          else {
            fVar4 = _LC3 - fVar30;
          }
          fVar17 = fVar17 - fVar42;
          local_58 = auVar33._0_4_;
          fStack_54 = auVar33._4_4_;
          fStack_50 = auVar33._8_4_;
          fStack_4c = auVar33._12_4_;
          auVar43._0_4_ = auVar48._0_4_ * fVar30 + fVar44 * fVar4;
          auVar43._4_4_ = auVar48._4_4_ * fVar30 + fVar45 * fVar4;
          auVar43._8_4_ = auVar48._8_4_ * fVar30 + fVar46 * fVar4;
          auVar43._12_4_ = auVar48._12_4_ * fVar30 + fVar49 * fVar4;
          auVar33._0_4_ = fVar30 * local_58 + fVar4 * local_68;
          auVar33._4_4_ = fVar30 * fStack_54 + fVar4 * fStack_64;
          auVar33._8_4_ = fVar30 * fStack_50 + fVar4 * fStack_60;
          auVar33._12_4_ = fVar30 * fStack_4c + fVar4 * fStack_5c;
          if (fVar17 <= 0.0) {
            fVar17 = 0.0;
            fVar30 = _LC3;
          }
          else {
            fVar30 = _LC3 - fVar17;
          }
          iVar5 = iVar5 + 1;
          auVar27._0_4_ = auVar32._0_4_ * fVar17 + fVar29 * fVar30;
          auVar27._4_4_ = auVar32._4_4_ * fVar17 + fVar31 * fVar30;
          auVar27._8_4_ = auVar32._8_4_ * fVar17 + fVar38 * fVar30;
          auVar27._12_4_ = auVar32._12_4_ * fVar17 + fVar39 * fVar30;
          auVar23._0_4_ = fVar17 * auVar36._0_4_ + fVar30 * fVar24;
          auVar23._4_4_ = fVar17 * auVar36._4_4_ + fVar30 * fVar25;
          auVar23._8_4_ = fVar17 * auVar36._8_4_ + fVar30 * fVar26;
          auVar23._12_4_ = fVar17 * auVar36._12_4_ + fVar30 * fVar28;
          if (iVar5 < iVar3) {
            plVar13 = (long *)((long)iVar5 * 0x30 + lVar2);
            do {
              lVar1 = plVar13[1];
              lVar12 = *plVar13;
              fVar17 = (float)iVar5;
              iVar5 = iVar5 + 1;
              plVar13 = plVar13 + 6;
              fVar38 = (fVar17 / fVar19 - fVar41) / (fVar20 - fVar41);
              fVar39 = _LC3 - fVar38;
              auVar32 = *(undefined1 (*) [16])(lVar12 + uVar8 * lVar1);
              auVar36 = *(undefined1 (*) [16])(lVar12 + uVar9 * lVar1);
              auVar35 = *(undefined1 (*) [16])(lVar12 + lVar1 * uVar11);
              auVar47 = maxps(auVar32,auVar36);
              auVar32 = minps(auVar32,auVar36);
              fVar17 = auVar33._4_4_;
              fVar30 = auVar33._8_4_;
              fVar42 = auVar33._12_4_;
              fVar44 = auVar43._4_4_;
              fVar45 = auVar43._8_4_;
              fVar46 = auVar43._12_4_;
              auVar36 = maxps(auVar47,auVar35);
              auVar32 = minps(auVar32,auVar35);
              fVar24 = auVar23._4_4_;
              fVar25 = auVar23._8_4_;
              fVar26 = auVar23._12_4_;
              fVar28 = auVar27._4_4_;
              fVar29 = auVar27._8_4_;
              fVar31 = auVar27._12_4_;
              auVar34._0_4_ = auVar32._0_4_ - (fVar38 * auVar23._0_4_ + fVar39 * auVar33._0_4_);
              auVar34._4_4_ = auVar32._4_4_ - (fVar38 * fVar24 + fVar39 * fVar17);
              auVar34._8_4_ = auVar32._8_4_ - (fVar38 * fVar25 + fVar39 * fVar30);
              auVar34._12_4_ = auVar32._12_4_ - (fVar38 * fVar26 + fVar39 * fVar42);
              auVar37._0_4_ = auVar36._0_4_ - (fVar38 * auVar27._0_4_ + fVar39 * auVar43._0_4_);
              auVar37._4_4_ = auVar36._4_4_ - (fVar38 * fVar28 + fVar39 * fVar44);
              auVar37._8_4_ = auVar36._8_4_ - (fVar38 * fVar29 + fVar39 * fVar45);
              auVar37._12_4_ = auVar36._12_4_ - (fVar38 * fVar31 + fVar39 * fVar46);
              auVar32 = minps(auVar34,(undefined1  [16])0x0);
              auVar36 = maxps(auVar37,(undefined1  [16])0x0);
              auVar33._0_4_ = auVar33._0_4_ + auVar32._0_4_;
              auVar33._4_4_ = fVar17 + auVar32._4_4_;
              auVar33._8_4_ = fVar30 + auVar32._8_4_;
              auVar33._12_4_ = fVar42 + auVar32._12_4_;
              auVar23._0_4_ = auVar23._0_4_ + auVar32._0_4_;
              auVar23._4_4_ = fVar24 + auVar32._4_4_;
              auVar23._8_4_ = fVar25 + auVar32._8_4_;
              auVar23._12_4_ = fVar26 + auVar32._12_4_;
              auVar43._0_4_ = auVar43._0_4_ + auVar36._0_4_;
              auVar43._4_4_ = fVar44 + auVar36._4_4_;
              auVar43._8_4_ = fVar45 + auVar36._8_4_;
              auVar43._12_4_ = fVar46 + auVar36._12_4_;
              auVar27._0_4_ = auVar27._0_4_ + auVar36._0_4_;
              auVar27._4_4_ = fVar28 + auVar36._4_4_;
              auVar27._8_4_ = fVar29 + auVar36._8_4_;
              auVar27._12_4_ = fVar31 + auVar36._12_4_;
            } while (iVar3 != iVar5);
          }
        }
        auVar36 = minps(*(undefined1 (*) [16])(this + 0x50),auVar33);
        auVar32 = maxps(*(undefined1 (*) [16])(this + 0x60),auVar43);
        *(undefined1 (*) [16])(this + 0x50) = auVar36;
        *(undefined1 (*) [16])(this + 0x60) = auVar32;
        auVar32 = minps(*(undefined1 (*) [16])(this + 0x70),auVar23);
        *(undefined1 (*) [16])(this + 0x70) = auVar32;
        auVar32 = maxps(*(undefined1 (*) [16])(this + 0x80),auVar27);
        *(undefined1 (*) [16])(this + 0x80) = auVar32;
        fVar17 = (float)puVar6[0xd];
        fVar20 = (float)puVar6[0xc];
        fVar19 = ((fVar18 - fVar17) / ((float)puVar6[0xe] - fVar17)) * _LC0 * fVar20;
        if ((float)(_LC6 & (uint)fVar19) < fVar16) {
          fVar19 = (float)((uint)((float)(int)fVar19 -
                                 (float)(-(uint)(fVar19 < (float)(int)fVar19) & (uint)fVar21)) |
                          ~_LC6 & (uint)fVar19);
        }
        iVar5 = 0;
        if (0.0 <= fVar19) {
          iVar5 = (int)fVar19;
        }
        fVar16 = ((fVar22 - fVar17) / ((float)puVar6[0xe] - fVar17)) * _LC5 * fVar20;
        if ((float)(_LC6 & (uint)fVar16) < _LC1) {
          fVar16 = (float)((uint)((float)(int)fVar16 +
                                 (float)(-(uint)((float)(int)fVar16 < fVar16) & (uint)fVar21)) |
                          ~_LC6 & (uint)fVar16);
        }
        if (fVar20 <= fVar16) {
          fVar16 = fVar20;
        }
        *(long *)(this + 8) = *(long *)(this + 8) + (long)((int)fVar16 - iVar5);
      }
      puVar6 = puVar6 + 0x14;
    } while (puVar6 != (uint *)(param_1 + 0xc + param_3 * 0x50));
    return;
  }
  return;
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimRefMB_const&)#1},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)#2},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#3}>
::
partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined8 *puVar1;
  undefined8 *puVar2;
  float fVar3;
  float fVar4;
  undefined1 auVar5 [16];
  undefined1 auVar6 [16];
  undefined1 auVar7 [16];
  undefined1 auVar8 [16];
  undefined1 auVar9 [16];
  undefined1 auVar10 [16];
  undefined1 auVar11 [16];
  undefined1 auVar12 [16];
  long *plVar13;
  long lVar14;
  long *plVar15;
  undefined1 (*pauVar16) [12];
  undefined1 (*pauVar17) [12];
  undefined8 uVar18;
  undefined1 auVar19 [16];
  undefined8 uVar20;
  undefined1 auVar21 [16];
  undefined1 auVar22 [12];
  undefined1 auVar23 [12];
  undefined1 auVar24 [12];
  undefined1 auVar25 [12];
  float fVar26;
  ulong uVar27;
  undefined1 (*pauVar28) [16];
  undefined1 (*pauVar29) [16];
  undefined1 (*pauVar30) [16];
  long lVar31;
  long lVar32;
  ulong uVar33;
  long lVar34;
  uint uVar35;
  int iVar36;
  ulong uVar37;
  long lVar38;
  long lVar39;
  ulong uVar40;
  float fVar41;
  float fVar42;
  float fVar43;
  float fVar44;
  float fVar45;
  float fVar46;
  float fVar47;
  float fVar48;
  undefined1 auVar49 [16];
  undefined1 auVar50 [16];
  undefined1 auVar51 [16];
  undefined1 auVar52 [16];
  undefined1 auVar53 [16];
  undefined1 local_1b8 [16];
  undefined1 local_1a8 [16];
  undefined1 local_198 [16];
  undefined1 local_188 [16];
  undefined1 local_178 [16];
  undefined1 local_168 [16];
  undefined1 local_158 [8];
  undefined8 uStack_150;
  undefined1 local_148 [8];
  undefined8 uStack_140;
  undefined1 local_138 [16];
  undefined1 local_128 [16];
  undefined1 local_118 [16];
  undefined1 local_108 [16];
  float local_f8;
  float local_f4;
  float local_f0;
  float local_ec;
  float local_e8;
  float local_e4;
  float local_e0;
  float local_dc;
  
  fVar26 = _LC12;
  lVar39 = 0;
  uVar40 = 0;
  uVar33 = 0;
  lVar32 = 0;
  plVar13 = *(long **)this;
  local_ec = 0.0;
  local_e0 = 0.0;
  lVar14 = *plVar13;
  plVar15 = (long *)plVar13[2];
  local_f4 = 0.0;
  local_108._4_4_ = _LC8;
  local_108._0_4_ = _LC8;
  local_108._8_4_ = _LC8;
  local_108._12_4_ = _LC8;
  uVar37 = plVar13[1] * param_1;
  local_158._4_4_ = _LC10;
  local_158._0_4_ = _LC10;
  uStack_150._0_4_ = (float)_LC10;
  uStack_150._4_4_ = _LC10;
  local_118._4_4_ = _LC8;
  local_118._0_4_ = _LC8;
  local_118._8_4_ = _LC8;
  local_118._12_4_ = _LC8;
  local_138._4_4_ = _LC10;
  local_138._0_4_ = _LC10;
  local_138._8_4_ = _LC10;
  local_138._12_4_ = _LC10;
  local_148._4_4_ = _LC8;
  local_148._0_4_ = _LC8;
  uStack_140._0_4_ = (float)_LC8;
  uStack_140._4_4_ = _LC8;
  uVar27 = uVar37 / (ulong)plVar13[6];
  local_128._4_4_ = _LC10;
  local_128._0_4_ = _LC10;
  local_128._8_4_ = _LC10;
  local_128._12_4_ = _LC10;
  lVar38 = 0;
  local_dc = _LC3;
  local_f8 = _LC3;
  local_e4 = _LC3;
  local_e8 = _LC3;
  local_f0 = 0.0;
  local_168._4_4_ = _LC10;
  local_168._0_4_ = _LC10;
  local_168._8_4_ = _LC10;
  local_168._12_4_ = _LC10;
  local_178._4_4_ = _LC8;
  local_178._0_4_ = _LC8;
  local_178._8_4_ = _LC8;
  local_178._12_4_ = _LC8;
  local_188._4_4_ = _LC10;
  local_188._0_4_ = _LC10;
  local_188._8_4_ = _LC10;
  local_188._12_4_ = _LC10;
  lVar34 = 1;
  local_198._4_4_ = _LC8;
  local_198._0_4_ = _LC8;
  local_198._8_4_ = _LC8;
  local_198._12_4_ = _LC8;
  local_1a8._4_4_ = _LC10;
  local_1a8._0_4_ = _LC10;
  local_1a8._8_4_ = _LC10;
  local_1a8._12_4_ = _LC10;
  pauVar30 = (undefined1 (*) [16])(uVar27 * 0x50 + lVar14);
  local_1b8._4_4_ = _LC8;
  local_1b8._0_4_ = _LC8;
  local_1b8._8_4_ = _LC8;
  local_1b8._12_4_ = _LC8;
  pauVar28 = (undefined1 (*) [16])
             (lVar14 + -0x50 + ((plVar13[1] + uVar37) / (ulong)plVar13[6]) * 0x50);
  while( true ) {
    if (pauVar28 < pauVar30) break;
    auVar5 = pauVar30[3];
    auVar6 = pauVar30[1];
    auVar7 = pauVar30[2];
    auVar8 = *pauVar30;
    lVar31 = *plVar15;
    auVar22 = *(undefined1 (*) [12])(lVar31 + 0x20);
    auVar23 = *(undefined1 (*) [12])(lVar31 + 0x30);
    pauVar16 = (undefined1 (*) [12])plVar15[1];
    auVar24 = *pauVar16;
    pauVar17 = (undefined1 (*) [12])plVar15[2];
    auVar25 = *pauVar17;
    fVar41 = auVar5._0_4_ * fVar26 + auVar6._0_4_ * fVar26 +
             auVar7._0_4_ * fVar26 + auVar8._0_4_ * fVar26;
    fVar42 = auVar5._4_4_ * fVar26 + auVar6._4_4_ * fVar26 +
             auVar7._4_4_ * fVar26 + auVar8._4_4_ * fVar26;
    fVar43 = auVar5._8_4_ * fVar26 + auVar6._8_4_ * fVar26 +
             auVar7._8_4_ * fVar26 + auVar8._8_4_ * fVar26;
    fVar44 = auVar5._12_4_ * fVar26 + auVar6._12_4_ * fVar26 +
             auVar7._12_4_ * fVar26 + auVar8._12_4_ * fVar26;
    auVar49._0_4_ =
         -(uint)((int)((fVar41 - *(float *)*(undefined1 (*) [12])(lVar31 + 0x20)) *
                       *(float *)*(undefined1 (*) [12])(lVar31 + 0x30) + _LC17) < *(int *)*pauVar16)
         & *(uint *)*pauVar17;
    auVar49._4_4_ =
         -(uint)((int)((fVar42 - *(float *)(lVar31 + 0x24)) * *(float *)(lVar31 + 0x34) +
                      _UNK_0012d8c4) < *(int *)(*pauVar16 + 4)) & *(uint *)(*pauVar17 + 4);
    auVar49._8_4_ =
         -(uint)((int)((fVar43 - *(float *)(lVar31 + 0x28)) * *(float *)(lVar31 + 0x38) +
                      _UNK_0012d8c8) < *(int *)(*pauVar16 + 8)) & *(uint *)(*pauVar17 + 8);
    auVar49._12_4_ =
         -(uint)((int)((fVar44 - *(float *)(lVar31 + 0x2c)) * *(float *)(lVar31 + 0x3c) +
                      _UNK_0012d8cc) < *(int *)pauVar16[1]) & *(uint *)pauVar17[1];
    uVar35 = movmskps((int)pauVar17,auVar49);
    uVar37 = (ulong)uVar35;
    pauVar29 = pauVar28;
    auVar49 = _local_158;
    auVar50 = local_128;
    auVar51 = local_138;
    auVar52 = _local_148;
    if (uVar35 == 0) {
      while( true ) {
        auVar9 = pauVar29[3];
        auVar10 = pauVar29[1];
        auVar11 = pauVar29[2];
        auVar12 = *pauVar29;
        local_138._0_4_ = auVar24._0_4_;
        local_138._4_4_ = auVar24._4_4_;
        local_138._8_4_ = auVar24._8_4_;
        fVar45 = auVar11._0_4_ * fVar26 + auVar12._0_4_ * fVar26 +
                 auVar9._0_4_ * fVar26 + auVar10._0_4_ * fVar26;
        fVar46 = auVar11._4_4_ * fVar26 + auVar12._4_4_ * fVar26 +
                 auVar9._4_4_ * fVar26 + auVar10._4_4_ * fVar26;
        fVar47 = auVar11._8_4_ * fVar26 + auVar12._8_4_ * fVar26 +
                 auVar9._8_4_ * fVar26 + auVar10._8_4_ * fVar26;
        fVar48 = auVar11._12_4_ * fVar26 + auVar12._12_4_ * fVar26 +
                 auVar9._12_4_ * fVar26 + auVar10._12_4_ * fVar26;
        local_158._0_4_ = auVar22._0_4_;
        local_158._4_4_ = auVar22._4_4_;
        uStack_150._0_4_ = auVar22._8_4_;
        local_148._0_4_ = auVar23._0_4_;
        local_148._4_4_ = auVar23._4_4_;
        uStack_140._0_4_ = auVar23._8_4_;
        local_128._0_4_ = auVar25._0_4_;
        local_128._4_4_ = auVar25._4_4_;
        local_128._8_4_ = auVar25._8_4_;
        auVar53._0_4_ =
             -(uint)((int)((fVar45 - (float)local_158._0_4_) * (float)local_148._0_4_ + _LC17) <
                    (int)local_138._0_4_) & local_128._0_4_;
        auVar53._4_4_ =
             -(uint)((int)((fVar46 - (float)local_158._4_4_) * (float)local_148._4_4_ +
                          _UNK_0012d8c4) < (int)local_138._4_4_) & local_128._4_4_;
        auVar53._8_4_ =
             -(uint)((int)((fVar47 - (float)uStack_150) * (float)uStack_140 + _UNK_0012d8c8) <
                    (int)local_138._8_4_) & local_128._8_4_;
        auVar53._12_4_ =
             -(uint)((int)((fVar48 - *(float *)(lVar31 + 0x2c)) * *(float *)(lVar31 + 0x3c) +
                          _UNK_0012d8cc) < *(int *)pauVar16[1]) & *(uint *)pauVar17[1];
        iVar36 = movmskps((int)uVar37,auVar53);
        fVar3 = *(float *)pauVar29[4];
        if (iVar36 != 0) break;
        fVar4 = *(float *)(pauVar29[4] + 4);
        local_118 = maxps(local_118,auVar9);
        auVar19._4_4_ = fVar46;
        auVar19._0_4_ = fVar45;
        auVar19._8_4_ = fVar47;
        auVar19._12_4_ = fVar48;
        _local_158 = minps(auVar49,auVar19);
        local_128 = minps(auVar50,auVar12);
        _local_148 = maxps(auVar52,auVar10);
        lVar39 = lVar39 + 1;
        local_138 = minps(auVar51,auVar11);
        auVar50._4_4_ = fVar46;
        auVar50._0_4_ = fVar45;
        auVar50._8_4_ = fVar47;
        auVar50._12_4_ = fVar48;
        local_108 = maxps(local_108,auVar50);
        lVar38 = lVar38 + (ulong)*(uint *)(pauVar29[2] + 0xc);
        fVar45 = fVar4;
        if (fVar4 <= local_ec) {
          fVar45 = local_ec;
        }
        uVar37 = (ulong)*(uint *)(pauVar29[3] + 0xc);
        if (fVar3 <= local_e8) {
          local_e8 = fVar3;
        }
        if (uVar33 < uVar37) {
          uVar33 = uVar37;
          local_e0 = fVar3;
          local_dc = fVar4;
        }
        pauVar29 = pauVar29 + -5;
        auVar49 = _local_158;
        auVar50 = local_128;
        auVar51 = local_138;
        auVar52 = _local_148;
        local_ec = fVar45;
        if (pauVar29 < pauVar30) goto LAB_0010797d;
      }
      uVar35 = *(uint *)(pauVar29[2] + 0xc);
      auVar21._4_4_ = fVar42;
      auVar21._0_4_ = fVar41;
      auVar21._8_4_ = fVar43;
      auVar21._12_4_ = fVar44;
      local_178 = maxps(local_178,auVar9);
      local_1a8 = minps(local_1a8,auVar12);
      auVar9._4_4_ = fVar46;
      auVar9._0_4_ = fVar45;
      auVar9._8_4_ = fVar47;
      auVar9._12_4_ = fVar48;
      local_168 = minps(local_168,auVar9);
      local_188 = minps(local_188,auVar11);
      local_198 = maxps(local_198,auVar10);
      auVar10._4_4_ = fVar46;
      auVar10._0_4_ = fVar45;
      auVar10._8_4_ = fVar47;
      auVar10._12_4_ = fVar48;
      local_1b8 = maxps(local_1b8,auVar10);
      fVar41 = *(float *)(pauVar29[4] + 4);
      if (fVar3 <= local_f8) {
        local_f8 = fVar3;
      }
      fVar42 = fVar41;
      if (fVar41 <= local_f4) {
        fVar42 = local_f4;
      }
      uVar37 = (ulong)*(uint *)(pauVar29[3] + 0xc);
      if (*(uint *)(pauVar29[3] + 0xc) <= uVar40) {
        uVar37 = uVar40;
        fVar41 = local_e4;
        fVar3 = local_f0;
      }
      lVar39 = lVar39 + 1;
      local_128 = minps(auVar50,auVar8);
      lVar38 = lVar38 + (ulong)*(uint *)(pauVar30[2] + 0xc);
      _local_148 = maxps(auVar52,auVar6);
      local_138 = minps(auVar51,auVar7);
      local_118 = maxps(local_118,auVar5);
      _local_158 = minps(auVar49,auVar21);
      local_108 = maxps(local_108,auVar21);
      fVar43 = *(float *)pauVar30[4];
      if (fVar43 <= local_e8) {
        local_e8 = fVar43;
      }
      fVar44 = *(float *)(pauVar30[4] + 4);
      fVar45 = fVar44;
      if (fVar44 <= local_ec) {
        fVar45 = local_ec;
      }
      uVar40 = (ulong)*(uint *)(pauVar30[3] + 0xc);
      if (*(uint *)(pauVar30[3] + 0xc) <= uVar33) {
        uVar40 = uVar33;
        fVar43 = local_e0;
        fVar44 = local_dc;
      }
      uVar33 = uVar40;
      *pauVar30 = auVar12;
      uVar20 = *(undefined8 *)(pauVar29[1] + 8);
      uVar18 = *(undefined8 *)pauVar30[4];
      pauVar28 = pauVar29 + -5;
      *(undefined8 *)pauVar30[1] = *(undefined8 *)pauVar29[1];
      *(undefined8 *)(pauVar30[1] + 8) = uVar20;
      uVar20 = *(undefined8 *)(pauVar29[2] + 8);
      *(undefined8 *)pauVar30[2] = *(undefined8 *)pauVar29[2];
      *(undefined8 *)(pauVar30[2] + 8) = uVar20;
      uVar20 = *(undefined8 *)(pauVar29[3] + 8);
      *(undefined8 *)pauVar30[3] = *(undefined8 *)pauVar29[3];
      *(undefined8 *)(pauVar30[3] + 8) = uVar20;
      *(undefined4 *)pauVar30[4] = *(undefined4 *)pauVar29[4];
      *(undefined4 *)(pauVar30[4] + 4) = *(undefined4 *)(pauVar29[4] + 4);
      *(undefined8 *)pauVar29[4] = uVar18;
      *pauVar29 = auVar8;
      pauVar29[1] = auVar6;
      pauVar29[2] = auVar7;
      pauVar29[3] = auVar5;
      uVar40 = uVar37;
      local_f4 = fVar42;
      local_f0 = fVar3;
      local_ec = fVar45;
      local_e4 = fVar41;
      local_e0 = fVar43;
      local_dc = fVar44;
    }
    else {
      fVar3 = *(float *)(pauVar30[4] + 4);
      uVar35 = *(uint *)(pauVar30[2] + 0xc);
      local_1a8 = minps(local_1a8,auVar8);
      local_198 = maxps(local_198,auVar6);
      local_188 = minps(local_188,auVar7);
      auVar6._4_4_ = fVar42;
      auVar6._0_4_ = fVar41;
      auVar6._8_4_ = fVar43;
      auVar6._12_4_ = fVar44;
      local_1b8 = maxps(local_1b8,auVar6);
      local_178 = maxps(local_178,auVar5);
      auVar5._4_4_ = fVar42;
      auVar5._0_4_ = fVar41;
      auVar5._8_4_ = fVar43;
      auVar5._12_4_ = fVar44;
      local_168 = minps(local_168,auVar5);
      fVar41 = *(float *)pauVar30[4];
      fVar42 = fVar3;
      if (fVar3 <= local_f4) {
        fVar42 = local_f4;
      }
      if (fVar41 <= local_f8) {
        local_f8 = fVar41;
      }
      local_f4 = fVar42;
      if (uVar40 < *(uint *)(pauVar30[3] + 0xc)) {
        uVar40 = (ulong)*(uint *)(pauVar30[3] + 0xc);
        local_f0 = fVar41;
        local_e4 = fVar3;
      }
    }
    lVar32 = lVar32 + (ulong)uVar35;
    pauVar30 = pauVar30 + 5;
    lVar34 = lVar34 + 1;
  }
LAB_0010797d:
  *(ulong *)(*(long *)this + 0x40 + param_1 * 8) = uVar27;
  *(ulong *)(*(long *)this + 0x280 + param_1 * 8) =
       ((long)pauVar30 - lVar14 >> 4) * -0x3333333333333333 - uVar27;
  lVar14 = *(long *)this;
  lVar31 = param_1 * 0x90;
  puVar1 = (undefined8 *)(lVar14 + 0xcc0 + lVar31);
  puVar2 = (undefined8 *)(lVar14 + 0xd20 + lVar31);
  *puVar1 = local_1a8._0_8_;
  puVar1[1] = local_1a8._8_8_;
  puVar1[10] = local_1b8._0_8_;
  puVar1[0xb] = local_1b8._8_8_;
  puVar1[2] = local_198._0_8_;
  puVar1[3] = local_198._8_8_;
  puVar1[4] = local_188._0_8_;
  puVar1[5] = local_188._8_8_;
  puVar1[6] = local_178._0_8_;
  puVar1[7] = local_178._8_8_;
  puVar1[8] = local_168._0_8_;
  puVar1[9] = local_168._8_8_;
  puVar2[1] = lVar34 + -1;
  *puVar2 = 0;
  *(long *)(lVar14 + lVar31 + 0xd30) = lVar32;
  *(ulong *)(lVar14 + lVar31 + 0xd38) = uVar40;
  *(float *)(puVar1 + 0x10) = local_f0;
  *(float *)((long)puVar1 + 0x84) = local_e4;
  *(float *)(puVar1 + 0x11) = local_f8;
  *(float *)((long)puVar1 + 0x8c) = local_f4;
  lVar14 = *(long *)this;
  puVar1 = (undefined8 *)(lVar14 + 0x30c0 + lVar31);
  puVar2 = (undefined8 *)(lVar14 + 0x3120 + lVar31);
  *puVar1 = local_128._0_8_;
  puVar1[1] = local_128._8_8_;
  puVar1[2] = local_148;
  puVar1[3] = uStack_140;
  puVar1[4] = local_138._0_8_;
  puVar1[5] = local_138._8_8_;
  puVar1[6] = local_118._0_8_;
  puVar1[7] = local_118._8_8_;
  puVar1[8] = local_158;
  puVar1[9] = uStack_150;
  puVar1[10] = local_108._0_8_;
  puVar1[0xb] = local_108._8_8_;
  *puVar2 = 0;
  puVar2[1] = lVar39;
  *(long *)(lVar14 + lVar31 + 0x3130) = lVar38;
  *(ulong *)(lVar14 + lVar31 + 0x3138) = uVar33;
  *(float *)(puVar1 + 0x10) = local_e0;
  *(float *)(puVar1 + 0x11) = local_e8;
  *(float *)((long)puVar1 + 0x84) = local_dc;
  *(float *)((long)puVar1 + 0x8c) = local_ec;
  return;
}



/* embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::bin_parallel<embree::sse2::BinInfoT<32ul,
   embree::PrimRefMB, embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1},
   embree::bin_parallel<embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&)#2}>(unsigned long, unsigned long, unsigned long, unsigned
   long, embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa> > const&,
   embree::bin_parallel<embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::bin_parallel<embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&)#2} const&)::{lambda(unsigned
   long)#1}::TEMPNAMEPLACEHOLDERVALUE(unsigned long) const */

void __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::{lambda(embree::range<unsigned_long>const&)#1},embree::bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::{lambda(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::...const&,embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>const&)#2}const&)
::{lambda(unsigned_long)#1}::operator()(_lambda_unsigned_long__1_ *this,ulong param_1)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  undefined4 uVar11;
  undefined4 uVar12;
  undefined4 uVar13;
  undefined4 uVar14;
  undefined4 uVar15;
  undefined4 uVar16;
  undefined4 uVar17;
  undefined4 uVar18;
  undefined4 uVar19;
  undefined4 uVar20;
  undefined4 uVar21;
  undefined4 uVar22;
  undefined4 uVar23;
  undefined4 uVar24;
  undefined4 uVar25;
  undefined4 uVar26;
  undefined4 uVar27;
  undefined4 uVar28;
  undefined4 uVar29;
  undefined4 uVar30;
  undefined4 uVar31;
  undefined4 uVar32;
  undefined8 uVar33;
  undefined8 uVar34;
  undefined8 uVar35;
  undefined8 uVar36;
  undefined8 uVar37;
  undefined8 uVar38;
  undefined8 uVar39;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var40;
  _lambda_embree__range<unsigned_long>const___1_ *p_Var41;
  long lVar42;
  ulong uVar43;
  undefined8 *puVar44;
  undefined8 *puVar45;
  long in_FS_OFFSET;
  byte bVar46;
  _lambda_embree__range<unsigned_long>const___1_ local_1a80 [6144];
  undefined8 local_280 [63];
  undefined8 local_88;
  long local_48;
  
  bVar46 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)
  ::{lambda(embree::range<unsigned_long>const&)#1}::operator()(local_1a80,*(range **)(this + 0x20));
  puVar45 = (undefined8 *)(param_1 * 0x1a00 + *(long *)(*(long *)(this + 0x18) + 0x1a00));
  p_Var40 = local_1a80;
  puVar44 = puVar45;
  do {
    uVar33 = *(undefined8 *)(p_Var40 + 8);
    uVar34 = *(undefined8 *)(p_Var40 + 0x10);
    uVar35 = *(undefined8 *)(p_Var40 + 0x18);
    p_Var41 = p_Var40 + 0xc0;
    uVar36 = *(undefined8 *)(p_Var40 + 0x20);
    uVar37 = *(undefined8 *)(p_Var40 + 0x28);
    uVar38 = *(undefined8 *)(p_Var40 + 0x30);
    uVar39 = *(undefined8 *)(p_Var40 + 0x38);
    *puVar44 = *(undefined8 *)p_Var40;
    puVar44[1] = uVar33;
    uVar1 = *(undefined4 *)(p_Var40 + 0x40);
    uVar2 = *(undefined4 *)(p_Var40 + 0x44);
    uVar3 = *(undefined4 *)(p_Var40 + 0x48);
    uVar4 = *(undefined4 *)(p_Var40 + 0x4c);
    uVar5 = *(undefined4 *)(p_Var40 + 0x50);
    uVar6 = *(undefined4 *)(p_Var40 + 0x54);
    uVar7 = *(undefined4 *)(p_Var40 + 0x58);
    uVar8 = *(undefined4 *)(p_Var40 + 0x5c);
    puVar44[2] = uVar34;
    puVar44[3] = uVar35;
    uVar9 = *(undefined4 *)(p_Var40 + 0x60);
    uVar10 = *(undefined4 *)(p_Var40 + 100);
    uVar11 = *(undefined4 *)(p_Var40 + 0x68);
    uVar12 = *(undefined4 *)(p_Var40 + 0x6c);
    uVar13 = *(undefined4 *)(p_Var40 + 0x70);
    uVar14 = *(undefined4 *)(p_Var40 + 0x74);
    uVar15 = *(undefined4 *)(p_Var40 + 0x78);
    uVar16 = *(undefined4 *)(p_Var40 + 0x7c);
    puVar44[4] = uVar36;
    puVar44[5] = uVar37;
    uVar17 = *(undefined4 *)(p_Var40 + 0x80);
    uVar18 = *(undefined4 *)(p_Var40 + 0x84);
    uVar19 = *(undefined4 *)(p_Var40 + 0x88);
    uVar20 = *(undefined4 *)(p_Var40 + 0x8c);
    uVar21 = *(undefined4 *)(p_Var40 + 0x90);
    uVar22 = *(undefined4 *)(p_Var40 + 0x94);
    uVar23 = *(undefined4 *)(p_Var40 + 0x98);
    uVar24 = *(undefined4 *)(p_Var40 + 0x9c);
    puVar44[6] = uVar38;
    puVar44[7] = uVar39;
    uVar25 = *(undefined4 *)(p_Var40 + 0xa0);
    uVar26 = *(undefined4 *)(p_Var40 + 0xa4);
    uVar27 = *(undefined4 *)(p_Var40 + 0xa8);
    uVar28 = *(undefined4 *)(p_Var40 + 0xac);
    uVar29 = *(undefined4 *)(p_Var40 + 0xb0);
    uVar30 = *(undefined4 *)(p_Var40 + 0xb4);
    uVar31 = *(undefined4 *)(p_Var40 + 0xb8);
    uVar32 = *(undefined4 *)(p_Var40 + 0xbc);
    *(undefined4 *)(puVar44 + 8) = uVar1;
    *(undefined4 *)((long)puVar44 + 0x44) = uVar2;
    *(undefined4 *)(puVar44 + 9) = uVar3;
    *(undefined4 *)((long)puVar44 + 0x4c) = uVar4;
    *(undefined4 *)(puVar44 + 10) = uVar5;
    *(undefined4 *)((long)puVar44 + 0x54) = uVar6;
    *(undefined4 *)(puVar44 + 0xb) = uVar7;
    *(undefined4 *)((long)puVar44 + 0x5c) = uVar8;
    *(undefined4 *)(puVar44 + 0xc) = uVar9;
    *(undefined4 *)((long)puVar44 + 100) = uVar10;
    *(undefined4 *)(puVar44 + 0xd) = uVar11;
    *(undefined4 *)((long)puVar44 + 0x6c) = uVar12;
    *(undefined4 *)(puVar44 + 0xe) = uVar13;
    *(undefined4 *)((long)puVar44 + 0x74) = uVar14;
    *(undefined4 *)(puVar44 + 0xf) = uVar15;
    *(undefined4 *)((long)puVar44 + 0x7c) = uVar16;
    *(undefined4 *)(puVar44 + 0x10) = uVar17;
    *(undefined4 *)((long)puVar44 + 0x84) = uVar18;
    *(undefined4 *)(puVar44 + 0x11) = uVar19;
    *(undefined4 *)((long)puVar44 + 0x8c) = uVar20;
    *(undefined4 *)(puVar44 + 0x12) = uVar21;
    *(undefined4 *)((long)puVar44 + 0x94) = uVar22;
    *(undefined4 *)(puVar44 + 0x13) = uVar23;
    *(undefined4 *)((long)puVar44 + 0x9c) = uVar24;
    *(undefined4 *)(puVar44 + 0x14) = uVar25;
    *(undefined4 *)((long)puVar44 + 0xa4) = uVar26;
    *(undefined4 *)(puVar44 + 0x15) = uVar27;
    *(undefined4 *)((long)puVar44 + 0xac) = uVar28;
    *(undefined4 *)(puVar44 + 0x16) = uVar29;
    *(undefined4 *)((long)puVar44 + 0xb4) = uVar30;
    *(undefined4 *)(puVar44 + 0x17) = uVar31;
    *(undefined4 *)((long)puVar44 + 0xbc) = uVar32;
    p_Var40 = p_Var41;
    puVar44 = puVar44 + 0x18;
  } while ((_lambda_embree__range<unsigned_long>const___1_ *)local_280 != p_Var41);
  puVar45[0x300] = local_280[0];
  puVar45[0x33f] = local_88;
  lVar42 = (long)puVar45 + (0x1800 - (long)((ulong)(puVar45 + 0x301) & 0xfffffffffffffff8));
  p_Var40 = (_lambda_embree__range<unsigned_long>const___1_ *)local_280 + -lVar42;
  puVar44 = (undefined8 *)((ulong)(puVar45 + 0x301) & 0xfffffffffffffff8);
  for (uVar43 = (ulong)((int)lVar42 + 0x200U >> 3); uVar43 != 0; uVar43 = uVar43 - 1) {
    *puVar44 = *(undefined8 *)p_Var40;
    p_Var40 = p_Var40 + ((ulong)bVar46 * -2 + 1) * 8;
    puVar44 = puVar44 + (ulong)bVar46 * -2 + 1;
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x00108435) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long lVar19;
  Thread *pTVar20;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar20 = pTVar16 + 0x40;
  pTVar18 = pTVar20;
  do {
    *(undefined4 *)pTVar18 = 0;
    pTVar17 = pTVar18 + 0x80;
    *(undefined4 *)(pTVar18 + 0x40) = 0;
    pTVar18 = pTVar17;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar18 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar4 + 0x40 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar17 = pTVar16 + uVar3 + 0x40080;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar17 = &PTR_execute_0012d488;
      uVar5 = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(pTVar17 + 8) = uVar8;
      *(undefined8 *)(pTVar17 + 0x10) = uVar9;
      *(undefined8 *)(pTVar17 + 0x18) = uVar10;
      *(undefined8 *)(pTVar17 + 0x20) = uVar11;
      *(undefined8 *)(pTVar17 + 0x38) = uVar5;
      *(undefined8 *)(pTVar17 + 0x28) = uVar12;
      *(undefined8 *)(pTVar17 + 0x30) = uVar13;
      lVar19 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar19 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar19 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar19 + 0x50) = pTVar17;
      *(long *)(pTVar16 + lVar19 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar19 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar19 + 0x68) = lVar4;
      *(ulong *)(pTVar16 + lVar19 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar20 + lVar19) == 0) {
        *(undefined4 *)(pTVar20 + lVar19) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar17 = local_48 + 8;
            *(long *)pTVar17 = *(long *)pTVar17 + -1;
            UNLOCK();
            if (*(long *)pTVar17 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar20,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar18);
      pTVar20 = *(Thread **)param_2;
      if (pTVar20 != (Thread *)0x0) {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar20 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar20 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
      }
      else {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        std::rethrow_exception(&local_48);
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* WARNING: Removing unreachable block (ram,0x00108985) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  char cVar14;
  long lVar15;
  Thread *pTVar16;
  Thread *pTVar17;
  Thread *pTVar18;
  long lVar19;
  Thread *pTVar20;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar15 = embree::TaskScheduler::allocThreadIndex();
  pTVar16 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar16 = lVar15;
  pTVar20 = pTVar16 + 0x40;
  pTVar18 = pTVar20;
  do {
    *(undefined4 *)pTVar18 = 0;
    pTVar17 = pTVar18 + 0x80;
    *(undefined4 *)(pTVar18 + 0x40) = 0;
    pTVar18 = pTVar17;
  } while (pTVar16 + 0x40040 != pTVar17);
  *(undefined8 *)(pTVar16 + 0x40040) = 0;
  *(undefined8 *)(pTVar16 + 0x40080) = 0;
  *(undefined8 *)(pTVar16 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar16 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar16 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar15 * 8) = pTVar16;
  UNLOCK();
  local_48 = pTVar16;
  pTVar18 = (Thread *)embree::TaskScheduler::swapThread(pTVar16);
  if (*(ulong *)(pTVar16 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar16 + 0xc00c0);
    uVar3 = lVar4 + 0x40 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar16 + 0xc00c0) = uVar3;
      pTVar17 = pTVar16 + uVar3 + 0x40080;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      uVar12 = *(undefined8 *)(param_1 + 0x20);
      uVar13 = *(undefined8 *)(param_1 + 0x28);
      *(undefined ***)pTVar17 = &PTR_execute_0012d4a0;
      uVar5 = *(undefined8 *)(param_1 + 0x30);
      *(undefined8 *)(pTVar17 + 8) = uVar8;
      *(undefined8 *)(pTVar17 + 0x10) = uVar9;
      *(undefined8 *)(pTVar17 + 0x18) = uVar10;
      *(undefined8 *)(pTVar17 + 0x20) = uVar11;
      *(undefined8 *)(pTVar17 + 0x38) = uVar5;
      *(undefined8 *)(pTVar17 + 0x28) = uVar12;
      *(undefined8 *)(pTVar17 + 0x30) = uVar13;
      lVar19 = *(long *)(pTVar16 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar16 + 0xc0100);
      pTVar16[lVar19 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar16 + lVar19 + 0x44) = 1;
      *(Thread **)(pTVar16 + lVar19 + 0x50) = pTVar17;
      *(long *)(pTVar16 + lVar19 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar16 + lVar19 + 0x60) = param_2;
      *(long *)(pTVar16 + lVar19 + 0x68) = lVar4;
      *(ulong *)(pTVar16 + lVar19 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar20 + lVar19) == 0) {
        *(undefined4 *)(pTVar20 + lVar19) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar16 + 0x40080) = *(long *)(pTVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar16 + 0x40080) - 1U <= *(ulong *)(pTVar16 + 0x40040)) {
        LOCK();
        *(long *)(pTVar16 + 0x40040) = *(long *)(pTVar16 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar17 = local_48 + 8;
            *(long *)pTVar17 = *(long *)pTVar17 + -1;
            UNLOCK();
            if (*(long *)pTVar17 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar14 = embree::TaskScheduler::TaskQueue::execute_local(pTVar20,(Task *)pTVar16);
      } while (cVar14 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar15 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar18);
      pTVar20 = *(Thread **)param_2;
      if (pTVar20 != (Thread *)0x0) {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar20 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar20 == (Thread *)0x0) {
        if (pTVar16 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar16 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar16);
            return;
          }
        }
      }
      else {
        local_48 = pTVar20;
        std::__exception_ptr::exception_ptr::_M_addref();
        std::rethrow_exception(&local_48);
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* unsigned long embree::parallel_filter<embree::PrimRefMB, unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::PrimRefMB
   const&)#1}>(embree::PrimRefMB*, unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::PrimRefMB
   const&)#1} const&) */

ulong embree::
      parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_>
                (PrimRefMB *param_1,ulong param_2,ulong param_3,ulong param_4,
                _lambda_embree__PrimRefMB_const___1_ *param_5)

{
  int *piVar1;
  undefined8 *puVar2;
  long lVar3;
  float fVar4;
  float fVar5;
  PrimRefMB *pPVar6;
  ulong uVar7;
  long lVar8;
  long lVar9;
  undefined8 uVar10;
  ulong *puVar11;
  ulong uVar12;
  PrimRefMB *pPVar13;
  long lVar14;
  long in_FS_OFFSET;
  ulong local_760;
  ulong local_758;
  PrimRefMB *local_750;
  ulong local_748;
  long local_740;
  ulong *local_738;
  ulong *local_730;
  ulong local_728;
  undefined8 uStack_720;
  undefined8 local_718;
  ulong **ppuStack_710;
  ulong **local_708;
  ulong local_6f8;
  undefined8 uStack_6f0;
  undefined8 local_6e8;
  ulong **ppuStack_6e0;
  ulong **local_6d8;
  ulong *local_6c8;
  ulong *local_6c0;
  ulong *local_6b8;
  PrimRefMB **local_6b0;
  _lambda_embree__PrimRefMB_const___1_ *local_6a8;
  long *local_6a0;
  long *local_698;
  ulong *local_688;
  ulong *local_680;
  ulong *local_678;
  long *local_670;
  long *local_668;
  long *local_660;
  long *local_658;
  PrimRefMB **local_650;
  long local_648 [64];
  long local_448 [64];
  long local_248 [65];
  long local_40;
  
  fVar5 = _LC15;
  fVar4 = _LC14;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_760 = param_3;
  local_758 = param_2;
  local_750 = param_1;
  if (param_3 - param_2 <= param_4) {
    uVar12 = param_2;
    if (param_2 < param_3) {
      pPVar6 = param_1 + param_2 * 0x50;
      uVar7 = param_2;
      do {
        uVar12 = uVar7;
        if ((**(float **)param_5 < *(float *)(pPVar6 + 0x44) * fVar4) &&
           (*(float *)(pPVar6 + 0x40) * fVar5 < (*(float **)param_5)[1])) {
          uVar10 = *(undefined8 *)(pPVar6 + 8);
          uVar12 = uVar7 + 1;
          pPVar13 = param_1 + uVar7 * 0x50;
          *(undefined8 *)pPVar13 = *(undefined8 *)pPVar6;
          *(undefined8 *)(pPVar13 + 8) = uVar10;
          uVar10 = *(undefined8 *)(pPVar6 + 0x18);
          *(undefined8 *)(pPVar13 + 0x10) = *(undefined8 *)(pPVar6 + 0x10);
          *(undefined8 *)(pPVar13 + 0x18) = uVar10;
          uVar10 = *(undefined8 *)(pPVar6 + 0x28);
          *(undefined8 *)(pPVar13 + 0x20) = *(undefined8 *)(pPVar6 + 0x20);
          *(undefined8 *)(pPVar13 + 0x28) = uVar10;
          uVar10 = *(undefined8 *)(pPVar6 + 0x38);
          *(undefined8 *)(pPVar13 + 0x30) = *(undefined8 *)(pPVar6 + 0x30);
          *(undefined8 *)(pPVar13 + 0x38) = uVar10;
          *(undefined4 *)(pPVar13 + 0x40) = *(undefined4 *)(pPVar6 + 0x40);
          *(undefined4 *)(pPVar13 + 0x44) = *(undefined4 *)(pPVar6 + 0x44);
        }
        pPVar6 = pPVar6 + 0x50;
        uVar7 = uVar12;
      } while (param_1 + param_3 * 0x50 != pPVar6);
    }
    goto LAB_00109ad6;
  }
  uVar7 = embree::TaskScheduler::threadCount();
  uVar12 = (((local_760 - 1) - local_758) + param_4) / param_4;
  if (uVar7 < uVar12) {
    uVar12 = uVar7;
  }
  uVar7 = 0x40;
  if (uVar12 < 0x41) {
    uVar7 = uVar12;
  }
  local_748 = uVar7;
  local_6c8 = &local_758;
  local_6c0 = &local_760;
  local_6b8 = &local_748;
  local_6b0 = &local_750;
  local_6a8 = param_5;
  local_6a0 = local_648;
  local_698 = local_448;
  if (uVar12 != 0) {
    ppuStack_710 = &local_6c8;
    local_738 = (ulong *)0x0;
    uStack_720 = 0;
    local_718 = 1;
    local_728 = uVar7;
    local_708 = &local_738;
    lVar8 = embree::TaskScheduler::thread();
    if (lVar8 == 0) {
      uVar10 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_15parallel_filterINS_9PrimRefMBEmZNS_4sse227HeuristicMBlurTemporalSplitIS5_NS6_18RecalculatePrimRefINS_12TriangleMeshEEELm2EE5splitERKNS6_8BinSplitILm32EEERKNS_5SetMBERSG_SJ_EUlRKS5_E_EET0_PT_SN_SN_SN_RKT1_EUlmE_EEvSO_RKSN_EUlRKNS_5rangeImEEE_EEvSO_SO_SO_SV_PNS0_16TaskGroupContextEEUlvE_EEvRKSO_S12_mb
                (uVar10,&local_728,&local_738,uVar7,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar8 + 0x40080)) goto LAB_0010a011;
      lVar14 = *(long *)(lVar8 + 0xc00c0);
      uVar12 = lVar14 + 0x30 + (ulong)(-(int)lVar14 & 0x3f);
      if (0x80000 < uVar12) goto LAB_0010a011;
      *(ulong *)(lVar8 + 0xc00c0) = uVar12;
      puVar2 = (undefined8 *)(lVar8 + 0x40090 + uVar12);
      *puVar2 = 0x12d4b8;
      puVar2[1] = local_728;
      puVar2[2] = uStack_720;
      puVar2[5] = local_708;
      puVar2[3] = local_718;
      puVar2[4] = ppuStack_710;
      lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar8 + 0x40 + lVar9);
      lVar3 = *(long *)(lVar8 + 0xc0100);
      *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
      *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
      lVar9 = lVar9 + lVar8;
      *(undefined8 **)(lVar9 + 0x50) = puVar2;
      *(long *)(lVar9 + 0x58) = lVar3;
      *(ulong ***)(lVar9 + 0x60) = &local_738;
      *(long *)(lVar9 + 0x68) = lVar14;
      *(ulong *)(lVar9 + 0x70) = uVar7;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
        LOCK();
        *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    if (local_738 == (ulong *)0x0) {
      lVar8 = 0;
      local_740 = 0;
      uVar7 = local_748;
      if (local_748 != 0) {
        uVar12 = 0;
        lVar14 = 0;
        do {
          local_248[uVar12] = lVar14;
          lVar8 = lVar8 + local_648[uVar12];
          lVar14 = lVar14 + local_448[uVar12];
          uVar12 = uVar12 + 1;
          local_740 = lVar8;
        } while (uVar12 != local_748);
      }
      goto LAB_00109bb0;
    }
    local_688 = local_738;
    std::__exception_ptr::exception_ptr::_M_addref();
    puVar11 = (ulong *)std::rethrow_exception(&local_688);
LAB_00109ff1:
    local_6c8 = puVar11;
    std::__exception_ptr::exception_ptr::_M_addref();
    std::rethrow_exception(&local_6c8);
LAB_0010a011:
                    /* WARNING: Subroutine does not return */
    abort();
  }
  local_740 = 0;
  uVar7 = 0;
LAB_00109bb0:
  uVar12 = local_760;
  if (local_760 - local_758 == local_740) goto LAB_00109ad6;
  local_660 = &local_740;
  local_658 = local_248;
  local_688 = &local_758;
  local_680 = &local_760;
  local_678 = &local_748;
  local_670 = local_648;
  local_668 = local_448;
  local_650 = &local_750;
  if (uVar7 != 0) {
    ppuStack_6e0 = &local_688;
    local_730 = (ulong *)0x0;
    uStack_6f0 = 0;
    local_6e8 = 1;
    local_6f8 = uVar7;
    local_6d8 = &local_730;
    lVar8 = embree::TaskScheduler::thread();
    if (lVar8 == 0) {
      uVar10 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_15parallel_filterINS_9PrimRefMBEmZNS_4sse227HeuristicMBlurTemporalSplitIS5_NS6_18RecalculatePrimRefINS_12TriangleMeshEEELm2EE5splitERKNS6_8BinSplitILm32EEERKNS_5SetMBERSG_SJ_EUlRKS5_E_EET0_PT_SN_SN_SN_RKT1_EUlmE0_EEvSO_RKSN_EUlRKNS_5rangeImEEE_EEvSO_SO_SO_SV_PNS0_16TaskGroupContextEEUlvE_EEvRKSO_S12_mb
                (uVar10,&local_6f8,&local_730,uVar7,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar8 + 0x40080)) goto LAB_0010a011;
      lVar14 = *(long *)(lVar8 + 0xc00c0);
      uVar12 = lVar14 + 0x30 + (ulong)(-(int)lVar14 & 0x3f);
      if (0x80000 < uVar12) goto LAB_0010a011;
      *(ulong *)(lVar8 + 0xc00c0) = uVar12;
      puVar2 = (undefined8 *)(lVar8 + 0x40090 + uVar12);
      *puVar2 = 0x12d4d0;
      puVar2[1] = local_6f8;
      puVar2[2] = uStack_6f0;
      puVar2[5] = local_6d8;
      puVar2[3] = local_6e8;
      puVar2[4] = ppuStack_6e0;
      lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar8 + 0x40 + lVar9);
      lVar3 = *(long *)(lVar8 + 0xc0100);
      *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
      *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
      lVar9 = lVar9 + lVar8;
      *(undefined8 **)(lVar9 + 0x50) = puVar2;
      *(long *)(lVar9 + 0x58) = lVar3;
      *(ulong ***)(lVar9 + 0x60) = &local_730;
      *(long *)(lVar9 + 0x68) = lVar14;
      *(ulong *)(lVar9 + 0x70) = uVar7;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
        LOCK();
        *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    puVar11 = local_730;
    if (local_730 != (ulong *)0x0) goto LAB_00109ff1;
  }
  uVar12 = local_758 + local_740;
LAB_00109ad6:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar12;
}



/* unsigned long embree::parallel_filter<embree::PrimRefMB, unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::PrimRefMB
   const&)#4}>(embree::PrimRefMB*, unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::PrimRefMB
   const&)#4} const&) */

ulong embree::
      parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_4_>
                (PrimRefMB *param_1,ulong param_2,ulong param_3,ulong param_4,
                _lambda_embree__PrimRefMB_const___4_ *param_5)

{
  int *piVar1;
  undefined8 *puVar2;
  long lVar3;
  float fVar4;
  float fVar5;
  PrimRefMB *pPVar6;
  ulong uVar7;
  long lVar8;
  long lVar9;
  undefined8 uVar10;
  ulong *puVar11;
  ulong uVar12;
  PrimRefMB *pPVar13;
  long lVar14;
  long in_FS_OFFSET;
  ulong local_760;
  ulong local_758;
  PrimRefMB *local_750;
  ulong local_748;
  long local_740;
  ulong *local_738;
  ulong *local_730;
  ulong local_728;
  undefined8 uStack_720;
  undefined8 local_718;
  ulong **ppuStack_710;
  ulong **local_708;
  ulong local_6f8;
  undefined8 uStack_6f0;
  undefined8 local_6e8;
  ulong **ppuStack_6e0;
  ulong **local_6d8;
  ulong *local_6c8;
  ulong *local_6c0;
  ulong *local_6b8;
  PrimRefMB **local_6b0;
  _lambda_embree__PrimRefMB_const___4_ *local_6a8;
  long *local_6a0;
  long *local_698;
  ulong *local_688;
  ulong *local_680;
  ulong *local_678;
  long *local_670;
  long *local_668;
  long *local_660;
  long *local_658;
  PrimRefMB **local_650;
  long local_648 [64];
  long local_448 [64];
  long local_248 [65];
  long local_40;
  
  fVar5 = _LC15;
  fVar4 = _LC14;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_760 = param_3;
  local_758 = param_2;
  local_750 = param_1;
  if (param_3 - param_2 <= param_4) {
    uVar12 = param_2;
    if (param_2 < param_3) {
      pPVar6 = param_1 + param_2 * 0x50;
      uVar7 = param_2;
      do {
        uVar12 = uVar7;
        if ((**(float **)param_5 < *(float *)(pPVar6 + 0x44) * fVar4) &&
           (*(float *)(pPVar6 + 0x40) * fVar5 < (*(float **)param_5)[1])) {
          uVar10 = *(undefined8 *)(pPVar6 + 8);
          uVar12 = uVar7 + 1;
          pPVar13 = param_1 + uVar7 * 0x50;
          *(undefined8 *)pPVar13 = *(undefined8 *)pPVar6;
          *(undefined8 *)(pPVar13 + 8) = uVar10;
          uVar10 = *(undefined8 *)(pPVar6 + 0x18);
          *(undefined8 *)(pPVar13 + 0x10) = *(undefined8 *)(pPVar6 + 0x10);
          *(undefined8 *)(pPVar13 + 0x18) = uVar10;
          uVar10 = *(undefined8 *)(pPVar6 + 0x28);
          *(undefined8 *)(pPVar13 + 0x20) = *(undefined8 *)(pPVar6 + 0x20);
          *(undefined8 *)(pPVar13 + 0x28) = uVar10;
          uVar10 = *(undefined8 *)(pPVar6 + 0x38);
          *(undefined8 *)(pPVar13 + 0x30) = *(undefined8 *)(pPVar6 + 0x30);
          *(undefined8 *)(pPVar13 + 0x38) = uVar10;
          *(undefined4 *)(pPVar13 + 0x40) = *(undefined4 *)(pPVar6 + 0x40);
          *(undefined4 *)(pPVar13 + 0x44) = *(undefined4 *)(pPVar6 + 0x44);
        }
        pPVar6 = pPVar6 + 0x50;
        uVar7 = uVar12;
      } while (param_1 + param_3 * 0x50 != pPVar6);
    }
    goto LAB_0010b4d6;
  }
  uVar7 = embree::TaskScheduler::threadCount();
  uVar12 = (((local_760 - 1) - local_758) + param_4) / param_4;
  if (uVar7 < uVar12) {
    uVar12 = uVar7;
  }
  uVar7 = 0x40;
  if (uVar12 < 0x41) {
    uVar7 = uVar12;
  }
  local_748 = uVar7;
  local_6c8 = &local_758;
  local_6c0 = &local_760;
  local_6b8 = &local_748;
  local_6b0 = &local_750;
  local_6a8 = param_5;
  local_6a0 = local_648;
  local_698 = local_448;
  if (uVar12 != 0) {
    ppuStack_710 = &local_6c8;
    local_738 = (ulong *)0x0;
    uStack_720 = 0;
    local_718 = 1;
    local_728 = uVar7;
    local_708 = &local_738;
    lVar8 = embree::TaskScheduler::thread();
    if (lVar8 == 0) {
      uVar10 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_15parallel_filterINS_9PrimRefMBEmZNS_4sse227HeuristicMBlurTemporalSplitIS5_NS6_18RecalculatePrimRefINS_12TriangleMeshEEELm2EE5splitERKNS6_8BinSplitILm32EEERKNS_5SetMBERSG_SJ_EUlRKS5_E2_EET0_PT_SN_SN_SN_RKT1_EUlmE_EEvSO_RKSN_EUlRKNS_5rangeImEEE_EEvSO_SO_SO_SV_PNS0_16TaskGroupContextEEUlvE_EEvRKSO_S12_mb
                (uVar10,&local_728,&local_738,uVar7,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar8 + 0x40080)) goto LAB_0010ba11;
      lVar14 = *(long *)(lVar8 + 0xc00c0);
      uVar12 = lVar14 + 0x30 + (ulong)(-(int)lVar14 & 0x3f);
      if (0x80000 < uVar12) goto LAB_0010ba11;
      *(ulong *)(lVar8 + 0xc00c0) = uVar12;
      puVar2 = (undefined8 *)(lVar8 + 0x40090 + uVar12);
      *puVar2 = 0x12d4e8;
      puVar2[1] = local_728;
      puVar2[2] = uStack_720;
      puVar2[5] = local_708;
      puVar2[3] = local_718;
      puVar2[4] = ppuStack_710;
      lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar8 + 0x40 + lVar9);
      lVar3 = *(long *)(lVar8 + 0xc0100);
      *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
      *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
      lVar9 = lVar9 + lVar8;
      *(undefined8 **)(lVar9 + 0x50) = puVar2;
      *(long *)(lVar9 + 0x58) = lVar3;
      *(ulong ***)(lVar9 + 0x60) = &local_738;
      *(long *)(lVar9 + 0x68) = lVar14;
      *(ulong *)(lVar9 + 0x70) = uVar7;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
        LOCK();
        *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    if (local_738 == (ulong *)0x0) {
      lVar8 = 0;
      local_740 = 0;
      uVar7 = local_748;
      if (local_748 != 0) {
        uVar12 = 0;
        lVar14 = 0;
        do {
          local_248[uVar12] = lVar14;
          lVar8 = lVar8 + local_648[uVar12];
          lVar14 = lVar14 + local_448[uVar12];
          uVar12 = uVar12 + 1;
          local_740 = lVar8;
        } while (uVar12 != local_748);
      }
      goto LAB_0010b5b0;
    }
    local_688 = local_738;
    std::__exception_ptr::exception_ptr::_M_addref();
    puVar11 = (ulong *)std::rethrow_exception(&local_688);
LAB_0010b9f1:
    local_6c8 = puVar11;
    std::__exception_ptr::exception_ptr::_M_addref();
    std::rethrow_exception(&local_6c8);
LAB_0010ba11:
                    /* WARNING: Subroutine does not return */
    abort();
  }
  local_740 = 0;
  uVar7 = 0;
LAB_0010b5b0:
  uVar12 = local_760;
  if (local_760 - local_758 == local_740) goto LAB_0010b4d6;
  local_660 = &local_740;
  local_658 = local_248;
  local_688 = &local_758;
  local_680 = &local_760;
  local_678 = &local_748;
  local_670 = local_648;
  local_668 = local_448;
  local_650 = &local_750;
  if (uVar7 != 0) {
    ppuStack_6e0 = &local_688;
    local_730 = (ulong *)0x0;
    uStack_6f0 = 0;
    local_6e8 = 1;
    local_6f8 = uVar7;
    local_6d8 = &local_730;
    lVar8 = embree::TaskScheduler::thread();
    if (lVar8 == 0) {
      uVar10 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_15parallel_filterINS_9PrimRefMBEmZNS_4sse227HeuristicMBlurTemporalSplitIS5_NS6_18RecalculatePrimRefINS_12TriangleMeshEEELm2EE5splitERKNS6_8BinSplitILm32EEERKNS_5SetMBERSG_SJ_EUlRKS5_E2_EET0_PT_SN_SN_SN_RKT1_EUlmE0_EEvSO_RKSN_EUlRKNS_5rangeImEEE_EEvSO_SO_SO_SV_PNS0_16TaskGroupContextEEUlvE_EEvRKSO_S12_mb
                (uVar10,&local_6f8,&local_730,uVar7,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar8 + 0x40080)) goto LAB_0010ba11;
      lVar14 = *(long *)(lVar8 + 0xc00c0);
      uVar12 = lVar14 + 0x30 + (ulong)(-(int)lVar14 & 0x3f);
      if (0x80000 < uVar12) goto LAB_0010ba11;
      *(ulong *)(lVar8 + 0xc00c0) = uVar12;
      puVar2 = (undefined8 *)(lVar8 + 0x40090 + uVar12);
      *puVar2 = 0x12d500;
      puVar2[1] = local_6f8;
      puVar2[2] = uStack_6f0;
      puVar2[5] = local_6d8;
      puVar2[3] = local_6e8;
      puVar2[4] = ppuStack_6e0;
      lVar9 = *(long *)(lVar8 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar8 + 0x40 + lVar9);
      lVar3 = *(long *)(lVar8 + 0xc0100);
      *(undefined4 *)(lVar8 + 0x44 + lVar9) = 1;
      *(undefined1 *)(lVar8 + 0x48 + lVar9) = 1;
      lVar9 = lVar9 + lVar8;
      *(undefined8 **)(lVar9 + 0x50) = puVar2;
      *(long *)(lVar9 + 0x58) = lVar3;
      *(ulong ***)(lVar9 + 0x60) = &local_730;
      *(long *)(lVar9 + 0x68) = lVar14;
      *(ulong *)(lVar9 + 0x70) = uVar7;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar8 + 0x40080) = *(long *)(lVar8 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar8 + 0x40080) - 1U <= *(ulong *)(lVar8 + 0x40040)) {
        LOCK();
        *(long *)(lVar8 + 0x40040) = *(long *)(lVar8 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    puVar11 = local_730;
    if (local_730 != (ulong *)0x0) goto LAB_0010b9f1;
  }
  uVar12 = local_758 + local_740;
LAB_0010b4d6:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return uVar12;
}



/* WARNING: Removing unreachable block (ram,0x0010c2c5) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  char cVar12;
  long lVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar13 = embree::TaskScheduler::allocThreadIndex();
  pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar14 = lVar13;
  pTVar18 = pTVar14 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar15 = pTVar16 + 0x80;
    *(undefined4 *)(pTVar16 + 0x40) = 0;
    pTVar16 = pTVar15;
  } while (pTVar14 + 0x40040 != pTVar15);
  *(undefined8 *)(pTVar14 + 0x40040) = 0;
  *(undefined8 *)(pTVar14 + 0x40080) = 0;
  *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar14 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar14 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar13 * 8) = pTVar14;
  UNLOCK();
  local_48 = pTVar14;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
  if (*(ulong *)(pTVar14 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
      pTVar15 = pTVar14 + uVar3 + 0x40090;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar15 = &PTR_execute_0012d518;
      uVar5 = *(undefined8 *)(param_1 + 0x20);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar15 + 8) = uVar8;
      *(undefined8 *)(pTVar15 + 0x10) = uVar9;
      *(undefined8 *)(pTVar15 + 0x28) = uVar5;
      *(undefined8 *)(pTVar15 + 0x18) = uVar10;
      *(undefined8 *)(pTVar15 + 0x20) = uVar11;
      lVar17 = *(long *)(pTVar14 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar14 + 0xc0100);
      pTVar14[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar14 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar14 + lVar17 + 0x50) = pTVar15;
      *(long *)(pTVar14 + lVar17 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar14 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar14 + lVar17 + 0x68) = lVar4;
      *(ulong *)(pTVar14 + lVar17 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
        LOCK();
        *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar15 = local_48 + 8;
            *(long *)pTVar15 = *(long *)pTVar15 + -1;
            UNLOCK();
            if (*(long *)pTVar15 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar12 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar14);
      } while (cVar12 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar13 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar14 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar14 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar14);
            return;
          }
        }
      }
      else {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        std::rethrow_exception(&local_48);
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#1}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimRefMB_const&)#1},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)#2},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,emb...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,emb___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  TaskGroupContext *pTVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  long lVar8;
  ulong uVar9;
  TaskScheduler *pTVar10;
  ulong uVar11;
  long in_FS_OFFSET;
  long local_88;
  ulong uStack_80;
  undefined8 local_78;
  undefined8 uStack_70;
  TaskGroupContext *local_68;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  _lambda_unsigned_long__1_ *p_Stack_40;
  TaskGroupContext *local_38;
  long local_30;
  
  uVar9 = *(ulong *)(this + 0x10);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x18) < *(long *)(this + 8) - uVar9) {
    pTVar4 = *(TaskGroupContext **)(this + 0x28);
    uVar11 = *(long *)(this + 8) + uVar9 >> 1;
    local_58 = uVar11;
    uStack_50 = uVar9;
    local_48 = *(ulong *)(this + 0x18);
    p_Stack_40 = *(_lambda_unsigned_long__1_ **)(this + 0x20);
    local_38 = pTVar4;
    lVar7 = embree::TaskScheduler::thread();
    if (lVar7 == 0) {
      pTVar10 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar10,(_lambda___1_ *)&local_58,pTVar4,uVar11 - uVar9,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar7 + 0x40080)) goto LAB_0010c77e;
      lVar5 = *(long *)(lVar7 + 0xc00c0);
      uVar2 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
      if (0x80000 < uVar2) goto LAB_0010c77e;
      *(ulong *)(lVar7 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar7 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_0012d518;
      puVar3[1] = local_58;
      puVar3[2] = uStack_50;
      puVar3[5] = local_38;
      puVar3[3] = local_48;
      puVar3[4] = p_Stack_40;
      lVar8 = *(long *)(lVar7 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar7 + 0x40 + lVar8);
      lVar6 = *(long *)(lVar7 + 0xc0100);
      *(undefined4 *)(lVar7 + 0x44 + lVar8) = 1;
      *(undefined1 *)(lVar7 + 0x48 + lVar8) = 1;
      lVar8 = lVar8 + lVar7;
      *(undefined8 **)(lVar8 + 0x50) = puVar3;
      *(long *)(lVar8 + 0x58) = lVar6;
      *(TaskGroupContext **)(lVar8 + 0x60) = pTVar4;
      *(long *)(lVar8 + 0x68) = lVar5;
      *(ulong *)(lVar8 + 0x70) = uVar11 - uVar9;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar7 + 0x40080) = *(long *)(lVar7 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar7 + 0x40080) - 1U <= *(ulong *)(lVar7 + 0x40040)) {
        LOCK();
        *(long *)(lVar7 + 0x40040) = *(long *)(lVar7 + 0x40080) + -1;
        UNLOCK();
      }
    }
    local_78 = *(undefined8 *)(this + 0x18);
    local_88 = *(long *)(this + 8);
    pTVar4 = *(TaskGroupContext **)(this + 0x28);
    uStack_70 = *(undefined8 *)(this + 0x20);
    uVar9 = local_88 - uVar11;
    uStack_80 = uVar11;
    local_68 = pTVar4;
    lVar7 = embree::TaskScheduler::thread();
    if (lVar7 == 0) {
      pTVar10 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar10,(_lambda___1_ *)&local_88,pTVar4,uVar9,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar7 + 0x40080)) {
LAB_0010c77e:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar5 = *(long *)(lVar7 + 0xc00c0);
      uVar11 = lVar5 + 0x30 + (ulong)(-(int)lVar5 & 0x3f);
      if (0x80000 < uVar11) goto LAB_0010c77e;
      *(ulong *)(lVar7 + 0xc00c0) = uVar11;
      puVar3 = (undefined8 *)(lVar7 + 0x40090 + uVar11);
      *puVar3 = &PTR_execute_0012d518;
      puVar3[1] = local_88;
      puVar3[2] = uStack_80;
      puVar3[5] = local_68;
      puVar3[3] = local_78;
      puVar3[4] = uStack_70;
      lVar8 = *(long *)(lVar7 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar7 + 0x40 + lVar8);
      lVar6 = *(long *)(lVar7 + 0xc0100);
      *(undefined4 *)(lVar7 + 0x44 + lVar8) = 1;
      *(undefined1 *)(lVar7 + 0x48 + lVar8) = 1;
      lVar8 = lVar8 + lVar7;
      *(undefined8 **)(lVar8 + 0x50) = puVar3;
      *(long *)(lVar8 + 0x58) = lVar6;
      *(TaskGroupContext **)(lVar8 + 0x60) = pTVar4;
      *(long *)(lVar8 + 0x68) = lVar5;
      *(ulong *)(lVar8 + 0x70) = uVar9;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar7 + 0x40080) = *(long *)(lVar7 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar7 + 0x40080) - 1U <= *(ulong *)(lVar7 + 0x40040)) {
        LOCK();
        *(long *)(lVar7 + 0x40040) = *(long *)(lVar7 + 0x40080) + -1;
        UNLOCK();
      }
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
    parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimRefMB_const&)#1},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)#2},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#3}>
    ::
    partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&)
    ::{lambda(unsigned_long)#1}::operator()(*(_lambda_unsigned_long__1_ **)(this + 0x20),uVar9);
    return;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Removing unreachable block (ram,0x0010cb65) */
/* void embree::TaskScheduler::spawn_root<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>(embree::TaskScheduler::spawn<unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1} const&,
   embree::TaskScheduler::TaskGroupContext*, unsigned long, bool) */

void __thiscall
embree::TaskScheduler::
spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          (TaskScheduler *this,_lambda___1_ *param_1,TaskGroupContext *param_2,ulong param_3,
          bool param_4)

{
  TaskScheduler *pTVar1;
  long *plVar2;
  ulong uVar3;
  long lVar4;
  undefined8 uVar5;
  long lVar6;
  long *plVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  char cVar12;
  long lVar13;
  Thread *pTVar14;
  Thread *pTVar15;
  Thread *pTVar16;
  long lVar17;
  Thread *pTVar18;
  long in_FS_OFFSET;
  Thread *local_48;
  long local_40;
  
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_4) {
    embree::TaskScheduler::startThreads();
  }
  lVar13 = embree::TaskScheduler::allocThreadIndex();
  pTVar14 = (Thread *)embree::alignedMalloc(0xc0140,0x40);
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
  }
  *(long *)pTVar14 = lVar13;
  pTVar18 = pTVar14 + 0x40;
  pTVar16 = pTVar18;
  do {
    *(undefined4 *)pTVar16 = 0;
    pTVar15 = pTVar16 + 0x80;
    *(undefined4 *)(pTVar16 + 0x40) = 0;
    pTVar16 = pTVar15;
  } while (pTVar14 + 0x40040 != pTVar15);
  *(undefined8 *)(pTVar14 + 0x40040) = 0;
  *(undefined8 *)(pTVar14 + 0x40080) = 0;
  *(undefined8 *)(pTVar14 + 0xc00c0) = 0;
  *(undefined8 *)(pTVar14 + 0xc0100) = 0;
  *(TaskScheduler **)(pTVar14 + 0xc0108) = this;
  if (this != (TaskScheduler *)0x0) {
    if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
      LOCK();
      *(long *)(this + 8) = *(long *)(this + 8) + 1;
      UNLOCK();
    }
    else {
      (**(code **)(*(long *)this + 0x10))(this);
    }
    if (*(code **)(*(long *)this + 0x18) == RefCount::refDec) {
      LOCK();
      pTVar1 = this + 8;
      *(long *)pTVar1 = *(long *)pTVar1 + -1;
      UNLOCK();
      if (*(long *)pTVar1 == 0) {
        (**(code **)(*(long *)this + 8))(this);
      }
    }
    else {
      (**(code **)(*(long *)this + 0x18))(this);
    }
  }
  LOCK();
  *(Thread **)(*(long *)(this + 0x10) + lVar13 * 8) = pTVar14;
  UNLOCK();
  local_48 = pTVar14;
  pTVar16 = (Thread *)embree::TaskScheduler::swapThread(pTVar14);
  if (*(ulong *)(pTVar14 + 0x40080) < 0x1000) {
    lVar4 = *(long *)(pTVar14 + 0xc00c0);
    uVar3 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
    if (uVar3 < 0x80001) {
      *(ulong *)(pTVar14 + 0xc00c0) = uVar3;
      pTVar15 = pTVar14 + uVar3 + 0x40090;
      uVar8 = *(undefined8 *)param_1;
      uVar9 = *(undefined8 *)(param_1 + 8);
      *(undefined ***)pTVar15 = &PTR_execute_0012d530;
      uVar5 = *(undefined8 *)(param_1 + 0x20);
      uVar10 = *(undefined8 *)(param_1 + 0x10);
      uVar11 = *(undefined8 *)(param_1 + 0x18);
      *(undefined8 *)(pTVar15 + 8) = uVar8;
      *(undefined8 *)(pTVar15 + 0x10) = uVar9;
      *(undefined8 *)(pTVar15 + 0x28) = uVar5;
      *(undefined8 *)(pTVar15 + 0x18) = uVar10;
      *(undefined8 *)(pTVar15 + 0x20) = uVar11;
      lVar17 = *(long *)(pTVar14 + 0x40080) * 0x40;
      lVar6 = *(long *)(pTVar14 + 0xc0100);
      pTVar14[lVar17 + 0x48] = (Thread)0x1;
      *(undefined4 *)(pTVar14 + lVar17 + 0x44) = 1;
      *(Thread **)(pTVar14 + lVar17 + 0x50) = pTVar15;
      *(long *)(pTVar14 + lVar17 + 0x58) = lVar6;
      *(TaskGroupContext **)(pTVar14 + lVar17 + 0x60) = param_2;
      *(long *)(pTVar14 + lVar17 + 0x68) = lVar4;
      *(ulong *)(pTVar14 + lVar17 + 0x70) = param_3;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*(int *)(pTVar18 + lVar17) == 0) {
        *(undefined4 *)(pTVar18 + lVar17) = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(pTVar14 + 0x40080) = *(long *)(pTVar14 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(pTVar14 + 0x40080) - 1U <= *(ulong *)(pTVar14 + 0x40040)) {
        LOCK();
        *(long *)(pTVar14 + 0x40040) = *(long *)(pTVar14 + 0x40080) + -1;
        UNLOCK();
      }
      embree::MutexSys::lock();
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + 1;
      UNLOCK();
      LOCK();
      this[0x38] = (TaskScheduler)0x1;
      UNLOCK();
      embree::ConditionSys::notify_all();
      embree::MutexSys::unlock();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::addScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar15 = local_48 + 8;
            *(long *)pTVar15 = *(long *)pTVar15 + -1;
            UNLOCK();
            if (*(long *)pTVar15 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      do {
        cVar12 = embree::TaskScheduler::TaskQueue::execute_local(pTVar18,(Task *)pTVar14);
      } while (cVar12 != '\0');
      LOCK();
      *(long *)(this + 0x30) = *(long *)(this + 0x30) + -1;
      UNLOCK();
      if (param_4) {
        local_48 = (Thread *)this;
        if (this != (TaskScheduler *)0x0) {
          if (*(code **)(*(long *)this + 0x10) == RefCount::refInc) {
            LOCK();
            *(long *)(this + 8) = *(long *)(this + 8) + 1;
            UNLOCK();
          }
          else {
            (**(code **)(*(long *)this + 0x10))(this);
          }
        }
        embree::TaskScheduler::removeScheduler((Ref *)&local_48);
        if (local_48 != (Thread *)0x0) {
          if (*(code **)(*(long *)local_48 + 0x18) == RefCount::refDec) {
            LOCK();
            pTVar1 = (TaskScheduler *)(local_48 + 8);
            *(long *)pTVar1 = *(long *)pTVar1 + -1;
            UNLOCK();
            if (*(long *)pTVar1 == 0) {
              (**(code **)(*(long *)local_48 + 8))();
            }
          }
          else {
            (**(code **)(*(long *)local_48 + 0x18))();
          }
        }
      }
      local_48 = (Thread *)0x0;
      LOCK();
      *(undefined8 *)(lVar13 * 8 + *(long *)(this + 0x10)) = 0;
      UNLOCK();
      embree::TaskScheduler::swapThread(pTVar16);
      pTVar18 = *(Thread **)param_2;
      if (pTVar18 != (Thread *)0x0) {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        pTVar18 = local_48;
      }
      LOCK();
      *(long *)(this + 0x28) = *(long *)(this + 0x28) + -1;
      UNLOCK();
      while (*(long *)(this + 0x28) != 0) {
        embree::yield();
      }
      local_48 = *(Thread **)param_2;
      *(undefined8 *)param_2 = 0;
      if (local_48 != (Thread *)0x0) {
        std::__exception_ptr::exception_ptr::_M_release();
      }
      if (pTVar18 == (Thread *)0x0) {
        if (pTVar14 == (Thread *)0x0) {
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            return;
          }
        }
        else {
          plVar7 = *(long **)(pTVar14 + 0xc0108);
          if (plVar7 != (long *)0x0) {
            if (*(code **)(*plVar7 + 0x18) == RefCount::refDec) {
              LOCK();
              plVar2 = plVar7 + 1;
              *plVar2 = *plVar2 + -1;
              UNLOCK();
              if (*plVar2 == 0) {
                (**(code **)(*plVar7 + 8))();
              }
            }
            else {
              (**(code **)(*plVar7 + 0x18))();
            }
          }
          if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
            embree::alignedFree(pTVar14);
            return;
          }
        }
      }
      else {
        local_48 = pTVar18;
        std::__exception_ptr::exception_ptr::_M_addref();
        std::rethrow_exception(&local_48);
      }
                    /* WARNING: Subroutine does not return */
      __stack_chk_fail();
    }
  }
                    /* WARNING: Subroutine does not return */
  abort();
}



/* unsigned long embree::parallel_partitioning<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#3}>(embree::PrimRefMB*, unsigned
   long, unsigned long, embree::EmptyTy const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>
   >&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1} const&,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2} const&, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)#3} const&, unsigned long, unsigned
   long) */

ulong embree::
      parallel_partitioning<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>
                (PrimRefMB *param_1,ulong param_2,ulong param_3,EmptyTy *param_4,
                PrimInfoMBT_conflict *param_5,PrimInfoMBT_conflict *param_6,
                _lambda_embree__PrimRefMB_const___1_ *param_7,
                _lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimRefMB_const___2_
                *param_8,_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>_const___3_
                         *param_9,ulong param_10,ulong param_11)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  float fVar4;
  undefined1 auVar5 [16];
  long lVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 uVar15;
  bool bVar16;
  float fVar17;
  PrimInfoMBT_conflict **ppPVar18;
  PrimInfoMBT_conflict *pPVar19;
  long lVar20;
  long lVar21;
  undefined1 (*pauVar22) [16];
  PrimInfoMBT_conflict **ppPVar23;
  PrimInfoMBT_conflict *pPVar24;
  long lVar25;
  TaskScheduler *pTVar26;
  uint uVar27;
  int iVar28;
  PrimInfoMBT_conflict **ppPVar30;
  long in_R10;
  long lVar31;
  long in_R11;
  PrimInfoMBT_conflict *pPVar32;
  TaskGroupContext *pTVar33;
  PrimInfoMBT_conflict *pPVar34;
  long in_FS_OFFSET;
  undefined1 auVar35 [16];
  undefined1 auVar36 [16];
  undefined1 auVar37 [16];
  undefined1 auVar38 [16];
  undefined1 auVar39 [16];
  undefined1 auVar40 [16];
  int iVar42;
  int iVar43;
  int iVar44;
  undefined1 auVar41 [16];
  uint uVar45;
  uint uVar46;
  uint uVar47;
  uint uVar48;
  float fVar49;
  float fVar50;
  float fVar51;
  float fVar52;
  float fVar53;
  float fVar54;
  float fVar55;
  float fVar56;
  long local_118;
  long local_110;
  TaskGroupContext *local_108;
  PrimInfoMBT_conflict *local_100;
  PrimInfoMBT_conflict *local_f8;
  PrimInfoMBT_conflict **local_f0;
  TaskGroupContext **local_e8;
  PrimInfoMBT_conflict **local_e0;
  long *local_d8;
  long *local_d0;
  PrimInfoMBT_conflict *local_c8;
  PrimInfoMBT_conflict *pPStack_c0;
  undefined8 local_b8;
  PrimInfoMBT_conflict ***pppPStack_b0;
  TaskGroupContext *local_a8;
  PrimInfoMBT_conflict *local_98;
  PrimInfoMBT_conflict *pPStack_90;
  undefined8 local_88;
  TaskGroupContext ***pppTStack_80;
  TaskGroupContext *local_78;
  undefined8 local_58;
  long local_40;
  uint *puVar29;
  
  fVar17 = _LC17;
  fVar4 = _LC12;
  pPVar32 = (PrimInfoMBT_conflict *)(param_3 - param_2);
  pPVar34 = (PrimInfoMBT_conflict *)(param_1 + param_2 * 0x50);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (pPVar32 < param_11) {
    pPVar32 = (PrimInfoMBT_conflict *)(param_1 + param_3 * 0x50 + -0x50);
    for (; pPVar34 <= pPVar32; pPVar34 = pPVar34 + 0x50) {
      auVar35 = *(undefined1 (*) [16])(pPVar34 + 0x30);
      auVar37 = *(undefined1 (*) [16])(pPVar34 + 0x10);
      auVar5 = *(undefined1 (*) [16])(pPVar34 + 0x20);
      auVar36 = *(undefined1 (*) [16])pPVar34;
      lVar20 = *(long *)param_7;
      fVar53 = *(float *)(lVar20 + 0x20);
      fVar54 = *(float *)(lVar20 + 0x24);
      fVar55 = *(float *)(lVar20 + 0x28);
      fVar56 = *(float *)(lVar20 + 0x2c);
      fVar49 = *(float *)(lVar20 + 0x30);
      fVar50 = *(float *)(lVar20 + 0x34);
      fVar51 = *(float *)(lVar20 + 0x38);
      fVar52 = *(float *)(lVar20 + 0x3c);
      piVar1 = *(int **)(param_7 + 8);
      iVar28 = *piVar1;
      iVar42 = piVar1[1];
      iVar43 = piVar1[2];
      iVar44 = piVar1[3];
      puVar29 = *(uint **)(param_7 + 0x10);
      uVar45 = *puVar29;
      uVar46 = puVar29[1];
      uVar47 = puVar29[2];
      uVar48 = puVar29[3];
      auVar39._0_4_ =
           auVar35._0_4_ * fVar4 + auVar37._0_4_ * fVar4 +
           auVar5._0_4_ * fVar4 + auVar36._0_4_ * fVar4;
      auVar39._4_4_ =
           auVar35._4_4_ * fVar4 + auVar37._4_4_ * fVar4 +
           auVar5._4_4_ * fVar4 + auVar36._4_4_ * fVar4;
      auVar39._8_4_ =
           auVar35._8_4_ * fVar4 + auVar37._8_4_ * fVar4 +
           auVar5._8_4_ * fVar4 + auVar36._8_4_ * fVar4;
      auVar39._12_4_ =
           auVar35._12_4_ * fVar4 + auVar37._12_4_ * fVar4 +
           auVar5._12_4_ * fVar4 + auVar36._12_4_ * fVar4;
      auVar40._0_4_ = -(uint)((int)((auVar39._0_4_ - fVar53) * fVar49 + fVar17) < iVar28) & uVar45;
      auVar40._4_4_ = -(uint)((int)((auVar39._4_4_ - fVar54) * fVar50 + fVar17) < iVar42) & uVar46;
      auVar40._8_4_ = -(uint)((int)((auVar39._8_4_ - fVar55) * fVar51 + fVar17) < iVar43) & uVar47;
      auVar40._12_4_ = -(uint)((int)((auVar39._12_4_ - fVar56) * fVar52 + fVar17) < iVar44) & uVar48
      ;
      uVar27 = movmskps((int)puVar29,auVar40);
      puVar29 = (uint *)(ulong)uVar27;
      pPVar19 = pPVar32;
      if (uVar27 == 0) {
        while( true ) {
          auVar35 = *(undefined1 (*) [16])(pPVar19 + 0x30);
          auVar37 = *(undefined1 (*) [16])(pPVar19 + 0x10);
          auVar5 = *(undefined1 (*) [16])(pPVar19 + 0x20);
          auVar36 = *(undefined1 (*) [16])pPVar19;
          auVar38._0_4_ =
               auVar35._0_4_ * fVar4 + auVar37._0_4_ * fVar4 +
               auVar5._0_4_ * fVar4 + auVar36._0_4_ * fVar4;
          auVar38._4_4_ =
               auVar35._4_4_ * fVar4 + auVar37._4_4_ * fVar4 +
               auVar5._4_4_ * fVar4 + auVar36._4_4_ * fVar4;
          auVar38._8_4_ =
               auVar35._8_4_ * fVar4 + auVar37._8_4_ * fVar4 +
               auVar5._8_4_ * fVar4 + auVar36._8_4_ * fVar4;
          auVar38._12_4_ =
               auVar35._12_4_ * fVar4 + auVar37._12_4_ * fVar4 +
               auVar5._12_4_ * fVar4 + auVar36._12_4_ * fVar4;
          auVar41._0_4_ =
               -(uint)((int)((auVar38._0_4_ - fVar53) * fVar49 + fVar17) < iVar28) & uVar45;
          auVar41._4_4_ =
               -(uint)((int)((auVar38._4_4_ - fVar54) * fVar50 + fVar17) < iVar42) & uVar46;
          auVar41._8_4_ =
               -(uint)((int)((auVar38._8_4_ - fVar55) * fVar51 + fVar17) < iVar43) & uVar47;
          auVar41._12_4_ =
               -(uint)((int)((auVar38._12_4_ - fVar56) * fVar52 + fVar17) < iVar44) & uVar48;
          iVar28 = movmskps((int)puVar29,auVar41);
          if (iVar28 != 0) break;
          auVar36 = minps(*(undefined1 (*) [16])param_6,auVar36);
          *(undefined1 (*) [16])param_6 = auVar36;
          auVar37 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar37);
          *(undefined1 (*) [16])(param_6 + 0x10) = auVar37;
          auVar37 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar5);
          *(undefined1 (*) [16])(param_6 + 0x20) = auVar37;
          auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar35);
          *(undefined1 (*) [16])(param_6 + 0x30) = auVar35;
          auVar35 = minps(*(undefined1 (*) [16])(param_6 + 0x40),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x40) = auVar35;
          auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x50),auVar38);
          *(undefined1 (*) [16])(param_6 + 0x50) = auVar35;
          fVar53 = *(float *)(param_6 + 0x88);
          if (*(float *)(pPVar19 + 0x40) <= *(float *)(param_6 + 0x88)) {
            fVar53 = *(float *)(pPVar19 + 0x40);
          }
          *(float *)(param_6 + 0x88) = fVar53;
          fVar53 = *(float *)(pPVar19 + 0x44);
          if (*(float *)(pPVar19 + 0x44) <= *(float *)(param_6 + 0x8c)) {
            fVar53 = *(float *)(param_6 + 0x8c);
          }
          *(long *)(param_6 + 0x68) = *(long *)(param_6 + 0x68) + 1;
          *(float *)(param_6 + 0x8c) = fVar53;
          *(ulong *)(param_6 + 0x70) = *(long *)(param_6 + 0x70) + (ulong)*(uint *)(pPVar19 + 0x2c);
          if (*(ulong *)(param_6 + 0x78) < (ulong)*(uint *)(pPVar19 + 0x3c)) {
            *(ulong *)(param_6 + 0x78) = (ulong)*(uint *)(pPVar19 + 0x3c);
            *(undefined4 *)(param_6 + 0x80) = *(undefined4 *)(pPVar19 + 0x40);
            *(undefined4 *)(param_6 + 0x84) = *(undefined4 *)(pPVar19 + 0x44);
          }
          pPVar19 = pPVar19 + -0x50;
          if (pPVar19 < pPVar34) goto LAB_0010d5e9;
          lVar20 = *(long *)param_7;
          fVar53 = *(float *)(lVar20 + 0x20);
          fVar54 = *(float *)(lVar20 + 0x24);
          fVar55 = *(float *)(lVar20 + 0x28);
          fVar56 = *(float *)(lVar20 + 0x2c);
          fVar49 = *(float *)(lVar20 + 0x30);
          fVar50 = *(float *)(lVar20 + 0x34);
          fVar51 = *(float *)(lVar20 + 0x38);
          fVar52 = *(float *)(lVar20 + 0x3c);
          piVar1 = *(int **)(param_7 + 8);
          iVar28 = *piVar1;
          iVar42 = piVar1[1];
          iVar43 = piVar1[2];
          iVar44 = piVar1[3];
          puVar29 = *(uint **)(param_7 + 0x10);
          uVar45 = *puVar29;
          uVar46 = puVar29[1];
          uVar47 = puVar29[2];
          uVar48 = puVar29[3];
        }
        auVar36 = minps(*(undefined1 (*) [16])param_5,auVar36);
        *(undefined1 (*) [16])param_5 = auVar36;
        auVar37 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar37);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar37;
        auVar37 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar5);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar37;
        auVar35 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar35);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_5 + 0x40),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x40) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_5 + 0x50),auVar38);
        *(undefined1 (*) [16])(param_5 + 0x50) = auVar35;
        fVar53 = *(float *)(param_5 + 0x88);
        if (*(float *)(pPVar19 + 0x40) <= *(float *)(param_5 + 0x88)) {
          fVar53 = *(float *)(pPVar19 + 0x40);
        }
        *(float *)(param_5 + 0x88) = fVar53;
        fVar53 = *(float *)(pPVar19 + 0x44);
        if (*(float *)(pPVar19 + 0x44) <= *(float *)(param_5 + 0x8c)) {
          fVar53 = *(float *)(param_5 + 0x8c);
        }
        *(long *)(param_5 + 0x68) = *(long *)(param_5 + 0x68) + 1;
        *(float *)(param_5 + 0x8c) = fVar53;
        *(ulong *)(param_5 + 0x70) = *(long *)(param_5 + 0x70) + (ulong)*(uint *)(pPVar19 + 0x2c);
        if (*(ulong *)(param_5 + 0x78) < (ulong)*(uint *)(pPVar19 + 0x3c)) {
          *(ulong *)(param_5 + 0x78) = (ulong)*(uint *)(pPVar19 + 0x3c);
          *(undefined4 *)(param_5 + 0x80) = *(undefined4 *)(pPVar19 + 0x40);
          *(undefined4 *)(param_5 + 0x84) = *(undefined4 *)(pPVar19 + 0x44);
        }
        auVar35 = *(undefined1 (*) [16])(pPVar34 + 0x10);
        auVar37 = *(undefined1 (*) [16])(pPVar34 + 0x30);
        auVar5 = *(undefined1 (*) [16])(pPVar34 + 0x20);
        auVar36._0_4_ =
             auVar37._0_4_ * fVar4 + auVar35._0_4_ * fVar4 +
             auVar5._0_4_ * fVar4 + *(float *)pPVar34 * fVar4;
        auVar36._4_4_ =
             auVar37._4_4_ * fVar4 + auVar35._4_4_ * fVar4 +
             auVar5._4_4_ * fVar4 + *(float *)(pPVar34 + 4) * fVar4;
        auVar36._8_4_ =
             auVar37._8_4_ * fVar4 + auVar35._8_4_ * fVar4 +
             auVar5._8_4_ * fVar4 + *(float *)(pPVar34 + 8) * fVar4;
        auVar36._12_4_ =
             auVar37._12_4_ * fVar4 + auVar35._12_4_ * fVar4 +
             auVar5._12_4_ * fVar4 + *(float *)(pPVar34 + 0xc) * fVar4;
        auVar40 = minps(*(undefined1 (*) [16])param_6,*(undefined1 (*) [16])pPVar34);
        *(undefined1 (*) [16])param_6 = auVar40;
        auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),auVar35);
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_6 + 0x20),auVar5);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),auVar37);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_6 + 0x40),auVar36);
        *(undefined1 (*) [16])(param_6 + 0x40) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x50),auVar36);
        *(undefined1 (*) [16])(param_6 + 0x50) = auVar35;
        fVar53 = *(float *)(param_6 + 0x88);
        if (*(float *)(pPVar34 + 0x40) <= *(float *)(param_6 + 0x88)) {
          fVar53 = *(float *)(pPVar34 + 0x40);
        }
        *(float *)(param_6 + 0x88) = fVar53;
        fVar53 = *(float *)(pPVar34 + 0x44);
        if (*(float *)(pPVar34 + 0x44) <= *(float *)(param_6 + 0x8c)) {
          fVar53 = *(float *)(param_6 + 0x8c);
        }
        *(long *)(param_6 + 0x68) = *(long *)(param_6 + 0x68) + 1;
        *(float *)(param_6 + 0x8c) = fVar53;
        *(ulong *)(param_6 + 0x70) = *(long *)(param_6 + 0x70) + (ulong)*(uint *)(pPVar34 + 0x2c);
        if (*(ulong *)(param_6 + 0x78) < (ulong)*(uint *)(pPVar34 + 0x3c)) {
          *(ulong *)(param_6 + 0x78) = (ulong)*(uint *)(pPVar34 + 0x3c);
          *(undefined4 *)(param_6 + 0x80) = *(undefined4 *)(pPVar34 + 0x40);
          *(undefined4 *)(param_6 + 0x84) = *(undefined4 *)(pPVar34 + 0x44);
        }
        uVar7 = *(undefined8 *)(pPVar19 + 8);
        uVar8 = *(undefined8 *)pPVar34;
        uVar9 = *(undefined8 *)(pPVar34 + 8);
        pPVar32 = pPVar19 + -0x50;
        uVar10 = *(undefined8 *)(pPVar34 + 0x10);
        uVar11 = *(undefined8 *)(pPVar34 + 0x18);
        uVar12 = *(undefined8 *)(pPVar34 + 0x20);
        uVar13 = *(undefined8 *)(pPVar34 + 0x28);
        *(undefined8 *)pPVar34 = *(undefined8 *)pPVar19;
        *(undefined8 *)(pPVar34 + 8) = uVar7;
        uVar7 = *(undefined8 *)(pPVar19 + 0x18);
        uVar14 = *(undefined8 *)(pPVar34 + 0x30);
        uVar15 = *(undefined8 *)(pPVar34 + 0x38);
        local_58 = *(undefined8 *)(pPVar34 + 0x40);
        *(undefined8 *)(pPVar34 + 0x10) = *(undefined8 *)(pPVar19 + 0x10);
        *(undefined8 *)(pPVar34 + 0x18) = uVar7;
        uVar7 = *(undefined8 *)(pPVar19 + 0x28);
        *(undefined8 *)(pPVar34 + 0x20) = *(undefined8 *)(pPVar19 + 0x20);
        *(undefined8 *)(pPVar34 + 0x28) = uVar7;
        uVar7 = *(undefined8 *)(pPVar19 + 0x38);
        *(undefined8 *)(pPVar34 + 0x30) = *(undefined8 *)(pPVar19 + 0x30);
        *(undefined8 *)(pPVar34 + 0x38) = uVar7;
        *(undefined4 *)(pPVar34 + 0x40) = *(undefined4 *)(pPVar19 + 0x40);
        *(undefined4 *)(pPVar34 + 0x44) = *(undefined4 *)(pPVar19 + 0x44);
        *(undefined8 *)pPVar19 = uVar8;
        *(undefined8 *)(pPVar19 + 8) = uVar9;
        *(undefined8 *)(pPVar19 + 0x10) = uVar10;
        *(undefined8 *)(pPVar19 + 0x18) = uVar11;
        *(undefined8 *)(pPVar19 + 0x20) = uVar12;
        *(undefined8 *)(pPVar19 + 0x28) = uVar13;
        *(undefined8 *)(pPVar19 + 0x30) = uVar14;
        *(undefined8 *)(pPVar19 + 0x38) = uVar15;
        *(undefined8 *)(pPVar19 + 0x40) = local_58;
      }
      else {
        auVar36 = minps(*(undefined1 (*) [16])param_5,auVar36);
        *(undefined1 (*) [16])param_5 = auVar36;
        auVar37 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),auVar37);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar37;
        auVar37 = minps(*(undefined1 (*) [16])(param_5 + 0x20),auVar5);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar37;
        auVar35 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),auVar35);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_5 + 0x40),auVar39);
        *(undefined1 (*) [16])(param_5 + 0x40) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_5 + 0x50),auVar39);
        *(undefined1 (*) [16])(param_5 + 0x50) = auVar35;
        fVar53 = *(float *)(param_5 + 0x88);
        if (*(float *)(pPVar34 + 0x40) <= *(float *)(param_5 + 0x88)) {
          fVar53 = *(float *)(pPVar34 + 0x40);
        }
        *(float *)(param_5 + 0x88) = fVar53;
        fVar53 = *(float *)(pPVar34 + 0x44);
        if (*(float *)(pPVar34 + 0x44) <= *(float *)(param_5 + 0x8c)) {
          fVar53 = *(float *)(param_5 + 0x8c);
        }
        *(long *)(param_5 + 0x68) = *(long *)(param_5 + 0x68) + 1;
        *(float *)(param_5 + 0x8c) = fVar53;
        *(ulong *)(param_5 + 0x70) = *(long *)(param_5 + 0x70) + (ulong)*(uint *)(pPVar34 + 0x2c);
        if (*(ulong *)(param_5 + 0x78) < (ulong)*(uint *)(pPVar34 + 0x3c)) {
          *(ulong *)(param_5 + 0x78) = (ulong)*(uint *)(pPVar34 + 0x3c);
          *(undefined4 *)(param_5 + 0x80) = *(undefined4 *)(pPVar34 + 0x40);
          *(undefined4 *)(param_5 + 0x84) = *(undefined4 *)(pPVar34 + 0x44);
        }
      }
    }
LAB_0010d5e9:
    pPVar32 = (PrimInfoMBT_conflict *)(((long)pPVar34 - (long)param_1 >> 4) * -0x3333333333333333);
    goto LAB_0010cdf5;
  }
  ppPVar18 = (PrimInfoMBT_conflict **)embree::alignedMalloc(0x54c0,0x40);
  ppPVar18[2] = (PrimInfoMBT_conflict *)param_7;
  ppPVar18[5] = (PrimInfoMBT_conflict *)param_4;
  *ppPVar18 = pPVar34;
  ppPVar18[1] = pPVar32;
  ppPVar18[3] = (PrimInfoMBT_conflict *)param_8;
  ppPVar18[4] = (PrimInfoMBT_conflict *)param_9;
  pPVar19 = (PrimInfoMBT_conflict *)embree::TaskScheduler::threadCount();
  pPVar32 = (PrimInfoMBT_conflict *)((ulong)(pPVar32 + (param_10 - 1)) / param_10);
  if ((PrimInfoMBT_conflict *)0x40 < pPVar32) {
    pPVar32 = (PrimInfoMBT_conflict *)0x40;
  }
  if (pPVar32 <= pPVar19) {
    pPVar19 = pPVar32;
  }
  ppPVar18[6] = pPVar19;
  local_f0 = ppPVar18;
  if (pPVar19 == (PrimInfoMBT_conflict *)0x0) {
    ppPVar18[0x50] = (PrimInfoMBT_conflict *)0x0;
    ppPVar18[8] = ppPVar18[1];
  }
  else {
    pppPStack_b0 = &local_f0;
    pTVar33 = (TaskGroupContext *)&local_f8;
    local_f8 = (PrimInfoMBT_conflict *)0x0;
    pPStack_c0 = (PrimInfoMBT_conflict *)0x0;
    local_b8 = 1;
    local_c8 = pPVar19;
    local_a8 = pTVar33;
    lVar20 = embree::TaskScheduler::thread();
    if (lVar20 == 0) {
      pTVar26 = (TaskScheduler *)embree::TaskScheduler::instance();
      TaskScheduler::
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar26,(_lambda___1_ *)&local_c8,pTVar33,(ulong)pPVar19,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar20 + 0x40080)) {
LAB_0010d9cf:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar31 = *(long *)(lVar20 + 0xc00c0);
      uVar2 = lVar31 + 0x30 + (ulong)(-(int)lVar31 & 0x3f);
      if (0x80000 < uVar2) goto LAB_0010d9cf;
      *(ulong *)(lVar20 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar20 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_0012d518;
      puVar3[1] = local_c8;
      puVar3[2] = pPStack_c0;
      puVar3[5] = local_a8;
      puVar3[3] = local_b8;
      puVar3[4] = pppPStack_b0;
      lVar21 = *(long *)(lVar20 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar20 + 0x40 + lVar21);
      lVar6 = *(long *)(lVar20 + 0xc0100);
      *(undefined4 *)(lVar20 + 0x44 + lVar21) = 1;
      *(undefined1 *)(lVar20 + 0x48 + lVar21) = 1;
      lVar21 = lVar21 + lVar20;
      *(undefined8 **)(lVar21 + 0x50) = puVar3;
      *(long *)(lVar21 + 0x58) = lVar6;
      *(TaskGroupContext **)(lVar21 + 0x60) = pTVar33;
      *(long *)(lVar21 + 0x68) = lVar31;
      *(PrimInfoMBT_conflict **)(lVar21 + 0x70) = pPVar19;
      if (lVar6 != 0) {
        LOCK();
        *(int *)(lVar6 + 4) = *(int *)(lVar6 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar20 + 0x40080) = *(long *)(lVar20 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar20 + 0x40080) - 1U <= *(ulong *)(lVar20 + 0x40040)) {
        LOCK();
        *(long *)(lVar20 + 0x40040) = *(long *)(lVar20 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    pPVar24 = local_f8;
    if (local_f8 != (PrimInfoMBT_conflict *)0x0) goto LAB_0010d43a;
    pPVar34 = ppPVar18[6];
    pPVar32 = ppPVar18[1];
    ppPVar18[(long)(pPVar34 + 0x50)] = (PrimInfoMBT_conflict *)0x0;
    ppPVar18[(long)(pPVar34 + 8)] = pPVar32;
    if (pPVar34 != (PrimInfoMBT_conflict *)0x0) {
      pauVar22 = (undefined1 (*) [16])(ppPVar18 + 0x198);
      pPVar34 = (PrimInfoMBT_conflict *)0x0;
      do {
        auVar35 = minps(*(undefined1 (*) [16])param_5,*pauVar22);
        *(undefined1 (*) [16])param_5 = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_5 + 0x10),pauVar22[1]);
        *(undefined1 (*) [16])(param_5 + 0x10) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_5 + 0x20),pauVar22[2]);
        *(undefined1 (*) [16])(param_5 + 0x20) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_5 + 0x30),pauVar22[3]);
        *(undefined1 (*) [16])(param_5 + 0x30) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_5 + 0x40),pauVar22[4]);
        *(undefined1 (*) [16])(param_5 + 0x40) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_5 + 0x50),pauVar22[5]);
        *(undefined1 (*) [16])(param_5 + 0x50) = auVar35;
        fVar4 = *(float *)(param_5 + 0x88);
        if (*(float *)(pauVar22[8] + 8) <= *(float *)(param_5 + 0x88)) {
          fVar4 = *(float *)(pauVar22[8] + 8);
        }
        *(float *)(param_5 + 0x88) = fVar4;
        fVar4 = *(float *)(pauVar22[8] + 0xc);
        if (*(float *)(pauVar22[8] + 0xc) <= *(float *)(param_5 + 0x8c)) {
          fVar4 = *(float *)(param_5 + 0x8c);
        }
        *(float *)(param_5 + 0x8c) = fVar4;
        *(long *)(param_5 + 0x60) = *(long *)(param_5 + 0x60) + *(long *)pauVar22[6];
        *(long *)(param_5 + 0x68) = *(long *)(param_5 + 0x68) + *(long *)(pauVar22[6] + 8);
        *(long *)(param_5 + 0x70) = *(long *)(param_5 + 0x70) + *(long *)pauVar22[7];
        if (*(ulong *)(param_5 + 0x78) < *(ulong *)(pauVar22[7] + 8)) {
          *(ulong *)(param_5 + 0x78) = *(ulong *)(pauVar22[7] + 8);
          *(undefined4 *)(param_5 + 0x80) = *(undefined4 *)pauVar22[8];
          *(undefined4 *)(param_5 + 0x84) = *(undefined4 *)(pauVar22[8] + 4);
        }
        auVar35 = minps(*(undefined1 (*) [16])param_6,pauVar22[0x240]);
        *(undefined1 (*) [16])param_6 = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x10),pauVar22[0x241]);
        *(undefined1 (*) [16])(param_6 + 0x10) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_6 + 0x20),pauVar22[0x242]);
        *(undefined1 (*) [16])(param_6 + 0x20) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x30),pauVar22[0x243]);
        *(undefined1 (*) [16])(param_6 + 0x30) = auVar35;
        auVar35 = minps(*(undefined1 (*) [16])(param_6 + 0x40),pauVar22[0x244]);
        *(undefined1 (*) [16])(param_6 + 0x40) = auVar35;
        auVar35 = maxps(*(undefined1 (*) [16])(param_6 + 0x50),pauVar22[0x245]);
        *(undefined1 (*) [16])(param_6 + 0x50) = auVar35;
        fVar4 = *(float *)(param_6 + 0x88);
        if (*(float *)(pauVar22[0x248] + 8) <= *(float *)(param_6 + 0x88)) {
          fVar4 = *(float *)(pauVar22[0x248] + 8);
        }
        *(float *)(param_6 + 0x88) = fVar4;
        fVar4 = *(float *)(pauVar22[0x248] + 0xc);
        if (*(float *)(pauVar22[0x248] + 0xc) <= *(float *)(param_6 + 0x8c)) {
          fVar4 = *(float *)(param_6 + 0x8c);
        }
        *(float *)(param_6 + 0x8c) = fVar4;
        *(long *)(param_6 + 0x60) = *(long *)(param_6 + 0x60) + *(long *)pauVar22[0x246];
        *(long *)(param_6 + 0x68) = *(long *)(param_6 + 0x68) + *(long *)(pauVar22[0x246] + 8);
        *(long *)(param_6 + 0x70) = *(long *)(param_6 + 0x70) + *(long *)pauVar22[0x247];
        if (*(ulong *)(param_6 + 0x78) < *(ulong *)(pauVar22[0x247] + 8)) {
          *(ulong *)(param_6 + 0x78) = *(ulong *)(pauVar22[0x247] + 8);
          *(undefined4 *)(param_6 + 0x80) = *(undefined4 *)pauVar22[0x248];
          *(undefined4 *)(param_6 + 0x84) = *(undefined4 *)(pauVar22[0x248] + 4);
        }
        pPVar19 = ppPVar18[6];
        pPVar34 = pPVar34 + 1;
        pauVar22 = pauVar22 + 9;
      } while (pPVar34 < pPVar19);
      pPVar32 = ppPVar18[0x50];
      param_5 = pPVar32;
      if ((PrimInfoMBT_conflict *)0x1 < pPVar19) {
        ppPVar23 = ppPVar18 + 0x51;
        do {
          param_5 = param_5 + (long)*ppPVar23;
          ppPVar23 = ppPVar23 + 1;
        } while (ppPVar18 + (long)(pPVar19 + 0x50) != ppPVar23);
        pPVar24 = ppPVar18[1];
LAB_0010d1be:
        local_108 = (TaskGroupContext *)0x0;
        local_110 = 0;
        local_118 = 0;
        ppPVar23 = ppPVar18 + 8;
        bVar16 = false;
        pPVar34 = (PrimInfoMBT_conflict *)0x0;
        pTVar33 = (TaskGroupContext *)0x0;
        ppPVar30 = ppPVar23;
        in_R10 = 0;
        lVar20 = 0;
        do {
          local_98 = *ppPVar30;
          pPStack_90 = pPVar32 + (long)local_98;
          pPStack_c0 = ppPVar30[1];
          if ((long)param_5 <= (long)ppPVar30[1]) {
            pPStack_c0 = param_5;
          }
          local_c8 = (PrimInfoMBT_conflict *)0x0;
          if (-1 < (long)pPStack_90) {
            local_c8 = pPStack_90;
          }
          if ((long)pPVar24 < (long)pPStack_90) {
            pPStack_90 = pPVar24;
          }
          if ((long)local_98 < (long)param_5) {
            local_98 = param_5;
          }
          in_R11 = lVar20;
          if ((long)local_c8 < (long)pPStack_c0) {
            pPVar34 = (PrimInfoMBT_conflict *)0x1;
            pTVar33 = pTVar33 + ((long)pPStack_c0 - (long)local_c8);
            in_R11 = lVar20 + 1;
            ppPVar18[lVar20 * 2 + 0x98] = local_c8;
            (ppPVar18 + lVar20 * 2 + 0x98)[1] = pPStack_c0;
          }
          if ((long)local_98 < (long)pPStack_90) {
            lVar20 = in_R10 + 1;
            lVar31 = in_R10 * 0x10;
            ppPVar18[in_R10 * 2 + 0x118] = local_98;
            (ppPVar18 + in_R10 * 2 + 0x118)[1] = pPStack_90;
            in_R10 = lVar20;
            if (ppPVar30 + 1 == ppPVar23 + (long)pPVar19) goto LAB_0010d463;
            bVar16 = true;
          }
          else {
            lVar20 = in_R10;
            if (ppPVar23 + (long)pPVar19 == ppPVar30 + 1) goto code_r0x0010d298;
          }
          pPVar32 = ppPVar30[0x49];
          ppPVar30 = ppPVar30 + 1;
          in_R10 = lVar20;
          lVar20 = in_R11;
        } while( true );
      }
      pPVar24 = ppPVar18[1];
      local_118 = 0;
      local_110 = 0;
      local_108 = (TaskGroupContext *)0x0;
      if (pPVar19 != (PrimInfoMBT_conflict *)0x0) goto LAB_0010d1be;
      goto LAB_0010cde0;
    }
  }
  pPVar32 = ppPVar18[0x50];
  goto LAB_0010cde0;
code_r0x0010d298:
  lVar31 = in_R10;
  if (bVar16) goto LAB_0010d463;
  while ((pPVar32 = param_5, (char)pPVar34 != '\0' &&
         (local_118 = in_R11, local_108 = pTVar33, pTVar33 != (TaskGroupContext *)0x0))) {
    local_e8 = &local_108;
    local_d8 = &local_118;
    local_d0 = &local_110;
    pppTStack_80 = &local_e8;
    local_100 = (PrimInfoMBT_conflict *)0x0;
    pPStack_90 = (PrimInfoMBT_conflict *)0x0;
    local_88 = 1;
    local_e0 = ppPVar18;
    local_98 = pPVar19;
    local_78 = (TaskGroupContext *)&local_100;
    lVar20 = embree::TaskScheduler::thread();
    if (lVar20 == 0) {
      pTVar26 = (TaskScheduler *)embree::TaskScheduler::instance();
      TaskScheduler::
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar26,(_lambda___1_ *)&local_98,(TaskGroupContext *)&local_100,(ulong)pPVar19,
                 true);
      in_R10 = lVar31;
    }
    else {
      if (0xfff < *(ulong *)(lVar20 + 0x40080)) goto LAB_0010d9cf;
      lVar6 = *(long *)(lVar20 + 0xc00c0);
      uVar2 = lVar6 + 0x30 + (ulong)(-(int)lVar6 & 0x3f);
      if (0x80000 < uVar2) goto LAB_0010d9cf;
      *(ulong *)(lVar20 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar20 + 0x40090 + uVar2);
      *puVar3 = &PTR_execute_0012d530;
      puVar3[1] = local_98;
      puVar3[2] = pPStack_90;
      puVar3[3] = local_88;
      puVar3[4] = pppTStack_80;
      puVar3[5] = local_78;
      lVar25 = *(long *)(lVar20 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar20 + 0x40 + lVar25);
      lVar21 = *(long *)(lVar20 + 0xc0100);
      *(undefined4 *)(lVar20 + 0x44 + lVar25) = 1;
      *(undefined1 *)(lVar20 + 0x48 + lVar25) = 1;
      lVar25 = lVar25 + lVar20;
      *(undefined8 **)(lVar25 + 0x50) = puVar3;
      *(long *)(lVar25 + 0x58) = lVar21;
      *(TaskGroupContext **)(lVar25 + 0x60) = (TaskGroupContext *)&local_100;
      *(long *)(lVar25 + 0x68) = lVar6;
      *(PrimInfoMBT_conflict **)(lVar25 + 0x70) = pPVar19;
      if (lVar21 != 0) {
        LOCK();
        *(int *)(lVar21 + 4) = *(int *)(lVar21 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar20 + 0x40080) = *(long *)(lVar20 + 0x40080) + 1;
      UNLOCK();
      in_R10 = lVar31;
      if (*(long *)(lVar20 + 0x40080) - 1U <= *(ulong *)(lVar20 + 0x40040)) {
        LOCK();
        *(long *)(lVar20 + 0x40040) = *(long *)(lVar20 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    pPVar24 = local_100;
    if (local_100 == (PrimInfoMBT_conflict *)0x0) break;
LAB_0010d43a:
    ppPVar18 = &local_98;
    local_98 = pPVar24;
    std::__exception_ptr::exception_ptr::_M_addref();
    std::rethrow_exception(ppPVar18);
    lVar31 = in_R10;
LAB_0010d463:
    local_110 = in_R10;
  }
LAB_0010cde0:
  if (ppPVar18 != (PrimInfoMBT_conflict **)0x0) {
    embree::alignedFree(ppPVar18);
  }
  pPVar32 = pPVar32 + param_2;
LAB_0010cdf5:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return (ulong)pPVar32;
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1}>(unsigned long, unsigned long, unsigned
   long, embree::parallel_for<unsigned long, embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}>(unsigned long,
   embree::parallel_partition_task<embree::PrimRefMB,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >, embree::EmptyTy,
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimRefMB const&)#1},
   embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&, embree::PrimRefMB
   const&)#2}, embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,
   32ul>::split(embree::sse2::BinSplit<32ul> const&, embree::SetMB const&, embree::SetMB&,
   embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >
   const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >&)::{lambda(unsigned long)#2}
   const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimRefMB_const&)#1},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)#2},embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::{lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)#3}>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,emb...mbree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,emb___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  int *piVar1;
  TaskGroupContext *pTVar2;
  long lVar3;
  long *plVar4;
  undefined8 uVar5;
  undefined8 uVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  long *plVar15;
  long lVar16;
  long lVar17;
  ulong uVar18;
  long lVar19;
  long lVar20;
  ulong uVar21;
  TaskScheduler *pTVar22;
  undefined8 *puVar23;
  undefined8 *puVar24;
  undefined8 *puVar25;
  ulong uVar26;
  ulong uVar27;
  ulong uVar28;
  undefined8 *puVar29;
  ulong uVar30;
  long *plVar31;
  long *plVar32;
  long in_FS_OFFSET;
  long local_b8;
  ulong uStack_b0;
  undefined8 local_a8;
  undefined8 uStack_a0;
  TaskGroupContext *local_98;
  ulong local_88;
  long lStack_80;
  ulong local_78;
  undefined8 *puStack_70;
  TaskGroupContext *local_68;
  undefined8 local_48;
  long local_30;
  
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  lVar19 = *(long *)(this + 0x10);
  puVar25 = *(undefined8 **)(this + 0x20);
  if (*(ulong *)(this + 0x18) < (ulong)(*(long *)(this + 8) - lVar19)) {
    pTVar2 = *(TaskGroupContext **)(this + 0x28);
    uVar30 = (ulong)(*(long *)(this + 8) + lVar19) >> 1;
    local_88 = uVar30;
    lStack_80 = lVar19;
    local_78 = *(ulong *)(this + 0x18);
    puStack_70 = puVar25;
    local_68 = pTVar2;
    lVar16 = embree::TaskScheduler::thread();
    if (lVar16 == 0) {
      pTVar22 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar22,(_lambda___1_ *)&local_88,pTVar2,uVar30 - lVar19,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar16 + 0x40080)) goto LAB_0010df78;
      lVar3 = *(long *)(lVar16 + 0xc00c0);
      uVar18 = lVar3 + 0x30 + (ulong)(-(int)lVar3 & 0x3f);
      if (0x80000 < uVar18) goto LAB_0010df78;
      *(ulong *)(lVar16 + 0xc00c0) = uVar18;
      puVar25 = (undefined8 *)(lVar16 + 0x40090 + uVar18);
      *puVar25 = &PTR_execute_0012d530;
      puVar25[1] = local_88;
      puVar25[2] = lStack_80;
      puVar25[5] = local_68;
      puVar25[3] = local_78;
      puVar25[4] = puStack_70;
      lVar17 = *(long *)(lVar16 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar16 + 0x40 + lVar17);
      lVar20 = *(long *)(lVar16 + 0xc0100);
      *(undefined4 *)(lVar16 + 0x44 + lVar17) = 1;
      *(undefined1 *)(lVar16 + 0x48 + lVar17) = 1;
      lVar17 = lVar17 + lVar16;
      *(undefined8 **)(lVar17 + 0x50) = puVar25;
      *(long *)(lVar17 + 0x58) = lVar20;
      *(TaskGroupContext **)(lVar17 + 0x60) = pTVar2;
      *(long *)(lVar17 + 0x68) = lVar3;
      *(ulong *)(lVar17 + 0x70) = uVar30 - lVar19;
      if (lVar20 != 0) {
        LOCK();
        *(int *)(lVar20 + 4) = *(int *)(lVar20 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar16 + 0x40080) = *(long *)(lVar16 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar16 + 0x40080) - 1U <= *(ulong *)(lVar16 + 0x40040)) {
        LOCK();
        *(long *)(lVar16 + 0x40040) = *(long *)(lVar16 + 0x40080) + -1;
        UNLOCK();
      }
    }
    local_a8 = *(undefined8 *)(this + 0x18);
    local_b8 = *(long *)(this + 8);
    pTVar2 = *(TaskGroupContext **)(this + 0x28);
    uStack_a0 = *(undefined8 *)(this + 0x20);
    uVar18 = local_b8 - uVar30;
    uStack_b0 = uVar30;
    local_98 = pTVar2;
    lVar19 = embree::TaskScheduler::thread();
    if (lVar19 == 0) {
      pTVar22 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::parallel_for<unsigned_long,embree::parallel_partition_task<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>::partition(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::Prim___mbree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar22,(_lambda___1_ *)&local_b8,pTVar2,uVar18,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar19 + 0x40080)) {
LAB_0010df78:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar16 = *(long *)(lVar19 + 0xc00c0);
      uVar30 = lVar16 + 0x30 + (ulong)(-(int)lVar16 & 0x3f);
      if (0x80000 < uVar30) goto LAB_0010df78;
      *(ulong *)(lVar19 + 0xc00c0) = uVar30;
      puVar25 = (undefined8 *)(lVar19 + 0x40090 + uVar30);
      *puVar25 = &PTR_execute_0012d530;
      puVar25[1] = local_b8;
      puVar25[2] = uStack_b0;
      puVar25[5] = local_98;
      puVar25[3] = local_a8;
      puVar25[4] = uStack_a0;
      lVar20 = *(long *)(lVar19 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar19 + 0x40 + lVar20);
      lVar3 = *(long *)(lVar19 + 0xc0100);
      *(undefined4 *)(lVar19 + 0x44 + lVar20) = 1;
      *(undefined1 *)(lVar19 + 0x48 + lVar20) = 1;
      lVar20 = lVar20 + lVar19;
      *(undefined8 **)(lVar20 + 0x50) = puVar25;
      *(long *)(lVar20 + 0x58) = lVar3;
      *(TaskGroupContext **)(lVar20 + 0x60) = pTVar2;
      *(long *)(lVar20 + 0x68) = lVar16;
      *(ulong *)(lVar20 + 0x70) = uVar18;
      if (lVar3 != 0) {
        LOCK();
        *(int *)(lVar3 + 4) = *(int *)(lVar3 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar19 + 0x40080) = *(long *)(lVar19 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar19 + 0x40080) - 1U <= *(ulong *)(lVar19 + 0x40040)) {
        LOCK();
        *(long *)(lVar19 + 0x40040) = *(long *)(lVar19 + 0x40080) + -1;
        UNLOCK();
      }
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else {
    plVar4 = (long *)puVar25[1];
    lVar16 = plVar4[0x98];
    uVar21 = lVar19 * *(long *)*puVar25;
    uVar18 = plVar4[0x99] - lVar16;
    uVar30 = uVar21 / (ulong)plVar4[6];
    uVar27 = uVar30;
    if (uVar30 < uVar18) {
      plVar31 = plVar4 + 0x98;
    }
    else {
      plVar32 = plVar4 + 0x9a;
      do {
        plVar31 = plVar32;
        lVar16 = *plVar31;
        uVar27 = uVar27 - uVar18;
        uVar18 = plVar31[1] - lVar16;
        plVar32 = plVar31 + 2;
      } while (uVar18 <= uVar27);
    }
    lVar19 = plVar4[0x118];
    uVar28 = plVar4[0x119] - lVar19;
    uVar26 = uVar30;
    if (uVar30 < uVar28) {
      plVar32 = plVar4 + 0x118;
    }
    else {
      plVar15 = plVar4 + 0x11a;
      do {
        plVar32 = plVar15;
        lVar19 = *plVar32;
        uVar26 = uVar26 - uVar28;
        uVar28 = plVar32[1] - lVar19;
        plVar15 = plVar32 + 2;
      } while (uVar28 <= uVar26);
    }
    uVar18 = uVar18 - uVar27;
    uVar30 = (*(long *)*puVar25 + uVar21) / (ulong)plVar4[6] - uVar30;
    uVar28 = uVar28 - uVar26;
    puVar29 = (undefined8 *)((lVar16 + uVar27) * 0x50 + *plVar4);
    puVar25 = (undefined8 *)(*plVar4 + (lVar19 + uVar26) * 0x50);
    uVar27 = uVar30;
    if (uVar18 <= uVar30) {
      uVar27 = uVar18;
    }
    if (uVar28 < uVar27) {
      uVar27 = uVar28;
    }
    if (uVar30 != 0) {
joined_r0x0010dd8f:
      if (uVar28 == 0) {
        uVar28 = plVar32[3] - plVar32[2];
        puVar25 = (undefined8 *)(plVar32[2] * 0x50 + *plVar4);
        uVar27 = uVar30;
        if (uVar28 <= uVar30) {
          uVar27 = uVar28;
        }
        if (uVar18 < uVar27) {
          uVar27 = uVar18;
        }
        plVar32 = plVar32 + 2;
      }
      uVar30 = uVar30 - uVar27;
      uVar18 = uVar18 - uVar27;
      uVar28 = uVar28 - uVar27;
      puVar23 = puVar29;
      puVar24 = puVar25;
      uVar21 = uVar27;
      if (uVar27 != 0) {
        do {
          uVar5 = puVar24[1];
          uVar6 = *puVar23;
          uVar7 = puVar23[1];
          uVar8 = puVar23[2];
          uVar9 = puVar23[3];
          uVar10 = puVar23[4];
          uVar11 = puVar23[5];
          *puVar23 = *puVar24;
          puVar23[1] = uVar5;
          uVar12 = puVar24[3];
          uVar13 = puVar23[6];
          uVar14 = puVar23[7];
          uVar5 = puVar23[8];
          puVar23[2] = puVar24[2];
          puVar23[3] = uVar12;
          uVar12 = puVar24[5];
          puVar23[4] = puVar24[4];
          puVar23[5] = uVar12;
          uVar12 = puVar24[7];
          puVar23[6] = puVar24[6];
          puVar23[7] = uVar12;
          *(undefined4 *)(puVar23 + 8) = *(undefined4 *)(puVar24 + 8);
          *(undefined4 *)((long)puVar23 + 0x44) = *(undefined4 *)((long)puVar24 + 0x44);
          puVar24[6] = uVar13;
          puVar24[7] = uVar14;
          local_48._0_4_ = (undefined4)uVar5;
          *puVar24 = uVar6;
          puVar24[1] = uVar7;
          *(undefined4 *)(puVar24 + 8) = (undefined4)local_48;
          local_48._4_4_ = (undefined4)((ulong)uVar5 >> 0x20);
          puVar24[2] = uVar8;
          puVar24[3] = uVar9;
          puVar24[4] = uVar10;
          puVar24[5] = uVar11;
          *(undefined4 *)((long)puVar24 + 0x44) = local_48._4_4_;
          uVar21 = uVar21 - 1;
          puVar23 = puVar23 + 10;
          puVar24 = puVar24 + 10;
        } while (uVar21 != 0);
        puVar25 = puVar25 + uVar27 * 10;
        puVar29 = puVar29 + uVar27 * 10;
        local_48 = uVar5;
        if (uVar30 == 0) goto LAB_0010de90;
      }
      if (uVar18 == 0) {
        uVar18 = plVar31[3] - plVar31[2];
        puVar29 = (undefined8 *)(plVar31[2] * 0x50 + *plVar4);
        uVar27 = uVar28;
        if (uVar30 <= uVar28) {
          uVar27 = uVar30;
        }
        if (uVar18 < uVar27) {
          uVar27 = uVar18;
        }
        plVar31 = plVar31 + 2;
      }
      else {
        uVar27 = 0;
      }
      goto joined_r0x0010dd8f;
    }
LAB_0010de90:
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::LBBox<embree::Vec3fa> embree::parallel_reduce_internal<unsigned long,
   embree::LBBox<embree::Vec3fa>,
   embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>
   >(embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)
   const::{lambda(embree::range<unsigned long> const&)#1},
   embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>
   >(embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)
   const::{lambda(embree::LBBox<embree::Vec3fa> const&, embree::LBBox<embree::Vec3fa>
   const&)#2}>(unsigned long, unsigned long, unsigned long, unsigned long,
   embree::LBBox<embree::Vec3fa> const&,
   embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>
   >(embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)
   const::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>
   >(embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)
   const::{lambda(embree::LBBox<embree::Vec3fa> const&, embree::LBBox<embree::Vec3fa> const&)#2}
   const&) */

ulong embree::
      parallel_reduce_internal<unsigned_long,embree::LBBox<embree::Vec3fa>,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::range<unsigned_long>const&)_1_,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::LBBox<embree::Vec3fa>const&,embree::LBBox<embree::Vec3fa>const&)_2_>
                (ulong param_1,ulong param_2,ulong param_3,ulong param_4,LBBox_conflict *param_5,
                _lambda_embree__range<unsigned_long>_const___1_ *param_6,
                _lambda_embree__LBBox<embree::Vec3fa>_const__embree__LBBox<embree::Vec3fa>_const___2_
                *param_7)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  long lVar4;
  long lVar5;
  ulong uVar6;
  long lVar7;
  long lVar8;
  undefined8 uVar9;
  undefined1 (*pauVar10) [16];
  undefined1 (*pauVar11) [16];
  long in_FS_OFFSET;
  undefined1 auVar12 [16];
  undefined1 auVar13 [16];
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  ulong local_2148;
  ulong local_2140;
  ulong local_2138 [2];
  ulong local_2128;
  ulong *local_2120;
  ulong *local_2118;
  ulong *local_2110;
  undefined1 (*local_2108) [16];
  _lambda_embree__LBBox<embree::Vec3fa>_const__embree__LBBox<embree::Vec3fa>_const___2_ *local_2100;
  ulong local_20f0;
  undefined8 uStack_20e8;
  undefined8 local_20e0;
  undefined8 **ppuStack_20d8;
  ulong *local_20d0;
  undefined1 local_20c0 [8192];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2148 = param_4;
  local_2140 = param_3;
  local_2138[0] = param_2;
  uVar6 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2138[0]) {
    local_2138[0] = 0x200;
  }
  if (uVar6 < local_2138[0]) {
    local_2138[0] = uVar6;
  }
  local_b8 = local_2138[0];
  if (local_2138[0] << 6 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_20c0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_2138[0] << 6,0x40);
  }
  uVar6 = local_2138[0];
  local_2120 = &local_2140;
  local_2118 = &local_2148;
  local_2110 = local_2138;
  local_2100 = param_7;
  local_2108 = (undefined1 (*) [16])local_20c0;
  if (local_2138[0] == 0) {
    uVar9 = *(undefined8 *)(param_6 + 8);
    *(undefined8 *)param_1 = *(undefined8 *)param_6;
    *(undefined8 *)(param_1 + 8) = uVar9;
    uVar9 = *(undefined8 *)(param_6 + 0x18);
    *(undefined8 *)(param_1 + 0x10) = *(undefined8 *)(param_6 + 0x10);
    *(undefined8 *)(param_1 + 0x18) = uVar9;
    uVar9 = *(undefined8 *)(param_6 + 0x28);
    *(undefined8 *)(param_1 + 0x20) = *(undefined8 *)(param_6 + 0x20);
    *(undefined8 *)(param_1 + 0x28) = uVar9;
    uVar9 = *(undefined8 *)(param_6 + 0x38);
    *(undefined8 *)(param_1 + 0x30) = *(undefined8 *)(param_6 + 0x30);
    *(undefined8 *)(param_1 + 0x38) = uVar9;
  }
  else {
    ppuStack_20d8 = &local_2120;
    uStack_20e8 = 0;
    local_20e0 = 1;
    local_2128 = 0;
    local_20f0 = local_2138[0];
    local_20d0 = &local_2128;
    lVar7 = embree::TaskScheduler::thread();
    if (lVar7 == 0) {
      uVar9 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_5LBBoxINS_6Vec3faEEEZNKS_5SetMB12linearBoundsINS_4sse218RecalculatePrimRefINS_12TriangleMeshEEEEES7_RKT_EUlRKNS_5rangeImEEE_ZNKS9_ISD_EES7_SG_EUlRKS7_SN_E0_EET0_SE_SE_SE_SE_RKSP_RKT1_RKT2_EUlmE_EEvSE_SR_EUlSK_E_EEvSE_SE_SE_SR_PNS0_16TaskGroupContextEEUlvE_EEvSG_S11_mb
                (uVar9,&local_20f0,&local_2128,uVar6,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar7 + 0x40080)) {
LAB_0010e85e:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar4 = *(long *)(lVar7 + 0xc00c0);
      uVar2 = lVar4 + 0x30 + (ulong)(-(int)lVar4 & 0x3f);
      if (0x80000 < uVar2) goto LAB_0010e85e;
      *(ulong *)(lVar7 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar7 + 0x40090 + uVar2);
      *puVar3 = 0x12d548;
      puVar3[1] = local_20f0;
      puVar3[2] = uStack_20e8;
      puVar3[3] = local_20e0;
      puVar3[4] = ppuStack_20d8;
      puVar3[5] = local_20d0;
      lVar8 = *(long *)(lVar7 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar7 + 0x40 + lVar8);
      lVar5 = *(long *)(lVar7 + 0xc0100);
      *(undefined4 *)(lVar7 + 0x44 + lVar8) = 1;
      *(undefined1 *)(lVar7 + 0x48 + lVar8) = 1;
      lVar8 = lVar8 + lVar7;
      *(undefined8 **)(lVar8 + 0x50) = puVar3;
      *(long *)(lVar8 + 0x58) = lVar5;
      *(ulong **)(lVar8 + 0x60) = &local_2128;
      *(long *)(lVar8 + 0x68) = lVar4;
      *(ulong *)(lVar8 + 0x70) = uVar6;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar7 + 0x40080) = *(long *)(lVar7 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar7 + 0x40080) - 1U <= *(ulong *)(lVar7 + 0x40040)) {
        LOCK();
        *(long *)(lVar7 + 0x40040) = *(long *)(lVar7 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    if (local_2128 != 0) {
      local_20f0 = local_2128;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20f0);
      goto LAB_0010e859;
    }
    auVar15 = *(undefined1 (*) [16])param_6;
    *(undefined1 (*) [16])param_1 = auVar15;
    auVar14 = *(undefined1 (*) [16])(param_6 + 0x10);
    *(undefined1 (*) [16])(param_1 + 0x10) = auVar14;
    auVar13 = *(undefined1 (*) [16])(param_6 + 0x20);
    *(undefined1 (*) [16])(param_1 + 0x20) = auVar13;
    auVar12 = *(undefined1 (*) [16])(param_6 + 0x30);
    *(undefined1 (*) [16])(param_1 + 0x30) = auVar12;
    if (local_2138[0] != 0) {
      pauVar10 = local_c0;
      do {
        auVar12 = maxps(auVar12,pauVar10[3]);
        auVar13 = minps(auVar13,pauVar10[2]);
        pauVar11 = pauVar10 + 4;
        auVar14 = maxps(auVar14,pauVar10[1]);
        auVar15 = minps(auVar15,*pauVar10);
        *(undefined1 (*) [16])(param_1 + 0x20) = auVar13;
        *(undefined1 (*) [16])param_1 = auVar15;
        *(undefined1 (*) [16])(param_1 + 0x10) = auVar14;
        *(undefined1 (*) [16])(param_1 + 0x30) = auVar12;
        pauVar10 = pauVar11;
      } while (local_c0 + local_2138[0] * 4 != pauVar11);
    }
  }
  if (local_c0 != (undefined1 (*) [16])local_20c0) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return param_1;
  }
LAB_0010e859:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa> >
   embree::parallel_reduce_internal<unsigned long, embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::bin_parallel<embree::sse2::BinInfoT<32ul,
   embree::PrimRefMB, embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1},
   embree::bin_parallel<embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&)#2}>(unsigned long, unsigned long, unsigned long, unsigned
   long, embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa> > const&,
   embree::bin_parallel<embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::range<unsigned long> const&)#1} const&,
   embree::bin_parallel<embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> >, embree::sse2::BinMapping<32ul>,
   embree::PrimRefMB>(embree::sse2::BinInfoT<32ul, embree::PrimRefMB, embree::LBBox<embree::Vec3fa>
   >&, embree::PrimRefMB const*, unsigned long, unsigned long, unsigned long, unsigned long,
   embree::sse2::BinMapping<32ul> const&)::{lambda(embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&, embree::sse2::BinInfoT<32ul, embree::PrimRefMB,
   embree::LBBox<embree::Vec3fa> > const&)#2} const&) */

embree * __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::bin_parallel<embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>,embree::sse2::BinMapping<32ul>,embree::PrimRefMB>(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::sse2::BinMapping<32ul>const&)::_lambda(embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>const&,embree::sse2::BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>>const&)_2_>
          (embree *this,ulong param_1,ulong param_2,ulong param_3,ulong param_4,
          BinInfoT_conflict *param_5,_lambda_embree__range<unsigned_long>_const___1_ *param_6,
          _lambda_embree__sse2__BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>_>_const__embree__sse2__BinInfoT<32ul,embree::PrimRefMB,embree::LBBox<embree::Vec3fa>_>_const___2_
          *param_7)

{
  int *piVar1;
  long *plVar2;
  long lVar3;
  long lVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  int iVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 uVar15;
  undefined8 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined8 uVar20;
  undefined8 uVar21;
  undefined8 uVar22;
  undefined8 uVar23;
  undefined1 (*pauVar24) [16];
  ulong uVar25;
  embree *peVar26;
  embree *peVar27;
  undefined8 *puVar28;
  undefined1 (*pauVar29) [16];
  undefined1 (*pauVar30) [16];
  long lVar31;
  undefined8 uVar32;
  long lVar33;
  undefined1 (*pauVar34) [16];
  undefined1 (*pauVar35) [16];
  ulong uVar36;
  BinInfoT_conflict *pBVar37;
  undefined1 (*pauVar38) [16];
  undefined1 (*pauVar39) [16];
  undefined8 *puVar40;
  undefined8 *puVar41;
  undefined1 (*pauVar42) [16];
  long in_FS_OFFSET;
  byte bVar43;
  undefined1 auVar44 [16];
  undefined1 (*local_3558) [16];
  ulong local_3548;
  ulong local_3540;
  ulong local_3538 [2];
  ulong local_3528;
  ulong *local_3520;
  ulong *local_3518;
  ulong *local_3510;
  undefined1 (*local_3508) [16];
  _lambda_embree__range<unsigned_long>_const___1_ *local_3500;
  ulong local_34f0;
  undefined8 uStack_34e8;
  undefined8 local_34e0;
  ulong **ppuStack_34d8;
  ulong *local_34d0;
  undefined1 local_34c0 [6144];
  undefined8 local_1cc0;
  int aiStack_1cb8 [124];
  undefined8 local_1ac8;
  undefined1 local_1ac0 [6656];
  undefined1 (*local_c0) [16];
  ulong local_b8;
  long local_48;
  
  bVar43 = 0;
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_3548 = param_3;
  local_3540 = param_2;
  local_3538[0] = param_1;
  uVar25 = embree::TaskScheduler::threadCount();
  if (0x200 < local_3538[0]) {
    local_3538[0] = 0x200;
  }
  if (uVar25 < local_3538[0]) {
    local_3538[0] = uVar25;
  }
  local_b8 = local_3538[0];
  if (local_3538[0] * 0x1a00 < 0x2001) {
    local_c0 = (undefined1 (*) [16])local_1ac0;
  }
  else {
    local_c0 = (undefined1 (*) [16])embree::alignedMalloc(local_3538[0] * 0x1a00,0x40);
  }
  uVar25 = local_3538[0];
  local_3558 = (undefined1 (*) [16])local_1ac0;
  local_3520 = &local_3540;
  local_3500 = param_6;
  local_3518 = &local_3548;
  local_3510 = local_3538;
  local_3508 = local_3558;
  if (local_3538[0] != 0) {
    ppuStack_34d8 = &local_3520;
    uStack_34e8 = 0;
    local_34e0 = 1;
    local_3528 = 0;
    local_34f0 = local_3538[0];
    local_34d0 = &local_3528;
    lVar33 = embree::TaskScheduler::thread();
    if (lVar33 == 0) {
      uVar32 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_4sse28BinInfoTILm32ENS_9PrimRefMBENS_5LBBoxINS_6Vec3faEEEEEZNS_12bin_parallelISB_NS5_10BinMappingILm32EEES7_EEvRT_PKT1_mmmmRKT0_EUlRKNS_5rangeImEEE_ZNSC_ISB_SE_S7_EEvSG_SJ_mmmmSM_EUlRKSB_ST_E0_EESK_SF_SF_SF_SF_SM_RSI_RKT2_EUlmE_EEvSF_SM_EUlSQ_E_EEvSF_SF_SF_SM_PNS0_16TaskGroupContextEEUlvE_EEvRKSF_S12_mb
                (uVar32,&local_34f0,&local_3528,uVar25,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar33 + 0x40080)) {
LAB_0010f853:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar3 = *(long *)(lVar33 + 0xc00c0);
      uVar36 = lVar3 + 0x30 + (ulong)(-(int)lVar3 & 0x3f);
      if (0x80000 < uVar36) goto LAB_0010f853;
      *(ulong *)(lVar33 + 0xc00c0) = uVar36;
      puVar28 = (undefined8 *)(lVar33 + 0x40090 + uVar36);
      *puVar28 = 0x12d560;
      puVar28[1] = local_34f0;
      puVar28[2] = uStack_34e8;
      puVar28[3] = local_34e0;
      puVar28[4] = ppuStack_34d8;
      puVar28[5] = local_34d0;
      lVar31 = *(long *)(lVar33 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar33 + 0x40 + lVar31);
      lVar4 = *(long *)(lVar33 + 0xc0100);
      *(undefined4 *)(lVar33 + 0x44 + lVar31) = 1;
      *(undefined1 *)(lVar33 + 0x48 + lVar31) = 1;
      lVar31 = lVar31 + lVar33;
      *(undefined8 **)(lVar31 + 0x50) = puVar28;
      *(long *)(lVar31 + 0x58) = lVar4;
      *(ulong **)(lVar31 + 0x60) = &local_3528;
      *(long *)(lVar31 + 0x68) = lVar3;
      *(ulong *)(lVar31 + 0x70) = uVar25;
      if (lVar4 != 0) {
        LOCK();
        *(int *)(lVar4 + 4) = *(int *)(lVar4 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar33 + 0x40080) = *(long *)(lVar33 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar33 + 0x40080) - 1U <= *(ulong *)(lVar33 + 0x40040)) {
        LOCK();
        *(long *)(lVar33 + 0x40040) = *(long *)(lVar33 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    if (local_3528 != 0) {
      local_34f0 = local_3528;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_34f0);
      goto LAB_0010f827;
    }
  }
  pauVar24 = local_c0;
  uVar25 = local_3538[0];
  peVar26 = this;
  pBVar37 = param_5;
  do {
    uVar32 = *(undefined8 *)(pBVar37 + 8);
    peVar27 = peVar26 + 0xc0;
    *(undefined8 *)peVar26 = *(undefined8 *)pBVar37;
    *(undefined8 *)(peVar26 + 8) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x18);
    *(undefined8 *)(peVar26 + 0x10) = *(undefined8 *)(pBVar37 + 0x10);
    *(undefined8 *)(peVar26 + 0x18) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x28);
    *(undefined8 *)(peVar26 + 0x20) = *(undefined8 *)(pBVar37 + 0x20);
    *(undefined8 *)(peVar26 + 0x28) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x38);
    *(undefined8 *)(peVar26 + 0x30) = *(undefined8 *)(pBVar37 + 0x30);
    *(undefined8 *)(peVar26 + 0x38) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x48);
    *(undefined8 *)(peVar26 + 0x40) = *(undefined8 *)(pBVar37 + 0x40);
    *(undefined8 *)(peVar26 + 0x48) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x58);
    *(undefined8 *)(peVar26 + 0x50) = *(undefined8 *)(pBVar37 + 0x50);
    *(undefined8 *)(peVar26 + 0x58) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x68);
    *(undefined8 *)(peVar26 + 0x60) = *(undefined8 *)(pBVar37 + 0x60);
    *(undefined8 *)(peVar26 + 0x68) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x78);
    *(undefined8 *)(peVar26 + 0x70) = *(undefined8 *)(pBVar37 + 0x70);
    *(undefined8 *)(peVar26 + 0x78) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x88);
    *(undefined8 *)(peVar26 + 0x80) = *(undefined8 *)(pBVar37 + 0x80);
    *(undefined8 *)(peVar26 + 0x88) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0x98);
    *(undefined8 *)(peVar26 + 0x90) = *(undefined8 *)(pBVar37 + 0x90);
    *(undefined8 *)(peVar26 + 0x98) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0xa8);
    *(undefined8 *)(peVar26 + 0xa0) = *(undefined8 *)(pBVar37 + 0xa0);
    *(undefined8 *)(peVar26 + 0xa8) = uVar32;
    uVar32 = *(undefined8 *)(pBVar37 + 0xb8);
    *(undefined8 *)(peVar26 + 0xb0) = *(undefined8 *)(pBVar37 + 0xb0);
    *(undefined8 *)(peVar26 + 0xb8) = uVar32;
    peVar26 = peVar27;
    pBVar37 = pBVar37 + 0xc0;
  } while (peVar27 != this + 0x1800);
  puVar28 = (undefined8 *)memmove(this + 0x1800,param_5 + 0x1800,0x200);
  if (uVar25 != 0) {
    pauVar30 = (undefined1 (*) [16])local_34c0;
    peVar26 = this;
    pauVar42 = pauVar24;
    do {
      do {
        uVar32 = *(undefined8 *)(peVar26 + 8);
        uVar11 = *(undefined8 *)(peVar26 + 0x10);
        uVar12 = *(undefined8 *)(peVar26 + 0x18);
        pauVar29 = pauVar30 + 0xc;
        uVar13 = *(undefined8 *)(peVar26 + 0x20);
        uVar14 = *(undefined8 *)(peVar26 + 0x28);
        uVar15 = *(undefined8 *)(peVar26 + 0x30);
        uVar16 = *(undefined8 *)(peVar26 + 0x38);
        uVar17 = *(undefined8 *)(peVar26 + 0x40);
        uVar18 = *(undefined8 *)(peVar26 + 0x48);
        *(undefined8 *)*pauVar30 = *(undefined8 *)peVar26;
        *(undefined8 *)(*pauVar30 + 8) = uVar32;
        uVar32 = *(undefined8 *)(peVar26 + 0x50);
        uVar19 = *(undefined8 *)(peVar26 + 0x58);
        *(undefined8 *)pauVar30[1] = uVar11;
        *(undefined8 *)(pauVar30[1] + 8) = uVar12;
        uVar11 = *(undefined8 *)(peVar26 + 0x60);
        uVar12 = *(undefined8 *)(peVar26 + 0x68);
        uVar20 = *(undefined8 *)(peVar26 + 0x70);
        uVar21 = *(undefined8 *)(peVar26 + 0x78);
        *(undefined8 *)pauVar30[2] = uVar13;
        *(undefined8 *)(pauVar30[2] + 8) = uVar14;
        uVar13 = *(undefined8 *)(peVar26 + 0x80);
        uVar14 = *(undefined8 *)(peVar26 + 0x88);
        uVar22 = *(undefined8 *)(peVar26 + 0x90);
        uVar23 = *(undefined8 *)(peVar26 + 0x98);
        *(undefined8 *)pauVar30[3] = uVar15;
        *(undefined8 *)(pauVar30[3] + 8) = uVar16;
        uVar15 = *(undefined8 *)(peVar26 + 0xa0);
        uVar16 = *(undefined8 *)(peVar26 + 0xa8);
        *(undefined8 *)pauVar30[4] = uVar17;
        *(undefined8 *)(pauVar30[4] + 8) = uVar18;
        uVar17 = *(undefined8 *)(peVar26 + 0xb0);
        uVar18 = *(undefined8 *)(peVar26 + 0xb8);
        *(undefined8 *)pauVar30[5] = uVar32;
        *(undefined8 *)(pauVar30[5] + 8) = uVar19;
        *(undefined8 *)pauVar30[6] = uVar11;
        *(undefined8 *)(pauVar30[6] + 8) = uVar12;
        *(undefined8 *)pauVar30[7] = uVar20;
        *(undefined8 *)(pauVar30[7] + 8) = uVar21;
        *(undefined8 *)pauVar30[8] = uVar13;
        *(undefined8 *)(pauVar30[8] + 8) = uVar14;
        *(undefined8 *)pauVar30[9] = uVar22;
        *(undefined8 *)(pauVar30[9] + 8) = uVar23;
        *(undefined8 *)pauVar30[10] = uVar15;
        *(undefined8 *)(pauVar30[10] + 8) = uVar16;
        *(undefined8 *)pauVar30[0xb] = uVar17;
        *(undefined8 *)(pauVar30[0xb] + 8) = uVar18;
        pauVar30 = pauVar29;
        peVar26 = peVar26 + 0xc0;
      } while (pauVar29 != (undefined1 (*) [16])&local_1cc0);
      plVar2 = *(long **)param_7;
      puVar40 = puVar28;
      pauVar30 = (undefined1 (*) [16])&local_1cc0;
      for (lVar33 = 0x40; lVar33 != 0; lVar33 = lVar33 + -1) {
        *(undefined8 *)*pauVar30 = *puVar40;
        puVar40 = puVar40 + (ulong)bVar43 * -2 + 1;
        pauVar30 = (undefined1 (*) [16])(pauVar30[-(ulong)bVar43] + 8);
      }
      lVar33 = *plVar2;
      pauVar30 = (undefined1 (*) [16])local_34c0;
      peVar26 = this;
      if (lVar33 != 0) {
        pauVar29 = (undefined1 (*) [16])local_34c0;
        pauVar34 = pauVar42;
        pauVar38 = pauVar42;
        pauVar39 = (undefined1 (*) [16])&local_1cc0;
        do {
          iVar5 = *(int *)(*pauVar39 + 4);
          iVar6 = *(int *)(*pauVar39 + 8);
          iVar7 = *(int *)(*pauVar39 + 0xc);
          pauVar35 = pauVar34 + 1;
          iVar8 = *(int *)(pauVar34[0x180] + 4);
          iVar9 = *(int *)(pauVar34[0x180] + 8);
          iVar10 = *(int *)(pauVar34[0x180] + 0xc);
          *(int *)*pauVar39 = *(int *)*pauVar39 + *(int *)pauVar34[0x180];
          *(int *)(*pauVar39 + 4) = iVar5 + iVar8;
          *(int *)(*pauVar39 + 8) = iVar6 + iVar9;
          *(int *)(*pauVar39 + 0xc) = iVar7 + iVar10;
          auVar44 = minps(*pauVar29,*pauVar38);
          *pauVar29 = auVar44;
          auVar44 = maxps(pauVar29[1],pauVar38[1]);
          pauVar29[1] = auVar44;
          auVar44 = minps(pauVar29[2],pauVar38[2]);
          pauVar29[2] = auVar44;
          auVar44 = maxps(pauVar29[3],pauVar38[3]);
          pauVar29[3] = auVar44;
          auVar44 = minps(pauVar29[4],pauVar38[4]);
          pauVar29[4] = auVar44;
          auVar44 = maxps(pauVar29[5],pauVar38[5]);
          pauVar29[5] = auVar44;
          auVar44 = minps(pauVar29[6],pauVar38[6]);
          pauVar29[6] = auVar44;
          auVar44 = maxps(pauVar29[7],pauVar38[7]);
          pauVar29[7] = auVar44;
          auVar44 = minps(pauVar29[8],pauVar38[8]);
          pauVar29[8] = auVar44;
          auVar44 = maxps(pauVar29[9],pauVar38[9]);
          pauVar29[9] = auVar44;
          auVar44 = minps(pauVar29[10],pauVar38[10]);
          pauVar29[10] = auVar44;
          auVar44 = maxps(pauVar29[0xb],pauVar38[0xb]);
          pauVar29[0xb] = auVar44;
          pauVar29 = pauVar29 + 0xc;
          pauVar34 = pauVar35;
          pauVar38 = pauVar38 + 0xc;
          pauVar39 = pauVar39 + 1;
        } while (pauVar42 + lVar33 != pauVar35);
      }
      do {
        uVar32 = *(undefined8 *)(*pauVar30 + 8);
        uVar11 = *(undefined8 *)pauVar30[1];
        uVar12 = *(undefined8 *)(pauVar30[1] + 8);
        pauVar29 = pauVar30 + 0xc;
        uVar13 = *(undefined8 *)pauVar30[2];
        uVar14 = *(undefined8 *)(pauVar30[2] + 8);
        uVar15 = *(undefined8 *)pauVar30[3];
        uVar16 = *(undefined8 *)(pauVar30[3] + 8);
        uVar17 = *(undefined8 *)pauVar30[4];
        uVar18 = *(undefined8 *)(pauVar30[4] + 8);
        *(undefined8 *)peVar26 = *(undefined8 *)*pauVar30;
        *(undefined8 *)(peVar26 + 8) = uVar32;
        uVar32 = *(undefined8 *)pauVar30[5];
        uVar19 = *(undefined8 *)(pauVar30[5] + 8);
        *(undefined8 *)(peVar26 + 0x10) = uVar11;
        *(undefined8 *)(peVar26 + 0x18) = uVar12;
        uVar11 = *(undefined8 *)pauVar30[6];
        uVar12 = *(undefined8 *)(pauVar30[6] + 8);
        uVar20 = *(undefined8 *)pauVar30[7];
        uVar21 = *(undefined8 *)(pauVar30[7] + 8);
        *(undefined8 *)(peVar26 + 0x20) = uVar13;
        *(undefined8 *)(peVar26 + 0x28) = uVar14;
        uVar13 = *(undefined8 *)pauVar30[8];
        uVar14 = *(undefined8 *)(pauVar30[8] + 8);
        uVar22 = *(undefined8 *)pauVar30[9];
        uVar23 = *(undefined8 *)(pauVar30[9] + 8);
        *(undefined8 *)(peVar26 + 0x30) = uVar15;
        *(undefined8 *)(peVar26 + 0x38) = uVar16;
        uVar15 = *(undefined8 *)pauVar30[10];
        uVar16 = *(undefined8 *)(pauVar30[10] + 8);
        *(undefined8 *)(peVar26 + 0x40) = uVar17;
        *(undefined8 *)(peVar26 + 0x48) = uVar18;
        uVar17 = *(undefined8 *)pauVar30[0xb];
        uVar18 = *(undefined8 *)(pauVar30[0xb] + 8);
        *(undefined8 *)(peVar26 + 0x50) = uVar32;
        *(undefined8 *)(peVar26 + 0x58) = uVar19;
        *(undefined8 *)(peVar26 + 0x60) = uVar11;
        *(undefined8 *)(peVar26 + 0x68) = uVar12;
        *(undefined8 *)(peVar26 + 0x70) = uVar20;
        *(undefined8 *)(peVar26 + 0x78) = uVar21;
        *(undefined8 *)(peVar26 + 0x80) = uVar13;
        *(undefined8 *)(peVar26 + 0x88) = uVar14;
        *(undefined8 *)(peVar26 + 0x90) = uVar22;
        *(undefined8 *)(peVar26 + 0x98) = uVar23;
        *(undefined8 *)(peVar26 + 0xa0) = uVar15;
        *(undefined8 *)(peVar26 + 0xa8) = uVar16;
        *(undefined8 *)(peVar26 + 0xb0) = uVar17;
        *(undefined8 *)(peVar26 + 0xb8) = uVar18;
        pauVar30 = pauVar29;
        peVar26 = peVar26 + 0xc0;
      } while ((undefined1 (*) [16])&local_1cc0 != pauVar29);
      pauVar42 = pauVar42 + 0x1a0;
      *puVar28 = local_1cc0;
      puVar28[0x3f] = local_1ac8;
      lVar33 = (long)puVar28 - (long)((ulong)(puVar28 + 1) & 0xfffffffffffffff8);
      puVar40 = (undefined8 *)((long)&local_1cc0 - lVar33);
      puVar41 = (undefined8 *)((ulong)(puVar28 + 1) & 0xfffffffffffffff8);
      for (uVar36 = (ulong)((int)lVar33 + 0x200U >> 3); uVar36 != 0; uVar36 = uVar36 - 1) {
        *puVar41 = *puVar40;
        puVar40 = puVar40 + (ulong)bVar43 * -2 + 1;
        puVar41 = puVar41 + (ulong)bVar43 * -2 + 1;
      }
      pauVar30 = (undefined1 (*) [16])local_34c0;
      peVar26 = this;
    } while (pauVar24 + uVar25 * 0x1a0 != pauVar42);
  }
  if (pauVar24 != local_3558) {
    embree::alignedFree(pauVar24);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
LAB_0010f827:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo
   embree::parallel_reduce_internal<unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,
   2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB const*, unsigned long, unsigned long,
   unsigned long, unsigned long, embree::BBox<float>, embree::SetMB const&,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const
   (embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&)>(unsigned
   long, unsigned long, unsigned long, unsigned long,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,
   2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB const*, unsigned long, unsigned long,
   unsigned long, unsigned long, embree::BBox<float>, embree::SetMB const&,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh> const&)::{lambda(embree::range<unsigned
   long> const&)#1} const&, embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const (
   const&)(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::TemporalBinInfo const&)) [clone
   .isra.0] [clone .cold] */

void embree::
     parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
               (ulong param_1,ulong param_2,ulong param_3,ulong param_4,
               TemporalBinInfo_conflict *param_5,
               _lambda_embree__range<unsigned_long>_const___1_ *param_6,
               _func_TemporalBinInfo_TemporalBinInfo_ptr_TemporalBinInfo_ptr_conflict *param_7)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned
   long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#1}, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const
   (embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#1} const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const (
   const&)(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)) [clone .isra.0] [clone .cold] */

void embree::
     parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
               (ulong param_1,ulong param_2,ulong param_3,ulong param_4,
               PrimInfoMBT_conflict *param_5,
               _lambda_embree__range<unsigned_long>_const___1_ *param_6,
               _func_PrimInfoMBT_PrimInfoMBT_ptr_PrimInfoMBT_ptr_conflict *param_7)

{
                    /* WARNING: Subroutine does not return */
  abort();
}



/* embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > embree::parallel_reduce_internal<unsigned
   long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> >,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#3}, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const
   (embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)>(unsigned long, unsigned long,
   unsigned long, unsigned long, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, 2ul>::split(embree::sse2::BinSplit<32ul>
   const&, embree::SetMB const&, embree::SetMB&, embree::SetMB&)::{lambda(embree::range<unsigned
   long> const&)#3} const&, embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const (
   const&)(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&,
   embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa> > const&)) */

embree * __thiscall
embree::
parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_3_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
          (embree *this,ulong param_1,ulong param_2,ulong param_3,ulong param_4,
          PrimInfoMBT_conflict *param_5,_lambda_embree__range<unsigned_long>_const___3_ *param_6,
          _func_PrimInfoMBT_PrimInfoMBT_ptr_PrimInfoMBT_ptr_conflict *param_7)

{
  int *piVar1;
  undefined8 *puVar2;
  long lVar3;
  long lVar4;
  ulong uVar5;
  long lVar6;
  long lVar7;
  undefined8 uVar8;
  ulong uVar9;
  long in_FS_OFFSET;
  ulong local_2128;
  ulong local_2120;
  ulong local_2118 [2];
  ulong local_2108;
  ulong *local_2100;
  ulong *local_20f8;
  ulong *local_20f0;
  undefined1 *local_20e8;
  _lambda_embree__range<unsigned_long>_const___3_ *local_20e0;
  undefined8 local_20d0;
  undefined8 uStack_20c8;
  undefined8 local_20c0;
  undefined8 **ppuStack_20b8;
  ulong *local_20b0;
  undefined8 uStack_20a8;
  undefined8 local_20a0;
  undefined8 uStack_2098;
  undefined8 local_2090;
  undefined8 uStack_2088;
  undefined8 local_2080;
  undefined8 uStack_2078;
  undefined8 local_2070;
  undefined8 uStack_2068;
  undefined8 local_2060;
  undefined8 local_2058;
  undefined8 local_2050;
  undefined8 local_2048;
  undefined1 local_2040 [8064];
  undefined1 *local_c0;
  ulong local_b8;
  long local_48;
  
  local_48 = *(long *)(in_FS_OFFSET + 0x28);
  local_2128 = param_3;
  local_2120 = param_2;
  local_2118[0] = param_1;
  uVar5 = embree::TaskScheduler::threadCount();
  if (0x200 < local_2118[0]) {
    local_2118[0] = 0x200;
  }
  if (uVar5 < local_2118[0]) {
    local_2118[0] = uVar5;
  }
  local_b8 = local_2118[0];
  if (local_2118[0] * 0x90 < 0x2001) {
    local_c0 = local_2040;
  }
  else {
    local_c0 = (undefined1 *)embree::alignedMalloc(local_2118[0] * 0x90,0x40);
  }
  uVar5 = local_2118[0];
  local_2100 = &local_2120;
  local_20f8 = &local_2128;
  local_20f0 = local_2118;
  local_20e0 = param_6;
  local_20e8 = local_2040;
  if (local_2118[0] != 0) {
    ppuStack_20b8 = &local_2100;
    uStack_20c8 = 0;
    local_20c0 = 1;
    local_2108 = 0;
    local_20d0 = local_2118[0];
    local_20b0 = &local_2108;
    lVar6 = embree::TaskScheduler::thread();
    if (lVar6 == 0) {
      uVar8 = embree::TaskScheduler::instance();
      _ZN6embree13TaskScheduler10spawn_rootIZNS0_5spawnImZNS_12parallel_forImZNS_24parallel_reduce_internalImNS_11PrimInfoMBTINS_5LBBoxINS_6Vec3faEEEEEZNS_4sse227HeuristicMBlurTemporalSplitINS_9PrimRefMBENSA_18RecalculatePrimRefINS_12TriangleMeshEEELm2EE5splitERKNSA_8BinSplitILm32EEERKNS_5SetMBERSL_SO_EUlRKNS_5rangeImEEE1_FKS9_RSU_SV_EEET0_T_SY_SY_SY_RKSX_RKT1_RKT2_EUlmE_EEvSY_S10_EUlSS_E_EEvSY_SY_SY_S10_PNS0_16TaskGroupContextEEUlvE_EEvRKSY_S1A_mb
                (uVar8,&local_20d0,&local_2108,uVar5,1);
    }
    else {
      if (0xfff < *(ulong *)(lVar6 + 0x40080)) {
LAB_001118f0:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar3 = *(long *)(lVar6 + 0xc00c0);
      uVar9 = lVar3 + 0x30 + (ulong)(-(int)lVar3 & 0x3f);
      if (0x80000 < uVar9) goto LAB_001118f0;
      *(ulong *)(lVar6 + 0xc00c0) = uVar9;
      puVar2 = (undefined8 *)(lVar6 + 0x40090 + uVar9);
      *puVar2 = 0x12d5a8;
      puVar2[1] = local_20d0;
      puVar2[2] = uStack_20c8;
      puVar2[3] = local_20c0;
      puVar2[4] = ppuStack_20b8;
      puVar2[5] = local_20b0;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar4 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar2;
      *(long *)(lVar7 + 0x58) = lVar4;
      *(ulong **)(lVar7 + 0x60) = &local_2108;
      *(long *)(lVar7 + 0x68) = lVar3;
      *(ulong *)(lVar7 + 0x70) = uVar5;
      if (lVar4 != 0) {
        LOCK();
        *(int *)(lVar4 + 4) = *(int *)(lVar4 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
    }
    embree::TaskScheduler::wait();
    if (local_2108 != 0) {
      local_20d0 = local_2108;
      std::__exception_ptr::exception_ptr::_M_addref();
      std::rethrow_exception(&local_20d0);
      goto LAB_001118eb;
    }
  }
  uVar8 = *(undefined8 *)(param_5 + 8);
  *(undefined8 *)this = *(undefined8 *)param_5;
  *(undefined8 *)(this + 8) = uVar8;
  uVar8 = *(undefined8 *)(param_5 + 0x18);
  *(undefined8 *)(this + 0x10) = *(undefined8 *)(param_5 + 0x10);
  *(undefined8 *)(this + 0x18) = uVar8;
  uVar8 = *(undefined8 *)(param_5 + 0x28);
  *(undefined8 *)(this + 0x20) = *(undefined8 *)(param_5 + 0x20);
  *(undefined8 *)(this + 0x28) = uVar8;
  uVar8 = *(undefined8 *)(param_5 + 0x38);
  *(undefined8 *)(this + 0x30) = *(undefined8 *)(param_5 + 0x30);
  *(undefined8 *)(this + 0x38) = uVar8;
  uVar8 = *(undefined8 *)(param_5 + 0x48);
  *(undefined8 *)(this + 0x40) = *(undefined8 *)(param_5 + 0x40);
  *(undefined8 *)(this + 0x48) = uVar8;
  uVar8 = *(undefined8 *)(param_5 + 0x58);
  *(undefined8 *)(this + 0x50) = *(undefined8 *)(param_5 + 0x50);
  *(undefined8 *)(this + 0x58) = uVar8;
  *(undefined8 *)(this + 0x60) = *(undefined8 *)(param_5 + 0x60);
  *(undefined8 *)(this + 0x68) = *(undefined8 *)(param_5 + 0x68);
  *(undefined8 *)(this + 0x70) = *(undefined8 *)(param_5 + 0x70);
  *(undefined8 *)(this + 0x78) = *(undefined8 *)(param_5 + 0x78);
  *(undefined8 *)(this + 0x80) = *(undefined8 *)(param_5 + 0x80);
  *(undefined8 *)(this + 0x88) = *(undefined8 *)(param_5 + 0x88);
  if (local_2118[0] != 0) {
    uVar5 = 0;
    do {
      uVar9 = uVar5 + 1;
      (*param_7)((PrimInfoMBT_conflict *)&local_20d0,(PrimInfoMBT_conflict *)this,
                 (PrimInfoMBT_conflict *)(local_c0 + uVar5 * 0x90));
      *(undefined8 *)(this + 0x70) = local_2060;
      *(undefined4 *)this = (undefined4)local_20d0;
      *(undefined4 *)(this + 4) = local_20d0._4_4_;
      *(undefined4 *)(this + 8) = (undefined4)uStack_20c8;
      *(undefined4 *)(this + 0xc) = uStack_20c8._4_4_;
      *(undefined8 *)(this + 0x78) = local_2058;
      *(undefined8 *)(this + 0x10) = local_20c0;
      *(undefined8 ***)(this + 0x18) = ppuStack_20b8;
      *(undefined8 *)(this + 0x80) = local_2050;
      *(ulong **)(this + 0x20) = local_20b0;
      *(undefined8 *)(this + 0x28) = uStack_20a8;
      *(undefined8 *)(this + 0x30) = local_20a0;
      *(undefined8 *)(this + 0x38) = uStack_2098;
      *(undefined8 *)(this + 0x88) = local_2048;
      *(undefined8 *)(this + 0x40) = local_2090;
      *(undefined8 *)(this + 0x48) = uStack_2088;
      *(undefined8 *)(this + 0x50) = local_2080;
      *(undefined8 *)(this + 0x58) = uStack_2078;
      *(undefined8 *)(this + 0x60) = local_2070;
      *(undefined8 *)(this + 0x68) = uStack_2068;
      uVar5 = uVar9;
    } while (uVar9 < local_2118[0]);
  }
  if (local_c0 != local_2040) {
    embree::alignedFree(local_c0);
  }
  if (local_48 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
LAB_001118eb:
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::createLargeLeaf(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator) */

BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
* __thiscall
embree::sse2::BVHBuilderMSMBlur::
BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
::createLargeLeaf(BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
                  *this,ulong *param_1,ulong *param_3)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  ulong *puVar5;
  void *pvVar6;
  ulong *puVar7;
  float *pfVar8;
  long lVar9;
  long lVar10;
  int iVar11;
  float fVar12;
  undefined8 uVar13;
  undefined8 uVar14;
  undefined8 uVar15;
  undefined8 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined1 auVar20 [16];
  undefined1 auVar21 [16];
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  bool bVar26;
  undefined4 uVar27;
  undefined4 uVar28;
  ulong uVar29;
  ulong uVar30;
  ulong uVar31;
  ulong uVar32;
  ulong uVar33;
  ulong uVar34;
  ulong uVar35;
  undefined1 auVar36 [12];
  int iVar37;
  ulong uVar38;
  ulong uVar39;
  ulong *puVar40;
  ulong *puVar41;
  undefined8 uVar42;
  undefined8 *puVar43;
  undefined1 (*pauVar44) [16];
  ulong uVar45;
  float *pfVar46;
  long lVar47;
  uint uVar48;
  float **ppfVar49;
  long lVar50;
  int *piVar51;
  int iVar52;
  float *pfVar53;
  uint *puVar54;
  uint *puVar55;
  ulong uVar56;
  bool bVar57;
  ulong uVar58;
  uint uVar59;
  ulong uVar60;
  long *plVar61;
  long *plVar62;
  uint *puVar63;
  undefined8 *puVar64;
  undefined8 *puVar65;
  long lVar66;
  SetMB *pSVar67;
  long in_FS_OFFSET;
  undefined1 auVar68 [16];
  undefined1 auVar69 [16];
  undefined1 auVar70 [16];
  undefined1 auVar71 [16];
  uint uVar72;
  undefined1 auVar73 [16];
  undefined1 auVar74 [16];
  undefined1 auVar75 [16];
  undefined1 auVar76 [16];
  undefined1 auVar77 [16];
  float fVar78;
  undefined1 auVar79 [16];
  float fVar80;
  float fVar81;
  undefined1 auVar82 [16];
  undefined1 auVar83 [16];
  undefined1 auVar84 [16];
  undefined1 auVar85 [16];
  undefined1 auVar86 [16];
  float fVar87;
  undefined1 auVar88 [16];
  undefined1 auVar89 [16];
  undefined1 auVar90 [16];
  undefined1 auVar91 [16];
  float fVar93;
  undefined1 auVar92 [16];
  float fVar94;
  undefined1 auVar95 [16];
  undefined1 auVar96 [16];
  undefined1 auVar97 [16];
  undefined1 auVar98 [16];
  float fVar99;
  undefined1 auVar100 [16];
  undefined1 auVar101 [16];
  undefined1 auVar102 [16];
  undefined1 auVar103 [16];
  undefined1 auVar104 [16];
  float fVar105;
  undefined1 auVar106 [16];
  undefined1 auVar107 [16];
  float fVar111;
  float fVar112;
  undefined1 auVar108 [16];
  undefined1 auVar109 [16];
  float fVar113;
  undefined1 auVar110 [16];
  float fVar114;
  undefined1 auVar115 [16];
  undefined1 auVar116 [16];
  undefined1 auVar117 [16];
  undefined1 auVar118 [16];
  undefined1 auVar119 [16];
  float fVar123;
  undefined1 auVar120 [16];
  undefined1 auVar121 [16];
  undefined1 auVar122 [16];
  undefined1 auVar124 [16];
  undefined1 auVar125 [16];
  undefined1 auVar126 [16];
  undefined1 auVar127 [16];
  undefined1 auVar128 [16];
  undefined1 auVar129 [16];
  undefined1 auVar130 [16];
  undefined1 auVar131 [16];
  undefined1 auVar132 [16];
  undefined1 auVar133 [16];
  float fVar138;
  float fVar139;
  undefined1 auVar134 [16];
  undefined1 auVar135 [16];
  undefined1 auVar136 [16];
  undefined1 auVar137 [16];
  float fVar140;
  float fVar142;
  float fVar143;
  undefined1 auVar141 [16];
  FastAllocator *in_stack_00000008;
  ulong *in_stack_00000010;
  ulong *in_stack_00000018;
  undefined1 local_1e98 [16];
  undefined1 local_1e88 [16];
  undefined1 local_1e78 [16];
  undefined1 local_1e68 [16];
  undefined8 local_1e58;
  float fStack_1e50;
  float fStack_1e4c;
  float local_1e48;
  float fStack_1e44;
  float fStack_1e40;
  float fStack_1e3c;
  ulong local_1e30;
  float local_1e28;
  undefined1 auStack_1e24 [12];
  undefined1 local_1e18 [16];
  undefined1 local_1e08 [16];
  undefined1 local_1df8 [16];
  undefined1 local_1de8 [16];
  undefined1 local_1dd8 [16];
  undefined1 local_1dc8 [16];
  undefined1 local_1db8 [16];
  undefined1 local_1da8 [16];
  undefined1 local_1d98 [16];
  undefined1 local_1d88 [16];
  undefined1 local_1d78 [16];
  undefined1 local_1d68 [16];
  undefined1 local_1d58 [16];
  ulong local_1d48;
  ulong local_1d40;
  undefined1 local_1ce8 [8];
  undefined8 uStack_1ce0;
  undefined1 local_1cd8 [8];
  undefined8 uStack_1cd0;
  float local_1c68;
  ulong *local_1c50;
  float local_1c48;
  float local_1c44;
  float local_1c40;
  float local_1c3c;
  float *local_1c38;
  float *local_1c30;
  ulong *local_1c28;
  float *local_1c20;
  ulong *local_1c18;
  ulong *local_1c08;
  float *local_1c00;
  ulong *local_1bf8;
  ulong **local_1bf0;
  SetMB *local_1be8;
  float *local_1bd8;
  float *pfStack_1bd0;
  undefined1 *local_1bc8;
  ulong uStack_1bc0;
  float *local_1bb8;
  float *pfStack_1bb0;
  undefined1 *local_1ba8;
  ulong uStack_1ba0;
  float *local_1b98;
  float *pfStack_1b90;
  undefined1 *local_1b88;
  ulong uStack_1b80;
  float *local_1b78;
  float *local_1b70;
  ulong local_1b68;
  undefined8 local_1b60;
  float local_1b58;
  undefined4 local_1b54;
  float local_1b50;
  float local_1b4c;
  float *local_1b48;
  float *pfStack_1b40;
  undefined1 *local_1b38;
  ulong uStack_1b30;
  float *local_1b28;
  float *pfStack_1b20;
  undefined1 *local_1b18;
  ulong uStack_1b10;
  float *local_1b08;
  float *pfStack_1b00;
  undefined1 *local_1af8;
  ulong uStack_1af0;
  float *local_1ae8;
  ulong local_1ae0;
  ulong local_1ad8;
  undefined8 local_1ad0;
  undefined8 local_1ac8;
  undefined8 local_1ac0;
  float *local_1ab8;
  float *pfStack_1ab0;
  undefined1 *local_1aa8;
  ulong uStack_1aa0;
  float *local_1a98;
  float *pfStack_1a90;
  undefined1 *local_1a88;
  ulong uStack_1a80;
  float *local_1a78;
  float *pfStack_1a70;
  undefined8 local_1a68;
  ulong uStack_1a60;
  undefined8 local_1a58;
  undefined8 local_1a50;
  ulong local_1a48;
  undefined8 local_1a40;
  undefined8 local_1a38;
  undefined8 local_1a30;
  ulong local_1a28;
  ulong local_1a20;
  undefined8 local_1a08;
  undefined8 uStack_1a00;
  undefined1 local_19f8 [8];
  undefined8 uStack_19f0;
  ulong local_19e8;
  ulong local_19d8;
  ulong uStack_19d0;
  ulong local_19c8;
  ulong uStack_19c0;
  ulong local_19b8;
  undefined1 local_19a8 [16];
  undefined1 local_1998 [16];
  undefined1 local_1988 [16];
  undefined1 local_1978 [16];
  undefined1 local_1968 [16];
  undefined1 local_1958 [16];
  float *local_1948;
  float *pfStack_1940;
  ulong local_1938;
  ulong local_1930;
  ulong local_1928;
  undefined8 local_1920;
  ulong local_1918;
  float local_1908;
  undefined4 local_1904;
  uint local_1900;
  uint local_18fc;
  ulong local_18f8;
  undefined8 local_18e8;
  undefined8 uStack_18e0;
  undefined8 local_18d8;
  undefined8 uStack_18d0;
  undefined8 local_18c8;
  undefined8 uStack_18c0;
  float *local_18b8;
  float *pfStack_18b0;
  undefined1 *local_18a8;
  ulong uStack_18a0;
  float *local_1898;
  float *pfStack_1890;
  undefined1 *local_1888;
  ulong uStack_1880;
  float *local_1878;
  float *pfStack_1870;
  undefined1 *local_1868;
  ulong uStack_1860;
  float *local_1858;
  float *pfStack_1850;
  ulong local_1848;
  undefined8 local_1840;
  undefined8 local_1838;
  float local_1830;
  float fStack_182c;
  ulong *local_1828;
  undefined8 local_1818;
  undefined8 local_1810;
  ulong local_1808;
  ulong local_17f8;
  ulong uStack_17f0;
  ulong local_17e8;
  ulong uStack_17e0;
  undefined8 local_17d8;
  uint uStack_17d0;
  uint uStack_17cc;
  undefined8 local_17c8;
  undefined8 uStack_17c0;
  undefined8 local_17b8;
  undefined8 uStack_17b0;
  undefined8 local_17a8;
  undefined8 uStack_17a0;
  undefined8 local_1798;
  undefined8 uStack_1790;
  undefined8 local_1788;
  float *pfStack_1780;
  undefined1 local_1778 [16];
  float local_1768;
  float fStack_1764;
  float fStack_1760;
  float fStack_175c;
  undefined8 local_1758;
  undefined8 uStack_1750;
  undefined8 local_1748;
  float fStack_1740;
  float fStack_173c;
  undefined8 local_1738;
  float fStack_1730;
  float fStack_172c;
  undefined8 local_1728;
  undefined8 local_1720;
  ulong local_1718;
  undefined8 local_1708;
  undefined8 uStack_1700;
  undefined8 local_16f8;
  undefined8 uStack_16f0;
  float local_16e8;
  float fStack_16e4;
  float fStack_16e0;
  float fStack_16dc;
  float local_16d8;
  float fStack_16d4;
  float fStack_16d0;
  float fStack_16cc;
  float local_16c8;
  float local_16c4;
  ulong local_16b8;
  float local_16a8;
  float fStack_16a4;
  float fStack_16a0;
  float fStack_169c;
  float local_1698;
  float fStack_1694;
  float fStack_1690;
  float fStack_168c;
  float local_1688;
  float fStack_1684;
  float fStack_1680;
  float fStack_167c;
  float local_1678;
  float fStack_1674;
  float fStack_1670;
  float fStack_166c;
  float local_1668;
  float local_1664;
  undefined8 local_11d8;
  uint uStack_11d0;
  uint uStack_11cc;
  undefined1 local_11c8 [16];
  undefined1 local_11b8 [16];
  undefined1 local_11a8 [16];
  undefined1 local_1198 [16];
  undefined1 local_1188 [16];
  undefined1 local_1178 [16];
  float *local_1168 [2];
  ulong local_1158 [2];
  undefined8 local_1148;
  undefined8 local_1140;
  ulong local_1138 [2];
  float local_1128 [2];
  uint local_1120;
  uint local_111c;
  ulong local_1118 [4];
  undefined8 local_10f8;
  undefined8 uStack_10f0;
  undefined8 local_1038;
  undefined8 local_1030;
  undefined8 local_f48;
  undefined8 local_f40;
  undefined8 local_e58;
  undefined8 local_e50;
  undefined8 local_d68;
  undefined8 local_d60;
  undefined8 local_c78;
  undefined8 local_c70;
  float local_b88;
  undefined4 local_b84;
  undefined8 local_b80;
  undefined8 local_a98;
  undefined8 local_a90;
  undefined8 local_9a8;
  undefined8 local_9a0;
  undefined8 local_8b8;
  undefined8 local_8b0;
  undefined8 local_7c8;
  undefined8 local_7c0;
  undefined8 local_6d8;
  undefined8 local_6d0;
  undefined8 local_5e8;
  undefined8 local_5e0;
  undefined8 local_4f8;
  undefined8 local_4f0;
  undefined8 local_408;
  undefined8 local_400;
  undefined8 local_318;
  undefined8 local_310;
  ulong *local_2d8 [16];
  ulong local_258;
  ulong local_250 [64];
  long local_50;
  long local_40;
  
  uVar60 = *param_3;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < uVar60) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  findFallback((SetMB *)&local_11d8);
  local_1a28 = param_3[0x12];
  local_19a8 = *(undefined1 (*) [16])(param_3 + 2);
  local_1a20 = param_3[0x13];
  local_1998 = *(undefined1 (*) [16])(param_3 + 4);
  local_1968 = *(undefined1 (*) [16])(param_3 + 10);
  local_1958 = *(undefined1 (*) [16])(param_3 + 0xc);
  pfVar46 = (float *)param_3[0xe];
  pfStack_1940 = (float *)param_3[0xf];
  local_1988 = *(undefined1 (*) [16])(param_3 + 6);
  local_1978 = *(undefined1 (*) [16])(param_3 + 8);
  local_1938 = param_3[0x10];
  local_1930 = param_3[0x11];
  local_1918 = param_3[0x14];
  local_1908 = (float)local_11d8;
  local_1904 = local_11d8._4_4_;
  local_1900 = uStack_11d0;
  local_18fc = uStack_11cc;
  local_18f8 = local_11c8._0_8_;
  local_18e8 = local_11b8._0_8_;
  uStack_18e0 = local_11b8._8_8_;
  local_18d8 = local_11a8._0_8_;
  uStack_18d0 = local_11a8._8_8_;
  local_19b8 = uVar60;
  local_1948 = pfVar46;
  local_1928 = local_1a28;
  local_1920 = local_1a20;
  if (uVar60 == 1) {
    if (pfVar46 == pfStack_1940) {
      if (1 < uStack_11cc) {
        bVar57 = false;
        goto LAB_00111ae6;
      }
      local_1e98._0_8_ = 8;
      pfVar53 = (float *)0x0;
      uVar60 = 0;
      goto LAB_0011400b;
    }
    local_1920._0_4_ = (float)local_1a20;
    fVar87 = _LC8;
    fVar78 = _LC10;
    if (pfVar46 < pfStack_1940) {
      pfVar53 = (float *)(*(long *)(local_1918 + 0x20) + 0x40 + (long)pfVar46 * 0x50);
      local_1e98._0_8_ = pfVar53;
      fVar80 = _LC8;
      do {
        pfVar8 = pfVar53 + 1;
        if (*pfVar53 <= fVar78) {
          fVar78 = *pfVar53;
        }
        pfVar53 = pfVar53 + 0x14;
        fVar87 = *pfVar8;
        if (*pfVar8 <= fVar80) {
          fVar87 = fVar80;
        }
        fVar80 = fVar87;
      } while ((float *)(*(long *)(local_1918 + 0x20) + 0x40 + (long)pfStack_1940 * 0x50) != pfVar53
              );
    }
    if (((float)local_1920 < fVar78) ||
       (local_1920._4_4_ = (float)(local_1a20 >> 0x20), fVar87 < local_1920._4_4_)) {
      bVar57 = true;
LAB_00111ae6:
      local_1030 = 0;
      local_1038 = 0xffffffff7f800000;
      local_f48 = 0xffffffff7f800000;
      local_e58 = 0xffffffff7f800000;
      local_d68 = 0xffffffff7f800000;
      local_c78 = 0xffffffff7f800000;
      local_a98 = 0xffffffff7f800000;
      local_9a8 = 0xffffffff7f800000;
      local_8b8 = 0xffffffff7f800000;
      local_7c8 = 0xffffffff7f800000;
      local_6d8 = 0xffffffff7f800000;
      local_5e8 = 0xffffffff7f800000;
      local_4f8 = 0xffffffff7f800000;
      local_408 = 0xffffffff7f800000;
      local_318 = 0xffffffff7f800000;
      local_f40 = 0;
      local_e50 = 0;
      local_d60 = 0;
      local_c70 = 0;
      local_b84 = 0xffffffff;
      local_b80 = 0;
      local_a90 = 0;
      local_9a0 = 0;
      local_8b0 = 0;
      local_7c0 = 0;
      local_6d0 = 0;
      local_5e0 = 0;
      local_4f0 = 0;
      local_400 = 0;
      local_310 = 0;
      local_258 = 1;
      local_b88 = _LC10;
      local_50 = 1;
      local_1118[0] = local_11c8._0_8_;
      local_1148 = local_1a28;
      local_1168[0] = pfVar46;
      local_1168[1] = pfStack_1940;
      local_1140 = local_1a20;
      local_1cd8._4_4_ = _LC10;
      local_1cd8._0_4_ = _LC10;
      uStack_1cd0._0_4_ = _LC10;
      uStack_1cd0._4_4_ = _LC10;
      local_1120 = uStack_11d0;
      local_2d8[0] = local_250;
      local_1158[0] = local_1938;
      local_1158[1] = local_1930;
      local_1138[0] = local_1918;
      local_1128[1] = (float)local_11d8._4_4_;
      local_111c = uStack_11cc;
      local_250[0] = local_1918;
      local_250[1] = 2;
      bVar26 = false;
      local_1128[0] = (float)local_11d8;
      local_1118[2] = local_11b8._0_8_;
      local_1118[3] = local_11b8._8_8_;
      local_10f8 = local_11a8._0_8_;
      uStack_10f0 = local_11a8._8_8_;
      local_1ce8._4_4_ = _LC8;
      local_1ce8._0_4_ = _LC8;
      uStack_1ce0._0_4_ = _LC8;
      uStack_1ce0._4_4_ = _LC8;
      local_11d8 = uVar60;
      local_11c8 = local_19a8;
      local_11b8 = local_1998;
      local_11a8 = local_1988;
      local_1198 = local_1978;
      local_1188 = local_1968;
      local_1178 = local_1958;
      while( true ) {
        auVar36 = local_1e88._4_12_;
        uVar42 = _fStack_1e50;
        uVar45 = 0;
        uVar60 = 0;
        uVar38 = 0xffffffffffffffff;
        ppfVar49 = local_1168;
        do {
          uVar39 = (long)ppfVar49[1] - (long)*ppfVar49;
          if ((((param_1[4] < uVar39) || (1 < *(uint *)((long)ppfVar49 + 0x4c))) || (bVar57)) &&
             (uVar60 < uVar39)) {
            uVar60 = uVar39;
            uVar38 = uVar45;
          }
          uVar45 = uVar45 + 1;
          ppfVar49 = ppfVar49 + 0x1e;
          bVar57 = false;
        } while (uVar45 != local_258);
        if (uVar38 == 0xffffffffffffffff) break;
        local_1810 = 0;
        local_1818 = 0xffffffff7f800000;
        local_1d40 = local_19b8 + 1;
        local_1728 = 0xffffffff7f800000;
        local_18c8 = local_1d40;
        lVar66 = uVar38 * 0xf0;
        local_1e98._0_8_ = local_1d40;
        iVar37 = *(int *)((long)local_1118 + lVar66 + -4);
        pSVar67 = (SetMB *)(local_11c8 + lVar66);
        local_1720 = 0;
        uVar60 = uVar38;
        local_17d8 = local_1d40;
        if (iVar37 == 0) {
          pfVar46 = local_1168[uVar38 * 0x1e];
          pfVar53 = local_1168[uVar38 * 0x1e + 1];
          local_1ac8 = 0x3f80000000000000;
          local_1a08._4_4_ = local_1128[uVar38 * 0x3c + 2];
          local_1a38 = 0x3f80000000000000;
          local_1ae8 = (float *)0x0;
          local_1ae0 = 0;
          local_1ad8 = 0;
          local_1ad0 = 0;
          local_1ac0 = 0x3f800000;
          local_1a58 = 0;
          local_1a50 = 0;
          local_1a48 = 0;
          local_1a40 = 0;
          local_1a30 = 0x3f800000;
          local_1b48 = (float *)local_1cd8;
          pfStack_1b40 = uStack_1cd0;
          local_1b38 = (undefined1 *)local_1ce8;
          uStack_1b30 = uStack_1ce0;
          local_1b28 = (float *)local_1cd8;
          pfStack_1b20 = uStack_1cd0;
          local_1b18 = (undefined1 *)local_1ce8;
          uStack_1b10 = uStack_1ce0;
          local_1b08 = (float *)local_1cd8;
          pfStack_1b00 = uStack_1cd0;
          local_1af8 = (undefined1 *)local_1ce8;
          uStack_1af0 = uStack_1ce0;
          local_1ab8 = (float *)local_1cd8;
          pfStack_1ab0 = uStack_1cd0;
          local_1aa8 = (undefined1 *)local_1ce8;
          uStack_1aa0 = uStack_1ce0;
          local_1a98 = (float *)local_1cd8;
          pfStack_1a90 = uStack_1cd0;
          local_1a88 = (undefined1 *)local_1ce8;
          uStack_1a80 = uStack_1ce0;
          local_1a78 = (float *)local_1cd8;
          pfStack_1a70 = uStack_1cd0;
          local_1a68 = (undefined1 *)local_1ce8;
          uStack_1a60 = uStack_1ce0;
          local_1a08._0_4_ = local_1a08._4_4_;
          uStack_1a00._0_4_ = local_1a08._4_4_;
          uStack_1a00._4_4_ = local_1a08._4_4_;
          _local_19f8 = *(undefined1 (*) [16])
                         (&mm_lookupmask_ps +
                         (long)(1 << (SUB41(local_1128[uVar38 * 0x3c + 1],0) & 0x1f)) * 2);
          pfStack_1bd0 = (float *)&local_1a08;
          local_1bc8 = local_19f8;
          local_1bd8 = local_1128 + uVar38 * 0x3c;
          pfStack_1850 = (float *)parallel_partitioning<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>
                                            (*(PrimRefMB **)(local_1138[uVar38 * 0x1e] + 0x20),
                                             (ulong)pfVar46,(ulong)pfVar53,(EmptyTy *)&local_1c08,
                                             (PrimInfoMBT_conflict *)&local_1b48,
                                             (PrimInfoMBT_conflict *)&local_1ab8,
                                             (_lambda_embree__PrimRefMB_const___1_ *)&local_1bd8,
                                             (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimRefMB_const___2_
                                              *)&local_1c38,
                                             (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>_const___3_
                                              *)&local_1c28,0x80,0xc00);
          puVar41 = (ulong *)local_1138[uVar38 * 0x1e];
          local_1e08._8_8_ = pfStack_1b40;
          local_1e08._0_8_ = local_1b48;
          local_1838 = local_1ac8;
          uVar42 = local_1838;
          local_18b8 = local_1b48;
          pfStack_18b0 = pfStack_1b40;
          local_1e48 = *(float *)(local_1138 + uVar38 * 0x1e + -1);
          local_1e78._0_8_ = local_1ad0;
          local_1df8._8_8_ = uStack_1b30;
          local_1df8._0_8_ = local_1b38;
          fVar87 = *(float *)((long)local_1138 + lVar66 + -4);
          local_18a8 = local_1b38;
          uStack_18a0 = uStack_1b30;
          local_1de8._8_8_ = pfStack_1b20;
          local_1de8._0_8_ = local_1b28;
          local_1898 = local_1b28;
          pfStack_1890 = pfStack_1b20;
          local_1dd8._8_8_ = uStack_1b10;
          local_1dd8._0_8_ = local_1b18;
          local_1888 = local_1b18;
          uStack_1880 = uStack_1b10;
          local_1e30 = local_1ad8;
          local_1848 = local_1ad8;
          local_1840 = local_1ad0;
          local_1dc8._8_8_ = pfStack_1b00;
          local_1dc8._0_8_ = local_1b08;
          local_1878 = local_1b08;
          pfStack_1870 = pfStack_1b00;
          local_1db8._8_8_ = uStack_1af0;
          local_1db8._0_8_ = local_1af8;
          local_1868 = local_1af8;
          uStack_1860 = uStack_1af0;
          fStack_182c = (float)((ulong)local_1ac0 >> 0x20);
          local_1830 = (float)local_1ac0;
          local_1e58._0_4_ = local_1e48;
          if (local_1e48 <= local_1830) {
            local_1e58._0_4_ = local_1830;
          }
          if (fVar87 <= fStack_182c) {
            fStack_182c = fVar87;
          }
          local_1d98._8_8_ = uStack_1aa0;
          local_1d98._0_8_ = local_1aa8;
          local_1da8._8_8_ = pfStack_1ab0;
          local_1da8._0_8_ = local_1ab8;
          local_17c8 = local_1ab8;
          uStack_17c0 = pfStack_1ab0;
          local_1758 = local_1a48;
          local_1778._8_8_ = uStack_1a60;
          local_1778._0_8_ = local_1a68;
          local_1e68._0_8_ = local_1a40;
          uStack_1750 = local_1a40;
          _local_1830 = CONCAT44(fStack_182c,(float)local_1e58);
          local_17b8 = local_1aa8;
          uStack_17b0 = uStack_1aa0;
          local_1d88._8_8_ = pfStack_1a90;
          local_1d88._0_8_ = local_1a98;
          local_17a8 = local_1a98;
          uStack_17a0 = pfStack_1a90;
          local_1d78._8_8_ = uStack_1a80;
          local_1d78._0_8_ = local_1a88;
          local_1798 = local_1a88;
          uStack_1790 = uStack_1a80;
          local_1d68._8_8_ = pfStack_1a70;
          local_1d68._0_8_ = local_1a78;
          local_1788 = local_1a78;
          pfStack_1780 = pfStack_1a70;
          local_1748 = local_1a38;
          uVar13 = local_1748;
          local_1768 = SUB84(pfStack_1850,0);
          fStack_1764 = (float)((ulong)pfStack_1850 >> 0x20);
          fStack_1740 = (float)local_1a30;
          if (local_1e48 <= fStack_1740) {
            local_1e48 = fStack_1740;
          }
          fStack_173c = (float)((ulong)local_1a30 >> 0x20);
          if (fVar87 <= fStack_173c) {
            fStack_173c = fVar87;
          }
          local_1838._0_4_ = (float)local_1ac8;
          fStack_1760 = SUB84(pfVar53,0);
          fStack_175c = (float)((ulong)pfVar53 >> 0x20);
          local_1c68 = (float)local_1838;
          local_1838._4_4_ = (undefined4)((ulong)local_1ac8 >> 0x20);
          _fStack_1740 = CONCAT44(fStack_173c,local_1e48);
          local_1e28 = (float)local_1838._4_4_;
          local_1748._0_4_ = (float)local_1a38;
          local_1e18._0_4_ = (float)local_1748;
          local_1748._4_4_ = (float)((ulong)local_1a38 >> 0x20);
          local_1e88._0_4_ = local_1748._4_4_;
          fVar81 = fStack_182c;
          fVar80 = fStack_173c;
          local_1858 = pfVar46;
          local_1838 = uVar42;
          local_1828 = puVar41;
          local_1748 = uVar13;
          local_1738 = puVar41;
        }
        else if (iVar37 == 2) {
          local_1c44 = local_1128[uVar38 * 0x3c + 2];
          local_1c48 = *(float *)(local_1138 + uVar38 * 0x1e + -1);
          puVar7 = (ulong *)local_1138[uVar38 * 0x1e];
          puVar5 = param_1 + 9;
          local_1c3c = *(float *)((long)local_1138 + lVar66 + -4);
          local_1c40 = local_1c44;
          puVar40 = (ulong *)operator_new(0x28);
          pfVar46 = local_1168[uVar38 * 0x1e + 1];
          pfVar53 = local_1168[uVar38 * 0x1e];
          puVar43 = (undefined8 *)param_1[9];
          *(undefined1 *)(puVar40 + 1) = 0;
          puVar40[2] = 0;
          uVar45 = (long)pfVar46 - (long)pfVar53;
          *puVar40 = (ulong)puVar43;
          puVar40[3] = 0;
          puVar40[4] = 0;
          if (uVar45 != 0) {
            uVar39 = uVar45 * 0x50;
            (**(code **)*puVar43)(puVar43,uVar39,0);
            if (uVar39 < 0x1c00000) {
              uVar39 = embree::alignedMalloc(uVar39,0x10);
            }
            else {
              uVar39 = embree::os_malloc(uVar39,(bool *)(puVar40 + 1));
            }
            pfVar46 = local_1168[uVar38 * 0x1e + 1];
            pfVar53 = local_1168[uVar38 * 0x1e];
            puVar40[4] = uVar39;
            puVar40[2] = uVar45;
            puVar40[3] = uVar45;
            uVar45 = (long)pfVar46 - (long)pfVar53;
          }
          local_1bf0 = &local_1c50;
          local_1a58 = 0;
          local_1a50 = 0;
          local_1a48 = 0;
          local_1a40 = 0;
          local_1a38 = 0x3f80000000000000;
          local_1a30 = 0x3f800000;
          local_1e58 = &local_1c48;
          _local_1e58 = CONCAT88(uVar42,local_1e58);
          local_1ab8 = (float *)local_1cd8;
          pfStack_1ab0 = uStack_1cd0;
          local_1aa8 = (undefined1 *)local_1ce8;
          uStack_1aa0 = uStack_1ce0;
          local_1a98 = (float *)local_1cd8;
          pfStack_1a90 = uStack_1cd0;
          local_1a88 = (undefined1 *)local_1ce8;
          uStack_1a80 = uStack_1ce0;
          local_1a78 = (float *)local_1cd8;
          pfStack_1a70 = uStack_1cd0;
          local_1a68 = (undefined1 *)local_1ce8;
          uStack_1a60 = uStack_1ce0;
          local_1c50 = puVar40;
          local_1c08 = puVar7;
          local_1c00 = &local_1c48;
          local_1bf8 = puVar5;
          local_1be8 = pSVar67;
          if (uVar45 < 0xc00) {
            local_1b48 = pfVar53;
            pfStack_1b40 = pfVar46;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                      ((_lambda_embree__range<unsigned_long>const___1_ *)&local_1bd8,
                       (range *)&local_1c08);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((ulong)&local_1bd8,uVar45 + 0x7f >> 7,(ulong)pfVar53,(ulong)pfVar46,
                       (PrimInfoMBT_conflict *)&local_1ab8,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1c08,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          pfVar46 = local_1168[uVar38 * 0x1e + 1];
          pfVar53 = local_1168[uVar38 * 0x1e];
          uVar45 = (long)pfVar46 - (long)pfVar53;
          if ((long)local_1b70 - (long)local_1b78 != uVar45) {
            local_1ab8 = &local_1c48;
            local_1b70 = (float *)parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_>
                                            ((PrimRefMB *)local_1c50[4],0,uVar45,0x400,
                                             (_lambda_embree__PrimRefMB_const___1_ *)&local_1ab8);
            pfVar46 = local_1168[uVar38 * 0x1e + 1];
            pfVar53 = local_1168[uVar38 * 0x1e];
            uVar45 = (long)pfVar46 - (long)pfVar53;
          }
          puVar41 = local_1c50;
          local_1e08._8_8_ = pfStack_1bd0;
          local_1e08._0_8_ = local_1bd8;
          local_18b8 = local_1bd8;
          pfStack_18b0 = pfStack_1bd0;
          fVar87 = local_1c48;
          if (local_1c48 <= local_1b50) {
            fVar87 = local_1b50;
          }
          local_1df8._8_8_ = uStack_1bc0;
          local_1df8._0_8_ = local_1bc8;
          local_1e30 = local_1b68;
          local_1e78._0_8_ = local_1b60;
          local_1e58._0_4_ = fVar87;
          fVar81 = local_1b4c;
          if (local_1c44 <= local_1b4c) {
            fVar81 = local_1c44;
          }
          local_1de8._8_8_ = pfStack_1bb0;
          local_1de8._0_8_ = local_1bb8;
          local_1dd8._8_8_ = uStack_1ba0;
          local_1dd8._0_8_ = local_1ba8;
          local_1dc8._8_8_ = pfStack_1b90;
          local_1dc8._0_8_ = local_1b98;
          local_1db8._8_8_ = uStack_1b80;
          local_1db8._0_8_ = local_1b88;
          local_1c68 = local_1b58;
          local_1e28 = (float)local_1b54;
          local_18a8 = local_1bc8;
          uStack_18a0 = uStack_1bc0;
          local_1898 = local_1bb8;
          pfStack_1890 = pfStack_1bb0;
          local_1888 = local_1ba8;
          uStack_1880 = uStack_1ba0;
          local_1878 = local_1b98;
          pfStack_1870 = pfStack_1b90;
          local_1868 = local_1b88;
          uStack_1860 = uStack_1b80;
          local_1858 = local_1b78;
          local_1848 = local_1b68;
          local_1840 = local_1b60;
          local_1828 = local_1c50;
          local_1a58 = 0;
          local_1a50 = 0;
          local_1a48 = 0;
          local_1a40 = 0;
          local_1a38 = 0x3f80000000000000;
          local_1a30 = 0x3f800000;
          local_1838 = CONCAT44(local_1b54,local_1b58);
          _local_1830 = CONCAT44(fVar81,fVar87);
          local_1ab8 = (float *)local_1cd8;
          pfStack_1ab0 = uStack_1cd0;
          local_1aa8 = (undefined1 *)local_1ce8;
          uStack_1aa0 = uStack_1ce0;
          local_1a98 = (float *)local_1cd8;
          pfStack_1a90 = uStack_1cd0;
          local_1a88 = (undefined1 *)local_1ce8;
          uStack_1a80 = uStack_1ce0;
          local_1a78 = (float *)local_1cd8;
          pfStack_1a70 = uStack_1cd0;
          local_1a68 = (undefined1 *)local_1ce8;
          uStack_1a60 = uStack_1ce0;
          local_1c28 = puVar7;
          local_1c20 = &local_1c40;
          local_1c18 = puVar5;
          pfStack_1850 = local_1b70;
          if (uVar45 < 0xc00) {
            local_1c38 = pfVar53;
            local_1c30 = pfVar46;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#3}::operator()
                      ((_lambda_embree__range<unsigned_long>const___3_ *)&local_1b48,
                       (range *)&local_1c28);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_3_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((embree *)&local_1b48,uVar45 + 0x7f >> 7,(ulong)pfVar53,(ulong)pfVar46,0x80,
                       (PrimInfoMBT_conflict *)&local_1ab8,
                       (_lambda_embree__range<unsigned_long>_const___3_ *)&local_1c28,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          pfVar46 = local_1168[uVar38 * 0x1e];
          lVar50 = local_1ae0 - (long)local_1ae8;
          uVar45 = (long)pfVar46 + lVar50;
          local_1ae8 = pfVar46;
          local_1ae0 = uVar45;
          if (lVar50 != (long)local_1168[uVar38 * 0x1e + 1] - (long)pfVar46) {
            local_1ab8 = &local_1c40;
            uVar45 = parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_4_>
                               ((PrimRefMB *)puVar7[4],(ulong)pfVar46,
                                (ulong)local_1168[uVar38 * 0x1e + 1],0x400,
                                (_lambda_embree__PrimRefMB_const___4_ *)&local_1ab8);
          }
          local_1e88._0_8_ = uVar38;
          local_1768 = SUB84(local_1ae8,0);
          fStack_1764 = (float)((ulong)local_1ae8 >> 0x20);
          local_1e48 = local_1c40;
          if (local_1c40 <= (float)local_1ac0) {
            local_1e48 = (float)local_1ac0;
          }
          local_1da8._8_8_ = pfStack_1b40;
          local_1da8._0_8_ = local_1b48;
          local_1d98._8_8_ = uStack_1b30;
          local_1d98._0_8_ = local_1b38;
          local_1778._8_8_ = uStack_1af0;
          local_1778._0_8_ = local_1af8;
          local_1d88._8_8_ = pfStack_1b20;
          local_1d88._0_8_ = local_1b28;
          local_1e68._0_8_ = local_1ad0;
          fVar80 = local_1ac0._4_4_;
          if (local_1c3c <= local_1ac0._4_4_) {
            fVar80 = local_1c3c;
          }
          local_1d78._8_8_ = uStack_1b10;
          local_1d78._0_8_ = local_1b18;
          local_1d68._8_8_ = pfStack_1b00;
          local_1d68._0_8_ = local_1b08;
          local_1e18._0_4_ = (undefined4)local_1ac8;
          local_1e88._0_4_ = local_1ac8._4_4_;
          local_17c8 = local_1b48;
          uStack_17c0 = pfStack_1b40;
          local_17b8 = local_1b38;
          uStack_17b0 = uStack_1b30;
          local_17a8 = local_1b28;
          uStack_17a0 = pfStack_1b20;
          local_1798 = local_1b18;
          uStack_1790 = uStack_1b10;
          local_1788 = local_1b08;
          pfStack_1780 = pfStack_1b00;
          fStack_1760 = (float)uVar45;
          fStack_175c = (float)(uVar45 >> 0x20);
          bVar26 = (bool)(bVar26 | puVar40 != (ulong *)0x0);
          local_1758 = local_1ad8;
          uStack_1750 = local_1ad0;
          local_1748 = local_1ac8;
          _fStack_1740 = CONCAT44(fVar80,local_1e48);
          local_1738 = puVar7;
        }
        else if (iVar37 == 1) {
          puVar41 = (ulong *)local_1138[uVar38 * 0x1e];
          pfVar46 = local_1168[uVar38 * 0x1e + 1];
          pfVar53 = local_1168[uVar38 * 0x1e];
          puVar43 = (undefined8 *)(puVar41[4] + (long)pfVar46 * 0x50);
          puVar64 = (undefined8 *)(puVar41[4] + (long)pfVar53 * 0x50);
          if (puVar43 != puVar64) {
            lVar50 = (long)pfVar46 * 0x50 + (long)pfVar53 * -0x50;
            local_1e88._0_8_ = uVar38;
            uVar45 = (lVar50 >> 4) * -0x3333333333333333;
            auVar36 = local_1e88._4_12_;
            if (uVar45 == 0) {
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar64,puVar43,0xfffffffffffffffe);
LAB_001166c9:
              std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar64,puVar43);
            }
            else {
              lVar47 = 0x3f;
              if (uVar45 != 0) {
                for (; uVar45 >> lVar47 == 0; lVar47 = lVar47 + -1) {
                }
              }
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar64,puVar43,(long)(int)lVar47 * 2);
              if (lVar50 < 0x501) goto LAB_001166c9;
              puVar65 = puVar64 + 0xa0;
              std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar64,puVar65);
              if (puVar43 == puVar65) {
                puVar41 = (ulong *)local_1138[uVar38 * 0x1e];
                pfVar53 = local_1168[uVar38 * 0x1e];
                pfVar46 = local_1168[uVar38 * 0x1e + 1];
                goto LAB_00115fe9;
              }
              do {
                uVar3 = *(undefined4 *)((long)puVar65 + 0x1c);
                uVar4 = *(undefined4 *)((long)puVar65 + 0xc);
                uVar42 = puVar65[4];
                uVar13 = puVar65[5];
                uVar14 = puVar65[6];
                uVar15 = puVar65[7];
                uVar16 = puVar65[2];
                uVar17 = puVar65[3];
                uVar1 = *(undefined4 *)(puVar65 + 8);
                uVar2 = *(undefined4 *)((long)puVar65 + 0x44);
                uVar18 = *puVar65;
                uVar19 = puVar65[1];
                uVar45 = CONCAT44(*(undefined4 *)((long)puVar65 + -0x34),
                                  *(undefined4 *)((long)puVar65 + -0x44));
                puVar64 = puVar65;
                while (CONCAT44(uVar3,uVar4) < uVar45) {
                  *puVar64 = puVar64[-10];
                  puVar64[1] = puVar64[-9];
                  puVar64[2] = puVar64[-8];
                  puVar64[3] = puVar64[-7];
                  puVar64[4] = puVar64[-6];
                  puVar64[5] = puVar64[-5];
                  puVar64[6] = puVar64[-4];
                  puVar64[7] = puVar64[-3];
                  *(undefined4 *)(puVar64 + 8) = *(undefined4 *)(puVar64 + -2);
                  *(undefined4 *)((long)puVar64 + 0x44) = *(undefined4 *)((long)puVar64 + -0xc);
                  uVar45 = CONCAT44(*(undefined4 *)((long)puVar64 + -0x84),
                                    *(undefined4 *)((long)puVar64 + -0x94));
                  puVar64 = puVar64 + -10;
                }
                puVar65 = puVar65 + 10;
                *puVar64 = uVar18;
                puVar64[1] = uVar19;
                puVar64[2] = uVar16;
                puVar64[3] = uVar17;
                puVar64[4] = uVar42;
                puVar64[5] = uVar13;
                puVar64[6] = uVar14;
                puVar64[7] = uVar15;
                *(undefined4 *)(puVar64 + 8) = uVar1;
                *(undefined4 *)((long)puVar64 + 0x44) = uVar2;
              } while (puVar43 != puVar65);
            }
            pfVar53 = local_1168[uVar38 * 0x1e];
            pfVar46 = local_1168[uVar38 * 0x1e + 1];
            puVar41 = (ulong *)local_1138[uVar60 * 0x1e];
          }
LAB_00115fe9:
          local_1e88._4_12_ = auVar36;
          uVar45 = (long)pfVar46 + 1U + (long)pfVar53;
          pfStack_1850 = (float *)(uVar45 >> 1);
          fVar87 = _LC3;
          if (pfVar53 < pfStack_1850) {
            auVar73 = (undefined1  [16])0x0;
            local_1c68 = 0.0;
            pauVar44 = (undefined1 (*) [16])((long)pfVar53 * 0x50 + puVar41[4]);
            auVar75._8_8_ = 0;
            auVar75._0_8_ = local_1e78._8_8_;
            local_1e78 = auVar75 << 0x40;
            local_1e28 = _LC3;
            local_1e30 = 0;
            local_1e08 = _local_1cd8;
            local_1df8 = _local_1ce8;
            local_1de8 = _local_1cd8;
            local_1dd8 = _local_1ce8;
            local_1dc8 = _local_1cd8;
            local_1db8 = _local_1ce8;
            do {
              local_1e30 = local_1e30 + *(uint *)(pauVar44[2] + 0xc);
              local_1e08 = minps(local_1e08,*pauVar44);
              local_1df8 = maxps(local_1df8,pauVar44[1]);
              local_1de8 = minps(local_1de8,pauVar44[2]);
              local_1dd8 = maxps(local_1dd8,pauVar44[3]);
              uVar39 = CONCAT44(0,*(uint *)(pauVar44[3] + 0xc));
              auVar79._0_4_ =
                   *(float *)pauVar44[3] * _LC12 + *(float *)pauVar44[1] * _LC12 +
                   *(float *)pauVar44[2] * _LC12 + *(float *)*pauVar44 * _LC12;
              auVar79._4_4_ =
                   *(float *)(pauVar44[3] + 4) * _LC12 + *(float *)(pauVar44[1] + 4) * _LC12 +
                   *(float *)(pauVar44[2] + 4) * _LC12 + *(float *)(*pauVar44 + 4) * _LC12;
              auVar79._8_4_ =
                   *(float *)(pauVar44[3] + 8) * _LC12 + *(float *)(pauVar44[1] + 8) * _LC12 +
                   *(float *)(pauVar44[2] + 8) * _LC12 + *(float *)(*pauVar44 + 8) * _LC12;
              auVar79._12_4_ =
                   *(float *)(pauVar44[3] + 0xc) * _LC12 + *(float *)(pauVar44[1] + 0xc) * _LC12 +
                   *(float *)(pauVar44[2] + 0xc) * _LC12 + *(float *)(*pauVar44 + 0xc) * _LC12;
              fVar78 = *(float *)(pauVar44[4] + 4);
              fVar80 = fVar78;
              if (fVar78 <= auVar73._0_4_) {
                fVar80 = auVar73._0_4_;
              }
              local_1dc8 = minps(local_1dc8,auVar79);
              local_1db8 = maxps(local_1db8,auVar79);
              fVar81 = *(float *)pauVar44[4];
              auVar73 = ZEXT416((uint)fVar80);
              if (fVar81 <= fVar87) {
                fVar87 = fVar81;
              }
              if ((ulong)local_1e78._0_8_ < uVar39) {
                local_1e78._0_8_ = uVar39;
                local_1e28 = fVar78;
                local_1c68 = fVar81;
              }
              pauVar44 = pauVar44 + 5;
            } while (pauVar44 != (undefined1 (*) [16])((long)pfStack_1850 * 0x50 + puVar41[4]));
          }
          else {
            auVar73 = (undefined1  [16])0x0;
            auVar68._8_8_ = 0;
            auVar68._0_8_ = local_1e78._8_8_;
            local_1e78 = auVar68 << 0x40;
            local_1c68 = 0.0;
            local_1e30 = 0;
            local_1e28 = _LC3;
            local_1db8 = _local_1ce8;
            local_1dc8 = _local_1cd8;
            local_1dd8 = _local_1ce8;
            local_1de8 = _local_1cd8;
            local_1df8 = _local_1ce8;
            local_1e08 = _local_1cd8;
          }
          fVar78 = _LC3;
          if (pfStack_1850 < pfVar46) {
            local_1e88._0_4_ = _LC3;
            auVar135._8_8_ = 0;
            auVar135._0_8_ = local_1e68._8_8_;
            local_1e68 = auVar135 << 0x40;
            pauVar44 = (undefined1 (*) [16])((long)pfStack_1850 * 0x50 + puVar41[4]);
            auVar125 = (undefined1  [16])0x0;
            auVar25._12_4_ = 0;
            auVar25._0_12_ = local_1e18._4_12_;
            local_1e18 = auVar25 << 0x20;
            local_1d48 = 0;
            local_1da8 = _local_1cd8;
            local_1d98 = _local_1ce8;
            local_1d88 = _local_1cd8;
            local_1d78 = _local_1ce8;
            local_1d68 = _local_1cd8;
            local_1d58 = _local_1ce8;
            do {
              local_1d48 = local_1d48 + *(uint *)(pauVar44[2] + 0xc);
              local_1da8 = minps(local_1da8,*pauVar44);
              local_1d98 = maxps(local_1d98,pauVar44[1]);
              local_1d88 = minps(local_1d88,pauVar44[2]);
              local_1d78 = maxps(local_1d78,pauVar44[3]);
              uVar39 = CONCAT44(0,*(uint *)(pauVar44[3] + 0xc));
              auVar71._0_4_ =
                   *(float *)pauVar44[3] * _LC12 + *(float *)pauVar44[1] * _LC12 +
                   *(float *)pauVar44[2] * _LC12 + *(float *)*pauVar44 * _LC12;
              auVar71._4_4_ =
                   *(float *)(pauVar44[3] + 4) * _LC12 + *(float *)(pauVar44[1] + 4) * _LC12 +
                   *(float *)(pauVar44[2] + 4) * _LC12 + *(float *)(*pauVar44 + 4) * _LC12;
              auVar71._8_4_ =
                   *(float *)(pauVar44[3] + 8) * _LC12 + *(float *)(pauVar44[1] + 8) * _LC12 +
                   *(float *)(pauVar44[2] + 8) * _LC12 + *(float *)(*pauVar44 + 8) * _LC12;
              auVar71._12_4_ =
                   *(float *)(pauVar44[3] + 0xc) * _LC12 + *(float *)(pauVar44[1] + 0xc) * _LC12 +
                   *(float *)(pauVar44[2] + 0xc) * _LC12 + *(float *)(*pauVar44 + 0xc) * _LC12;
              fVar80 = *(float *)(pauVar44[4] + 4);
              fVar81 = fVar80;
              if (fVar80 <= auVar125._0_4_) {
                fVar81 = auVar125._0_4_;
              }
              local_1d68 = minps(local_1d68,auVar71);
              local_1d58 = maxps(local_1d58,auVar71);
              fVar99 = *(float *)pauVar44[4];
              auVar125 = ZEXT416((uint)fVar81);
              if (fVar99 <= fVar78) {
                fVar78 = fVar99;
              }
              if ((ulong)local_1e68._0_8_ < uVar39) {
                local_1e68._0_8_ = uVar39;
                local_1e88._0_4_ = fVar80;
                local_1e18._0_4_ = fVar99;
              }
              pauVar44 = pauVar44 + 5;
            } while (pauVar44 != (undefined1 (*) [16])((long)pfVar46 * 0x50 + puVar41[4]));
          }
          else {
            local_1e88._0_4_ = _LC3;
            auVar125 = (undefined1  [16])0x0;
            auVar83._12_4_ = 0;
            auVar83._0_12_ = local_1e18._4_12_;
            local_1e18 = auVar83 << 0x20;
            auVar116._8_8_ = 0;
            auVar116._0_8_ = local_1e68._8_8_;
            local_1e68 = auVar116 << 0x40;
            local_1d48 = 0;
            local_1d58 = _local_1ce8;
            local_1d68 = _local_1cd8;
            local_1d78 = _local_1ce8;
            local_1d88 = _local_1cd8;
            local_1d98 = _local_1ce8;
            local_1da8 = _local_1cd8;
          }
          local_18b8 = (float *)local_1e08._0_8_;
          pfStack_18b0 = (float *)local_1e08._8_8_;
          local_18a8 = (undefined1 *)local_1df8._0_8_;
          uStack_18a0 = local_1df8._8_8_;
          local_1898 = (float *)local_1de8._0_8_;
          pfStack_1890 = (float *)local_1de8._8_8_;
          local_1e48 = *(float *)(local_1138 + uVar60 * 0x1e + -1);
          fVar80 = *(float *)((long)local_1138 + uVar60 * 0xf0 + -4);
          local_1848 = local_1e30;
          local_1888 = (undefined1 *)local_1dd8._0_8_;
          uStack_1880 = local_1dd8._8_8_;
          if (fVar80 <= auVar73._0_4_) {
            auVar73._0_4_ = fVar80;
          }
          fVar81 = auVar73._0_4_;
          if (fVar80 <= auVar125._0_4_) {
            auVar125._0_4_ = fVar80;
          }
          local_1840 = local_1e78._0_8_;
          local_1878 = (float *)local_1dc8._0_8_;
          pfStack_1870 = (float *)local_1dc8._8_8_;
          local_1868 = (undefined1 *)local_1db8._0_8_;
          uStack_1860 = local_1db8._8_8_;
          fVar80 = auVar125._0_4_;
          local_1838 = CONCAT44(local_1e28,local_1c68);
          local_1e58._0_4_ = local_1e48;
          if (local_1e48 <= fVar87) {
            local_1e58._0_4_ = fVar87;
          }
          _local_1830 = CONCAT44(fVar81,(float)local_1e58);
          local_17c8 = (float *)local_1da8._0_8_;
          uStack_17c0 = (float *)local_1da8._8_8_;
          local_17b8 = (undefined1 *)local_1d98._0_8_;
          uStack_17b0 = local_1d98._8_8_;
          local_17a8 = (float *)local_1d88._0_8_;
          uStack_17a0 = (float *)local_1d88._8_8_;
          local_1758 = local_1d48;
          if (local_1e48 <= fVar78) {
            local_1e48 = fVar78;
          }
          local_1798 = (undefined1 *)local_1d78._0_8_;
          uStack_1790 = local_1d78._8_8_;
          uStack_1750 = local_1e68._0_8_;
          local_1788 = (float *)local_1d68._0_8_;
          pfStack_1780 = (float *)local_1d68._8_8_;
          local_1768 = SUB84(pfStack_1850,0);
          fStack_1764 = (float)(uVar45 >> 0x21);
          local_1778 = local_1d58;
          fStack_1760 = SUB84(pfVar46,0);
          fStack_175c = (float)((ulong)pfVar46 >> 0x20);
          local_1748 = CONCAT44(local_1e88._0_4_,local_1e18._0_4_);
          _fStack_1740 = CONCAT44(fVar80,local_1e48);
          local_1858 = pfVar53;
          local_1828 = puVar41;
          local_1738 = puVar41;
        }
        else if (iVar37 == 3) {
          puVar43 = (undefined8 *)
                    (*(long *)(local_1138[uVar38 * 0x1e] + 0x20) +
                    (long)local_1168[uVar38 * 0x1e + 1] * 0x50);
          puVar64 = (undefined8 *)
                    (*(long *)(local_1138[uVar38 * 0x1e] + 0x20) +
                    (long)local_1168[uVar38 * 0x1e] * 0x50);
          if (puVar43 != puVar64) {
            lVar50 = (long)local_1168[uVar38 * 0x1e + 1] * 0x50 +
                     (long)local_1168[uVar38 * 0x1e] * -0x50;
            uVar45 = (lVar50 >> 4) * -0x3333333333333333;
            if (uVar45 == 0) {
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar64,puVar43,0xfffffffffffffffe);
            }
            else {
              lVar47 = 0x3f;
              if (uVar45 != 0) {
                for (; uVar45 >> lVar47 == 0; lVar47 = lVar47 + -1) {
                }
              }
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar64,puVar43,(long)(int)lVar47 * 2);
              if (0x500 < lVar50) {
                puVar65 = puVar64 + 0xa0;
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar64,puVar65);
                for (; puVar43 != puVar65; puVar65 = puVar65 + 10) {
                  uVar3 = *(undefined4 *)((long)puVar65 + 0x1c);
                  uVar4 = *(undefined4 *)((long)puVar65 + 0xc);
                  uVar42 = puVar65[4];
                  uVar13 = puVar65[5];
                  uVar14 = puVar65[6];
                  uVar15 = puVar65[7];
                  uVar16 = puVar65[2];
                  uVar17 = puVar65[3];
                  uVar1 = *(undefined4 *)(puVar65 + 8);
                  uVar2 = *(undefined4 *)((long)puVar65 + 0x44);
                  uVar18 = *puVar65;
                  uVar19 = puVar65[1];
                  uVar45 = CONCAT44(*(undefined4 *)((long)puVar65 + -0x34),
                                    *(undefined4 *)((long)puVar65 + -0x44));
                  puVar64 = puVar65;
                  while (CONCAT44(uVar3,uVar4) < uVar45) {
                    *puVar64 = puVar64[-10];
                    puVar64[1] = puVar64[-9];
                    puVar64[2] = puVar64[-8];
                    puVar64[3] = puVar64[-7];
                    puVar64[4] = puVar64[-6];
                    puVar64[5] = puVar64[-5];
                    puVar64[6] = puVar64[-4];
                    puVar64[7] = puVar64[-3];
                    *(undefined4 *)(puVar64 + 8) = *(undefined4 *)(puVar64 + -2);
                    *(undefined4 *)((long)puVar64 + 0x44) = *(undefined4 *)((long)puVar64 + -0xc);
                    uVar45 = CONCAT44(*(undefined4 *)((long)puVar64 + -0x84),
                                      *(undefined4 *)((long)puVar64 + -0x94));
                    puVar64 = puVar64 + -10;
                  }
                  *puVar64 = uVar18;
                  puVar64[1] = uVar19;
                  puVar64[2] = uVar16;
                  puVar64[3] = uVar17;
                  puVar64[4] = uVar42;
                  puVar64[5] = uVar13;
                  puVar64[6] = uVar14;
                  puVar64[7] = uVar15;
                  *(undefined4 *)(puVar64 + 8) = uVar1;
                  *(undefined4 *)((long)puVar64 + 0x44) = uVar2;
                }
                goto LAB_00115c72;
              }
            }
            std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                      (puVar64,puVar43);
          }
LAB_00115c72:
          splitByGeometry(pSVar67,(SetMB *)&local_18b8,(SetMB *)&local_17c8);
          local_1e08._8_8_ = pfStack_18b0;
          local_1e08._0_8_ = local_18b8;
          local_1df8._8_8_ = uStack_18a0;
          local_1df8._0_8_ = local_18a8;
          local_1de8._8_8_ = pfStack_1890;
          local_1de8._0_8_ = local_1898;
          local_1e98._0_8_ = local_18c8;
          local_1e30 = local_1848;
          local_1dd8._8_8_ = uStack_1880;
          local_1dd8._0_8_ = local_1888;
          local_1dc8._8_8_ = pfStack_1870;
          local_1dc8._0_8_ = local_1878;
          local_1c68 = (float)local_1838;
          local_1db8._8_8_ = uStack_1860;
          local_1db8._0_8_ = local_1868;
          local_1e78._0_8_ = local_1840;
          local_1e28 = (float)local_1838._4_4_;
          local_1e58._0_4_ = local_1830;
          local_1d40 = local_17d8;
          local_1d98._8_8_ = uStack_17b0;
          local_1d98._0_8_ = local_17b8;
          local_1da8._8_8_ = uStack_17c0;
          local_1da8._0_8_ = local_17c8;
          local_1d88._8_8_ = uStack_17a0;
          local_1d88._0_8_ = local_17a8;
          local_1d78._8_8_ = uStack_1790;
          local_1d78._0_8_ = local_1798;
          local_1d68._8_8_ = pfStack_1780;
          local_1d68._0_8_ = local_1788;
          local_1e18._0_4_ = (float)local_1748;
          local_1e88._0_4_ = local_1748._4_4_;
          local_1e88 = CONCAT124(auVar36,local_1e88._0_4_);
          local_1e68._0_8_ = uStack_1750;
          local_1e48 = fStack_1740;
          puVar41 = local_1828;
          fVar81 = fStack_182c;
          fVar80 = fStack_173c;
        }
        else {
          local_1e30 = local_1848;
          local_1e08._8_8_ = pfStack_18b0;
          local_1e08._0_8_ = local_18b8;
          local_1e58._0_4_ = local_1830;
          local_1df8._8_8_ = uStack_18a0;
          local_1df8._0_8_ = local_18a8;
          local_1d98._8_8_ = uStack_17b0;
          local_1d98._0_8_ = local_17b8;
          local_1de8._8_8_ = pfStack_1890;
          local_1de8._0_8_ = local_1898;
          local_1e78._0_8_ = local_1840;
          local_1dd8._8_8_ = uStack_1880;
          local_1dd8._0_8_ = local_1888;
          local_1d78._8_8_ = uStack_1790;
          local_1d78._0_8_ = local_1798;
          local_1dc8._8_8_ = pfStack_1870;
          local_1dc8._0_8_ = local_1878;
          local_1db8._8_8_ = uStack_1860;
          local_1db8._0_8_ = local_1868;
          local_1c68 = (float)local_1838;
          local_1e28 = (float)local_1838._4_4_;
          local_1da8._8_8_ = uStack_17c0;
          local_1da8._0_8_ = local_17c8;
          local_1d88._8_8_ = uStack_17a0;
          local_1d88._0_8_ = local_17a8;
          local_1d68._8_8_ = pfStack_1780;
          local_1d68._0_8_ = local_1788;
          local_1e18._0_4_ = (float)local_1748;
          local_1e88._0_4_ = local_1748._4_4_;
          local_1e88 = CONCAT124(auVar36,local_1e88._0_4_);
          local_1e68._0_8_ = uStack_1750;
          local_1e48 = fStack_1740;
          puVar41 = local_1828;
          fVar81 = fStack_182c;
          fVar80 = fStack_173c;
        }
        puVar7 = local_1738;
        uVar35 = local_1758;
        auVar68 = local_1778;
        findFallback((SetMB *)local_19f8);
        uVar33 = uStack_19c0;
        uVar31 = local_19c8;
        uVar29 = uStack_19d0;
        uVar56 = local_19d8;
        uVar45 = local_19e8;
        uVar3 = local_19f8._4_4_;
        uVar1 = local_19f8._0_4_;
        uVar27 = uStack_19f0._4_4_;
        local_1818 = SUB168(_local_19f8,0);
        local_1810 = SUB168(_local_19f8,8);
        local_17f8 = local_19d8;
        uStack_17f0 = uStack_19d0;
        local_17e8 = local_19c8;
        uStack_17e0 = uStack_19c0;
        local_1808 = local_19e8;
        findFallback((SetMB *)local_19f8);
        lVar50 = local_50;
        uVar34 = uStack_19c0;
        uVar32 = local_19c8;
        uVar30 = uStack_19d0;
        uVar58 = local_19d8;
        uVar39 = local_19e8;
        uVar28 = uStack_19f0._4_4_;
        uVar4 = local_19f8._4_4_;
        puVar5 = local_2d8[uVar60];
        uVar2 = local_19f8._0_4_;
        local_1720 = SUB168(_local_19f8,8);
        local_1718 = local_19e8;
        local_1708 = local_19d8;
        uStack_1700 = uStack_19d0;
        local_1728 = SUB168(_local_19f8,0);
        local_16f8 = local_19c8;
        uStack_16f0 = uStack_19c0;
        if ((ulong *)*puVar5 == puVar41) {
          puVar5[1] = puVar5[1] + 1;
          puVar40 = puVar41;
        }
        else {
          local_50 = local_50 + 1;
          local_250[lVar50 * 2] = (ulong)puVar41;
          local_250[lVar50 * 2 + 1] = 1;
          local_2d8[uVar60] = local_250 + lVar50 * 2;
          puVar40 = (ulong *)*puVar5;
        }
        lVar50 = local_50;
        if (puVar7 == puVar40) {
          local_2d8[local_258] = puVar5;
          uVar60 = puVar5[1];
        }
        else {
          local_50 = local_50 + 1;
          local_250[lVar50 * 2] = (ulong)puVar7;
          local_250[lVar50 * 2 + 1] = 1;
          local_2d8[local_258] = local_250 + lVar50 * 2;
          uVar60 = puVar5[1] - 1;
        }
        puVar5[1] = uVar60;
        if ((uVar60 == 0) && (puVar43 = (undefined8 *)*puVar5, puVar43 != (undefined8 *)0x0)) {
          pvVar6 = (void *)puVar43[4];
          lVar50 = puVar43[3];
          if (pvVar6 != (void *)0x0) {
            if ((ulong)(lVar50 * 0x50) < 0x1c00000) {
              embree::alignedFree(pvVar6);
            }
            else {
              embree::os_free(pvVar6,lVar50 * 0x50,*(bool *)(puVar43 + 1));
            }
          }
          if (lVar50 != 0) {
            (*(code *)**(undefined8 **)*puVar43)((undefined8 *)*puVar43,lVar50 * -0x50,1);
          }
          operator_delete(puVar43,0x28);
        }
        *(float *)((long)local_1138 + lVar66 + -4) = fVar81;
        *(undefined8 *)(local_11c8 + lVar66) = local_1e08._0_8_;
        *(undefined8 *)(local_11c8 + lVar66 + 8) = local_1e08._8_8_;
        *(undefined8 *)((SetMB *)&local_11d8 + lVar66) = local_1e98._0_8_;
        *(undefined8 *)(local_11b8 + lVar66) = local_1df8._0_8_;
        *(undefined8 *)(local_11b8 + lVar66 + 8) = local_1df8._8_8_;
        *(undefined8 *)(local_11a8 + lVar66) = local_1de8._0_8_;
        *(undefined8 *)(local_11a8 + lVar66 + 8) = local_1de8._8_8_;
        *(undefined8 *)(local_1198 + lVar66) = local_1dd8._0_8_;
        *(undefined8 *)(local_1198 + lVar66 + 8) = local_1dd8._8_8_;
        local_1158[uVar38 * 0x1e] = local_1e30;
        *(undefined8 *)(local_1188 + lVar66) = local_1dc8._0_8_;
        *(undefined8 *)(local_1188 + lVar66 + 8) = local_1dc8._8_8_;
        *(undefined8 *)(local_1178 + lVar66) = local_1db8._0_8_;
        *(undefined8 *)(local_1178 + lVar66 + 8) = local_1db8._8_8_;
        local_1168[uVar38 * 0x1e] = local_1858;
        local_1168[uVar38 * 0x1e + 1] = pfStack_1850;
        local_1158[uVar38 * 0x1e + 1] = local_1e78._0_8_;
        local_1128[uVar38 * 0x3c + 1] = (float)uVar3;
        *(float *)(&local_1148 + uVar38 * 0x1e) = local_1c68;
        *(float *)((long)&local_1148 + lVar66 + 4) = local_1e28;
        *(float *)(local_1138 + uVar38 * 0x1e + -1) = (float)local_1e58;
        local_1128[uVar38 * 0x3c] = (float)uVar1;
        local_1138[uVar38 * 0x1e] = (ulong)puVar41;
        local_1118[uVar38 * 0x1e] = uVar45;
        local_1128[uVar38 * 0x3c + 2] = (float)local_1810;
        local_1118[uVar38 * 0x1e + 2] = uVar56;
        local_1118[uVar38 * 0x1e + 3] = uVar29;
        local_1d58._0_8_ = auVar68._0_8_;
        local_1d58._8_8_ = auVar68._8_8_;
        *(undefined4 *)((long)local_1118 + lVar66 + -4) = uVar27;
        local_1118[uVar38 * 0x1e + 4] = uVar31;
        local_1118[uVar38 * 0x1e + 5] = uVar33;
        uVar60 = local_258;
        auVar24._4_4_ = fStack_1764;
        auVar24._0_4_ = local_1768;
        auVar24._8_4_ = fStack_1760;
        auVar24._12_4_ = fStack_175c;
        lVar66 = local_258 * 0xf0;
        *(undefined8 *)(local_11c8 + lVar66) = local_1da8._0_8_;
        *(undefined8 *)(local_11c8 + lVar66 + 8) = local_1da8._8_8_;
        *(ulong *)((SetMB *)&local_11d8 + lVar66) = local_1d40;
        *(undefined8 *)(local_11b8 + lVar66) = local_1d98._0_8_;
        *(undefined8 *)(local_11b8 + lVar66 + 8) = local_1d98._8_8_;
        local_1158[uVar60 * 0x1e + 1] = local_1e68._0_8_;
        *(undefined8 *)(local_11a8 + lVar66) = local_1d88._0_8_;
        *(undefined8 *)(local_11a8 + lVar66 + 8) = local_1d88._8_8_;
        *(undefined8 *)(local_1178 + lVar66) = local_1d58._0_8_;
        *(undefined8 *)(local_1178 + lVar66 + 8) = local_1d58._8_8_;
        *(undefined8 *)(local_1198 + lVar66) = local_1d78._0_8_;
        *(undefined8 *)(local_1198 + lVar66 + 8) = local_1d78._8_8_;
        local_1158[uVar60 * 0x1e] = uVar35;
        *(undefined8 *)(local_1188 + lVar66) = local_1d68._0_8_;
        *(undefined8 *)(local_1188 + lVar66 + 8) = local_1d68._8_8_;
        *(undefined1 (*) [16])(local_1168 + uVar60 * 0x1e) = auVar24;
        *(undefined4 *)(&local_1148 + uVar60 * 0x1e) = local_1e18._0_4_;
        local_1128[uVar60 * 0x3c + 1] = (float)uVar4;
        local_1138[uVar60 * 0x1e] = (ulong)puVar7;
        local_1128[uVar60 * 0x3c + 2] = (float)local_1720;
        local_1118[uVar60 * 0x1e] = uVar39;
        *(undefined4 *)((long)local_1118 + lVar66 + -4) = uVar28;
        *(undefined4 *)((long)&local_1148 + lVar66 + 4) = local_1e88._0_4_;
        *(float *)(local_1138 + uVar60 * 0x1e + -1) = local_1e48;
        *(float *)((long)local_1138 + lVar66 + -4) = fVar80;
        local_1128[uVar60 * 0x3c] = (float)uVar2;
        local_1118[uVar60 * 0x1e + 2] = uVar58;
        local_1118[uVar60 * 0x1e + 3] = uVar30;
        local_1118[uVar60 * 0x1e + 4] = uVar32;
        local_1118[uVar60 * 0x1e + 5] = uVar34;
        local_258 = local_258 + 1;
        if (*param_1 <= local_258) {
          if (local_258 != 0) break;
          goto LAB_00112961;
        }
        bVar57 = false;
        if (local_258 == 0) goto LAB_00112961;
      }
      uVar60 = 0;
      puVar43 = &local_1140;
      do {
        if ((float)*puVar43 <= *(float *)(param_3 + 0x13)) {
          bVar26 = (bool)(bVar26 | (float)((ulong)*puVar43 >> 0x20) <
                                   *(float *)((long)param_3 + 0x9c));
        }
        else {
          bVar26 = true;
        }
        puVar43 = puVar43 + 0x1e;
        uVar60 = uVar60 + 1;
      } while (uVar60 != local_258);
LAB_00112961:
      pfVar46 = (float *)*in_stack_00000010;
      auVar68 = _local_1cd8;
      auVar73 = _local_1ce8;
      auVar75 = _local_1ce8;
      auVar79 = _local_1cd8;
      if (bVar26) {
        local_1b48 = (float *)0x100;
        if (in_stack_00000008 != *(FastAllocator **)(pfVar46 + 2)) {
          embree::MutexSys::lock();
          if (*(long *)(pfVar46 + 2) != 0) {
            LOCK();
            *(long *)(*(long *)(pfVar46 + 2) + 0x118) =
                 *(long *)(*(long *)(pfVar46 + 2) + 0x118) +
                 *(long *)(pfVar46 + 0x2a) + *(long *)(pfVar46 + 0x1a);
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar46 + 2) + 0x120) =
                 *(long *)(*(long *)(pfVar46 + 2) + 0x120) +
                 (((*(long *)(pfVar46 + 0x26) + *(long *)(pfVar46 + 0x16)) -
                  *(long *)(pfVar46 + 0x14)) - *(long *)(pfVar46 + 0x24));
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar46 + 2) + 0x128) =
                 *(long *)(*(long *)(pfVar46 + 2) + 0x128) +
                 *(long *)(pfVar46 + 0x2c) + *(long *)(pfVar46 + 0x1c);
            UNLOCK();
          }
          pfVar46[0x12] = 0.0;
          pfVar46[0x13] = 0.0;
          pfVar46[0x16] = 0.0;
          pfVar46[0x17] = 0.0;
          pfVar46[0x14] = 0.0;
          pfVar46[0x15] = 0.0;
          pfVar46[0x1a] = 0.0;
          pfVar46[0x1b] = 0.0;
          pfVar46[0x1c] = 0.0;
          pfVar46[0x1d] = 0.0;
          pfVar46[0x18] = 0.0;
          pfVar46[0x19] = 0.0;
          if (in_stack_00000008 == (FastAllocator *)0x0) {
            pfVar46[0x22] = 0.0;
            pfVar46[0x23] = 0.0;
            uVar42 = 0;
            pfVar46[0x26] = 0.0;
            pfVar46[0x27] = 0.0;
            pfVar46[0x24] = 0.0;
            pfVar46[0x25] = 0.0;
            pfVar46[0x2a] = 0.0;
            pfVar46[0x2b] = 0.0;
            pfVar46[0x2c] = 0.0;
            pfVar46[0x2d] = 0.0;
          }
          else {
            uVar42 = *(undefined8 *)(in_stack_00000008 + 0x10);
            pfVar46[0x22] = 0.0;
            pfVar46[0x23] = 0.0;
            pfVar46[0x26] = 0.0;
            pfVar46[0x27] = 0.0;
            *(undefined8 *)(pfVar46 + 0x18) = uVar42;
            pfVar46[0x24] = 0.0;
            pfVar46[0x25] = 0.0;
            pfVar46[0x2a] = 0.0;
            pfVar46[0x2b] = 0.0;
            pfVar46[0x2c] = 0.0;
            pfVar46[0x2d] = 0.0;
            pfVar46[0x28] = 0.0;
            pfVar46[0x29] = 0.0;
            uVar42 = *(undefined8 *)(in_stack_00000008 + 0x10);
          }
          *(undefined8 *)(pfVar46 + 0x28) = uVar42;
          LOCK();
          *(FastAllocator **)(pfVar46 + 2) = in_stack_00000008;
          UNLOCK();
          local_1ab8 = pfVar46;
          embree::MutexSys::lock();
          puVar41 = *(ulong **)(in_stack_00000008 + 0x138);
          if (puVar41 == *(ulong **)(in_stack_00000008 + 0x140)) {
            std::
            vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
            ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                      ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                        *)(in_stack_00000008 + 0x130),puVar41,&local_1ab8);
          }
          else {
            *puVar41 = (ulong)pfVar46;
            *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
          }
          embree::MutexSys::unlock();
          embree::MutexSys::unlock();
        }
        in_stack_00000010[5] = in_stack_00000010[5] + 0x100;
        uVar38 = in_stack_00000010[2];
        uVar45 = (ulong)(-(int)uVar38 & 0xf);
        uVar60 = uVar38 + 0x100 + uVar45;
        in_stack_00000010[2] = uVar60;
        if (in_stack_00000010[3] < uVar60) {
          in_stack_00000010[2] = uVar38;
          if ((float *)in_stack_00000010[4] < (float *)0x400) {
            puVar43 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b48,0x40,false);
          }
          else {
            local_1ab8 = (float *)in_stack_00000010[4];
            puVar43 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1ab8,0x40,true);
            in_stack_00000010[1] = (ulong)puVar43;
            uVar60 = in_stack_00000010[2];
            in_stack_00000010[2] = 0x100;
            in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar60;
            in_stack_00000010[3] = (ulong)local_1ab8;
            if (local_1ab8 < (float *)0x100) {
              local_1ab8 = (float *)in_stack_00000010[4];
              in_stack_00000010[2] = 0;
              puVar43 = (undefined8 *)
                        FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1ab8,0x40,false);
              in_stack_00000010[1] = (ulong)puVar43;
              uVar60 = in_stack_00000010[2];
              in_stack_00000010[2] = 0x100;
              in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar60;
              in_stack_00000010[3] = (ulong)local_1ab8;
              if (local_1ab8 < (float *)0x100) {
                puVar43 = (undefined8 *)0x0;
                in_stack_00000010[2] = 0;
              }
            }
          }
        }
        else {
          in_stack_00000010[6] = in_stack_00000010[6] + uVar45;
          puVar43 = (undefined8 *)((in_stack_00000010[1] - 0x100) + uVar60);
        }
        *puVar43 = 8;
        puVar43[1] = 8;
        uVar60 = (ulong)puVar43 | 6;
        puVar43[0x1c] = local_1cd8;
        puVar43[0x1d] = uStack_1cd0;
        puVar43[0xc] = local_1cd8;
        puVar43[0xd] = uStack_1cd0;
        puVar43[8] = local_1cd8;
        puVar43[9] = uStack_1cd0;
        puVar43[4] = local_1cd8;
        puVar43[5] = uStack_1cd0;
        puVar43[2] = 8;
        puVar43[3] = 8;
        puVar43[0x1e] = local_1ce8;
        puVar43[0x1f] = uStack_1ce0;
        puVar43[0xe] = local_1ce8;
        puVar43[0xf] = uStack_1ce0;
        puVar43[10] = local_1ce8;
        puVar43[0xb] = uStack_1ce0;
        puVar43[6] = local_1ce8;
        puVar43[7] = uStack_1ce0;
        *(undefined1 (*) [16])(puVar43 + 0x18) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x14) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x10) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x1a) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x16) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x12) = (undefined1  [16])0x0;
        if (local_258 != 0) {
LAB_001134e7:
          uVar38 = 0;
          puVar41 = &local_17d8;
          pSVar67 = (SetMB *)&local_11d8;
          do {
            uVar38 = uVar38 + 1;
            createLargeLeaf((BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
                             *)&local_1ab8,param_1,pSVar67);
            uVar72 = _LC33;
            fVar87 = _LC3;
            puVar41[2] = (ulong)local_1aa8;
            puVar41[3] = uStack_1aa0;
            auVar20._8_8_ = uStack_1aa0;
            auVar20._0_8_ = local_1aa8;
            auVar79 = minps(auVar79,auVar20);
            *puVar41 = (ulong)local_1ab8;
            puVar41[4] = (ulong)local_1a98;
            puVar41[5] = (ulong)pfStack_1a90;
            auVar21._8_8_ = pfStack_1a90;
            auVar21._0_8_ = local_1a98;
            auVar73 = maxps(auVar73,auVar21);
            *(undefined4 *)(puVar41 + 10) = (undefined4)local_1a68;
            auVar23._8_8_ = pfStack_1a70;
            auVar23._0_8_ = local_1a78;
            auVar75 = maxps(auVar75,auVar23);
            puVar41[6] = (ulong)local_1a88;
            puVar41[7] = uStack_1a80;
            *(undefined4 *)((long)puVar41 + 0x54) = local_1a68._4_4_;
            puVar41[8] = (ulong)local_1a78;
            puVar41[9] = (ulong)pfStack_1a70;
            auVar22._8_8_ = uStack_1a80;
            auVar22._0_8_ = local_1a88;
            auVar68 = minps(auVar68,auVar22);
            puVar41 = puVar41 + 0xc;
            pSVar67 = pSVar67 + 0xf0;
          } while (uVar38 < local_258);
          if (((uint)uVar60 & 0xf) == 1) {
            if (local_258 != 0) {
              puVar41 = (ulong *)(uVar60 & 0xfffffffffffffff0);
              *puVar41 = local_17d8;
              uVar59 = _LC6;
              fVar78 = _LC39;
              fVar99 = fVar87 / (local_1788._4_4_ - (float)local_1788);
              fVar80 = (float)((uint)(float)local_1788 ^ uVar72) * fVar99;
              fVar99 = (fVar87 - (float)local_1788) * fVar99;
              auVar100._4_4_ = _LC35;
              auVar100._0_4_ = _LC35;
              auVar100._8_4_ = _LC35;
              auVar100._12_4_ = _LC35;
              fVar114 = fVar87 - fVar80;
              fVar81 = fVar87 - fVar99;
              auVar134._0_4_ = (float)local_17b8 * fVar114 + (float)local_1798 * fVar80;
              auVar134._4_4_ = local_17b8._4_4_ * fVar114 + local_1798._4_4_ * fVar80;
              auVar134._8_4_ = (float)uStack_17b0 * fVar114 + (float)uStack_1790 * fVar80;
              auVar134._12_4_ = uStack_17b0._4_4_ * fVar114 + uStack_1790._4_4_ * fVar80;
              auVar115._0_4_ = fVar114 * (float)local_17c8 + fVar80 * (float)local_17a8;
              auVar115._4_4_ = fVar114 * local_17c8._4_4_ + fVar80 * local_17a8._4_4_;
              auVar115._8_4_ = fVar114 * (float)uStack_17c0 + fVar80 * (float)uStack_17a0;
              auVar115._12_4_ = fVar114 * uStack_17c0._4_4_ + fVar80 * uStack_17a0._4_4_;
              auVar95._4_4_ = _LC29;
              auVar95._0_4_ = _LC29;
              auVar95._8_4_ = _LC29;
              auVar95._12_4_ = _LC29;
              auVar135 = maxps(auVar134,auVar100);
              auVar116 = minps(auVar115,auVar95);
              auVar124._0_4_ = (float)local_17b8 * fVar81 + (float)local_1798 * fVar99;
              auVar124._4_4_ = local_17b8._4_4_ * fVar81 + local_1798._4_4_ * fVar99;
              auVar124._8_4_ = (float)uStack_17b0 * fVar81 + (float)uStack_1790 * fVar99;
              auVar124._12_4_ = uStack_17b0._4_4_ * fVar81 + uStack_1790._4_4_ * fVar99;
              auVar82._0_4_ = fVar81 * (float)local_17c8 + fVar99 * (float)local_17a8;
              auVar82._4_4_ = fVar81 * local_17c8._4_4_ + fVar99 * local_17a8._4_4_;
              auVar82._8_4_ = fVar81 * (float)uStack_17c0 + fVar99 * (float)uStack_17a0;
              auVar82._12_4_ = fVar81 * uStack_17c0._4_4_ + fVar99 * uStack_17a0._4_4_;
              auVar125 = maxps(auVar124,auVar100);
              auVar83 = minps(auVar82,auVar95);
              fVar80 = (float)((uint)auVar135._0_4_ & _LC6) * _LC39 + auVar135._0_4_;
              fVar81 = (float)((uint)auVar135._4_4_ & _LC6) * _LC39 + auVar135._4_4_;
              fVar99 = (float)((uint)auVar135._8_4_ & _LC6) * _LC39 + auVar135._8_4_;
              fVar140 = (float)((uint)auVar83._0_4_ & _LC6) * _LC39;
              fVar142 = (float)((uint)auVar83._4_4_ & _LC6) * _LC39;
              fVar143 = (float)((uint)auVar83._8_4_ & _LC6) * _LC39;
              fVar114 = (float)((uint)auVar116._0_4_ & _LC6) * _LC39;
              fVar138 = (float)((uint)auVar116._4_4_ & _LC6) * _LC39;
              fVar139 = (float)((uint)auVar116._8_4_ & _LC6) * _LC39;
              *(float *)(puVar41 + 6) = fVar80;
              fVar114 = auVar116._0_4_ - fVar114;
              fVar138 = auVar116._4_4_ - fVar138;
              fVar139 = auVar116._8_4_ - fVar139;
              *(float *)(puVar41 + 4) = fVar114;
              *(float *)(puVar41 + 0x10) = (auVar83._0_4_ - fVar140) - fVar114;
              *(float *)(puVar41 + 8) = fVar138;
              *(float *)(puVar41 + 0xc) = fVar139;
              *(float *)(puVar41 + 10) = fVar81;
              *(float *)(puVar41 + 0xe) = fVar99;
              *(float *)(puVar41 + 0x14) = (auVar83._4_4_ - fVar142) - fVar138;
              *(float *)(puVar41 + 0x18) = (auVar83._8_4_ - fVar143) - fVar139;
              *(float *)(puVar41 + 0x12) =
                   (auVar125._0_4_ + (float)((uint)auVar125._0_4_ & uVar59) * fVar78) - fVar80;
              *(float *)(puVar41 + 0x16) =
                   (auVar125._4_4_ + (float)((uint)auVar125._4_4_ & uVar59) * fVar78) - fVar81;
              *(float *)(puVar41 + 0x1a) =
                   (auVar125._8_4_ + (float)((uint)auVar125._8_4_ & uVar59) * fVar78) - fVar99;
              if (local_258 != 1) {
                puVar41[1] = local_1778._0_8_;
                fVar114 = fVar87 / (local_1728._4_4_ - (float)local_1728);
                fVar80 = (float)((uint)(float)local_1728 ^ uVar72) * fVar114;
                fVar114 = (fVar87 - (float)local_1728) * fVar114;
                fVar99 = fVar87 - fVar80;
                fVar81 = fVar87 - fVar114;
                auVar136._0_4_ = (float)local_1758 * fVar99 + (float)local_1738 * fVar80;
                auVar136._4_4_ = local_1758._4_4_ * fVar99 + local_1738._4_4_ * fVar80;
                auVar136._8_4_ = (float)uStack_1750 * fVar99 + fStack_1730 * fVar80;
                auVar136._12_4_ = uStack_1750._4_4_ * fVar99 + fStack_172c * fVar80;
                auVar117._0_4_ = fVar99 * local_1768 + fVar80 * (float)local_1748;
                auVar117._4_4_ = fVar99 * fStack_1764 + fVar80 * local_1748._4_4_;
                auVar117._8_4_ = fVar99 * fStack_1760 + fVar80 * fStack_1740;
                auVar117._12_4_ = fVar99 * fStack_175c + fVar80 * fStack_173c;
                auVar135 = maxps(auVar136,auVar100);
                auVar116 = minps(auVar117,auVar95);
                auVar126._0_4_ = (float)local_1758 * fVar81 + (float)local_1738 * fVar114;
                auVar126._4_4_ = local_1758._4_4_ * fVar81 + local_1738._4_4_ * fVar114;
                auVar126._8_4_ = (float)uStack_1750 * fVar81 + fStack_1730 * fVar114;
                auVar126._12_4_ = uStack_1750._4_4_ * fVar81 + fStack_172c * fVar114;
                auVar84._0_4_ = fVar81 * local_1768 + fVar114 * (float)local_1748;
                auVar84._4_4_ = fVar81 * fStack_1764 + fVar114 * local_1748._4_4_;
                auVar84._8_4_ = fVar81 * fStack_1760 + fVar114 * fStack_1740;
                auVar84._12_4_ = fVar81 * fStack_175c + fVar114 * fStack_173c;
                auVar125 = maxps(auVar126,auVar100);
                auVar83 = minps(auVar84,auVar95);
                fVar80 = (float)((uint)auVar135._0_4_ & uVar59) * fVar78 + auVar135._0_4_;
                fVar81 = (float)((uint)auVar135._4_4_ & uVar59) * fVar78 + auVar135._4_4_;
                fVar99 = (float)((uint)auVar135._8_4_ & uVar59) * fVar78 + auVar135._8_4_;
                *(float *)((long)puVar41 + 0x34) = fVar80;
                fVar114 = auVar116._0_4_ - (float)((uint)auVar116._0_4_ & uVar59) * fVar78;
                fVar138 = auVar116._4_4_ - (float)((uint)auVar116._4_4_ & uVar59) * fVar78;
                fVar139 = auVar116._8_4_ - (float)((uint)auVar116._8_4_ & uVar59) * fVar78;
                *(float *)((long)puVar41 + 0x24) = fVar114;
                *(float *)((long)puVar41 + 0x84) =
                     (auVar83._0_4_ - (float)((uint)auVar83._0_4_ & uVar59) * fVar78) - fVar114;
                *(float *)((long)puVar41 + 0x44) = fVar138;
                *(float *)((long)puVar41 + 100) = fVar139;
                *(float *)((long)puVar41 + 0x54) = fVar81;
                *(float *)((long)puVar41 + 0x74) = fVar99;
                *(float *)((long)puVar41 + 0xa4) =
                     (auVar83._4_4_ - (float)((uint)auVar83._4_4_ & uVar59) * fVar78) - fVar138;
                *(float *)((long)puVar41 + 0xc4) =
                     (auVar83._8_4_ - (float)((uint)auVar83._8_4_ & uVar59) * fVar78) - fVar139;
                *(float *)((long)puVar41 + 0x94) =
                     (auVar125._0_4_ + (float)((uint)auVar125._0_4_ & uVar59) * fVar78) - fVar80;
                *(float *)((long)puVar41 + 0xb4) =
                     (auVar125._4_4_ + (float)((uint)auVar125._4_4_ & uVar59) * fVar78) - fVar81;
                *(float *)((long)puVar41 + 0xd4) =
                     (auVar125._8_4_ + (float)((uint)auVar125._8_4_ & uVar59) * fVar78) - fVar99;
                if (local_258 != 2) {
                  puVar41[2] = local_1718;
                  fVar114 = fVar87 / (local_16c4 - local_16c8);
                  fVar80 = (float)((uint)local_16c8 ^ uVar72) * fVar114;
                  fVar114 = (fVar87 - local_16c8) * fVar114;
                  fVar99 = fVar87 - fVar80;
                  fVar81 = fVar87 - fVar114;
                  auVar137._0_4_ = (float)local_16f8 * fVar99 + local_16d8 * fVar80;
                  auVar137._4_4_ = local_16f8._4_4_ * fVar99 + fStack_16d4 * fVar80;
                  auVar137._8_4_ = (float)uStack_16f0 * fVar99 + fStack_16d0 * fVar80;
                  auVar137._12_4_ = uStack_16f0._4_4_ * fVar99 + fStack_16cc * fVar80;
                  auVar118._0_4_ = fVar99 * (float)local_1708 + fVar80 * local_16e8;
                  auVar118._4_4_ = fVar99 * local_1708._4_4_ + fVar80 * fStack_16e4;
                  auVar118._8_4_ = fVar99 * (float)uStack_1700 + fVar80 * fStack_16e0;
                  auVar118._12_4_ = fVar99 * uStack_1700._4_4_ + fVar80 * fStack_16dc;
                  auVar135 = maxps(auVar137,auVar100);
                  auVar116 = minps(auVar118,auVar95);
                  auVar127._0_4_ = (float)local_16f8 * fVar81 + local_16d8 * fVar114;
                  auVar127._4_4_ = local_16f8._4_4_ * fVar81 + fStack_16d4 * fVar114;
                  auVar127._8_4_ = (float)uStack_16f0 * fVar81 + fStack_16d0 * fVar114;
                  auVar127._12_4_ = uStack_16f0._4_4_ * fVar81 + fStack_16cc * fVar114;
                  auVar85._0_4_ = fVar81 * (float)local_1708 + fVar114 * local_16e8;
                  auVar85._4_4_ = fVar81 * local_1708._4_4_ + fVar114 * fStack_16e4;
                  auVar85._8_4_ = fVar81 * (float)uStack_1700 + fVar114 * fStack_16e0;
                  auVar85._12_4_ = fVar81 * uStack_1700._4_4_ + fVar114 * fStack_16dc;
                  auVar125 = maxps(auVar127,auVar100);
                  auVar83 = minps(auVar85,auVar95);
                  fVar80 = (float)((uint)auVar135._0_4_ & uVar59) * fVar78 + auVar135._0_4_;
                  fVar81 = (float)((uint)auVar135._4_4_ & uVar59) * fVar78 + auVar135._4_4_;
                  fVar99 = (float)((uint)auVar135._8_4_ & uVar59) * fVar78 + auVar135._8_4_;
                  *(float *)(puVar41 + 7) = fVar80;
                  fVar114 = auVar116._0_4_ - (float)((uint)auVar116._0_4_ & uVar59) * fVar78;
                  fVar138 = auVar116._4_4_ - (float)((uint)auVar116._4_4_ & uVar59) * fVar78;
                  fVar139 = auVar116._8_4_ - (float)((uint)auVar116._8_4_ & uVar59) * fVar78;
                  *(float *)(puVar41 + 5) = fVar114;
                  *(float *)(puVar41 + 0x11) =
                       (auVar83._0_4_ - (float)((uint)auVar83._0_4_ & uVar59) * fVar78) - fVar114;
                  *(float *)(puVar41 + 9) = fVar138;
                  *(float *)(puVar41 + 0xd) = fVar139;
                  *(float *)(puVar41 + 0xb) = fVar81;
                  *(float *)(puVar41 + 0xf) = fVar99;
                  *(float *)(puVar41 + 0x15) =
                       (auVar83._4_4_ - (float)((uint)auVar83._4_4_ & uVar59) * fVar78) - fVar138;
                  *(float *)(puVar41 + 0x19) =
                       (auVar83._8_4_ - (float)((uint)auVar83._8_4_ & uVar59) * fVar78) - fVar139;
                  *(float *)(puVar41 + 0x13) =
                       (auVar125._0_4_ + (float)((uint)auVar125._0_4_ & uVar59) * fVar78) - fVar80;
                  *(float *)(puVar41 + 0x17) =
                       (auVar125._4_4_ + (float)((uint)auVar125._4_4_ & uVar59) * fVar78) - fVar81;
                  *(float *)(puVar41 + 0x1b) =
                       (auVar125._8_4_ + (float)((uint)auVar125._8_4_ & uVar59) * fVar78) - fVar99;
                  if (local_258 != 3) {
                    puVar41[3] = local_16b8;
                    fVar99 = fVar87 / (local_1664 - local_1668);
                    fVar80 = (float)(uVar72 ^ (uint)local_1668) * fVar99;
                    fVar81 = fVar87 - fVar80;
                    fVar99 = (fVar87 - local_1668) * fVar99;
                    fVar87 = fVar87 - fVar99;
                    auVar119._0_4_ = local_1678 * fVar80 + local_1698 * fVar81;
                    auVar119._4_4_ = fStack_1674 * fVar80 + fStack_1694 * fVar81;
                    auVar119._8_4_ = fStack_1670 * fVar80 + fStack_1690 * fVar81;
                    auVar119._12_4_ = fStack_166c * fVar80 + fStack_168c * fVar81;
                    auVar108._0_4_ = fVar80 * local_1688 + fVar81 * local_16a8;
                    auVar108._4_4_ = fVar80 * fStack_1684 + fVar81 * fStack_16a4;
                    auVar108._8_4_ = fVar80 * fStack_1680 + fVar81 * fStack_16a0;
                    auVar108._12_4_ = fVar80 * fStack_167c + fVar81 * fStack_169c;
                    auVar135 = maxps(auVar119,auVar100);
                    auVar125 = minps(auVar108,auVar95);
                    auVar106._0_4_ = local_1678 * fVar99 + local_1698 * fVar87;
                    auVar106._4_4_ = fStack_1674 * fVar99 + fStack_1694 * fVar87;
                    auVar106._8_4_ = fStack_1670 * fVar99 + fStack_1690 * fVar87;
                    auVar106._12_4_ = fStack_166c * fVar99 + fStack_168c * fVar87;
                    auVar86._0_4_ = fVar99 * local_1688 + fVar87 * local_16a8;
                    auVar86._4_4_ = fVar99 * fStack_1684 + fVar87 * fStack_16a4;
                    auVar86._8_4_ = fVar99 * fStack_1680 + fVar87 * fStack_16a0;
                    auVar86._12_4_ = fVar99 * fStack_167c + fVar87 * fStack_169c;
                    auVar116 = maxps(auVar106,auVar100);
                    auVar83 = minps(auVar86,auVar95);
                    fVar87 = (float)((uint)auVar135._0_4_ & uVar59) * fVar78 + auVar135._0_4_;
                    fVar80 = (float)((uint)auVar135._4_4_ & uVar59) * fVar78 + auVar135._4_4_;
                    fVar81 = (float)((uint)auVar135._8_4_ & uVar59) * fVar78 + auVar135._8_4_;
                    *(float *)((long)puVar41 + 0x3c) = fVar87;
                    fVar99 = auVar125._0_4_ - (float)((uint)auVar125._0_4_ & uVar59) * fVar78;
                    fVar114 = auVar125._4_4_ - (float)((uint)auVar125._4_4_ & uVar59) * fVar78;
                    fVar138 = auVar125._8_4_ - (float)((uint)auVar125._8_4_ & uVar59) * fVar78;
                    *(float *)((long)puVar41 + 0x2c) = fVar99;
                    *(float *)((long)puVar41 + 0x6c) = fVar138;
                    *(float *)((long)puVar41 + 0x4c) = fVar114;
                    *(float *)((long)puVar41 + 0x5c) = fVar80;
                    *(float *)((long)puVar41 + 0x7c) = fVar81;
                    *(float *)((long)puVar41 + 0x8c) =
                         (auVar83._0_4_ - (float)(uVar59 & (uint)auVar83._0_4_) * fVar78) - fVar99;
                    *(float *)((long)puVar41 + 0xac) =
                         (auVar83._4_4_ - (float)(uVar59 & (uint)auVar83._4_4_) * fVar78) - fVar114;
                    *(float *)((long)puVar41 + 0xcc) =
                         (auVar83._8_4_ - (float)(uVar59 & (uint)auVar83._8_4_) * fVar78) - fVar138;
                    *(float *)((long)puVar41 + 0x9c) =
                         ((float)((uint)auVar116._0_4_ & uVar59) * fVar78 + auVar116._0_4_) - fVar87
                    ;
                    *(float *)((long)puVar41 + 0xbc) =
                         ((float)((uint)auVar116._4_4_ & uVar59) * fVar78 + auVar116._4_4_) - fVar80
                    ;
                    *(float *)((long)puVar41 + 0xdc) =
                         ((float)((uint)auVar116._8_4_ & uVar59) * fVar78 + auVar116._8_4_) - fVar81
                    ;
                  }
                }
              }
            }
          }
          else if (local_258 != 0) {
            puVar41 = (ulong *)(uVar60 & 0xfffffffffffffff0);
            *puVar41 = local_17d8;
            uVar59 = _LC6;
            fVar78 = _LC39;
            auVar110._4_4_ = _LC35;
            auVar110._0_4_ = _LC35;
            auVar110._8_4_ = _LC35;
            auVar110._12_4_ = _LC35;
            fVar99 = fVar87 / (local_1788._4_4_ - (float)local_1788);
            fVar80 = (float)((uint)(float)local_1788 ^ uVar72) * fVar99;
            fVar99 = (fVar87 - (float)local_1788) * fVar99;
            fVar114 = fVar87 - fVar80;
            fVar81 = fVar87 - fVar99;
            auVar141._0_4_ = (float)local_17b8 * fVar114 + (float)local_1798 * fVar80;
            auVar141._4_4_ = local_17b8._4_4_ * fVar114 + local_1798._4_4_ * fVar80;
            auVar141._8_4_ = (float)uStack_17b0 * fVar114 + (float)uStack_1790 * fVar80;
            auVar141._12_4_ = uStack_17b0._4_4_ * fVar114 + uStack_1790._4_4_ * fVar80;
            auVar101._0_4_ = fVar114 * (float)local_17c8 + fVar80 * (float)local_17a8;
            auVar101._4_4_ = fVar114 * local_17c8._4_4_ + fVar80 * local_17a8._4_4_;
            auVar101._8_4_ = fVar114 * (float)uStack_17c0 + fVar80 * (float)uStack_17a0;
            auVar101._12_4_ = fVar114 * uStack_17c0._4_4_ + fVar80 * uStack_17a0._4_4_;
            auVar107._4_4_ = _LC29;
            auVar107._0_4_ = _LC29;
            auVar107._8_4_ = _LC29;
            auVar107._12_4_ = _LC29;
            auVar135 = maxps(auVar141,auVar110);
            auVar116 = minps(auVar101,auVar107);
            auVar130._0_4_ = (float)local_17b8 * fVar81 + (float)local_1798 * fVar99;
            auVar130._4_4_ = local_17b8._4_4_ * fVar81 + local_1798._4_4_ * fVar99;
            auVar130._8_4_ = (float)uStack_17b0 * fVar81 + (float)uStack_1790 * fVar99;
            auVar130._12_4_ = uStack_17b0._4_4_ * fVar81 + uStack_1790._4_4_ * fVar99;
            auVar89._0_4_ = fVar81 * (float)local_17c8 + fVar99 * (float)local_17a8;
            auVar89._4_4_ = fVar81 * local_17c8._4_4_ + fVar99 * local_17a8._4_4_;
            auVar89._8_4_ = fVar81 * (float)uStack_17c0 + fVar99 * (float)uStack_17a0;
            auVar89._12_4_ = fVar81 * uStack_17c0._4_4_ + fVar99 * uStack_17a0._4_4_;
            auVar125 = maxps(auVar130,auVar110);
            auVar83 = minps(auVar89,auVar107);
            fVar114 = (float)((uint)auVar135._0_4_ & _LC6) * _LC39 + auVar135._0_4_;
            fVar138 = (float)((uint)auVar135._4_4_ & _LC6) * _LC39 + auVar135._4_4_;
            fVar139 = (float)((uint)auVar135._8_4_ & _LC6) * _LC39 + auVar135._8_4_;
            fVar80 = (float)((uint)auVar116._0_4_ & _LC6) * _LC39;
            fVar81 = (float)((uint)auVar116._4_4_ & _LC6) * _LC39;
            fVar99 = (float)((uint)auVar116._8_4_ & _LC6) * _LC39;
            *(float *)(puVar41 + 6) = fVar114;
            fVar80 = auVar116._0_4_ - fVar80;
            fVar81 = auVar116._4_4_ - fVar81;
            fVar99 = auVar116._8_4_ - fVar99;
            *(float *)(puVar41 + 4) = fVar80;
            *(float *)(puVar41 + 0x10) =
                 (auVar83._0_4_ - (float)((uint)auVar83._0_4_ & uVar59) * fVar78) - fVar80;
            *(float *)(puVar41 + 8) = fVar81;
            *(float *)(puVar41 + 0xc) = fVar99;
            *(float *)(puVar41 + 10) = fVar138;
            *(float *)(puVar41 + 0x14) =
                 (auVar83._4_4_ - (float)((uint)auVar83._4_4_ & uVar59) * fVar78) - fVar81;
            *(float *)(puVar41 + 0x18) =
                 (auVar83._8_4_ - (float)((uint)auVar83._8_4_ & uVar59) * fVar78) - fVar99;
            *(float *)(puVar41 + 0xe) = fVar139;
            *(float *)(puVar41 + 0x12) =
                 (auVar125._0_4_ + (float)((uint)auVar125._0_4_ & uVar59) * fVar78) - fVar114;
            *(float *)(puVar41 + 0x16) =
                 (auVar125._4_4_ + (float)((uint)auVar125._4_4_ & uVar59) * fVar78) - fVar138;
            *(float *)(puVar41 + 0x1a) =
                 (auVar125._8_4_ + (float)((uint)auVar125._8_4_ & uVar59) * fVar78) - fVar139;
            *(float *)(puVar41 + 0x1c) = (float)local_1788;
            fVar80 = local_1788._4_4_;
            if (local_1788._4_4_ == fVar87) {
              fVar80 = _LC32;
            }
            *(float *)(puVar41 + 0x1e) = fVar80;
            if (local_258 != 1) {
              puVar41[1] = local_1778._0_8_;
              fVar99 = fVar87 / (local_1728._4_4_ - (float)local_1728);
              fVar81 = (float)((uint)(float)local_1728 ^ uVar72) * fVar99;
              fVar80 = fVar87 - fVar81;
              fVar99 = (fVar87 - (float)local_1728) * fVar99;
              fVar114 = fVar87 - fVar99;
              auVar120._0_4_ = (float)local_1738 * fVar81 + (float)local_1758 * fVar80;
              auVar120._4_4_ = local_1738._4_4_ * fVar81 + local_1758._4_4_ * fVar80;
              auVar120._8_4_ = fStack_1730 * fVar81 + (float)uStack_1750 * fVar80;
              auVar120._12_4_ = fStack_172c * fVar81 + uStack_1750._4_4_ * fVar80;
              auVar90._0_4_ = fVar80 * local_1768 + fVar81 * (float)local_1748;
              auVar90._4_4_ = fVar80 * fStack_1764 + fVar81 * local_1748._4_4_;
              auVar90._8_4_ = fVar80 * fStack_1760 + fVar81 * fStack_1740;
              auVar90._12_4_ = fVar80 * fStack_175c + fVar81 * fStack_173c;
              auVar125 = maxps(auVar120,auVar110);
              auVar83 = minps(auVar90,auVar107);
              auVar102._0_4_ = (float)local_1738 * fVar99 + (float)local_1758 * fVar114;
              auVar102._4_4_ = local_1738._4_4_ * fVar99 + local_1758._4_4_ * fVar114;
              auVar102._8_4_ = fStack_1730 * fVar99 + (float)uStack_1750 * fVar114;
              auVar102._12_4_ = fStack_172c * fVar99 + uStack_1750._4_4_ * fVar114;
              auVar131._0_4_ = fVar114 * local_1768 + fVar99 * (float)local_1748;
              auVar131._4_4_ = fVar114 * fStack_1764 + fVar99 * local_1748._4_4_;
              auVar131._8_4_ = fVar114 * fStack_1760 + fVar99 * fStack_1740;
              auVar131._12_4_ = fVar114 * fStack_175c + fVar99 * fStack_173c;
              auVar116 = maxps(auVar102,auVar110);
              auVar135 = minps(auVar131,auVar107);
              fVar114 = auVar125._0_4_ + (float)((uint)auVar125._0_4_ & uVar59) * fVar78;
              fVar138 = auVar125._4_4_ + (float)((uint)auVar125._4_4_ & uVar59) * fVar78;
              fVar139 = auVar125._8_4_ + (float)((uint)auVar125._8_4_ & uVar59) * fVar78;
              *(float *)((long)puVar41 + 0x34) = fVar114;
              fVar80 = auVar83._0_4_ - (float)((uint)auVar83._0_4_ & uVar59) * fVar78;
              fVar81 = auVar83._4_4_ - (float)((uint)auVar83._4_4_ & uVar59) * fVar78;
              fVar99 = auVar83._8_4_ - (float)((uint)auVar83._8_4_ & uVar59) * fVar78;
              *(float *)((long)puVar41 + 0x24) = fVar80;
              *(float *)((long)puVar41 + 0x94) =
                   (auVar116._0_4_ + (float)((uint)auVar116._0_4_ & uVar59) * fVar78) - fVar114;
              *(float *)((long)puVar41 + 0x44) = fVar81;
              *(float *)((long)puVar41 + 100) = fVar99;
              *(float *)((long)puVar41 + 0x54) = fVar138;
              *(float *)((long)puVar41 + 0x74) = fVar139;
              *(float *)((long)puVar41 + 0x84) =
                   (auVar135._0_4_ - (float)((uint)auVar135._0_4_ & uVar59) * fVar78) - fVar80;
              *(float *)((long)puVar41 + 0xa4) =
                   (auVar135._4_4_ - (float)((uint)auVar135._4_4_ & uVar59) * fVar78) - fVar81;
              *(float *)((long)puVar41 + 0xc4) =
                   (auVar135._8_4_ - (float)((uint)auVar135._8_4_ & uVar59) * fVar78) - fVar99;
              *(float *)((long)puVar41 + 0xb4) =
                   (auVar116._4_4_ + (float)((uint)auVar116._4_4_ & uVar59) * fVar78) - fVar138;
              *(float *)((long)puVar41 + 0xd4) =
                   (auVar116._8_4_ + (float)((uint)auVar116._8_4_ & uVar59) * fVar78) - fVar139;
              *(float *)((long)puVar41 + 0xe4) = (float)local_1728;
              fVar80 = local_1728._4_4_;
              if (local_1728._4_4_ == fVar87) {
                fVar80 = _LC32;
              }
              *(float *)((long)puVar41 + 0xf4) = fVar80;
              if (local_258 != 2) {
                puVar41[2] = local_1718;
                fVar99 = fVar87 / (local_16c4 - local_16c8);
                fVar81 = (float)((uint)local_16c8 ^ uVar72) * fVar99;
                fVar80 = fVar87 - fVar81;
                fVar99 = (fVar87 - local_16c8) * fVar99;
                fVar114 = fVar87 - fVar99;
                auVar121._0_4_ = local_16d8 * fVar81 + (float)local_16f8 * fVar80;
                auVar121._4_4_ = fStack_16d4 * fVar81 + local_16f8._4_4_ * fVar80;
                auVar121._8_4_ = fStack_16d0 * fVar81 + (float)uStack_16f0 * fVar80;
                auVar121._12_4_ = fStack_16cc * fVar81 + uStack_16f0._4_4_ * fVar80;
                auVar91._0_4_ = fVar80 * (float)local_1708 + fVar81 * local_16e8;
                auVar91._4_4_ = fVar80 * local_1708._4_4_ + fVar81 * fStack_16e4;
                auVar91._8_4_ = fVar80 * (float)uStack_1700 + fVar81 * fStack_16e0;
                auVar91._12_4_ = fVar80 * uStack_1700._4_4_ + fVar81 * fStack_16dc;
                auVar125 = maxps(auVar121,auVar110);
                auVar83 = minps(auVar91,auVar107);
                auVar103._0_4_ = local_16d8 * fVar99 + (float)local_16f8 * fVar114;
                auVar103._4_4_ = fStack_16d4 * fVar99 + local_16f8._4_4_ * fVar114;
                auVar103._8_4_ = fStack_16d0 * fVar99 + (float)uStack_16f0 * fVar114;
                auVar103._12_4_ = fStack_16cc * fVar99 + uStack_16f0._4_4_ * fVar114;
                auVar132._0_4_ = fVar114 * (float)local_1708 + fVar99 * local_16e8;
                auVar132._4_4_ = fVar114 * local_1708._4_4_ + fVar99 * fStack_16e4;
                auVar132._8_4_ = fVar114 * (float)uStack_1700 + fVar99 * fStack_16e0;
                auVar132._12_4_ = fVar114 * uStack_1700._4_4_ + fVar99 * fStack_16dc;
                auVar116 = maxps(auVar103,auVar110);
                auVar135 = minps(auVar132,auVar107);
                fVar114 = auVar125._0_4_ + (float)((uint)auVar125._0_4_ & uVar59) * fVar78;
                fVar138 = auVar125._4_4_ + (float)((uint)auVar125._4_4_ & uVar59) * fVar78;
                fVar139 = auVar125._8_4_ + (float)((uint)auVar125._8_4_ & uVar59) * fVar78;
                *(float *)(puVar41 + 7) = fVar114;
                fVar80 = auVar83._0_4_ - (float)((uint)auVar83._0_4_ & uVar59) * fVar78;
                fVar81 = auVar83._4_4_ - (float)((uint)auVar83._4_4_ & uVar59) * fVar78;
                fVar99 = auVar83._8_4_ - (float)((uint)auVar83._8_4_ & uVar59) * fVar78;
                *(float *)(puVar41 + 5) = fVar80;
                *(float *)(puVar41 + 0x13) =
                     (auVar116._0_4_ + (float)((uint)auVar116._0_4_ & uVar59) * fVar78) - fVar114;
                *(float *)(puVar41 + 9) = fVar81;
                *(float *)(puVar41 + 0xd) = fVar99;
                *(float *)(puVar41 + 0xb) = fVar138;
                *(float *)(puVar41 + 0xf) = fVar139;
                *(float *)(puVar41 + 0x11) =
                     (auVar135._0_4_ - (float)((uint)auVar135._0_4_ & uVar59) * fVar78) - fVar80;
                *(float *)(puVar41 + 0x15) =
                     (auVar135._4_4_ - (float)((uint)auVar135._4_4_ & uVar59) * fVar78) - fVar81;
                *(float *)(puVar41 + 0x19) =
                     (auVar135._8_4_ - (float)((uint)auVar135._8_4_ & uVar59) * fVar78) - fVar99;
                *(float *)(puVar41 + 0x17) =
                     (auVar116._4_4_ + (float)((uint)auVar116._4_4_ & uVar59) * fVar78) - fVar138;
                *(float *)(puVar41 + 0x1b) =
                     (auVar116._8_4_ + (float)((uint)auVar116._8_4_ & uVar59) * fVar78) - fVar139;
                *(float *)(puVar41 + 0x1d) = local_16c8;
                if (local_16c4 == fVar87) {
                  local_16c4 = _LC32;
                }
                *(float *)(puVar41 + 0x1f) = local_16c4;
                if (local_258 != 3) {
                  puVar41[3] = local_16b8;
                  *(float *)((long)puVar41 + 0xec) = local_1668;
                  fVar81 = fVar87 / (local_1664 - local_1668);
                  fVar80 = (float)(uVar72 ^ (uint)local_1668) * fVar81;
                  fVar99 = fVar87 - fVar80;
                  fVar81 = fVar81 * (fVar87 - local_1668);
                  fVar114 = fVar87 - fVar81;
                  auVar104._0_4_ = local_1678 * fVar80 + local_1698 * fVar99;
                  auVar104._4_4_ = fStack_1674 * fVar80 + fStack_1694 * fVar99;
                  auVar104._8_4_ = fStack_1670 * fVar80 + fStack_1690 * fVar99;
                  auVar104._12_4_ = fStack_166c * fVar80 + fStack_168c * fVar99;
                  auVar98._0_4_ = fVar99 * local_16a8 + fVar80 * local_1688;
                  auVar98._4_4_ = fVar99 * fStack_16a4 + fVar80 * fStack_1684;
                  auVar98._8_4_ = fVar99 * fStack_16a0 + fVar80 * fStack_1680;
                  auVar98._12_4_ = fVar99 * fStack_169c + fVar80 * fStack_167c;
                  auVar116 = maxps(auVar104,auVar110);
                  auVar83 = minps(auVar98,auVar107);
                  auVar122._0_4_ = local_1678 * fVar81 + local_1698 * fVar114;
                  auVar122._4_4_ = fStack_1674 * fVar81 + fStack_1694 * fVar114;
                  auVar122._8_4_ = fStack_1670 * fVar81 + fStack_1690 * fVar114;
                  auVar122._12_4_ = fStack_166c * fVar81 + fStack_168c * fVar114;
                  auVar133._0_4_ = fVar81 * local_1688 + fVar114 * local_16a8;
                  auVar133._4_4_ = fVar81 * fStack_1684 + fVar114 * fStack_16a4;
                  auVar133._8_4_ = fVar81 * fStack_1680 + fVar114 * fStack_16a0;
                  auVar133._12_4_ = fVar81 * fStack_167c + fVar114 * fStack_169c;
                  auVar125 = maxps(auVar122,auVar110);
                  auVar135 = minps(auVar133,auVar107);
                  fVar114 = (float)((uint)auVar116._0_4_ & uVar59) * fVar78 + auVar116._0_4_;
                  fVar138 = (float)((uint)auVar116._4_4_ & uVar59) * fVar78 + auVar116._4_4_;
                  fVar139 = (float)((uint)auVar116._8_4_ & uVar59) * fVar78 + auVar116._8_4_;
                  *(float *)((long)puVar41 + 0x3c) = fVar114;
                  fVar80 = auVar83._0_4_ - (float)((uint)auVar83._0_4_ & uVar59) * fVar78;
                  fVar81 = auVar83._4_4_ - (float)((uint)auVar83._4_4_ & uVar59) * fVar78;
                  fVar99 = auVar83._8_4_ - (float)((uint)auVar83._8_4_ & uVar59) * fVar78;
                  *(float *)((long)puVar41 + 0x2c) = fVar80;
                  *(float *)((long)puVar41 + 0x4c) = fVar81;
                  *(float *)((long)puVar41 + 0x5c) = fVar138;
                  *(float *)((long)puVar41 + 0x7c) = fVar139;
                  *(float *)((long)puVar41 + 0x6c) = fVar99;
                  *(float *)((long)puVar41 + 0x8c) =
                       (auVar135._0_4_ - (float)(uVar59 & (uint)auVar135._0_4_) * fVar78) - fVar80;
                  *(float *)((long)puVar41 + 0xac) =
                       (auVar135._4_4_ - (float)(uVar59 & (uint)auVar135._4_4_) * fVar78) - fVar81;
                  *(float *)((long)puVar41 + 0xcc) =
                       (auVar135._8_4_ - (float)(uVar59 & (uint)auVar135._8_4_) * fVar78) - fVar99;
                  *(float *)((long)puVar41 + 0x9c) =
                       ((float)((uint)auVar125._0_4_ & uVar59) * fVar78 + auVar125._0_4_) - fVar114;
                  *(float *)((long)puVar41 + 0xbc) =
                       ((float)((uint)auVar125._4_4_ & uVar59) * fVar78 + auVar125._4_4_) - fVar138;
                  *(float *)((long)puVar41 + 0xdc) =
                       ((float)((uint)auVar125._8_4_ & uVar59) * fVar78 + auVar125._8_4_) - fVar139;
                  if (local_1664 == fVar87) {
                    local_1664 = _LC32;
                  }
                  *(float *)((long)puVar41 + 0xfc) = local_1664;
                }
              }
            }
          }
          if (!bVar26) goto LAB_001149d7;
        }
        local_1c08 = (ulong *)local_19a8;
        local_1c00 = (float *)(param_1 + 0xb);
        local_1ab8 = (float *)local_1cd8;
        pfStack_1ab0 = uStack_1cd0;
        local_1aa8 = (undefined1 *)local_1ce8;
        uStack_1aa0 = uStack_1ce0;
        local_1a98 = (float *)local_1cd8;
        pfStack_1a90 = uStack_1cd0;
        local_1a88 = (undefined1 *)local_1ce8;
        uStack_1a80 = uStack_1ce0;
        if ((ulong)((long)pfStack_1940 - (long)local_1948) < 0xc00) {
          local_1bd8 = local_1948;
          pfStack_1bd0 = pfStack_1940;
          const::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                    ((_lambda_embree__range<unsigned_long>const___1_ *)&local_1b48,
                     (range *)&local_1c08);
        }
        else {
          parallel_reduce_internal<unsigned_long,embree::LBBox<embree::Vec3fa>,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::range<unsigned_long>const&)_1_,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::LBBox<embree::Vec3fa>const&,embree::LBBox<embree::Vec3fa>const&)_2_>
                    ((ulong)&local_1b48,((long)pfStack_1940 - (long)local_1948) + 0x3ffU >> 10,
                     (ulong)local_1948,(ulong)pfStack_1940,(LBBox_conflict *)0x400,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1ab8,
                     (_lambda_embree__LBBox<embree::Vec3fa>_const__embree__LBBox<embree::Vec3fa>_const___2_
                      *)&local_1c08);
        }
        *(float **)(this + 0x10) = local_1b48;
        *(float **)(this + 0x18) = pfStack_1b40;
        *(ulong *)this = uVar60;
        *(undefined1 **)(this + 0x20) = local_1b38;
        *(ulong *)(this + 0x28) = uStack_1b30;
        *(float **)(this + 0x30) = local_1b28;
        *(float **)(this + 0x38) = pfStack_1b20;
        *(undefined1 **)(this + 0x40) = local_1b18;
        *(ulong *)(this + 0x48) = uStack_1b10;
        *(ulong *)(this + 0x50) = local_1920;
      }
      else {
        local_1b48 = (float *)0xe0;
        if (in_stack_00000008 != *(FastAllocator **)(pfVar46 + 2)) {
          embree::MutexSys::lock();
          if (*(long *)(pfVar46 + 2) != 0) {
            LOCK();
            *(long *)(*(long *)(pfVar46 + 2) + 0x118) =
                 *(long *)(*(long *)(pfVar46 + 2) + 0x118) +
                 *(long *)(pfVar46 + 0x2a) + *(long *)(pfVar46 + 0x1a);
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar46 + 2) + 0x120) =
                 *(long *)(*(long *)(pfVar46 + 2) + 0x120) +
                 (((*(long *)(pfVar46 + 0x26) + *(long *)(pfVar46 + 0x16)) -
                  *(long *)(pfVar46 + 0x14)) - *(long *)(pfVar46 + 0x24));
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar46 + 2) + 0x128) =
                 *(long *)(*(long *)(pfVar46 + 2) + 0x128) +
                 *(long *)(pfVar46 + 0x2c) + *(long *)(pfVar46 + 0x1c);
            UNLOCK();
          }
          pfVar46[0x12] = 0.0;
          pfVar46[0x13] = 0.0;
          pfVar46[0x16] = 0.0;
          pfVar46[0x17] = 0.0;
          pfVar46[0x14] = 0.0;
          pfVar46[0x15] = 0.0;
          pfVar46[0x1a] = 0.0;
          pfVar46[0x1b] = 0.0;
          pfVar46[0x1c] = 0.0;
          pfVar46[0x1d] = 0.0;
          pfVar46[0x18] = 0.0;
          pfVar46[0x19] = 0.0;
          if (in_stack_00000008 == (FastAllocator *)0x0) {
            pfVar46[0x22] = 0.0;
            pfVar46[0x23] = 0.0;
            uVar42 = 0;
            pfVar46[0x26] = 0.0;
            pfVar46[0x27] = 0.0;
            pfVar46[0x24] = 0.0;
            pfVar46[0x25] = 0.0;
            pfVar46[0x2a] = 0.0;
            pfVar46[0x2b] = 0.0;
            pfVar46[0x2c] = 0.0;
            pfVar46[0x2d] = 0.0;
          }
          else {
            uVar42 = *(undefined8 *)(in_stack_00000008 + 0x10);
            pfVar46[0x22] = 0.0;
            pfVar46[0x23] = 0.0;
            pfVar46[0x26] = 0.0;
            pfVar46[0x27] = 0.0;
            *(undefined8 *)(pfVar46 + 0x18) = uVar42;
            pfVar46[0x24] = 0.0;
            pfVar46[0x25] = 0.0;
            pfVar46[0x2a] = 0.0;
            pfVar46[0x2b] = 0.0;
            pfVar46[0x2c] = 0.0;
            pfVar46[0x2d] = 0.0;
            pfVar46[0x28] = 0.0;
            pfVar46[0x29] = 0.0;
            uVar42 = *(undefined8 *)(in_stack_00000008 + 0x10);
          }
          *(undefined8 *)(pfVar46 + 0x28) = uVar42;
          LOCK();
          *(FastAllocator **)(pfVar46 + 2) = in_stack_00000008;
          UNLOCK();
          local_1ab8 = pfVar46;
          embree::MutexSys::lock();
          puVar41 = *(ulong **)(in_stack_00000008 + 0x138);
          if (puVar41 == *(ulong **)(in_stack_00000008 + 0x140)) {
            std::
            vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
            ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                      ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                        *)(in_stack_00000008 + 0x130),puVar41,&local_1ab8);
          }
          else {
            *puVar41 = (ulong)pfVar46;
            *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
          }
          embree::MutexSys::unlock();
          embree::MutexSys::unlock();
        }
        in_stack_00000010[5] = in_stack_00000010[5] + 0xe0;
        uVar38 = in_stack_00000010[2];
        uVar45 = (ulong)(-(int)uVar38 & 0xf);
        uVar60 = uVar38 + 0xe0 + uVar45;
        in_stack_00000010[2] = uVar60;
        if (in_stack_00000010[3] < uVar60) {
          in_stack_00000010[2] = uVar38;
          if ((float *)in_stack_00000010[4] < (float *)0x380) {
            puVar43 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b48,0x40,false);
          }
          else {
            local_1ab8 = (float *)in_stack_00000010[4];
            puVar43 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1ab8,0x40,true);
            in_stack_00000010[1] = (ulong)puVar43;
            uVar60 = in_stack_00000010[2];
            in_stack_00000010[2] = 0xe0;
            in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar60;
            in_stack_00000010[3] = (ulong)local_1ab8;
            if (local_1ab8 < (float *)0xe0) {
              local_1ab8 = (float *)in_stack_00000010[4];
              in_stack_00000010[2] = 0;
              puVar43 = (undefined8 *)
                        FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1ab8,0x40,false);
              in_stack_00000010[1] = (ulong)puVar43;
              uVar60 = in_stack_00000010[2];
              in_stack_00000010[2] = 0xe0;
              in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar60;
              in_stack_00000010[3] = (ulong)local_1ab8;
              if (local_1ab8 < (float *)0xe0) {
                puVar43 = (undefined8 *)0x0;
                in_stack_00000010[2] = 0;
              }
            }
          }
        }
        else {
          in_stack_00000010[6] = in_stack_00000010[6] + uVar45;
          puVar43 = (undefined8 *)((in_stack_00000010[1] - 0xe0) + uVar60);
        }
        *puVar43 = 8;
        puVar43[1] = 8;
        uVar60 = (ulong)puVar43 | 1;
        puVar43[0xc] = local_1cd8;
        puVar43[0xd] = uStack_1cd0;
        puVar43[8] = local_1cd8;
        puVar43[9] = uStack_1cd0;
        puVar43[4] = local_1cd8;
        puVar43[5] = uStack_1cd0;
        puVar43[2] = 8;
        puVar43[0xe] = local_1ce8;
        puVar43[0xf] = uStack_1ce0;
        puVar43[10] = local_1ce8;
        puVar43[0xb] = uStack_1ce0;
        puVar43[6] = local_1ce8;
        puVar43[7] = uStack_1ce0;
        puVar43[3] = 8;
        *(undefined1 (*) [16])(puVar43 + 0x18) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x14) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x10) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x1a) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x16) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar43 + 0x12) = (undefined1  [16])0x0;
        if (local_258 != 0) goto LAB_001134e7;
LAB_001149d7:
        *(ulong *)this = uVar60;
        *(undefined1 (*) [16])(this + 0x10) = auVar79;
        *(undefined1 (*) [16])(this + 0x20) = auVar73;
        *(undefined1 (*) [16])(this + 0x30) = auVar68;
        *(undefined1 (*) [16])(this + 0x40) = auVar75;
        *(ulong *)(this + 0x50) = local_1920;
      }
      uVar60 = 0;
      if (local_258 != 0) {
        do {
          puVar5 = local_2d8[uVar60];
          puVar41 = puVar5 + 1;
          *puVar41 = *puVar41 - 1;
          if ((*puVar41 == 0) && (puVar43 = (undefined8 *)*puVar5, puVar43 != (undefined8 *)0x0)) {
            pvVar6 = (void *)puVar43[4];
            lVar66 = puVar43[3];
            if (pvVar6 != (void *)0x0) {
              if ((ulong)(lVar66 * 0x50) < 0x1c00000) {
                embree::alignedFree(pvVar6);
              }
              else {
                embree::os_free(pvVar6,lVar66 * 0x50,*(bool *)(puVar43 + 1));
              }
            }
            if (lVar66 != 0) {
              (*(code *)**(undefined8 **)*puVar43)((undefined8 *)*puVar43,lVar66 * -0x50,1);
            }
            operator_delete(puVar43,0x28);
          }
          uVar60 = uVar60 + 1;
        } while (uVar60 < local_258);
      }
      goto LAB_00114990;
    }
    uVar38 = (long)pfStack_1940 - (long)pfVar46;
    bVar57 = uVar38 <= param_1[4] && uStack_11cc < 2;
    if (uVar38 > param_1[4] || uStack_11cc >= 2) goto LAB_00111ae6;
    uVar60 = uVar38 + 3 >> 2;
    lVar66 = (uVar38 + 3 & 0xfffffffffffffffc) + uVar60;
  }
  else {
    uVar38 = (long)pfStack_1940 - (long)pfVar46;
    bVar57 = uVar38 <= param_1[4] && uStack_11cc < 2;
    if (uVar38 > param_1[4] || uStack_11cc >= 2) goto LAB_00111ae6;
    uVar60 = uVar38 + 3 >> 2;
    lVar66 = (uVar38 + 3 & 0xfffffffffffffffc) + uVar60;
  }
  pfVar53 = (float *)(lVar66 << 4);
  local_1e98._0_8_ = 7;
  if (uVar60 < 8) {
    local_1e98._0_8_ = uVar60;
  }
  local_1e98._0_8_ = local_1e98._0_8_ + 8;
LAB_0011400b:
  pfVar8 = (float *)*in_stack_00000018;
  local_1b48 = pfVar53;
  if (in_stack_00000008 != *(FastAllocator **)(pfVar8 + 2)) {
    embree::MutexSys::lock();
    if (*(long *)(pfVar8 + 2) != 0) {
      LOCK();
      *(long *)(*(long *)(pfVar8 + 2) + 0x118) =
           *(long *)(*(long *)(pfVar8 + 2) + 0x118) +
           *(long *)(pfVar8 + 0x2a) + *(long *)(pfVar8 + 0x1a);
      UNLOCK();
      LOCK();
      *(long *)(*(long *)(pfVar8 + 2) + 0x120) =
           *(long *)(*(long *)(pfVar8 + 2) + 0x120) +
           (((*(long *)(pfVar8 + 0x26) + *(long *)(pfVar8 + 0x16)) - *(long *)(pfVar8 + 0x14)) -
           *(long *)(pfVar8 + 0x24));
      UNLOCK();
      LOCK();
      *(long *)(*(long *)(pfVar8 + 2) + 0x128) =
           *(long *)(*(long *)(pfVar8 + 2) + 0x128) +
           *(long *)(pfVar8 + 0x2c) + *(long *)(pfVar8 + 0x1c);
      UNLOCK();
    }
    pfVar8[0x12] = 0.0;
    pfVar8[0x13] = 0.0;
    pfVar8[0x16] = 0.0;
    pfVar8[0x17] = 0.0;
    pfVar8[0x14] = 0.0;
    pfVar8[0x15] = 0.0;
    pfVar8[0x1a] = 0.0;
    pfVar8[0x1b] = 0.0;
    pfVar8[0x1c] = 0.0;
    pfVar8[0x1d] = 0.0;
    pfVar8[0x18] = 0.0;
    pfVar8[0x19] = 0.0;
    if (in_stack_00000008 == (FastAllocator *)0x0) {
      pfVar8[0x22] = 0.0;
      pfVar8[0x23] = 0.0;
      uVar42 = 0;
      pfVar8[0x26] = 0.0;
      pfVar8[0x27] = 0.0;
      pfVar8[0x24] = 0.0;
      pfVar8[0x25] = 0.0;
      pfVar8[0x2a] = 0.0;
      pfVar8[0x2b] = 0.0;
      pfVar8[0x2c] = 0.0;
      pfVar8[0x2d] = 0.0;
    }
    else {
      uVar42 = *(undefined8 *)(in_stack_00000008 + 0x10);
      pfVar8[0x22] = 0.0;
      pfVar8[0x23] = 0.0;
      pfVar8[0x26] = 0.0;
      pfVar8[0x27] = 0.0;
      *(undefined8 *)(pfVar8 + 0x18) = uVar42;
      pfVar8[0x24] = 0.0;
      pfVar8[0x25] = 0.0;
      pfVar8[0x2a] = 0.0;
      pfVar8[0x2b] = 0.0;
      pfVar8[0x2c] = 0.0;
      pfVar8[0x2d] = 0.0;
      pfVar8[0x28] = 0.0;
      pfVar8[0x29] = 0.0;
      uVar42 = *(undefined8 *)(in_stack_00000008 + 0x10);
    }
    *(undefined8 *)(pfVar8 + 0x28) = uVar42;
    LOCK();
    *(FastAllocator **)(pfVar8 + 2) = in_stack_00000008;
    UNLOCK();
    local_1ab8 = pfVar8;
    embree::MutexSys::lock();
    puVar41 = *(ulong **)(in_stack_00000008 + 0x138);
    if (puVar41 == *(ulong **)(in_stack_00000008 + 0x140)) {
      std::
      vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
      ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                  *)(in_stack_00000008 + 0x130),puVar41,&local_1ab8);
    }
    else {
      *puVar41 = (ulong)pfVar8;
      *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
    }
    embree::MutexSys::unlock();
    embree::MutexSys::unlock();
  }
  uVar45 = in_stack_00000018[2];
  in_stack_00000018[5] = in_stack_00000018[5] + (long)pfVar53;
  uVar39 = (ulong)(-(int)uVar45 & 0xf);
  lVar66 = uVar45 + uVar39;
  uVar38 = lVar66 + (long)pfVar53;
  in_stack_00000018[2] = uVar38;
  if (in_stack_00000018[3] < uVar38) {
    in_stack_00000018[2] = uVar45;
    if ((float *)in_stack_00000018[4] < (float *)(uVar60 * 0x140)) {
      uVar45 = FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b48,0x40,false);
    }
    else {
      local_1ab8 = (float *)in_stack_00000018[4];
      uVar45 = FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1ab8,0x40,true);
      in_stack_00000018[1] = uVar45;
      uVar38 = in_stack_00000018[2];
      in_stack_00000018[2] = (ulong)pfVar53;
      in_stack_00000018[6] = (in_stack_00000018[3] + in_stack_00000018[6]) - uVar38;
      in_stack_00000018[3] = (ulong)local_1ab8;
      if (local_1ab8 < pfVar53) {
        in_stack_00000018[2] = 0;
        local_1ab8 = (float *)in_stack_00000018[4];
        uVar45 = FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1ab8,0x40,false);
        in_stack_00000018[1] = uVar45;
        uVar38 = in_stack_00000018[2];
        in_stack_00000018[2] = (ulong)pfVar53;
        in_stack_00000018[6] = (in_stack_00000018[3] + in_stack_00000018[6]) - uVar38;
        in_stack_00000018[3] = (ulong)local_1ab8;
        if (local_1ab8 < pfVar53) {
          uVar45 = 0;
          in_stack_00000018[2] = 0;
        }
      }
    }
  }
  else {
    in_stack_00000018[6] = in_stack_00000018[6] + uVar39;
    uVar45 = lVar66 + in_stack_00000018[1];
  }
  uVar38 = local_1e98._0_8_ | uVar45;
  if (uVar60 == 0) {
    auVar97._0_8_ = CONCAT44(_LC10,_LC10);
    auVar97._8_4_ = _LC10;
    auVar97._12_4_ = _LC10;
    auVar70._0_8_ = CONCAT44(_LC8,_LC8);
    auVar70._8_4_ = _LC8;
    auVar70._12_4_ = _LC8;
    auVar77._8_4_ = _LC10;
    auVar77._0_8_ = auVar97._0_8_;
    auVar77._12_4_ = _LC10;
    auVar129._8_4_ = _LC8;
    auVar129._0_8_ = auVar70._0_8_;
    auVar129._12_4_ = _LC8;
  }
  else {
    puVar54 = (uint *)(uVar45 + 0x40);
    auVar76._0_8_ = CONCAT44(_LC10,_LC10);
    auVar76._8_4_ = _LC10;
    auVar76._12_4_ = _LC10;
    auVar128._0_8_ = CONCAT44(_LC8,_LC8);
    auVar128._8_4_ = _LC8;
    auVar128._12_4_ = _LC8;
    auVar97._8_4_ = _LC10;
    auVar97._0_8_ = auVar76._0_8_;
    auVar97._12_4_ = _LC10;
    auVar70._8_4_ = _LC8;
    auVar70._0_8_ = auVar128._0_8_;
    auVar70._12_4_ = _LC8;
    auVar77 = auVar76;
    auVar129 = auVar128;
    do {
      local_18c8._0_4_ = 0;
      lVar66 = *(long *)(param_1[0xe] + 0x68);
      lVar50 = *(long *)(local_1918 + 0x20);
      local_1a08._0_4_ = 0.0;
      local_19f8._0_4_ = 0;
      uVar72 = 0xffffffff;
      local_11d8 = 0xffffffffffffffff;
      uStack_11d0 = 0xffffffff;
      uStack_11cc = 0xffffffff;
      if (pfVar46 < pfStack_1940) {
        lVar47 = (long)pfVar46 * 0x50;
        uVar72 = *(uint *)(lVar50 + lVar47 + 0x1c);
        uStack_17cc = *(uint *)(lVar50 + lVar47 + 0xc);
        local_11d8 = CONCAT44(0xffffffff,uVar72);
        lVar9 = *(long *)(lVar66 + 0x1e0);
        lVar10 = *(long *)(lVar9 + (ulong)uStack_17cc * 8);
        piVar51 = (int *)((ulong)uVar72 * *(long *)(lVar10 + 0x60) + *(long *)(lVar10 + 0x58));
        uVar59 = (uint)(*(ulong *)(lVar10 + 0x90) >> 2) & 0x3fffffff;
        uStack_1a00._4_4_ = (float)(*piVar51 * uVar59);
        local_19f8._0_4_ = piVar51[1] * uVar59;
        local_18c8._0_4_ = uVar59 * piVar51[2];
        pfVar53 = (float *)((long)pfVar46 + 1);
        local_1a08._0_4_ = uStack_1a00._4_4_;
        if (pfStack_1940 <= pfVar53) goto LAB_00114c3b;
        lVar10 = lVar50 + 0x50 + lVar47;
        uVar48 = *(uint *)(lVar10 + 0xc);
        uVar59 = *(uint *)(lVar10 + 0x1c);
        local_17d8 = CONCAT44(uVar48,uStack_17cc);
        local_11d8 = CONCAT44(uVar59,uVar72);
        lVar10 = *(long *)(lVar9 + (ulong)uVar48 * 8);
        piVar51 = (int *)((ulong)uVar59 * *(long *)(lVar10 + 0x60) + *(long *)(lVar10 + 0x58));
        uVar48 = (uint)(*(ulong *)(lVar10 + 0x90) >> 2) & 0x3fffffff;
        local_1a08 = CONCAT44(*piVar51 * uVar48,uStack_1a00._4_4_);
        local_19f8._4_4_ = piVar51[1] * uVar48;
        pfVar53 = (float *)((long)pfVar46 + 2);
        local_18c8 = CONCAT44(uVar48 * piVar51[2],(int)local_18c8);
        if (pfStack_1940 <= pfVar53) goto LAB_00114c57;
        lVar10 = lVar50 + 0xa0 + lVar47;
        uStack_17d0 = *(uint *)(lVar10 + 0xc);
        uStack_11d0 = *(uint *)(lVar10 + 0x1c);
        lVar10 = *(long *)(lVar9 + (ulong)uStack_17d0 * 8);
        piVar51 = (int *)((ulong)uStack_11d0 * *(long *)(lVar10 + 0x60) + *(long *)(lVar10 + 0x58));
        uVar48 = (uint)(*(ulong *)(lVar10 + 0x90) >> 2) & 0x3fffffff;
        uStack_1a00._0_4_ = *piVar51 * uVar48;
        uStack_19f0._0_4_ = piVar51[1] * uVar48;
        pfVar53 = (float *)((long)pfVar46 + 3);
        uStack_18c0._0_4_ = uVar48 * piVar51[2];
        if (pfStack_1940 <= pfVar53) goto LAB_00114c73;
        lVar47 = lVar50 + 0xf0 + lVar47;
        pfVar53 = pfVar46 + 1;
        uStack_17cc = *(uint *)(lVar47 + 0xc);
        uStack_11cc = *(uint *)(lVar47 + 0x1c);
        lVar50 = *(long *)(lVar9 + (ulong)uStack_17cc * 8);
        piVar51 = (int *)((ulong)uStack_11cc * *(long *)(lVar50 + 0x60) + *(long *)(lVar50 + 0x58));
        uVar48 = (uint)(*(ulong *)(lVar50 + 0x90) >> 2) & 0x3fffffff;
        uStack_1a00._4_4_ = (float)(*piVar51 * uVar48);
        uStack_19f0._4_4_ = piVar51[1] * uVar48;
        uStack_18c0._4_4_ = uVar48 * piVar51[2];
      }
      else {
        uStack_17cc = 0xffffffff;
        pfVar53 = pfVar46;
LAB_00114c3b:
        uVar59 = 0xffffffff;
        local_17d8 = CONCAT44(uStack_17cc,uStack_17cc);
        local_1a08 = CONCAT44((float)local_1a08,(float)local_1a08);
        local_19f8._4_4_ = (float)local_1a08;
        local_18c8 = CONCAT44((float)local_1a08,(int)local_18c8);
        uStack_1a00._4_4_ = (float)local_1a08;
LAB_00114c57:
        uStack_1a00._0_4_ = uStack_1a00._4_4_;
        uStack_19f0._0_4_ = uStack_1a00._4_4_;
        uStack_18c0._0_4_ = uStack_1a00._4_4_;
        uStack_17d0 = uStack_17cc;
LAB_00114c73:
        uStack_19f0._4_4_ = uStack_1a00._4_4_;
        uStack_18c0._4_4_ = uStack_1a00._4_4_;
      }
      puVar63 = puVar54 + -4;
      uStack_1cd0 = auVar76._8_8_;
      *(undefined8 *)(puVar54 + -0x10) = local_1a08;
      *(undefined8 *)(puVar54 + -0xe) = uStack_1a00;
      local_1e68._8_8_ = uStack_1cd0;
      local_1e68._0_8_ = auVar76._0_8_;
      *(undefined1 (*) [8])(puVar54 + -0xc) = local_19f8;
      *(undefined8 *)(puVar54 + -10) = uStack_19f0;
      *puVar54 = uVar72;
      puVar54[1] = uVar59;
      puVar54[2] = uStack_11d0;
      puVar54[3] = uStack_11cc;
      *(undefined8 *)(puVar54 + -8) = local_18c8;
      *(undefined8 *)(puVar54 + -6) = uStack_18c0;
      local_1e88._8_8_ = uStack_1cd0;
      local_1e88._0_8_ = auVar76._0_8_;
      *(ulong *)(puVar54 + -4) = local_17d8;
      *(ulong *)(puVar54 + -2) = CONCAT44(uStack_17cc,uStack_17d0);
      uStack_1ce0 = auVar128._8_8_;
      local_1e98._8_8_ = uStack_1ce0;
      local_1e98._0_8_ = auVar128._0_8_;
      local_1e78._8_8_ = uStack_1ce0;
      local_1e78._0_8_ = auVar128._0_8_;
      do {
        if (puVar63[4] == 0xffffffff) break;
        lVar50 = *(long *)(*(long *)(lVar66 + 0x1e0) + (ulong)*puVar63 * 8);
        fVar87 = *(float *)(lVar50 + 0x2c);
        fVar78 = *(float *)(lVar50 + 0x28);
        fVar80 = *(float *)(lVar50 + 0x30) - fVar87;
        fVar99 = ((float)local_1920 - fVar87) / fVar80;
        fVar80 = (local_1920._4_4_ - fVar87) / fVar80;
        fVar81 = fVar78 * fVar99;
        fVar114 = fVar78 * fVar80;
        fVar87 = fVar81;
        if ((float)(_LC6 & (uint)fVar81) < _LC1) {
          fVar87 = (float)(~_LC6 & (uint)fVar81 |
                          (uint)((float)(int)fVar81 -
                                (float)(-(uint)(fVar81 < (float)(int)fVar81) & (uint)_LC3)));
        }
        fVar138 = fVar114;
        if ((float)(_LC6 & (uint)fVar114) < _LC1) {
          fVar138 = (float)(~_LC6 & (uint)fVar114 |
                           (uint)((float)(int)fVar114 +
                                 (float)(-(uint)((float)(int)fVar114 < fVar114) & (uint)_LC3)));
        }
        iVar37 = (int)fVar87;
        if (fVar87 <= 0.0) {
          lVar47 = 0;
          iVar52 = 0;
        }
        else {
          fVar81 = fVar81 - fVar87;
          lVar47 = (long)iVar37 * 0x30;
          iVar52 = iVar37;
        }
        if (iVar37 < 0) {
          iVar37 = -1;
        }
        lVar9 = *(long *)(lVar50 + 0xd0);
        fVar87 = fVar138;
        if (fVar78 <= fVar138) {
          fVar87 = fVar78;
        }
        iVar11 = (int)fVar78 + 1;
        if ((int)fVar138 < (int)fVar78 + 1) {
          iVar11 = (int)fVar138;
        }
        puVar55 = (uint *)((ulong)puVar63[4] * *(long *)(lVar50 + 0x60) + *(long *)(lVar50 + 0x58));
        uVar56 = (ulong)*puVar55;
        lVar50 = ((long *)(lVar47 + lVar9))[1];
        lVar47 = *(long *)(lVar47 + lVar9);
        auVar68 = *(undefined1 (*) [16])(lVar47 + uVar56 * lVar50);
        uVar58 = (ulong)puVar55[1];
        uVar39 = (ulong)puVar55[2];
        auVar73 = *(undefined1 (*) [16])(lVar47 + lVar50 * uVar58);
        auVar75 = *(undefined1 (*) [16])(lVar47 + lVar50 * uVar39);
        auVar79 = maxps(auVar68,auVar73);
        auVar68 = minps(auVar68,auVar73);
        plVar61 = (long *)((long)(int)fVar87 * 0x30 + lVar9);
        lVar50 = *plVar61;
        lVar47 = plVar61[1];
        auVar116 = maxps(auVar79,auVar75);
        auVar79 = minps(auVar68,auVar75);
        auVar68 = *(undefined1 (*) [16])(lVar50 + lVar47 * uVar56);
        auVar73 = *(undefined1 (*) [16])(lVar50 + lVar47 * uVar39);
        auVar75 = *(undefined1 (*) [16])(lVar50 + lVar47 * uVar58);
        auVar83 = maxps(auVar68,auVar75);
        auVar68 = minps(auVar68,auVar75);
        auVar75 = maxps(auVar83,auVar73);
        auVar68 = minps(auVar68,auVar73);
        fVar111 = auVar116._0_4_;
        fVar138 = auVar68._0_4_;
        fVar139 = auVar68._4_4_;
        fVar140 = auVar68._8_4_;
        fVar142 = auVar68._12_4_;
        fVar143 = auVar75._0_4_;
        fVar112 = auVar116._4_4_;
        fVar93 = auVar75._4_4_;
        fVar94 = auVar75._8_4_;
        fVar105 = auVar75._12_4_;
        fVar123 = auVar116._12_4_;
        fVar113 = auVar116._8_4_;
        local_1e58._4_4_ = auVar79._4_4_;
        fStack_1e50 = auVar79._8_4_;
        fStack_1e4c = auVar79._12_4_;
        local_1e58._0_4_ = auVar79._0_4_;
        if (iVar11 - iVar37 == 1) {
          if (fVar81 <= 0.0) {
            fVar81 = 0.0;
            fVar78 = _LC3;
          }
          else {
            fVar78 = _LC3 - fVar81;
          }
          auVar69._0_4_ = fVar81 * fVar138 + fVar78 * (float)local_1e58;
          auVar69._4_4_ = fVar81 * fVar139 + fVar78 * local_1e58._4_4_;
          auVar69._8_4_ = fVar81 * fVar140 + fVar78 * fStack_1e50;
          auVar69._12_4_ = fVar81 * fVar142 + fVar78 * fStack_1e4c;
          fVar87 = fVar87 - fVar114;
          auVar109._0_4_ = fVar81 * fVar143 + fVar78 * fVar111;
          auVar109._4_4_ = fVar81 * fVar93 + fVar78 * fVar112;
          auVar109._8_4_ = fVar81 * fVar94 + fVar78 * fVar113;
          auVar109._12_4_ = fVar81 * fVar105 + fVar78 * fVar123;
          if (fVar87 <= 0.0) {
            fVar87 = 0.0;
            fVar78 = _LC3;
          }
          else {
            fVar78 = _LC3 - fVar87;
          }
          auVar74._0_4_ = fVar111 * fVar87 + fVar143 * fVar78;
          auVar74._4_4_ = fVar112 * fVar87 + fVar93 * fVar78;
          auVar74._8_4_ = fVar113 * fVar87 + fVar94 * fVar78;
          auVar74._12_4_ = fVar123 * fVar87 + fVar105 * fVar78;
          auVar92._0_4_ = (float)local_1e58 * fVar87 + fVar78 * fVar138;
          auVar92._4_4_ = local_1e58._4_4_ * fVar87 + fVar78 * fVar139;
          auVar92._8_4_ = fStack_1e50 * fVar87 + fVar78 * fVar140;
          auVar92._12_4_ = fStack_1e4c * fVar87 + fVar78 * fVar142;
        }
        else {
          plVar62 = (long *)((long)(iVar52 + 1) * 0x30 + lVar9);
          plVar61 = (long *)((long)((int)fVar87 + -1) * 0x30 + lVar9);
          lVar50 = *plVar62;
          lVar47 = plVar62[1];
          auVar68 = *(undefined1 (*) [16])(lVar50 + uVar56 * lVar47);
          auVar73 = *(undefined1 (*) [16])(lVar50 + uVar58 * lVar47);
          auVar75 = *(undefined1 (*) [16])(lVar50 + lVar47 * uVar39);
          lVar50 = *plVar61;
          lVar47 = plVar61[1];
          auVar79 = minps(auVar68,auVar73);
          auVar68 = maxps(auVar68,auVar73);
          auVar83 = minps(auVar79,auVar75);
          auVar116 = maxps(auVar68,auVar75);
          auVar68 = *(undefined1 (*) [16])(lVar50 + uVar56 * lVar47);
          auVar73 = *(undefined1 (*) [16])(lVar50 + uVar58 * lVar47);
          auVar75 = *(undefined1 (*) [16])(lVar50 + lVar47 * uVar39);
          auVar79 = maxps(auVar68,auVar73);
          auVar73 = minps(auVar68,auVar73);
          auVar68 = maxps(auVar79,auVar75);
          auVar73 = minps(auVar73,auVar75);
          if (fVar81 <= 0.0) {
            fVar81 = 0.0;
            fVar12 = _LC3;
          }
          else {
            fVar12 = _LC3 - fVar81;
          }
          fVar87 = fVar87 - fVar114;
          local_1e48 = auVar83._0_4_;
          fStack_1e44 = auVar83._4_4_;
          fStack_1e40 = auVar83._8_4_;
          fStack_1e3c = auVar83._12_4_;
          auVar109._0_4_ = auVar116._0_4_ * fVar81 + fVar111 * fVar12;
          auVar109._4_4_ = auVar116._4_4_ * fVar81 + fVar112 * fVar12;
          auVar109._8_4_ = auVar116._8_4_ * fVar81 + fVar113 * fVar12;
          auVar109._12_4_ = auVar116._12_4_ * fVar81 + fVar123 * fVar12;
          auVar69._0_4_ = fVar81 * local_1e48 + fVar12 * (float)local_1e58;
          auVar69._4_4_ = fVar81 * fStack_1e44 + fVar12 * local_1e58._4_4_;
          auVar69._8_4_ = fVar81 * fStack_1e40 + fVar12 * fStack_1e50;
          auVar69._12_4_ = fVar81 * fStack_1e3c + fVar12 * fStack_1e4c;
          if (fVar87 <= 0.0) {
            fVar87 = 0.0;
            fVar81 = _LC3;
          }
          else {
            fVar81 = _LC3 - fVar87;
          }
          iVar37 = iVar37 + 1;
          auVar74._0_4_ = auVar68._0_4_ * fVar87 + fVar143 * fVar81;
          auVar74._4_4_ = auVar68._4_4_ * fVar87 + fVar93 * fVar81;
          auVar74._8_4_ = auVar68._8_4_ * fVar87 + fVar94 * fVar81;
          auVar74._12_4_ = auVar68._12_4_ * fVar87 + fVar105 * fVar81;
          auVar92._0_4_ = fVar87 * auVar73._0_4_ + fVar81 * fVar138;
          auVar92._4_4_ = fVar87 * auVar73._4_4_ + fVar81 * fVar139;
          auVar92._8_4_ = fVar87 * auVar73._8_4_ + fVar81 * fVar140;
          auVar92._12_4_ = fVar87 * auVar73._12_4_ + fVar81 * fVar142;
          if (iVar37 < iVar11) {
            plVar61 = (long *)((long)iVar37 * 0x30 + lVar9);
            do {
              lVar50 = plVar61[1];
              lVar47 = *plVar61;
              fVar87 = (float)iVar37;
              iVar37 = iVar37 + 1;
              plVar61 = plVar61 + 6;
              fVar142 = (fVar87 / fVar78 - fVar99) / (fVar80 - fVar99);
              fVar105 = _LC3 - fVar142;
              auVar68 = *(undefined1 (*) [16])(lVar47 + uVar56 * lVar50);
              auVar73 = *(undefined1 (*) [16])(lVar47 + uVar58 * lVar50);
              auVar75 = *(undefined1 (*) [16])(lVar47 + lVar50 * uVar39);
              auVar79 = maxps(auVar68,auVar73);
              auVar68 = minps(auVar68,auVar73);
              fVar87 = auVar69._4_4_;
              fVar81 = auVar69._8_4_;
              fVar114 = auVar69._12_4_;
              fVar111 = auVar109._4_4_;
              fVar112 = auVar109._8_4_;
              fVar113 = auVar109._12_4_;
              auVar73 = maxps(auVar79,auVar75);
              auVar68 = minps(auVar68,auVar75);
              fVar143 = auVar92._4_4_;
              fVar93 = auVar92._8_4_;
              fVar94 = auVar92._12_4_;
              fVar138 = auVar74._4_4_;
              fVar139 = auVar74._8_4_;
              fVar140 = auVar74._12_4_;
              auVar88._0_4_ = auVar68._0_4_ - (fVar142 * auVar92._0_4_ + fVar105 * auVar69._0_4_);
              auVar88._4_4_ = auVar68._4_4_ - (fVar142 * fVar143 + fVar105 * fVar87);
              auVar88._8_4_ = auVar68._8_4_ - (fVar142 * fVar93 + fVar105 * fVar81);
              auVar88._12_4_ = auVar68._12_4_ - (fVar142 * fVar94 + fVar105 * fVar114);
              auVar96._0_4_ = auVar73._0_4_ - (fVar142 * auVar74._0_4_ + fVar105 * auVar109._0_4_);
              auVar96._4_4_ = auVar73._4_4_ - (fVar142 * fVar138 + fVar105 * fVar111);
              auVar96._8_4_ = auVar73._8_4_ - (fVar142 * fVar139 + fVar105 * fVar112);
              auVar96._12_4_ = auVar73._12_4_ - (fVar142 * fVar140 + fVar105 * fVar113);
              auVar68 = minps(auVar88,(undefined1  [16])0x0);
              auVar73 = maxps(auVar96,(undefined1  [16])0x0);
              auVar69._0_4_ = auVar69._0_4_ + auVar68._0_4_;
              auVar69._4_4_ = fVar87 + auVar68._4_4_;
              auVar69._8_4_ = fVar81 + auVar68._8_4_;
              auVar69._12_4_ = fVar114 + auVar68._12_4_;
              auVar92._0_4_ = auVar92._0_4_ + auVar68._0_4_;
              auVar92._4_4_ = fVar143 + auVar68._4_4_;
              auVar92._8_4_ = fVar93 + auVar68._8_4_;
              auVar92._12_4_ = fVar94 + auVar68._12_4_;
              auVar109._0_4_ = auVar109._0_4_ + auVar73._0_4_;
              auVar109._4_4_ = fVar111 + auVar73._4_4_;
              auVar109._8_4_ = fVar112 + auVar73._8_4_;
              auVar109._12_4_ = fVar113 + auVar73._12_4_;
              auVar74._0_4_ = auVar74._0_4_ + auVar73._0_4_;
              auVar74._4_4_ = fVar138 + auVar73._4_4_;
              auVar74._8_4_ = fVar139 + auVar73._8_4_;
              auVar74._12_4_ = fVar140 + auVar73._12_4_;
            } while (iVar11 != iVar37);
          }
        }
        puVar63 = puVar63 + 1;
        local_1e88 = minps(local_1e88,auVar69);
        local_1e78 = maxps(local_1e78,auVar109);
        local_1e68 = minps(local_1e68,auVar92);
        local_1e98 = maxps(local_1e98,auVar74);
      } while (puVar54 != puVar63);
      puVar54 = puVar54 + 0x14;
      auVar77 = minps(auVar77,local_1e88);
      auVar129 = maxps(auVar129,local_1e78);
      auVar97 = minps(auVar97,local_1e68);
      auVar70 = maxps(auVar70,local_1e98);
      pfVar46 = pfVar53;
    } while ((uint *)(uVar45 + 0x40 + uVar60 * 0x50) != puVar54);
  }
  *(ulong *)this = uVar38;
  *(undefined1 (*) [16])(this + 0x10) = auVar77;
  *(ulong *)(this + 0x50) = local_1920;
  *(undefined1 (*) [16])(this + 0x20) = auVar129;
  *(undefined1 (*) [16])(this + 0x30) = auVar97;
  *(undefined1 (*) [16])(this + 0x40) = auVar70;
LAB_00114990:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool) */

BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
* embree::sse2::BVHBuilderMSMBlur::
  BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
  ::recurse(BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
            *param_1,ulong *param_2,long *param_3,char param_4,undefined8 param_5,undefined8 param_6
           ,FastAllocator *param_7,MutexSys *param_8)

{
  long *plVar1;
  int *piVar2;
  void *pvVar3;
  SetMB **ppSVar4;
  SetMB *pSVar5;
  byte bVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  MutexSys *this;
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  uint uVar20;
  uint uVar21;
  undefined1 auVar22 [12];
  undefined1 auVar23 [12];
  undefined1 auVar24 [12];
  ulong uVar25;
  float *pfVar26;
  HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *pHVar27;
  ulong *puVar28;
  SetMB *pSVar29;
  SetMB *pSVar30;
  undefined1 (*pauVar31) [16];
  undefined8 uVar32;
  undefined8 *puVar33;
  TaskScheduler *this_00;
  undefined1 (*pauVar34) [16];
  SetMB *pSVar35;
  SetMB *pSVar36;
  SetMB **ppSVar37;
  long lVar38;
  ulong uVar39;
  long lVar40;
  ulong uVar41;
  SetMB *pSVar42;
  ulong uVar43;
  undefined8 *puVar44;
  long lVar45;
  long lVar46;
  SetMB *pSVar47;
  ulong uVar48;
  undefined8 *puVar49;
  undefined1 *puVar50;
  SetMB *pSVar51;
  long in_FS_OFFSET;
  float fVar52;
  undefined4 uVar58;
  undefined1 auVar53 [16];
  undefined1 auVar54 [16];
  undefined1 auVar55 [16];
  undefined1 auVar56 [16];
  undefined1 auVar57 [16];
  float fVar59;
  undefined1 auVar60 [16];
  undefined1 auVar61 [16];
  undefined1 auVar62 [16];
  undefined1 auVar63 [16];
  undefined1 auVar64 [16];
  float fVar65;
  float fVar76;
  undefined1 auVar66 [16];
  undefined1 auVar67 [16];
  undefined1 auVar68 [16];
  undefined1 auVar69 [16];
  undefined1 auVar70 [16];
  undefined1 auVar71 [16];
  undefined1 auVar72 [16];
  undefined1 auVar73 [16];
  undefined1 auVar74 [16];
  undefined1 auVar75 [16];
  float fVar77;
  float fVar84;
  float fVar85;
  undefined4 uVar86;
  undefined1 auVar78 [16];
  undefined1 auVar79 [16];
  undefined1 auVar80 [16];
  undefined1 auVar81 [16];
  undefined1 auVar82 [16];
  undefined1 auVar83 [16];
  float fVar87;
  undefined4 uVar90;
  undefined1 auVar88 [16];
  undefined1 auVar89 [16];
  undefined4 uVar92;
  undefined1 auVar91 [16];
  undefined1 auVar93 [16];
  float fVar94;
  undefined1 auVar95 [16];
  float fVar96;
  undefined1 auVar97 [16];
  float fVar102;
  float fVar103;
  undefined1 auVar98 [16];
  undefined1 auVar99 [16];
  undefined1 auVar100 [16];
  undefined1 auVar101 [16];
  float fVar104;
  undefined1 auVar105 [16];
  undefined1 auVar106 [16];
  undefined1 auVar107 [16];
  undefined1 auVar108 [16];
  undefined1 auVar109 [16];
  undefined1 auVar110 [16];
  undefined1 auVar111 [16];
  undefined1 auVar112 [16];
  undefined1 auVar113 [16];
  undefined1 auVar114 [16];
  undefined1 auVar115 [16];
  undefined1 auVar116 [16];
  undefined1 auVar117 [16];
  undefined1 auVar118 [4];
  undefined1 auVar119 [16];
  float fVar120;
  float fVar121;
  float fVar122;
  float fVar124;
  float fVar125;
  undefined1 auVar123 [16];
  SetMB **local_1c70;
  undefined8 local_1c68;
  float fStack_1c60;
  SetMB *local_1c58;
  undefined1 local_1c48 [16];
  undefined1 local_1c38 [16];
  undefined1 local_1c28 [4];
  undefined1 auStack_1c24 [4];
  undefined8 uStack_1c20;
  undefined1 local_1c18 [8];
  undefined8 uStack_1c10;
  undefined1 local_1c08 [4];
  undefined1 auStack_1c04 [4];
  undefined8 uStack_1c00;
  undefined1 local_1bf8 [4];
  undefined1 auStack_1bf4 [4];
  undefined8 uStack_1bf0;
  undefined1 local_1be8 [8];
  undefined8 uStack_1be0;
  undefined1 local_1bd8 [8];
  undefined8 uStack_1bd0;
  undefined1 local_1bc8 [8];
  undefined8 uStack_1bc0;
  MutexSys *local_1ba0;
  undefined1 local_1b98 [8];
  undefined8 uStack_1b90;
  undefined1 local_1b88 [8];
  undefined8 uStack_1b80;
  undefined1 local_1b78 [8];
  SetMB **ppSStack_1b70;
  undefined1 local_1b68 [4];
  undefined1 auStack_1b64 [4];
  SetMB *pSStack_1b60;
  undefined1 local_1b58 [4];
  undefined1 auStack_1b54 [4];
  SetMB **ppSStack_1b50;
  undefined1 local_1b48 [8];
  SetMB *pSStack_1b40;
  undefined8 local_1b38;
  SetMB **ppSStack_1b30;
  undefined8 local_1b28;
  SetMB *pSStack_1b20;
  undefined8 local_1b18;
  SetMB **ppSStack_1b10;
  undefined8 local_1b08;
  SetMB *pSStack_1b00;
  undefined1 local_1af8 [135];
  bool local_1a71;
  SetMB *local_1a40;
  float local_1a38;
  float local_1a34;
  float local_1a30;
  float local_1a2c;
  SetMB *local_1a28;
  ulong local_1a20;
  undefined8 local_1a18;
  SetMB *local_1a10;
  ulong *local_1a08;
  undefined8 local_19f8;
  SetMB *local_19f0;
  ulong *local_19e8;
  SetMB **local_19e0;
  SetMB *local_19d8;
  SetMB *local_19c8;
  HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *pHStack_19c0;
  SetMB *local_19b8;
  undefined8 uStack_19b0;
  undefined8 local_19a8;
  undefined8 uStack_19a0;
  undefined8 local_1998;
  undefined8 uStack_1990;
  undefined8 local_1988;
  undefined8 uStack_1980;
  undefined8 local_1978;
  undefined8 uStack_1970;
  SetMB *local_1968;
  SetMB *local_1960;
  SetMB *local_1958;
  SetMB *local_1950;
  undefined4 local_1948;
  undefined4 local_1944;
  float local_1940;
  float local_193c;
  SetMB *local_1938;
  SetMB **ppSStack_1930;
  SetMB *local_1928;
  SetMB *pSStack_1920;
  SetMB *local_1918;
  SetMB **ppSStack_1910;
  SetMB *local_1908;
  SetMB *pSStack_1900;
  SetMB *local_18f8;
  SetMB **ppSStack_18f0;
  SetMB *local_18e8;
  SetMB *pSStack_18e0;
  SetMB *local_18d8;
  SetMB *local_18d0;
  SetMB *local_18c8;
  SetMB *local_18c0;
  undefined8 local_18b8;
  undefined8 local_18b0;
  SetMB *local_18a8;
  SetMB **ppSStack_18a0;
  SetMB *local_1898;
  SetMB *pSStack_1890;
  SetMB *local_1888;
  SetMB **ppSStack_1880;
  SetMB *local_1878;
  SetMB *pSStack_1870;
  SetMB *local_1868;
  SetMB **ppSStack_1860;
  SetMB *local_1858;
  SetMB *pSStack_1850;
  ulong local_1848;
  ulong local_1840;
  SetMB *local_1838;
  SetMB *local_1830;
  undefined8 local_1828;
  undefined8 local_1820;
  SetMB *local_1818;
  SetMB **ppSStack_1810;
  SetMB *local_1808;
  SetMB *pSStack_1800;
  SetMB *local_17f8;
  SetMB **ppSStack_17f0;
  SetMB *local_17e8;
  SetMB *pSStack_17e0;
  SetMB *local_17d8;
  SetMB **ppSStack_17d0;
  SetMB *local_17c8;
  SetMB *pSStack_17c0;
  ulong local_17b8;
  ulong local_17b0;
  SetMB *local_17a8;
  SetMB *local_17a0;
  undefined8 local_1798;
  undefined8 local_1790;
  SetMB *local_1788;
  undefined1 local_1778 [16];
  undefined1 local_1768 [16];
  undefined1 local_1758 [16];
  undefined1 local_1748 [16];
  undefined8 local_1738;
  undefined8 uStack_1730;
  undefined1 local_1728 [16];
  ulong local_1718;
  ulong local_1710;
  SetMB *local_1708;
  SetMB *local_1700;
  undefined8 local_16f8;
  undefined8 local_16f0;
  SetMB *local_16e8;
  undefined8 local_16d8;
  float fStack_16d0;
  float fStack_16cc;
  undefined1 local_16c8 [8];
  undefined8 uStack_16c0;
  undefined1 local_16b8 [8];
  undefined8 uStack_16b0;
  undefined1 local_16a8 [8];
  undefined8 uStack_16a0;
  undefined1 local_1698 [8];
  undefined8 uStack_1690;
  undefined1 local_1688 [8];
  undefined8 uStack_1680;
  undefined1 local_1678 [16];
  SetMB *local_1668;
  SetMB *pSStack_1660;
  undefined8 local_1658;
  undefined8 local_1650;
  undefined8 local_1648;
  undefined8 local_1640;
  SetMB *local_1638;
  undefined8 local_1628;
  undefined8 uStack_1620;
  undefined1 local_1618 [8];
  undefined8 uStack_1610;
  undefined1 local_1608 [8];
  undefined8 uStack_1600;
  undefined1 local_15f8 [8];
  undefined8 uStack_15f0;
  undefined1 local_15e8 [8];
  undefined8 uStack_15e0;
  undefined1 local_15d8 [8];
  undefined8 uStack_15d0;
  SetMB *local_15c8;
  SetMB *pSStack_15c0;
  undefined8 local_15b8;
  undefined8 uStack_15b0;
  SetMB *local_15a8;
  SetMB *local_15a0;
  undefined8 local_1598;
  undefined8 local_1590;
  SetMB *local_1588;
  float local_1578;
  undefined4 local_1574;
  undefined4 local_1570;
  int local_156c;
  SetMB *local_1568;
  SetMB *local_1558;
  SetMB *pSStack_1550;
  SetMB *local_1548;
  SetMB **ppSStack_1540;
  float local_1538;
  undefined4 local_1534;
  undefined4 local_1530;
  int local_152c;
  SetMB *local_1528;
  undefined4 local_1518;
  undefined4 uStack_1514;
  undefined4 uStack_1510;
  undefined4 uStack_150c;
  SetMB *local_1508;
  SetMB **ppSStack_1500;
  undefined8 local_14f8;
  undefined8 uStack_14f0;
  SetMB *local_14e8;
  SetMB **ppSStack_14e0;
  SetMB *local_14d8;
  SetMB *pSStack_14d0;
  SetMB *local_14c8;
  SetMB **ppSStack_14c0;
  SetMB *local_14b8;
  SetMB *pSStack_14b0;
  SetMB *local_14a8;
  SetMB **ppSStack_14a0;
  SetMB *local_1498;
  SetMB *pSStack_1490;
  SetMB *local_1488;
  SetMB **ppSStack_1480;
  SetMB *local_1478;
  SetMB *pSStack_1470;
  SetMB *local_1468;
  undefined8 local_1460;
  undefined8 local_1458;
  float fStack_1450;
  float fStack_144c;
  undefined8 local_1448;
  undefined8 uStack_1440;
  undefined8 local_1438;
  undefined8 uStack_1430;
  float local_1428;
  float fStack_1424;
  float fStack_1420;
  float fStack_141c;
  float local_1418;
  float fStack_1414;
  float fStack_1410;
  float fStack_140c;
  float local_1408;
  float fStack_1404;
  float fStack_1400;
  float fStack_13fc;
  float local_13f8;
  float fStack_13f4;
  float fStack_13f0;
  float fStack_13ec;
  float local_13e8;
  float fStack_13e4;
  float fStack_13e0;
  float fStack_13dc;
  undefined8 local_13d8;
  undefined8 uStack_13d0;
  undefined8 local_13c8;
  undefined8 uStack_13c0;
  undefined8 local_13b8;
  undefined8 uStack_13b0;
  undefined8 local_13a8;
  undefined8 uStack_13a0;
  undefined8 local_1398;
  undefined8 uStack_1390;
  undefined8 local_1388;
  SetMB **ppSStack_1380;
  SetMB *local_1378;
  SetMB *pSStack_1370;
  undefined8 local_1368;
  undefined8 uStack_1360;
  undefined8 local_1358;
  undefined8 uStack_1350;
  float local_1348;
  float fStack_1344;
  float fStack_1340;
  float fStack_133c;
  float local_1338;
  float fStack_1334;
  float fStack_1330;
  float fStack_132c;
  float local_1328;
  float local_1324;
  ulong local_1318;
  float local_1308;
  float fStack_1304;
  float fStack_1300;
  float fStack_12fc;
  float local_12f8;
  float fStack_12f4;
  float fStack_12f0;
  float fStack_12ec;
  float local_12e8;
  float fStack_12e4;
  float fStack_12e0;
  float fStack_12dc;
  float local_12d8;
  float fStack_12d4;
  float fStack_12d0;
  float fStack_12cc;
  float local_12c8;
  float local_12c4;
  ulong local_12b8;
  float local_12a8;
  float fStack_12a4;
  float fStack_12a0;
  float fStack_129c;
  float local_1298;
  float fStack_1294;
  float fStack_1290;
  float fStack_128c;
  float local_1288;
  float fStack_1284;
  float fStack_1280;
  float fStack_127c;
  float local_1278;
  float fStack_1274;
  float fStack_1270;
  float fStack_126c;
  float local_1268;
  float local_1264;
  undefined1 auStack_e88 [176];
  SetMB *local_dd8;
  undefined8 uStack_dd0;
  undefined8 local_dc8;
  undefined8 uStack_dc0;
  undefined8 local_db8;
  undefined8 uStack_db0;
  undefined8 local_da8;
  undefined8 uStack_da0;
  undefined8 local_d98;
  undefined8 uStack_d90;
  undefined8 local_d88;
  undefined8 uStack_d80;
  SetMB *local_d78 [2];
  undefined8 local_d68;
  undefined8 uStack_d60;
  SetMB *local_d58 [2];
  undefined8 local_d48;
  float local_d40 [2];
  SetMB *local_d38 [332];
  SetMB **local_2d8 [16];
  ulong local_258;
  SetMB *local_250;
  long local_248;
  SetMB *local_240;
  undefined8 local_238;
  long local_50;
  long local_40;
  
  lVar45 = lRam0000000000118f47;
  local_1c38._8_8_ = local_1c38._0_8_;
  local_1c48._8_8_ = local_1c48._0_8_;
  ppSStack_1b70 = (SetMB **)local_1b78;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_1ba0 = param_8;
  if (param_7 == (FastAllocator *)0x0) {
    param_7 = (FastAllocator *)param_2[0xc];
    local_1ba0 = *(MutexSys **)(in_FS_OFFSET + lRam0000000000118f47);
    if (local_1ba0 == (MutexSys *)0x0) {
      local_1ba0 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
      embree::MutexSys::MutexSys(local_1ba0);
      *(MutexSys **)(local_1ba0 + 0x40) = local_1ba0;
      *(undefined8 *)(local_1ba0 + 8) = 0;
      *(undefined8 *)(local_1ba0 + 0x48) = 0;
      *(undefined8 *)(local_1ba0 + 0x50) = 0;
      *(undefined8 *)(local_1ba0 + 0x58) = 0;
      *(undefined8 *)(local_1ba0 + 0x60) = 0;
      *(undefined8 *)(local_1ba0 + 0x68) = 0;
      *(undefined8 *)(local_1ba0 + 0x70) = 0;
      *(MutexSys **)(local_1ba0 + 0x80) = local_1ba0;
      *(undefined8 *)(local_1ba0 + 0x88) = 0;
      *(undefined8 *)(local_1ba0 + 0x90) = 0;
      *(undefined8 *)(local_1ba0 + 0x98) = 0;
      *(undefined8 *)(local_1ba0 + 0xa0) = 0;
      *(undefined8 *)(local_1ba0 + 0xa8) = 0;
      *(undefined8 *)(local_1ba0 + 0xb0) = 0;
      *(MutexSys **)(in_FS_OFFSET + lVar45) = local_1ba0;
      embree::MutexSys::lock();
      local_1628._0_4_ = SUB84(local_1ba0,0);
      local_1628._4_4_ = (float)((ulong)local_1ba0 >> 0x20);
      if (__MutexSys == _createPrimRefArrayMSMBlur) {
        std::
        vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
        ::
        _M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
                  ((vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
                    *)&FastAllocator::s_thread_local_allocators,__MutexSys,&local_1628);
        this = (MutexSys *)CONCAT44(local_1628._4_4_,(float)local_1628);
        if (this != (MutexSys *)0x0) {
          embree::MutexSys::~MutexSys(this);
          embree::alignedFree(this);
        }
      }
      else {
        *__MutexSys = local_1ba0;
        __MutexSys = __MutexSys + 1;
      }
      embree::MutexSys::unlock();
    }
    local_1ba0 = local_1ba0 + 0x40;
  }
  if ((param_4 != '\0') && ((ulong)(param_3[0xf] - param_3[0xe]) <= param_2[7])) {
    embree::Scene::progressMonitor((double)(ulong)(param_3[0xf] - param_3[0xe]));
  }
  pSVar5 = (SetMB *)(param_3 + 2);
  HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::find
            ((HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_14f8,pSVar5,param_2[2]);
  fVar76 = *(float *)(param_3 + 4);
  fVar87 = *(float *)((long)param_3 + 0x24);
  fVar59 = *(float *)(param_3 + 5);
  uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
  fVar104 = *(float *)(param_3 + 2);
  fVar102 = *(float *)((long)param_3 + 0x14);
  fVar103 = *(float *)(param_3 + 3);
  uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
  fVar122 = *(float *)(param_3 + 8);
  fVar124 = *(float *)((long)param_3 + 0x44);
  fVar125 = *(float *)(param_3 + 9);
  uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
  fVar77 = *(float *)(param_3 + 6);
  fVar84 = *(float *)((long)param_3 + 0x34);
  fVar85 = *(float *)(param_3 + 7);
  uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
  fVar52 = *(float *)((long)param_3 + 0x9c);
  fVar65 = *(float *)(param_3 + 0x13);
  pSVar30 = (SetMB *)param_3[0x10];
  bVar6 = (byte)param_2[2];
  fVar121 = (float)local_14f8;
  fVar120 = fVar52 - fVar65;
  fVar94 = (((fVar87 - fVar102) + (fVar59 - fVar103)) * (fVar76 - fVar104) +
            (fVar87 - fVar102) * (fVar59 - fVar103) +
           (fVar124 - fVar84) * (fVar125 - fVar85) +
           (fVar122 - fVar77) * ((fVar124 - fVar84) + (fVar125 - fVar85))) * _LC12 * fVar120;
  fVar96 = (float)((ulong)(pSVar30 + (1L << (bVar6 & 0x3f)) + -1) >> (bVar6 & 0x3f)) * fVar94;
  if (_LC12 * fVar96 <= (float)local_14f8) {
    uVar25 = param_3[0xf];
    local_1b78 = (undefined1  [8])param_3[0xe];
    if (_LC41 / (float)(ulong)param_3[0x11] < fVar120) {
      local_1460 = 0;
      local_1468 = (SetMB *)0x0;
      local_1418 = _LC10;
      fStack_1414 = _LC10;
      fStack_1410 = _LC10;
      fStack_140c = _LC10;
      local_13f8 = _LC10;
      fStack_13f4 = _LC10;
      fStack_13f0 = _LC10;
      fStack_13ec = _LC10;
      local_1408 = _LC8;
      fStack_1404 = _LC8;
      fStack_1400 = _LC8;
      fStack_13fc = _LC8;
      local_13e8 = _LC8;
      fStack_13e4 = _LC8;
      fStack_13e0 = _LC8;
      fStack_13dc = _LC8;
      local_1458 = (SetMB *)CONCAT44(_LC10,_LC10);
      fStack_1450 = _LC10;
      fStack_144c = _LC10;
      local_1448 = (SetMB *)CONCAT44(_LC8,_LC8);
      uStack_1440 = (SetMB *)CONCAT44(_LC8,_LC8);
      local_1438 = (SetMB *)CONCAT44(_LC10,_LC10);
      uStack_1430 = (SetMB **)CONCAT44(_LC10,_LC10);
      local_1428 = _LC8;
      fStack_1424 = _LC8;
      fStack_1420 = _LC8;
      fStack_141c = _LC8;
      local_1778._0_8_ = *(undefined8 *)(param_3[0x14] + 0x20);
      local_1bd8._4_4_ = _LC8;
      local_1bd8._0_4_ = _LC8;
      uStack_1bd0._0_4_ = _LC8;
      uStack_1bd0._4_4_ = _LC8;
      local_16d8._0_4_ = (float)param_3[0x13];
      local_16d8._4_4_ = (float)((ulong)param_3[0x13] >> 0x20);
      if (uVar25 - (long)local_1b78 < 0xc00) {
        HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
        ::TemporalBinInfo::bin
                  ((TemporalBinInfo_conflict *)&local_1468,*(undefined8 *)(param_3[0x14] + 0x20),
                   local_1b78,uVar25,pSVar5);
        uStack_1bf0._4_4_ = fStack_144c;
        uStack_1bf0._0_4_ = fStack_1450;
        local_1bc8._4_4_ = fStack_1424;
        local_1bc8._0_4_ = local_1428;
        uStack_1bc0._4_4_ = fStack_141c;
        uStack_1bc0._0_4_ = fStack_1420;
        _local_1bf8 = local_1458;
        uStack_1be0 = (SetMB **)uStack_1440;
        local_1be8 = (undefined1  [8])local_1448;
        local_1b98._4_4_ = fStack_1414;
        local_1b98._0_4_ = local_1418;
        uStack_1b90._4_4_ = fStack_140c;
        uStack_1b90._0_4_ = fStack_1410;
        uStack_1bd0 = (SetMB *)uStack_1430;
        local_1bd8 = (undefined1  [8])local_1438;
        local_1b88._4_4_ = fStack_1404;
        local_1b88._0_4_ = local_1408;
        uStack_1b80._4_4_ = fStack_13fc;
        uStack_1b80._0_4_ = fStack_1400;
        local_1b78._4_4_ = fStack_13f4;
        local_1b78._0_4_ = local_13f8;
        ppSStack_1b70._4_4_ = fStack_13ec;
        ppSStack_1b70._0_4_ = fStack_13f0;
        auStack_1b64 = (undefined1  [4])fStack_13e4;
        local_1b68 = (undefined1  [4])local_13e8;
        pSStack_1b60._4_4_ = fStack_13dc;
        pSStack_1b60._0_4_ = fStack_13e0;
        lVar45 = local_1460;
        pSVar30 = local_1468;
      }
      else {
        uStack_1620 = &local_16d8;
        local_d88 = CONCAT44(_LC10,_LC10);
        uStack_d80 = CONCAT44(_LC10,_LC10);
        local_1628 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)local_1778;
        uStack_1610 = param_2 + 10;
        local_1618 = (undefined1  [8])pSVar5;
        uStack_dd0 = 0;
        local_dd8 = (SetMB *)0x0;
        local_d78[0] = (SetMB *)local_1bd8;
        local_d78[1] = uStack_1bd0;
        local_d68 = CONCAT44(_LC10,_LC10);
        uStack_d60 = CONCAT44(_LC10,_LC10);
        local_d58[0] = (SetMB *)local_1bd8;
        local_d58[1] = uStack_1bd0;
        local_dc8 = (SetMB *)CONCAT44(_LC10,_LC10);
        uStack_dc0 = CONCAT44(_LC10,_LC10);
        local_db8 = (SetMB *)local_1bd8;
        uStack_db0 = uStack_1bd0;
        local_da8 = (SetMB *)CONCAT44(_LC10,_LC10);
        uStack_da0 = (SetMB **)CONCAT44(_LC10,_LC10);
        local_d98 = (SetMB *)local_1bd8;
        uStack_d90 = uStack_1bd0;
        parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
                  ((ulong)&local_13d8,(uVar25 - (long)local_1b78) + 0x3ff >> 10,(ulong)local_1b78,
                   uVar25,(TemporalBinInfo_conflict *)&local_dd8,
                   (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1628,
                   HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
                   ::TemporalBinInfo::merge2);
        fVar52 = *(float *)((long)param_3 + 0x9c);
        uStack_1bf0 = (SetMB *)uStack_13c0;
        _local_1bf8 = local_13c8;
        fVar65 = *(float *)(param_3 + 0x13);
        uStack_1be0 = (SetMB **)uStack_13b0;
        local_1be8 = (undefined1  [8])local_13b8;
        uStack_1bd0 = (SetMB *)uStack_13a0;
        local_1bd8 = (undefined1  [8])local_13a8;
        uStack_1bc0 = (SetMB **)uStack_1390;
        local_1bc8 = (undefined1  [8])local_1398;
        uStack_1b90 = (SetMB *)ppSStack_1380;
        local_1b98 = (undefined1  [8])local_1388;
        uStack_1b80 = pSStack_1370;
        local_1b88 = (undefined1  [8])local_1378;
        ppSStack_1b70 = uStack_1360;
        local_1b78 = (undefined1  [8])local_1368;
        pSStack_1b60 = uStack_1350;
        _local_1b68 = local_1358;
        fVar120 = fVar52 - fVar65;
        lVar45 = uStack_13d0;
        pSVar30 = local_13d8;
      }
      fVar87 = _LC10;
      ppSVar37 = ppSStack_1b70;
      auVar22 = _auStack_1b54;
      auVar91._12_4_ = 0;
      auVar91._0_12_ = _auStack_1b54;
      _local_1b58 = auVar91 << 0x20;
      local_1c08 = (undefined1  [4])_LC10;
      lVar38 = (1L << (bVar6 & 0x3f)) + -1;
      fVar76 = *(float *)(param_3 + 0x12);
      uVar25 = param_3[0x11];
      fVar59 = *(float *)((long)param_3 + 0x94) - fVar76;
      uVar48 = (ulong)(pSVar30 + lVar38) >> (bVar6 & 0x3f);
      uVar39 = (ulong)(lVar45 + lVar38) >> (bVar6 & 0x3f);
      fVar104 = roundf((((_LC12 * fVar52 + _LC12 * fVar65) - fVar76) / fVar59) * (float)uVar25);
      fVar76 = (fVar104 / (float)uVar25) * fVar59 + fVar76;
      if ((fVar65 < fVar76) && (fVar76 < fVar52)) {
        fVar59 = ((((float)local_1be8._4_4_ - (float)auStack_1bf4) +
                  ((float)uStack_1be0 - (float)uStack_1bf0)) *
                  ((float)local_1be8._0_4_ - (float)local_1bf8) +
                  ((float)local_1be8._4_4_ - (float)auStack_1bf4) *
                  ((float)uStack_1be0 - (float)uStack_1bf0) +
                 ((float)local_1bc8._0_4_ - (float)local_1bd8._0_4_) *
                 (((float)local_1bc8._4_4_ - (float)local_1bd8._4_4_) +
                 ((float)uStack_1bc0 - (float)uStack_1bd0)) +
                 ((float)local_1bc8._4_4_ - (float)local_1bd8._4_4_) *
                 ((float)uStack_1bc0 - (float)uStack_1bd0)) * _LC12 * (float)uVar48 *
                 (fVar76 - fVar65);
        if (uVar48 == 0) {
          fVar59 = 0.0;
        }
        if (uVar39 == 0) {
          fVar59 = fVar59 + 0.0;
        }
        else {
          fVar59 = fVar59 + ((((float)local_1b88._4_4_ - (float)local_1b98._4_4_) +
                             ((float)uStack_1b80 - (float)uStack_1b90)) *
                             ((float)local_1b88._0_4_ - (float)local_1b98._0_4_) +
                             ((float)local_1b88._4_4_ - (float)local_1b98._4_4_) *
                             ((float)uStack_1b80 - (float)uStack_1b90) +
                            ((float)auStack_1b64 - (float)local_1b78._4_4_) *
                            (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_) +
                            ((float)local_1b68 - (float)local_1b78._0_4_) *
                            (((float)auStack_1b64 - (float)local_1b78._4_4_) +
                            (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_))) * _LC12 * (float)uVar39 *
                            (fVar52 - fVar76);
        }
        if (fVar59 < fVar87) {
          local_1b58 = (undefined1  [4])fVar76;
          _local_1b58 = CONCAT124(auVar22,local_1b58);
          local_1c08 = (undefined1  [4])fVar59;
        }
      }
      local_1578 = (float)local_1c08 * _LC42;
      uStack_dd0 = CONCAT44(uStack_dd0._4_4_,local_1b58);
      ppSStack_1b70 = ppSVar37;
      if (local_1578 < fVar121) {
        fVar76 = *(float *)(param_3 + 4);
        fVar87 = *(float *)((long)param_3 + 0x24);
        fVar59 = *(float *)(param_3 + 5);
        uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
        local_1574 = 0;
        fVar122 = *(float *)(param_3 + 8);
        fVar124 = *(float *)((long)param_3 + 0x44);
        fVar125 = *(float *)(param_3 + 9);
        uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
        local_156c = 2;
        local_1548 = local_da8;
        ppSStack_1540 = uStack_da0;
        fVar104 = *(float *)(param_3 + 2);
        fVar102 = *(float *)((long)param_3 + 0x14);
        fVar103 = *(float *)(param_3 + 3);
        uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
        fVar77 = *(float *)(param_3 + 6);
        fVar84 = *(float *)((long)param_3 + 0x34);
        fVar85 = *(float *)(param_3 + 7);
        uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
        local_1558 = local_db8;
        pSStack_1550 = uStack_db0;
        pSVar30 = (SetMB *)param_3[0x10];
        local_1570 = local_1b58;
        local_1568 = local_dc8;
        fVar94 = ((fVar76 - fVar104) * ((fVar87 - fVar102) + (fVar59 - fVar103)) +
                  (fVar87 - fVar102) * (fVar59 - fVar103) +
                 (fVar124 - fVar84) * (fVar125 - fVar85) +
                 (fVar122 - fVar77) * ((fVar124 - fVar84) + (fVar125 - fVar85))) * _LC12 * fVar120;
        fVar96 = (float)((ulong)(pSVar30 + (1L << ((byte)param_2[2] & 0x3f)) + -1) >>
                        ((byte)param_2[2] & 0x3f)) * fVar94;
        uVar25 = param_3[0xf];
        local_1b78 = (undefined1  [8])param_3[0xe];
        goto LAB_00116903;
      }
      fVar76 = *(float *)(param_3 + 4);
      fVar87 = *(float *)((long)param_3 + 0x24);
      fVar59 = *(float *)(param_3 + 5);
      uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
      fVar104 = *(float *)(param_3 + 2);
      fVar102 = *(float *)((long)param_3 + 0x14);
      fVar103 = *(float *)(param_3 + 3);
      uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
      fVar122 = *(float *)(param_3 + 8);
      fVar124 = *(float *)((long)param_3 + 0x44);
      fVar125 = *(float *)(param_3 + 9);
      uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
      fVar77 = *(float *)(param_3 + 6);
      fVar84 = *(float *)((long)param_3 + 0x34);
      fVar85 = *(float *)(param_3 + 7);
      uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
      pSVar30 = (SetMB *)param_3[0x10];
      fVar94 = ((fVar76 - fVar104) * ((fVar87 - fVar102) + (fVar59 - fVar103)) +
                (fVar87 - fVar102) * (fVar59 - fVar103) +
               (fVar124 - fVar84) * (fVar125 - fVar85) +
               (fVar122 - fVar77) * ((fVar124 - fVar84) + (fVar125 - fVar85))) * _LC12 * fVar120;
      fVar96 = (float)((ulong)(pSVar30 + (1L << ((byte)param_2[2] & 0x3f)) + -1) >>
                      ((byte)param_2[2] & 0x3f)) * fVar94;
      uVar25 = param_3[0xf];
      local_1b78 = (undefined1  [8])param_3[0xe];
    }
    local_1570 = (undefined4)uStack_14f0;
    local_1574 = local_14f8._4_4_;
    local_1558 = local_14d8;
    pSStack_1550 = pSStack_14d0;
    local_156c = uStack_14f0._4_4_;
    local_1568 = local_14e8;
    local_1548 = local_14c8;
    ppSStack_1540 = ppSStack_14c0;
    local_1578 = fVar121;
  }
  else {
    local_1578 = (float)local_14f8;
    uVar25 = param_3[0xf];
    local_1b78 = (undefined1  [8])param_3[0xe];
    local_1570 = (undefined4)uStack_14f0;
    local_1574 = local_14f8._4_4_;
    local_1558 = local_14d8;
    pSStack_1550 = pSStack_14d0;
    local_156c = uStack_14f0._4_4_;
    local_1568 = local_14e8;
    local_1548 = local_14c8;
    ppSStack_1540 = ppSStack_14c0;
  }
LAB_00116903:
  if (((param_2[3] < uVar25 - (long)local_1b78) &&
      (pSVar42 = (SetMB *)*param_3, pSVar42 + 8 < (SetMB *)param_2[1])) &&
     ((param_2[4] < uVar25 - (long)local_1b78 ||
      (*(float *)(param_2 + 5) * fVar94 + *(float *)((long)param_2 + 0x2c) * local_1578 <
       fVar96 * *(float *)((long)param_2 + 0x2c))))) {
    if (local_156c == 0) {
      local_1658 = (SetMB *)0x3f80000000000000;
      local_15a8 = (SetMB *)0x3f80000000000000;
      local_1bc8._4_4_ = _LC10;
      local_1bc8._0_4_ = _LC10;
      uStack_1bc0._0_4_ = _LC10;
      uStack_1bc0._4_4_ = _LC10;
      lVar45 = (long)(1 << ((byte)local_1574 & 0x1f));
      local_16d8._0_4_ = _LC10;
      local_16d8._4_4_ = _LC10;
      fStack_16d0 = _LC10;
      fStack_16cc = _LC10;
      local_16b8._4_4_ = _LC10;
      local_16b8._0_4_ = _LC10;
      uStack_16b0._0_4_ = _LC10;
      uStack_16b0._4_4_ = _LC10;
      local_1698._4_4_ = _LC10;
      local_1698._0_4_ = _LC10;
      uStack_1690._0_4_ = _LC10;
      uStack_1690._4_4_ = _LC10;
      local_1628._0_4_ = _LC10;
      local_1628._4_4_ = _LC10;
      uStack_1620._0_4_ = _LC10;
      uStack_1620._4_4_ = _LC10;
      local_1608._4_4_ = _LC10;
      local_1608._0_4_ = _LC10;
      uStack_1600._0_4_ = _LC10;
      uStack_1600._4_4_ = _LC10;
      local_15e8._4_4_ = _LC10;
      local_15e8._0_4_ = _LC10;
      uStack_15e0._0_4_ = _LC10;
      uStack_15e0._4_4_ = _LC10;
      local_dd8 = (SetMB *)(&mm_lookupmask_ps)[lVar45 * 2];
      uStack_dd0 = *(undefined8 *)(embree::os_free + lVar45 * 0x10);
      local_18a8 = (SetMB *)&local_1578;
      local_13d8 = (SetMB *)CONCAT44(local_1570,local_1570);
      uStack_13d0 = CONCAT44(local_1570,local_1570);
      local_1678 = ZEXT816(0);
      local_1668 = (SetMB *)0x0;
      pSStack_1660 = (SetMB *)0x0;
      local_1650 = (SetMB *)0x3f800000;
      local_15c8 = (SetMB *)0x0;
      pSStack_15c0 = (SetMB *)0x0;
      local_15b8 = (SetMB *)0x0;
      uStack_15b0 = (SetMB *)0x0;
      local_15a0 = (SetMB *)0x3f800000;
      local_1bd8._4_4_ = _LC8;
      local_1bd8._0_4_ = _LC8;
      uStack_1bd0._0_4_ = _LC8;
      uStack_1bd0._4_4_ = _LC8;
      local_16c8._4_4_ = _LC8;
      local_16c8._0_4_ = _LC8;
      uStack_16c0._0_4_ = _LC8;
      uStack_16c0._4_4_ = _LC8;
      local_16a8._4_4_ = _LC8;
      local_16a8._0_4_ = _LC8;
      uStack_16a0._0_4_ = _LC8;
      uStack_16a0._4_4_ = _LC8;
      local_1688._4_4_ = _LC8;
      local_1688._0_4_ = _LC8;
      uStack_1680._0_4_ = _LC8;
      uStack_1680._4_4_ = _LC8;
      local_1618._4_4_ = _LC8;
      local_1618._0_4_ = _LC8;
      uStack_1610._0_4_ = _LC8;
      uStack_1610._4_4_ = _LC8;
      local_15f8._4_4_ = _LC8;
      local_15f8._0_4_ = _LC8;
      uStack_15f0._0_4_ = _LC8;
      uStack_15f0._4_4_ = _LC8;
      local_15d8._4_4_ = _LC8;
      local_15d8._0_4_ = _LC8;
      uStack_15d0._0_4_ = _LC8;
      uStack_15d0._4_4_ = _LC8;
      ppSStack_18a0 = (SetMB **)&local_13d8;
      local_1898 = (SetMB *)&local_dd8;
      local_17b0 = parallel_partitioning<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>
                             (*(PrimRefMB **)(param_3[0x14] + 0x20),(ulong)local_1b78,uVar25,
                              (EmptyTy *)local_1778,(PrimInfoMBT_conflict *)&local_16d8,
                              (PrimInfoMBT_conflict *)&local_1628,
                              (_lambda_embree__PrimRefMB_const___1_ *)&local_18a8,
                              (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimRefMB_const___2_
                               *)&local_19c8,
                              (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>_const___3_
                               *)&local_1938,0x80,0xc00);
      local_1818 = (SetMB *)CONCAT44(local_16d8._4_4_,(float)local_16d8);
      ppSStack_1810 = (SetMB **)CONCAT44(fStack_16cc,fStack_16d0);
      pSVar35 = (SetMB *)param_3[0x14];
      uStack_1c20 = ppSStack_1810;
      _local_1c28 = local_1818;
      fVar65 = *(float *)(param_3 + 0x13);
      local_1c48._0_8_ = local_1668;
      fVar52 = *(float *)((long)param_3 + 0x9c);
      local_17a8 = local_1668;
      local_1c58 = pSStack_1660;
      _local_1c18 = _local_16c8;
      local_1798 = local_1658;
      local_1808 = (SetMB *)local_16c8;
      pSStack_1800 = uStack_16c0;
      _local_1c08 = _local_16b8;
      local_17f8 = (SetMB *)local_16b8;
      ppSStack_17f0 = uStack_16b0;
      _local_1bf8 = _local_16a8;
      local_17e8 = (SetMB *)local_16a8;
      pSStack_17e0 = uStack_16a0;
      _local_1be8 = _local_1698;
      local_17d8 = (SetMB *)local_1698;
      ppSStack_17d0 = uStack_1690;
      _local_1b98 = _local_1688;
      local_17c8 = (SetMB *)local_1688;
      pSStack_17c0 = uStack_1680;
      local_1790._4_4_ = (float)((ulong)local_1650 >> 0x20);
      local_1790._0_4_ = SUB84(local_1650,0);
      fVar121 = fVar65;
      if (fVar65 <= (float)local_1790) {
        fVar121 = (float)local_1790;
      }
      if (fVar52 <= local_1790._4_4_) {
        local_1790._4_4_ = fVar52;
      }
      auVar95 = ZEXT416((uint)local_1790._4_4_);
      local_16f8 = local_15a8;
      local_1778._4_4_ = local_1628._4_4_;
      local_1778._0_4_ = (float)local_1628;
      local_1778._8_4_ = (float)uStack_1620;
      local_1778._12_4_ = uStack_1620._4_4_;
      _local_1b88 = _local_15e8;
      local_16f0._4_4_ = (float)((ulong)local_15a0 >> 0x20);
      local_16f0._0_4_ = SUB84(local_15a0,0);
      fVar96 = fVar65;
      if (fVar65 <= (float)local_16f0) {
        fVar96 = (float)local_16f0;
      }
      local_1738 = local_15e8;
      uStack_1730 = uStack_15e0;
      if (fVar52 <= local_16f0._4_4_) {
        local_16f0._4_4_ = fVar52;
      }
      local_1708 = local_15b8;
      local_1700 = uStack_15b0;
      local_1790 = CONCAT44(local_1790._4_4_,fVar121);
      local_1768 = _local_1618;
      local_1758 = _local_1608;
      local_1748 = _local_15f8;
      local_1728 = _local_15d8;
      pSVar42 = (SetMB *)*param_3;
      fVar104 = *(float *)(param_3 + 2);
      fVar102 = *(float *)((long)param_3 + 0x14);
      fVar103 = *(float *)(param_3 + 3);
      uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
      fVar76 = *(float *)(param_3 + 4);
      fVar87 = *(float *)((long)param_3 + 0x24);
      fVar59 = *(float *)(param_3 + 5);
      uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
      fVar77 = *(float *)(param_3 + 6);
      fVar84 = *(float *)((long)param_3 + 0x34);
      fVar85 = *(float *)(param_3 + 7);
      uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
      local_1c38._0_8_ = local_17b0;
      fVar122 = *(float *)(param_3 + 8);
      fVar124 = *(float *)((long)param_3 + 0x44);
      fVar125 = *(float *)(param_3 + 9);
      uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
      pSVar30 = (SetMB *)param_3[0x10];
      local_16f0 = CONCAT44(local_16f0._4_4_,fVar96);
      fVar94 = local_16f0._4_4_;
      local_17b8 = (ulong)local_1b78;
      local_1718 = local_17b0;
      local_1710 = uVar25;
      local_16e8 = pSVar35;
      local_1c68 = pSVar35;
    }
    else {
      if (local_156c == 2) {
        pSVar51 = (SetMB *)param_3[0x14];
        local_1a18 = (SetMB *)CONCAT44(local_1570,fVar65);
        pSVar30 = (SetMB *)(param_2 + 9);
        local_19f8 = (SetMB *)CONCAT44(fVar52,local_1570);
        pSVar42 = (SetMB *)operator_new(0x28);
        uVar25 = param_3[0xf];
        puVar33 = (undefined8 *)param_2[9];
        uVar39 = param_3[0xe];
        pSVar42[8] = (SetMB)0x0;
        *(undefined8 **)pSVar42 = puVar33;
        *(undefined8 *)(pSVar42 + 0x10) = 0;
        *(undefined8 *)(pSVar42 + 0x18) = 0;
        *(undefined8 *)(pSVar42 + 0x20) = 0;
        uVar48 = uVar25 - uVar39;
        if (uVar48 != 0) {
          uVar25 = uVar48 * 0x50;
          (**(code **)*puVar33)(puVar33,uVar25,0);
          if (uVar25 < 0x1c00000) {
            uVar32 = embree::alignedMalloc(uVar25,0x10);
          }
          else {
            uVar32 = embree::os_malloc(uVar25,(bool *)(pSVar42 + 8));
          }
          uVar25 = param_3[0xf];
          uVar39 = param_3[0xe];
          *(undefined8 *)(pSVar42 + 0x20) = uVar32;
          *(ulong *)(pSVar42 + 0x10) = uVar48;
          *(ulong *)(pSVar42 + 0x18) = uVar48;
          uVar48 = uVar25 - uVar39;
        }
        fVar65 = _LC10;
        pSStack_1920 = (SetMB *)&local_1a28;
        local_15c8 = (SetMB *)0x0;
        pSStack_15c0 = (SetMB *)0x0;
        local_15b8 = (SetMB *)0x0;
        uStack_15b0 = (SetMB *)0x0;
        local_15a8 = (SetMB *)0x3f80000000000000;
        local_15a0 = (SetMB *)0x3f800000;
        local_1bc8._4_4_ = _LC10;
        local_1bc8._0_4_ = _LC10;
        uStack_1bc0._0_4_ = _LC10;
        uStack_1bc0._4_4_ = _LC10;
        local_1628._0_4_ = _LC10;
        local_1628._4_4_ = _LC10;
        uStack_1620._0_4_ = _LC10;
        uStack_1620._4_4_ = _LC10;
        local_1bd8._4_4_ = _LC8;
        local_1bd8._0_4_ = _LC8;
        uStack_1bd0._0_4_ = _LC8;
        uStack_1bd0._4_4_ = _LC8;
        local_1618._4_4_ = _LC8;
        local_1618._0_4_ = _LC8;
        uStack_1610._0_4_ = _LC8;
        uStack_1610._4_4_ = _LC8;
        local_1608._4_4_ = _LC10;
        local_1608._0_4_ = _LC10;
        uStack_1600._0_4_ = _LC10;
        uStack_1600._4_4_ = _LC10;
        local_15f8._4_4_ = _LC8;
        local_15f8._0_4_ = _LC8;
        uStack_15f0._0_4_ = _LC8;
        uStack_15f0._4_4_ = _LC8;
        local_15e8._4_4_ = _LC10;
        local_15e8._0_4_ = _LC10;
        uStack_15e0._0_4_ = _LC10;
        uStack_15e0._4_4_ = _LC10;
        local_15d8._4_4_ = _LC8;
        local_15d8._0_4_ = _LC8;
        uStack_15d0._0_4_ = _LC8;
        uStack_15d0._4_4_ = _LC8;
        local_1a28 = pSVar42;
        local_1938 = pSVar51;
        ppSStack_1930 = (SetMB **)&local_1a18;
        local_1928 = pSVar30;
        local_1918 = pSVar5;
        if (uVar48 < 0xc00) {
          local_16d8._0_4_ = (float)uVar39;
          local_16d8._4_4_ = (float)(uVar39 >> 0x20);
          fStack_16d0 = (float)uVar25;
          fStack_16cc = (float)(uVar25 >> 0x20);
          HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
          ::
          split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
          ::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                    ((_lambda_embree__range<unsigned_long>const___1_ *)&local_18a8,
                     (range *)&local_1938);
        }
        else {
          parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                    ((ulong)&local_18a8,uVar48 + 0x7f >> 7,uVar39,uVar25,
                     (PrimInfoMBT_conflict *)&local_1628,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1938,
                     PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
        }
        uVar25 = param_3[0xf];
        uVar39 = param_3[0xe];
        uVar48 = uVar25 - uVar39;
        if (local_1840 - local_1848 != uVar48) {
          local_1628 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_1a18;
          local_1840 = parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_>
                                 (*(PrimRefMB **)(local_1a28 + 0x20),0,uVar48,0x400,
                                  (_lambda_embree__PrimRefMB_const___1_ *)&local_1628);
          uVar25 = param_3[0xf];
          uVar39 = param_3[0xe];
          uVar48 = uVar25 - uVar39;
        }
        uVar41 = local_1840;
        uVar43 = local_1848;
        local_1c68 = local_1a28;
        uStack_1c20 = ppSStack_18a0;
        _local_1c28 = local_18a8;
        uStack_1c00 = ppSStack_1880;
        _local_1c08 = local_1888;
        local_1818 = local_18a8;
        ppSStack_1810 = ppSStack_18a0;
        local_17f8 = local_1888;
        ppSStack_17f0 = ppSStack_1880;
        fVar120 = local_1820._4_4_;
        if (local_1a18._4_4_ <= local_1820._4_4_) {
          fVar120 = local_1a18._4_4_;
        }
        fVar121 = (float)local_1a18;
        if ((float)local_1a18 <= (float)local_1820) {
          fVar121 = (float)local_1820;
        }
        local_1c48._0_8_ = local_1838;
        local_1c58 = local_1830;
        uStack_1c10 = pSStack_1890;
        local_1c18 = (undefined1  [8])local_1898;
        uStack_1bf0 = pSStack_1870;
        _local_1bf8 = local_1878;
        uStack_1be0 = ppSStack_1860;
        local_1be8 = (undefined1  [8])local_1868;
        uStack_1b90 = pSStack_1850;
        local_1b98 = (undefined1  [8])local_1858;
        local_1b78._0_4_ = (undefined4)local_1828;
        local_1b68 = (undefined1  [4])local_1828._4_4_;
        local_1808 = local_1898;
        pSStack_1800 = pSStack_1890;
        local_17e8 = local_1878;
        pSStack_17e0 = pSStack_1870;
        local_17d8 = local_1868;
        ppSStack_17d0 = ppSStack_1860;
        local_17c8 = local_1858;
        pSStack_17c0 = pSStack_1850;
        local_17b8 = local_1848;
        local_1788 = local_1a28;
        local_17a8 = local_1838;
        local_17a0 = local_1830;
        local_15c8 = (SetMB *)0x0;
        pSStack_15c0 = (SetMB *)0x0;
        local_15b8 = (SetMB *)0x0;
        uStack_15b0 = (SetMB *)0x0;
        local_15a8 = (SetMB *)0x3f80000000000000;
        local_15a0 = (SetMB *)0x3f800000;
        local_1798 = local_1828;
        local_1790 = CONCAT44(fVar120,fVar121);
        local_1628._0_4_ = fVar65;
        local_1628._4_4_ = fVar65;
        uStack_1620._0_4_ = fVar65;
        uStack_1620._4_4_ = fVar65;
        uStack_1610 = uStack_1bd0;
        local_1618 = local_1bd8;
        uStack_1600 = uStack_1bc0;
        local_1608 = local_1bc8;
        uStack_15f0 = uStack_1bd0;
        local_15f8 = local_1bd8;
        uStack_15e0 = uStack_1bc0;
        local_15e8 = local_1bc8;
        uStack_15d0 = uStack_1bd0;
        local_15d8 = local_1bd8;
        local_19c8 = pSVar51;
        pHStack_19c0 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_19f8;
        local_19b8 = pSVar30;
        local_17b0 = local_1840;
        if (uVar48 < 0xc00) {
          local_1778._8_8_ = uVar25;
          local_1778._0_8_ = uVar39;
          HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
          ::
          split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
          ::{lambda(embree::range<unsigned_long>const&)#3}::operator()
                    ((_lambda_embree__range<unsigned_long>const___3_ *)&local_16d8,
                     (range *)&local_19c8);
        }
        else {
          parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_3_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                    ((embree *)&local_16d8,uVar48 + 0x7f >> 7,uVar39,uVar25,0x80,
                     (PrimInfoMBT_conflict *)&local_1628,
                     (_lambda_embree__range<unsigned_long>_const___3_ *)&local_19c8,
                     PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
        }
        local_1718 = param_3[0xe];
        lVar45 = local_1678._8_8_ - local_1678._0_8_;
        local_1710 = local_1718 + lVar45;
        local_1678._8_8_ = local_1710;
        local_1678._0_8_ = local_1718;
        _local_1b58 = uVar41;
        if (lVar45 != param_3[0xf] - local_1718) {
          local_1b48 = (undefined1  [8])uVar41;
          local_1628 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_19f8;
          local_1710 = parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_4_>
                                 (*(PrimRefMB **)(pSVar51 + 0x20),local_1718,param_3[0xf],0x400,
                                  (_lambda_embree__PrimRefMB_const___4_ *)&local_1628);
          local_1718 = local_1678._0_8_;
          _local_1b58 = uVar43;
        }
        local_1c38._0_8_ = local_1718;
        local_1738 = local_1698;
        uStack_1730 = uStack_1690;
        local_1a71 = pSVar42 != (SetMB *)0x0;
        fVar94 = local_1650._4_4_;
        if (local_19f8._4_4_ <= local_1650._4_4_) {
          fVar94 = local_19f8._4_4_;
        }
        fVar96 = (float)local_19f8;
        if ((float)local_19f8 <= (float)local_1650) {
          fVar96 = (float)local_1650;
        }
        _local_1b88 = _local_1698;
        local_1778._4_4_ = local_16d8._4_4_;
        local_1778._0_4_ = (float)local_16d8;
        local_1778._8_4_ = fStack_16d0;
        local_1778._12_4_ = fStack_16cc;
        local_1768 = _local_16c8;
        local_1708 = local_1668;
        local_1700 = pSStack_1660;
        local_1b58 = (undefined1  [4])(undefined4)local_1658;
        local_1758 = _local_16b8;
        local_1748 = _local_16a8;
        local_1b48._0_4_ = local_1658._4_4_;
        local_1728 = _local_1688;
        local_16f8 = local_1658;
        local_16f0 = CONCAT44(fVar94,fVar96);
        pSVar42 = (SetMB *)*param_3;
        fVar104 = *(float *)(param_3 + 2);
        fVar102 = *(float *)((long)param_3 + 0x14);
        fVar103 = *(float *)(param_3 + 3);
        uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
        fVar76 = *(float *)(param_3 + 4);
        fVar87 = *(float *)((long)param_3 + 0x24);
        fVar59 = *(float *)(param_3 + 5);
        uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
        fVar77 = *(float *)(param_3 + 6);
        fVar84 = *(float *)((long)param_3 + 0x34);
        fVar85 = *(float *)(param_3 + 7);
        uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
        fVar122 = *(float *)(param_3 + 8);
        fVar124 = *(float *)((long)param_3 + 0x44);
        fVar125 = *(float *)(param_3 + 9);
        uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
        pSVar30 = (SetMB *)param_3[0x10];
        pSVar35 = (SetMB *)param_3[0x14];
        fVar65 = *(float *)(param_3 + 0x13);
        fVar52 = *(float *)((long)param_3 + 0x9c);
        local_16e8 = pSVar51;
        goto LAB_00117091;
      }
      if (local_156c != 1) {
        if (local_156c == 3) goto LAB_0011d0fb;
        goto LAB_0011c5f7;
      }
      SetMB::deterministic_order(pSVar5);
      local_17b8 = param_3[0xe];
      local_1710 = param_3[0xf];
      pSVar35 = (SetMB *)param_3[0x14];
      local_17b0 = local_17b8 + 1 + local_1710 >> 1;
      fVar76 = _LC3;
      fVar87 = _LC3;
      if (local_17b8 < local_17b0) {
        local_1c70._0_4_ = 0.0;
        local_1c58 = (SetMB *)0x0;
        auVar95._0_12_ = ZEXT812(0);
        auVar95._12_4_ = 0;
        auVar97._8_8_ = 0;
        auVar97._0_8_ = local_1c48._0_8_;
        local_1c48 = auVar97 << 0x40;
        pauVar34 = (undefined1 (*) [16])(local_17b8 * 0x50 + *(long *)(pSVar35 + 0x20));
        local_1bd8 = (undefined1  [8])CONCAT44(_LC8,_LC8);
        uStack_1bd0._0_4_ = _LC8;
        uStack_1bd0._4_4_ = _LC8;
        uStack_1b90._0_4_ = _LC8;
        local_1b98 = local_1bd8;
        uStack_1b90._4_4_ = _LC8;
        local_1bc8 = (undefined1  [8])CONCAT44(_LC10,_LC10);
        uStack_1bc0._0_4_ = _LC10;
        uStack_1bc0._4_4_ = _LC10;
        uStack_1c10._0_4_ = _LC8;
        local_1c18 = local_1bd8;
        uStack_1c10._4_4_ = _LC8;
        uStack_1be0._0_4_ = _LC10;
        local_1be8 = local_1bc8;
        uStack_1be0._4_4_ = _LC10;
        uStack_1c20._0_4_ = _LC10;
        _local_1c28 = (SetMB *)local_1bc8;
        uStack_1c20._4_4_ = _LC10;
        _local_1c08 = _local_1bc8;
        _local_1bf8 = _local_1bd8;
        do {
          local_1c48._0_8_ = local_1c48._0_8_ + (ulong)*(uint *)(pauVar34[2] + 0xc);
          _local_1c28 = minps(_local_1c28,*pauVar34);
          _local_1c18 = maxps(_local_1c18,pauVar34[1]);
          _local_1c08 = minps(_local_1c08,pauVar34[2]);
          _local_1bf8 = maxps(_local_1bf8,pauVar34[3]);
          fVar65 = *(float *)(pauVar34[4] + 4);
          auVar54._0_4_ =
               *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
               *(float *)pauVar34[2] * _LC12 + *(float *)*pauVar34 * _LC12;
          auVar54._4_4_ =
               *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
               *(float *)(pauVar34[2] + 4) * _LC12 + *(float *)(*pauVar34 + 4) * _LC12;
          auVar54._8_4_ =
               *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
               *(float *)(pauVar34[2] + 8) * _LC12 + *(float *)(*pauVar34 + 8) * _LC12;
          auVar54._12_4_ =
               *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
               *(float *)(pauVar34[2] + 0xc) * _LC12 + *(float *)(*pauVar34 + 0xc) * _LC12;
          fVar52 = fVar65;
          if (fVar65 <= auVar95._0_4_) {
            fVar52 = auVar95._0_4_;
          }
          _local_1be8 = minps(_local_1be8,auVar54);
          _local_1b98 = maxps(_local_1b98,auVar54);
          fVar59 = *(float *)pauVar34[4];
          auVar95 = ZEXT416((uint)fVar52);
          if (fVar59 <= fVar87) {
            fVar87 = fVar59;
          }
          if (local_1c58 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
            local_1c70._0_4_ = fVar59;
            fVar76 = fVar65;
            local_1c58 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
          }
          pauVar34 = pauVar34 + 5;
        } while ((undefined1 (*) [16])(*(long *)(pSVar35 + 0x20) + local_17b0 * 0x50) != pauVar34);
      }
      else {
        local_1c70._0_4_ = 0.0;
        local_1c58 = (SetMB *)0x0;
        auVar95 = (undefined1  [16])0x0;
        auVar93._8_8_ = 0;
        auVar93._0_8_ = local_1c48._0_8_;
        local_1c48 = auVar93 << 0x40;
        local_1bd8._4_4_ = _LC8;
        local_1bd8._0_4_ = _LC8;
        uStack_1bd0._0_4_ = _LC8;
        uStack_1bd0._4_4_ = _LC8;
        local_1b98._4_4_ = _LC8;
        local_1b98._0_4_ = _LC8;
        uStack_1b90._0_4_ = _LC8;
        uStack_1b90._4_4_ = _LC8;
        local_1bc8._4_4_ = _LC10;
        local_1bc8._0_4_ = _LC10;
        uStack_1bc0._0_4_ = _LC10;
        uStack_1bc0._4_4_ = _LC10;
        local_1be8._4_4_ = _LC10;
        local_1be8._0_4_ = _LC10;
        uStack_1be0._0_4_ = _LC10;
        uStack_1be0._4_4_ = _LC10;
        auStack_1bf4 = (undefined1  [4])_LC8;
        local_1bf8 = (undefined1  [4])_LC8;
        uStack_1bf0._0_4_ = _LC8;
        uStack_1bf0._4_4_ = _LC8;
        auStack_1c04 = (undefined1  [4])_LC10;
        local_1c08 = (undefined1  [4])_LC10;
        uStack_1c00._0_4_ = _LC10;
        uStack_1c00._4_4_ = _LC10;
        local_1c18._4_4_ = _LC8;
        local_1c18._0_4_ = _LC8;
        uStack_1c10._0_4_ = _LC8;
        uStack_1c10._4_4_ = _LC8;
        auStack_1c24 = (undefined1  [4])_LC10;
        local_1c28 = (undefined1  [4])_LC10;
        uStack_1c20._0_4_ = _LC10;
        uStack_1c20._4_4_ = _LC10;
      }
      local_1748 = _local_1bd8;
      local_1758 = _local_1bc8;
      local_1768 = _local_1bd8;
      local_1778 = _local_1bc8;
      local_1728 = _local_1bd8;
      fVar104 = _LC3;
      fVar102 = _LC3;
      if (local_17b0 < local_1710) {
        fVar103 = 0.0;
        local_1700 = (SetMB *)0x0;
        local_1708 = (SetMB *)0x0;
        pauVar34 = (undefined1 (*) [16])(local_17b0 * 0x50 + *(long *)(pSVar35 + 0x20));
        _local_1b88 = _local_1bc8;
        fVar65 = 0.0;
        do {
          local_1778 = minps(local_1778,*pauVar34);
          local_1768 = maxps(local_1768,pauVar34[1]);
          local_1758 = minps(local_1758,pauVar34[2]);
          local_1748 = maxps(local_1748,pauVar34[3]);
          local_1708 = local_1708 + *(uint *)(pauVar34[2] + 0xc);
          auVar61._0_4_ =
               *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
               *(float *)pauVar34[2] * _LC12 + *(float *)*pauVar34 * _LC12;
          auVar61._4_4_ =
               *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
               *(float *)(pauVar34[2] + 4) * _LC12 + *(float *)(*pauVar34 + 4) * _LC12;
          auVar61._8_4_ =
               *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
               *(float *)(pauVar34[2] + 8) * _LC12 + *(float *)(*pauVar34 + 8) * _LC12;
          auVar61._12_4_ =
               *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
               *(float *)(pauVar34[2] + 0xc) * _LC12 + *(float *)(*pauVar34 + 0xc) * _LC12;
          fVar52 = *(float *)(pauVar34[4] + 4);
          fVar94 = fVar52;
          if (fVar52 <= fVar65) {
            fVar94 = fVar65;
          }
          _local_1b88 = minps(_local_1b88,auVar61);
          local_1728 = maxps(local_1728,auVar61);
          fVar65 = *(float *)pauVar34[4];
          if (fVar65 <= fVar102) {
            fVar102 = fVar65;
          }
          if (local_1700 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
            local_1700 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
            fVar103 = fVar65;
            fVar104 = fVar52;
          }
          pauVar34 = pauVar34 + 5;
          fVar65 = fVar94;
        } while ((undefined1 (*) [16])(*(long *)(pSVar35 + 0x20) + local_1710 * 0x50) != pauVar34);
      }
      else {
        fVar103 = 0.0;
        local_1700 = (SetMB *)0x0;
        local_1708 = (SetMB *)0x0;
        fVar94 = 0.0;
        _local_1b88 = _local_1bc8;
      }
      local_17a8 = (SetMB *)local_1c48._0_8_;
      fVar65 = *(float *)(param_3 + 0x13);
      local_1818 = _local_1c28;
      ppSStack_1810 = uStack_1c20;
      local_1808 = (SetMB *)local_1c18;
      pSStack_1800 = uStack_1c10;
      fVar52 = *(float *)((long)param_3 + 0x9c);
      if (fVar52 <= auVar95._0_4_) {
        auVar95._0_4_ = fVar52;
      }
      if (fVar52 <= fVar94) {
        fVar94 = fVar52;
      }
      local_17f8 = _local_1c08;
      ppSStack_17f0 = uStack_1c00;
      fVar121 = fVar65;
      if (fVar65 <= fVar87) {
        fVar121 = fVar87;
      }
      local_17e8 = _local_1bf8;
      pSStack_17e0 = uStack_1bf0;
      local_17d8 = (SetMB *)local_1be8;
      ppSStack_17d0 = uStack_1be0;
      local_1738 = local_1b88;
      uStack_1730 = uStack_1b80;
      local_17c8 = (SetMB *)local_1b98;
      pSStack_17c0 = uStack_1b90;
      local_1798 = (SetMB *)CONCAT44(fVar76,local_1c70._0_4_);
      local_1790 = CONCAT44(auVar95._0_4_,fVar121);
      pSVar42 = (SetMB *)*param_3;
      fVar76 = *(float *)(param_3 + 4);
      fVar87 = *(float *)((long)param_3 + 0x24);
      fVar59 = *(float *)(param_3 + 5);
      uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
      fVar77 = *(float *)(param_3 + 6);
      fVar84 = *(float *)((long)param_3 + 0x34);
      fVar85 = *(float *)(param_3 + 7);
      uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
      pSVar30 = (SetMB *)param_3[0x10];
      fVar96 = fVar65;
      if (fVar65 <= fVar102) {
        fVar96 = fVar102;
      }
      local_16f8 = (SetMB *)CONCAT44(fVar104,fVar103);
      fVar122 = *(float *)(param_3 + 8);
      fVar124 = *(float *)((long)param_3 + 0x44);
      fVar125 = *(float *)(param_3 + 9);
      uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
      fVar104 = *(float *)(param_3 + 2);
      fVar102 = *(float *)((long)param_3 + 0x14);
      fVar103 = *(float *)(param_3 + 3);
      uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
      local_1c38._0_8_ = local_17b0;
      local_16f0 = CONCAT44(fVar94,fVar96);
      local_1718 = local_17b0;
      local_16e8 = pSVar35;
      local_1c68 = pSVar35;
    }
LAB_00117039:
    fVar120 = auVar95._0_4_;
    local_1a71 = false;
    local_1b78._0_4_ = (undefined4)local_1798;
    local_1b68 = (undefined1  [4])local_1798._4_4_;
    local_1b58 = (undefined1  [4])(undefined4)local_16f8;
    local_1b48._0_4_ = local_16f8._4_4_;
    uVar41 = local_17b0;
    uVar43 = local_17b8;
    local_17a0 = local_1c58;
    local_1788 = local_1c68;
LAB_00117091:
    pSVar47 = local_16e8;
    pSVar29 = local_1700;
    pSVar51 = local_1708;
    uVar25 = local_1710;
    auVar54 = local_1728;
    auVar97 = local_1748;
    auVar95 = local_1758;
    auVar93 = local_1768;
    auVar91 = local_1778;
    local_1c70 = &local_dd8;
    local_d58[1] = (SetMB *)param_3[0x11];
    local_db8 = (SetMB *)CONCAT44(fVar87,fVar76);
    uStack_db0 = (SetMB *)CONCAT44(uVar90,fVar59);
    local_d88 = param_3[10];
    uStack_d80 = param_3[0xb];
    local_d48 = param_3[0x12];
    local_dc8 = (SetMB *)CONCAT44(fVar102,fVar104);
    uStack_dc0 = CONCAT44(uVar92,fVar103);
    local_d78[0] = (SetMB *)param_3[0xc];
    local_d78[1] = (SetMB *)param_3[0xd];
    local_d68 = param_3[0xe];
    uStack_d60 = param_3[0xf];
    local_258 = 1;
    local_50 = 1;
    local_250 = pSVar35;
    local_248 = 2;
    local_2d8[0] = &local_250;
    local_da8 = (SetMB *)CONCAT44(fVar84,fVar77);
    uStack_da0 = (SetMB **)CONCAT44(uVar86,fVar85);
    local_d98 = (SetMB *)CONCAT44(fVar124,fVar122);
    uStack_d90 = (SetMB *)CONCAT44(uVar58,fVar125);
    if (pSVar35 == local_1c68) {
      lVar45 = 0xb98;
      lVar40 = 2;
      lVar38 = 1;
      local_248 = 3;
      lVar46 = 3;
    }
    else {
      lVar40 = 3;
      lVar38 = 2;
      local_50 = 2;
      lVar46 = 2;
      local_238 = 1;
      local_240 = local_1c68;
      local_2d8[0] = &local_240;
      lVar45 = 0xba8;
    }
    if (pSVar35 == local_16e8) {
      local_2d8[1] = &local_250;
      local_248 = lVar46;
LAB_0011a8a2:
      lVar38 = 0xb0;
      lVar45 = 4;
    }
    else {
      local_50 = lVar40;
      (&local_250)[lVar38 * 2] = local_16e8;
      (&local_248)[lVar38 * 2] = 1;
      local_248 = local_248 + -1;
      local_2d8[1] = (SetMB **)(lVar45 + (long)local_1c70);
      if ((local_248 != 0) || (pSVar35 == (SetMB *)0x0)) goto LAB_0011a8a2;
      pvVar3 = *(void **)(pSVar35 + 0x20);
      lVar45 = *(long *)(pSVar35 + 0x18);
      local_dd8 = pSVar42;
      local_d58[0] = pSVar30;
      local_d40[0] = fVar65;
      local_d40[1] = fVar52;
      local_d38[0] = pSVar35;
      if (pvVar3 != (void *)0x0) {
        local_1af8._0_8_ = uVar43;
        if ((ulong)(lVar45 * 0x50) < 0x1c00000) {
          embree::alignedFree(pvVar3);
        }
        else {
          embree::os_free(pvVar3,lVar45 * 0x50,(bool)pSVar35[8]);
        }
      }
      if (lVar45 != 0) {
        local_1af8._0_8_ = uVar41;
        (**(code **)**(undefined8 **)pSVar35)(*(undefined8 **)pSVar35,lVar45 * -0x50,1);
      }
      local_1af8._0_4_ = fVar120;
      operator_delete(pSVar35,0x28);
      lVar45 = local_258 * 4;
      lVar38 = local_258 * 0xb0;
    }
    local_dd8 = pSVar42 + 1;
    local_d68 = uVar43;
    local_d58[0] = (SetMB *)local_1c48._0_8_;
    local_dc8 = _local_1c28;
    uStack_dc0 = uStack_1c20;
    local_db8 = (SetMB *)local_1c18;
    uStack_db0 = uStack_1c10;
    local_d58[1] = local_1c58;
    local_da8 = _local_1c08;
    uStack_da0 = uStack_1c00;
    local_d98 = _local_1bf8;
    uStack_d90 = uStack_1bf0;
    local_d38[0] = local_1c68;
    local_d88 = (long)local_1be8;
    uStack_d80 = (long)uStack_1be0;
    local_d78[0] = (SetMB *)local_1b98;
    local_d78[1] = uStack_1b90;
    local_d48 = CONCAT44(local_1b68,local_1b78._0_4_);
    uStack_d60 = uVar41;
    local_d40[0] = fVar121;
    local_d40[1] = fVar120;
    (&local_dd8)[(lVar45 * 2 + local_258 * 3) * 2] = pSVar42 + 1;
    *(undefined1 (*) [16])((long)&local_dc8 + lVar38) = auVar91;
    *(undefined1 (*) [16])((long)&local_db8 + lVar38) = auVar93;
    *(undefined1 (*) [16])((long)&local_da8 + lVar38) = auVar95;
    *(undefined1 (*) [16])((long)&local_d98 + lVar38) = auVar97;
    *(ulong *)((long)&uStack_d60 + lVar38) = uVar25;
    *(undefined1 (*) [8])((long)&local_d88 + lVar38) = local_1b88;
    *(undefined8 *)((long)&uStack_d80 + lVar38) = uStack_1b80;
    *(undefined8 *)((long)&local_d68 + lVar38) = local_1c38._0_8_;
    *(SetMB **)((long)local_d58 + lVar38) = pSVar51;
    *(SetMB **)((long)local_d58 + lVar38 + 8) = pSVar29;
    *(SetMB **)((long)local_d38 + lVar38) = pSVar47;
    *(undefined1 (*) [16])((long)local_d78 + lVar38) = auVar54;
    *(undefined1 (*) [4])((long)&local_d48 + lVar38) = local_1b58;
    *(undefined4 *)((long)&local_d48 + lVar38 + 4) = local_1b48._0_4_;
    *(float *)((long)local_d40 + lVar38) = fVar96;
    *(float *)((long)local_d38 + lVar38 + -4) = fVar94;
    local_258 = local_258 + 1;
    if (local_258 < *param_2) {
      do {
        auVar23 = _auStack_1c04;
        auVar22 = local_1c48._4_12_;
        pHVar27 = local_1628;
        if (local_258 == 0) goto LAB_00118339;
        uVar39 = 0;
        pfVar26 = (float *)&local_dc8;
        uVar25 = 0xffffffffffffffff;
        fVar65 = _LC8;
        do {
          if ((param_2[3] < (ulong)(*(long *)(pfVar26 + 0x1a) - *(long *)(pfVar26 + 0x18))) &&
             (fVar52 = (((pfVar26[5] - pfVar26[1]) + (pfVar26[6] - pfVar26[2])) *
                        (pfVar26[4] - *pfVar26) +
                        (pfVar26[5] - pfVar26[1]) * (pfVar26[6] - pfVar26[2]) +
                       (pfVar26[0xc] - pfVar26[8]) *
                       ((pfVar26[0xd] - pfVar26[9]) + (pfVar26[0xe] - pfVar26[10])) +
                       (pfVar26[0xd] - pfVar26[9]) * (pfVar26[0xe] - pfVar26[10])) * _LC12,
             fVar65 < fVar52)) {
            uVar25 = uVar39;
            fVar65 = fVar52;
          }
          uVar39 = uVar39 + 1;
          pfVar26 = pfVar26 + 0x2c;
        } while (uVar39 != local_258);
        if (uVar25 == 0xffffffffffffffff) goto LAB_001182c0;
        pHVar27 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)(*param_3 + 1);
        lVar45 = uVar25 * 0xb0;
        pSVar30 = (SetMB *)(&local_dc8 + uVar25 * 0x16);
        local_16d8 = pHVar27;
        local_1628 = pHVar27;
        HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::find
                  ((HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_1538,pSVar30,param_2[2]
                  );
        fVar65 = local_1538;
        fVar76 = *(float *)((long)&local_db8 + lVar45 + 4) -
                 *(float *)((long)&local_dc8 + lVar45 + 4);
        fVar52 = *(float *)((long)&local_d98 + lVar45 + 4) -
                 *(float *)((long)&local_da8 + lVar45 + 4);
        local_1bf8 = (undefined1  [4])local_1538;
        bVar6 = (byte)param_2[2];
        fVar87 = *(float *)((long)local_d38 + lVar45 + -4) - local_d40[uVar25 * 0x2c];
        local_1c58 = (SetMB *)pHVar27;
        if (((fVar76 + (*(float *)(&uStack_db0 + uVar25 * 0x16) -
                       *(float *)(&uStack_dc0 + uVar25 * 0x16))) *
             (*(float *)(&local_db8 + uVar25 * 0x16) - *(float *)pSVar30) +
             fVar76 * (*(float *)(&uStack_db0 + uVar25 * 0x16) -
                      *(float *)(&uStack_dc0 + uVar25 * 0x16)) +
            (*(float *)(&local_d98 + uVar25 * 0x16) - *(float *)(&local_da8 + uVar25 * 0x16)) *
            (fVar52 + (*(float *)(&uStack_d90 + uVar25 * 0x16) -
                      *(float *)(&uStack_da0 + uVar25 * 0x16))) +
            fVar52 * (*(float *)(&uStack_d90 + uVar25 * 0x16) -
                     *(float *)(&uStack_da0 + uVar25 * 0x16))) * _LC12 * fVar87 *
            (float)((ulong)(local_d58[uVar25 * 0x16] + (1L << (bVar6 & 0x3f)) + -1) >>
                   (bVar6 & 0x3f)) * _LC12 <= local_1538) {
          if (fVar87 <= _LC41 / (float)local_d58[uVar25 * 0x16 + 1]) {
LAB_0011965f:
            local_1460 = CONCAT44(local_152c,local_1530);
            local_1448 = (SetMB *)CONCAT44(uStack_1514,local_1518);
            uStack_1440 = (SetMB *)CONCAT44(uStack_150c,uStack_1510);
            pSVar42 = local_1658;
            pSVar51 = local_1650;
            uVar32 = local_1590;
            goto joined_r0x001196cd;
          }
          uStack_14f0 = 0;
          local_14f8 = (SetMB *)0x0;
          local_14a8 = (SetMB *)local_1bc8;
          ppSStack_14a0 = uStack_1bc0;
          local_1498 = (SetMB *)local_1bd8;
          pSStack_1490 = uStack_1bd0;
          local_1488 = (SetMB *)local_1bc8;
          ppSStack_1480 = uStack_1bc0;
          local_1938 = *(SetMB **)(local_d40 + uVar25 * 0x2c);
          local_1478 = (SetMB *)local_1bd8;
          pSStack_1470 = uStack_1bd0;
          uVar39 = (&uStack_d60)[uVar25 * 0x16] - (&local_d68)[uVar25 * 0x16];
          local_14e8 = (SetMB *)local_1bc8;
          ppSStack_14e0 = uStack_1bc0;
          local_14d8 = (SetMB *)local_1bd8;
          pSStack_14d0 = uStack_1bd0;
          local_14c8 = (SetMB *)local_1bc8;
          ppSStack_14c0 = uStack_1bc0;
          local_14b8 = (SetMB *)local_1bd8;
          pSStack_14b0 = uStack_1bd0;
          local_19c8 = *(SetMB **)(local_d38[uVar25 * 0x16] + 0x20);
          if (uVar39 < 0xc00) {
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::TemporalBinInfo::bin((TemporalBinInfo_conflict *)&local_14f8);
            ppSStack_1b70 = ppSStack_14e0;
            local_1b78 = (undefined1  [8])local_14e8;
            pSStack_1b60 = pSStack_14d0;
            _local_1b68 = local_14d8;
            ppSStack_1b50 = ppSStack_14c0;
            _local_1b58 = (ulong)local_14c8;
            pSStack_1b40 = pSStack_14b0;
            local_1b48 = (undefined1  [8])local_14b8;
            ppSStack_1b30 = ppSStack_14a0;
            local_1b38 = local_14a8;
            pSStack_1b20 = pSStack_1490;
            local_1b28 = local_1498;
            ppSStack_1b10 = ppSStack_1480;
            local_1b18 = local_1488;
            pSStack_1b00 = pSStack_1470;
            local_1b08 = local_1478;
            lVar38 = uStack_14f0;
            pSVar42 = local_14f8;
          }
          else {
            local_1388 = (SetMB *)local_1bc8;
            ppSStack_1380 = uStack_1bc0;
            local_18a8 = (SetMB *)&local_19c8;
            ppSStack_18a0 = &local_1938;
            uStack_13d0 = 0;
            local_13d8 = (SetMB *)0x0;
            local_1378 = (SetMB *)local_1bd8;
            pSStack_1370 = uStack_1bd0;
            local_1368 = (SetMB *)local_1bc8;
            uStack_1360 = uStack_1bc0;
            local_1358 = (SetMB *)local_1bd8;
            uStack_1350 = uStack_1bd0;
            local_13c8 = (SetMB *)local_1bc8;
            uStack_13c0 = uStack_1bc0;
            local_13b8 = (SetMB *)local_1bd8;
            uStack_13b0 = uStack_1bd0;
            local_13a8 = (SetMB *)local_1bc8;
            uStack_13a0 = uStack_1bc0;
            local_1398 = (SetMB *)local_1bd8;
            uStack_1390 = uStack_1bd0;
            local_1898 = pSVar30;
            pSStack_1890 = (SetMB *)(param_2 + 10);
            parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
                      ((ulong)&local_1468,uVar39 + 0x3ff >> 10,(&local_d68)[uVar25 * 0x16],
                       (&uStack_d60)[uVar25 * 0x16],(TemporalBinInfo_conflict *)&local_13d8,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_18a8,
                       HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
                       ::TemporalBinInfo::merge2);
            ppSStack_1b70._4_4_ = fStack_144c;
            ppSStack_1b70._0_4_ = fStack_1450;
            local_1b78 = (undefined1  [8])local_1458;
            pSStack_1b60 = uStack_1440;
            _local_1b68 = local_1448;
            ppSStack_1b50 = uStack_1430;
            _local_1b58 = (ulong)local_1438;
            local_1b48._4_4_ = fStack_1424;
            local_1b48._0_4_ = local_1428;
            pSStack_1b40._4_4_ = fStack_141c;
            pSStack_1b40._0_4_ = fStack_1420;
            local_1b38._4_4_ = fStack_1414;
            local_1b38._0_4_ = local_1418;
            ppSStack_1b30._4_4_ = fStack_140c;
            ppSStack_1b30._0_4_ = fStack_1410;
            local_1b28._4_4_ = fStack_1404;
            local_1b28._0_4_ = local_1408;
            pSStack_1b20._4_4_ = fStack_13fc;
            pSStack_1b20._0_4_ = fStack_1400;
            local_1b18._4_4_ = fStack_13f4;
            local_1b18._0_4_ = local_13f8;
            ppSStack_1b10._4_4_ = fStack_13ec;
            ppSStack_1b10._0_4_ = fStack_13f0;
            local_1b08._4_4_ = fStack_13e4;
            local_1b08._0_4_ = local_13e8;
            pSStack_1b00._4_4_ = fStack_13dc;
            pSStack_1b00._0_4_ = fStack_13e0;
            lVar38 = local_1460;
            pSVar42 = local_1468;
          }
          auVar24 = local_1af8._4_12_;
          auVar79._12_4_ = 0;
          auVar79._0_12_ = local_1af8._4_12_;
          local_1af8._0_16_ = auVar79 << 0x20;
          local_1b88._0_4_ = 0x7f800000;
          fVar52 = *(float *)((long)local_d38 + lVar45 + -4);
          fVar76 = local_d40[uVar25 * 0x2c];
          lVar40 = (1L << (bVar6 & 0x3f)) + -1;
          fVar87 = *(float *)(&local_d48 + uVar25 * 0x16);
          uVar39 = (ulong)(lVar38 + lVar40) >> (bVar6 & 0x3f);
          fVar59 = *(float *)((long)&local_d48 + lVar45 + 4) - fVar87;
          uVar48 = (ulong)(pSVar42 + lVar40) >> (bVar6 & 0x3f);
          pSVar42 = local_d58[uVar25 * 0x16 + 1];
          fVar104 = roundf((((_LC12 * fVar52 + _LC12 * fVar76) - fVar87) / fVar59) * (float)pSVar42)
          ;
          fVar87 = (fVar104 / (float)pSVar42) * fVar59 + fVar87;
          if ((fVar76 < fVar87) && (fVar87 < fVar52)) {
            fVar76 = ((((float)auStack_1b64 - (float)local_1b78._4_4_) +
                      (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_)) *
                      ((float)local_1b68 - (float)local_1b78._0_4_) +
                      ((float)auStack_1b64 - (float)local_1b78._4_4_) *
                      (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_) +
                     ((float)local_1b48._4_4_ - (float)auStack_1b54) *
                     (pSStack_1b40._0_4_ - ppSStack_1b50._0_4_) +
                     ((float)local_1b48._0_4_ - (float)local_1b58) *
                     (((float)local_1b48._4_4_ - (float)auStack_1b54) +
                     (pSStack_1b40._0_4_ - ppSStack_1b50._0_4_))) * _LC12 * (float)uVar48 *
                     (fVar87 - fVar76);
            fVar52 = (((local_1b28._4_4_ - local_1b38._4_4_) +
                      (pSStack_1b20._0_4_ - ppSStack_1b30._0_4_)) *
                      ((float)local_1b28 - (float)local_1b38) +
                      (local_1b28._4_4_ - local_1b38._4_4_) *
                      (pSStack_1b20._0_4_ - ppSStack_1b30._0_4_) +
                     (local_1b08._4_4_ - local_1b18._4_4_) *
                     (pSStack_1b00._0_4_ - ppSStack_1b10._0_4_) +
                     ((float)local_1b08 - (float)local_1b18) *
                     ((local_1b08._4_4_ - local_1b18._4_4_) +
                     (pSStack_1b00._0_4_ - ppSStack_1b10._0_4_))) * _LC12 * (float)uVar39 *
                     (fVar52 - fVar87);
            if (uVar48 == 0) {
              fVar76 = 0.0;
            }
            if (uVar39 == 0) {
              fVar52 = 0.0;
            }
            if (fVar76 + fVar52 < INFINITY) {
              local_1af8._0_4_ = fVar87;
              local_1af8._0_16_ = CONCAT124(auVar24,local_1af8._0_4_);
              local_1b88._0_4_ = fVar76 + fVar52;
            }
          }
          uStack_13d0 = CONCAT44(uStack_13d0._4_4_,local_1af8._0_4_);
          if (fVar65 <= _LC42 * (float)local_1b88._0_4_) goto LAB_0011965f;
          local_1460 = CONCAT44(2,local_1af8._0_4_);
          local_1468 = (SetMB *)(ulong)(uint)(_LC42 * (float)local_1b88._0_4_);
          local_1458 = local_13c8;
          local_1448 = local_13b8;
          uStack_1440 = uStack_13b0;
          local_1438 = local_13a8;
          uStack_1430 = uStack_13a0;
LAB_00119cc9:
          puVar28 = param_2 + 9;
          local_1a38 = local_d40[uVar25 * 0x2c];
          local_1c48._0_8_ = puVar28;
          local_1a34 = (float)local_1460;
          local_1a30 = (float)local_1460;
          local_1a2c = *(float *)((long)local_d38 + lVar45 + -4);
          pSVar35 = local_d38[uVar25 * 0x16];
          pSVar29 = (SetMB *)operator_new(0x28);
          ppSVar37 = (SetMB **)(&uStack_d60)[uVar25 * 0x16];
          puVar33 = (undefined8 *)param_2[9];
          pSVar42 = (SetMB *)(&local_d68)[uVar25 * 0x16];
          pSVar29[8] = (SetMB)0x0;
          *(undefined8 **)pSVar29 = puVar33;
          *(ulong *)(pSVar29 + 0x10) = 0;
          *(ulong *)(pSVar29 + 0x18) = 0;
          *(ulong *)(pSVar29 + 0x20) = 0;
          uVar39 = (long)ppSVar37 - (long)pSVar42;
          if (uVar39 != 0) {
            uVar48 = uVar39 * 0x50;
            (**(code **)*puVar33)(puVar33,uVar48,0);
            if (uVar48 < 0x1c00000) {
              uVar48 = embree::alignedMalloc(uVar48,0x10);
            }
            else {
              uVar48 = embree::os_malloc(uVar48,(bool *)(pSVar29 + 8));
            }
            ppSVar37 = (SetMB **)(&uStack_d60)[uVar25 * 0x16];
            pSVar42 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            *(ulong *)(pSVar29 + 0x20) = uVar48;
            *(ulong *)(pSVar29 + 0x10) = uVar39;
            *(ulong *)(pSVar29 + 0x18) = uVar39;
            uVar39 = (long)ppSVar37 - (long)pSVar42;
          }
          local_19e0 = &local_1a40;
          local_1848 = 0;
          local_1840 = 0;
          local_1838 = (SetMB *)0x0;
          local_1830 = (SetMB *)0x0;
          local_1828 = (SetMB *)0x3f80000000000000;
          local_1820 = 0x3f800000;
          local_18a8 = (SetMB *)local_1bc8;
          ppSStack_18a0 = uStack_1bc0;
          local_1898 = (SetMB *)local_1bd8;
          pSStack_1890 = uStack_1bd0;
          local_1888 = (SetMB *)local_1bc8;
          ppSStack_1880 = uStack_1bc0;
          local_1878 = (SetMB *)local_1bd8;
          pSStack_1870 = uStack_1bd0;
          local_1868 = (SetMB *)local_1bc8;
          ppSStack_1860 = uStack_1bc0;
          local_1858 = (SetMB *)local_1bd8;
          pSStack_1850 = uStack_1bd0;
          local_1a40 = pSVar29;
          local_19f8 = pSVar35;
          local_19f0 = (SetMB *)&local_1a38;
          local_19e8 = puVar28;
          local_19d8 = pSVar30;
          if (uVar39 < 0xc00) {
            local_1938 = pSVar42;
            ppSStack_1930 = ppSVar37;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                      ((_lambda_embree__range<unsigned_long>const___1_ *)&local_19c8,
                       (range *)&local_19f8);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((ulong)&local_19c8,uVar39 + 0x7f >> 7,(ulong)pSVar42,(ulong)ppSVar37,
                       (PrimInfoMBT_conflict *)&local_18a8,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_19f8,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          local_1c38._0_8_ = &local_1938;
          uVar39 = (&uStack_d60)[uVar25 * 0x16];
          pSVar30 = (SetMB *)(&local_d68)[uVar25 * 0x16];
          uVar48 = uVar39 - (long)pSVar30;
          if ((long)local_1960 - (long)local_1968 != uVar48) {
            local_18a8 = (SetMB *)&local_1a38;
            local_1960 = (SetMB *)parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_>
                                            (*(PrimRefMB **)(local_1a40 + 0x20),0,uVar48,0x400,
                                             (_lambda_embree__PrimRefMB_const___1_ *)&local_18a8);
            uVar39 = (&uStack_d60)[uVar25 * 0x16];
            pSVar30 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            uVar48 = uVar39 - (long)pSVar30;
          }
          pSVar51 = local_1950;
          pSVar42 = local_1958;
          uVar32 = uStack_1970;
          pSVar47 = local_1a40;
          _local_1c28 = pSVar29;
          local_1668 = local_1968;
          fVar65 = local_193c;
          if (local_1a34 <= local_193c) {
            fVar65 = local_1a34;
          }
          fVar52 = local_1a38;
          if (local_1a38 <= local_1940) {
            fVar52 = local_1940;
          }
          local_1c18._0_4_ = local_1944;
          local_1658 = local_1958;
          local_1650 = local_1950;
          local_1638 = local_1a40;
          uStack_16c0 = (SetMB *)pHStack_19c0;
          local_16c8 = (undefined1  [8])local_19c8;
          local_1c28 = (undefined1  [4])local_1948;
          uStack_16b0 = (SetMB **)uStack_19b0;
          local_16b8 = (undefined1  [8])local_19b8;
          uStack_16a0 = (SetMB *)uStack_19a0;
          local_16a8 = (undefined1  [8])local_19a8;
          uStack_1690 = (SetMB **)uStack_1990;
          local_1698 = (undefined1  [8])local_1998;
          uStack_1680 = (SetMB *)uStack_1980;
          local_1688 = (undefined1  [8])local_1988;
          local_1678._8_8_ = uStack_1970;
          local_1678._0_8_ = local_1978;
          local_1648 = (SetMB *)CONCAT44(local_1944,local_1948);
          local_1640 = CONCAT44(fVar65,fVar52);
          local_1848 = 0;
          local_1840 = 0;
          local_1838 = (SetMB *)0x0;
          local_1830 = (SetMB *)0x0;
          local_1828 = (SetMB *)0x3f80000000000000;
          local_1820 = 0x3f800000;
          _local_1c08 = pSVar29;
          local_18a8 = (SetMB *)local_1bc8;
          ppSStack_18a0 = uStack_1bc0;
          local_1898 = (SetMB *)local_1bd8;
          pSStack_1890 = uStack_1bd0;
          local_1888 = (SetMB *)local_1bc8;
          ppSStack_1880 = uStack_1bc0;
          local_1878 = (SetMB *)local_1bd8;
          pSStack_1870 = uStack_1bd0;
          local_1868 = (SetMB *)local_1bc8;
          ppSStack_1860 = uStack_1bc0;
          local_1858 = (SetMB *)local_1bd8;
          pSStack_1850 = uStack_1bd0;
          pSStack_1b40 = (SetMB *)uStack_1970;
          local_1b48 = (undefined1  [8])local_1978;
          auVar117 = _local_1b48;
          ppSStack_1b50 = (SetMB **)uStack_1980;
          _local_1b58 = local_1988;
          auVar123 = _local_1b58;
          pSStack_1b60 = (SetMB *)uStack_1990;
          _local_1b68 = local_1998;
          auVar101 = _local_1b68;
          ppSStack_1b70 = (SetMB **)uStack_19a0;
          local_1b78 = (undefined1  [8])local_19a8;
          auVar109 = _local_1b78;
          uStack_1b80 = uStack_19b0;
          local_1b88 = (undefined1  [8])local_19b8;
          auVar114 = _local_1b88;
          uStack_1bf0 = (SetMB *)pHStack_19c0;
          _local_1bf8 = local_19c8;
          auVar111 = _local_1bf8;
          local_1a18 = pSVar35;
          local_1a10 = (SetMB *)&local_1a30;
          local_1a08 = puVar28;
          pSStack_1660 = local_1960;
          if (uVar48 < 0xc00) {
            local_1a28 = pSVar30;
            local_1a20 = uVar39;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#3}::operator()
                      ((_lambda_embree__range<unsigned_long>const___3_ *)local_1c38._0_8_,
                       (range *)&local_1a18);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_3_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((embree *)local_1c38._0_8_,uVar48 + 0x7f >> 7,(ulong)pSVar30,uVar39,0x80,
                       (PrimInfoMBT_conflict *)&local_18a8,
                       (_lambda_embree__range<unsigned_long>_const___3_ *)&local_1a18,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          pSVar36 = (SetMB *)(&local_d68)[uVar25 * 0x16];
          lVar38 = (long)local_18d0 - (long)local_18d8;
          pSVar30 = pSVar36 + lVar38;
          local_18d8 = pSVar36;
          local_18d0 = pSVar30;
          if (lVar38 != (&uStack_d60)[uVar25 * 0x16] - (long)pSVar36) {
            pSStack_1b40 = (SetMB *)uVar32;
            local_1b48 = (undefined1  [8])pSVar42;
            _local_1b58 = auVar117;
            _local_1b68 = auVar123;
            _local_1b78 = auVar101;
            _local_1b88 = auVar109;
            _local_1bf8 = auVar114;
            _auStack_1c04 = auVar111._4_12_;
            local_18a8 = (SetMB *)&local_1a30;
            pSVar30 = (SetMB *)parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_4_>
                                         (*(PrimRefMB **)(pSVar35 + 0x20),(ulong)pSVar36,
                                          (&uStack_d60)[uVar25 * 0x16],0x400,
                                          (_lambda_embree__PrimRefMB_const___4_ *)&local_18a8);
          }
          uStack_1600 = pSStack_1920;
          local_1608 = (undefined1  [8])local_1928;
          local_1c38._8_8_ = pSStack_18e0;
          local_1c38._0_8_ = local_18e8;
          auVar118 = (undefined1  [4])local_18b0._4_4_;
          if (local_1a2c <= local_18b0._4_4_) {
            auVar118 = (undefined1  [4])local_1a2c;
          }
          local_1c48._0_4_ = local_18b8._4_4_;
          uStack_15f0 = ppSStack_1910;
          local_15f8 = (undefined1  [8])local_1918;
          local_1c08 = (undefined1  [4])(undefined4)local_18b8;
          fVar76 = local_1a30;
          if (local_1a30 <= (float)local_18b0) {
            fVar76 = (float)local_18b0;
          }
          uStack_1610 = ppSStack_1930;
          local_1618 = (undefined1  [8])local_1938;
          uStack_15e0 = pSStack_1900;
          local_15e8 = (undefined1  [8])local_1908;
          uStack_15d0 = ppSStack_18f0;
          local_15d8 = (undefined1  [8])local_18f8;
          local_1bf8 = (undefined1  [4])(undefined4)local_18b8;
          local_15c8 = local_18e8;
          pSStack_15c0 = pSStack_18e0;
          local_15a8 = local_18c8;
          local_15a0 = local_18c0;
          local_1598 = local_18b8;
          local_1a71 = (bool)(local_1a71 | pSVar29 != (SetMB *)0x0);
          local_1590 = CONCAT44(auVar118,fVar76);
          local_15b8 = local_18d8;
          uStack_15b0 = pSVar30;
          uVar32 = local_1590;
          local_1588 = pSVar35;
        }
        else {
          local_1448 = (SetMB *)CONCAT44(uStack_1514,local_1518);
          uStack_1440 = (SetMB *)CONCAT44(uStack_150c,uStack_1510);
          local_1460 = CONCAT44(local_152c,local_1530);
          pSVar42 = local_1658;
          pSVar51 = local_1650;
          uVar32 = local_1590;
joined_r0x001196cd:
          local_1468 = (SetMB *)CONCAT44(local_1534,fVar65);
          local_1658 = pSVar42;
          local_1650 = pSVar51;
          local_1590 = uVar32;
          local_1458 = local_1528;
          local_1438 = local_1508;
          uStack_1430 = ppSStack_1500;
          if (local_152c == 0) {
            pSVar30 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            pSVar35 = (SetMB *)(&uStack_d60)[uVar25 * 0x16];
            local_18b8 = (SetMB *)0x3f80000000000000;
            local_1828 = (SetMB *)0x3f80000000000000;
            local_1928 = (SetMB *)local_1bd8;
            pSStack_1920 = uStack_1bd0;
            lVar38 = (long)(1 << ((byte)local_1534 & 0x1f));
            local_1908 = (SetMB *)local_1bd8;
            pSStack_1900 = uStack_1bd0;
            local_18e8 = (SetMB *)local_1bd8;
            pSStack_18e0 = uStack_1bd0;
            local_1898 = (SetMB *)local_1bd8;
            pSStack_1890 = uStack_1bd0;
            local_1878 = (SetMB *)local_1bd8;
            pSStack_1870 = uStack_1bd0;
            local_1858 = (SetMB *)local_1bd8;
            pSStack_1850 = uStack_1bd0;
            local_1938 = (SetMB *)local_1bc8;
            ppSStack_1930 = uStack_1bc0;
            local_1918 = (SetMB *)local_1bc8;
            ppSStack_1910 = uStack_1bc0;
            local_18f8 = (SetMB *)local_1bc8;
            ppSStack_18f0 = uStack_1bc0;
            local_18a8 = (SetMB *)local_1bc8;
            ppSStack_18a0 = uStack_1bc0;
            local_1888 = (SetMB *)local_1bc8;
            ppSStack_1880 = uStack_1bc0;
            local_1868 = (SetMB *)local_1bc8;
            ppSStack_1860 = uStack_1bc0;
            local_13d8 = (SetMB *)(&mm_lookupmask_ps)[lVar38 * 2];
            uStack_13d0 = *(long *)(embree::os_free + lVar38 * 0x10);
            local_19c8 = (SetMB *)&local_1468;
            local_18d8 = (SetMB *)0x0;
            local_18d0 = (SetMB *)0x0;
            local_18c8 = (SetMB *)0x0;
            local_18c0 = (SetMB *)0x0;
            local_18b0 = 0x3f800000;
            local_1848 = 0;
            local_1840 = 0;
            local_1838 = (SetMB *)0x0;
            local_1830 = (SetMB *)0x0;
            local_1820 = 0x3f800000;
            local_14f8 = (SetMB *)CONCAT44((float)local_1460,(float)local_1460);
            uStack_14f0 = CONCAT44((float)local_1460,(float)local_1460);
            local_19b8 = (SetMB *)&local_13d8;
            local_1c48._0_8_ = pSVar30;
            pHStack_19c0 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_14f8;
            pSStack_1660 = (SetMB *)parallel_partitioning<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>
                                              (*(PrimRefMB **)(local_d38[uVar25 * 0x16] + 0x20),
                                               (ulong)pSVar30,(ulong)pSVar35,(EmptyTy *)&local_19f8,
                                               (PrimInfoMBT_conflict *)&local_1938,
                                               (PrimInfoMBT_conflict *)&local_18a8,
                                               (_lambda_embree__PrimRefMB_const___1_ *)&local_19c8,
                                               (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimRefMB_const___2_
                                                *)&local_1a28,
                                               (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>_const___3_
                                                *)&local_1a18,0x80,0xc00);
            pSVar47 = local_d38[uVar25 * 0x16];
            auVar111._8_8_ = ppSStack_1930;
            auVar111._0_8_ = local_1938;
            auVar114._8_8_ = pSStack_1920;
            auVar114._0_8_ = local_1928;
            auVar109._8_8_ = ppSStack_1910;
            auVar109._0_8_ = local_1918;
            local_1648 = local_18b8;
            pSVar29 = local_1648;
            auVar101._8_8_ = pSStack_1900;
            auVar101._0_8_ = local_1908;
            auVar123._8_8_ = ppSStack_18f0;
            auVar123._0_8_ = local_18f8;
            auVar117._8_8_ = pSStack_18e0;
            auVar117._0_8_ = local_18e8;
            fVar65 = *(float *)((long)local_d38 + uVar25 * 0xb0 + -4);
            local_1658 = local_18c8;
            fVar76 = local_d40[uVar25 * 0x2c];
            local_1650 = local_18c0;
            local_1640._4_4_ = (float)((ulong)local_18b0 >> 0x20);
            if (fVar65 <= local_1640._4_4_) {
              local_1640._4_4_ = fVar65;
            }
            local_1640._0_4_ = (float)local_18b0;
            fVar52 = fVar76;
            if (fVar76 <= (float)local_1640) {
              fVar52 = (float)local_1640;
            }
            local_1640 = CONCAT44(local_1640._4_4_,fVar52);
            uStack_1610 = ppSStack_18a0;
            local_1618 = (undefined1  [8])local_18a8;
            uStack_1600 = pSStack_1890;
            local_1608 = (undefined1  [8])local_1898;
            local_1598 = local_1828;
            pSVar36 = local_1598;
            local_1c38._8_8_ = pSStack_1850;
            local_1c38._0_8_ = local_1858;
            uStack_15f0 = ppSStack_1880;
            local_15f8 = (undefined1  [8])local_1888;
            uStack_15e0 = pSStack_1870;
            local_15e8 = (undefined1  [8])local_1878;
            uStack_15d0 = ppSStack_1860;
            local_15d8 = (undefined1  [8])local_1868;
            local_15c8 = local_1858;
            pSStack_15c0 = pSStack_1850;
            local_1590._4_4_ = (float)((ulong)local_1820 >> 0x20);
            if (fVar65 <= local_1590._4_4_) {
              local_1590._4_4_ = fVar65;
            }
            local_15a8 = local_1838;
            local_1590._0_4_ = (float)local_1820;
            if (fVar76 <= (float)local_1590) {
              fVar76 = (float)local_1590;
            }
            local_15a0 = local_1830;
            local_1648._0_4_ = SUB84(local_18b8,0);
            local_1c28 = (undefined1  [4])(undefined4)local_1648;
            local_1648._4_4_ = (undefined4)((ulong)local_18b8 >> 0x20);
            local_1590 = CONCAT44(local_1590._4_4_,fVar76);
            local_1c18._0_4_ = local_1648._4_4_;
            local_1598._0_4_ = SUB84(local_1828,0);
            local_1c08 = (undefined1  [4])(undefined4)local_1598;
            _local_1c08 = CONCAT124(auVar23,local_1c08);
            local_1598._4_4_ = (undefined4)((ulong)local_1828 >> 0x20);
            local_1c48._0_4_ = local_1598._4_4_;
            pSVar42 = local_18c8;
            pSVar51 = local_18c0;
            fVar65 = local_1640._4_4_;
            _local_16c8 = auVar111;
            _local_16b8 = auVar114;
            _local_16a8 = auVar109;
            _local_1698 = auVar101;
            _local_1688 = auVar123;
            local_1678 = auVar117;
            local_1668 = pSVar30;
            local_1648 = pSVar29;
            local_1638 = pSVar47;
            local_15b8 = pSStack_1660;
            uStack_15b0 = pSVar35;
            local_1598 = pSVar36;
            uVar32 = local_1590;
            local_1588 = pSVar47;
            auVar118 = (undefined1  [4])local_1590._4_4_;
          }
          else {
            if (local_152c == 2) goto LAB_00119cc9;
            if (local_152c != 1) {
              if (local_152c != 3) {
                local_1c38._8_8_ = pSStack_15c0;
                local_1c38._0_8_ = local_15c8;
                local_1c28 = (undefined1  [4])(undefined4)local_1648;
                local_1648._4_4_ = (undefined4)((ulong)local_1648 >> 0x20);
                local_1c08 = (undefined1  [4])(undefined4)local_1598;
                _local_1c08 = CONCAT124(auVar23,local_1c08);
                local_1598._4_4_ = (undefined4)((ulong)local_1598 >> 0x20);
                local_1c18._0_4_ = local_1648._4_4_;
                local_1c48._0_4_ = local_1598._4_4_;
                local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
                local_1640._4_4_ = (float)((ulong)local_1640 >> 0x20);
                local_1590._0_4_ = (float)uVar32;
                local_1590._4_4_ = (float)((ulong)uVar32 >> 0x20);
                pSVar47 = local_1638;
                auVar101 = _local_1698;
                auVar109 = _local_16a8;
                auVar114 = _local_16b8;
                auVar111 = _local_16c8;
                auVar117 = local_1678;
                auVar123 = _local_1688;
                fVar76 = (float)local_1590;
                fVar52 = (float)local_1640;
                fVar65 = local_1640._4_4_;
                auVar118 = (undefined1  [4])local_1590._4_4_;
                goto LAB_00117c70;
              }
              puVar33 = (undefined8 *)
                        (*(long *)(local_d38[uVar25 * 0x16] + 0x20) +
                        (&uStack_d60)[uVar25 * 0x16] * 0x50);
              puVar49 = (undefined8 *)
                        (*(long *)(local_d38[uVar25 * 0x16] + 0x20) +
                        (&local_d68)[uVar25 * 0x16] * 0x50);
              if (puVar33 != puVar49) {
                lVar38 = (&uStack_d60)[uVar25 * 0x16] * 0x50 + (&local_d68)[uVar25 * 0x16] * -0x50;
                uVar39 = (lVar38 >> 4) * -0x3333333333333333;
                if (uVar39 == 0) {
                  std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                            (puVar49,puVar33,0xfffffffffffffffe);
                }
                else {
                  lVar40 = 0x3f;
                  if (uVar39 != 0) {
                    for (; uVar39 >> lVar40 == 0; lVar40 = lVar40 + -1) {
                    }
                  }
                  std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                            (puVar49,puVar33,(long)(int)lVar40 * 2);
                  if (0x500 < lVar38) {
                    puVar44 = puVar49 + 0xa0;
                    std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                              (puVar49,puVar44);
                    for (; puVar33 != puVar44; puVar44 = puVar44 + 10) {
                      uVar58 = *(undefined4 *)((long)puVar44 + 0x1c);
                      uVar86 = *(undefined4 *)((long)puVar44 + 0xc);
                      uVar32 = puVar44[4];
                      uVar7 = puVar44[5];
                      uVar8 = puVar44[6];
                      uVar9 = puVar44[7];
                      uVar10 = puVar44[2];
                      uVar11 = puVar44[3];
                      uVar90 = *(undefined4 *)(puVar44 + 8);
                      uVar92 = *(undefined4 *)((long)puVar44 + 0x44);
                      uVar12 = *puVar44;
                      uVar13 = puVar44[1];
                      uVar39 = CONCAT44(*(undefined4 *)((long)puVar44 + -0x34),
                                        *(undefined4 *)((long)puVar44 + -0x44));
                      puVar49 = puVar44;
                      while (CONCAT44(uVar58,uVar86) < uVar39) {
                        *puVar49 = puVar49[-10];
                        puVar49[1] = puVar49[-9];
                        *(undefined4 *)(puVar49 + 8) = *(undefined4 *)(puVar49 + -2);
                        puVar49[2] = puVar49[-8];
                        puVar49[3] = puVar49[-7];
                        *(undefined4 *)((long)puVar49 + 0x44) =
                             *(undefined4 *)((long)puVar49 + -0xc);
                        puVar49[4] = puVar49[-6];
                        puVar49[5] = puVar49[-5];
                        *(undefined4 *)(puVar49 + 6) = *(undefined4 *)(puVar49 + -4);
                        *(undefined4 *)((long)puVar49 + 0x34) =
                             *(undefined4 *)((long)puVar49 + -0x1c);
                        *(undefined4 *)(puVar49 + 7) = *(undefined4 *)(puVar49 + -3);
                        *(undefined4 *)((long)puVar49 + 0x3c) =
                             *(undefined4 *)((long)puVar49 + -0x14);
                        uVar39 = CONCAT44(*(undefined4 *)((long)puVar49 + -0x84),
                                          *(undefined4 *)((long)puVar49 + -0x94));
                        puVar49 = puVar49 + -10;
                      }
                      *puVar49 = uVar12;
                      puVar49[1] = uVar13;
                      puVar49[2] = uVar10;
                      puVar49[3] = uVar11;
                      puVar49[4] = uVar32;
                      puVar49[5] = uVar7;
                      puVar49[6] = uVar8;
                      puVar49[7] = uVar9;
                      *(undefined4 *)(puVar49 + 8) = uVar90;
                      *(undefined4 *)((long)puVar49 + 0x44) = uVar92;
                    }
                    goto LAB_0011c933;
                  }
                }
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33);
              }
LAB_0011c933:
              splitByGeometry(pSVar30,(SetMB *)local_16c8,(SetMB *)local_1618);
              local_1c38._8_8_ = pSStack_15c0;
              local_1c38._0_8_ = local_15c8;
              local_1c28 = (undefined1  [4])(undefined4)local_1648;
              local_1c08 = (undefined1  [4])(undefined4)local_1598;
              _local_1c08 = CONCAT124(auVar23,local_1c08);
              local_1c58 = (SetMB *)local_16d8;
              local_1c18._0_4_ = local_1648._4_4_;
              local_1c48._0_4_ = local_1598._4_4_;
              local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
              pHVar27 = local_1628;
              pSVar42 = local_1658;
              pSVar47 = local_1638;
              pSVar51 = local_1650;
              auVar101 = _local_1698;
              auVar109 = _local_16a8;
              auVar114 = _local_16b8;
              auVar111 = _local_16c8;
              auVar117 = local_1678;
              auVar123 = _local_1688;
              fVar76 = (float)local_1590;
              fVar52 = (float)local_1640;
              fVar65 = local_1640._4_4_;
              uVar32 = local_1590;
              auVar118 = (undefined1  [4])local_1590._4_4_;
              goto LAB_00117c70;
            }
            pSVar30 = (SetMB *)(&uStack_d60)[uVar25 * 0x16];
            pSVar35 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            puVar33 = (undefined8 *)
                      (*(long *)(local_d38[uVar25 * 0x16] + 0x20) + (long)pSVar30 * 0x50);
            puVar49 = (undefined8 *)
                      (*(long *)(local_d38[uVar25 * 0x16] + 0x20) + (long)pSVar35 * 0x50);
            if (puVar33 != puVar49) {
              lVar38 = (long)pSVar30 * 0x50 + (long)pSVar35 * -0x50;
              uVar39 = (lVar38 >> 4) * -0x3333333333333333;
              if (uVar39 == 0) {
                std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33,0xfffffffffffffffe);
LAB_0011d01c:
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33);
              }
              else {
                lVar40 = 0x3f;
                if (uVar39 != 0) {
                  for (; uVar39 >> lVar40 == 0; lVar40 = lVar40 + -1) {
                  }
                }
                std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33,(long)(int)lVar40 * 2);
                if (lVar38 < 0x501) goto LAB_0011d01c;
                puVar44 = puVar49 + 0xa0;
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar44);
                for (; puVar33 != puVar44; puVar44 = puVar44 + 10) {
                  uVar58 = *(undefined4 *)((long)puVar44 + 0x1c);
                  uVar86 = *(undefined4 *)((long)puVar44 + 0xc);
                  uVar32 = puVar44[4];
                  uVar7 = puVar44[5];
                  uVar8 = puVar44[6];
                  uVar9 = puVar44[7];
                  uVar10 = puVar44[2];
                  uVar11 = puVar44[3];
                  uVar90 = *(undefined4 *)(puVar44 + 8);
                  uVar92 = *(undefined4 *)((long)puVar44 + 0x44);
                  uVar12 = *puVar44;
                  uVar13 = puVar44[1];
                  uVar39 = CONCAT44(*(undefined4 *)((long)puVar44 + -0x34),
                                    *(undefined4 *)((long)puVar44 + -0x44));
                  puVar49 = puVar44;
                  while (CONCAT44(uVar58,uVar86) < uVar39) {
                    *puVar49 = puVar49[-10];
                    puVar49[1] = puVar49[-9];
                    *(undefined4 *)(puVar49 + 8) = *(undefined4 *)(puVar49 + -2);
                    puVar49[2] = puVar49[-8];
                    puVar49[3] = puVar49[-7];
                    *(undefined4 *)((long)puVar49 + 0x44) = *(undefined4 *)((long)puVar49 + -0xc);
                    puVar49[4] = puVar49[-6];
                    puVar49[5] = puVar49[-5];
                    *(undefined4 *)(puVar49 + 6) = *(undefined4 *)(puVar49 + -4);
                    *(undefined4 *)((long)puVar49 + 0x34) = *(undefined4 *)((long)puVar49 + -0x1c);
                    *(undefined4 *)(puVar49 + 7) = *(undefined4 *)(puVar49 + -3);
                    *(undefined4 *)((long)puVar49 + 0x3c) = *(undefined4 *)((long)puVar49 + -0x14);
                    uVar39 = CONCAT44(*(undefined4 *)((long)puVar49 + -0x84),
                                      *(undefined4 *)((long)puVar49 + -0x94));
                    puVar49 = puVar49 + -10;
                  }
                  *puVar49 = uVar12;
                  puVar49[1] = uVar13;
                  puVar49[2] = uVar10;
                  puVar49[3] = uVar11;
                  puVar49[4] = uVar32;
                  puVar49[5] = uVar7;
                  puVar49[6] = uVar8;
                  puVar49[7] = uVar9;
                  *(undefined4 *)(puVar49 + 8) = uVar90;
                  *(undefined4 *)((long)puVar49 + 0x44) = uVar92;
                }
              }
              pSVar30 = (SetMB *)(&uStack_d60)[uVar25 * 0x16];
              pSVar35 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            }
            pSVar47 = local_d38[uVar25 * 0x16];
            pSStack_1660 = (SetMB *)((ulong)(pSVar35 + 1 + (long)pSVar30) >> 1);
            auVar111 = _local_1bc8;
            auVar114 = _local_1bd8;
            auVar109 = _local_1bc8;
            auVar101 = _local_1bd8;
            auVar123 = _local_1bc8;
            auVar117 = _local_1bd8;
            fVar87 = _LC3;
            if (pSVar35 < pSStack_1660) {
              pSVar51 = (SetMB *)0x0;
              pauVar34 = (undefined1 (*) [16])((long)pSVar35 * 0x50 + *(ulong *)(pSVar47 + 0x20));
              pSVar42 = (SetMB *)0x0;
              auVar14._12_4_ = 0;
              auVar14._0_12_ = _auStack_1c24;
              _local_1c28 = auVar14 << 0x20;
              local_1c18._0_4_ = _LC3;
              fVar52 = 0.0;
              do {
                auVar111 = minps(auVar111,*pauVar34);
                auVar114 = maxps(auVar114,pauVar34[1]);
                auVar109 = minps(auVar109,pauVar34[2]);
                auVar101 = maxps(auVar101,pauVar34[3]);
                pSVar42 = pSVar42 + *(uint *)(pauVar34[2] + 0xc);
                auVar83._0_4_ =
                     *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
                     *(float *)pauVar34[2] * _LC12 + *(float *)*pauVar34 * _LC12;
                auVar83._4_4_ =
                     *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
                     *(float *)(pauVar34[2] + 4) * _LC12 + *(float *)(*pauVar34 + 4) * _LC12;
                auVar83._8_4_ =
                     *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
                     *(float *)(pauVar34[2] + 8) * _LC12 + *(float *)(*pauVar34 + 8) * _LC12;
                auVar83._12_4_ =
                     *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
                     *(float *)(pauVar34[2] + 0xc) * _LC12 + *(float *)(*pauVar34 + 0xc) * _LC12;
                fVar76 = *(float *)(pauVar34[4] + 4);
                fVar65 = fVar76;
                if (fVar76 <= fVar52) {
                  fVar65 = fVar52;
                }
                auVar123 = minps(auVar123,auVar83);
                auVar117 = maxps(auVar117,auVar83);
                fVar52 = *(float *)pauVar34[4];
                if (fVar52 <= fVar87) {
                  fVar87 = fVar52;
                }
                if (pSVar51 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
                  local_1c18._0_4_ = fVar76;
                  local_1c28 = (undefined1  [4])fVar52;
                  pSVar51 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
                }
                pauVar34 = pauVar34 + 5;
                fVar52 = fVar65;
              } while ((undefined1 (*) [16])(*(ulong *)(pSVar47 + 0x20) + (long)pSStack_1660 * 0x50)
                       != pauVar34);
            }
            else {
              pSVar51 = (SetMB *)0x0;
              pSVar42 = (SetMB *)0x0;
              auVar19._12_4_ = 0;
              auVar19._0_12_ = _auStack_1c24;
              _local_1c28 = auVar19 << 0x20;
              fVar65 = 0.0;
              local_1c18._0_4_ = _LC3;
            }
            _local_15d8 = _local_1bc8;
            _local_15e8 = _local_1bd8;
            _local_15f8 = _local_1bc8;
            _local_1608 = _local_1bd8;
            _local_1618 = _local_1bc8;
            fVar59 = _LC3;
            if (pSStack_1660 < pSVar30) {
              local_1c48._0_4_ = _LC3;
              local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
              local_15a0 = (SetMB *)0x0;
              pauVar34 = (undefined1 (*) [16])
                         (*(ulong *)(pSVar47 + 0x20) + (long)pSStack_1660 * 0x50);
              auVar15._12_4_ = 0;
              auVar15._0_12_ = auVar23;
              _local_1c08 = auVar15 << 0x20;
              local_15a8 = (SetMB *)0x0;
              auVar16._12_4_ = 0;
              auVar16._0_12_ = _auStack_1bf4;
              _local_1bf8 = auVar16 << 0x20;
              local_1b88._4_4_ = _LC12;
              local_1b88._0_4_ = _LC12;
              uStack_1b80._0_4_ = _LC12;
              uStack_1b80._4_4_ = _LC12;
              local_1b68 = (undefined1  [4])fVar65;
              local_1c38 = _local_1bd8;
              do {
                _local_1618 = minps(_local_1618,*pauVar34);
                _local_1608 = maxps(_local_1608,pauVar34[1]);
                _local_15f8 = minps(_local_15f8,pauVar34[2]);
                _local_15e8 = maxps(_local_15e8,pauVar34[3]);
                local_15a8 = local_15a8 + *(uint *)(pauVar34[2] + 0xc);
                auVar75._0_4_ =
                     *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
                     *(float *)pauVar34[2] * _LC12 + _LC12 * *(float *)*pauVar34;
                auVar75._4_4_ =
                     *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
                     *(float *)(pauVar34[2] + 4) * _LC12 + _LC12 * *(float *)(*pauVar34 + 4);
                auVar75._8_4_ =
                     *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
                     *(float *)(pauVar34[2] + 8) * _LC12 + _LC12 * *(float *)(*pauVar34 + 8);
                auVar75._12_4_ =
                     *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
                     *(float *)(pauVar34[2] + 0xc) * _LC12 + _LC12 * *(float *)(*pauVar34 + 0xc);
                fVar52 = *(float *)(pauVar34[4] + 4);
                auVar118 = (undefined1  [4])fVar52;
                if (fVar52 <= (float)local_1bf8) {
                  auVar118 = local_1bf8;
                }
                _local_15d8 = minps(_local_15d8,auVar75);
                local_1c38 = maxps(local_1c38,auVar75);
                fVar76 = *(float *)pauVar34[4];
                local_1bf8 = auVar118;
                if (fVar76 <= fVar59) {
                  fVar59 = fVar76;
                }
                if (local_15a0 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
                  local_1c48._0_4_ = fVar52;
                  local_1c08 = (undefined1  [4])fVar76;
                  local_15a0 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
                }
                pauVar34 = pauVar34 + 5;
                _local_1b78 = auVar111;
              } while ((undefined1 (*) [16])(*(ulong *)(pSVar47 + 0x20) + (long)pSVar30 * 0x50) !=
                       pauVar34);
            }
            else {
              local_15a0 = (SetMB *)0x0;
              local_15a8 = (SetMB *)0x0;
              auVar17._12_4_ = 0;
              auVar17._0_12_ = auVar23;
              _local_1c08 = auVar17 << 0x20;
              local_1c38 = _local_1bd8;
              auVar18._12_4_ = 0;
              auVar18._0_12_ = _auStack_1bf4;
              _local_1bf8 = auVar18 << 0x20;
              local_1c48._0_4_ = _LC3;
              local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
            }
            fVar76 = local_d40[uVar25 * 0x2c];
            fVar104 = *(float *)((long)local_d38 + uVar25 * 0xb0 + -4);
            local_1648 = (SetMB *)CONCAT44(local_1c18._0_4_,local_1c28);
            if (fVar104 <= fVar65) {
              fVar65 = fVar104;
            }
            fVar52 = fVar76;
            if (fVar76 <= fVar87) {
              fVar52 = fVar87;
            }
            local_15c8 = (SetMB *)local_1c38._0_8_;
            pSStack_15c0 = (SetMB *)local_1c38._8_8_;
            local_1640 = CONCAT44(fVar65,fVar52);
            local_1598 = (SetMB *)CONCAT44(local_1c48._0_4_,local_1c08);
            auVar118 = local_1bf8;
            if (fVar104 <= (float)local_1bf8) {
              auVar118 = (undefined1  [4])fVar104;
            }
            if (fVar76 <= fVar59) {
              fVar76 = fVar59;
            }
            local_1590 = CONCAT44(auVar118,fVar76);
            _local_16c8 = auVar111;
            _local_16b8 = auVar114;
            _local_16a8 = auVar109;
            _local_1698 = auVar101;
            _local_1688 = auVar123;
            local_1678 = auVar117;
            local_1668 = pSVar35;
            local_1658 = pSVar42;
            local_1650 = pSVar51;
            local_1638 = pSVar47;
            local_15b8 = pSStack_1660;
            uStack_15b0 = pSVar30;
            uVar32 = local_1590;
            local_1588 = pSVar47;
          }
        }
LAB_00117c70:
        local_1590 = uVar32;
        lVar38 = local_50;
        pSVar29 = local_1588;
        pSVar35 = local_15a0;
        pSVar30 = local_15a8;
        auVar54 = _local_15d8;
        auVar97 = _local_15e8;
        auVar95 = _local_15f8;
        auVar93 = _local_1608;
        auVar91 = _local_1618;
        ppSVar37 = local_2d8[uVar25];
        if (*ppSVar37 == pSVar47) {
          ppSVar37[1] = ppSVar37[1] + 1;
          pSVar36 = pSVar47;
        }
        else {
          local_50 = local_50 + 1;
          (&local_250)[lVar38 * 2] = pSVar47;
          (&local_248)[lVar38 * 2] = 1;
          local_2d8[uVar25] = &local_250 + lVar38 * 2;
          pSVar36 = *ppSVar37;
        }
        lVar38 = local_50;
        if (local_1588 == pSVar36) {
          local_2d8[local_258] = ppSVar37;
          pSVar36 = ppSVar37[1];
        }
        else {
          local_50 = local_50 + 1;
          (&local_250)[lVar38 * 2] = local_1588;
          (&local_248)[lVar38 * 2] = 1;
          local_2d8[local_258] = &local_250 + lVar38 * 2;
          pSVar36 = ppSVar37[1] + -1;
        }
        ppSVar37[1] = pSVar36;
        if ((pSVar36 == (SetMB *)0x0) && (pSVar36 = *ppSVar37, pSVar36 != (SetMB *)0x0)) {
          pvVar3 = *(void **)(pSVar36 + 0x20);
          lVar38 = *(long *)(pSVar36 + 0x18);
          if (pvVar3 != (void *)0x0) {
            local_1b88 = (undefined1  [8])lVar38;
            local_1af8._0_16_ = auVar117;
            if ((ulong)(lVar38 * 0x50) < 0x1c00000) {
              _local_1bf8 = pSVar36;
              embree::alignedFree(pvVar3);
            }
            else {
              _local_1bf8 = pSVar36;
              embree::os_free(pvVar3,lVar38 * 0x50,(bool)pSVar36[8]);
            }
          }
          if (lVar38 != 0) {
            local_1af8._0_8_ = pSVar42;
            _local_1bf8 = pSVar36;
            (**(code **)**(undefined8 **)pSVar36)(*(undefined8 **)pSVar36,lVar38 * -0x50,1);
          }
          local_1af8._0_4_ = fVar65;
          local_1b78._0_4_ = fVar76;
          local_1b88._0_4_ = fVar52;
          local_1bf8 = auVar118;
          operator_delete(pSVar36,0x28);
          _local_1b68 = auVar111;
          _local_1b58 = auVar114;
          _local_1b48 = auVar109;
        }
        (&local_dd8)[uVar25 * 0x16] = local_1c58;
        uVar39 = local_258;
        (&local_d68)[uVar25 * 0x16] = local_1668;
        (&uStack_d60)[uVar25 * 0x16] = pSStack_1660;
        *(undefined1 (*) [16])(&local_dc8 + uVar25 * 0x16) = auVar111;
        *(undefined1 (*) [4])(&local_d48 + uVar25 * 0x16) = local_1c28;
        *(undefined1 (*) [16])(&local_db8 + uVar25 * 0x16) = auVar114;
        *(undefined1 (*) [16])(&local_da8 + uVar25 * 0x16) = auVar109;
        *(undefined1 (*) [16])(&local_d98 + uVar25 * 0x16) = auVar101;
        *(undefined1 (*) [16])(&local_d88 + uVar25 * 0x16) = auVar123;
        *(undefined1 (*) [16])(local_d78 + uVar25 * 0x16) = auVar117;
        local_d58[uVar25 * 0x16] = pSVar42;
        local_d58[uVar25 * 0x16 + 1] = pSVar51;
        local_d38[uVar25 * 0x16] = pSVar47;
        *(undefined4 *)((long)&local_d48 + lVar45 + 4) = local_1c18._0_4_;
        local_d40[uVar25 * 0x2c] = fVar52;
        *(float *)((long)local_d38 + lVar45 + -4) = fVar65;
        lVar45 = local_258 * 0xb0;
        (&local_dd8)[local_258 * 0x16] = (SetMB *)pHVar27;
        *(undefined1 (*) [16])(&local_da8 + uVar39 * 0x16) = auVar95;
        *(undefined1 (*) [16])(&local_d98 + uVar39 * 0x16) = auVar97;
        local_d78[uVar39 * 0x16] = (SetMB *)local_1c38._0_8_;
        local_d78[uVar39 * 0x16 + 1] = (SetMB *)local_1c38._8_8_;
        *(undefined1 (*) [16])(&local_d88 + uVar39 * 0x16) = auVar54;
        *(undefined1 (*) [16])(&local_dc8 + uVar39 * 0x16) = auVar91;
        *(undefined1 (*) [16])(&local_db8 + uVar39 * 0x16) = auVar93;
        *(undefined4 *)(&local_d68 + uVar39 * 0x16) = (undefined4)local_15b8;
        *(undefined4 *)((long)&local_d68 + lVar45 + 4) = local_15b8._4_4_;
        *(undefined4 *)(&uStack_d60 + uVar39 * 0x16) = (undefined4)uStack_15b0;
        *(undefined4 *)((long)&uStack_d60 + lVar45 + 4) = uStack_15b0._4_4_;
        local_d58[uVar39 * 0x16] = pSVar30;
        local_d58[uVar39 * 0x16 + 1] = pSVar35;
        local_d38[uVar39 * 0x16] = pSVar29;
        *(undefined1 (*) [4])(&local_d48 + uVar39 * 0x16) = local_1c08;
        *(undefined4 *)((long)&local_d48 + lVar45 + 4) = local_1c48._0_4_;
        local_d40[uVar39 * 0x2c] = fVar76;
        *(undefined1 (*) [4])((long)local_d38 + lVar45 + -4) = auVar118;
        local_258 = local_258 + 1;
      } while (local_258 < *param_2);
    }
    pHVar27 = local_1628;
    if (local_258 != 0) {
LAB_001182c0:
      uVar25 = 0;
      pfVar26 = local_d40;
      do {
        while (uVar32 = *(undefined8 *)pfVar26, (float)uVar32 <= *(float *)(param_3 + 0x13)) {
          uVar25 = uVar25 + 1;
          pfVar26 = pfVar26 + 0x2c;
          local_1a71 = (bool)(local_1a71 |
                             (float)((ulong)uVar32 >> 0x20) < *(float *)((long)param_3 + 0x9c));
          if (uVar25 == local_258) goto LAB_00118339;
        }
        uVar25 = uVar25 + 1;
        local_1a71 = true;
        pfVar26 = pfVar26 + 0x2c;
      } while (uVar25 != local_258);
    }
LAB_00118339:
    lVar45 = *(long *)local_1ba0;
    local_1628._0_4_ = (float)lVar45;
    uVar90 = (float)local_1628;
    local_1628._4_4_ = (float)((ulong)lVar45 >> 0x20);
    uVar92 = local_1628._4_4_;
    local_1628 = pHVar27;
    if (local_1a71) {
      local_16d8._0_4_ = 3.58732e-43;
      local_16d8._4_4_ = 0.0;
      if (param_7 != *(FastAllocator **)(lVar45 + 8)) {
        embree::MutexSys::lock();
        if (*(long *)(lVar45 + 8) != 0) {
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xa8) + *(long *)(lVar45 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(lVar45 + 0x98) + *(long *)(lVar45 + 0x58)) -
                               *(long *)(lVar45 + 0x50)) - *(long *)(lVar45 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xb0) + *(long *)(lVar45 + 0x70);
          UNLOCK();
        }
        *(undefined8 *)(lVar45 + 0x48) = 0;
        *(undefined8 *)(lVar45 + 0x58) = 0;
        *(undefined8 *)(lVar45 + 0x50) = 0;
        *(undefined8 *)(lVar45 + 0x68) = 0;
        *(undefined8 *)(lVar45 + 0x70) = 0;
        *(undefined8 *)(lVar45 + 0x60) = 0;
        if (param_7 == (FastAllocator *)0x0) {
          *(undefined8 *)(lVar45 + 0x88) = 0;
          uVar32 = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
        }
        else {
          uVar32 = *(undefined8 *)(param_7 + 0x10);
          *(undefined8 *)(lVar45 + 0x88) = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x60) = uVar32;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
          *(undefined8 *)(lVar45 + 0xa0) = 0;
          uVar32 = *(undefined8 *)(param_7 + 0x10);
        }
        *(undefined8 *)(lVar45 + 0xa0) = uVar32;
        LOCK();
        *(FastAllocator **)(lVar45 + 8) = param_7;
        UNLOCK();
        local_1628._0_4_ = (float)uVar90;
        local_1628._4_4_ = (float)uVar92;
        embree::MutexSys::lock();
        plVar1 = *(long **)(param_7 + 0x138);
        if (plVar1 == *(long **)(param_7 + 0x140)) {
          std::
          vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
          ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                    ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                      *)(param_7 + 0x130),plVar1,&local_1628);
        }
        else {
          *plVar1 = lVar45;
          *(long *)(param_7 + 0x138) = *(long *)(param_7 + 0x138) + 8;
        }
        embree::MutexSys::unlock();
        embree::MutexSys::unlock();
        pHVar27 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)
                  CONCAT44(local_1628._4_4_,(float)local_1628);
      }
      lVar45 = *(long *)(local_1ba0 + 0x10);
      *(long *)(local_1ba0 + 0x28) = *(long *)(local_1ba0 + 0x28) + 0x100;
      uVar39 = (ulong)(-(int)lVar45 & 0xf);
      uVar25 = lVar45 + 0x100 + uVar39;
      *(ulong *)(local_1ba0 + 0x10) = uVar25;
      local_1628 = pHVar27;
      if (*(ulong *)(local_1ba0 + 0x18) < uVar25) {
        uVar25 = *(ulong *)(local_1ba0 + 0x20);
        *(long *)(local_1ba0 + 0x10) = lVar45;
        if (uVar25 < 0x400) {
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_16d8,0x40,false);
        }
        else {
          local_1628._0_4_ = (float)uVar25;
          local_1628._4_4_ = (float)(uVar25 >> 0x20);
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,true);
          *(undefined8 **)(local_1ba0 + 8) = puVar33;
          *(long *)(local_1ba0 + 0x30) =
               (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
               *(long *)(local_1ba0 + 0x10);
          *(long *)(local_1ba0 + 0x10) = 0x100;
          *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
          if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0x100) {
            *(long *)(local_1ba0 + 0x10) = 0;
            local_1628._0_4_ = (float)*(long *)(local_1ba0 + 0x20);
            local_1628._4_4_ = (float)((ulong)*(long *)(local_1ba0 + 0x20) >> 0x20);
            puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,false);
            *(undefined8 **)(local_1ba0 + 8) = puVar33;
            *(long *)(local_1ba0 + 0x30) =
                 (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
                 *(long *)(local_1ba0 + 0x10);
            *(long *)(local_1ba0 + 0x10) = 0x100;
            *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
            if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0x100) {
              puVar33 = (undefined8 *)0x0;
              *(long *)(local_1ba0 + 0x10) = 0;
            }
          }
        }
      }
      else {
        *(ulong *)(local_1ba0 + 0x30) = *(long *)(local_1ba0 + 0x30) + uVar39;
        puVar33 = (undefined8 *)(*(long *)(local_1ba0 + 8) + -0x100 + uVar25);
      }
      *puVar33 = 8;
      puVar33[1] = 8;
      puVar33[2] = 8;
      puVar33[3] = 8;
      puVar33[0x1c] = local_1bc8;
      puVar33[0x1d] = uStack_1bc0;
      *(undefined4 *)(puVar33 + 0x1e) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0xf4) = local_1bd8._4_4_;
      *(float *)(puVar33 + 0x1f) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0xfc) = uStack_1bd0._4_4_;
      puVar33[0xc] = local_1bc8;
      puVar33[0xd] = uStack_1bc0;
      puVar33[8] = local_1bc8;
      puVar33[9] = uStack_1bc0;
      puVar33[4] = local_1bc8;
      puVar33[5] = uStack_1bc0;
      *(undefined4 *)(puVar33 + 0xe) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0x74) = local_1bd8._4_4_;
      *(float *)(puVar33 + 0xf) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0x7c) = uStack_1bd0._4_4_;
      *(undefined4 *)(puVar33 + 10) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0x54) = local_1bd8._4_4_;
      *(float *)(puVar33 + 0xb) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0x5c) = uStack_1bd0._4_4_;
      *(undefined4 *)(puVar33 + 6) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0x34) = local_1bd8._4_4_;
      *(float *)(puVar33 + 7) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0x3c) = uStack_1bd0._4_4_;
      *(undefined1 (*) [16])(puVar33 + 0x18) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x14) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x10) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x1a) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x16) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x12) = (undefined1  [16])0x0;
      uVar25 = (ulong)puVar33 | 6;
    }
    else {
      local_16d8._0_4_ = 3.13891e-43;
      local_16d8._4_4_ = 0.0;
      if (param_7 != *(FastAllocator **)(lVar45 + 8)) {
        embree::MutexSys::lock();
        if (*(long *)(lVar45 + 8) != 0) {
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xa8) + *(long *)(lVar45 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(lVar45 + 0x98) + *(long *)(lVar45 + 0x58)) -
                               *(long *)(lVar45 + 0x50)) - *(long *)(lVar45 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xb0) + *(long *)(lVar45 + 0x70);
          UNLOCK();
        }
        *(undefined8 *)(lVar45 + 0x48) = 0;
        *(undefined8 *)(lVar45 + 0x58) = 0;
        *(undefined8 *)(lVar45 + 0x50) = 0;
        *(undefined8 *)(lVar45 + 0x68) = 0;
        *(undefined8 *)(lVar45 + 0x70) = 0;
        *(undefined8 *)(lVar45 + 0x60) = 0;
        if (param_7 == (FastAllocator *)0x0) {
          *(undefined8 *)(lVar45 + 0x88) = 0;
          uVar32 = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
        }
        else {
          uVar32 = *(undefined8 *)(param_7 + 0x10);
          *(undefined8 *)(lVar45 + 0x88) = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x60) = uVar32;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
          *(undefined8 *)(lVar45 + 0xa0) = 0;
          uVar32 = *(undefined8 *)(param_7 + 0x10);
        }
        *(undefined8 *)(lVar45 + 0xa0) = uVar32;
        LOCK();
        *(FastAllocator **)(lVar45 + 8) = param_7;
        UNLOCK();
        local_1628._0_4_ = (float)uVar90;
        local_1628._4_4_ = (float)uVar92;
        embree::MutexSys::lock();
        plVar1 = *(long **)(param_7 + 0x138);
        if (plVar1 == *(long **)(param_7 + 0x140)) {
          std::
          vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
          ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                    ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                      *)(param_7 + 0x130),plVar1,&local_1628);
        }
        else {
          *plVar1 = lVar45;
          *(long *)(param_7 + 0x138) = *(long *)(param_7 + 0x138) + 8;
        }
        embree::MutexSys::unlock();
        embree::MutexSys::unlock();
        pHVar27 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)
                  CONCAT44(local_1628._4_4_,(float)local_1628);
      }
      lVar45 = *(long *)(local_1ba0 + 0x10);
      *(long *)(local_1ba0 + 0x28) = *(long *)(local_1ba0 + 0x28) + 0xe0;
      uVar39 = (ulong)(-(int)lVar45 & 0xf);
      uVar25 = lVar45 + 0xe0 + uVar39;
      *(ulong *)(local_1ba0 + 0x10) = uVar25;
      local_1628 = pHVar27;
      if (*(ulong *)(local_1ba0 + 0x18) < uVar25) {
        uVar25 = *(ulong *)(local_1ba0 + 0x20);
        *(long *)(local_1ba0 + 0x10) = lVar45;
        if (uVar25 < 0x380) {
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_16d8,0x40,false);
        }
        else {
          local_1628._0_4_ = (float)uVar25;
          local_1628._4_4_ = (float)(uVar25 >> 0x20);
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,true);
          *(undefined8 **)(local_1ba0 + 8) = puVar33;
          *(long *)(local_1ba0 + 0x30) =
               (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
               *(long *)(local_1ba0 + 0x10);
          *(long *)(local_1ba0 + 0x10) = 0xe0;
          *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
          if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0xe0) {
            *(long *)(local_1ba0 + 0x10) = 0;
            local_1628._0_4_ = (float)*(long *)(local_1ba0 + 0x20);
            local_1628._4_4_ = (float)((ulong)*(long *)(local_1ba0 + 0x20) >> 0x20);
            puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,false);
            *(undefined8 **)(local_1ba0 + 8) = puVar33;
            *(long *)(local_1ba0 + 0x30) =
                 (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
                 *(long *)(local_1ba0 + 0x10);
            *(long *)(local_1ba0 + 0x10) = 0xe0;
            *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
            if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0xe0) {
              puVar33 = (undefined8 *)0x0;
              *(long *)(local_1ba0 + 0x10) = 0;
            }
          }
        }
      }
      else {
        *(ulong *)(local_1ba0 + 0x30) = *(long *)(local_1ba0 + 0x30) + uVar39;
        puVar33 = (undefined8 *)(*(long *)(local_1ba0 + 8) + -0xe0 + uVar25);
      }
      *puVar33 = 8;
      puVar33[1] = 8;
      puVar33[0xc] = local_1bc8;
      puVar33[0xd] = uStack_1bc0;
      puVar33[8] = local_1bc8;
      puVar33[9] = uStack_1bc0;
      puVar33[4] = local_1bc8;
      puVar33[5] = uStack_1bc0;
      puVar33[2] = 8;
      puVar33[3] = 8;
      puVar33[0xe] = local_1bd8;
      puVar33[0xf] = uStack_1bd0;
      puVar33[10] = local_1bd8;
      puVar33[0xb] = uStack_1bd0;
      puVar33[6] = local_1bd8;
      puVar33[7] = uStack_1bd0;
      *(undefined1 (*) [16])(puVar33 + 0x18) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x14) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x10) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x1a) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x16) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x12) = (undefined1  [16])0x0;
      uVar25 = (ulong)puVar33 | 1;
    }
    uVar39 = local_258;
    auVar91 = _local_1bd8;
    auVar93 = _local_1bc8;
    auVar95 = _local_1bc8;
    auVar97 = _local_1bd8;
    if (param_2[7] < (ulong)(param_3[0xf] - param_3[0xe])) {
      local_1628._0_4_ = (float)local_258;
      local_1628._4_4_ = (float)(local_258 >> 0x20);
      local_16d8._0_4_ = 0.0;
      local_16d8._4_4_ = 0.0;
      uStack_1620._0_4_ = 0.0;
      uStack_1620._4_4_ = 0.0;
      uStack_1610 = &local_13d8;
      local_1618 = (undefined1  [8])0x1;
      uStack_1600 = param_2;
      local_1608 = (undefined1  [8])local_1c70;
      local_15f8 = (undefined1  [8])&local_16d8;
      lVar45 = embree::TaskScheduler::thread();
      if (lVar45 == 0) {
        this_00 = (TaskScheduler *)embree::TaskScheduler::instance();
        TaskScheduler::
        spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                  (this_00,(_lambda___1_ *)&local_1628,(TaskGroupContext *)&local_16d8,uVar39,true);
      }
      else {
        if (0xfff < *(ulong *)(lVar45 + 0x40080)) {
LAB_0011d624:
                    /* WARNING: Subroutine does not return */
          abort();
        }
        lVar38 = *(long *)(lVar45 + 0xc00c0);
        uVar48 = lVar38 + 0x40 + (ulong)(-(int)lVar38 & 0x3f);
        if (0x80000 < uVar48) goto LAB_0011d624;
        *(ulong *)(lVar45 + 0xc00c0) = uVar48;
        puVar33 = (undefined8 *)(lVar45 + 0x40080 + uVar48);
        *puVar33 = &PTR_execute_0012d4a0;
        puVar33[1] = CONCAT44(local_1628._4_4_,(float)local_1628);
        puVar33[2] = CONCAT44(uStack_1620._4_4_,(float)uStack_1620);
        puVar33[3] = local_1618;
        puVar33[4] = uStack_1610;
        puVar33[5] = local_1608;
        puVar33[6] = uStack_1600;
        puVar33[7] = local_15f8;
        lVar46 = *(long *)(lVar45 + 0x40080) * 0x40;
        piVar2 = (int *)(lVar45 + 0x40 + lVar46);
        lVar40 = *(long *)(lVar45 + 0xc0100);
        *(undefined4 *)(lVar45 + 0x44 + lVar46) = 1;
        *(undefined1 *)(lVar45 + 0x48 + lVar46) = 1;
        lVar46 = lVar46 + lVar45;
        *(undefined8 **)(lVar46 + 0x50) = puVar33;
        *(long *)(lVar46 + 0x58) = lVar40;
        *(TaskGroupContext **)(lVar46 + 0x60) = (TaskGroupContext *)&local_16d8;
        *(long *)(lVar46 + 0x68) = lVar38;
        *(ulong *)(lVar46 + 0x70) = uVar39;
        if (lVar40 != 0) {
          LOCK();
          *(int *)(lVar40 + 4) = *(int *)(lVar40 + 4) + 1;
          UNLOCK();
        }
        LOCK();
        if (*piVar2 == 0) {
          *piVar2 = 1;
        }
        UNLOCK();
        LOCK();
        *(long *)(lVar45 + 0x40080) = *(long *)(lVar45 + 0x40080) + 1;
        UNLOCK();
        if (*(long *)(lVar45 + 0x40080) - 1U <= *(ulong *)(lVar45 + 0x40040)) {
          LOCK();
          *(long *)(lVar45 + 0x40040) = *(long *)(lVar45 + 0x40080) + -1;
          UNLOCK();
        }
      }
      embree::TaskScheduler::wait();
      if (CONCAT44(local_16d8._4_4_,(float)local_16d8) != 0) goto LAB_0011d0db;
      if (local_258 != 0) {
        pauVar34 = (undefined1 (*) [16])&local_13c8;
        do {
          auVar93 = minps(auVar93,*pauVar34);
          auVar91 = maxps(auVar91,pauVar34[1]);
          pauVar31 = pauVar34 + 6;
          auVar95 = minps(auVar95,pauVar34[2]);
          auVar97 = maxps(auVar97,pauVar34[3]);
          pauVar34 = pauVar31;
        } while ((undefined1 (*) [16])&local_13c8 + local_258 * 6 != pauVar31);
        if (((uint)uVar25 & 0xf) == 1) {
LAB_0011874f:
          uVar21 = _LC33;
          uVar92 = _LC35;
          uVar90 = _LC29;
          fVar65 = _LC3;
          puVar28 = (ulong *)(uVar25 & 0xfffffffffffffff0);
          *puVar28 = (ulong)local_13d8;
          uVar20 = _LC6;
          fVar52 = _LC39;
          auVar116._4_4_ = uVar92;
          auVar116._0_4_ = uVar92;
          auVar116._8_4_ = uVar92;
          auVar116._12_4_ = uVar92;
          auVar115._4_4_ = uVar90;
          auVar115._0_4_ = uVar90;
          auVar115._8_4_ = uVar90;
          auVar115._12_4_ = uVar90;
          fVar104 = fVar65 / (local_1388._4_4_ - (float)local_1388);
          fVar76 = (float)((uint)(float)local_1388 ^ uVar21) * fVar104;
          fVar104 = (fVar65 - (float)local_1388) * fVar104;
          fVar59 = fVar65 - fVar76;
          fVar87 = fVar65 - fVar104;
          auVar78._0_4_ = (float)local_13b8 * fVar59 + (float)local_1398 * fVar76;
          auVar78._4_4_ = local_13b8._4_4_ * fVar59 + local_1398._4_4_ * fVar76;
          auVar78._8_4_ = (float)uStack_13b0 * fVar59 + (float)uStack_1390 * fVar76;
          auVar78._12_4_ = uStack_13b0._4_4_ * fVar59 + uStack_1390._4_4_ * fVar76;
          auVar60._0_4_ = fVar59 * (float)local_13c8 + fVar76 * (float)local_13a8;
          auVar60._4_4_ = fVar59 * local_13c8._4_4_ + fVar76 * local_13a8._4_4_;
          auVar60._8_4_ = fVar59 * (float)uStack_13c0 + fVar76 * (float)uStack_13a0;
          auVar60._12_4_ = fVar59 * uStack_13c0._4_4_ + fVar76 * uStack_13a0._4_4_;
          auVar79 = maxps(auVar78,auVar116);
          auVar61 = minps(auVar60,auVar115);
          auVar110._0_4_ = (float)local_13b8 * fVar87 + (float)local_1398 * fVar104;
          auVar110._4_4_ = local_13b8._4_4_ * fVar87 + local_1398._4_4_ * fVar104;
          auVar110._8_4_ = (float)uStack_13b0 * fVar87 + (float)uStack_1390 * fVar104;
          auVar110._12_4_ = uStack_13b0._4_4_ * fVar87 + uStack_1390._4_4_ * fVar104;
          auVar53._0_4_ = fVar87 * (float)local_13c8 + fVar104 * (float)local_13a8;
          auVar53._4_4_ = fVar87 * local_13c8._4_4_ + fVar104 * local_13a8._4_4_;
          auVar53._8_4_ = fVar87 * (float)uStack_13c0 + fVar104 * (float)uStack_13a0;
          auVar53._12_4_ = fVar87 * uStack_13c0._4_4_ + fVar104 * uStack_13a0._4_4_;
          auVar111 = maxps(auVar110,auVar116);
          auVar54 = minps(auVar53,auVar115);
          fVar104 = (float)((uint)auVar79._0_4_ & _LC6) * _LC39 + auVar79._0_4_;
          fVar102 = (float)((uint)auVar79._4_4_ & _LC6) * _LC39 + auVar79._4_4_;
          fVar103 = (float)((uint)auVar79._8_4_ & _LC6) * _LC39 + auVar79._8_4_;
          fVar122 = (float)((uint)auVar54._0_4_ & _LC6) * _LC39;
          fVar124 = (float)((uint)auVar54._4_4_ & _LC6) * _LC39;
          fVar125 = (float)((uint)auVar54._8_4_ & _LC6) * _LC39;
          fVar76 = (float)((uint)auVar61._0_4_ & _LC6) * _LC39;
          fVar87 = (float)((uint)auVar61._4_4_ & _LC6) * _LC39;
          fVar59 = (float)((uint)auVar61._8_4_ & _LC6) * _LC39;
          *(float *)(puVar28 + 6) = fVar104;
          fVar76 = auVar61._0_4_ - fVar76;
          fVar87 = auVar61._4_4_ - fVar87;
          fVar59 = auVar61._8_4_ - fVar59;
          *(float *)(puVar28 + 4) = fVar76;
          *(float *)(puVar28 + 0x10) = (auVar54._0_4_ - fVar122) - fVar76;
          *(float *)(puVar28 + 8) = fVar87;
          *(float *)(puVar28 + 0xc) = fVar59;
          *(float *)(puVar28 + 10) = fVar102;
          *(float *)(puVar28 + 0x14) = (auVar54._4_4_ - fVar124) - fVar87;
          *(float *)(puVar28 + 0x18) = (auVar54._8_4_ - fVar125) - fVar59;
          *(float *)(puVar28 + 0x12) =
               ((float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_) - fVar104;
          *(float *)(puVar28 + 0xe) = fVar103;
          *(float *)(puVar28 + 0x16) =
               ((float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_) - fVar102;
          *(float *)(puVar28 + 0x1a) =
               ((float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_) - fVar103;
          if (local_258 != 1) {
            puVar28[1] = (ulong)local_1378;
            fVar104 = fVar65 / (local_1324 - local_1328);
            fVar87 = (float)((uint)local_1328 ^ uVar21) * fVar104;
            fVar76 = fVar65 - fVar87;
            fVar104 = (fVar65 - local_1328) * fVar104;
            fVar59 = fVar65 - fVar104;
            auVar80._0_4_ = (float)local_1358 * fVar76 + local_1338 * fVar87;
            auVar80._4_4_ = local_1358._4_4_ * fVar76 + fStack_1334 * fVar87;
            auVar80._8_4_ = (float)uStack_1350 * fVar76 + fStack_1330 * fVar87;
            auVar80._12_4_ = uStack_1350._4_4_ * fVar76 + fStack_132c * fVar87;
            auVar55._0_4_ = fVar76 * (float)local_1368 + fVar87 * local_1348;
            auVar55._4_4_ = fVar76 * local_1368._4_4_ + fVar87 * fStack_1344;
            auVar55._8_4_ = fVar76 * (float)uStack_1360 + fVar87 * fStack_1340;
            auVar55._12_4_ = fVar76 * uStack_1360._4_4_ + fVar87 * fStack_133c;
            auVar79 = maxps(auVar80,auVar116);
            auVar54 = minps(auVar55,auVar115);
            auVar112._0_4_ = (float)local_1358 * fVar59 + local_1338 * fVar104;
            auVar112._4_4_ = local_1358._4_4_ * fVar59 + fStack_1334 * fVar104;
            auVar112._8_4_ = (float)uStack_1350 * fVar59 + fStack_1330 * fVar104;
            auVar112._12_4_ = uStack_1350._4_4_ * fVar59 + fStack_132c * fVar104;
            auVar62._0_4_ = fVar59 * (float)local_1368 + fVar104 * local_1348;
            auVar62._4_4_ = fVar59 * local_1368._4_4_ + fVar104 * fStack_1344;
            auVar62._8_4_ = fVar59 * (float)uStack_1360 + fVar104 * fStack_1340;
            auVar62._12_4_ = fVar59 * uStack_1360._4_4_ + fVar104 * fStack_133c;
            auVar111 = maxps(auVar112,auVar116);
            auVar61 = minps(auVar62,auVar115);
            fVar104 = (float)((uint)auVar79._0_4_ & uVar20) * fVar52 + auVar79._0_4_;
            fVar102 = (float)((uint)auVar79._4_4_ & uVar20) * fVar52 + auVar79._4_4_;
            fVar103 = (float)((uint)auVar79._8_4_ & uVar20) * fVar52 + auVar79._8_4_;
            *(float *)((long)puVar28 + 0x34) = fVar104;
            fVar76 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar20) * fVar52;
            fVar87 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar20) * fVar52;
            fVar59 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar20) * fVar52;
            *(float *)((long)puVar28 + 0x24) = fVar76;
            *(float *)((long)puVar28 + 0x84) =
                 (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar20) * fVar52) - fVar76;
            *(float *)((long)puVar28 + 0x44) = fVar87;
            *(float *)((long)puVar28 + 100) = fVar59;
            *(float *)((long)puVar28 + 0x54) = fVar102;
            *(float *)((long)puVar28 + 0xa4) =
                 (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar20) * fVar52) - fVar87;
            *(float *)((long)puVar28 + 0x74) = fVar103;
            *(float *)((long)puVar28 + 0x94) =
                 ((float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_) - fVar104;
            *(float *)((long)puVar28 + 0xc4) =
                 (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar20) * fVar52) - fVar59;
            *(float *)((long)puVar28 + 0xb4) =
                 ((float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_) - fVar102;
            *(float *)((long)puVar28 + 0xd4) =
                 ((float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_) - fVar103;
            if (local_258 != 2) {
              puVar28[2] = local_1318;
              fVar104 = fVar65 / (local_12c4 - local_12c8);
              fVar87 = (float)((uint)local_12c8 ^ uVar21) * fVar104;
              fVar76 = fVar65 - fVar87;
              fVar104 = (fVar65 - local_12c8) * fVar104;
              fVar59 = fVar65 - fVar104;
              auVar81._0_4_ = local_12f8 * fVar76 + local_12d8 * fVar87;
              auVar81._4_4_ = fStack_12f4 * fVar76 + fStack_12d4 * fVar87;
              auVar81._8_4_ = fStack_12f0 * fVar76 + fStack_12d0 * fVar87;
              auVar81._12_4_ = fStack_12ec * fVar76 + fStack_12cc * fVar87;
              auVar56._0_4_ = fVar76 * local_1308 + fVar87 * local_12e8;
              auVar56._4_4_ = fVar76 * fStack_1304 + fVar87 * fStack_12e4;
              auVar56._8_4_ = fVar76 * fStack_1300 + fVar87 * fStack_12e0;
              auVar56._12_4_ = fVar76 * fStack_12fc + fVar87 * fStack_12dc;
              auVar79 = maxps(auVar81,auVar116);
              auVar54 = minps(auVar56,auVar115);
              auVar113._0_4_ = local_12f8 * fVar59 + local_12d8 * fVar104;
              auVar113._4_4_ = fStack_12f4 * fVar59 + fStack_12d4 * fVar104;
              auVar113._8_4_ = fStack_12f0 * fVar59 + fStack_12d0 * fVar104;
              auVar113._12_4_ = fStack_12ec * fVar59 + fStack_12cc * fVar104;
              auVar63._0_4_ = fVar59 * local_1308 + fVar104 * local_12e8;
              auVar63._4_4_ = fVar59 * fStack_1304 + fVar104 * fStack_12e4;
              auVar63._8_4_ = fVar59 * fStack_1300 + fVar104 * fStack_12e0;
              auVar63._12_4_ = fVar59 * fStack_12fc + fVar104 * fStack_12dc;
              auVar111 = maxps(auVar113,auVar116);
              auVar61 = minps(auVar63,auVar115);
              fVar104 = (float)((uint)auVar79._0_4_ & uVar20) * fVar52 + auVar79._0_4_;
              fVar102 = (float)((uint)auVar79._4_4_ & uVar20) * fVar52 + auVar79._4_4_;
              fVar103 = (float)((uint)auVar79._8_4_ & uVar20) * fVar52 + auVar79._8_4_;
              *(float *)(puVar28 + 7) = fVar104;
              fVar76 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar20) * fVar52;
              fVar87 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar20) * fVar52;
              fVar59 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar20) * fVar52;
              *(float *)(puVar28 + 5) = fVar76;
              *(float *)(puVar28 + 0x11) =
                   (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar20) * fVar52) - fVar76;
              *(float *)(puVar28 + 9) = fVar87;
              *(float *)(puVar28 + 0xd) = fVar59;
              *(float *)(puVar28 + 0xb) = fVar102;
              *(float *)(puVar28 + 0x15) =
                   (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar20) * fVar52) - fVar87;
              *(float *)(puVar28 + 0xf) = fVar103;
              *(float *)(puVar28 + 0x13) =
                   ((float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_) - fVar104;
              *(float *)(puVar28 + 0x19) =
                   (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar20) * fVar52) - fVar59;
              *(float *)(puVar28 + 0x17) =
                   ((float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_) - fVar102;
              *(float *)(puVar28 + 0x1b) =
                   ((float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_) - fVar103;
              if (local_258 != 3) {
                puVar28[3] = local_12b8;
                fVar87 = fVar65 / (local_1264 - local_1268);
                fVar59 = (float)(uVar21 ^ (uint)local_1268) * fVar87;
                fVar87 = fVar87 * (fVar65 - local_1268);
                fVar76 = fVar65 - fVar59;
                fVar65 = fVar65 - fVar87;
                auVar98._0_4_ = local_1278 * fVar59 + local_1298 * fVar76;
                auVar98._4_4_ = fStack_1274 * fVar59 + fStack_1294 * fVar76;
                auVar98._8_4_ = fStack_1270 * fVar59 + fStack_1290 * fVar76;
                auVar98._12_4_ = fStack_126c * fVar59 + fStack_128c * fVar76;
                auVar82._0_4_ = fVar76 * local_12a8 + fVar59 * local_1288;
                auVar82._4_4_ = fVar76 * fStack_12a4 + fVar59 * fStack_1284;
                auVar82._8_4_ = fVar76 * fStack_12a0 + fVar59 * fStack_1280;
                auVar82._12_4_ = fVar76 * fStack_129c + fVar59 * fStack_127c;
                auVar111 = maxps(auVar98,auVar116);
                auVar79 = minps(auVar82,auVar115);
                auVar57._0_4_ = local_1278 * fVar87 + local_1298 * fVar65;
                auVar57._4_4_ = fStack_1274 * fVar87 + fStack_1294 * fVar65;
                auVar57._8_4_ = fStack_1270 * fVar87 + fStack_1290 * fVar65;
                auVar57._12_4_ = fStack_126c * fVar87 + fStack_128c * fVar65;
                auVar64._0_4_ = fVar87 * local_1288 + fVar65 * local_12a8;
                auVar64._4_4_ = fVar87 * fStack_1284 + fVar65 * fStack_12a4;
                auVar64._8_4_ = fVar87 * fStack_1280 + fVar65 * fStack_12a0;
                auVar64._12_4_ = fVar87 * fStack_127c + fVar65 * fStack_129c;
                auVar54 = maxps(auVar57,auVar116);
                auVar61 = minps(auVar64,auVar115);
                fVar65 = (float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_;
                fVar76 = (float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_;
                fVar87 = (float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_;
                *(float *)((long)puVar28 + 0x3c) = fVar65;
                fVar59 = auVar79._0_4_ - (float)((uint)auVar79._0_4_ & uVar20) * fVar52;
                fVar104 = auVar79._4_4_ - (float)((uint)auVar79._4_4_ & uVar20) * fVar52;
                fVar102 = auVar79._8_4_ - (float)((uint)auVar79._8_4_ & uVar20) * fVar52;
                *(float *)((long)puVar28 + 0x2c) = fVar59;
                *(float *)((long)puVar28 + 0x8c) =
                     (auVar61._0_4_ - (float)(uVar20 & (uint)auVar61._0_4_) * fVar52) - fVar59;
                *(float *)((long)puVar28 + 0x4c) = fVar104;
                *(float *)((long)puVar28 + 0x6c) = fVar102;
                *(float *)((long)puVar28 + 0x5c) = fVar76;
                *(float *)((long)puVar28 + 0x7c) = fVar87;
                *(float *)((long)puVar28 + 0xac) =
                     (auVar61._4_4_ - (float)(uVar20 & (uint)auVar61._4_4_) * fVar52) - fVar104;
                *(float *)((long)puVar28 + 0xcc) =
                     (auVar61._8_4_ - (float)(uVar20 & (uint)auVar61._8_4_) * fVar52) - fVar102;
                *(float *)((long)puVar28 + 0x9c) =
                     (auVar54._0_4_ + (float)((uint)auVar54._0_4_ & uVar20) * fVar52) - fVar65;
                *(float *)((long)puVar28 + 0xbc) =
                     (auVar54._4_4_ + (float)((uint)auVar54._4_4_ & uVar20) * fVar52) - fVar76;
                *(float *)((long)puVar28 + 0xdc) =
                     (auVar54._8_4_ + (float)((uint)auVar54._8_4_ & uVar20) * fVar52) - fVar87;
              }
            }
          }
        }
        else {
LAB_0011b029:
          uVar20 = _LC33;
          uVar90 = _LC29;
          fVar65 = _LC3;
          if (local_258 != 0) {
            puVar28 = (ulong *)(uVar25 & 0xfffffffffffffff0);
            *puVar28 = (ulong)local_13d8;
            uVar21 = _LC6;
            fVar52 = _LC39;
            auVar119._4_4_ = uVar90;
            auVar119._0_4_ = uVar90;
            auVar119._8_4_ = uVar90;
            auVar119._12_4_ = uVar90;
            fVar104 = fVar65 / (local_1388._4_4_ - (float)local_1388);
            fVar76 = (float)((uint)(float)local_1388 ^ uVar20) * fVar104;
            fVar104 = (fVar65 - (float)local_1388) * fVar104;
            fVar59 = fVar65 - fVar76;
            fVar87 = fVar65 - fVar104;
            auVar105._0_4_ = (float)local_13b8 * fVar59 + (float)local_1398 * fVar76;
            auVar105._4_4_ = local_13b8._4_4_ * fVar59 + local_1398._4_4_ * fVar76;
            auVar105._8_4_ = (float)uStack_13b0 * fVar59 + (float)uStack_1390 * fVar76;
            auVar105._12_4_ = uStack_13b0._4_4_ * fVar59 + uStack_1390._4_4_ * fVar76;
            auVar88._0_4_ = fVar59 * (float)local_13c8 + fVar76 * (float)local_13a8;
            auVar88._4_4_ = fVar59 * local_13c8._4_4_ + fVar76 * local_13a8._4_4_;
            auVar88._8_4_ = fVar59 * (float)uStack_13c0 + fVar76 * (float)uStack_13a0;
            auVar88._12_4_ = fVar59 * uStack_13c0._4_4_ + fVar76 * uStack_13a0._4_4_;
            auVar99._4_4_ = _LC35;
            auVar99._0_4_ = _LC35;
            auVar99._8_4_ = _LC35;
            auVar99._12_4_ = _LC35;
            auVar111 = maxps(auVar105,auVar99);
            auVar79 = minps(auVar88,auVar119);
            auVar66._0_4_ = (float)local_13b8 * fVar87 + (float)local_1398 * fVar104;
            auVar66._4_4_ = local_13b8._4_4_ * fVar87 + local_1398._4_4_ * fVar104;
            auVar66._8_4_ = (float)uStack_13b0 * fVar87 + (float)uStack_1390 * fVar104;
            auVar66._12_4_ = uStack_13b0._4_4_ * fVar87 + uStack_1390._4_4_ * fVar104;
            auVar54 = maxps(auVar66,auVar99);
            auVar67._0_4_ = (float)local_13c8 * fVar87 + fVar104 * (float)local_13a8;
            auVar67._4_4_ = local_13c8._4_4_ * fVar87 + fVar104 * local_13a8._4_4_;
            auVar67._8_4_ = (float)uStack_13c0 * fVar87 + fVar104 * (float)uStack_13a0;
            auVar67._12_4_ = uStack_13c0._4_4_ * fVar87 + fVar104 * uStack_13a0._4_4_;
            auVar61 = minps(auVar67,auVar119);
            fVar122 = (float)((uint)auVar54._0_4_ & _LC6) * _LC39;
            fVar124 = (float)((uint)auVar54._4_4_ & _LC6) * _LC39;
            fVar125 = (float)((uint)auVar54._8_4_ & _LC6) * _LC39;
            fVar104 = (float)((uint)auVar111._0_4_ & _LC6) * _LC39 + auVar111._0_4_;
            fVar102 = (float)((uint)auVar111._4_4_ & _LC6) * _LC39 + auVar111._4_4_;
            fVar103 = (float)((uint)auVar111._8_4_ & _LC6) * _LC39 + auVar111._8_4_;
            fVar76 = (float)((uint)auVar79._0_4_ & _LC6) * _LC39;
            fVar87 = (float)((uint)auVar79._4_4_ & _LC6) * _LC39;
            fVar59 = (float)((uint)auVar79._8_4_ & _LC6) * _LC39;
            *(float *)(puVar28 + 6) = fVar104;
            fVar76 = auVar79._0_4_ - fVar76;
            fVar87 = auVar79._4_4_ - fVar87;
            fVar59 = auVar79._8_4_ - fVar59;
            *(float *)(puVar28 + 4) = fVar76;
            *(float *)(puVar28 + 8) = fVar87;
            *(float *)(puVar28 + 0xc) = fVar59;
            *(float *)(puVar28 + 10) = fVar102;
            *(float *)(puVar28 + 0x10) =
                 (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar21) * fVar52) - fVar76;
            *(float *)(puVar28 + 0x12) = (fVar122 + auVar54._0_4_) - fVar104;
            *(float *)(puVar28 + 0x18) =
                 (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar21) * fVar52) - fVar59;
            *(float *)(puVar28 + 0x14) =
                 (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar21) * fVar52) - fVar87;
            *(float *)(puVar28 + 0xe) = fVar103;
            *(float *)(puVar28 + 0x16) = (fVar124 + auVar54._4_4_) - fVar102;
            *(float *)(puVar28 + 0x1a) = (fVar125 + auVar54._8_4_) - fVar103;
            *(float *)(puVar28 + 0x1c) = (float)local_1388;
            fVar76 = local_1388._4_4_;
            if (local_1388._4_4_ == fVar65) {
              fVar76 = _LC32;
            }
            *(float *)(puVar28 + 0x1e) = fVar76;
            if (local_258 != 1) {
              puVar28[1] = (ulong)local_1378;
              fVar59 = fVar65 / (local_1324 - local_1328);
              fVar87 = (float)((uint)local_1328 ^ uVar20) * fVar59;
              fVar76 = fVar65 - fVar87;
              fVar59 = (fVar65 - local_1328) * fVar59;
              fVar104 = fVar65 - fVar59;
              auVar106._0_4_ = (float)local_1358 * fVar76 + local_1338 * fVar87;
              auVar106._4_4_ = local_1358._4_4_ * fVar76 + fStack_1334 * fVar87;
              auVar106._8_4_ = (float)uStack_1350 * fVar76 + fStack_1330 * fVar87;
              auVar106._12_4_ = uStack_1350._4_4_ * fVar76 + fStack_132c * fVar87;
              auVar68._0_4_ = fVar76 * (float)local_1368 + fVar87 * local_1348;
              auVar68._4_4_ = fVar76 * local_1368._4_4_ + fVar87 * fStack_1344;
              auVar68._8_4_ = fVar76 * (float)uStack_1360 + fVar87 * fStack_1340;
              auVar68._12_4_ = fVar76 * uStack_1360._4_4_ + fVar87 * fStack_133c;
              auVar79 = maxps(auVar106,auVar99);
              auVar54 = minps(auVar68,auVar119);
              auVar69._0_4_ = (float)local_1358 * fVar104 + local_1338 * fVar59;
              auVar69._4_4_ = local_1358._4_4_ * fVar104 + fStack_1334 * fVar59;
              auVar69._8_4_ = (float)uStack_1350 * fVar104 + fStack_1330 * fVar59;
              auVar69._12_4_ = uStack_1350._4_4_ * fVar104 + fStack_132c * fVar59;
              auVar61 = maxps(auVar69,auVar99);
              local_1c68._0_4_ = auVar61._0_4_;
              local_1c68._4_4_ = auVar61._4_4_;
              fStack_1c60 = auVar61._8_4_;
              auVar70._0_4_ = fVar104 * (float)local_1368 + local_1348 * fVar59;
              auVar70._4_4_ = fVar104 * local_1368._4_4_ + fStack_1344 * fVar59;
              auVar70._8_4_ = fVar104 * (float)uStack_1360 + fStack_1340 * fVar59;
              auVar70._12_4_ = fVar104 * uStack_1360._4_4_ + fStack_133c * fVar59;
              auVar61 = minps(auVar70,auVar119);
              fVar76 = auVar79._0_4_ + (float)((uint)auVar79._0_4_ & uVar21) * fVar52;
              fVar87 = auVar79._4_4_ + (float)((uint)auVar79._4_4_ & uVar21) * fVar52;
              fVar59 = auVar79._8_4_ + (float)((uint)auVar79._8_4_ & uVar21) * fVar52;
              *(float *)((long)puVar28 + 0x34) = fVar76;
              fVar104 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar21) * fVar52;
              fVar102 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar21) * fVar52;
              fVar103 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar21) * fVar52;
              *(float *)((long)puVar28 + 0x24) = fVar104;
              *(float *)((long)puVar28 + 0x44) = fVar102;
              *(float *)((long)puVar28 + 100) = fVar103;
              *(float *)((long)puVar28 + 0x54) = fVar87;
              *(float *)((long)puVar28 + 0x84) =
                   (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar21) * fVar52) - fVar104;
              *(float *)((long)puVar28 + 0x74) = fVar59;
              *(float *)((long)puVar28 + 0xa4) =
                   (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar21) * fVar52) - fVar102;
              *(float *)((long)puVar28 + 0xc4) =
                   (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar21) * fVar52) - fVar103;
              *(float *)((long)puVar28 + 0x94) =
                   ((float)((uint)(float)local_1c68 & uVar21) * fVar52 + (float)local_1c68) - fVar76
              ;
              *(float *)((long)puVar28 + 0xd4) =
                   ((float)((uint)fStack_1c60 & uVar21) * fVar52 + fStack_1c60) - fVar59;
              *(float *)((long)puVar28 + 0xb4) =
                   ((float)((uint)local_1c68._4_4_ & uVar21) * fVar52 + local_1c68._4_4_) - fVar87;
              *(float *)((long)puVar28 + 0xe4) = local_1328;
              if (local_1324 == fVar65) {
                local_1324 = _LC32;
              }
              *(float *)((long)puVar28 + 0xf4) = local_1324;
              if (local_258 != 2) {
                puVar28[2] = local_1318;
                fVar59 = fVar65 / (local_12c4 - local_12c8);
                fVar87 = (float)((uint)local_12c8 ^ uVar20) * fVar59;
                fVar76 = fVar65 - fVar87;
                fVar59 = (fVar65 - local_12c8) * fVar59;
                fVar104 = fVar65 - fVar59;
                auVar107._0_4_ = local_12f8 * fVar76 + local_12d8 * fVar87;
                auVar107._4_4_ = fStack_12f4 * fVar76 + fStack_12d4 * fVar87;
                auVar107._8_4_ = fStack_12f0 * fVar76 + fStack_12d0 * fVar87;
                auVar107._12_4_ = fStack_12ec * fVar76 + fStack_12cc * fVar87;
                auVar71._0_4_ = fVar76 * local_1308 + fVar87 * local_12e8;
                auVar71._4_4_ = fVar76 * fStack_1304 + fVar87 * fStack_12e4;
                auVar71._8_4_ = fVar76 * fStack_1300 + fVar87 * fStack_12e0;
                auVar71._12_4_ = fVar76 * fStack_12fc + fVar87 * fStack_12dc;
                auVar79 = maxps(auVar107,auVar99);
                auVar54 = minps(auVar71,auVar119);
                auVar72._0_4_ = local_12f8 * fVar104 + local_12d8 * fVar59;
                auVar72._4_4_ = fStack_12f4 * fVar104 + fStack_12d4 * fVar59;
                auVar72._8_4_ = fStack_12f0 * fVar104 + fStack_12d0 * fVar59;
                auVar72._12_4_ = fStack_12ec * fVar104 + fStack_12cc * fVar59;
                auVar61 = maxps(auVar72,auVar99);
                local_1c68._0_4_ = auVar61._0_4_;
                local_1c68._4_4_ = auVar61._4_4_;
                fStack_1c60 = auVar61._8_4_;
                auVar73._0_4_ = fVar104 * local_1308 + local_12e8 * fVar59;
                auVar73._4_4_ = fVar104 * fStack_1304 + fStack_12e4 * fVar59;
                auVar73._8_4_ = fVar104 * fStack_1300 + fStack_12e0 * fVar59;
                auVar73._12_4_ = fVar104 * fStack_12fc + fStack_12dc * fVar59;
                auVar61 = minps(auVar73,auVar119);
                fVar76 = auVar79._0_4_ + (float)((uint)auVar79._0_4_ & uVar21) * fVar52;
                fVar87 = auVar79._4_4_ + (float)((uint)auVar79._4_4_ & uVar21) * fVar52;
                fVar59 = auVar79._8_4_ + (float)((uint)auVar79._8_4_ & uVar21) * fVar52;
                *(float *)(puVar28 + 7) = fVar76;
                fVar104 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar21) * fVar52;
                fVar102 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar21) * fVar52;
                fVar103 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar21) * fVar52;
                *(float *)(puVar28 + 5) = fVar104;
                *(float *)(puVar28 + 9) = fVar102;
                *(float *)(puVar28 + 0xd) = fVar103;
                *(float *)(puVar28 + 0xb) = fVar87;
                *(float *)(puVar28 + 0x11) =
                     (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar21) * fVar52) - fVar104;
                *(float *)(puVar28 + 0xf) = fVar59;
                *(float *)(puVar28 + 0x15) =
                     (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar21) * fVar52) - fVar102;
                *(float *)(puVar28 + 0x19) =
                     (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar21) * fVar52) - fVar103;
                *(float *)(puVar28 + 0x13) =
                     ((float)((uint)(float)local_1c68 & uVar21) * fVar52 + (float)local_1c68) -
                     fVar76;
                *(float *)(puVar28 + 0x1b) =
                     ((float)((uint)fStack_1c60 & uVar21) * fVar52 + fStack_1c60) - fVar59;
                *(float *)(puVar28 + 0x17) =
                     ((float)((uint)local_1c68._4_4_ & uVar21) * fVar52 + local_1c68._4_4_) - fVar87
                ;
                *(float *)(puVar28 + 0x1d) = local_12c8;
                if (local_12c4 == fVar65) {
                  local_12c4 = _LC32;
                }
                *(float *)(puVar28 + 0x1f) = local_12c4;
                if (local_258 != 3) {
                  puVar28[3] = local_12b8;
                  fVar87 = fVar65 / (local_1264 - local_1268);
                  fVar104 = (float)(uVar20 ^ (uint)local_1268) * fVar87;
                  fVar87 = (fVar65 - local_1268) * fVar87;
                  fVar76 = fVar65 - fVar104;
                  fVar59 = fVar65 - fVar87;
                  auVar108._0_4_ = local_1278 * fVar104 + local_1298 * fVar76;
                  auVar108._4_4_ = fStack_1274 * fVar104 + fStack_1294 * fVar76;
                  auVar108._8_4_ = fStack_1270 * fVar104 + fStack_1290 * fVar76;
                  auVar108._12_4_ = fStack_126c * fVar104 + fStack_128c * fVar76;
                  auVar74._0_4_ = fVar104 * local_1288 + fVar76 * local_12a8;
                  auVar74._4_4_ = fVar104 * fStack_1284 + fVar76 * fStack_12a4;
                  auVar74._8_4_ = fVar104 * fStack_1280 + fVar76 * fStack_12a0;
                  auVar74._12_4_ = fVar104 * fStack_127c + fVar76 * fStack_129c;
                  auVar111 = maxps(auVar108,auVar99);
                  auVar54 = minps(auVar74,auVar119);
                  auVar89._0_4_ = local_1278 * fVar87 + local_1298 * fVar59;
                  auVar89._4_4_ = fStack_1274 * fVar87 + fStack_1294 * fVar59;
                  auVar89._8_4_ = fStack_1270 * fVar87 + fStack_1290 * fVar59;
                  auVar89._12_4_ = fStack_126c * fVar87 + fStack_128c * fVar59;
                  auVar61 = maxps(auVar89,auVar99);
                  auVar100._0_4_ = fVar87 * local_1288 + fVar59 * local_12a8;
                  auVar100._4_4_ = fVar87 * fStack_1284 + fVar59 * fStack_12a4;
                  auVar100._8_4_ = fVar87 * fStack_1280 + fVar59 * fStack_12a0;
                  auVar100._12_4_ = fVar87 * fStack_127c + fVar59 * fStack_129c;
                  auVar79 = minps(auVar100,auVar119);
                  fVar104 = auVar111._0_4_ + (float)((uint)auVar111._0_4_ & uVar21) * fVar52;
                  fVar102 = auVar111._4_4_ + (float)((uint)auVar111._4_4_ & uVar21) * fVar52;
                  fVar103 = auVar111._8_4_ + (float)((uint)auVar111._8_4_ & uVar21) * fVar52;
                  *(float *)((long)puVar28 + 0x3c) = fVar104;
                  fVar76 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar21) * fVar52;
                  fVar87 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar21) * fVar52;
                  fVar59 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar21) * fVar52;
                  *(float *)((long)puVar28 + 0x2c) = fVar76;
                  *(float *)((long)puVar28 + 0x4c) = fVar87;
                  *(float *)((long)puVar28 + 0x6c) = fVar59;
                  *(float *)((long)puVar28 + 0x5c) = fVar102;
                  *(float *)((long)puVar28 + 0x8c) =
                       (auVar79._0_4_ - (float)(uVar21 & (uint)auVar79._0_4_) * fVar52) - fVar76;
                  *(float *)((long)puVar28 + 0xac) =
                       (auVar79._4_4_ - (float)(uVar21 & (uint)auVar79._4_4_) * fVar52) - fVar87;
                  *(float *)((long)puVar28 + 0xcc) =
                       (auVar79._8_4_ - (float)(uVar21 & (uint)auVar79._8_4_) * fVar52) - fVar59;
                  *(float *)((long)puVar28 + 0x7c) = fVar103;
                  *(float *)((long)puVar28 + 0x9c) =
                       ((float)((uint)auVar61._0_4_ & uVar21) * fVar52 + auVar61._0_4_) - fVar104;
                  *(float *)((long)puVar28 + 0xbc) =
                       ((float)((uint)auVar61._4_4_ & uVar21) * fVar52 + auVar61._4_4_) - fVar102;
                  *(float *)((long)puVar28 + 0xdc) =
                       ((float)((uint)auVar61._8_4_ & uVar21) * fVar52 + auVar61._8_4_) - fVar103;
                  *(float *)((long)puVar28 + 0xec) = local_1268;
                  if (local_1264 == fVar65) {
                    local_1264 = _LC32;
                  }
                  *(float *)((long)puVar28 + 0xfc) = local_1264;
                }
              }
            }
          }
        }
      }
    }
    else {
      lVar45 = local_258 - 1;
      if (-1 < lVar45) {
        puVar33 = &local_1438 + local_258 * 0xc;
        puVar50 = auStack_e88 + local_258 * 0xb0;
        do {
          lVar45 = lVar45 + -1;
          recurse(&local_1628,param_2,puVar50,0);
          puVar33[2] = local_1618;
          puVar33[3] = uStack_1610;
          auVar95 = minps(auVar95,_local_15f8);
          auVar97 = maxps(auVar97,_local_15e8);
          puVar33[6] = local_15f8;
          puVar33[7] = uStack_15f0;
          puVar33[4] = local_1608;
          puVar33[5] = uStack_1600;
          auVar93 = minps(auVar93,_local_1618);
          *(undefined4 *)(puVar33 + 10) = local_15d8._0_4_;
          puVar33[8] = local_15e8;
          puVar33[9] = uStack_15e0;
          auVar91 = maxps(auVar91,_local_1608);
          *puVar33 = local_1628;
          *(undefined4 *)((long)puVar33 + 0x54) = local_15d8._4_4_;
          puVar33 = puVar33 + -0xc;
          puVar50 = puVar50 + -0xb0;
        } while (lVar45 != -1);
      }
      if (((uint)uVar25 & 0xf) != 1) goto LAB_0011b029;
      if (local_258 != 0) goto LAB_0011874f;
    }
    if (local_1a71) {
      ppSVar37 = (SetMB **)param_3[0xf];
      pSVar30 = (SetMB *)param_3[0xe];
      local_1628._0_4_ = SUB164(_local_1bc8,0);
      local_1628._4_4_ = SUB164(_local_1bc8,4);
      uStack_1620._0_4_ = SUB164(_local_1bc8,8);
      uStack_1620._4_4_ = SUB164(_local_1bc8,0xc);
      ppSStack_1930 = (SetMB **)(param_2 + 0xb);
      _local_1608 = _local_1bc8;
      _local_1618 = _local_1bd8;
      _local_15f8 = _local_1bd8;
      local_1938 = pSVar5;
      if ((ulong)((long)ppSVar37 - (long)pSVar30) < 0xc00) {
        local_18a8 = pSVar30;
        ppSStack_18a0 = ppSVar37;
        const::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                  ((_lambda_embree__range<unsigned_long>const___1_ *)&local_16d8,
                   (range *)&local_1938);
      }
      else {
        parallel_reduce_internal<unsigned_long,embree::LBBox<embree::Vec3fa>,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::range<unsigned_long>const&)_1_,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::LBBox<embree::Vec3fa>const&,embree::LBBox<embree::Vec3fa>const&)_2_>
                  ((ulong)&local_16d8,((long)ppSVar37 - (long)pSVar30) + 0x3ffU >> 10,(ulong)pSVar30
                   ,(ulong)ppSVar37,(LBBox_conflict *)0x400,
                   (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1628,
                   (_lambda_embree__LBBox<embree::Vec3fa>_const__embree__LBBox<embree::Vec3fa>_const___2_
                    *)&local_1938);
      }
      *(ulong *)(param_1 + 0x10) = CONCAT44(local_16d8._4_4_,(float)local_16d8);
      *(ulong *)(param_1 + 0x18) = CONCAT44(fStack_16cc,fStack_16d0);
      *(ulong *)param_1 = uVar25;
      *(undefined1 (*) [8])(param_1 + 0x20) = local_16c8;
      *(SetMB **)(param_1 + 0x28) = uStack_16c0;
      *(undefined1 (*) [8])(param_1 + 0x30) = local_16b8;
      *(SetMB ***)(param_1 + 0x38) = uStack_16b0;
      *(undefined1 (*) [8])(param_1 + 0x40) = local_16a8;
      *(SetMB **)(param_1 + 0x48) = uStack_16a0;
      *(long *)(param_1 + 0x50) = param_3[0x13];
    }
    else {
      *(ulong *)param_1 = uVar25;
      *(undefined1 (*) [16])(param_1 + 0x10) = auVar93;
      *(undefined1 (*) [16])(param_1 + 0x20) = auVar91;
      *(undefined1 (*) [16])(param_1 + 0x30) = auVar95;
      *(undefined1 (*) [16])(param_1 + 0x40) = auVar97;
      *(long *)(param_1 + 0x50) = param_3[0x13];
    }
    uVar25 = 0;
    if (local_258 != 0) {
      do {
        ppSVar4 = local_2d8[uVar25];
        ppSVar37 = ppSVar4 + 1;
        *ppSVar37 = *ppSVar37 + -1;
        if ((*ppSVar37 == (SetMB *)0x0) && (pSVar5 = *ppSVar4, pSVar5 != (SetMB *)0x0)) {
          pvVar3 = *(void **)(pSVar5 + 0x20);
          lVar45 = *(long *)(pSVar5 + 0x18);
          if (pvVar3 != (void *)0x0) {
            if ((ulong)(lVar45 * 0x50) < 0x1c00000) {
              embree::alignedFree(pvVar3);
            }
            else {
              embree::os_free(pvVar3,lVar45 * 0x50,(bool)pSVar5[8]);
            }
          }
          if (lVar45 != 0) {
            (**(code **)**(undefined8 **)pSVar5)(*(undefined8 **)pSVar5,lVar45 * -0x50,1);
          }
          operator_delete(pSVar5,0x28);
        }
        uVar25 = uVar25 + 1;
      } while (uVar25 < local_258);
    }
    goto LAB_00116af4;
  }
  puVar33 = (undefined8 *)(*(long *)(param_3[0x14] + 0x20) + uVar25 * 0x50);
  puVar49 = (undefined8 *)(*(long *)(param_3[0x14] + 0x20) + (long)local_1b78 * 0x50);
  if (puVar33 != puVar49) {
    lVar45 = uVar25 * 0x50 + (long)local_1b78 * -0x50;
    uVar25 = (lVar45 >> 4) * -0x3333333333333333;
    if (uVar25 == 0) {
      std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (puVar49,puVar33,0xfffffffffffffffe);
    }
    else {
      lVar38 = 0x3f;
      if (uVar25 != 0) {
        for (; uVar25 >> lVar38 == 0; lVar38 = lVar38 + -1) {
        }
      }
      std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (puVar49,puVar33,(long)(int)lVar38 * 2);
      if (0x500 < lVar45) {
        puVar44 = puVar49 + 0xa0;
        std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>(puVar49,puVar44)
        ;
        for (; puVar33 != puVar44; puVar44 = puVar44 + 10) {
          uVar58 = *(undefined4 *)((long)puVar44 + 0x1c);
          uVar86 = *(undefined4 *)((long)puVar44 + 0xc);
          uVar32 = puVar44[4];
          uVar7 = puVar44[5];
          uVar8 = puVar44[6];
          uVar9 = puVar44[7];
          uVar10 = puVar44[2];
          uVar11 = puVar44[3];
          uVar90 = *(undefined4 *)(puVar44 + 8);
          uVar92 = *(undefined4 *)((long)puVar44 + 0x44);
          uVar12 = *puVar44;
          uVar13 = puVar44[1];
          uVar25 = CONCAT44(*(undefined4 *)((long)puVar44 + -0x34),
                            *(undefined4 *)((long)puVar44 + -0x44));
          puVar49 = puVar44;
          while (CONCAT44(uVar58,uVar86) < uVar25) {
            *puVar49 = puVar49[-10];
            puVar49[1] = puVar49[-9];
            *(undefined4 *)(puVar49 + 8) = *(undefined4 *)(puVar49 + -2);
            puVar49[2] = puVar49[-8];
            puVar49[3] = puVar49[-7];
            *(undefined4 *)((long)puVar49 + 0x44) = *(undefined4 *)((long)puVar49 + -0xc);
            puVar49[4] = puVar49[-6];
            puVar49[5] = puVar49[-5];
            *(undefined1 (*) [16])(puVar49 + 6) = *(undefined1 (*) [16])(puVar49 + -4);
            uVar25 = CONCAT44(*(undefined4 *)((long)puVar49 + -0x84),
                              *(undefined4 *)((long)puVar49 + -0x94));
            puVar49 = puVar49 + -10;
          }
          *puVar49 = uVar12;
          puVar49[1] = uVar13;
          puVar49[2] = uVar10;
          puVar49[3] = uVar11;
          puVar49[4] = uVar32;
          puVar49[5] = uVar7;
          puVar49[6] = uVar8;
          puVar49[7] = uVar9;
          *(undefined4 *)(puVar49 + 8) = uVar90;
          *(undefined4 *)((long)puVar49 + 0x44) = uVar92;
        }
        goto LAB_00116aa2;
      }
    }
    std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>(puVar49,puVar33);
  }
LAB_00116aa2:
  createLargeLeaf(param_1,param_2,param_3);
LAB_00116af4:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
LAB_0011d0db:
  local_1628._0_4_ = (float)local_16d8;
  local_1628._4_4_ = local_16d8._4_4_;
  std::__exception_ptr::exception_ptr::_M_addref();
  std::rethrow_exception(&local_1628);
LAB_0011d0fb:
  SetMB::deterministic_order(pSVar5);
  splitByGeometry(pSVar5,(SetMB *)&local_1818,(SetMB *)local_1778);
  pSVar42 = (SetMB *)*param_3;
  fVar104 = *(float *)(param_3 + 2);
  fVar102 = *(float *)((long)param_3 + 0x14);
  fVar103 = *(float *)(param_3 + 3);
  uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
  fVar76 = *(float *)(param_3 + 4);
  fVar87 = *(float *)((long)param_3 + 0x24);
  fVar59 = *(float *)(param_3 + 5);
  uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
  fVar77 = *(float *)(param_3 + 6);
  fVar84 = *(float *)((long)param_3 + 0x34);
  fVar85 = *(float *)(param_3 + 7);
  uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
  fVar122 = *(float *)(param_3 + 8);
  fVar124 = *(float *)((long)param_3 + 0x44);
  fVar125 = *(float *)(param_3 + 9);
  uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
  pSVar30 = (SetMB *)param_3[0x10];
  fVar65 = *(float *)(param_3 + 0x13);
  fVar52 = *(float *)((long)param_3 + 0x9c);
LAB_0011c5f7:
  pSVar35 = (SetMB *)param_3[0x14];
  uStack_1c20 = ppSStack_1810;
  _local_1c28 = local_1818;
  local_1c48._0_8_ = local_17a8;
  uStack_1c10 = pSStack_1800;
  local_1c18 = (undefined1  [8])local_1808;
  auVar95 = ZEXT416((uint)local_1790._4_4_);
  uStack_1c00 = ppSStack_17f0;
  _local_1c08 = local_17f8;
  local_1c58 = local_17a0;
  uStack_1bf0 = pSStack_17e0;
  _local_1bf8 = local_17e8;
  uStack_1be0 = ppSStack_17d0;
  local_1be8 = (undefined1  [8])local_17d8;
  local_1c68 = local_1788;
  uStack_1b90 = pSStack_17c0;
  local_1b98 = (undefined1  [8])local_17c8;
  local_1c38._0_8_ = local_1718;
  uStack_1b80 = uStack_1730;
  local_1b88 = (undefined1  [8])local_1738;
  local_1bc8._4_4_ = _LC10;
  local_1bc8._0_4_ = _LC10;
  uStack_1bc0._0_4_ = _LC10;
  uStack_1bc0._4_4_ = _LC10;
  local_1bd8._4_4_ = _LC8;
  local_1bd8._0_4_ = _LC8;
  uStack_1bd0._0_4_ = _LC8;
  uStack_1bd0._4_4_ = _LC8;
  fVar94 = local_16f0._4_4_;
  fVar96 = (float)local_16f0;
  fVar121 = (float)local_1790;
  goto LAB_00117039;
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMi<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  TaskGroupContext *pTVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  ulong uVar8;
  ulong *puVar9;
  TaskScheduler *pTVar10;
  long lVar11;
  ulong uVar12;
  long in_FS_OFFSET;
  long local_d8;
  ulong uStack_d0;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 uStack_b8;
  undefined8 uStack_b0;
  TaskGroupContext *local_a8;
  ulong local_98;
  ulong uStack_90;
  ulong local_88;
  ulong uStack_80;
  ulong uStack_78;
  ulong uStack_70;
  TaskGroupContext *local_68;
  ulong uStack_60;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  long local_30;
  
  uVar12 = *(ulong *)(this + 8);
  uVar8 = *(ulong *)(this + 0x10);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x18) < uVar12 - uVar8) {
    pTVar4 = *(TaskGroupContext **)(this + 0x38);
    uStack_80 = *(ulong *)(this + 0x20);
    uStack_78 = *(ulong *)(this + 0x28);
    uStack_70 = *(ulong *)(this + 0x30);
    uVar12 = uVar12 + uVar8 >> 1;
    local_98 = uVar12;
    uStack_90 = uVar8;
    local_88 = *(ulong *)(this + 0x18);
    local_68 = pTVar4;
    lVar6 = embree::TaskScheduler::thread();
    if (lVar6 == 0) {
      pTVar10 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar10,(_lambda___1_ *)&local_98,pTVar4,uVar12 - uVar8,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar6 + 0x40080)) goto LAB_0011da96;
      lVar11 = *(long *)(lVar6 + 0xc00c0);
      uVar2 = lVar11 + 0x40 + (ulong)(-(int)lVar11 & 0x3f);
      if (0x80000 < uVar2) goto LAB_0011da96;
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar2);
      *puVar3 = &PTR_execute_0012d4a0;
      puVar3[1] = local_98;
      puVar3[2] = uStack_90;
      puVar3[7] = local_68;
      puVar3[3] = local_88;
      puVar3[4] = uStack_80;
      puVar3[5] = uStack_78;
      puVar3[6] = uStack_70;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = pTVar4;
      *(long *)(lVar7 + 0x68) = lVar11;
      *(ulong *)(lVar7 + 0x70) = uVar12 - uVar8;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
    }
    local_c8 = *(undefined8 *)(this + 0x18);
    local_d8 = *(long *)(this + 8);
    pTVar4 = *(TaskGroupContext **)(this + 0x38);
    uStack_c0 = *(undefined8 *)(this + 0x20);
    uStack_b8 = *(undefined8 *)(this + 0x28);
    uStack_b0 = *(undefined8 *)(this + 0x30);
    uVar8 = local_d8 - uVar12;
    uStack_d0 = uVar12;
    local_a8 = pTVar4;
    lVar6 = embree::TaskScheduler::thread();
    if (lVar6 == 0) {
      pTVar10 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar10,(_lambda___1_ *)&local_d8,pTVar4,uVar8,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar6 + 0x40080)) {
LAB_0011da96:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar11 = *(long *)(lVar6 + 0xc00c0);
      uVar12 = lVar11 + 0x40 + (ulong)(-(int)lVar11 & 0x3f);
      if (0x80000 < uVar12) goto LAB_0011da96;
      *(ulong *)(lVar6 + 0xc00c0) = uVar12;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar12);
      *puVar3 = &PTR_execute_0012d4a0;
      puVar3[1] = local_d8;
      puVar3[2] = uStack_d0;
      puVar3[7] = local_a8;
      puVar3[3] = local_c8;
      puVar3[4] = uStack_c0;
      puVar3[5] = uStack_b8;
      puVar3[6] = uStack_b0;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = pTVar4;
      *(long *)(lVar7 + 0x68) = lVar11;
      *(ulong *)(lVar7 + 0x70) = uVar8;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else {
    if (uVar8 < uVar12) {
      lVar6 = uVar8 * 0xb0;
      do {
        local_d8 = 0;
        uStack_d0 = 0;
        lVar11 = *(long *)(this + 0x28) + lVar6;
        lVar6 = lVar6 + 0xb0;
        local_c8 = 0;
        sse2::BVHBuilderMSMBlur::
        BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
        ::recurse(&local_98,*(undefined8 *)(this + 0x30),lVar11,1);
        puVar9 = (ulong *)(uVar8 * 0x60 + *(long *)(this + 0x20));
        uVar8 = uVar8 + 1;
        *puVar9 = local_98;
        puVar9[2] = local_88;
        puVar9[3] = uStack_80;
        puVar9[10] = local_48;
        puVar9[4] = uStack_78;
        puVar9[5] = uStack_70;
        puVar9[6] = (ulong)local_68;
        puVar9[7] = uStack_60;
        puVar9[8] = local_58;
        puVar9[9] = uStack_50;
      } while (uVar8 < uVar12);
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::buildMultiSegment(unsigned long) */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>>::buildMultiSegment
          (BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>> *this,ulong param_1)

{
  byte bVar1;
  ulong uVar2;
  ulong uVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  long in_FS_OFFSET;
  double dVar7;
  undefined8 *local_348;
  bool local_340 [8];
  ulong local_338;
  ulong local_330;
  void *local_328;
  undefined8 auStack_318 [2];
  undefined1 auStack_308 [80];
  undefined8 uStack_2b8;
  undefined8 uStack_2b0;
  long lStack_2a8;
  ulong uStack_2a0;
  ulong uStack_298;
  undefined4 uStack_290;
  undefined4 uStack_28c;
  undefined1 uStack_288;
  ulong uStack_280;
  long lStack_270;
  long lStack_268;
  long lStack_260;
  long lStack_258;
  long lStack_248;
  undefined **ppuStack_240;
  undefined8 uStack_238;
  undefined8 local_228;
  undefined8 uStack_220;
  undefined8 uStack_218;
  undefined8 uStack_210;
  undefined8 uStack_208;
  undefined8 uStack_200;
  undefined4 uStack_1f8;
  undefined4 uStack_1f4;
  undefined4 uStack_1f0;
  undefined4 uStack_1ec;
  undefined4 uStack_1e8;
  undefined4 uStack_1e4;
  undefined4 uStack_1e0;
  undefined4 uStack_1dc;
  undefined4 uStack_1d8;
  undefined4 uStack_1d4;
  undefined4 uStack_1d0;
  undefined4 uStack_1cc;
  long local_1c8;
  long local_1c0;
  long local_1b8;
  undefined8 uStack_1b0;
  undefined8 uStack_1a8;
  undefined8 uStack_1a0;
  undefined8 uStack_118;
  undefined8 uStack_110;
  undefined8 auStack_f8 [2];
  undefined8 uStack_e8;
  undefined8 uStack_e0;
  undefined8 uStack_d8;
  undefined8 uStack_d0;
  undefined8 uStack_c8;
  undefined8 uStack_c0;
  undefined4 uStack_b8;
  undefined4 uStack_b4;
  undefined4 uStack_b0;
  undefined4 uStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  long lStack_78;
  undefined8 uStack_70;
  undefined8 uStack_68;
  undefined8 uStack_60;
  undefined8 **ppuStack_58;
  long local_40;
  
  lVar6 = *(long *)(this + 0x18);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_340[0] = false;
  local_338 = 0;
  local_348 = *(undefined8 **)(lVar6 + 0x188);
  local_330 = 0;
  local_328 = (void *)0x0;
  if (local_348 != (undefined8 *)0x0) {
    local_348 = local_348 + 0xa9;
  }
  if (param_1 != 0) {
    uVar4 = param_1 * 0x50;
    (**(code **)*local_348)(local_348,uVar4,0);
    if (uVar4 < 0x1c00000) {
      local_328 = (void *)embree::alignedMalloc(uVar4,0x10);
    }
    else {
      local_328 = (void *)embree::os_malloc(uVar4,local_340);
    }
    lVar6 = *(long *)(this + 0x18);
    local_330 = param_1;
  }
  local_338 = local_330;
  embree::sse2::createPrimRefArrayMSMBlur
            (0x3f80000000000000,&local_228,lVar6,*(undefined8 *)(this + 0x40),param_1,&local_348,
             *(long *)(*(long *)(this + 0x10) + 0x68) + 600);
  if (local_1c8 == local_1c0) {
    (**(code **)(**(long **)(this + 0x10) + 0x28))();
    uVar4 = local_330;
  }
  else {
    dVar7 = (double)(local_1b8 + 3U >> 2) * __LC43 * __LC44;
    if (__LC45 <= dVar7) {
      uVar4 = (long)(dVar7 - __LC45) ^ 0x8000000000000000;
    }
    else {
      uVar4 = (ulong)dVar7;
    }
    uVar4 = uVar4 + ((ulong)(local_1b8 * 0xe0) >> 4);
    FastAllocator::init_estimate((FastAllocator *)(*(long *)(this + 0x10) + 0x78),uVar4);
    uStack_298 = *(ulong *)(this + 0x38);
    uStack_28c = *(undefined4 *)(this + 0x28);
    lStack_248 = *(long *)(this + 0x10);
    lStack_2a8 = 0x3f;
    if (*(ulong *)(this + 0x20) != 0) {
      for (; *(ulong *)(this + 0x20) >> lStack_2a8 == 0; lStack_2a8 = lStack_2a8 + -1) {
      }
    }
    uVar5 = *(ulong *)(this + 0x30);
    if (uStack_298 <= *(ulong *)(this + 0x30)) {
      uVar5 = uStack_298;
    }
    if ((local_1c0 - local_1c8 == 0) || (uVar4 == 0)) {
      uStack_280 = 0x400;
    }
    else {
      bVar1 = *(byte *)(lStack_248 + 0x182);
      uVar2 = embree::TaskScheduler::threadCount();
      lVar6 = (2 - (ulong)bVar1) * *(long *)(lStack_248 + 0x88);
      uVar3 = lVar6 * 0x14;
      if (((uVar4 - 1) + uVar3) / uVar3 < uVar2) {
        uVar3 = lVar6 * 0x50;
        if ((long)uVar3 < 0) {
          dVar7 = (double)(uVar3 >> 1) + (double)(uVar3 >> 1);
        }
        else {
          dVar7 = (double)(long)uVar3;
        }
        dVar7 = dVar7 / ((double)uVar4 / (double)(ulong)(local_1c0 - local_1c8));
        if ((double)((ulong)dVar7 & _LC49) < _LC46) {
          dVar7 = (double)((ulong)((double)(long)dVar7 +
                                  (double)(-(ulong)((double)(long)dVar7 < dVar7) & _LC48)) |
                          ~_LC49 & (ulong)dVar7);
        }
        if (__LC45 <= dVar7) {
          uStack_280 = (long)(dVar7 - __LC45) ^ 0x8000000000000000;
        }
        else {
          uStack_280 = (ulong)dVar7;
        }
        lStack_248 = *(long *)(this + 0x10);
      }
      else {
        lStack_248 = *(long *)(this + 0x10);
        uStack_280 = 0x400;
      }
    }
    lStack_268 = *(long *)(this + 0x18);
    lStack_258 = lStack_248 + 0x78;
    uStack_238 = *(undefined8 *)(*(long *)(lStack_248 + 0x68) + 0x260);
    lStack_270 = *(long *)(lStack_268 + 0x188);
    if (lStack_270 != 0) {
      lStack_270 = lStack_270 + 0x548;
    }
    ppuStack_240 = &PTR_operator___0012d7c0;
    uStack_118 = uStack_1a8;
    uStack_110 = uStack_1a0;
    uStack_e8 = local_228;
    uStack_e0 = uStack_220;
    uStack_d8 = uStack_218;
    uStack_d0 = uStack_210;
    uStack_2b8 = 4;
    uStack_2b0 = 0x50;
    uStack_290 = 0x3f800000;
    uStack_288 = 0;
    auStack_f8[0] = 1;
    lStack_78 = local_1b8;
    uStack_68 = uStack_1a8;
    uStack_60 = uStack_1a0;
    uStack_70 = uStack_1b0;
    uStack_b8 = uStack_1f8;
    uStack_b4 = uStack_1f4;
    uStack_b0 = uStack_1f0;
    uStack_ac = uStack_1ec;
    uStack_a8 = uStack_1e8;
    uStack_a4 = uStack_1e4;
    uStack_a0 = uStack_1e0;
    uStack_9c = uStack_1dc;
    uStack_98 = uStack_1d8;
    uStack_94 = uStack_1d4;
    uStack_90 = uStack_1d0;
    uStack_8c = uStack_1cc;
    uStack_c8 = uStack_208;
    uStack_c0 = uStack_200;
    uStack_2a0 = uVar5;
    lStack_260 = lStack_268;
    ppuStack_58 = &local_348;
    BVHBuilderMSMBlur::
    BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMi<4>>,embree::Scene::BuildProgressMonitorInterface>
    ::recurse(auStack_318,&uStack_2b8,auStack_f8,1,lStack_268,uStack_280,0,0,0);
    embree::BVHN<4>::set(*(undefined8 *)(this + 0x10),auStack_318[0],auStack_308,local_1b8);
    uVar4 = local_330;
  }
  local_330 = uVar4;
  if (local_328 != (void *)0x0) {
    if (uVar4 * 0x50 < 0x1c00000) {
      embree::alignedFree(local_328);
    }
    else {
      embree::os_free(local_328,uVar4 * 0x50,local_340[0]);
    }
  }
  if (uVar4 != 0) {
    (**(code **)*local_348)(local_348,uVar4 * -0x50,1);
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMi<4> >::build() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>>::build
          (BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
  ulong uVar1;
  string *psVar2;
  long lVar3;
  long *plVar4;
  long *plVar5;
  uint uVar6;
  ulong uVar7;
  long *plVar9;
  ulong uVar10;
  long lVar11;
  long *plVar12;
  long in_FS_OFFSET;
  double dVar13;
  long *local_a8 [2];
  long local_98 [2];
  long *local_88;
  long local_80;
  long local_78 [2];
  long *local_68;
  long local_60;
  long local_58 [5];
  ulong uVar8;
  
  uVar10 = 0;
  lVar11 = *(long *)(this + 0x18);
  local_58[3] = *(long *)(in_FS_OFFSET + 0x28);
  uVar1 = *(ulong *)(this + 0x40);
  if ((uVar1 & 0x100000) != 0) {
    uVar10 = *(ulong *)(lVar11 + 0x290);
  }
  if ((uVar1 & 0x200000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2a0);
  }
  if ((uVar1 & 0xf) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2c0);
  }
  if ((uVar1 & 0x77770) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2b0);
  }
  if ((uVar1 & 0xe000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x340);
  }
  if ((uVar1 & 0x800000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2d0);
  }
  if ((uVar1 & 0x20000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2e0);
  }
  if ((uVar1 & 0x40000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2f0);
  }
  if ((uVar1 & 0x80000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x300);
  }
  if ((uVar1 & 0x1000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x310);
  }
  if ((uVar1 & 0x400000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 800);
  }
  psVar2 = *(string **)(this + 0x10);
  if (uVar10 == 0) {
    if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x0011e231. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*(long *)psVar2 + 0x28))(psVar2);
      return;
    }
  }
  else {
    local_a8[0] = local_98;
    std::__cxx11::string::_M_construct((ulong)local_a8,'\x01');
    *(undefined1 *)local_a8[0] = 0x34;
    plVar4 = (long *)std::__cxx11::string::_M_replace((ulong)local_a8,0,(char *)0x0,0x11e0f7);
    plVar5 = plVar4 + 2;
    if ((long *)*plVar4 == plVar5) {
      uVar1 = plVar4[1] + 1;
      plVar9 = plVar5;
      plVar12 = local_78;
      if (7 < (uint)uVar1) {
        uVar7 = 0;
        do {
          uVar6 = (int)uVar7 + 8;
          uVar8 = (ulong)uVar6;
          *(undefined8 *)((long)local_78 + uVar7) = *(undefined8 *)((long)plVar5 + uVar7);
          uVar7 = uVar8;
        } while (uVar6 < ((uint)uVar1 & 0xfffffff8));
        plVar12 = (long *)((long)local_78 + uVar8);
        plVar9 = (long *)(uVar8 + (long)plVar5);
      }
      lVar11 = 0;
      if ((uVar1 & 4) != 0) {
        *(int *)plVar12 = (int)*plVar9;
        lVar11 = 4;
      }
      if ((uVar1 & 2) != 0) {
        *(undefined2 *)((long)plVar12 + lVar11) = *(undefined2 *)((long)plVar9 + lVar11);
        lVar11 = lVar11 + 2;
      }
      local_88 = local_78;
      if ((uVar1 & 1) != 0) {
        *(undefined1 *)((long)plVar12 + lVar11) = *(undefined1 *)((long)plVar9 + lVar11);
      }
    }
    else {
      local_78[0] = plVar4[2];
      local_88 = (long *)*plVar4;
    }
    local_80 = plVar4[1];
    *plVar4 = (long)plVar5;
    plVar4[1] = 0;
    *(undefined1 *)(plVar4 + 2) = 0;
    if (0x3fffffffffffffffU - local_80 < 0xf) {
      std::__throw_length_error("basic_string::append");
    }
    else {
      plVar4 = (long *)std::__cxx11::string::_M_append((char *)&local_88,0x11e116);
      plVar5 = plVar4 + 2;
      if ((long *)*plVar4 == plVar5) {
        uVar1 = plVar4[1] + 1;
        plVar9 = plVar5;
        plVar12 = local_58;
        if (7 < (uint)uVar1) {
          uVar7 = 0;
          do {
            uVar6 = (int)uVar7 + 8;
            uVar8 = (ulong)uVar6;
            *(undefined8 *)((long)local_58 + uVar7) = *(undefined8 *)((long)plVar5 + uVar7);
            uVar7 = uVar8;
          } while (uVar6 < ((uint)uVar1 & 0xfffffff8));
          plVar12 = (long *)((long)local_58 + uVar8);
          plVar9 = (long *)(uVar8 + (long)plVar5);
        }
        lVar11 = 0;
        if ((uVar1 & 4) != 0) {
          *(int *)plVar12 = (int)*plVar9;
          lVar11 = 4;
        }
        if ((uVar1 & 2) != 0) {
          *(undefined2 *)((long)plVar12 + lVar11) = *(undefined2 *)((long)plVar9 + lVar11);
          lVar11 = lVar11 + 2;
        }
        local_68 = local_58;
        if ((uVar1 & 1) != 0) {
          *(undefined1 *)((long)plVar12 + lVar11) = *(undefined1 *)((long)plVar9 + lVar11);
        }
      }
      else {
        local_58[0] = plVar4[2];
        local_68 = (long *)*plVar4;
      }
      local_60 = plVar4[1];
      *plVar4 = (long)plVar5;
      plVar4[1] = 0;
      *(undefined1 *)(plVar4 + 2) = 0;
      dVar13 = (double)embree::BVHN<4>::preBuild(psVar2);
      if (local_68 != local_58) {
        operator_delete(local_68,local_58[0] + 1);
      }
      if (local_88 != local_78) {
        operator_delete(local_88,local_78[0] + 1);
      }
      if (local_a8[0] != local_98) {
        operator_delete(local_a8[0],local_98[0] + 1);
      }
      buildMultiSegment(this,uVar10);
      lVar11 = *(long *)(this + 0x10);
      plVar5 = (long *)(lVar11 + 0x130);
      plVar4 = (long *)(lVar11 + 0x170);
      do {
        while (*plVar5 != 0) {
          lVar3 = *(long *)(*plVar5 + 0x18);
          *(long *)(*plVar5 + 0x18) = *plVar4;
          LOCK();
          *plVar4 = *plVar5;
          UNLOCK();
          LOCK();
          *plVar5 = lVar3;
          UNLOCK();
        }
        LOCK();
        *plVar5 = 0;
        UNLOCK();
        plVar5 = plVar5 + 1;
      } while (plVar5 != plVar4);
      plVar5 = *(long **)(lVar11 + 0x1a8);
      plVar4 = *(long **)(lVar11 + 0x1b0);
      if (plVar5 != plVar4) {
        do {
          while( true ) {
            lVar3 = *plVar5;
            if (lVar11 + 0x78 != *(long *)(lVar3 + 8)) break;
            embree::MutexSys::lock();
            if (lVar11 + 0x78 == *(long *)(lVar3 + 8)) {
              LOCK();
              plVar12 = (long *)(*(long *)(lVar3 + 8) + 0x118);
              *plVar12 = *plVar12 + *(long *)(lVar3 + 0xa8) + *(long *)(lVar3 + 0x68);
              UNLOCK();
              LOCK();
              plVar12 = (long *)(*(long *)(lVar3 + 8) + 0x120);
              *plVar12 = *plVar12 +
                         (((*(long *)(lVar3 + 0x98) + *(long *)(lVar3 + 0x58)) -
                          *(long *)(lVar3 + 0x50)) - *(long *)(lVar3 + 0x90));
              UNLOCK();
              LOCK();
              plVar12 = (long *)(*(long *)(lVar3 + 8) + 0x128);
              *plVar12 = *plVar12 + *(long *)(lVar3 + 0xb0) + *(long *)(lVar3 + 0x70);
              UNLOCK();
              *(undefined8 *)(lVar3 + 0x48) = 0;
              *(undefined8 *)(lVar3 + 0x58) = 0;
              *(undefined8 *)(lVar3 + 0x50) = 0;
              *(undefined8 *)(lVar3 + 0x68) = 0;
              *(undefined8 *)(lVar3 + 0x70) = 0;
              *(undefined8 *)(lVar3 + 0x60) = 0;
              *(undefined8 *)(lVar3 + 0x88) = 0;
              *(undefined8 *)(lVar3 + 0x98) = 0;
              *(undefined8 *)(lVar3 + 0x90) = 0;
              *(undefined8 *)(lVar3 + 0xa8) = 0;
              *(undefined8 *)(lVar3 + 0xb0) = 0;
              *(undefined8 *)(lVar3 + 0xa0) = 0;
              LOCK();
              *(undefined8 *)(lVar3 + 8) = 0;
              UNLOCK();
            }
            plVar5 = plVar5 + 1;
            embree::MutexSys::unlock();
            if (plVar4 == plVar5) goto LAB_0011e50e;
          }
          plVar5 = plVar5 + 1;
        } while (plVar4 != plVar5);
LAB_0011e50e:
        if (*(long *)(lVar11 + 0x1a8) != *(long *)(lVar11 + 0x1b0)) {
          *(long *)(lVar11 + 0x1b0) = *(long *)(lVar11 + 0x1a8);
        }
      }
      if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::BVHN<4>::postBuild(dVar13);
        return;
      }
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::createLargeLeaf(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator) */

BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
* __thiscall
embree::sse2::BVHBuilderMSMBlur::
BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
::createLargeLeaf(BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
                  *this,ulong *param_1,ulong *param_3)

{
  float *pfVar1;
  uint *puVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined4 uVar7;
  ulong *puVar8;
  void *pvVar9;
  ulong *puVar10;
  long lVar11;
  long lVar12;
  long lVar13;
  int iVar14;
  undefined8 uVar15;
  undefined8 uVar16;
  undefined8 uVar17;
  undefined8 uVar18;
  undefined8 uVar19;
  undefined8 uVar20;
  undefined8 uVar21;
  undefined1 auVar22 [16];
  undefined1 auVar23 [16];
  undefined1 auVar24 [16];
  undefined1 auVar25 [16];
  undefined1 auVar26 [16];
  undefined1 auVar27 [16];
  undefined1 auVar28 [16];
  bool bVar29;
  float fVar30;
  float fVar31;
  uint uVar32;
  undefined1 auVar33 [8];
  undefined1 auVar34 [8];
  undefined1 auVar35 [8];
  undefined1 auVar36 [8];
  undefined1 auVar37 [12];
  int iVar38;
  ulong uVar39;
  ulong uVar40;
  ulong *puVar41;
  ulong *puVar42;
  float *pfVar43;
  undefined4 *puVar44;
  undefined4 *puVar45;
  undefined4 *puVar46;
  float *pfVar47;
  undefined8 uVar48;
  undefined8 *puVar49;
  undefined1 (*pauVar50) [16];
  float **ppfVar51;
  long lVar52;
  ulong uVar53;
  long lVar54;
  long *plVar55;
  int iVar56;
  uint *puVar57;
  bool bVar58;
  long lVar59;
  ulong uVar60;
  long *plVar61;
  undefined8 *puVar62;
  undefined8 *puVar63;
  long lVar64;
  ulong uVar65;
  SetMB *pSVar66;
  long in_FS_OFFSET;
  float fVar67;
  undefined1 auVar68 [16];
  undefined1 auVar69 [16];
  undefined1 auVar70 [16];
  undefined1 auVar71 [16];
  undefined1 auVar72 [16];
  undefined1 auVar73 [16];
  undefined1 auVar74 [16];
  undefined1 auVar75 [16];
  undefined1 auVar76 [16];
  float fVar77;
  float fVar78;
  undefined1 auVar79 [16];
  undefined1 auVar80 [16];
  undefined1 auVar81 [16];
  undefined1 auVar82 [16];
  undefined1 auVar83 [16];
  undefined1 auVar84 [16];
  float fVar85;
  float fVar87;
  float fVar88;
  undefined1 auVar86 [16];
  float fVar89;
  float fVar90;
  float fVar94;
  undefined1 auVar91 [16];
  undefined1 auVar92 [16];
  undefined1 auVar93 [16];
  float fVar96;
  float fVar97;
  undefined1 auVar95 [16];
  float fVar98;
  float fVar102;
  float fVar103;
  undefined1 auVar99 [16];
  undefined1 auVar100 [16];
  float fVar104;
  undefined1 auVar101 [16];
  float fVar105;
  float fVar106;
  undefined1 auVar107 [16];
  undefined1 auVar108 [16];
  undefined1 auVar109 [16];
  undefined1 auVar110 [16];
  undefined1 auVar111 [16];
  undefined1 auVar112 [16];
  undefined1 auVar113 [16];
  undefined1 auVar114 [16];
  undefined1 auVar115 [16];
  float fVar116;
  undefined1 auVar117 [16];
  undefined1 auVar118 [16];
  undefined1 auVar119 [16];
  undefined1 auVar120 [16];
  undefined1 auVar121 [16];
  undefined1 auVar122 [16];
  undefined1 auVar123 [16];
  undefined1 auVar124 [16];
  undefined1 auVar125 [16];
  undefined1 auVar126 [16];
  undefined1 auVar127 [16];
  undefined1 auVar128 [16];
  undefined1 auVar129 [16];
  undefined1 auVar130 [16];
  undefined1 auVar131 [16];
  undefined1 auVar132 [16];
  float fVar138;
  float fVar139;
  undefined1 auVar133 [16];
  undefined1 auVar134 [16];
  undefined1 auVar135 [16];
  undefined1 auVar136 [16];
  undefined1 auVar137 [16];
  float fVar140;
  float fVar142;
  float fVar143;
  undefined1 auVar141 [16];
  FastAllocator *in_stack_00000008;
  ulong *in_stack_00000010;
  ulong *in_stack_00000018;
  float *local_1f48;
  undefined8 uStack_1f40;
  ulong local_1f38;
  undefined8 uStack_1f30;
  undefined1 local_1f28 [8];
  undefined8 uStack_1f20;
  undefined1 local_1f18 [16];
  undefined1 local_1f08 [16];
  undefined1 local_1ef8 [16];
  undefined1 local_1ee8 [16];
  undefined1 local_1ed8 [4];
  undefined1 auStack_1ed4 [4];
  undefined8 uStack_1ed0;
  float local_1ec8;
  undefined1 auStack_1ec4 [12];
  ulong local_1eb8;
  long local_1ea0;
  undefined1 local_1e98 [16];
  undefined1 local_1e88 [16];
  undefined1 local_1e78 [16];
  undefined1 local_1e68 [16];
  undefined1 local_1e58 [16];
  undefined1 local_1e48 [16];
  undefined1 local_1e38 [16];
  undefined1 local_1e28 [16];
  undefined1 local_1e18 [16];
  undefined1 local_1e08 [16];
  undefined1 local_1df8 [16];
  undefined1 local_1de8 [16];
  undefined1 local_1dd8 [8];
  undefined8 uStack_1dd0;
  undefined1 local_1dc8 [8];
  undefined8 uStack_1dc0;
  undefined1 local_1db8 [8];
  undefined8 uStack_1db0;
  undefined1 local_1da8 [8];
  undefined8 uStack_1da0;
  ulong local_1d78;
  ulong *local_1cc0;
  float local_1cb8;
  float local_1cb4;
  float local_1cb0;
  float local_1cac;
  float *local_1ca8;
  float *local_1ca0;
  ulong *local_1c98;
  float *local_1c90;
  ulong *local_1c88;
  ulong *local_1c78;
  float *local_1c70;
  ulong *local_1c68;
  ulong **local_1c60;
  SetMB *local_1c58;
  float *local_1c48;
  float *pfStack_1c40;
  undefined1 *local_1c38;
  undefined8 uStack_1c30;
  float *local_1c28;
  float *pfStack_1c20;
  ulong local_1c18;
  ulong uStack_1c10;
  float *local_1c08;
  float *pfStack_1c00;
  ulong local_1bf8;
  ulong uStack_1bf0;
  float *local_1be8;
  float *local_1be0;
  ulong local_1bd8;
  undefined8 local_1bd0;
  undefined4 local_1bc8;
  undefined4 local_1bc4;
  float local_1bc0;
  float local_1bbc;
  float *local_1bb8;
  float *pfStack_1bb0;
  ulong local_1ba8;
  ulong uStack_1ba0;
  float *local_1b98;
  float *pfStack_1b90;
  ulong local_1b88;
  ulong uStack_1b80;
  float *local_1b78;
  float *pfStack_1b70;
  ulong local_1b68;
  ulong uStack_1b60;
  float *local_1b58;
  float *local_1b50;
  ulong local_1b48;
  undefined8 local_1b40;
  undefined8 local_1b38;
  undefined8 local_1b30;
  float *local_1b28;
  float *pfStack_1b20;
  ulong local_1b18;
  ulong uStack_1b10;
  float *local_1b08;
  float *pfStack_1b00;
  ulong local_1af8;
  ulong uStack_1af0;
  float *local_1ae8;
  float *pfStack_1ae0;
  undefined8 local_1ad8;
  ulong uStack_1ad0;
  undefined8 local_1ac8;
  undefined8 local_1ac0;
  ulong local_1ab8;
  undefined8 local_1ab0;
  undefined8 local_1aa8;
  undefined8 local_1aa0;
  ulong local_1a98;
  ulong local_1a90;
  uint local_1a78 [8];
  undefined1 local_1a58 [16];
  undefined1 local_1a48 [16];
  undefined1 local_1a38 [16];
  undefined1 local_1a28 [8];
  float fStack_1a20;
  float fStack_1a1c;
  undefined1 local_1a18 [16];
  undefined1 local_1a08 [16];
  undefined1 local_19f8 [8];
  float fStack_19f0;
  float fStack_19ec;
  undefined1 local_19e8 [8];
  float fStack_19e0;
  float fStack_19dc;
  undefined1 local_19d8 [8];
  undefined8 uStack_19d0;
  undefined8 local_19c8;
  undefined8 uStack_19c0;
  ulong local_19b8;
  undefined1 local_19a8 [16];
  undefined1 local_1998 [16];
  undefined1 local_1988 [16];
  undefined1 local_1978 [16];
  ulong local_1968;
  ulong uStack_1960;
  undefined1 local_1958 [16];
  float *local_1948;
  float *pfStack_1940;
  ulong local_1938;
  ulong local_1930;
  ulong local_1928;
  undefined8 local_1920;
  ulong local_1918;
  float local_1908;
  undefined4 local_1904;
  undefined4 local_1900;
  uint local_18fc;
  ulong local_18f8;
  undefined4 local_18e8;
  undefined4 uStack_18e4;
  undefined4 uStack_18e0;
  undefined4 uStack_18dc;
  undefined8 local_18d8;
  undefined8 uStack_18d0;
  undefined1 local_18c8 [16];
  undefined1 local_18b8 [16];
  undefined1 local_18a8 [16];
  float *local_1898;
  float *pfStack_1890;
  ulong local_1888;
  ulong uStack_1880;
  float *local_1878;
  float *pfStack_1870;
  ulong local_1868;
  ulong uStack_1860;
  float *local_1858;
  float *pfStack_1850;
  ulong local_1848;
  undefined8 local_1840;
  undefined8 local_1838;
  float local_1830;
  float fStack_182c;
  ulong *local_1828;
  undefined8 local_1818;
  undefined8 local_1810;
  ulong local_1808;
  undefined8 local_17f8;
  undefined8 uStack_17f0;
  undefined8 local_17e8;
  undefined8 uStack_17e0;
  undefined1 local_17d8 [16];
  undefined1 local_17c8 [8];
  undefined8 uStack_17c0;
  undefined1 local_17b8 [8];
  undefined8 uStack_17b0;
  undefined8 local_17a8;
  undefined8 uStack_17a0;
  undefined8 local_1798;
  undefined8 uStack_1790;
  undefined8 local_1788;
  float *pfStack_1780;
  undefined1 local_1778 [16];
  undefined8 local_1768;
  undefined8 uStack_1760;
  undefined8 local_1758;
  undefined8 uStack_1750;
  undefined8 local_1748;
  float fStack_1740;
  float fStack_173c;
  undefined8 local_1738;
  float fStack_1730;
  float fStack_172c;
  undefined8 local_1728;
  undefined8 local_1720;
  ulong local_1718;
  undefined8 local_1708;
  undefined8 uStack_1700;
  undefined8 local_16f8;
  undefined8 uStack_16f0;
  float local_16e8;
  float fStack_16e4;
  float fStack_16e0;
  float fStack_16dc;
  float local_16d8;
  float fStack_16d4;
  float fStack_16d0;
  float fStack_16cc;
  float local_16c8;
  float local_16c4;
  ulong local_16b8;
  float local_16a8;
  float fStack_16a4;
  float fStack_16a0;
  float fStack_169c;
  float local_1698;
  float fStack_1694;
  float fStack_1690;
  float fStack_168c;
  float local_1688;
  float fStack_1684;
  float fStack_1680;
  float fStack_167c;
  float local_1678;
  float fStack_1674;
  float fStack_1670;
  float fStack_166c;
  float local_1668;
  float local_1664;
  undefined1 local_11d8 [16];
  undefined1 local_11c8 [16];
  undefined1 local_11b8 [16];
  undefined1 local_11a8 [16];
  undefined1 local_1198 [16];
  ulong local_1188 [2];
  undefined1 local_1178 [16];
  float *local_1168 [2];
  ulong local_1158 [2];
  undefined8 local_1148;
  undefined8 local_1140;
  ulong local_1138 [2];
  float local_1128 [3];
  uint local_111c;
  ulong local_1118 [2];
  undefined4 local_1108;
  undefined4 uStack_1104;
  undefined4 uStack_1100;
  undefined4 uStack_10fc;
  undefined8 local_10f8 [24];
  undefined8 local_1038;
  undefined8 local_1030;
  undefined8 local_f48;
  undefined8 local_f40;
  undefined8 local_e58;
  undefined8 local_e50;
  undefined8 local_d68;
  undefined8 local_d60;
  undefined8 local_c78;
  undefined8 local_c70;
  float local_b88;
  undefined4 local_b84;
  undefined8 local_b80;
  undefined8 local_a98;
  undefined8 local_a90;
  undefined8 local_9a8;
  undefined8 local_9a0;
  undefined8 local_8b8;
  undefined8 local_8b0;
  undefined8 local_7c8;
  undefined8 local_7c0;
  undefined8 local_6d8;
  undefined8 local_6d0;
  undefined8 local_5e8;
  undefined8 local_5e0;
  undefined8 local_4f8;
  undefined8 local_4f0;
  undefined8 local_408;
  undefined8 local_400;
  undefined8 local_318;
  undefined8 local_310;
  ulong *local_2d8 [16];
  ulong local_258;
  ulong local_250 [64];
  long local_50;
  long local_40;
  
  uVar65 = *param_3;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  if (param_1[1] < uVar65) {
                    /* WARNING: Subroutine does not return */
    abort();
  }
  findFallback((SetMB *)local_11d8);
  fVar31 = _LC10;
  fVar30 = _LC8;
  local_1a98 = param_3[0x12];
  local_19a8 = *(undefined1 (*) [16])(param_3 + 2);
  local_1a90 = param_3[0x13];
  local_1998 = *(undefined1 (*) [16])(param_3 + 4);
  local_1968 = param_3[10];
  uStack_1960 = param_3[0xb];
  local_1958 = *(undefined1 (*) [16])(param_3 + 0xc);
  pfVar43 = (float *)param_3[0xe];
  pfStack_1940 = (float *)param_3[0xf];
  local_1988 = *(undefined1 (*) [16])(param_3 + 6);
  local_1978 = *(undefined1 (*) [16])(param_3 + 8);
  local_1938 = param_3[0x10];
  local_1930 = param_3[0x11];
  local_1918 = param_3[0x14];
  uVar4 = local_11d8._4_4_;
  uVar3 = local_11d8._0_4_;
  local_1908 = (float)local_11d8._0_4_;
  local_1904 = local_11d8._4_4_;
  uVar6 = local_11d8._12_4_;
  local_1900 = local_11d8._8_4_;
  local_18fc = local_11d8._12_4_;
  local_18f8 = local_11c8._0_8_;
  local_18e8 = local_11b8._0_4_;
  uStack_18e4 = local_11b8._4_4_;
  uStack_18e0 = local_11b8._8_4_;
  uStack_18dc = local_11b8._12_4_;
  local_18d8 = local_11a8._0_8_;
  uStack_18d0 = local_11a8._8_8_;
  local_19b8 = uVar65;
  local_1948 = pfVar43;
  local_1928 = local_1a98;
  local_1920 = local_1a90;
  if (uVar65 == 1) {
    if (pfVar43 == pfStack_1940) {
      if (1 < (uint)local_11d8._12_4_) {
        bVar58 = false;
        goto LAB_0011e85a;
      }
      local_1f48 = (float *)0x0;
      uVar65 = 8;
      uVar60 = 0;
      goto LAB_00120db3;
    }
    local_1920._0_4_ = (float)local_1a90;
    fVar85 = _LC8;
    fVar106 = _LC10;
    if (pfVar43 < pfStack_1940) {
      pfVar47 = (float *)(*(long *)(local_1918 + 0x20) + 0x40 + (long)pfVar43 * 0x50);
      fVar77 = _LC8;
      do {
        pfVar1 = pfVar47 + 1;
        if (*pfVar47 <= fVar106) {
          fVar106 = *pfVar47;
        }
        pfVar47 = pfVar47 + 0x14;
        fVar85 = *pfVar1;
        if (*pfVar1 <= fVar77) {
          fVar85 = fVar77;
        }
        fVar77 = fVar85;
      } while ((float *)(*(long *)(local_1918 + 0x20) + 0x40 + (long)pfStack_1940 * 0x50) != pfVar47
              );
    }
    if (((float)local_1920 < fVar106) ||
       (local_1920._4_4_ = (float)(local_1a90 >> 0x20), fVar85 < local_1920._4_4_)) {
      bVar58 = true;
LAB_0011e85a:
      local_1030 = 0;
      local_1038 = 0xffffffff7f800000;
      local_f48 = 0xffffffff7f800000;
      local_e58 = 0xffffffff7f800000;
      local_d68 = 0xffffffff7f800000;
      local_c78 = 0xffffffff7f800000;
      local_a98 = 0xffffffff7f800000;
      local_9a8 = 0xffffffff7f800000;
      local_8b8 = 0xffffffff7f800000;
      local_7c8 = 0xffffffff7f800000;
      local_6d8 = 0xffffffff7f800000;
      local_5e8 = 0xffffffff7f800000;
      local_4f8 = 0xffffffff7f800000;
      local_408 = 0xffffffff7f800000;
      local_318 = 0xffffffff7f800000;
      local_f40 = 0;
      local_e50 = 0;
      local_d60 = 0;
      local_c70 = 0;
      local_b84 = 0xffffffff;
      local_b80 = 0;
      local_a90 = 0;
      local_9a0 = 0;
      local_8b0 = 0;
      local_7c0 = 0;
      local_6d0 = 0;
      local_5e0 = 0;
      local_4f0 = 0;
      local_400 = 0;
      local_310 = 0;
      local_258 = 1;
      local_b88 = _LC10;
      local_50 = 1;
      local_1118[0] = local_11c8._0_8_;
      local_1148 = local_1a98;
      local_1168[0] = pfVar43;
      local_1168[1] = pfStack_1940;
      local_1140 = local_1a90;
      local_1128[2] = (float)local_11d8._8_4_;
      local_2d8[0] = local_250;
      local_11d8._0_8_ = uVar65;
      local_1158[0] = local_1938;
      local_1158[1] = local_1930;
      local_1138[0] = local_1918;
      local_1128[1] = (float)uVar4;
      local_111c = uVar6;
      local_250[0] = local_1918;
      local_250[1] = 2;
      bVar29 = false;
      local_1128[0] = (float)uVar3;
      local_1108 = local_11b8._0_4_;
      uStack_1104 = local_11b8._4_4_;
      uStack_1100 = local_11b8._8_4_;
      uStack_10fc = local_11b8._12_4_;
      local_10f8[0] = local_11a8._0_8_;
      local_10f8[1] = local_11a8._8_8_;
      local_11c8 = local_19a8;
      local_11b8 = local_1998;
      local_11a8 = local_1988;
      local_1198 = local_1978;
      local_1188[0] = local_1968;
      local_1188[1] = uStack_1960;
      local_1178 = local_1958;
      while( true ) {
        auVar37 = stack0xffffffffffffe0cc;
        uVar48 = local_1f08._8_8_;
        uVar39 = 0;
        uVar65 = 0;
        uVar60 = 0xffffffffffffffff;
        ppfVar51 = local_1168;
        do {
          uVar40 = (long)ppfVar51[1] - (long)*ppfVar51;
          if ((((param_1[4] < uVar40) || (1 < *(uint *)((long)ppfVar51 + 0x4c))) || (bVar58)) &&
             (uVar65 < uVar40)) {
            uVar65 = uVar40;
            uVar60 = uVar39;
          }
          uVar39 = uVar39 + 1;
          ppfVar51 = ppfVar51 + 0x1e;
          bVar58 = false;
        } while (uVar39 != local_258);
        if (uVar60 == 0xffffffffffffffff) break;
        local_1810 = 0;
        local_1818 = 0xffffffff7f800000;
        local_1d78 = local_19b8 + 1;
        local_1728 = 0xffffffff7f800000;
        local_18c8._0_8_ = local_1d78;
        lVar64 = uVar60 * 0xf0;
        local_1f48 = (float *)local_1d78;
        local_17d8._0_8_ = local_1d78;
        iVar38 = *(int *)((long)local_1118 + lVar64 + -4);
        pSVar66 = (SetMB *)(local_11c8 + lVar64);
        local_1720 = 0;
        uVar65 = uVar60;
        if (iVar38 == 0) {
          pfVar43 = local_1168[uVar60 * 0x1e];
          pfVar47 = local_1168[uVar60 * 0x1e + 1];
          local_1bb8 = (float *)CONCAT44(fVar31,fVar31);
          pfStack_1bb0 = (float *)CONCAT44(fVar31,fVar31);
          local_1b38 = 0x3f80000000000000;
          local_1a28._4_4_ = local_1128[uVar60 * 0x3c + 2];
          local_1ba8 = CONCAT44(fVar30,fVar30);
          uStack_1ba0 = CONCAT44(fVar30,fVar30);
          local_1aa8 = 0x3f80000000000000;
          local_1b58 = (float *)0x0;
          local_1b50 = (float *)0x0;
          local_1b48 = 0;
          local_1b40 = 0;
          local_1b30 = 0x3f800000;
          local_1ac8 = 0;
          local_1ac0 = 0;
          local_1ab8 = 0;
          local_1ab0 = 0;
          local_1aa0 = 0x3f800000;
          local_1a28._0_4_ = local_1a28._4_4_;
          fStack_1a20 = (float)local_1a28._4_4_;
          fStack_1a1c = (float)local_1a28._4_4_;
          _local_19f8 = *(undefined1 (*) [16])
                         (&mm_lookupmask_ps +
                         (long)(1 << (SUB41(local_1128[uVar60 * 0x3c + 1],0) & 0x1f)) * 2);
          pfStack_1c40 = (float *)local_1a28;
          local_1c38 = local_19f8;
          local_1c48 = local_1128 + uVar60 * 0x3c;
          local_1b98 = local_1bb8;
          pfStack_1b90 = pfStack_1bb0;
          local_1b88 = local_1ba8;
          uStack_1b80 = uStack_1ba0;
          local_1b78 = local_1bb8;
          pfStack_1b70 = pfStack_1bb0;
          local_1b68 = local_1ba8;
          uStack_1b60 = uStack_1ba0;
          local_1b28 = local_1bb8;
          pfStack_1b20 = pfStack_1bb0;
          local_1b18 = local_1ba8;
          uStack_1b10 = uStack_1ba0;
          local_1b08 = local_1bb8;
          pfStack_1b00 = pfStack_1bb0;
          local_1af8 = local_1ba8;
          uStack_1af0 = uStack_1ba0;
          local_1ae8 = local_1bb8;
          pfStack_1ae0 = pfStack_1bb0;
          local_1ad8 = local_1ba8;
          uStack_1ad0 = uStack_1ba0;
          pfStack_1850 = (float *)parallel_partitioning<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>
                                            (*(PrimRefMB **)(local_1138[uVar60 * 0x1e] + 0x20),
                                             (ulong)pfVar43,(ulong)pfVar47,(EmptyTy *)&local_1c78,
                                             (PrimInfoMBT_conflict *)&local_1bb8,
                                             (PrimInfoMBT_conflict *)&local_1b28,
                                             (_lambda_embree__PrimRefMB_const___1_ *)&local_1c48,
                                             (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimRefMB_const___2_
                                              *)&local_1ca8,
                                             (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>_const___3_
                                              *)&local_1c98,0x80,0xc00);
          puVar42 = (ulong *)local_1138[uVar60 * 0x1e];
          local_1838 = local_1b38;
          uVar48 = local_1838;
          local_1e98._8_8_ = pfStack_1bb0;
          local_1e98._0_8_ = local_1bb8;
          local_18b8._8_8_ = pfStack_1bb0;
          local_18b8._0_8_ = local_1bb8;
          local_1e68._8_8_ = uStack_1b80;
          local_1e68._0_8_ = local_1b88;
          local_1ef8._0_4_ = *(undefined4 *)(local_1138 + uVar60 * 0x1e + -1);
          fVar85 = *(float *)((long)local_1138 + lVar64 + -4);
          local_1888 = local_1b88;
          uStack_1880 = uStack_1b80;
          local_1ee8._0_8_ = local_1b48;
          local_1848 = local_1b48;
          local_1f28 = (undefined1  [8])local_1b40;
          local_1840 = local_1b40;
          local_1e88._8_8_ = uStack_1ba0;
          local_1e88._0_8_ = local_1ba8;
          local_18a8._8_8_ = uStack_1ba0;
          local_18a8._0_8_ = local_1ba8;
          local_1e78._8_8_ = pfStack_1b90;
          local_1e78._0_8_ = local_1b98;
          local_1898 = local_1b98;
          pfStack_1890 = pfStack_1b90;
          local_1e58._8_8_ = pfStack_1b70;
          local_1e58._0_8_ = local_1b78;
          local_1878 = local_1b78;
          pfStack_1870 = pfStack_1b70;
          local_1e48._8_8_ = uStack_1b60;
          local_1e48._0_8_ = local_1b68;
          local_1868 = local_1b68;
          uStack_1860 = uStack_1b60;
          fStack_182c = (float)((ulong)local_1b30 >> 0x20);
          local_1830 = (float)local_1b30;
          local_1f08._0_4_ = local_1ef8._0_4_;
          if ((float)local_1ef8._0_4_ <= local_1830) {
            local_1f08._0_4_ = local_1830;
          }
          if (fVar85 <= fStack_182c) {
            fStack_182c = fVar85;
          }
          uStack_17c0 = pfStack_1b20;
          local_17c8 = (undefined1  [8])local_1b28;
          local_1778._8_8_ = uStack_1ad0;
          local_1778._0_8_ = local_1ad8;
          local_1758 = local_1ab8;
          local_1f18._0_8_ = local_1ab0;
          uStack_1750 = local_1ab0;
          _local_1830 = CONCAT44(fStack_182c,local_1f08._0_4_);
          uStack_17b0 = uStack_1b10;
          local_17b8 = (undefined1  [8])local_1b18;
          local_1e18._8_8_ = pfStack_1b00;
          local_1e18._0_8_ = local_1b08;
          local_17a8 = local_1b08;
          uStack_17a0 = pfStack_1b00;
          local_1e08._8_8_ = uStack_1af0;
          local_1e08._0_8_ = local_1af8;
          local_1798 = local_1af8;
          uStack_1790 = uStack_1af0;
          local_1df8._8_8_ = pfStack_1ae0;
          local_1df8._0_8_ = local_1ae8;
          local_1788 = local_1ae8;
          pfStack_1780 = pfStack_1ae0;
          local_1748 = local_1aa8;
          uVar15 = local_1748;
          fStack_1740 = (float)local_1aa0;
          if ((float)local_1ef8._0_4_ <= fStack_1740) {
            local_1ef8._0_4_ = fStack_1740;
          }
          fStack_173c = (float)((ulong)local_1aa0 >> 0x20);
          if (fVar85 <= fStack_173c) {
            fStack_173c = fVar85;
          }
          local_1838._0_4_ = (undefined4)local_1b38;
          local_1ed8 = (undefined1  [4])(undefined4)local_1838;
          local_1838._4_4_ = (undefined4)((ulong)local_1b38 >> 0x20);
          _fStack_1740 = CONCAT44(fStack_173c,local_1ef8._0_4_);
          local_1ec8 = (float)local_1838._4_4_;
          local_1ea0._0_4_ = (float)local_1aa8;
          local_1748._4_4_ = (float)((ulong)local_1aa8 >> 0x20);
          local_1f38._0_4_ = local_1748._4_4_;
          fVar78 = fStack_182c;
          fVar85 = fStack_173c;
          local_1858 = pfVar43;
          local_1838 = uVar48;
          local_1828 = puVar42;
          local_1768 = pfStack_1850;
          uStack_1760 = pfVar47;
          local_1748 = uVar15;
          local_1738 = puVar42;
        }
        else if (iVar38 == 2) {
          local_1cb4 = local_1128[uVar60 * 0x3c + 2];
          local_1cb8 = *(float *)(local_1138 + uVar60 * 0x1e + -1);
          puVar10 = (ulong *)local_1138[uVar60 * 0x1e];
          puVar8 = param_1 + 9;
          local_1cac = *(float *)((long)local_1138 + lVar64 + -4);
          local_1cb0 = local_1cb4;
          puVar41 = (ulong *)operator_new(0x28);
          pfVar43 = local_1168[uVar60 * 0x1e + 1];
          pfVar47 = local_1168[uVar60 * 0x1e];
          puVar49 = (undefined8 *)param_1[9];
          *(undefined1 *)(puVar41 + 1) = 0;
          puVar41[2] = 0;
          uVar39 = (long)pfVar43 - (long)pfVar47;
          *puVar41 = (ulong)puVar49;
          puVar41[3] = 0;
          puVar41[4] = 0;
          if (uVar39 != 0) {
            uVar40 = uVar39 * 0x50;
            (**(code **)*puVar49)(puVar49,uVar40,0);
            if (uVar40 < 0x1c00000) {
              uVar40 = embree::alignedMalloc(uVar40,0x10);
            }
            else {
              uVar40 = embree::os_malloc(uVar40,(bool *)(puVar41 + 1));
            }
            pfVar43 = local_1168[uVar60 * 0x1e + 1];
            pfVar47 = local_1168[uVar60 * 0x1e];
            puVar41[4] = uVar40;
            puVar41[2] = uVar39;
            puVar41[3] = uVar39;
            uVar39 = (long)pfVar43 - (long)pfVar47;
          }
          local_1b28 = (float *)CONCAT44(fVar31,fVar31);
          pfStack_1b20 = (float *)CONCAT44(fVar31,fVar31);
          local_1b18 = CONCAT44(fVar30,fVar30);
          uStack_1b10 = CONCAT44(fVar30,fVar30);
          local_1c60 = &local_1cc0;
          local_1ac8 = 0;
          local_1ac0 = 0;
          local_1ab8 = 0;
          local_1ab0 = 0;
          local_1aa8 = 0x3f80000000000000;
          local_1aa0 = 0x3f800000;
          local_1f08._0_8_ = &local_1cb8;
          local_1f08 = CONCAT88(uVar48,local_1f08._0_8_);
          local_1cc0 = puVar41;
          local_1c78 = puVar10;
          local_1c70 = &local_1cb8;
          local_1c68 = puVar8;
          local_1c58 = pSVar66;
          local_1b08 = local_1b28;
          pfStack_1b00 = pfStack_1b20;
          local_1af8 = local_1b18;
          uStack_1af0 = uStack_1b10;
          local_1ae8 = local_1b28;
          pfStack_1ae0 = pfStack_1b20;
          local_1ad8 = local_1b18;
          uStack_1ad0 = uStack_1b10;
          if (uVar39 < 0xc00) {
            local_1bb8 = pfVar47;
            pfStack_1bb0 = pfVar43;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                      ((_lambda_embree__range<unsigned_long>const___1_ *)&local_1c48,
                       (range *)&local_1c78);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((ulong)&local_1c48,uVar39 + 0x7f >> 7,(ulong)pfVar47,(ulong)pfVar43,
                       (PrimInfoMBT_conflict *)&local_1b28,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1c78,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          pfVar43 = local_1168[uVar60 * 0x1e + 1];
          pfVar47 = local_1168[uVar60 * 0x1e];
          uVar39 = (long)pfVar43 - (long)pfVar47;
          if ((long)local_1be0 - (long)local_1be8 != uVar39) {
            local_1b28 = &local_1cb8;
            local_1be0 = (float *)parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_>
                                            ((PrimRefMB *)local_1cc0[4],0,uVar39,0x400,
                                             (_lambda_embree__PrimRefMB_const___1_ *)&local_1b28);
            pfVar43 = local_1168[uVar60 * 0x1e + 1];
            pfVar47 = local_1168[uVar60 * 0x1e];
            uVar39 = (long)pfVar43 - (long)pfVar47;
          }
          puVar42 = local_1cc0;
          local_1e78._8_8_ = pfStack_1c20;
          local_1e78._0_8_ = local_1c28;
          local_1898 = local_1c28;
          pfStack_1890 = pfStack_1c20;
          local_1ee8._0_8_ = local_1bd8;
          local_1f28 = (undefined1  [8])local_1bd0;
          fVar85 = local_1cb8;
          if (local_1cb8 <= local_1bc0) {
            fVar85 = local_1bc0;
          }
          local_1e98._8_8_ = pfStack_1c40;
          local_1e98._0_8_ = local_1c48;
          local_1e88._8_8_ = uStack_1c30;
          local_1e88._0_8_ = local_1c38;
          fVar78 = local_1bbc;
          if (local_1cb4 <= local_1bbc) {
            fVar78 = local_1cb4;
          }
          local_1f08._0_4_ = fVar85;
          local_1e68._8_8_ = uStack_1c10;
          local_1e68._0_8_ = local_1c18;
          local_1e58._8_8_ = pfStack_1c00;
          local_1e58._0_8_ = local_1c08;
          local_1e48._8_8_ = uStack_1bf0;
          local_1e48._0_8_ = local_1bf8;
          local_1ed8 = (undefined1  [4])local_1bc8;
          local_1ec8 = (float)local_1bc4;
          local_18b8._8_8_ = pfStack_1c40;
          local_18b8._0_8_ = local_1c48;
          local_18a8._8_8_ = uStack_1c30;
          local_18a8._0_8_ = local_1c38;
          local_1888 = local_1c18;
          uStack_1880 = uStack_1c10;
          local_1878 = local_1c08;
          pfStack_1870 = pfStack_1c00;
          local_1868 = local_1bf8;
          uStack_1860 = uStack_1bf0;
          local_1858 = local_1be8;
          local_1b18 = CONCAT44(fVar30,fVar30);
          uStack_1b10 = CONCAT44(fVar30,fVar30);
          local_1b28 = (float *)CONCAT44(fVar31,fVar31);
          pfStack_1b20 = (float *)CONCAT44(fVar31,fVar31);
          local_1848 = local_1bd8;
          local_1840 = local_1bd0;
          local_1828 = local_1cc0;
          local_1ac8 = 0;
          local_1ac0 = 0;
          local_1ab8 = 0;
          local_1ab0 = 0;
          local_1aa8 = 0x3f80000000000000;
          local_1aa0 = 0x3f800000;
          local_1838 = CONCAT44(local_1bc4,local_1bc8);
          _local_1830 = CONCAT44(fVar78,fVar85);
          local_1c98 = puVar10;
          local_1c90 = &local_1cb0;
          local_1c88 = puVar8;
          local_1b08 = local_1b28;
          pfStack_1b00 = pfStack_1b20;
          local_1af8 = local_1b18;
          uStack_1af0 = uStack_1b10;
          local_1ae8 = local_1b28;
          pfStack_1ae0 = pfStack_1b20;
          local_1ad8 = local_1b18;
          uStack_1ad0 = uStack_1b10;
          pfStack_1850 = local_1be0;
          if (uVar39 < 0xc00) {
            local_1ca8 = pfVar47;
            local_1ca0 = pfVar43;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#3}::operator()
                      ((_lambda_embree__range<unsigned_long>const___3_ *)&local_1bb8,
                       (range *)&local_1c98);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_3_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((embree *)&local_1bb8,uVar39 + 0x7f >> 7,(ulong)pfVar47,(ulong)pfVar43,0x80,
                       (PrimInfoMBT_conflict *)&local_1b28,
                       (_lambda_embree__range<unsigned_long>_const___3_ *)&local_1c98,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          pfVar47 = local_1168[uVar60 * 0x1e];
          lVar52 = (long)local_1b50 - (long)local_1b58;
          pfVar43 = (float *)((long)pfVar47 + lVar52);
          local_1b58 = pfVar47;
          local_1b50 = pfVar43;
          if (lVar52 != (long)local_1168[uVar60 * 0x1e + 1] - (long)pfVar47) {
            local_1b28 = &local_1cb0;
            pfVar43 = (float *)parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_4_>
                                         ((PrimRefMB *)puVar10[4],(ulong)pfVar47,
                                          (ulong)local_1168[uVar60 * 0x1e + 1],0x400,
                                          (_lambda_embree__PrimRefMB_const___4_ *)&local_1b28);
          }
          local_1f38 = uVar60;
          local_1ef8._0_4_ = local_1cb0;
          if (local_1cb0 <= (float)local_1b30) {
            local_1ef8._0_4_ = (float)local_1b30;
          }
          local_1778._8_8_ = uStack_1b60;
          local_1778._0_8_ = local_1b68;
          local_1e18._8_8_ = pfStack_1b90;
          local_1e18._0_8_ = local_1b98;
          local_1f18._0_8_ = local_1b40;
          fVar85 = local_1b30._4_4_;
          if (local_1cac <= local_1b30._4_4_) {
            fVar85 = local_1cac;
          }
          local_1e08._8_8_ = uStack_1b80;
          local_1e08._0_8_ = local_1b88;
          local_1df8._8_8_ = pfStack_1b70;
          local_1df8._0_8_ = local_1b78;
          local_1ea0._0_4_ = (float)local_1b38;
          local_1f38._0_4_ = local_1b38._4_4_;
          uStack_17c0 = pfStack_1bb0;
          local_17c8 = (undefined1  [8])local_1bb8;
          uStack_17b0 = uStack_1ba0;
          local_17b8 = (undefined1  [8])local_1ba8;
          local_17a8 = local_1b98;
          uStack_17a0 = pfStack_1b90;
          local_1798 = local_1b88;
          uStack_1790 = uStack_1b80;
          local_1788 = local_1b78;
          pfStack_1780 = pfStack_1b70;
          bVar29 = (bool)(bVar29 | puVar41 != (ulong *)0x0);
          local_1758 = local_1b48;
          uStack_1750 = local_1b40;
          local_1748 = local_1b38;
          _fStack_1740 = CONCAT44(fVar85,local_1ef8._0_4_);
          local_1768 = local_1b58;
          uStack_1760 = pfVar43;
          local_1738 = puVar10;
        }
        else if (iVar38 == 1) {
          puVar42 = (ulong *)local_1138[uVar60 * 0x1e];
          pfVar43 = local_1168[uVar60 * 0x1e + 1];
          pfVar47 = local_1168[uVar60 * 0x1e];
          puVar49 = (undefined8 *)(puVar42[4] + (long)pfVar43 * 0x50);
          puVar62 = (undefined8 *)(puVar42[4] + (long)pfVar47 * 0x50);
          if (puVar49 != puVar62) {
            lVar52 = (long)pfVar43 * 0x50 + (long)pfVar47 * -0x50;
            local_1f38 = uVar60;
            uVar39 = (lVar52 >> 4) * -0x3333333333333333;
            auVar37 = stack0xffffffffffffe0cc;
            if (uVar39 == 0) {
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar62,puVar49,0xfffffffffffffffe);
LAB_00123943:
              std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar62,puVar49);
            }
            else {
              lVar59 = 0x3f;
              if (uVar39 != 0) {
                for (; uVar39 >> lVar59 == 0; lVar59 = lVar59 + -1) {
                }
              }
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar62,puVar49,(long)(int)lVar59 * 2);
              if (lVar52 < 0x501) goto LAB_00123943;
              puVar63 = puVar62 + 0xa0;
              std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar62,puVar63);
              if (puVar49 == puVar63) {
                puVar42 = (ulong *)local_1138[uVar60 * 0x1e];
                pfVar47 = local_1168[uVar60 * 0x1e];
                pfVar43 = local_1168[uVar60 * 0x1e + 1];
                goto LAB_00123219;
              }
              do {
                uVar6 = *(undefined4 *)((long)puVar63 + 0x1c);
                uVar7 = *(undefined4 *)((long)puVar63 + 0xc);
                uVar48 = puVar63[4];
                uVar15 = puVar63[5];
                uVar16 = puVar63[6];
                uVar17 = puVar63[7];
                uVar18 = puVar63[2];
                uVar19 = puVar63[3];
                uVar3 = *(undefined4 *)(puVar63 + 8);
                uVar4 = *(undefined4 *)((long)puVar63 + 0x44);
                uVar20 = *puVar63;
                uVar21 = puVar63[1];
                uVar39 = CONCAT44(*(undefined4 *)((long)puVar63 + -0x34),
                                  *(undefined4 *)((long)puVar63 + -0x44));
                puVar62 = puVar63;
                while (CONCAT44(uVar6,uVar7) < uVar39) {
                  puVar62[2] = puVar62[-8];
                  puVar62[3] = puVar62[-7];
                  *puVar62 = puVar62[-10];
                  puVar62[1] = puVar62[-9];
                  puVar62[6] = puVar62[-4];
                  puVar62[7] = puVar62[-3];
                  puVar62[4] = puVar62[-6];
                  puVar62[5] = puVar62[-5];
                  *(undefined4 *)(puVar62 + 8) = *(undefined4 *)(puVar62 + -2);
                  *(undefined4 *)((long)puVar62 + 0x44) = *(undefined4 *)((long)puVar62 + -0xc);
                  uVar39 = CONCAT44(*(undefined4 *)((long)puVar62 + -0x84),
                                    *(undefined4 *)((long)puVar62 + -0x94));
                  puVar62 = puVar62 + -10;
                }
                puVar63 = puVar63 + 10;
                *puVar62 = uVar20;
                puVar62[1] = uVar21;
                puVar62[2] = uVar18;
                puVar62[3] = uVar19;
                puVar62[4] = uVar48;
                puVar62[5] = uVar15;
                puVar62[6] = uVar16;
                puVar62[7] = uVar17;
                *(undefined4 *)(puVar62 + 8) = uVar3;
                *(undefined4 *)((long)puVar62 + 0x44) = uVar4;
              } while (puVar49 != puVar63);
            }
            pfVar47 = local_1168[uVar60 * 0x1e];
            pfVar43 = local_1168[uVar60 * 0x1e + 1];
            puVar42 = (ulong *)local_1138[uVar65 * 0x1e];
          }
LAB_00123219:
          stack0xffffffffffffe0cc = auVar37;
          pfStack_1850 = (float *)((long)pfVar43 + 1U + (long)pfVar47 >> 1);
          fVar85 = _LC3;
          if (pfVar47 < pfStack_1850) {
            auVar118 = (undefined1  [16])0x0;
            local_1e88._4_4_ = fVar30;
            local_1e88._0_4_ = fVar30;
            local_1e88._8_4_ = fVar30;
            local_1e88._12_4_ = fVar30;
            local_1e98._4_4_ = fVar31;
            local_1e98._0_4_ = fVar31;
            local_1e98._8_4_ = fVar31;
            local_1e98._12_4_ = fVar31;
            auVar126._12_4_ = 0;
            auVar126._0_12_ = _auStack_1ed4;
            _local_1ed8 = auVar126 << 0x20;
            pauVar50 = (undefined1 (*) [16])((long)pfVar47 * 0x50 + puVar42[4]);
            auVar134._8_8_ = 0;
            auVar134._0_8_ = uStack_1f20;
            _local_1f28 = auVar134 << 0x40;
            auVar26._8_8_ = 0;
            auVar26._0_8_ = local_1ee8._8_8_;
            local_1ee8 = auVar26 << 0x40;
            local_1ec8 = _LC3;
            local_1e78 = local_1e98;
            local_1e68 = local_1e88;
            local_1e58 = local_1e98;
            local_1e48 = local_1e88;
            do {
              local_1ee8._0_8_ = local_1ee8._0_8_ + (ulong)*(uint *)(pauVar50[2] + 0xc);
              local_1e98 = minps(local_1e98,*pauVar50);
              local_1e88 = maxps(local_1e88,pauVar50[1]);
              local_1e78 = minps(local_1e78,pauVar50[2]);
              local_1e68 = maxps(local_1e68,pauVar50[3]);
              uVar39 = CONCAT44(0,*(uint *)(pauVar50[3] + 0xc));
              auVar74._0_4_ =
                   *(float *)pauVar50[3] * _LC12 + *(float *)pauVar50[1] * _LC12 +
                   *(float *)pauVar50[2] * _LC12 + *(float *)*pauVar50 * _LC12;
              auVar74._4_4_ =
                   *(float *)(pauVar50[3] + 4) * _LC12 + *(float *)(pauVar50[1] + 4) * _LC12 +
                   *(float *)(pauVar50[2] + 4) * _LC12 + *(float *)(*pauVar50 + 4) * _LC12;
              auVar74._8_4_ =
                   *(float *)(pauVar50[3] + 8) * _LC12 + *(float *)(pauVar50[1] + 8) * _LC12 +
                   *(float *)(pauVar50[2] + 8) * _LC12 + *(float *)(*pauVar50 + 8) * _LC12;
              auVar74._12_4_ =
                   *(float *)(pauVar50[3] + 0xc) * _LC12 + *(float *)(pauVar50[1] + 0xc) * _LC12 +
                   *(float *)(pauVar50[2] + 0xc) * _LC12 + *(float *)(*pauVar50 + 0xc) * _LC12;
              fVar106 = *(float *)(pauVar50[4] + 4);
              fVar77 = fVar106;
              if (fVar106 <= auVar118._0_4_) {
                fVar77 = auVar118._0_4_;
              }
              local_1e58 = minps(local_1e58,auVar74);
              local_1e48 = maxps(local_1e48,auVar74);
              fVar78 = *(float *)pauVar50[4];
              auVar118 = ZEXT416((uint)fVar77);
              if (fVar78 <= fVar85) {
                fVar85 = fVar78;
              }
              if ((ulong)local_1f28 < uVar39) {
                local_1f28 = (undefined1  [8])uVar39;
                local_1ec8 = fVar106;
                local_1ed8 = (undefined1  [4])fVar78;
              }
              pauVar50 = pauVar50 + 5;
            } while (pauVar50 != (undefined1 (*) [16])((long)pfStack_1850 * 0x50 + puVar42[4]));
          }
          else {
            local_1e48._0_8_ = CONCAT44(fVar30,fVar30);
            local_1e48._8_8_ = CONCAT44(fVar30,fVar30);
            local_1e58._0_8_ = CONCAT44(fVar31,fVar31);
            local_1e58._8_8_ = CONCAT44(fVar31,fVar31);
            auVar118 = (undefined1  [16])0x0;
            auVar73._8_8_ = 0;
            auVar73._0_8_ = uStack_1f20;
            _local_1f28 = auVar73 << 0x40;
            auVar76._12_4_ = 0;
            auVar76._0_12_ = _auStack_1ed4;
            _local_1ed8 = auVar76 << 0x20;
            auVar80._8_8_ = 0;
            auVar80._0_8_ = local_1ee8._8_8_;
            local_1ee8 = auVar80 << 0x40;
            local_1ec8 = _LC3;
            local_1e68._8_8_ = local_1e48._8_8_;
            local_1e68._0_8_ = local_1e48._0_8_;
            local_1e78._8_8_ = local_1e58._8_8_;
            local_1e78._0_8_ = local_1e58._0_8_;
            local_1e88._8_8_ = local_1e48._8_8_;
            local_1e88._0_8_ = local_1e48._0_8_;
            local_1e98._8_8_ = local_1e58._8_8_;
            local_1e98._0_8_ = local_1e58._0_8_;
          }
          fVar106 = _LC3;
          if (pfStack_1850 < pfVar43) {
            local_1e38._4_4_ = fVar31;
            local_1e38._0_4_ = fVar31;
            local_1e38._8_4_ = fVar31;
            local_1e38._12_4_ = fVar31;
            local_1f38._0_4_ = _LC3;
            local_1e28._4_4_ = fVar30;
            local_1e28._0_4_ = fVar30;
            local_1e28._8_4_ = fVar30;
            local_1e28._12_4_ = fVar30;
            auVar27._8_8_ = 0;
            auVar27._0_8_ = local_1f18._8_8_;
            local_1f18 = auVar27 << 0x40;
            pauVar50 = (undefined1 (*) [16])((long)pfStack_1850 * 0x50 + puVar42[4]);
            auVar75 = (undefined1  [16])0x0;
            local_1ea0._0_4_ = 0.0;
            local_1eb8 = 0;
            local_1e18 = local_1e38;
            local_1e08 = local_1e28;
            local_1df8 = local_1e38;
            local_1de8 = local_1e28;
            do {
              local_1eb8 = local_1eb8 + *(uint *)(pauVar50[2] + 0xc);
              local_1e38 = minps(local_1e38,*pauVar50);
              local_1e28 = maxps(local_1e28,pauVar50[1]);
              local_1e18 = minps(local_1e18,pauVar50[2]);
              local_1e08 = maxps(local_1e08,pauVar50[3]);
              uVar39 = CONCAT44(0,*(uint *)(pauVar50[3] + 0xc));
              auVar70._0_4_ =
                   *(float *)pauVar50[3] * _LC12 + *(float *)pauVar50[1] * _LC12 +
                   *(float *)pauVar50[2] * _LC12 + *(float *)*pauVar50 * _LC12;
              auVar70._4_4_ =
                   *(float *)(pauVar50[3] + 4) * _LC12 + *(float *)(pauVar50[1] + 4) * _LC12 +
                   *(float *)(pauVar50[2] + 4) * _LC12 + *(float *)(*pauVar50 + 4) * _LC12;
              auVar70._8_4_ =
                   *(float *)(pauVar50[3] + 8) * _LC12 + *(float *)(pauVar50[1] + 8) * _LC12 +
                   *(float *)(pauVar50[2] + 8) * _LC12 + *(float *)(*pauVar50 + 8) * _LC12;
              auVar70._12_4_ =
                   *(float *)(pauVar50[3] + 0xc) * _LC12 + *(float *)(pauVar50[1] + 0xc) * _LC12 +
                   *(float *)(pauVar50[2] + 0xc) * _LC12 + *(float *)(*pauVar50 + 0xc) * _LC12;
              fVar77 = *(float *)(pauVar50[4] + 4);
              fVar78 = fVar77;
              if (fVar77 <= auVar75._0_4_) {
                fVar78 = auVar75._0_4_;
              }
              local_1df8 = minps(local_1df8,auVar70);
              local_1de8 = maxps(local_1de8,auVar70);
              fVar105 = *(float *)pauVar50[4];
              auVar75 = ZEXT416((uint)fVar78);
              if (fVar105 <= fVar106) {
                fVar106 = fVar105;
              }
              if ((ulong)local_1f18._0_8_ < uVar39) {
                local_1f18._0_8_ = uVar39;
                local_1f38._0_4_ = fVar77;
                local_1ea0._0_4_ = fVar105;
              }
              pauVar50 = pauVar50 + 5;
            } while (pauVar50 != (undefined1 (*) [16])((long)pfVar43 * 0x50 + puVar42[4]));
          }
          else {
            local_1de8._0_8_ = CONCAT44(fVar30,fVar30);
            local_1de8._8_8_ = CONCAT44(fVar30,fVar30);
            local_1f38._0_4_ = _LC3;
            auVar75 = (undefined1  [16])0x0;
            local_1df8._0_8_ = CONCAT44(fVar31,fVar31);
            local_1df8._8_8_ = CONCAT44(fVar31,fVar31);
            local_1ea0._0_4_ = 0.0;
            auVar28._8_8_ = 0;
            auVar28._0_8_ = local_1f18._8_8_;
            local_1f18 = auVar28 << 0x40;
            local_1eb8 = 0;
            local_1e08._8_8_ = local_1de8._8_8_;
            local_1e08._0_8_ = local_1de8._0_8_;
            local_1e18._8_8_ = local_1df8._8_8_;
            local_1e18._0_8_ = local_1df8._0_8_;
            local_1e28._8_8_ = local_1de8._8_8_;
            local_1e28._0_8_ = local_1de8._0_8_;
            local_1e38._8_8_ = local_1df8._8_8_;
            local_1e38._0_8_ = local_1df8._0_8_;
          }
          local_18b8 = local_1e98;
          local_18a8 = local_1e88;
          local_1898 = (float *)local_1e78._0_8_;
          pfStack_1890 = (float *)local_1e78._8_8_;
          fVar77 = *(float *)((long)local_1138 + uVar65 * 0xf0 + -4);
          local_1ef8._0_4_ = *(undefined4 *)(local_1138 + uVar65 * 0x1e + -1);
          local_1848 = local_1ee8._0_8_;
          if (fVar77 <= auVar118._0_4_) {
            auVar118._0_4_ = fVar77;
          }
          fVar78 = auVar118._0_4_;
          if (fVar77 <= auVar75._0_4_) {
            auVar75._0_4_ = fVar77;
          }
          local_1888 = local_1e68._0_8_;
          uStack_1880 = local_1e68._8_8_;
          local_1f08._0_4_ = local_1ef8._0_4_;
          if ((float)local_1ef8._0_4_ <= fVar85) {
            local_1f08._0_4_ = fVar85;
          }
          local_1878 = (float *)local_1e58._0_8_;
          pfStack_1870 = (float *)local_1e58._8_8_;
          local_1840 = local_1f28;
          fVar85 = auVar75._0_4_;
          local_1868 = local_1e48._0_8_;
          uStack_1860 = local_1e48._8_8_;
          _local_1830 = CONCAT44(fVar78,local_1f08._0_4_);
          local_1838 = CONCAT44(local_1ec8,local_1ed8);
          _local_17c8 = local_1e38;
          _local_17b8 = local_1e28;
          local_17a8 = (float *)local_1e18._0_8_;
          uStack_17a0 = (float *)local_1e18._8_8_;
          local_1798 = local_1e08._0_8_;
          uStack_1790 = local_1e08._8_8_;
          local_1758 = local_1eb8;
          if ((float)local_1ef8._0_4_ <= fVar106) {
            local_1ef8._0_4_ = fVar106;
          }
          local_1788 = (float *)local_1df8._0_8_;
          pfStack_1780 = (float *)local_1df8._8_8_;
          uStack_1750 = local_1f18._0_8_;
          local_1778 = local_1de8;
          local_1748 = CONCAT44((undefined4)local_1f38,(float)local_1ea0);
          _fStack_1740 = CONCAT44(fVar85,local_1ef8._0_4_);
          local_1858 = pfVar47;
          local_1828 = puVar42;
          local_1768 = pfStack_1850;
          uStack_1760 = pfVar43;
          local_1738 = puVar42;
        }
        else if (iVar38 == 3) {
          puVar49 = (undefined8 *)
                    (*(long *)(local_1138[uVar60 * 0x1e] + 0x20) +
                    (long)local_1168[uVar60 * 0x1e + 1] * 0x50);
          puVar62 = (undefined8 *)
                    (*(long *)(local_1138[uVar60 * 0x1e] + 0x20) +
                    (long)local_1168[uVar60 * 0x1e] * 0x50);
          if (puVar49 != puVar62) {
            lVar52 = (long)local_1168[uVar60 * 0x1e + 1] * 0x50 +
                     (long)local_1168[uVar60 * 0x1e] * -0x50;
            uVar39 = (lVar52 >> 4) * -0x3333333333333333;
            if (uVar39 == 0) {
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar62,puVar49,0xfffffffffffffffe);
            }
            else {
              lVar59 = 0x3f;
              if (uVar39 != 0) {
                for (; uVar39 >> lVar59 == 0; lVar59 = lVar59 + -1) {
                }
              }
              std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                        (puVar62,puVar49,(long)(int)lVar59 * 2);
              if (0x500 < lVar52) {
                puVar63 = puVar62 + 0xa0;
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar62,puVar63);
                for (; puVar49 != puVar63; puVar63 = puVar63 + 10) {
                  uVar6 = *(undefined4 *)((long)puVar63 + 0x1c);
                  uVar7 = *(undefined4 *)((long)puVar63 + 0xc);
                  uVar48 = puVar63[4];
                  uVar15 = puVar63[5];
                  uVar16 = puVar63[6];
                  uVar17 = puVar63[7];
                  uVar18 = puVar63[2];
                  uVar19 = puVar63[3];
                  uVar3 = *(undefined4 *)(puVar63 + 8);
                  uVar4 = *(undefined4 *)((long)puVar63 + 0x44);
                  uVar20 = *puVar63;
                  uVar21 = puVar63[1];
                  uVar39 = CONCAT44(*(undefined4 *)((long)puVar63 + -0x34),
                                    *(undefined4 *)((long)puVar63 + -0x44));
                  puVar62 = puVar63;
                  while (CONCAT44(uVar6,uVar7) < uVar39) {
                    puVar62[4] = puVar62[-6];
                    puVar62[5] = puVar62[-5];
                    *puVar62 = puVar62[-10];
                    puVar62[1] = puVar62[-9];
                    *(undefined4 *)(puVar62 + 8) = *(undefined4 *)(puVar62 + -2);
                    puVar62[2] = puVar62[-8];
                    puVar62[3] = puVar62[-7];
                    *(undefined1 (*) [16])(puVar62 + 6) = *(undefined1 (*) [16])(puVar62 + -4);
                    *(undefined4 *)((long)puVar62 + 0x44) = *(undefined4 *)((long)puVar62 + -0xc);
                    uVar39 = CONCAT44(*(undefined4 *)((long)puVar62 + -0x84),
                                      *(undefined4 *)((long)puVar62 + -0x94));
                    puVar62 = puVar62 + -10;
                  }
                  *puVar62 = uVar20;
                  puVar62[1] = uVar21;
                  puVar62[2] = uVar18;
                  puVar62[3] = uVar19;
                  puVar62[4] = uVar48;
                  puVar62[5] = uVar15;
                  puVar62[6] = uVar16;
                  puVar62[7] = uVar17;
                  *(undefined4 *)(puVar62 + 8) = uVar3;
                  *(undefined4 *)((long)puVar62 + 0x44) = uVar4;
                }
                goto LAB_00122e9e;
              }
            }
            std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                      (puVar62,puVar49);
          }
LAB_00122e9e:
          splitByGeometry(pSVar66,(SetMB *)local_18b8,(SetMB *)local_17c8);
          local_1e98 = local_18b8;
          local_1f48 = (float *)local_18c8._0_8_;
          local_1e88 = local_18a8;
          local_1ee8._0_8_ = local_1848;
          local_1e78._8_8_ = pfStack_1890;
          local_1e78._0_8_ = local_1898;
          local_1f28 = (undefined1  [8])local_1840;
          local_1e68._8_8_ = uStack_1880;
          local_1e68._0_8_ = local_1888;
          local_1d78 = local_17d8._0_8_;
          local_1e58._8_8_ = pfStack_1870;
          local_1e58._0_8_ = local_1878;
          local_1e48._8_8_ = uStack_1860;
          local_1e48._0_8_ = local_1868;
          local_1ed8 = (undefined1  [4])(undefined4)local_1838;
          local_1ec8 = (float)local_1838._4_4_;
          local_1f08._0_4_ = local_1830;
          local_1e18._8_8_ = uStack_17a0;
          local_1e18._0_8_ = local_17a8;
          local_1e08._8_8_ = uStack_1790;
          local_1e08._0_8_ = local_1798;
          local_1f18._0_8_ = uStack_1750;
          local_1df8._8_8_ = pfStack_1780;
          local_1df8._0_8_ = local_1788;
          local_1f38._0_4_ = local_1748._4_4_;
          _local_1f38 = CONCAT124(auVar37,(undefined4)local_1f38);
          local_1ef8._0_4_ = fStack_1740;
          puVar42 = local_1828;
          fVar78 = fStack_182c;
          fVar85 = fStack_173c;
          local_1ea0._0_4_ = (float)local_1748;
        }
        else {
          local_1e98 = local_18b8;
          local_1ee8._0_8_ = local_1848;
          local_1e88 = local_18a8;
          local_1f28 = (undefined1  [8])local_1840;
          local_1e78._8_8_ = pfStack_1890;
          local_1e78._0_8_ = local_1898;
          local_1e68._8_8_ = uStack_1880;
          local_1e68._0_8_ = local_1888;
          local_1e58._8_8_ = pfStack_1870;
          local_1e58._0_8_ = local_1878;
          local_1e48._8_8_ = uStack_1860;
          local_1e48._0_8_ = local_1868;
          local_1ed8 = (undefined1  [4])(undefined4)local_1838;
          local_1ec8 = (float)local_1838._4_4_;
          local_1f08._0_4_ = local_1830;
          local_1e18._8_8_ = uStack_17a0;
          local_1e18._0_8_ = local_17a8;
          local_1e08._8_8_ = uStack_1790;
          local_1e08._0_8_ = local_1798;
          local_1df8._8_8_ = pfStack_1780;
          local_1df8._0_8_ = local_1788;
          local_1f18._0_8_ = uStack_1750;
          local_1ea0._0_4_ = (float)local_1748;
          local_1f38._0_4_ = local_1748._4_4_;
          _local_1f38 = CONCAT124(auVar37,(undefined4)local_1f38);
          local_1ef8._0_4_ = fStack_1740;
          puVar42 = local_1828;
          fVar78 = fStack_182c;
          fVar85 = fStack_173c;
        }
        puVar10 = local_1738;
        uVar39 = local_1758;
        auVar80 = local_1778;
        auVar76 = _local_17b8;
        auVar73 = _local_17c8;
        findFallback((SetMB *)local_19f8);
        uVar18 = uStack_19c0;
        uVar16 = local_19c8;
        uVar6 = local_19f8._4_4_;
        uVar3 = local_19f8._0_4_;
        auVar35 = local_19d8;
        uVar48 = uStack_19d0;
        auVar33 = local_19e8;
        fVar106 = fStack_19ec;
        local_1818 = SUB168(_local_19f8,0);
        local_1810 = SUB168(_local_19f8,8);
        local_17f8 = local_19d8;
        uStack_17f0 = uStack_19d0;
        local_1808 = (ulong)local_19e8;
        local_17e8 = local_19c8;
        uStack_17e0 = uStack_19c0;
        findFallback((SetMB *)local_19f8);
        lVar52 = local_50;
        uVar19 = uStack_19c0;
        uVar17 = local_19c8;
        fVar77 = fStack_19ec;
        uVar7 = local_19f8._4_4_;
        puVar8 = local_2d8[uVar65];
        uVar4 = local_19f8._0_4_;
        auVar34 = local_19e8;
        auVar36 = local_19d8;
        uVar15 = uStack_19d0;
        local_1720 = SUB168(_local_19f8,8);
        local_1718 = (ulong)local_19e8;
        local_1708 = local_19d8;
        uStack_1700 = uStack_19d0;
        local_1728 = SUB168(_local_19f8,0);
        local_16f8 = local_19c8;
        uStack_16f0 = uStack_19c0;
        if ((ulong *)*puVar8 == puVar42) {
          puVar8[1] = puVar8[1] + 1;
          puVar41 = puVar42;
        }
        else {
          local_50 = local_50 + 1;
          local_250[lVar52 * 2] = (ulong)puVar42;
          local_250[lVar52 * 2 + 1] = 1;
          local_2d8[uVar65] = local_250 + lVar52 * 2;
          puVar41 = (ulong *)*puVar8;
        }
        lVar52 = local_50;
        if (puVar10 == puVar41) {
          local_2d8[local_258] = puVar8;
          uVar65 = puVar8[1];
        }
        else {
          local_50 = local_50 + 1;
          local_250[lVar52 * 2] = (ulong)puVar10;
          local_250[lVar52 * 2 + 1] = 1;
          local_2d8[local_258] = local_250 + lVar52 * 2;
          uVar65 = puVar8[1] - 1;
        }
        puVar8[1] = uVar65;
        if ((uVar65 == 0) && (puVar49 = (undefined8 *)*puVar8, puVar49 != (undefined8 *)0x0)) {
          pvVar9 = (void *)puVar49[4];
          lVar52 = puVar49[3];
          if (pvVar9 != (void *)0x0) {
            if ((ulong)(lVar52 * 0x50) < 0x1c00000) {
              embree::alignedFree(pvVar9);
            }
            else {
              embree::os_free(pvVar9,lVar52 * 0x50,*(bool *)(puVar49 + 1));
            }
          }
          if (lVar52 != 0) {
            (*(code *)**(undefined8 **)*puVar49)((undefined8 *)*puVar49,lVar52 * -0x50,1);
          }
          operator_delete(puVar49,0x28);
        }
        *(float *)((long)local_1138 + lVar64 + -4) = fVar78;
        *(undefined8 *)(local_11c8 + lVar64) = local_1e98._0_8_;
        *(undefined8 *)(local_11c8 + lVar64 + 8) = local_1e98._8_8_;
        *(undefined8 *)(local_11b8 + lVar64) = local_1e88._0_8_;
        *(undefined8 *)(local_11b8 + lVar64 + 8) = local_1e88._8_8_;
        *(undefined8 *)(local_11a8 + lVar64) = local_1e78._0_8_;
        *(undefined8 *)(local_11a8 + lVar64 + 8) = local_1e78._8_8_;
        *(undefined8 *)(local_1198 + lVar64) = local_1e68._0_8_;
        *(undefined8 *)(local_1198 + lVar64 + 8) = local_1e68._8_8_;
        *(float **)((SetMB *)local_11d8 + lVar64) = local_1f48;
        local_1158[uVar60 * 0x1e] = local_1ee8._0_8_;
        local_1188[uVar60 * 0x1e] = local_1e58._0_8_;
        *(undefined8 *)(local_1178 + lVar64 + -8) = local_1e58._8_8_;
        *(undefined8 *)(local_1178 + lVar64) = local_1e48._0_8_;
        *(undefined8 *)(local_1178 + lVar64 + 8) = local_1e48._8_8_;
        local_1168[uVar60 * 0x1e] = local_1858;
        local_1168[uVar60 * 0x1e + 1] = pfStack_1850;
        local_1158[uVar60 * 0x1e + 1] = (ulong)local_1f28;
        local_1128[uVar60 * 0x3c + 1] = (float)uVar6;
        *(undefined1 (*) [4])(&local_1148 + uVar60 * 0x1e) = local_1ed8;
        *(float *)((long)&local_1148 + lVar64 + 4) = local_1ec8;
        *(undefined4 *)(local_1138 + uVar60 * 0x1e + -1) = local_1f08._0_4_;
        local_1128[uVar60 * 0x3c] = (float)uVar3;
        local_1138[uVar60 * 0x1e] = (ulong)puVar42;
        local_1118[uVar60 * 0x1e] = (ulong)auVar33;
        local_1128[uVar60 * 0x3c + 2] = (float)local_1810;
        *(undefined1 (*) [8])(&local_1108 + uVar60 * 0x3c) = auVar35;
        *(undefined8 *)(&uStack_1100 + uVar60 * 0x3c) = uVar48;
        local_1de8._0_8_ = auVar80._0_8_;
        local_1de8._8_8_ = auVar80._8_8_;
        *(float *)((long)local_1118 + lVar64 + -4) = fVar106;
        local_10f8[uVar60 * 0x1e] = uVar16;
        local_10f8[uVar60 * 0x1e + 1] = uVar18;
        uVar65 = local_258;
        local_1e38._0_8_ = auVar73._0_8_;
        local_1e38._8_8_ = auVar73._8_8_;
        lVar64 = local_258 * 0xf0;
        *(undefined8 *)(local_11c8 + lVar64) = local_1e38._0_8_;
        *(undefined8 *)(local_11c8 + lVar64 + 8) = local_1e38._8_8_;
        local_1e28._0_8_ = auVar76._0_8_;
        local_1e28._8_8_ = auVar76._8_8_;
        *(ulong *)((SetMB *)local_11d8 + lVar64) = local_1d78;
        *(undefined8 *)(local_11b8 + lVar64) = local_1e28._0_8_;
        *(undefined8 *)(local_11b8 + lVar64 + 8) = local_1e28._8_8_;
        local_1158[uVar65 * 0x1e + 1] = local_1f18._0_8_;
        *(undefined8 *)(local_11a8 + lVar64) = local_1e18._0_8_;
        *(undefined8 *)(local_11a8 + lVar64 + 8) = local_1e18._8_8_;
        *(undefined8 *)(local_1178 + lVar64) = local_1de8._0_8_;
        *(undefined8 *)(local_1178 + lVar64 + 8) = local_1de8._8_8_;
        *(undefined8 *)(local_1198 + lVar64) = local_1e08._0_8_;
        *(undefined8 *)(local_1198 + lVar64 + 8) = local_1e08._8_8_;
        local_1158[uVar65 * 0x1e] = uVar39;
        local_1188[uVar65 * 0x1e] = local_1df8._0_8_;
        *(undefined8 *)(local_1178 + lVar64 + -8) = local_1df8._8_8_;
        local_1168[uVar65 * 0x1e] = local_1768;
        local_1168[uVar65 * 0x1e + 1] = uStack_1760;
        *(float *)(&local_1148 + uVar65 * 0x1e) = (float)local_1ea0;
        local_1128[uVar65 * 0x3c + 1] = (float)uVar7;
        local_1138[uVar65 * 0x1e] = (ulong)puVar10;
        local_1128[uVar65 * 0x3c + 2] = (float)local_1720;
        local_1118[uVar65 * 0x1e] = (ulong)auVar34;
        *(float *)((long)local_1118 + lVar64 + -4) = fVar77;
        *(undefined4 *)((long)&local_1148 + lVar64 + 4) = (undefined4)local_1f38;
        *(undefined4 *)(local_1138 + uVar65 * 0x1e + -1) = local_1ef8._0_4_;
        *(float *)((long)local_1138 + lVar64 + -4) = fVar85;
        local_1128[uVar65 * 0x3c] = (float)uVar4;
        *(undefined1 (*) [8])(&local_1108 + uVar65 * 0x3c) = auVar36;
        *(undefined8 *)(&uStack_1100 + uVar65 * 0x3c) = uVar15;
        local_10f8[uVar65 * 0x1e] = uVar17;
        local_10f8[uVar65 * 0x1e + 1] = uVar19;
        local_258 = local_258 + 1;
        if (*param_1 <= local_258) {
          if (local_258 != 0) break;
          goto LAB_0011f6d3;
        }
        bVar58 = false;
        if (local_258 == 0) goto LAB_0011f6d3;
      }
      uVar65 = 0;
      puVar49 = &local_1140;
      do {
        if ((float)*puVar49 <= *(float *)(param_3 + 0x13)) {
          bVar29 = (bool)(bVar29 | (float)((ulong)*puVar49 >> 0x20) <
                                   *(float *)((long)param_3 + 0x9c));
        }
        else {
          bVar29 = true;
        }
        puVar49 = puVar49 + 0x1e;
        uVar65 = uVar65 + 1;
      } while (uVar65 != local_258);
LAB_0011f6d3:
      pfVar43 = (float *)*in_stack_00000010;
      if (bVar29) {
        local_1bb8 = (float *)0x100;
        if (in_stack_00000008 != *(FastAllocator **)(pfVar43 + 2)) {
          embree::MutexSys::lock();
          if (*(long *)(pfVar43 + 2) != 0) {
            LOCK();
            *(long *)(*(long *)(pfVar43 + 2) + 0x118) =
                 *(long *)(*(long *)(pfVar43 + 2) + 0x118) +
                 *(long *)(pfVar43 + 0x2a) + *(long *)(pfVar43 + 0x1a);
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar43 + 2) + 0x120) =
                 *(long *)(*(long *)(pfVar43 + 2) + 0x120) +
                 (((*(long *)(pfVar43 + 0x26) + *(long *)(pfVar43 + 0x16)) -
                  *(long *)(pfVar43 + 0x14)) - *(long *)(pfVar43 + 0x24));
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar43 + 2) + 0x128) =
                 *(long *)(*(long *)(pfVar43 + 2) + 0x128) +
                 *(long *)(pfVar43 + 0x2c) + *(long *)(pfVar43 + 0x1c);
            UNLOCK();
          }
          pfVar43[0x12] = 0.0;
          pfVar43[0x13] = 0.0;
          pfVar43[0x16] = 0.0;
          pfVar43[0x17] = 0.0;
          pfVar43[0x14] = 0.0;
          pfVar43[0x15] = 0.0;
          pfVar43[0x1a] = 0.0;
          pfVar43[0x1b] = 0.0;
          pfVar43[0x1c] = 0.0;
          pfVar43[0x1d] = 0.0;
          pfVar43[0x18] = 0.0;
          pfVar43[0x19] = 0.0;
          if (in_stack_00000008 == (FastAllocator *)0x0) {
            pfVar43[0x22] = 0.0;
            pfVar43[0x23] = 0.0;
            uVar48 = 0;
            pfVar43[0x26] = 0.0;
            pfVar43[0x27] = 0.0;
            pfVar43[0x24] = 0.0;
            pfVar43[0x25] = 0.0;
            pfVar43[0x2a] = 0.0;
            pfVar43[0x2b] = 0.0;
            pfVar43[0x2c] = 0.0;
            pfVar43[0x2d] = 0.0;
          }
          else {
            uVar48 = *(undefined8 *)(in_stack_00000008 + 0x10);
            pfVar43[0x22] = 0.0;
            pfVar43[0x23] = 0.0;
            pfVar43[0x26] = 0.0;
            pfVar43[0x27] = 0.0;
            *(undefined8 *)(pfVar43 + 0x18) = uVar48;
            pfVar43[0x24] = 0.0;
            pfVar43[0x25] = 0.0;
            pfVar43[0x2a] = 0.0;
            pfVar43[0x2b] = 0.0;
            pfVar43[0x2c] = 0.0;
            pfVar43[0x2d] = 0.0;
            pfVar43[0x28] = 0.0;
            pfVar43[0x29] = 0.0;
            uVar48 = *(undefined8 *)(in_stack_00000008 + 0x10);
          }
          *(undefined8 *)(pfVar43 + 0x28) = uVar48;
          LOCK();
          *(FastAllocator **)(pfVar43 + 2) = in_stack_00000008;
          UNLOCK();
          local_1b28 = pfVar43;
          embree::MutexSys::lock();
          puVar42 = *(ulong **)(in_stack_00000008 + 0x138);
          if (puVar42 == *(ulong **)(in_stack_00000008 + 0x140)) {
            std::
            vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
            ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                      ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                        *)(in_stack_00000008 + 0x130),puVar42,&local_1b28);
          }
          else {
            *puVar42 = (ulong)pfVar43;
            *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
          }
          embree::MutexSys::unlock();
          embree::MutexSys::unlock();
        }
        in_stack_00000010[5] = in_stack_00000010[5] + 0x100;
        uVar60 = in_stack_00000010[2];
        uVar39 = (ulong)(-(int)uVar60 & 0xf);
        uVar65 = uVar60 + 0x100 + uVar39;
        in_stack_00000010[2] = uVar65;
        if (in_stack_00000010[3] < uVar65) {
          in_stack_00000010[2] = uVar60;
          if ((float *)in_stack_00000010[4] < (float *)0x400) {
            puVar49 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1bb8,0x40,false);
          }
          else {
            local_1b28 = (float *)in_stack_00000010[4];
            puVar49 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b28,0x40,true);
            in_stack_00000010[1] = (ulong)puVar49;
            uVar65 = in_stack_00000010[2];
            in_stack_00000010[2] = 0x100;
            in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar65;
            in_stack_00000010[3] = (ulong)local_1b28;
            if (local_1b28 < (float *)0x100) {
              in_stack_00000010[2] = 0;
              local_1b28 = (float *)in_stack_00000010[4];
              puVar49 = (undefined8 *)
                        FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b28,0x40,false);
              in_stack_00000010[1] = (ulong)puVar49;
              uVar65 = in_stack_00000010[2];
              in_stack_00000010[2] = 0x100;
              in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar65;
              in_stack_00000010[3] = (ulong)local_1b28;
              if (local_1b28 < (float *)0x100) {
                puVar49 = (undefined8 *)0x0;
                in_stack_00000010[2] = 0;
              }
            }
          }
        }
        else {
          in_stack_00000010[6] = in_stack_00000010[6] + uVar39;
          puVar49 = (undefined8 *)((in_stack_00000010[1] - 0x100) + uVar65);
        }
        uVar48 = CONCAT44(fVar31,fVar31);
        uVar15 = CONCAT44(fVar31,fVar31);
        uVar16 = CONCAT44(fVar30,fVar30);
        uVar17 = CONCAT44(fVar30,fVar30);
        *puVar49 = 8;
        uVar65 = (ulong)puVar49 | 6;
        puVar49[1] = 8;
        puVar49[2] = 8;
        puVar49[3] = 8;
        puVar49[0x1c] = uVar48;
        puVar49[0x1d] = uVar15;
        puVar49[0x1e] = uVar16;
        puVar49[0x1f] = uVar17;
        puVar49[0xc] = uVar48;
        puVar49[0xd] = uVar15;
        puVar49[8] = uVar48;
        puVar49[9] = uVar15;
        puVar49[4] = uVar48;
        puVar49[5] = uVar15;
        puVar49[0xe] = uVar16;
        puVar49[0xf] = uVar17;
        puVar49[10] = uVar16;
        puVar49[0xb] = uVar17;
        puVar49[6] = uVar16;
        puVar49[7] = uVar17;
        *(undefined1 (*) [16])(puVar49 + 0x18) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x14) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x10) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x1a) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x16) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x12) = (undefined1  [16])0x0;
        if (local_258 != 0) {
LAB_00120293:
          auVar68._4_4_ = fVar30;
          auVar68._0_4_ = fVar30;
          auVar68._8_4_ = fVar30;
          auVar68._12_4_ = fVar30;
          uVar60 = 0;
          auVar71._4_4_ = fVar31;
          auVar71._0_4_ = fVar31;
          auVar71._8_4_ = fVar31;
          auVar71._12_4_ = fVar31;
          puVar42 = (ulong *)local_17d8;
          pSVar66 = (SetMB *)local_11d8;
          auVar73 = auVar68;
          auVar76 = auVar71;
          do {
            uVar60 = uVar60 + 1;
            createLargeLeaf((BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
                             *)&local_1b28,param_1,pSVar66);
            uVar5 = _LC33;
            fVar85 = _LC3;
            puVar42[2] = local_1b18;
            puVar42[3] = uStack_1b10;
            auVar22._8_8_ = uStack_1b10;
            auVar22._0_8_ = local_1b18;
            auVar71 = minps(auVar71,auVar22);
            *puVar42 = (ulong)local_1b28;
            puVar42[4] = (ulong)local_1b08;
            puVar42[5] = (ulong)pfStack_1b00;
            auVar23._8_8_ = pfStack_1b00;
            auVar23._0_8_ = local_1b08;
            auVar68 = maxps(auVar68,auVar23);
            *(undefined4 *)(puVar42 + 10) = (undefined4)local_1ad8;
            auVar24._8_8_ = uStack_1af0;
            auVar24._0_8_ = local_1af8;
            auVar76 = minps(auVar76,auVar24);
            puVar42[6] = local_1af8;
            puVar42[7] = uStack_1af0;
            *(undefined4 *)((long)puVar42 + 0x54) = local_1ad8._4_4_;
            puVar42[8] = (ulong)local_1ae8;
            puVar42[9] = (ulong)pfStack_1ae0;
            auVar25._8_8_ = pfStack_1ae0;
            auVar25._0_8_ = local_1ae8;
            auVar73 = maxps(auVar73,auVar25);
            puVar42 = puVar42 + 0xc;
            pSVar66 = pSVar66 + 0xf0;
          } while (uVar60 < local_258);
          if (((uint)uVar65 & 0xf) == 1) {
            if (local_258 != 0) {
              puVar42 = (ulong *)(uVar65 & 0xfffffffffffffff0);
              *puVar42 = local_17d8._0_8_;
              uVar32 = _LC6;
              fVar106 = _LC39;
              fVar105 = fVar85 / (local_1788._4_4_ - (float)local_1788);
              fVar77 = (float)((uint)(float)local_1788 ^ uVar5) * fVar105;
              fVar105 = (fVar85 - (float)local_1788) * fVar105;
              auVar107._4_4_ = _LC35;
              auVar107._0_4_ = _LC35;
              auVar107._8_4_ = _LC35;
              auVar107._12_4_ = _LC35;
              fVar116 = fVar85 - fVar77;
              fVar78 = fVar85 - fVar105;
              auVar133._0_4_ = (float)local_17b8._0_4_ * fVar116 + (float)local_1798 * fVar77;
              auVar133._4_4_ = (float)local_17b8._4_4_ * fVar116 + local_1798._4_4_ * fVar77;
              auVar133._8_4_ = (float)uStack_17b0 * fVar116 + (float)uStack_1790 * fVar77;
              auVar133._12_4_ = uStack_17b0._4_4_ * fVar116 + uStack_1790._4_4_ * fVar77;
              auVar117._0_4_ = fVar116 * (float)local_17c8._0_4_ + fVar77 * (float)local_17a8;
              auVar117._4_4_ = fVar116 * (float)local_17c8._4_4_ + fVar77 * local_17a8._4_4_;
              auVar117._8_4_ = fVar116 * (float)uStack_17c0 + fVar77 * (float)uStack_17a0;
              auVar117._12_4_ = fVar116 * uStack_17c0._4_4_ + fVar77 * uStack_17a0._4_4_;
              auVar99._4_4_ = _LC29;
              auVar99._0_4_ = _LC29;
              auVar99._8_4_ = _LC29;
              auVar99._12_4_ = _LC29;
              auVar134 = maxps(auVar133,auVar107);
              auVar118 = minps(auVar117,auVar99);
              auVar125._0_4_ = (float)local_17b8._0_4_ * fVar78 + (float)local_1798 * fVar105;
              auVar125._4_4_ = (float)local_17b8._4_4_ * fVar78 + local_1798._4_4_ * fVar105;
              auVar125._8_4_ = (float)uStack_17b0 * fVar78 + (float)uStack_1790 * fVar105;
              auVar125._12_4_ = uStack_17b0._4_4_ * fVar78 + uStack_1790._4_4_ * fVar105;
              auVar79._0_4_ = fVar78 * (float)local_17c8._0_4_ + fVar105 * (float)local_17a8;
              auVar79._4_4_ = fVar78 * (float)local_17c8._4_4_ + fVar105 * local_17a8._4_4_;
              auVar79._8_4_ = fVar78 * (float)uStack_17c0 + fVar105 * (float)uStack_17a0;
              auVar79._12_4_ = fVar78 * uStack_17c0._4_4_ + fVar105 * uStack_17a0._4_4_;
              auVar126 = maxps(auVar125,auVar107);
              auVar80 = minps(auVar79,auVar99);
              fVar77 = (float)((uint)auVar134._0_4_ & _LC6) * _LC39 + auVar134._0_4_;
              fVar78 = (float)((uint)auVar134._4_4_ & _LC6) * _LC39 + auVar134._4_4_;
              fVar105 = (float)((uint)auVar134._8_4_ & _LC6) * _LC39 + auVar134._8_4_;
              fVar140 = (float)((uint)auVar80._0_4_ & _LC6) * _LC39;
              fVar142 = (float)((uint)auVar80._4_4_ & _LC6) * _LC39;
              fVar143 = (float)((uint)auVar80._8_4_ & _LC6) * _LC39;
              fVar116 = (float)((uint)auVar118._0_4_ & _LC6) * _LC39;
              fVar138 = (float)((uint)auVar118._4_4_ & _LC6) * _LC39;
              fVar139 = (float)((uint)auVar118._8_4_ & _LC6) * _LC39;
              *(float *)(puVar42 + 6) = fVar77;
              fVar116 = auVar118._0_4_ - fVar116;
              fVar138 = auVar118._4_4_ - fVar138;
              fVar139 = auVar118._8_4_ - fVar139;
              *(float *)(puVar42 + 4) = fVar116;
              *(float *)(puVar42 + 0x10) = (auVar80._0_4_ - fVar140) - fVar116;
              *(float *)(puVar42 + 8) = fVar138;
              *(float *)(puVar42 + 0xc) = fVar139;
              *(float *)(puVar42 + 10) = fVar78;
              *(float *)(puVar42 + 0xe) = fVar105;
              *(float *)(puVar42 + 0x14) = (auVar80._4_4_ - fVar142) - fVar138;
              *(float *)(puVar42 + 0x18) = (auVar80._8_4_ - fVar143) - fVar139;
              *(float *)(puVar42 + 0x12) =
                   (auVar126._0_4_ + (float)((uint)auVar126._0_4_ & uVar32) * fVar106) - fVar77;
              *(float *)(puVar42 + 0x16) =
                   (auVar126._4_4_ + (float)((uint)auVar126._4_4_ & uVar32) * fVar106) - fVar78;
              *(float *)(puVar42 + 0x1a) =
                   (auVar126._8_4_ + (float)((uint)auVar126._8_4_ & uVar32) * fVar106) - fVar105;
              if (local_258 != 1) {
                puVar42[1] = local_1778._0_8_;
                fVar116 = fVar85 / (local_1728._4_4_ - (float)local_1728);
                fVar77 = (float)((uint)(float)local_1728 ^ uVar5) * fVar116;
                fVar116 = (fVar85 - (float)local_1728) * fVar116;
                fVar105 = fVar85 - fVar77;
                fVar78 = fVar85 - fVar116;
                auVar135._0_4_ = (float)local_1758 * fVar105 + (float)local_1738 * fVar77;
                auVar135._4_4_ = local_1758._4_4_ * fVar105 + local_1738._4_4_ * fVar77;
                auVar135._8_4_ = (float)uStack_1750 * fVar105 + fStack_1730 * fVar77;
                auVar135._12_4_ = uStack_1750._4_4_ * fVar105 + fStack_172c * fVar77;
                auVar119._0_4_ = fVar105 * (float)local_1768 + fVar77 * (float)local_1748;
                auVar119._4_4_ = fVar105 * local_1768._4_4_ + fVar77 * local_1748._4_4_;
                auVar119._8_4_ = fVar105 * (float)uStack_1760 + fVar77 * fStack_1740;
                auVar119._12_4_ = fVar105 * uStack_1760._4_4_ + fVar77 * fStack_173c;
                auVar134 = maxps(auVar135,auVar107);
                auVar118 = minps(auVar119,auVar99);
                auVar127._0_4_ = (float)local_1758 * fVar78 + (float)local_1738 * fVar116;
                auVar127._4_4_ = local_1758._4_4_ * fVar78 + local_1738._4_4_ * fVar116;
                auVar127._8_4_ = (float)uStack_1750 * fVar78 + fStack_1730 * fVar116;
                auVar127._12_4_ = uStack_1750._4_4_ * fVar78 + fStack_172c * fVar116;
                auVar81._0_4_ = fVar78 * (float)local_1768 + fVar116 * (float)local_1748;
                auVar81._4_4_ = fVar78 * local_1768._4_4_ + fVar116 * local_1748._4_4_;
                auVar81._8_4_ = fVar78 * (float)uStack_1760 + fVar116 * fStack_1740;
                auVar81._12_4_ = fVar78 * uStack_1760._4_4_ + fVar116 * fStack_173c;
                auVar126 = maxps(auVar127,auVar107);
                auVar80 = minps(auVar81,auVar99);
                fVar77 = (float)((uint)auVar134._0_4_ & uVar32) * fVar106 + auVar134._0_4_;
                fVar78 = (float)((uint)auVar134._4_4_ & uVar32) * fVar106 + auVar134._4_4_;
                fVar105 = (float)((uint)auVar134._8_4_ & uVar32) * fVar106 + auVar134._8_4_;
                *(float *)((long)puVar42 + 0x34) = fVar77;
                fVar116 = auVar118._0_4_ - (float)((uint)auVar118._0_4_ & uVar32) * fVar106;
                fVar138 = auVar118._4_4_ - (float)((uint)auVar118._4_4_ & uVar32) * fVar106;
                fVar139 = auVar118._8_4_ - (float)((uint)auVar118._8_4_ & uVar32) * fVar106;
                *(float *)((long)puVar42 + 0x24) = fVar116;
                *(float *)((long)puVar42 + 0x84) =
                     (auVar80._0_4_ - (float)((uint)auVar80._0_4_ & uVar32) * fVar106) - fVar116;
                *(float *)((long)puVar42 + 0x44) = fVar138;
                *(float *)((long)puVar42 + 100) = fVar139;
                *(float *)((long)puVar42 + 0x54) = fVar78;
                *(float *)((long)puVar42 + 0x74) = fVar105;
                *(float *)((long)puVar42 + 0xa4) =
                     (auVar80._4_4_ - (float)((uint)auVar80._4_4_ & uVar32) * fVar106) - fVar138;
                *(float *)((long)puVar42 + 0xc4) =
                     (auVar80._8_4_ - (float)((uint)auVar80._8_4_ & uVar32) * fVar106) - fVar139;
                *(float *)((long)puVar42 + 0x94) =
                     (auVar126._0_4_ + (float)((uint)auVar126._0_4_ & uVar32) * fVar106) - fVar77;
                *(float *)((long)puVar42 + 0xb4) =
                     (auVar126._4_4_ + (float)((uint)auVar126._4_4_ & uVar32) * fVar106) - fVar78;
                *(float *)((long)puVar42 + 0xd4) =
                     (auVar126._8_4_ + (float)((uint)auVar126._8_4_ & uVar32) * fVar106) - fVar105;
                if (local_258 != 2) {
                  puVar42[2] = local_1718;
                  fVar116 = fVar85 / (local_16c4 - local_16c8);
                  fVar77 = (float)((uint)local_16c8 ^ uVar5) * fVar116;
                  fVar116 = (fVar85 - local_16c8) * fVar116;
                  fVar105 = fVar85 - fVar77;
                  fVar78 = fVar85 - fVar116;
                  auVar136._0_4_ = (float)local_16f8 * fVar105 + local_16d8 * fVar77;
                  auVar136._4_4_ = local_16f8._4_4_ * fVar105 + fStack_16d4 * fVar77;
                  auVar136._8_4_ = (float)uStack_16f0 * fVar105 + fStack_16d0 * fVar77;
                  auVar136._12_4_ = uStack_16f0._4_4_ * fVar105 + fStack_16cc * fVar77;
                  auVar120._0_4_ = fVar105 * (float)local_1708 + fVar77 * local_16e8;
                  auVar120._4_4_ = fVar105 * local_1708._4_4_ + fVar77 * fStack_16e4;
                  auVar120._8_4_ = fVar105 * (float)uStack_1700 + fVar77 * fStack_16e0;
                  auVar120._12_4_ = fVar105 * uStack_1700._4_4_ + fVar77 * fStack_16dc;
                  auVar134 = maxps(auVar136,auVar107);
                  auVar118 = minps(auVar120,auVar99);
                  auVar128._0_4_ = (float)local_16f8 * fVar78 + local_16d8 * fVar116;
                  auVar128._4_4_ = local_16f8._4_4_ * fVar78 + fStack_16d4 * fVar116;
                  auVar128._8_4_ = (float)uStack_16f0 * fVar78 + fStack_16d0 * fVar116;
                  auVar128._12_4_ = uStack_16f0._4_4_ * fVar78 + fStack_16cc * fVar116;
                  auVar82._0_4_ = fVar78 * (float)local_1708 + fVar116 * local_16e8;
                  auVar82._4_4_ = fVar78 * local_1708._4_4_ + fVar116 * fStack_16e4;
                  auVar82._8_4_ = fVar78 * (float)uStack_1700 + fVar116 * fStack_16e0;
                  auVar82._12_4_ = fVar78 * uStack_1700._4_4_ + fVar116 * fStack_16dc;
                  auVar126 = maxps(auVar128,auVar107);
                  auVar80 = minps(auVar82,auVar99);
                  fVar77 = (float)((uint)auVar134._0_4_ & uVar32) * fVar106 + auVar134._0_4_;
                  fVar78 = (float)((uint)auVar134._4_4_ & uVar32) * fVar106 + auVar134._4_4_;
                  fVar105 = (float)((uint)auVar134._8_4_ & uVar32) * fVar106 + auVar134._8_4_;
                  *(float *)(puVar42 + 7) = fVar77;
                  fVar116 = auVar118._0_4_ - (float)((uint)auVar118._0_4_ & uVar32) * fVar106;
                  fVar138 = auVar118._4_4_ - (float)((uint)auVar118._4_4_ & uVar32) * fVar106;
                  fVar139 = auVar118._8_4_ - (float)((uint)auVar118._8_4_ & uVar32) * fVar106;
                  *(float *)(puVar42 + 5) = fVar116;
                  *(float *)(puVar42 + 0x11) =
                       (auVar80._0_4_ - (float)((uint)auVar80._0_4_ & uVar32) * fVar106) - fVar116;
                  *(float *)(puVar42 + 9) = fVar138;
                  *(float *)(puVar42 + 0xd) = fVar139;
                  *(float *)(puVar42 + 0xb) = fVar78;
                  *(float *)(puVar42 + 0xf) = fVar105;
                  *(float *)(puVar42 + 0x15) =
                       (auVar80._4_4_ - (float)((uint)auVar80._4_4_ & uVar32) * fVar106) - fVar138;
                  *(float *)(puVar42 + 0x19) =
                       (auVar80._8_4_ - (float)((uint)auVar80._8_4_ & uVar32) * fVar106) - fVar139;
                  *(float *)(puVar42 + 0x13) =
                       (auVar126._0_4_ + (float)((uint)auVar126._0_4_ & uVar32) * fVar106) - fVar77;
                  *(float *)(puVar42 + 0x17) =
                       (auVar126._4_4_ + (float)((uint)auVar126._4_4_ & uVar32) * fVar106) - fVar78;
                  *(float *)(puVar42 + 0x1b) =
                       (auVar126._8_4_ + (float)((uint)auVar126._8_4_ & uVar32) * fVar106) - fVar105
                  ;
                  if (local_258 != 3) {
                    puVar42[3] = local_16b8;
                    fVar105 = fVar85 / (local_1664 - local_1668);
                    fVar77 = (float)(uVar5 ^ (uint)local_1668) * fVar105;
                    fVar78 = fVar85 - fVar77;
                    fVar105 = (fVar85 - local_1668) * fVar105;
                    fVar85 = fVar85 - fVar105;
                    auVar121._0_4_ = local_1678 * fVar77 + local_1698 * fVar78;
                    auVar121._4_4_ = fStack_1674 * fVar77 + fStack_1694 * fVar78;
                    auVar121._8_4_ = fStack_1670 * fVar77 + fStack_1690 * fVar78;
                    auVar121._12_4_ = fStack_166c * fVar77 + fStack_168c * fVar78;
                    auVar114._0_4_ = fVar77 * local_1688 + fVar78 * local_16a8;
                    auVar114._4_4_ = fVar77 * fStack_1684 + fVar78 * fStack_16a4;
                    auVar114._8_4_ = fVar77 * fStack_1680 + fVar78 * fStack_16a0;
                    auVar114._12_4_ = fVar77 * fStack_167c + fVar78 * fStack_169c;
                    auVar134 = maxps(auVar121,auVar107);
                    auVar126 = minps(auVar114,auVar99);
                    auVar112._0_4_ = local_1678 * fVar105 + local_1698 * fVar85;
                    auVar112._4_4_ = fStack_1674 * fVar105 + fStack_1694 * fVar85;
                    auVar112._8_4_ = fStack_1670 * fVar105 + fStack_1690 * fVar85;
                    auVar112._12_4_ = fStack_166c * fVar105 + fStack_168c * fVar85;
                    auVar83._0_4_ = fVar105 * local_1688 + fVar85 * local_16a8;
                    auVar83._4_4_ = fVar105 * fStack_1684 + fVar85 * fStack_16a4;
                    auVar83._8_4_ = fVar105 * fStack_1680 + fVar85 * fStack_16a0;
                    auVar83._12_4_ = fVar105 * fStack_167c + fVar85 * fStack_169c;
                    auVar118 = maxps(auVar112,auVar107);
                    auVar80 = minps(auVar83,auVar99);
                    fVar85 = (float)((uint)auVar134._0_4_ & uVar32) * fVar106 + auVar134._0_4_;
                    fVar77 = (float)((uint)auVar134._4_4_ & uVar32) * fVar106 + auVar134._4_4_;
                    fVar78 = (float)((uint)auVar134._8_4_ & uVar32) * fVar106 + auVar134._8_4_;
                    *(float *)((long)puVar42 + 0x3c) = fVar85;
                    fVar105 = auVar126._0_4_ - (float)((uint)auVar126._0_4_ & uVar32) * fVar106;
                    fVar116 = auVar126._4_4_ - (float)((uint)auVar126._4_4_ & uVar32) * fVar106;
                    fVar138 = auVar126._8_4_ - (float)((uint)auVar126._8_4_ & uVar32) * fVar106;
                    *(float *)((long)puVar42 + 0x2c) = fVar105;
                    *(float *)((long)puVar42 + 0x6c) = fVar138;
                    *(float *)((long)puVar42 + 0x4c) = fVar116;
                    *(float *)((long)puVar42 + 0x5c) = fVar77;
                    *(float *)((long)puVar42 + 0x7c) = fVar78;
                    *(float *)((long)puVar42 + 0x8c) =
                         (auVar80._0_4_ - (float)(uVar32 & (uint)auVar80._0_4_) * fVar106) - fVar105
                    ;
                    *(float *)((long)puVar42 + 0xac) =
                         (auVar80._4_4_ - (float)(uVar32 & (uint)auVar80._4_4_) * fVar106) - fVar116
                    ;
                    *(float *)((long)puVar42 + 0x9c) =
                         ((float)((uint)auVar118._0_4_ & uVar32) * fVar106 + auVar118._0_4_) -
                         fVar85;
                    *(float *)((long)puVar42 + 0xcc) =
                         (auVar80._8_4_ - (float)(uVar32 & (uint)auVar80._8_4_) * fVar106) - fVar138
                    ;
                    *(float *)((long)puVar42 + 0xbc) =
                         ((float)((uint)auVar118._4_4_ & uVar32) * fVar106 + auVar118._4_4_) -
                         fVar77;
                    *(float *)((long)puVar42 + 0xdc) =
                         ((float)((uint)auVar118._8_4_ & uVar32) * fVar106 + auVar118._8_4_) -
                         fVar78;
                  }
                }
              }
            }
          }
          else if (local_258 != 0) {
            puVar42 = (ulong *)(uVar65 & 0xfffffffffffffff0);
            *puVar42 = local_17d8._0_8_;
            uVar32 = _LC6;
            fVar106 = _LC39;
            auVar115._4_4_ = _LC35;
            auVar115._0_4_ = _LC35;
            auVar115._8_4_ = _LC35;
            auVar115._12_4_ = _LC35;
            fVar105 = fVar85 / (local_1788._4_4_ - (float)local_1788);
            fVar77 = (float)((uint)(float)local_1788 ^ uVar5) * fVar105;
            fVar105 = (fVar85 - (float)local_1788) * fVar105;
            fVar116 = fVar85 - fVar77;
            fVar78 = fVar85 - fVar105;
            auVar141._0_4_ = (float)local_17b8._0_4_ * fVar116 + (float)local_1798 * fVar77;
            auVar141._4_4_ = (float)local_17b8._4_4_ * fVar116 + local_1798._4_4_ * fVar77;
            auVar141._8_4_ = (float)uStack_17b0 * fVar116 + (float)uStack_1790 * fVar77;
            auVar141._12_4_ = uStack_17b0._4_4_ * fVar116 + uStack_1790._4_4_ * fVar77;
            auVar108._0_4_ = fVar116 * (float)local_17c8._0_4_ + fVar77 * (float)local_17a8;
            auVar108._4_4_ = fVar116 * (float)local_17c8._4_4_ + fVar77 * local_17a8._4_4_;
            auVar108._8_4_ = fVar116 * (float)uStack_17c0 + fVar77 * (float)uStack_17a0;
            auVar108._12_4_ = fVar116 * uStack_17c0._4_4_ + fVar77 * uStack_17a0._4_4_;
            auVar113._4_4_ = _LC29;
            auVar113._0_4_ = _LC29;
            auVar113._8_4_ = _LC29;
            auVar113._12_4_ = _LC29;
            auVar134 = maxps(auVar141,auVar115);
            auVar118 = minps(auVar108,auVar113);
            auVar129._0_4_ = (float)local_17b8._0_4_ * fVar78 + (float)local_1798 * fVar105;
            auVar129._4_4_ = (float)local_17b8._4_4_ * fVar78 + local_1798._4_4_ * fVar105;
            auVar129._8_4_ = (float)uStack_17b0 * fVar78 + (float)uStack_1790 * fVar105;
            auVar129._12_4_ = uStack_17b0._4_4_ * fVar78 + uStack_1790._4_4_ * fVar105;
            auVar126 = maxps(auVar129,auVar115);
            auVar91._0_4_ = (float)local_17c8._0_4_ * fVar78 + fVar105 * (float)local_17a8;
            auVar91._4_4_ = (float)local_17c8._4_4_ * fVar78 + fVar105 * local_17a8._4_4_;
            auVar91._8_4_ = (float)uStack_17c0 * fVar78 + fVar105 * (float)uStack_17a0;
            auVar91._12_4_ = uStack_17c0._4_4_ * fVar78 + fVar105 * uStack_17a0._4_4_;
            auVar80 = minps(auVar91,auVar113);
            fVar116 = (float)((uint)auVar134._0_4_ & _LC6) * _LC39 + auVar134._0_4_;
            fVar138 = (float)((uint)auVar134._4_4_ & _LC6) * _LC39 + auVar134._4_4_;
            fVar139 = (float)((uint)auVar134._8_4_ & _LC6) * _LC39 + auVar134._8_4_;
            fVar77 = (float)((uint)auVar118._0_4_ & _LC6) * _LC39;
            fVar78 = (float)((uint)auVar118._4_4_ & _LC6) * _LC39;
            fVar105 = (float)((uint)auVar118._8_4_ & _LC6) * _LC39;
            *(float *)(puVar42 + 6) = fVar116;
            fVar77 = auVar118._0_4_ - fVar77;
            fVar78 = auVar118._4_4_ - fVar78;
            fVar105 = auVar118._8_4_ - fVar105;
            *(float *)(puVar42 + 4) = fVar77;
            *(float *)(puVar42 + 0x10) =
                 (auVar80._0_4_ - (float)((uint)auVar80._0_4_ & uVar32) * fVar106) - fVar77;
            *(float *)(puVar42 + 8) = fVar78;
            *(float *)(puVar42 + 0xc) = fVar105;
            *(float *)(puVar42 + 10) = fVar138;
            *(float *)(puVar42 + 0x14) =
                 (auVar80._4_4_ - (float)((uint)auVar80._4_4_ & uVar32) * fVar106) - fVar78;
            *(float *)(puVar42 + 0x18) =
                 (auVar80._8_4_ - (float)((uint)auVar80._8_4_ & uVar32) * fVar106) - fVar105;
            *(float *)(puVar42 + 0xe) = fVar139;
            *(float *)(puVar42 + 0x12) =
                 (auVar126._0_4_ + (float)((uint)auVar126._0_4_ & uVar32) * fVar106) - fVar116;
            *(float *)(puVar42 + 0x16) =
                 (auVar126._4_4_ + (float)((uint)auVar126._4_4_ & uVar32) * fVar106) - fVar138;
            *(float *)(puVar42 + 0x1a) =
                 (auVar126._8_4_ + (float)((uint)auVar126._8_4_ & uVar32) * fVar106) - fVar139;
            *(float *)(puVar42 + 0x1c) = (float)local_1788;
            fVar77 = local_1788._4_4_;
            if (local_1788._4_4_ == fVar85) {
              fVar77 = _LC32;
            }
            *(float *)(puVar42 + 0x1e) = fVar77;
            if (local_258 != 1) {
              puVar42[1] = local_1778._0_8_;
              fVar105 = fVar85 / (local_1728._4_4_ - (float)local_1728);
              fVar78 = (float)((uint)(float)local_1728 ^ uVar5) * fVar105;
              fVar77 = fVar85 - fVar78;
              fVar105 = (fVar85 - (float)local_1728) * fVar105;
              fVar116 = fVar85 - fVar105;
              auVar122._0_4_ = (float)local_1738 * fVar78 + (float)local_1758 * fVar77;
              auVar122._4_4_ = local_1738._4_4_ * fVar78 + local_1758._4_4_ * fVar77;
              auVar122._8_4_ = fStack_1730 * fVar78 + (float)uStack_1750 * fVar77;
              auVar122._12_4_ = fStack_172c * fVar78 + uStack_1750._4_4_ * fVar77;
              auVar92._0_4_ = fVar77 * (float)local_1768 + fVar78 * (float)local_1748;
              auVar92._4_4_ = fVar77 * local_1768._4_4_ + fVar78 * local_1748._4_4_;
              auVar92._8_4_ = fVar77 * (float)uStack_1760 + fVar78 * fStack_1740;
              auVar92._12_4_ = fVar77 * uStack_1760._4_4_ + fVar78 * fStack_173c;
              auVar126 = maxps(auVar122,auVar115);
              auVar80 = minps(auVar92,auVar113);
              auVar109._0_4_ = (float)local_1738 * fVar105 + (float)local_1758 * fVar116;
              auVar109._4_4_ = local_1738._4_4_ * fVar105 + local_1758._4_4_ * fVar116;
              auVar109._8_4_ = fStack_1730 * fVar105 + (float)uStack_1750 * fVar116;
              auVar109._12_4_ = fStack_172c * fVar105 + uStack_1750._4_4_ * fVar116;
              auVar130._0_4_ = fVar116 * (float)local_1768 + fVar105 * (float)local_1748;
              auVar130._4_4_ = fVar116 * local_1768._4_4_ + fVar105 * local_1748._4_4_;
              auVar130._8_4_ = fVar116 * (float)uStack_1760 + fVar105 * fStack_1740;
              auVar130._12_4_ = fVar116 * uStack_1760._4_4_ + fVar105 * fStack_173c;
              auVar118 = maxps(auVar109,auVar115);
              auVar134 = minps(auVar130,auVar113);
              fVar116 = auVar126._0_4_ + (float)((uint)auVar126._0_4_ & uVar32) * fVar106;
              fVar138 = auVar126._4_4_ + (float)((uint)auVar126._4_4_ & uVar32) * fVar106;
              fVar139 = auVar126._8_4_ + (float)((uint)auVar126._8_4_ & uVar32) * fVar106;
              *(float *)((long)puVar42 + 0x34) = fVar116;
              fVar77 = auVar80._0_4_ - (float)((uint)auVar80._0_4_ & uVar32) * fVar106;
              fVar78 = auVar80._4_4_ - (float)((uint)auVar80._4_4_ & uVar32) * fVar106;
              fVar105 = auVar80._8_4_ - (float)((uint)auVar80._8_4_ & uVar32) * fVar106;
              *(float *)((long)puVar42 + 0x24) = fVar77;
              *(float *)((long)puVar42 + 0x94) =
                   (auVar118._0_4_ + (float)((uint)auVar118._0_4_ & uVar32) * fVar106) - fVar116;
              *(float *)((long)puVar42 + 0x44) = fVar78;
              *(float *)((long)puVar42 + 100) = fVar105;
              *(float *)((long)puVar42 + 0x54) = fVar138;
              *(float *)((long)puVar42 + 0x74) = fVar139;
              *(float *)((long)puVar42 + 0x84) =
                   (auVar134._0_4_ - (float)((uint)auVar134._0_4_ & uVar32) * fVar106) - fVar77;
              *(float *)((long)puVar42 + 0xa4) =
                   (auVar134._4_4_ - (float)((uint)auVar134._4_4_ & uVar32) * fVar106) - fVar78;
              *(float *)((long)puVar42 + 0xc4) =
                   (auVar134._8_4_ - (float)((uint)auVar134._8_4_ & uVar32) * fVar106) - fVar105;
              *(float *)((long)puVar42 + 0xb4) =
                   (auVar118._4_4_ + (float)((uint)auVar118._4_4_ & uVar32) * fVar106) - fVar138;
              *(float *)((long)puVar42 + 0xd4) =
                   (auVar118._8_4_ + (float)((uint)auVar118._8_4_ & uVar32) * fVar106) - fVar139;
              *(float *)((long)puVar42 + 0xe4) = (float)local_1728;
              fVar77 = local_1728._4_4_;
              if (local_1728._4_4_ == fVar85) {
                fVar77 = _LC32;
              }
              *(float *)((long)puVar42 + 0xf4) = fVar77;
              if (local_258 != 2) {
                puVar42[2] = local_1718;
                fVar105 = fVar85 / (local_16c4 - local_16c8);
                fVar78 = (float)((uint)local_16c8 ^ uVar5) * fVar105;
                fVar77 = fVar85 - fVar78;
                fVar105 = (fVar85 - local_16c8) * fVar105;
                fVar116 = fVar85 - fVar105;
                auVar123._0_4_ = local_16d8 * fVar78 + (float)local_16f8 * fVar77;
                auVar123._4_4_ = fStack_16d4 * fVar78 + local_16f8._4_4_ * fVar77;
                auVar123._8_4_ = fStack_16d0 * fVar78 + (float)uStack_16f0 * fVar77;
                auVar123._12_4_ = fStack_16cc * fVar78 + uStack_16f0._4_4_ * fVar77;
                auVar93._0_4_ = fVar77 * (float)local_1708 + fVar78 * local_16e8;
                auVar93._4_4_ = fVar77 * local_1708._4_4_ + fVar78 * fStack_16e4;
                auVar93._8_4_ = fVar77 * (float)uStack_1700 + fVar78 * fStack_16e0;
                auVar93._12_4_ = fVar77 * uStack_1700._4_4_ + fVar78 * fStack_16dc;
                auVar126 = maxps(auVar123,auVar115);
                auVar80 = minps(auVar93,auVar113);
                auVar110._0_4_ = local_16d8 * fVar105 + (float)local_16f8 * fVar116;
                auVar110._4_4_ = fStack_16d4 * fVar105 + local_16f8._4_4_ * fVar116;
                auVar110._8_4_ = fStack_16d0 * fVar105 + (float)uStack_16f0 * fVar116;
                auVar110._12_4_ = fStack_16cc * fVar105 + uStack_16f0._4_4_ * fVar116;
                auVar131._0_4_ = fVar116 * (float)local_1708 + fVar105 * local_16e8;
                auVar131._4_4_ = fVar116 * local_1708._4_4_ + fVar105 * fStack_16e4;
                auVar131._8_4_ = fVar116 * (float)uStack_1700 + fVar105 * fStack_16e0;
                auVar131._12_4_ = fVar116 * uStack_1700._4_4_ + fVar105 * fStack_16dc;
                auVar118 = maxps(auVar110,auVar115);
                auVar134 = minps(auVar131,auVar113);
                fVar116 = auVar126._0_4_ + (float)((uint)auVar126._0_4_ & uVar32) * fVar106;
                fVar138 = auVar126._4_4_ + (float)((uint)auVar126._4_4_ & uVar32) * fVar106;
                fVar139 = auVar126._8_4_ + (float)((uint)auVar126._8_4_ & uVar32) * fVar106;
                *(float *)(puVar42 + 7) = fVar116;
                fVar77 = auVar80._0_4_ - (float)((uint)auVar80._0_4_ & uVar32) * fVar106;
                fVar78 = auVar80._4_4_ - (float)((uint)auVar80._4_4_ & uVar32) * fVar106;
                fVar105 = auVar80._8_4_ - (float)((uint)auVar80._8_4_ & uVar32) * fVar106;
                *(float *)(puVar42 + 5) = fVar77;
                *(float *)(puVar42 + 0x13) =
                     (auVar118._0_4_ + (float)((uint)auVar118._0_4_ & uVar32) * fVar106) - fVar116;
                *(float *)(puVar42 + 9) = fVar78;
                *(float *)(puVar42 + 0xd) = fVar105;
                *(float *)(puVar42 + 0xb) = fVar138;
                *(float *)(puVar42 + 0xf) = fVar139;
                *(float *)(puVar42 + 0x11) =
                     (auVar134._0_4_ - (float)((uint)auVar134._0_4_ & uVar32) * fVar106) - fVar77;
                *(float *)(puVar42 + 0x15) =
                     (auVar134._4_4_ - (float)((uint)auVar134._4_4_ & uVar32) * fVar106) - fVar78;
                *(float *)(puVar42 + 0x19) =
                     (auVar134._8_4_ - (float)((uint)auVar134._8_4_ & uVar32) * fVar106) - fVar105;
                *(float *)(puVar42 + 0x17) =
                     (auVar118._4_4_ + (float)((uint)auVar118._4_4_ & uVar32) * fVar106) - fVar138;
                *(float *)(puVar42 + 0x1b) =
                     (auVar118._8_4_ + (float)((uint)auVar118._8_4_ & uVar32) * fVar106) - fVar139;
                *(float *)(puVar42 + 0x1d) = local_16c8;
                if (local_16c4 == fVar85) {
                  local_16c4 = _LC32;
                }
                *(float *)(puVar42 + 0x1f) = local_16c4;
                if (local_258 != 3) {
                  puVar42[3] = local_16b8;
                  *(float *)((long)puVar42 + 0xec) = local_1668;
                  fVar78 = fVar85 / (local_1664 - local_1668);
                  fVar77 = (float)(uVar5 ^ (uint)local_1668) * fVar78;
                  fVar105 = fVar85 - fVar77;
                  fVar78 = fVar78 * (fVar85 - local_1668);
                  fVar116 = fVar85 - fVar78;
                  auVar111._0_4_ = local_1678 * fVar77 + local_1698 * fVar105;
                  auVar111._4_4_ = fStack_1674 * fVar77 + fStack_1694 * fVar105;
                  auVar111._8_4_ = fStack_1670 * fVar77 + fStack_1690 * fVar105;
                  auVar111._12_4_ = fStack_166c * fVar77 + fStack_168c * fVar105;
                  auVar101._0_4_ = fVar105 * local_16a8 + fVar77 * local_1688;
                  auVar101._4_4_ = fVar105 * fStack_16a4 + fVar77 * fStack_1684;
                  auVar101._8_4_ = fVar105 * fStack_16a0 + fVar77 * fStack_1680;
                  auVar101._12_4_ = fVar105 * fStack_169c + fVar77 * fStack_167c;
                  auVar118 = maxps(auVar111,auVar115);
                  auVar80 = minps(auVar101,auVar113);
                  auVar124._0_4_ = local_1678 * fVar78 + local_1698 * fVar116;
                  auVar124._4_4_ = fStack_1674 * fVar78 + fStack_1694 * fVar116;
                  auVar124._8_4_ = fStack_1670 * fVar78 + fStack_1690 * fVar116;
                  auVar124._12_4_ = fStack_166c * fVar78 + fStack_168c * fVar116;
                  auVar126 = maxps(auVar124,auVar115);
                  auVar132._0_4_ = fVar78 * local_1688 + local_16a8 * fVar116;
                  auVar132._4_4_ = fVar78 * fStack_1684 + fStack_16a4 * fVar116;
                  auVar132._8_4_ = fVar78 * fStack_1680 + fStack_16a0 * fVar116;
                  auVar132._12_4_ = fVar78 * fStack_167c + fStack_169c * fVar116;
                  auVar134 = minps(auVar132,auVar113);
                  fVar116 = (float)((uint)auVar118._0_4_ & uVar32) * fVar106 + auVar118._0_4_;
                  fVar138 = (float)((uint)auVar118._4_4_ & uVar32) * fVar106 + auVar118._4_4_;
                  fVar139 = (float)((uint)auVar118._8_4_ & uVar32) * fVar106 + auVar118._8_4_;
                  *(float *)((long)puVar42 + 0x3c) = fVar116;
                  fVar77 = auVar80._0_4_ - (float)((uint)auVar80._0_4_ & uVar32) * fVar106;
                  fVar78 = auVar80._4_4_ - (float)((uint)auVar80._4_4_ & uVar32) * fVar106;
                  fVar105 = auVar80._8_4_ - (float)((uint)auVar80._8_4_ & uVar32) * fVar106;
                  *(float *)((long)puVar42 + 0x2c) = fVar77;
                  *(float *)((long)puVar42 + 0x4c) = fVar78;
                  *(float *)((long)puVar42 + 0x5c) = fVar138;
                  *(float *)((long)puVar42 + 0x7c) = fVar139;
                  *(float *)((long)puVar42 + 0x6c) = fVar105;
                  *(float *)((long)puVar42 + 0x8c) =
                       (auVar134._0_4_ - (float)(uVar32 & (uint)auVar134._0_4_) * fVar106) - fVar77;
                  *(float *)((long)puVar42 + 0xac) =
                       (auVar134._4_4_ - (float)(uVar32 & (uint)auVar134._4_4_) * fVar106) - fVar78;
                  *(float *)((long)puVar42 + 0xcc) =
                       (auVar134._8_4_ - (float)(uVar32 & (uint)auVar134._8_4_) * fVar106) - fVar105
                  ;
                  *(float *)((long)puVar42 + 0x9c) =
                       ((float)((uint)auVar126._0_4_ & uVar32) * fVar106 + auVar126._0_4_) - fVar116
                  ;
                  *(float *)((long)puVar42 + 0xbc) =
                       ((float)((uint)auVar126._4_4_ & uVar32) * fVar106 + auVar126._4_4_) - fVar138
                  ;
                  *(float *)((long)puVar42 + 0xdc) =
                       ((float)((uint)auVar126._8_4_ & uVar32) * fVar106 + auVar126._8_4_) - fVar139
                  ;
                  if (local_1664 == fVar85) {
                    local_1664 = _LC32;
                  }
                  *(float *)((long)puVar42 + 0xfc) = local_1664;
                }
              }
            }
          }
          if (!bVar29) goto LAB_00121baf;
        }
        local_1c78 = (ulong *)local_19a8;
        local_1b28 = (float *)CONCAT44(fVar31,fVar31);
        pfStack_1b20 = (float *)CONCAT44(fVar31,fVar31);
        local_1b18 = CONCAT44(fVar30,fVar30);
        uStack_1b10 = CONCAT44(fVar30,fVar30);
        local_1c70 = (float *)(param_1 + 0xb);
        local_1b08 = local_1b28;
        pfStack_1b00 = pfStack_1b20;
        local_1af8 = local_1b18;
        uStack_1af0 = uStack_1b10;
        if ((ulong)((long)pfStack_1940 - (long)local_1948) < 0xc00) {
          local_1c48 = local_1948;
          pfStack_1c40 = pfStack_1940;
          const::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                    ((_lambda_embree__range<unsigned_long>const___1_ *)&local_1bb8,
                     (range *)&local_1c78);
        }
        else {
          parallel_reduce_internal<unsigned_long,embree::LBBox<embree::Vec3fa>,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::range<unsigned_long>const&)_1_,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::LBBox<embree::Vec3fa>const&,embree::LBBox<embree::Vec3fa>const&)_2_>
                    ((ulong)&local_1bb8,((long)pfStack_1940 - (long)local_1948) + 0x3ffU >> 10,
                     (ulong)local_1948,(ulong)pfStack_1940,(LBBox_conflict *)0x400,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1b28,
                     (_lambda_embree__LBBox<embree::Vec3fa>_const__embree__LBBox<embree::Vec3fa>_const___2_
                      *)&local_1c78);
        }
        *(float **)(this + 0x10) = local_1bb8;
        *(float **)(this + 0x18) = pfStack_1bb0;
        *(ulong *)this = uVar65;
        *(ulong *)(this + 0x20) = local_1ba8;
        *(ulong *)(this + 0x28) = uStack_1ba0;
        *(float **)(this + 0x30) = local_1b98;
        *(float **)(this + 0x38) = pfStack_1b90;
        *(ulong *)(this + 0x40) = local_1b88;
        *(ulong *)(this + 0x48) = uStack_1b80;
        *(ulong *)(this + 0x50) = local_1920;
      }
      else {
        local_1bb8 = (float *)0xe0;
        if (in_stack_00000008 != *(FastAllocator **)(pfVar43 + 2)) {
          embree::MutexSys::lock();
          if (*(long *)(pfVar43 + 2) != 0) {
            LOCK();
            *(long *)(*(long *)(pfVar43 + 2) + 0x118) =
                 *(long *)(*(long *)(pfVar43 + 2) + 0x118) +
                 *(long *)(pfVar43 + 0x2a) + *(long *)(pfVar43 + 0x1a);
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar43 + 2) + 0x120) =
                 *(long *)(*(long *)(pfVar43 + 2) + 0x120) +
                 (((*(long *)(pfVar43 + 0x26) + *(long *)(pfVar43 + 0x16)) -
                  *(long *)(pfVar43 + 0x14)) - *(long *)(pfVar43 + 0x24));
            UNLOCK();
            LOCK();
            *(long *)(*(long *)(pfVar43 + 2) + 0x128) =
                 *(long *)(*(long *)(pfVar43 + 2) + 0x128) +
                 *(long *)(pfVar43 + 0x2c) + *(long *)(pfVar43 + 0x1c);
            UNLOCK();
          }
          pfVar43[0x12] = 0.0;
          pfVar43[0x13] = 0.0;
          pfVar43[0x16] = 0.0;
          pfVar43[0x17] = 0.0;
          pfVar43[0x14] = 0.0;
          pfVar43[0x15] = 0.0;
          pfVar43[0x1a] = 0.0;
          pfVar43[0x1b] = 0.0;
          pfVar43[0x1c] = 0.0;
          pfVar43[0x1d] = 0.0;
          pfVar43[0x18] = 0.0;
          pfVar43[0x19] = 0.0;
          if (in_stack_00000008 == (FastAllocator *)0x0) {
            pfVar43[0x22] = 0.0;
            pfVar43[0x23] = 0.0;
            uVar48 = 0;
            pfVar43[0x26] = 0.0;
            pfVar43[0x27] = 0.0;
            pfVar43[0x24] = 0.0;
            pfVar43[0x25] = 0.0;
            pfVar43[0x2a] = 0.0;
            pfVar43[0x2b] = 0.0;
            pfVar43[0x2c] = 0.0;
            pfVar43[0x2d] = 0.0;
          }
          else {
            uVar48 = *(undefined8 *)(in_stack_00000008 + 0x10);
            pfVar43[0x22] = 0.0;
            pfVar43[0x23] = 0.0;
            pfVar43[0x26] = 0.0;
            pfVar43[0x27] = 0.0;
            *(undefined8 *)(pfVar43 + 0x18) = uVar48;
            pfVar43[0x24] = 0.0;
            pfVar43[0x25] = 0.0;
            pfVar43[0x2a] = 0.0;
            pfVar43[0x2b] = 0.0;
            pfVar43[0x2c] = 0.0;
            pfVar43[0x2d] = 0.0;
            pfVar43[0x28] = 0.0;
            pfVar43[0x29] = 0.0;
            uVar48 = *(undefined8 *)(in_stack_00000008 + 0x10);
          }
          *(undefined8 *)(pfVar43 + 0x28) = uVar48;
          LOCK();
          *(FastAllocator **)(pfVar43 + 2) = in_stack_00000008;
          UNLOCK();
          local_1b28 = pfVar43;
          embree::MutexSys::lock();
          puVar42 = *(ulong **)(in_stack_00000008 + 0x138);
          if (puVar42 == *(ulong **)(in_stack_00000008 + 0x140)) {
            std::
            vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
            ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                      ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                        *)(in_stack_00000008 + 0x130),puVar42,&local_1b28);
          }
          else {
            *puVar42 = (ulong)pfVar43;
            *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
          }
          embree::MutexSys::unlock();
          embree::MutexSys::unlock();
        }
        in_stack_00000010[5] = in_stack_00000010[5] + 0xe0;
        uVar60 = in_stack_00000010[2];
        uVar39 = (ulong)(-(int)uVar60 & 0xf);
        uVar65 = uVar60 + 0xe0 + uVar39;
        in_stack_00000010[2] = uVar65;
        if (in_stack_00000010[3] < uVar65) {
          in_stack_00000010[2] = uVar60;
          if ((float *)in_stack_00000010[4] < (float *)0x380) {
            puVar49 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1bb8,0x40,false);
          }
          else {
            local_1b28 = (float *)in_stack_00000010[4];
            puVar49 = (undefined8 *)
                      FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b28,0x40,true);
            in_stack_00000010[1] = (ulong)puVar49;
            uVar65 = in_stack_00000010[2];
            in_stack_00000010[2] = 0xe0;
            in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar65;
            in_stack_00000010[3] = (ulong)local_1b28;
            if (local_1b28 < (float *)0xe0) {
              in_stack_00000010[2] = 0;
              local_1b28 = (float *)in_stack_00000010[4];
              puVar49 = (undefined8 *)
                        FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b28,0x40,false);
              in_stack_00000010[1] = (ulong)puVar49;
              uVar65 = in_stack_00000010[2];
              in_stack_00000010[2] = 0xe0;
              in_stack_00000010[6] = (in_stack_00000010[3] + in_stack_00000010[6]) - uVar65;
              in_stack_00000010[3] = (ulong)local_1b28;
              if (local_1b28 < (float *)0xe0) {
                puVar49 = (undefined8 *)0x0;
                in_stack_00000010[2] = 0;
              }
            }
          }
        }
        else {
          in_stack_00000010[6] = in_stack_00000010[6] + uVar39;
          puVar49 = (undefined8 *)((in_stack_00000010[1] - 0xe0) + uVar65);
        }
        uVar48 = CONCAT44(fVar31,fVar31);
        uVar15 = CONCAT44(fVar31,fVar31);
        *puVar49 = 8;
        puVar49[1] = 8;
        uVar65 = (ulong)puVar49 | 1;
        puVar49[0xc] = uVar48;
        puVar49[0xd] = uVar15;
        puVar49[8] = uVar48;
        puVar49[9] = uVar15;
        puVar49[4] = uVar48;
        puVar49[5] = uVar15;
        auVar68._4_4_ = fVar30;
        auVar68._0_4_ = fVar30;
        auVar68._8_4_ = fVar30;
        auVar68._12_4_ = fVar30;
        puVar49[2] = 8;
        puVar49[3] = 8;
        *(undefined1 (*) [16])(puVar49 + 0xe) = auVar68;
        *(undefined1 (*) [16])(puVar49 + 10) = auVar68;
        *(undefined1 (*) [16])(puVar49 + 6) = auVar68;
        *(undefined1 (*) [16])(puVar49 + 0x18) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x14) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x10) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x1a) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x16) = (undefined1  [16])0x0;
        *(undefined1 (*) [16])(puVar49 + 0x12) = (undefined1  [16])0x0;
        if (local_258 != 0) goto LAB_00120293;
        auVar71._4_4_ = fVar31;
        auVar71._0_4_ = fVar31;
        auVar71._8_4_ = fVar31;
        auVar71._12_4_ = fVar31;
        auVar73 = auVar68;
        auVar76 = auVar71;
LAB_00121baf:
        *(ulong *)this = uVar65;
        *(undefined1 (*) [16])(this + 0x10) = auVar71;
        *(undefined1 (*) [16])(this + 0x20) = auVar68;
        *(undefined1 (*) [16])(this + 0x30) = auVar76;
        *(undefined1 (*) [16])(this + 0x40) = auVar73;
        *(ulong *)(this + 0x50) = local_1920;
      }
      uVar65 = 0;
      if (local_258 != 0) {
        do {
          puVar8 = local_2d8[uVar65];
          puVar42 = puVar8 + 1;
          *puVar42 = *puVar42 - 1;
          if ((*puVar42 == 0) && (puVar49 = (undefined8 *)*puVar8, puVar49 != (undefined8 *)0x0)) {
            pvVar9 = (void *)puVar49[4];
            lVar64 = puVar49[3];
            if (pvVar9 != (void *)0x0) {
              if ((ulong)(lVar64 * 0x50) < 0x1c00000) {
                embree::alignedFree(pvVar9);
              }
              else {
                embree::os_free(pvVar9,lVar64 * 0x50,*(bool *)(puVar49 + 1));
              }
            }
            if (lVar64 != 0) {
              (*(code *)**(undefined8 **)*puVar49)((undefined8 *)*puVar49,lVar64 * -0x50,1);
            }
            operator_delete(puVar49,0x28);
          }
          uVar65 = uVar65 + 1;
        } while (uVar65 < local_258);
      }
      goto LAB_00121b70;
    }
    uVar39 = (long)pfStack_1940 - (long)pfVar43;
    bVar58 = uVar39 <= param_1[4] && (uint)local_11d8._12_4_ < 2;
    if (uVar39 > param_1[4] || (uint)local_11d8._12_4_ >= 2) goto LAB_0011e85a;
  }
  else {
    uVar39 = (long)pfStack_1940 - (long)pfVar43;
    bVar58 = uVar39 <= param_1[4] && (uint)local_11d8._12_4_ < 2;
    if (uVar39 > param_1[4] || (uint)local_11d8._12_4_ >= 2) goto LAB_0011e85a;
  }
  uVar60 = uVar39 + 3 >> 2;
  local_1f48 = (float *)(((uVar39 + 3 & 0xfffffffffffffffc) + uVar60) * 0x40);
  uVar65 = 7;
  if (uVar60 < 8) {
    uVar65 = uVar60;
  }
  uVar65 = uVar65 + 8;
LAB_00120db3:
  pfVar47 = (float *)*in_stack_00000018;
  local_1bb8 = local_1f48;
  if (in_stack_00000008 != *(FastAllocator **)(pfVar47 + 2)) {
    embree::MutexSys::lock();
    if (*(long *)(pfVar47 + 2) != 0) {
      LOCK();
      *(long *)(*(long *)(pfVar47 + 2) + 0x118) =
           *(long *)(*(long *)(pfVar47 + 2) + 0x118) +
           *(long *)(pfVar47 + 0x2a) + *(long *)(pfVar47 + 0x1a);
      UNLOCK();
      LOCK();
      *(long *)(*(long *)(pfVar47 + 2) + 0x120) =
           *(long *)(*(long *)(pfVar47 + 2) + 0x120) +
           (((*(long *)(pfVar47 + 0x26) + *(long *)(pfVar47 + 0x16)) - *(long *)(pfVar47 + 0x14)) -
           *(long *)(pfVar47 + 0x24));
      UNLOCK();
      LOCK();
      *(long *)(*(long *)(pfVar47 + 2) + 0x128) =
           *(long *)(*(long *)(pfVar47 + 2) + 0x128) +
           *(long *)(pfVar47 + 0x2c) + *(long *)(pfVar47 + 0x1c);
      UNLOCK();
    }
    pfVar47[0x12] = 0.0;
    pfVar47[0x13] = 0.0;
    pfVar47[0x16] = 0.0;
    pfVar47[0x17] = 0.0;
    pfVar47[0x14] = 0.0;
    pfVar47[0x15] = 0.0;
    pfVar47[0x1a] = 0.0;
    pfVar47[0x1b] = 0.0;
    pfVar47[0x1c] = 0.0;
    pfVar47[0x1d] = 0.0;
    pfVar47[0x18] = 0.0;
    pfVar47[0x19] = 0.0;
    if (in_stack_00000008 == (FastAllocator *)0x0) {
      pfVar47[0x22] = 0.0;
      pfVar47[0x23] = 0.0;
      uVar48 = 0;
      pfVar47[0x26] = 0.0;
      pfVar47[0x27] = 0.0;
      pfVar47[0x24] = 0.0;
      pfVar47[0x25] = 0.0;
      pfVar47[0x2a] = 0.0;
      pfVar47[0x2b] = 0.0;
      pfVar47[0x2c] = 0.0;
      pfVar47[0x2d] = 0.0;
    }
    else {
      uVar48 = *(undefined8 *)(in_stack_00000008 + 0x10);
      pfVar47[0x22] = 0.0;
      pfVar47[0x23] = 0.0;
      pfVar47[0x26] = 0.0;
      pfVar47[0x27] = 0.0;
      *(undefined8 *)(pfVar47 + 0x18) = uVar48;
      pfVar47[0x24] = 0.0;
      pfVar47[0x25] = 0.0;
      pfVar47[0x2a] = 0.0;
      pfVar47[0x2b] = 0.0;
      pfVar47[0x2c] = 0.0;
      pfVar47[0x2d] = 0.0;
      pfVar47[0x28] = 0.0;
      pfVar47[0x29] = 0.0;
      uVar48 = *(undefined8 *)(in_stack_00000008 + 0x10);
    }
    *(undefined8 *)(pfVar47 + 0x28) = uVar48;
    LOCK();
    *(FastAllocator **)(pfVar47 + 2) = in_stack_00000008;
    UNLOCK();
    local_1b28 = pfVar47;
    embree::MutexSys::lock();
    puVar42 = *(ulong **)(in_stack_00000008 + 0x138);
    if (puVar42 == *(ulong **)(in_stack_00000008 + 0x140)) {
      std::
      vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
      ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                  *)(in_stack_00000008 + 0x130),puVar42,&local_1b28);
    }
    else {
      *puVar42 = (ulong)pfVar47;
      *(long *)(in_stack_00000008 + 0x138) = *(long *)(in_stack_00000008 + 0x138) + 8;
    }
    embree::MutexSys::unlock();
    embree::MutexSys::unlock();
  }
  uVar40 = in_stack_00000018[2];
  in_stack_00000018[5] = in_stack_00000018[5] + (long)local_1f48;
  uVar53 = (ulong)(-(int)uVar40 & 0xf);
  lVar64 = uVar40 + uVar53;
  uVar39 = lVar64 + (long)local_1f48;
  in_stack_00000018[2] = uVar39;
  if (in_stack_00000018[3] < uVar39) {
    in_stack_00000018[2] = uVar40;
    if ((float *)in_stack_00000018[4] < (float *)(uVar60 * 0x500)) {
      puVar44 = (undefined4 *)
                FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1bb8,0x40,false);
    }
    else {
      local_1b28 = (float *)in_stack_00000018[4];
      puVar44 = (undefined4 *)
                FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b28,0x40,true);
      in_stack_00000018[1] = (ulong)puVar44;
      in_stack_00000018[6] = (in_stack_00000018[3] + in_stack_00000018[6]) - in_stack_00000018[2];
      in_stack_00000018[2] = (ulong)local_1f48;
      in_stack_00000018[3] = (ulong)local_1b28;
      if (local_1b28 < local_1f48) {
        in_stack_00000018[2] = 0;
        local_1b28 = (float *)in_stack_00000018[4];
        puVar44 = (undefined4 *)
                  FastAllocator::malloc(in_stack_00000008,(ulong *)&local_1b28,0x40,false);
        in_stack_00000018[1] = (ulong)puVar44;
        in_stack_00000018[6] = (in_stack_00000018[3] + in_stack_00000018[6]) - in_stack_00000018[2];
        in_stack_00000018[2] = (ulong)local_1f48;
        in_stack_00000018[3] = (ulong)local_1b28;
        if (local_1b28 < local_1f48) {
          in_stack_00000018[2] = 0;
          puVar44 = (undefined4 *)0x0;
        }
      }
    }
  }
  else {
    in_stack_00000018[6] = in_stack_00000018[6] + uVar53;
    puVar44 = (undefined4 *)(lVar64 + in_stack_00000018[1]);
  }
  fVar85 = _LC10;
  fVar31 = _LC8;
  fVar30 = _LC3;
  if (uVar60 == 0) {
    local_1dd8._4_4_ = _LC8;
    local_1dd8._0_4_ = _LC8;
    uStack_1dd0._0_4_ = _LC8;
    uStack_1dd0._4_4_ = _LC8;
    local_1da8._4_4_ = _LC10;
    local_1da8._0_4_ = _LC10;
    uStack_1da0._0_4_ = _LC10;
    uStack_1da0._4_4_ = _LC10;
    local_1dc8._4_4_ = _LC10;
    local_1dc8._0_4_ = _LC10;
    uStack_1dc0._0_4_ = _LC10;
    uStack_1dc0._4_4_ = _LC10;
    local_1db8._4_4_ = _LC8;
    local_1db8._0_4_ = _LC8;
    uStack_1db0._0_4_ = _LC8;
    uStack_1db0._4_4_ = _LC8;
  }
  else {
    local_1dd8._4_4_ = _LC8;
    local_1dd8._0_4_ = _LC8;
    uStack_1dd0._0_4_ = _LC8;
    uStack_1dd0._4_4_ = _LC8;
    local_1db8._4_4_ = _LC8;
    local_1db8._0_4_ = _LC8;
    uStack_1db0._0_4_ = _LC8;
    uStack_1db0._4_4_ = _LC8;
    local_1da8._4_4_ = _LC10;
    local_1da8._0_4_ = _LC10;
    uStack_1da0._0_4_ = _LC10;
    uStack_1da0._4_4_ = _LC10;
    local_1dc8._4_4_ = _LC10;
    local_1dc8._0_4_ = _LC10;
    uStack_1dc0._0_4_ = _LC10;
    uStack_1dc0._4_4_ = _LC10;
    puVar45 = puVar44;
    local_1f48 = pfVar43;
    do {
      local_1a78[0] = 0xffffffff;
      local_1a78[1] = 0xffffffff;
      local_1a78[2] = 0xffffffff;
      local_1a78[3] = 0xffffffff;
      local_1a78[4] = 0xffffffff;
      local_1a78[5] = 0xffffffff;
      local_1a78[6] = 0xffffffff;
      local_1a78[7] = 0xffffffff;
      local_1a58 = (undefined1  [16])0x0;
      local_1a48 = (undefined1  [16])0x0;
      local_1a38 = (undefined1  [16])0x0;
      _local_1a28 = (undefined1  [16])0x0;
      local_1a18 = (undefined1  [16])0x0;
      local_1a08 = (undefined1  [16])0x0;
      _local_19f8 = (undefined1  [16])0x0;
      _local_19e8 = (undefined1  [16])0x0;
      _local_19d8 = (undefined1  [16])0x0;
      local_18c8 = (undefined1  [16])0x0;
      local_18b8 = (undefined1  [16])0x0;
      local_18a8 = (undefined1  [16])0x0;
      local_17d8 = (undefined1  [16])0x0;
      _local_17c8 = (undefined1  [16])0x0;
      _local_17b8 = (undefined1  [16])0x0;
      local_11d8 = (undefined1  [16])0x0;
      local_11c8 = (undefined1  [16])0x0;
      local_11b8 = (undefined1  [16])0x0;
      if (local_1f48 < pfStack_1940) {
        lVar52 = *(long *)(*(long *)(param_1[0xe] + 0x68) + 0x1e0);
        lVar59 = 0;
        lVar64 = *(long *)(local_1918 + 0x20) + (long)local_1f48 * 0x50;
        local_1ee8._8_8_ = CONCAT44(fVar31,fVar31);
        local_1ee8._0_8_ = CONCAT44(fVar31,fVar31);
        local_1ef8._8_8_ = CONCAT44(fVar85,fVar85);
        local_1ef8._0_8_ = CONCAT44(fVar85,fVar85);
        local_1f08._8_8_ = CONCAT44(fVar31,fVar31);
        local_1f08._0_8_ = CONCAT44(fVar31,fVar31);
        local_1f18._8_8_ = CONCAT44(fVar85,fVar85);
        local_1f18._0_8_ = CONCAT44(fVar85,fVar85);
        do {
          uVar5 = *(uint *)(lVar64 + 0x1c);
          puVar2 = (uint *)(lVar64 + 0xc);
          lVar11 = *(long *)(lVar52 + (ulong)*puVar2 * 8);
          fVar106 = *(float *)(lVar11 + 0x2c);
          fVar77 = *(float *)(lVar11 + 0x28);
          fVar116 = *(float *)(lVar11 + 0x30) - fVar106;
          fVar138 = ((float)local_1920 - fVar106) / fVar116;
          fVar78 = (local_1920._4_4_ - fVar106) / fVar116;
          fVar105 = _LC0 * fVar138 * fVar77;
          if ((float)(_LC6 & (uint)fVar105) < _LC1) {
            fVar105 = (float)((uint)((float)(int)fVar105 -
                                    (float)(-(uint)(fVar105 < (float)(int)fVar105) & (uint)fVar30))
                             | ~_LC6 & (uint)fVar105);
          }
          if (fVar105 < 0.0) {
            local_1e88._0_4_ = 0.0;
            local_1ea0 = 0x30;
            local_1eb8 = 0;
            fVar105 = fVar116;
          }
          else {
            iVar38 = (int)fVar105;
            local_1e88._0_4_ = (undefined4)iVar38;
            local_1eb8 = (long)iVar38 * 0x30;
            local_1ea0 = (long)(iVar38 + 1) * 0x30;
            fVar105 = (float)(iVar38 + 1) * fVar116;
          }
          fVar140 = fVar77 * fVar138;
          puVar57 = (uint *)((ulong)uVar5 * *(long *)(lVar11 + 0x60) + *(long *)(lVar11 + 0x58));
          fVar142 = fVar78 * fVar77;
          fVar139 = fVar140;
          if ((float)(_LC6 & (uint)fVar140) < _LC1) {
            fVar139 = (float)(~_LC6 & (uint)fVar140 |
                             (uint)((float)(int)fVar140 -
                                   (float)(-(uint)(fVar140 < (float)(int)fVar140) & (uint)fVar30)));
          }
          fVar143 = fVar142;
          if ((float)(_LC6 & (uint)fVar142) < _LC1) {
            fVar143 = (float)((uint)((float)(-(uint)((float)(int)fVar142 < fVar142) & (uint)fVar30)
                                    + (float)(int)fVar142) | ~_LC6 & (uint)fVar142);
          }
          iVar38 = (int)fVar139;
          if (fVar139 <= 0.0) {
            lVar54 = 0;
            iVar56 = 0;
          }
          else {
            fVar140 = fVar140 - fVar139;
            lVar54 = (long)iVar38 * 0x30;
            iVar56 = iVar38;
          }
          if (iVar38 < 0) {
            iVar38 = -1;
          }
          lVar11 = *(long *)(lVar11 + 0xd0);
          fVar139 = fVar143;
          if (fVar77 <= fVar143) {
            fVar139 = fVar77;
          }
          iVar14 = (int)fVar77 + 1;
          if ((int)fVar143 < (int)fVar77 + 1) {
            iVar14 = (int)fVar143;
          }
          uVar39 = (ulong)*puVar57;
          lVar12 = ((long *)(lVar54 + lVar11))[1];
          lVar54 = *(long *)(lVar54 + lVar11);
          auVar73 = *(undefined1 (*) [16])(lVar54 + uVar39 * lVar12);
          uVar40 = (ulong)puVar57[1];
          uVar53 = (ulong)puVar57[2];
          auVar76 = *(undefined1 (*) [16])(lVar54 + lVar12 * uVar40);
          auVar80 = *(undefined1 (*) [16])(lVar54 + lVar12 * uVar53);
          auVar118 = minps(auVar73,auVar76);
          auVar73 = maxps(auVar73,auVar76);
          plVar55 = (long *)((long)(int)fVar139 * 0x30 + lVar11);
          lVar54 = *plVar55;
          lVar12 = plVar55[1];
          auVar118 = minps(auVar118,auVar80);
          auVar134 = maxps(auVar73,auVar80);
          auVar73 = *(undefined1 (*) [16])(lVar54 + lVar12 * uVar39);
          auVar76 = *(undefined1 (*) [16])(lVar54 + lVar12 * uVar53);
          auVar80 = *(undefined1 (*) [16])(lVar54 + lVar12 * uVar40);
          auVar126 = maxps(auVar73,auVar80);
          auVar73 = minps(auVar73,auVar80);
          auVar80 = maxps(auVar126,auVar76);
          auVar73 = minps(auVar73,auVar76);
          fVar143 = auVar73._0_4_;
          fVar87 = auVar73._4_4_;
          fVar88 = auVar73._8_4_;
          fVar89 = auVar73._12_4_;
          fVar102 = auVar134._0_4_;
          fVar90 = auVar80._0_4_;
          fVar103 = auVar134._4_4_;
          fVar104 = auVar134._8_4_;
          fVar94 = auVar134._12_4_;
          fVar96 = auVar80._4_4_;
          fVar97 = auVar80._8_4_;
          fVar98 = auVar80._12_4_;
          auStack_1ed4 = auVar118._4_4_;
          uStack_1ed0._0_4_ = auVar118._8_4_;
          uStack_1ed0._4_4_ = auVar118._12_4_;
          local_1ed8 = auVar118._0_4_;
          if (iVar14 - iVar38 == 1) {
            if (fVar140 <= 0.0) {
              fVar140 = 0.0;
              fVar78 = fVar30;
            }
            else {
              fVar78 = fVar30 - fVar140;
            }
            auVar84._4_4_ = fVar140 * fVar87 + fVar78 * (float)auStack_1ed4;
            auVar84._0_4_ = fVar140 * fVar143 + fVar78 * (float)local_1ed8;
            fVar139 = fVar139 - fVar142;
            auVar95._0_4_ = fVar140 * fVar90 + fVar78 * fVar102;
            auVar95._4_4_ = fVar140 * fVar96 + fVar78 * fVar103;
            auVar95._8_4_ = fVar140 * fVar97 + fVar78 * fVar104;
            auVar95._12_4_ = fVar140 * fVar98 + fVar78 * fVar94;
            auVar84._8_4_ = fVar140 * fVar88 + fVar78 * (float)uStack_1ed0;
            auVar84._12_4_ = fVar140 * fVar89 + fVar78 * uStack_1ed0._4_4_;
            if (fVar139 <= 0.0) {
              fVar139 = 0.0;
              fVar78 = fVar30;
            }
            else {
              fVar78 = fVar30 - fVar139;
            }
            auVar100._4_4_ = fVar103 * fVar139 + fVar96 * fVar78;
            auVar100._0_4_ = fVar102 * fVar139 + fVar90 * fVar78;
            auVar86._0_4_ = fVar139 * (float)local_1ed8 + fVar78 * fVar143;
            auVar86._4_4_ = fVar139 * (float)auStack_1ed4 + fVar78 * fVar87;
            auVar86._8_4_ = fVar139 * (float)uStack_1ed0 + fVar78 * fVar88;
            auVar86._12_4_ = fVar139 * uStack_1ed0._4_4_ + fVar78 * fVar89;
            auVar100._8_4_ = fVar104 * fVar139 + fVar97 * fVar78;
            auVar100._12_4_ = fVar94 * fVar139 + fVar98 * fVar78;
          }
          else {
            plVar55 = (long *)((long)(iVar56 + 1) * 0x30 + lVar11);
            plVar61 = (long *)((long)((int)fVar139 + -1) * 0x30 + lVar11);
            lVar54 = *plVar55;
            lVar12 = plVar55[1];
            auVar73 = *(undefined1 (*) [16])(lVar54 + uVar39 * lVar12);
            auVar76 = *(undefined1 (*) [16])(lVar54 + uVar40 * lVar12);
            auVar80 = *(undefined1 (*) [16])(lVar54 + lVar12 * uVar53);
            lVar54 = *plVar61;
            lVar12 = plVar61[1];
            auVar118 = maxps(auVar73,auVar76);
            auVar73 = minps(auVar73,auVar76);
            auVar126 = maxps(auVar118,auVar80);
            auVar118 = minps(auVar73,auVar80);
            auVar73 = *(undefined1 (*) [16])(lVar54 + uVar39 * lVar12);
            auVar76 = *(undefined1 (*) [16])(lVar54 + uVar40 * lVar12);
            auVar80 = *(undefined1 (*) [16])(lVar54 + lVar12 * uVar53);
            auVar134 = maxps(auVar73,auVar76);
            auVar76 = minps(auVar73,auVar76);
            auVar73 = maxps(auVar134,auVar80);
            auVar76 = minps(auVar76,auVar80);
            if (fVar140 <= 0.0) {
              fVar140 = 0.0;
              fVar67 = fVar30;
            }
            else {
              fVar67 = fVar30 - fVar140;
            }
            fVar139 = fVar139 - fVar142;
            auVar95._0_4_ = auVar126._0_4_ * fVar140 + fVar102 * fVar67;
            auVar95._4_4_ = auVar126._4_4_ * fVar140 + fVar103 * fVar67;
            auVar95._8_4_ = auVar126._8_4_ * fVar140 + fVar104 * fVar67;
            auVar95._12_4_ = auVar126._12_4_ * fVar140 + fVar94 * fVar67;
            auVar84._0_4_ = fVar140 * auVar118._0_4_ + fVar67 * (float)local_1ed8;
            auVar84._4_4_ = fVar140 * auVar118._4_4_ + fVar67 * (float)auStack_1ed4;
            auVar84._8_4_ = fVar140 * auVar118._8_4_ + fVar67 * (float)uStack_1ed0;
            auVar84._12_4_ = fVar140 * auVar118._12_4_ + fVar67 * uStack_1ed0._4_4_;
            if (fVar139 <= 0.0) {
              fVar139 = 0.0;
              fVar140 = fVar30;
            }
            else {
              fVar140 = fVar30 - fVar139;
            }
            iVar38 = iVar38 + 1;
            auVar100._0_4_ = auVar73._0_4_ * fVar139 + fVar90 * fVar140;
            auVar100._4_4_ = auVar73._4_4_ * fVar139 + fVar96 * fVar140;
            auVar100._8_4_ = auVar73._8_4_ * fVar139 + fVar97 * fVar140;
            auVar100._12_4_ = auVar73._12_4_ * fVar139 + fVar98 * fVar140;
            auVar86._0_4_ = fVar139 * auVar76._0_4_ + fVar140 * fVar143;
            auVar86._4_4_ = fVar139 * auVar76._4_4_ + fVar140 * fVar87;
            auVar86._8_4_ = fVar139 * auVar76._8_4_ + fVar140 * fVar88;
            auVar86._12_4_ = fVar139 * auVar76._12_4_ + fVar140 * fVar89;
            if (iVar38 < iVar14) {
              plVar55 = (long *)((long)iVar38 * 0x30 + lVar11);
              do {
                lVar54 = plVar55[1];
                lVar12 = *plVar55;
                fVar139 = (float)iVar38;
                iVar38 = iVar38 + 1;
                plVar55 = plVar55 + 6;
                fVar139 = (fVar139 / fVar77 - fVar138) / (fVar78 - fVar138);
                fVar90 = fVar30 - fVar139;
                auVar73 = *(undefined1 (*) [16])(lVar12 + uVar39 * lVar54);
                auVar76 = *(undefined1 (*) [16])(lVar12 + uVar40 * lVar54);
                auVar80 = *(undefined1 (*) [16])(lVar12 + lVar54 * uVar53);
                auVar118 = maxps(auVar73,auVar76);
                auVar73 = minps(auVar73,auVar76);
                fVar140 = auVar84._4_4_;
                fVar142 = auVar84._8_4_;
                fVar143 = auVar84._12_4_;
                fVar96 = auVar95._4_4_;
                fVar97 = auVar95._8_4_;
                fVar98 = auVar95._12_4_;
                auVar76 = maxps(auVar118,auVar80);
                auVar73 = minps(auVar73,auVar80);
                fVar87 = auVar86._4_4_;
                fVar88 = auVar86._8_4_;
                fVar89 = auVar86._12_4_;
                fVar102 = auVar100._4_4_;
                fVar103 = auVar100._8_4_;
                fVar104 = auVar100._12_4_;
                auVar69._0_4_ = auVar73._0_4_ - (fVar139 * auVar86._0_4_ + fVar90 * auVar84._0_4_);
                auVar69._4_4_ = auVar73._4_4_ - (fVar139 * fVar87 + fVar90 * fVar140);
                auVar69._8_4_ = auVar73._8_4_ - (fVar139 * fVar88 + fVar90 * fVar142);
                auVar69._12_4_ = auVar73._12_4_ - (fVar139 * fVar89 + fVar90 * fVar143);
                auVar72._0_4_ = auVar76._0_4_ - (fVar139 * auVar100._0_4_ + fVar90 * auVar95._0_4_);
                auVar72._4_4_ = auVar76._4_4_ - (fVar139 * fVar102 + fVar90 * fVar96);
                auVar72._8_4_ = auVar76._8_4_ - (fVar139 * fVar103 + fVar90 * fVar97);
                auVar72._12_4_ = auVar76._12_4_ - (fVar139 * fVar104 + fVar90 * fVar98);
                auVar73 = minps(auVar69,(undefined1  [16])0x0);
                auVar76 = maxps(auVar72,(undefined1  [16])0x0);
                auVar84._0_4_ = auVar84._0_4_ + auVar73._0_4_;
                auVar84._4_4_ = fVar140 + auVar73._4_4_;
                auVar84._8_4_ = fVar142 + auVar73._8_4_;
                auVar84._12_4_ = fVar143 + auVar73._12_4_;
                auVar86._0_4_ = auVar86._0_4_ + auVar73._0_4_;
                auVar86._4_4_ = fVar87 + auVar73._4_4_;
                auVar86._8_4_ = fVar88 + auVar73._8_4_;
                auVar86._12_4_ = fVar89 + auVar73._12_4_;
                auVar95._0_4_ = auVar95._0_4_ + auVar76._0_4_;
                auVar95._4_4_ = fVar96 + auVar76._4_4_;
                auVar95._8_4_ = fVar97 + auVar76._8_4_;
                auVar95._12_4_ = fVar98 + auVar76._12_4_;
                auVar100._0_4_ = auVar100._0_4_ + auVar76._0_4_;
                auVar100._4_4_ = fVar102 + auVar76._4_4_;
                auVar100._8_4_ = fVar103 + auVar76._8_4_;
                auVar100._12_4_ = fVar104 + auVar76._12_4_;
              } while (iVar14 != iVar38);
            }
          }
          lVar64 = lVar64 + 0x50;
          local_1f18 = minps(local_1f18,auVar84);
          lVar54 = ((long *)(local_1eb8 + lVar11))[1];
          lVar12 = *(long *)(local_1eb8 + lVar11);
          local_1f08 = maxps(local_1f08,auVar95);
          local_1ee8 = maxps(local_1ee8,auVar100);
          pfVar43 = (float *)(lVar12 + lVar54 * uVar39);
          fVar78 = *pfVar43;
          fVar138 = pfVar43[1];
          fVar139 = pfVar43[2];
          local_1ef8 = minps(local_1ef8,auVar86);
          lVar13 = ((long *)(lVar11 + local_1ea0))[1];
          lVar11 = *(long *)(lVar11 + local_1ea0);
          pfVar43 = (float *)(lVar11 + uVar39 * lVar13);
          fVar140 = *pfVar43;
          fVar142 = pfVar43[1];
          fVar143 = pfVar43[2];
          pfVar43 = (float *)(lVar12 + lVar54 * uVar53);
          fVar87 = *pfVar43;
          fVar88 = pfVar43[1];
          fVar89 = pfVar43[2];
          pfVar43 = (float *)(lVar12 + lVar54 * uVar40);
          fVar90 = *pfVar43;
          fVar96 = pfVar43[1];
          fVar97 = pfVar43[2];
          pfVar43 = (float *)(lVar11 + uVar40 * lVar13);
          fVar98 = *pfVar43;
          fVar102 = pfVar43[1];
          fVar103 = pfVar43[2];
          fVar67 = (fVar116 * (float)local_1e88._0_4_) / fVar77 + fVar106;
          pfVar43 = (float *)(lVar11 + lVar13 * uVar53);
          fVar116 = *pfVar43;
          fVar104 = pfVar43[1];
          fVar94 = pfVar43[2];
          local_1a78[lVar59] = *puVar2;
          local_1a78[lVar59 + 4] = uVar5;
          fVar77 = fVar30 / ((fVar105 / fVar77 + fVar106) - fVar67);
          fVar106 = (float)((uint)fVar67 ^ _LC33) * fVar77;
          fVar105 = fVar30 - fVar106;
          *(float *)(local_1a58 + lVar59 * 4) = fVar140 * fVar106 + fVar78 * fVar105;
          fVar77 = (fVar30 - fVar67) * fVar77;
          fVar67 = fVar30 - fVar77;
          *(float *)(local_1a48 + lVar59 * 4) = fVar142 * fVar106 + fVar138 * fVar105;
          *(float *)(local_1a38 + lVar59 * 4) = fVar143 * fVar106 + fVar139 * fVar105;
          local_1f48 = (float *)((long)local_1f48 + 1);
          *(float *)(local_18c8 + lVar59 * 4) = fVar140 * fVar77 + fVar78 * fVar67;
          *(float *)(local_18a8 + lVar59 * 4) = fVar143 * fVar77 + fVar139 * fVar67;
          *(float *)(local_18b8 + lVar59 * 4) = fVar142 * fVar77 + fVar138 * fVar67;
          *(float *)(local_19f8 + lVar59 * 4) = fVar106 * fVar116 + fVar105 * fVar87;
          *(float *)(local_1a28 + lVar59 * 4) = fVar90 * fVar105 + fVar98 * fVar106;
          *(float *)(local_1a18 + lVar59 * 4) = fVar96 * fVar105 + fVar102 * fVar106;
          *(float *)(local_1a08 + lVar59 * 4) = fVar97 * fVar105 + fVar103 * fVar106;
          *(float *)(local_17d8 + lVar59 * 4) = fVar90 * fVar67 + fVar98 * fVar77;
          *(float *)(local_17b8 + lVar59 * 4) = fVar97 * fVar67 + fVar103 * fVar77;
          *(float *)(local_17c8 + lVar59 * 4) = fVar96 * fVar67 + fVar102 * fVar77;
          *(float *)(local_19e8 + lVar59 * 4) = fVar106 * fVar104 + fVar105 * fVar88;
          *(float *)((SetMB *)local_11d8 + lVar59 * 4) = fVar77 * fVar116 + fVar87 * fVar67;
          *(float *)(local_11c8 + lVar59 * 4) = fVar77 * fVar104 + fVar88 * fVar67;
          *(float *)(local_11b8 + lVar59 * 4) = fVar77 * fVar94 + fVar89 * fVar67;
          *(float *)(local_19d8 + lVar59 * 4) = fVar106 * fVar94 + fVar105 * fVar89;
          lVar59 = lVar59 + 1;
        } while ((lVar59 != 4) && (local_1f48 < pfStack_1940));
        local_1f28._4_4_ = 0.0 - (float)local_19d8._4_4_;
        local_1f28._0_4_ = 0.0 - (float)local_19d8._0_4_;
        uStack_1f20._0_4_ = 0.0 - (float)uStack_19d0;
        uStack_1f20._4_4_ = 0.0 - uStack_19d0._4_4_;
        auVar137 = ZEXT816(0);
        auStack_1ed4 = (undefined1  [4])(0.0 - (float)local_19e8._4_4_);
        local_1ed8 = (undefined1  [4])(0.0 - (float)local_19e8._0_4_);
        uStack_1ed0._0_4_ = 0.0 - fStack_19e0;
        uStack_1ed0._4_4_ = 0.0 - fStack_19dc;
        fVar106 = 0.0 - (float)local_19f8._0_4_;
        fVar77 = 0.0 - (float)local_19f8._4_4_;
        fVar78 = 0.0 - fStack_19f0;
        fVar105 = 0.0 - fStack_19ec;
      }
      else {
        local_1ee8._4_4_ = fVar31;
        local_1ee8._0_4_ = fVar31;
        local_1ee8._12_4_ = fVar31;
        local_1ee8._8_4_ = fVar31;
        local_19d8._0_4_ = 0.0;
        local_19d8._4_4_ = 0.0;
        uStack_19d0._0_4_ = 0.0;
        uStack_19d0._4_4_ = 0.0;
        _local_1f28 = (undefined1  [16])0x0;
        local_19e8._0_4_ = 0.0;
        local_19e8._4_4_ = 0.0;
        fStack_19e0 = 0.0;
        fStack_19dc = 0.0;
        auVar137._0_12_ = ZEXT812(0);
        auVar137._12_4_ = 0;
        local_19f8._0_4_ = 0.0;
        local_19f8._4_4_ = 0.0;
        fStack_19f0 = 0.0;
        fStack_19ec = 0.0;
        local_1ef8._4_4_ = fVar85;
        local_1ef8._0_4_ = fVar85;
        local_1ef8._12_4_ = fVar85;
        local_1ef8._8_4_ = fVar85;
        _local_1ed8 = (undefined1  [16])0x0;
        local_1f08._4_4_ = fVar31;
        local_1f08._0_4_ = fVar31;
        local_1f08._12_4_ = fVar31;
        local_1f08._8_4_ = fVar31;
        local_1f18._4_4_ = fVar85;
        local_1f18._0_4_ = fVar85;
        local_1f18._12_4_ = fVar85;
        local_1f18._8_4_ = fVar85;
        fVar106 = 0.0;
        fVar77 = 0.0;
        fVar78 = 0.0;
        fVar105 = 0.0;
      }
      puVar45[0x18] = local_19f8._0_4_;
      puVar45[0x19] = local_19f8._4_4_;
      puVar45[0x1a] = fStack_19f0;
      puVar45[0x1b] = fStack_19ec;
      puVar46 = puVar45 + 0x50;
      puVar45[0x10] = 0;
      puVar45[0x11] = 0;
      puVar45[0x12] = 0;
      puVar45[0x13] = 0;
      *(undefined8 *)(puVar45 + 0x38) = 0;
      *(undefined8 *)(puVar45 + 0x3a) = 0;
      puVar45[0x3c] = fVar106;
      puVar45[0x3d] = fVar77;
      puVar45[0x3e] = fVar78;
      puVar45[0x3f] = fVar105;
      _local_1db8 = maxps(_local_1db8,local_1f08);
      *(undefined8 *)(puVar45 + 0x48) = 0xffffffffffffffff;
      *(undefined8 *)(puVar45 + 0x4a) = 0xffffffffffffffff;
      _local_1dc8 = minps(_local_1dc8,local_1f18);
      puVar45[0x14] = 0;
      puVar45[0x15] = 0;
      puVar45[0x16] = 0;
      puVar45[0x17] = 0;
      *(undefined8 *)(puVar45 + 0x34) = 0;
      *(undefined8 *)(puVar45 + 0x36) = 0;
      *(undefined8 *)(puVar45 + 0x40) = _local_1ed8;
      *(undefined8 *)(puVar45 + 0x42) = uStack_1ed0;
      *puVar45 = 0;
      puVar45[1] = 0;
      puVar45[2] = 0;
      puVar45[3] = 0;
      puVar45[4] = 0;
      puVar45[5] = 0;
      puVar45[6] = 0;
      puVar45[7] = 0;
      puVar45[8] = 0;
      puVar45[9] = 0;
      puVar45[10] = 0;
      puVar45[0xb] = 0;
      puVar45[0xc] = 0;
      puVar45[0xd] = 0;
      puVar45[0xe] = 0;
      puVar45[0xf] = 0;
      puVar45[0x1c] = local_19e8._0_4_;
      puVar45[0x1d] = local_19e8._4_4_;
      puVar45[0x1e] = fStack_19e0;
      puVar45[0x1f] = fStack_19dc;
      puVar45[0x20] = local_19d8._0_4_;
      puVar45[0x21] = local_19d8._4_4_;
      puVar45[0x22] = (float)uStack_19d0;
      puVar45[0x23] = uStack_19d0._4_4_;
      puVar45[0x24] = 0;
      puVar45[0x25] = 0;
      puVar45[0x26] = 0;
      puVar45[0x27] = 0;
      puVar45[0x28] = 0;
      puVar45[0x29] = 0;
      puVar45[0x2a] = 0;
      puVar45[0x2b] = 0;
      *(undefined1 (*) [16])(puVar45 + 0x2c) = auVar137;
      puVar45[0x30] = 0;
      puVar45[0x31] = 0;
      puVar45[0x32] = 0;
      puVar45[0x33] = 0;
      *(undefined1 (*) [8])(puVar45 + 0x44) = local_1f28;
      *(ulong *)(puVar45 + 0x46) = uStack_1f20;
      puVar45[0x4c] = 0xffffffff;
      puVar45[0x4d] = 0xffffffff;
      puVar45[0x4e] = 0xffffffff;
      puVar45[0x4f] = 0xffffffff;
      _local_1da8 = minps(_local_1da8,local_1ef8);
      _local_1dd8 = maxps(_local_1dd8,local_1ee8);
      puVar45 = puVar46;
    } while (puVar44 + uVar60 * 0x50 != puVar46);
  }
  *(undefined1 (*) [8])(this + 0x10) = local_1dc8;
  *(undefined8 *)(this + 0x18) = uStack_1dc0;
  *(ulong *)this = uVar65 | (ulong)puVar44;
  *(undefined1 (*) [8])(this + 0x20) = local_1db8;
  *(undefined8 *)(this + 0x28) = uStack_1db0;
  *(ulong *)(this + 0x50) = local_1920;
  *(undefined1 (*) [8])(this + 0x30) = local_1da8;
  *(undefined8 *)(this + 0x38) = uStack_1da0;
  *(undefined1 (*) [8])(this + 0x40) = local_1dd8;
  *(undefined8 *)(this + 0x48) = uStack_1dd0;
LAB_00121b70:
  if (local_40 == *(long *)(in_FS_OFFSET + 0x28)) {
    return this;
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool) */

BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
* embree::sse2::BVHBuilderMSMBlur::
  BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
  ::recurse(BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
            *param_1,ulong *param_2,long *param_3,char param_4,undefined8 param_5,undefined8 param_6
           ,FastAllocator *param_7,MutexSys *param_8)

{
  long *plVar1;
  int *piVar2;
  void *pvVar3;
  SetMB **ppSVar4;
  SetMB *pSVar5;
  byte bVar6;
  undefined8 uVar7;
  undefined8 uVar8;
  undefined8 uVar9;
  undefined8 uVar10;
  undefined8 uVar11;
  undefined8 uVar12;
  undefined8 uVar13;
  MutexSys *this;
  undefined1 auVar14 [16];
  undefined1 auVar15 [16];
  undefined1 auVar16 [16];
  undefined1 auVar17 [16];
  undefined1 auVar18 [16];
  undefined1 auVar19 [16];
  uint uVar20;
  uint uVar21;
  undefined1 auVar22 [12];
  undefined1 auVar23 [12];
  undefined1 auVar24 [12];
  ulong uVar25;
  float *pfVar26;
  HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *pHVar27;
  ulong *puVar28;
  SetMB *pSVar29;
  SetMB *pSVar30;
  undefined1 (*pauVar31) [16];
  undefined8 uVar32;
  undefined8 *puVar33;
  TaskScheduler *this_00;
  undefined1 (*pauVar34) [16];
  SetMB *pSVar35;
  SetMB *pSVar36;
  SetMB **ppSVar37;
  long lVar38;
  ulong uVar39;
  long lVar40;
  ulong uVar41;
  SetMB *pSVar42;
  ulong uVar43;
  undefined8 *puVar44;
  long lVar45;
  long lVar46;
  SetMB *pSVar47;
  ulong uVar48;
  undefined8 *puVar49;
  undefined1 *puVar50;
  SetMB *pSVar51;
  long in_FS_OFFSET;
  float fVar52;
  undefined4 uVar58;
  undefined1 auVar53 [16];
  undefined1 auVar54 [16];
  undefined1 auVar55 [16];
  undefined1 auVar56 [16];
  undefined1 auVar57 [16];
  float fVar59;
  undefined1 auVar60 [16];
  undefined1 auVar61 [16];
  undefined1 auVar62 [16];
  undefined1 auVar63 [16];
  undefined1 auVar64 [16];
  float fVar65;
  float fVar76;
  undefined1 auVar66 [16];
  undefined1 auVar67 [16];
  undefined1 auVar68 [16];
  undefined1 auVar69 [16];
  undefined1 auVar70 [16];
  undefined1 auVar71 [16];
  undefined1 auVar72 [16];
  undefined1 auVar73 [16];
  undefined1 auVar74 [16];
  undefined1 auVar75 [16];
  float fVar77;
  float fVar84;
  float fVar85;
  undefined4 uVar86;
  undefined1 auVar78 [16];
  undefined1 auVar79 [16];
  undefined1 auVar80 [16];
  undefined1 auVar81 [16];
  undefined1 auVar82 [16];
  undefined1 auVar83 [16];
  float fVar87;
  undefined4 uVar90;
  undefined1 auVar88 [16];
  undefined1 auVar89 [16];
  undefined4 uVar92;
  undefined1 auVar91 [16];
  undefined1 auVar93 [16];
  float fVar94;
  undefined1 auVar95 [16];
  float fVar96;
  undefined1 auVar97 [16];
  float fVar102;
  float fVar103;
  undefined1 auVar98 [16];
  undefined1 auVar99 [16];
  undefined1 auVar100 [16];
  undefined1 auVar101 [16];
  float fVar104;
  undefined1 auVar105 [16];
  undefined1 auVar106 [16];
  undefined1 auVar107 [16];
  undefined1 auVar108 [16];
  undefined1 auVar109 [16];
  undefined1 auVar110 [16];
  undefined1 auVar111 [16];
  undefined1 auVar112 [16];
  undefined1 auVar113 [16];
  undefined1 auVar114 [16];
  undefined1 auVar115 [16];
  undefined1 auVar116 [16];
  undefined1 auVar117 [16];
  undefined1 auVar118 [4];
  undefined1 auVar119 [16];
  float fVar120;
  float fVar121;
  float fVar122;
  float fVar124;
  float fVar125;
  undefined1 auVar123 [16];
  SetMB **local_1c70;
  undefined8 local_1c68;
  float fStack_1c60;
  SetMB *local_1c58;
  undefined1 local_1c48 [16];
  undefined1 local_1c38 [16];
  undefined1 local_1c28 [4];
  undefined1 auStack_1c24 [4];
  undefined8 uStack_1c20;
  undefined1 local_1c18 [8];
  undefined8 uStack_1c10;
  undefined1 local_1c08 [4];
  undefined1 auStack_1c04 [4];
  undefined8 uStack_1c00;
  undefined1 local_1bf8 [4];
  undefined1 auStack_1bf4 [4];
  undefined8 uStack_1bf0;
  undefined1 local_1be8 [8];
  undefined8 uStack_1be0;
  undefined1 local_1bd8 [8];
  undefined8 uStack_1bd0;
  undefined1 local_1bc8 [8];
  undefined8 uStack_1bc0;
  MutexSys *local_1ba0;
  undefined1 local_1b98 [8];
  undefined8 uStack_1b90;
  undefined1 local_1b88 [8];
  undefined8 uStack_1b80;
  undefined1 local_1b78 [8];
  SetMB **ppSStack_1b70;
  undefined1 local_1b68 [4];
  undefined1 auStack_1b64 [4];
  SetMB *pSStack_1b60;
  undefined1 local_1b58 [4];
  undefined1 auStack_1b54 [4];
  SetMB **ppSStack_1b50;
  undefined1 local_1b48 [8];
  SetMB *pSStack_1b40;
  undefined8 local_1b38;
  SetMB **ppSStack_1b30;
  undefined8 local_1b28;
  SetMB *pSStack_1b20;
  undefined8 local_1b18;
  SetMB **ppSStack_1b10;
  undefined8 local_1b08;
  SetMB *pSStack_1b00;
  undefined1 local_1af8 [135];
  bool local_1a71;
  SetMB *local_1a40;
  float local_1a38;
  float local_1a34;
  float local_1a30;
  float local_1a2c;
  SetMB *local_1a28;
  ulong local_1a20;
  undefined8 local_1a18;
  SetMB *local_1a10;
  ulong *local_1a08;
  undefined8 local_19f8;
  SetMB *local_19f0;
  ulong *local_19e8;
  SetMB **local_19e0;
  SetMB *local_19d8;
  SetMB *local_19c8;
  HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *pHStack_19c0;
  SetMB *local_19b8;
  undefined8 uStack_19b0;
  undefined8 local_19a8;
  undefined8 uStack_19a0;
  undefined8 local_1998;
  undefined8 uStack_1990;
  undefined8 local_1988;
  undefined8 uStack_1980;
  undefined8 local_1978;
  undefined8 uStack_1970;
  SetMB *local_1968;
  SetMB *local_1960;
  SetMB *local_1958;
  SetMB *local_1950;
  undefined4 local_1948;
  undefined4 local_1944;
  float local_1940;
  float local_193c;
  SetMB *local_1938;
  SetMB **ppSStack_1930;
  SetMB *local_1928;
  SetMB *pSStack_1920;
  SetMB *local_1918;
  SetMB **ppSStack_1910;
  SetMB *local_1908;
  SetMB *pSStack_1900;
  SetMB *local_18f8;
  SetMB **ppSStack_18f0;
  SetMB *local_18e8;
  SetMB *pSStack_18e0;
  SetMB *local_18d8;
  SetMB *local_18d0;
  SetMB *local_18c8;
  SetMB *local_18c0;
  undefined8 local_18b8;
  undefined8 local_18b0;
  SetMB *local_18a8;
  SetMB **ppSStack_18a0;
  SetMB *local_1898;
  SetMB *pSStack_1890;
  SetMB *local_1888;
  SetMB **ppSStack_1880;
  SetMB *local_1878;
  SetMB *pSStack_1870;
  SetMB *local_1868;
  SetMB **ppSStack_1860;
  SetMB *local_1858;
  SetMB *pSStack_1850;
  ulong local_1848;
  ulong local_1840;
  SetMB *local_1838;
  SetMB *local_1830;
  undefined8 local_1828;
  undefined8 local_1820;
  SetMB *local_1818;
  SetMB **ppSStack_1810;
  SetMB *local_1808;
  SetMB *pSStack_1800;
  SetMB *local_17f8;
  SetMB **ppSStack_17f0;
  SetMB *local_17e8;
  SetMB *pSStack_17e0;
  SetMB *local_17d8;
  SetMB **ppSStack_17d0;
  SetMB *local_17c8;
  SetMB *pSStack_17c0;
  ulong local_17b8;
  ulong local_17b0;
  SetMB *local_17a8;
  SetMB *local_17a0;
  undefined8 local_1798;
  undefined8 local_1790;
  SetMB *local_1788;
  undefined1 local_1778 [16];
  undefined1 local_1768 [16];
  undefined1 local_1758 [16];
  undefined1 local_1748 [16];
  undefined8 local_1738;
  undefined8 uStack_1730;
  undefined1 local_1728 [16];
  ulong local_1718;
  ulong local_1710;
  SetMB *local_1708;
  SetMB *local_1700;
  undefined8 local_16f8;
  undefined8 local_16f0;
  SetMB *local_16e8;
  undefined8 local_16d8;
  float fStack_16d0;
  float fStack_16cc;
  undefined1 local_16c8 [8];
  undefined8 uStack_16c0;
  undefined1 local_16b8 [8];
  undefined8 uStack_16b0;
  undefined1 local_16a8 [8];
  undefined8 uStack_16a0;
  undefined1 local_1698 [8];
  undefined8 uStack_1690;
  undefined1 local_1688 [8];
  undefined8 uStack_1680;
  undefined1 local_1678 [16];
  SetMB *local_1668;
  SetMB *pSStack_1660;
  undefined8 local_1658;
  undefined8 local_1650;
  undefined8 local_1648;
  undefined8 local_1640;
  SetMB *local_1638;
  undefined8 local_1628;
  undefined8 uStack_1620;
  undefined1 local_1618 [8];
  undefined8 uStack_1610;
  undefined1 local_1608 [8];
  undefined8 uStack_1600;
  undefined1 local_15f8 [8];
  undefined8 uStack_15f0;
  undefined1 local_15e8 [8];
  undefined8 uStack_15e0;
  undefined1 local_15d8 [8];
  undefined8 uStack_15d0;
  SetMB *local_15c8;
  SetMB *pSStack_15c0;
  undefined8 local_15b8;
  undefined8 uStack_15b0;
  SetMB *local_15a8;
  SetMB *local_15a0;
  undefined8 local_1598;
  undefined8 local_1590;
  SetMB *local_1588;
  float local_1578;
  undefined4 local_1574;
  undefined4 local_1570;
  int local_156c;
  SetMB *local_1568;
  SetMB *local_1558;
  SetMB *pSStack_1550;
  SetMB *local_1548;
  SetMB **ppSStack_1540;
  float local_1538;
  undefined4 local_1534;
  undefined4 local_1530;
  int local_152c;
  SetMB *local_1528;
  undefined4 local_1518;
  undefined4 uStack_1514;
  undefined4 uStack_1510;
  undefined4 uStack_150c;
  SetMB *local_1508;
  SetMB **ppSStack_1500;
  undefined8 local_14f8;
  undefined8 uStack_14f0;
  SetMB *local_14e8;
  SetMB **ppSStack_14e0;
  SetMB *local_14d8;
  SetMB *pSStack_14d0;
  SetMB *local_14c8;
  SetMB **ppSStack_14c0;
  SetMB *local_14b8;
  SetMB *pSStack_14b0;
  SetMB *local_14a8;
  SetMB **ppSStack_14a0;
  SetMB *local_1498;
  SetMB *pSStack_1490;
  SetMB *local_1488;
  SetMB **ppSStack_1480;
  SetMB *local_1478;
  SetMB *pSStack_1470;
  SetMB *local_1468;
  undefined8 local_1460;
  undefined8 local_1458;
  float fStack_1450;
  float fStack_144c;
  undefined8 local_1448;
  undefined8 uStack_1440;
  undefined8 local_1438;
  undefined8 uStack_1430;
  float local_1428;
  float fStack_1424;
  float fStack_1420;
  float fStack_141c;
  float local_1418;
  float fStack_1414;
  float fStack_1410;
  float fStack_140c;
  float local_1408;
  float fStack_1404;
  float fStack_1400;
  float fStack_13fc;
  float local_13f8;
  float fStack_13f4;
  float fStack_13f0;
  float fStack_13ec;
  float local_13e8;
  float fStack_13e4;
  float fStack_13e0;
  float fStack_13dc;
  undefined8 local_13d8;
  undefined8 uStack_13d0;
  undefined8 local_13c8;
  undefined8 uStack_13c0;
  undefined8 local_13b8;
  undefined8 uStack_13b0;
  undefined8 local_13a8;
  undefined8 uStack_13a0;
  undefined8 local_1398;
  undefined8 uStack_1390;
  undefined8 local_1388;
  SetMB **ppSStack_1380;
  SetMB *local_1378;
  SetMB *pSStack_1370;
  undefined8 local_1368;
  undefined8 uStack_1360;
  undefined8 local_1358;
  undefined8 uStack_1350;
  float local_1348;
  float fStack_1344;
  float fStack_1340;
  float fStack_133c;
  float local_1338;
  float fStack_1334;
  float fStack_1330;
  float fStack_132c;
  float local_1328;
  float local_1324;
  ulong local_1318;
  float local_1308;
  float fStack_1304;
  float fStack_1300;
  float fStack_12fc;
  float local_12f8;
  float fStack_12f4;
  float fStack_12f0;
  float fStack_12ec;
  float local_12e8;
  float fStack_12e4;
  float fStack_12e0;
  float fStack_12dc;
  float local_12d8;
  float fStack_12d4;
  float fStack_12d0;
  float fStack_12cc;
  float local_12c8;
  float local_12c4;
  ulong local_12b8;
  float local_12a8;
  float fStack_12a4;
  float fStack_12a0;
  float fStack_129c;
  float local_1298;
  float fStack_1294;
  float fStack_1290;
  float fStack_128c;
  float local_1288;
  float fStack_1284;
  float fStack_1280;
  float fStack_127c;
  float local_1278;
  float fStack_1274;
  float fStack_1270;
  float fStack_126c;
  float local_1268;
  float local_1264;
  undefined1 auStack_e88 [176];
  SetMB *local_dd8;
  undefined8 uStack_dd0;
  undefined8 local_dc8;
  undefined8 uStack_dc0;
  undefined8 local_db8;
  undefined8 uStack_db0;
  undefined8 local_da8;
  undefined8 uStack_da0;
  undefined8 local_d98;
  undefined8 uStack_d90;
  undefined8 local_d88;
  undefined8 uStack_d80;
  SetMB *local_d78 [2];
  undefined8 local_d68;
  undefined8 uStack_d60;
  SetMB *local_d58 [2];
  undefined8 local_d48;
  float local_d40 [2];
  SetMB *local_d38 [332];
  SetMB **local_2d8 [16];
  ulong local_258;
  SetMB *local_250;
  long local_248;
  SetMB *local_240;
  undefined8 local_238;
  long local_50;
  long local_40;
  
  lVar45 = lRam00000000001261c7;
  local_1c38._8_8_ = local_1c38._0_8_;
  local_1c48._8_8_ = local_1c48._0_8_;
  ppSStack_1b70 = (SetMB **)local_1b78;
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_1ba0 = param_8;
  if (param_7 == (FastAllocator *)0x0) {
    param_7 = (FastAllocator *)param_2[0xc];
    local_1ba0 = *(MutexSys **)(in_FS_OFFSET + lRam00000000001261c7);
    if (local_1ba0 == (MutexSys *)0x0) {
      local_1ba0 = (MutexSys *)embree::alignedMalloc(0xc0,0x40);
      embree::MutexSys::MutexSys(local_1ba0);
      *(MutexSys **)(local_1ba0 + 0x40) = local_1ba0;
      *(undefined8 *)(local_1ba0 + 8) = 0;
      *(undefined8 *)(local_1ba0 + 0x48) = 0;
      *(undefined8 *)(local_1ba0 + 0x50) = 0;
      *(undefined8 *)(local_1ba0 + 0x58) = 0;
      *(undefined8 *)(local_1ba0 + 0x60) = 0;
      *(undefined8 *)(local_1ba0 + 0x68) = 0;
      *(undefined8 *)(local_1ba0 + 0x70) = 0;
      *(MutexSys **)(local_1ba0 + 0x80) = local_1ba0;
      *(undefined8 *)(local_1ba0 + 0x88) = 0;
      *(undefined8 *)(local_1ba0 + 0x90) = 0;
      *(undefined8 *)(local_1ba0 + 0x98) = 0;
      *(undefined8 *)(local_1ba0 + 0xa0) = 0;
      *(undefined8 *)(local_1ba0 + 0xa8) = 0;
      *(undefined8 *)(local_1ba0 + 0xb0) = 0;
      *(MutexSys **)(in_FS_OFFSET + lVar45) = local_1ba0;
      embree::MutexSys::lock();
      local_1628._0_4_ = SUB84(local_1ba0,0);
      local_1628._4_4_ = (float)((ulong)local_1ba0 >> 0x20);
      if (__MutexSys == _createPrimRefArrayMSMBlur) {
        std::
        vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
        ::
        _M_realloc_insert<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>
                  ((vector<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>,std::allocator<std::unique_ptr<embree::FastAllocator::ThreadLocal2,std::default_delete<embree::FastAllocator::ThreadLocal2>>>>
                    *)&FastAllocator::s_thread_local_allocators,__MutexSys,&local_1628);
        this = (MutexSys *)CONCAT44(local_1628._4_4_,(float)local_1628);
        if (this != (MutexSys *)0x0) {
          embree::MutexSys::~MutexSys(this);
          embree::alignedFree(this);
        }
      }
      else {
        *__MutexSys = local_1ba0;
        __MutexSys = __MutexSys + 1;
      }
      embree::MutexSys::unlock();
    }
    local_1ba0 = local_1ba0 + 0x40;
  }
  if ((param_4 != '\0') && ((ulong)(param_3[0xf] - param_3[0xe]) <= param_2[7])) {
    embree::Scene::progressMonitor((double)(ulong)(param_3[0xf] - param_3[0xe]));
  }
  pSVar5 = (SetMB *)(param_3 + 2);
  HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::find
            ((HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_14f8,pSVar5,param_2[2]);
  fVar76 = *(float *)(param_3 + 4);
  fVar87 = *(float *)((long)param_3 + 0x24);
  fVar59 = *(float *)(param_3 + 5);
  uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
  fVar104 = *(float *)(param_3 + 2);
  fVar102 = *(float *)((long)param_3 + 0x14);
  fVar103 = *(float *)(param_3 + 3);
  uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
  fVar122 = *(float *)(param_3 + 8);
  fVar124 = *(float *)((long)param_3 + 0x44);
  fVar125 = *(float *)(param_3 + 9);
  uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
  fVar77 = *(float *)(param_3 + 6);
  fVar84 = *(float *)((long)param_3 + 0x34);
  fVar85 = *(float *)(param_3 + 7);
  uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
  fVar52 = *(float *)((long)param_3 + 0x9c);
  fVar65 = *(float *)(param_3 + 0x13);
  pSVar30 = (SetMB *)param_3[0x10];
  bVar6 = (byte)param_2[2];
  fVar121 = (float)local_14f8;
  fVar120 = fVar52 - fVar65;
  fVar94 = (((fVar87 - fVar102) + (fVar59 - fVar103)) * (fVar76 - fVar104) +
            (fVar87 - fVar102) * (fVar59 - fVar103) +
           (fVar124 - fVar84) * (fVar125 - fVar85) +
           (fVar122 - fVar77) * ((fVar124 - fVar84) + (fVar125 - fVar85))) * _LC12 * fVar120;
  fVar96 = (float)((ulong)(pSVar30 + (1L << (bVar6 & 0x3f)) + -1) >> (bVar6 & 0x3f)) * fVar94;
  if (_LC12 * fVar96 <= (float)local_14f8) {
    uVar25 = param_3[0xf];
    local_1b78 = (undefined1  [8])param_3[0xe];
    if (_LC41 / (float)(ulong)param_3[0x11] < fVar120) {
      local_1460 = 0;
      local_1468 = (SetMB *)0x0;
      local_1418 = _LC10;
      fStack_1414 = _LC10;
      fStack_1410 = _LC10;
      fStack_140c = _LC10;
      local_13f8 = _LC10;
      fStack_13f4 = _LC10;
      fStack_13f0 = _LC10;
      fStack_13ec = _LC10;
      local_1408 = _LC8;
      fStack_1404 = _LC8;
      fStack_1400 = _LC8;
      fStack_13fc = _LC8;
      local_13e8 = _LC8;
      fStack_13e4 = _LC8;
      fStack_13e0 = _LC8;
      fStack_13dc = _LC8;
      local_1458 = (SetMB *)CONCAT44(_LC10,_LC10);
      fStack_1450 = _LC10;
      fStack_144c = _LC10;
      local_1448 = (SetMB *)CONCAT44(_LC8,_LC8);
      uStack_1440 = (SetMB *)CONCAT44(_LC8,_LC8);
      local_1438 = (SetMB *)CONCAT44(_LC10,_LC10);
      uStack_1430 = (SetMB **)CONCAT44(_LC10,_LC10);
      local_1428 = _LC8;
      fStack_1424 = _LC8;
      fStack_1420 = _LC8;
      fStack_141c = _LC8;
      local_1778._0_8_ = *(undefined8 *)(param_3[0x14] + 0x20);
      local_1bd8._4_4_ = _LC8;
      local_1bd8._0_4_ = _LC8;
      uStack_1bd0._0_4_ = _LC8;
      uStack_1bd0._4_4_ = _LC8;
      local_16d8._0_4_ = (float)param_3[0x13];
      local_16d8._4_4_ = (float)((ulong)param_3[0x13] >> 0x20);
      if (uVar25 - (long)local_1b78 < 0xc00) {
        HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
        ::TemporalBinInfo::bin
                  ((TemporalBinInfo_conflict *)&local_1468,*(undefined8 *)(param_3[0x14] + 0x20),
                   local_1b78,uVar25,pSVar5);
        uStack_1bf0._4_4_ = fStack_144c;
        uStack_1bf0._0_4_ = fStack_1450;
        local_1bc8._4_4_ = fStack_1424;
        local_1bc8._0_4_ = local_1428;
        uStack_1bc0._4_4_ = fStack_141c;
        uStack_1bc0._0_4_ = fStack_1420;
        _local_1bf8 = local_1458;
        uStack_1be0 = (SetMB **)uStack_1440;
        local_1be8 = (undefined1  [8])local_1448;
        local_1b98._4_4_ = fStack_1414;
        local_1b98._0_4_ = local_1418;
        uStack_1b90._4_4_ = fStack_140c;
        uStack_1b90._0_4_ = fStack_1410;
        uStack_1bd0 = (SetMB *)uStack_1430;
        local_1bd8 = (undefined1  [8])local_1438;
        local_1b88._4_4_ = fStack_1404;
        local_1b88._0_4_ = local_1408;
        uStack_1b80._4_4_ = fStack_13fc;
        uStack_1b80._0_4_ = fStack_1400;
        local_1b78._4_4_ = fStack_13f4;
        local_1b78._0_4_ = local_13f8;
        ppSStack_1b70._4_4_ = fStack_13ec;
        ppSStack_1b70._0_4_ = fStack_13f0;
        auStack_1b64 = (undefined1  [4])fStack_13e4;
        local_1b68 = (undefined1  [4])local_13e8;
        pSStack_1b60._4_4_ = fStack_13dc;
        pSStack_1b60._0_4_ = fStack_13e0;
        lVar45 = local_1460;
        pSVar30 = local_1468;
      }
      else {
        uStack_1620 = &local_16d8;
        local_d88 = CONCAT44(_LC10,_LC10);
        uStack_d80 = CONCAT44(_LC10,_LC10);
        local_1628 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)local_1778;
        uStack_1610 = param_2 + 10;
        local_1618 = (undefined1  [8])pSVar5;
        uStack_dd0 = 0;
        local_dd8 = (SetMB *)0x0;
        local_d78[0] = (SetMB *)local_1bd8;
        local_d78[1] = uStack_1bd0;
        local_d68 = CONCAT44(_LC10,_LC10);
        uStack_d60 = CONCAT44(_LC10,_LC10);
        local_d58[0] = (SetMB *)local_1bd8;
        local_d58[1] = uStack_1bd0;
        local_dc8 = (SetMB *)CONCAT44(_LC10,_LC10);
        uStack_dc0 = CONCAT44(_LC10,_LC10);
        local_db8 = (SetMB *)local_1bd8;
        uStack_db0 = uStack_1bd0;
        local_da8 = (SetMB *)CONCAT44(_LC10,_LC10);
        uStack_da0 = (SetMB **)CONCAT44(_LC10,_LC10);
        local_d98 = (SetMB *)local_1bd8;
        uStack_d90 = uStack_1bd0;
        parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
                  ((ulong)&local_13d8,(uVar25 - (long)local_1b78) + 0x3ff >> 10,(ulong)local_1b78,
                   uVar25,(TemporalBinInfo_conflict *)&local_dd8,
                   (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1628,
                   HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
                   ::TemporalBinInfo::merge2);
        fVar52 = *(float *)((long)param_3 + 0x9c);
        uStack_1bf0 = (SetMB *)uStack_13c0;
        _local_1bf8 = local_13c8;
        fVar65 = *(float *)(param_3 + 0x13);
        uStack_1be0 = (SetMB **)uStack_13b0;
        local_1be8 = (undefined1  [8])local_13b8;
        uStack_1bd0 = (SetMB *)uStack_13a0;
        local_1bd8 = (undefined1  [8])local_13a8;
        uStack_1bc0 = (SetMB **)uStack_1390;
        local_1bc8 = (undefined1  [8])local_1398;
        uStack_1b90 = (SetMB *)ppSStack_1380;
        local_1b98 = (undefined1  [8])local_1388;
        uStack_1b80 = pSStack_1370;
        local_1b88 = (undefined1  [8])local_1378;
        ppSStack_1b70 = uStack_1360;
        local_1b78 = (undefined1  [8])local_1368;
        pSStack_1b60 = uStack_1350;
        _local_1b68 = local_1358;
        fVar120 = fVar52 - fVar65;
        lVar45 = uStack_13d0;
        pSVar30 = local_13d8;
      }
      fVar87 = _LC10;
      ppSVar37 = ppSStack_1b70;
      auVar22 = _auStack_1b54;
      auVar91._12_4_ = 0;
      auVar91._0_12_ = _auStack_1b54;
      _local_1b58 = auVar91 << 0x20;
      local_1c08 = (undefined1  [4])_LC10;
      lVar38 = (1L << (bVar6 & 0x3f)) + -1;
      fVar76 = *(float *)(param_3 + 0x12);
      uVar25 = param_3[0x11];
      fVar59 = *(float *)((long)param_3 + 0x94) - fVar76;
      uVar48 = (ulong)(pSVar30 + lVar38) >> (bVar6 & 0x3f);
      uVar39 = (ulong)(lVar45 + lVar38) >> (bVar6 & 0x3f);
      fVar104 = roundf((((_LC12 * fVar52 + _LC12 * fVar65) - fVar76) / fVar59) * (float)uVar25);
      fVar76 = (fVar104 / (float)uVar25) * fVar59 + fVar76;
      if ((fVar65 < fVar76) && (fVar76 < fVar52)) {
        fVar59 = ((((float)local_1be8._4_4_ - (float)auStack_1bf4) +
                  ((float)uStack_1be0 - (float)uStack_1bf0)) *
                  ((float)local_1be8._0_4_ - (float)local_1bf8) +
                  ((float)local_1be8._4_4_ - (float)auStack_1bf4) *
                  ((float)uStack_1be0 - (float)uStack_1bf0) +
                 ((float)local_1bc8._0_4_ - (float)local_1bd8._0_4_) *
                 (((float)local_1bc8._4_4_ - (float)local_1bd8._4_4_) +
                 ((float)uStack_1bc0 - (float)uStack_1bd0)) +
                 ((float)local_1bc8._4_4_ - (float)local_1bd8._4_4_) *
                 ((float)uStack_1bc0 - (float)uStack_1bd0)) * _LC12 * (float)uVar48 *
                 (fVar76 - fVar65);
        if (uVar48 == 0) {
          fVar59 = 0.0;
        }
        if (uVar39 == 0) {
          fVar59 = fVar59 + 0.0;
        }
        else {
          fVar59 = fVar59 + ((((float)local_1b88._4_4_ - (float)local_1b98._4_4_) +
                             ((float)uStack_1b80 - (float)uStack_1b90)) *
                             ((float)local_1b88._0_4_ - (float)local_1b98._0_4_) +
                             ((float)local_1b88._4_4_ - (float)local_1b98._4_4_) *
                             ((float)uStack_1b80 - (float)uStack_1b90) +
                            ((float)auStack_1b64 - (float)local_1b78._4_4_) *
                            (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_) +
                            ((float)local_1b68 - (float)local_1b78._0_4_) *
                            (((float)auStack_1b64 - (float)local_1b78._4_4_) +
                            (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_))) * _LC12 * (float)uVar39 *
                            (fVar52 - fVar76);
        }
        if (fVar59 < fVar87) {
          local_1b58 = (undefined1  [4])fVar76;
          _local_1b58 = CONCAT124(auVar22,local_1b58);
          local_1c08 = (undefined1  [4])fVar59;
        }
      }
      local_1578 = (float)local_1c08 * _LC42;
      uStack_dd0 = CONCAT44(uStack_dd0._4_4_,local_1b58);
      ppSStack_1b70 = ppSVar37;
      if (local_1578 < fVar121) {
        fVar76 = *(float *)(param_3 + 4);
        fVar87 = *(float *)((long)param_3 + 0x24);
        fVar59 = *(float *)(param_3 + 5);
        uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
        local_1574 = 0;
        fVar122 = *(float *)(param_3 + 8);
        fVar124 = *(float *)((long)param_3 + 0x44);
        fVar125 = *(float *)(param_3 + 9);
        uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
        local_156c = 2;
        local_1548 = local_da8;
        ppSStack_1540 = uStack_da0;
        fVar104 = *(float *)(param_3 + 2);
        fVar102 = *(float *)((long)param_3 + 0x14);
        fVar103 = *(float *)(param_3 + 3);
        uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
        fVar77 = *(float *)(param_3 + 6);
        fVar84 = *(float *)((long)param_3 + 0x34);
        fVar85 = *(float *)(param_3 + 7);
        uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
        local_1558 = local_db8;
        pSStack_1550 = uStack_db0;
        pSVar30 = (SetMB *)param_3[0x10];
        local_1570 = local_1b58;
        local_1568 = local_dc8;
        fVar94 = ((fVar76 - fVar104) * ((fVar87 - fVar102) + (fVar59 - fVar103)) +
                  (fVar87 - fVar102) * (fVar59 - fVar103) +
                 (fVar124 - fVar84) * (fVar125 - fVar85) +
                 (fVar122 - fVar77) * ((fVar124 - fVar84) + (fVar125 - fVar85))) * _LC12 * fVar120;
        fVar96 = (float)((ulong)(pSVar30 + (1L << ((byte)param_2[2] & 0x3f)) + -1) >>
                        ((byte)param_2[2] & 0x3f)) * fVar94;
        uVar25 = param_3[0xf];
        local_1b78 = (undefined1  [8])param_3[0xe];
        goto LAB_00123b83;
      }
      fVar76 = *(float *)(param_3 + 4);
      fVar87 = *(float *)((long)param_3 + 0x24);
      fVar59 = *(float *)(param_3 + 5);
      uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
      fVar104 = *(float *)(param_3 + 2);
      fVar102 = *(float *)((long)param_3 + 0x14);
      fVar103 = *(float *)(param_3 + 3);
      uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
      fVar122 = *(float *)(param_3 + 8);
      fVar124 = *(float *)((long)param_3 + 0x44);
      fVar125 = *(float *)(param_3 + 9);
      uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
      fVar77 = *(float *)(param_3 + 6);
      fVar84 = *(float *)((long)param_3 + 0x34);
      fVar85 = *(float *)(param_3 + 7);
      uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
      pSVar30 = (SetMB *)param_3[0x10];
      fVar94 = ((fVar76 - fVar104) * ((fVar87 - fVar102) + (fVar59 - fVar103)) +
                (fVar87 - fVar102) * (fVar59 - fVar103) +
               (fVar124 - fVar84) * (fVar125 - fVar85) +
               (fVar122 - fVar77) * ((fVar124 - fVar84) + (fVar125 - fVar85))) * _LC12 * fVar120;
      fVar96 = (float)((ulong)(pSVar30 + (1L << ((byte)param_2[2] & 0x3f)) + -1) >>
                      ((byte)param_2[2] & 0x3f)) * fVar94;
      uVar25 = param_3[0xf];
      local_1b78 = (undefined1  [8])param_3[0xe];
    }
    local_1570 = (undefined4)uStack_14f0;
    local_1574 = local_14f8._4_4_;
    local_1558 = local_14d8;
    pSStack_1550 = pSStack_14d0;
    local_156c = uStack_14f0._4_4_;
    local_1568 = local_14e8;
    local_1548 = local_14c8;
    ppSStack_1540 = ppSStack_14c0;
    local_1578 = fVar121;
  }
  else {
    local_1578 = (float)local_14f8;
    uVar25 = param_3[0xf];
    local_1b78 = (undefined1  [8])param_3[0xe];
    local_1570 = (undefined4)uStack_14f0;
    local_1574 = local_14f8._4_4_;
    local_1558 = local_14d8;
    pSStack_1550 = pSStack_14d0;
    local_156c = uStack_14f0._4_4_;
    local_1568 = local_14e8;
    local_1548 = local_14c8;
    ppSStack_1540 = ppSStack_14c0;
  }
LAB_00123b83:
  if (((param_2[3] < uVar25 - (long)local_1b78) &&
      (pSVar42 = (SetMB *)*param_3, pSVar42 + 8 < (SetMB *)param_2[1])) &&
     ((param_2[4] < uVar25 - (long)local_1b78 ||
      (*(float *)(param_2 + 5) * fVar94 + *(float *)((long)param_2 + 0x2c) * local_1578 <
       fVar96 * *(float *)((long)param_2 + 0x2c))))) {
    if (local_156c == 0) {
      local_1658 = (SetMB *)0x3f80000000000000;
      local_15a8 = (SetMB *)0x3f80000000000000;
      local_1bc8._4_4_ = _LC10;
      local_1bc8._0_4_ = _LC10;
      uStack_1bc0._0_4_ = _LC10;
      uStack_1bc0._4_4_ = _LC10;
      lVar45 = (long)(1 << ((byte)local_1574 & 0x1f));
      local_16d8._0_4_ = _LC10;
      local_16d8._4_4_ = _LC10;
      fStack_16d0 = _LC10;
      fStack_16cc = _LC10;
      local_16b8._4_4_ = _LC10;
      local_16b8._0_4_ = _LC10;
      uStack_16b0._0_4_ = _LC10;
      uStack_16b0._4_4_ = _LC10;
      local_1698._4_4_ = _LC10;
      local_1698._0_4_ = _LC10;
      uStack_1690._0_4_ = _LC10;
      uStack_1690._4_4_ = _LC10;
      local_1628._0_4_ = _LC10;
      local_1628._4_4_ = _LC10;
      uStack_1620._0_4_ = _LC10;
      uStack_1620._4_4_ = _LC10;
      local_1608._4_4_ = _LC10;
      local_1608._0_4_ = _LC10;
      uStack_1600._0_4_ = _LC10;
      uStack_1600._4_4_ = _LC10;
      local_15e8._4_4_ = _LC10;
      local_15e8._0_4_ = _LC10;
      uStack_15e0._0_4_ = _LC10;
      uStack_15e0._4_4_ = _LC10;
      local_dd8 = (SetMB *)(&mm_lookupmask_ps)[lVar45 * 2];
      uStack_dd0 = *(undefined8 *)(embree::os_free + lVar45 * 0x10);
      local_18a8 = (SetMB *)&local_1578;
      local_13d8 = (SetMB *)CONCAT44(local_1570,local_1570);
      uStack_13d0 = CONCAT44(local_1570,local_1570);
      local_1678 = ZEXT816(0);
      local_1668 = (SetMB *)0x0;
      pSStack_1660 = (SetMB *)0x0;
      local_1650 = (SetMB *)0x3f800000;
      local_15c8 = (SetMB *)0x0;
      pSStack_15c0 = (SetMB *)0x0;
      local_15b8 = (SetMB *)0x0;
      uStack_15b0 = (SetMB *)0x0;
      local_15a0 = (SetMB *)0x3f800000;
      local_1bd8._4_4_ = _LC8;
      local_1bd8._0_4_ = _LC8;
      uStack_1bd0._0_4_ = _LC8;
      uStack_1bd0._4_4_ = _LC8;
      local_16c8._4_4_ = _LC8;
      local_16c8._0_4_ = _LC8;
      uStack_16c0._0_4_ = _LC8;
      uStack_16c0._4_4_ = _LC8;
      local_16a8._4_4_ = _LC8;
      local_16a8._0_4_ = _LC8;
      uStack_16a0._0_4_ = _LC8;
      uStack_16a0._4_4_ = _LC8;
      local_1688._4_4_ = _LC8;
      local_1688._0_4_ = _LC8;
      uStack_1680._0_4_ = _LC8;
      uStack_1680._4_4_ = _LC8;
      local_1618._4_4_ = _LC8;
      local_1618._0_4_ = _LC8;
      uStack_1610._0_4_ = _LC8;
      uStack_1610._4_4_ = _LC8;
      local_15f8._4_4_ = _LC8;
      local_15f8._0_4_ = _LC8;
      uStack_15f0._0_4_ = _LC8;
      uStack_15f0._4_4_ = _LC8;
      local_15d8._4_4_ = _LC8;
      local_15d8._0_4_ = _LC8;
      uStack_15d0._0_4_ = _LC8;
      uStack_15d0._4_4_ = _LC8;
      ppSStack_18a0 = (SetMB **)&local_13d8;
      local_1898 = (SetMB *)&local_dd8;
      local_17b0 = parallel_partitioning<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>
                             (*(PrimRefMB **)(param_3[0x14] + 0x20),(ulong)local_1b78,uVar25,
                              (EmptyTy *)local_1778,(PrimInfoMBT_conflict *)&local_16d8,
                              (PrimInfoMBT_conflict *)&local_1628,
                              (_lambda_embree__PrimRefMB_const___1_ *)&local_18a8,
                              (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimRefMB_const___2_
                               *)&local_19c8,
                              (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>_const___3_
                               *)&local_1938,0x80,0xc00);
      local_1818 = (SetMB *)CONCAT44(local_16d8._4_4_,(float)local_16d8);
      ppSStack_1810 = (SetMB **)CONCAT44(fStack_16cc,fStack_16d0);
      pSVar35 = (SetMB *)param_3[0x14];
      uStack_1c20 = ppSStack_1810;
      _local_1c28 = local_1818;
      fVar65 = *(float *)(param_3 + 0x13);
      local_1c48._0_8_ = local_1668;
      fVar52 = *(float *)((long)param_3 + 0x9c);
      local_17a8 = local_1668;
      local_1c58 = pSStack_1660;
      _local_1c18 = _local_16c8;
      local_1798 = local_1658;
      local_1808 = (SetMB *)local_16c8;
      pSStack_1800 = uStack_16c0;
      _local_1c08 = _local_16b8;
      local_17f8 = (SetMB *)local_16b8;
      ppSStack_17f0 = uStack_16b0;
      _local_1bf8 = _local_16a8;
      local_17e8 = (SetMB *)local_16a8;
      pSStack_17e0 = uStack_16a0;
      _local_1be8 = _local_1698;
      local_17d8 = (SetMB *)local_1698;
      ppSStack_17d0 = uStack_1690;
      _local_1b98 = _local_1688;
      local_17c8 = (SetMB *)local_1688;
      pSStack_17c0 = uStack_1680;
      local_1790._4_4_ = (float)((ulong)local_1650 >> 0x20);
      local_1790._0_4_ = SUB84(local_1650,0);
      fVar121 = fVar65;
      if (fVar65 <= (float)local_1790) {
        fVar121 = (float)local_1790;
      }
      if (fVar52 <= local_1790._4_4_) {
        local_1790._4_4_ = fVar52;
      }
      auVar95 = ZEXT416((uint)local_1790._4_4_);
      local_16f8 = local_15a8;
      local_1778._4_4_ = local_1628._4_4_;
      local_1778._0_4_ = (float)local_1628;
      local_1778._8_4_ = (float)uStack_1620;
      local_1778._12_4_ = uStack_1620._4_4_;
      _local_1b88 = _local_15e8;
      local_16f0._4_4_ = (float)((ulong)local_15a0 >> 0x20);
      local_16f0._0_4_ = SUB84(local_15a0,0);
      fVar96 = fVar65;
      if (fVar65 <= (float)local_16f0) {
        fVar96 = (float)local_16f0;
      }
      local_1738 = local_15e8;
      uStack_1730 = uStack_15e0;
      if (fVar52 <= local_16f0._4_4_) {
        local_16f0._4_4_ = fVar52;
      }
      local_1708 = local_15b8;
      local_1700 = uStack_15b0;
      local_1790 = CONCAT44(local_1790._4_4_,fVar121);
      local_1768 = _local_1618;
      local_1758 = _local_1608;
      local_1748 = _local_15f8;
      local_1728 = _local_15d8;
      pSVar42 = (SetMB *)*param_3;
      fVar104 = *(float *)(param_3 + 2);
      fVar102 = *(float *)((long)param_3 + 0x14);
      fVar103 = *(float *)(param_3 + 3);
      uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
      fVar76 = *(float *)(param_3 + 4);
      fVar87 = *(float *)((long)param_3 + 0x24);
      fVar59 = *(float *)(param_3 + 5);
      uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
      fVar77 = *(float *)(param_3 + 6);
      fVar84 = *(float *)((long)param_3 + 0x34);
      fVar85 = *(float *)(param_3 + 7);
      uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
      local_1c38._0_8_ = local_17b0;
      fVar122 = *(float *)(param_3 + 8);
      fVar124 = *(float *)((long)param_3 + 0x44);
      fVar125 = *(float *)(param_3 + 9);
      uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
      pSVar30 = (SetMB *)param_3[0x10];
      local_16f0 = CONCAT44(local_16f0._4_4_,fVar96);
      fVar94 = local_16f0._4_4_;
      local_17b8 = (ulong)local_1b78;
      local_1718 = local_17b0;
      local_1710 = uVar25;
      local_16e8 = pSVar35;
      local_1c68 = pSVar35;
    }
    else {
      if (local_156c == 2) {
        pSVar51 = (SetMB *)param_3[0x14];
        local_1a18 = (SetMB *)CONCAT44(local_1570,fVar65);
        pSVar30 = (SetMB *)(param_2 + 9);
        local_19f8 = (SetMB *)CONCAT44(fVar52,local_1570);
        pSVar42 = (SetMB *)operator_new(0x28);
        uVar25 = param_3[0xf];
        puVar33 = (undefined8 *)param_2[9];
        uVar39 = param_3[0xe];
        pSVar42[8] = (SetMB)0x0;
        *(undefined8 **)pSVar42 = puVar33;
        *(undefined8 *)(pSVar42 + 0x10) = 0;
        *(undefined8 *)(pSVar42 + 0x18) = 0;
        *(undefined8 *)(pSVar42 + 0x20) = 0;
        uVar48 = uVar25 - uVar39;
        if (uVar48 != 0) {
          uVar25 = uVar48 * 0x50;
          (**(code **)*puVar33)(puVar33,uVar25,0);
          if (uVar25 < 0x1c00000) {
            uVar32 = embree::alignedMalloc(uVar25,0x10);
          }
          else {
            uVar32 = embree::os_malloc(uVar25,(bool *)(pSVar42 + 8));
          }
          uVar25 = param_3[0xf];
          uVar39 = param_3[0xe];
          *(undefined8 *)(pSVar42 + 0x20) = uVar32;
          *(ulong *)(pSVar42 + 0x10) = uVar48;
          *(ulong *)(pSVar42 + 0x18) = uVar48;
          uVar48 = uVar25 - uVar39;
        }
        fVar65 = _LC10;
        pSStack_1920 = (SetMB *)&local_1a28;
        local_15c8 = (SetMB *)0x0;
        pSStack_15c0 = (SetMB *)0x0;
        local_15b8 = (SetMB *)0x0;
        uStack_15b0 = (SetMB *)0x0;
        local_15a8 = (SetMB *)0x3f80000000000000;
        local_15a0 = (SetMB *)0x3f800000;
        local_1bc8._4_4_ = _LC10;
        local_1bc8._0_4_ = _LC10;
        uStack_1bc0._0_4_ = _LC10;
        uStack_1bc0._4_4_ = _LC10;
        local_1628._0_4_ = _LC10;
        local_1628._4_4_ = _LC10;
        uStack_1620._0_4_ = _LC10;
        uStack_1620._4_4_ = _LC10;
        local_1bd8._4_4_ = _LC8;
        local_1bd8._0_4_ = _LC8;
        uStack_1bd0._0_4_ = _LC8;
        uStack_1bd0._4_4_ = _LC8;
        local_1618._4_4_ = _LC8;
        local_1618._0_4_ = _LC8;
        uStack_1610._0_4_ = _LC8;
        uStack_1610._4_4_ = _LC8;
        local_1608._4_4_ = _LC10;
        local_1608._0_4_ = _LC10;
        uStack_1600._0_4_ = _LC10;
        uStack_1600._4_4_ = _LC10;
        local_15f8._4_4_ = _LC8;
        local_15f8._0_4_ = _LC8;
        uStack_15f0._0_4_ = _LC8;
        uStack_15f0._4_4_ = _LC8;
        local_15e8._4_4_ = _LC10;
        local_15e8._0_4_ = _LC10;
        uStack_15e0._0_4_ = _LC10;
        uStack_15e0._4_4_ = _LC10;
        local_15d8._4_4_ = _LC8;
        local_15d8._0_4_ = _LC8;
        uStack_15d0._0_4_ = _LC8;
        uStack_15d0._4_4_ = _LC8;
        local_1a28 = pSVar42;
        local_1938 = pSVar51;
        ppSStack_1930 = (SetMB **)&local_1a18;
        local_1928 = pSVar30;
        local_1918 = pSVar5;
        if (uVar48 < 0xc00) {
          local_16d8._0_4_ = (float)uVar39;
          local_16d8._4_4_ = (float)(uVar39 >> 0x20);
          fStack_16d0 = (float)uVar25;
          fStack_16cc = (float)(uVar25 >> 0x20);
          HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
          ::
          split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
          ::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                    ((_lambda_embree__range<unsigned_long>const___1_ *)&local_18a8,
                     (range *)&local_1938);
        }
        else {
          parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                    ((ulong)&local_18a8,uVar48 + 0x7f >> 7,uVar39,uVar25,
                     (PrimInfoMBT_conflict *)&local_1628,
                     (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1938,
                     PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
        }
        uVar25 = param_3[0xf];
        uVar39 = param_3[0xe];
        uVar48 = uVar25 - uVar39;
        if (local_1840 - local_1848 != uVar48) {
          local_1628 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_1a18;
          local_1840 = parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_>
                                 (*(PrimRefMB **)(local_1a28 + 0x20),0,uVar48,0x400,
                                  (_lambda_embree__PrimRefMB_const___1_ *)&local_1628);
          uVar25 = param_3[0xf];
          uVar39 = param_3[0xe];
          uVar48 = uVar25 - uVar39;
        }
        uVar41 = local_1840;
        uVar43 = local_1848;
        local_1c68 = local_1a28;
        uStack_1c20 = ppSStack_18a0;
        _local_1c28 = local_18a8;
        uStack_1c00 = ppSStack_1880;
        _local_1c08 = local_1888;
        local_1818 = local_18a8;
        ppSStack_1810 = ppSStack_18a0;
        local_17f8 = local_1888;
        ppSStack_17f0 = ppSStack_1880;
        fVar120 = local_1820._4_4_;
        if (local_1a18._4_4_ <= local_1820._4_4_) {
          fVar120 = local_1a18._4_4_;
        }
        fVar121 = (float)local_1a18;
        if ((float)local_1a18 <= (float)local_1820) {
          fVar121 = (float)local_1820;
        }
        local_1c48._0_8_ = local_1838;
        local_1c58 = local_1830;
        uStack_1c10 = pSStack_1890;
        local_1c18 = (undefined1  [8])local_1898;
        uStack_1bf0 = pSStack_1870;
        _local_1bf8 = local_1878;
        uStack_1be0 = ppSStack_1860;
        local_1be8 = (undefined1  [8])local_1868;
        uStack_1b90 = pSStack_1850;
        local_1b98 = (undefined1  [8])local_1858;
        local_1b78._0_4_ = (undefined4)local_1828;
        local_1b68 = (undefined1  [4])local_1828._4_4_;
        local_1808 = local_1898;
        pSStack_1800 = pSStack_1890;
        local_17e8 = local_1878;
        pSStack_17e0 = pSStack_1870;
        local_17d8 = local_1868;
        ppSStack_17d0 = ppSStack_1860;
        local_17c8 = local_1858;
        pSStack_17c0 = pSStack_1850;
        local_17b8 = local_1848;
        local_1788 = local_1a28;
        local_17a8 = local_1838;
        local_17a0 = local_1830;
        local_15c8 = (SetMB *)0x0;
        pSStack_15c0 = (SetMB *)0x0;
        local_15b8 = (SetMB *)0x0;
        uStack_15b0 = (SetMB *)0x0;
        local_15a8 = (SetMB *)0x3f80000000000000;
        local_15a0 = (SetMB *)0x3f800000;
        local_1798 = local_1828;
        local_1790 = CONCAT44(fVar120,fVar121);
        local_1628._0_4_ = fVar65;
        local_1628._4_4_ = fVar65;
        uStack_1620._0_4_ = fVar65;
        uStack_1620._4_4_ = fVar65;
        uStack_1610 = uStack_1bd0;
        local_1618 = local_1bd8;
        uStack_1600 = uStack_1bc0;
        local_1608 = local_1bc8;
        uStack_15f0 = uStack_1bd0;
        local_15f8 = local_1bd8;
        uStack_15e0 = uStack_1bc0;
        local_15e8 = local_1bc8;
        uStack_15d0 = uStack_1bd0;
        local_15d8 = local_1bd8;
        local_19c8 = pSVar51;
        pHStack_19c0 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_19f8;
        local_19b8 = pSVar30;
        local_17b0 = local_1840;
        if (uVar48 < 0xc00) {
          local_1778._8_8_ = uVar25;
          local_1778._0_8_ = uVar39;
          HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
          ::
          split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
          ::{lambda(embree::range<unsigned_long>const&)#3}::operator()
                    ((_lambda_embree__range<unsigned_long>const___3_ *)&local_16d8,
                     (range *)&local_19c8);
        }
        else {
          parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_3_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                    ((embree *)&local_16d8,uVar48 + 0x7f >> 7,uVar39,uVar25,0x80,
                     (PrimInfoMBT_conflict *)&local_1628,
                     (_lambda_embree__range<unsigned_long>_const___3_ *)&local_19c8,
                     PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
        }
        local_1718 = param_3[0xe];
        lVar45 = local_1678._8_8_ - local_1678._0_8_;
        local_1710 = local_1718 + lVar45;
        local_1678._8_8_ = local_1710;
        local_1678._0_8_ = local_1718;
        _local_1b58 = uVar41;
        if (lVar45 != param_3[0xf] - local_1718) {
          local_1b48 = (undefined1  [8])uVar41;
          local_1628 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_19f8;
          local_1710 = parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_4_>
                                 (*(PrimRefMB **)(pSVar51 + 0x20),local_1718,param_3[0xf],0x400,
                                  (_lambda_embree__PrimRefMB_const___4_ *)&local_1628);
          local_1718 = local_1678._0_8_;
          _local_1b58 = uVar43;
        }
        local_1c38._0_8_ = local_1718;
        local_1738 = local_1698;
        uStack_1730 = uStack_1690;
        local_1a71 = pSVar42 != (SetMB *)0x0;
        fVar94 = local_1650._4_4_;
        if (local_19f8._4_4_ <= local_1650._4_4_) {
          fVar94 = local_19f8._4_4_;
        }
        fVar96 = (float)local_19f8;
        if ((float)local_19f8 <= (float)local_1650) {
          fVar96 = (float)local_1650;
        }
        _local_1b88 = _local_1698;
        local_1778._4_4_ = local_16d8._4_4_;
        local_1778._0_4_ = (float)local_16d8;
        local_1778._8_4_ = fStack_16d0;
        local_1778._12_4_ = fStack_16cc;
        local_1768 = _local_16c8;
        local_1708 = local_1668;
        local_1700 = pSStack_1660;
        local_1b58 = (undefined1  [4])(undefined4)local_1658;
        local_1758 = _local_16b8;
        local_1748 = _local_16a8;
        local_1b48._0_4_ = local_1658._4_4_;
        local_1728 = _local_1688;
        local_16f8 = local_1658;
        local_16f0 = CONCAT44(fVar94,fVar96);
        pSVar42 = (SetMB *)*param_3;
        fVar104 = *(float *)(param_3 + 2);
        fVar102 = *(float *)((long)param_3 + 0x14);
        fVar103 = *(float *)(param_3 + 3);
        uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
        fVar76 = *(float *)(param_3 + 4);
        fVar87 = *(float *)((long)param_3 + 0x24);
        fVar59 = *(float *)(param_3 + 5);
        uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
        fVar77 = *(float *)(param_3 + 6);
        fVar84 = *(float *)((long)param_3 + 0x34);
        fVar85 = *(float *)(param_3 + 7);
        uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
        fVar122 = *(float *)(param_3 + 8);
        fVar124 = *(float *)((long)param_3 + 0x44);
        fVar125 = *(float *)(param_3 + 9);
        uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
        pSVar30 = (SetMB *)param_3[0x10];
        pSVar35 = (SetMB *)param_3[0x14];
        fVar65 = *(float *)(param_3 + 0x13);
        fVar52 = *(float *)((long)param_3 + 0x9c);
        local_16e8 = pSVar51;
        goto LAB_00124311;
      }
      if (local_156c != 1) {
        if (local_156c == 3) goto LAB_0012a37b;
        goto LAB_00129877;
      }
      SetMB::deterministic_order(pSVar5);
      local_17b8 = param_3[0xe];
      local_1710 = param_3[0xf];
      pSVar35 = (SetMB *)param_3[0x14];
      local_17b0 = local_17b8 + 1 + local_1710 >> 1;
      fVar76 = _LC3;
      fVar87 = _LC3;
      if (local_17b8 < local_17b0) {
        local_1c70._0_4_ = 0.0;
        local_1c58 = (SetMB *)0x0;
        auVar95._0_12_ = ZEXT812(0);
        auVar95._12_4_ = 0;
        auVar97._8_8_ = 0;
        auVar97._0_8_ = local_1c48._0_8_;
        local_1c48 = auVar97 << 0x40;
        pauVar34 = (undefined1 (*) [16])(local_17b8 * 0x50 + *(long *)(pSVar35 + 0x20));
        local_1bd8 = (undefined1  [8])CONCAT44(_LC8,_LC8);
        uStack_1bd0._0_4_ = _LC8;
        uStack_1bd0._4_4_ = _LC8;
        uStack_1b90._0_4_ = _LC8;
        local_1b98 = local_1bd8;
        uStack_1b90._4_4_ = _LC8;
        local_1bc8 = (undefined1  [8])CONCAT44(_LC10,_LC10);
        uStack_1bc0._0_4_ = _LC10;
        uStack_1bc0._4_4_ = _LC10;
        uStack_1c10._0_4_ = _LC8;
        local_1c18 = local_1bd8;
        uStack_1c10._4_4_ = _LC8;
        uStack_1be0._0_4_ = _LC10;
        local_1be8 = local_1bc8;
        uStack_1be0._4_4_ = _LC10;
        uStack_1c20._0_4_ = _LC10;
        _local_1c28 = (SetMB *)local_1bc8;
        uStack_1c20._4_4_ = _LC10;
        _local_1c08 = _local_1bc8;
        _local_1bf8 = _local_1bd8;
        do {
          local_1c48._0_8_ = local_1c48._0_8_ + (ulong)*(uint *)(pauVar34[2] + 0xc);
          _local_1c28 = minps(_local_1c28,*pauVar34);
          _local_1c18 = maxps(_local_1c18,pauVar34[1]);
          _local_1c08 = minps(_local_1c08,pauVar34[2]);
          _local_1bf8 = maxps(_local_1bf8,pauVar34[3]);
          fVar65 = *(float *)(pauVar34[4] + 4);
          auVar54._0_4_ =
               *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
               *(float *)pauVar34[2] * _LC12 + *(float *)*pauVar34 * _LC12;
          auVar54._4_4_ =
               *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
               *(float *)(pauVar34[2] + 4) * _LC12 + *(float *)(*pauVar34 + 4) * _LC12;
          auVar54._8_4_ =
               *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
               *(float *)(pauVar34[2] + 8) * _LC12 + *(float *)(*pauVar34 + 8) * _LC12;
          auVar54._12_4_ =
               *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
               *(float *)(pauVar34[2] + 0xc) * _LC12 + *(float *)(*pauVar34 + 0xc) * _LC12;
          fVar52 = fVar65;
          if (fVar65 <= auVar95._0_4_) {
            fVar52 = auVar95._0_4_;
          }
          _local_1be8 = minps(_local_1be8,auVar54);
          _local_1b98 = maxps(_local_1b98,auVar54);
          fVar59 = *(float *)pauVar34[4];
          auVar95 = ZEXT416((uint)fVar52);
          if (fVar59 <= fVar87) {
            fVar87 = fVar59;
          }
          if (local_1c58 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
            local_1c70._0_4_ = fVar59;
            fVar76 = fVar65;
            local_1c58 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
          }
          pauVar34 = pauVar34 + 5;
        } while ((undefined1 (*) [16])(*(long *)(pSVar35 + 0x20) + local_17b0 * 0x50) != pauVar34);
      }
      else {
        local_1c70._0_4_ = 0.0;
        local_1c58 = (SetMB *)0x0;
        auVar95 = (undefined1  [16])0x0;
        auVar93._8_8_ = 0;
        auVar93._0_8_ = local_1c48._0_8_;
        local_1c48 = auVar93 << 0x40;
        local_1bd8._4_4_ = _LC8;
        local_1bd8._0_4_ = _LC8;
        uStack_1bd0._0_4_ = _LC8;
        uStack_1bd0._4_4_ = _LC8;
        local_1b98._4_4_ = _LC8;
        local_1b98._0_4_ = _LC8;
        uStack_1b90._0_4_ = _LC8;
        uStack_1b90._4_4_ = _LC8;
        local_1bc8._4_4_ = _LC10;
        local_1bc8._0_4_ = _LC10;
        uStack_1bc0._0_4_ = _LC10;
        uStack_1bc0._4_4_ = _LC10;
        local_1be8._4_4_ = _LC10;
        local_1be8._0_4_ = _LC10;
        uStack_1be0._0_4_ = _LC10;
        uStack_1be0._4_4_ = _LC10;
        auStack_1bf4 = (undefined1  [4])_LC8;
        local_1bf8 = (undefined1  [4])_LC8;
        uStack_1bf0._0_4_ = _LC8;
        uStack_1bf0._4_4_ = _LC8;
        auStack_1c04 = (undefined1  [4])_LC10;
        local_1c08 = (undefined1  [4])_LC10;
        uStack_1c00._0_4_ = _LC10;
        uStack_1c00._4_4_ = _LC10;
        local_1c18._4_4_ = _LC8;
        local_1c18._0_4_ = _LC8;
        uStack_1c10._0_4_ = _LC8;
        uStack_1c10._4_4_ = _LC8;
        auStack_1c24 = (undefined1  [4])_LC10;
        local_1c28 = (undefined1  [4])_LC10;
        uStack_1c20._0_4_ = _LC10;
        uStack_1c20._4_4_ = _LC10;
      }
      local_1748 = _local_1bd8;
      local_1758 = _local_1bc8;
      local_1768 = _local_1bd8;
      local_1778 = _local_1bc8;
      local_1728 = _local_1bd8;
      fVar104 = _LC3;
      fVar102 = _LC3;
      if (local_17b0 < local_1710) {
        fVar103 = 0.0;
        local_1700 = (SetMB *)0x0;
        local_1708 = (SetMB *)0x0;
        pauVar34 = (undefined1 (*) [16])(local_17b0 * 0x50 + *(long *)(pSVar35 + 0x20));
        _local_1b88 = _local_1bc8;
        fVar65 = 0.0;
        do {
          local_1778 = minps(local_1778,*pauVar34);
          local_1768 = maxps(local_1768,pauVar34[1]);
          local_1758 = minps(local_1758,pauVar34[2]);
          local_1748 = maxps(local_1748,pauVar34[3]);
          local_1708 = local_1708 + *(uint *)(pauVar34[2] + 0xc);
          auVar61._0_4_ =
               *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
               *(float *)pauVar34[2] * _LC12 + *(float *)*pauVar34 * _LC12;
          auVar61._4_4_ =
               *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
               *(float *)(pauVar34[2] + 4) * _LC12 + *(float *)(*pauVar34 + 4) * _LC12;
          auVar61._8_4_ =
               *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
               *(float *)(pauVar34[2] + 8) * _LC12 + *(float *)(*pauVar34 + 8) * _LC12;
          auVar61._12_4_ =
               *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
               *(float *)(pauVar34[2] + 0xc) * _LC12 + *(float *)(*pauVar34 + 0xc) * _LC12;
          fVar52 = *(float *)(pauVar34[4] + 4);
          fVar94 = fVar52;
          if (fVar52 <= fVar65) {
            fVar94 = fVar65;
          }
          _local_1b88 = minps(_local_1b88,auVar61);
          local_1728 = maxps(local_1728,auVar61);
          fVar65 = *(float *)pauVar34[4];
          if (fVar65 <= fVar102) {
            fVar102 = fVar65;
          }
          if (local_1700 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
            local_1700 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
            fVar103 = fVar65;
            fVar104 = fVar52;
          }
          pauVar34 = pauVar34 + 5;
          fVar65 = fVar94;
        } while ((undefined1 (*) [16])(*(long *)(pSVar35 + 0x20) + local_1710 * 0x50) != pauVar34);
      }
      else {
        fVar103 = 0.0;
        local_1700 = (SetMB *)0x0;
        local_1708 = (SetMB *)0x0;
        fVar94 = 0.0;
        _local_1b88 = _local_1bc8;
      }
      local_17a8 = (SetMB *)local_1c48._0_8_;
      fVar65 = *(float *)(param_3 + 0x13);
      local_1818 = _local_1c28;
      ppSStack_1810 = uStack_1c20;
      local_1808 = (SetMB *)local_1c18;
      pSStack_1800 = uStack_1c10;
      fVar52 = *(float *)((long)param_3 + 0x9c);
      if (fVar52 <= auVar95._0_4_) {
        auVar95._0_4_ = fVar52;
      }
      if (fVar52 <= fVar94) {
        fVar94 = fVar52;
      }
      local_17f8 = _local_1c08;
      ppSStack_17f0 = uStack_1c00;
      fVar121 = fVar65;
      if (fVar65 <= fVar87) {
        fVar121 = fVar87;
      }
      local_17e8 = _local_1bf8;
      pSStack_17e0 = uStack_1bf0;
      local_17d8 = (SetMB *)local_1be8;
      ppSStack_17d0 = uStack_1be0;
      local_1738 = local_1b88;
      uStack_1730 = uStack_1b80;
      local_17c8 = (SetMB *)local_1b98;
      pSStack_17c0 = uStack_1b90;
      local_1798 = (SetMB *)CONCAT44(fVar76,local_1c70._0_4_);
      local_1790 = CONCAT44(auVar95._0_4_,fVar121);
      pSVar42 = (SetMB *)*param_3;
      fVar76 = *(float *)(param_3 + 4);
      fVar87 = *(float *)((long)param_3 + 0x24);
      fVar59 = *(float *)(param_3 + 5);
      uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
      fVar77 = *(float *)(param_3 + 6);
      fVar84 = *(float *)((long)param_3 + 0x34);
      fVar85 = *(float *)(param_3 + 7);
      uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
      pSVar30 = (SetMB *)param_3[0x10];
      fVar96 = fVar65;
      if (fVar65 <= fVar102) {
        fVar96 = fVar102;
      }
      local_16f8 = (SetMB *)CONCAT44(fVar104,fVar103);
      fVar122 = *(float *)(param_3 + 8);
      fVar124 = *(float *)((long)param_3 + 0x44);
      fVar125 = *(float *)(param_3 + 9);
      uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
      fVar104 = *(float *)(param_3 + 2);
      fVar102 = *(float *)((long)param_3 + 0x14);
      fVar103 = *(float *)(param_3 + 3);
      uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
      local_1c38._0_8_ = local_17b0;
      local_16f0 = CONCAT44(fVar94,fVar96);
      local_1718 = local_17b0;
      local_16e8 = pSVar35;
      local_1c68 = pSVar35;
    }
LAB_001242b9:
    fVar120 = auVar95._0_4_;
    local_1a71 = false;
    local_1b78._0_4_ = (undefined4)local_1798;
    local_1b68 = (undefined1  [4])local_1798._4_4_;
    local_1b58 = (undefined1  [4])(undefined4)local_16f8;
    local_1b48._0_4_ = local_16f8._4_4_;
    uVar41 = local_17b0;
    uVar43 = local_17b8;
    local_17a0 = local_1c58;
    local_1788 = local_1c68;
LAB_00124311:
    pSVar47 = local_16e8;
    pSVar29 = local_1700;
    pSVar51 = local_1708;
    uVar25 = local_1710;
    auVar54 = local_1728;
    auVar97 = local_1748;
    auVar95 = local_1758;
    auVar93 = local_1768;
    auVar91 = local_1778;
    local_1c70 = &local_dd8;
    local_d58[1] = (SetMB *)param_3[0x11];
    local_db8 = (SetMB *)CONCAT44(fVar87,fVar76);
    uStack_db0 = (SetMB *)CONCAT44(uVar90,fVar59);
    local_d88 = param_3[10];
    uStack_d80 = param_3[0xb];
    local_d48 = param_3[0x12];
    local_dc8 = (SetMB *)CONCAT44(fVar102,fVar104);
    uStack_dc0 = CONCAT44(uVar92,fVar103);
    local_d78[0] = (SetMB *)param_3[0xc];
    local_d78[1] = (SetMB *)param_3[0xd];
    local_d68 = param_3[0xe];
    uStack_d60 = param_3[0xf];
    local_258 = 1;
    local_50 = 1;
    local_250 = pSVar35;
    local_248 = 2;
    local_2d8[0] = &local_250;
    local_da8 = (SetMB *)CONCAT44(fVar84,fVar77);
    uStack_da0 = (SetMB **)CONCAT44(uVar86,fVar85);
    local_d98 = (SetMB *)CONCAT44(fVar124,fVar122);
    uStack_d90 = (SetMB *)CONCAT44(uVar58,fVar125);
    if (pSVar35 == local_1c68) {
      lVar45 = 0xb98;
      lVar40 = 2;
      lVar38 = 1;
      local_248 = 3;
      lVar46 = 3;
    }
    else {
      lVar40 = 3;
      lVar38 = 2;
      local_50 = 2;
      lVar46 = 2;
      local_238 = 1;
      local_240 = local_1c68;
      local_2d8[0] = &local_240;
      lVar45 = 0xba8;
    }
    if (pSVar35 == local_16e8) {
      local_2d8[1] = &local_250;
      local_248 = lVar46;
LAB_00127b22:
      lVar38 = 0xb0;
      lVar45 = 4;
    }
    else {
      local_50 = lVar40;
      (&local_250)[lVar38 * 2] = local_16e8;
      (&local_248)[lVar38 * 2] = 1;
      local_248 = local_248 + -1;
      local_2d8[1] = (SetMB **)(lVar45 + (long)local_1c70);
      if ((local_248 != 0) || (pSVar35 == (SetMB *)0x0)) goto LAB_00127b22;
      pvVar3 = *(void **)(pSVar35 + 0x20);
      lVar45 = *(long *)(pSVar35 + 0x18);
      local_dd8 = pSVar42;
      local_d58[0] = pSVar30;
      local_d40[0] = fVar65;
      local_d40[1] = fVar52;
      local_d38[0] = pSVar35;
      if (pvVar3 != (void *)0x0) {
        local_1af8._0_8_ = uVar43;
        if ((ulong)(lVar45 * 0x50) < 0x1c00000) {
          embree::alignedFree(pvVar3);
        }
        else {
          embree::os_free(pvVar3,lVar45 * 0x50,(bool)pSVar35[8]);
        }
      }
      if (lVar45 != 0) {
        local_1af8._0_8_ = uVar41;
        (**(code **)**(undefined8 **)pSVar35)(*(undefined8 **)pSVar35,lVar45 * -0x50,1);
      }
      local_1af8._0_4_ = fVar120;
      operator_delete(pSVar35,0x28);
      lVar45 = local_258 * 4;
      lVar38 = local_258 * 0xb0;
    }
    local_dd8 = pSVar42 + 1;
    local_d68 = uVar43;
    local_d58[0] = (SetMB *)local_1c48._0_8_;
    local_dc8 = _local_1c28;
    uStack_dc0 = uStack_1c20;
    local_db8 = (SetMB *)local_1c18;
    uStack_db0 = uStack_1c10;
    local_d58[1] = local_1c58;
    local_da8 = _local_1c08;
    uStack_da0 = uStack_1c00;
    local_d98 = _local_1bf8;
    uStack_d90 = uStack_1bf0;
    local_d38[0] = local_1c68;
    local_d88 = (long)local_1be8;
    uStack_d80 = (long)uStack_1be0;
    local_d78[0] = (SetMB *)local_1b98;
    local_d78[1] = uStack_1b90;
    local_d48 = CONCAT44(local_1b68,local_1b78._0_4_);
    uStack_d60 = uVar41;
    local_d40[0] = fVar121;
    local_d40[1] = fVar120;
    (&local_dd8)[(lVar45 * 2 + local_258 * 3) * 2] = pSVar42 + 1;
    *(undefined1 (*) [16])((long)&local_dc8 + lVar38) = auVar91;
    *(undefined1 (*) [16])((long)&local_db8 + lVar38) = auVar93;
    *(undefined1 (*) [16])((long)&local_da8 + lVar38) = auVar95;
    *(undefined1 (*) [16])((long)&local_d98 + lVar38) = auVar97;
    *(ulong *)((long)&uStack_d60 + lVar38) = uVar25;
    *(undefined1 (*) [8])((long)&local_d88 + lVar38) = local_1b88;
    *(undefined8 *)((long)&uStack_d80 + lVar38) = uStack_1b80;
    *(undefined8 *)((long)&local_d68 + lVar38) = local_1c38._0_8_;
    *(SetMB **)((long)local_d58 + lVar38) = pSVar51;
    *(SetMB **)((long)local_d58 + lVar38 + 8) = pSVar29;
    *(SetMB **)((long)local_d38 + lVar38) = pSVar47;
    *(undefined1 (*) [16])((long)local_d78 + lVar38) = auVar54;
    *(undefined1 (*) [4])((long)&local_d48 + lVar38) = local_1b58;
    *(undefined4 *)((long)&local_d48 + lVar38 + 4) = local_1b48._0_4_;
    *(float *)((long)local_d40 + lVar38) = fVar96;
    *(float *)((long)local_d38 + lVar38 + -4) = fVar94;
    local_258 = local_258 + 1;
    if (local_258 < *param_2) {
      do {
        auVar23 = _auStack_1c04;
        auVar22 = local_1c48._4_12_;
        pHVar27 = local_1628;
        if (local_258 == 0) goto LAB_001255b9;
        uVar39 = 0;
        pfVar26 = (float *)&local_dc8;
        uVar25 = 0xffffffffffffffff;
        fVar65 = _LC8;
        do {
          if ((param_2[3] < (ulong)(*(long *)(pfVar26 + 0x1a) - *(long *)(pfVar26 + 0x18))) &&
             (fVar52 = (((pfVar26[5] - pfVar26[1]) + (pfVar26[6] - pfVar26[2])) *
                        (pfVar26[4] - *pfVar26) +
                        (pfVar26[5] - pfVar26[1]) * (pfVar26[6] - pfVar26[2]) +
                       (pfVar26[0xc] - pfVar26[8]) *
                       ((pfVar26[0xd] - pfVar26[9]) + (pfVar26[0xe] - pfVar26[10])) +
                       (pfVar26[0xd] - pfVar26[9]) * (pfVar26[0xe] - pfVar26[10])) * _LC12,
             fVar65 < fVar52)) {
            uVar25 = uVar39;
            fVar65 = fVar52;
          }
          uVar39 = uVar39 + 1;
          pfVar26 = pfVar26 + 0x2c;
        } while (uVar39 != local_258);
        if (uVar25 == 0xffffffffffffffff) goto LAB_00125540;
        pHVar27 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)(*param_3 + 1);
        lVar45 = uVar25 * 0xb0;
        pSVar30 = (SetMB *)(&local_dc8 + uVar25 * 0x16);
        local_16d8 = pHVar27;
        local_1628 = pHVar27;
        HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::find
                  ((HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_1538,pSVar30,param_2[2]
                  );
        fVar65 = local_1538;
        fVar76 = *(float *)((long)&local_db8 + lVar45 + 4) -
                 *(float *)((long)&local_dc8 + lVar45 + 4);
        fVar52 = *(float *)((long)&local_d98 + lVar45 + 4) -
                 *(float *)((long)&local_da8 + lVar45 + 4);
        local_1bf8 = (undefined1  [4])local_1538;
        bVar6 = (byte)param_2[2];
        fVar87 = *(float *)((long)local_d38 + lVar45 + -4) - local_d40[uVar25 * 0x2c];
        local_1c58 = (SetMB *)pHVar27;
        if (((fVar76 + (*(float *)(&uStack_db0 + uVar25 * 0x16) -
                       *(float *)(&uStack_dc0 + uVar25 * 0x16))) *
             (*(float *)(&local_db8 + uVar25 * 0x16) - *(float *)pSVar30) +
             fVar76 * (*(float *)(&uStack_db0 + uVar25 * 0x16) -
                      *(float *)(&uStack_dc0 + uVar25 * 0x16)) +
            (*(float *)(&local_d98 + uVar25 * 0x16) - *(float *)(&local_da8 + uVar25 * 0x16)) *
            (fVar52 + (*(float *)(&uStack_d90 + uVar25 * 0x16) -
                      *(float *)(&uStack_da0 + uVar25 * 0x16))) +
            fVar52 * (*(float *)(&uStack_d90 + uVar25 * 0x16) -
                     *(float *)(&uStack_da0 + uVar25 * 0x16))) * _LC12 * fVar87 *
            (float)((ulong)(local_d58[uVar25 * 0x16] + (1L << (bVar6 & 0x3f)) + -1) >>
                   (bVar6 & 0x3f)) * _LC12 <= local_1538) {
          if (fVar87 <= _LC41 / (float)local_d58[uVar25 * 0x16 + 1]) {
LAB_001268df:
            local_1460 = CONCAT44(local_152c,local_1530);
            local_1448 = (SetMB *)CONCAT44(uStack_1514,local_1518);
            uStack_1440 = (SetMB *)CONCAT44(uStack_150c,uStack_1510);
            pSVar42 = local_1658;
            pSVar51 = local_1650;
            uVar32 = local_1590;
            goto joined_r0x0012694d;
          }
          uStack_14f0 = 0;
          local_14f8 = (SetMB *)0x0;
          local_14a8 = (SetMB *)local_1bc8;
          ppSStack_14a0 = uStack_1bc0;
          local_1498 = (SetMB *)local_1bd8;
          pSStack_1490 = uStack_1bd0;
          local_1488 = (SetMB *)local_1bc8;
          ppSStack_1480 = uStack_1bc0;
          local_1938 = *(SetMB **)(local_d40 + uVar25 * 0x2c);
          local_1478 = (SetMB *)local_1bd8;
          pSStack_1470 = uStack_1bd0;
          uVar39 = (&uStack_d60)[uVar25 * 0x16] - (&local_d68)[uVar25 * 0x16];
          local_14e8 = (SetMB *)local_1bc8;
          ppSStack_14e0 = uStack_1bc0;
          local_14d8 = (SetMB *)local_1bd8;
          pSStack_14d0 = uStack_1bd0;
          local_14c8 = (SetMB *)local_1bc8;
          ppSStack_14c0 = uStack_1bc0;
          local_14b8 = (SetMB *)local_1bd8;
          pSStack_14b0 = uStack_1bd0;
          local_19c8 = *(SetMB **)(local_d38[uVar25 * 0x16] + 0x20);
          if (uVar39 < 0xc00) {
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::TemporalBinInfo::bin((TemporalBinInfo_conflict *)&local_14f8);
            ppSStack_1b70 = ppSStack_14e0;
            local_1b78 = (undefined1  [8])local_14e8;
            pSStack_1b60 = pSStack_14d0;
            _local_1b68 = local_14d8;
            ppSStack_1b50 = ppSStack_14c0;
            _local_1b58 = (ulong)local_14c8;
            pSStack_1b40 = pSStack_14b0;
            local_1b48 = (undefined1  [8])local_14b8;
            ppSStack_1b30 = ppSStack_14a0;
            local_1b38 = local_14a8;
            pSStack_1b20 = pSStack_1490;
            local_1b28 = local_1498;
            ppSStack_1b10 = ppSStack_1480;
            local_1b18 = local_1488;
            pSStack_1b00 = pSStack_1470;
            local_1b08 = local_1478;
            lVar38 = uStack_14f0;
            pSVar42 = local_14f8;
          }
          else {
            local_1388 = (SetMB *)local_1bc8;
            ppSStack_1380 = uStack_1bc0;
            local_18a8 = (SetMB *)&local_19c8;
            ppSStack_18a0 = &local_1938;
            uStack_13d0 = 0;
            local_13d8 = (SetMB *)0x0;
            local_1378 = (SetMB *)local_1bd8;
            pSStack_1370 = uStack_1bd0;
            local_1368 = (SetMB *)local_1bc8;
            uStack_1360 = uStack_1bc0;
            local_1358 = (SetMB *)local_1bd8;
            uStack_1350 = uStack_1bd0;
            local_13c8 = (SetMB *)local_1bc8;
            uStack_13c0 = uStack_1bc0;
            local_13b8 = (SetMB *)local_1bd8;
            uStack_13b0 = uStack_1bd0;
            local_13a8 = (SetMB *)local_1bc8;
            uStack_13a0 = uStack_1bc0;
            local_1398 = (SetMB *)local_1bd8;
            uStack_1390 = uStack_1bd0;
            local_1898 = pSVar30;
            pSStack_1890 = (SetMB *)(param_2 + 10);
            parallel_reduce_internal<unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo::bin_parallel(embree::PrimRefMB_const*,unsigned_long,unsigned_long,unsigned_long,unsigned_long,embree::BBox<float>,embree::SetMB_const&,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const(embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::TemporalBinInfo_const&)>
                      ((ulong)&local_1468,uVar39 + 0x3ff >> 10,(&local_d68)[uVar25 * 0x16],
                       (&uStack_d60)[uVar25 * 0x16],(TemporalBinInfo_conflict *)&local_13d8,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_18a8,
                       HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
                       ::TemporalBinInfo::merge2);
            ppSStack_1b70._4_4_ = fStack_144c;
            ppSStack_1b70._0_4_ = fStack_1450;
            local_1b78 = (undefined1  [8])local_1458;
            pSStack_1b60 = uStack_1440;
            _local_1b68 = local_1448;
            ppSStack_1b50 = uStack_1430;
            _local_1b58 = (ulong)local_1438;
            local_1b48._4_4_ = fStack_1424;
            local_1b48._0_4_ = local_1428;
            pSStack_1b40._4_4_ = fStack_141c;
            pSStack_1b40._0_4_ = fStack_1420;
            local_1b38._4_4_ = fStack_1414;
            local_1b38._0_4_ = local_1418;
            ppSStack_1b30._4_4_ = fStack_140c;
            ppSStack_1b30._0_4_ = fStack_1410;
            local_1b28._4_4_ = fStack_1404;
            local_1b28._0_4_ = local_1408;
            pSStack_1b20._4_4_ = fStack_13fc;
            pSStack_1b20._0_4_ = fStack_1400;
            local_1b18._4_4_ = fStack_13f4;
            local_1b18._0_4_ = local_13f8;
            ppSStack_1b10._4_4_ = fStack_13ec;
            ppSStack_1b10._0_4_ = fStack_13f0;
            local_1b08._4_4_ = fStack_13e4;
            local_1b08._0_4_ = local_13e8;
            pSStack_1b00._4_4_ = fStack_13dc;
            pSStack_1b00._0_4_ = fStack_13e0;
            lVar38 = local_1460;
            pSVar42 = local_1468;
          }
          auVar24 = local_1af8._4_12_;
          auVar79._12_4_ = 0;
          auVar79._0_12_ = local_1af8._4_12_;
          local_1af8._0_16_ = auVar79 << 0x20;
          local_1b88._0_4_ = 0x7f800000;
          fVar52 = *(float *)((long)local_d38 + lVar45 + -4);
          fVar76 = local_d40[uVar25 * 0x2c];
          lVar40 = (1L << (bVar6 & 0x3f)) + -1;
          fVar87 = *(float *)(&local_d48 + uVar25 * 0x16);
          uVar39 = (ulong)(lVar38 + lVar40) >> (bVar6 & 0x3f);
          fVar59 = *(float *)((long)&local_d48 + lVar45 + 4) - fVar87;
          uVar48 = (ulong)(pSVar42 + lVar40) >> (bVar6 & 0x3f);
          pSVar42 = local_d58[uVar25 * 0x16 + 1];
          fVar104 = roundf((((_LC12 * fVar52 + _LC12 * fVar76) - fVar87) / fVar59) * (float)pSVar42)
          ;
          fVar87 = (fVar104 / (float)pSVar42) * fVar59 + fVar87;
          if ((fVar76 < fVar87) && (fVar87 < fVar52)) {
            fVar76 = ((((float)auStack_1b64 - (float)local_1b78._4_4_) +
                      (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_)) *
                      ((float)local_1b68 - (float)local_1b78._0_4_) +
                      ((float)auStack_1b64 - (float)local_1b78._4_4_) *
                      (pSStack_1b60._0_4_ - ppSStack_1b70._0_4_) +
                     ((float)local_1b48._4_4_ - (float)auStack_1b54) *
                     (pSStack_1b40._0_4_ - ppSStack_1b50._0_4_) +
                     ((float)local_1b48._0_4_ - (float)local_1b58) *
                     (((float)local_1b48._4_4_ - (float)auStack_1b54) +
                     (pSStack_1b40._0_4_ - ppSStack_1b50._0_4_))) * _LC12 * (float)uVar48 *
                     (fVar87 - fVar76);
            fVar52 = (((local_1b28._4_4_ - local_1b38._4_4_) +
                      (pSStack_1b20._0_4_ - ppSStack_1b30._0_4_)) *
                      ((float)local_1b28 - (float)local_1b38) +
                      (local_1b28._4_4_ - local_1b38._4_4_) *
                      (pSStack_1b20._0_4_ - ppSStack_1b30._0_4_) +
                     (local_1b08._4_4_ - local_1b18._4_4_) *
                     (pSStack_1b00._0_4_ - ppSStack_1b10._0_4_) +
                     ((float)local_1b08 - (float)local_1b18) *
                     ((local_1b08._4_4_ - local_1b18._4_4_) +
                     (pSStack_1b00._0_4_ - ppSStack_1b10._0_4_))) * _LC12 * (float)uVar39 *
                     (fVar52 - fVar87);
            if (uVar48 == 0) {
              fVar76 = 0.0;
            }
            if (uVar39 == 0) {
              fVar52 = 0.0;
            }
            if (fVar76 + fVar52 < INFINITY) {
              local_1af8._0_4_ = fVar87;
              local_1af8._0_16_ = CONCAT124(auVar24,local_1af8._0_4_);
              local_1b88._0_4_ = fVar76 + fVar52;
            }
          }
          uStack_13d0 = CONCAT44(uStack_13d0._4_4_,local_1af8._0_4_);
          if (fVar65 <= _LC42 * (float)local_1b88._0_4_) goto LAB_001268df;
          local_1460 = CONCAT44(2,local_1af8._0_4_);
          local_1468 = (SetMB *)(ulong)(uint)(_LC42 * (float)local_1b88._0_4_);
          local_1458 = local_13c8;
          local_1448 = local_13b8;
          uStack_1440 = uStack_13b0;
          local_1438 = local_13a8;
          uStack_1430 = uStack_13a0;
LAB_00126f49:
          puVar28 = param_2 + 9;
          local_1a38 = local_d40[uVar25 * 0x2c];
          local_1c48._0_8_ = puVar28;
          local_1a34 = (float)local_1460;
          local_1a30 = (float)local_1460;
          local_1a2c = *(float *)((long)local_d38 + lVar45 + -4);
          pSVar35 = local_d38[uVar25 * 0x16];
          pSVar29 = (SetMB *)operator_new(0x28);
          ppSVar37 = (SetMB **)(&uStack_d60)[uVar25 * 0x16];
          puVar33 = (undefined8 *)param_2[9];
          pSVar42 = (SetMB *)(&local_d68)[uVar25 * 0x16];
          pSVar29[8] = (SetMB)0x0;
          *(undefined8 **)pSVar29 = puVar33;
          *(ulong *)(pSVar29 + 0x10) = 0;
          *(ulong *)(pSVar29 + 0x18) = 0;
          *(ulong *)(pSVar29 + 0x20) = 0;
          uVar39 = (long)ppSVar37 - (long)pSVar42;
          if (uVar39 != 0) {
            uVar48 = uVar39 * 0x50;
            (**(code **)*puVar33)(puVar33,uVar48,0);
            if (uVar48 < 0x1c00000) {
              uVar48 = embree::alignedMalloc(uVar48,0x10);
            }
            else {
              uVar48 = embree::os_malloc(uVar48,(bool *)(pSVar29 + 8));
            }
            ppSVar37 = (SetMB **)(&uStack_d60)[uVar25 * 0x16];
            pSVar42 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            *(ulong *)(pSVar29 + 0x20) = uVar48;
            *(ulong *)(pSVar29 + 0x10) = uVar39;
            *(ulong *)(pSVar29 + 0x18) = uVar39;
            uVar39 = (long)ppSVar37 - (long)pSVar42;
          }
          local_19e0 = &local_1a40;
          local_1848 = 0;
          local_1840 = 0;
          local_1838 = (SetMB *)0x0;
          local_1830 = (SetMB *)0x0;
          local_1828 = (SetMB *)0x3f80000000000000;
          local_1820 = 0x3f800000;
          local_18a8 = (SetMB *)local_1bc8;
          ppSStack_18a0 = uStack_1bc0;
          local_1898 = (SetMB *)local_1bd8;
          pSStack_1890 = uStack_1bd0;
          local_1888 = (SetMB *)local_1bc8;
          ppSStack_1880 = uStack_1bc0;
          local_1878 = (SetMB *)local_1bd8;
          pSStack_1870 = uStack_1bd0;
          local_1868 = (SetMB *)local_1bc8;
          ppSStack_1860 = uStack_1bc0;
          local_1858 = (SetMB *)local_1bd8;
          pSStack_1850 = uStack_1bd0;
          local_1a40 = pSVar29;
          local_19f8 = pSVar35;
          local_19f0 = (SetMB *)&local_1a38;
          local_19e8 = puVar28;
          local_19d8 = pSVar30;
          if (uVar39 < 0xc00) {
            local_1938 = pSVar42;
            ppSStack_1930 = ppSVar37;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                      ((_lambda_embree__range<unsigned_long>const___1_ *)&local_19c8,
                       (range *)&local_19f8);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_1_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((ulong)&local_19c8,uVar39 + 0x7f >> 7,(ulong)pSVar42,(ulong)ppSVar37,
                       (PrimInfoMBT_conflict *)&local_18a8,
                       (_lambda_embree__range<unsigned_long>_const___1_ *)&local_19f8,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          local_1c38._0_8_ = &local_1938;
          uVar39 = (&uStack_d60)[uVar25 * 0x16];
          pSVar30 = (SetMB *)(&local_d68)[uVar25 * 0x16];
          uVar48 = uVar39 - (long)pSVar30;
          if ((long)local_1960 - (long)local_1968 != uVar48) {
            local_18a8 = (SetMB *)&local_1a38;
            local_1960 = (SetMB *)parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_>
                                            (*(PrimRefMB **)(local_1a40 + 0x20),0,uVar48,0x400,
                                             (_lambda_embree__PrimRefMB_const___1_ *)&local_18a8);
            uVar39 = (&uStack_d60)[uVar25 * 0x16];
            pSVar30 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            uVar48 = uVar39 - (long)pSVar30;
          }
          pSVar51 = local_1950;
          pSVar42 = local_1958;
          uVar32 = uStack_1970;
          pSVar47 = local_1a40;
          _local_1c28 = pSVar29;
          local_1668 = local_1968;
          fVar65 = local_193c;
          if (local_1a34 <= local_193c) {
            fVar65 = local_1a34;
          }
          fVar52 = local_1a38;
          if (local_1a38 <= local_1940) {
            fVar52 = local_1940;
          }
          local_1c18._0_4_ = local_1944;
          local_1658 = local_1958;
          local_1650 = local_1950;
          local_1638 = local_1a40;
          uStack_16c0 = (SetMB *)pHStack_19c0;
          local_16c8 = (undefined1  [8])local_19c8;
          local_1c28 = (undefined1  [4])local_1948;
          uStack_16b0 = (SetMB **)uStack_19b0;
          local_16b8 = (undefined1  [8])local_19b8;
          uStack_16a0 = (SetMB *)uStack_19a0;
          local_16a8 = (undefined1  [8])local_19a8;
          uStack_1690 = (SetMB **)uStack_1990;
          local_1698 = (undefined1  [8])local_1998;
          uStack_1680 = (SetMB *)uStack_1980;
          local_1688 = (undefined1  [8])local_1988;
          local_1678._8_8_ = uStack_1970;
          local_1678._0_8_ = local_1978;
          local_1648 = (SetMB *)CONCAT44(local_1944,local_1948);
          local_1640 = CONCAT44(fVar65,fVar52);
          local_1848 = 0;
          local_1840 = 0;
          local_1838 = (SetMB *)0x0;
          local_1830 = (SetMB *)0x0;
          local_1828 = (SetMB *)0x3f80000000000000;
          local_1820 = 0x3f800000;
          _local_1c08 = pSVar29;
          local_18a8 = (SetMB *)local_1bc8;
          ppSStack_18a0 = uStack_1bc0;
          local_1898 = (SetMB *)local_1bd8;
          pSStack_1890 = uStack_1bd0;
          local_1888 = (SetMB *)local_1bc8;
          ppSStack_1880 = uStack_1bc0;
          local_1878 = (SetMB *)local_1bd8;
          pSStack_1870 = uStack_1bd0;
          local_1868 = (SetMB *)local_1bc8;
          ppSStack_1860 = uStack_1bc0;
          local_1858 = (SetMB *)local_1bd8;
          pSStack_1850 = uStack_1bd0;
          pSStack_1b40 = (SetMB *)uStack_1970;
          local_1b48 = (undefined1  [8])local_1978;
          auVar117 = _local_1b48;
          ppSStack_1b50 = (SetMB **)uStack_1980;
          _local_1b58 = local_1988;
          auVar123 = _local_1b58;
          pSStack_1b60 = (SetMB *)uStack_1990;
          _local_1b68 = local_1998;
          auVar101 = _local_1b68;
          ppSStack_1b70 = (SetMB **)uStack_19a0;
          local_1b78 = (undefined1  [8])local_19a8;
          auVar109 = _local_1b78;
          uStack_1b80 = uStack_19b0;
          local_1b88 = (undefined1  [8])local_19b8;
          auVar114 = _local_1b88;
          uStack_1bf0 = (SetMB *)pHStack_19c0;
          _local_1bf8 = local_19c8;
          auVar111 = _local_1bf8;
          local_1a18 = pSVar35;
          local_1a10 = (SetMB *)&local_1a30;
          local_1a08 = puVar28;
          pSStack_1660 = local_1960;
          if (uVar48 < 0xc00) {
            local_1a28 = pSVar30;
            local_1a20 = uVar39;
            HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>
            ::
            split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)
            ::{lambda(embree::range<unsigned_long>const&)#3}::operator()
                      ((_lambda_embree__range<unsigned_long>const___3_ *)local_1c38._0_8_,
                       (range *)&local_1a18);
          }
          else {
            parallel_reduce_internal<unsigned_long,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::range<unsigned_long>const&)_3_,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)>
                      ((embree *)local_1c38._0_8_,uVar48 + 0x7f >> 7,(ulong)pSVar30,uVar39,0x80,
                       (PrimInfoMBT_conflict *)&local_18a8,
                       (_lambda_embree__range<unsigned_long>_const___3_ *)&local_1a18,
                       PrimInfoMBT<embree::LBBox<embree::Vec3fa>>::merge2);
          }
          pSVar36 = (SetMB *)(&local_d68)[uVar25 * 0x16];
          lVar38 = (long)local_18d0 - (long)local_18d8;
          pSVar30 = pSVar36 + lVar38;
          local_18d8 = pSVar36;
          local_18d0 = pSVar30;
          if (lVar38 != (&uStack_d60)[uVar25 * 0x16] - (long)pSVar36) {
            pSStack_1b40 = (SetMB *)uVar32;
            local_1b48 = (undefined1  [8])pSVar42;
            _local_1b58 = auVar117;
            _local_1b68 = auVar123;
            _local_1b78 = auVar101;
            _local_1b88 = auVar109;
            _local_1bf8 = auVar114;
            _auStack_1c04 = auVar111._4_12_;
            local_18a8 = (SetMB *)&local_1a30;
            pSVar30 = (SetMB *)parallel_filter<embree::PrimRefMB,unsigned_long,embree::sse2::HeuristicMBlurTemporalSplit<embree::PrimRefMB,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,2ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_4_>
                                         (*(PrimRefMB **)(pSVar35 + 0x20),(ulong)pSVar36,
                                          (&uStack_d60)[uVar25 * 0x16],0x400,
                                          (_lambda_embree__PrimRefMB_const___4_ *)&local_18a8);
          }
          uStack_1600 = pSStack_1920;
          local_1608 = (undefined1  [8])local_1928;
          local_1c38._8_8_ = pSStack_18e0;
          local_1c38._0_8_ = local_18e8;
          auVar118 = (undefined1  [4])local_18b0._4_4_;
          if (local_1a2c <= local_18b0._4_4_) {
            auVar118 = (undefined1  [4])local_1a2c;
          }
          local_1c48._0_4_ = local_18b8._4_4_;
          uStack_15f0 = ppSStack_1910;
          local_15f8 = (undefined1  [8])local_1918;
          local_1c08 = (undefined1  [4])(undefined4)local_18b8;
          fVar76 = local_1a30;
          if (local_1a30 <= (float)local_18b0) {
            fVar76 = (float)local_18b0;
          }
          uStack_1610 = ppSStack_1930;
          local_1618 = (undefined1  [8])local_1938;
          uStack_15e0 = pSStack_1900;
          local_15e8 = (undefined1  [8])local_1908;
          uStack_15d0 = ppSStack_18f0;
          local_15d8 = (undefined1  [8])local_18f8;
          local_1bf8 = (undefined1  [4])(undefined4)local_18b8;
          local_15c8 = local_18e8;
          pSStack_15c0 = pSStack_18e0;
          local_15a8 = local_18c8;
          local_15a0 = local_18c0;
          local_1598 = local_18b8;
          local_1a71 = (bool)(local_1a71 | pSVar29 != (SetMB *)0x0);
          local_1590 = CONCAT44(auVar118,fVar76);
          local_15b8 = local_18d8;
          uStack_15b0 = pSVar30;
          uVar32 = local_1590;
          local_1588 = pSVar35;
        }
        else {
          local_1448 = (SetMB *)CONCAT44(uStack_1514,local_1518);
          uStack_1440 = (SetMB *)CONCAT44(uStack_150c,uStack_1510);
          local_1460 = CONCAT44(local_152c,local_1530);
          pSVar42 = local_1658;
          pSVar51 = local_1650;
          uVar32 = local_1590;
joined_r0x0012694d:
          local_1468 = (SetMB *)CONCAT44(local_1534,fVar65);
          local_1658 = pSVar42;
          local_1650 = pSVar51;
          local_1590 = uVar32;
          local_1458 = local_1528;
          local_1438 = local_1508;
          uStack_1430 = ppSStack_1500;
          if (local_152c == 0) {
            pSVar30 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            pSVar35 = (SetMB *)(&uStack_d60)[uVar25 * 0x16];
            local_18b8 = (SetMB *)0x3f80000000000000;
            local_1828 = (SetMB *)0x3f80000000000000;
            local_1928 = (SetMB *)local_1bd8;
            pSStack_1920 = uStack_1bd0;
            lVar38 = (long)(1 << ((byte)local_1534 & 0x1f));
            local_1908 = (SetMB *)local_1bd8;
            pSStack_1900 = uStack_1bd0;
            local_18e8 = (SetMB *)local_1bd8;
            pSStack_18e0 = uStack_1bd0;
            local_1898 = (SetMB *)local_1bd8;
            pSStack_1890 = uStack_1bd0;
            local_1878 = (SetMB *)local_1bd8;
            pSStack_1870 = uStack_1bd0;
            local_1858 = (SetMB *)local_1bd8;
            pSStack_1850 = uStack_1bd0;
            local_1938 = (SetMB *)local_1bc8;
            ppSStack_1930 = uStack_1bc0;
            local_1918 = (SetMB *)local_1bc8;
            ppSStack_1910 = uStack_1bc0;
            local_18f8 = (SetMB *)local_1bc8;
            ppSStack_18f0 = uStack_1bc0;
            local_18a8 = (SetMB *)local_1bc8;
            ppSStack_18a0 = uStack_1bc0;
            local_1888 = (SetMB *)local_1bc8;
            ppSStack_1880 = uStack_1bc0;
            local_1868 = (SetMB *)local_1bc8;
            ppSStack_1860 = uStack_1bc0;
            local_13d8 = (SetMB *)(&mm_lookupmask_ps)[lVar38 * 2];
            uStack_13d0 = *(long *)(embree::os_free + lVar38 * 0x10);
            local_19c8 = (SetMB *)&local_1468;
            local_18d8 = (SetMB *)0x0;
            local_18d0 = (SetMB *)0x0;
            local_18c8 = (SetMB *)0x0;
            local_18c0 = (SetMB *)0x0;
            local_18b0 = 0x3f800000;
            local_1848 = 0;
            local_1840 = 0;
            local_1838 = (SetMB *)0x0;
            local_1830 = (SetMB *)0x0;
            local_1820 = 0x3f800000;
            local_14f8 = (SetMB *)CONCAT44((float)local_1460,(float)local_1460);
            uStack_14f0 = CONCAT44((float)local_1460,(float)local_1460);
            local_19b8 = (SetMB *)&local_13d8;
            local_1c48._0_8_ = pSVar30;
            pHStack_19c0 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)&local_14f8;
            pSStack_1660 = (SetMB *)parallel_partitioning<embree::PrimRefMB,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>,embree::EmptyTy,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimRefMB_const&)_1_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimRefMB_const&)_2_,embree::sse2::HeuristicArrayBinningMB<embree::PrimRefMB,32ul>::split(embree::sse2::BinSplit<32ul>const&,embree::SetMB_const&,embree::SetMB&,embree::SetMB&)::_lambda(embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>&,embree::PrimInfoMBT<embree::LBBox<embree::Vec3fa>>const&)_3_>
                                              (*(PrimRefMB **)(local_d38[uVar25 * 0x16] + 0x20),
                                               (ulong)pSVar30,(ulong)pSVar35,(EmptyTy *)&local_19f8,
                                               (PrimInfoMBT_conflict *)&local_1938,
                                               (PrimInfoMBT_conflict *)&local_18a8,
                                               (_lambda_embree__PrimRefMB_const___1_ *)&local_19c8,
                                               (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimRefMB_const___2_
                                                *)&local_1a28,
                                               (_lambda_embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>__embree__PrimInfoMBT<embree::LBBox<embree::Vec3fa>_>_const___3_
                                                *)&local_1a18,0x80,0xc00);
            pSVar47 = local_d38[uVar25 * 0x16];
            auVar111._8_8_ = ppSStack_1930;
            auVar111._0_8_ = local_1938;
            auVar114._8_8_ = pSStack_1920;
            auVar114._0_8_ = local_1928;
            auVar109._8_8_ = ppSStack_1910;
            auVar109._0_8_ = local_1918;
            local_1648 = local_18b8;
            pSVar29 = local_1648;
            auVar101._8_8_ = pSStack_1900;
            auVar101._0_8_ = local_1908;
            auVar123._8_8_ = ppSStack_18f0;
            auVar123._0_8_ = local_18f8;
            auVar117._8_8_ = pSStack_18e0;
            auVar117._0_8_ = local_18e8;
            fVar65 = *(float *)((long)local_d38 + uVar25 * 0xb0 + -4);
            local_1658 = local_18c8;
            fVar76 = local_d40[uVar25 * 0x2c];
            local_1650 = local_18c0;
            local_1640._4_4_ = (float)((ulong)local_18b0 >> 0x20);
            if (fVar65 <= local_1640._4_4_) {
              local_1640._4_4_ = fVar65;
            }
            local_1640._0_4_ = (float)local_18b0;
            fVar52 = fVar76;
            if (fVar76 <= (float)local_1640) {
              fVar52 = (float)local_1640;
            }
            local_1640 = CONCAT44(local_1640._4_4_,fVar52);
            uStack_1610 = ppSStack_18a0;
            local_1618 = (undefined1  [8])local_18a8;
            uStack_1600 = pSStack_1890;
            local_1608 = (undefined1  [8])local_1898;
            local_1598 = local_1828;
            pSVar36 = local_1598;
            local_1c38._8_8_ = pSStack_1850;
            local_1c38._0_8_ = local_1858;
            uStack_15f0 = ppSStack_1880;
            local_15f8 = (undefined1  [8])local_1888;
            uStack_15e0 = pSStack_1870;
            local_15e8 = (undefined1  [8])local_1878;
            uStack_15d0 = ppSStack_1860;
            local_15d8 = (undefined1  [8])local_1868;
            local_15c8 = local_1858;
            pSStack_15c0 = pSStack_1850;
            local_1590._4_4_ = (float)((ulong)local_1820 >> 0x20);
            if (fVar65 <= local_1590._4_4_) {
              local_1590._4_4_ = fVar65;
            }
            local_15a8 = local_1838;
            local_1590._0_4_ = (float)local_1820;
            if (fVar76 <= (float)local_1590) {
              fVar76 = (float)local_1590;
            }
            local_15a0 = local_1830;
            local_1648._0_4_ = SUB84(local_18b8,0);
            local_1c28 = (undefined1  [4])(undefined4)local_1648;
            local_1648._4_4_ = (undefined4)((ulong)local_18b8 >> 0x20);
            local_1590 = CONCAT44(local_1590._4_4_,fVar76);
            local_1c18._0_4_ = local_1648._4_4_;
            local_1598._0_4_ = SUB84(local_1828,0);
            local_1c08 = (undefined1  [4])(undefined4)local_1598;
            _local_1c08 = CONCAT124(auVar23,local_1c08);
            local_1598._4_4_ = (undefined4)((ulong)local_1828 >> 0x20);
            local_1c48._0_4_ = local_1598._4_4_;
            pSVar42 = local_18c8;
            pSVar51 = local_18c0;
            fVar65 = local_1640._4_4_;
            _local_16c8 = auVar111;
            _local_16b8 = auVar114;
            _local_16a8 = auVar109;
            _local_1698 = auVar101;
            _local_1688 = auVar123;
            local_1678 = auVar117;
            local_1668 = pSVar30;
            local_1648 = pSVar29;
            local_1638 = pSVar47;
            local_15b8 = pSStack_1660;
            uStack_15b0 = pSVar35;
            local_1598 = pSVar36;
            uVar32 = local_1590;
            local_1588 = pSVar47;
            auVar118 = (undefined1  [4])local_1590._4_4_;
          }
          else {
            if (local_152c == 2) goto LAB_00126f49;
            if (local_152c != 1) {
              if (local_152c != 3) {
                local_1c38._8_8_ = pSStack_15c0;
                local_1c38._0_8_ = local_15c8;
                local_1c28 = (undefined1  [4])(undefined4)local_1648;
                local_1648._4_4_ = (undefined4)((ulong)local_1648 >> 0x20);
                local_1c08 = (undefined1  [4])(undefined4)local_1598;
                _local_1c08 = CONCAT124(auVar23,local_1c08);
                local_1598._4_4_ = (undefined4)((ulong)local_1598 >> 0x20);
                local_1c18._0_4_ = local_1648._4_4_;
                local_1c48._0_4_ = local_1598._4_4_;
                local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
                local_1640._4_4_ = (float)((ulong)local_1640 >> 0x20);
                local_1590._0_4_ = (float)uVar32;
                local_1590._4_4_ = (float)((ulong)uVar32 >> 0x20);
                pSVar47 = local_1638;
                auVar101 = _local_1698;
                auVar109 = _local_16a8;
                auVar114 = _local_16b8;
                auVar111 = _local_16c8;
                auVar117 = local_1678;
                auVar123 = _local_1688;
                fVar76 = (float)local_1590;
                fVar52 = (float)local_1640;
                fVar65 = local_1640._4_4_;
                auVar118 = (undefined1  [4])local_1590._4_4_;
                goto LAB_00124ef0;
              }
              puVar33 = (undefined8 *)
                        (*(long *)(local_d38[uVar25 * 0x16] + 0x20) +
                        (&uStack_d60)[uVar25 * 0x16] * 0x50);
              puVar49 = (undefined8 *)
                        (*(long *)(local_d38[uVar25 * 0x16] + 0x20) +
                        (&local_d68)[uVar25 * 0x16] * 0x50);
              if (puVar33 != puVar49) {
                lVar38 = (&uStack_d60)[uVar25 * 0x16] * 0x50 + (&local_d68)[uVar25 * 0x16] * -0x50;
                uVar39 = (lVar38 >> 4) * -0x3333333333333333;
                if (uVar39 == 0) {
                  std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                            (puVar49,puVar33,0xfffffffffffffffe);
                }
                else {
                  lVar40 = 0x3f;
                  if (uVar39 != 0) {
                    for (; uVar39 >> lVar40 == 0; lVar40 = lVar40 + -1) {
                    }
                  }
                  std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                            (puVar49,puVar33,(long)(int)lVar40 * 2);
                  if (0x500 < lVar38) {
                    puVar44 = puVar49 + 0xa0;
                    std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                              (puVar49,puVar44);
                    for (; puVar33 != puVar44; puVar44 = puVar44 + 10) {
                      uVar58 = *(undefined4 *)((long)puVar44 + 0x1c);
                      uVar86 = *(undefined4 *)((long)puVar44 + 0xc);
                      uVar32 = puVar44[4];
                      uVar7 = puVar44[5];
                      uVar8 = puVar44[6];
                      uVar9 = puVar44[7];
                      uVar10 = puVar44[2];
                      uVar11 = puVar44[3];
                      uVar90 = *(undefined4 *)(puVar44 + 8);
                      uVar92 = *(undefined4 *)((long)puVar44 + 0x44);
                      uVar12 = *puVar44;
                      uVar13 = puVar44[1];
                      uVar39 = CONCAT44(*(undefined4 *)((long)puVar44 + -0x34),
                                        *(undefined4 *)((long)puVar44 + -0x44));
                      puVar49 = puVar44;
                      while (CONCAT44(uVar58,uVar86) < uVar39) {
                        *puVar49 = puVar49[-10];
                        puVar49[1] = puVar49[-9];
                        *(undefined4 *)(puVar49 + 8) = *(undefined4 *)(puVar49 + -2);
                        puVar49[2] = puVar49[-8];
                        puVar49[3] = puVar49[-7];
                        *(undefined4 *)((long)puVar49 + 0x44) =
                             *(undefined4 *)((long)puVar49 + -0xc);
                        puVar49[4] = puVar49[-6];
                        puVar49[5] = puVar49[-5];
                        *(undefined4 *)(puVar49 + 6) = *(undefined4 *)(puVar49 + -4);
                        *(undefined4 *)((long)puVar49 + 0x34) =
                             *(undefined4 *)((long)puVar49 + -0x1c);
                        *(undefined4 *)(puVar49 + 7) = *(undefined4 *)(puVar49 + -3);
                        *(undefined4 *)((long)puVar49 + 0x3c) =
                             *(undefined4 *)((long)puVar49 + -0x14);
                        uVar39 = CONCAT44(*(undefined4 *)((long)puVar49 + -0x84),
                                          *(undefined4 *)((long)puVar49 + -0x94));
                        puVar49 = puVar49 + -10;
                      }
                      *puVar49 = uVar12;
                      puVar49[1] = uVar13;
                      puVar49[2] = uVar10;
                      puVar49[3] = uVar11;
                      puVar49[4] = uVar32;
                      puVar49[5] = uVar7;
                      puVar49[6] = uVar8;
                      puVar49[7] = uVar9;
                      *(undefined4 *)(puVar49 + 8) = uVar90;
                      *(undefined4 *)((long)puVar49 + 0x44) = uVar92;
                    }
                    goto LAB_00129bb3;
                  }
                }
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33);
              }
LAB_00129bb3:
              splitByGeometry(pSVar30,(SetMB *)local_16c8,(SetMB *)local_1618);
              local_1c38._8_8_ = pSStack_15c0;
              local_1c38._0_8_ = local_15c8;
              local_1c28 = (undefined1  [4])(undefined4)local_1648;
              local_1c08 = (undefined1  [4])(undefined4)local_1598;
              _local_1c08 = CONCAT124(auVar23,local_1c08);
              local_1c58 = (SetMB *)local_16d8;
              local_1c18._0_4_ = local_1648._4_4_;
              local_1c48._0_4_ = local_1598._4_4_;
              local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
              pHVar27 = local_1628;
              pSVar42 = local_1658;
              pSVar47 = local_1638;
              pSVar51 = local_1650;
              auVar101 = _local_1698;
              auVar109 = _local_16a8;
              auVar114 = _local_16b8;
              auVar111 = _local_16c8;
              auVar117 = local_1678;
              auVar123 = _local_1688;
              fVar76 = (float)local_1590;
              fVar52 = (float)local_1640;
              fVar65 = local_1640._4_4_;
              uVar32 = local_1590;
              auVar118 = (undefined1  [4])local_1590._4_4_;
              goto LAB_00124ef0;
            }
            pSVar30 = (SetMB *)(&uStack_d60)[uVar25 * 0x16];
            pSVar35 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            puVar33 = (undefined8 *)
                      (*(long *)(local_d38[uVar25 * 0x16] + 0x20) + (long)pSVar30 * 0x50);
            puVar49 = (undefined8 *)
                      (*(long *)(local_d38[uVar25 * 0x16] + 0x20) + (long)pSVar35 * 0x50);
            if (puVar33 != puVar49) {
              lVar38 = (long)pSVar30 * 0x50 + (long)pSVar35 * -0x50;
              uVar39 = (lVar38 >> 4) * -0x3333333333333333;
              if (uVar39 == 0) {
                std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33,0xfffffffffffffffe);
LAB_0012a29c:
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33);
              }
              else {
                lVar40 = 0x3f;
                if (uVar39 != 0) {
                  for (; uVar39 >> lVar40 == 0; lVar40 = lVar40 + -1) {
                  }
                }
                std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar33,(long)(int)lVar40 * 2);
                if (lVar38 < 0x501) goto LAB_0012a29c;
                puVar44 = puVar49 + 0xa0;
                std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>
                          (puVar49,puVar44);
                for (; puVar33 != puVar44; puVar44 = puVar44 + 10) {
                  uVar58 = *(undefined4 *)((long)puVar44 + 0x1c);
                  uVar86 = *(undefined4 *)((long)puVar44 + 0xc);
                  uVar32 = puVar44[4];
                  uVar7 = puVar44[5];
                  uVar8 = puVar44[6];
                  uVar9 = puVar44[7];
                  uVar10 = puVar44[2];
                  uVar11 = puVar44[3];
                  uVar90 = *(undefined4 *)(puVar44 + 8);
                  uVar92 = *(undefined4 *)((long)puVar44 + 0x44);
                  uVar12 = *puVar44;
                  uVar13 = puVar44[1];
                  uVar39 = CONCAT44(*(undefined4 *)((long)puVar44 + -0x34),
                                    *(undefined4 *)((long)puVar44 + -0x44));
                  puVar49 = puVar44;
                  while (CONCAT44(uVar58,uVar86) < uVar39) {
                    *puVar49 = puVar49[-10];
                    puVar49[1] = puVar49[-9];
                    *(undefined4 *)(puVar49 + 8) = *(undefined4 *)(puVar49 + -2);
                    puVar49[2] = puVar49[-8];
                    puVar49[3] = puVar49[-7];
                    *(undefined4 *)((long)puVar49 + 0x44) = *(undefined4 *)((long)puVar49 + -0xc);
                    puVar49[4] = puVar49[-6];
                    puVar49[5] = puVar49[-5];
                    *(undefined4 *)(puVar49 + 6) = *(undefined4 *)(puVar49 + -4);
                    *(undefined4 *)((long)puVar49 + 0x34) = *(undefined4 *)((long)puVar49 + -0x1c);
                    *(undefined4 *)(puVar49 + 7) = *(undefined4 *)(puVar49 + -3);
                    *(undefined4 *)((long)puVar49 + 0x3c) = *(undefined4 *)((long)puVar49 + -0x14);
                    uVar39 = CONCAT44(*(undefined4 *)((long)puVar49 + -0x84),
                                      *(undefined4 *)((long)puVar49 + -0x94));
                    puVar49 = puVar49 + -10;
                  }
                  *puVar49 = uVar12;
                  puVar49[1] = uVar13;
                  puVar49[2] = uVar10;
                  puVar49[3] = uVar11;
                  puVar49[4] = uVar32;
                  puVar49[5] = uVar7;
                  puVar49[6] = uVar8;
                  puVar49[7] = uVar9;
                  *(undefined4 *)(puVar49 + 8) = uVar90;
                  *(undefined4 *)((long)puVar49 + 0x44) = uVar92;
                }
              }
              pSVar30 = (SetMB *)(&uStack_d60)[uVar25 * 0x16];
              pSVar35 = (SetMB *)(&local_d68)[uVar25 * 0x16];
            }
            pSVar47 = local_d38[uVar25 * 0x16];
            pSStack_1660 = (SetMB *)((ulong)(pSVar35 + 1 + (long)pSVar30) >> 1);
            auVar111 = _local_1bc8;
            auVar114 = _local_1bd8;
            auVar109 = _local_1bc8;
            auVar101 = _local_1bd8;
            auVar123 = _local_1bc8;
            auVar117 = _local_1bd8;
            fVar87 = _LC3;
            if (pSVar35 < pSStack_1660) {
              pSVar51 = (SetMB *)0x0;
              pauVar34 = (undefined1 (*) [16])((long)pSVar35 * 0x50 + *(ulong *)(pSVar47 + 0x20));
              pSVar42 = (SetMB *)0x0;
              auVar14._12_4_ = 0;
              auVar14._0_12_ = _auStack_1c24;
              _local_1c28 = auVar14 << 0x20;
              local_1c18._0_4_ = _LC3;
              fVar52 = 0.0;
              do {
                auVar111 = minps(auVar111,*pauVar34);
                auVar114 = maxps(auVar114,pauVar34[1]);
                auVar109 = minps(auVar109,pauVar34[2]);
                auVar101 = maxps(auVar101,pauVar34[3]);
                pSVar42 = pSVar42 + *(uint *)(pauVar34[2] + 0xc);
                auVar83._0_4_ =
                     *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
                     *(float *)pauVar34[2] * _LC12 + *(float *)*pauVar34 * _LC12;
                auVar83._4_4_ =
                     *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
                     *(float *)(pauVar34[2] + 4) * _LC12 + *(float *)(*pauVar34 + 4) * _LC12;
                auVar83._8_4_ =
                     *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
                     *(float *)(pauVar34[2] + 8) * _LC12 + *(float *)(*pauVar34 + 8) * _LC12;
                auVar83._12_4_ =
                     *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
                     *(float *)(pauVar34[2] + 0xc) * _LC12 + *(float *)(*pauVar34 + 0xc) * _LC12;
                fVar76 = *(float *)(pauVar34[4] + 4);
                fVar65 = fVar76;
                if (fVar76 <= fVar52) {
                  fVar65 = fVar52;
                }
                auVar123 = minps(auVar123,auVar83);
                auVar117 = maxps(auVar117,auVar83);
                fVar52 = *(float *)pauVar34[4];
                if (fVar52 <= fVar87) {
                  fVar87 = fVar52;
                }
                if (pSVar51 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
                  local_1c18._0_4_ = fVar76;
                  local_1c28 = (undefined1  [4])fVar52;
                  pSVar51 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
                }
                pauVar34 = pauVar34 + 5;
                fVar52 = fVar65;
              } while ((undefined1 (*) [16])(*(ulong *)(pSVar47 + 0x20) + (long)pSStack_1660 * 0x50)
                       != pauVar34);
            }
            else {
              pSVar51 = (SetMB *)0x0;
              pSVar42 = (SetMB *)0x0;
              auVar19._12_4_ = 0;
              auVar19._0_12_ = _auStack_1c24;
              _local_1c28 = auVar19 << 0x20;
              fVar65 = 0.0;
              local_1c18._0_4_ = _LC3;
            }
            _local_15d8 = _local_1bc8;
            _local_15e8 = _local_1bd8;
            _local_15f8 = _local_1bc8;
            _local_1608 = _local_1bd8;
            _local_1618 = _local_1bc8;
            fVar59 = _LC3;
            if (pSStack_1660 < pSVar30) {
              local_1c48._0_4_ = _LC3;
              local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
              local_15a0 = (SetMB *)0x0;
              pauVar34 = (undefined1 (*) [16])
                         (*(ulong *)(pSVar47 + 0x20) + (long)pSStack_1660 * 0x50);
              auVar15._12_4_ = 0;
              auVar15._0_12_ = auVar23;
              _local_1c08 = auVar15 << 0x20;
              local_15a8 = (SetMB *)0x0;
              auVar16._12_4_ = 0;
              auVar16._0_12_ = _auStack_1bf4;
              _local_1bf8 = auVar16 << 0x20;
              local_1b88._4_4_ = _LC12;
              local_1b88._0_4_ = _LC12;
              uStack_1b80._0_4_ = _LC12;
              uStack_1b80._4_4_ = _LC12;
              local_1b68 = (undefined1  [4])fVar65;
              local_1c38 = _local_1bd8;
              do {
                _local_1618 = minps(_local_1618,*pauVar34);
                _local_1608 = maxps(_local_1608,pauVar34[1]);
                _local_15f8 = minps(_local_15f8,pauVar34[2]);
                _local_15e8 = maxps(_local_15e8,pauVar34[3]);
                local_15a8 = local_15a8 + *(uint *)(pauVar34[2] + 0xc);
                auVar75._0_4_ =
                     *(float *)pauVar34[3] * _LC12 + *(float *)pauVar34[1] * _LC12 +
                     *(float *)pauVar34[2] * _LC12 + _LC12 * *(float *)*pauVar34;
                auVar75._4_4_ =
                     *(float *)(pauVar34[3] + 4) * _LC12 + *(float *)(pauVar34[1] + 4) * _LC12 +
                     *(float *)(pauVar34[2] + 4) * _LC12 + _LC12 * *(float *)(*pauVar34 + 4);
                auVar75._8_4_ =
                     *(float *)(pauVar34[3] + 8) * _LC12 + *(float *)(pauVar34[1] + 8) * _LC12 +
                     *(float *)(pauVar34[2] + 8) * _LC12 + _LC12 * *(float *)(*pauVar34 + 8);
                auVar75._12_4_ =
                     *(float *)(pauVar34[3] + 0xc) * _LC12 + *(float *)(pauVar34[1] + 0xc) * _LC12 +
                     *(float *)(pauVar34[2] + 0xc) * _LC12 + _LC12 * *(float *)(*pauVar34 + 0xc);
                fVar52 = *(float *)(pauVar34[4] + 4);
                auVar118 = (undefined1  [4])fVar52;
                if (fVar52 <= (float)local_1bf8) {
                  auVar118 = local_1bf8;
                }
                _local_15d8 = minps(_local_15d8,auVar75);
                local_1c38 = maxps(local_1c38,auVar75);
                fVar76 = *(float *)pauVar34[4];
                local_1bf8 = auVar118;
                if (fVar76 <= fVar59) {
                  fVar59 = fVar76;
                }
                if (local_15a0 < (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc)) {
                  local_1c48._0_4_ = fVar52;
                  local_1c08 = (undefined1  [4])fVar76;
                  local_15a0 = (SetMB *)(ulong)*(uint *)(pauVar34[3] + 0xc);
                }
                pauVar34 = pauVar34 + 5;
                _local_1b78 = auVar111;
              } while ((undefined1 (*) [16])(*(ulong *)(pSVar47 + 0x20) + (long)pSVar30 * 0x50) !=
                       pauVar34);
            }
            else {
              local_15a0 = (SetMB *)0x0;
              local_15a8 = (SetMB *)0x0;
              auVar17._12_4_ = 0;
              auVar17._0_12_ = auVar23;
              _local_1c08 = auVar17 << 0x20;
              local_1c38 = _local_1bd8;
              auVar18._12_4_ = 0;
              auVar18._0_12_ = _auStack_1bf4;
              _local_1bf8 = auVar18 << 0x20;
              local_1c48._0_4_ = _LC3;
              local_1c48 = CONCAT124(auVar22,local_1c48._0_4_);
            }
            fVar76 = local_d40[uVar25 * 0x2c];
            fVar104 = *(float *)((long)local_d38 + uVar25 * 0xb0 + -4);
            local_1648 = (SetMB *)CONCAT44(local_1c18._0_4_,local_1c28);
            if (fVar104 <= fVar65) {
              fVar65 = fVar104;
            }
            fVar52 = fVar76;
            if (fVar76 <= fVar87) {
              fVar52 = fVar87;
            }
            local_15c8 = (SetMB *)local_1c38._0_8_;
            pSStack_15c0 = (SetMB *)local_1c38._8_8_;
            local_1640 = CONCAT44(fVar65,fVar52);
            local_1598 = (SetMB *)CONCAT44(local_1c48._0_4_,local_1c08);
            auVar118 = local_1bf8;
            if (fVar104 <= (float)local_1bf8) {
              auVar118 = (undefined1  [4])fVar104;
            }
            if (fVar76 <= fVar59) {
              fVar76 = fVar59;
            }
            local_1590 = CONCAT44(auVar118,fVar76);
            _local_16c8 = auVar111;
            _local_16b8 = auVar114;
            _local_16a8 = auVar109;
            _local_1698 = auVar101;
            _local_1688 = auVar123;
            local_1678 = auVar117;
            local_1668 = pSVar35;
            local_1658 = pSVar42;
            local_1650 = pSVar51;
            local_1638 = pSVar47;
            local_15b8 = pSStack_1660;
            uStack_15b0 = pSVar30;
            uVar32 = local_1590;
            local_1588 = pSVar47;
          }
        }
LAB_00124ef0:
        local_1590 = uVar32;
        lVar38 = local_50;
        pSVar29 = local_1588;
        pSVar35 = local_15a0;
        pSVar30 = local_15a8;
        auVar54 = _local_15d8;
        auVar97 = _local_15e8;
        auVar95 = _local_15f8;
        auVar93 = _local_1608;
        auVar91 = _local_1618;
        ppSVar37 = local_2d8[uVar25];
        if (*ppSVar37 == pSVar47) {
          ppSVar37[1] = ppSVar37[1] + 1;
          pSVar36 = pSVar47;
        }
        else {
          local_50 = local_50 + 1;
          (&local_250)[lVar38 * 2] = pSVar47;
          (&local_248)[lVar38 * 2] = 1;
          local_2d8[uVar25] = &local_250 + lVar38 * 2;
          pSVar36 = *ppSVar37;
        }
        lVar38 = local_50;
        if (local_1588 == pSVar36) {
          local_2d8[local_258] = ppSVar37;
          pSVar36 = ppSVar37[1];
        }
        else {
          local_50 = local_50 + 1;
          (&local_250)[lVar38 * 2] = local_1588;
          (&local_248)[lVar38 * 2] = 1;
          local_2d8[local_258] = &local_250 + lVar38 * 2;
          pSVar36 = ppSVar37[1] + -1;
        }
        ppSVar37[1] = pSVar36;
        if ((pSVar36 == (SetMB *)0x0) && (pSVar36 = *ppSVar37, pSVar36 != (SetMB *)0x0)) {
          pvVar3 = *(void **)(pSVar36 + 0x20);
          lVar38 = *(long *)(pSVar36 + 0x18);
          if (pvVar3 != (void *)0x0) {
            local_1b88 = (undefined1  [8])lVar38;
            local_1af8._0_16_ = auVar117;
            if ((ulong)(lVar38 * 0x50) < 0x1c00000) {
              _local_1bf8 = pSVar36;
              embree::alignedFree(pvVar3);
            }
            else {
              _local_1bf8 = pSVar36;
              embree::os_free(pvVar3,lVar38 * 0x50,(bool)pSVar36[8]);
            }
          }
          if (lVar38 != 0) {
            local_1af8._0_8_ = pSVar42;
            _local_1bf8 = pSVar36;
            (**(code **)**(undefined8 **)pSVar36)(*(undefined8 **)pSVar36,lVar38 * -0x50,1);
          }
          local_1af8._0_4_ = fVar65;
          local_1b78._0_4_ = fVar76;
          local_1b88._0_4_ = fVar52;
          local_1bf8 = auVar118;
          operator_delete(pSVar36,0x28);
          _local_1b68 = auVar111;
          _local_1b58 = auVar114;
          _local_1b48 = auVar109;
        }
        (&local_dd8)[uVar25 * 0x16] = local_1c58;
        uVar39 = local_258;
        (&local_d68)[uVar25 * 0x16] = local_1668;
        (&uStack_d60)[uVar25 * 0x16] = pSStack_1660;
        *(undefined1 (*) [16])(&local_dc8 + uVar25 * 0x16) = auVar111;
        *(undefined1 (*) [4])(&local_d48 + uVar25 * 0x16) = local_1c28;
        *(undefined1 (*) [16])(&local_db8 + uVar25 * 0x16) = auVar114;
        *(undefined1 (*) [16])(&local_da8 + uVar25 * 0x16) = auVar109;
        *(undefined1 (*) [16])(&local_d98 + uVar25 * 0x16) = auVar101;
        *(undefined1 (*) [16])(&local_d88 + uVar25 * 0x16) = auVar123;
        *(undefined1 (*) [16])(local_d78 + uVar25 * 0x16) = auVar117;
        local_d58[uVar25 * 0x16] = pSVar42;
        local_d58[uVar25 * 0x16 + 1] = pSVar51;
        local_d38[uVar25 * 0x16] = pSVar47;
        *(undefined4 *)((long)&local_d48 + lVar45 + 4) = local_1c18._0_4_;
        local_d40[uVar25 * 0x2c] = fVar52;
        *(float *)((long)local_d38 + lVar45 + -4) = fVar65;
        lVar45 = local_258 * 0xb0;
        (&local_dd8)[local_258 * 0x16] = (SetMB *)pHVar27;
        *(undefined1 (*) [16])(&local_da8 + uVar39 * 0x16) = auVar95;
        *(undefined1 (*) [16])(&local_d98 + uVar39 * 0x16) = auVar97;
        local_d78[uVar39 * 0x16] = (SetMB *)local_1c38._0_8_;
        local_d78[uVar39 * 0x16 + 1] = (SetMB *)local_1c38._8_8_;
        *(undefined1 (*) [16])(&local_d88 + uVar39 * 0x16) = auVar54;
        *(undefined1 (*) [16])(&local_dc8 + uVar39 * 0x16) = auVar91;
        *(undefined1 (*) [16])(&local_db8 + uVar39 * 0x16) = auVar93;
        *(undefined4 *)(&local_d68 + uVar39 * 0x16) = (undefined4)local_15b8;
        *(undefined4 *)((long)&local_d68 + lVar45 + 4) = local_15b8._4_4_;
        *(undefined4 *)(&uStack_d60 + uVar39 * 0x16) = (undefined4)uStack_15b0;
        *(undefined4 *)((long)&uStack_d60 + lVar45 + 4) = uStack_15b0._4_4_;
        local_d58[uVar39 * 0x16] = pSVar30;
        local_d58[uVar39 * 0x16 + 1] = pSVar35;
        local_d38[uVar39 * 0x16] = pSVar29;
        *(undefined1 (*) [4])(&local_d48 + uVar39 * 0x16) = local_1c08;
        *(undefined4 *)((long)&local_d48 + lVar45 + 4) = local_1c48._0_4_;
        local_d40[uVar39 * 0x2c] = fVar76;
        *(undefined1 (*) [4])((long)local_d38 + lVar45 + -4) = auVar118;
        local_258 = local_258 + 1;
      } while (local_258 < *param_2);
    }
    pHVar27 = local_1628;
    if (local_258 != 0) {
LAB_00125540:
      uVar25 = 0;
      pfVar26 = local_d40;
      do {
        while (uVar32 = *(undefined8 *)pfVar26, (float)uVar32 <= *(float *)(param_3 + 0x13)) {
          uVar25 = uVar25 + 1;
          pfVar26 = pfVar26 + 0x2c;
          local_1a71 = (bool)(local_1a71 |
                             (float)((ulong)uVar32 >> 0x20) < *(float *)((long)param_3 + 0x9c));
          if (uVar25 == local_258) goto LAB_001255b9;
        }
        uVar25 = uVar25 + 1;
        local_1a71 = true;
        pfVar26 = pfVar26 + 0x2c;
      } while (uVar25 != local_258);
    }
LAB_001255b9:
    lVar45 = *(long *)local_1ba0;
    local_1628._0_4_ = (float)lVar45;
    uVar90 = (float)local_1628;
    local_1628._4_4_ = (float)((ulong)lVar45 >> 0x20);
    uVar92 = local_1628._4_4_;
    local_1628 = pHVar27;
    if (local_1a71) {
      local_16d8._0_4_ = 3.58732e-43;
      local_16d8._4_4_ = 0.0;
      if (param_7 != *(FastAllocator **)(lVar45 + 8)) {
        embree::MutexSys::lock();
        if (*(long *)(lVar45 + 8) != 0) {
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xa8) + *(long *)(lVar45 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(lVar45 + 0x98) + *(long *)(lVar45 + 0x58)) -
                               *(long *)(lVar45 + 0x50)) - *(long *)(lVar45 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xb0) + *(long *)(lVar45 + 0x70);
          UNLOCK();
        }
        *(undefined8 *)(lVar45 + 0x48) = 0;
        *(undefined8 *)(lVar45 + 0x58) = 0;
        *(undefined8 *)(lVar45 + 0x50) = 0;
        *(undefined8 *)(lVar45 + 0x68) = 0;
        *(undefined8 *)(lVar45 + 0x70) = 0;
        *(undefined8 *)(lVar45 + 0x60) = 0;
        if (param_7 == (FastAllocator *)0x0) {
          *(undefined8 *)(lVar45 + 0x88) = 0;
          uVar32 = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
        }
        else {
          uVar32 = *(undefined8 *)(param_7 + 0x10);
          *(undefined8 *)(lVar45 + 0x88) = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x60) = uVar32;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
          *(undefined8 *)(lVar45 + 0xa0) = 0;
          uVar32 = *(undefined8 *)(param_7 + 0x10);
        }
        *(undefined8 *)(lVar45 + 0xa0) = uVar32;
        LOCK();
        *(FastAllocator **)(lVar45 + 8) = param_7;
        UNLOCK();
        local_1628._0_4_ = (float)uVar90;
        local_1628._4_4_ = (float)uVar92;
        embree::MutexSys::lock();
        plVar1 = *(long **)(param_7 + 0x138);
        if (plVar1 == *(long **)(param_7 + 0x140)) {
          std::
          vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
          ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                    ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                      *)(param_7 + 0x130),plVar1,&local_1628);
        }
        else {
          *plVar1 = lVar45;
          *(long *)(param_7 + 0x138) = *(long *)(param_7 + 0x138) + 8;
        }
        embree::MutexSys::unlock();
        embree::MutexSys::unlock();
        pHVar27 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)
                  CONCAT44(local_1628._4_4_,(float)local_1628);
      }
      lVar45 = *(long *)(local_1ba0 + 0x10);
      *(long *)(local_1ba0 + 0x28) = *(long *)(local_1ba0 + 0x28) + 0x100;
      uVar39 = (ulong)(-(int)lVar45 & 0xf);
      uVar25 = lVar45 + 0x100 + uVar39;
      *(ulong *)(local_1ba0 + 0x10) = uVar25;
      local_1628 = pHVar27;
      if (*(ulong *)(local_1ba0 + 0x18) < uVar25) {
        uVar25 = *(ulong *)(local_1ba0 + 0x20);
        *(long *)(local_1ba0 + 0x10) = lVar45;
        if (uVar25 < 0x400) {
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_16d8,0x40,false);
        }
        else {
          local_1628._0_4_ = (float)uVar25;
          local_1628._4_4_ = (float)(uVar25 >> 0x20);
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,true);
          *(undefined8 **)(local_1ba0 + 8) = puVar33;
          *(long *)(local_1ba0 + 0x30) =
               (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
               *(long *)(local_1ba0 + 0x10);
          *(long *)(local_1ba0 + 0x10) = 0x100;
          *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
          if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0x100) {
            *(long *)(local_1ba0 + 0x10) = 0;
            local_1628._0_4_ = (float)*(long *)(local_1ba0 + 0x20);
            local_1628._4_4_ = (float)((ulong)*(long *)(local_1ba0 + 0x20) >> 0x20);
            puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,false);
            *(undefined8 **)(local_1ba0 + 8) = puVar33;
            *(long *)(local_1ba0 + 0x30) =
                 (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
                 *(long *)(local_1ba0 + 0x10);
            *(long *)(local_1ba0 + 0x10) = 0x100;
            *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
            if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0x100) {
              puVar33 = (undefined8 *)0x0;
              *(long *)(local_1ba0 + 0x10) = 0;
            }
          }
        }
      }
      else {
        *(ulong *)(local_1ba0 + 0x30) = *(long *)(local_1ba0 + 0x30) + uVar39;
        puVar33 = (undefined8 *)(*(long *)(local_1ba0 + 8) + -0x100 + uVar25);
      }
      *puVar33 = 8;
      puVar33[1] = 8;
      puVar33[2] = 8;
      puVar33[3] = 8;
      puVar33[0x1c] = local_1bc8;
      puVar33[0x1d] = uStack_1bc0;
      *(undefined4 *)(puVar33 + 0x1e) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0xf4) = local_1bd8._4_4_;
      *(float *)(puVar33 + 0x1f) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0xfc) = uStack_1bd0._4_4_;
      puVar33[0xc] = local_1bc8;
      puVar33[0xd] = uStack_1bc0;
      puVar33[8] = local_1bc8;
      puVar33[9] = uStack_1bc0;
      puVar33[4] = local_1bc8;
      puVar33[5] = uStack_1bc0;
      *(undefined4 *)(puVar33 + 0xe) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0x74) = local_1bd8._4_4_;
      *(float *)(puVar33 + 0xf) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0x7c) = uStack_1bd0._4_4_;
      *(undefined4 *)(puVar33 + 10) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0x54) = local_1bd8._4_4_;
      *(float *)(puVar33 + 0xb) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0x5c) = uStack_1bd0._4_4_;
      *(undefined4 *)(puVar33 + 6) = local_1bd8._0_4_;
      *(undefined4 *)((long)puVar33 + 0x34) = local_1bd8._4_4_;
      *(float *)(puVar33 + 7) = (float)uStack_1bd0;
      *(undefined4 *)((long)puVar33 + 0x3c) = uStack_1bd0._4_4_;
      *(undefined1 (*) [16])(puVar33 + 0x18) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x14) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x10) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x1a) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x16) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x12) = (undefined1  [16])0x0;
      uVar25 = (ulong)puVar33 | 6;
    }
    else {
      local_16d8._0_4_ = 3.13891e-43;
      local_16d8._4_4_ = 0.0;
      if (param_7 != *(FastAllocator **)(lVar45 + 8)) {
        embree::MutexSys::lock();
        if (*(long *)(lVar45 + 8) != 0) {
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x118);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xa8) + *(long *)(lVar45 + 0x68);
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x120);
          *plVar1 = *plVar1 + (((*(long *)(lVar45 + 0x98) + *(long *)(lVar45 + 0x58)) -
                               *(long *)(lVar45 + 0x50)) - *(long *)(lVar45 + 0x90));
          UNLOCK();
          LOCK();
          plVar1 = (long *)(*(long *)(lVar45 + 8) + 0x128);
          *plVar1 = *plVar1 + *(long *)(lVar45 + 0xb0) + *(long *)(lVar45 + 0x70);
          UNLOCK();
        }
        *(undefined8 *)(lVar45 + 0x48) = 0;
        *(undefined8 *)(lVar45 + 0x58) = 0;
        *(undefined8 *)(lVar45 + 0x50) = 0;
        *(undefined8 *)(lVar45 + 0x68) = 0;
        *(undefined8 *)(lVar45 + 0x70) = 0;
        *(undefined8 *)(lVar45 + 0x60) = 0;
        if (param_7 == (FastAllocator *)0x0) {
          *(undefined8 *)(lVar45 + 0x88) = 0;
          uVar32 = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
        }
        else {
          uVar32 = *(undefined8 *)(param_7 + 0x10);
          *(undefined8 *)(lVar45 + 0x88) = 0;
          *(undefined8 *)(lVar45 + 0x98) = 0;
          *(undefined8 *)(lVar45 + 0x60) = uVar32;
          *(undefined8 *)(lVar45 + 0x90) = 0;
          *(undefined8 *)(lVar45 + 0xa8) = 0;
          *(undefined8 *)(lVar45 + 0xb0) = 0;
          *(undefined8 *)(lVar45 + 0xa0) = 0;
          uVar32 = *(undefined8 *)(param_7 + 0x10);
        }
        *(undefined8 *)(lVar45 + 0xa0) = uVar32;
        LOCK();
        *(FastAllocator **)(lVar45 + 8) = param_7;
        UNLOCK();
        local_1628._0_4_ = (float)uVar90;
        local_1628._4_4_ = (float)uVar92;
        embree::MutexSys::lock();
        plVar1 = *(long **)(param_7 + 0x138);
        if (plVar1 == *(long **)(param_7 + 0x140)) {
          std::
          vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
          ::_M_realloc_insert<embree::FastAllocator::ThreadLocal2*const&>
                    ((vector<embree::FastAllocator::ThreadLocal2*,std::allocator<embree::FastAllocator::ThreadLocal2*>>
                      *)(param_7 + 0x130),plVar1,&local_1628);
        }
        else {
          *plVar1 = lVar45;
          *(long *)(param_7 + 0x138) = *(long *)(param_7 + 0x138) + 8;
        }
        embree::MutexSys::unlock();
        embree::MutexSys::unlock();
        pHVar27 = (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)
                  CONCAT44(local_1628._4_4_,(float)local_1628);
      }
      lVar45 = *(long *)(local_1ba0 + 0x10);
      *(long *)(local_1ba0 + 0x28) = *(long *)(local_1ba0 + 0x28) + 0xe0;
      uVar39 = (ulong)(-(int)lVar45 & 0xf);
      uVar25 = lVar45 + 0xe0 + uVar39;
      *(ulong *)(local_1ba0 + 0x10) = uVar25;
      local_1628 = pHVar27;
      if (*(ulong *)(local_1ba0 + 0x18) < uVar25) {
        uVar25 = *(ulong *)(local_1ba0 + 0x20);
        *(long *)(local_1ba0 + 0x10) = lVar45;
        if (uVar25 < 0x380) {
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_16d8,0x40,false);
        }
        else {
          local_1628._0_4_ = (float)uVar25;
          local_1628._4_4_ = (float)(uVar25 >> 0x20);
          puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,true);
          *(undefined8 **)(local_1ba0 + 8) = puVar33;
          *(long *)(local_1ba0 + 0x30) =
               (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
               *(long *)(local_1ba0 + 0x10);
          *(long *)(local_1ba0 + 0x10) = 0xe0;
          *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
          if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0xe0) {
            *(long *)(local_1ba0 + 0x10) = 0;
            local_1628._0_4_ = (float)*(long *)(local_1ba0 + 0x20);
            local_1628._4_4_ = (float)((ulong)*(long *)(local_1ba0 + 0x20) >> 0x20);
            puVar33 = (undefined8 *)FastAllocator::malloc(param_7,&local_1628,0x40,false);
            *(undefined8 **)(local_1ba0 + 8) = puVar33;
            *(long *)(local_1ba0 + 0x30) =
                 (*(long *)(local_1ba0 + 0x18) + *(long *)(local_1ba0 + 0x30)) -
                 *(long *)(local_1ba0 + 0x10);
            *(long *)(local_1ba0 + 0x10) = 0xe0;
            *(HeuristicArrayBinningMB<embree::PrimRefMB,32ul> **)(local_1ba0 + 0x18) = local_1628;
            if (local_1628 < (HeuristicArrayBinningMB<embree::PrimRefMB,32ul> *)0xe0) {
              puVar33 = (undefined8 *)0x0;
              *(long *)(local_1ba0 + 0x10) = 0;
            }
          }
        }
      }
      else {
        *(ulong *)(local_1ba0 + 0x30) = *(long *)(local_1ba0 + 0x30) + uVar39;
        puVar33 = (undefined8 *)(*(long *)(local_1ba0 + 8) + -0xe0 + uVar25);
      }
      *puVar33 = 8;
      puVar33[1] = 8;
      puVar33[0xc] = local_1bc8;
      puVar33[0xd] = uStack_1bc0;
      puVar33[8] = local_1bc8;
      puVar33[9] = uStack_1bc0;
      puVar33[4] = local_1bc8;
      puVar33[5] = uStack_1bc0;
      puVar33[2] = 8;
      puVar33[3] = 8;
      puVar33[0xe] = local_1bd8;
      puVar33[0xf] = uStack_1bd0;
      puVar33[10] = local_1bd8;
      puVar33[0xb] = uStack_1bd0;
      puVar33[6] = local_1bd8;
      puVar33[7] = uStack_1bd0;
      *(undefined1 (*) [16])(puVar33 + 0x18) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x14) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x10) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x1a) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x16) = (undefined1  [16])0x0;
      *(undefined1 (*) [16])(puVar33 + 0x12) = (undefined1  [16])0x0;
      uVar25 = (ulong)puVar33 | 1;
    }
    uVar39 = local_258;
    auVar91 = _local_1bd8;
    auVar93 = _local_1bc8;
    auVar95 = _local_1bc8;
    auVar97 = _local_1bd8;
    if (param_2[7] < (ulong)(param_3[0xf] - param_3[0xe])) {
      local_1628._0_4_ = (float)local_258;
      local_1628._4_4_ = (float)(local_258 >> 0x20);
      local_16d8._0_4_ = 0.0;
      local_16d8._4_4_ = 0.0;
      uStack_1620._0_4_ = 0.0;
      uStack_1620._4_4_ = 0.0;
      uStack_1610 = &local_13d8;
      local_1618 = (undefined1  [8])0x1;
      uStack_1600 = param_2;
      local_1608 = (undefined1  [8])local_1c70;
      local_15f8 = (undefined1  [8])&local_16d8;
      lVar45 = embree::TaskScheduler::thread();
      if (lVar45 == 0) {
        this_00 = (TaskScheduler *)embree::TaskScheduler::instance();
        TaskScheduler::
        spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                  (this_00,(_lambda___1_ *)&local_1628,(TaskGroupContext *)&local_16d8,uVar39,true);
      }
      else {
        if (0xfff < *(ulong *)(lVar45 + 0x40080)) {
LAB_0012a8a4:
                    /* WARNING: Subroutine does not return */
          abort();
        }
        lVar38 = *(long *)(lVar45 + 0xc00c0);
        uVar48 = lVar38 + 0x40 + (ulong)(-(int)lVar38 & 0x3f);
        if (0x80000 < uVar48) goto LAB_0012a8a4;
        *(ulong *)(lVar45 + 0xc00c0) = uVar48;
        puVar33 = (undefined8 *)(lVar45 + 0x40080 + uVar48);
        *puVar33 = &PTR_execute_0012d488;
        puVar33[1] = CONCAT44(local_1628._4_4_,(float)local_1628);
        puVar33[2] = CONCAT44(uStack_1620._4_4_,(float)uStack_1620);
        puVar33[3] = local_1618;
        puVar33[4] = uStack_1610;
        puVar33[5] = local_1608;
        puVar33[6] = uStack_1600;
        puVar33[7] = local_15f8;
        lVar46 = *(long *)(lVar45 + 0x40080) * 0x40;
        piVar2 = (int *)(lVar45 + 0x40 + lVar46);
        lVar40 = *(long *)(lVar45 + 0xc0100);
        *(undefined4 *)(lVar45 + 0x44 + lVar46) = 1;
        *(undefined1 *)(lVar45 + 0x48 + lVar46) = 1;
        lVar46 = lVar46 + lVar45;
        *(undefined8 **)(lVar46 + 0x50) = puVar33;
        *(long *)(lVar46 + 0x58) = lVar40;
        *(TaskGroupContext **)(lVar46 + 0x60) = (TaskGroupContext *)&local_16d8;
        *(long *)(lVar46 + 0x68) = lVar38;
        *(ulong *)(lVar46 + 0x70) = uVar39;
        if (lVar40 != 0) {
          LOCK();
          *(int *)(lVar40 + 4) = *(int *)(lVar40 + 4) + 1;
          UNLOCK();
        }
        LOCK();
        if (*piVar2 == 0) {
          *piVar2 = 1;
        }
        UNLOCK();
        LOCK();
        *(long *)(lVar45 + 0x40080) = *(long *)(lVar45 + 0x40080) + 1;
        UNLOCK();
        if (*(long *)(lVar45 + 0x40080) - 1U <= *(ulong *)(lVar45 + 0x40040)) {
          LOCK();
          *(long *)(lVar45 + 0x40040) = *(long *)(lVar45 + 0x40080) + -1;
          UNLOCK();
        }
      }
      embree::TaskScheduler::wait();
      if (CONCAT44(local_16d8._4_4_,(float)local_16d8) != 0) goto LAB_0012a35b;
      if (local_258 != 0) {
        pauVar34 = (undefined1 (*) [16])&local_13c8;
        do {
          auVar93 = minps(auVar93,*pauVar34);
          auVar91 = maxps(auVar91,pauVar34[1]);
          pauVar31 = pauVar34 + 6;
          auVar95 = minps(auVar95,pauVar34[2]);
          auVar97 = maxps(auVar97,pauVar34[3]);
          pauVar34 = pauVar31;
        } while ((undefined1 (*) [16])&local_13c8 + local_258 * 6 != pauVar31);
        if (((uint)uVar25 & 0xf) == 1) {
LAB_001259cf:
          uVar21 = _LC33;
          uVar92 = _LC35;
          uVar90 = _LC29;
          fVar65 = _LC3;
          puVar28 = (ulong *)(uVar25 & 0xfffffffffffffff0);
          *puVar28 = (ulong)local_13d8;
          uVar20 = _LC6;
          fVar52 = _LC39;
          auVar116._4_4_ = uVar92;
          auVar116._0_4_ = uVar92;
          auVar116._8_4_ = uVar92;
          auVar116._12_4_ = uVar92;
          auVar115._4_4_ = uVar90;
          auVar115._0_4_ = uVar90;
          auVar115._8_4_ = uVar90;
          auVar115._12_4_ = uVar90;
          fVar104 = fVar65 / (local_1388._4_4_ - (float)local_1388);
          fVar76 = (float)((uint)(float)local_1388 ^ uVar21) * fVar104;
          fVar104 = (fVar65 - (float)local_1388) * fVar104;
          fVar59 = fVar65 - fVar76;
          fVar87 = fVar65 - fVar104;
          auVar78._0_4_ = (float)local_13b8 * fVar59 + (float)local_1398 * fVar76;
          auVar78._4_4_ = local_13b8._4_4_ * fVar59 + local_1398._4_4_ * fVar76;
          auVar78._8_4_ = (float)uStack_13b0 * fVar59 + (float)uStack_1390 * fVar76;
          auVar78._12_4_ = uStack_13b0._4_4_ * fVar59 + uStack_1390._4_4_ * fVar76;
          auVar60._0_4_ = fVar59 * (float)local_13c8 + fVar76 * (float)local_13a8;
          auVar60._4_4_ = fVar59 * local_13c8._4_4_ + fVar76 * local_13a8._4_4_;
          auVar60._8_4_ = fVar59 * (float)uStack_13c0 + fVar76 * (float)uStack_13a0;
          auVar60._12_4_ = fVar59 * uStack_13c0._4_4_ + fVar76 * uStack_13a0._4_4_;
          auVar79 = maxps(auVar78,auVar116);
          auVar61 = minps(auVar60,auVar115);
          auVar110._0_4_ = (float)local_13b8 * fVar87 + (float)local_1398 * fVar104;
          auVar110._4_4_ = local_13b8._4_4_ * fVar87 + local_1398._4_4_ * fVar104;
          auVar110._8_4_ = (float)uStack_13b0 * fVar87 + (float)uStack_1390 * fVar104;
          auVar110._12_4_ = uStack_13b0._4_4_ * fVar87 + uStack_1390._4_4_ * fVar104;
          auVar53._0_4_ = fVar87 * (float)local_13c8 + fVar104 * (float)local_13a8;
          auVar53._4_4_ = fVar87 * local_13c8._4_4_ + fVar104 * local_13a8._4_4_;
          auVar53._8_4_ = fVar87 * (float)uStack_13c0 + fVar104 * (float)uStack_13a0;
          auVar53._12_4_ = fVar87 * uStack_13c0._4_4_ + fVar104 * uStack_13a0._4_4_;
          auVar111 = maxps(auVar110,auVar116);
          auVar54 = minps(auVar53,auVar115);
          fVar104 = (float)((uint)auVar79._0_4_ & _LC6) * _LC39 + auVar79._0_4_;
          fVar102 = (float)((uint)auVar79._4_4_ & _LC6) * _LC39 + auVar79._4_4_;
          fVar103 = (float)((uint)auVar79._8_4_ & _LC6) * _LC39 + auVar79._8_4_;
          fVar122 = (float)((uint)auVar54._0_4_ & _LC6) * _LC39;
          fVar124 = (float)((uint)auVar54._4_4_ & _LC6) * _LC39;
          fVar125 = (float)((uint)auVar54._8_4_ & _LC6) * _LC39;
          fVar76 = (float)((uint)auVar61._0_4_ & _LC6) * _LC39;
          fVar87 = (float)((uint)auVar61._4_4_ & _LC6) * _LC39;
          fVar59 = (float)((uint)auVar61._8_4_ & _LC6) * _LC39;
          *(float *)(puVar28 + 6) = fVar104;
          fVar76 = auVar61._0_4_ - fVar76;
          fVar87 = auVar61._4_4_ - fVar87;
          fVar59 = auVar61._8_4_ - fVar59;
          *(float *)(puVar28 + 4) = fVar76;
          *(float *)(puVar28 + 0x10) = (auVar54._0_4_ - fVar122) - fVar76;
          *(float *)(puVar28 + 8) = fVar87;
          *(float *)(puVar28 + 0xc) = fVar59;
          *(float *)(puVar28 + 10) = fVar102;
          *(float *)(puVar28 + 0x14) = (auVar54._4_4_ - fVar124) - fVar87;
          *(float *)(puVar28 + 0x18) = (auVar54._8_4_ - fVar125) - fVar59;
          *(float *)(puVar28 + 0x12) =
               ((float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_) - fVar104;
          *(float *)(puVar28 + 0xe) = fVar103;
          *(float *)(puVar28 + 0x16) =
               ((float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_) - fVar102;
          *(float *)(puVar28 + 0x1a) =
               ((float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_) - fVar103;
          if (local_258 != 1) {
            puVar28[1] = (ulong)local_1378;
            fVar104 = fVar65 / (local_1324 - local_1328);
            fVar87 = (float)((uint)local_1328 ^ uVar21) * fVar104;
            fVar76 = fVar65 - fVar87;
            fVar104 = (fVar65 - local_1328) * fVar104;
            fVar59 = fVar65 - fVar104;
            auVar80._0_4_ = (float)local_1358 * fVar76 + local_1338 * fVar87;
            auVar80._4_4_ = local_1358._4_4_ * fVar76 + fStack_1334 * fVar87;
            auVar80._8_4_ = (float)uStack_1350 * fVar76 + fStack_1330 * fVar87;
            auVar80._12_4_ = uStack_1350._4_4_ * fVar76 + fStack_132c * fVar87;
            auVar55._0_4_ = fVar76 * (float)local_1368 + fVar87 * local_1348;
            auVar55._4_4_ = fVar76 * local_1368._4_4_ + fVar87 * fStack_1344;
            auVar55._8_4_ = fVar76 * (float)uStack_1360 + fVar87 * fStack_1340;
            auVar55._12_4_ = fVar76 * uStack_1360._4_4_ + fVar87 * fStack_133c;
            auVar79 = maxps(auVar80,auVar116);
            auVar54 = minps(auVar55,auVar115);
            auVar112._0_4_ = (float)local_1358 * fVar59 + local_1338 * fVar104;
            auVar112._4_4_ = local_1358._4_4_ * fVar59 + fStack_1334 * fVar104;
            auVar112._8_4_ = (float)uStack_1350 * fVar59 + fStack_1330 * fVar104;
            auVar112._12_4_ = uStack_1350._4_4_ * fVar59 + fStack_132c * fVar104;
            auVar62._0_4_ = fVar59 * (float)local_1368 + fVar104 * local_1348;
            auVar62._4_4_ = fVar59 * local_1368._4_4_ + fVar104 * fStack_1344;
            auVar62._8_4_ = fVar59 * (float)uStack_1360 + fVar104 * fStack_1340;
            auVar62._12_4_ = fVar59 * uStack_1360._4_4_ + fVar104 * fStack_133c;
            auVar111 = maxps(auVar112,auVar116);
            auVar61 = minps(auVar62,auVar115);
            fVar104 = (float)((uint)auVar79._0_4_ & uVar20) * fVar52 + auVar79._0_4_;
            fVar102 = (float)((uint)auVar79._4_4_ & uVar20) * fVar52 + auVar79._4_4_;
            fVar103 = (float)((uint)auVar79._8_4_ & uVar20) * fVar52 + auVar79._8_4_;
            *(float *)((long)puVar28 + 0x34) = fVar104;
            fVar76 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar20) * fVar52;
            fVar87 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar20) * fVar52;
            fVar59 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar20) * fVar52;
            *(float *)((long)puVar28 + 0x24) = fVar76;
            *(float *)((long)puVar28 + 0x84) =
                 (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar20) * fVar52) - fVar76;
            *(float *)((long)puVar28 + 0x44) = fVar87;
            *(float *)((long)puVar28 + 100) = fVar59;
            *(float *)((long)puVar28 + 0x54) = fVar102;
            *(float *)((long)puVar28 + 0xa4) =
                 (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar20) * fVar52) - fVar87;
            *(float *)((long)puVar28 + 0x74) = fVar103;
            *(float *)((long)puVar28 + 0x94) =
                 ((float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_) - fVar104;
            *(float *)((long)puVar28 + 0xc4) =
                 (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar20) * fVar52) - fVar59;
            *(float *)((long)puVar28 + 0xb4) =
                 ((float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_) - fVar102;
            *(float *)((long)puVar28 + 0xd4) =
                 ((float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_) - fVar103;
            if (local_258 != 2) {
              puVar28[2] = local_1318;
              fVar104 = fVar65 / (local_12c4 - local_12c8);
              fVar87 = (float)((uint)local_12c8 ^ uVar21) * fVar104;
              fVar76 = fVar65 - fVar87;
              fVar104 = (fVar65 - local_12c8) * fVar104;
              fVar59 = fVar65 - fVar104;
              auVar81._0_4_ = local_12f8 * fVar76 + local_12d8 * fVar87;
              auVar81._4_4_ = fStack_12f4 * fVar76 + fStack_12d4 * fVar87;
              auVar81._8_4_ = fStack_12f0 * fVar76 + fStack_12d0 * fVar87;
              auVar81._12_4_ = fStack_12ec * fVar76 + fStack_12cc * fVar87;
              auVar56._0_4_ = fVar76 * local_1308 + fVar87 * local_12e8;
              auVar56._4_4_ = fVar76 * fStack_1304 + fVar87 * fStack_12e4;
              auVar56._8_4_ = fVar76 * fStack_1300 + fVar87 * fStack_12e0;
              auVar56._12_4_ = fVar76 * fStack_12fc + fVar87 * fStack_12dc;
              auVar79 = maxps(auVar81,auVar116);
              auVar54 = minps(auVar56,auVar115);
              auVar113._0_4_ = local_12f8 * fVar59 + local_12d8 * fVar104;
              auVar113._4_4_ = fStack_12f4 * fVar59 + fStack_12d4 * fVar104;
              auVar113._8_4_ = fStack_12f0 * fVar59 + fStack_12d0 * fVar104;
              auVar113._12_4_ = fStack_12ec * fVar59 + fStack_12cc * fVar104;
              auVar63._0_4_ = fVar59 * local_1308 + fVar104 * local_12e8;
              auVar63._4_4_ = fVar59 * fStack_1304 + fVar104 * fStack_12e4;
              auVar63._8_4_ = fVar59 * fStack_1300 + fVar104 * fStack_12e0;
              auVar63._12_4_ = fVar59 * fStack_12fc + fVar104 * fStack_12dc;
              auVar111 = maxps(auVar113,auVar116);
              auVar61 = minps(auVar63,auVar115);
              fVar104 = (float)((uint)auVar79._0_4_ & uVar20) * fVar52 + auVar79._0_4_;
              fVar102 = (float)((uint)auVar79._4_4_ & uVar20) * fVar52 + auVar79._4_4_;
              fVar103 = (float)((uint)auVar79._8_4_ & uVar20) * fVar52 + auVar79._8_4_;
              *(float *)(puVar28 + 7) = fVar104;
              fVar76 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar20) * fVar52;
              fVar87 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar20) * fVar52;
              fVar59 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar20) * fVar52;
              *(float *)(puVar28 + 5) = fVar76;
              *(float *)(puVar28 + 0x11) =
                   (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar20) * fVar52) - fVar76;
              *(float *)(puVar28 + 9) = fVar87;
              *(float *)(puVar28 + 0xd) = fVar59;
              *(float *)(puVar28 + 0xb) = fVar102;
              *(float *)(puVar28 + 0x15) =
                   (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar20) * fVar52) - fVar87;
              *(float *)(puVar28 + 0xf) = fVar103;
              *(float *)(puVar28 + 0x13) =
                   ((float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_) - fVar104;
              *(float *)(puVar28 + 0x19) =
                   (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar20) * fVar52) - fVar59;
              *(float *)(puVar28 + 0x17) =
                   ((float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_) - fVar102;
              *(float *)(puVar28 + 0x1b) =
                   ((float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_) - fVar103;
              if (local_258 != 3) {
                puVar28[3] = local_12b8;
                fVar87 = fVar65 / (local_1264 - local_1268);
                fVar59 = (float)(uVar21 ^ (uint)local_1268) * fVar87;
                fVar87 = fVar87 * (fVar65 - local_1268);
                fVar76 = fVar65 - fVar59;
                fVar65 = fVar65 - fVar87;
                auVar98._0_4_ = local_1278 * fVar59 + local_1298 * fVar76;
                auVar98._4_4_ = fStack_1274 * fVar59 + fStack_1294 * fVar76;
                auVar98._8_4_ = fStack_1270 * fVar59 + fStack_1290 * fVar76;
                auVar98._12_4_ = fStack_126c * fVar59 + fStack_128c * fVar76;
                auVar82._0_4_ = fVar76 * local_12a8 + fVar59 * local_1288;
                auVar82._4_4_ = fVar76 * fStack_12a4 + fVar59 * fStack_1284;
                auVar82._8_4_ = fVar76 * fStack_12a0 + fVar59 * fStack_1280;
                auVar82._12_4_ = fVar76 * fStack_129c + fVar59 * fStack_127c;
                auVar111 = maxps(auVar98,auVar116);
                auVar79 = minps(auVar82,auVar115);
                auVar57._0_4_ = local_1278 * fVar87 + local_1298 * fVar65;
                auVar57._4_4_ = fStack_1274 * fVar87 + fStack_1294 * fVar65;
                auVar57._8_4_ = fStack_1270 * fVar87 + fStack_1290 * fVar65;
                auVar57._12_4_ = fStack_126c * fVar87 + fStack_128c * fVar65;
                auVar64._0_4_ = fVar87 * local_1288 + fVar65 * local_12a8;
                auVar64._4_4_ = fVar87 * fStack_1284 + fVar65 * fStack_12a4;
                auVar64._8_4_ = fVar87 * fStack_1280 + fVar65 * fStack_12a0;
                auVar64._12_4_ = fVar87 * fStack_127c + fVar65 * fStack_129c;
                auVar54 = maxps(auVar57,auVar116);
                auVar61 = minps(auVar64,auVar115);
                fVar65 = (float)((uint)auVar111._0_4_ & uVar20) * fVar52 + auVar111._0_4_;
                fVar76 = (float)((uint)auVar111._4_4_ & uVar20) * fVar52 + auVar111._4_4_;
                fVar87 = (float)((uint)auVar111._8_4_ & uVar20) * fVar52 + auVar111._8_4_;
                *(float *)((long)puVar28 + 0x3c) = fVar65;
                fVar59 = auVar79._0_4_ - (float)((uint)auVar79._0_4_ & uVar20) * fVar52;
                fVar104 = auVar79._4_4_ - (float)((uint)auVar79._4_4_ & uVar20) * fVar52;
                fVar102 = auVar79._8_4_ - (float)((uint)auVar79._8_4_ & uVar20) * fVar52;
                *(float *)((long)puVar28 + 0x2c) = fVar59;
                *(float *)((long)puVar28 + 0x8c) =
                     (auVar61._0_4_ - (float)(uVar20 & (uint)auVar61._0_4_) * fVar52) - fVar59;
                *(float *)((long)puVar28 + 0x4c) = fVar104;
                *(float *)((long)puVar28 + 0x6c) = fVar102;
                *(float *)((long)puVar28 + 0x5c) = fVar76;
                *(float *)((long)puVar28 + 0x7c) = fVar87;
                *(float *)((long)puVar28 + 0xac) =
                     (auVar61._4_4_ - (float)(uVar20 & (uint)auVar61._4_4_) * fVar52) - fVar104;
                *(float *)((long)puVar28 + 0xcc) =
                     (auVar61._8_4_ - (float)(uVar20 & (uint)auVar61._8_4_) * fVar52) - fVar102;
                *(float *)((long)puVar28 + 0x9c) =
                     (auVar54._0_4_ + (float)((uint)auVar54._0_4_ & uVar20) * fVar52) - fVar65;
                *(float *)((long)puVar28 + 0xbc) =
                     (auVar54._4_4_ + (float)((uint)auVar54._4_4_ & uVar20) * fVar52) - fVar76;
                *(float *)((long)puVar28 + 0xdc) =
                     (auVar54._8_4_ + (float)((uint)auVar54._8_4_ & uVar20) * fVar52) - fVar87;
              }
            }
          }
        }
        else {
LAB_001282a9:
          uVar20 = _LC33;
          uVar90 = _LC29;
          fVar65 = _LC3;
          if (local_258 != 0) {
            puVar28 = (ulong *)(uVar25 & 0xfffffffffffffff0);
            *puVar28 = (ulong)local_13d8;
            uVar21 = _LC6;
            fVar52 = _LC39;
            auVar119._4_4_ = uVar90;
            auVar119._0_4_ = uVar90;
            auVar119._8_4_ = uVar90;
            auVar119._12_4_ = uVar90;
            fVar104 = fVar65 / (local_1388._4_4_ - (float)local_1388);
            fVar76 = (float)((uint)(float)local_1388 ^ uVar20) * fVar104;
            fVar104 = (fVar65 - (float)local_1388) * fVar104;
            fVar59 = fVar65 - fVar76;
            fVar87 = fVar65 - fVar104;
            auVar105._0_4_ = (float)local_13b8 * fVar59 + (float)local_1398 * fVar76;
            auVar105._4_4_ = local_13b8._4_4_ * fVar59 + local_1398._4_4_ * fVar76;
            auVar105._8_4_ = (float)uStack_13b0 * fVar59 + (float)uStack_1390 * fVar76;
            auVar105._12_4_ = uStack_13b0._4_4_ * fVar59 + uStack_1390._4_4_ * fVar76;
            auVar88._0_4_ = fVar59 * (float)local_13c8 + fVar76 * (float)local_13a8;
            auVar88._4_4_ = fVar59 * local_13c8._4_4_ + fVar76 * local_13a8._4_4_;
            auVar88._8_4_ = fVar59 * (float)uStack_13c0 + fVar76 * (float)uStack_13a0;
            auVar88._12_4_ = fVar59 * uStack_13c0._4_4_ + fVar76 * uStack_13a0._4_4_;
            auVar99._4_4_ = _LC35;
            auVar99._0_4_ = _LC35;
            auVar99._8_4_ = _LC35;
            auVar99._12_4_ = _LC35;
            auVar111 = maxps(auVar105,auVar99);
            auVar79 = minps(auVar88,auVar119);
            auVar66._0_4_ = (float)local_13b8 * fVar87 + (float)local_1398 * fVar104;
            auVar66._4_4_ = local_13b8._4_4_ * fVar87 + local_1398._4_4_ * fVar104;
            auVar66._8_4_ = (float)uStack_13b0 * fVar87 + (float)uStack_1390 * fVar104;
            auVar66._12_4_ = uStack_13b0._4_4_ * fVar87 + uStack_1390._4_4_ * fVar104;
            auVar54 = maxps(auVar66,auVar99);
            auVar67._0_4_ = (float)local_13c8 * fVar87 + fVar104 * (float)local_13a8;
            auVar67._4_4_ = local_13c8._4_4_ * fVar87 + fVar104 * local_13a8._4_4_;
            auVar67._8_4_ = (float)uStack_13c0 * fVar87 + fVar104 * (float)uStack_13a0;
            auVar67._12_4_ = uStack_13c0._4_4_ * fVar87 + fVar104 * uStack_13a0._4_4_;
            auVar61 = minps(auVar67,auVar119);
            fVar122 = (float)((uint)auVar54._0_4_ & _LC6) * _LC39;
            fVar124 = (float)((uint)auVar54._4_4_ & _LC6) * _LC39;
            fVar125 = (float)((uint)auVar54._8_4_ & _LC6) * _LC39;
            fVar104 = (float)((uint)auVar111._0_4_ & _LC6) * _LC39 + auVar111._0_4_;
            fVar102 = (float)((uint)auVar111._4_4_ & _LC6) * _LC39 + auVar111._4_4_;
            fVar103 = (float)((uint)auVar111._8_4_ & _LC6) * _LC39 + auVar111._8_4_;
            fVar76 = (float)((uint)auVar79._0_4_ & _LC6) * _LC39;
            fVar87 = (float)((uint)auVar79._4_4_ & _LC6) * _LC39;
            fVar59 = (float)((uint)auVar79._8_4_ & _LC6) * _LC39;
            *(float *)(puVar28 + 6) = fVar104;
            fVar76 = auVar79._0_4_ - fVar76;
            fVar87 = auVar79._4_4_ - fVar87;
            fVar59 = auVar79._8_4_ - fVar59;
            *(float *)(puVar28 + 4) = fVar76;
            *(float *)(puVar28 + 8) = fVar87;
            *(float *)(puVar28 + 0xc) = fVar59;
            *(float *)(puVar28 + 10) = fVar102;
            *(float *)(puVar28 + 0x10) =
                 (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar21) * fVar52) - fVar76;
            *(float *)(puVar28 + 0x12) = (fVar122 + auVar54._0_4_) - fVar104;
            *(float *)(puVar28 + 0x18) =
                 (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar21) * fVar52) - fVar59;
            *(float *)(puVar28 + 0x14) =
                 (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar21) * fVar52) - fVar87;
            *(float *)(puVar28 + 0xe) = fVar103;
            *(float *)(puVar28 + 0x16) = (fVar124 + auVar54._4_4_) - fVar102;
            *(float *)(puVar28 + 0x1a) = (fVar125 + auVar54._8_4_) - fVar103;
            *(float *)(puVar28 + 0x1c) = (float)local_1388;
            fVar76 = local_1388._4_4_;
            if (local_1388._4_4_ == fVar65) {
              fVar76 = _LC32;
            }
            *(float *)(puVar28 + 0x1e) = fVar76;
            if (local_258 != 1) {
              puVar28[1] = (ulong)local_1378;
              fVar59 = fVar65 / (local_1324 - local_1328);
              fVar87 = (float)((uint)local_1328 ^ uVar20) * fVar59;
              fVar76 = fVar65 - fVar87;
              fVar59 = (fVar65 - local_1328) * fVar59;
              fVar104 = fVar65 - fVar59;
              auVar106._0_4_ = (float)local_1358 * fVar76 + local_1338 * fVar87;
              auVar106._4_4_ = local_1358._4_4_ * fVar76 + fStack_1334 * fVar87;
              auVar106._8_4_ = (float)uStack_1350 * fVar76 + fStack_1330 * fVar87;
              auVar106._12_4_ = uStack_1350._4_4_ * fVar76 + fStack_132c * fVar87;
              auVar68._0_4_ = fVar76 * (float)local_1368 + fVar87 * local_1348;
              auVar68._4_4_ = fVar76 * local_1368._4_4_ + fVar87 * fStack_1344;
              auVar68._8_4_ = fVar76 * (float)uStack_1360 + fVar87 * fStack_1340;
              auVar68._12_4_ = fVar76 * uStack_1360._4_4_ + fVar87 * fStack_133c;
              auVar79 = maxps(auVar106,auVar99);
              auVar54 = minps(auVar68,auVar119);
              auVar69._0_4_ = (float)local_1358 * fVar104 + local_1338 * fVar59;
              auVar69._4_4_ = local_1358._4_4_ * fVar104 + fStack_1334 * fVar59;
              auVar69._8_4_ = (float)uStack_1350 * fVar104 + fStack_1330 * fVar59;
              auVar69._12_4_ = uStack_1350._4_4_ * fVar104 + fStack_132c * fVar59;
              auVar61 = maxps(auVar69,auVar99);
              local_1c68._0_4_ = auVar61._0_4_;
              local_1c68._4_4_ = auVar61._4_4_;
              fStack_1c60 = auVar61._8_4_;
              auVar70._0_4_ = fVar104 * (float)local_1368 + local_1348 * fVar59;
              auVar70._4_4_ = fVar104 * local_1368._4_4_ + fStack_1344 * fVar59;
              auVar70._8_4_ = fVar104 * (float)uStack_1360 + fStack_1340 * fVar59;
              auVar70._12_4_ = fVar104 * uStack_1360._4_4_ + fStack_133c * fVar59;
              auVar61 = minps(auVar70,auVar119);
              fVar76 = auVar79._0_4_ + (float)((uint)auVar79._0_4_ & uVar21) * fVar52;
              fVar87 = auVar79._4_4_ + (float)((uint)auVar79._4_4_ & uVar21) * fVar52;
              fVar59 = auVar79._8_4_ + (float)((uint)auVar79._8_4_ & uVar21) * fVar52;
              *(float *)((long)puVar28 + 0x34) = fVar76;
              fVar104 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar21) * fVar52;
              fVar102 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar21) * fVar52;
              fVar103 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar21) * fVar52;
              *(float *)((long)puVar28 + 0x24) = fVar104;
              *(float *)((long)puVar28 + 0x44) = fVar102;
              *(float *)((long)puVar28 + 100) = fVar103;
              *(float *)((long)puVar28 + 0x54) = fVar87;
              *(float *)((long)puVar28 + 0x84) =
                   (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar21) * fVar52) - fVar104;
              *(float *)((long)puVar28 + 0x74) = fVar59;
              *(float *)((long)puVar28 + 0xa4) =
                   (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar21) * fVar52) - fVar102;
              *(float *)((long)puVar28 + 0xc4) =
                   (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar21) * fVar52) - fVar103;
              *(float *)((long)puVar28 + 0x94) =
                   ((float)((uint)(float)local_1c68 & uVar21) * fVar52 + (float)local_1c68) - fVar76
              ;
              *(float *)((long)puVar28 + 0xd4) =
                   ((float)((uint)fStack_1c60 & uVar21) * fVar52 + fStack_1c60) - fVar59;
              *(float *)((long)puVar28 + 0xb4) =
                   ((float)((uint)local_1c68._4_4_ & uVar21) * fVar52 + local_1c68._4_4_) - fVar87;
              *(float *)((long)puVar28 + 0xe4) = local_1328;
              if (local_1324 == fVar65) {
                local_1324 = _LC32;
              }
              *(float *)((long)puVar28 + 0xf4) = local_1324;
              if (local_258 != 2) {
                puVar28[2] = local_1318;
                fVar59 = fVar65 / (local_12c4 - local_12c8);
                fVar87 = (float)((uint)local_12c8 ^ uVar20) * fVar59;
                fVar76 = fVar65 - fVar87;
                fVar59 = (fVar65 - local_12c8) * fVar59;
                fVar104 = fVar65 - fVar59;
                auVar107._0_4_ = local_12f8 * fVar76 + local_12d8 * fVar87;
                auVar107._4_4_ = fStack_12f4 * fVar76 + fStack_12d4 * fVar87;
                auVar107._8_4_ = fStack_12f0 * fVar76 + fStack_12d0 * fVar87;
                auVar107._12_4_ = fStack_12ec * fVar76 + fStack_12cc * fVar87;
                auVar71._0_4_ = fVar76 * local_1308 + fVar87 * local_12e8;
                auVar71._4_4_ = fVar76 * fStack_1304 + fVar87 * fStack_12e4;
                auVar71._8_4_ = fVar76 * fStack_1300 + fVar87 * fStack_12e0;
                auVar71._12_4_ = fVar76 * fStack_12fc + fVar87 * fStack_12dc;
                auVar79 = maxps(auVar107,auVar99);
                auVar54 = minps(auVar71,auVar119);
                auVar72._0_4_ = local_12f8 * fVar104 + local_12d8 * fVar59;
                auVar72._4_4_ = fStack_12f4 * fVar104 + fStack_12d4 * fVar59;
                auVar72._8_4_ = fStack_12f0 * fVar104 + fStack_12d0 * fVar59;
                auVar72._12_4_ = fStack_12ec * fVar104 + fStack_12cc * fVar59;
                auVar61 = maxps(auVar72,auVar99);
                local_1c68._0_4_ = auVar61._0_4_;
                local_1c68._4_4_ = auVar61._4_4_;
                fStack_1c60 = auVar61._8_4_;
                auVar73._0_4_ = fVar104 * local_1308 + local_12e8 * fVar59;
                auVar73._4_4_ = fVar104 * fStack_1304 + fStack_12e4 * fVar59;
                auVar73._8_4_ = fVar104 * fStack_1300 + fStack_12e0 * fVar59;
                auVar73._12_4_ = fVar104 * fStack_12fc + fStack_12dc * fVar59;
                auVar61 = minps(auVar73,auVar119);
                fVar76 = auVar79._0_4_ + (float)((uint)auVar79._0_4_ & uVar21) * fVar52;
                fVar87 = auVar79._4_4_ + (float)((uint)auVar79._4_4_ & uVar21) * fVar52;
                fVar59 = auVar79._8_4_ + (float)((uint)auVar79._8_4_ & uVar21) * fVar52;
                *(float *)(puVar28 + 7) = fVar76;
                fVar104 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar21) * fVar52;
                fVar102 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar21) * fVar52;
                fVar103 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar21) * fVar52;
                *(float *)(puVar28 + 5) = fVar104;
                *(float *)(puVar28 + 9) = fVar102;
                *(float *)(puVar28 + 0xd) = fVar103;
                *(float *)(puVar28 + 0xb) = fVar87;
                *(float *)(puVar28 + 0x11) =
                     (auVar61._0_4_ - (float)((uint)auVar61._0_4_ & uVar21) * fVar52) - fVar104;
                *(float *)(puVar28 + 0xf) = fVar59;
                *(float *)(puVar28 + 0x15) =
                     (auVar61._4_4_ - (float)((uint)auVar61._4_4_ & uVar21) * fVar52) - fVar102;
                *(float *)(puVar28 + 0x19) =
                     (auVar61._8_4_ - (float)((uint)auVar61._8_4_ & uVar21) * fVar52) - fVar103;
                *(float *)(puVar28 + 0x13) =
                     ((float)((uint)(float)local_1c68 & uVar21) * fVar52 + (float)local_1c68) -
                     fVar76;
                *(float *)(puVar28 + 0x1b) =
                     ((float)((uint)fStack_1c60 & uVar21) * fVar52 + fStack_1c60) - fVar59;
                *(float *)(puVar28 + 0x17) =
                     ((float)((uint)local_1c68._4_4_ & uVar21) * fVar52 + local_1c68._4_4_) - fVar87
                ;
                *(float *)(puVar28 + 0x1d) = local_12c8;
                if (local_12c4 == fVar65) {
                  local_12c4 = _LC32;
                }
                *(float *)(puVar28 + 0x1f) = local_12c4;
                if (local_258 != 3) {
                  puVar28[3] = local_12b8;
                  fVar87 = fVar65 / (local_1264 - local_1268);
                  fVar104 = (float)(uVar20 ^ (uint)local_1268) * fVar87;
                  fVar87 = (fVar65 - local_1268) * fVar87;
                  fVar76 = fVar65 - fVar104;
                  fVar59 = fVar65 - fVar87;
                  auVar108._0_4_ = local_1278 * fVar104 + local_1298 * fVar76;
                  auVar108._4_4_ = fStack_1274 * fVar104 + fStack_1294 * fVar76;
                  auVar108._8_4_ = fStack_1270 * fVar104 + fStack_1290 * fVar76;
                  auVar108._12_4_ = fStack_126c * fVar104 + fStack_128c * fVar76;
                  auVar74._0_4_ = fVar104 * local_1288 + fVar76 * local_12a8;
                  auVar74._4_4_ = fVar104 * fStack_1284 + fVar76 * fStack_12a4;
                  auVar74._8_4_ = fVar104 * fStack_1280 + fVar76 * fStack_12a0;
                  auVar74._12_4_ = fVar104 * fStack_127c + fVar76 * fStack_129c;
                  auVar111 = maxps(auVar108,auVar99);
                  auVar54 = minps(auVar74,auVar119);
                  auVar89._0_4_ = local_1278 * fVar87 + local_1298 * fVar59;
                  auVar89._4_4_ = fStack_1274 * fVar87 + fStack_1294 * fVar59;
                  auVar89._8_4_ = fStack_1270 * fVar87 + fStack_1290 * fVar59;
                  auVar89._12_4_ = fStack_126c * fVar87 + fStack_128c * fVar59;
                  auVar61 = maxps(auVar89,auVar99);
                  auVar100._0_4_ = fVar87 * local_1288 + fVar59 * local_12a8;
                  auVar100._4_4_ = fVar87 * fStack_1284 + fVar59 * fStack_12a4;
                  auVar100._8_4_ = fVar87 * fStack_1280 + fVar59 * fStack_12a0;
                  auVar100._12_4_ = fVar87 * fStack_127c + fVar59 * fStack_129c;
                  auVar79 = minps(auVar100,auVar119);
                  fVar104 = auVar111._0_4_ + (float)((uint)auVar111._0_4_ & uVar21) * fVar52;
                  fVar102 = auVar111._4_4_ + (float)((uint)auVar111._4_4_ & uVar21) * fVar52;
                  fVar103 = auVar111._8_4_ + (float)((uint)auVar111._8_4_ & uVar21) * fVar52;
                  *(float *)((long)puVar28 + 0x3c) = fVar104;
                  fVar76 = auVar54._0_4_ - (float)((uint)auVar54._0_4_ & uVar21) * fVar52;
                  fVar87 = auVar54._4_4_ - (float)((uint)auVar54._4_4_ & uVar21) * fVar52;
                  fVar59 = auVar54._8_4_ - (float)((uint)auVar54._8_4_ & uVar21) * fVar52;
                  *(float *)((long)puVar28 + 0x2c) = fVar76;
                  *(float *)((long)puVar28 + 0x4c) = fVar87;
                  *(float *)((long)puVar28 + 0x6c) = fVar59;
                  *(float *)((long)puVar28 + 0x5c) = fVar102;
                  *(float *)((long)puVar28 + 0x8c) =
                       (auVar79._0_4_ - (float)(uVar21 & (uint)auVar79._0_4_) * fVar52) - fVar76;
                  *(float *)((long)puVar28 + 0xac) =
                       (auVar79._4_4_ - (float)(uVar21 & (uint)auVar79._4_4_) * fVar52) - fVar87;
                  *(float *)((long)puVar28 + 0xcc) =
                       (auVar79._8_4_ - (float)(uVar21 & (uint)auVar79._8_4_) * fVar52) - fVar59;
                  *(float *)((long)puVar28 + 0x7c) = fVar103;
                  *(float *)((long)puVar28 + 0x9c) =
                       ((float)((uint)auVar61._0_4_ & uVar21) * fVar52 + auVar61._0_4_) - fVar104;
                  *(float *)((long)puVar28 + 0xbc) =
                       ((float)((uint)auVar61._4_4_ & uVar21) * fVar52 + auVar61._4_4_) - fVar102;
                  *(float *)((long)puVar28 + 0xdc) =
                       ((float)((uint)auVar61._8_4_ & uVar21) * fVar52 + auVar61._8_4_) - fVar103;
                  *(float *)((long)puVar28 + 0xec) = local_1268;
                  if (local_1264 == fVar65) {
                    local_1264 = _LC32;
                  }
                  *(float *)((long)puVar28 + 0xfc) = local_1264;
                }
              }
            }
          }
        }
      }
    }
    else {
      lVar45 = local_258 - 1;
      if (-1 < lVar45) {
        puVar33 = &local_1438 + local_258 * 0xc;
        puVar50 = auStack_e88 + local_258 * 0xb0;
        do {
          lVar45 = lVar45 + -1;
          recurse(&local_1628,param_2,puVar50,0);
          puVar33[2] = local_1618;
          puVar33[3] = uStack_1610;
          auVar95 = minps(auVar95,_local_15f8);
          auVar97 = maxps(auVar97,_local_15e8);
          puVar33[6] = local_15f8;
          puVar33[7] = uStack_15f0;
          puVar33[4] = local_1608;
          puVar33[5] = uStack_1600;
          auVar93 = minps(auVar93,_local_1618);
          *(undefined4 *)(puVar33 + 10) = local_15d8._0_4_;
          puVar33[8] = local_15e8;
          puVar33[9] = uStack_15e0;
          auVar91 = maxps(auVar91,_local_1608);
          *puVar33 = local_1628;
          *(undefined4 *)((long)puVar33 + 0x54) = local_15d8._4_4_;
          puVar33 = puVar33 + -0xc;
          puVar50 = puVar50 + -0xb0;
        } while (lVar45 != -1);
      }
      if (((uint)uVar25 & 0xf) != 1) goto LAB_001282a9;
      if (local_258 != 0) goto LAB_001259cf;
    }
    if (local_1a71) {
      ppSVar37 = (SetMB **)param_3[0xf];
      pSVar30 = (SetMB *)param_3[0xe];
      local_1628._0_4_ = SUB164(_local_1bc8,0);
      local_1628._4_4_ = SUB164(_local_1bc8,4);
      uStack_1620._0_4_ = SUB164(_local_1bc8,8);
      uStack_1620._4_4_ = SUB164(_local_1bc8,0xc);
      ppSStack_1930 = (SetMB **)(param_2 + 0xb);
      _local_1608 = _local_1bc8;
      _local_1618 = _local_1bd8;
      _local_15f8 = _local_1bd8;
      local_1938 = pSVar5;
      if ((ulong)((long)ppSVar37 - (long)pSVar30) < 0xc00) {
        local_18a8 = pSVar30;
        ppSStack_18a0 = ppSVar37;
        const::{lambda(embree::range<unsigned_long>const&)#1}::operator()
                  ((_lambda_embree__range<unsigned_long>const___1_ *)&local_16d8,
                   (range *)&local_1938);
      }
      else {
        parallel_reduce_internal<unsigned_long,embree::LBBox<embree::Vec3fa>,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::range<unsigned_long>const&)_1_,embree::SetMB::linearBounds<embree::sse2::RecalculatePrimRef<embree::TriangleMesh>>(embree::sse2::RecalculatePrimRef<embree::TriangleMesh>const&)const::_lambda(embree::LBBox<embree::Vec3fa>const&,embree::LBBox<embree::Vec3fa>const&)_2_>
                  ((ulong)&local_16d8,((long)ppSVar37 - (long)pSVar30) + 0x3ffU >> 10,(ulong)pSVar30
                   ,(ulong)ppSVar37,(LBBox_conflict *)0x400,
                   (_lambda_embree__range<unsigned_long>_const___1_ *)&local_1628,
                   (_lambda_embree__LBBox<embree::Vec3fa>_const__embree__LBBox<embree::Vec3fa>_const___2_
                    *)&local_1938);
      }
      *(ulong *)(param_1 + 0x10) = CONCAT44(local_16d8._4_4_,(float)local_16d8);
      *(ulong *)(param_1 + 0x18) = CONCAT44(fStack_16cc,fStack_16d0);
      *(ulong *)param_1 = uVar25;
      *(undefined1 (*) [8])(param_1 + 0x20) = local_16c8;
      *(SetMB **)(param_1 + 0x28) = uStack_16c0;
      *(undefined1 (*) [8])(param_1 + 0x30) = local_16b8;
      *(SetMB ***)(param_1 + 0x38) = uStack_16b0;
      *(undefined1 (*) [8])(param_1 + 0x40) = local_16a8;
      *(SetMB **)(param_1 + 0x48) = uStack_16a0;
      *(long *)(param_1 + 0x50) = param_3[0x13];
    }
    else {
      *(ulong *)param_1 = uVar25;
      *(undefined1 (*) [16])(param_1 + 0x10) = auVar93;
      *(undefined1 (*) [16])(param_1 + 0x20) = auVar91;
      *(undefined1 (*) [16])(param_1 + 0x30) = auVar95;
      *(undefined1 (*) [16])(param_1 + 0x40) = auVar97;
      *(long *)(param_1 + 0x50) = param_3[0x13];
    }
    uVar25 = 0;
    if (local_258 != 0) {
      do {
        ppSVar4 = local_2d8[uVar25];
        ppSVar37 = ppSVar4 + 1;
        *ppSVar37 = *ppSVar37 + -1;
        if ((*ppSVar37 == (SetMB *)0x0) && (pSVar5 = *ppSVar4, pSVar5 != (SetMB *)0x0)) {
          pvVar3 = *(void **)(pSVar5 + 0x20);
          lVar45 = *(long *)(pSVar5 + 0x18);
          if (pvVar3 != (void *)0x0) {
            if ((ulong)(lVar45 * 0x50) < 0x1c00000) {
              embree::alignedFree(pvVar3);
            }
            else {
              embree::os_free(pvVar3,lVar45 * 0x50,(bool)pSVar5[8]);
            }
          }
          if (lVar45 != 0) {
            (**(code **)**(undefined8 **)pSVar5)(*(undefined8 **)pSVar5,lVar45 * -0x50,1);
          }
          operator_delete(pSVar5,0x28);
        }
        uVar25 = uVar25 + 1;
      } while (uVar25 < local_258);
    }
    goto LAB_00123d74;
  }
  puVar33 = (undefined8 *)(*(long *)(param_3[0x14] + 0x20) + uVar25 * 0x50);
  puVar49 = (undefined8 *)(*(long *)(param_3[0x14] + 0x20) + (long)local_1b78 * 0x50);
  if (puVar33 != puVar49) {
    lVar45 = uVar25 * 0x50 + (long)local_1b78 * -0x50;
    uVar25 = (lVar45 >> 4) * -0x3333333333333333;
    if (uVar25 == 0) {
      std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (puVar49,puVar33,0xfffffffffffffffe);
    }
    else {
      lVar38 = 0x3f;
      if (uVar25 != 0) {
        for (; uVar25 >> lVar38 == 0; lVar38 = lVar38 + -1) {
        }
      }
      std::__introsort_loop<embree::PrimRefMB*,long,__gnu_cxx::__ops::_Iter_less_iter>
                (puVar49,puVar33,(long)(int)lVar38 * 2);
      if (0x500 < lVar45) {
        puVar44 = puVar49 + 0xa0;
        std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>(puVar49,puVar44)
        ;
        for (; puVar33 != puVar44; puVar44 = puVar44 + 10) {
          uVar58 = *(undefined4 *)((long)puVar44 + 0x1c);
          uVar86 = *(undefined4 *)((long)puVar44 + 0xc);
          uVar32 = puVar44[4];
          uVar7 = puVar44[5];
          uVar8 = puVar44[6];
          uVar9 = puVar44[7];
          uVar10 = puVar44[2];
          uVar11 = puVar44[3];
          uVar90 = *(undefined4 *)(puVar44 + 8);
          uVar92 = *(undefined4 *)((long)puVar44 + 0x44);
          uVar12 = *puVar44;
          uVar13 = puVar44[1];
          uVar25 = CONCAT44(*(undefined4 *)((long)puVar44 + -0x34),
                            *(undefined4 *)((long)puVar44 + -0x44));
          puVar49 = puVar44;
          while (CONCAT44(uVar58,uVar86) < uVar25) {
            *puVar49 = puVar49[-10];
            puVar49[1] = puVar49[-9];
            *(undefined4 *)(puVar49 + 8) = *(undefined4 *)(puVar49 + -2);
            puVar49[2] = puVar49[-8];
            puVar49[3] = puVar49[-7];
            *(undefined4 *)((long)puVar49 + 0x44) = *(undefined4 *)((long)puVar49 + -0xc);
            puVar49[4] = puVar49[-6];
            puVar49[5] = puVar49[-5];
            *(undefined1 (*) [16])(puVar49 + 6) = *(undefined1 (*) [16])(puVar49 + -4);
            uVar25 = CONCAT44(*(undefined4 *)((long)puVar49 + -0x84),
                              *(undefined4 *)((long)puVar49 + -0x94));
            puVar49 = puVar49 + -10;
          }
          *puVar49 = uVar12;
          puVar49[1] = uVar13;
          puVar49[2] = uVar10;
          puVar49[3] = uVar11;
          puVar49[4] = uVar32;
          puVar49[5] = uVar7;
          puVar49[6] = uVar8;
          puVar49[7] = uVar9;
          *(undefined4 *)(puVar49 + 8) = uVar90;
          *(undefined4 *)((long)puVar49 + 0x44) = uVar92;
        }
        goto LAB_00123d22;
      }
    }
    std::__insertion_sort<embree::PrimRefMB*,__gnu_cxx::__ops::_Iter_less_iter>(puVar49,puVar33);
  }
LAB_00123d22:
  createLargeLeaf(param_1,param_2,param_3);
LAB_00123d74:
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return param_1;
LAB_0012a35b:
  local_1628._0_4_ = (float)local_16d8;
  local_1628._4_4_ = local_16d8._4_4_;
  std::__exception_ptr::exception_ptr::_M_addref();
  std::rethrow_exception(&local_1628);
LAB_0012a37b:
  SetMB::deterministic_order(pSVar5);
  splitByGeometry(pSVar5,(SetMB *)&local_1818,(SetMB *)local_1778);
  pSVar42 = (SetMB *)*param_3;
  fVar104 = *(float *)(param_3 + 2);
  fVar102 = *(float *)((long)param_3 + 0x14);
  fVar103 = *(float *)(param_3 + 3);
  uVar92 = *(undefined4 *)((long)param_3 + 0x1c);
  fVar76 = *(float *)(param_3 + 4);
  fVar87 = *(float *)((long)param_3 + 0x24);
  fVar59 = *(float *)(param_3 + 5);
  uVar90 = *(undefined4 *)((long)param_3 + 0x2c);
  fVar77 = *(float *)(param_3 + 6);
  fVar84 = *(float *)((long)param_3 + 0x34);
  fVar85 = *(float *)(param_3 + 7);
  uVar86 = *(undefined4 *)((long)param_3 + 0x3c);
  fVar122 = *(float *)(param_3 + 8);
  fVar124 = *(float *)((long)param_3 + 0x44);
  fVar125 = *(float *)(param_3 + 9);
  uVar58 = *(undefined4 *)((long)param_3 + 0x4c);
  pSVar30 = (SetMB *)param_3[0x10];
  fVar65 = *(float *)(param_3 + 0x13);
  fVar52 = *(float *)((long)param_3 + 0x9c);
LAB_00129877:
  pSVar35 = (SetMB *)param_3[0x14];
  uStack_1c20 = ppSStack_1810;
  _local_1c28 = local_1818;
  local_1c48._0_8_ = local_17a8;
  uStack_1c10 = pSStack_1800;
  local_1c18 = (undefined1  [8])local_1808;
  auVar95 = ZEXT416((uint)local_1790._4_4_);
  uStack_1c00 = ppSStack_17f0;
  _local_1c08 = local_17f8;
  local_1c58 = local_17a0;
  uStack_1bf0 = pSStack_17e0;
  _local_1bf8 = local_17e8;
  uStack_1be0 = ppSStack_17d0;
  local_1be8 = (undefined1  [8])local_17d8;
  local_1c68 = local_1788;
  uStack_1b90 = pSStack_17c0;
  local_1b98 = (undefined1  [8])local_17c8;
  local_1c38._0_8_ = local_1718;
  uStack_1b80 = uStack_1730;
  local_1b88 = (undefined1  [8])local_1738;
  local_1bc8._4_4_ = _LC10;
  local_1bc8._0_4_ = _LC10;
  uStack_1bc0._0_4_ = _LC10;
  uStack_1bc0._4_4_ = _LC10;
  local_1bd8._4_4_ = _LC8;
  local_1bd8._0_4_ = _LC8;
  uStack_1bd0._0_4_ = _LC8;
  uStack_1bd0._4_4_ = _LC8;
  fVar94 = local_16f0._4_4_;
  fVar96 = (float)local_16f0;
  fVar121 = (float)local_1790;
  goto LAB_001242b9;
}



/* embree::TaskScheduler::ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1}>(unsigned long, unsigned long, unsigned long,
   embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,
   embree::sse2::RecalculatePrimRef<embree::TriangleMesh>, embree::FastAllocator::CachedAllocator,
   embree::BVHN<4>::CreateAlloc, embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Create,
   embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>, 4>::Set, embree::sse2::CreateMSMBlurLeaf<4,
   embree::TriangleMesh, embree::TriangleMvMB<4> >,
   embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord
   const&, embree::FastAllocator::CachedAllocator, bool)::{lambda(embree::range<unsigned long>
   const&)#1} const&, embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>::execute() */

void __thiscall
embree::TaskScheduler::
ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::{lambda(embree::range<unsigned_long>const&)#1}>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::{lambda(embree::range<unsigned_long>const&)#1}const&,embree::TaskScheduler::TaskGroupContext*)::{lambda()#1}>
::execute(ClosureTaskFunction<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
          *this)

{
  int *piVar1;
  ulong uVar2;
  undefined8 *puVar3;
  TaskGroupContext *pTVar4;
  long lVar5;
  long lVar6;
  long lVar7;
  ulong uVar8;
  ulong *puVar9;
  TaskScheduler *pTVar10;
  long lVar11;
  ulong uVar12;
  long in_FS_OFFSET;
  long local_d8;
  ulong uStack_d0;
  undefined8 local_c8;
  undefined8 uStack_c0;
  undefined8 uStack_b8;
  undefined8 uStack_b0;
  TaskGroupContext *local_a8;
  ulong local_98;
  ulong uStack_90;
  ulong local_88;
  ulong uStack_80;
  ulong uStack_78;
  ulong uStack_70;
  TaskGroupContext *local_68;
  ulong uStack_60;
  ulong local_58;
  ulong uStack_50;
  ulong local_48;
  long local_30;
  
  uVar12 = *(ulong *)(this + 8);
  uVar8 = *(ulong *)(this + 0x10);
  local_30 = *(long *)(in_FS_OFFSET + 0x28);
  if (*(ulong *)(this + 0x18) < uVar12 - uVar8) {
    pTVar4 = *(TaskGroupContext **)(this + 0x38);
    uStack_80 = *(ulong *)(this + 0x20);
    uStack_78 = *(ulong *)(this + 0x28);
    uStack_70 = *(ulong *)(this + 0x30);
    uVar12 = uVar12 + uVar8 >> 1;
    local_98 = uVar12;
    uStack_90 = uVar8;
    local_88 = *(ulong *)(this + 0x18);
    local_68 = pTVar4;
    lVar6 = embree::TaskScheduler::thread();
    if (lVar6 == 0) {
      pTVar10 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar10,(_lambda___1_ *)&local_98,pTVar4,uVar12 - uVar8,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar6 + 0x40080)) goto LAB_0012ad16;
      lVar11 = *(long *)(lVar6 + 0xc00c0);
      uVar2 = lVar11 + 0x40 + (ulong)(-(int)lVar11 & 0x3f);
      if (0x80000 < uVar2) goto LAB_0012ad16;
      *(ulong *)(lVar6 + 0xc00c0) = uVar2;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar2);
      *puVar3 = &PTR_execute_0012d488;
      puVar3[1] = local_98;
      puVar3[2] = uStack_90;
      puVar3[7] = local_68;
      puVar3[3] = local_88;
      puVar3[4] = uStack_80;
      puVar3[5] = uStack_78;
      puVar3[6] = uStack_70;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = pTVar4;
      *(long *)(lVar7 + 0x68) = lVar11;
      *(ulong *)(lVar7 + 0x70) = uVar12 - uVar8;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
    }
    local_c8 = *(undefined8 *)(this + 0x18);
    local_d8 = *(long *)(this + 8);
    pTVar4 = *(TaskGroupContext **)(this + 0x38);
    uStack_c0 = *(undefined8 *)(this + 0x20);
    uStack_b8 = *(undefined8 *)(this + 0x28);
    uStack_b0 = *(undefined8 *)(this + 0x30);
    uVar8 = local_d8 - uVar12;
    uStack_d0 = uVar12;
    local_a8 = pTVar4;
    lVar6 = embree::TaskScheduler::thread();
    if (lVar6 == 0) {
      pTVar10 = (TaskScheduler *)embree::TaskScheduler::instance();
      spawn_root<embree::TaskScheduler::spawn<unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_>(unsigned_long,unsigned_long,unsigned_long,embree::sse2::BVHBuilderMSMBlur::BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>::recurse(embree::sse2::BVHBuilderMSMBlur::BuildRecord_const&,embree::FastAllocator::CachedAllocator,bool)::_lambda(embree::range<unsigned_long>const&)_1_const&,embree::TaskScheduler::TaskGroupContext*)::_lambda()_1_>
                (pTVar10,(_lambda___1_ *)&local_d8,pTVar4,uVar8,true);
    }
    else {
      if (0xfff < *(ulong *)(lVar6 + 0x40080)) {
LAB_0012ad16:
                    /* WARNING: Subroutine does not return */
        abort();
      }
      lVar11 = *(long *)(lVar6 + 0xc00c0);
      uVar12 = lVar11 + 0x40 + (ulong)(-(int)lVar11 & 0x3f);
      if (0x80000 < uVar12) goto LAB_0012ad16;
      *(ulong *)(lVar6 + 0xc00c0) = uVar12;
      puVar3 = (undefined8 *)(lVar6 + 0x40080 + uVar12);
      *puVar3 = &PTR_execute_0012d488;
      puVar3[1] = local_d8;
      puVar3[2] = uStack_d0;
      puVar3[7] = local_a8;
      puVar3[3] = local_c8;
      puVar3[4] = uStack_c0;
      puVar3[5] = uStack_b8;
      puVar3[6] = uStack_b0;
      lVar7 = *(long *)(lVar6 + 0x40080) * 0x40;
      piVar1 = (int *)(lVar6 + 0x40 + lVar7);
      lVar5 = *(long *)(lVar6 + 0xc0100);
      *(undefined4 *)(lVar6 + 0x44 + lVar7) = 1;
      *(undefined1 *)(lVar6 + 0x48 + lVar7) = 1;
      lVar7 = lVar7 + lVar6;
      *(undefined8 **)(lVar7 + 0x50) = puVar3;
      *(long *)(lVar7 + 0x58) = lVar5;
      *(TaskGroupContext **)(lVar7 + 0x60) = pTVar4;
      *(long *)(lVar7 + 0x68) = lVar11;
      *(ulong *)(lVar7 + 0x70) = uVar8;
      if (lVar5 != 0) {
        LOCK();
        *(int *)(lVar5 + 4) = *(int *)(lVar5 + 4) + 1;
        UNLOCK();
      }
      LOCK();
      if (*piVar1 == 0) {
        *piVar1 = 1;
      }
      UNLOCK();
      LOCK();
      *(long *)(lVar6 + 0x40080) = *(long *)(lVar6 + 0x40080) + 1;
      UNLOCK();
      if (*(long *)(lVar6 + 0x40080) - 1U <= *(ulong *)(lVar6 + 0x40040)) {
        LOCK();
        *(long *)(lVar6 + 0x40040) = *(long *)(lVar6 + 0x40080) + -1;
        UNLOCK();
      }
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      embree::TaskScheduler::wait();
      return;
    }
  }
  else {
    if (uVar8 < uVar12) {
      lVar6 = uVar8 * 0xb0;
      do {
        local_d8 = 0;
        uStack_d0 = 0;
        lVar11 = *(long *)(this + 0x28) + lVar6;
        lVar6 = lVar6 + 0xb0;
        local_c8 = 0;
        sse2::BVHBuilderMSMBlur::
        BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
        ::recurse(&local_98,*(undefined8 *)(this + 0x30),lVar11,1);
        puVar9 = (ulong *)(uVar8 * 0x60 + *(long *)(this + 0x20));
        uVar8 = uVar8 + 1;
        *puVar9 = local_98;
        puVar9[2] = local_88;
        puVar9[3] = uStack_80;
        puVar9[10] = local_48;
        puVar9[4] = uStack_78;
        puVar9[5] = uStack_70;
        puVar9[6] = (ulong)local_68;
        puVar9[7] = uStack_60;
        puVar9[8] = local_58;
        puVar9[9] = uStack_50;
      } while (uVar8 < uVar12);
    }
    if (local_30 == *(long *)(in_FS_OFFSET + 0x28)) {
      return;
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Globals starting with '_' overlap smaller symbols at the same address */
/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMvMB<4>
   >::buildMultiSegment(unsigned long) */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>>::buildMultiSegment
          (BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>> *this,ulong param_1)

{
  byte bVar1;
  ulong uVar2;
  ulong uVar3;
  ulong uVar4;
  ulong uVar5;
  long lVar6;
  long in_FS_OFFSET;
  double dVar7;
  undefined8 *local_348;
  bool local_340 [8];
  ulong local_338;
  ulong local_330;
  void *local_328;
  undefined8 auStack_318 [2];
  undefined1 auStack_308 [80];
  undefined8 uStack_2b8;
  undefined8 uStack_2b0;
  long lStack_2a8;
  ulong uStack_2a0;
  ulong uStack_298;
  undefined4 uStack_290;
  undefined4 uStack_28c;
  undefined1 uStack_288;
  ulong uStack_280;
  long lStack_270;
  long lStack_268;
  long lStack_260;
  long lStack_258;
  long lStack_248;
  undefined **ppuStack_240;
  undefined8 uStack_238;
  undefined8 local_228;
  undefined8 uStack_220;
  undefined8 uStack_218;
  undefined8 uStack_210;
  undefined8 uStack_208;
  undefined8 uStack_200;
  undefined4 uStack_1f8;
  undefined4 uStack_1f4;
  undefined4 uStack_1f0;
  undefined4 uStack_1ec;
  undefined4 uStack_1e8;
  undefined4 uStack_1e4;
  undefined4 uStack_1e0;
  undefined4 uStack_1dc;
  undefined4 uStack_1d8;
  undefined4 uStack_1d4;
  undefined4 uStack_1d0;
  undefined4 uStack_1cc;
  long local_1c8;
  long local_1c0;
  long local_1b8;
  undefined8 uStack_1b0;
  undefined8 uStack_1a8;
  undefined8 uStack_1a0;
  undefined8 uStack_118;
  undefined8 uStack_110;
  undefined8 auStack_f8 [2];
  undefined8 uStack_e8;
  undefined8 uStack_e0;
  undefined8 uStack_d8;
  undefined8 uStack_d0;
  undefined8 uStack_c8;
  undefined8 uStack_c0;
  undefined4 uStack_b8;
  undefined4 uStack_b4;
  undefined4 uStack_b0;
  undefined4 uStack_ac;
  undefined4 uStack_a8;
  undefined4 uStack_a4;
  undefined4 uStack_a0;
  undefined4 uStack_9c;
  undefined4 uStack_98;
  undefined4 uStack_94;
  undefined4 uStack_90;
  undefined4 uStack_8c;
  long lStack_78;
  undefined8 uStack_70;
  undefined8 uStack_68;
  undefined8 uStack_60;
  undefined8 **ppuStack_58;
  long local_40;
  
  lVar6 = *(long *)(this + 0x18);
  local_40 = *(long *)(in_FS_OFFSET + 0x28);
  local_340[0] = false;
  local_338 = 0;
  local_348 = *(undefined8 **)(lVar6 + 0x188);
  local_330 = 0;
  local_328 = (void *)0x0;
  if (local_348 != (undefined8 *)0x0) {
    local_348 = local_348 + 0xa9;
  }
  if (param_1 != 0) {
    uVar4 = param_1 * 0x50;
    (**(code **)*local_348)(local_348,uVar4,0);
    if (uVar4 < 0x1c00000) {
      local_328 = (void *)embree::alignedMalloc(uVar4,0x10);
    }
    else {
      local_328 = (void *)embree::os_malloc(uVar4,local_340);
    }
    lVar6 = *(long *)(this + 0x18);
    local_330 = param_1;
  }
  local_338 = local_330;
  embree::sse2::createPrimRefArrayMSMBlur
            (0x3f80000000000000,&local_228,lVar6,*(undefined8 *)(this + 0x40),param_1,&local_348,
             *(long *)(*(long *)(this + 0x10) + 0x68) + 600);
  if (local_1c8 == local_1c0) {
    (**(code **)(**(long **)(this + 0x10) + 0x28))();
    uVar4 = local_330;
  }
  else {
    dVar7 = (double)(local_1b8 + 3U >> 2) * __LC43 * __LC53;
    if (__LC45 <= dVar7) {
      uVar4 = (long)(dVar7 - __LC45) ^ 0x8000000000000000;
    }
    else {
      uVar4 = (ulong)dVar7;
    }
    uVar4 = uVar4 + ((ulong)(local_1b8 * 0xe0) >> 4);
    FastAllocator::init_estimate((FastAllocator *)(*(long *)(this + 0x10) + 0x78),uVar4);
    uStack_298 = *(ulong *)(this + 0x38);
    uStack_28c = *(undefined4 *)(this + 0x28);
    lStack_248 = *(long *)(this + 0x10);
    lStack_2a8 = 0x3f;
    if (*(ulong *)(this + 0x20) != 0) {
      for (; *(ulong *)(this + 0x20) >> lStack_2a8 == 0; lStack_2a8 = lStack_2a8 + -1) {
      }
    }
    uVar5 = *(ulong *)(this + 0x30);
    if (uStack_298 <= *(ulong *)(this + 0x30)) {
      uVar5 = uStack_298;
    }
    if ((local_1c0 - local_1c8 == 0) || (uVar4 == 0)) {
      uStack_280 = 0x400;
    }
    else {
      bVar1 = *(byte *)(lStack_248 + 0x182);
      uVar2 = embree::TaskScheduler::threadCount();
      lVar6 = (2 - (ulong)bVar1) * *(long *)(lStack_248 + 0x88);
      uVar3 = lVar6 * 0x14;
      if (((uVar4 - 1) + uVar3) / uVar3 < uVar2) {
        uVar3 = lVar6 * 0x50;
        if ((long)uVar3 < 0) {
          dVar7 = (double)(uVar3 >> 1) + (double)(uVar3 >> 1);
        }
        else {
          dVar7 = (double)(long)uVar3;
        }
        dVar7 = dVar7 / ((double)uVar4 / (double)(ulong)(local_1c0 - local_1c8));
        if ((double)((ulong)dVar7 & _LC49) < _LC46) {
          dVar7 = (double)((ulong)((double)(long)dVar7 +
                                  (double)(-(ulong)((double)(long)dVar7 < dVar7) & _LC48)) |
                          ~_LC49 & (ulong)dVar7);
        }
        if (__LC45 <= dVar7) {
          uStack_280 = (long)(dVar7 - __LC45) ^ 0x8000000000000000;
        }
        else {
          uStack_280 = (ulong)dVar7;
        }
        lStack_248 = *(long *)(this + 0x10);
      }
      else {
        lStack_248 = *(long *)(this + 0x10);
        uStack_280 = 0x400;
      }
    }
    lStack_268 = *(long *)(this + 0x18);
    lStack_258 = lStack_248 + 0x78;
    uStack_238 = *(undefined8 *)(*(long *)(lStack_248 + 0x68) + 0x260);
    lStack_270 = *(long *)(lStack_268 + 0x188);
    if (lStack_270 != 0) {
      lStack_270 = lStack_270 + 0x548;
    }
    ppuStack_240 = &PTR_operator___0012d7c0;
    uStack_118 = uStack_1a8;
    uStack_110 = uStack_1a0;
    uStack_e8 = local_228;
    uStack_e0 = uStack_220;
    uStack_d8 = uStack_218;
    uStack_d0 = uStack_210;
    uStack_2b8 = 4;
    uStack_2b0 = 0x50;
    uStack_290 = 0x3f800000;
    uStack_288 = 1;
    auStack_f8[0] = 1;
    lStack_78 = local_1b8;
    uStack_68 = uStack_1a8;
    uStack_60 = uStack_1a0;
    uStack_70 = uStack_1b0;
    uStack_b8 = uStack_1f8;
    uStack_b4 = uStack_1f4;
    uStack_b0 = uStack_1f0;
    uStack_ac = uStack_1ec;
    uStack_a8 = uStack_1e8;
    uStack_a4 = uStack_1e4;
    uStack_a0 = uStack_1e0;
    uStack_9c = uStack_1dc;
    uStack_98 = uStack_1d8;
    uStack_94 = uStack_1d4;
    uStack_90 = uStack_1d0;
    uStack_8c = uStack_1cc;
    uStack_c8 = uStack_208;
    uStack_c0 = uStack_200;
    uStack_2a0 = uVar5;
    lStack_260 = lStack_268;
    ppuStack_58 = &local_348;
    BVHBuilderMSMBlur::
    BuilderT<embree::NodeRefPtr<4>,embree::sse2::RecalculatePrimRef<embree::TriangleMesh>,embree::FastAllocator::CachedAllocator,embree::BVHN<4>::CreateAlloc,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Create,embree::AABBNodeMB4D_t<embree::NodeRefPtr<4>,4>::Set,embree::sse2::CreateMSMBlurLeaf<4,embree::TriangleMesh,embree::TriangleMvMB<4>>,embree::Scene::BuildProgressMonitorInterface>
    ::recurse(auStack_318,&uStack_2b8,auStack_f8,1,lStack_268,uStack_280,0,0,0);
    embree::BVHN<4>::set(*(undefined8 *)(this + 0x10),auStack_318[0],auStack_308,local_1b8);
    uVar4 = local_330;
  }
  local_330 = uVar4;
  if (local_328 != (void *)0x0) {
    if (uVar4 * 0x50 < 0x1c00000) {
      embree::alignedFree(local_328);
    }
    else {
      embree::os_free(local_328,uVar4 * 0x50,local_340[0]);
    }
  }
  if (uVar4 != 0) {
    (**(code **)*local_348)(local_348,uVar4 * -0x50,1);
  }
  if (local_40 != *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Subroutine does not return */
    __stack_chk_fail();
  }
  return;
}



/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMvMB<4> >::build() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>>::build
          (BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>> *this)

{
  ulong uVar1;
  string *psVar2;
  long lVar3;
  long *plVar4;
  long *plVar5;
  uint uVar6;
  ulong uVar7;
  long *plVar9;
  ulong uVar10;
  long lVar11;
  long *plVar12;
  long in_FS_OFFSET;
  double dVar13;
  long *local_a8 [2];
  long local_98 [2];
  long *local_88;
  long local_80;
  long local_78 [2];
  long *local_68;
  long local_60;
  long local_58 [5];
  ulong uVar8;
  
  uVar10 = 0;
  lVar11 = *(long *)(this + 0x18);
  local_58[3] = *(long *)(in_FS_OFFSET + 0x28);
  uVar1 = *(ulong *)(this + 0x40);
  if ((uVar1 & 0x100000) != 0) {
    uVar10 = *(ulong *)(lVar11 + 0x290);
  }
  if ((uVar1 & 0x200000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2a0);
  }
  if ((uVar1 & 0xf) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2c0);
  }
  if ((uVar1 & 0x77770) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2b0);
  }
  if ((uVar1 & 0xe000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x340);
  }
  if ((uVar1 & 0x800000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2d0);
  }
  if ((uVar1 & 0x20000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2e0);
  }
  if ((uVar1 & 0x40000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x2f0);
  }
  if ((uVar1 & 0x80000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x300);
  }
  if ((uVar1 & 0x1000000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 0x310);
  }
  if ((uVar1 & 0x400000) != 0) {
    uVar10 = uVar10 + *(long *)(lVar11 + 800);
  }
  psVar2 = *(string **)(this + 0x10);
  if (uVar10 == 0) {
    if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
                    /* WARNING: Could not recover jumptable at 0x0012b481. Too many branches */
                    /* WARNING: Treating indirect jump as call */
      (**(code **)(*(long *)psVar2 + 0x28))(psVar2);
      return;
    }
  }
  else {
    local_a8[0] = local_98;
    std::__cxx11::string::_M_construct((ulong)local_a8,'\x01');
    *(undefined1 *)local_a8[0] = 0x34;
    plVar4 = (long *)std::__cxx11::string::_M_replace((ulong)local_a8,0,(char *)0x0,0x11e0f7);
    plVar5 = plVar4 + 2;
    if ((long *)*plVar4 == plVar5) {
      uVar1 = plVar4[1] + 1;
      plVar9 = plVar5;
      plVar12 = local_78;
      if (7 < (uint)uVar1) {
        uVar7 = 0;
        do {
          uVar6 = (int)uVar7 + 8;
          uVar8 = (ulong)uVar6;
          *(undefined8 *)((long)local_78 + uVar7) = *(undefined8 *)((long)plVar5 + uVar7);
          uVar7 = uVar8;
        } while (uVar6 < ((uint)uVar1 & 0xfffffff8));
        plVar12 = (long *)((long)local_78 + uVar8);
        plVar9 = (long *)(uVar8 + (long)plVar5);
      }
      lVar11 = 0;
      if ((uVar1 & 4) != 0) {
        *(int *)plVar12 = (int)*plVar9;
        lVar11 = 4;
      }
      if ((uVar1 & 2) != 0) {
        *(undefined2 *)((long)plVar12 + lVar11) = *(undefined2 *)((long)plVar9 + lVar11);
        lVar11 = lVar11 + 2;
      }
      local_88 = local_78;
      if ((uVar1 & 1) != 0) {
        *(undefined1 *)((long)plVar12 + lVar11) = *(undefined1 *)((long)plVar9 + lVar11);
      }
    }
    else {
      local_78[0] = plVar4[2];
      local_88 = (long *)*plVar4;
    }
    local_80 = plVar4[1];
    *plVar4 = (long)plVar5;
    plVar4[1] = 0;
    *(undefined1 *)(plVar4 + 2) = 0;
    if (0x3fffffffffffffffU - local_80 < 0xf) {
      std::__throw_length_error("basic_string::append");
    }
    else {
      plVar4 = (long *)std::__cxx11::string::_M_append((char *)&local_88,0x11e116);
      plVar5 = plVar4 + 2;
      if ((long *)*plVar4 == plVar5) {
        uVar1 = plVar4[1] + 1;
        plVar9 = plVar5;
        plVar12 = local_58;
        if (7 < (uint)uVar1) {
          uVar7 = 0;
          do {
            uVar6 = (int)uVar7 + 8;
            uVar8 = (ulong)uVar6;
            *(undefined8 *)((long)local_58 + uVar7) = *(undefined8 *)((long)plVar5 + uVar7);
            uVar7 = uVar8;
          } while (uVar6 < ((uint)uVar1 & 0xfffffff8));
          plVar12 = (long *)((long)local_58 + uVar8);
          plVar9 = (long *)(uVar8 + (long)plVar5);
        }
        lVar11 = 0;
        if ((uVar1 & 4) != 0) {
          *(int *)plVar12 = (int)*plVar9;
          lVar11 = 4;
        }
        if ((uVar1 & 2) != 0) {
          *(undefined2 *)((long)plVar12 + lVar11) = *(undefined2 *)((long)plVar9 + lVar11);
          lVar11 = lVar11 + 2;
        }
        local_68 = local_58;
        if ((uVar1 & 1) != 0) {
          *(undefined1 *)((long)plVar12 + lVar11) = *(undefined1 *)((long)plVar9 + lVar11);
        }
      }
      else {
        local_58[0] = plVar4[2];
        local_68 = (long *)*plVar4;
      }
      local_60 = plVar4[1];
      *plVar4 = (long)plVar5;
      plVar4[1] = 0;
      *(undefined1 *)(plVar4 + 2) = 0;
      dVar13 = (double)embree::BVHN<4>::preBuild(psVar2);
      if (local_68 != local_58) {
        operator_delete(local_68,local_58[0] + 1);
      }
      if (local_88 != local_78) {
        operator_delete(local_88,local_78[0] + 1);
      }
      if (local_a8[0] != local_98) {
        operator_delete(local_a8[0],local_98[0] + 1);
      }
      buildMultiSegment(this,uVar10);
      lVar11 = *(long *)(this + 0x10);
      plVar5 = (long *)(lVar11 + 0x130);
      plVar4 = (long *)(lVar11 + 0x170);
      do {
        while (*plVar5 != 0) {
          lVar3 = *(long *)(*plVar5 + 0x18);
          *(long *)(*plVar5 + 0x18) = *plVar4;
          LOCK();
          *plVar4 = *plVar5;
          UNLOCK();
          LOCK();
          *plVar5 = lVar3;
          UNLOCK();
        }
        LOCK();
        *plVar5 = 0;
        UNLOCK();
        plVar5 = plVar5 + 1;
      } while (plVar5 != plVar4);
      plVar5 = *(long **)(lVar11 + 0x1a8);
      plVar4 = *(long **)(lVar11 + 0x1b0);
      if (plVar5 != plVar4) {
        do {
          while( true ) {
            lVar3 = *plVar5;
            if (lVar11 + 0x78 != *(long *)(lVar3 + 8)) break;
            embree::MutexSys::lock();
            if (lVar11 + 0x78 == *(long *)(lVar3 + 8)) {
              LOCK();
              plVar12 = (long *)(*(long *)(lVar3 + 8) + 0x118);
              *plVar12 = *plVar12 + *(long *)(lVar3 + 0xa8) + *(long *)(lVar3 + 0x68);
              UNLOCK();
              LOCK();
              plVar12 = (long *)(*(long *)(lVar3 + 8) + 0x120);
              *plVar12 = *plVar12 +
                         (((*(long *)(lVar3 + 0x98) + *(long *)(lVar3 + 0x58)) -
                          *(long *)(lVar3 + 0x50)) - *(long *)(lVar3 + 0x90));
              UNLOCK();
              LOCK();
              plVar12 = (long *)(*(long *)(lVar3 + 8) + 0x128);
              *plVar12 = *plVar12 + *(long *)(lVar3 + 0xb0) + *(long *)(lVar3 + 0x70);
              UNLOCK();
              *(undefined8 *)(lVar3 + 0x48) = 0;
              *(undefined8 *)(lVar3 + 0x58) = 0;
              *(undefined8 *)(lVar3 + 0x50) = 0;
              *(undefined8 *)(lVar3 + 0x68) = 0;
              *(undefined8 *)(lVar3 + 0x70) = 0;
              *(undefined8 *)(lVar3 + 0x60) = 0;
              *(undefined8 *)(lVar3 + 0x88) = 0;
              *(undefined8 *)(lVar3 + 0x98) = 0;
              *(undefined8 *)(lVar3 + 0x90) = 0;
              *(undefined8 *)(lVar3 + 0xa8) = 0;
              *(undefined8 *)(lVar3 + 0xb0) = 0;
              *(undefined8 *)(lVar3 + 0xa0) = 0;
              LOCK();
              *(undefined8 *)(lVar3 + 8) = 0;
              UNLOCK();
            }
            plVar5 = plVar5 + 1;
            embree::MutexSys::unlock();
            if (plVar4 == plVar5) goto LAB_0012b75e;
          }
          plVar5 = plVar5 + 1;
        } while (plVar4 != plVar5);
LAB_0012b75e:
        if (*(long *)(lVar11 + 0x1a8) != *(long *)(lVar11 + 0x1b0)) {
          *(long *)(lVar11 + 0x1b0) = *(long *)(lVar11 + 0x1a8);
        }
      }
      if (local_58[3] == *(long *)(in_FS_OFFSET + 0x28)) {
        embree::BVHN<4>::postBuild(dVar13);
        return;
      }
    }
  }
                    /* WARNING: Subroutine does not return */
  __stack_chk_fail();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMi<4>
   >::~BVHNBuilderMBlurSAH() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>>::
~BVHNBuilderMBlurSAH(BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMi<4>> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}



/* WARNING: Control flow encountered bad instruction data */
/* embree::sse2::BVHNBuilderMBlurSAH<4, embree::TriangleMesh, embree::TriangleMvMB<4>
   >::~BVHNBuilderMBlurSAH() */

void __thiscall
embree::sse2::BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>>::
~BVHNBuilderMBlurSAH(BVHNBuilderMBlurSAH<4,embree::TriangleMesh,embree::TriangleMvMB<4>> *this)

{
                    /* WARNING: Bad instruction - Truncating control flow here */
  halt_baddata();
}


